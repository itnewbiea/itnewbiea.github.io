<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>图文讲解：QT样式表StyleSheet的使用与加载 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="图文讲解：QT样式表StyleSheet的使用与加载" />
<meta property="og:description" content="目录
0、相关链接
1、在设计师界面上直接添加
1.1 注意事项
2、用程序添加样式
2.1 用程序语句添加
2.2 用qss文件添加
2.2.1引用qss文件的外部路径
2.2.2引用qss文件的资源路径
3、样式表选择器
0、相关链接 官网的样式表链接：http://doc.qt.io/archives/qt-4.8/stylesheet.html
各种控件的样式：http://doc.qt.io/archives/qt-4.8/stylesheet-reference.html
QSS语法：http://www.w3school.com.cn/css/css_syntax.asp
使用样式表的3种方法：《Qt 之 样式表的使用——设置样式的方法 》https://blog.csdn.net/goforwardtostep/article/details/60884870
其实本质上就两种：1、在设计师界面上直接添加，2、用程序设置
1、在设计师界面上直接添加 举例，在设计师界面拖入一个QPushButton，右击这个按钮，选择改变样式表，就会弹出添加样式的窗口；
或者，左键选中这个按钮，在右侧的属性对话框中找到StyleSheet属性，点击...按钮也可打开样式表窗口，如下图所示
在打开的编辑样式表窗口直接输入“样式语句”，点击应用apply即可实时看到样式的效果，如下图所示：
编辑样式表这个窗口可以实时提示，我们输入的qss语句语法是否正确，如果正确会在左下角提示：有效样式表，当然，这个语法检查功能非常有限，只能检查语法的格式，例如是否缺少了大括号、是否漏了冒号、分号。
1.1 注意事项 1、这里有一点比较另类，设定背景颜色background-color时，必须要同时把设置一下边框属性：如边框圆角border-radius、边框粗细等，否则背景色无法生效。
2、如上图所示，样式表可以用大括号限定作用的控件类型，比如QPushButton{ }，如果不用大括号限定控件类型，那么该控件的所有子控件都会显示为父控件的样式，最典型的例子，使用容器类控件时，
例如QGroupBox，我们不用QGroupBox{ }限定qss语句的作用范围，而是直接设置其样式，那么该容器中的任何子控件（按钮、单选框、label等）都会显示为QGroupBox的样式，如下图所示：
由此我们还可以联想到，主窗口是所有控件的父控件，
（1）如果我们设置了主窗体的样式，而不指定作用范围，那么窗体内的所有控件都会按照主窗体的设置的样式来显示；
（2）如果我们在主窗体中设置样式时指定作用范围为QPushButton，那么该窗体内的所有QPushButton就都会显示为所设置的样式。
（3）如果父控件和子控件都设置了样式，那么子控件就按照自己的样式来显示，这是覆盖机制，因为父控件总是在子控件之前构造，子控件在构造时，会把原先的设置给覆盖掉。
2、用程序添加样式 2.1 用程序语句添加 这种方法更简单粗暴，每一个控件都有自己的setStyleSheet(QString &amp;)成员函数，直接把方法一里面的样式语句，作为形参传入该方法即可，例如：
QString pushButton_SS = &#34;QPushButton{border-radius: 10px; /*圆角半径*/color:green;/*字体颜色*/}&#34;; ui-&gt;pushButton_SerialSend-&gt;setStyleSheet(pushButton_SS); 2.2 用qss文件添加 跟2.1节的方法基本一样，唯一的不同就是，样式表的语句是从文件中读入的，而2.1节的样式语句是直接写在程序里的。
步骤如下：
1、新建一个txt文本文档，并修改后缀名为.qss，文件名任取，例如：myStyleSheet.qss，
2、在这个qss文件中写qss语句
3、在程序中用QFile类读取该文件，并把读出的内容传递给setStyleSheet()函数
下面是从别处抄来的例程：
MainWindow::MainWindow(QWidget *parent) : QMainWindow(parent), ui(new Ui::MainWindow) { ui-&gt;setupUi(this); this-&gt;loadStyleSheet(&#34;:/qss/myStyleSheet.qss&#34;); } void MainWindow::loadStyleSheet(const QString &amp;styleSheetFile) { QFile file(styleSheetFile); file." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/815ab53345e45160b706d9d70d029700/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-04-15T13:39:03+08:00" />
<meta property="article:modified_time" content="2018-04-15T13:39:03+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">图文讲解：QT样式表StyleSheet的使用与加载</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="0%E3%80%81%E7%9B%B8%E5%85%B3%E9%93%BE%E6%8E%A5-toc" style="margin-left:0px;"><a href="#0%E3%80%81%E7%9B%B8%E5%85%B3%E9%93%BE%E6%8E%A5" rel="nofollow">0、相关链接</a></p> 
<p id="1%E3%80%81%E5%9C%A8%E8%AE%BE%E8%AE%A1%E5%B8%88%E7%95%8C%E9%9D%A2%E4%B8%8A%E7%9B%B4%E6%8E%A5%E6%B7%BB%E5%8A%A0-toc" style="margin-left:0px;"><a href="#1%E3%80%81%E5%9C%A8%E8%AE%BE%E8%AE%A1%E5%B8%88%E7%95%8C%E9%9D%A2%E4%B8%8A%E7%9B%B4%E6%8E%A5%E6%B7%BB%E5%8A%A0" rel="nofollow">1、在设计师界面上直接添加</a></p> 
<p id="1.1%20%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9-toc" style="margin-left:40px;"><a href="#1.1%20%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9" rel="nofollow">1.1 注意事项</a></p> 
<p id="2%E3%80%81%E7%94%A8%E7%A8%8B%E5%BA%8F%E6%B7%BB%E5%8A%A0%E6%A0%B7%E5%BC%8F-toc" style="margin-left:0px;"><a href="#2%E3%80%81%E7%94%A8%E7%A8%8B%E5%BA%8F%E6%B7%BB%E5%8A%A0%E6%A0%B7%E5%BC%8F" rel="nofollow">2、用程序添加样式</a></p> 
<p id="2.1%20%E7%94%A8%E7%A8%8B%E5%BA%8F%E8%AF%AD%E5%8F%A5%E6%B7%BB%E5%8A%A0-toc" style="margin-left:40px;"><a href="#2.1%20%E7%94%A8%E7%A8%8B%E5%BA%8F%E8%AF%AD%E5%8F%A5%E6%B7%BB%E5%8A%A0" rel="nofollow">2.1 用程序语句添加</a></p> 
<p id="2.2%C2%A0%E7%94%A8qss%E6%96%87%E4%BB%B6%E6%B7%BB%E5%8A%A0-toc" style="margin-left:40px;"><a href="#2.2%C2%A0%E7%94%A8qss%E6%96%87%E4%BB%B6%E6%B7%BB%E5%8A%A0" rel="nofollow">2.2 用qss文件添加</a></p> 
<p id="2.2.1%E5%BC%95%E7%94%A8qss%E6%96%87%E4%BB%B6%E7%9A%84%E5%A4%96%E9%83%A8%E8%B7%AF%E5%BE%84-toc" style="margin-left:80px;"><a href="#2.2.1%E5%BC%95%E7%94%A8qss%E6%96%87%E4%BB%B6%E7%9A%84%E5%A4%96%E9%83%A8%E8%B7%AF%E5%BE%84" rel="nofollow">2.2.1引用qss文件的外部路径</a></p> 
<p id="2.2.2%E5%BC%95%E7%94%A8qss%E6%96%87%E4%BB%B6%E7%9A%84%E8%B5%84%E6%BA%90%E8%B7%AF%E5%BE%84-toc" style="margin-left:80px;"><a href="#2.2.2%E5%BC%95%E7%94%A8qss%E6%96%87%E4%BB%B6%E7%9A%84%E8%B5%84%E6%BA%90%E8%B7%AF%E5%BE%84" rel="nofollow">2.2.2引用qss文件的资源路径</a></p> 
<p id="3%E3%80%81%E6%A0%B7%E5%BC%8F%E8%A1%A8%E9%80%89%E6%8B%A9%E5%99%A8-toc" style="margin-left:0px;"><a href="#3%E3%80%81%E6%A0%B7%E5%BC%8F%E8%A1%A8%E9%80%89%E6%8B%A9%E5%99%A8" rel="nofollow">3、样式表选择器</a></p> 
<hr id="hr-toc"> 
<p> </p> 
<h2 id="0%E3%80%81%E7%9B%B8%E5%85%B3%E9%93%BE%E6%8E%A5">0、相关链接</h2> 
<p>官网的样式表链接：http://doc.qt.io/archives/qt-4.8/stylesheet.html</p> 
<p>各种控件的样式：http://doc.qt.io/archives/qt-4.8/stylesheet-reference.html</p> 
<p>QSS语法：http://www.w3school.com.cn/css/css_syntax.asp</p> 
<p>使用样式表的3种方法：《Qt 之 样式表的使用——设置样式的方法 》https://blog.csdn.net/goforwardtostep/article/details/60884870</p> 
<p>其实本质上就两种：1、在设计师界面上直接添加，2、用程序设置</p> 
<p> </p> 
<h2 id="1%E3%80%81%E5%9C%A8%E8%AE%BE%E8%AE%A1%E5%B8%88%E7%95%8C%E9%9D%A2%E4%B8%8A%E7%9B%B4%E6%8E%A5%E6%B7%BB%E5%8A%A0">1、在设计师界面上直接添加</h2> 
<p>举例，在设计师界面拖入一个QPushButton，右击这个按钮，选择改变样式表，就会弹出添加样式的窗口；</p> 
<p>或者，左键选中这个按钮，在右侧的属性对话框中找到StyleSheet属性，点击...按钮也可打开样式表窗口，如下图所示</p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/de/98/TNpoKca2_o.jpg"></p> 
<p>在打开的编辑样式表窗口直接输入“样式语句”，点击应用apply即可实时看到样式的效果，如下图所示：</p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/12/a1/Y84kLzHH_o.jpg"></p> 
<p>编辑样式表这个窗口可以实时提示，我们输入的qss语句语法是否正确，如果正确会在左下角提示：有效样式表，当然，这个语法检查功能非常有限，只能检查语法的格式，例如是否缺少了大括号、是否漏了冒号、分号。</p> 
<h3 id="1.1%20%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9">1.1 注意事项</h3> 
<p>    1、这里有一点比较另类，设定背景颜色background-color时，必须要同时把设置一下边框属性：如边框圆角border-radius、边框粗细等，否则背景色无法生效。</p> 
<p>    2、如上图所示，样式表可以用大括号限定作用的控件类型，比如QPushButton{  }，如果不用大括号限定控件类型，那么该控件的所有子控件都会显示为父控件的样式，最典型的例子，使用容器类控件时，</p> 
<p>例如QGroupBox，我们不用QGroupBox{  }限定qss语句的作用范围，而是直接设置其样式，那么该容器中的任何子控件（按钮、单选框、label等）都会显示为QGroupBox的样式，如下图所示：</p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/a8/d5/jBWVhNu0_o.jpg"></p> 
<p>由此我们还可以联想到，主窗口是所有控件的父控件，</p> 
<p>（1）如果我们设置了主窗体的样式，而不指定作用范围，那么窗体内的所有控件都会按照主窗体的设置的样式来显示；</p> 
<p>（2）如果我们在主窗体中设置样式时指定作用范围为QPushButton，那么该窗体内的所有QPushButton就都会显示为所设置的样式。</p> 
<p>（3）如果父控件和子控件都设置了样式，那么子控件就按照自己的样式来显示，这是覆盖机制，因为父控件总是在子控件之前构造，子控件在构造时，会把原先的设置给覆盖掉。</p> 
<p> </p> 
<h2 id="2%E3%80%81%E7%94%A8%E7%A8%8B%E5%BA%8F%E6%B7%BB%E5%8A%A0%E6%A0%B7%E5%BC%8F">2、用程序添加样式</h2> 
<h3 id="2.1%20%E7%94%A8%E7%A8%8B%E5%BA%8F%E8%AF%AD%E5%8F%A5%E6%B7%BB%E5%8A%A0">2.1 用程序语句添加</h3> 
<p>    这种方法更简单粗暴，每一个控件都有自己的setStyleSheet(QString &amp;)成员函数，直接把方法一里面的样式语句，作为形参传入该方法即可，例如：</p> 
<p> </p> 
<pre class="has"><code class="language-cpp">QString pushButton_SS = "QPushButton{border-radius: 10px; /*圆角半径*/color:green;/*字体颜色*/}";
ui-&gt;pushButton_SerialSend-&gt;setStyleSheet(pushButton_SS);</code></pre> 
<p> </p> 
<h3 id="2.2%C2%A0%E7%94%A8qss%E6%96%87%E4%BB%B6%E6%B7%BB%E5%8A%A0">2.2 用qss文件添加</h3> 
<p>跟2.1节的方法基本一样，唯一的不同就是，样式表的语句是从文件中读入的，而2.1节的样式语句是直接写在程序里的。</p> 
<p>步骤如下：</p> 
<p>1、新建一个txt文本文档，并修改后缀名为.qss，文件名任取，例如：myStyleSheet.qss，</p> 
<p>2、在这个qss文件中写qss语句</p> 
<p>3、在程序中用QFile类读取该文件，并把读出的内容传递给setStyleSheet()函数</p> 
<p>下面是从别处抄来的例程：</p> 
<p> </p> 
<pre class="has"><code class="language-cpp">MainWindow::MainWindow(QWidget *parent) :
    QMainWindow(parent),
    ui(new Ui::MainWindow)
{
    ui-&gt;setupUi(this);
    this-&gt;loadStyleSheet(":/qss/myStyleSheet.qss");
}
void MainWindow::loadStyleSheet(const QString &amp;styleSheetFile)
{
    QFile file(styleSheetFile);
    file.open(QFile::ReadOnly);
    if (file.isOpen())
    {
        QString styleSheet = this-&gt;styleSheet();
        styleSheet += QLatin1String(file.readAll());//读取样式表文件
        this-&gt;setStyleSheet(styleSheet);//把文件内容传参
        file.close();
    }
    else
    {
        QMessageBox::information(this,"tip","cannot find qss file");
    }
}</code></pre> 
<p>给MainWindow添加成员函数loadStyleSheet()，直接在构造函数中调用它即可</p> 
<p> </p> 
<p>myStyleSheet.qss文件的内容如下：</p> 
<p> </p> 
<pre class="has"><code class="language-css">QPushButton
{/*按钮无任何操作时*/
     background-color: green;/*背景色*/
}
QPushButton:hover
{ /*鼠标悬停在按钮上时*/
    background-color:red;
}

QPushButton:pressed
{ /*按钮被按下时*/
     background-color:green;
}</code></pre> 
<p> </p> 
<h4 id="2.2.1%E5%BC%95%E7%94%A8qss%E6%96%87%E4%BB%B6%E7%9A%84%E5%A4%96%E9%83%A8%E8%B7%AF%E5%BE%84">2.2.1引用qss文件的外部路径</h4> 
<p> </p> 
<p>    加载qss文件时，需要指定文件路径（一般是相对路径），如果把qss文件放在磁盘上，文件暴露在用户眼皮底下，可能会被用户随意修改，解决方法就是把qss文件作为资源，一起打包进exe文件中</p> 
<h4 id="2.2.2%E5%BC%95%E7%94%A8qss%E6%96%87%E4%BB%B6%E7%9A%84%E8%B5%84%E6%BA%90%E8%B7%AF%E5%BE%84">2.2.2引用qss文件的资源路径</h4> 
<p>步骤如下：</p> 
<p>1、在qt左侧目录树的顶层文件夹上右击-&gt;添加新文件-&gt;选择QT-&gt;QT resource file-&gt;choose，输入自定义资源文件的名字res-&gt;选择资源文件的存放路径-&gt;下一步-&gt;ok，这样就可以在目录树中看到一个文件 res.qrc。（如果已经创建过资源文件，则跳过该步）</p> 
<p>2、右击res.qrc文件-&gt;open in editor，如果打不开则选-&gt;open with-&gt;资源编辑器，在打开的资源编辑器中，点击添加-&gt;前缀-&gt;修改前缀为/qss，  再点击添加-&gt;添加现有文件-&gt;添加上选中我们上面做好的qss文件。完成后效果如下图所示。</p> 
<p>3、写程序时需要读取该文件时，右击这个qss文件，选择复制url，即可复制本文件的资源路径，非常方便。</p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/c2/d6/ZqTeEDqa_o.jpg"></p> 
<p> </p> 
<p> </p> 
<p>附：如何设置qss语法高亮？百度上有很多相关答案，自行搜索即可。</p> 
<p> </p> 
<h2 id="3%E3%80%81%E6%A0%B7%E5%BC%8F%E8%A1%A8%E9%80%89%E6%8B%A9%E5%99%A8">3、样式表选择器</h2> 
<p> </p> 
<p>样式表选择器，是为了给某一类控件统一设置样式，内容比较多，可参考这篇：写的不错</p> 
<p><a href="https://www.cnblogs.com/findumars/p/9231733.html" rel="nofollow">https://www.cnblogs.com/findumars/p/9231733.html</a></p> 
<p> </p> 
<p> </p> 
<p> </p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/224c321998576369e2617453d0c2071d/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">python绘制科赫雪花</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/20a3d1b60e22477b332874cac5690154/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">MySQL主从复制，启动slave时报错Slave failed to initialize relay log info structure from the repository</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>