<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Loadrunner常见的检查点函数 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Loadrunner常见的检查点函数" />
<meta property="og:description" content="LoadRunner中执行Web性能测试，很重要的一点，是需要对Web网站的响应进行一些检查，以决定请求是否成功，这点很重要，如果设置不好，就会出现请求大面积失败，性能却非常高的情况。
一般，在Loadrunner中检查点有两种：图片和文字。 函数说明 常用的文本检查点函数 1)web_find()函数用于从 HTML 页中搜索指定的文本字符串;
web_find(&#34;web_find&#34;,&#34;RighOf=a&#34;,&#34;LeftOf=b&#34;,&#34;What=name&#34;,LAST); 参数解释： &#34;web_find&#34;定义该查找函数的名称; “LeftOf”和“RighOf=”用来定义查找字符的左右边界; “What=”定义查找内容; 例如上述参数举例中的意思就是在页面中查找左边界为b，右边界为a，内容为name的信息; 使用该函数注意事项：该函数是在查找页面中的内容，所以要放在要查找的内容的后面;该函数只能在基于HTML模式录制的脚本中进行查找 注意事项：使用该函数时，要在Vuser-&gt;Run-Tme Settings中更改下设置勾选“Enable Image and text check”。系统默认是不勾选该选项的。 2)web_reg_find()函数注册一个请求，以在下一个操作函数(如 web_url)检索到的HTML网页上搜索指定的文本字符串;
web_reg_find(&#34;Search=Body&#34;,&#34;SaveCount=ddd&#34;,&#34;Text=aaa&#34;,LAST); 参数解释： Search用来定义查找范围， SaveCount定义查找计数变量名称，该参数可以记录在缓存中查找内容出现的次数，可以使用该值，来判断要查找的内容是否被找到; Text用来定义需要查找的字符串 例如上述参数举例中的意思就是Body中查找内容为aaa的信息，并将出现次数记录在变量ddd中; 1. web_reg_find(&#34;Text=Payment Detdils&#34;, &#34;Fail=NotFound&#34;,LAST);或 2. web_reg_find(&#34;Text=Payment Detdils&#34;, &#34;Fail=Found&#34;,LAST); 解释： “Payment Details” 为你要检查的文本; 若是1：脚本执行到此处，若没有找到check的字符串，脚本将FAIL，并且停止执行下去。反之，则一直执行下去。 若是2：脚本执行到此处，若找到check的字符串，脚本将FAIL， 并且停止执行下去。反之，则一直执行下去。 使用该函数注意事项：该函数是在缓存中查找相应的内容，所以要放在查找内容之前;通常情况下写在如下六个函数之前：Web_castom_request(); web_image(); web_link(); web_submit_data(); web_submit_form(); web_url(); 使用技巧：在该函数的参数中有个“SaveCount”，该参数可以记录在缓存中查找内容出现的次数，我们可以使用该值，来判断要查找的内容是否被找到。 3)web_global_verfication()属于注册函数，注册一个在web页面中搜索文本字符串的请求，与web_reg_find只在下一个Action函数中执行搜索不同的是它在之后所有的Action类函数中执行搜索指定的文本字符串; 常用的图片检查点函数 1)web_image_check()函数用于从HTML页面中查找指定的图片;
web_image_check(&#34;web_image_check&#34;,&#34;Alt=&#34;,&#34;Src=&#34;,LAST); 参数解释：“Alt”和“Src”的值直接取该图片在网页源代码中相应参数的值 注意事项：使用该函数时，要在Vuser-&gt;Run-Tme Settings中勾选Enable Image and text check，具体操作请看web_find()中的注意事项。 经过测试，该函数用到查找内容前面或后面，都不影响查找结果。 重放Log常见信息 web_find()和web_image_check()函数的日志信息(这两个日志信息实际上是一样的，只是输出的函数名和参数不同)
1. 出现该信息，说明没有勾选Enable Image and text check" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/1d0addf82d522a6c4dc8847e780b58d9/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2016-05-17T13:29:12+08:00" />
<meta property="article:modified_time" content="2016-05-17T13:29:12+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Loadrunner常见的检查点函数</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>LoadRunner中执行Web性能测试，很重要的一点，是需要对Web网站的响应进行一些检查，以决定请求是否成功，这点很重要，如果设置不好，就会出现请求大面积失败，性能却非常高的情况。</p> 
<p>一般，在Loadrunner中检查点有两种：图片和文字。  </p> 
<p></p> 
<h2><span class="mw-headline" id=".E5.87.BD.E6.95.B0.E8.AF.B4.E6.98.8E">函数说明</span></h2> 
<h3><span class="mw-headline" id=".E5.B8.B8.E7.94.A8.E7.9A.84.E6.96.87.E6.9C.AC.E6.A3.80.E6.9F.A5.E7.82.B9.E5.87.BD.E6.95.B0">常用的文本检查点函数</span></h3> 
<p></p> 
<p>1)web_find()函数用于从 HTML 页中搜索指定的文本字符串;</p> 
<pre>web_find("web_find","RighOf=a","LeftOf=b","What=name",LAST);
参数解释：
  "web_find"定义该查找函数的名称;
  “LeftOf”和“RighOf=”用来定义查找字符的左右边界;
  “What=”定义查找内容;
  例如上述参数举例中的意思就是在页面中查找左边界为b，右边界为a，内容为name的信息;
</pre> 
<p><br> </p> 
<pre>使用该函数注意事项：该函数是在查找页面中的内容，所以要放在要查找的内容的后面;该函数只能在基于HTML模式录制的脚本中进行查找
注意事项：使用该函数时，要在Vuser-&gt;Run-Tme Settings中更改下设置勾选“Enable Image and text check”。系统默认是不勾选该选项的。 
</pre> 
<p>2)web_reg_find()函数注册一个请求，以在下一个操作函数(如 web_url)检索到的HTML网页上搜索指定的文本字符串;</p> 
<pre>web_reg_find("Search=Body","SaveCount=ddd","Text=aaa",LAST);
参数解释：
Search用来定义查找范围，
SaveCount定义查找计数变量名称，该参数可以记录在缓存中查找内容出现的次数，可以使用该值，来判断要查找的内容是否被找到;
Text用来定义需要查找的字符串
例如上述参数举例中的意思就是Body中查找内容为aaa的信息，并将出现次数记录在变量ddd中;
</pre> 
<p><br> </p> 
<pre>1. web_reg_find("Text=Payment Detdils", "Fail=NotFound",LAST);或
2. web_reg_find("Text=Payment Detdils", "Fail=Found",LAST);
解释：
“Payment Details” 为你要检查的文本;
若是1：脚本执行到此处，若没有找到check的字符串，脚本将FAIL，并且停止执行下去。反之，则一直执行下去。
若是2：脚本执行到此处，若找到check的字符串，脚本将FAIL， 并且停止执行下去。反之，则一直执行下去。
</pre> 
<p><br> </p> 
<pre>使用该函数注意事项：该函数是在缓存中查找相应的内容，所以要放在查找内容之前;通常情况下写在如下六个函数之前：Web_castom_request(); web_image(); web_link(); web_submit_data(); web_submit_form(); web_url();
使用技巧：在该函数的参数中有个“SaveCount”，该参数可以记录在缓存中查找内容出现的次数，我们可以使用该值，来判断要查找的内容是否被找到。

</pre> 
<p>3)web_global_verfication()属于注册函数，注册一个在web页面中搜索文本字符串的请求，与web_reg_find只在下一个Action函数中执行搜索不同的是它在之后所有的Action类函数中执行搜索指定的文本字符串; </p> 
<h3><span class="mw-headline" id=".E5.B8.B8.E7.94.A8.E7.9A.84.E5.9B.BE.E7.89.87.E6.A3.80.E6.9F.A5.E7.82.B9.E5.87.BD.E6.95.B0">常用的图片检查点函数</span></h3> 
<p>1)web_image_check()函数用于从HTML页面中查找指定的图片;</p> 
<pre>web_image_check("web_image_check","Alt=","Src=",LAST);
参数解释：“Alt”和“Src”的值直接取该图片在网页源代码中相应参数的值
</pre> 
<p><br> </p> 
<pre>注意事项：使用该函数时，要在Vuser-&gt;Run-Tme Settings中勾选Enable Image and text check，具体操作请看web_find()中的注意事项。
经过测试，该函数用到查找内容前面或后面，都不影响查找结果。 　　
</pre> 
<h2><span class="mw-headline" id=".E9.87.8D.E6.94.BELog.E5.B8.B8.E8.A7.81.E4.BF.A1.E6.81.AF">重放Log常见信息</span></h2> 
<p>web_find()和web_image_check()函数的日志信息(这两个日志信息实际上是一样的，只是输出的函数名和参数不同)</p> 
<p>1. 出现该信息，说明没有勾选Enable Image and text check</p> 
<pre>Action.c(22): Verification checks not enabled. web_image_check is skipped. See the 'Run-time settings/Preferences/Checks' [MsgId: MMSG-27197]
Action.c(22): web_image_check was successful [MsgId: MMSG-26392]
</pre> 
<p>2. 出现该信息，说明检查点设置成功，且已经查找到信息</p> 
<pre>Action.c(22): "web_image_check" succeeded (1 occurrence(s) found. Alt="", Src="/xjcost/jsp/images/index1/edit_01.gif") [MsgId: MMSG-27192]
Action.c(22): web_image_check was successful [MsgId: MMSG-26392]
</pre> 
<p>3. 出现该信息，说明要查找的内容没有找到</p> 
<pre>Action.c(22): Error -27191: "web_image_check" failed (0 occurrence(s) found. Alt="", Src="/xjcost/jsp/images/index1/edit_1.gif") [MsgId: MERR-27191]
Action.c(22): web_image_check highest severity level was "ERROR" [MsgId: MMSG-26391]
出现此情况尝试以下操作：
(1)检查参数的信息是否写错;
(2)如果是web_find(),检查函数的位置是否在要查找内容的后面;
(3)如果是web_image_check()，查看该图片的源代码，看其是否是这个页面上的图片，很可能是图片选择错误，即所选图片不属于该页面。
</pre> 
<p>web_reg_find()函数的日志信息</p> 
<p>1. 出现该信息，说明内容已查找到</p> 
<pre>Action.c(15): Registering web_reg_find was successful[MsgId: MMSG-26390]
</pre> 
<p>2. 该信息在replay log页面是红色显示的，说明没有找到内容</p> 
<pre>Action.c(27): Error -26366: "Text=ABC" not found for web_reg_find[MsgId: MERR-26366]
Action.c(27): web_submit_data("userLogin.struts") highest severity level was "ERROR", 18364 body bytes, 918 header bytes, 13 chunking overhead bytes[MsgId: MMSG-26387]
出现此情况尝试以下操作：
(1)参数的信息是否正确;
(2)查看该函数是否在查找内容的前面。
</pre> 
<br>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/3c28b7bef680c616b931efa3071830b9/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">图像处理中不适定问题（ill posed problem）或称为反问题（inverse Problem）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/2bec7f9995c9972832d7e358c6186cc1/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">C语言中fclose函数</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>