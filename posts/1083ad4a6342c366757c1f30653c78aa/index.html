<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>linux命令之hdparm - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="linux命令之hdparm" />
<meta property="og:description" content="目录
一、介绍
二、常用命令
1.用法
2.选项
3.用法举例
3.1显示硬盘相关信息
3.2测试硬盘读取速度
3.3测试硬盘缓存读取速度
3.4查看电源管理模式
总结
一、介绍 hdparm是linux下用来浏览和修改IDE驱动器参数的shell工具，hdparm也就是hard disk parameters，用于显示与设定硬盘的参数。该命令用来获取或设置SATA/IDE设备的参数。
二、常用命令 1.用法 hdparm - get/set hard disk parameters - version v9.48, by Mark Lord.
Usage: hdparm [options] [device ...]
2.选项 Options:
-a Get/set fs readahead
-A Get/set the drive look-ahead flag (0/1)
-b Get/set bus state (0 == off, 1 == on, 2 == tristate)
-B Set Advanced Power Management setting (1-255)
-c Get/set IDE 32-bit IO setting" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/1083ad4a6342c366757c1f30653c78aa/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-11-15T14:54:52+08:00" />
<meta property="article:modified_time" content="2022-11-15T14:54:52+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">linux命令之hdparm</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="%E4%B8%80%E3%80%81%E4%BB%8B%E7%BB%8D-toc" style="margin-left:0px;"><a href="#%E4%B8%80%E3%80%81%E4%BB%8B%E7%BB%8D" rel="nofollow">一、介绍</a></p> 
<p id="%E4%BA%8C%E3%80%81%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4-toc" style="margin-left:0px;"><a href="#%E4%BA%8C%E3%80%81%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4" rel="nofollow">二、常用命令</a></p> 
<p id="1.%E7%94%A8%E6%B3%95-toc" style="margin-left:40px;"><a href="#1.%E7%94%A8%E6%B3%95" rel="nofollow">1.用法</a></p> 
<p id="2.%E9%80%89%E9%A1%B9-toc" style="margin-left:40px;"><a href="#2.%E9%80%89%E9%A1%B9" rel="nofollow">2.选项</a></p> 
<p id="3.%E7%94%A8%E6%B3%95%E4%B8%BE%E4%BE%8B-toc" style="margin-left:40px;"><a href="#3.%E7%94%A8%E6%B3%95%E4%B8%BE%E4%BE%8B" rel="nofollow">3.用法举例</a></p> 
<p id="3.1%E6%98%BE%E7%A4%BA%E7%A1%AC%E7%9B%98%E7%9B%B8%E5%85%B3%E4%BF%A1%E6%81%AF-toc" style="margin-left:80px;"><a href="#3.1%E6%98%BE%E7%A4%BA%E7%A1%AC%E7%9B%98%E7%9B%B8%E5%85%B3%E4%BF%A1%E6%81%AF" rel="nofollow">3.1显示硬盘相关信息</a></p> 
<p id="3.2%E6%B5%8B%E8%AF%95%E7%A1%AC%E7%9B%98%E8%AF%BB%E5%8F%96%E9%80%9F%E5%BA%A6-toc" style="margin-left:80px;"><a href="#3.2%E6%B5%8B%E8%AF%95%E7%A1%AC%E7%9B%98%E8%AF%BB%E5%8F%96%E9%80%9F%E5%BA%A6" rel="nofollow">3.2测试硬盘读取速度</a></p> 
<p id="3.3%E6%B5%8B%E8%AF%95%E7%A1%AC%E7%9B%98%E7%BC%93%E5%AD%98%E8%AF%BB%E5%8F%96%E9%80%9F%E5%BA%A6-toc" style="margin-left:80px;"><a href="#3.3%E6%B5%8B%E8%AF%95%E7%A1%AC%E7%9B%98%E7%BC%93%E5%AD%98%E8%AF%BB%E5%8F%96%E9%80%9F%E5%BA%A6" rel="nofollow">3.3测试硬盘缓存读取速度</a></p> 
<p id="3.4%E6%9F%A5%E7%9C%8B%E7%94%B5%E6%BA%90%E7%AE%A1%E7%90%86%E6%A8%A1%E5%BC%8F-toc" style="margin-left:80px;"><a href="#3.4%E6%9F%A5%E7%9C%8B%E7%94%B5%E6%BA%90%E7%AE%A1%E7%90%86%E6%A8%A1%E5%BC%8F" rel="nofollow">3.4查看电源管理模式</a></p> 
<p id="%E6%80%BB%E7%BB%93-toc" style="margin-left:0px;"><a href="#%E6%80%BB%E7%BB%93" rel="nofollow">总结</a></p> 
<hr id="hr-toc"> 
<p></p> 
<h2 id="%E4%B8%80%E3%80%81%E4%BB%8B%E7%BB%8D"><strong>一、介绍</strong></h2> 
<p>        hdparm是linux下用来浏览和修改IDE驱动器参数的shell工具，hdparm也就是<span style="color:#fe2c24;"><strong><span style="background-color:#a5a5a5;">hard disk parameters</span></strong></span>，用于显示与设定硬盘的参数。该命令用来<strong><span style="color:#fe2c24;"><span style="background-color:#a5a5a5;">获取或设置</span></span></strong>SATA/IDE设备的参数。</p> 
<h2 id="%E4%BA%8C%E3%80%81%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><a id="_19"></a>二、常用命令</h2> 
<h3 id="1.%E7%94%A8%E6%B3%95"><a id="1_20"></a>1.用法</h3> 
<p>hdparm - get/set hard disk parameters - version v9.48, by Mark Lord.</p> 
<p><span style="color:#fe2c24;"><strong>Usage:  hdparm  [options] [device ...]</strong></span></p> 
<h3 id="2.%E9%80%89%E9%A1%B9">2.选项</h3> 
<p><strong>Options:</strong><br>  -a   Get/set fs readahead<br>  -A   Get/set the drive look-ahead flag (0/1)<br>  -b   Get/set bus state (0 == off, 1 == on, 2 == tristate)<br>  -B   Set Advanced Power Management setting (1-255)<br>  -c   Get/set IDE 32-bit IO setting<br>  <span style="color:#fe2c24;"><strong><span style="background-color:#cccccc;">-C   Check drive power mode status</span></strong></span><br>  -d   Get/set using_dma flag<br>  -D   Enable/disable drive defect management<br>  -E   Set cd/dvd drive speed<br>  -f   Flush buffer cache for device on exit<br>  -F   Flush drive write cache<br><span style="color:#fe2c24;"><strong><span style="background-color:#cccccc;"> -g   Display drive geometry</span></strong></span><br>  -h   Display terse usage information<br>  -H   Read temperature from drive (Hitachi only)<br>  -i   Display drive identification<br>  -I   Detailed/current information directly from drive<br>  -J   Get/set Western DIgital "Idle3" timeout for a WDC "Green" drive (DANGEROUS)<br>  -k   Get/set keep_settings_over_reset flag (0/1)<br>  -K   Set drive keep_features_over_reset flag (0/1)<br>  -L   Set drive doorlock (0/1) (removable harddisks only)<br>  -m   Get/set multiple sector count<br>  -M   Get/set acoustic management (0-254, 128: quiet, 254: fast)<br>  -n   Get/set ignore-write-errors flag (0/1)<br>  -N   Get/set max visible number of sectors (HPA) (VERY DANGEROUS)<br>  -p   Set PIO mode on IDE interface chipset (0,1,2,3,4,...)<br>  -P   Set drive prefetch count<br>  -q   Change next setting quietly<br>  -Q   Get/set DMA queue_depth (if supported)<br>  -r   Get/set device readonly flag (DANGEROUS to set)<br>  -R   Get/set device write-read-verify flag<br>  -s   Set power-up in standby flag (0/1) (DANGEROUS)<br>  -S   Set standby (spindown) timeout<br><span style="color:#fe2c24;"><strong><span style="background-color:#cccccc;"> -t   Perform device read timings</span></strong></span><br><strong><span style="color:#fe2c24;"><span style="background-color:#cccccc;"> -T   Perform cache read timings</span></span></strong><br>  -u   Get/set unmaskirq flag (0/1)<br>  -U   Obsolete<br>  -v   Use defaults; same as -acdgkmur for IDE drives<br>  -V   Display program version and exit immediately<br>  -w   Perform device reset (DANGEROUS)<br>  -W   Get/set drive write-caching flag (0/1)<br>  -x   Obsolete<br>  -X   Set IDE xfer mode (DANGEROUS)<br>  -y   Put drive in standby mode<br>  -Y   Put drive to sleep<br>  -z   Re-read partition table<br>  -Z   Disable Seagate auto-powersaving mode<br>  --dco-freeze      Freeze/lock current device configuration until next power cycle<br>  --dco-identify    Read/dump device configuration identify data<br>  --dco-restore     Reset device configuration back to factory defaults<br>  --dco-setmax      Use DCO to set maximum addressable sectors<br>  --direct          Use O_DIRECT to bypass page cache for timings<br>  --drq-hsm-error   Crash system with a "stuck DRQ" error (VERY DANGEROUS)<br>  --fallocate       Create a file without writing data to disk<br>  --fibmap          Show device extents (and fragmentation) for a file<br>  --fwdownload            Download firmware file to drive (EXTREMELY DANGEROUS)<br>  --fwdownload-mode3      Download firmware using min-size segments (EXTREMELY DANGEROUS)<br>  --fwdownload-mode3-max  Download firmware using max-size segments (EXTREMELY DANGEROUS)<br>  --fwdownload-mode7      Download firmware using a single segment (EXTREMELY DANGEROUS)<br>  --fwdownload-modee      Download firmware using mode E (min-size segments) (EXTREMELY DANGEROUS)<br>  --fwdownload-modee-max  Download firmware using mode E (max-size segments) (EXTREMELY DANGEROUS)<br>  --idle-immediate  Idle drive immediately<br>  --idle-unload     Idle immediately and unload heads<br>  --Istdin          Read identify data from stdin as ASCII hex<br>  --Istdout         Write identify data to stdout as ASCII hex<br>  --make-bad-sector Deliberately corrupt a sector directly on the media (VERY DANGEROUS)<br>  --offset          use with -t, to begin timings at given offset (in GiB) from start of drive<br>  --prefer-ata12    Use 12-byte (instead of 16-byte) SAT commands when possible<br>  --read-sector     Read and dump (in hex) a sector directly from the media<br>  --repair-sector   Alias for the --write-sector option (VERY DANGEROUS)<br>  --security-help   Display help for ATA security commands<br>  --trim-sector-ranges        Tell SSD firmware to discard unneeded data sectors: lba:count ..<br>  --trim-sector-ranges-stdin  Same as above, but reads lba:count pairs from stdin<br>  --verbose         Display extra diagnostics from some commands<br>  --write-sector    Repair/overwrite a (possibly bad) sector directly on the media (VERY DANGEROUS)</p> 
<h3 id="3.%E7%94%A8%E6%B3%95%E4%B8%BE%E4%BE%8B">3.用法举例</h3> 
<h4 id="3.1%E6%98%BE%E7%A4%BA%E7%A1%AC%E7%9B%98%E7%9B%B8%E5%85%B3%E4%BF%A1%E6%81%AF">3.1显示硬盘相关信息</h4> 
<pre><code class="language-bash language-c">root@ubuntu:~# hdparm /dev/sda

/dev/sda:
SG_IO: bad/missing sense data, sb[]:  70 00 05 00 00 00 00 0a 00 00 00 00 20 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
 multcount     =  0 (off)
 readonly      =  0 (off)
 readahead     = 256 (on)
 geometry      = 2610/255/63, sectors = 41943040, start = 0//2610为柱面数，255为磁头数，63为扇区数

</code></pre> 
<h4 id="3.2%E6%B5%8B%E8%AF%95%E7%A1%AC%E7%9B%98%E8%AF%BB%E5%8F%96%E9%80%9F%E5%BA%A6">3.2测试硬盘读取速度</h4> 
<pre><code class="language-bash">root@ubuntu:~# hdparm -t /dev/sda

/dev/sda:
 Timing buffered disk reads: 418 MB in  3.00 seconds = 139.29 MB/sec
</code></pre> 
<h4 id="3.3%E6%B5%8B%E8%AF%95%E7%A1%AC%E7%9B%98%E7%BC%93%E5%AD%98%E8%AF%BB%E5%8F%96%E9%80%9F%E5%BA%A6">3.3测试硬盘缓存读取速度</h4> 
<pre><code class="language-bash">root@ubuntu:~# hdparm -T /dev/sda

/dev/sda:
 Timing cached reads:   29266 MB in  2.00 seconds = 14653.18 MB/sec
</code></pre> 
<h4 id="3.4%E6%9F%A5%E7%9C%8B%E7%94%B5%E6%BA%90%E7%AE%A1%E7%90%86%E6%A8%A1%E5%BC%8F">3.4查看电源管理模式</h4> 
<pre><code class="language-bash">root@ubuntu:~# hdparm -C /dev/sda

/dev/sda:
SG_IO: bad/missing sense data, sb[]:  70 00 05 00 00 00 00 0a 00 00 00 00 20 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
 drive state is:  standby
</code></pre> 
<p><strong><span style="color:#fe2c24;"><span style="background-color:#cccccc;"> standby state:待机状态</span></span></strong></p> 
<hr> 
<h2 id="%E6%80%BB%E7%BB%93"><a id="_45"></a>总结</h2> 
<p><img alt="" height="475" src="https://images2.imgbox.com/08/1b/q0YiluWC_o.png" width="806"></p> 
<p>仅仅对常用命令进行记录。</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f5fc512762f614ab974a82e5b974b78d/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">vue中tinymce的使用</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/f7fa4afcbfa642845ae521e414dee2e3/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">桥接模式、NAT模式和仅主机模式</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>