<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>YumRepo Error: All mirror URLs are not using ftp, http[s] or file解决办法 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="YumRepo Error: All mirror URLs are not using ftp, http[s] or file解决办法" />
<meta property="og:description" content="文章目录 一、问题背景二、问题原因三、解决方法 一、问题背景 CentOS6.5利用yum -y install gcc命令安装程序报错YumRepo Error: All mirror URLs are not using ftp, http[s] or file.Eg. Invalid release/repo/arch combination/
removing mirrorlist with no valid mirrors: /var/cache/yum/x86_64/6/base/mirrorlist.txt
Error: Cannot find a valid baseurl for repo: base
、以及利用yum makecache命令时报错Error: Cannot retrieve repository metadata (repomd.xml) for repository: base. Please verify its path and try again。
二、问题原因 对应的镜像库中无法找到对应的repomd.xml文件
原因分析：CentoS 6 停止维护更新日期2020年11月30日，其中
CentOS 7 停止维护更新日期2024年6月30日
CentOS 8 停止维护更新日期2021年12月31日，其他具体信息可参阅官网https://wiki.centos.org/zh/About/Product
三、解决方法 原centos/6/ 下已经没有相关的文件，尝试修改本地镜像配置文件
步骤：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/584f66dbe3fd218f1db9efa7e3f6d545/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-04-21T17:33:41+08:00" />
<meta property="article:modified_time" content="2023-04-21T17:33:41+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">YumRepo Error: All mirror URLs are not using ftp, http[s] or file解决办法</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><ul><li><a href="#_1" rel="nofollow">一、问题背景</a></li><li><a href="#_9" rel="nofollow">二、问题原因</a></li><li><a href="#_18" rel="nofollow">三、解决方法</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h3><a id="_1"></a>一、问题背景</h3> 
<p>CentOS6.5利用yum -y install gcc命令安装程序报错YumRepo Error: All mirror URLs are not using ftp, http[s] or file.Eg. Invalid release/repo/arch combination/<br> removing mirrorlist with no valid mirrors: /var/cache/yum/x86_64/6/base/mirrorlist.txt<br> Error: Cannot find a valid baseurl for repo: base<br> 、以及利用yum makecache命令时报错Error: Cannot retrieve repository metadata (repomd.xml) for repository: base. Please verify its path and try again。<br> <img src="https://images2.imgbox.com/ff/5f/9qJB4BNk_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_9"></a>二、问题原因</h3> 
<p>对应的镜像库中无法找到对应的repomd.xml文件</p> 
<p>原因分析：CentoS 6 停止维护更新日期2020年11月30日，其中<br> CentOS 7 停止维护更新日期2024年6月30日<br> CentOS 8 停止维护更新日期2021年12月31日，其他具体信息可参阅官网https://wiki.centos.org/zh/About/Product<br> <img src="https://images2.imgbox.com/00/27/WXGQeTge_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_18"></a>三、解决方法</h3> 
<p>原centos/6/ 下已经没有相关的文件，尝试修改本地镜像配置文件</p> 
<p>步骤：</p> 
<pre><code class="prism language-bash"><span class="token builtin class-name">cd</span> /etc/yum.repos.d
</code></pre> 
<p>修改之前先保存一个备份文件</p> 
<pre><code class="prism language-bash"><span class="token function">cp</span> CentOS-Base.repo CentOS-Base.repo.bak
</code></pre> 
<pre><code class="prism language-bash"><span class="token function">vi</span>  CentOS-Base.repo
</code></pre> 
<p>因为$releasever 获取的是centos的版本号，我的centos获取的版本为6，但是镜像站中无对应版本文件，因此需要修改本地配置文件</p> 
<pre><code class="prism language-bash">:%s/<span class="token variable">$releasever</span>/7/g <span class="token comment">#将文件中$releasever全部改成7或其他版本</span>
</code></pre> 
<p>修改后文件内容如下图：</p> 
<pre><code class="prism language-bash"><span class="token comment"># CentOS-Base.repo</span>
<span class="token comment">#</span>
<span class="token comment"># The mirror system uses the connecting IP address of the client and the</span>
<span class="token comment"># update status of each mirror to pick mirrors that are updated to and</span>
<span class="token comment"># geographically close to the client.  You should use this for CentOS updates</span>
<span class="token comment"># unless you are manually picking other mirrors.</span>
<span class="token comment">#</span>
<span class="token comment"># If the mirrorlist= does not work for you, as a fall back you can try the </span>
<span class="token comment"># remarked out baseurl= line instead.</span>
<span class="token comment">#</span>
<span class="token comment">#</span>

<span class="token punctuation">[</span>base<span class="token punctuation">]</span>
<span class="token assign-left variable">name</span><span class="token operator">=</span>CentOS-7 - Base
<span class="token assign-left variable">mirrorlist</span><span class="token operator">=</span>http://mirrorlist.centos.org/?release<span class="token operator">=</span><span class="token number">7</span><span class="token operator">&amp;</span><span class="token assign-left variable">arch</span><span class="token operator">=</span><span class="token variable">$basearch</span><span class="token operator">&amp;</span><span class="token assign-left variable">repo</span><span class="token operator">=</span>os
<span class="token comment">#baseurl=http://mirror.centos.org/centos/7/os/$basearch/</span>
<span class="token assign-left variable">gpgcheck</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token assign-left variable">gpgkey</span><span class="token operator">=</span>file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-6

<span class="token comment">#released updates </span>
<span class="token punctuation">[</span>updates<span class="token punctuation">]</span>
<span class="token assign-left variable">name</span><span class="token operator">=</span>CentOS-7 - Updates
<span class="token assign-left variable">mirrorlist</span><span class="token operator">=</span>http://mirrorlist.centos.org/?release<span class="token operator">=</span><span class="token number">7</span><span class="token operator">&amp;</span><span class="token assign-left variable">arch</span><span class="token operator">=</span><span class="token variable">$basearch</span><span class="token operator">&amp;</span><span class="token assign-left variable">repo</span><span class="token operator">=</span>updates
<span class="token comment">#baseurl=http://mirror.centos.org/centos/7/updates/$basearch/</span>
<span class="token assign-left variable">gpgcheck</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token assign-left variable">gpgkey</span><span class="token operator">=</span>file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-6

<span class="token comment">#additional packages that may be useful</span>
<span class="token punctuation">[</span>extras<span class="token punctuation">]</span>
<span class="token assign-left variable">name</span><span class="token operator">=</span>CentOS-7 - Extras
<span class="token assign-left variable">mirrorlist</span><span class="token operator">=</span>http://mirrorlist.centos.org/?release<span class="token operator">=</span><span class="token number">7</span><span class="token operator">&amp;</span><span class="token assign-left variable">arch</span><span class="token operator">=</span><span class="token variable">$basearch</span><span class="token operator">&amp;</span><span class="token assign-left variable">repo</span><span class="token operator">=</span>extras
<span class="token comment">#baseurl=http://mirror.centos.org/centos/7/extras/$basearch/</span>
<span class="token assign-left variable">gpgcheck</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token assign-left variable">gpgkey</span><span class="token operator">=</span>file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-6

<span class="token comment">#additional packages that extend functionality of existing packages</span>
<span class="token punctuation">[</span>centosplus<span class="token punctuation">]</span>
<span class="token assign-left variable">name</span><span class="token operator">=</span>CentOS-7 - Plus
<span class="token assign-left variable">mirrorlist</span><span class="token operator">=</span>http://mirrorlist.centos.org/?release<span class="token operator">=</span><span class="token number">7</span><span class="token operator">&amp;</span><span class="token assign-left variable">arch</span><span class="token operator">=</span><span class="token variable">$basearch</span><span class="token operator">&amp;</span><span class="token assign-left variable">repo</span><span class="token operator">=</span>centosplus
<span class="token comment">#baseurl=http://mirror.centos.org/centos/7/centosplus/$basearch/</span>
<span class="token assign-left variable">gpgcheck</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token assign-left variable">enabled</span><span class="token operator">=</span><span class="token number">0</span>
<span class="token assign-left variable">gpgkey</span><span class="token operator">=</span>file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-6

<span class="token comment">#contrib - packages by Centos Users</span>
<span class="token punctuation">[</span>contrib<span class="token punctuation">]</span>
<span class="token assign-left variable">name</span><span class="token operator">=</span>CentOS-7 - Contrib
<span class="token assign-left variable">mirrorlist</span><span class="token operator">=</span>http://mirrorlist.centos.org/?release<span class="token operator">=</span><span class="token number">7</span><span class="token operator">&amp;</span><span class="token assign-left variable">arch</span><span class="token operator">=</span><span class="token variable">$basearch</span><span class="token operator">&amp;</span><span class="token assign-left variable">repo</span><span class="token operator">=</span>contrib
<span class="token comment">#baseurl=http://mirror.centos.org/centos/7/contrib/$basearch/</span>
<span class="token assign-left variable">gpgcheck</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token assign-left variable">enabled</span><span class="token operator">=</span><span class="token number">0</span>
<span class="token assign-left variable">gpgkey</span><span class="token operator">=</span>file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-6
</code></pre> 
<p>保存退出：</p> 
<pre><code class="prism language-bash">:wq
</code></pre> 
<p>清除和重新生成缓存</p> 
<pre><code class="prism language-bash">yum clean all 
<span class="token function">rm</span> -rf /var/cache/yum
yum makecache 
</code></pre> 
<p>完成之后再次通过yum -y install XXX 尝试安装软件</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/9dbd452a0e3ba512bb23014bf5593d3e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">python实现两张图片左右（横向）和纵向（上下）拼接组合</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/9ae96b279bb36f6dc0219e66b98ffa4c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">ROS-kinetic中Gazebo中的机械臂仿真报错解决</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>