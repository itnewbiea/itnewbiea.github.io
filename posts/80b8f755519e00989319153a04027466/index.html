<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Python爬取天气数据及可视化分析！ - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Python爬取天气数据及可视化分析！" />
<meta property="og:description" content="天气预报我们每天都会关注，我们可以根据未来的天气增减衣物、安排出行，每天的气温、风速风向、相对湿度、空气质量等成为关注的焦点。
本次使用python中requests和BeautifulSoup库对中国天气网当天和未来14天的数据进行爬取，保存为csv文件，之后用matplotlib、numpy、pandas对数据进行可视化处理和分析，得到温湿度度变化曲线、空气质量图、风向雷达图等结果，为获得未来天气信息提供了有效方法。
1、数据获取
请求网站链接
首先查看中国天气网的网址：http://www.weather.com.cn/weather/101280701.shtml这里就访问本地的天气网址，如果想爬取不同的地区只需修改最后的101280701地区编号即可，前面的weather代表是7天的网页，weather1d代表当天，weather15d代表未来14天。这里就主要访问7天和14天的中国天气网。
采用requests.get()方法，请求网页，如果成功访问，则得到的是网页的所有字符串文本。这就是请求过程。
def getHTMLtext(url): &#34;&#34;&#34;请求获得网页内容&#34;&#34;&#34; try: r = requests.get(url, timeout = 30) r.raise_for_status() r.encoding = r.apparent_encoding print(&#34;成功访问&#34;) return r.text except: print(&#34;访问错误&#34;) return&#34; &#34; 提取有用信息
这里采用BeautifulSoup库对刚刚获取的字符串进行数据提取，首先对网页进行检查，找到需要获取数据的标签：
可以发现7天的数据信息在div标签中并且id=“7d”，并且日期、天气、温度、风级等信息都在ul和li标签中，所以我们可以使用BeautifulSoup对获取的网页文本进行查找div标签id=“7d”，找出他包含的所有的ul和li标签，之后提取标签中相应的数据值，保存到对应列表中。
这里要注意一个细节就是有时日期没有最高气温，对于没有数据的情况要进行判断和处理。另外对于一些数据保存的格式也要提前进行处理，比如温度后面的摄氏度符号，日期数字的提取，和风级文字的提取，这需要用到字符查找及字符串切片处理。
def get_content(html): &#34;&#34;&#34;处理得到有用信息保存数据文件&#34;&#34;&#34; final = [] # 初始化一个列表保存数据 bs = BeautifulSoup(html, &#34;html.parser&#34;) # 创建BeautifulSoup对象 body = bs.body data = body.find(&#39;div&#39;, {&#39;id&#39;: &#39;7d&#39;}) # 找到div标签且id = 7d 下面爬取当天的数据
data2 = body.find_all(&#39;div&#39;,{&#39;class&#39;:&#39;left-div&#39;}) text = data2[2].find(&#39;script&#39;).string text = text[text.index(&#39;=&#39;)&#43;1 :-2] # 移除改var data=将其变为json数据 jd = json." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/80b8f755519e00989319153a04027466/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-05T14:25:42+08:00" />
<meta property="article:modified_time" content="2024-01-05T14:25:42+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Python爬取天气数据及可视化分析！</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>天气预报我们每天都会关注，我们可以根据未来的天气增减衣物、安排出行，每天的气温、风速风向、相对湿度、空气质量等成为关注的焦点。</p> 
<p>本次使用python中requests和BeautifulSoup库对中国天气网当天和未来14天的数据进行爬取，保存为csv文件，之后用matplotlib、numpy、pandas对数据进行可视化处理和分析，得到温湿度度变化曲线、空气质量图、风向雷达图等结果，为获得未来天气信息提供了有效方法。</p> 
<p><strong>1、数据获取</strong></p> 
<p><strong>请求网站链接</strong></p> 
<p>首先查看中国天气网的网址：http://www.weather.com.cn/weather/101280701.shtml这里就访问本地的天气网址，如果想爬取不同的地区只需修改最后的101280701地区编号即可，前面的weather代表是7天的网页，weather1d代表当天，weather15d代表未来14天。这里就主要访问7天和14天的中国天气网。</p> 
<p>采用requests.get()方法，请求网页，如果成功访问，则得到的是网页的所有字符串文本。这就是请求过程。</p> 
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">getHTMLtext</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">:</span>     
 <span class="token triple-quoted-string string">"""请求获得网页内容"""</span>
 <span class="token keyword">try</span><span class="token punctuation">:</span>         
  r <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token punctuation">,</span> timeout <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">)</span>         
  r<span class="token punctuation">.</span>raise_for_status<span class="token punctuation">(</span><span class="token punctuation">)</span>         
  r<span class="token punctuation">.</span>encoding <span class="token operator">=</span> r<span class="token punctuation">.</span>apparent_encoding         
  <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"成功访问"</span><span class="token punctuation">)</span>         
  <span class="token keyword">return</span> r<span class="token punctuation">.</span>text     
 <span class="token keyword">except</span><span class="token punctuation">:</span>         
  <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"访问错误"</span><span class="token punctuation">)</span>         
  <span class="token keyword">return</span><span class="token string">" "</span>
</code></pre> 
<p><strong>提取有用信息</strong></p> 
<p>这里采用BeautifulSoup库对刚刚获取的字符串进行数据提取，首先对网页进行检查，找到需要获取数据的标签：</p> 
<p><img src="https://images2.imgbox.com/8a/9e/7tShlGKk_o.png" alt=""></p> 
<p>可以发现7天的数据信息在div标签中并且id=“7d”，并且日期、天气、温度、风级等信息都在ul和li标签中，所以我们可以使用BeautifulSoup对获取的网页文本进行查找div标签id=“7d”，找出他包含的所有的ul和li标签，之后提取标签中相应的数据值，保存到对应列表中。</p> 
<p>这里要注意一个细节就是有时日期没有最高气温，对于没有数据的情况要进行判断和处理。另外对于一些数据保存的格式也要提前进行处理，比如温度后面的摄氏度符号，日期数字的提取，和风级文字的提取，这需要用到字符查找及字符串切片处理。</p> 
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">get_content</span><span class="token punctuation">(</span>html<span class="token punctuation">)</span><span class="token punctuation">:</span>
<span class="token triple-quoted-string string">"""处理得到有用信息保存数据文件"""</span>
final <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>          <span class="token comment"># 初始化一个列表保存数据</span>
bs <span class="token operator">=</span> BeautifulSoup<span class="token punctuation">(</span>html<span class="token punctuation">,</span> <span class="token string">"html.parser"</span><span class="token punctuation">)</span>  <span class="token comment"># 创建BeautifulSoup对象</span>
body <span class="token operator">=</span> bs<span class="token punctuation">.</span>body
data <span class="token operator">=</span> body<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span><span class="token string">'id'</span><span class="token punctuation">:</span> <span class="token string">'7d'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>    <span class="token comment"># 找到div标签且id = 7d</span>
</code></pre> 
<p>下面爬取当天的数据</p> 
<pre><code class="prism language-python">data2 <span class="token operator">=</span> body<span class="token punctuation">.</span>find_all<span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">,</span><span class="token punctuation">{<!-- --></span><span class="token string">'class'</span><span class="token punctuation">:</span><span class="token string">'left-div'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
text <span class="token operator">=</span> data2<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">'script'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>string 
text <span class="token operator">=</span> text<span class="token punctuation">[</span>text<span class="token punctuation">.</span>index<span class="token punctuation">(</span><span class="token string">'='</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span> <span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">]</span>   <span class="token comment"># 移除改var data=将其变为json数据</span>
jd <span class="token operator">=</span> json<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>text<span class="token punctuation">)</span>
dayone <span class="token operator">=</span> jd<span class="token punctuation">[</span><span class="token string">'od'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'od2'</span><span class="token punctuation">]</span>     <span class="token comment"># 找到当天的数据</span>
final_day <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>           <span class="token comment"># 存放当天的数据</span>
count <span class="token operator">=</span> <span class="token number">0</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> dayone<span class="token punctuation">:</span>
temp <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">if</span> count <span class="token operator">&lt;=</span><span class="token number">23</span><span class="token punctuation">:</span>
temp<span class="token punctuation">.</span>append<span class="token punctuation">(</span>i<span class="token punctuation">[</span><span class="token string">'od21'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>     <span class="token comment"># 添加时间</span>
temp<span class="token punctuation">.</span>append<span class="token punctuation">(</span>i<span class="token punctuation">[</span><span class="token string">'od22'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>     <span class="token comment"># 添加当前时刻温度</span>
temp<span class="token punctuation">.</span>append<span class="token punctuation">(</span>i<span class="token punctuation">[</span><span class="token string">'od24'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>     <span class="token comment"># 添加当前时刻风力方向</span>
temp<span class="token punctuation">.</span>append<span class="token punctuation">(</span>i<span class="token punctuation">[</span><span class="token string">'od25'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>     <span class="token comment"># 添加当前时刻风级</span>
temp<span class="token punctuation">.</span>append<span class="token punctuation">(</span>i<span class="token punctuation">[</span><span class="token string">'od26'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>     <span class="token comment"># 添加当前时刻降水量</span>
temp<span class="token punctuation">.</span>append<span class="token punctuation">(</span>i<span class="token punctuation">[</span><span class="token string">'od27'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>     <span class="token comment"># 添加当前时刻相对湿度</span>
temp<span class="token punctuation">.</span>append<span class="token punctuation">(</span>i<span class="token punctuation">[</span><span class="token string">'od28'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>     <span class="token comment"># 添加当前时刻控制质量</span>
<span class="token comment">#print(temp)</span>
final_day<span class="token punctuation">.</span>append<span class="token punctuation">(</span>temp<span class="token punctuation">)</span>
count <span class="token operator">=</span> count <span class="token operator">+</span><span class="token number">1</span>
</code></pre> 
<p>下面爬取7天的数据</p> 
<pre><code class="prism language-python">ul <span class="token operator">=</span> data<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">'ul'</span><span class="token punctuation">)</span>      <span class="token comment"># 找到所有的ul标签</span>
li <span class="token operator">=</span> ul<span class="token punctuation">.</span>find_all<span class="token punctuation">(</span><span class="token string">'li'</span><span class="token punctuation">)</span>      <span class="token comment"># 找到左右的li标签</span>
i <span class="token operator">=</span> <span class="token number">0</span>     <span class="token comment"># 控制爬取的天数</span>
<span class="token keyword">for</span> day <span class="token keyword">in</span> li<span class="token punctuation">:</span>          <span class="token comment"># 遍历找到的每一个li</span>
<span class="token keyword">if</span> i <span class="token operator">&lt;</span> <span class="token number">7</span> <span class="token keyword">and</span> i <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
temp <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>          <span class="token comment"># 临时存放每天的数据</span>
date <span class="token operator">=</span> day<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">'h1'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>string     <span class="token comment"># 得到日期</span>
date <span class="token operator">=</span> date<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span>date<span class="token punctuation">.</span>index<span class="token punctuation">(</span><span class="token string">'日'</span><span class="token punctuation">)</span><span class="token punctuation">]</span>   <span class="token comment"># 取出日期号</span>
temp<span class="token punctuation">.</span>append<span class="token punctuation">(</span>date<span class="token punctuation">)</span>    

inf <span class="token operator">=</span> day<span class="token punctuation">.</span>find_all<span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">)</span>      <span class="token comment"># 找出li下面的p标签,提取第一个p标签的值，即天气</span>
temp<span class="token punctuation">.</span>append<span class="token punctuation">(</span>inf<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>string<span class="token punctuation">)</span>


    tem_low <span class="token operator">=</span> inf<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">'i'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>string   <span class="token comment"># 找到最低气温</span>

    <span class="token keyword">if</span> inf<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">'span'</span><span class="token punctuation">)</span> <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>   <span class="token comment"># 天气预报可能没有最高气温</span>
        tem_high <span class="token operator">=</span> <span class="token boolean">None</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        tem_high <span class="token operator">=</span> inf<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">'span'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>string  <span class="token comment"># 找到最高气温</span>
    temp<span class="token punctuation">.</span>append<span class="token punctuation">(</span>tem_low<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> tem_high<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'℃'</span><span class="token punctuation">:</span>
     temp<span class="token punctuation">.</span>append<span class="token punctuation">(</span>tem_high<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
     temp<span class="token punctuation">.</span>append<span class="token punctuation">(</span>tem_high<span class="token punctuation">)</span>
    wind <span class="token operator">=</span> inf<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span>find_all<span class="token punctuation">(</span><span class="token string">'span'</span><span class="token punctuation">)</span>  <span class="token comment"># 找到风向</span>
    <span class="token keyword">for</span> j <span class="token keyword">in</span> wind<span class="token punctuation">:</span>
     temp<span class="token punctuation">.</span>append<span class="token punctuation">(</span>j<span class="token punctuation">[</span><span class="token string">'title'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    wind_scale <span class="token operator">=</span> inf<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">'i'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>string <span class="token comment"># 找到风级</span>
    index1 <span class="token operator">=</span> wind_scale<span class="token punctuation">.</span>index<span class="token punctuation">(</span><span class="token string">'级'</span><span class="token punctuation">)</span>
    temp<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>wind_scale<span class="token punctuation">[</span>index1<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span>index1<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    final<span class="token punctuation">.</span>append<span class="token punctuation">(</span>temp<span class="token punctuation">)</span>
i <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span>

<span class="token keyword">return</span> final_day<span class="token punctuation">,</span>final
</code></pre> 
<p>同样对于/weather15d：15天的信息，也做同样的处理，这里经过查看后发现他的15天网页中只有8-14天，前面的1-7天在/weather中，这里就分别访问两个网页将爬取得到的数据进行合并得到最终14天的数据。- 前面是未来14天的数据爬取过程，对于当天24小时的天气信息数据，经过查找发现他是一个json数据，可以通过json.loads()</p> 
<p>方法获取当天的数据，进而对当天的天气信息进行提取。</p> 
<p><img src="https://images2.imgbox.com/8a/7c/W92Il5c9_o.png" alt=""></p> 
<p><strong>保存csv文件</strong></p> 
<p>前面将爬取的数据添加到列表中，这里引入csv库，利用f_csv.writerow(header)和f_csv.writerows(data)方法，分别写入表头和每一行的数据，这里将1天和未来14天的数据分开存储，分别保存为weather1.csv和weather14.csv，下面是他们保存的表格图：</p> 
<p><img src="https://images2.imgbox.com/b6/5f/HQ96yeT3_o.png" alt=""></p> 
<p><strong>2.可视化分析</strong></p> 
<p><strong>当天温度变化曲线图</strong></p> 
<p>采用matplotlib中plt.plot()方法绘制出一天24小时的温度变化曲线，并用plt.text()方法点出最高温和最低温，并画出平均温度线，下图为温度变化曲线图：(代码见附录)</p> 
<p><img src="https://images2.imgbox.com/e9/a4/0AEyrlay_o.png" alt=""></p> 
<p>分析可以发现这一天最高温度为33℃，最低温度为28℃，并且平均温度在20.4℃左右，通过对时间分析，发现昼夜温差5℃，低温分布在凌晨，高温分布在中午到下午的时间段。</p> 
<p><strong>当天相对湿度变化曲线图</strong></p> 
<p>采用matplotlib中plt.plot()方法绘制出一天24小时的湿度变化曲线，并画出平均相对湿度线，下图为湿度变化曲线图：(代码见附录)</p> 
<p><img src="https://images2.imgbox.com/af/76/ZhJ9qZQt_o.png" alt=""></p> 
<p>分析可以发现这一天最高相对湿度为86%，最低相对湿度为58℃，并且平均相对湿度在75%左右，通过对时间分析，清晨的湿度比较大，而下午至黄昏湿度较小。</p> 
<p><strong>温湿度相关性分析图</strong></p> 
<p>经过前面两个图的分析我们可以感觉到温度和湿度之间是有关系的，为了更加清楚直观地感受这种关系，使用plt.scatter()方法将温度为横坐标、湿度为纵坐标，每个时刻的点在图中点出来，并且计算相关系数，下图为结果图：</p> 
<p><img src="https://images2.imgbox.com/f8/fa/8PiUGFb9_o.png" alt=""></p> 
<p>分析可以发现一天的温度和湿度具有强烈的相关性，他们呈负相关，这就说明他们时间是负相关关系，并且进一步分析，当温度较低时，空气中水分含量较多，湿度自然较高，而温度较高时，水分蒸发，空气就比较干 燥，湿度较低，符合平时气候现象。</p> 
<p><strong>空气质量指数柱状图</strong></p> 
<p>空气质量指数AQI是定量描述空气质量状况的指数，其数值越大说明空气污染状况越重，对人体健康的危害也就越大。一般将空气质量指数分为6个等级，等级越高说明污染越严重，下面使用plt.bar方法对一天24小时的空气质量进行了柱状图绘制，并且根据6个等级的不同，相应的柱状图的颜色也从浅到深，也表明污染逐步加重，更直观的显示污染情况，并且也将最高和最低的空气质量指数标出，用虚线画出平均的空气质量指数，下图是绘制结果图：</p> 
<p><img src="https://images2.imgbox.com/9a/dd/2XjMTGMF_o.png" alt=""></p> 
<p>上面这张是南方珠海的控制质量图，可以看出空气质量指数最大也是在健康范围，说明珠海空气非常好，分析可以发现这一天最高空气质量指数达到了35，最低则只有14，并且平均在25左右，通过时间也可以发现，基本在清晨的时候是空气最好的时候（4-9点），在下午是空气污染最严重的时候，所以清晨一般可以去外面呼吸新鲜的空气，那时污染最小。</p> 
<p>而下面这个空气质量图是选取的北方的一个城市，可以看到这里的环境远远比不上珠海。</p> 
<p><strong>风向风级雷达图</strong></p> 
<p>统计一天的风力和风向，由于风力风向使用极坐标的方式展现较好，所以这里采用的是极坐标的方式展现一天的风力风向图，将圆分为8份，每一份代表一个风向，半径代表平均风力，并且随着风级增高，蓝色加深，最后结果如下所示：</p> 
<p>分析可以发现这一天西南风最多，平均风级达到了1.75级，东北风也有小部分1.0级，其余空白方向无来风。</p> 
<p><strong>未来14天高低温变化曲线图</strong></p> 
<p>统计未来14天的高低温度变化，并绘制出他们的变化曲线图，分别用虚线将他们的平均气温线绘制出来，最后结果如下所示：</p> 
<p><img src="https://images2.imgbox.com/d7/c2/R7dXVpAW_o.png" alt=""></p> 
<p>分析可以发现未来14天高温平均气温为30.5℃，温度还是比较高，但是未来的第8天有降温，需要做好降温准备，低温前面处于平稳趋势，等到第8天开始下降，伴随着高温也下降，整体温度下降，低温平均在27℃左右。</p> 
<p><strong>未来14天风向风级雷达图</strong></p> 
<p>统计未来14天的风向和平均风力，并和前面一样采用极坐标形式，将圆周分为8个部分，代表8个方向，颜色越深代表风级越高，最后结果如下所示：</p> 
<p><img src="https://images2.imgbox.com/c0/fc/UDmSk3pt_o.png" alt=""></p> 
<p>分析可以发现未来14天东南风、西南风所占主要风向，风级最高达到了5级，最低的西风平均风级也有3级。</p> 
<p><strong>未来14天气候分布饼图</strong></p> 
<p>统计未来14天的气候，并求每个气候的总天数，最后将各个气候的饼图绘制出来，结果如下所示：</p> 
<p><img src="https://images2.imgbox.com/47/b2/BWgMJMAd_o.png" alt=""></p> 
<p>分析可以发现未来14天气候基本是“雨”、“阴转雨”和“阵雨”，下雨的天数较多,结合前面的气温分布图可以看出在第8-9天气温高温下降，可以推测当天下雨，导致气温下降。</p> 
<p><strong>3、结论</strong></p> 
<p>1.首先根据爬取的温湿度数据进行的分析，温度从早上低到中午高再到晚上低，湿度和温度的趋势相反，通过相关系数发现温度和湿度有强烈的负相关关系，经查阅资料发现因为随着温度升高水蒸汽蒸发加剧，空气中水分降低湿度降低。当然，湿度同时受气压和雨水的影响，下雨湿度会明显增高。</p> 
<p>2.经查阅资料空气质量不仅跟工厂、汽车等排放的烟气、废气等有关，更为重要的是与气象因素有关。由于昼夜温差明显变化，当地面温度高于高空温度时，空气上升，污染物易被带到高空扩散；当地面温度低于一定高度的温度时，天空形成逆温层，它像一个大盖子一样压在地面上空，使地表空气中各种污染物不易扩散。一般在晚间和清晨影响较大，而当太阳出来后，地面迅速升温，逆温层就会逐渐消散，于是污染空气也就扩散了。</p> 
<p>3.风是由气压在水平方向分布的不均匀导致的。风受大气环流、地形、水域等不同因素的综合影响，表现形式多种多样，如季风、地方性的海陆风、山谷风等，一天的风向也有不同的变化，根据未来14天的风向雷达图可以发现未来所有风向基本都有涉及，并且没有特别的某个风向，原因可能是近期没有降水和气文变化不大，导致风向也没有太大的变化规律。</p> 
<p>4.天气是指某一个地区距离地表较近的大气层在短时间内的具体状态。跟某瞬时内大气中各种气象要素分布的综合表现。根据未来14天的天气和温度变化可以大致推断出某个时间的气候，天气和温度之间也是有联系的。</p> 
<p><strong>4、代码框架</strong></p> 
<p>代码主要分为weather.py：对中国天气网进行爬取天气数据并保存csv文件；data1_analysis.py：对当天的天气信息进行可视化处理；data14_analysis.py：对未来14天的天气信息进行可视化处理。下面是代码的结构图：</p> 
<p><img src="https://images2.imgbox.com/1c/e2/5kBNNOJs_o.png" alt=""></p> 
<p><strong>附源代码</strong></p> 
<p><strong>weather.py</strong></p> 
<pre><code class="prism language-python"><span class="token comment"># weather.py</span>
<span class="token keyword">import</span> requests
<span class="token keyword">from</span> bs4 <span class="token keyword">import</span> BeautifulSoup
<span class="token keyword">import</span> csv
<span class="token keyword">import</span> json
<span class="token keyword">def</span> <span class="token function">getHTMLtext</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">:</span>     
 <span class="token triple-quoted-string string">"""请求获得网页内容"""</span>
 <span class="token keyword">try</span><span class="token punctuation">:</span>         
  r <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token punctuation">,</span> timeout <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">)</span>         
  r<span class="token punctuation">.</span>raise_for_status<span class="token punctuation">(</span><span class="token punctuation">)</span>         
  r<span class="token punctuation">.</span>encoding <span class="token operator">=</span> r<span class="token punctuation">.</span>apparent_encoding         
  <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"成功访问"</span><span class="token punctuation">)</span>         
  <span class="token keyword">return</span> r<span class="token punctuation">.</span>text     
 <span class="token keyword">except</span><span class="token punctuation">:</span>         
  <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"访问错误"</span><span class="token punctuation">)</span>         
  <span class="token keyword">return</span><span class="token string">" "</span> 

<span class="token keyword">def</span> <span class="token function">get_content</span><span class="token punctuation">(</span>html<span class="token punctuation">)</span><span class="token punctuation">:</span>
 <span class="token triple-quoted-string string">"""处理得到有用信息保存数据文件"""</span>
 final <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>          <span class="token comment"># 初始化一个列表保存数据</span>
 bs <span class="token operator">=</span> BeautifulSoup<span class="token punctuation">(</span>html<span class="token punctuation">,</span> <span class="token string">"html.parser"</span><span class="token punctuation">)</span>  <span class="token comment"># 创建BeautifulSoup对象</span>
 body <span class="token operator">=</span> bs<span class="token punctuation">.</span>body
 data <span class="token operator">=</span> body<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span><span class="token operator">&lt;</span>!<span class="token operator">-</span><span class="token operator">-</span> <span class="token operator">-</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token string">'id'</span><span class="token punctuation">:</span> <span class="token string">'7d'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>    <span class="token comment"># 找到div标签且id = 7d</span>
 <span class="token comment"># 下面爬取当天的数据</span>
 data2 <span class="token operator">=</span> body<span class="token punctuation">.</span>find_all<span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">,</span><span class="token punctuation">{<!-- --></span><span class="token operator">&lt;</span>!<span class="token operator">-</span><span class="token operator">-</span> <span class="token operator">-</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token string">'class'</span><span class="token punctuation">:</span><span class="token string">'left-div'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
 text <span class="token operator">=</span> data2<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">'script'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>string  
 text <span class="token operator">=</span> text<span class="token punctuation">[</span>text<span class="token punctuation">.</span>index<span class="token punctuation">(</span><span class="token string">'='</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span> <span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">]</span>   <span class="token comment"># 移除改var data=将其变为json数据</span>
 jd <span class="token operator">=</span> json<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>text<span class="token punctuation">)</span>
 dayone <span class="token operator">=</span> jd<span class="token punctuation">[</span><span class="token string">'od'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'od2'</span><span class="token punctuation">]</span>     <span class="token comment"># 找到当天的数据</span>
 final_day <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>           <span class="token comment"># 存放当天的数据</span>
 count <span class="token operator">=</span> <span class="token number">0</span>
 <span class="token keyword">for</span> i <span class="token keyword">in</span> dayone<span class="token punctuation">:</span>
  temp <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token keyword">if</span> count <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span><span class="token operator">=</span><span class="token number">23</span><span class="token punctuation">:</span>
   temp<span class="token punctuation">.</span>append<span class="token punctuation">(</span>i<span class="token punctuation">[</span><span class="token string">'od21'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>     <span class="token comment"># 添加时间</span>
   temp<span class="token punctuation">.</span>append<span class="token punctuation">(</span>i<span class="token punctuation">[</span><span class="token string">'od22'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>     <span class="token comment"># 添加当前时刻温度</span>
   temp<span class="token punctuation">.</span>append<span class="token punctuation">(</span>i<span class="token punctuation">[</span><span class="token string">'od24'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>     <span class="token comment"># 添加当前时刻风力方向</span>
   temp<span class="token punctuation">.</span>append<span class="token punctuation">(</span>i<span class="token punctuation">[</span><span class="token string">'od25'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>     <span class="token comment"># 添加当前时刻风级</span>
   temp<span class="token punctuation">.</span>append<span class="token punctuation">(</span>i<span class="token punctuation">[</span><span class="token string">'od26'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>     <span class="token comment"># 添加当前时刻降水量</span>
   temp<span class="token punctuation">.</span>append<span class="token punctuation">(</span>i<span class="token punctuation">[</span><span class="token string">'od27'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>     <span class="token comment"># 添加当前时刻相对湿度</span>
   temp<span class="token punctuation">.</span>append<span class="token punctuation">(</span>i<span class="token punctuation">[</span><span class="token string">'od28'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>     <span class="token comment"># 添加当前时刻控制质量</span>
   <span class="token comment">#print(temp)</span>
   final_day<span class="token punctuation">.</span>append<span class="token punctuation">(</span>temp<span class="token punctuation">)</span>
  count <span class="token operator">=</span> count <span class="token operator">+</span><span class="token number">1</span>
 <span class="token comment"># 下面爬取7天的数据 </span>
 ul <span class="token operator">=</span> data<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">'ul'</span><span class="token punctuation">)</span>      <span class="token comment"># 找到所有的ul标签</span>
 li <span class="token operator">=</span> ul<span class="token punctuation">.</span>find_all<span class="token punctuation">(</span><span class="token string">'li'</span><span class="token punctuation">)</span>      <span class="token comment"># 找到左右的li标签</span>
 i <span class="token operator">=</span> <span class="token number">0</span>     <span class="token comment"># 控制爬取的天数</span>
 <span class="token keyword">for</span> day <span class="token keyword">in</span> li<span class="token punctuation">:</span>          <span class="token comment"># 遍历找到的每一个li</span>
     <span class="token keyword">if</span> i <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span> <span class="token number">7</span> <span class="token keyword">and</span> i <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">0</span><span class="token punctuation">:</span>
         temp <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>          <span class="token comment"># 临时存放每天的数据</span>
         date <span class="token operator">=</span> day<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">'h1'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>string     <span class="token comment"># 得到日期</span>
         date <span class="token operator">=</span> date<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span>date<span class="token punctuation">.</span>index<span class="token punctuation">(</span><span class="token string">'日'</span><span class="token punctuation">)</span><span class="token punctuation">]</span>   <span class="token comment"># 取出日期号</span>
         temp<span class="token punctuation">.</span>append<span class="token punctuation">(</span>date<span class="token punctuation">)</span>            
         inf <span class="token operator">=</span> day<span class="token punctuation">.</span>find_all<span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">)</span>      <span class="token comment"># 找出li下面的p标签,提取第一个p标签的值，即天气</span>
         temp<span class="token punctuation">.</span>append<span class="token punctuation">(</span>inf<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>string<span class="token punctuation">)</span>

         tem_low <span class="token operator">=</span> inf<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">'i'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>string   <span class="token comment"># 找到最低气温</span>

         <span class="token keyword">if</span> inf<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">'span'</span><span class="token punctuation">)</span> <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>   <span class="token comment"># 天气预报可能没有最高气温</span>
             tem_high <span class="token operator">=</span> <span class="token boolean">None</span>
         <span class="token keyword">else</span><span class="token punctuation">:</span>
             tem_high <span class="token operator">=</span> inf<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">'span'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>string  <span class="token comment"># 找到最高气温</span>
         temp<span class="token punctuation">.</span>append<span class="token punctuation">(</span>tem_low<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
         <span class="token keyword">if</span> tem_high<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'℃'</span><span class="token punctuation">:</span>
          temp<span class="token punctuation">.</span>append<span class="token punctuation">(</span>tem_high<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
         <span class="token keyword">else</span><span class="token punctuation">:</span>
          temp<span class="token punctuation">.</span>append<span class="token punctuation">(</span>tem_high<span class="token punctuation">)</span>

         wind <span class="token operator">=</span> inf<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span>find_all<span class="token punctuation">(</span><span class="token string">'span'</span><span class="token punctuation">)</span>  <span class="token comment"># 找到风向</span>
         <span class="token keyword">for</span> j <span class="token keyword">in</span> wind<span class="token punctuation">:</span>
          temp<span class="token punctuation">.</span>append<span class="token punctuation">(</span>j<span class="token punctuation">[</span><span class="token string">'title'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

         wind_scale <span class="token operator">=</span> inf<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">'i'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>string <span class="token comment"># 找到风级</span>
         index1 <span class="token operator">=</span> wind_scale<span class="token punctuation">.</span>index<span class="token punctuation">(</span><span class="token string">'级'</span><span class="token punctuation">)</span>
         temp<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>wind_scale<span class="token punctuation">[</span>index1<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span>index1<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
         final<span class="token punctuation">.</span>append<span class="token punctuation">(</span>temp<span class="token punctuation">)</span>
     i <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span>
 <span class="token keyword">return</span> final_day<span class="token punctuation">,</span>final
 <span class="token comment">#print(final)    </span>
<span class="token keyword">def</span> <span class="token function">get_content2</span><span class="token punctuation">(</span>html<span class="token punctuation">)</span><span class="token punctuation">:</span>
 <span class="token triple-quoted-string string">"""处理得到有用信息保存数据文件"""</span>
 final <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>                <span class="token comment"># 初始化一个列表保存数据</span>
 bs <span class="token operator">=</span> BeautifulSoup<span class="token punctuation">(</span>html<span class="token punctuation">,</span> <span class="token string">"html.parser"</span><span class="token punctuation">)</span>        <span class="token comment"># 创建BeautifulSoup对象</span>
 body <span class="token operator">=</span> bs<span class="token punctuation">.</span>body
 data <span class="token operator">=</span> body<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span><span class="token operator">&lt;</span>!<span class="token operator">-</span><span class="token operator">-</span> <span class="token operator">-</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token string">'id'</span><span class="token punctuation">:</span> <span class="token string">'15d'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>          <span class="token comment"># 找到div标签且id = 15d</span>
 ul <span class="token operator">=</span> data<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">'ul'</span><span class="token punctuation">)</span>            <span class="token comment"># 找到所有的ul标签</span>
 li <span class="token operator">=</span> ul<span class="token punctuation">.</span>find_all<span class="token punctuation">(</span><span class="token string">'li'</span><span class="token punctuation">)</span>            <span class="token comment"># 找到左右的li标签</span>
 final <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
 i <span class="token operator">=</span> <span class="token number">0</span>                 <span class="token comment"># 控制爬取的天数</span>
 <span class="token keyword">for</span> day <span class="token keyword">in</span> li<span class="token punctuation">:</span>               <span class="token comment"># 遍历找到的每一个li</span>
     <span class="token keyword">if</span> i <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span> <span class="token number">8</span><span class="token punctuation">:</span>
         temp <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>               <span class="token comment"># 临时存放每天的数据</span>
         date <span class="token operator">=</span> day<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">'span'</span><span class="token punctuation">,</span><span class="token punctuation">{<!-- --></span><span class="token operator">&lt;</span>!<span class="token operator">-</span><span class="token operator">-</span> <span class="token operator">-</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token string">'class'</span><span class="token punctuation">:</span><span class="token string">'time'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span>string    <span class="token comment"># 得到日期</span>
         date <span class="token operator">=</span> date<span class="token punctuation">[</span>date<span class="token punctuation">.</span>index<span class="token punctuation">(</span><span class="token string">'（'</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">]</span>        <span class="token comment"># 取出日期号</span>
         temp<span class="token punctuation">.</span>append<span class="token punctuation">(</span>date<span class="token punctuation">)</span>  
         weather <span class="token operator">=</span> day<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">'span'</span><span class="token punctuation">,</span><span class="token punctuation">{<!-- --></span><span class="token operator">&lt;</span>!<span class="token operator">-</span><span class="token operator">-</span> <span class="token operator">-</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token string">'class'</span><span class="token punctuation">:</span><span class="token string">'wea'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span>string    <span class="token comment"># 找到天气</span>
         temp<span class="token punctuation">.</span>append<span class="token punctuation">(</span>weather<span class="token punctuation">)</span>
         tem <span class="token operator">=</span> day<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">'span'</span><span class="token punctuation">,</span><span class="token punctuation">{<!-- --></span><span class="token operator">&lt;</span>!<span class="token operator">-</span><span class="token operator">-</span> <span class="token operator">-</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token string">'class'</span><span class="token punctuation">:</span><span class="token string">'tem'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span>text      <span class="token comment"># 找到温度</span>
         temp<span class="token punctuation">.</span>append<span class="token punctuation">(</span>tem<span class="token punctuation">[</span>tem<span class="token punctuation">.</span>index<span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>     <span class="token comment"># 找到最低气温</span>
         temp<span class="token punctuation">.</span>append<span class="token punctuation">(</span>tem<span class="token punctuation">[</span><span class="token punctuation">:</span>tem<span class="token punctuation">.</span>index<span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>      <span class="token comment"># 找到最高气温</span>
         wind <span class="token operator">=</span> day<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">'span'</span><span class="token punctuation">,</span><span class="token punctuation">{<!-- --></span><span class="token operator">&lt;</span>!<span class="token operator">-</span><span class="token operator">-</span> <span class="token operator">-</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token string">'class'</span><span class="token punctuation">:</span><span class="token string">'wind'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span>string    <span class="token comment"># 找到风向</span>
         <span class="token keyword">if</span> <span class="token string">'转'</span> <span class="token keyword">in</span> wind<span class="token punctuation">:</span>           <span class="token comment"># 如果有风向变化</span>
          temp<span class="token punctuation">.</span>append<span class="token punctuation">(</span>wind<span class="token punctuation">[</span><span class="token punctuation">:</span>wind<span class="token punctuation">.</span>index<span class="token punctuation">(</span><span class="token string">'转'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
          temp<span class="token punctuation">.</span>append<span class="token punctuation">(</span>wind<span class="token punctuation">[</span>wind<span class="token punctuation">.</span>index<span class="token punctuation">(</span><span class="token string">'转'</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
         <span class="token keyword">else</span><span class="token punctuation">:</span>             <span class="token comment"># 如果没有风向变化，前后风向一致</span>
          temp<span class="token punctuation">.</span>append<span class="token punctuation">(</span>wind<span class="token punctuation">)</span>
          temp<span class="token punctuation">.</span>append<span class="token punctuation">(</span>wind<span class="token punctuation">)</span>
         wind_scale <span class="token operator">=</span> day<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">'span'</span><span class="token punctuation">,</span><span class="token punctuation">{<!-- --></span><span class="token operator">&lt;</span>!<span class="token operator">-</span><span class="token operator">-</span> <span class="token operator">-</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token string">'class'</span><span class="token punctuation">:</span><span class="token string">'wind1'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span>string    <span class="token comment"># 找到风级</span>
         index1 <span class="token operator">=</span> wind_scale<span class="token punctuation">.</span>index<span class="token punctuation">(</span><span class="token string">'级'</span><span class="token punctuation">)</span>
         temp<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>wind_scale<span class="token punctuation">[</span>index1<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span>index1<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

         final<span class="token punctuation">.</span>append<span class="token punctuation">(</span>temp<span class="token punctuation">)</span>
 <span class="token keyword">return</span> final

<span class="token keyword">def</span> <span class="token function">write_to_csv</span><span class="token punctuation">(</span>file_name<span class="token punctuation">,</span> data<span class="token punctuation">,</span> day<span class="token operator">=</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
 <span class="token triple-quoted-string string">"""保存为csv文件"""</span>
 <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>file_name<span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> errors<span class="token operator">=</span><span class="token string">'ignore'</span><span class="token punctuation">,</span> newline<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
  <span class="token keyword">if</span> day <span class="token operator">==</span> <span class="token number">14</span><span class="token punctuation">:</span>
   header <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'日期'</span><span class="token punctuation">,</span><span class="token string">'天气'</span><span class="token punctuation">,</span><span class="token string">'最低气温'</span><span class="token punctuation">,</span><span class="token string">'最高气温'</span><span class="token punctuation">,</span><span class="token string">'风向1'</span><span class="token punctuation">,</span><span class="token string">'风向2'</span><span class="token punctuation">,</span><span class="token string">'风级'</span><span class="token punctuation">]</span>
  <span class="token keyword">else</span><span class="token punctuation">:</span>
   header <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'小时'</span><span class="token punctuation">,</span><span class="token string">'温度'</span><span class="token punctuation">,</span><span class="token string">'风力方向'</span><span class="token punctuation">,</span><span class="token string">'风级'</span><span class="token punctuation">,</span><span class="token string">'降水量'</span><span class="token punctuation">,</span><span class="token string">'相对湿度'</span><span class="token punctuation">,</span><span class="token string">'空气质量'</span><span class="token punctuation">]</span>
  f_csv <span class="token operator">=</span> csv<span class="token punctuation">.</span>writer<span class="token punctuation">(</span>f<span class="token punctuation">)</span>
  f_csv<span class="token punctuation">.</span>writerow<span class="token punctuation">(</span>header<span class="token punctuation">)</span>
  f_csv<span class="token punctuation">.</span>writerows<span class="token punctuation">(</span>data<span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
 <span class="token triple-quoted-string string">"""主函数"""</span>
 <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Weather test"</span><span class="token punctuation">)</span>
 <span class="token comment"># 珠海</span>
 url1 <span class="token operator">=</span> <span class="token string">'http://www.weather.com.cn/weather/101280701.shtml'</span>    <span class="token comment"># 7天天气中国天气网</span>
 url2 <span class="token operator">=</span> <span class="token string">'http://www.weather.com.cn/weather15d/101280701.shtml'</span> <span class="token comment"># 8-15天天气中国天气网</span>

 html1 <span class="token operator">=</span> getHTMLtext<span class="token punctuation">(</span>url1<span class="token punctuation">)</span>
 data1<span class="token punctuation">,</span> data1_7 <span class="token operator">=</span> get_content<span class="token punctuation">(</span>html1<span class="token punctuation">)</span>  <span class="token comment"># 获得1-7天和当天的数据</span>

 html2 <span class="token operator">=</span> getHTMLtext<span class="token punctuation">(</span>url2<span class="token punctuation">)</span>
 data8_14 <span class="token operator">=</span> get_content2<span class="token punctuation">(</span>html2<span class="token punctuation">)</span>   <span class="token comment"># 获得8-14天数据</span>
 data14 <span class="token operator">=</span> data1_7 <span class="token operator">+</span> data8_14
 <span class="token comment">#print(data)</span>
 write_to_csv<span class="token punctuation">(</span><span class="token string">'weather14.csv'</span><span class="token punctuation">,</span>data14<span class="token punctuation">,</span><span class="token number">14</span><span class="token punctuation">)</span> <span class="token comment"># 保存为csv文件</span>
 write_to_csv<span class="token punctuation">(</span><span class="token string">'weather1.csv'</span><span class="token punctuation">,</span>data1<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
 main<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p><strong>data1_analysis.py:</strong></p> 
<pre><code class="prism language-python"><span class="token comment"># data1_analysis.py</span>
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd
<span class="token keyword">import</span> math
<span class="token keyword">def</span> <span class="token function">tem_curve</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">:</span>
 <span class="token triple-quoted-string string">"""温度曲线绘制"""</span>
 hour <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token string">'小时'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
 tem <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token string">'温度'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
 <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
  <span class="token keyword">if</span> math<span class="token punctuation">.</span>isnan<span class="token punctuation">(</span>tem<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
   tem<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> tem<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
 tem_ave <span class="token operator">=</span> <span class="token builtin">sum</span><span class="token punctuation">(</span>tem<span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">24</span>     <span class="token comment"># 求平均温度 </span>
 tem_max <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>tem<span class="token punctuation">)</span>    
 tem_max_hour <span class="token operator">=</span> hour<span class="token punctuation">[</span>tem<span class="token punctuation">.</span>index<span class="token punctuation">(</span>tem_max<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token comment"># 求最高温度</span>
 tem_min <span class="token operator">=</span> <span class="token builtin">min</span><span class="token punctuation">(</span>tem<span class="token punctuation">)</span>
 tem_min_hour <span class="token operator">=</span> hour<span class="token punctuation">[</span>tem<span class="token punctuation">.</span>index<span class="token punctuation">(</span>tem_min<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token comment"># 求最低温度</span>
 x <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
 y <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
 <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
  x<span class="token punctuation">.</span>append<span class="token punctuation">(</span>i<span class="token punctuation">)</span>
  y<span class="token punctuation">.</span>append<span class="token punctuation">(</span>tem<span class="token punctuation">[</span>hour<span class="token punctuation">.</span>index<span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
 plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
 plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>color<span class="token operator">=</span><span class="token string">'red'</span><span class="token punctuation">,</span>label<span class="token operator">=</span><span class="token string">'温度'</span><span class="token punctuation">)</span>       <span class="token comment"># 画出温度曲线</span>
 plt<span class="token punctuation">.</span>scatter<span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>color<span class="token operator">=</span><span class="token string">'red'</span><span class="token punctuation">)</span>   <span class="token comment"># 点出每个时刻的温度点</span>
 plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">24</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>tem_ave<span class="token punctuation">,</span> tem_ave<span class="token punctuation">]</span><span class="token punctuation">,</span> c<span class="token operator">=</span><span class="token string">'blue'</span><span class="token punctuation">,</span> linestyle<span class="token operator">=</span><span class="token string">'--'</span><span class="token punctuation">,</span>label<span class="token operator">=</span><span class="token string">'平均温度'</span><span class="token punctuation">)</span>  <span class="token comment"># 画出平均温度虚线</span>
 plt<span class="token punctuation">.</span>text<span class="token punctuation">(</span>tem_max_hour<span class="token operator">+</span><span class="token number">0.15</span><span class="token punctuation">,</span> tem_max<span class="token operator">+</span><span class="token number">0.15</span><span class="token punctuation">,</span> <span class="token builtin">str</span><span class="token punctuation">(</span>tem_max<span class="token punctuation">)</span><span class="token punctuation">,</span> ha<span class="token operator">=</span><span class="token string">'center'</span><span class="token punctuation">,</span> va<span class="token operator">=</span><span class="token string">'bottom'</span><span class="token punctuation">,</span> fontsize<span class="token operator">=</span><span class="token number">10.5</span><span class="token punctuation">)</span>  <span class="token comment"># 标出最高温度</span>
 plt<span class="token punctuation">.</span>text<span class="token punctuation">(</span>tem_min_hour<span class="token operator">+</span><span class="token number">0.15</span><span class="token punctuation">,</span> tem_min<span class="token operator">+</span><span class="token number">0.15</span><span class="token punctuation">,</span> <span class="token builtin">str</span><span class="token punctuation">(</span>tem_min<span class="token punctuation">)</span><span class="token punctuation">,</span> ha<span class="token operator">=</span><span class="token string">'center'</span><span class="token punctuation">,</span> va<span class="token operator">=</span><span class="token string">'bottom'</span><span class="token punctuation">,</span> fontsize<span class="token operator">=</span><span class="token number">10.5</span><span class="token punctuation">)</span>  <span class="token comment"># 标出最低温度</span>
 plt<span class="token punctuation">.</span>xticks<span class="token punctuation">(</span>x<span class="token punctuation">)</span>
 plt<span class="token punctuation">.</span>legend<span class="token punctuation">(</span><span class="token punctuation">)</span>
 plt<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">'一天温度变化曲线图'</span><span class="token punctuation">)</span>
 plt<span class="token punctuation">.</span>xlabel<span class="token punctuation">(</span><span class="token string">'时间/h'</span><span class="token punctuation">)</span>
 plt<span class="token punctuation">.</span>ylabel<span class="token punctuation">(</span><span class="token string">'摄氏度/℃'</span><span class="token punctuation">)</span>
 plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">hum_curve</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">:</span>
 <span class="token triple-quoted-string string">"""相对湿度曲线绘制"""</span>
 hour <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token string">'小时'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
 hum <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token string">'相对湿度'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
 <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
  <span class="token keyword">if</span> math<span class="token punctuation">.</span>isnan<span class="token punctuation">(</span>hum<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
   hum<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> hum<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
 hum_ave <span class="token operator">=</span> <span class="token builtin">sum</span><span class="token punctuation">(</span>hum<span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">24</span>     <span class="token comment"># 求平均相对湿度 </span>
 hum_max <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>hum<span class="token punctuation">)</span>    
 hum_max_hour <span class="token operator">=</span> hour<span class="token punctuation">[</span>hum<span class="token punctuation">.</span>index<span class="token punctuation">(</span>hum_max<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token comment"># 求最高相对湿度</span>
 hum_min <span class="token operator">=</span> <span class="token builtin">min</span><span class="token punctuation">(</span>hum<span class="token punctuation">)</span>
 hum_min_hour <span class="token operator">=</span> hour<span class="token punctuation">[</span>hum<span class="token punctuation">.</span>index<span class="token punctuation">(</span>hum_min<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token comment"># 求最低相对湿度</span>
 x <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
 y <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
 <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
  x<span class="token punctuation">.</span>append<span class="token punctuation">(</span>i<span class="token punctuation">)</span>
  y<span class="token punctuation">.</span>append<span class="token punctuation">(</span>hum<span class="token punctuation">[</span>hour<span class="token punctuation">.</span>index<span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
 plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
 plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>color<span class="token operator">=</span><span class="token string">'blue'</span><span class="token punctuation">,</span>label<span class="token operator">=</span><span class="token string">'相对湿度'</span><span class="token punctuation">)</span>       <span class="token comment"># 画出相对湿度曲线</span>
 plt<span class="token punctuation">.</span>scatter<span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>color<span class="token operator">=</span><span class="token string">'blue'</span><span class="token punctuation">)</span>   <span class="token comment"># 点出每个时刻的相对湿度</span>
 plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">24</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>hum_ave<span class="token punctuation">,</span> hum_ave<span class="token punctuation">]</span><span class="token punctuation">,</span> c<span class="token operator">=</span><span class="token string">'red'</span><span class="token punctuation">,</span> linestyle<span class="token operator">=</span><span class="token string">'--'</span><span class="token punctuation">,</span>label<span class="token operator">=</span><span class="token string">'平均相对湿度'</span><span class="token punctuation">)</span>  <span class="token comment"># 画出平均相对湿度虚线</span>
 plt<span class="token punctuation">.</span>text<span class="token punctuation">(</span>hum_max_hour<span class="token operator">+</span><span class="token number">0.15</span><span class="token punctuation">,</span> hum_max<span class="token operator">+</span><span class="token number">0.15</span><span class="token punctuation">,</span> <span class="token builtin">str</span><span class="token punctuation">(</span>hum_max<span class="token punctuation">)</span><span class="token punctuation">,</span> ha<span class="token operator">=</span><span class="token string">'center'</span><span class="token punctuation">,</span> va<span class="token operator">=</span><span class="token string">'bottom'</span><span class="token punctuation">,</span> fontsize<span class="token operator">=</span><span class="token number">10.5</span><span class="token punctuation">)</span>  <span class="token comment"># 标出最高相对湿度</span>
 plt<span class="token punctuation">.</span>text<span class="token punctuation">(</span>hum_min_hour<span class="token operator">+</span><span class="token number">0.15</span><span class="token punctuation">,</span> hum_min<span class="token operator">+</span><span class="token number">0.15</span><span class="token punctuation">,</span> <span class="token builtin">str</span><span class="token punctuation">(</span>hum_min<span class="token punctuation">)</span><span class="token punctuation">,</span> ha<span class="token operator">=</span><span class="token string">'center'</span><span class="token punctuation">,</span> va<span class="token operator">=</span><span class="token string">'bottom'</span><span class="token punctuation">,</span> fontsize<span class="token operator">=</span><span class="token number">10.5</span><span class="token punctuation">)</span>  <span class="token comment"># 标出最低相对湿度</span>
 plt<span class="token punctuation">.</span>xticks<span class="token punctuation">(</span>x<span class="token punctuation">)</span>
 plt<span class="token punctuation">.</span>legend<span class="token punctuation">(</span><span class="token punctuation">)</span>
 plt<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">'一天相对湿度变化曲线图'</span><span class="token punctuation">)</span>
 plt<span class="token punctuation">.</span>xlabel<span class="token punctuation">(</span><span class="token string">'时间/h'</span><span class="token punctuation">)</span>
 plt<span class="token punctuation">.</span>ylabel<span class="token punctuation">(</span><span class="token string">'百分比/%'</span><span class="token punctuation">)</span>
 plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">air_curve</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">:</span>
 <span class="token triple-quoted-string string">"""空气质量曲线绘制"""</span>
 hour <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token string">'小时'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
 air <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token string">'空气质量'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
 <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>air<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
 <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
  <span class="token keyword">if</span> math<span class="token punctuation">.</span>isnan<span class="token punctuation">(</span>air<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
   air<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> air<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
 air_ave <span class="token operator">=</span> <span class="token builtin">sum</span><span class="token punctuation">(</span>air<span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">24</span>     <span class="token comment"># 求平均空气质量 </span>
 air_max <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>air<span class="token punctuation">)</span>    
 air_max_hour <span class="token operator">=</span> hour<span class="token punctuation">[</span>air<span class="token punctuation">.</span>index<span class="token punctuation">(</span>air_max<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token comment"># 求最高空气质量</span>
 air_min <span class="token operator">=</span> <span class="token builtin">min</span><span class="token punctuation">(</span>air<span class="token punctuation">)</span>
 air_min_hour <span class="token operator">=</span> hour<span class="token punctuation">[</span>air<span class="token punctuation">.</span>index<span class="token punctuation">(</span>air_min<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token comment"># 求最低空气质量</span>
 x <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
 y <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
 <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
  x<span class="token punctuation">.</span>append<span class="token punctuation">(</span>i<span class="token punctuation">)</span>
  y<span class="token punctuation">.</span>append<span class="token punctuation">(</span>air<span class="token punctuation">[</span>hour<span class="token punctuation">.</span>index<span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
 plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>

 <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
  <span class="token keyword">if</span> y<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span><span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">:</span>
   plt<span class="token punctuation">.</span>bar<span class="token punctuation">(</span>x<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span>y<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span>color<span class="token operator">=</span><span class="token string">'lightgreen'</span><span class="token punctuation">,</span>width<span class="token operator">=</span><span class="token number">0.7</span><span class="token punctuation">)</span>  <span class="token comment"># 1等级</span>
  <span class="token keyword">elif</span> y<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span><span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">:</span>
   plt<span class="token punctuation">.</span>bar<span class="token punctuation">(</span>x<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span>y<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span>color<span class="token operator">=</span><span class="token string">'wheat'</span><span class="token punctuation">,</span>width<span class="token operator">=</span><span class="token number">0.7</span><span class="token punctuation">)</span>   <span class="token comment"># 2等级</span>
  <span class="token keyword">elif</span> y<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span><span class="token operator">=</span> <span class="token number">150</span><span class="token punctuation">:</span>
   plt<span class="token punctuation">.</span>bar<span class="token punctuation">(</span>x<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span>y<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span>color<span class="token operator">=</span><span class="token string">'orange'</span><span class="token punctuation">,</span>width<span class="token operator">=</span><span class="token number">0.7</span><span class="token punctuation">)</span>   <span class="token comment"># 3等级</span>
  <span class="token keyword">elif</span> y<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span><span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">:</span>
   plt<span class="token punctuation">.</span>bar<span class="token punctuation">(</span>x<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span>y<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span>color<span class="token operator">=</span><span class="token string">'orangered'</span><span class="token punctuation">,</span>width<span class="token operator">=</span><span class="token number">0.7</span><span class="token punctuation">)</span>  <span class="token comment"># 4等级</span>
  <span class="token keyword">elif</span> y<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span><span class="token operator">=</span> <span class="token number">300</span><span class="token punctuation">:</span>
   plt<span class="token punctuation">.</span>bar<span class="token punctuation">(</span>x<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span>y<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span>color<span class="token operator">=</span><span class="token string">'darkviolet'</span><span class="token punctuation">,</span>width<span class="token operator">=</span><span class="token number">0.7</span><span class="token punctuation">)</span>  <span class="token comment"># 5等级</span>
  <span class="token keyword">elif</span> y<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">300</span><span class="token punctuation">:</span>
   plt<span class="token punctuation">.</span>bar<span class="token punctuation">(</span>x<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span>y<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span>color<span class="token operator">=</span><span class="token string">'maroon'</span><span class="token punctuation">,</span>width<span class="token operator">=</span><span class="token number">0.7</span><span class="token punctuation">)</span>   <span class="token comment"># 6等级</span>
 plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">24</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>air_ave<span class="token punctuation">,</span> air_ave<span class="token punctuation">]</span><span class="token punctuation">,</span> c<span class="token operator">=</span><span class="token string">'black'</span><span class="token punctuation">,</span> linestyle<span class="token operator">=</span><span class="token string">'--'</span><span class="token punctuation">)</span>  <span class="token comment"># 画出平均空气质量虚线</span>
 plt<span class="token punctuation">.</span>text<span class="token punctuation">(</span>air_max_hour<span class="token operator">+</span><span class="token number">0.15</span><span class="token punctuation">,</span> air_max<span class="token operator">+</span><span class="token number">0.15</span><span class="token punctuation">,</span> <span class="token builtin">str</span><span class="token punctuation">(</span>air_max<span class="token punctuation">)</span><span class="token punctuation">,</span> ha<span class="token operator">=</span><span class="token string">'center'</span><span class="token punctuation">,</span> va<span class="token operator">=</span><span class="token string">'bottom'</span><span class="token punctuation">,</span> fontsize<span class="token operator">=</span><span class="token number">10.5</span><span class="token punctuation">)</span>  <span class="token comment"># 标出最高空气质量</span>
 plt<span class="token punctuation">.</span>text<span class="token punctuation">(</span>air_min_hour<span class="token operator">+</span><span class="token number">0.15</span><span class="token punctuation">,</span> air_min<span class="token operator">+</span><span class="token number">0.15</span><span class="token punctuation">,</span> <span class="token builtin">str</span><span class="token punctuation">(</span>air_min<span class="token punctuation">)</span><span class="token punctuation">,</span> ha<span class="token operator">=</span><span class="token string">'center'</span><span class="token punctuation">,</span> va<span class="token operator">=</span><span class="token string">'bottom'</span><span class="token punctuation">,</span> fontsize<span class="token operator">=</span><span class="token number">10.5</span><span class="token punctuation">)</span>  <span class="token comment"># 标出最低空气质量</span>
 plt<span class="token punctuation">.</span>xticks<span class="token punctuation">(</span>x<span class="token punctuation">)</span>
 plt<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">'一天空气质量变化曲线图'</span><span class="token punctuation">)</span>
 plt<span class="token punctuation">.</span>xlabel<span class="token punctuation">(</span><span class="token string">'时间/h'</span><span class="token punctuation">)</span>
 plt<span class="token punctuation">.</span>ylabel<span class="token punctuation">(</span><span class="token string">'空气质量指数AQI'</span><span class="token punctuation">)</span>
 plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">wind_radar</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">:</span>
 <span class="token triple-quoted-string string">"""风向雷达图"""</span>
 wind <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token string">'风力方向'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
 wind_speed <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token string">'风级'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
 <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
  <span class="token keyword">if</span> wind<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">"北风"</span><span class="token punctuation">:</span>
   wind<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">90</span>
  <span class="token keyword">elif</span> wind<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">"南风"</span><span class="token punctuation">:</span>
   wind<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">270</span>
  <span class="token keyword">elif</span> wind<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">"西风"</span><span class="token punctuation">:</span>
   wind<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">180</span>
  <span class="token keyword">elif</span> wind<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">"东风"</span><span class="token punctuation">:</span>
   wind<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">360</span>
  <span class="token keyword">elif</span> wind<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">"东北风"</span><span class="token punctuation">:</span>
   wind<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">45</span>
  <span class="token keyword">elif</span> wind<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">"西北风"</span><span class="token punctuation">:</span>
   wind<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">135</span>
  <span class="token keyword">elif</span> wind<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">"西南风"</span><span class="token punctuation">:</span>
   wind<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">225</span>
  <span class="token keyword">elif</span> wind<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">"东南风"</span><span class="token punctuation">:</span>
   wind<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">315</span>
 degs <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">45</span><span class="token punctuation">,</span><span class="token number">361</span><span class="token punctuation">,</span><span class="token number">45</span><span class="token punctuation">)</span>
 temp <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
 <span class="token keyword">for</span> deg <span class="token keyword">in</span> degs<span class="token punctuation">:</span>
  speed <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token comment"># 获取 wind_deg 在指定范围的风速平均值数据</span>
  <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
   <span class="token keyword">if</span> wind<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> deg<span class="token punctuation">:</span>
    speed<span class="token punctuation">.</span>append<span class="token punctuation">(</span>wind_speed<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>speed<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
   temp<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
  <span class="token keyword">else</span><span class="token punctuation">:</span>
   temp<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token builtin">sum</span><span class="token punctuation">(</span>speed<span class="token punctuation">)</span><span class="token operator">/</span><span class="token builtin">len</span><span class="token punctuation">(</span>speed<span class="token punctuation">)</span><span class="token punctuation">)</span>
 <span class="token keyword">print</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span>
 N <span class="token operator">=</span> <span class="token number">8</span>
 theta <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">0.</span><span class="token operator">+</span>np<span class="token punctuation">.</span>pi<span class="token operator">/</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token operator">*</span>np<span class="token punctuation">.</span>pi<span class="token operator">+</span>np<span class="token punctuation">.</span>pi<span class="token operator">/</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token operator">*</span>np<span class="token punctuation">.</span>pi<span class="token operator">/</span><span class="token number">8</span><span class="token punctuation">)</span>
 <span class="token comment"># 数据极径</span>
 radii <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span>temp<span class="token punctuation">)</span>
 <span class="token comment"># 绘制极区图坐标系</span>
 plt<span class="token punctuation">.</span>axes<span class="token punctuation">(</span>polar<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
 <span class="token comment"># 定义每个扇区的RGB值（R,G,B），x越大，对应的颜色越接近蓝色</span>
 colors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">-</span>x<span class="token operator">/</span><span class="token builtin">max</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token operator">-</span>x<span class="token operator">/</span><span class="token builtin">max</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">0.6</span><span class="token punctuation">)</span> <span class="token keyword">for</span> x <span class="token keyword">in</span> radii<span class="token punctuation">]</span>
 plt<span class="token punctuation">.</span>bar<span class="token punctuation">(</span>theta<span class="token punctuation">,</span>radii<span class="token punctuation">,</span>width<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">*</span>np<span class="token punctuation">.</span>pi<span class="token operator">/</span>N<span class="token punctuation">)</span><span class="token punctuation">,</span>bottom<span class="token operator">=</span><span class="token number">0.0</span><span class="token punctuation">,</span>color<span class="token operator">=</span>colors<span class="token punctuation">)</span>
 plt<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">'一天风级图'</span><span class="token punctuation">,</span>x<span class="token operator">=</span><span class="token number">0.2</span><span class="token punctuation">,</span>fontsize<span class="token operator">=</span><span class="token number">20</span><span class="token punctuation">)</span>
 plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">calc_corr</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">:</span>
 <span class="token triple-quoted-string string">"""计算相关系数"""</span>
 a_avg <span class="token operator">=</span> <span class="token builtin">sum</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token operator">/</span><span class="token builtin">len</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
 b_avg <span class="token operator">=</span> <span class="token builtin">sum</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token operator">/</span><span class="token builtin">len</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span>
 cov_ab <span class="token operator">=</span> <span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">(</span>x <span class="token operator">-</span> a_avg<span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>y <span class="token operator">-</span> b_avg<span class="token punctuation">)</span> <span class="token keyword">for</span> x<span class="token punctuation">,</span>y <span class="token keyword">in</span> <span class="token builtin">zip</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
 sq <span class="token operator">=</span> math<span class="token punctuation">.</span>sqrt<span class="token punctuation">(</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">(</span>x <span class="token operator">-</span> a_avg<span class="token punctuation">)</span><span class="token operator">**</span><span class="token number">2</span> <span class="token keyword">for</span> x <span class="token keyword">in</span> a<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">(</span>x <span class="token operator">-</span> b_avg<span class="token punctuation">)</span><span class="token operator">**</span><span class="token number">2</span> <span class="token keyword">for</span> x <span class="token keyword">in</span> b<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> 
 corr_factor <span class="token operator">=</span> cov_ab<span class="token operator">/</span>sq
 <span class="token keyword">return</span> corr_factor


<span class="token keyword">def</span> <span class="token function">corr_tem_hum</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">:</span>
 <span class="token triple-quoted-string string">"""温湿度相关性分析"""</span>
 tem <span class="token operator">=</span> data<span class="token punctuation">[</span><span class="token string">'温度'</span><span class="token punctuation">]</span>
 hum <span class="token operator">=</span> data<span class="token punctuation">[</span><span class="token string">'相对湿度'</span><span class="token punctuation">]</span>
 plt<span class="token punctuation">.</span>scatter<span class="token punctuation">(</span>tem<span class="token punctuation">,</span>hum<span class="token punctuation">,</span>color<span class="token operator">=</span><span class="token string">'blue'</span><span class="token punctuation">)</span>
 plt<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">"温湿度相关性分析图"</span><span class="token punctuation">)</span>
 plt<span class="token punctuation">.</span>xlabel<span class="token punctuation">(</span><span class="token string">"温度/℃"</span><span class="token punctuation">)</span>
 plt<span class="token punctuation">.</span>ylabel<span class="token punctuation">(</span><span class="token string">"相对湿度/%"</span><span class="token punctuation">)</span>
 plt<span class="token punctuation">.</span>text<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">40</span><span class="token punctuation">,</span><span class="token string">"相关系数为："</span><span class="token operator">+</span><span class="token builtin">str</span><span class="token punctuation">(</span>calc_corr<span class="token punctuation">(</span>tem<span class="token punctuation">,</span>hum<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>fontdict<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token operator">&lt;</span>!<span class="token operator">-</span><span class="token operator">-</span> <span class="token operator">-</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token string">'size'</span><span class="token punctuation">:</span><span class="token string">'10'</span><span class="token punctuation">,</span><span class="token string">'color'</span><span class="token punctuation">:</span><span class="token string">'red'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
 plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
 <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"相关系数为："</span><span class="token operator">+</span><span class="token builtin">str</span><span class="token punctuation">(</span>calc_corr<span class="token punctuation">(</span>tem<span class="token punctuation">,</span>hum<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
 plt<span class="token punctuation">.</span>rcParams<span class="token punctuation">[</span><span class="token string">'font.sans-serif'</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'SimHei'</span><span class="token punctuation">]</span> <span class="token comment"># 解决中文显示问题</span>
 plt<span class="token punctuation">.</span>rcParams<span class="token punctuation">[</span><span class="token string">'axes.unicode_minus'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">False</span>  <span class="token comment"># 解决负号显示问题</span>
 data1 <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">'weather1.csv'</span><span class="token punctuation">,</span>encoding<span class="token operator">=</span><span class="token string">'gb2312'</span><span class="token punctuation">)</span>
 <span class="token keyword">print</span><span class="token punctuation">(</span>data1<span class="token punctuation">)</span>
 tem_curve<span class="token punctuation">(</span>data1<span class="token punctuation">)</span>
 hum_curve<span class="token punctuation">(</span>data1<span class="token punctuation">)</span>
 air_curve<span class="token punctuation">(</span>data1<span class="token punctuation">)</span>
 wind_radar<span class="token punctuation">(</span>data1<span class="token punctuation">)</span>
 corr_tem_hum<span class="token punctuation">(</span>data1<span class="token punctuation">)</span>
<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
 main<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p><strong>data14_analysis.py:</strong></p> 
<pre><code class="prism language-python"><span class="token comment"># data14_analysis.py</span>
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd
<span class="token keyword">import</span> math

<span class="token keyword">def</span> <span class="token function">tem_curve</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">:</span>
 <span class="token triple-quoted-string string">"""温度曲线绘制"""</span>
 date <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token string">'日期'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
 tem_low <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token string">'最低气温'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
 tem_high <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token string">'最高气温'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
 <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
  <span class="token keyword">if</span> math<span class="token punctuation">.</span>isnan<span class="token punctuation">(</span>tem_low<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
   tem_low<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> tem_low<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
  <span class="token keyword">if</span> math<span class="token punctuation">.</span>isnan<span class="token punctuation">(</span>tem_high<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
   tem_high<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> tem_high<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>

 tem_high_ave <span class="token operator">=</span> <span class="token builtin">sum</span><span class="token punctuation">(</span>tem_high<span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">14</span>     <span class="token comment"># 求平均高温 </span>
 tem_low_ave <span class="token operator">=</span> <span class="token builtin">sum</span><span class="token punctuation">(</span>tem_low<span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">14</span>     <span class="token comment"># 求平均低温 </span>

 tem_max <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>tem_high<span class="token punctuation">)</span>    
 tem_max_date <span class="token operator">=</span> tem_high<span class="token punctuation">.</span>index<span class="token punctuation">(</span>tem_max<span class="token punctuation">)</span>   <span class="token comment"># 求最高温度</span>
 tem_min <span class="token operator">=</span> <span class="token builtin">min</span><span class="token punctuation">(</span>tem_low<span class="token punctuation">)</span>
 tem_min_date <span class="token operator">=</span> tem_low<span class="token punctuation">.</span>index<span class="token punctuation">(</span>tem_min<span class="token punctuation">)</span>   <span class="token comment"># 求最低温度</span>

 x <span class="token operator">=</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">)</span>
 plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
 plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>x<span class="token punctuation">,</span>tem_high<span class="token punctuation">,</span>color<span class="token operator">=</span><span class="token string">'red'</span><span class="token punctuation">,</span>label<span class="token operator">=</span><span class="token string">'高温'</span><span class="token punctuation">)</span>    <span class="token comment"># 画出高温度曲线</span>
 plt<span class="token punctuation">.</span>scatter<span class="token punctuation">(</span>x<span class="token punctuation">,</span>tem_high<span class="token punctuation">,</span>color<span class="token operator">=</span><span class="token string">'red'</span><span class="token punctuation">)</span>     <span class="token comment"># 点出每个时刻的温度点</span>
 plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>x<span class="token punctuation">,</span>tem_low<span class="token punctuation">,</span>color<span class="token operator">=</span><span class="token string">'blue'</span><span class="token punctuation">,</span>label<span class="token operator">=</span><span class="token string">'低温'</span><span class="token punctuation">)</span>    <span class="token comment"># 画出低温度曲线</span>
 plt<span class="token punctuation">.</span>scatter<span class="token punctuation">(</span>x<span class="token punctuation">,</span>tem_low<span class="token punctuation">,</span>color<span class="token operator">=</span><span class="token string">'blue'</span><span class="token punctuation">)</span>     <span class="token comment"># 点出每个时刻的温度点</span>

 plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>tem_high_ave<span class="token punctuation">,</span> tem_high_ave<span class="token punctuation">]</span><span class="token punctuation">,</span> c<span class="token operator">=</span><span class="token string">'black'</span><span class="token punctuation">,</span> linestyle<span class="token operator">=</span><span class="token string">'--'</span><span class="token punctuation">)</span>  <span class="token comment"># 画出平均温度虚线</span>
 plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>tem_low_ave<span class="token punctuation">,</span> tem_low_ave<span class="token punctuation">]</span><span class="token punctuation">,</span> c<span class="token operator">=</span><span class="token string">'black'</span><span class="token punctuation">,</span> linestyle<span class="token operator">=</span><span class="token string">'--'</span><span class="token punctuation">)</span>  <span class="token comment"># 画出平均温度虚线</span>
 plt<span class="token punctuation">.</span>legend<span class="token punctuation">(</span><span class="token punctuation">)</span>
 plt<span class="token punctuation">.</span>text<span class="token punctuation">(</span>tem_max_date<span class="token operator">+</span><span class="token number">0.15</span><span class="token punctuation">,</span> tem_max<span class="token operator">+</span><span class="token number">0.15</span><span class="token punctuation">,</span> <span class="token builtin">str</span><span class="token punctuation">(</span>tem_max<span class="token punctuation">)</span><span class="token punctuation">,</span> ha<span class="token operator">=</span><span class="token string">'center'</span><span class="token punctuation">,</span> va<span class="token operator">=</span><span class="token string">'bottom'</span><span class="token punctuation">,</span> fontsize<span class="token operator">=</span><span class="token number">10.5</span><span class="token punctuation">)</span>  <span class="token comment"># 标出最高温度</span>
 plt<span class="token punctuation">.</span>text<span class="token punctuation">(</span>tem_min_date<span class="token operator">+</span><span class="token number">0.15</span><span class="token punctuation">,</span> tem_min<span class="token operator">+</span><span class="token number">0.15</span><span class="token punctuation">,</span> <span class="token builtin">str</span><span class="token punctuation">(</span>tem_min<span class="token punctuation">)</span><span class="token punctuation">,</span> ha<span class="token operator">=</span><span class="token string">'center'</span><span class="token punctuation">,</span> va<span class="token operator">=</span><span class="token string">'bottom'</span><span class="token punctuation">,</span> fontsize<span class="token operator">=</span><span class="token number">10.5</span><span class="token punctuation">)</span>  <span class="token comment"># 标出最低温度</span>
 plt<span class="token punctuation">.</span>xticks<span class="token punctuation">(</span>x<span class="token punctuation">)</span>
 plt<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">'未来14天高温低温变化曲线图'</span><span class="token punctuation">)</span>
 plt<span class="token punctuation">.</span>xlabel<span class="token punctuation">(</span><span class="token string">'未来天数/天'</span><span class="token punctuation">)</span>
 plt<span class="token punctuation">.</span>ylabel<span class="token punctuation">(</span><span class="token string">'摄氏度/℃'</span><span class="token punctuation">)</span>
 plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">change_wind</span><span class="token punctuation">(</span>wind<span class="token punctuation">)</span><span class="token punctuation">:</span>
 <span class="token triple-quoted-string string">"""改变风向"""</span>
 <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
  <span class="token keyword">if</span> wind<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">"北风"</span><span class="token punctuation">:</span>
   wind<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">90</span>
  <span class="token keyword">elif</span> wind<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">"南风"</span><span class="token punctuation">:</span>
   wind<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">270</span>
  <span class="token keyword">elif</span> wind<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">"西风"</span><span class="token punctuation">:</span>
   wind<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">180</span>
  <span class="token keyword">elif</span> wind<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">"东风"</span><span class="token punctuation">:</span>
   wind<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">360</span>
  <span class="token keyword">elif</span> wind<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">"东北风"</span><span class="token punctuation">:</span>
   wind<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">45</span>
  <span class="token keyword">elif</span> wind<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">"西北风"</span><span class="token punctuation">:</span>
   wind<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">135</span>
  <span class="token keyword">elif</span> wind<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">"西南风"</span><span class="token punctuation">:</span>
   wind<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">225</span>
  <span class="token keyword">elif</span> wind<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">"东南风"</span><span class="token punctuation">:</span>
   wind<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">315</span>
 <span class="token keyword">return</span> wind


<span class="token keyword">def</span> <span class="token function">wind_radar</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">:</span>
 <span class="token triple-quoted-string string">"""风向雷达图"""</span>
 wind1 <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token string">'风向1'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
 wind2 <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token string">'风向2'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
 wind_speed <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token string">'风级'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
 wind1 <span class="token operator">=</span> change_wind<span class="token punctuation">(</span>wind1<span class="token punctuation">)</span>
 wind2 <span class="token operator">=</span> change_wind<span class="token punctuation">(</span>wind2<span class="token punctuation">)</span>

 degs <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">45</span><span class="token punctuation">,</span><span class="token number">361</span><span class="token punctuation">,</span><span class="token number">45</span><span class="token punctuation">)</span>
 temp <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
 <span class="token keyword">for</span> deg <span class="token keyword">in</span> degs<span class="token punctuation">:</span>
  speed <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token comment"># 获取 wind_deg 在指定范围的风速平均值数据</span>
  <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
   <span class="token keyword">if</span> wind1<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> deg<span class="token punctuation">:</span>
    speed<span class="token punctuation">.</span>append<span class="token punctuation">(</span>wind_speed<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
   <span class="token keyword">if</span> wind2<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> deg<span class="token punctuation">:</span>
    speed<span class="token punctuation">.</span>append<span class="token punctuation">(</span>wind_speed<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>speed<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
   temp<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
  <span class="token keyword">else</span><span class="token punctuation">:</span>
   temp<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token builtin">sum</span><span class="token punctuation">(</span>speed<span class="token punctuation">)</span><span class="token operator">/</span><span class="token builtin">len</span><span class="token punctuation">(</span>speed<span class="token punctuation">)</span><span class="token punctuation">)</span>
 <span class="token keyword">print</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span>
 N <span class="token operator">=</span> <span class="token number">8</span>
 theta <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">0.</span><span class="token operator">+</span>np<span class="token punctuation">.</span>pi<span class="token operator">/</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token operator">*</span>np<span class="token punctuation">.</span>pi<span class="token operator">+</span>np<span class="token punctuation">.</span>pi<span class="token operator">/</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token operator">*</span>np<span class="token punctuation">.</span>pi<span class="token operator">/</span><span class="token number">8</span><span class="token punctuation">)</span>
 <span class="token comment"># 数据极径</span>
 radii <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span>temp<span class="token punctuation">)</span>
 <span class="token comment"># 绘制极区图坐标系</span>
 plt<span class="token punctuation">.</span>axes<span class="token punctuation">(</span>polar<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
 <span class="token comment"># 定义每个扇区的RGB值（R,G,B），x越大，对应的颜色越接近蓝色</span>
 colors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">-</span>x<span class="token operator">/</span><span class="token builtin">max</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token operator">-</span>x<span class="token operator">/</span><span class="token builtin">max</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">0.6</span><span class="token punctuation">)</span> <span class="token keyword">for</span> x <span class="token keyword">in</span> radii<span class="token punctuation">]</span>
 plt<span class="token punctuation">.</span>bar<span class="token punctuation">(</span>theta<span class="token punctuation">,</span>radii<span class="token punctuation">,</span>width<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">*</span>np<span class="token punctuation">.</span>pi<span class="token operator">/</span>N<span class="token punctuation">)</span><span class="token punctuation">,</span>bottom<span class="token operator">=</span><span class="token number">0.0</span><span class="token punctuation">,</span>color<span class="token operator">=</span>colors<span class="token punctuation">)</span>
 plt<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">'未来14天风级图'</span><span class="token punctuation">,</span>x<span class="token operator">=</span><span class="token number">0.2</span><span class="token punctuation">,</span>fontsize<span class="token operator">=</span><span class="token number">20</span><span class="token punctuation">)</span>
 plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">weather_pie</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">:</span>
 <span class="token triple-quoted-string string">"""绘制天气饼图"""</span>
 weather <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token string">'天气'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
 dic_wea <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token operator">&lt;</span>!<span class="token operator">-</span><span class="token operator">-</span> <span class="token operator">-</span><span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token punctuation">}</span>
 <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
  <span class="token keyword">if</span> weather<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token keyword">in</span> dic_wea<span class="token punctuation">.</span>keys<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
   dic_wea<span class="token punctuation">[</span>weather<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span>
  <span class="token keyword">else</span><span class="token punctuation">:</span>
   dic_wea<span class="token punctuation">[</span>weather<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>
 <span class="token keyword">print</span><span class="token punctuation">(</span>dic_wea<span class="token punctuation">)</span>
 explode<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">0.01</span><span class="token punctuation">]</span><span class="token operator">*</span><span class="token builtin">len</span><span class="token punctuation">(</span>dic_wea<span class="token punctuation">.</span>keys<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
 color <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'lightskyblue'</span><span class="token punctuation">,</span><span class="token string">'silver'</span><span class="token punctuation">,</span><span class="token string">'yellow'</span><span class="token punctuation">,</span><span class="token string">'salmon'</span><span class="token punctuation">,</span><span class="token string">'grey'</span><span class="token punctuation">,</span><span class="token string">'lime'</span><span class="token punctuation">,</span><span class="token string">'gold'</span><span class="token punctuation">,</span><span class="token string">'red'</span><span class="token punctuation">,</span><span class="token string">'green'</span><span class="token punctuation">,</span><span class="token string">'pink'</span><span class="token punctuation">]</span>
 plt<span class="token punctuation">.</span>pie<span class="token punctuation">(</span>dic_wea<span class="token punctuation">.</span>values<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>explode<span class="token operator">=</span>explode<span class="token punctuation">,</span>labels<span class="token operator">=</span>dic_wea<span class="token punctuation">.</span>keys<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>autopct<span class="token operator">=</span><span class="token string">'%1.1f%%'</span><span class="token punctuation">,</span>colors<span class="token operator">=</span>color<span class="token punctuation">)</span>
 plt<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">'未来14天气候分布饼图'</span><span class="token punctuation">)</span>
 plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
 plt<span class="token punctuation">.</span>rcParams<span class="token punctuation">[</span><span class="token string">'font.sans-serif'</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'SimHei'</span><span class="token punctuation">]</span> <span class="token comment"># 解决中文显示问题</span>
 plt<span class="token punctuation">.</span>rcParams<span class="token punctuation">[</span><span class="token string">'axes.unicode_minus'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">False</span>  <span class="token comment"># 解决负号显示问题</span>
 data14 <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">'weather14.csv'</span><span class="token punctuation">,</span>encoding<span class="token operator">=</span><span class="token string">'gb2312'</span><span class="token punctuation">)</span>
 <span class="token keyword">print</span><span class="token punctuation">(</span>data14<span class="token punctuation">)</span>
 tem_curve<span class="token punctuation">(</span>data14<span class="token punctuation">)</span>
 wind_radar<span class="token punctuation">(</span>data14<span class="token punctuation">)</span>
 weather_pie<span class="token punctuation">(</span>data14<span class="token punctuation">)</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
 main<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<h2><a id="Python_799"></a>关于Python学习指南</h2> 
<p>学好 Python 不论是就业还是做副业赚钱都不错，但要学会 Python 还是要有一个学习规划。最后给大家分享一份全套的 Python 学习资料，给那些想学习 Python 的小伙伴们一点帮助！</p> 
<p><mark>包括：Python激活码+安装包、Python web开发，Python爬虫，Python数据分析，人工智能、自动化办公等学习教程。带你从零基础系统性的学好Python！</mark></p> 
<h4><a id="Python_810"></a>👉Python所有方向的学习路线👈</h4> 
<p>Python所有方向路线就是把Python常用的技术点做整理，形成各个领域的知识点汇总，它的用处就在于，你可以按照上面的知识点去找对应的学习资源，保证自己学得较为全面。<mark><strong>（全套教程文末领取）</strong></mark></p> 
<p><img src="https://images2.imgbox.com/1a/eb/AHDW02i0_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="Python600_821"></a>👉Python学习视频600合集👈</h4> 
<p>观看零基础学习视频，看视频学习是最快捷也是最有效果的方式，跟着视频中老师的思路，从基础到深入，还是很容易入门的。</p> 
<p><img src="https://images2.imgbox.com/23/97/HcYTepPe_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="mark_829"></a><mark>温馨提示：篇幅有限，已打包文件夹，获取方式在：文末</mark></h4> 
<h4><a id="Python70_836"></a>👉Python70个实战练手案例&amp;源码👈</h4> 
<p>光学理论是没用的，要学会跟着一起敲，要动手实操，才能将自己的所学运用到实际当中去，这时候可以搞点实战案例来学习。</p> 
<p><img src="https://images2.imgbox.com/00/89/MHB7999K_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="Python_844"></a>👉Python大厂面试资料👈</h4> 
<p>我们学习Python必然是为了找到高薪的工作，下面这些面试题是来自<strong>阿里、腾讯、字节等一线互联网大厂</strong>最新的面试资料，并且有阿里大佬给出了权威的解答，刷完这一套面试资料相信大家都能找到满意的工作。</p> 
<p><img src="https://images2.imgbox.com/ac/9d/yuSh38jk_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/f0/eb/AwniFeGa_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="Python_853"></a>👉Python副业兼职路线&amp;方法👈</h4> 
<p>学好 Python 不论是就业还是做副业赚钱都不错，但要学会兼职接单还是要有一个学习规划。</p> 
<p><img src="https://images2.imgbox.com/0d/29/97Zu9K06_o.png" alt="在这里插入图片描述"></p> 
<p><strong>👉</strong> <strong>这份完整版的Python全套学习资料已经上传，朋友们如果需要可以扫描下方CSDN官方认证二维码或者点击链接免费领取</strong>【<strong><code>保证100%免费</code></strong>】</p> 
<p><font color="red"><strong>点击免费领取《CSDN大礼包》：<a href="https://mp.weixin.qq.com/s/t6nHTsrTe7Qt70EpdZTTaw" rel="nofollow">Python入门到进阶资料 &amp; 实战源码 &amp; 兼职接单方法 </a> 安全链接免费领取</strong></font></p> 
<img src="https://images2.imgbox.com/18/8c/MTroBL4a_o.jpg">
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/de572f5390d25d01a9de7d230e15d603/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">HTTP网络相关知识</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/aaa05ee2d83a8045fcf1d15c34c72985/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">互联网加竞赛 基于YOLO实现的口罩佩戴检测 - python opemcv 深度学习</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>