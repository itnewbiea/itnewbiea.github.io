<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>opencvâ€”â€”å›¾åƒéå†ä»¥åŠåƒç´ æ“ä½œ - ITå­¦ä¹ è€…åšå®¢</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="opencvâ€”â€”å›¾åƒéå†ä»¥åŠåƒç´ æ“ä½œ" />
<meta property="og:description" content="æ‘˜è¦ æˆ‘ä»¬åœ¨å›¾åƒå¤„ç†æ—¶ç»å¸¸ä¼šç”¨åˆ°éå†å›¾åƒåƒç´ ç‚¹çš„æ–¹å¼ï¼Œåœ¨OpenCVä¸­ä¸€èˆ¬æœ‰å››ç§å›¾åƒéå†çš„æ–¹å¼ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬é€šè¿‡åƒç´ å˜æ¢çš„ç‚¹æ“ä½œæ¥å®ç°å¯¹å›¾åƒäº®åº¦å’Œå¯¹æ¯”åº¦çš„è°ƒæ•´ã€‚
æ•°æ®æ ¼å¼åƒä¸‡ä¸è¦æé”™:
ucharå¯¹åº”çš„æ˜¯CV_8Uï¼Œcharå¯¹åº”çš„æ˜¯CV_8Sï¼Œintå¯¹åº”çš„æ˜¯CV_32Sï¼Œfloatå¯¹åº”çš„æ˜¯CV_32Fï¼Œdoubleå¯¹åº”çš„æ˜¯CV_64Fã€‚
è¡¥å……ï¼šÂ å›¾åƒå˜æ¢å¯ä»¥çœ‹æˆ
åƒç´ å˜æ¢â€”â€”ç‚¹æ“ä½œé‚»åŸŸå˜æ¢â€”â€”åŒºåŸŸæ“ä½œ(å·ç§¯ï¼Œç‰¹å¾æå–ï¼Œæ¢¯åº¦è®¡ç®—ç­‰) å¯¹äºç‚¹æ“ä½œï¼š
q(iï¼Œj)=Î±f(iï¼Œj)&#43;Î²
å…¶ä¸­f(iï¼Œj)æ˜¯è¾“å…¥ç‚¹åƒç´ å€¼ï¼Œq(iï¼Œj)æ˜¯è¾“å‡ºç‚¹åƒç´ å€¼ã€‚
1ï¼Œæ•°ç»„éå†-- at&lt;typename&gt;(i,j) è¯´æ˜ï¼šå°±æ˜¯æŠŠå›¾åƒçœ‹æˆäºŒç»´çŸ©é˜µï¼Œat(i,j)ç´¢å¼•åæ ‡ä½ç½®ï¼Œå•é€šé“ç›´æ¥å¾—åˆ°åæ ‡ä½ç½®å¯¹åº”çš„åƒç´ å€¼ï¼Œä¸‰é€šé“å°±è¿™ä¸ªä½ç½®ä»£è¡¨äº†åƒç´ å€¼çš„ä¸€ç»´æ•°ç»„ï¼›
Matç±»æä¾›äº†ä¸€ä¸ªatçš„æ–¹æ³•ç”¨äºå–å¾—å›¾åƒä¸Šçš„ç‚¹ï¼Œå®ƒæ˜¯ä¸€ä¸ªæ¨¡æ¿å‡½æ•°ï¼Œå¯ä»¥å–åˆ°ä»»ä½•ç±»å‹çš„å›¾åƒä¸Šçš„ç‚¹ã€‚è¿™é‡Œé€‰ç”¨å‚æ•°Î±=1.5ï¼ŒÎ²=0.5æ¥æé«˜å›¾åƒäº®åº¦ã€‚
int main(int argc, char** argv) { Mat src; src = imread(&#34;D:/opencvç»ƒä¹ å›¾ç‰‡/è–›ä¹‹è°¦.jpg&#34;); imshow(&#34;Image&#34;, src); //åˆ›å»ºä¸€ä¸ªå’ŒåŸå›¾ä¸€è‡´çš„ç©ºç™½å›¾åƒ Mat dst = Mat::zeros(src.size(), src.type()); for (int i = 0; i &lt; src.rows; i&#43;&#43;) { for (int j = 0; j &lt; src.cols; j&#43;&#43;) { if (src.channels() == 1) //å•é€šé“éå† { dst.at&lt;uchar&gt;(i, j) = src.at&lt;uchar&gt;(i, j) &#43; 100; } else if (src." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/ec961316a5c0f7269535d2150b95da23/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-05-12T16:56:00+08:00" />
<meta property="article:modified_time" content="2021-05-12T16:56:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ITå­¦ä¹ è€…åšå®¢" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ITå­¦ä¹ è€…åšå®¢</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">opencvâ€”â€”å›¾åƒéå†ä»¥åŠåƒç´ æ“ä½œ</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div id="cnblogs_post_body" class="blogpost-body blogpost-body-html" style="font-size: 16px;"> 
 <h2><span style="font-weight: bold;">æ‘˜è¦</span></h2> 
 <p>æˆ‘ä»¬åœ¨å›¾åƒå¤„ç†æ—¶ç»å¸¸ä¼šç”¨åˆ°éå†å›¾åƒåƒç´ ç‚¹çš„æ–¹å¼ï¼Œåœ¨OpenCVä¸­ä¸€èˆ¬æœ‰å››ç§å›¾åƒéå†çš„æ–¹å¼ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬é€šè¿‡åƒç´ å˜æ¢çš„ç‚¹æ“ä½œæ¥å®ç°å¯¹å›¾åƒäº®åº¦å’Œå¯¹æ¯”åº¦çš„è°ƒæ•´ã€‚</p> 
 <p><strong>æ•°æ®æ ¼å¼åƒä¸‡ä¸è¦æé”™:</strong><br>ucharå¯¹åº”çš„æ˜¯CV_8Uï¼Œcharå¯¹åº”çš„æ˜¯CV_8Sï¼Œintå¯¹åº”çš„æ˜¯CV_32Sï¼Œfloatå¯¹åº”çš„æ˜¯CV_32Fï¼Œdoubleå¯¹åº”çš„æ˜¯CV_64Fã€‚</p> 
 <hr> 
 <p>Â è¡¥å……ï¼šÂ å›¾åƒå˜æ¢å¯ä»¥çœ‹æˆ</p> 
 <ul><li>åƒç´ å˜æ¢â€”â€”ç‚¹æ“ä½œ</li><li>é‚»åŸŸå˜æ¢â€”â€”åŒºåŸŸæ“ä½œ(å·ç§¯ï¼Œç‰¹å¾æå–ï¼Œæ¢¯åº¦è®¡ç®—ç­‰)</li></ul> 
 <p><strong>å¯¹äºç‚¹æ“ä½œï¼š</strong></p> 
 <p>q(iï¼Œj)=Î±f(iï¼Œj)+Î²</p> 
 <p>å…¶ä¸­f(iï¼Œj)æ˜¯è¾“å…¥ç‚¹åƒç´ å€¼ï¼Œq(iï¼Œj)æ˜¯è¾“å‡ºç‚¹åƒç´ å€¼ã€‚</p> 
 <hr> 
 <h3><span style="font-weight: bold;"><strong>Â 1ï¼Œæ•°ç»„éå†-- at&lt;typename&gt;(i,j)</strong></span></h3> 
 <p><strong>è¯´æ˜ï¼š</strong><strong>å°±æ˜¯æŠŠå›¾åƒçœ‹æˆäºŒç»´çŸ©é˜µï¼Œat(i,j)ç´¢å¼•åæ ‡ä½ç½®ï¼Œå•é€šé“ç›´æ¥å¾—åˆ°åæ ‡ä½ç½®å¯¹åº”çš„åƒç´ å€¼ï¼Œä¸‰é€šé“å°±è¿™ä¸ªä½ç½®ä»£è¡¨äº†åƒç´ å€¼çš„ä¸€ç»´æ•°ç»„ï¼›</strong></p> 
 <p>Matç±»æä¾›äº†ä¸€ä¸ªatçš„æ–¹æ³•ç”¨äºå–å¾—å›¾åƒä¸Šçš„ç‚¹ï¼Œå®ƒæ˜¯ä¸€ä¸ªæ¨¡æ¿å‡½æ•°ï¼Œå¯ä»¥å–åˆ°ä»»ä½•ç±»å‹çš„å›¾åƒä¸Šçš„ç‚¹ã€‚è¿™é‡Œé€‰ç”¨å‚æ•°Î±=1.5ï¼ŒÎ²=0.5æ¥æé«˜å›¾åƒäº®åº¦ã€‚</p> 
 <div class="cnblogs_code"> 
  <pre><code class="has">int main(int argc, char** argv)
{    
    Mat src;
    src = imread("D:/opencvç»ƒä¹ å›¾ç‰‡/è–›ä¹‹è°¦.jpg");
    imshow("Image", src);
    //åˆ›å»ºä¸€ä¸ªå’ŒåŸå›¾ä¸€è‡´çš„ç©ºç™½å›¾åƒ
    Mat dst = Mat::zeros(src.size(), src.type());
    for (int i = 0; i &lt; src.rows; i++)
    {
        for (int j = 0; j &lt; src.cols; j++)
        {
               if (src.channels() == 1) //å•é€šé“éå†
              {
                       dst.at&lt;uchar&gt;(i, j) = src.at&lt;uchar&gt;(i, j) + 100; 

               }
               else if (src.channels() ==3)//ä¸‰é€šé“éå†
            {
            //é€šè¿‡æ•°ç»„éå†è·å–å›¾åƒæ¯ä¸ªç‚¹
            float b = src.at&lt;Vec3b&gt;(i, j)[0];
            float g = src.at&lt;Vec3b&gt;(i, j)[1];
            float r = src.at&lt;Vec3b&gt;(i, j)[2];
            //è¿›è¡Œç‚¹æ“ä½œåèµ‹å€¼ç»™ç©ºç™½å›¾åƒdst
            float alpha = 1.5;
             float beta = 0.5;
            dst.at&lt;Vec3b&gt;(i, j)[0] = saturate_cast&lt;uchar&gt;(b*alpha + beta);
            dst.at&lt;Vec3b&gt;(i, j)[1] = saturate_cast&lt;uchar&gt;(g*alpha + beta);
            dst.at&lt;Vec3b&gt;(i, j)[2] = saturate_cast&lt;uchar&gt;(r*alpha + beta);
            }
        }
    }
    imshow("ç‚¹æ“ä½œ", dst);
    waitKey(0);
    return 0;
} </code>
</pre> 
 </div> 
 <pre><code class="has">saturate_cast&lt;uchar&gt;æ˜¯æº¢å‡ºä¿æŠ¤ï¼Œåœ¨è¿›è¡Œåƒç´ çš„ä¹˜æ³•åå¾ˆå®¹æ˜“é€ æˆåƒç´ ç‚¹çš„å€¼è¶…å‡º0-255çš„èŒƒå›´ï¼Œå› æ­¤ä½¿ç”¨saturate_cast&lt;uchar&gt;ç¡®ä¿åƒç´ å€¼å§‹ç»ˆåœ¨0-255çš„èŒƒå›´å†…ã€‚</code>
</pre> 
 <p><img src="https://images2.imgbox.com/54/07/9OcK3z1L_o.png" alt="" width="236" height="261" style="outline: none;"><img src="https://images2.imgbox.com/a6/96/fVZcu8Te_o.png" alt="" width="236" height="258" style="outline: none;"></p> 
 <h3><span style="font-weight: bold;">2ï¼ŒæŒ‡é’ˆéå†æ³•</span></h3> 
 <p>OpenCVä¸­cv::Matç±»æä¾›äº†æˆå‘˜å‡½æ•°ptrå¾—åˆ°å›¾åƒä»»æ„è¡Œçš„é¦–åœ°å€ã€‚ptrå‡½æ•°æ˜¯ä¸€ä¸ªæ¨¡æ¿å‡½æ•°ï¼Œå¦‚ï¼š<strong>src.ptr&lt;uchar&gt;(i)Â </strong></p> 
 <p><strong>è¯´æ˜ï¼šptræŒ‡é’ˆå°¤å…¶å›ºå®šæ ¼å¼ï¼Œå°±æ˜¯å…ˆæŠŠå›¾åƒçœ‹æˆ(src.rows,1)çš„å›¾åƒï¼Œptrè·å–æ¯ä¸ªä½ç½®çš„åœ°å€ï¼Œåœ°å€ä½ç½®éšè—äº†åˆ—çš„æ•°æ®ï¼Œç”±äºåˆ—è¡¨åå°±æ˜¯åˆ—è¡¨çš„åœ°å€ï¼Œæ‰€ä»¥ptrè·å–çš„åœ°å€å°±æ˜¯æ­¤è¡Œä¸­åˆ—è¿™æ ·ä¸€ç»´æ•°æ®çš„åˆ—è¡¨åç§°ã€‚è¿™æ ·é€šè¿‡ä¸‹æ ‡å°±å¯ä»¥è·å–åƒç´ å€¼</strong></p> 
 <div class="cnblogs_code"> 
  <pre><code class="has">int main(int argc, char** argv)
{    
    Mat src;
    src = imread("D:/opencvç»ƒä¹ å›¾ç‰‡/è–›ä¹‹è°¦.jpg");
    imshow("Image", src);
    //åˆ›å»ºä¸€ä¸ªå’ŒåŸå›¾ä¸€è‡´çš„ç©ºç™½å›¾åƒ
    Mat dst = Mat::zeros(src.size(), src.type());
    int width ;
    //åˆ¤æ–­å›¾åƒæ˜¯å¦è¿ç»­
    if (src.isContinuous() &amp;&amp; dst.isContinuous())
    {
        // å°†3é€šé“è½¬æ¢ä¸º1é€šé“    
        width = src.cols * src.channels();
    }
    for (int i = 0; i &lt; src.rows; i++)
    {
        // è·å–ç¬¬iè¡Œçš„é¦–åœ°å€
        const uchar* src_rows = src.ptr&lt;uchar&gt;(i);
        uchar* dst_ptr = dst.ptr&lt;uchar&gt;(i);
        //åƒç´ ç‚¹æ“ä½œå¤„ç†
        for (int j = 0; j &lt; width; j++)
        {
            dst_ptr[j] = saturate_cast&lt;uchar&gt;(src_rows[j] *1.5 + 0.5);
            dst_ptr[j + 1] = saturate_cast&lt;uchar&gt;(src_rows[j + 1] *1.5 + 0.5);
            dst_ptr[j + 2] = saturate_cast&lt;uchar&gt;(src_rows[j + 2] *1.5 + 0.5);
        }
    }
    imshow("ç‚¹æ“ä½œ", dst);
    waitKey(0);
    return 0;
}</code>
</pre> 
 </div> 
 <p>ç¨‹åºä¸­å°†ä¸‰é€šé“çš„æ•°æ®è½¬æ¢ä¸º1é€šé“ï¼Œæ˜¯å»ºç«‹åœ¨æ¯ä¸€è¡Œæ•°æ®å…ƒç´ ä¹‹é—´åœ¨å†…å­˜é‡Œæ˜¯è¿ç»­å­˜å‚¨çš„ã€‚ä½†åœ¨opencvä¸­ç”±äºçš„å­˜å‚¨æœºåˆ¶é—®é¢˜ï¼Œè¡Œä¸è¡Œä¹‹é—´å¯èƒ½æœ‰ç©ºç™½å•å…ƒï¼Œå› æ­¤Matæä¾›äº†ä¸€ä¸ªæ£€æµ‹å›¾åƒæ˜¯å¦è¿ç»­çš„å‡½æ•°isContinuous()ï¼Œå½“å›¾åƒè¿é€šæ—¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥æŠŠå›¾åƒå®Œå…¨å±•å¼€ï¼Œçœ‹æˆæ˜¯ä¸€è¡Œã€‚</p> 
 <hr> 
 <p><strong>é’ˆå¯¹atå’Œptræœ‰å¾ˆå¤šäººå®¹æ˜“ç†è§£at,å´ç†è§£ä¸äº†ptr,ä¸‹é¢è®²ä¸€ä¸ªç”¨atç”Ÿæˆptræ¨¡å¼çš„è§£æä¾‹å­ï¼š</strong></p> 
 <p>è¯´æ˜:è¿™æ˜¯ä¸ºäº†å¯¹æ¯”atå’Œptrè€Œå¢åŠ çš„ï¼Œä¸»è¦æ˜¯è·å–at(i,0)ä½ç½®å¤„çš„åœ°å€ï¼Œå°†å…¶çœ‹æˆæ•°å€¼åç§°ï¼Œé€šè¿‡ä¸‹æ ‡ç´¢å¼•åƒç´ å€¼ï¼Œå’ŒptråŸç†ä¸€æ ·ï¼Œåªæ˜¯è·å–åœ°å€çš„æ–¹å¼ä¸ä¸€æ ·(æ•°ç»„å)</p> 
 <p><strong>1ï¸âƒ£</strong><strong>éå†ç°åº¦å›¾åƒåƒç´ æ–¹æ³•ï¼š(é‡‡ç”¨atæ–¹æ³•ï¼Œä½¿ç”¨ptræ¨¡å¼)</strong></p> 
 <div class="cnblogs_code"> 
  <pre><code class="has">    for (int i = 0; i &lt; src.rows; i++)
    {
        //å°†ç°åº¦å›¾ç‰‡çœ‹æˆ(src.rows,1)ç»´åº¦çš„äºŒç»´çŸ©é˜µï¼Œè·å–(i,0)æ•°æ®çš„åœ°å€
        uchar* src_rows_ptr = &amp;(src.at&lt;uchar&gt;(i, 0));
        uchar* dst_rows_ptr = &amp;(dst.at&lt;uchar&gt;(i, 0));

        for (int j = 0; j &lt; src.cols; j++)
        {
            //å°†(i,0)æ•°æ®çš„åœ°å€ä¸‹çš„å†…å®¹çœ‹æˆæ˜¯ä¸€ç»´æ•°ç»„ï¼Œ(i,0)æ•°æ®çš„åœ°å€æ˜¯ä¸€ç»´æ•°ç»„çš„åå­—
            dst_rows_ptr[j] = src_rows_ptr[j] + 100;
        }
    }</code>
</pre> 
 </div> 
 <p>2ï¸âƒ£<strong>éå†å½©è‰²å›¾åƒåƒç´ æ–¹æ³•ï¼š(</strong><strong>é‡‡ç”¨atæ–¹æ³•ï¼Œä½¿ç”¨ptræ¨¡å¼)</strong></p> 
 <div class="cnblogs_code"> 
  <pre><code class="has">for (int i = 0; i &lt; src.rows; i++)
    {
        //å°†å½©è‰²å›¾ç‰‡çœ‹æˆ(src.rows,1)ç»´åº¦çš„äºŒç»´çŸ©é˜µï¼Œè·å–(i,0)æ•°æ®çš„åœ°å€
        Vec3b* src_rows_ptr = &amp;(src.at&lt;Vec3b&gt;(i, 0));
        Vec3b* dst1_rows_ptr = &amp;(dst1.at&lt;Vec3b&gt;(i, 0));

        for (int j = 0; j &lt; src.cols; j++)
        {
            //å°†(i,0)æ•°æ®çš„åœ°å€ä¸‹çš„å†…å®¹çœ‹æˆæ˜¯äºŒç»´æ•°ç»„ï¼Œ(i,0)æ•°æ®çš„åœ°å€æ˜¯äºŒç»´æ•°ç»„çš„åå­—
            dst1_rows_ptr[j][0] = src_rows_ptr[j](0) + 100;
            dst1_rows_ptr[j][1] = src_rows_ptr[j](1) + 100;
            dst1_rows_ptr[j][2] = src_rows_ptr[j](2) + 100;
        }
    }</code>
</pre> 
 </div> 
 <p><strong>ç»¼ä¸Šæ‰€è¿°ï¼šä½¿ç”¨ptræŒ‡é’ˆæ•ˆç‡éå¸¸é«˜ï¼Œå¤§å®¶æ™®éä½¿ç”¨çš„æ˜¯atå’Œptræ–¹æ³•ï¼›ä½¿ç”¨çš„æ—¶å€™ï¼Œä¸€å®šè¦è§„èŒƒæ ¼å¼ï¼›</strong><strong>å…¶ä¸­ï¼šat&lt;ç±»å‹&gt;(iï¼Œj)</strong><strong>ptr&lt;ç±»å‹&gt;(i)</strong></p> 
 <hr> 
 <h3>Â <strong><span style="font-weight: bold;">3ã€è¿­ä»£å™¨éå†</span></strong></h3> 
 <p>è¿­ä»£å™¨æ˜¯ä¸“é—¨ç”¨äºéå†æ•°æ®é›†åˆçš„ä¸€ç§éå¸¸é‡è¦çš„ç‰¹æ®Šçš„ç±»ï¼Œç”¨å…¶éå†éšè—äº†åœ¨ç»™å®šé›†åˆä¸Šå…ƒç´ è¿­ä»£çš„å…·ä½“å®ç°æ–¹å¼ã€‚è¿­ä»£å™¨æ–¹æ³•æ˜¯ä¸€ç§æ›´å®‰å…¨çš„ç”¨æ¥éå†å›¾åƒçš„æ–¹å¼ï¼Œé¦–å…ˆè·å–åˆ°æ•°æ®å›¾åƒçš„çŸ©é˜µèµ·å§‹ï¼Œå†é€šè¿‡é€’å¢è¿­ä»£å®ç°ç§»åŠ¨æ•°æ®æŒ‡é’ˆã€‚</p> 
 <p>1ã€è¿­ä»£å™¨Matlterator_Â  Â Matlterator_æ˜¯Matæ•°æ®æ“ä½œçš„è¿­ä»£å™¨ï¼Œï¼šbegin()è¡¨ç¤ºæŒ‡å‘Matæ•°æ®çš„èµ·å§‹è¿­ä»£å™¨ï¼Œï¼šend()è¡¨ç¤ºæŒ‡å‘Matæ•°æ®çš„ç»ˆæ­¢è¿­ä»£å™¨ã€‚</p> 
 <p>2ã€è¿­ä»£å™¨Mat_Â  Â  Â  Â  Â  Â  Â Â OpenCVå®šä¹‰äº†ä¸€ä¸ªMatçš„æ¨¡æ¿å­ç±»ä¸ºMat_ï¼Œå®ƒé‡è½½äº†operator()è®©æˆ‘ä»¬å¯ä»¥æ›´æ–¹ä¾¿çš„å–å›¾åƒä¸Šçš„ç‚¹ã€‚</p> 
 <div class="cnblogs_code"> 
  <pre><code class="has">int main(int argc, char** argv)
{        
    Mat src;
    src = imread("D:/opencvç»ƒä¹ å›¾ç‰‡/è–›ä¹‹è°¦.jpg");
    imshow("Image", src);
    <span class="hljs-comment">// åˆå§‹åŒ–å›¾åƒè¿­ä»£å™¨ </span>
    Mat_&lt;Vec3b&gt;::iterator it = src.begin&lt;Vec3b&gt;();
    Mat_&lt;Vec3b&gt;::iterator itend = src.end&lt;Vec3b&gt;();
    while (it != itend)
    {
        //åƒç´ ç‚¹æ“ä½œ
        (*it)[0] = saturate_cast&lt;uchar&gt;((*it)[0]*1.5+0.5);
        (*it)[1] = saturate_cast&lt;uchar&gt;((*it)[1] * 1.5 + 0.5);
        (*it)[2] = saturate_cast&lt;uchar&gt;((*it)[2] * 1.5 + 0.5);
        it++;
    }
    imshow("ç‚¹æ“ä½œ", src);
    waitKey(0);
    return 0;
}</code>
</pre> 
 </div> 
 <p><strong>ç»æµ‹è¯•ï¼Œå¾—åˆ°ä¸æ•°ç»„éå†ä¸€æ ·çš„æ•ˆæœã€‚</strong></p> 
 <h3 id="4æ ¸å¿ƒå‡½æ•°lut"><span style="font-weight: bold;">4ã€æ ¸å¿ƒå‡½æ•°LUT</span></h3> 
 <p>Â LUT(LOOK -UP-TABLE)æŸ¥æ‰¾è¡¨ã€‚ç®€è¨€ä¹‹ï¼šåœ¨ä¸€å¹…å›¾åƒä¸­ï¼Œå‡å¦‚æˆ‘ä»¬æƒ³å°†å›¾åƒæŸä¸€ç°åº¦å€¼æ¢æˆå…¶ä»–ç°åº¦å€¼ï¼Œç”¨LUTå°±å¾ˆå¥½ç”¨ã€‚è¿™æ ·å¯ä»¥èµ·åˆ°çªå‡ºå›¾åƒçš„æœ‰ç”¨ä¿¡æ¯ï¼Œå¢å¼ºå›¾åƒçš„å…‰å¯¹æ¯”åº¦çš„ä½œç”¨å¯¹æŸå›¾åƒä¸­çš„åƒç´ å€¼è¿›è¡Œæ›¿æ¢ã€‚ã€‚</p> 
 <p>åœ¨å›¾åƒå¤„ç†ä¸­ï¼Œå¯¹äºä¸€ä¸ªç»™å®šçš„å€¼ï¼Œå°†å…¶æ›¿æ¢æˆå…¶ä»–çš„å€¼æ˜¯ä¸€ä¸ªå¾ˆå¸¸è§çš„æ“ä½œï¼ŒOpenCV æä¾›é‡Œä¸€ä¸ªå‡½æ•°ç›´æ¥å®ç°è¯¥æ“ä½œLUTå‡½æ•°</p> 
 <p>å‡½æ•° API</p> 
 <div class="cnblogs_code"> 
  <pre><code class="has">void LUT(InputArray src, InputArray lut, OutputArray dst);
//srcè¡¨ç¤ºçš„æ˜¯è¾“å…¥å›¾åƒ(å¯ä»¥æ˜¯å•é€šé“ä¹Ÿå¯æ˜¯3é€šé“)
//lutè¡¨ç¤ºæŸ¥æ‰¾è¡¨(æŸ¥æ‰¾è¡¨ä¹Ÿå¯ä»¥æ˜¯å•é€šé“ï¼Œä¹Ÿå¯ä»¥æ˜¯3é€šé“ï¼›
//...å¦‚æœè¾“å…¥å›¾åƒä¸ºå•é€šé“ï¼Œé‚£æŸ¥æ‰¾è¡¨å¿…é¡»ä¸ºå•é€šé“ï¼›
//...è‹¥è¾“å…¥å›¾åƒä¸º3é€šé“ï¼ŒæŸ¥æ‰¾è¡¨å¯ä»¥ä¸ºå•é€šé“ï¼Œä¹Ÿå¯ä»¥ä¸º3é€šé“ï¼›
//...è‹¥ä¸ºå•é€šé“åˆ™è¡¨ç¤ºå¯¹å›¾åƒ3ä¸ªé€šé“éƒ½åº”ç”¨è¿™ä¸ªè¡¨ï¼Œè‹¥ä¸º3é€šé“åˆ™åˆ†åˆ«åº”ç”¨ )
//dstè¡¨ç¤ºè¾“å‡ºå›¾åƒ</code>
</pre> 
 </div> 
 <p>Â <strong>å¦‚ä½•ä½¿ç”¨è¯¥å‡½æ•°ï¼Ÿ</strong></p> 
 <ol><li>é¦–å…ˆæˆ‘ä»¬å»ºç«‹ä¸€ä¸ªmatå‹ç”¨äºæŸ¥è¡¨</li><li>ç„¶åæˆ‘ä»¬è°ƒç”¨å‡½æ•° (I æ˜¯è¾“å…¥ J æ˜¯è¾“å‡º):<code>LUT(I, lookUpTable, J);</code></li></ol> 
 <p>LUTå‡½æ•°çš„ä½œç”¨ï¼š</p> 
 <p><strong>(1)æ”¹å˜å›¾åƒä¸­åƒç´ ç°åº¦å€¼</strong></p> 
 <p>é€šè¿‡æ„å»ºæŸ¥æ‰¾è¡¨ï¼Œå›¾ç‰‡0-100ç°åº¦çš„åƒç´ ç°åº¦å°±å˜æˆ0ï¼Œ101-200çš„å˜æˆ100,201-255çš„å°±å˜æˆ255ã€‚</p> 
 <div class="cnblogs_code"> 
  <pre><code class="has">int main(int argc, char** argv)
{        
    Mat src,dst1,dst3;
    src = imread("D:/opencvç»ƒä¹ å›¾ç‰‡/è–›ä¹‹è°¦.jpg");
    imshow("Image", src);
    //æŸ¥æ‰¾è¡¨ï¼Œæ•°ç»„çš„ä¸‹æ ‡å¯¹åº”å›¾ç‰‡é‡Œé¢çš„ç°åº¦å€¼
    //ä¾‹å¦‚lutData[20]=0;è¡¨ç¤ºç°åº¦ä¸º20çš„åƒç´ å…¶å¯¹åº”çš„å€¼0.    
    uchar lutData[256];
    for (int i = 0; i &lt; 256; i++)
    {
        if (i &lt;= 100)
            lutData[i] = 0;
        if (i &gt; 100 &amp;&amp; i &lt;= 200)
            lutData[i] = 100;
        if (i &gt; 200)
            lutData[i] = 255;
    }
    Mat lut(1, 256, CV_8UC1, lutData);
    LUT(src, lut, dst1);    
    imshow("LUC", dst1);    
    waitKey(0);
    return 0;
}Â </code>
</pre> 
 </div> 
 <p><img src="https://images2.imgbox.com/0b/bf/Me7iz7WS_o.png" alt="" width="244" height="257" style="outline: none;"><img src="https://images2.imgbox.com/7a/e5/XdJIGdez_o.png" alt="" width="235" height="257" style="outline: none;"></p> 
 <p><strong>(2)é¢œè‰²ç©ºé—´ç¼©å‡</strong></p> 
 <div class="article-title-box"> 
  <p>å¦‚æœçŸ©é˜µå…ƒç´ å­˜å‚¨çš„æ˜¯å•é€šé“åƒç´ ï¼Œä½¿ç”¨<em>uchar</em>Â (æ— ç¬¦å·å­—ç¬¦ï¼Œå³0åˆ°255ä¹‹é—´å–å€¼çš„æ•°)é‚£ä¹ˆåƒç´ å¯æœ‰256ä¸ªä¸åŒå€¼ã€‚ä½†è‹¥æ˜¯ä¸‰é€šé“å›¾åƒï¼Œè¿™ç§å­˜å‚¨æ ¼å¼çš„é¢œè‰²æ•°å°±æ˜¯256*256*256ä¸ª(æœ‰ä¸€åƒå…­ç™¾å¤šä¸‡ç§)ã€‚ç”¨å¦‚æ­¤ä¹‹å¤šçš„é¢œè‰²å¯èƒ½ä¼šå¯¹æˆ‘ä»¬çš„ç®—æ³•æ€§èƒ½é€ æˆä¸¥é‡å½±å“ã€‚å…¶å®æœ‰æ—¶å€™ï¼Œä»…ç”¨è¿™äº›é¢œè‰²çš„ä¸€å°éƒ¨åˆ†ï¼Œå°±è¶³ä»¥è¾¾åˆ°åŒæ ·æ•ˆæœã€‚</p> 
  <p>è¿™ç§æƒ…å†µä¸‹ï¼Œå¸¸ç”¨çš„ä¸€ç§æ–¹æ³•æ˜¯Â <em>é¢œè‰²ç©ºé—´ç¼©å‡</em>Â ã€‚å…¶åšæ³•æ˜¯ï¼šå°†ç°æœ‰é¢œè‰²ç©ºé—´å€¼é™¤ä»¥æŸä¸ªè¾“å…¥å€¼ï¼Œä»¥è·å¾—è¾ƒå°‘çš„é¢œè‰²æ•°ã€‚ä¾‹å¦‚ï¼Œé¢œè‰²å€¼0-9çš„å–ä¸º0ï¼Œ10-19çš„å–ä¸º10ï¼Œä»¥æ­¤ç±»æ¨ã€‚å°±æŠŠ256ä¸ªä¸åŒå€¼åˆ’åˆ†ä¸º26ä¸ªï¼Œå¤§å¤§å‡å°‘è¿ç®—æ—¶é—´ã€‚</p> 
  <p><em>uchar</em>Â ç±»å‹çš„å€¼é™¤ä»¥Â <em>int</em>Â å€¼ï¼Œç»“æœä»æ˜¯Â <em>char</em>Â ã€‚å› ä¸ºç»“æœæ˜¯charç±»å‹çš„ï¼Œæ‰€ä»¥æ±‚å‡ºæ¥å°æ•°ä¹Ÿè¦å‘ä¸‹å–æ•´ã€‚åˆ©ç”¨è¿™ä¸€ç‚¹ï¼Œåˆšæ‰æåˆ°åœ¨Â <em>uchar</em>Â å®šä¹‰åŸŸä¸­è¿›è¡Œçš„é¢œè‰²ç¼©å‡è¿ç®—å°±å¯ä»¥è¡¨è¾¾ä¸ºä¸‹åˆ—å½¢å¼ï¼š</p> 
  <p>Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <img src="https://images2.imgbox.com/88/c0/KyiSAvWY_o.png" alt="" width="242" height="78" style="outline: none;"></p> 
  <p>è¿™æ ·çš„è¯ï¼Œç®€å•çš„é¢œè‰²ç©ºé—´ç¼©å‡ç®—æ³•å°±å¯ç”±ä¸‹é¢ä¸¤æ­¥ç»„æˆï¼š</p> 
  <p>ä¸€ã€éå†å›¾åƒçŸ©é˜µçš„æ¯ä¸€ä¸ªåƒç´ </p> 
  <p>äºŒã€å¯¹åƒç´ åº”ç”¨ä¸Šè¿°å…¬å¼ã€‚</p> 
  <p><strong>ä¸‹é¢å°†å›¾åƒå‹ç¼©çº§è®¾ç½®ä¸º20(å³0-19å˜ä¸º0ï¼Œ20-39å˜ä¸º20â€¦)</strong></p> 
  <div class="cnblogs_code"> 
   <pre><code class="has">int main(int argc, char** argv)
{        
    Mat src,dst;
    src = imread("D:/opencvç»ƒä¹ å›¾ç‰‡/è–›ä¹‹è°¦.jpg");
    imshow("Image", src);
    uchar table[256];
    Mat lut(1, 256, CV_8U);//åˆ›å»ºæŸ¥æ‰¾è¡¨
    int divideWith = 20; //å‹ç¼©çº§ 20ç°åº¦ä¸º1çº§
    for (int i = 0; i &lt; 256; ++i)
    {
        table[i] = divideWith * (i / divideWith);//é¢œè‰²ç¼©å‡è¿ç®—
    }
    uchar *p = lut.data;
    for (int i = 0; i &lt; 256; ++i)
    {
        p[i] = table[i];//è¿™æ ·å°±å®ç°äº†åˆ©ç”¨æŸ¥æ‰¾è¡¨tableçš„æ–¹æ³•æ¥æ›¿æ¢æºå›¾åƒä¸­çš„æ•°æ®ï¼Œ
                        //è¿™å¯¹å›¾åƒå°±ä¸æ˜¯åŠ å‡ä¹˜é™¤è¿™ç§è®¡ç®—äº†ï¼Œè€Œå…¨éƒ¨æ˜¯ç›´æ¥å»æŸ¥è¯¢è¡¨ä¸­æ‰¾å¯¹åº”çš„å€¼ç„¶åå†æ›¿æ¢ã€‚
    }    
        LUT(src, lut, dst);
        imshow("LUT", dst);        
    waitKey(0);
    return 0;
}</code>
</pre> 
  </div> 
  <p><img src="https://images2.imgbox.com/34/be/CoOKPhB1_o.png" alt="" width="244" height="257" style="outline: none;"><img src="https://images2.imgbox.com/c9/9c/VvcgRNj5_o.png" alt="" width="234" height="256" style="outline: none;"></p> 
  <hr> 
  <h3><span style="font-weight: bold;">æ•ˆç‡æ¢è®¨</span></h3> 
  <p>ä¸€èˆ¬å›¾åƒè§„æ¨¡æ¯”è¾ƒå¤§çš„è¯ï¼Œå›¾åƒçš„éå†æ˜¯ä¸€é¡¹ç›¸å½“è€—æ—¶çš„å·¥ä½œï¼Œå› æ­¤ä¸ºæé«˜æ•ˆç‡ï¼Œä»¥ä¸‹å‡ ç‚¹å€¼å¾—æˆ‘ä»¬æ³¨æ„ï¼š</p> 
  <ul><li>å¯¹äºå¯æå‰è®¡ç®—çš„å˜é‡åº”é¿å…å†™åœ¨å¾ªç¯ä½“å†…ï¼›å¦‚</li></ul> 
  <div class="cnblogs_code _mce_tagged_br"> 
   <pre><code class="has">int cols=img.cols*img.channels();
for(int i=0;i&lt;cols;i++)   //è€Œä¸æ˜¯
// for(int i=p;i&lt;img.cols*img.channels();i++)</code>
</pre> 
  </div> 
  <ul><li>åœ¨ä»¥ä¸Šå››ç§å›¾åƒéå†æ–¹æ³•ä¸­ï¼Œä»æ•ˆç‡æ¥çœ‹ä½¿ç”¨ OpenCV å†…ç½®å‡½æ•°LUTå¯ä»¥è·å¾—æœ€å¿«çš„é€Ÿåº¦ï¼Œè¿™æ˜¯å› ä¸ºOpenCVåº“å¯ä»¥é€šè¿‡è‹±ç‰¹å°”çº¿ç¨‹æ¶æ„å¯ç”¨å¤šçº¿ç¨‹ã€‚å…¶æ¬¡ï¼ŒæŒ‡é’ˆéå†æœ€å¿«ï¼Œè¿­ä»£å™¨éå†æ¬¡ä¹‹ï¼Œatæ–¹æ³•éå†æœ€æ…¢ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åªæœ‰åœ¨å¯¹ä»»æ„ä½ç½®çš„åƒç´ è¿›è¡Œè¯»å†™æ—¶æ‰è€ƒè™‘atæ–¹æ³•ã€‚</li></ul> 
  <hr> 
  <p><strong>Â æœ€åé¡ºä¾¿æä¸€ä¸‹å›¾åƒçš„é‚»åŸŸæ“ä½œğŸ˜</strong></p> 
  <p>å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬å¯¹å›¾åƒå¤„ç†æ—¶ï¼Œè¦è€ƒè™‘å®ƒçš„é‚»åŸŸï¼Œæ¯”å¦‚3*3æ˜¯æˆ‘ä»¬å¸¸ç”¨çš„ï¼Œè¿™åœ¨å›¾åƒæ»¤æ³¢ã€å»å™ªä¸­æœ€ä¸ºå¸¸è§ï¼Œä¸‹é¢æˆ‘ä»¬ä»‹ç»å¦‚æœåœ¨ä¸€æ¬¡å›¾åƒéå†è¿‡ç¨‹ä¸­è¿›è¡Œé‚»åŸŸçš„è¿ç®—ã€‚</p> 
  <p>ä¸‹é¢æˆ‘ä»¬è¿›è¡Œä¸€ä¸ªç®€å•çš„æ»¤æ³¢æ“ä½œï¼Œæ»¤æ³¢ç®—å­ä¸º[0 â€“1 0;-1 5 â€“1;0 â€“1 0]ã€‚å®ƒå¯ä»¥è®©å›¾åƒå˜å¾—å°–é”ï¼Œè€Œè¾¹ç¼˜æ›´åŠ çªå‡ºã€‚æ ¸å¿ƒå…¬å¼å³ï¼šsharp(i.j)=5*image(i,j)-image(i-1,j)-image(i+1,j)-image(i,j-1)-image(i,j+1)ã€‚</p> 
  <div class="math"> 
   <div class="cnblogs_code"> 
    <pre><code class="has">int main(int argc, char** argv)
{        
    Mat src,dst;
    src = imread("D:/opencvç»ƒä¹ å›¾ç‰‡/è–›ä¹‹è°¦.jpg");
    imshow("Image", src);
    ImgFilter2d(src, dst);
    imshow("filter", dst);
    waitKey(0);
    return 0;
}
//æ„å»ºæ»¤æ³¢å‡½æ•°
void ImgFilter2d(const Mat &amp;image, Mat&amp; result)
{
       result.create(image.size(), image.type());
       int nr = image.rows;
        int nc = image.cols*image.channels();
        for (int i = 1; i &lt; nr - 1; i++)
        {
               //ç”¨æŒ‡é’ˆéå†è·å–å½“å‰è¡Œï¼Œä¸Šä¸€è¡Œï¼Œä¸‹ä¸€è¡Œ
                const uchar* up_line = image.ptr&lt;uchar&gt;(i - 1);//æŒ‡å‘ä¸Šä¸€è¡Œ
                const uchar* mid_line = image.ptr&lt;uchar&gt;(i);//å½“å‰è¡Œ
                 const uchar* down_line = image.ptr&lt;uchar&gt;(i + 1);//ä¸‹ä¸€è¡Œ
                 uchar* cur_line = result.ptr&lt;uchar&gt;(i);//åˆ›å»ºç»“æœå›¾åƒæŒ‡é’ˆ
                for (int j = 1; j &lt; nc - 1; j++)
                {
                         //æ ¸å¿ƒå…¬å¼
                         cur_line[j] = saturate_cast&lt;uchar&gt;(5 * mid_line[j] - mid_line[j - 1] - mid_line[j + 1] -up_line[j] - down_line[j]);
                }
        }
            // æŠŠå›¾åƒè¾¹ç¼˜åƒç´ è®¾ç½®ä¸º0
             result.row(0).setTo(Scalar(0));
             result.row(result.rows - 1).setTo(Scalar(0));
             result.col(0).setTo(Scalar(0));
             result.col(result.cols - 1).setTo(Scalar(0));
}</code>
</pre> 
   </div> 
   <p>Â <img src="https://images2.imgbox.com/ab/72/WcfspHMx_o.png" alt="" width="244" height="257" style="outline: none;"><img src="https://images2.imgbox.com/c1/14/pNgwOP2G_o.png" alt="" width="239" height="263" style="outline: none;"></p> 
  </div> 
 </div> 
</div>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/634c7437209a32102d83054aa3ace4cb/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">æ‰‹æŠŠæ‰‹å¸¦ä½ ç©è½¬k8s-å¥åº·æ£€æŸ¥ä¹‹å­˜æ´»æ¢é’ˆä¸å°±ç»ªæ¢é’ˆ</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/6c9aaf722825483f3a67af9d878c819b/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">websphere 64ä½ä¸‹è½½ linux,win10 ubuntuå­ç³»ç»Ÿå®‰è£…Websphere8.5.5</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ITå­¦ä¹ è€…åšå®¢.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>