<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【Qt之QStandardItemModel类】介绍 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【Qt之QStandardItemModel类】介绍" />
<meta property="og:description" content="描述 QStandardItemModel类提供了一个通用的模型，用于存储自定义数据。QStandardItemModel可以用作Qt标准数据类型的存储库。它是 Model/View类 之一，是 Qt的model/view框架 的一部分。 QStandardItemModel提 供了一种基于项目的传统方法来处理模型。 QStandardItemModel中的项目是由QStandardItem提供的。QStandardItemModel实现了QAbstractItemModel接口，这意味着该模型可用于在支持该接口的任何视图中提供数据（例如QListView、QTableView和QTreeView，以及自定义视图）。为了提高性能和灵活性，可能希望从QAbstractItemModel中派生子类，以提供对不同种类数据存储库的支持。例如，QDirModel提供了对底层文件系统的模型接口。
当想要一个列表或树时，通常会创建一个空的QStandardItemModel，并使用appendRow()将项目添加到模型中，并使用item()访问项目。如果模型表示一个表格，则通常会将表格的尺寸传递给QStandardItemModel构造函数，并使用setItem()将项目定位到表格中。还可以使用setRowCount()和setColumnCount()来更改模型的尺寸。要插入项目，请使用insertRow()或insertColumn()，要删除项目，请使用removeRow()或removeColumn()。
此外，可以使用setHorizontalHeaderLabels()和setVerticalHeaderLabels()设置模型的标题标签。可以使用findItems()搜索模型中的项目，并通过调用sort()对模型进行排序。调用clear()可以从模型中删除所有项目。
示例1：创建表格 QStandardItemModel model(4, 4); for (int row = 0; row &lt; 4; &#43;&#43;row) { for (int column = 0; column &lt; 4; &#43;&#43;column) { QStandardItem *item = new QStandardItem(QString(&#34;row %0, column %1&#34;).arg(row).arg(column)); model.setItem(row, column, item); } } 示例2：创建树 QStandardItemModel model; QStandardItem *parentItem = model.invisibleRootItem(); for (int i = 0; i &lt; 4; &#43;&#43;i) { QStandardItem *item = new QStandardItem(QString(&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/05668876d7b339c25159ebac5b1b0ddc/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-11-12T22:32:28+08:00" />
<meta property="article:modified_time" content="2023-11-12T22:32:28+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【Qt之QStandardItemModel类】介绍</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h4><a id="_0"></a>描述</h4> 
<p><code>QStandardItemModel类</code>提供了一个通用的模型，用于存储自定义数据。<code>QStandardItemModel</code>可以用作<code>Qt标准数据类型</code>的存储库。它是 <code>Model/View类</code> 之一，是 <code>Qt的model/view框架 </code>的一部分。 <code>QStandardItemModel</code>提 供了一种基于项目的传统方法来处理模型。 <code>QStandardItemModel</code>中的项目是由<code>QStandardItem</code>提供的。<code>QStandardItemModel</code>实现了<code>QAbstractItemModel</code>接口，这意味着该模型可用于在支持该接口的任何视图中提供数据（例如<code>QListView</code>、<code>QTableView</code>和<code>QTreeView</code>，以及<code>自定义视图</code>）。为了提高性能和灵活性，可能希望从<code>QAbstractItemModel</code>中派生子类，以提供对不同种类数据存储库的支持。例如，<code>QDirModel</code>提供了对底层文件系统的模型接口。</p> 
<p>当想要一个列表或树时，通常会创建一个空的<code>QStandardItemModel</code>，并使用<code>appendRow()</code>将项目添加到模型中，并使用<code>item()</code>访问项目。如果模型表示一个表格，则通常会将表格的尺寸传递给<code>QStandardItemModel构</code>造函数，并使用<code>setItem()</code>将项目定位到表格中。还可以使用<code>setRowCount()</code>和<code>setColumnCount()</code>来更改模型的尺寸。要插入项目，请使用<code>insertRow()</code>或<code>insertColumn()</code>，要删除项目，请使用<code>removeRow()</code>或<code>removeColumn()</code>。</p> 
<p>此外，可以使用<code>setHorizontalHeaderLabels()</code>和<code>setVerticalHeaderLabels()</code>设置模型的标题标签。可以使用<code>findItems()</code>搜索模型中的项目，并通过调用<code>sort()</code>对模型进行排序。调用<code>clear()</code>可以从模型中删除所有项目。</p> 
<h4><a id="1_7"></a>示例1：创建表格</h4> 
<pre><code class="prism language-cpp">  QStandardItemModel <span class="token function">model</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> row <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> row <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token operator">++</span>row<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> column <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> column <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token operator">++</span>column<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
          QStandardItem <span class="token operator">*</span>item <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QStandardItem</span><span class="token punctuation">(</span><span class="token function">QString</span><span class="token punctuation">(</span><span class="token string">"row %0, column %1"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span>row<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span>column<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          model<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span>row<span class="token punctuation">,</span> column<span class="token punctuation">,</span> item<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre> 
<h4><a id="2_18"></a>示例2：创建树</h4> 
<pre><code class="prism language-cpp">  QStandardItemModel model<span class="token punctuation">;</span>
  QStandardItem <span class="token operator">*</span>parentItem <span class="token operator">=</span> model<span class="token punctuation">.</span><span class="token function">invisibleRootItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      QStandardItem <span class="token operator">*</span>item <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QStandardItem</span><span class="token punctuation">(</span><span class="token function">QString</span><span class="token punctuation">(</span><span class="token string">"item %0"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      parentItem<span class="token operator">-&gt;</span><span class="token function">appendRow</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
      parentItem <span class="token operator">=</span> item<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</code></pre> 
<p>在将模型设置到视图上之后，通常希望对用户操作做出反应，例如单击一个项目。由于<code>QAbstractItemView</code>提供了基于<code>QModelIndex</code>的信号和函数，因此需要一种方法来获取与给定<code>QModelIndex</code>对应的<code>QStandardItem</code>，反之亦然。<code>itemFromIndex()</code>和<code>indexFromItem()</code>提供了这种映射。<code>itemFromIndex()</code>的典型用法包括在视图中获取当前索引处的项目，并获取与由<code>QAbstractItemView</code>信号传递的索引相对应的项目，例如<code>QAbstractItemView::clicked()</code>。<br> 首先，将视图的信号连接到类中的一个槽中：</p> 
<pre><code class="prism language-cpp">  QTreeView <span class="token operator">*</span>treeView <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QTreeView</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  treeView<span class="token operator">-&gt;</span><span class="token function">setModel</span><span class="token punctuation">(</span>myStandardItemModel<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">connect</span><span class="token punctuation">(</span>treeView<span class="token punctuation">,</span> <span class="token function">SIGNAL</span><span class="token punctuation">(</span><span class="token function">clicked</span><span class="token punctuation">(</span>QModelIndex<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token function">SLOT</span><span class="token punctuation">(</span><span class="token function">clicked</span><span class="token punctuation">(</span>QModelIndex<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>当接收到信号时，调用给定模型索引上的<code>itemFromIndex()</code>以获取指向该项目的指针：</p> 
<pre><code class="prism language-cpp">  <span class="token keyword">void</span> <span class="token class-name">MyWidget</span><span class="token double-colon punctuation">::</span><span class="token function">clicked</span><span class="token punctuation">(</span><span class="token keyword">const</span> QModelIndex <span class="token operator">&amp;</span>index<span class="token punctuation">)</span>
  <span class="token punctuation">{<!-- --></span>
      QStandardItem <span class="token operator">*</span>item <span class="token operator">=</span> myStandardItemModel<span class="token operator">-&gt;</span><span class="token function">itemFromIndex</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// Do stuff with the item ...</span>
  <span class="token punctuation">}</span>
</code></pre> 
<p>反之，在希望调用以索引为参数的<code>model/view</code>函数时，必须获取项目的<code>QModelIndex</code>。可以使用模型的<code>indexFromItem()</code>函数或等效地调用<code>QStandardItem::index()</code>来获取索引：</p> 
<pre><code class="prism language-cpp">  treeView<span class="token operator">-&gt;</span><span class="token function">scrollTo</span><span class="token punctuation">(</span>item<span class="token operator">-&gt;</span><span class="token function">index</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>当然，并不需要使用基于项目的方法；在处理模型时，也可以完全依赖于<code>QAbstractItemModel接口</code>，或者根据需要使用两者的组合。</p> 
<h4><a id="_49"></a>方法</h4> 
<ul><li> <p><code>void QStandardItemModel::appendColumn(const QList&lt;QStandardItem *&gt; &amp;items)</code>: 添加一个包含项目的列。如果必要，行数将增加到items的大小。</p> </li><li> <p><code>void QStandardItemModel::appendRow(const QList&lt;QStandardItem *&gt; &amp;items)</code>: 添加一个包含项目的行。如果必要，列数将增加到items的大小。</p> </li><li> <p><code>void QStandardItemModel::appendRow(QStandardItem *item)</code>: 这是一个重载函数。当构建仅有一列的列表或树时，此函数提供了一种方便的方法来追加新项目。</p> </li><li> <p><code>void QStandardItemModel::clear()</code>:从模型中删除所有项目（包括标题项目），并将行数和列数设置为零。</p> </li><li> <p><code>[virtual] int QStandardItemModel::columnCount(const QModelIndex &amp;parent = QModelIndex()) const</code>:从QAbstractItemModel::columnCount()函数中重新实现。</p> </li><li> <p><code>[virtual] QVariant QStandardItemModel::data(const QModelIndex &amp;index, int role = Qt::DisplayRole) const</code>:从QAbstractItemModel::data()函数中重新实现。</p> </li><li> <p><code>[virtual] bool QStandardItemModel::dropMimeData(const QMimeData *data, Qt::DropAction action, int row, int column, const QModelIndex &amp;parent)</code>:从QAbstractItemModel::dropMimeData()函数中重新实现。</p> </li><li> <p><code>QList&lt;QStandardItem *&gt; QStandardItemModel::findItems(const QString &amp;text, Qt::MatchFlags flags = Qt::MatchExactly, int column = 0) const</code>:返回与给定文本匹配的项目列表，使用给定标志，在给定列中。</p> </li><li> <p><code>[virtual] Qt::ItemFlags QStandardItemModel::flags(const QModelIndex &amp;index) const</code>:从QAbstractItemModel::flags()函数中重新实现。</p> </li><li> <p><code>[virtual] bool QStandardItemModel::hasChildren(const QModelIndex &amp;parent = QModelIndex()) const</code>:从QAbstractItemModel::hasChildren()函数中重新实现。</p> </li><li> <p><code>[virtual] QVariant QStandardItemModel::headerData(int section, Qt::Orientation orientation, int role = Qt::DisplayRole) const</code>:从QAbstractItemModel::headerData()函数中重新实现。</p> </li><li> <p><code>QStandardItem *QStandardItemModel::horizontalHeaderItem(int column) const</code>:如果已设置，则返回列的水平标题项；否则返回0。</p> </li><li> <p><code>[virtual] QModelIndex QStandardItemModel::index(int row, int column, const QModelIndex &amp;parent = QModelIndex()) const</code>:从QAbstractItemModel::index()函数中重新实现。</p> </li><li> <p><code>QModelIndex QStandardItemModel::indexFromItem(const QStandardItem *item) const</code>:返回与给定项关联的QModelIndex。在执行需要项的QModelIndex的操作（例如QAbstractItemView :: scrollTo()）时，请使用此函数。QStandardItem :: index（）提供了方便性; 它相当于调用此函数。</p> </li><li> <p><code>void QStandardItemModel::insertColumn(int column, const QList&lt;QStandardItem *&gt; &amp;items)</code>:在包含项的column处插入一个列。如果必要，行数将增加到items的大小。</p> </li><li> <p><code>bool QStandardItemModel::insertColumn(int column, const QModelIndex &amp;parent = QModelIndex())</code>:在父项的子项中在给定列之前插入单个列。如果插入列，则返回true; 否则返回false。</p> </li><li> <p><code>[virtual] bool QStandardItemModel::insertColumns(int column, int count, const QModelIndex &amp;parent = QModelIndex())</code>:从QAbstractItemModel :: insertColumns()函数中重新实现。</p> </li><li> <p><code>void QStandardItemModel::insertRow(int row, const QList&lt;QStandardItem *&gt; &amp;items)</code>:在包含项的row处插入一个行。如果必要，列数将增加到items的大小。</p> </li><li> <p><code>void QStandardItemModel::insertRow(int row, QStandardItem *item)</code>:这是一个重载函数。在包含项的row处插入一个包含单个项的行。当构建仅有一列的列表或树时，此函数提供了一种方便的方法来追加一个新项。</p> </li><li> <p><code>bool QStandardItemModel::insertRow(int row, const QModelIndex &amp;parent = QModelIndex())</code>:在父项的子项中在给定行之前插入单个行。如果插入行，则返回true; 否则返回false。</p> </li><li> <p><code>[virtual] bool QStandardItemModel::insertRows(int row, int count, const QModelIndex &amp;parent = QModelIndex())</code>:从QAbstractItemModel :: insertRows()函数中重新实现。</p> </li><li> <p><code>QStandardItem *QStandardItemModel::invisibleRootItem() const</code>:返回模型的不可见根项。不可见的根项通过QStandardItem API提供对模型的顶级项的访问，使得可以编写可以以统一的方式处理顶级项和它们的子项的函数；例如，涉及树模型的递归函数。注意：对从此函数检索的QStandardItem对象调用index（）无效。</p> </li><li> <p><code>QStandardItem *QStandardItemModel::item(int row, int column = 0) const</code>:如果已设置，则返回给定行和列的项; 否则返回0。</p> </li><li> <p><code>[signal] void QStandardItemModel :: itemChanged(QStandardItem *item)</code>:每当item的数据更改时，就会发射此信号。</p> </li><li> <p><code>[virtual] QMap&lt;int，QVariant&gt; QStandardItemModel :: itemData(const QModelIndex &amp;index) const</code>:从QAbstractItemModel :: itemData()函数中重新实现。</p> </li><li> <p><code>QStandardItem *QStandardItemModel::itemFromIndex(const QModelIndex &amp;index) const</code>:<br> 返回与给定索引关联的QStandardItem的指针。<br> 在处理基于QModelIndex的视图信号（例如QAbstractItemView :: activated()）时，通常调用此函数是初始步骤。在您的槽中，使用由信号携带的QModelIndex调用itemFromIndex（）以获取指向相应QStandardItem的指针。<br> 注意，如果在该索引处不存在项，则此函数将延迟创建该项（使用itemPrototype（）），并将其设置在父项的子项表格中。<br> 如果index是无效索引，则此函数返回0。</p> </li><li> <p><code>const QStandardItem *QStandardItemModel::itemPrototype() const</code>:<br> 返回模型使用的项原型。当需要按需构建新项（例如，当视图或项代理调用setData（））时，模型使用项原型作为项工厂。</p> </li><li> <p><code>[virtual] QMimeData *QStandardItemModel :: mimeData(const QModelIndexList &amp;indexes) const</code>:<br> 从QAbstractItemModel :: mimeData()函数中重新实现。</p> </li><li> <p><code>[virtual] QStringList QStandardItemModel :: mimeTypes() const</code>:<br> 从QAbstractItemModel :: mimeTypes()函数中重新实现。</p> </li><li> <p><code>[virtual] QModelIndex QStandardItemModel::parent(const QModelIndex &amp;child) const</code>:<br> 从QAbstractItemModel :: parent()函数中重新实现。</p> </li><li> <p><code>[virtual] bool QStandardItemModel::removeColumns(int column, int count, const QModelIndex &amp;parent = QModelIndex())</code>:<br> 从QAbstractItemModel :: removeColumns()函数中重新实现。</p> </li><li> <p><code>[virtual] bool QStandardItemModel::removeRows(int row, int count, const QModelIndex &amp;parent = QModelIndex())</code>:<br> 从QAbstractItemModel :: removeRows()函数中重新实现。</p> </li><li> <p><code>[virtual] int QStandardItemModel::rowCount(const QModelIndex &amp;parent = QModelIndex()) const</code>:<br> 从QAbstractItemModel :: rowCount()函数中重新实现。</p> </li><li> <p><code>void QStandardItemModel::setColumnCount(int columns)</code>:<br> 将模型中的列数设置为columns。如果这小于columnCount（），则舍弃不需要的列中的数据。</p> </li><li> <p><code>[virtual] bool QStandardItemModel::setData(const QModelIndex &amp;index，const QVariant &amp;value，int role = Qt :: EditRole)</code>:<br> 从QAbstractItemModel :: setData()函数中重新实现。</p> </li><li> <p><code>[virtual] bool QStandardItemModel::setHeaderData(int section，Qt :: Orientation orientation，const QVariant &amp;value，int role = Qt :: EditRole)</code>:<br> 从QAbstractItemModel :: setHeaderData()函数中重新实现。</p> </li><li> <p><code>void QStandardItemModel::setHorizontalHeaderItem(int column，QStandardItem *item)</code>:<br> 将列column的水平标头项设置为item。模型接管该项。必要时，列计数将增加以适应该项。删除先前的标头项（如果有任何）。</p> </li><li> <p><code>void QStandardItemModel::setHorizontalHeaderLabels(const QStringList &amp;labels)</code>:<br> 使用labels设置水平标头标签。如果必要，列计数将增加到labels的大小。</p> </li><li> <p><code>void QStandardItemModel::setItem(int row，int column，QStandardItem *item)</code>:<br> 将给定行和列的项设置为item。模型接管该项。必要时，行计数和列计数将增加以适应该项。删除给定位置的先前项（如果有任何）。</p> </li><li> <p><code>void QStandardItemModel::setItem(int row，QStandardItem *item)</code>:<br> 这是一个重载函数。</p> </li><li> <p><code>[virtual] bool QStandardItemModel::setItemData(const QModelIndex &amp;index，const QMap &lt;int，QVariant&gt; &amp;roles)</code>:<br> 从QAbstractItemModel :: setItemData()函数中重新实现。</p> </li><li> <p><code>void QStandardItemModel::setItemPrototype(const QStandardItem *item)</code>:<br> 将该模型的项原型设置为指定的项。模型接管原型。<br> 项原型通过依赖于QStandardItem :: clone（）函数来作为QStandardItem工厂。要提供自己的原型，请子类化QStandardItem，重新实现QStandardItem :: clone（）并将原型设置为您自定义类的实例。每当QStandardItemModel需要按需创建项（例如，当视图或项代理调用setData（））时，新项将是您自定义类的实例。</p> </li><li> <p><code>void QStandardItemModel::setItemRoleNames(const QHash&lt;int，QByteArray&gt; &amp;roleNames)</code>:<br> 将项角色名称设置为roleNames。</p> </li><li> <p><code>void QStandardItemModel::setRowCount(int rows)</code>:<br> 将模型中的行数设置为rows。如果这小于rowCount（），则舍弃不需要的行中的数据。</p> </li><li> <p><code>void QStandardItemModel::setVerticalHeaderItem(int row，QStandardItem *item)</code>:<br> 将行row的垂直标头项设置为item。模型接管该项。必要时，行计数将增加以适应该项。删除先前的标头项（如果有任何）。</p> </li><li> <p><code>void QStandardItemModel::setVerticalHeaderLabels(const QStringList &amp;labels)</code>:<br> 使用labels设置垂直标头标签。如果必要，行计数将增加到labels的大小。</p> </li><li> <p><code>[virtual] QModelIndex QStandardItemModel::sibling(int row，int column，const QModelIndex &amp;idx) const</code>:<br> 从QAbstractItemModel :: sibling()函数中重新实现。</p> </li><li> <p><code>[virtual] void QStandardItemModel::sort(int column，Qt :: SortOrder order = Qt :: AscendingOrder)</code>:<br> 从QAbstractItemModel :: sort()函数中重新实现。</p> </li><li> <p><code>[virtual] Qt :: DropActions QStandardItemModel :: supportedDropActions() const</code>:<br> 从QAbstractItemModel :: supportedDropActions()函数中重新实现。<br> QStandardItemModel支持复制和移动。</p> </li><li> <p><code>QList&lt;QStandardItem *&gt; QStandardItemModel::takeColumn(int column)</code>:<br> 删除给定的列而不删除列项，并返回指向已删除项的指针列表。模型释放项的所有权。对于未设置的列中的项，列表中相应的指针将为0。</p> </li><li> <p><code>QStandardItem *QStandardItemModel::takeHorizontalHeaderItem(int column)</code>:<br> 从标头中删除列column的水平标头项而不删除它，并返回指向该项的指针。模型释放项的所有权。</p> </li><li> <p><code>QStandardItem *QStandardItemModel::takeItem(int row，int column = 0)</code>:<br> 删除（行，列）处的项而不删除它。模型释放项的所有权。</p> </li><li> <p><code>QList&lt;QStandardItem *&gt; QStandardItemModel::takeRow(int row)</code>:<br> 删除给定的行而不删除行项，并返回指向已删除项的指针列表。模型释放项的所有权。对于未设置的行中的项，列表中相应的指针将为0。</p> </li><li> <p><code>QStandardItem *QStandardItemModel::takeVerticalHeaderItem(int row)</code>:<br> 从标头中删除行row的垂直标头项而不删除它，并返回指向该项的指针。模型释放项的所有权。</p> </li><li> <p><code>QStandardItem *QStandardItemModel :: verticalHeaderItem(int row) const</code>:<br> 如果已设置，则返回行row的垂直标头项；否则返回0。</p> </li></ul> 
<h4><a id="_221"></a>示例</h4> 
<p>下面是一个简单的使用示例：</p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QStandardItemModel&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QTableView&gt;</span></span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    QApplication <span class="token function">app</span><span class="token punctuation">(</span>argc<span class="token punctuation">,</span> argv<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 创建模型</span>
    QStandardItemModel <span class="token function">model</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3行3列</span>

    <span class="token comment">// 设置水平表头</span>
    model<span class="token punctuation">.</span><span class="token function">setHorizontalHeaderItem</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token function">QStandardItem</span><span class="token punctuation">(</span><span class="token string">"Column1"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    model<span class="token punctuation">.</span><span class="token function">setHorizontalHeaderItem</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token function">QStandardItem</span><span class="token punctuation">(</span><span class="token string">"Column2"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    model<span class="token punctuation">.</span><span class="token function">setHorizontalHeaderItem</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token function">QStandardItem</span><span class="token punctuation">(</span><span class="token string">"Column3"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 设置垂直表头</span>
    model<span class="token punctuation">.</span><span class="token function">setVerticalHeaderItem</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token function">QStandardItem</span><span class="token punctuation">(</span><span class="token string">"Row1"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    model<span class="token punctuation">.</span><span class="token function">setVerticalHeaderItem</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token function">QStandardItem</span><span class="token punctuation">(</span><span class="token string">"Row2"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    model<span class="token punctuation">.</span><span class="token function">setVerticalHeaderItem</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token function">QStandardItem</span><span class="token punctuation">(</span><span class="token string">"Row3"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 设置列宽</span>
    tableView<span class="token operator">-&gt;</span><span class="token function">setColumnWidth</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    tableView<span class="token operator">-&gt;</span><span class="token function">setColumnWidth</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    tableView<span class="token operator">-&gt;</span><span class="token function">setColumnWidth</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 设置行高</span>
    tableView<span class="token operator">-&gt;</span><span class="token function">setRowHeight</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    tableView<span class="token operator">-&gt;</span><span class="token function">setRowHeight</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    tableView<span class="token operator">-&gt;</span><span class="token function">setRowHeight</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 插入数据</span>
    model<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span>model<span class="token punctuation">.</span><span class="token function">index</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">QVariant</span><span class="token punctuation">(</span><span class="token string">"data1"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    model<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span>model<span class="token punctuation">.</span><span class="token function">index</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">QVariant</span><span class="token punctuation">(</span><span class="token string">"data2"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    model<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span>model<span class="token punctuation">.</span><span class="token function">index</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">QVariant</span><span class="token punctuation">(</span><span class="token string">"data3"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 移除数据</span>
    model<span class="token punctuation">.</span><span class="token function">removeRow</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 创建视图</span>
    QTableView tableView<span class="token punctuation">;</span>
    tableView<span class="token punctuation">.</span><span class="token function">setModel</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>model<span class="token punctuation">)</span><span class="token punctuation">;</span>
    tableView<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> app<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>此外，还支持信号和槽机制，比如在数据改变时会发出itemChanged()信号。可以为该信号连接一个槽函数，以便在发生更改时执行特定的操作。</p> 
<pre><code class="prism language-cpp"><span class="token class-name">QObject</span><span class="token double-colon punctuation">::</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>model<span class="token punctuation">,</span> <span class="token operator">&amp;</span>QStandardItemModel<span class="token double-colon punctuation">::</span>itemChanged<span class="token punctuation">,</span>
                 <span class="token punctuation">[</span><span class="token operator">=</span><span class="token punctuation">]</span><span class="token punctuation">(</span>QStandardItem <span class="token operator">*</span>item<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                     <span class="token function">qDebug</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"Item changed: "</span> <span class="token operator">&lt;&lt;</span> item<span class="token operator">-&gt;</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                 <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>注意，在使用QStandardItemModel时，需要自行为每个单元格创建QStandardItem对象，并设置其文本、图标等属性。以上示例中，使用了setData()函数，设置单元格的数据。另外，还可以使用setItem()函数设置单元格的QStandardItem对象，从而获得更多的控制权。</p> 
<pre><code class="prism language-cpp">QStandardItem <span class="token operator">*</span>item <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QStandardItem</span><span class="token punctuation">(</span><span class="token string">"data1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
model<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> item<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 在(0, 0)位置设置该QStandardItem对象</span>
</code></pre>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/daac787e3c0fcd294507abfd8ddc2860/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Scrapy_settings配置文件设置</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b0d73a5564db636644f918f8ef26b1a3/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">传统点云分割三部曲（一）——VCCS（Voxel Cloud Connectivity Segmentation）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>