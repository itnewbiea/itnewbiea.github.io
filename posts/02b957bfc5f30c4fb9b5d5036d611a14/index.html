<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【Ubuntu】Ubuntu arm64 部署 Blazor Server 应用 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【Ubuntu】Ubuntu arm64 部署 Blazor Server 应用" />
<meta property="og:description" content="部署步骤 发布安装运行环境：dotnet-sdk（必装）、aspnetcore-runtime、dotnet-runtime安装证书设置环境变量：临时变量、当前用户永久变量、所有用户的永久变量运行：终端运行、后台运行
基本情况 开发系统环境 系统：Windows 10 专业版 22H2 19045.3693 开发软件IDE：Microsoft Visual Studio Community 2022 (64 位) - Current 版本 17.6.5 项目框架：Blazor Server 应用 目标框架：.NET 6.0 系统架构：x64
发布系统环境 系统：Ubuntu 20.04.6 LTS focal 架构：arm64 系统信息 lsb_release -a No LSB modules are available. Distributor ID: Ubuntu Description: Ubuntu 20.04.6 LTS Release: 20.04 Codename: focal 查看架构 sudo dpkg --print-architecture arm64 二、部署 2.1 准备部署文件 2.1.1 发布 配置: Release 目标框架(F): net6.0 部署模式(M): 框架依赖 目标运行时(U): 可移植" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/02b957bfc5f30c4fb9b5d5036d611a14/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-11-21T18:35:04+08:00" />
<meta property="article:modified_time" content="2023-11-21T18:35:04+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【Ubuntu】Ubuntu arm64 部署 Blazor Server 应用</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="_0"></a>部署步骤</h2> 
<ol><li>发布</li><li>安装运行环境：<code>dotnet-sdk</code>（必装）、<code>aspnetcore-runtime</code>、<code>dotnet-runtime</code></li><li>安装证书</li><li>设置环境变量：<code>临时变量</code>、<code>当前用户永久变量</code>、<code>所有用户的永久变量</code></li><li>运行：<code>终端运行</code>、<code>后台运行</code><br> <img src="https://images2.imgbox.com/e9/ff/IyPdYqT5_o.png" alt="在这里插入图片描述"></li></ol> 
<hr> 
<h2><a id="_9"></a>基本情况</h2> 
<h3><a id="_10"></a>开发系统环境</h3> 
<ul><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" checked disabled> 系统：Windows 10 专业版 22H2 19045.3693</li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" checked disabled> 开发软件IDE：Microsoft Visual Studio Community 2022 (64 位) - Current 版本 17.6.5</li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" checked disabled> 项目框架：Blazor Server 应用</li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" checked disabled> 目标框架：.NET 6.0</li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" checked disabled> 系统架构：x64<br> <img src="https://images2.imgbox.com/c6/87/4qx0qVx7_o.png" alt="在这里插入图片描述"></li></ul> 
<h3><a id="_17"></a>发布系统环境</h3> 
<ul><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" checked disabled> 系统：Ubuntu 20.04.6 LTS focal</li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" checked disabled> 架构：arm64</li></ul> 
<h4><a id="_20"></a>系统信息</h4> 
<pre><code class="prism language-bash">lsb_release <span class="token parameter variable">-a</span>
</code></pre> 
<hr> 
<pre><code class="prism language-bash">No LSB modules are available.
Distributor ID: Ubuntu
Description: Ubuntu <span class="token number">20.04</span>.6 LTS
Release: <span class="token number">20.04</span>
Codename: focal
</code></pre> 
<hr> 
<h4><a id="_33"></a>查看架构</h4> 
<pre><code>sudo dpkg  --print-architecture
</code></pre> 
<hr> 
<pre><code>arm64
</code></pre> 
<hr> 
<h2><a id="_43"></a>二、部署</h2> 
<h3><a id="21__44"></a>2.1 准备部署文件</h3> 
<h4><a id="211__45"></a>2.1.1 发布</h4> 
<ul><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" checked disabled> 配置: Release</li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" checked disabled> 目标框架(F): net6.0</li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" checked disabled> 部署模式(M): 框架依赖</li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" checked disabled> 目标运行时(U): 可移植<br> <img src="https://images2.imgbox.com/f2/91/j0UKd9Qy_o.png" alt="在这里插入图片描述"></li></ul> 
<h4><a id="212___zip_51"></a>2.1.2 打包文件 - 压缩zip</h4> 
<p>如：<code>RSS_NCD_MINI_BlazorServer.zip</code></p> 
<h4><a id="213_WindowsUbuntu_53"></a>2.1.3 将打包文件从Windows拷贝到Ubuntu系统</h4> 
<p>推荐将文件放在<code>/home/&lt;用户&gt;/&lt;新建公司名/产品名&gt;/&lt;项目名&gt;</code>目录下<br> 如：<code>/home/signway/rsszy/webapp3/</code></p> 
<h4><a id="214___zip_57"></a>2.1.4 释放文件 - 解压zip</h4> 
<ol><li>打开Ubuntu终端</li><li>跳转到<code>RSS_NCD_MINI_BlazorServer.zip</code>所在目录</li></ol> 
<pre><code class="prism language-bash"><span class="token builtin class-name">cd</span> /home/signway/rsszy/webapp3/
</code></pre> 
<ol start="3"><li>使用<code>unzip</code>指令解压<code>RSS_NCD_MINI_BlazorServer.zip</code>文件</li></ol> 
<pre><code class="prism language-bash"><span class="token function">unzip</span> RSS_NCD_MINI_BlazorServer.zip
</code></pre> 
<hr> 
<pre><code class="prism language-bash">Archive:  RSS_NCD_MINI_BlazorServer.zip
  inflating: Microsoft.IdentityModel.Protocols.OpenIdConnect.dll  
  inflating: Microsoft.IdentityModel.Tokens.dll  
  inflating: RSS_NCD<span class="token punctuation">(</span>MINI<span class="token punctuation">)</span>_BlazorServer.deps.json  
  inflating: RSS_NCD<span class="token punctuation">(</span>MINI<span class="token punctuation">)</span>_BlazorServer.dll  
  inflating: RSS_NCD<span class="token punctuation">(</span>MINI<span class="token punctuation">)</span>_BlazorServer.exe  
  inflating: RSS_NCD<span class="token punctuation">(</span>MINI<span class="token punctuation">)</span>_BlazorServer.pdb  
  inflating: RSS_NCD<span class="token punctuation">(</span>MINI<span class="token punctuation">)</span>_BlazorServer.runtimeconfig.json  
  inflating: System.IdentityModel.Tokens.Jwt.dll  
  inflating: web.config              
   creating: wwwroot/
   creating: wwwroot/css/
   creating: wwwroot/css/bootstrap/
  inflating: wwwroot/css/bootstrap/bootstrap.min.css  
  inflating: wwwroot/css/bootstrap/bootstrap.min.css.map  
   creating: wwwroot/css/open-iconic/
   creating: wwwroot/css/open-iconic/font/
   creating: wwwroot/css/open-iconic/font/css/
  inflating: wwwroot/css/open-iconic/font/css/open-iconic-bootstrap.min.css  
   creating: wwwroot/css/open-iconic/font/fonts/
  inflating: wwwroot/css/open-iconic/font/fonts/open-iconic.eot  
  inflating: wwwroot/css/open-iconic/font/fonts/open-iconic.otf  
  inflating: wwwroot/css/open-iconic/font/fonts/open-iconic.svg  
  inflating: wwwroot/css/open-iconic/font/fonts/open-iconic.ttf  
  inflating: wwwroot/css/open-iconic/font/fonts/open-iconic.woff  
  inflating: wwwroot/css/open-iconic/FONT-LICENSE  
  inflating: wwwroot/css/open-iconic/ICON-LICENSE  
  inflating: wwwroot/css/open-iconic/README.md  
  inflating: wwwroot/css/site.css    
  inflating: wwwroot/favicon.ico     
  inflating: wwwroot/RSS_NCD<span class="token punctuation">(</span>MINI<span class="token punctuation">)</span>_BlazorServer.styles.css  
  inflating: appsettings.Development.json  
  inflating: appsettings.json        
  inflating: Microsoft.AspNetCore.Authentication.JwtBearer.dll  
  inflating: Microsoft.IdentityModel.JsonWebTokens.dll  
  inflating: Microsoft.IdentityModel.Logging.dll  
  inflating: Microsoft.IdentityModel.Protocols.dll 
</code></pre> 
<hr> 
<h3><a id="22__108"></a>2.2 安装框架</h3> 
<h4><a id="221__109"></a>2.2.1 下载框架</h4> 
<p><u><a href="https://dotnet.microsoft.com/en-us/download/dotnet/6.0" rel="nofollow">.NET 6.0下载地址</a></u></p> 
<ul><li class="task-list-item"> <p><input type="checkbox" class="task-list-item-checkbox" checked disabled> <u><a href="https://download.visualstudio.microsoft.com/download/pr/c5ebe66a-1815-4cdf-a099-af89dbf370b8/8162d0068512e14f69325d18ce10acb3/dotnet-runtime-6.0.25-linux-arm64.tar.gz" rel="nofollow">dotnet-runtime-6.0.25-linux-arm64.tar.gz</a><br> <img src="https://images2.imgbox.com/f8/75/n9U9qdmz_o.png" alt="在这里插入图片描述"></u></p> </li><li class="task-list-item"> <p><input type="checkbox" class="task-list-item-checkbox" checked disabled> <u><a href="https://download.visualstudio.microsoft.com/download/pr/03972b46-ddcd-4529-b8e0-df5c1264cd98/285a1f545020e3ddc47d15cf95ca7a33/dotnet-sdk-6.0.417-linux-arm64.tar.gz" rel="nofollow">dotnet-sdk-6.0.417-linux-arm64.tar.gz</a></u></p> </li></ul> 
<p><img src="https://images2.imgbox.com/76/f5/iASTANy3_o.png" alt="在这里插入图片描述"></p> 
<ul><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" checked disabled> <u><a href="https://download.visualstudio.microsoft.com/download/pr/8f085f4e-ce83-494f-add1-7e6d4e04f90e/398b661de84bda4d74b5c04fa709eadb/aspnetcore-runtime-6.0.25-linux-arm64.tar.gz" rel="nofollow">aspnetcore-runtime-6.0.25-linux-arm64.tar.gz</a></u><br> <img src="https://images2.imgbox.com/fb/a5/PnuZEepL_o.png" alt="在这里插入图片描述"></li></ul> 
<p><em><strong><code>注意： 必须安装SDK,才能使用dotnet指令运行程序。</code></strong></em></p> 
<h4><a id="222_dotnetsdk_123"></a>2.2.2 安装dotnet-sdk</h4> 
<ol><li>将下载的文件拷贝到Ubuntu系统目录<br> 推荐将文件放在<code>/home/&lt;用户&gt;/&lt;功能&gt;/&lt;框架名&gt;</code>目录下<br> 如：<code>/home/signway/install/dotnet/</code></li><li>打开终端跳转到文件目录</li></ol> 
<pre><code class="prism language-bash"><span class="token builtin class-name">cd</span> /home/signway/install/dotnet/
</code></pre> 
<ol start="3"><li>安装<code>dotnet-sdk</code>、<code>dotnet-runtime</code> 、<code>aspnetcore-runtime</code></li></ol> 
<pre><code class="prism language-bash"><span class="token function">mkdir</span> <span class="token parameter variable">-p</span> <span class="token environment constant">$HOME</span>/dotnet <span class="token operator">&amp;&amp;</span> <span class="token function">tar</span> zxf dotnet-sdk-6.0.417-linux-arm64.tar.gz <span class="token parameter variable">-C</span> <span class="token environment constant">$HOME</span>/dotnet
<span class="token function">mkdir</span> <span class="token parameter variable">-p</span> <span class="token environment constant">$HOME</span>/dotnet <span class="token operator">&amp;&amp;</span> <span class="token function">tar</span> zxf dotnet-runtime-6.0.25-linux-arm64.tar.gz <span class="token parameter variable">-C</span> <span class="token environment constant">$HOME</span>/dotnet
<span class="token function">mkdir</span> <span class="token parameter variable">-p</span> <span class="token environment constant">$HOME</span>/dotnet <span class="token operator">&amp;&amp;</span> <span class="token function">tar</span> zxf aspnetcore-runtime-6.0.25-linux-arm64.tar.gz <span class="token parameter variable">-C</span> <span class="token environment constant">$HOME</span>/dotnet
<span class="token builtin class-name">export</span> <span class="token assign-left variable">DOTNET_ROOT</span><span class="token operator">=</span><span class="token environment constant">$HOME</span>/dotnet
<span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token environment constant">$PATH</span><span class="token builtin class-name">:</span><span class="token environment constant">$HOME</span>/dotnet
</code></pre> 
<p>上述指令只会在运行它的终端生效。<br> 你可以编辑shell配置文件以永久添加命令。Linux有几个不同的shell，每个shell都有不同的配置文件。例如：</p> 
<ul><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" checked disabled> Bash Shell: <code>~/.bash_profile</code> 或 <code>~/.bashrc</code></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" checked disabled> Korn Shell: <code>~/.kshrc</code> 或 <code>.profile</code></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" checked disabled> Z Shell: <code>~/.zshrc</code> 或 <code>.zprofile</code></li></ul> 
<p>编辑shell的相应源文件，并在现有PATH语句的末尾添加：<code>$HOME/dotnet</code>。如果没有包含PATH语句，则添加一个新行，<code>export DOTNET_ROOT=$HOME/dotnet</code>。同时将<code>export PATH=$PATH:$HOME/dotnet</code>添加到文件末尾。</p> 
<pre><code class="prism language-bash"><span class="token comment"># ...</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">DOTNET_ROOT</span><span class="token operator">=</span><span class="token environment constant">$HOME</span>/dotnet
<span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token environment constant">$PATH</span><span class="token builtin class-name">:</span><span class="token environment constant">$HOME</span>/dotnet
</code></pre> 
<h3><a id="23__156"></a>2.3 安装证书</h3> 
<h4><a id="231__157"></a>2.3.1 安装证书</h4> 
<pre><code class="prism language-bash">dotnet dev-certs https <span class="token parameter variable">--trust</span>
dotnet dev-certs https <span class="token parameter variable">-t</span>
</code></pre> 
<hr> 
<pre bgcolor="#00000"><font color="#4E9A06"><b>signway@RK3588</b></font>:<font color="#3465A4"><b>~/rsszy/webapp2</b></font>$ dotnet dev-certs https --trust


 
 </pre><table><tbody><tr><td bgcolor="#300A24"><font color="#FCE94F" bgcolor="#00000">Trusting the HTTPS development certificate was requested. Trusting the certificate <br>on Linux distributions automatically is not supported. For instructions on how to <br>manually trust the certificate on your Linux distribution, go to <br>https://aka.ms/dev-certs-trust</font></td></tr></tbody></table>
A valid HTTPS certificate is already present.
 
<hr> 
<h4><a id="232__171"></a>2.3.2 未安装会出现什么情况？</h4> 
<pre><code class="prism language-bash">The <span class="token builtin class-name">command</span> could not be loaded, possibly because:
  * You intended to execute a .NET application:
      The application <span class="token string">'dev-certs'</span> does not exist.
  * You intended to execute a .NET SDK command:
      No .NET SDKs were found.

Download a .NET SDK:
https://aka.ms/dotnet-download

Learn about SDK resolution:
https://aka.ms/dotnet/sdk-not-found
</code></pre> 
<pre><code class="prism language-bash">Unable to configure HTTPS endpoint. No server certificate was specified, and the default developer certificate could not be found or is out of date.

Unhandled exception. System.InvalidOperationException: Unable to configure HTTPS endpoint. No server certificate was specified, and the default developer certificate could not be found or is out of date.
To generate a developer certificate run <span class="token string">'dotnet dev-certs https'</span><span class="token builtin class-name">.</span> To trust the certificate <span class="token punctuation">(</span>Windows and macOS only<span class="token punctuation">)</span> run <span class="token string">'dotnet dev-certs https --trust'</span><span class="token builtin class-name">.</span>
For <span class="token function">more</span> information on configuring HTTPS see https://go.microsoft.com/fwlink/?linkid<span class="token operator">=</span><span class="token number">848054</span>.
   at Microsoft.AspNetCore.Server.Kestrel.KestrelConfigurationLoader.Reload<span class="token punctuation">(</span><span class="token punctuation">)</span>
   at Microsoft.AspNetCore.Server.Kestrel.KestrelConfigurationLoader.Load<span class="token punctuation">(</span><span class="token punctuation">)</span>
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync<span class="token punctuation">(</span>CancellationToken cancellationToken<span class="token punctuation">)</span>
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync<span class="token punctuation">[</span>TContext<span class="token punctuation">]</span><span class="token punctuation">(</span>IHttpApplication`1 application, CancellationToken cancellationToken<span class="token punctuation">)</span>
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync<span class="token punctuation">(</span>CancellationToken cancellationToken<span class="token punctuation">)</span>
   at Microsoft.Extensions.Hosting.Internal.Host.StartAsync<span class="token punctuation">(</span>CancellationToken cancellationToken<span class="token punctuation">)</span>
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync<span class="token punctuation">(</span>IHost host, CancellationToken token<span class="token punctuation">)</span>
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync<span class="token punctuation">(</span>IHost host, CancellationToken token<span class="token punctuation">)</span>
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.Run<span class="token punctuation">(</span>IHost <span class="token function">host</span><span class="token punctuation">)</span>
   at Microsoft.AspNetCore.Builder.WebApplication.Run<span class="token punctuation">(</span>String url<span class="token punctuation">)</span>
   at Program.<span class="token operator">&lt;</span>Main<span class="token operator">&gt;</span><span class="token variable"><span class="token variable">$(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token variable">)</span></span> <span class="token keyword">in</span> E:<span class="token punctuation">\</span>SVN<span class="token punctuation">\</span>RCSoft1<span class="token punctuation">\</span>RSS_NCD<span class="token punctuation">(</span>MINI<span class="token punctuation">)</span><span class="token punctuation">\</span>RSS_NCD<span class="token punctuation">(</span>MINI<span class="token punctuation">)</span>_BlazorServer<span class="token punctuation">\</span>RSS_NCD<span class="token punctuation">(</span>MINI<span class="token punctuation">)</span>_BlazorServerAPI<span class="token punctuation">\</span>Program.cs:line <span class="token number">85</span>
已放弃 <span class="token punctuation">(</span>核心已转储<span class="token punctuation">)</span>
</code></pre> 
<h3><a id="24__205"></a>2.4 添加环境变量</h3> 
<h4><a id="241__206"></a>2.4.1 临时运行</h4> 
<p>每次打开终端运行以下命令来设置临时变量</p> 
<pre><code class="prism language-bash"><span class="token builtin class-name">export</span> <span class="token assign-left variable">DOTNET_ROOT</span><span class="token operator">=</span><span class="token environment constant">$HOME</span>/dotnet
<span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token environment constant">$PATH</span><span class="token builtin class-name">:</span><span class="token environment constant">$HOME</span>/dotnet
</code></pre> 
<h4><a id="242____212"></a>2.4.2 永久添加 - 当前登录用户</h4> 
<h5><a id="1__bashrc_213"></a>1. 打开 ~/.bashrc文件</h5> 
<pre><code class="prism language-bash"><span class="token function">vi</span>  ~/.bashrc
</code></pre> 
<hr> 
<pre><code class="prism language-bash"><span class="token comment"># ~/.bashrc: executed by bash(1) for non-login shells.</span>
<span class="token comment"># see /usr/share/doc/bash/examples/startup-files (in the package bash-doc)</span>
<span class="token comment"># for examples</span>

<span class="token comment"># If not running interactively, don't do anything</span>
<span class="token keyword">case</span> $- <span class="token keyword">in</span>
    *i*<span class="token punctuation">)</span> <span class="token punctuation">;</span><span class="token punctuation">;</span>
      *<span class="token punctuation">)</span> <span class="token builtin class-name">return</span><span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token keyword">esac</span>

<span class="token comment"># don't put duplicate lines or lines starting with space in the history.</span>
<span class="token comment"># See bash(1) for more options</span>
<span class="token assign-left variable"><span class="token environment constant">HISTCONTROL</span></span><span class="token operator">=</span>ignoreboth

<span class="token comment"># append to the history file, don't overwrite it</span>
<span class="token builtin class-name">shopt</span> <span class="token parameter variable">-s</span> histappend

<span class="token comment"># for setting history length see HISTSIZE and HISTFILESIZE in bash(1)</span>
<span class="token assign-left variable"><span class="token environment constant">HISTSIZE</span></span><span class="token operator">=</span><span class="token number">1000</span>
<span class="token assign-left variable"><span class="token environment constant">HISTFILESIZE</span></span><span class="token operator">=</span><span class="token number">2000</span>

<span class="token comment"># check the window size after each command and, if necessary,</span>
<span class="token comment"># update the values of LINES and COLUMNS.</span>
<span class="token builtin class-name">shopt</span> <span class="token parameter variable">-s</span> checkwinsize

<span class="token comment"># If set, the pattern "**" used in a pathname expansion context will</span>
<span class="token comment"># match all files and zero or more directories and subdirectories.</span>
<span class="token comment">#shopt -s globstar</span>

<span class="token comment"># make less more friendly for non-text input files, see lesspipe(1)</span>
<span class="token punctuation">[</span> <span class="token parameter variable">-x</span> /usr/bin/lesspipe <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">eval</span> <span class="token string">"<span class="token variable"><span class="token variable">$(</span><span class="token assign-left variable"><span class="token environment constant">SHELL</span></span><span class="token operator">=</span>/bin/sh lesspipe<span class="token variable">)</span></span>"</span>

<span class="token comment"># set variable identifying the chroot you work in (used in the prompt below)</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-z</span> <span class="token string">"<span class="token variable">${debian_chroot<span class="token operator">:-</span>}</span>"</span> <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">[</span> <span class="token parameter variable">-r</span> /etc/debian_chroot <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
    <span class="token assign-left variable">debian_chroot</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">cat</span> /etc/debian_chroot<span class="token variable">)</span></span>
<span class="token keyword">fi</span>

<span class="token comment"># set a fancy prompt (non-color, unless we know we "want" color)</span>
<span class="token keyword">case</span> <span class="token string">"<span class="token environment constant">$TERM</span>"</span> <span class="token keyword">in</span>
    xterm-color<span class="token operator">|</span>*-256color<span class="token punctuation">)</span> <span class="token assign-left variable">color_prompt</span><span class="token operator">=</span>yes<span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token keyword">esac</span>

<span class="token comment"># uncomment for a colored prompt, if the terminal has the capability; turned</span>
<span class="token comment"># off by default to not distract the user: the focus in a terminal window</span>
<span class="token comment"># should be on the output of commands, not on the prompt</span>
<span class="token comment">#force_color_prompt=yes</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-n</span> <span class="token string">"<span class="token variable">$force_color_prompt</span>"</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
    <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-x</span> /usr/bin/tput <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> tput setaf <span class="token number">1</span> <span class="token operator">&gt;&amp;</span>/dev/null<span class="token punctuation">;</span> <span class="token keyword">then</span>
        <span class="token comment"># We have color support; assume it's compliant with Ecma-48</span>
        <span class="token comment"># (ISO/IEC-6429). (Lack of such support is extremely rare, and such</span>
        <span class="token comment"># a case would tend to support setf rather than setaf.)</span>
        <span class="token assign-left variable">color_prompt</span><span class="token operator">=</span>yes
    <span class="token keyword">else</span>
        <span class="token assign-left variable">color_prompt</span><span class="token operator">=</span>
    <span class="token keyword">fi</span>
<span class="token keyword">fi</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">"<span class="token variable">$color_prompt</span>"</span> <span class="token operator">=</span> <span class="token function">yes</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
    <span class="token assign-left variable"><span class="token environment constant">PS1</span></span><span class="token operator">=</span><span class="token string">'${debian_chroot:+($debian_chroot)}\[\033[01;32m\]\u@\h\[\033[00m\]:\[\033[01;34m\]\w\[\033[00m\]\$ '</span>
<span class="token keyword">else</span>
    <span class="token assign-left variable"><span class="token environment constant">PS1</span></span><span class="token operator">=</span><span class="token string">'${debian_chroot:+($debian_chroot)}\u@\h:\w\$ '</span>
<span class="token keyword">fi</span>
<span class="token builtin class-name">unset</span> color_prompt force_color_prompt

<span class="token comment"># If this is an xterm set the title to user@host:dir</span>
<span class="token keyword">case</span> <span class="token string">"<span class="token environment constant">$TERM</span>"</span> <span class="token keyword">in</span>
xterm*<span class="token operator">|</span>rxvt*<span class="token punctuation">)</span>
    <span class="token assign-left variable"><span class="token environment constant">PS1</span></span><span class="token operator">=</span><span class="token string">"\[<span class="token entity" title="\e">\e</span>]0;<span class="token variable">${debian_chroot<span class="token operator">:+</span>($debian_chroot)}</span>\u@\h: \w<span class="token entity" title="\a">\a</span>\]<span class="token environment constant">$PS1</span>"</span>
    <span class="token punctuation">;</span><span class="token punctuation">;</span>
*<span class="token punctuation">)</span>
    <span class="token punctuation">;</span><span class="token punctuation">;</span>

<span class="token keyword">esac</span>

<span class="token comment"># enable color support of ls and also add handy aliases</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-x</span> /usr/bin/dircolors <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
    <span class="token builtin class-name">test</span> <span class="token parameter variable">-r</span> ~/.dircolors <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">eval</span> <span class="token string">"<span class="token variable"><span class="token variable">$(</span><span class="token function">dircolors</span> <span class="token parameter variable">-b</span> ~/.dircolors<span class="token variable">)</span></span>"</span> <span class="token operator">||</span> <span class="token builtin class-name">eval</span> <span class="token string">"<span class="token variable"><span class="token variable">$(</span><span class="token function">dircolors</span> <span class="token parameter variable">-b</span><span class="token variable">)</span></span>"</span>
    <span class="token builtin class-name">alias</span> <span class="token assign-left variable">ls</span><span class="token operator">=</span><span class="token string">'ls --color=auto'</span>
    <span class="token comment">#alias dir='dir --color=auto'</span>
    <span class="token comment">#alias vdir='vdir --color=auto'</span>

    <span class="token builtin class-name">alias</span> <span class="token assign-left variable">grep</span><span class="token operator">=</span><span class="token string">'grep --color=auto'</span>
    <span class="token builtin class-name">alias</span> <span class="token assign-left variable">fgrep</span><span class="token operator">=</span><span class="token string">'fgrep --color=auto'</span>
    <span class="token builtin class-name">alias</span> <span class="token assign-left variable">egrep</span><span class="token operator">=</span><span class="token string">'egrep --color=auto'</span>
<span class="token keyword">fi</span>

<span class="token comment"># colored GCC warnings and errors</span>
<span class="token comment">#export GCC_COLORS='error=01;31:warning=01;35:note=01;36:caret=01;32:locus=01:quote=01'</span>

<span class="token comment"># some more ls aliases</span>
<span class="token builtin class-name">alias</span> <span class="token assign-left variable">ll</span><span class="token operator">=</span><span class="token string">'ls -alF'</span>
<span class="token builtin class-name">alias</span> <span class="token assign-left variable">la</span><span class="token operator">=</span><span class="token string">'ls -A'</span>
<span class="token builtin class-name">alias</span> <span class="token assign-left variable">l</span><span class="token operator">=</span><span class="token string">'ls -CF'</span>

<span class="token comment"># Add an "alert" alias for long running commands.  Use like so:</span>
<span class="token comment">#   sleep 10; alert</span>
<span class="token builtin class-name">alias</span> <span class="token assign-left variable">alert</span><span class="token operator">=</span><span class="token string">'notify-send --urgency=low -i "$([ $? = 0 ] &amp;&amp; echo terminal || echo error)" "$(history|tail -n1|sed -e '</span><span class="token punctuation">\</span>'<span class="token string">'s/^\s*[0-9]\+\s*//;s/[;&amp;|]\s*alert$//'</span><span class="token punctuation">\</span>'<span class="token string">')"'</span>

<span class="token comment"># Alias definitions.</span>
<span class="token comment"># You may want to put all your additions into a separate file like</span>
<span class="token comment"># ~/.bash_aliases, instead of adding them here directly.</span>
<span class="token comment"># See /usr/share/doc/bash-doc/examples in the bash-doc package.</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-f</span> ~/.bash_aliases <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
    <span class="token builtin class-name">.</span> ~/.bash_aliases
<span class="token keyword">fi</span>

<span class="token comment"># enable programmable completion features (you don't need to enable</span>
<span class="token comment"># this, if it's already enabled in /etc/bash.bashrc and /etc/profile</span>
<span class="token comment"># sources /etc/bash.bashrc).</span>
<span class="token keyword">if</span> <span class="token operator">!</span> <span class="token builtin class-name">shopt</span> <span class="token parameter variable">-oq</span> posix<span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-f</span> /usr/share/bash-completion/bash_completion <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
    <span class="token builtin class-name">.</span> /usr/share/bash-completion/bash_completion
  <span class="token keyword">elif</span> <span class="token punctuation">[</span> <span class="token parameter variable">-f</span> /etc/bash_completion <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
    <span class="token builtin class-name">.</span> /etc/bash_completion
  <span class="token keyword">fi</span>
<span class="token keyword">fi</span>


<span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token environment constant">$PATH</span><span class="token builtin class-name">:</span><span class="token environment constant">$HOME</span>/dotnet
<span class="token builtin class-name">export</span> <span class="token assign-left variable">DOTNET_ROOT</span><span class="token operator">=</span><span class="token environment constant">$HOME</span>/dotnet
</code></pre> 
<hr> 
<h5><a id="2__343"></a>2. 设置环境变量</h5> 
<p>按<kbd>I</kbd>键，退出命令模式进入编辑模式， ~/.bashrc文件末尾添加以下内容设置环境变量。</p> 
<pre><code>export PATH=$PATH:$HOME/dotnet
export DOTNET_ROOT=$HOME/dotnet
</code></pre> 
<h6><a id="3__349"></a>3. 保存退出</h6> 
<p>按<kbd>Esc</kbd>键，退出编辑模式进入命令模式，输入以下指令保存。</p> 
<pre><code class="prism language-vim">:wq!
</code></pre> 
<hr> 
<h4><a id="243____357"></a>2.4.3 永久添加 - 所有用户</h4> 
<h5><a id="1__etcprofile_358"></a>1. 打开 /etc/profile文件</h5> 
<pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">vim</span> /etc/profile
</code></pre> 
<hr> 
<pre><code class="prism language-bash"><span class="token comment"># /etc/profile: system-wide .profile file for the Bourne shell (sh(1))</span>
<span class="token comment"># and Bourne compatible shells (bash(1), ksh(1), ash(1), ...).</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">"<span class="token variable">${<!-- --><span class="token environment constant">PS1</span>-}</span>"</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">"<span class="token variable">${<!-- --><span class="token environment constant">BASH</span>-}</span>"</span> <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">[</span> <span class="token string">"<span class="token environment constant">$BASH</span>"</span> <span class="token operator">!=</span> <span class="token string">"/bin/sh"</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
    <span class="token comment"># The file bash.bashrc already sets the default PS1.</span>
    <span class="token comment"># PS1='\h:\w\$ '</span>
    <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-f</span> /etc/bash.bashrc <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
      <span class="token builtin class-name">.</span> /etc/bash.bashrc
    <span class="token keyword">fi</span>
  <span class="token keyword">else</span>
    <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">"<span class="token variable"><span class="token variable">`</span><span class="token function">id</span> <span class="token parameter variable">-u</span><span class="token variable">`</span></span>"</span> <span class="token parameter variable">-eq</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
      <span class="token assign-left variable"><span class="token environment constant">PS1</span></span><span class="token operator">=</span><span class="token string">'# '</span>
    <span class="token keyword">else</span>
      <span class="token assign-left variable"><span class="token environment constant">PS1</span></span><span class="token operator">=</span><span class="token string">'$ '</span>
    <span class="token keyword">fi</span>
  <span class="token keyword">fi</span>
<span class="token keyword">fi</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-d</span> /etc/profile.d <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> /etc/profile.d/*.sh<span class="token punctuation">;</span> <span class="token keyword">do</span>
    <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-r</span> <span class="token variable">$i</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
      <span class="token builtin class-name">.</span> <span class="token variable">$i</span>
    <span class="token keyword">fi</span>
  <span class="token keyword">done</span>
  <span class="token builtin class-name">unset</span> i
<span class="token keyword">fi</span>

</code></pre> 
<h5><a id="2__393"></a>2. 设置环境变量</h5> 
<p>按<kbd>I</kbd>键，退出命令模式进入编辑模式， ~/.bashrc文件末尾添加以下内容设置环境变量。</p> 
<pre><code>export PATH=$PATH:$HOME/dotnet
export DOTNET_ROOT=$HOME/dotnet
</code></pre> 
<h5><a id="3__399"></a>3. 保存退出</h5> 
<p>按<kbd>Esc</kbd>键，退出编辑模式进入命令模式，输入以下指令保存。</p> 
<pre><code class="prism language-vim">:wq!
</code></pre> 
<h5><a id="4__404"></a>4. 重新加载</h5> 
<p>执行以下指令生效</p> 
<pre><code class="prism language-bash"><span class="token builtin class-name">source</span> /etc/profile
</code></pre> 
<h4><a id="244__410"></a>2.4.4 查看设置的环境变量</h4> 
<h5><a id="1_PATH_411"></a>1 只看<code>PATH</code>变量</h5> 
<pre><code class="prism language-bash"><span class="token builtin class-name">echo</span> <span class="token environment constant">$PATH</span>
</code></pre> 
<hr> 
<pre><code class="prism language-bash">/sbin:/bin:/usr/bin:/usr/local/bin:/snap/bin:/home/signway/dotnet
</code></pre> 
<hr> 
<h5><a id="2__420"></a>2 查看所有环境变量</h5> 
<pre><code class="prism language-bash"><span class="token function">env</span>
</code></pre> 
<hr> 
<pre><code class="prism language-bash"><span class="token assign-left variable"><span class="token environment constant">SHELL</span></span><span class="token operator">=</span>/bin/bash
<span class="token assign-left variable"><span class="token environment constant">SESSION_MANAGER</span></span><span class="token operator">=</span>local/RK3588:@/tmp/.ICE-unix/20779,unix/RK3588:/tmp/.ICE-unix/20779
<span class="token assign-left variable">QT_ACCESSIBILITY</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token assign-left variable"><span class="token environment constant">COLORTERM</span></span><span class="token operator">=</span>truecolor
<span class="token assign-left variable"><span class="token environment constant">XDG_MENU_PREFIX</span></span><span class="token operator">=</span>gnome-
<span class="token assign-left variable">GNOME_DESKTOP_SESSION_ID</span><span class="token operator">=</span>this-is-deprecated
<span class="token assign-left variable"><span class="token environment constant">GNOME_KEYRING_CONTROL</span></span><span class="token operator">=</span>/home/signway/.cache/keyring-ZRVEE2
<span class="token assign-left variable">DOTNET_ROOT</span><span class="token operator">=</span>/home/signway/dotnet
<span class="token assign-left variable"><span class="token environment constant">SSH_AUTH_SOCK</span></span><span class="token operator">=</span>/home/signway/.cache/keyring-ZRVEE2/ssh
<span class="token assign-left variable"><span class="token environment constant">XMODIFIERS</span></span><span class="token operator">=</span>@im<span class="token operator">=</span>ibus
<span class="token assign-left variable">SSH_AGENT_PID</span><span class="token operator">=</span><span class="token number">20915</span>
<span class="token assign-left variable">GTK_MODULES</span><span class="token operator">=</span>gail:atk-bridge
<span class="token assign-left variable"><span class="token environment constant">PWD</span></span><span class="token operator">=</span>/home/signway
<span class="token assign-left variable"><span class="token environment constant">LOGNAME</span></span><span class="token operator">=</span>signway
<span class="token assign-left variable"><span class="token environment constant">XDG_SESSION_TYPE</span></span><span class="token operator">=</span>x11
<span class="token assign-left variable"><span class="token environment constant">GPG_AGENT_INFO</span></span><span class="token operator">=</span>/run/user/1000/gnupg/S.gpg-agent:0:1
<span class="token assign-left variable">PULSE_SCRIPT</span><span class="token operator">=</span>/etc/xrdp/pulse/default.pa
<span class="token assign-left variable"><span class="token environment constant">HOME</span></span><span class="token operator">=</span>/home/signway
<span class="token assign-left variable"><span class="token environment constant">LANG</span></span><span class="token operator">=</span>zh_CN.UTF-8
<span class="token assign-left variable"><span class="token environment constant">LS_COLORS</span></span><span class="token operator">=</span>rs<span class="token operator">=</span><span class="token number">0</span>:di<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">34</span>:ln<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">36</span>:mh<span class="token operator">=</span>00:pi<span class="token operator">=</span><span class="token number">40</span><span class="token punctuation">;</span><span class="token number">33</span>:so<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:do<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:bd<span class="token operator">=</span><span class="token number">40</span><span class="token punctuation">;</span><span class="token number">33</span><span class="token punctuation">;</span>01:cd<span class="token operator">=</span><span class="token number">40</span><span class="token punctuation">;</span><span class="token number">33</span><span class="token punctuation">;</span>01:or<span class="token operator">=</span><span class="token number">40</span><span class="token punctuation">;</span><span class="token number">31</span><span class="token punctuation">;</span>01:mi<span class="token operator">=</span>00:su<span class="token operator">=</span><span class="token number">37</span><span class="token punctuation">;</span><span class="token number">41</span>:sg<span class="token operator">=</span><span class="token number">30</span><span class="token punctuation">;</span><span class="token number">43</span>:ca<span class="token operator">=</span><span class="token number">30</span><span class="token punctuation">;</span><span class="token number">41</span>:tw<span class="token operator">=</span><span class="token number">30</span><span class="token punctuation">;</span><span class="token number">42</span>:ow<span class="token operator">=</span><span class="token number">34</span><span class="token punctuation">;</span><span class="token number">42</span>:st<span class="token operator">=</span><span class="token number">37</span><span class="token punctuation">;</span><span class="token number">44</span>:ex<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">32</span>:*.tar<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.tgz<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.arc<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.arj<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.taz<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.lha<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.lz4<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.lzh<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.lzma<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.tlz<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.txz<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.tzo<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.t7z<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.zip<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.z<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.dz<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.gz<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.lrz<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.lz<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.lzo<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.xz<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.zst<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.tzst<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.bz2<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.bz<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.tbz<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.tbz2<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.tz<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.deb<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.rpm<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.jar<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.war<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.ear<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.sar<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.rar<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.alz<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.ace<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.zoo<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.cpio<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.7z<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.rz<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.cab<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.wim<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.swm<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.dwm<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.esd<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.jpg<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.jpeg<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.mjpg<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.mjpeg<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.gif<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.bmp<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.pbm<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.pgm<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.ppm<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.tga<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.xbm<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.xpm<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.tif<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.tiff<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.png<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.svg<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.svgz<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.mng<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.pcx<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.mov<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.mpg<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.mpeg<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.m2v<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.mkv<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.webm<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.ogm<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.mp4<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.m4v<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.mp4v<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.vob<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.qt<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.nuv<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.wmv<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.asf<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.rm<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.rmvb<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.flc<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.avi<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.fli<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.flv<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.gl<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.dl<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.xcf<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.xwd<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.yuv<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.cgm<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.emf<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.ogv<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.ogx<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.aac<span class="token operator">=</span>00<span class="token punctuation">;</span><span class="token number">36</span>:*.au<span class="token operator">=</span>00<span class="token punctuation">;</span><span class="token number">36</span>:*.flac<span class="token operator">=</span>00<span class="token punctuation">;</span><span class="token number">36</span>:*.m4a<span class="token operator">=</span>00<span class="token punctuation">;</span><span class="token number">36</span>:*.mid<span class="token operator">=</span>00<span class="token punctuation">;</span><span class="token number">36</span>:*.midi<span class="token operator">=</span>00<span class="token punctuation">;</span><span class="token number">36</span>:*.mka<span class="token operator">=</span>00<span class="token punctuation">;</span><span class="token number">36</span>:*.mp3<span class="token operator">=</span>00<span class="token punctuation">;</span><span class="token number">36</span>:*.mpc<span class="token operator">=</span>00<span class="token punctuation">;</span><span class="token number">36</span>:*.ogg<span class="token operator">=</span>00<span class="token punctuation">;</span><span class="token number">36</span>:*.ra<span class="token operator">=</span>00<span class="token punctuation">;</span><span class="token number">36</span>:*.wav<span class="token operator">=</span>00<span class="token punctuation">;</span><span class="token number">36</span>:*.oga<span class="token operator">=</span>00<span class="token punctuation">;</span><span class="token number">36</span>:*.opus<span class="token operator">=</span>00<span class="token punctuation">;</span><span class="token number">36</span>:*.spx<span class="token operator">=</span>00<span class="token punctuation">;</span><span class="token number">36</span>:*.xspf<span class="token operator">=</span>00<span class="token punctuation">;</span><span class="token number">36</span>:
<span class="token assign-left variable"><span class="token environment constant">XDG_CURRENT_DESKTOP</span></span><span class="token operator">=</span>GNOME
<span class="token assign-left variable">VTE_VERSION</span><span class="token operator">=</span><span class="token number">6003</span>
<span class="token assign-left variable">XRDP_SOCKET_PATH</span><span class="token operator">=</span>/run/xrdp/sockdir
<span class="token assign-left variable">XRDP_PULSE_SOURCE_SOCKET</span><span class="token operator">=</span>xrdp_chansrv_audio_in_socket_10
<span class="token assign-left variable">GNOME_TERMINAL_SCREEN</span><span class="token operator">=</span>/org/gnome/Terminal/screen/af8cf72d_9406_4502_87df_7737e813f8a2
<span class="token assign-left variable"><span class="token environment constant">LESSCLOSE</span></span><span class="token operator">=</span>/bin/lesspipe %s %s
<span class="token assign-left variable">XDG_SESSION_CLASS</span><span class="token operator">=</span>user
<span class="token assign-left variable"><span class="token environment constant">TERM</span></span><span class="token operator">=</span>xterm-256color
<span class="token assign-left variable"><span class="token environment constant">LESSOPEN</span></span><span class="token operator">=</span><span class="token operator">|</span> /bin/lesspipe %s
<span class="token assign-left variable"><span class="token environment constant">USER</span></span><span class="token operator">=</span>signway
<span class="token assign-left variable">GNOME_TERMINAL_SERVICE</span><span class="token operator">=</span>:1.393
<span class="token assign-left variable">XRDP_SESSION</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token assign-left variable"><span class="token environment constant">DISPLAY</span></span><span class="token operator">=</span>:10.0
<span class="token assign-left variable">XRDP_PULSE_SINK_SOCKET</span><span class="token operator">=</span>xrdp_chansrv_audio_out_socket_10
<span class="token assign-left variable"><span class="token environment constant">SHLVL</span></span><span class="token operator">=</span><span class="token number">1</span>
<span class="token assign-left variable">QT_IM_MODULE</span><span class="token operator">=</span>ibus
<span class="token assign-left variable"><span class="token environment constant">XDG_DATA_DIRS</span></span><span class="token operator">=</span>/usr/share/gnome:/usr/local/share:/usr/share:/var/lib/snapd/desktop
<span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span>/sbin:/bin:/usr/bin:/usr/local/bin:/snap/bin:/home/signway/dotnet
<span class="token assign-left variable"><span class="token environment constant">DBUS_SESSION_BUS_ADDRESS</span></span><span class="token operator">=</span>unix:abstract<span class="token operator">=</span>/tmp/dbus-LY2CUzKESO,guid<span class="token operator">=</span>88d0510cbc94cdf2015ed92765542918
<span class="token assign-left variable"><span class="token environment constant">UID</span></span><span class="token operator">=</span><span class="token number">1000</span>
<span class="token assign-left variable">_</span><span class="token operator">=</span>/bin/env

</code></pre> 
<hr> 
<h3><a id="25__470"></a>2.5 运行</h3> 
<p><code>**注意：一定要到根目录下运行，不要使用全路径，不然一些资源加载不了导致页面显示不正常**</code></p> 
<h4><a id="251__472"></a>2.5.1 临时变量运行程序</h4> 
<pre><code class="prism language-bash"><span class="token builtin class-name">export</span> <span class="token assign-left variable">DOTNET_ROOT</span><span class="token operator">=</span><span class="token environment constant">$HOME</span>/dotnet
<span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token environment constant">$PATH</span><span class="token builtin class-name">:</span><span class="token environment constant">$HOME</span>/dotnet
<span class="token builtin class-name">cd</span> /home/signway/rsszy/webapp2/
dotnet <span class="token string">'RSS_NCD(MINI)_BlazorServer.dll'</span>
</code></pre> 
<h4><a id="252__479"></a>2.5.2 永久变量运行程序</h4> 
<pre><code class="prism language-bash"><span class="token builtin class-name">cd</span> /home/signway/rsszy/webapp2/
dotnet <span class="token string">'RSS_NCD(MINI)_BlazorServer.dll'</span>
</code></pre> 
<hr> 
<pre><font color="#4E9A06"><b>signway@RK3588</b></font>:<font color="#3465A4"><b>~</b></font>$ cd /home/signway/rsszy/webapp2/
<font color="#4E9A06"><b>signway@RK3588</b></font>:<font color="#3465A4"><b>~/rsszy/webapp2</b></font>$ 
<font color="#4E9A06"><b>signway@RK3588</b></font>:<font color="#3465A4"><b>~/rsszy/webapp2</b></font>$ dotnet 'RSS_NCD(MINI)_BlazorServer.dll'
<font color="#4E9A06">info</font>: Microsoft.Hosting.Lifetime[14]
      Now listening on: http://[::]:9002
<font color="#4E9A06">info</font>: Microsoft.Hosting.Lifetime[14]
      Now listening on: https://[::]:9003
<font color="#4E9A06">info</font>: Microsoft.Hosting.Lifetime[0]
      Application started. Press Ctrl+C to shut down.
<font color="#4E9A06">info</font>: Microsoft.Hosting.Lifetime[0]
      Hosting environment: Production
<font color="#4E9A06">info</font>: Microsoft.Hosting.Lifetime[0]
      Content root path: /home/signway/rsszy/webapp2/
</pre> 
<hr> 
<h4><a id="253__500"></a>2.5.3 永久变量静默运行（后台运行）</h4> 
<pre><code class="prism language-bash"><span class="token builtin class-name">cd</span> /home/signway/rsszy/webapp2/
<span class="token function">nohup</span> dotnet <span class="token string">'RSS_NCD(MINI)_BlazorServer.dll'</span> <span class="token operator">&gt;</span> /dev/null <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span><span class="token file-descriptor important">&amp;1</span> <span class="token operator">&amp;</span>
</code></pre> 
<hr> 
<pre><font color="#4E9A06"><b>signway@RK3588</b></font>:<font color="#3465A4"><b>~/rsszy/webapp2</b></font>$ cd /home/signway/rsszy/webapp2/
<font color="#4E9A06"><b>signway@RK3588</b></font>:<font color="#3465A4"><b>~/rsszy/webapp2</b></font>$ 
<font color="#4E9A06"><b>signway@RK3588</b></font>:<font color="#3465A4"><b>~/rsszy/webapp2</b></font>$ nohup dotnet 'RSS_NCD(MINI)_BlazorServer.dll' &gt; /dev/null 2&gt;&amp;1 &amp;
[1] 70286
<font color="#4E9A06"><b>signway@RK3588</b></font>:<font color="#3465A4"><b>~/rsszy/webapp2</b></font>$ 
</pre> 
<hr> 
<h4><a id="254__514"></a>2.5.4 查看后台运行</h4> 
<p><code>ps aux | grep &lt;运行程序名称&gt;</code></p> 
<pre><code class="prism language-bash"><span class="token function">ps</span> aux <span class="token operator">|</span> <span class="token function">grep</span> BlazorServer
</code></pre> 
<hr> 
<pre><font color="#4E9A06"><b>signway@RK3588</b></font>:<font color="#3465A4"><b>~/rsszy/webapp2</b></font>$ ps aux | grep BlazorServer
signway    70286  0.6  2.2 24527624 90396 pts/2  Sl   17:59   0:01 dotnet RSS_NCD(MINI)_<font color="#CC0000"><b>BlazorServer</b></font>.dll
signway    70327  0.0  0.0  11664   664 pts/2    S+   18:03   0:00 grep --color=auto <font color="#CC0000"><b>BlazorServer</b></font>
</pre> 
<hr> 
<h4><a id="255__525"></a>2.5.5 终止运行程序</h4> 
<p><code>kill &lt;PID&gt;</code></p> 
<pre><code class="prism language-bash"><span class="token function">kill</span> <span class="token number">70286</span>
</code></pre> 
<hr> 
<pre><font color="#4E9A06"><b>signway@RK3588</b></font>:<font color="#3465A4"><b>~/rsszy/webapp2</b></font>$ kill 70286
<font color="#4E9A06"><b>signway@RK3588</b></font>:<font color="#3465A4"><b>~/rsszy/webapp2</b></font>$ 
</pre> 
<hr> 
<h4><a id="256__535"></a>2.5.6 强制终止运行程序</h4> 
<p><code>kill -9 &lt;PID&gt;</code></p> 
<pre><code class="prism language-bash"><span class="token function">kill</span> <span class="token parameter variable">-9</span> <span class="token number">70286</span>
</code></pre> 
<hr> 
<pre><font color="#4E9A06"><b>signway@RK3588</b></font>:<font color="#3465A4"><b>~/rsszy/webapp2</b></font>$ kill -9 70336
<font color="#4E9A06"><b>signway@RK3588</b></font>:<font color="#3465A4"><b>~/rsszy/webapp2</b></font>$ 
</pre> 
<hr>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/25cec622e09d84af5e29444846646435/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">利用ShadowRoot 实现样式隔离</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/29d9d23a4e566ba3fa34e19284298d08/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">基于ubuntu20.04安装ros系统搭配使用工业相机</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>