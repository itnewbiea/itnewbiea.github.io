<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【MySQL】 [1045]Access denied for user ‘root’@’localhost’ 错误解决方法总结 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【MySQL】 [1045]Access denied for user ‘root’@’localhost’ 错误解决方法总结" />
<meta property="og:description" content="错误代码 1045 Access denied for user ‘root’@’localhost’ (using password:YES)。以下是此类错误解决方法的汇总。仅为总结，如有异议，欢迎交流。 【Windows平台】解决办法是重新设置root用户密码，操作步骤如下： 1、以系统管理员身份登录到系统； 2、如果MySQL服务器正在运行，停止它。 如果是作为Windows服务运行的服务器，进入服务管理器：开始菜单-&gt;控制面板-&gt;管理工具-&gt;服务 如果服务器不是作为服务而运行的，可能需要使用任务管理器来强制停止它。 3、创建1个文本文件，并将下述命令置于单一行中： SET PASSWORD FOR ‘root’@’localhost’ = PASSWORD(‘MyNewPassword’); 用任意名称保存该文件。在本例中，该文件为C:mysql-init.txt。 4、进入DOS命令提示：开始菜单-&gt;运行-&gt; cmd 假定你已将MySQL安装到C:mysql。如果你将MySQL安装到了另一位置，请对下述命令进行相应的调整。 在DOS命令提示符下，执行命令： C:&gt; C:mysqlbinmysqld-nt –init-file=C:mysql-init.txt 在服务器启动时，执行由“–init-file”选项（作用：在启动时从指定的文件中读取SQL命令）命名的文件的内容，更改根用户密码。当服务器成功启动后，应删除C:mysql-init.txt。 5、停止MySQL服务器，然后在正常模式下重启它。如果以服务方式运行服务器，应从Windows服务窗口启动它。如果以手动方式启动了服务器，能够像正常情形下一样使用命令。 应能使用新密码进行连接。
// /etc/init.d/mysql stop // mysqld_safe –user=mysql –skip-grant-tables –skip-networking &amp; // mysql -u root mysql mysql&gt; UPDATE user SET Password=PASSWORD(‘newpassword’) where USER=’root’; mysql&gt; FLUSH PRIVILEGES; mysql&gt; quit // /etc/init.d/mysql restart // mysql -uroot -p Enter password: &lt;输入新设的密码newpassword&gt;
【Linux】错误原因可能如下： Red Hat Enterprise Linux 5服务器上mysql启动报错：ERROR 1045 (28000): Access denied for user ‘root’@’localhost’ (using password: NO)" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/bb6b9cd90224b430ad313c87815db192/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2016-07-19T18:13:29+08:00" />
<meta property="article:modified_time" content="2016-07-19T18:13:29+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【MySQL】 [1045]Access denied for user ‘root’@’localhost’ 错误解决方法总结</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2 id="错误代码-1045">错误代码 1045</h2> 
<h4 id="access-denied-for-user-rootlocalhost-using-passwordyes以下是此类错误解决方法的汇总仅为总结如有异议欢迎交流">Access denied for user ‘root’@’localhost’ (using password:YES)。以下是此类错误解决方法的汇总。仅为总结，如有异议，欢迎交流。</h4> 
<h4 id="windows平台解决办法是重新设置root用户密码操作步骤如下">【Windows平台】解决办法是重新设置root用户密码，操作步骤如下：</h4> 
<p>1、以系统管理员身份登录到系统； <br> 2、如果MySQL服务器正在运行，停止它。 <br> 如果是作为Windows服务运行的服务器，进入服务管理器：开始菜单-&gt;控制面板-&gt;管理工具-&gt;服务 <br> 如果服务器不是作为服务而运行的，可能需要使用任务管理器来强制停止它。 <br> 3、创建1个文本文件，并将下述命令置于单一行中： <br> SET PASSWORD FOR ‘root’@’localhost’ = PASSWORD(‘MyNewPassword’); <br> 用任意名称保存该文件。在本例中，该文件为C:mysql-init.txt。 <br> 4、进入DOS命令提示：开始菜单-&gt;运行-&gt; cmd <br> 假定你已将MySQL安装到C:mysql。如果你将MySQL安装到了另一位置，请对下述命令进行相应的调整。 <br> 在DOS命令提示符下，执行命令： <br> C:&gt; C:mysqlbinmysqld-nt –init-file=C:mysql-init.txt <br> 在服务器启动时，执行由“–init-file”选项（作用：在启动时从指定的文件中读取SQL命令）命名的文件的内容，更改根用户密码。当服务器成功启动后，应删除C:mysql-init.txt。 <br> 5、停止MySQL服务器，然后在正常模式下重启它。如果以服务方式运行服务器，应从Windows服务窗口启动它。如果以手动方式启动了服务器，能够像正常情形下一样使用命令。 <br> 应能使用新密码进行连接。</p> 
<p>// /etc/init.d/mysql stop <br> // mysqld_safe –user=mysql –skip-grant-tables –skip-networking &amp; <br> // mysql -u root mysql <br> mysql&gt; UPDATE user SET Password=PASSWORD(‘newpassword’) where USER=’root’; <br> mysql&gt; FLUSH PRIVILEGES; <br> mysql&gt; quit <br> // /etc/init.d/mysql restart <br> // mysql -uroot -p <br> Enter password: &lt;输入新设的密码newpassword&gt;</p> 
<h4 id="linux错误原因可能如下">【Linux】错误原因可能如下：</h4> 
<p>Red Hat Enterprise Linux 5服务器上mysql启动报错：ERROR 1045 (28000): Access denied for user ‘root’@’localhost’ (using password: NO)</p> 
<p>原因1－启动命令错误： <br> 我开始的时候直接输入命令：mysql start <br> 正确的启动命令是： <br> /etc/rc.d/init.d/mysql start</p> 
<p>原因2－配置文件错误： <br> 检查etc下面的my.cnf如下内容： <br> // password = your_password <br> port = 3306 <br> socket = /usr/mysql-data/mysql.sock <br> // Here follows entries for some specific programs <br> // The MySQL server <br> [mysqld] <br> port = 3306 <br> socket = /usr/mysql-data/mysql.sock</p> 
<p>原因3－启动文件错误： <br> 需要修改MySQL启动脚本/etc/rc.d/init.d/mysql， <br> 其中datadir= ？ 一行检查下！</p> 
<p>原因4－前提是你在使用php连接时候报错！ <br> 在/etc/php.ini修改mysql.default_socket的值设置为： <br> mysql.default_socket=/var/lib/mysql/mysql.sock <br> 回到终点设置个连接：ln -s /var/lib/mysql/mysql.sock /tmp/mysql.sock <br> （在/etc/php.ini中mysql.default_socket这个文件中，关于mysql.default_socket的值的说明是这样的， <br> ;Default socket name for local MySQL connects. If empty, uses the built-in MySQL defaults. <br> 这个值一开始是空的，也就是说，如果我们不主动去修改的话，php将会使用内建在mysql中的默认值）</p> 
<p>注意：另外还遇到需要service mysql star才能启动service mysql stop才能停止。 <br> 还有直接使用mysql不能找到命令，错误为“bash: mysql: command not found”可以直接**mysql的安装目录中的bin文件夹跟绝对路径运行命令，还有的需要加./mysql 才能执行。</p> 
<h4 id="mysql修改密码方法">【MySQL修改密码方法】</h4> 
<p>方法一 　　</p> 
<p>使用phpMyAdmin</p> 
<p>　　(图形化管理MySql数据库的工具)，这是最简单的，直接用SQL语句修改mysql数据库库的user表，不过别忘了使用PASSWORD函数，插入用户用Insert命令，修改用户用Update命令，删除用Delete命令。在本节后面有数据表user字段的详细介绍。 　　</p> 
<p>方法二 　　</p> 
<p>　　使用mysqladmin。输入 　</p> 
<p>　　mysqladmin -u root -p oldpassword newpasswd 　</p> 
<p>执行这个命令后，需要输入root的原密码，这样root的密码将改为newpasswd。同样，把命令里的root改为你的用户名，你就可以改你自己的密码了。</p> 
<p>　　当然如果你的mysqladmin连接不上mysql</p> 
<p>　　server，或者你没有办法执行mysqladmin，那么这种方法就是无效的，而且mysqladmin无法把密码清空。 　　</p> 
<p>　　下面的方法都在mysql提示符下使用，且必须有mysql的root权限： 　　</p> 
<p>方法三 　　</p> 
<p>　　mysql&gt; INSERT INTO mysql.user (Host,User,Password) VALUES(‘%’,’system’, PASSWORD(‘manager’));</p> 
<p>　　mysql&gt; FLUSH PRIVILEGES 　　</p> 
<p>　　确切地说这是在增加一个用户，用户名为system，密码为manager。注意要使用PASSWORD函数，然后还要使用FLUSH</p> 
<p>　　PRIVILEGES来执行确认。</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/01895c917c73908d66bf1259e2dfe16e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">一个简单的全文搜索引擎</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/221548a75435bc6a923b04a63becfff2/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Qt 5.7.0 编译出现cannot find -lGL问题</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>