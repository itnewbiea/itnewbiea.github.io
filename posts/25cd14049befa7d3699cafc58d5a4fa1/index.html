<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Unity Pico Neo3 基础开发流程 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Unity Pico Neo3 基础开发流程" />
<meta property="og:description" content="Unity Pico Neo3 基础开发流程 Pico 基础模块Pico 开发者平台Pico 管理中心Pico 实时预览 测试 Unity 模块项目创建基础XR 模块传送 模块锚点传送 模块射线抓取 模块手柄碰撞抓取 模块XR UI模块射线碰撞事件响应 模块Pico XR 健值操作 Unity Pico 简单应用 Pico 基础模块 Pico 开发者平台 链接: PICO 开发者平台
链接: PICO 文档中心
链接: Pico GitHub
链接: PicoXR SDK 官方存储库
如果是第一次进入需要先注册成为开发者。 然后下载SDK。 这个是 Unity相关的 SDK 注意下载的平台，并下载最新版。 我这里下载的是：PICO UnityXR Integration SDK v207。 解压： 最有用的就是这个 package.json 文件。 这个是 实时预览 和 Pico Neo3 串流工具。 解压之后的文件夹状态： 再把 PreviewTool_0402_Release.7z 解压。 PreviewTool_0402.apk ： 这个文件是 Pico Neo3 的安装包 在用 USB 数据线 连接到 PicoNeo3 把PreviewTool_0402." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/25cd14049befa7d3699cafc58d5a4fa1/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-09-23T17:59:48+08:00" />
<meta property="article:modified_time" content="2022-09-23T17:59:48+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Unity Pico Neo3 基础开发流程</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>Unity Pico Neo3 基础开发流程</h4> 
 <ul><li><a href="#Pico__2" rel="nofollow">Pico 基础模块</a></li><li><ul><li><a href="#Pico__3" rel="nofollow">Pico 开发者平台</a></li><li><a href="#Pico__58" rel="nofollow">Pico 管理中心</a></li><li><a href="#Pico___104" rel="nofollow">Pico 实时预览 测试</a></li></ul> 
  </li><li><a href="#Unity__161" rel="nofollow">Unity 模块</a></li><li><ul><li><a href="#_163" rel="nofollow">项目创建</a></li><li><a href="#XR__243" rel="nofollow">基础XR 模块</a></li><li><a href="#__291" rel="nofollow">传送 模块</a></li><li><a href="#__298" rel="nofollow">锚点传送 模块</a></li><li><a href="#__308" rel="nofollow">射线抓取 模块</a></li><li><a href="#__316" rel="nofollow">手柄碰撞抓取 模块</a></li><li><a href="#XR_UI_333" rel="nofollow">XR UI模块</a></li><li><a href="#__361" rel="nofollow">射线碰撞事件响应 模块</a></li><li><a href="#Pico_XR__429" rel="nofollow">Pico XR 健值操作</a></li></ul> 
  </li><li><a href="#Unity_Pico__623" rel="nofollow">Unity Pico 简单应用</a></li></ul> 
</div> 
<p></p> 
<h2><a id="Pico__2"></a>Pico 基础模块</h2> 
<h3><a id="Pico__3"></a>Pico 开发者平台</h3> 
<p>链接: <a href="https://developer-cn.pico-interactive.com/" rel="nofollow">PICO 开发者平台</a><br> 链接: <a href="https://developer-cn.pico-interactive.com/document/unity" rel="nofollow">PICO 文档中心</a><br> 链接: <a href="https://github.com/picoxr?tab=repositories">Pico GitHub</a><br> 链接: <a href="https://github.com/picoxr/support">PicoXR SDK 官方存储库</a></p> 
<pre><code class="prism language-javascript">如果是第一次进入需要先注册成为开发者。
然后下载<span class="token constant">SDK</span>。
</code></pre> 
<p><img src="https://images2.imgbox.com/03/11/wlwJGmpB_o.png" alt="请添加图片描述"></p> 
<pre><code class="prism language-javascript">这个是 Unity相关的 <span class="token constant">SDK</span>
注意下载的平台，并下载最新版。

我这里下载的是：<span class="token constant">PICO</span> UnityXR Integration <span class="token constant">SDK</span> v207。
</code></pre> 
<p><img src="https://images2.imgbox.com/e2/f3/QmxV6Dfg_o.png" alt="请添加图片描述"></p> 
<pre><code class="prism language-javascript">解压： 最有用的就是这个 <span class="token keyword">package</span><span class="token punctuation">.</span>json 文件。
</code></pre> 
<p><img src="https://images2.imgbox.com/6f/28/J4FGoh99_o.png" alt="请添加图片描述"></p> 
<pre><code class="prism language-javascript">这个是 实时预览 和 Pico Neo3 串流工具。
</code></pre> 
<p><img src="https://images2.imgbox.com/50/1f/YYyAF6AI_o.png" alt="请添加图片描述"></p> 
<pre><code class="prism language-javascript">解压之后的文件夹状态：
再把 PreviewTool_0402_Release<span class="token punctuation">.</span>7z 解压。
PreviewTool_0402<span class="token punctuation">.</span>apk ： 这个文件是 Pico Neo3 的安装包
</code></pre> 
<p><img src="https://images2.imgbox.com/1b/7e/Oc4PF8zM_o.png" alt="请添加图片描述"></p> 
<pre><code class="prism language-javascript">在用 <span class="token constant">USB</span> 数据线 连接到 PicoNeo3 把PreviewTool_0402<span class="token punctuation">.</span>apk 文件复制到内部存储器中。
打开 PicoNeo3 并安装
</code></pre> 
<p><img src="https://images2.imgbox.com/df/8a/441RzSQt_o.png" alt="请添加图片描述"></p> 
<pre><code class="prism language-javascript">下载 Android Debug Bridge（<span class="token constant">ADB</span>） 调试工具包。
</code></pre> 
<p>链接: <a href="https://developer.android.com/studio/releases/platform-tools#downloads" rel="nofollow">Android Debug Bridge（ADB）</a></p> 
<pre><code class="prism language-javascript">如果无法下载就尝试一下 下面这个链接。
</code></pre> 
<p>链接: <a href="https://download.csdn.net/download/weixin_43925843/86658481">Android Debug Bridge（ADB） CSDN</a></p> 
<p><img src="https://images2.imgbox.com/1c/35/uNXgk1WH_o.png" alt="请添加图片描述"></p> 
<h3><a id="Pico__58"></a>Pico 管理中心</h3> 
<pre><code class="prism language-javascript">在 Pico 开发者平台 点击管理中心
</code></pre> 
<p><img src="https://images2.imgbox.com/77/81/0xDYJAP7_o.png" alt="请添加图片描述"></p> 
<pre><code class="prism language-javascript">进行账号密码登录，没有的话就注册一个
</code></pre> 
<p><img src="https://images2.imgbox.com/ba/29/ntJIF8At_o.png" alt="请添加图片描述"></p> 
<p><img src="https://images2.imgbox.com/ae/79/UJ4sGyVo_o.png" alt="请添加图片描述"></p> 
<pre><code class="prism language-javascript">登录之后 点击创建一个新的应用
</code></pre> 
<p><img src="https://images2.imgbox.com/ac/a2/v4Rzf0Jp_o.png" alt="请添加图片描述"></p> 
<pre><code class="prism language-javascript">创建应用时最好 选择 6DOF
</code></pre> 
<p><img src="https://images2.imgbox.com/e7/cc/GKIlom1a_o.png" alt="请添加图片描述"></p> 
<pre><code class="prism language-javascript">创建完毕之后，点击刚刚创建好的应用。
</code></pre> 
<p><img src="https://images2.imgbox.com/68/43/jDuvojHh_o.png" alt="请添加图片描述"></p> 
<pre><code class="prism language-javascript">点击 当前应用 <span class="token constant">API</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/1a/3b/656Q1vuh_o.png" alt="请添加图片描述"></p> 
<pre><code class="prism language-javascript">这里的 <span class="token constant">API</span> 就是后期发布应用时会用到的。
</code></pre> 
<p><img src="https://images2.imgbox.com/15/4c/iLzTVCva_o.png" alt="请添加图片描述"></p> 
<h3><a id="Pico___104"></a>Pico 实时预览 测试</h3> 
<pre><code class="prism language-javascript"><span class="token number">1.</span> 使用 <span class="token constant">USB</span> 数据线连接 <span class="token constant">PICO</span> <span class="token constant">VR</span> 一体机与 <span class="token constant">PC</span>。
</code></pre> 
<pre><code class="prism language-javascript"><span class="token number">2.</span> 使用 Win <span class="token operator">+</span> <span class="token constant">R</span> 输入 cmd 打开 命令行工具  
</code></pre> 
<p><img src="https://images2.imgbox.com/d9/aa/8KlxFnFp_o.png" alt="请添加图片描述"></p> 
<pre><code class="prism language-javascript"><span class="token number">3.</span> 在命令行窗口中 输出：cd <span class="token constant">D</span><span class="token operator">:</span>\Unity\Plug<span class="token operator">-</span><span class="token keyword">in</span>\Pico <span class="token constant">SDK</span>\platform<span class="token operator">-</span>tools_r33<span class="token punctuation">.</span><span class="token number">0.3</span><span class="token operator">-</span>windows\Android Debug Bridge（<span class="token constant">ADB</span>）
   <span class="token literal-property property">再次输入：d</span><span class="token operator">:</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/01/66/lMliGQpD_o.png" alt="请添加图片描述"></p> 
<pre><code class="prism language-javascript"><span class="token number">4.</span> 状态检查 输入：adb devices。
  （若第一次执行该命令，此时 <span class="token constant">PICO</span> <span class="token constant">VR</span> 一体机屏幕上会通过对话框提示 “是否允许<span class="token constant">USB</span> Debugger”，点击 同意。）
  （命令执行后，如果出现设备序列号，代表连接成功。）
  （这个序列号等会要在 Unity 中使用。）
</code></pre> 
<p><img src="https://images2.imgbox.com/8b/2d/b5YUO0P4_o.png" alt="请添加图片描述"></p> 
<pre><code class="prism language-javascript"><span class="token number">5.</span> 在PicoNeo3 中点击文件管理<span class="token operator">-</span><span class="token operator">&gt;</span>安装包<span class="token operator">-</span><span class="token operator">&gt;</span>PreviewTool_0402<span class="token punctuation">.</span>apk 进行PreviewTool安装。
</code></pre> 
<p><img src="https://images2.imgbox.com/1a/e2/Bqf5xLxk_o.png" alt="请添加图片描述"></p> 
<p><img src="https://images2.imgbox.com/1f/69/L1u79ukA_o.png" alt="请添加图片描述"></p> 
<pre><code class="prism language-javascript"><span class="token number">6.</span> 在 <span class="token operator">**</span><span class="token operator">*</span>\PicoPreviewTool <span class="token constant">V1</span><span class="token number">.0</span><span class="token operator">-</span><span class="token number">0402</span>\PreviewTool_0402_Release\Release 文件夹下 双击打开 PreviewTool<span class="token punctuation">.</span>exe
</code></pre> 
<p><img src="https://images2.imgbox.com/53/c3/vwLsGJDy_o.png" alt="请添加图片描述"></p> 
<pre><code class="prism language-javascript"><span class="token number">7.</span> 两种链接模式：
   无线连接 ：需保证 <span class="token constant">PC</span> 与 <span class="token constant">VR</span> 一体机处于同一 Wi<span class="token operator">-</span>Fi <span class="token function">环境下。</span>
   <span class="token punctuation">(</span>推荐<span class="token punctuation">)</span> 有线连接 ：需使用 <span class="token constant">USB</span> 数据线连接 <span class="token constant">PC</span> 与 <span class="token constant">VR</span> 一体机。
</code></pre> 
<p><img src="https://images2.imgbox.com/95/a0/yjEnEr2F_o.png" alt="请添加图片描述"></p> 
<pre><code class="prism language-javascript">链接成功状态。
</code></pre> 
<p><img src="https://images2.imgbox.com/e4/9b/JJLyM8iJ_o.png" alt="请添加图片描述"></p> 
<pre><code class="prism language-javascript"><span class="token number">8.</span> 在PicoNeo3打开  PreviewTool 工具
</code></pre> 
<p><img src="https://images2.imgbox.com/de/13/W3UBApJD_o.png" alt="请添加图片描述"></p> 
<pre><code class="prism language-javascript"><span class="token number">9.</span> 选择有线连接 连接完毕之后，整个画面就会变黑。
   点击 Unity 编辑器界面顶部的 播放 按钮。
   <span class="token constant">VR</span> 一体机上就会呈现与 <span class="token constant">PC</span> 同步的场景画面。
</code></pre> 
<p><img src="https://images2.imgbox.com/c2/94/Ix8Xx9YM_o.png" alt="请添加图片描述"></p> 
<h2><a id="Unity__161"></a>Unity 模块</h2> 
<p>链接: <a href="https://developer-cn.pico-interactive.com/document/unity" rel="nofollow">配置开发环境 Pico 官方文档</a></p> 
<h3><a id="_163"></a>项目创建</h3> 
<pre><code class="prism language-javascript"><span class="token number">1.</span> Unity 编辑器（Unity Editor）须使用 <span class="token number">2019.4</span><span class="token number">.0</span> 及以上版本。（因为要使用 <span class="token constant">XR</span> 模块）
</code></pre> 
<p><img src="https://images2.imgbox.com/39/92/eGgrOZ1s_o.png" alt="请添加图片描述"></p> 
<pre><code class="prism language-javascript"><span class="token number">2.</span> 先进行安卓平台 切换。
</code></pre> 
<p><img src="https://images2.imgbox.com/e6/f1/69vAsSeF_o.png" alt="请添加图片描述"></p> 
<pre><code class="prism language-javascript">切换后的状态。
</code></pre> 
<p><img src="https://images2.imgbox.com/ec/5a/6625Y6kw_o.png" alt="请添加图片描述"></p> 
<pre><code class="prism language-javascript"><span class="token number">3.</span> 打开 Package Manager。
</code></pre> 
<p><img src="https://images2.imgbox.com/ac/2c/FTIA2Jt8_o.png" alt="请添加图片描述"></p> 
<pre><code class="prism language-javascript"><span class="token number">4.</span> 点击 Add <span class="token keyword">package</span> from disk
</code></pre> 
<p><img src="https://images2.imgbox.com/3b/33/LGxFhsLL_o.png" alt="请添加图片描述"></p> 
<pre><code class="prism language-javascript"><span class="token number">5.</span> 选择 <span class="token keyword">package</span><span class="token punctuation">.</span>json 文件并导入。
</code></pre> 
<p><img src="https://images2.imgbox.com/15/fc/vpwR3I9Y_o.png" alt="请添加图片描述"></p> 
<pre><code class="prism language-javascript"><span class="token number">6.</span> 下载 <span class="token constant">XR</span> Interaction Toolkit 并下载 Starter Assets、<span class="token constant">XR</span> Device Simulator、Tunneling Vignette。
</code></pre> 
<p><img src="https://images2.imgbox.com/bf/13/0ZjKJ82P_o.png" alt="请添加图片描述"></p> 
<pre><code class="prism language-javascript"><span class="token number">7.</span> 在 App <span class="token constant">ID</span> 字段处，填入应用 <span class="token constant">ID</span>。点击 Apply。
</code></pre> 
<p><img src="https://images2.imgbox.com/10/c8/idqPODX0_o.png" alt="请添加图片描述"></p> 
<pre><code class="prism language-javascript"><span class="token number">8.</span> 在安卓平台 勾选 PicoXR
</code></pre> 
<p><img src="https://images2.imgbox.com/d3/8b/6dBh3cP6_o.png" alt="请添加图片描述"></p> 
<pre><code class="prism language-javascript"><span class="token number">9.</span> 在微软平台 勾选 PicoXR
</code></pre> 
<p><img src="https://images2.imgbox.com/fa/62/35NJOYbZ_o.png" alt="请添加图片描述"></p> 
<pre><code class="prism language-javascript"><span class="token number">10.</span> Other Settings 标签，在 Identification 设置区域：
   Minimum <span class="token constant">API</span> Level （最低<span class="token constant">API</span>级别）更改为 <span class="token constant">API</span> level <span class="token number">27</span>。
   Target <span class="token constant">API</span> Level 设置为 <span class="token function">Automatic</span> <span class="token punctuation">(</span>highest installed<span class="token punctuation">)</span>。
</code></pre> 
<p><img src="https://images2.imgbox.com/81/be/1JLThSJT_o.png" alt="请添加图片描述"></p> 
<pre><code class="prism language-javascript"><span class="token number">11.</span> 在 Configuration 设置区域：
    Scripting Backend 设置为 <span class="token constant">IL2CPP</span>。
    Target Architectures 设置为 <span class="token constant">ARM64</span> ，并取消勾选 ARMv7。
</code></pre> 
<p><img src="https://images2.imgbox.com/74/d0/SZNSORAq_o.png" alt="请添加图片描述"></p> 
<p><img src="https://images2.imgbox.com/2e/65/UpOuKxWU_o.png" alt="请添加图片描述"></p> 
<pre><code class="prism language-javascript"><span class="token number">12.</span> 在菜单栏 点击 <span class="token constant">PXR_SDK</span> <span class="token operator">-</span><span class="token operator">&gt;</span> Platform Setting <span class="token operator">-</span><span class="token operator">&gt;</span> Authorization Check <span class="token function">Simulation</span><span class="token punctuation">(</span>授权检查模拟<span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/60/95/Qhg1o3fI_o.png" alt="请添加图片描述"></p> 
<pre><code class="prism language-javascript"><span class="token number">13.</span> 添加设备 <span class="token constant">SN</span> 码 就是在命令行工具中 获取到的那个 机器码
</code></pre> 
<p><img src="https://images2.imgbox.com/40/ba/Rok2Sr6G_o.png" alt="请添加图片描述"></p> 
<h3><a id="XR__243"></a>基础XR 模块</h3> 
<pre><code class="prism language-javascript"><span class="token number">1.</span> 在 Hierarchy窗口 右键 <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token constant">XR</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token constant">XR</span> origin
</code></pre> 
<p><img src="https://images2.imgbox.com/d8/68/ivMnldNE_o.png" alt="请添加图片描述"></p> 
<pre><code class="prism language-javascript"><span class="token number">2.</span> 添加组件：
   XR_Origin：原点
   PXR_Manager：<span class="token constant">PXR</span> 管理
   TeleportationProvider：传送
   LocomotionSystem：运动系统
   InputActionManager：输入操作
   DeviceBasedSnapTurnProvider：基于设备的快速转向   
</code></pre> 
<p><img src="https://images2.imgbox.com/0a/a1/9LCZJeuK_o.png" alt="请添加图片描述"></p> 
<pre><code class="prism language-javascript"><span class="token number">3.</span> 在 Hierarchy 窗口选中 LeftHand Controller\RightHand Controller
   剔除XRController（Action<span class="token operator">-</span>based）组件。
</code></pre> 
<p><img src="https://images2.imgbox.com/f6/1e/4YnenFdb_o.png" alt="请添加图片描述"></p> 
<pre><code class="prism language-javascript"><span class="token number">4.</span> 添加 XRController（Device<span class="token operator">-</span>based）组件。
   RightHand Controller 也一样。
</code></pre> 
<p><img src="https://images2.imgbox.com/2b/0c/A57zhqQR_o.png" alt="请添加图片描述"></p> 
<pre><code class="prism language-javascript"><span class="token number">5.</span> 注意在 XRController（Device<span class="token operator">-</span>based）组件上添加 Model 模型，不然就会只有射线。
   RightHand Controller 也一样。
   Model 模型在：Packages<span class="token operator">/</span>Pico intergration<span class="token operator">/</span>Assets<span class="token operator">/</span>Resources<span class="token operator">/</span>Prefabs 文件夹下
</code></pre> 
<p><img src="https://images2.imgbox.com/a8/e7/CvD78VYY_o.png" alt="请添加图片描述"></p> 
<pre><code class="prism language-javascript"><span class="token number">6.</span> <span class="token constant">XR</span> Interactor Line Visual：射线风格化
   更改 Width Curve 风格化：下行线 的效果是 手柄宽，射线终点窄。
   Reticle：射线终点，如果不设置就是单纯的射线，如果设置就是你设置的模型。
   我这里是使用的 Sphere 小球，大小 <span class="token number">0</span><span class="token punctuation">.</span>01f。
</code></pre> 
<p><img src="https://images2.imgbox.com/47/87/QIs8qxAs_o.png" alt="请添加图片描述"></p> 
<h3><a id="__291"></a>传送 模块</h3> 
<pre><code class="prism language-javascript">在 Hierarchy 窗口 创建一个 Plane 把Transform组件 Reset一下。
并添加 TeleportationArea：传送区域 组件。
</code></pre> 
<p><img src="https://images2.imgbox.com/02/48/5XBthj7L_o.png" alt="请添加图片描述"></p> 
<h3><a id="__298"></a>锚点传送 模块</h3> 
<pre><code class="prism language-javascript">在 Hierarchy 窗口 创建一个 Plane 更改名字（改不改都行）
再在此物体下创建一个空物体作为锚点位置（那个蓝色的小框）。
在 Plane 上添加 TeleportationAnchor：锚点传送 组件
并把锚点位置 空物体赋予给 Telepor Anchor <span class="token function">Transform</span><span class="token punctuation">(</span>锚点物体<span class="token punctuation">)</span>。
</code></pre> 
<p><img src="https://images2.imgbox.com/88/b7/OWva1Q3X_o.png" alt="请添加图片描述"></p> 
<h3><a id="__308"></a>射线抓取 模块</h3> 
<pre><code class="prism language-javascript">在 Hierarchy 窗口 创建一个 Sphere 更改名字（改不改都行）
在 Sphere 上添加 <span class="token constant">XR</span> Grb Interactable：抓取 组件
</code></pre> 
<p><img src="https://images2.imgbox.com/55/05/BaubXLrh_o.png" alt="请添加图片描述"></p> 
<h3><a id="__316"></a>手柄碰撞抓取 模块</h3> 
<pre><code class="prism language-javascript">和上面的差不多
在 Hierarchy 窗口 创建一个 Cube 更改名字（改不改都行）
在 Cube上添加 <span class="token constant">XR</span> Grb Interactable：抓取 组件。
区别就是 注意添加手柄碰撞抓取。
</code></pre> 
<p><img src="https://images2.imgbox.com/63/0d/gJuomfyp_o.png" alt="请添加图片描述"></p> 
<pre><code class="prism language-javascript">当然手柄也要做出响应的变化：
把你需要响应的手只保留 <span class="token constant">XR</span> <span class="token function">Controller</span><span class="token punctuation">(</span>Device<span class="token operator">-</span>based<span class="token punctuation">)</span>组件。
并添加 <span class="token constant">XR</span> Direct InterActor 和 Capsule Collider 组件。
Capsule Collider 组件的 Radius 和 Height 设置为 <span class="token number">0</span><span class="token punctuation">.</span>1f。
</code></pre> 
<p><img src="https://images2.imgbox.com/a5/9c/7NNcY7NE_o.png" alt="请添加图片描述"></p> 
<h3><a id="XR_UI_333"></a>XR UI模块</h3> 
<pre><code class="prism language-javascript">在Hierarchy 窗口 右键 <span class="token constant">XR</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token constant">UI</span> Canvas 进行 <span class="token constant">UI</span> 模块创建。
</code></pre> 
<p><img src="https://images2.imgbox.com/c7/cd/7XcerV36_o.png" alt="请添加图片描述"></p> 
<pre><code class="prism language-javascript">为什么要在 <span class="token constant">XR</span> 的模块下创建 <span class="token constant">UI</span> 呢？ 他和普通的 <span class="token constant">UI</span> 差别在哪里呢？
首先使用 常规 <span class="token constant">UI</span> 创建画布 那么 <span class="token constant">XR</span>模式先就无法响应。
其次 <span class="token constant">XR</span> 模块下创建的 <span class="token constant">UI</span> 画布 带了一个TrackedDeviceGraphicRaycaster（跟踪设备图形射线）组件
也就是这个组件接管了 普通 <span class="token constant">UI</span> 画布的射线管理系统，要是没有这个组件 那么所有的 <span class="token constant">UI</span> 事件都无法响应。
</code></pre> 
<p><img src="https://images2.imgbox.com/bd/f7/cxpoyZgX_o.png" alt="请添加图片描述"></p> 
<pre><code class="prism language-javascript">EventSystem 事件系统：
和普通 事件系统的差异化就是 XRUIInputModule（<span class="token constant">UI</span> 输入 模块）原本的是 StandaloneInputModule组件。
</code></pre> 
<pre><code class="prism language-javascript">如果你发现你的<span class="token constant">UI</span> 射线无法点击也无法响应，就查看一下是不是这里出了问题。
</code></pre> 
<p><img src="https://images2.imgbox.com/9c/85/Xffaj8qT_o.png" alt="请添加图片描述"></p> 
<h3><a id="__361"></a>射线碰撞事件响应 模块</h3> 
<pre><code class="prism language-javascript">在 Hierarchy 窗口 创建一个 Cube 更改名字（改不改都行）
在 Cube上添加 <span class="token constant">XR</span> SImple Interactable：响应组件（不添加也行，不添加就代码添加）。
</code></pre> 
<p><img src="https://images2.imgbox.com/5f/2d/EArqu7v8_o.png" alt="请添加图片描述"></p> 
<pre><code class="prism language-javascript"><span class="token function">响应并实现：</span>
<span class="token punctuation">(</span><span class="token parameter">SelectEnterEventArgs Data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span> <span class="token function">OnPointerClick</span><span class="token punctuation">(</span>Data<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token function">可直接省略为</span> <span class="token punctuation">(</span><span class="token parameter">Data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span> <span class="token function">OnPointerClick</span><span class="token punctuation">(</span>Data<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
</code></pre> 
<pre><code class="prism language-javascript"> <span class="token keyword">void</span> <span class="token function">Start</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        GameObject<span class="token punctuation">.</span><span class="token function">Find</span><span class="token punctuation">(</span><span class="token string">"射线碰撞"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>GetComponent<span class="token operator">&lt;</span>XRSimpleInteractable<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>selectEntered<span class="token punctuation">.</span><span class="token function">AddListener</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">SelectEnterEventArgs Data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span> <span class="token function">OnPointerClick</span><span class="token punctuation">(</span>Data<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        GameObject<span class="token punctuation">.</span><span class="token function">Find</span><span class="token punctuation">(</span><span class="token string">"射线碰撞"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>GetComponent<span class="token operator">&lt;</span>XRSimpleInteractable<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>selectExited<span class="token punctuation">.</span><span class="token function">AddListener</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">SelectExitEventArgs Data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span> <span class="token function">OnPointerClick</span><span class="token punctuation">(</span>Data<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        GameObject<span class="token punctuation">.</span><span class="token function">Find</span><span class="token punctuation">(</span><span class="token string">"射线碰撞"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>GetComponent<span class="token operator">&lt;</span>XRSimpleInteractable<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>hoverEntered<span class="token punctuation">.</span><span class="token function">AddListener</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">HoverEnterEventArgs Data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span> <span class="token function">OnPointerClick</span><span class="token punctuation">(</span>Data<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        GameObject<span class="token punctuation">.</span><span class="token function">Find</span><span class="token punctuation">(</span><span class="token string">"射线碰撞"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>GetComponent<span class="token operator">&lt;</span>XRSimpleInteractable<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>hoverExited<span class="token punctuation">.</span><span class="token function">AddListener</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">HoverExitEventArgs Data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span> <span class="token function">OnPointerClick</span><span class="token punctuation">(</span> Data<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//GameObject.Find("射线碰撞").GetComponent&lt;XRSimpleInteractable&gt;().selectEntered.AddListener((Data) =&gt; { OnPointerClick(Data); });</span>
        <span class="token comment">//GameObject.Find("射线碰撞").GetComponent&lt;XRSimpleInteractable&gt;().selectExited.AddListener((Data) =&gt; { OnPointerClick(Data); });</span>
        <span class="token comment">//GameObject.Find("射线碰撞").GetComponent&lt;XRSimpleInteractable&gt;().hoverEntered.AddListener((Data) =&gt; { OnPointerClick(Data); });</span>
        <span class="token comment">//GameObject.Find("射线碰撞").GetComponent&lt;XRSimpleInteractable&gt;().hoverExited.AddListener((Data) =&gt; { OnPointerClick(Data); });</span>

    <span class="token punctuation">}</span>

       <span class="token comment">/// &lt;summary&gt;</span>
    <span class="token comment">/// 射线进入并按键</span>
    <span class="token comment">/// &lt;/summary&gt;</span>
    <span class="token comment">/// &lt;param name="Data"&gt;&lt;/param&gt;</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">OnPointerClick</span><span class="token punctuation">(</span><span class="token parameter">SelectEnterEventArgs Data</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        GameObject<span class="token punctuation">.</span><span class="token function">Find</span><span class="token punctuation">(</span><span class="token string">"Text"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>GetComponent<span class="token operator">&lt;</span>Text<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token string">"射线进入并按键"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/// &lt;summary&gt;</span>
    <span class="token comment">/// 射线退出松开按键</span>
    <span class="token comment">/// &lt;/summary&gt;</span>
    <span class="token comment">/// &lt;param name="Data"&gt;&lt;/param&gt;</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">OnPointerClick</span><span class="token punctuation">(</span><span class="token parameter">SelectExitEventArgs Data</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        GameObject<span class="token punctuation">.</span><span class="token function">Find</span><span class="token punctuation">(</span><span class="token string">"Text"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>GetComponent<span class="token operator">&lt;</span>Text<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token string">"射线进入松开按键"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/// &lt;summary&gt;</span>
    <span class="token comment">/// 射线悬停</span>
    <span class="token comment">/// &lt;/summary&gt;</span>
    <span class="token comment">/// &lt;param name="Data"&gt;&lt;/param&gt;</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">OnPointerClick</span><span class="token punctuation">(</span><span class="token parameter">HoverEnterEventArgs Data</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        GameObject<span class="token punctuation">.</span><span class="token function">Find</span><span class="token punctuation">(</span><span class="token string">"Text"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>GetComponent<span class="token operator">&lt;</span>Text<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token string">"射线悬停"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/// &lt;summary&gt;</span>
    <span class="token comment">/// 射线悬停退出</span>
    <span class="token comment">/// &lt;/summary&gt;</span>
    <span class="token comment">/// &lt;param name="Data"&gt;&lt;/param&gt;</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">OnPointerClick</span><span class="token punctuation">(</span><span class="token parameter">HoverExitEventArgs Data</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        GameObject<span class="token punctuation">.</span><span class="token function">Find</span><span class="token punctuation">(</span><span class="token string">"Text"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>GetComponent<span class="token operator">&lt;</span>Text<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token string">"射线悬停退出"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre> 
<h3><a id="Pico_XR__429"></a>Pico XR 健值操作</h3> 
<pre><code class="prism language-javascript">using System<span class="token punctuation">.</span>Collections<span class="token punctuation">;</span>
using System<span class="token punctuation">.</span>Collections<span class="token punctuation">.</span>Generic<span class="token punctuation">;</span>
using Unity<span class="token punctuation">.</span><span class="token constant">XR</span><span class="token punctuation">.</span><span class="token constant">PXR</span><span class="token punctuation">;</span>
using UnityEngine<span class="token punctuation">;</span>
using UnityEngine<span class="token punctuation">.</span><span class="token constant">UI</span><span class="token punctuation">;</span>
using UnityEngine<span class="token punctuation">.</span><span class="token constant">XR</span><span class="token punctuation">;</span>
using UnityEngine<span class="token punctuation">.</span><span class="token constant">XR</span><span class="token punctuation">.</span>Interaction<span class="token punctuation">.</span>Toolkit<span class="token punctuation">;</span>
<span class="token comment">/// &lt;summary&gt;</span>
<span class="token comment">/// XR 健值操作</span>
<span class="token comment">/// &lt;/summary&gt;</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PicoKeysOperation_ZH</span> <span class="token operator">:</span> MonoBehaviour
<span class="token punctuation">{<!-- --></span>
    <span class="token punctuation">[</span><span class="token function">Header</span><span class="token punctuation">(</span><span class="token string">"左手控制器"</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> XRController _LeftController<span class="token punctuation">;</span>
    <span class="token punctuation">[</span><span class="token function">Header</span><span class="token punctuation">(</span><span class="token string">"右手控制器"</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> XRController _RightController<span class="token punctuation">;</span>

    <span class="token comment">//摇杆移动输出值</span>
    <span class="token keyword">private</span> Vector2 _Result<span class="token punctuation">;</span>
    <span class="token comment">//移动物体</span>
    <span class="token keyword">private</span> Transform _TargetTra<span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">Start</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        _TargetTra <span class="token operator">=</span> GameObject<span class="token punctuation">.</span><span class="token function">Find</span><span class="token punctuation">(</span><span class="token string">"摇杆移动"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>transform<span class="token punctuation">;</span>

        GameObject<span class="token punctuation">.</span><span class="token function">Find</span><span class="token punctuation">(</span><span class="token string">"射线碰撞"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>GetComponent<span class="token operator">&lt;</span>XRSimpleInteractable<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>selectEntered<span class="token punctuation">.</span><span class="token function">AddListener</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">Data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span> <span class="token function">OnPointerClick</span><span class="token punctuation">(</span>Data<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        GameObject<span class="token punctuation">.</span><span class="token function">Find</span><span class="token punctuation">(</span><span class="token string">"射线碰撞"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>GetComponent<span class="token operator">&lt;</span>XRSimpleInteractable<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>selectExited<span class="token punctuation">.</span><span class="token function">AddListener</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">Data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span> <span class="token function">OnPointerClick</span><span class="token punctuation">(</span>Data<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        GameObject<span class="token punctuation">.</span><span class="token function">Find</span><span class="token punctuation">(</span><span class="token string">"射线碰撞"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>GetComponent<span class="token operator">&lt;</span>XRSimpleInteractable<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>hoverEntered<span class="token punctuation">.</span><span class="token function">AddListener</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">Data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span> <span class="token function">OnPointerClick</span><span class="token punctuation">(</span>Data<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        GameObject<span class="token punctuation">.</span><span class="token function">Find</span><span class="token punctuation">(</span><span class="token string">"射线碰撞"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>GetComponent<span class="token operator">&lt;</span>XRSimpleInteractable<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>hoverExited<span class="token punctuation">.</span><span class="token function">AddListener</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">Data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span> <span class="token function">OnPointerClick</span><span class="token punctuation">(</span>Data<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/// &lt;summary&gt;</span>
    <span class="token comment">/// 射线进入并按键</span>
    <span class="token comment">/// &lt;/summary&gt;</span>
    <span class="token comment">/// &lt;param name="Data"&gt;&lt;/param&gt;</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">OnPointerClick</span><span class="token punctuation">(</span><span class="token parameter">SelectEnterEventArgs Data</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        GameObject<span class="token punctuation">.</span><span class="token function">Find</span><span class="token punctuation">(</span><span class="token string">"Text"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>GetComponent<span class="token operator">&lt;</span>Text<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token string">"射线进入并按键"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/// &lt;summary&gt;</span>
    <span class="token comment">/// 射线退出松开按键</span>
    <span class="token comment">/// &lt;/summary&gt;</span>
    <span class="token comment">/// &lt;param name="Data"&gt;&lt;/param&gt;</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">OnPointerClick</span><span class="token punctuation">(</span><span class="token parameter">SelectExitEventArgs Data</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        GameObject<span class="token punctuation">.</span><span class="token function">Find</span><span class="token punctuation">(</span><span class="token string">"Text"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>GetComponent<span class="token operator">&lt;</span>Text<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token string">"射线进入松开按键"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/// &lt;summary&gt;</span>
    <span class="token comment">/// 射线悬停</span>
    <span class="token comment">/// &lt;/summary&gt;</span>
    <span class="token comment">/// &lt;param name="Data"&gt;&lt;/param&gt;</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">OnPointerClick</span><span class="token punctuation">(</span><span class="token parameter">HoverEnterEventArgs Data</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        GameObject<span class="token punctuation">.</span><span class="token function">Find</span><span class="token punctuation">(</span><span class="token string">"Text"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>GetComponent<span class="token operator">&lt;</span>Text<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token string">"射线悬停"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/// &lt;summary&gt;</span>
    <span class="token comment">/// 射线悬停退出</span>
    <span class="token comment">/// &lt;/summary&gt;</span>
    <span class="token comment">/// &lt;param name="Data"&gt;&lt;/param&gt;</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">OnPointerClick</span><span class="token punctuation">(</span><span class="token parameter">HoverExitEventArgs Data</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        GameObject<span class="token punctuation">.</span><span class="token function">Find</span><span class="token punctuation">(</span><span class="token string">"Text"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>GetComponent<span class="token operator">&lt;</span>Text<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token string">"射线悬停退出"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">Update</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token comment">//是否成功返回</span>
        <span class="token comment">//获取手部控制器的 摇杆值</span>
        <span class="token keyword">var</span> _Success <span class="token operator">=</span> _LeftController<span class="token punctuation">.</span>inputDevice<span class="token punctuation">.</span><span class="token function">TryGetFeatureValue</span><span class="token punctuation">(</span>CommonUsages<span class="token punctuation">.</span>primary2DAxis<span class="token punctuation">,</span> out _Result<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>_Success<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token comment">//物体移动</span>
            _TargetTra<span class="token punctuation">.</span>position <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vector3</span><span class="token punctuation">(</span>_TargetTra<span class="token punctuation">.</span>position<span class="token punctuation">.</span>x <span class="token operator">+</span> _Result<span class="token punctuation">.</span>x <span class="token operator">*</span> Time<span class="token punctuation">.</span>deltaTime<span class="token punctuation">,</span> _TargetTra<span class="token punctuation">.</span>position<span class="token punctuation">.</span>y<span class="token punctuation">,</span> _TargetTra<span class="token punctuation">.</span>position<span class="token punctuation">.</span>z <span class="token operator">+</span> _Result<span class="token punctuation">.</span>y <span class="token operator">*</span> Time<span class="token punctuation">.</span>deltaTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>


        <span class="token comment">// X键 按下</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>_LeftController<span class="token punctuation">.</span>inputDevice<span class="token punctuation">.</span><span class="token function">TryGetFeatureValue</span><span class="token punctuation">(</span>CommonUsages<span class="token punctuation">.</span>primaryButton<span class="token punctuation">,</span> out bool _PrimaryBool<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>_PrimaryBool<span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                GameObject<span class="token punctuation">.</span><span class="token function">Find</span><span class="token punctuation">(</span><span class="token string">"Text"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>GetComponent<span class="token operator">&lt;</span>Text<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token string">"左手 按下 primaryButton X键"</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

        <span class="token punctuation">}</span>
        <span class="token comment">// A键 按下</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>_RightController<span class="token punctuation">.</span>inputDevice<span class="token punctuation">.</span><span class="token function">TryGetFeatureValue</span><span class="token punctuation">(</span>CommonUsages<span class="token punctuation">.</span>primaryButton<span class="token punctuation">,</span> out bool _RightPrimaryBool<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>_RightPrimaryBool<span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                GameObject<span class="token punctuation">.</span><span class="token function">Find</span><span class="token punctuation">(</span><span class="token string">"Text"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>GetComponent<span class="token operator">&lt;</span>Text<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token string">"右手按下 primaryButton A键"</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token comment">//Y键 按下</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>_LeftController<span class="token punctuation">.</span>inputDevice<span class="token punctuation">.</span><span class="token function">TryGetFeatureValue</span><span class="token punctuation">(</span>CommonUsages<span class="token punctuation">.</span>secondaryButton<span class="token punctuation">,</span> out bool _SecondaryBool<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>_SecondaryBool<span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                GameObject<span class="token punctuation">.</span><span class="token function">Find</span><span class="token punctuation">(</span><span class="token string">"Text"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>GetComponent<span class="token operator">&lt;</span>Text<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token string">"按下 secondaryButton Y键"</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

        <span class="token punctuation">}</span>
        <span class="token comment">//B键 按下</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>_RightController<span class="token punctuation">.</span>inputDevice<span class="token punctuation">.</span><span class="token function">TryGetFeatureValue</span><span class="token punctuation">(</span>CommonUsages<span class="token punctuation">.</span>secondaryButton<span class="token punctuation">,</span> out bool _RightSecondaryBool<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>_RightSecondaryBool<span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                GameObject<span class="token punctuation">.</span><span class="token function">Find</span><span class="token punctuation">(</span><span class="token string">"Text"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>GetComponent<span class="token operator">&lt;</span>Text<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token string">"按下 secondaryButton B键"</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

        <span class="token punctuation">}</span>


        <span class="token comment">//握柄键</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>_LeftController<span class="token punctuation">.</span>inputDevice<span class="token punctuation">.</span><span class="token function">TryGetFeatureValue</span><span class="token punctuation">(</span>CommonUsages<span class="token punctuation">.</span>grip<span class="token punctuation">,</span> out float _Value<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>_Value <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">.</span>8f<span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                <span class="token comment">//Debug.LogWarning($"握柄键按下：{_Value}");</span>
                GameObject<span class="token punctuation">.</span><span class="token function">Find</span><span class="token punctuation">(</span><span class="token string">"Text"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>GetComponent<span class="token operator">&lt;</span>Text<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>text <span class="token operator">=</span> $<span class="token string">"Grip键 按下：{_Value}"</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token comment">//握柄键 按下</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>_LeftController<span class="token punctuation">.</span>inputDevice<span class="token punctuation">.</span><span class="token function">TryGetFeatureValue</span><span class="token punctuation">(</span>CommonUsages<span class="token punctuation">.</span>gripButton<span class="token punctuation">,</span> out bool _GripBool<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span>_GripBool<span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                <span class="token comment">//Debug.LogWarning("按下握柄键");</span>
                GameObject<span class="token punctuation">.</span><span class="token function">Find</span><span class="token punctuation">(</span><span class="token string">"Text"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>GetComponent<span class="token operator">&lt;</span>Text<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token string">"按下握柄键"</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>


        <span class="token comment">//扳机键</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>_LeftController<span class="token punctuation">.</span>inputDevice<span class="token punctuation">.</span><span class="token function">TryGetFeatureValue</span><span class="token punctuation">(</span>CommonUsages<span class="token punctuation">.</span>trigger<span class="token punctuation">,</span> out float _TriggerValue<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>_TriggerValue <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">.</span>8f<span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                <span class="token comment">//Debug.LogWarning($"扳机键按下：{_TriggerValue}");</span>
                GameObject<span class="token punctuation">.</span><span class="token function">Find</span><span class="token punctuation">(</span><span class="token string">"Text"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>GetComponent<span class="token operator">&lt;</span>Text<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>text <span class="token operator">=</span> $<span class="token string">"Trigger键 按下：{_TriggerValue}"</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token comment">//扳机键按下</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>_LeftController<span class="token punctuation">.</span>inputDevice<span class="token punctuation">.</span><span class="token function">TryGetFeatureValue</span><span class="token punctuation">(</span>CommonUsages<span class="token punctuation">.</span>triggerButton<span class="token punctuation">,</span> out bool _TriggerBool<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>_TriggerBool<span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                <span class="token comment">//Debug.LogWarning("按下扳机键");</span>
                GameObject<span class="token punctuation">.</span><span class="token function">Find</span><span class="token punctuation">(</span><span class="token string">"Text"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>GetComponent<span class="token operator">&lt;</span>Text<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token string">"按下 Trigger键"</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token comment">//菜单键按下</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>_LeftController<span class="token punctuation">.</span>inputDevice<span class="token punctuation">.</span><span class="token function">TryGetFeatureValue</span><span class="token punctuation">(</span>CommonUsages<span class="token punctuation">.</span>menuButton<span class="token punctuation">,</span> out bool _MenuBool<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>_MenuBool<span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                Debug<span class="token punctuation">.</span><span class="token function">LogWarning</span><span class="token punctuation">(</span><span class="token string">"按下菜单键"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                GameObject<span class="token punctuation">.</span><span class="token function">Find</span><span class="token punctuation">(</span><span class="token string">"Text"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>GetComponent<span class="token operator">&lt;</span>Text<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token string">"按下 Menu键"</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>InputHelpers<span class="token punctuation">.</span><span class="token function">IsPressed</span><span class="token punctuation">(</span>_RightController<span class="token punctuation">.</span>inputDevice<span class="token punctuation">,</span> InputHelpers<span class="token punctuation">.</span>Button<span class="token punctuation">.</span>MenuButton<span class="token punctuation">,</span> out bool _RightMenuBool<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>_RightMenuBool<span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                Debug<span class="token punctuation">.</span><span class="token function">LogWarning</span><span class="token punctuation">(</span><span class="token string">"右手按下 Menu键"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                GameObject<span class="token punctuation">.</span><span class="token function">Find</span><span class="token punctuation">(</span><span class="token string">"Text"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>GetComponent<span class="token operator">&lt;</span>Text<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token string">"右手按下 Menu键"</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token comment">//第二种方法</span>
        <span class="token comment">//如果 扳机键按下的值超过 0.8f 就触发</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>InputHelpers<span class="token punctuation">.</span><span class="token function">IsPressed</span><span class="token punctuation">(</span>_RightController<span class="token punctuation">.</span>inputDevice<span class="token punctuation">,</span> InputHelpers<span class="token punctuation">.</span>Button<span class="token punctuation">.</span>Trigger<span class="token punctuation">,</span> out bool Ispressed<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">.</span>8f<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>Ispressed<span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                Debug<span class="token punctuation">.</span><span class="token function">LogWarning</span><span class="token punctuation">(</span><span class="token string">" _RightController Trigger键 超过 0.8f"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                GameObject<span class="token punctuation">.</span><span class="token function">Find</span><span class="token punctuation">(</span><span class="token string">"Text"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>GetComponent<span class="token operator">&lt;</span>Text<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token string">"Trigger键 超过 0.8f"</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<h2><a id="Unity_Pico__623"></a>Unity Pico 简单应用</h2> 
<pre><code class="prism language-javascript">    <span class="token punctuation">[</span><span class="token function">Header</span><span class="token punctuation">(</span><span class="token string">"头盔"</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> Transform _PicoCamera<span class="token punctuation">;</span>

    <span class="token punctuation">[</span><span class="token function">Header</span><span class="token punctuation">(</span><span class="token string">"Pico 左手控制"</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> XRController _LeftController<span class="token punctuation">;</span>
    <span class="token punctuation">[</span><span class="token function">Header</span><span class="token punctuation">(</span><span class="token string">"Pico 右手控制"</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> XRController _RightController<span class="token punctuation">;</span>
    <span class="token punctuation">[</span>
    <span class="token function">Header</span><span class="token punctuation">(</span><span class="token string">"场景 UI"</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> Canvas _SceneUI<span class="token punctuation">;</span>

    <span class="token punctuation">[</span><span class="token function">Header</span><span class="token punctuation">(</span><span class="token string">"背景音乐 "</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> AudioSource _Audio<span class="token punctuation">;</span>

    <span class="token comment">//背景音乐控制</span>
    <span class="token keyword">private</span> int _AudioNumber<span class="token punctuation">;</span>

    <span class="token comment">// UI 偏移控制</span>
    <span class="token keyword">private</span> Vector3 _PosVec<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Vector3</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">.</span>1f<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">.</span>0f<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">.</span>51f<span class="token punctuation">)</span><span class="token punctuation">,</span> _EulerAngles<span class="token punctuation">;</span>
    <span class="token comment">//按键控制</span>
    <span class="token comment">//为什么有这个按键控制，是因为XR 的按键响应不是只响应一次  而是会响应多次。</span>
    <span class="token comment">//所以使用 双重布尔值进行 限制判定。</span>
    bool _KeyDownBool<span class="token punctuation">,</span> _KeyDownBool2<span class="token punctuation">,</span> _KeyDownBoolMenue<span class="token punctuation">,</span> _KeyDownBoolMenue2<span class="token punctuation">;</span>
    
    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">Awake</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        _Instants <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>

        <span class="token function">Initialize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">void</span> <span class="token function">Update</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token comment">//X \ A 键  音乐控制</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>_LeftController<span class="token punctuation">.</span>inputDevice<span class="token punctuation">.</span><span class="token function">TryGetFeatureValue</span><span class="token punctuation">(</span>CommonUsages<span class="token punctuation">.</span>primaryButton<span class="token punctuation">,</span> out bool _LeftPrimaryBool<span class="token punctuation">)</span> <span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span>_LeftPrimaryBool<span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                _KeyDownBool <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>_LeftPrimaryBool <span class="token operator">&amp;&amp;</span> _KeyDownBool2<span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                <span class="token comment">//背景音乐 控制</span>
                _AudioNumber<span class="token operator">++</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>_AudioNumber <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span>
                <span class="token punctuation">{<!-- --></span>
                    _Audio<span class="token punctuation">.</span><span class="token function">Pause</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token comment">//文字转语音</span>
                    <span class="token function">StartCoroutine</span><span class="token punctuation">(</span>TextToSpeech_ZH<span class="token punctuation">.</span>_World<span class="token punctuation">.</span><span class="token function">GetAudioClip</span><span class="token punctuation">(</span><span class="token string">"背景音乐暂停。"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token punctuation">}</span>
                <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>_AudioNumber <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span>
                <span class="token punctuation">{<!-- --></span>
                    _Audio<span class="token punctuation">.</span><span class="token function">Play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token comment">//文字转语音</span>
                    <span class="token function">StartCoroutine</span><span class="token punctuation">(</span>TextToSpeech_ZH<span class="token punctuation">.</span>_World<span class="token punctuation">.</span><span class="token function">GetAudioClip</span><span class="token punctuation">(</span><span class="token string">"背景音乐播放。"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    _AudioNumber <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>_RightController<span class="token punctuation">.</span>inputDevice<span class="token punctuation">.</span><span class="token function">TryGetFeatureValue</span><span class="token punctuation">(</span>CommonUsages<span class="token punctuation">.</span>primaryButton<span class="token punctuation">,</span> out bool _RightPrimaryBool<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>_RightPrimaryBool<span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                _KeyDownBool <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>_RightPrimaryBool<span class="token operator">&amp;&amp;</span> _KeyDownBool<span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                <span class="token comment">//背景音乐 控制</span>
                _AudioNumber<span class="token operator">++</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>_AudioNumber <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span>
                <span class="token punctuation">{<!-- --></span>
                    _Audio<span class="token punctuation">.</span><span class="token function">Pause</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token comment">//文字转语音</span>
                    <span class="token function">StartCoroutine</span><span class="token punctuation">(</span>TextToSpeech_ZH<span class="token punctuation">.</span>_World<span class="token punctuation">.</span><span class="token function">GetAudioClip</span><span class="token punctuation">(</span><span class="token string">"背景音乐暂停。"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>_AudioNumber <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span>
                <span class="token punctuation">{<!-- --></span>
                    _Audio<span class="token punctuation">.</span><span class="token function">Play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token comment">//文字转语音</span>
                    <span class="token function">StartCoroutine</span><span class="token punctuation">(</span>TextToSpeech_ZH<span class="token punctuation">.</span>_World<span class="token punctuation">.</span><span class="token function">GetAudioClip</span><span class="token punctuation">(</span><span class="token string">"背景音乐播放。"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    _AudioNumber <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                _KeyDownBool <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token comment">//菜单键 按下</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>_LeftController<span class="token punctuation">.</span>inputDevice<span class="token punctuation">.</span><span class="token function">TryGetFeatureValue</span><span class="token punctuation">(</span>CommonUsages<span class="token punctuation">.</span>menuButton<span class="token punctuation">,</span> out bool _LeftMenuBool<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>_LeftMenuBool<span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                _KeyDownBoolMenue2 <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>_LeftMenuBool<span class="token operator">&amp;&amp;</span> _KeyDownBoolMenue2<span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                <span class="token comment">//菜单 UI 显示</span>
                _SceneUI<span class="token punctuation">.</span>gameObject<span class="token punctuation">.</span><span class="token function">SetActive</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token comment">//菜单 UI 固定位置显示</span>
                _SceneUI<span class="token punctuation">.</span>transform<span class="token punctuation">.</span>position <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vector3</span><span class="token punctuation">(</span>_PicoCamera<span class="token punctuation">.</span>parent<span class="token punctuation">.</span>parent<span class="token punctuation">.</span>position<span class="token punctuation">.</span>x<span class="token punctuation">,</span> _PicoCamera<span class="token punctuation">.</span>parent<span class="token punctuation">.</span>parent<span class="token punctuation">.</span>position<span class="token punctuation">.</span>y <span class="token operator">+</span> _PosVec<span class="token punctuation">.</span>y<span class="token punctuation">,</span> _PicoCamera<span class="token punctuation">.</span>parent<span class="token punctuation">.</span>parent<span class="token punctuation">.</span>position<span class="token punctuation">.</span>z<span class="token punctuation">)</span> <span class="token operator">+</span> _PicoCamera<span class="token punctuation">.</span>parent<span class="token punctuation">.</span>parent<span class="token punctuation">.</span>forward <span class="token operator">*</span> _PosVec<span class="token punctuation">.</span>z<span class="token punctuation">;</span>
                _SceneUI<span class="token punctuation">.</span>transform<span class="token punctuation">.</span><span class="token function">LookAt</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Vector3</span><span class="token punctuation">(</span>_PicoCamera<span class="token punctuation">.</span>parent<span class="token punctuation">.</span>parent<span class="token punctuation">.</span>position<span class="token punctuation">.</span>x<span class="token punctuation">,</span> _SceneUI<span class="token punctuation">.</span>transform<span class="token punctuation">.</span>position<span class="token punctuation">.</span>y<span class="token punctuation">,</span> _PicoCamera<span class="token punctuation">.</span>parent<span class="token punctuation">.</span>parent<span class="token punctuation">.</span>position<span class="token punctuation">.</span>z<span class="token punctuation">)</span> <span class="token operator">+</span> _EulerAngles<span class="token punctuation">)</span><span class="token punctuation">;</span>

				<span class="token comment">//文字转语音</span>
                <span class="token function">StartCoroutine</span><span class="token punctuation">(</span>TextToSpeech_ZH<span class="token punctuation">.</span>_World<span class="token punctuation">.</span><span class="token function">GetAudioClip</span><span class="token punctuation">(</span><span class="token string">"菜单已打开"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                _KeyDownBoolMenue <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>_RightController<span class="token punctuation">.</span>inputDevice<span class="token punctuation">.</span><span class="token function">TryGetFeatureValue</span><span class="token punctuation">(</span>CommonUsages<span class="token punctuation">.</span>menuButton<span class="token punctuation">,</span> out bool _RightMenuBool<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>_RightMenuBool<span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                _KeyDownBoolMenue <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>_RightMenuBool<span class="token operator">&amp;&amp;</span> _KeyDownBoolMenue<span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                <span class="token comment">//菜单 UI 显示</span>
                _SceneUI<span class="token punctuation">.</span>gameObject<span class="token punctuation">.</span><span class="token function">SetActive</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token comment">//菜单 UI 固定位置显示</span>
                _SceneUI<span class="token punctuation">.</span>transform<span class="token punctuation">.</span>position <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vector3</span><span class="token punctuation">(</span>_PicoCamera<span class="token punctuation">.</span>parent<span class="token punctuation">.</span>parent<span class="token punctuation">.</span>position<span class="token punctuation">.</span>x<span class="token punctuation">,</span> _PicoCamera<span class="token punctuation">.</span>parent<span class="token punctuation">.</span>parent<span class="token punctuation">.</span>position<span class="token punctuation">.</span>y <span class="token operator">+</span> _PosVec<span class="token punctuation">.</span>y<span class="token punctuation">,</span> _PicoCamera<span class="token punctuation">.</span>parent<span class="token punctuation">.</span>parent<span class="token punctuation">.</span>position<span class="token punctuation">.</span>z<span class="token punctuation">)</span> <span class="token operator">+</span> _PicoCamera<span class="token punctuation">.</span>parent<span class="token punctuation">.</span>parent<span class="token punctuation">.</span>forward <span class="token operator">*</span> _PosVec<span class="token punctuation">.</span>z<span class="token punctuation">;</span>
                _SceneUI<span class="token punctuation">.</span>transform<span class="token punctuation">.</span><span class="token function">LookAt</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Vector3</span><span class="token punctuation">(</span>_PicoCamera<span class="token punctuation">.</span>parent<span class="token punctuation">.</span>parent<span class="token punctuation">.</span>position<span class="token punctuation">.</span>x<span class="token punctuation">,</span> _SceneUI<span class="token punctuation">.</span>transform<span class="token punctuation">.</span>position<span class="token punctuation">.</span>y<span class="token punctuation">,</span> _PicoCamera<span class="token punctuation">.</span>parent<span class="token punctuation">.</span>parent<span class="token punctuation">.</span>position<span class="token punctuation">.</span>z<span class="token punctuation">)</span> <span class="token operator">+</span> _EulerAngles<span class="token punctuation">)</span><span class="token punctuation">;</span>

				<span class="token comment">//文字转语音</span>
                <span class="token function">StartCoroutine</span><span class="token punctuation">(</span>TextToSpeech_ZH<span class="token punctuation">.</span>_World<span class="token punctuation">.</span><span class="token function">GetAudioClip</span><span class="token punctuation">(</span><span class="token string">"菜单已打开"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                _KeyDownBoolMenue <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
 <span class="token comment">/// &lt;summary&gt;</span>
    <span class="token comment">/// 初始化</span>
    <span class="token comment">/// &lt;/summary&gt;</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">Initialize</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
    	<span class="token comment">// PicoCamera </span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>_PicoCamera <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            _PicoCamera <span class="token operator">=</span> Camera<span class="token punctuation">.</span>main<span class="token punctuation">.</span>transform<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">//左手控制器</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>_LeftController <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            _LeftController <span class="token operator">=</span> _PicoCamera<span class="token punctuation">.</span>parent<span class="token punctuation">.</span><span class="token function">Find</span><span class="token punctuation">(</span><span class="token string">"LeftHand Controller"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>GetComponent<span class="token operator">&lt;</span>XRController<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">//右手控制器</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>_RightController<span class="token operator">==</span><span class="token keyword">null</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            _RightController <span class="token operator">=</span> _PicoCamera<span class="token punctuation">.</span>parent<span class="token punctuation">.</span><span class="token function">Find</span><span class="token punctuation">(</span><span class="token string">"RightHand Controller"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>GetComponent<span class="token operator">&lt;</span>XRController<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
		<span class="token comment">//背景音乐</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>_Audio <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            _Audio <span class="token operator">=</span> GameObject<span class="token punctuation">.</span><span class="token function">Find</span><span class="token punctuation">(</span><span class="token string">"---------- Audio ----------"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>transform<span class="token punctuation">.</span><span class="token function">Find</span><span class="token punctuation">(</span><span class="token string">"Audio"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>GetComponent<span class="token operator">&lt;</span>AudioSource<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">//菜单 UI</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>_SceneUI <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            _SceneUI <span class="token operator">=</span> GameObject<span class="token punctuation">.</span><span class="token function">Find</span><span class="token punctuation">(</span><span class="token string">"菜单 UI"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>GetComponent<span class="token operator">&lt;</span>Canvas<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            _SceneUI<span class="token punctuation">.</span>gameObject<span class="token punctuation">.</span><span class="token function">SetActive</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span>
        <span class="token punctuation">{<!-- --></span>
            _SceneUI<span class="token punctuation">.</span>gameObject<span class="token punctuation">.</span><span class="token function">SetActive</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>      
    <span class="token punctuation">}</span>
</code></pre> 
<p>暂时先这样吧，如果有时间的话就会更新，实在看不明白就留言，看到我会回复的。<br> 路漫漫其修远兮，与君共勉。</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/589d5507e0e63fa7490e380fdf2a85ca/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">建筑物监测解决方案 GNSS北斗监测终端 建筑安全监测 位移监测 沉降监测</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/e9170a04ac032274060166cd0b8bb997/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Android Q 要来了，给你一份很“全面“的适配指南！</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>