<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>超详细的三子棋（C语言实现）—实现人机对战 x 玩家vs玩家 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="超详细的三子棋（C语言实现）—实现人机对战 x 玩家vs玩家" />
<meta property="og:description" content="目录
♈️一、三子棋的简介
♉️二、C语言实现思路
大体框架的构建
接口的定义
♊️ 三、根据所写接口实现函数主体
菜单的构建
game（）主体的构建
💟重点在判断输赢！（肥肠重要！！！）
♋️四、总体代码
实现效果 ♈️一、三子棋的简介 三子棋是一种简单的棋类游戏。游戏的目标是在一个3x3或者更大的4x4等等的棋盘上，先将自己的棋子在一条直线上连成三个即可获胜。棋子可以横、竖、斜着连线。游戏通常由两个人轮流下棋进行，一方执X棋子，另一方执O棋子。如果棋盘被填满了且没有一方达成获胜条件，则平局。
♉️二、C语言实现思路 大体框架的构建 1. 定义棋盘：使用二维数组来表示棋盘，其中0表示空格，1表示*，2表示#。
2. 初始化棋盘：将每个元素初始化为0（空格）。
3. 画出棋盘：使用printf()函数在屏幕上绘制出棋盘，包括行和列的标记。
4. 玩家输入：使用scanf()函数让玩家在控制台上输入他想要下棋的位置。
5. 检查合法性：检查玩家输入的位置是否在棋盘范围内，并且是否为空格（即是否已经下过棋了）。
6. 下棋：如果玩家输入的位置合法，那么在该位置上下一颗棋子（*或#）。
7. 检查胜负：每下一颗棋子都需要检查是否有玩家已经获胜了，如果有，游戏结束。
8. 切换玩家：玩家vs玩家：每次玩家下完一步棋，需要切换到另一个玩家继续游戏。玩家vs电脑：电脑自动下，然后玩家下。
9. 循环游戏：按照上述步骤重复进行游戏，直到有一方获胜或者平局。
10. 打印结果：游戏结束后，使用printf()函数输出结果，说明谁获胜了或者是平局。
接口的定义 定义了棋盘的大小，ROW和COL来控制，以及两个主题函数，一个是作为菜单的函数，另外一个是作为游戏的主体函数，较为简单。(●&#39;◡&#39;●)
#define ROW 5 #define COL 5 #include&lt;stdio.h&gt; #include&lt;stdlib.h&gt; #include&lt;time.h&gt; void menu(); void game(); ♊️ 三、根据所写接口实现函数主体 菜单的构建 void menu()//菜单 { printf(&#34;---------------------------\n&#34;); printf(&#34;|*************************|\n&#34;); printf(&#34;|******* 1.play ********|\n&#34;); printf(&#34;|******* 0.exit ********|\n&#34;); printf(&#34;|*************************|\n&#34;); printf(&#34;---------------------------\n&#34;); } 大道至简，无需多言 ！" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/3c3e6d3864b40145923211b1ef55bb50/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-09-16T17:25:56+08:00" />
<meta property="article:modified_time" content="2023-09-16T17:25:56+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">超详细的三子棋（C语言实现）—实现人机对战 x 玩家vs玩家</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p class="img-center"><img alt="" height="366" src="https://images2.imgbox.com/03/73/M8aTVk7l_o.png" width="650"></p> 
<hr> 
<p id="main-toc"><strong>目录</strong></p> 
<p id="%E2%99%88%EF%B8%8F%E4%B8%80%E3%80%81%E4%B8%89%E5%AD%90%E6%A3%8B%E7%9A%84%E7%AE%80%E4%BB%8B-toc" style="margin-left:0px;"><a href="#%E2%99%88%EF%B8%8F%E4%B8%80%E3%80%81%E4%B8%89%E5%AD%90%E6%A3%8B%E7%9A%84%E7%AE%80%E4%BB%8B" rel="nofollow">♈️一、三子棋的简介</a></p> 
<p style="margin-left:0px;"></p> 
<p id="%E4%B8%80%E3%80%81%E6%80%8E%E4%B9%88%E5%AE%9E%E7%8E%B0%EF%BC%9F-toc" style="margin-left:0px;"><a href="#%E4%B8%80%E3%80%81%E6%80%8E%E4%B9%88%E5%AE%9E%E7%8E%B0%EF%BC%9F" rel="nofollow">♉️二、C语言实现思路</a></p> 
<p style="margin-left:0px;"></p> 
<p id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%E5%A4%A7%E4%BD%93%E6%A1%86%E6%9E%B6%E7%9A%84%E6%9E%84%E5%BB%BA-toc" style="margin-left:80px;"><a href="#%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%E5%A4%A7%E4%BD%93%E6%A1%86%E6%9E%B6%E7%9A%84%E6%9E%84%E5%BB%BA" rel="nofollow">        大体框架的构建</a></p> 
<p id="%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%E6%8E%A5%E5%8F%A3%E7%9A%84%E5%AE%9A%E4%B9%89-toc" style="margin-left:80px;"><a href="#%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%E6%8E%A5%E5%8F%A3%E7%9A%84%E5%AE%9A%E4%B9%89" rel="nofollow">        接口的定义</a></p> 
<p style="margin-left:80px;"></p> 
<p id="%E2%99%8A%EF%B8%8F%C2%A0%E4%B8%89%E3%80%81%E6%A0%B9%E6%8D%AE%E6%89%80%E5%86%99%E6%8E%A5%E5%8F%A3%E5%AE%9E%E7%8E%B0%E5%87%BD%E6%95%B0%E4%B8%BB%E4%BD%93-toc" style="margin-left:0px;"><a href="#%E2%99%8A%EF%B8%8F%C2%A0%E4%B8%89%E3%80%81%E6%A0%B9%E6%8D%AE%E6%89%80%E5%86%99%E6%8E%A5%E5%8F%A3%E5%AE%9E%E7%8E%B0%E5%87%BD%E6%95%B0%E4%B8%BB%E4%BD%93" rel="nofollow">♊️ 三、根据所写接口实现函数主体</a></p> 
<p style="margin-left:0px;"></p> 
<p id="%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%E8%8F%9C%E5%8D%95%E7%9A%84%E6%9E%84%E5%BB%BA-toc" style="margin-left:80px;"><a href="#%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%E8%8F%9C%E5%8D%95%E7%9A%84%E6%9E%84%E5%BB%BA" rel="nofollow">        菜单的构建</a></p> 
<p id="%C2%A0%E4%BA%8C%E3%80%81game%EF%BC%88%EF%BC%89%E4%B8%BB%E4%BD%93%E7%9A%84%E6%9E%84%E5%BB%BA-toc" style="margin-left:80px;"><a href="#%C2%A0%E4%BA%8C%E3%80%81game%EF%BC%88%EF%BC%89%E4%B8%BB%E4%BD%93%E7%9A%84%E6%9E%84%E5%BB%BA" rel="nofollow">        game（）主体的构建</a></p> 
<p id="%E4%B8%89%E3%80%81%E9%87%8D%E7%82%B9%E5%9C%A8%E5%88%A4%E6%96%AD%E8%BE%93%E8%B5%A2%EF%BC%81-toc" style="margin-left:80px;"><a href="#%E4%B8%89%E3%80%81%E9%87%8D%E7%82%B9%E5%9C%A8%E5%88%A4%E6%96%AD%E8%BE%93%E8%B5%A2%EF%BC%81" rel="nofollow">        💟重点在判断输赢！（肥肠重要！！！）</a></p> 
<p style="margin-left:80px;"></p> 
<p id="%E5%9B%9B%E3%80%81%E6%80%BB%E4%BD%93%E4%BB%A3%E7%A0%81-toc" style="margin-left:0px;"><a href="#%E5%9B%9B%E3%80%81%E6%80%BB%E4%BD%93%E4%BB%A3%E7%A0%81" rel="nofollow">♋️四、总体代码</a></p> 
<p id="%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%E5%AE%9E%E7%8E%B0%E6%95%88%E6%9E%9C%C2%A0-toc" style="margin-left:80px;"><a href="#%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%E5%AE%9E%E7%8E%B0%E6%95%88%E6%9E%9C%C2%A0" rel="nofollow">        实现效果 </a></p> 
<p style="margin-left:80px;"></p> 
<hr id="hr-toc"> 
<p></p> 
<h2>♈️一、三子棋的简介</h2> 
<blockquote> 
 <p>        三子棋是一种简单的棋类游戏。游戏的目标是在一个3x3或者更大的4x4等等的棋盘上，<strong>先将自己的棋子在一条直线上连成三个即可获胜</strong>。棋子可以横、竖、斜着连线。游戏通常由两个人轮流下棋进行，一方执X棋子，另一方执O棋子。如果棋盘被填满了且没有一方达成获胜条件，则平局。</p> 
</blockquote> 
<p class="img-center"><img alt="" height="313" src="https://images2.imgbox.com/47/44/9vzUbRSc_o.png" width="500"></p> 
<hr> 
<p></p> 
<h2 id="%E4%B8%80%E3%80%81%E6%80%8E%E4%B9%88%E5%AE%9E%E7%8E%B0%EF%BC%9F">♉️二、C语言实现思路</h2> 
<h4 id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%E5%A4%A7%E4%BD%93%E6%A1%86%E6%9E%B6%E7%9A%84%E6%9E%84%E5%BB%BA">        <span style="color:#ad720d;"><strong>大体框架的构建</strong></span></h4> 
<blockquote> 
 <p><span style="color:#0d0016;">1. 定义棋盘：使用二维数组来表示棋盘，其中0表示空格，1表示*，2表示#。</span></p> 
 <p><span style="color:#0d0016;">2. 初始化棋盘：将每个元素初始化为0（空格）。</span></p> 
 <p><span style="color:#0d0016;">3. 画出棋盘：使用printf()函数在屏幕上绘制出棋盘，包括行和列的标记。</span></p> 
 <p><span style="color:#0d0016;">4. 玩家输入：使用scanf()函数让玩家在控制台上输入他想要下棋的位置。</span></p> 
 <p><span style="color:#0d0016;">5. 检查合法性：检查玩家输入的位置是否在棋盘范围内，并且是否为空格（即是否已经下过棋了）。</span></p> 
 <p><span style="color:#0d0016;">6. 下棋：如果玩家输入的位置合法，那么在该位置上下一颗棋子（*或#）。</span></p> 
 <p><span style="color:#0d0016;">7. 检查胜负：每下一颗棋子都需要检查是否有玩家已经获胜了，如果有，游戏结束。</span></p> 
 <p><span style="color:#0d0016;">8. 切换玩家：玩家vs玩家：每次玩家下完一步棋，需要切换到另一个玩家继续游戏。玩家vs电脑：电脑自动下，然后玩家下。</span></p> 
 <p><span style="color:#0d0016;">9. 循环游戏：按照上述步骤重复进行游戏，直到有一方获胜或者平局。</span></p> 
 <p><span style="color:#0d0016;">10. 打印结果：游戏结束后，使用printf()函数输出结果，说明谁获胜了或者是平局。</span></p> 
</blockquote> 
<h4 id="%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%E6%8E%A5%E5%8F%A3%E7%9A%84%E5%AE%9A%E4%B9%89">   <span style="color:#ad720d;"><strong>     接口的定义</strong></span></h4> 
<blockquote> 
 <p><span style="color:#ad720d;"><strong>       </strong></span><span style="color:#0d0016;"><strong> 定义了棋盘的大小，ROW和COL来控制，以及两个主题函数，一个是作为菜单的函数，另外一个是作为游戏的主体函数，较为简单。</strong></span>(●'◡'●)</p> 
</blockquote> 
<pre><code class="language-cpp">#define ROW 5
#define COL 5

#include&lt;stdio.h&gt;
#include&lt;stdlib.h&gt;
#include&lt;time.h&gt;

void menu();

void game();
</code></pre> 
<p></p> 
<hr> 
<h2 id="%E2%99%8A%EF%B8%8F%C2%A0%E4%B8%89%E3%80%81%E6%A0%B9%E6%8D%AE%E6%89%80%E5%86%99%E6%8E%A5%E5%8F%A3%E5%AE%9E%E7%8E%B0%E5%87%BD%E6%95%B0%E4%B8%BB%E4%BD%93">♊️ 三、根据所写接口实现函数主体</h2> 
<h4 id="%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%E8%8F%9C%E5%8D%95%E7%9A%84%E6%9E%84%E5%BB%BA">   <span style="color:#b95514;"> <strong>    </strong></span><span style="color:#ad720d;"><strong>菜单的构建</strong></span></h4> 
<pre><code class="language-cpp">void menu()//菜单
{
	printf("---------------------------\n");
	printf("|*************************|\n");
	printf("|*******  1.play  ********|\n");
	printf("|*******  0.exit  ********|\n");
	printf("|*************************|\n");
	printf("---------------------------\n");
}</code></pre> 
<p>                        <u><em><span style="color:#0d0016;"><strong>大道至简，无需多言 ！</strong></span></em></u></p> 
<h4 id="%C2%A0%E4%BA%8C%E3%80%81game%EF%BC%88%EF%BC%89%E4%B8%BB%E4%BD%93%E7%9A%84%E6%9E%84%E5%BB%BA">     <span style="color:#ad720d;"><strong>   game（）主体的构建</strong></span></h4> 
<blockquote> 
 <p>        首先还是要先构思一下大体框架-&gt;要实现什么功能？人机大战! 玩家vs玩家!-&gt;这样便又需要一个菜单来供选择了 ε=(´ο｀*)))唉 -&gt;用什么来做比较合适？数组！二维数组！-&gt;需要什么？棋盘！-&gt;用了数组因此需要初始化，需要打印棋盘，需要对于玩家落子和电脑落子进行分别的操作！-&gt;最主要的操作！判断输赢！-&gt;<strong>棋盘满算平局</strong>（重点），<strong>执子 * 和  # 哪边先达到要求哪边胜出！</strong></p> 
</blockquote> 
<p>       <em> 实现如下：</em></p> 
<pre><code class="language-cpp">#define _CRT_SECURE_NO_WARNINGS 01

#include"game.h"

void menu()//菜单
{
	printf("---------------------------\n");
	printf("|*************************|\n");
	printf("|*******  1.play  ********|\n");
	printf("|*******  0.exit  ********|\n");
	printf("|*************************|\n");
	printf("---------------------------\n");
}

void Initboard(char board[ROW][COL], int row, int col)//初始化棋盘
{
	for (int i = 0; i &lt; row;i++)
	{
		for (int j = 0; j &lt; col; j++)
		{
			board[i][j] = ' ';
		}
	}
}

void Disboard(char board[ROW][COL], int row, int col)//打印现在棋盘上所落子
{
	for (int i = 0; i &lt; row; i++)
	{
		for (int j = 0; j &lt; col; j++)
		{
			printf(" %c ", board[i][j]);
			if(j&lt;col-1)
			printf("|");
		}
		printf("\n");
		if(i&lt;row-1)
		for (int j = 0; j &lt; col; j++)
		{
			printf("--- ");
		}
		printf("\n");
	}
}

int isfull(char board[ROW][COL], int row, int col)//判断棋盘是否满
{
	for (int i = 0; i &lt; row; i++)
	{
		for (int j = 0; j &lt; col; j++)
		{
			if (board[i][j] == ' ')
				return 0;
		}
	}
	return 1;
}

void Player(char board[ROW][COL], int row, int col)//玩家动作
{
	printf("输入要下棋的位置（二维坐标表示 空格隔开）：");
	int a = 0,b = 0;
	scanf("%d %d", &amp;a, &amp;b);
	a = a - 1;
	b = b - 1;
	if (a &lt;= row &amp;&amp; b &lt;= col &amp;&amp; board[a][b] != '*' &amp;&amp; board[a][b] != '#')
	{
		board[a][b] = '*';
	}
	else
	{
		printf("输入错误，请重新输入!");
		Player(board, ROW, COL);
	}
}

void Player2(char board[ROW][COL], int row, int col)//玩家动作
{
	printf("输入要下棋的位置（二维坐标表示 空格隔开）：");
	int a = 0, b = 0;
	scanf("%d %d", &amp;a, &amp;b);
	a = a - 1;
	b = b - 1;
	if (a &lt;= row &amp;&amp; b &lt;= col &amp;&amp; board[a][b] != '*' &amp;&amp; board[a][b] != '#')
	{
		board[a][b] = '#';
	}
	else
	{
		printf("输入错误，请重新输入!");
		Player2(board, ROW, COL);
	}
}

void Computer(char board[ROW][COL], int row, int col)//电脑动作
{
	while (1)
	{
		int a = rand() % row;
		int b = rand() % col;
		if (board[a][b] == ' ')
		{
			printf("电脑下棋：\n");
			board[a][b] = '#';
			break;
		}
		if (isfull(board,ROW,COL) == 1)
			break;
	}
}


int awin(char board[ROW][COL], int row, int col)//a玩家赢
{
	for (int i = 0; i &lt; row; i++)
	{
		for (int j = 0; j &lt; col; j++)
		{
			if (board[i][j] == '*')
			{
				if (j + 2 &lt; col)//横向
				{
					if (board[i][j] == board[i][j + 1] &amp;&amp; board[i][j + 1] == board[i][j + 2])
						return 2;
				}
				if (i + 2 &lt; row)//纵向
				{
					if (board[i][j] == board[i + 1][j] &amp;&amp; board[i + 1][j] == board[i + 2][j])
						return 2;
				}
				if ((i + 2 &lt; row) &amp;&amp; (j + 2 &lt; col))//右下
				{
					if (board[i][j] == board[i + 1][j + 1] &amp;&amp; board[i + 1][j + 1] == board[i + 2][j + 2])
						return 2;
				}
				if ((i + 2 &gt;= 0) &amp;&amp; (j - 2 &gt;= 0))//左下
				{
					if (board[i][j] == board[i + 1][j - 1] &amp;&amp; board[i + 1][j - 1] == board[i + 2][j - 2])
						return 2;
				}
			}
				
		}
	}
	return 0;
}

int bwin(char board[ROW][COL], int row, int col)//b玩家赢
{
	for (int i = 0; i &lt; row; i++)
	{
		for (int j = 0; j &lt; col; j++)
		{
			if (board[i][j] == '#')
			{
				if (j + 2 &lt; col)//横向
				{
					if (board[i][j] == board[i][j + 1] &amp;&amp; board[i][j + 1] == board[i][j + 2])
						return 3;
				}
				if (i + 2 &lt; row)//纵向
				{
					if (board[i][j] == board[i + 1][j] &amp;&amp; board[i + 1][j] == board[i + 2][j])
						return 3;
				}
				if ((i + 2 &lt; row) &amp;&amp; (j + 2 &lt; col))//右下
				{
					if (board[i][j] == board[i + 1][j + 1] &amp;&amp; board[i + 1][j + 1] == board[i + 2][j + 2])
						return 3;
				}
				if ((i + 2 &gt;= 0) &amp;&amp; (j - 2 &gt;= 0))//左下
				{
					if (board[i][j] == board[i + 1 ][j - 1] &amp;&amp; board[i + 1][j - 1] == board[i + 2][j - 2])
						return 3;
				}
			}

		}
	}
	return 0;
}

char judge(char board[ROW][COL], int row, int col)
{
	if(bwin(board, ROW, COL) == 3)
		return '#';
	else if (awin(board, ROW, COL) == 2)
		return '*';
	else if(isfull(board, ROW, COL) == 1)//平局
		return 'p';
	else return ' ';
}

void game1()
{
	srand((unsigned int)time(NULL));
	char board[ROW][COL] = { 0 };
	Initboard(board, ROW, COL);
	Disboard(board,ROW,COL);
	char ret = ' ';
	while(1)
	{

		printf("玩家下棋：\n");
		Player(board, ROW, COL);
		Disboard(board, ROW, COL);
		ret = judge(board, ROW, COL);
		if (ret != ' ')
			break;
	
		Computer(board, ROW, COL);
		Disboard(board, ROW, COL);
		ret = judge(board, ROW, COL);
		if (ret != ' ')
			break;

	}
	if (ret == 'p')
		printf("平局！\n");
	else if (ret == '*')
		printf("玩家赢！\n");
	else if (ret == '#')
		printf("电脑赢！\n");
	
}

void game2()
{
	char board[ROW][COL] = { 0 };
	Initboard(board, ROW, COL);
	Disboard(board, ROW, COL);
	char ret = ' ';
	while (1)
	{
		printf("玩家a下棋：\n");
		Player(board, ROW, COL);
		Disboard(board, ROW, COL);
		ret = judge(board, ROW, COL);
		if (ret != ' ')
			break;

		printf("玩家b下棋：\n");
		Player2(board, ROW, COL);
		Disboard(board, ROW, COL);
		ret = judge(board, ROW, COL);
		if (ret != ' ')
			break;

	}
	if (ret == 'p')
		printf("平局！\n");
	else if (ret == '*')
		printf("玩家a赢！\n");
	else if (ret == '#')
		printf("玩家b赢！\n");
}

void game()
{
	printf("         **********************\n");
	printf("              选择游玩模式\n");
	printf("         ******1.人机大战*******\n");
	printf("         **2.player vs player**\n");
	printf("         **********************\n");
	printf("         **********************\n");
	int in = 0;
	scanf("%d", &amp;in);
	printf("\n\n");
	switch (in)
	{
	case 1:
		game1();
		break;
	case 2:
		game2();
		break;
	default:
		printf("选择错误\n");
		break;
	}
}</code></pre> 
<h4 id="%E4%B8%89%E3%80%81%E9%87%8D%E7%82%B9%E5%9C%A8%E5%88%A4%E6%96%AD%E8%BE%93%E8%B5%A2%EF%BC%81">        💟<span style="color:#ad720d;"><strong>重点在判断输赢！（肥肠重要！！！）</strong></span></h4> 
<blockquote> 
 <p>        平局！最主要的就是判满！便历棋盘看是否剩下空格-&gt;也就是没落子的地方，若全满返回1以告诉后续接受的函数棋盘满了，可以判平！</p> 
</blockquote> 
<p>        <em>判平实现如下： </em></p> 
<pre><code class="language-cpp">int isfull(char board[ROW][COL], int row, int col)//判断棋盘是否满
{
	for (int i = 0; i &lt; row; i++)
	{
		for (int j = 0; j &lt; col; j++)
		{
			if (board[i][j] == ' ')
				return 0;
		}
	}
	return 1;
}</code></pre> 
<blockquote> 
 <p>        玩家或者电脑赢！判断方法都是一样的！最主要的就是怎么判赢！思路-&gt;<span style="color:#956fe7;"><strong>先找到要判赢玩家或电脑所执棋子，这里是‘*’，找到了便可以进行判断了!-&gt;分为横向和纵向以及斜向。横向和纵向太斜向的思路都是差不多的-极限</strong></span>。-&gt;首先说明为什么我们只判断右下和左下，前面横向和纵向也是为啥只判断一边就行了，因为前边我们的查找：找到‘*’才进行判断。那么之前我们就都判断过了一边，为什么呢？因为我们的起点是从0,0开始的，我们没有左边也没有上边，也没有左上右上。那么接下来的位置实际上我们已经判断过了一边了，<strong>只需要判断另一边即可</strong>。（也许是我思考有误？希望大家能帮忙指出Ծ‸Ծ）</p> 
</blockquote> 
<pre><code class="language-cpp">int awin(char board[ROW][COL], int row, int col)//a玩家赢
{
	for (int i = 0; i &lt; row; i++)
	{
		for (int j = 0; j &lt; col; j++)
		{
			if (board[i][j] == '*')
			{
				if (j + 2 &lt; col)//横向
				{
					if (board[i][j] == board[i][j + 1] &amp;&amp; board[i][j + 1] == board[i][j + 2])
						return 2;
				}
				if (i + 2 &lt; row)//纵向
				{
					if (board[i][j] == board[i + 1][j] &amp;&amp; board[i + 1][j] == board[i + 2][j])
						return 2;
				}
				if ((i + 2 &lt; row) &amp;&amp; (j + 2 &lt; col))//右下
				{
					if (board[i][j] == board[i + 1][j + 1] &amp;&amp; board[i + 1][j + 1] == board[i + 2][j + 2])
						return 2;
				}
				if ((i + 2 &gt;= 0) &amp;&amp; (j - 2 &gt;= 0))//左下
				{
					if (board[i][j] == board[i + 1][j - 1] &amp;&amp; board[i + 1][j - 1] == board[i + 2][j - 2])
						return 2;
				}
			}
				
		}
	}
	return 0;
}</code></pre> 
<hr> 
<h2 id="%E5%9B%9B%E3%80%81%E6%80%BB%E4%BD%93%E4%BB%A3%E7%A0%81">♋️四、总体代码</h2> 
<p>game.h</p> 
<pre><code class="language-cpp">#pragma once

#define ROW 5
#define COL 5

#include&lt;stdio.h&gt;
#include&lt;stdlib.h&gt;
#include&lt;time.h&gt;

void menu();

void game();

</code></pre> 
<hr> 
<p>game.c</p> 
<pre><code class="language-cpp">#define _CRT_SECURE_NO_WARNINGS 01

#include"game.h"

void menu()//菜单
{
	printf("---------------------------\n");
	printf("|*************************|\n");
	printf("|*******  1.play  ********|\n");
	printf("|*******  0.exit  ********|\n");
	printf("|*************************|\n");
	printf("---------------------------\n");
}

void Initboard(char board[ROW][COL], int row, int col)//初始化棋盘
{
	for (int i = 0; i &lt; row;i++)
	{
		for (int j = 0; j &lt; col; j++)
		{
			board[i][j] = ' ';
		}
	}
}

void Disboard(char board[ROW][COL], int row, int col)//打印现在棋盘上所落子
{
	for (int i = 0; i &lt; row; i++)
	{
		for (int j = 0; j &lt; col; j++)
		{
			printf(" %c ", board[i][j]);
			if(j&lt;col-1)
			printf("|");
		}
		printf("\n");
		if(i&lt;row-1)
		for (int j = 0; j &lt; col; j++)
		{
			printf("--- ");
		}
		printf("\n");
	}
}

int isfull(char board[ROW][COL], int row, int col)//判断棋盘是否满
{
	for (int i = 0; i &lt; row; i++)
	{
		for (int j = 0; j &lt; col; j++)
		{
			if (board[i][j] == ' ')
				return 0;
		}
	}
	return 1;
}

void Player(char board[ROW][COL], int row, int col)//玩家动作
{
	printf("输入要下棋的位置（二维坐标表示 空格隔开）：");
	int a = 0,b = 0;
	scanf("%d %d", &amp;a, &amp;b);
	a = a - 1;
	b = b - 1;
	if (a &lt;= row &amp;&amp; b &lt;= col &amp;&amp; board[a][b] != '*' &amp;&amp; board[a][b] != '#')
	{
		board[a][b] = '*';
	}
	else
	{
		printf("输入错误，请重新输入!");
		Player(board, ROW, COL);
	}
}

void Player2(char board[ROW][COL], int row, int col)//玩家动作
{
	printf("输入要下棋的位置（二维坐标表示 空格隔开）：");
	int a = 0, b = 0;
	scanf("%d %d", &amp;a, &amp;b);
	a = a - 1;
	b = b - 1;
	if (a &lt;= row &amp;&amp; b &lt;= col &amp;&amp; board[a][b] != '*' &amp;&amp; board[a][b] != '#')
	{
		board[a][b] = '#';
	}
	else
	{
		printf("输入错误，请重新输入!");
		Player2(board, ROW, COL);
	}
}

void Computer(char board[ROW][COL], int row, int col)//电脑动作
{
	while (1)
	{
		int a = rand() % row;
		int b = rand() % col;
		if (board[a][b] == ' ')
		{
			printf("电脑下棋：\n");
			board[a][b] = '#';
			break;
		}
		if (isfull(board,ROW,COL) == 1)
			break;
	}
}


int awin(char board[ROW][COL], int row, int col)//a玩家赢
{
	for (int i = 0; i &lt; row; i++)
	{
		for (int j = 0; j &lt; col; j++)
		{
			if (board[i][j] == '*')
			{
				if (j + 2 &lt; col)//横向
				{
					if (board[i][j] == board[i][j + 1] &amp;&amp; board[i][j + 1] == board[i][j + 2])
						return 2;
				}
				if (i + 2 &lt; row)//纵向
				{
					if (board[i][j] == board[i + 1][j] &amp;&amp; board[i + 1][j] == board[i + 2][j])
						return 2;
				}
				if ((i + 2 &lt; row) &amp;&amp; (j + 2 &lt; col))//右下
				{
					if (board[i][j] == board[i + 1][j + 1] &amp;&amp; board[i + 1][j + 1] == board[i + 2][j + 2])
						return 2;
				}
				if ((i + 2 &gt;= 0) &amp;&amp; (j - 2 &gt;= 0))//左下
				{
					if (board[i][j] == board[i + 1][j - 1] &amp;&amp; board[i + 1][j - 1] == board[i + 2][j - 2])
						return 2;
				}
			}
				
		}
	}
	return 0;
}

int bwin(char board[ROW][COL], int row, int col)//b玩家赢
{
	for (int i = 0; i &lt; row; i++)
	{
		for (int j = 0; j &lt; col; j++)
		{
			if (board[i][j] == '#')
			{
				if (j + 2 &lt; col)//横向
				{
					if (board[i][j] == board[i][j + 1] &amp;&amp; board[i][j + 1] == board[i][j + 2])
						return 3;
				}
				if (i + 2 &lt; row)//纵向
				{
					if (board[i][j] == board[i + 1][j] &amp;&amp; board[i + 1][j] == board[i + 2][j])
						return 3;
				}
				if ((i + 2 &lt; row) &amp;&amp; (j + 2 &lt; col))//右下
				{
					if (board[i][j] == board[i + 1][j + 1] &amp;&amp; board[i + 1][j + 1] == board[i + 2][j + 2])
						return 3;
				}
				if ((i + 2 &gt;= 0) &amp;&amp; (j - 2 &gt;= 0))//左下
				{
					if (board[i][j] == board[i + 1 ][j - 1] &amp;&amp; board[i + 1][j - 1] == board[i + 2][j - 2])
						return 3;
				}
			}

		}
	}
	return 0;
}

char judge(char board[ROW][COL], int row, int col)
{
	if(bwin(board, ROW, COL) == 3)
		return '#';
	else if (awin(board, ROW, COL) == 2)
		return '*';
	else if(isfull(board, ROW, COL) == 1)//平局
		return 'p';
	else return ' ';
}

void game1()
{
	srand((unsigned int)time(NULL));
	char board[ROW][COL] = { 0 };
	Initboard(board, ROW, COL);
	Disboard(board,ROW,COL);
	char ret = ' ';
	while(1)
	{

		printf("玩家下棋：\n");
		Player(board, ROW, COL);
		Disboard(board, ROW, COL);
		ret = judge(board, ROW, COL);
		if (ret != ' ')
			break;
	
		Computer(board, ROW, COL);
		Disboard(board, ROW, COL);
		ret = judge(board, ROW, COL);
		if (ret != ' ')
			break;

	}
	if (ret == 'p')
		printf("平局！\n");
	else if (ret == '*')
		printf("玩家赢！\n");
	else if (ret == '#')
		printf("电脑赢！\n");
	
}

void game2()
{
	char board[ROW][COL] = { 0 };
	Initboard(board, ROW, COL);
	Disboard(board, ROW, COL);
	char ret = ' ';
	while (1)
	{
		printf("玩家a下棋：\n");
		Player(board, ROW, COL);
		Disboard(board, ROW, COL);
		ret = judge(board, ROW, COL);
		if (ret != ' ')
			break;

		printf("玩家b下棋：\n");
		Player2(board, ROW, COL);
		Disboard(board, ROW, COL);
		ret = judge(board, ROW, COL);
		if (ret != ' ')
			break;

	}
	if (ret == 'p')
		printf("平局！\n");
	else if (ret == '*')
		printf("玩家a赢！\n");
	else if (ret == '#')
		printf("玩家b赢！\n");
}

void game()
{
	printf("         **********************\n");
	printf("              选择游玩模式\n");
	printf("         ******1.人机大战*******\n");
	printf("         **2.player vs player**\n");
	printf("         **********************\n");
	printf("         **********************\n");
	int in = 0;
	scanf("%d", &amp;in);
	printf("\n\n");
	switch (in)
	{
	case 1:
		game1();
		break;
	case 2:
		game2();
		break;
	default:
		printf("选择错误\n");
		break;
	}
}</code></pre> 
<hr> 
<p>        text.c</p> 
<pre><code class="language-cpp">#define _CRT_SECURE_NO_WARNINGS 01

#include"game.h"

int main()
{
	int input = 0,flag=0;
	do
	{
		menu();
		printf("请选择：");
		scanf("%d", &amp;input);
		switch (input)
		{
		case 1:
			if(flag==0)
			printf("\n              -- 三子棋 --\n \n");
			flag = 1;
			game();
			break;
		case 0:
			printf("--退出成功--\n");
			break;
		default:
			printf("--输入错误，请重新输入！--\n");
		}
	} while (input);
	return 0;
}</code></pre> 
<h4 id="%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%E5%AE%9E%E7%8E%B0%E6%95%88%E6%9E%9C%C2%A0"><span style="color:#ad720d;"><strong>        实现效果 </strong></span></h4> 
<p>        <span style="color:#956fe7;"><strong>人机大战！</strong></span></p> 
<p class="img-center"><img alt="" height="800" src="https://images2.imgbox.com/58/58/jHUy03is_o.png" width="1200"></p> 
<p>      <span style="color:#956fe7;"><strong>   player vs player！</strong></span></p> 
<p><img alt="" height="800" src="https://images2.imgbox.com/d4/14/P5PAsNvB_o.png" width="1200"></p> 
<p></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/74802e884e5133019507bc4e235e7ca3/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">UI/UX&#43;前端架构：设计和开发高质量的用户界面和用户体验</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/acbb6abe022126b977a579b717e87d4f/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">虚拟机Linux系统ip突然丢失</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>