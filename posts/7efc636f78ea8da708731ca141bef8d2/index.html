<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Matlab-函数拟合 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Matlab-函数拟合" />
<meta property="og:description" content="文章目录 0. 评价指标1. 工具箱拟合——cftool2. 万能拟合 ——nlinfit3. 多项式拟合 ——polyfit参考 0. 评价指标 一、SSE(和方差)
该统计参数计算的是拟合数据和原始数据对应点的误差的平方和，计算公式如下
SSE越接近于0，说明模型选择和拟合更好，数据预测也越成功。接下来的MSE和RMSE因为和SSE是同出一宗，所以效果一样
二、MSE(均方差)
该统计参数是预测数据和原始数据对应点误差的平方和的均值，也就是SSE/n，和SSE没有太大的区别，计算公式如下
三、RMSE(均方根)
该统计参数，也叫回归系统的拟合标准差，是MSE的平方根，就算公式如下
在这之前，我们所有的误差参数都是基于预测值(y_hat)和原始值(y)之间的误差(即点对点)。从下面开始是所有的误差都是相对原始数据平均值(y_ba)而展开的(即点对全)!!!
四、R-square(确定系数)
在讲确定系数之前，我们需要介绍另外两个参数SSR和SST，因为确定系数就是由它们两个决定的
(1)SSR：Sum
of squares of the regression，即预测数据与原始数据均值之差的平方和，公式如下
(2)SST：Total sum of squares，即原始数据和均值之差的平方和，公式如下
细心的网友会发现，SST=SSE&#43;SSR，呵呵只是一个有趣的问题。而我们的“确定系数”是定义为SSR和SST的比值，故
其实“确定系数”是通过数据的变化来表征一个拟合的好坏。由上面的表达式可以知道“确定系数”的正常取值范围为[0
1]，越接近1，表明方程的变量对y的解释能力越强，这个模型对数据拟合的也较好。
1. 工具箱拟合——cftool 在命令行输入数据：
x
y
启动曲线拟合工具箱
命令：cftool
进入曲线拟合工具箱界面“Curve Fitting tool”
1）利用X data和Y data的下拉菜单读入数据x,y
2）选择曲线拟合类型
3）自动拟合 即可在结果窗口和曲线窗口显示出拟合结果
工具箱提供的拟合类型如下，进行简要说明，可以尝试各种不同类型拟合效果
英文名称逼近类型种类数量基础类型Custom Equations用户自定义的函数类型Exponential指数逼近2Fourier傅立叶逼近7Gaussian高斯逼近8Interpolant插值逼近4linear、nearest neighbor、cubic spline、shape-preservingPolynomial多形式逼近9linear ~、quadratic ~、cubic ~、4-9th degree ~Power幂逼近2ax^b 、ax^b &#43; cRational有理数逼近，分子、分母共有的类型是linear ~、quadratic ~、cubic ~、4-5th degree ~；此外，分子还包括constant型Smoothing Spline平滑逼近Sum of Sin Functions正弦曲线逼近8a1sin(b1x &#43; c1)Weibull1abx(b-1)*exp(-a*xb) 注意 ： Interpolant是插值逼近仅仅是对函数进行插值画图显示，并不能得到拟合的函数。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/7efc636f78ea8da708731ca141bef8d2/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-02-17T08:06:42+08:00" />
<meta property="article:modified_time" content="2020-02-17T08:06:42+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Matlab-函数拟合</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-dracula">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#0__1" rel="nofollow">0. 评价指标</a></li><li><a href="#1_cftool_34" rel="nofollow">1. 工具箱拟合——cftool</a></li><li><a href="#2__nlinfit_91" rel="nofollow">2. 万能拟合 ——nlinfit</a></li><li><a href="#3__polyfit_134" rel="nofollow">3. 多项式拟合 ——polyfit</a></li><li><a href="#_151" rel="nofollow">参考</a></li></ul> 
</div> 
<p></p> 
<h2><a id="0__1"></a>0. 评价指标</h2> 
<p>一、SSE(和方差)<br> 该统计参数计算的是拟合数据和原始数据对应点的误差的平方和，计算公式如下</p> 
<p><img src="https://images2.imgbox.com/78/2d/8ybWEDrD_o.png" alt="在这里插入图片描述"><br> SSE越接近于0，说明模型选择和拟合更好，数据预测也越成功。接下来的MSE和RMSE因为和SSE是同出一宗，所以效果一样</p> 
<p>二、MSE(均方差)<br> 该统计参数是预测数据和原始数据对应点误差的平方和的均值，也就是SSE/n，和SSE没有太大的区别，计算公式如下<br> <img src="https://images2.imgbox.com/52/37/1x5ZXNvS_o.png" alt="在这里插入图片描述"></p> 
<p>三、RMSE(均方根)<br> 该统计参数，也叫回归系统的拟合标准差，是MSE的平方根，就算公式如下<br> <img src="https://images2.imgbox.com/d0/e0/dXFK1I4P_o.png" alt="在这里插入图片描述"></p> 
<p>在这之前，我们所有的误差参数都是基于预测值(y_hat)和原始值(y)之间的误差(即点对点)。从下面开始是所有的误差都是相对原始数据平均值(y_ba)而展开的(即点对全)!!!</p> 
<p>四、R-square(确定系数)<br> 在讲确定系数之前，我们需要介绍另外两个参数SSR和SST，因为确定系数就是由它们两个决定的<br> (1)SSR：Sum<br> of squares of the regression，即预测数据与原始数据均值之差的平方和，公式如下</p> 
<p>(2)SST：Total sum of squares，即原始数据和均值之差的平方和，公式如下<br> <img src="https://images2.imgbox.com/8b/92/PbYXPmUF_o.png" alt="在这里插入图片描述"><br> 细心的网友会发现，SST=SSE+SSR，呵呵只是一个有趣的问题。而我们的“确定系数”是定义为SSR和SST的比值，故</p> 
<p>其实“确定系数”是通过数据的变化来表征一个拟合的好坏。由上面的表达式可以知道“确定系数”的正常取值范围为[0<br> 1]，越接近1，表明方程的变量对y的解释能力越强，这个模型对数据拟合的也较好。</p> 
<h2><a id="1_cftool_34"></a>1. 工具箱拟合——cftool</h2> 
<p><img src="https://images2.imgbox.com/6f/87/8l8X0ZEe_o.png" alt="在这里插入图片描述"><br> 在命令行输入数据：<br> x<br> y</p> 
<p>启动曲线拟合工具箱<br> 命令：cftool</p> 
<p>进入曲线拟合工具箱界面“Curve Fitting tool”<br> 1）利用X data和Y data的下拉菜单读入数据x,y<br> 2）选择曲线拟合类型<br> 3）自动拟合 即可在结果窗口和曲线窗口显示出拟合结果</p> 
<p>工具箱提供的拟合类型如下，进行简要说明，可以尝试各种不同类型拟合效果</p> 
<table><thead><tr><th>英文名称</th><th>逼近类型</th><th>种类数量</th><th>基础类型</th></tr></thead><tbody><tr><td>Custom Equations</td><td>用户自定义的函数类型</td><td></td><td></td></tr><tr><td>Exponential</td><td>指数逼近</td><td>2</td><td></td></tr><tr><td>Fourier</td><td>傅立叶逼近</td><td>7</td><td></td></tr><tr><td>Gaussian</td><td>高斯逼近</td><td>8</td><td></td></tr><tr><td>Interpolant</td><td>插值逼近</td><td>4</td><td>linear、nearest neighbor、cubic spline、shape-preserving</td></tr><tr><td>Polynomial</td><td>多形式逼近</td><td>9</td><td>linear ~、quadratic ~、cubic ~、4-9th degree ~</td></tr><tr><td>Power</td><td>幂逼近</td><td>2</td><td>ax^b 、ax^b + c</td></tr><tr><td>Rational</td><td>有理数逼近</td><td></td><td>，分子、分母共有的类型是linear ~、quadratic ~、cubic ~、4-5th degree ~；此外，分子还包括constant型</td></tr><tr><td>Smoothing Spline</td><td>平滑逼近</td><td></td><td></td></tr><tr><td>Sum of Sin Functions</td><td>正弦曲线逼近</td><td>8</td><td>a1sin(b1x + c1)</td></tr><tr><td>Weibull</td><td></td><td>1</td><td>a<em>b</em>x<sup>(b-1)*exp(-a*x</sup>b)</td></tr></tbody></table> 
<p><strong>注意</strong> ： Interpolant是插值逼近仅仅是对函数进行插值画图显示，并不能得到拟合的函数。</p> 
<p>Exponential：指数逼近，有2种类型， aexp(bx) 、 aexp(bx) + cexp(dx)<br> Fourier：傅立叶逼近，有7种类型，基础型是 a0 + a1cos(xw) + b1sin(xw)<br> Gaussian：高斯逼近，有8种类型，基础型是 a1<em>exp(-((x-b1)/c1)^2)<br> Interpolant：插值逼近，有4种类型，linear、nearest neighbor、cubic spline、shape-preserving<br> Polynomial：多形式逼近，有9种类型，linear ~、quadratic ~、cubic ~、4-9th degree ~<br> Power：幂逼近，有2种类型，ax^b 、ax^b + c<br> Rational：有理数逼近，分子、分母共有的类型是linear ~、quadratic ~、cubic ~、4-5th degree ~；此外，分子还包括constant型<br> Smoothing Spline：平滑逼近（翻译的不大恰当，不好意思）<br> Sum of Sin Functions：正弦曲线逼近，有8种类型，基础型是 a1sin(b1x + c1)<br> Weibull：只有一种，a</em>b*x<sup>(b-1)*exp(-a*x</sup>b)<br> 选择View &gt; Residuals Plot，可以查看残差图。</p> 
<p>在Table of Fits中右击选择Duplicate “XX” (或者在Fit主菜单里面复制) 复制某个拟合，重新生成别的拟合，进行对比。</p> 
<p>观察Results以及residuals plot 残差图。<br> The residuals from a good fit should look random with no apparent pattern. A pattern, such as a tendency for consecutive residuals to have the same sign, can be an indication that a better model exists.</p> 
<h2><a id="2__nlinfit_91"></a>2. 万能拟合 ——nlinfit</h2> 
<p><a href="https://blog.csdn.net/ljyljyok/article/details/81624496">matlab 万能实用的非线性曲线拟合方法 - It’s All Uphill From Here</a><br> <a href="https://www.cnblogs.com/yabin/p/6417566.html" rel="nofollow">matlab函数拟合 - 学习时间轴 - 博客园</a></p> 
<pre><code class="prism language-m">clear
clc   %清除工作空间
syms x;

%公共参数设置
xx=[3,5]';   %这里设置已知自变量向量(列向量)
yy = [0.8,1]';  %对应因变量(列向量)
startPos = [1,1];   %设置系数的起始搜索点
%使用fit函数拟合的
%设置参数
f = '(1+alpha*(x-belta)^(-2))^(-1)';  %设置需要拟合的函数形式
funType=fittype(f,'independent','x',...
'coefficients',{'alpha','belta'});  %在independent后面设置自变量,在coefficients后面设置待定系数（多个值用{}括起来）
%使用nlinfit函数进行拟合的
%设置参数
f1 = @(coef,x)(1+coef(1)*(x-coef(2)).^(-2)).^(-1);  %设置需要拟合的函数(内联函数形式)

%后面的代码不用改
%fit拟合相关代码
opt=fitoptions(funType);
set(opt,'StartPoint',startPos);
cfun=fit(xx,yy,funType,opt)   %命令行显示结果
plot(cfun,'r',xx,yy,'*')

%nlinfit拟合相关代码
coef=nlinfit(xx,yy,f1,startPos);
disp('nlinfit拟合后的系数矩阵为：');
disp(coef);

hold on
xmax = max(xx);
xmin = min(xx);
xnum = 2*length(xx)+50;
x = linspace(xmin,xmax,xnum);
y = f1(coef,x);
plot(x,y,'g');

legend('原始数据','fit拟合','nlinfit拟合')
</code></pre> 
<h2><a id="3__polyfit_134"></a>3. 多项式拟合 ——polyfit</h2> 
<pre><code class="prism language-m">p=polyfit(x,y,2);
</code></pre> 
<p><a href="https://jingyan.baidu.com/article/67508eb40d47b09cca1ce4ce.html" rel="nofollow">如何使用MATLAB进行曲线拟合-百度经验</a></p> 
<table><thead><tr><th>Library Model Name</th><th>Description</th></tr></thead><tbody><tr><td>poly1</td><td>线性多项式曲线</td></tr><tr><td>poly11</td><td>线性多项式表面</td></tr><tr><td>poly2</td><td>二次多项式曲线</td></tr><tr><td>linearinterp</td><td>分段线性插值</td></tr><tr><td>cubicinterp</td><td>分段三次插值</td></tr><tr><td>smoothingspline</td><td>平滑样条(曲线)</td></tr><tr><td>lowess</td><td>局部线性回归(曲面)</td></tr></tbody></table> 
<h2><a id="_151"></a>参考</h2> 
<p><a href="https://blog.csdn.net/ljyljyok/article/details/81624496">matlab 万能实用的非线性曲线拟合方法 - It’s All Uphill From Here</a></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/6835d376f898989a65630291facd9f6d/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">线程池 Executor 一篇简单笔记就懂</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/75821e8232ba6e9a1807f57b7f3eb2b5/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">10. spark学习之旅之sbt（四）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>