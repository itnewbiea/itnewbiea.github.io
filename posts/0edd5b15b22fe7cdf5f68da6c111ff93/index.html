<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>CentOS 7.5ä¸€é”®è„šæœ¬å®‰è£…MySQL - ITå­¦ä¹ è€…åšå®¢</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="CentOS 7.5ä¸€é”®è„šæœ¬å®‰è£…MySQL" />
<meta property="og:description" content="CentOS 7.5ä¸€é”®è„šæœ¬å®‰è£…MySQL mysql ç‰ˆæœ¬ : mysql-5.7.27-linux-glibc2.12-x86_64.tar.gz
shellè„šæœ¬ï¼š auto_install_mysql.sh
è„šæœ¬å†™æƒé™ [root@localhost /]# chmod &#43;x auto_install_mysql.sh
[root@localhost /]# yum install -y dos2unix.x86_64
[root@localhost /]# dos2unix auto_install_mysql.sh
dos2unix: converting file auto_install_mysql.sh to Unix format â€¦
å†™å…¥è„šæœ¬
[root@localhost /]# sh auto_install_mysql.sh ##ä»¥ä¸‹ä¸ºè„šæœ¬ä»£ç 
#!/bin/bash export LANG=en_US.UTF-8 INSTALL_PATH=$(pwd) echo &#34;å½“å‰ç›®å½•:&#34;&#43;${INSTALL_PATH} echo &#34;åˆ é™¤mysqlç›¸å…³é…ç½®æ–‡ä»¶å¹¶copy my.cnfåˆ°etcç›®å½•&#34; rm -rf /etc/my.cnf rm -rf /etc/init.d/mysql cp my.cnf /etc/my.cnf echo &#34;åˆ›å»ºmysqlç”¨æˆ·ç»„å’Œç”¨æˆ·&#34; groupadd mysql useradd -g mysql mysql echo &#34;è§£å‹.tar.gzåˆ°æŒ‡å®šæ–‡ä»¶å¤¹ä¸‹ /usr/local/mysql&#34; tar -vxzf mysql-5." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/0edd5b15b22fe7cdf5f68da6c111ff93/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-11-11T12:16:14+08:00" />
<meta property="article:modified_time" content="2022-11-11T12:16:14+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ITå­¦ä¹ è€…åšå®¢" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ITå­¦ä¹ è€…åšå®¢</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">CentOS 7.5ä¸€é”®è„šæœ¬å®‰è£…MySQL</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="CentOS_75MySQL_0"></a>CentOS 7.5ä¸€é”®è„šæœ¬å®‰è£…MySQL</h3> 
<p>mysql ç‰ˆæœ¬ : mysql-5.7.27-linux-glibc2.12-x86_64.tar.gz<br> shellè„šæœ¬ï¼š auto_install_mysql.sh</p> 
<h3><a id="_3"></a>è„šæœ¬å†™æƒé™</h3> 
<p>[root@localhost /]# chmod +x auto_install_mysql.sh<br> [root@localhost /]# yum install -y dos2unix.x86_64<br> [root@localhost /]# dos2unix auto_install_mysql.sh<br> dos2unix: converting file auto_install_mysql.sh to Unix format â€¦<br> å†™å…¥è„šæœ¬<br> [root@localhost /]# sh auto_install_mysql.sh ##ä»¥ä¸‹ä¸ºè„šæœ¬ä»£ç </p> 
<pre><code class="prism language-bash"><span class="token shebang important">#!/bin/bash</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">LANG</span></span><span class="token operator">=</span>en_US.UTF-8
 
<span class="token assign-left variable">INSTALL_PATH</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">pwd</span><span class="token variable">)</span></span>
<span class="token builtin class-name">echo</span> <span class="token string">"å½“å‰ç›®å½•:"</span>+<span class="token variable">${INSTALL_PATH}</span>
 
<span class="token builtin class-name">echo</span> <span class="token string">"åˆ é™¤mysqlç›¸å…³é…ç½®æ–‡ä»¶å¹¶copy my.cnfåˆ°etcç›®å½•"</span>
<span class="token function">rm</span> <span class="token parameter variable">-rf</span> /etc/my.cnf
<span class="token function">rm</span> <span class="token parameter variable">-rf</span> /etc/init.d/mysql
<span class="token function">cp</span> my.cnf /etc/my.cnf
 
<span class="token builtin class-name">echo</span> <span class="token string">"åˆ›å»ºmysqlç”¨æˆ·ç»„å’Œç”¨æˆ·"</span>
<span class="token function">groupadd</span> mysql
<span class="token function">useradd</span> <span class="token parameter variable">-g</span> mysql mysql
 
<span class="token builtin class-name">echo</span> <span class="token string">"è§£å‹.tar.gzåˆ°æŒ‡å®šæ–‡ä»¶å¤¹ä¸‹ /usr/local/mysql"</span>
<span class="token function">tar</span> <span class="token parameter variable">-vxzf</span> mysql-5.7.27-linux-glibc2.12-x86_64.tar.gz
<span class="token function">mv</span> mysql-5.7.27-linux-glibc2.12-x86_64/ /usr/local/mysql/
 
<span class="token builtin class-name">echo</span> <span class="token string">"æ›´æ”¹usr/local/mysqlæ‰€å±çš„ç»„å’Œç”¨æˆ·"</span>
<span class="token builtin class-name">cd</span> /usr/local
<span class="token assign-left variable">USR_LOCAL</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">pwd</span><span class="token variable">)</span></span>
 
<span class="token function">chown</span> <span class="token parameter variable">-R</span> mysql mysql/
<span class="token function">chgrp</span> <span class="token parameter variable">-R</span> mysql mysql/
 
<span class="token builtin class-name">cd</span> mysql/
<span class="token builtin class-name">echo</span> <span class="token string">"åˆ›å»ºmysqlæ•°æ®ç›®å½•dataå¹¶è®¾ç½®ç›®å½•æƒé™"</span>+<span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">pwd</span><span class="token variable">)</span></span>
<span class="token function">mkdir</span> data
<span class="token function">chown</span> <span class="token parameter variable">-R</span> mysql:mysql data
 
<span class="token builtin class-name">echo</span> <span class="token string">"åˆ›å»ºmy.cnfé…ç½®æ–‡ä»¶"</span>
<span class="token function">cat</span> <span class="token operator">&gt;</span>/etc/my.cnf<span class="token operator">&lt;&lt;</span><span class="token string">EOF
[mysql]
# è®¾ç½®mysqlå®¢æˆ·ç«¯é»˜è®¤å­—ç¬¦é›†
default-character-set=utf8 
[mysqld]
skip-name-resolve
#è®¾ç½®3306ç«¯å£
port = 3306 
# è®¾ç½®mysqlçš„å®‰è£…ç›®å½•
basedir=/usr/local/mysql
# è®¾ç½®mysqlæ•°æ®åº“çš„æ•°æ®çš„å­˜æ”¾ç›®å½•
datadir=/usr/local/mysql/data
# å…è®¸æœ€å¤§è¿æ¥æ•°
max_connections=200
# æœåŠ¡ç«¯ä½¿ç”¨çš„å­—ç¬¦é›†é»˜è®¤ä¸º8æ¯”ç‰¹ç¼–ç çš„latin1å­—ç¬¦é›†
character-set-server=utf8
# åˆ›å»ºæ–°è¡¨æ—¶å°†ä½¿ç”¨çš„é»˜è®¤å­˜å‚¨å¼•æ“
default-storage-engine=INNODB 
lower_case_table_names=1
max_allowed_packet=16M
EOF</span>

<span class="token builtin class-name">echo</span> <span class="token string">"è®¾ç½®mysqlæƒé™å¹¶åˆå§‹åŒ–mysql"</span>
<span class="token function">cp</span> ./support-files/mysql.server /etc/init.d/mysqld
<span class="token function">chown</span> <span class="token number">777</span> /etc/my.cnf
<span class="token function">chmod</span> a+x /etc/init.d/mysqld
/usr/local/mysql/bin/mysqld <span class="token parameter variable">--initialize</span>  <span class="token parameter variable">--user</span><span class="token operator">=</span>mysql <span class="token parameter variable">--basedir</span><span class="token operator">=</span>/usr/local/mysql/ <span class="token parameter variable">--datadir</span><span class="token operator">=</span>/usr/local/mysql/data/
 
<span class="token builtin class-name">echo</span> <span class="token string">"ä¿®æ”¹mysqlç¯å¢ƒå˜é‡&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;"</span>
<span class="token builtin class-name">echo</span> <span class="token string">'export PATH=$PATH:/usr/local/mysql/bin'</span> <span class="token operator">&gt;&gt;</span> /etc/profile
<span class="token function">sleep</span> <span class="token number">2</span>
<span class="token builtin class-name">source</span> /etc/profile
 
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$?</span> <span class="token parameter variable">-eq</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
     <span class="token builtin class-name">echo</span> <span class="token string">"é…ç½®mysqlç¯å¢ƒå˜é‡æˆåŠŸ!"</span>
<span class="token keyword">else</span>
     <span class="token builtin class-name">echo</span> <span class="token string">"é…ç½®mysqlç¯å¢ƒå˜é‡å¤±è´¥!"</span>
<span class="token keyword">fi</span>
 
<span class="token comment">#yum install -y psmisc</span>
<span class="token comment">#killall mysqld</span>
 
<span class="token function">service</span> mysqld restart
<span class="token function">sleep</span> <span class="token number">5</span>
<span class="token builtin class-name">echo</span> <span class="token string">"mysqlå¯åŠ¨æˆåŠŸ!"</span>

<span class="token builtin class-name">echo</span> <span class="token string">"é€šè¿‡mysql -uroot -p æ“ä½œ"</span>
<span class="token function">ln</span> <span class="token parameter variable">-s</span> /usr/local/mysql/bin/mysql /usr/bin

<span class="token builtin class-name">echo</span> <span class="token string">"è®¾ç½®mysqlå¼€æœºè‡ªå¯!"</span>
<span class="token function">chmod</span> +x /etc/rc.d/init.d/mysqld
<span class="token function">chkconfig</span> <span class="token parameter variable">--add</span> mysqld
<span class="token function">chkconfig</span> <span class="token parameter variable">--level</span> <span class="token number">35</span> mysqld
 
<span class="token builtin class-name">echo</span> <span class="token string">"mysqlé‡è®¾åå¯åŠ¨æˆåŠŸ!!!!!!"</span>
</code></pre> 
<p>[root@localhost /]# sh auto_install_mysql.sh ##æ­¤å¤„ä»¥ä¸‹ä¸ºå®‰è£…è¿‡ç¨‹å†…å®¹<br> å½“å‰ç›®å½•:+/<br> åˆ é™¤mysqlç›¸å…³é…ç½®æ–‡ä»¶å¹¶copy my.cnfåˆ°etcç›®å½•<br> cp: cannot stat â€˜my.cnfâ€™: No such file or directory<br> åˆ›å»ºmysqlç”¨æˆ·ç»„å’Œç”¨æˆ·<br> è§£å‹.tar.gzåˆ°æŒ‡å®šæ–‡ä»¶å¤¹ä¸‹ /usr/local/mysql<br> mysql-5.7.27-linux-glibc2.12-x86_64/bin/myisam_ftdump<br> mysql-5.7.27-linux-glibc2.12-x86_64/bin/myisamchk<br> mysql-5.7.27-linux-glibc2.12-x86_64/bin/myisamlog<br> â€¦<br> â€¦<br> â€¦<br> 2021-07-12T08:52:13.159791Z 1 [Note] A temporary password is generated for root@localhost: IrlOJCbHw1&gt;j ####MySQLç™»å½•å¯†ç <br> ä¿®æ”¹mysqlç¯å¢ƒå˜é‡&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<br> é…ç½®mysqlç¯å¢ƒå˜é‡æˆåŠŸ!<br> ERROR! MySQL server PID file could not be found!<br> Starting MySQL.Logging to â€˜/usr/local/mysql/data/localhost.localdomain.errâ€™.<br> SUCCESS!<br> mysqlå¯åŠ¨æˆåŠŸ!<br> é€šè¿‡mysql -uroot -p æ“ä½œ<br> è®¾ç½®mysqlå¼€æœºè‡ªå¯!<br> only one runlevel may be specified for a chkconfig query<br> mysqlé‡è®¾åå¯åŠ¨æˆåŠŸ!!!</p> 
<h3><a id="MySQL_125"></a>æŸ¥çœ‹MySQLæ˜¯å¦å¯åŠ¨</h3> 
<p>[root@localhost /]# ps -ef|grep mysql</p> 
<h3><a id="_128"></a>æŸ¥çœ‹ç›‘å¬ç«¯å£</h3> 
<p>[root@localhost /]# netstat -lntp | grep mysqld<br> tcp6 0 0 :::3306 ::ğŸ˜— LISTEN 2218mysqld</p> 
<h3><a id="mysql_132"></a>æ›´æ”¹mysqlæ•°æ®åº“å¯†ç </h3> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># mysql -u root -p</span>
Enter password: 
Welcome to the MySQL monitor.  Commands end with <span class="token punctuation">;</span> or <span class="token punctuation">\</span>g.
Your MySQL connection <span class="token function">id</span> is <span class="token number">2</span>
Server version: <span class="token number">5.7</span>.27

Copyright <span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token number">2000</span>, <span class="token number">2019</span>, Oracle and/or its affiliates. All rights reserved.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Type <span class="token string">'help;'</span> or <span class="token string">'\h'</span> <span class="token keyword">for</span> help. Type <span class="token string">'\c'</span> to <span class="token function">clear</span> the current input statement.

mysql<span class="token operator">&gt;</span> <span class="token builtin class-name">set</span> password <span class="token keyword">for</span> root@localhost <span class="token operator">=</span> password<span class="token punctuation">(</span><span class="token string">'Admin@1234'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Query OK, <span class="token number">0</span> rows affected, <span class="token number">1</span> warning <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> flush privileges<span class="token punctuation">;</span> 

</code></pre>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/09bd1d3f795ed10f85215c6f2ab929fc/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">electronå¼€å‘mac/windowsæ¡Œé¢ç¨‹åºï¼Œé…åˆvue3&#43;viteè¿›è¡Œé…ç½®å¼€å‘</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/1b5bcbe948118b296667213597ea9f19/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">è§£å†³npm installå®‰è£…vue-element-adminæŠ¥é”™ Error while executing: C:\Program Files\Git\cmd\git.EXE ls-remote</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ITå­¦ä¹ è€…åšå®¢.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>