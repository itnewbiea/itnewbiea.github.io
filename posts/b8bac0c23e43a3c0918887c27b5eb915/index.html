<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>creator-游戏开发基本语法 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="creator-游戏开发基本语法" />
<meta property="og:description" content="写的比较杂乱，类似随笔，随时可能往里面添加修改
给lable文本赋值：
this.ScoreNumber.getComponent(cc.Label).string = GAME_DATE.MMscore; 查找游戏组件或者脚本
this.MMGameAccount = this.GameAccount.getComponent(&#39;MMGameAccount&#39;); 播放音乐（不需要添加组件）
cc.audioEngine.playEffect(GAME_DATE.overAudio,false); 播放背景音乐（直接添加组件）
查找具体节点
var fangge = cc.find(&#39;Canvas/Game/GameView&#39;); 查找子节点的拥有组件名字为 MMShuiDi 的子节点集合
var fanggeArray = fangge.getComponentsInChildren(&#34;MMShuiDi&#34;); 定时器写法1
//定时器 this.schedule(function(){ //结束后执行内容 },1,0,0); 修改按钮的图片
this.node.getComponent(cc.Button).normalSprite = this.MMGameSprite; cc.log(&#34;name= &#34;&#43;this.node.getComponent(cc.Button).normalSprite.name); 修改当前组名
this.node.group = &#34;kongbai&#34;; 碰撞检测方法函数（可以利用组来进行筛选碰撞）
//碰撞检测 onCollisionEnter (other, self) { if(other.node.group == &#39;shuidi&#39;) //检测碰撞组 { //事件 } }, 设置组名和碰撞的关系
微信判断收藏路径进入游戏
var a = wx.getLaunchOptionsSync(); a.scene == 1104 //显示 礼包 就可以了 //1089 扫码 //1104 收藏 creator平台判断" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/b8bac0c23e43a3c0918887c27b5eb915/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-04-16T16:01:13+08:00" />
<meta property="article:modified_time" content="2019-04-16T16:01:13+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">creator-游戏开发基本语法</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>写的比较杂乱，类似随笔，随时可能往里面添加修改<br> <strong>给lable文本赋值：</strong></p> 
<pre><code>this.ScoreNumber.getComponent(cc.Label).string = GAME_DATE.MMscore; 
</code></pre> 
<p><strong>查找游戏组件或者脚本</strong></p> 
<pre><code>this.MMGameAccount = this.GameAccount.getComponent('MMGameAccount');
</code></pre> 
<p><strong>播放音乐（不需要添加组件）</strong></p> 
<pre><code>cc.audioEngine.playEffect(GAME_DATE.overAudio,false);
</code></pre> 
<p><strong>播放背景音乐（直接添加组件）</strong><br> <img src="https://images2.imgbox.com/b9/f4/umYehOFF_o.png" alt="MMYinyue是我写的脚本名字，我了代码控制音乐播放"><br> <strong>查找具体节点</strong></p> 
<pre><code>var fangge = cc.find('Canvas/Game/GameView');
</code></pre> 
<p><strong>查找子节点的拥有组件名字为 MMShuiDi 的子节点集合</strong></p> 
<pre><code>var fanggeArray = fangge.getComponentsInChildren("MMShuiDi");
</code></pre> 
<p><strong>定时器写法1</strong></p> 
<pre><code> //定时器
this.schedule(function(){
    //结束后执行内容      
},1,0,0);
</code></pre> 
<p><strong>修改按钮的图片</strong></p> 
<pre><code>this.node.getComponent(cc.Button).normalSprite = this.MMGameSprite;
cc.log("name= "+this.node.getComponent(cc.Button).normalSprite.name);
</code></pre> 
<p><strong>修改当前组名</strong></p> 
<pre><code>this.node.group   = "kongbai";
</code></pre> 
<p><strong>碰撞检测方法函数（可以利用组来进行筛选碰撞）</strong></p> 
<pre><code>//碰撞检测
    onCollisionEnter (other, self) {
        if(other.node.group == 'shuidi') //检测碰撞组
        {
         //事件   
        }
    },
</code></pre> 
<p><strong>设置组名和碰撞的关系</strong></p> 
<p><img src="https://images2.imgbox.com/b2/f1/v1ACRDRV_o.png" alt="在这里插入图片描述"><br> <strong>微信判断收藏路径进入游戏</strong></p> 
<pre><code>var a = wx.getLaunchOptionsSync();
a.scene == 1104  //显示 礼包 就可以了
//1089   扫码
//1104  收藏  
</code></pre> 
<p><strong>creator平台判断</strong><br> {<!-- --></p> 
<pre><code>   "编辑器":  CC_EDITOR,
    "编辑器 或 预览":  CC_DEV,
    "编辑器 或 预览 或 构建调试":  CC_DEBUG,
    "网页预览":  CC_PREVIEW &amp;&amp; !CC_JSB,
    "模拟器预览":  CC_PREVIEW &amp;&amp; CC_JSB,
    "构建调试":  CC_BUILD &amp;&amp; CC_DEBUG,
    "构建发行":  CC_BUILD &amp;&amp; !CC_DEBUG,
</code></pre> 
<p>}<br> <strong>比如判断微信平台：</strong></p> 
<pre><code>if(CC_WECHATGAME){
     //向微信保存最高分数
     var kvDateList = new Array();
     kvDateList.push({
         key: "score",
         value: "0"
     });
}
</code></pre> 
<p><strong>给节点设置显隐</strong></p> 
<pre><code>this.Game.active  = true;
this.Game.active  = false;
</code></pre> 
<p>注意：当父节点为false（隐藏状态）时，对子节点的操作无效<br> <strong>销毁节点</strong></p> 
<pre><code>this.node.destroy();
</code></pre> 
<p><strong>生命周期注意：</strong><br> 先执行完所有的onload，再执行start方法<br> <strong>开启声音/关闭声音</strong></p> 
<pre><code>this.MMAudio.getComponent(cc.AudioSource).play();//开启声音
this.MMAudio.getComponent(cc.AudioSource).stop();//关闭声音
</code></pre> 
<p>对于切换精灵节点sprite的显示图片用</p> 
<p><strong>对于切换按钮节点的按钮显示图片</strong></p> 
<pre><code>this.node.getComponent(cc.Button).normalSprite = this.SpriteFrame;
</code></pre> 
<p><strong>定义一个date格式的数据集合用</strong></p> 
<pre><code>this.userData = {
            name: 'Tracer',
            level: 1,
            gold: 100
        };
</code></pre> 
<p><strong>游戏区域的尺寸</strong></p> 
<pre><code>let  size=cc.view.getVisibleSize();
 cc.log("游戏区域宽度=   ",size.width);
 cc.log("游戏区域高度=   ",size.height);
</code></pre> 
<p><strong>利用update移动节点</strong></p> 
<pre><code> this.node.y-=this.MoveSpeed*dt;
</code></pre> 
<p><strong>随机值（例子，具体看api）</strong></p> 
<pre><code>var length = GAME_DATE.MMGameSpriteArray.length;
this.numberButton =parseInt(Math.random()*length); //随机下标
</code></pre>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/b525b29d5e358d485806ade2ba5f871c/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">信息检索IR评价中常见的评价指标-MAP\NDCG\ERR\P@10等</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/de8c4747112c30f9cb50575e499cc6f4/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">C语言：求1-3&#43;5-7 &#43;--99 &#43; 101的值。（两种方法)</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>