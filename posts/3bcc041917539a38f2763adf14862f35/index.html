<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>SQL语言---数据更新 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="SQL语言---数据更新" />
<meta property="og:description" content="文章目录 前言一、数据更新之插入数据1.插入单个元组（1）语句格式（2）语法说明INTO子句VALUES子句插入规则 （3）举例讲解例子1：例子2：易犯错误 2.插入子查询结果（1）语句格式（2）语法说明INTO子句(与插入单条元组类似)子查询查询规则 （3）举例讲解例子1：新建一张表存放每部门员工的平均工资。 二、数据更新之修改数据1.修改某一个元组的值（1）语法格式（2）语法说明SET子句WHERE子句语法规则 （3）举例讲解例子1：部门调整 2.修改多个元组的值（1）举例讲解例子1：为员工发放薪金 3.带子查询的修改语句（1）语法结构（2）举例讲解例子1：不知道部门编号的情况下发奖金 三、数据更新之删除数据1.删除某一元组的值（1）语法格式（2）语法说明FROM子句WHERE子句 （3）举例讲解例子1：删除离职人员信息 2.删除多个元组的值（1）举例讲解例子1：解散部门 3.带子查询的删除语句（1）语法格式（2）举例讲解例子1：不知道部门编号的情况下解散部门 4.删除的易错点（1）违反完整性约束条件（2）DELETE不支持CASCADE 总结 前言 本文主要讲解了SQL语言中的数据更新的语法，并且举例进行相关知识的说明和讲解。
一、数据更新之插入数据 1.插入单个元组 插入单个元组可以理解为给表插入一行数据
（1）语句格式 功能：将新元组插入指定表中
INSERT INTO &lt;表名&gt; [(&lt;属性1&gt;[,&lt;属性2&gt;...])] VALUES (&lt;常量1&gt;[,&lt;常量2&gt;]...); （2）语法说明 INTO子句 指定要插入数据的表名及属性列属性列的顺序可与表定义中的顺序不一致没有指定属性列：表示要插入的是一条完整的元组，且属性列属性与表定义中的顺序一致指定部分属性列：插入的元组在其余属性列上取空值（ORACLE这条不适用） VALUES子句 提供的值必须与INTO子句匹配
– 值的个数
– 值的类型 插入规则 DBMS在执行插入语句时会检查所插元组是否破坏表上已定义的完整性规则
a.实体完整性
b.参照完整性
c.用户定义的完整性
对于有NOT NULL约束的属性列是否提供了非空值对于有UNIQUE约束的属性列是否提供了非重复值对于有值域约束的属性列所提供的属性值是否在值域范围内 （3）举例讲解 首先给出目前表的完整性情况：
1、DEPT表有三个字段，分别为DEPTNO、DNAME、LOC
2、其中DEPTNO是主键，不能为空值
3、DNAME和LOC 可以为空值
4、DEPTNO的字符类型是2位整数，DNAME和LOC是字符串
例子1： 插入单个元组进入表：
INSERT INTO DEPT VALUES (&#39;50&#39;,&#39;MARKETING&#39;,&#39;BEIJING&#39;); 结果：
例子2： 目前公司打算组建一个技术部（部门编号为60，部门名称为TECHNOLOGY，部门还没想好落户在哪个城市）。
插入方法1：
INSERT INTO DEPT VALUES (&#39;60&#39;,&#39;TECHNOLOGY&#39;,&#39;&#39;); 插入方法2：
INSERT INTO DEPT VALUES (&#39;60&#39;,&#39;TECHNOLOGY&#39;,NULL); 易犯错误 NULL值多了单引号，表示插入的是NULL这个单词，而不是插入的空值" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/3bcc041917539a38f2763adf14862f35/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-09-30T22:18:22+08:00" />
<meta property="article:modified_time" content="2022-09-30T22:18:22+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">SQL语言---数据更新</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#_7" rel="nofollow">前言</a></li><li><a href="#_11" rel="nofollow">一、数据更新之插入数据</a></li><li><ul><li><a href="#1_12" rel="nofollow">1.插入单个元组</a></li><li><ul><li><a href="#1_14" rel="nofollow">（1）语句格式</a></li><li><a href="#2_21" rel="nofollow">（2）语法说明</a></li><li><ul><li><a href="#INTO_22" rel="nofollow">INTO子句</a></li><li><a href="#VALUES_27" rel="nofollow">VALUES子句</a></li><li><a href="#_31" rel="nofollow">插入规则</a></li></ul> 
    </li><li><a href="#3_41" rel="nofollow">（3）举例讲解</a></li><li><ul><li><a href="#1_49" rel="nofollow">例子1：</a></li><li><a href="#2_59" rel="nofollow">例子2：</a></li><li><a href="#_73" rel="nofollow">易犯错误</a></li></ul> 
   </li></ul> 
   </li><li><a href="#2_90" rel="nofollow">2.插入子查询结果</a></li><li><ul><li><a href="#1_92" rel="nofollow">（1）语句格式</a></li><li><a href="#2_98" rel="nofollow">（2）语法说明</a></li><li><ul><li><a href="#INTO_99" rel="nofollow">INTO子句(与插入单条元组类似)</a></li><li><a href="#_104" rel="nofollow">子查询</a></li><li><a href="#_108" rel="nofollow">查询规则</a></li></ul> 
    </li><li><a href="#3_119" rel="nofollow">（3）举例讲解</a></li><li><ul><li><a href="#1_120" rel="nofollow">例子1：新建一张表存放每部门员工的平均工资。</a></li></ul> 
   </li></ul> 
  </li></ul> 
  </li><li><a href="#_150" rel="nofollow">二、数据更新之修改数据</a></li><li><ul><li><a href="#1_151" rel="nofollow">1.修改某一个元组的值</a></li><li><ul><li><a href="#1_153" rel="nofollow">（1）语法格式</a></li><li><a href="#2_159" rel="nofollow">（2）语法说明</a></li><li><ul><li><a href="#SET_160" rel="nofollow">SET子句</a></li><li><a href="#WHERE_164" rel="nofollow">WHERE子句</a></li><li><a href="#_167" rel="nofollow">语法规则</a></li></ul> 
    </li><li><a href="#3_178" rel="nofollow">（3）举例讲解</a></li><li><ul><li><a href="#1_179" rel="nofollow">例子1：部门调整</a></li></ul> 
   </li></ul> 
   </li><li><a href="#2_190" rel="nofollow">2.修改多个元组的值</a></li><li><ul><li><a href="#1_192" rel="nofollow">（1）举例讲解</a></li><li><ul><li><a href="#1_193" rel="nofollow">例子1：为员工发放薪金</a></li></ul> 
   </li></ul> 
   </li><li><a href="#3_210" rel="nofollow">3.带子查询的修改语句</a></li><li><ul><li><a href="#1_211" rel="nofollow">（1）语法结构</a></li><li><a href="#2_217" rel="nofollow">（2）举例讲解</a></li><li><ul><li><a href="#1_218" rel="nofollow">例子1：不知道部门编号的情况下发奖金</a></li></ul> 
   </li></ul> 
  </li></ul> 
  </li><li><a href="#_229" rel="nofollow">三、数据更新之删除数据</a></li><li><ul><li><a href="#1_230" rel="nofollow">1.删除某一元组的值</a></li><li><ul><li><a href="#1_232" rel="nofollow">（1）语法格式</a></li><li><a href="#2_238" rel="nofollow">（2）语法说明</a></li><li><ul><li><a href="#FROM_239" rel="nofollow">FROM子句</a></li><li><a href="#WHERE_241" rel="nofollow">WHERE子句</a></li></ul> 
    </li><li><a href="#3_245" rel="nofollow">（3）举例讲解</a></li><li><ul><li><a href="#1_246" rel="nofollow">例子1：删除离职人员信息</a></li></ul> 
   </li></ul> 
   </li><li><a href="#2_256" rel="nofollow">2.删除多个元组的值</a></li><li><ul><li><a href="#1_258" rel="nofollow">（1）举例讲解</a></li><li><ul><li><a href="#1_259" rel="nofollow">例子1：解散部门</a></li></ul> 
   </li></ul> 
   </li><li><a href="#3_268" rel="nofollow">3.带子查询的删除语句</a></li><li><ul><li><a href="#1_269" rel="nofollow">（1）语法格式</a></li><li><a href="#2_275" rel="nofollow">（2）举例讲解</a></li><li><ul><li><a href="#1_276" rel="nofollow">例子1：不知道部门编号的情况下解散部门</a></li></ul> 
   </li></ul> 
   </li><li><a href="#4_287" rel="nofollow">4.删除的易错点</a></li><li><ul><li><a href="#1_288" rel="nofollow">（1）违反完整性约束条件</a></li><li><a href="#2DELETECASCADE_292" rel="nofollow">（2）DELETE不支持CASCADE</a></li></ul> 
  </li></ul> 
  </li><li><a href="#_297" rel="nofollow">总结</a></li></ul> 
</div> 
<p></p> 
<hr> 
<h2><a id="_7"></a>前言</h2> 
<p>本文主要讲解了SQL语言中的数据更新的语法，并且举例进行相关知识的说明和讲解。</p> 
<hr> 
<h2><a id="_11"></a>一、数据更新之插入数据</h2> 
<h3><a id="1_12"></a>1.插入单个元组</h3> 
<p><mark>插入单个元组可以理解为给表插入一行数据</mark></p> 
<h4><a id="1_14"></a>（1）语句格式</h4> 
<p>功能：将新元组插入指定表中</p> 
<pre><code class="prism language-sql"><span class="token keyword">INSERT</span> 
<span class="token keyword">INTO</span> <span class="token operator">&lt;</span>表名<span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>属性<span class="token number">1</span><span class="token operator">&gt;</span><span class="token punctuation">[</span><span class="token punctuation">,</span><span class="token operator">&lt;</span>属性<span class="token number">2</span><span class="token operator">&gt;</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span>常量<span class="token number">1</span><span class="token operator">&gt;</span><span class="token punctuation">[</span><span class="token punctuation">,</span><span class="token operator">&lt;</span>常量<span class="token number">2</span><span class="token operator">&gt;</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h4><a id="2_21"></a>（2）语法说明</h4> 
<h5><a id="INTO_22"></a>INTO子句</h5> 
<ul><li>指定要插入数据的表名及属性列</li><li>属性列的顺序可与表定义中的顺序不一致</li><li>没有指定属性列：<mark>表示要插入的是一条完整的元组，且属性列属性与表定义中的顺序一致</mark></li><li>指定部分属性列：插入的元组在其余属性列上取空值（ORACLE这条不适用）</li></ul> 
<h5><a id="VALUES_27"></a>VALUES子句</h5> 
<ul><li>提供的值必须与INTO子句匹配<br> – 值的个数<br> – 值的类型</li></ul> 
<h5><a id="_31"></a>插入规则</h5> 
<p>DBMS在执行插入语句时会检查所插元组是否破坏表上已定义的完整性规则<br> a.实体完整性</p> 
<p>b.参照完整性</p> 
<p>c.用户定义的完整性</p> 
<ul><li><mark>对于有NOT NULL约束的属性列是否提供了非空值</mark></li><li><mark>对于有UNIQUE约束的属性列是否提供了非重复值</mark></li><li><mark>对于有值域约束的属性列所提供的属性值是否在值域范围内</mark></li></ul> 
<h4><a id="3_41"></a>（3）举例讲解</h4> 
<p>首先给出目前表的完整性情况：<br> 1、DEPT表有三个字段，分别为DEPTNO、DNAME、LOC<br> 2、其中DEPTNO是主键，<mark>不能为空值</mark><br> 3、DNAME和LOC <mark>可以为空值</mark><br> 4、DEPTNO的字符类型是<mark>2位整数</mark>，DNAME和LOC是<mark>字符串</mark></p> 
<p><img src="https://images2.imgbox.com/bc/ac/7JFpi9Ej_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="1_49"></a>例子1：</h5> 
<p>插入单个元组进入表：</p> 
<pre><code class="prism language-sql"><span class="token keyword">INSERT</span> 
<span class="token keyword">INTO</span> DEPT
<span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'50'</span><span class="token punctuation">,</span><span class="token string">'MARKETING'</span><span class="token punctuation">,</span><span class="token string">'BEIJING'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>结果：<br> <img src="https://images2.imgbox.com/97/05/GiecXFw1_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="2_59"></a>例子2：</h5> 
<p>目前公司打算组建一个技术部（部门编号为60，部门名称为TECHNOLOGY，部门还没想好落户在哪个城市）。<br> 插入方法1：</p> 
<pre><code class="prism language-sql"><span class="token keyword">INSERT</span>
<span class="token keyword">INTO</span> DEPT
<span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'60'</span><span class="token punctuation">,</span><span class="token string">'TECHNOLOGY'</span><span class="token punctuation">,</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>插入方法2：</p> 
<pre><code class="prism language-sql"><span class="token keyword">INSERT</span>
<span class="token keyword">INTO</span> DEPT
<span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'60'</span><span class="token punctuation">,</span><span class="token string">'TECHNOLOGY'</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h5><a id="_73"></a>易犯错误</h5> 
<p><mark>NULL值多了单引号，表示插入的是NULL这个单词，而不是插入的空值</mark><br> 正确代码：</p> 
<pre><code class="prism language-sql"><span class="token keyword">INSERT</span>
<span class="token keyword">INTO</span> DEPT
<span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'60'</span><span class="token punctuation">,</span><span class="token string">'TECHNOLOGY'</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>错误代码：</p> 
<pre><code class="prism language-sql"><span class="token keyword">INSERT</span>
<span class="token keyword">INTO</span> DEPT
<span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'60'</span><span class="token punctuation">,</span><span class="token string">'TECHNOLOGY'</span><span class="token punctuation">,</span><span class="token string">'NULL'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p><strong>结果会发现错误的代码相当于把NULL当成字符串写入了表中。</strong><br> <img src="https://images2.imgbox.com/a8/b9/uxfF5aNj_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="2_90"></a>2.插入子查询结果</h3> 
<p><mark>将子查询结果插入到指定表中</mark></p> 
<h4><a id="1_92"></a>（1）语句格式</h4> 
<pre><code class="prism language-sql"><span class="token keyword">INSERT</span>
<span class="token keyword">INTO</span> <span class="token operator">&lt;</span>表名<span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>属性<span class="token number">1</span><span class="token operator">&gt;</span><span class="token punctuation">[</span><span class="token punctuation">,</span><span class="token operator">&lt;</span>属性<span class="token number">2</span><span class="token operator">&gt;</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
子查询<span class="token punctuation">;</span>
</code></pre> 
<h4><a id="2_98"></a>（2）语法说明</h4> 
<h5><a id="INTO_99"></a>INTO子句(与插入单条元组类似)</h5> 
<ul><li>指定要插入数据的表名及属性列</li><li>属性列的顺序可与表定义中的顺序不一致</li><li>没有指定属性列：表示要插入的是一条完整的元组</li><li>指定部分属性列：插入的元组在其余属性列上取空值（ORACLE这条不适用）</li></ul> 
<h5><a id="_104"></a>子查询</h5> 
<p>SELECT子句目标列必须与INTO子句匹配</p> 
<ul><li>值的个数</li><li>值的类型</li></ul> 
<h5><a id="_108"></a>查询规则</h5> 
<p>DBMS在执行插入语句时会检查所插元组是否破坏表上已定义的完整性规则<br> a.实体完整性</p> 
<p>b.参照完整性</p> 
<p>c.用户定义的完整性</p> 
<ul><li><mark>对于有NOT NULL约束的属性列是否提供了非空值</mark></li><li><mark>对于有UNIQUE约束的属性列是否提供了非重复值</mark></li><li><mark>对于有值域约束的属性列所提供的属性值是否在值域范围内</mark></li></ul> 
<h4><a id="3_119"></a>（3）举例讲解</h4> 
<h5><a id="1_120"></a>例子1：新建一张表存放每部门员工的平均工资。</h5> 
<p>数据存放在表EMP中：<br> <img src="https://images2.imgbox.com/cc/00/PYXHHEal_o.png" alt="在这里插入图片描述"><br> 思路：</p> 
<ul><li> <p>第一步，先建一张表，表字段DEPTNO、AVGSAL</p> </li><li> <p>第二步，查询EMP表中的部门平均工资，将查到的值插入新建的表中</p> </li></ul> 
<pre><code class="prism language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> DEPT_AVGSAL
<span class="token punctuation">(</span>
DEPTNO NUMBER<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
AVGSAL NUMBER<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
<span class="token keyword">CONSTRAINT</span> DEPT_AVGSAL_PK <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> 
	<span class="token punctuation">(</span>
		DEPTNO 
	<span class="token punctuation">)</span>
<span class="token keyword">ENABLE</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<pre><code class="prism language-sql"><span class="token keyword">INSERT</span>
<span class="token keyword">INTO</span> DEPT_AVGSAL<span class="token punctuation">(</span>DEPTNO<span class="token punctuation">,</span>AVGSAL<span class="token punctuation">)</span>
<span class="token keyword">SELECT</span> DEPTNO<span class="token punctuation">,</span><span class="token function">AVG</span><span class="token punctuation">(</span>SAL<span class="token punctuation">)</span>
<span class="token keyword">FROM</span> EMP
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span>  DEPTNO<span class="token punctuation">;</span>
</code></pre> 
<p>结果为：<br> <img src="https://images2.imgbox.com/f9/a0/41c8Pgcr_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_150"></a>二、数据更新之修改数据</h2> 
<h3><a id="1_151"></a>1.修改某一个元组的值</h3> 
<p><mark>修改指定表中<strong>满足WHERE子句条件</strong>的元组</mark></p> 
<h4><a id="1_153"></a>（1）语法格式</h4> 
<pre><code class="prism language-sql"><span class="token keyword">UPDATE</span>  <span class="token operator">&lt;</span>表名<span class="token operator">&gt;</span>
<span class="token keyword">SET</span>  <span class="token operator">&lt;</span>列名<span class="token operator">&gt;=</span><span class="token operator">&lt;</span>表达式<span class="token operator">&gt;</span><span class="token punctuation">[</span><span class="token punctuation">,</span><span class="token operator">&lt;</span>列名<span class="token operator">&gt;=</span><span class="token operator">&lt;</span>表达式<span class="token operator">&gt;</span><span class="token punctuation">]</span>…
<span class="token punctuation">[</span><span class="token keyword">WHERE</span> <span class="token operator">&lt;</span>条件<span class="token operator">&gt;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> 
<h4><a id="2_159"></a>（2）语法说明</h4> 
<h5><a id="SET_160"></a>SET子句</h5> 
<p>指定修改方式</p> 
<ul><li>要修改的列</li><li>修改后取值</li></ul> 
<h5><a id="WHERE_164"></a>WHERE子句</h5> 
<p>指定要修改的元组</p> 
<ul><li>缺省表示要修改表中的所有元组</li></ul> 
<h5><a id="_167"></a>语法规则</h5> 
<p>DBMS在执行修改语句时会检查修改操作是否破坏表上已定义的完整性规则<br> a.实体完整性</p> 
<p>b.主码不允许修改</p> 
<p>c.用户定义的完整性</p> 
<ul><li>NOT NULL约束</li><li>UNIQUE约束</li><li>值域约束</li></ul> 
<h4><a id="3_178"></a>（3）举例讲解</h4> 
<h5><a id="1_179"></a>例子1：部门调整</h5> 
<p>将SMITH的部门调整到MARKETING（部门编号50）<br> 原始表如下：<br> <img src="https://images2.imgbox.com/aa/77/qOPcZGBu_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-sql"><span class="token keyword">UPDATE</span> EMP
<span class="token keyword">SET</span> DEPTNO<span class="token operator">=</span><span class="token number">50</span>
<span class="token keyword">WHERE</span> ENAME<span class="token operator">=</span><span class="token string">'SMITH'</span><span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/0b/a6/cpmawJwJ_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="2_190"></a>2.修改多个元组的值</h3> 
<p><mark>语法格式和规则与修改单个元组的值一致，不作赘述</mark></p> 
<h4><a id="1_192"></a>（1）举例讲解</h4> 
<h5><a id="1_193"></a>例子1：为员工发放薪金</h5> 
<p>将所有人工资增加100元，设置RESEARCH部门（假设知道部门编号为20）的员工月奖金为100元<br> 原来数据如下：<br> <img src="https://images2.imgbox.com/61/fc/w9mER3VZ_o.png" alt="在这里插入图片描述"><br> 分两步操作：</p> 
<pre><code class="prism language-sql"><span class="token keyword">UPDATE</span> EMP
<span class="token keyword">SET</span> SAL<span class="token operator">=</span>SAL<span class="token operator">+</span><span class="token number">100</span><span class="token punctuation">;</span>
</code></pre> 
<pre><code class="prism language-sql"><span class="token keyword">UPDATE</span> EMP
<span class="token keyword">SET</span> COMM<span class="token operator">=</span><span class="token number">100</span>
<span class="token keyword">WHERE</span> DEPTNO<span class="token operator">=</span><span class="token number">20</span><span class="token punctuation">;</span>
</code></pre> 
<p>结果：<br> <img src="https://images2.imgbox.com/30/66/MOF9HAqN_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="3_210"></a>3.带子查询的修改语句</h3> 
<h4><a id="1_211"></a>（1）语法结构</h4> 
<pre><code class="prism language-sql"><span class="token keyword">UPDATE</span> <span class="token operator">&lt;</span>表名<span class="token operator">&gt;</span>
<span class="token keyword">SET</span> <span class="token operator">&lt;</span>列名<span class="token operator">&gt;=</span><span class="token operator">&lt;</span>表达式<span class="token operator">&gt;</span><span class="token punctuation">[</span><span class="token punctuation">,</span><span class="token operator">&lt;</span>列名<span class="token operator">&gt;=</span><span class="token operator">&lt;</span>表达式<span class="token operator">&gt;</span><span class="token punctuation">]</span>…
<span class="token keyword">WHERE</span> <span class="token punctuation">(</span>子查询<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h4><a id="2_217"></a>（2）举例讲解</h4> 
<h5><a id="1_218"></a>例子1：不知道部门编号的情况下发奖金</h5> 
<p>所有数据与之前的例子一致，这里只放代码，不做过多赘述</p> 
<pre><code class="prism language-sql"><span class="token keyword">UPDATE</span> EMP
<span class="token keyword">SET</span> COMM<span class="token operator">=</span><span class="token number">200</span>
<span class="token keyword">WHERE</span><span class="token punctuation">(</span>
	<span class="token keyword">SELECT</span> DEPTNO
	<span class="token keyword">FROM</span> EMP
	<span class="token keyword">WHERE</span> DNAME<span class="token operator">=</span><span class="token string">'ACCOUNTING'</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h2><a id="_229"></a>三、数据更新之删除数据</h2> 
<h3><a id="1_230"></a>1.删除某一元组的值</h3> 
<p><mark>删除指定表中满足WHERE子句条件的元组</mark></p> 
<h4><a id="1_232"></a>（1）语法格式</h4> 
<pre><code class="prism language-sql"><span class="token keyword">DELETE</span>
<span class="token keyword">FROM</span> <span class="token operator">&lt;</span>表名<span class="token operator">&gt;</span>
<span class="token punctuation">[</span><span class="token keyword">WHERE</span> <span class="token operator">&lt;</span>条件<span class="token operator">&gt;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> 
<h4><a id="2_238"></a>（2）语法说明</h4> 
<h5><a id="FROM_239"></a>FROM子句</h5> 
<p>指定从哪个表删除</p> 
<h5><a id="WHERE_241"></a>WHERE子句</h5> 
<ul><li>指定要删除的元组所满足的条件</li><li>缺省表示要修改表中的所有元组</li></ul> 
<h4><a id="3_245"></a>（3）举例讲解</h4> 
<h5><a id="1_246"></a>例子1：删除离职人员信息</h5> 
<p>员工MARTIN离职，需要删除他的基本信息<br> <img src="https://images2.imgbox.com/d0/6e/QpcFeaRN_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-sql"><span class="token keyword">DELETE</span> 
<span class="token keyword">FROM</span> EMP
<span class="token keyword">WHERE</span> ENAME<span class="token operator">=</span><span class="token string">'MARTIN'</span><span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/53/23/afsi0YPV_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="2_256"></a>2.删除多个元组的值</h3> 
<p><mark>语法格式和规则与修改单个元组的值一致，不作赘述</mark></p> 
<h4><a id="1_258"></a>（1）举例讲解</h4> 
<h5><a id="1_259"></a>例子1：解散部门</h5> 
<p>公司裁员，解散RESEARCH部门（假设知道部门编号为20），删除RESEARCH部门的所有信息。</p> 
<pre><code class="prism language-sql"><span class="token keyword">DELETE</span> 
<span class="token keyword">FROM</span> EMP
<span class="token keyword">WHERE</span> DEPTNO<span class="token operator">=</span><span class="token number">20</span><span class="token punctuation">;</span>
</code></pre> 
<h3><a id="3_268"></a>3.带子查询的删除语句</h3> 
<h4><a id="1_269"></a>（1）语法格式</h4> 
<pre><code class="prism language-sql"><span class="token keyword">DELETE</span>
<span class="token keyword">FROM</span> <span class="token operator">&lt;</span>表名<span class="token operator">&gt;</span>
<span class="token keyword">WHERE</span> <span class="token punctuation">(</span>子查询<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h4><a id="2_275"></a>（2）举例讲解</h4> 
<h5><a id="1_276"></a>例子1：不知道部门编号的情况下解散部门</h5> 
<p>公司裁员，解散ACCOUNTING部门（假设不知道部门编号），删除ACCOUNTING部门的所有信息。</p> 
<pre><code class="prism language-sql"><span class="token keyword">DELETE</span>
<span class="token keyword">FROM</span> EMP
<span class="token keyword">WHERE</span><span class="token punctuation">(</span>
	<span class="token keyword">SELECT</span> DEPTNO
	<span class="token keyword">FROM</span> EMP
	<span class="token keyword">WHERE</span> DNAME<span class="token operator">=</span><span class="token string">'ACCOUNTING'</span><span class="token punctuation">;</span>
<span class="token punctuation">)</span>
</code></pre> 
<h3><a id="4_287"></a>4.删除的易错点</h3> 
<h4><a id="1_288"></a>（1）违反完整性约束条件</h4> 
<p><img src="https://images2.imgbox.com/b8/1f/M4ESsCQe_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="2DELETECASCADE_292"></a>（2）DELETE不支持CASCADE</h4> 
<p><img src="https://images2.imgbox.com/13/24/yarRLBAo_o.png" alt="在这里插入图片描述"></p> 
<hr> 
<h2><a id="_297"></a>总结</h2> 
<p>文章的不妥之处请各位读者包涵指正。<br> 了解SQL语言的基础知识可以参考：<br> <a href="https://blog.csdn.net/weixin_52042488/article/details/127036112">SQL语言概述与SQL语言的数据定义</a><br> <a href="https://blog.csdn.net/weixin_52042488/article/details/127095812">SQL语言—数据的查询</a></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/2796681c182d449bf382549d48aae79a/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">关于 Gojs 你可能用到的方法 / gojs自定义</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/65af79f1da1b48c773532f02971f5319/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">将csv数据转换成张量格式</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>