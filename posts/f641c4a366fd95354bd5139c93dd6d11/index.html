<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>TCP/IP协议学习 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="TCP/IP协议学习" />
<meta property="og:description" content="TCP/IP协议详细了解（一） 快速了解一下TCP/IP协议族
文章目录 TCP/IP协议详细了解（一）前言一、互联网地址二、域名系统三、封装四、分用五、端口号六、RFC七、标准的简单服务八、互联网九、实现十、应用编程接口总结 前言 TCP/IP协议（Transmission Control Protocol/Internet Protocol，传输控制协议/网际协议），是一组不同层次上的多个协议的组合，通常被认为是一个四层协议系统。如下图，网络协议通常分不同层次进行开发，每一层分别负责不同的通信功能。
链路层：也叫数据链路层或者网络接口层，通常包括在操作系统的驱动程序或者计算机里对应的网络接口卡。主要负责处理传输媒介的物理接口细节。
网络层：也称为互联网层，主要负责处理分组在网络中的活动。网络层协议包括IP协议（网际协议），ICMP协议（Internet互联网控制报文协议) ，ICMP协议（Internet组管理协议)
运输层：主要负责为两台主机上的应用程序提供端到端的通信。这里有两个互不相同的传输协议TCP（传输控制协议）和UDP（用户数据报协议）
应用层：主要负责处理特定的应用程序细节。通常实现会提供下面这些通用的应用程序：Telnet远程登陆、FTP文件传输协议，SMTP简单邮件传送协议、SNMP简单网络管理协议等其他应用程序。
在TCP/IP协议组中有多少协议如下，不同层次的协议也是不同的。
上面的提到的这些协议具体内容如下：
TCP和UDP：这是我学习中见过很多次的协议，这俩都是运输层协议，二者都是用IP做为网络协议。TCP使用不靠谱的IP服务，但却提供可靠的传输层服务。UDP为应用程序发送和接收数据，与TCP不同的是UDP非常不可靠，于是也就不能保证数据能安全无误的送到目的点。
IP：网际互连协议，网络层主要协议，也被TCP和UDP使用。
ICMP：IP协议的附属协议，IP层用来与其他主机或路由器交换错误报文和其他重要信息。
IGMP：Internet组管理协议，它能将一个UDP数据报多播放到多个主机。
ARP和RARP：ARP是地址解析协议RARP是逆地址解析协议，是某些网络接口使用的特殊协议，用来转换IP层和网络接口层使用的地址。
一、互联网地址 互联网上的每个接口必须有一个唯一的Internet地址，也就是IP 地址。IP地址的长度通常为32bit，Internet地址不采用平面形式的地址空间，如下图所示，五类互联网地址格式。
32位地址通常写成四个十进制的数，每个整数对应一个字节。各类IP地址的范围如下：
可以知道区分各类地址最简单的方法就是直接看它的第一个十进制整数。
多接口主机有多个IP地址，其中每个接口都对应一个IP地址。由于互联网上的每个接口必须有一个唯一的IP地址，因此也需要一个管理机构接入互联网的网络分配IP地址，这个管理机构就是互联网网络信息中心（Internet Network Information Centre）,称作InterNIC，这个只分配网络号。主机号的分配由系统管理员来负责。
三类IP地址：单播地址（目前为单个主机）、广播地址（目的端为给定网络上的所有主机）以及多播地址（目的端为同一组内的所有主机）
二、域名系统 在TCP/IP领域中，领域系统（DNS）是一个分布的数据库，由它来提供IP地址和主机名之间的映射信息。
任何应用程序都可以用一个标准的库函数来查看给定名字的主机的IP地址，类似的，系统还提供一个你函数——给定主机的IP地址，查看它所对应的主机名。也可以把IP地址作为参数。
三、封装 当应用程序TCP传送数据的时候，数据会被送入协议栈中，到每一层都会被当作一串比特流送入网络。每一层收到的数据都要增加一些首部信息（也有的要加尾部信息）。TCP传输到IP的数据单元称作TCP报文段或者简称为TCP段，IP传送给网络接口层的数据单元称作IP数据报（IP datagram）。通过以太网传输的比特流称为帧。
数据进入协议栈的封装过程如下：
UDP数据与TCP数据基本一致，UDP传给IP的需不需大白天哑巴称作UDP数据报。首部长为8字节。
IP在生成的IP首部要加入标识表示数据属于哪一层。IP的首部中存入一个长度为8bit的数值称为协议域。1表示为ICMP协议,2表示为IGMP协议，6表示为TCP协议，17表示为UDP协议。
运输层协议在生成报文首部时也要存入一个应用程序的标识符。TCP和UDP都用一个16bit的端口号来表示不同的应用程序。TCP和UDP把源端口号和目的端口号分别存入报文首部中。
网络接口这里也必须在以太网帧的首部中加入某种形式的表示用来指明生成数据的网络层协议。以太网帧首部是一个16Bit的帧类型域。
四、分用 分用，就是当目的主机收到一个以太网数据帧时，数据就开始从协议栈中由底向上升，同时去掉各层协议加上的报文首部，每层协议和都要去检查报文首部中的协议表示，用来确定接收数据的上层协议。分用过程如下图：
五、端口号 服务器一般都是通过知名端口号来识别的，TCP/IP实现来说。FTP服务器的TCP端口号为21，Telnet服务器的TCP端口号为23，每个TFTP服务器的UDP的端口号为69。现在TCP/IP实现所提供的服务都用的知名的1-1023之间的端口号。
六、RFC 系列以编号排定的文件。文件收集了有关互联网相关信息，以及UNIX和互联网社区的软件文件。RFC文件是由Internet Society（ISOC）赞助发行。基本的互联网通信协议都有在RFC文件内详细说明。RFC文件还额外加入许多在标准内的论题，例如对于互联网新开发的协议及发展中所有的记录。因此几乎所有的互联网标准都有收录在RFC文件之中。
罗列一些重要的RFC文档：
1.赋值RFC（Assigned Numbers RFC）列出了所有internet协议中使用的数字和常数。
2.Internet正式协议标准，这个RFC描述了各种Internet协议的标准化现状。每种协议都处于下面几种标准化状态之一：标准、草案标准、提议标准、实验标准、信息标准和历史标准。
3.主机需求RFC。如果要查看有关协议更详细的细节内容，它们通常是一个入口点。它们列出了协议中关于“必须”、“应该”、“可以”、“不应该”或者“不能”等特性及其实现细节。
4.路由器需求RFC。它与主机需求RFC类似，但是只单独描述了路由器的需求。
七、标准的简单服务 当使用 TCP和UDP提供相同的服务时，一般选择相同的端口号。
可以发现端口号都是奇数，原因其实就是他们的前身就是NCP协议，NCP协议是单工的，于是每个应用程序需要两个连接，需要预留一对奇数和偶数的端口号，TCP和UDP成为标准的运输层协议时只用一个端口号就够了，于是就都用了奇数了。
八、互联网 internet意思是一个共同的协议族把多个网络连接在一起，而Internet是指的世界范围内通过TCP/IP互相通信的所有主机集合。Internet是一个internet，但internet不等于Internet。
九、实现 这个图列举了各种版本BDS并标注了重要的TCP/IP特性，左边为BSD网络版，其所有的网络源代码可以公开得到（包括协议本身以及许多应用程序和工具）
十、应用编程接口 使用TCP/IP协议的应用程序通常采用两种应用编程接口（API）：socket和TLI（运输层接口：Transport Layer Interface）。
总结 今天主要学习了TCP/IP协议族，介绍了许多术语和协议。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/f641c4a366fd95354bd5139c93dd6d11/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-07-14T14:04:46+08:00" />
<meta property="article:modified_time" content="2022-07-14T14:04:46+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">TCP/IP协议学习</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-dracula">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="TCPIP_0"></a>TCP/IP协议详细了解（一）</h2> 
<p>快速了解一下TCP/IP协议族</p> 
<hr> 
<p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#TCPIP_0" rel="nofollow">TCP/IP协议详细了解（一）</a></li><li><a href="#_11" rel="nofollow">前言</a></li><li><a href="#_42" rel="nofollow">一、互联网地址</a></li><li><a href="#_55" rel="nofollow">二、域名系统</a></li><li><a href="#_58" rel="nofollow">三、封装</a></li><li><a href="#_67" rel="nofollow">四、分用</a></li><li><a href="#_73" rel="nofollow">五、端口号</a></li><li><a href="#RFC_75" rel="nofollow">六、RFC</a></li><li><a href="#_82" rel="nofollow">七、标准的简单服务</a></li><li><a href="#_86" rel="nofollow">八、互联网</a></li><li><a href="#_88" rel="nofollow">九、实现</a></li><li><a href="#_91" rel="nofollow">十、应用编程接口</a></li><li><a href="#_93" rel="nofollow">总结</a></li></ul> 
</div> 
<p></p> 
<hr> 
<h2><a id="_11"></a>前言</h2> 
<p>TCP/IP协议（Transmission Control Protocol/Internet Protocol，传输控制协议/网际协议），是一组不同层次上的多个协议的组合，通常被认为是一个四层协议系统。如下图，网络协议通常分不同层次进行开发，每一层分别负责不同的通信功能。</p> 
<p><img src="https://images2.imgbox.com/37/43/dCLvoqFw_o.png" alt="TCP/IP协议族的四个层次"></p> 
<hr> 
<p>链路层：也叫数据链路层或者网络接口层，通常包括在操作系统的驱动程序或者计算机里对应的网络接口卡。主要负责处理传输媒介的物理接口细节。</p> 
<p>网络层：也称为互联网层，主要负责处理分组在网络中的活动。网络层协议包括IP协议（网际协议），ICMP协议（Internet互联网控制报文协议) ，ICMP协议（Internet组管理协议)</p> 
<p>运输层：主要负责为两台主机上的应用程序提供端到端的通信。这里有两个互不相同的传输协议TCP（传输控制协议）和UDP（用户数据报协议）</p> 
<p>应用层：主要负责处理特定的应用程序细节。通常实现会提供下面这些通用的应用程序：Telnet远程登陆、FTP文件传输协议，SMTP简单邮件传送协议、SNMP简单网络管理协议等其他应用程序。</p> 
<p>在TCP/IP协议组中有多少协议如下，不同层次的协议也是不同的。<br> <img src="https://images2.imgbox.com/d3/24/PVXoC4o5_o.png" alt="在这里插入图片描述"><br> 上面的提到的这些协议具体内容如下：<br> TCP和UDP：这是我学习中见过很多次的协议，这俩都是运输层协议，二者都是用IP做为网络协议。TCP使用不靠谱的IP服务，但却提供可靠的传输层服务。UDP为应用程序发送和接收数据，与TCP不同的是UDP非常不可靠，于是也就不能保证数据能安全无误的送到目的点。</p> 
<p>IP：网际互连协议，网络层主要协议，也被TCP和UDP使用。</p> 
<p>ICMP：IP协议的附属协议，IP层用来与其他主机或路由器交换错误报文和其他重要信息。</p> 
<p>IGMP：Internet组管理协议，它能将一个UDP数据报多播放到多个主机。</p> 
<p>ARP和RARP：ARP是地址解析协议RARP是逆地址解析协议，是某些网络接口使用的特殊协议，用来转换IP层和网络接口层使用的地址。</p> 
<h2><a id="_42"></a>一、互联网地址</h2> 
<p>互联网上的每个接口必须有一个唯一的Internet地址，也就是IP 地址。IP地址的长度通常为32bit，Internet地址不采用平面形式的地址空间，如下图所示，五类互联网地址格式。<br> <img src="https://images2.imgbox.com/0f/45/RPCrpu7e_o.png" alt="在这里插入图片描述"></p> 
<p>32位地址通常写成四个十进制的数，每个整数对应一个字节。各类IP地址的范围如下：<br> <img src="https://images2.imgbox.com/02/bf/eXnBxQk6_o.png" alt="在这里插入图片描述"><br> 可以知道区分各类地址最简单的方法就是直接看它的第一个十进制整数。<br> 多接口主机有多个IP地址，其中每个接口都对应一个IP地址。由于互联网上的每个接口必须有一个唯一的IP地址，因此也需要一个管理机构接入互联网的网络分配IP地址，这个管理机构就是互联网网络信息中心（Internet Network Information Centre）,称作InterNIC，这个只分配网络号。主机号的分配由系统管理员来负责。</p> 
<p>三类IP地址：单播地址（目前为单个主机）、广播地址（目的端为给定网络上的所有主机）以及多播地址（目的端为同一组内的所有主机）</p> 
<h2><a id="_55"></a>二、域名系统</h2> 
<p>在TCP/IP领域中，领域系统（DNS）是一个分布的数据库，由它来提供IP地址和主机名之间的映射信息。<br> 任何应用程序都可以用一个标准的库函数来查看给定名字的主机的IP地址，类似的，系统还提供一个你函数——给定主机的IP地址，查看它所对应的主机名。也可以把IP地址作为参数。</p> 
<h2><a id="_58"></a>三、封装</h2> 
<p>当应用程序TCP传送数据的时候，数据会被送入协议栈中，到每一层都会被当作一串比特流送入网络。每一层收到的数据都要增加一些首部信息（也有的要加尾部信息）。TCP传输到IP的数据单元称作TCP报文段或者简称为TCP段，IP传送给网络接口层的数据单元称作IP数据报（IP datagram）。通过以太网传输的比特流称为帧。<br> 数据进入协议栈的封装过程如下：<br> <img src="https://images2.imgbox.com/f4/6d/8WiUOMm7_o.png" alt="在这里插入图片描述"><br> UDP数据与TCP数据基本一致，UDP传给IP的需不需大白天哑巴称作UDP数据报。首部长为8字节。<br> IP在生成的IP首部要加入标识表示数据属于哪一层。IP的首部中存入一个长度为8bit的数值称为协议域。1表示为ICMP协议,2表示为IGMP协议，6表示为TCP协议，17表示为UDP协议。<br> 运输层协议在生成报文首部时也要存入一个应用程序的标识符。TCP和UDP都用一个16bit的端口号来表示不同的应用程序。TCP和UDP把源端口号和目的端口号分别存入报文首部中。<br> 网络接口这里也必须在以太网帧的首部中加入某种形式的表示用来指明生成数据的网络层协议。以太网帧首部是一个16Bit的帧类型域。</p> 
<h2><a id="_67"></a>四、分用</h2> 
<p>分用，就是当目的主机收到一个以太网数据帧时，数据就开始从协议栈中由底向上升，同时去掉各层协议加上的报文首部，每层协议和都要去检查报文首部中的协议表示，用来确定接收数据的上层协议。分用过程如下图：<br> <img src="https://images2.imgbox.com/5c/57/JXrhUWc1_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_73"></a>五、端口号</h2> 
<p>服务器一般都是通过知名端口号来识别的，TCP/IP实现来说。FTP服务器的TCP端口号为21，Telnet服务器的TCP端口号为23，每个TFTP服务器的UDP的端口号为69。现在TCP/IP实现所提供的服务都用的知名的1-1023之间的端口号。</p> 
<h2><a id="RFC_75"></a>六、RFC</h2> 
<p>系列以编号排定的文件。文件收集了有关互联网相关信息，以及UNIX和互联网社区的软件文件。RFC文件是由Internet Society（ISOC）赞助发行。基本的互联网通信协议都有在RFC文件内详细说明。RFC文件还额外加入许多在标准内的论题，例如对于互联网新开发的协议及发展中所有的记录。因此几乎所有的互联网标准都有收录在RFC文件之中。<br> 罗列一些重要的RFC文档：<br> 1.赋值RFC（Assigned Numbers RFC）列出了所有internet协议中使用的数字和常数。<br> 2.Internet正式协议标准，这个RFC描述了各种Internet协议的标准化现状。每种协议都处于下面几种标准化状态之一：标准、草案标准、提议标准、实验标准、信息标准和历史标准。<br> 3.主机需求RFC。如果要查看有关协议更详细的细节内容，它们通常是一个入口点。它们列出了协议中关于“必须”、“应该”、“可以”、“不应该”或者“不能”等特性及其实现细节。<br> 4.路由器需求RFC。它与主机需求RFC类似，但是只单独描述了路由器的需求。</p> 
<h2><a id="_82"></a>七、标准的简单服务</h2> 
<p>当使用 TCP和UDP提供相同的服务时，一般选择相同的端口号。<br> <img src="https://images2.imgbox.com/34/5e/K8ly4rmc_o.png" alt="在这里插入图片描述"><br> 可以发现端口号都是奇数，原因其实就是他们的前身就是NCP协议，NCP协议是单工的，于是每个应用程序需要两个连接，需要预留一对奇数和偶数的端口号，TCP和UDP成为标准的运输层协议时只用一个端口号就够了，于是就都用了奇数了。</p> 
<h2><a id="_86"></a>八、互联网</h2> 
<p>internet意思是一个共同的协议族把多个网络连接在一起，而Internet是指的世界范围内通过TCP/IP互相通信的所有主机集合。Internet是一个internet，但internet不等于Internet。</p> 
<h2><a id="_88"></a>九、实现</h2> 
<p><img src="https://images2.imgbox.com/98/9c/8sSmJosc_o.png" alt="在这里插入图片描述"><br> 这个图列举了各种版本BDS并标注了重要的TCP/IP特性，左边为BSD网络版，其所有的网络源代码可以公开得到（包括协议本身以及许多应用程序和工具）</p> 
<h2><a id="_91"></a>十、应用编程接口</h2> 
<p>使用TCP/IP协议的应用程序通常采用两种应用编程接口（API）：socket和TLI（运输层接口：Transport Layer Interface）。</p> 
<h2><a id="_93"></a>总结</h2> 
<p>今天主要学习了TCP/IP协议族，介绍了许多术语和协议。<br> TCP/IP协议族分为四层：链路层、网络层、运输层、应用层，每一层各有不同的责任。在TCP/IP中，网络层和运输层之间的区别是最为关键的：网络层（IP）提供点到点的服务，而运输层（TCP和UDP）提供端到端的服务。</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f4f8fff8b16a7dc77f620e8cb76885ef/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">pytorch之常用函数整理</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/f75cbd23101b2802bae47e3c9b1591e4/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">面试-Java【之】（revers）递归实现字符串倒序排列（详解）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>