<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>关于“Python”的核心知识点整理大全32 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="关于“Python”的核心知识点整理大全32" />
<meta property="og:description" content="目录
12.6.4 调整飞船的速度
settings.py
ship.py
alien_invasion.py
12.6.5 限制飞船的活动范围
ship.py
12.6.6 重构 check_events()
game_functions.py
12.7 简单回顾
12.7.1 alien_invasion.py
12.7.2 settings.py
12.7.3 game_functions.py
12.7.4 ship.py
12.8 射击
12.8.1 添加子弹设置
settings.py
12.8.2 创建 Bullet 类
bullet.py
bullet.py
关于“Python”的核心知识点整理大全12-CSDN博客
往期快速传送门👆（在文章最后）：
感谢大家的支持！欢迎订阅收藏！专栏将持续更新！
12.6.4 调整飞船的速度 当前，每次执行while循环时，飞船最多移动1像素，但我们可以在Settings类中添加属性 ship_speed_factor，用于控制飞船的速度。我们将根据这个属性决定飞船在每次循环时最多移动 多少距离。下面演示了如何在settings.py中添加这个新属性：
settings.py class Settings(): &#34;&#34;&#34;一个存储游戏《外星人入侵》的所有设置的类&#34;&#34;&#34; def __init__(self): --snip-- # 飞船的设置 self.ship_speed_factor = 1.5 我们将ship_speed_factor的初始值设置成了1.5。需要移动飞船时，我们将移动1.5像素而不 是1像素。 通过将速度设置指定为小数值，可在后面加快游戏的节奏时更细致地控制飞船的速度。然而， rect的centerx等属性只能存储整数值，因此我们需要对Ship类做些修改：
ship.py class Ship(): 1 def __init__(self, ai_settings, screen): &#34;&#34;&#34;初始化飞船并设置其初始位置&#34;&#34;&#34; self.screen = screen 2 self." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/31475a345174c44d390a594cf1e475c3/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-12-21T01:00:00+08:00" />
<meta property="article:modified_time" content="2023-12-21T01:00:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">关于“Python”的核心知识点整理大全32</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="12.6.4%20%E8%B0%83%E6%95%B4%E9%A3%9E%E8%88%B9%E7%9A%84%E9%80%9F%E5%BA%A6-toc" style="margin-left:40px;"><a href="#12.6.4%20%E8%B0%83%E6%95%B4%E9%A3%9E%E8%88%B9%E7%9A%84%E9%80%9F%E5%BA%A6" rel="nofollow">12.6.4 调整飞船的速度</a></p> 
<p id="settings.py-toc" style="margin-left:120px;"><a href="#settings.py" rel="nofollow">settings.py</a></p> 
<p id="ship.py-toc" style="margin-left:120px;"><a href="#ship.py" rel="nofollow">ship.py</a></p> 
<p id="alien_invasion.py-toc" style="margin-left:120px;"><a href="#alien_invasion.py" rel="nofollow">alien_invasion.py</a></p> 
<p id="12.6.5%20%E9%99%90%E5%88%B6%E9%A3%9E%E8%88%B9%E7%9A%84%E6%B4%BB%E5%8A%A8%E8%8C%83%E5%9B%B4-toc" style="margin-left:80px;"><a href="#12.6.5%20%E9%99%90%E5%88%B6%E9%A3%9E%E8%88%B9%E7%9A%84%E6%B4%BB%E5%8A%A8%E8%8C%83%E5%9B%B4" rel="nofollow">12.6.5 限制飞船的活动范围</a></p> 
<p id="ship.py-toc" style="margin-left:120px;"><a href="#ship.py" rel="nofollow">ship.py</a></p> 
<p id="12.6.6%20%E9%87%8D%E6%9E%84%20check_events()-toc" style="margin-left:80px;"><a href="#12.6.6%20%E9%87%8D%E6%9E%84%20check_events%28%29" rel="nofollow">12.6.6 重构 check_events()</a></p> 
<p id="game_functions.py-toc" style="margin-left:120px;"><a href="#game_functions.py" rel="nofollow">game_functions.py</a></p> 
<p id="12.7%20%E7%AE%80%E5%8D%95%E5%9B%9E%E9%A1%BE-toc" style="margin-left:40px;"><a href="#12.7%20%E7%AE%80%E5%8D%95%E5%9B%9E%E9%A1%BE" rel="nofollow">12.7 简单回顾</a></p> 
<p id="12.7.1%20alien_invasion.py-toc" style="margin-left:80px;"><a href="#12.7.1%20alien_invasion.py" rel="nofollow">12.7.1 alien_invasion.py</a></p> 
<p id="12.7.2%20settings.py-toc" style="margin-left:80px;"><a href="#12.7.2%20settings.py" rel="nofollow">12.7.2 settings.py</a></p> 
<p id="12.7.3%20game_functions.py-toc" style="margin-left:80px;"><a href="#12.7.3%20game_functions.py" rel="nofollow">12.7.3 game_functions.py</a></p> 
<p id="12.7.4%20ship.py-toc" style="margin-left:80px;"><a href="#12.7.4%20ship.py" rel="nofollow">12.7.4 ship.py</a></p> 
<p id="12.8%20%E5%B0%84%E5%87%BB-toc" style="margin-left:40px;"><a href="#12.8%20%E5%B0%84%E5%87%BB" rel="nofollow">12.8 射击</a></p> 
<p id="12.8.1%20%E6%B7%BB%E5%8A%A0%E5%AD%90%E5%BC%B9%E8%AE%BE%E7%BD%AE-toc" style="margin-left:80px;"><a href="#12.8.1%20%E6%B7%BB%E5%8A%A0%E5%AD%90%E5%BC%B9%E8%AE%BE%E7%BD%AE" rel="nofollow">12.8.1 添加子弹设置</a></p> 
<p id="settings.py-toc" style="margin-left:120px;"><a href="#settings.py" rel="nofollow">settings.py</a></p> 
<p id="12.8.2%20%E5%88%9B%E5%BB%BA%20Bullet%20%E7%B1%BB-toc" style="margin-left:80px;"><a href="#12.8.2%20%E5%88%9B%E5%BB%BA%20Bullet%20%E7%B1%BB" rel="nofollow">12.8.2 创建 Bullet 类</a></p> 
<p id="bullet.py-toc" style="margin-left:120px;"><a href="#bullet.py" rel="nofollow">bullet.py</a></p> 
<p id="bullet.py-toc" style="margin-left:120px;"><a href="#bullet.py" rel="nofollow">bullet.py</a></p> 
<p id="%E5%85%B3%E4%BA%8E%E2%80%9CPython%E2%80%9D%E7%9A%84%E6%A0%B8%E5%BF%83%E7%9F%A5%E8%AF%86%E7%82%B9%E6%95%B4%E7%90%86%E5%A4%A7%E5%85%A812-CSDN%E5%8D%9A%E5%AE%A2-toc" style="margin-left:0px;"><a href="#%E5%85%B3%E4%BA%8E%E2%80%9CPython%E2%80%9D%E7%9A%84%E6%A0%B8%E5%BF%83%E7%9F%A5%E8%AF%86%E7%82%B9%E6%95%B4%E7%90%86%E5%A4%A7%E5%85%A812-CSDN%E5%8D%9A%E5%AE%A2" rel="nofollow">关于“Python”的核心知识点整理大全12-CSDN博客</a></p> 
<p id="%E5%BE%80%E6%9C%9F%E5%BF%AB%E9%80%9F%E4%BC%A0%E9%80%81%E9%97%A8%F0%9F%91%86%EF%BC%88%E5%9C%A8%E6%96%87%E7%AB%A0%E6%9C%80%E5%90%8E%EF%BC%89%EF%BC%9A-toc" style="margin-left:0px;"><a href="#%E5%BE%80%E6%9C%9F%E5%BF%AB%E9%80%9F%E4%BC%A0%E9%80%81%E9%97%A8%F0%9F%91%86%EF%BC%88%E5%9C%A8%E6%96%87%E7%AB%A0%E6%9C%80%E5%90%8E%EF%BC%89%EF%BC%9A" rel="nofollow">往期快速传送门👆（在文章最后）：</a></p> 
<p id="%E6%84%9F%E8%B0%A2%E5%A4%A7%E5%AE%B6%E7%9A%84%E6%94%AF%E6%8C%81%EF%BC%81%E6%AC%A2%E8%BF%8E%E8%AE%A2%E9%98%85%E6%94%B6%E8%97%8F%EF%BC%81%E4%B8%93%E6%A0%8F%E5%B0%86%E6%8C%81%E7%BB%AD%E6%9B%B4%E6%96%B0%EF%BC%81-toc" style="margin-left:0px;"><a href="#%E6%84%9F%E8%B0%A2%E5%A4%A7%E5%AE%B6%E7%9A%84%E6%94%AF%E6%8C%81%EF%BC%81%E6%AC%A2%E8%BF%8E%E8%AE%A2%E9%98%85%E6%94%B6%E8%97%8F%EF%BC%81%E4%B8%93%E6%A0%8F%E5%B0%86%E6%8C%81%E7%BB%AD%E6%9B%B4%E6%96%B0%EF%BC%81" rel="nofollow">感谢大家的支持！欢迎订阅收藏！专栏将持续更新！</a></p> 
<hr id="hr-toc"> 
<p></p> 
<p style="text-align:center;"><img alt="" height="234" src="https://images2.imgbox.com/b0/c2/qCeiWE6x_o.png" width="373"></p> 
<h3 id="12.6.4%20%E8%B0%83%E6%95%B4%E9%A3%9E%E8%88%B9%E7%9A%84%E9%80%9F%E5%BA%A6" style="text-align:center;">12.6.4 调整飞船的速度</h3> 
<blockquote> 
 <p style="text-align:center;">当前，每次执行while循环时，飞船最多移动1像素，但我们可以在Settings类中添加属性 ship_speed_factor，用于控制飞船的速度。我们将根据这个属性决定飞船在每次循环时最多移动 多少距离。下面演示了如何在settings.py中添加这个新属性：</p> 
 <p style="text-align:center;"></p> 
 <h5 id="settings.py" style="text-align:center;">settings.py</h5> 
</blockquote> 
<pre><code class="language-python">class Settings():
 """一个存储游戏《外星人入侵》的所有设置的类"""
 def __init__(self):
 --snip--
 # 飞船的设置
 self.ship_speed_factor = 1.5 </code></pre> 
<blockquote> 
 <p style="text-align:center;">我们将ship_speed_factor的初始值设置成了1.5。需要移动飞船时，我们将移动1.5像素而不 是1像素。 通过将速度设置指定为小数值，可在后面加快游戏的节奏时更细致地控制飞船的速度。然而， rect的centerx等属性只能存储整数值，因此我们需要对Ship类做些修改：</p> 
 <p style="text-align:center;"></p> 
 <h5 id="ship.py" style="text-align:center;">ship.py</h5> 
</blockquote> 
<pre><code class="language-python">class Ship():
1 def __init__(self, ai_settings, screen):
 """初始化飞船并设置其初始位置"""
 self.screen = screen
2 self.ai_settings = ai_settings
 --snip--
 # 将每艘新飞船放在屏幕底部中央
 --snip--
 # 在飞船的属性center中存储小数值
3 self.center = float(self.rect.centerx)
# 移动标志
self.moving_right = False
self.moving_left = False
 def update(self):
 """根据移动标志调整飞船的位置"""
 # 更新飞船的center值，而不是rect
 if self.moving_right:
4 self.center += self.ai_settings.ship_speed_factor
 if self.moving_left:
 self.center -= self.ai_settings.ship_speed_factor
 # 根据self.center更新rect对象
5 self.rect.centerx = self.center
 def blitme(self):
 --snip-- </code></pre> 
<blockquote> 
 <p style="text-align:center;">在1处，我们在__init__()的形参列表中添加了ai_settings，让飞船能够获取其速度设置。 接下来，我们将形参ai_settings的值存储在一个属性中，以便能够在update()中使用它（见2）。 鉴于现在调整飞船的位置时，将增加或减去一个单位为像素的小数值，因此需要将位置存储在一 个能够存储小数值的变量中。可以使用小数来设置rect的属性，但rect将只存储这个值的整数部 分。为准确地存储飞船的位置，我们定义了一个可存储小数值的新属性self.center（见）。我 们使用函数float()将self.rect.centerx的值转换为小数，并将结果存储到self.center中。 现在在update()中调整飞船的位置时，将self.center的值增加或减去ai_settings.ship_ speed_factor的值（见3）。更新self.center后，我们再根据它来更新控制飞船位置的 self.rect.centerx（见4）。self.rect.centerx将只存储self.center的整数部分，但对显示飞船 而言，这问题不大。 在alien_invasion.py中创建Ship实例时，需要传入实参ai_settings：</p> 
 <p style="text-align:center;"></p> 
 <h5 id="alien_invasion.py" style="text-align:center;">alien_invasion.py</h5> 
</blockquote> 
<pre><code class="language-python">--snip--
def run_game():
 --snip--
 # 创建飞船
 ship = Ship(ai_settings, screen)
 --snip-- </code></pre> 
<blockquote> 
 <p style="text-align:center;">现在，只要ship_speed_factor的值大于1，飞船的移动速度就会比以前更快。这有助于让飞 船的反应速度足够快，能够将外星人射下来，还让我们能够随着游戏的进行加快游戏的节奏。</p> 
</blockquote> 
<h4 id="12.6.5%20%E9%99%90%E5%88%B6%E9%A3%9E%E8%88%B9%E7%9A%84%E6%B4%BB%E5%8A%A8%E8%8C%83%E5%9B%B4" style="text-align:center;">12.6.5 限制飞船的活动范围</h4> 
<blockquote> 
 <p style="text-align:center;">当前，如果玩家按住箭头键的时间足够长，飞船将移到屏幕外面，消失得无影无踪。下面来 修复这种问题，让飞船到达屏幕边缘后停止移动。为此，我们将修改Ship类的方法update()：</p> 
 <h5 style="text-align:center;">ship.py</h5> 
</blockquote> 
<pre><code class="language-python">def update(self):
 """根据移动标志调整飞船的位置"""
 # 更新飞船的center值，而不是rect
1 if self.moving_right and self.rect.right &lt; self.screen_rect.right:
 self.center += self.ai_settings.ship_speed_factor
2 if self.moving_left and self.rect.left &gt; 0:
 self.center -= self.ai_settings.ship_speed_factor
 # 根据self.center更新rect对象
 self.rect.centerx = self.center</code></pre> 
<blockquote> 
 <p style="text-align:center;">上述代码在修改self.center的值之前检查飞船的位置。self.rect.right返回飞船外接矩形 的右边缘的x坐标，如果这个值小于self.screen_rect.right的值，就说明飞船未触及屏幕右边缘 （见1）。左边缘的情况与此类似：如果rect的左边缘的x坐标大于零，就说明飞船未触及屏幕左 边缘（见2）。这确保仅当飞船在屏幕内时，才调整self.center的值。 如果此时运行alien_invasion.py，飞船将在触及屏幕左边缘或右边缘后停止移动。</p> 
</blockquote> 
<h4 id="12.6.6%20%E9%87%8D%E6%9E%84%20check_events()" style="text-align:center;">12.6.6 重构 check_events()</h4> 
<blockquote> 
 <p style="text-align:center;">随着游戏开发的进行，函数check_events()将越来越长，我们将其部分代码放在两个函数中： 一个处理KEYDOWN事件，另一个处理KEYUP事件：</p> 
 <p style="text-align:center;"></p> 
 <h5 id="game_functions.py" style="text-align:center;">game_functions.py</h5> 
</blockquote> 
<pre><code class="language-python">def check_keydown_events(event, ship):
 """响应按键"""
 if event.key == pygame.K_RIGHT:
 ship.moving_right = True
 elif event.key == pygame.K_LEFT:
 ship.moving_left = True
def check_keyup_events(event, ship):
 """响应松开"""
 if event.key == pygame.K_RIGHT:
 ship.moving_right = False
 elif event.key == pygame.K_LEFT:
 ship.moving_left = False
def check_events(ship):
 """响应按键和鼠标事件"""
 for event in pygame.event.get():
 if event.type == pygame.QUIT:
 sys.exit()
 elif event.type == pygame.KEYDOWN:
 check_keydown_events(event, ship)
 elif event.type == pygame.KEYUP:
 check_keyup_events(event, ship) </code></pre> 
<blockquote> 
 <p style="text-align:center;">我们创建了两个新函数：check_keydown_events()和check_keyup_events()，它们都包含形参 event和ship。这两个函数的代码是从check_events()中复制而来的，因此我们将函数check_events 中相应的代码替换成了对这两个函数的调用。现在，函数check_events()更简单，代码结构更清 晰。这样，在其中响应其他玩家输入时将更容易。</p> 
</blockquote> 
<h3 id="12.7%20%E7%AE%80%E5%8D%95%E5%9B%9E%E9%A1%BE" style="text-align:center;">12.7 简单回顾</h3> 
<blockquote> 
 <p style="text-align:center;">下一节将添加射击功能，这需要新增一个名为bullet.py的文件，并对一些既有文件进行修改。 当前，我们有四个文件，其中包含很多类、函数和方法。添加其他功能之前，为让你清楚这个项 目的组织结构，先来回顾一下这些文件。</p> 
</blockquote> 
<h4 id="12.7.1%20alien_invasion.py" style="text-align:center;">12.7.1 alien_invasion.py</h4> 
<blockquote> 
 <p style="text-align:center;">主文件alien_invasion.py创建一系列整个游戏都要用到的对象：存储在ai_settings中的设置、 存储在screen中的主显示surface以及一个飞船实例。文件alien_invasion.py还包含游戏的主循环， 这是一个调用check_events()、ship.update()和update_screen()的while循环。 要 玩 游 戏 《 外 星 人 入 侵 》， 只 需 运 行 文 件alien_invasion.py。其他文件（settings.py、 game_functions.py、ship.py）包含的代码被直接或间接地导入到这个文件中。</p> 
</blockquote> 
<h4 id="12.7.2%20settings.py" style="text-align:center;">12.7.2 settings.py</h4> 
<blockquote> 
 <p style="text-align:center;">文件settings.py包含Settings类，这个类只包含方法__init__()，它初始化控制游戏外观和飞 船速度的属性。</p> 
</blockquote> 
<h4 id="12.7.3%20game_functions.py" style="text-align:center;">12.7.3 game_functions.py</h4> 
<blockquote> 
 <p style="text-align:center;">文件game_functions.py包含一系列函数，游戏的大部分工作都是由它们完成的。函数 check_events()检测相关的事件，如按键和松开，并使用辅助函数check_keydown_events()和 check_keyup_events()来处理这些事件。就目前而言，这些函数管理飞船的移动。模块 game_functions还包含函数update_screen()，它用于在每次执行主循环时都重绘屏幕。</p> 
</blockquote> 
<h4 id="12.7.4%20ship.py" style="text-align:center;">12.7.4 ship.py</h4> 
<blockquote> 
 <p style="text-align:center;">文件ship.py包含Ship类，这个类包含方法__init__()、管理飞船位置的方法update()以及在 屏幕上绘制飞船的方法blitme()。表示飞船的图像存储在文件夹images下的文件ship.bmp中。</p> 
</blockquote> 
<h3 id="12.8%20%E5%B0%84%E5%87%BB" style="text-align:center;">12.8 射击</h3> 
<blockquote> 
 <p style="text-align:center;">下面来添加射击功能。我们将编写玩家按空格键时发射子弹（小矩形）的代码。子弹将在屏 幕中向上穿行，抵达屏幕上边缘后消失。</p> 
</blockquote> 
<h4 id="12.8.1%20%E6%B7%BB%E5%8A%A0%E5%AD%90%E5%BC%B9%E8%AE%BE%E7%BD%AE" style="text-align:center;">12.8.1 添加子弹设置</h4> 
<blockquote> 
 <p style="text-align:center;">首先，更新settings.py，在其方法__init__()末尾存储新类Bullet所需的值：</p> 
 <p style="text-align:center;"></p> 
 <h5 style="text-align:center;">settings.py</h5> 
</blockquote> 
<pre><code class="language-python"> def __init__(self):
 --snip--
 # 子弹设置
 self.bullet_speed_factor = 1
 self.bullet_width = 3
 self.bullet_height = 15
 self.bullet_color = 60, 60, 60</code></pre> 
<blockquote> 
 <p style="text-align:center;">这些设置创建宽3像素、高15像素的深灰色子弹。子弹的速度比飞船稍低。</p> 
</blockquote> 
<h4 id="12.8.2%20%E5%88%9B%E5%BB%BA%20Bullet%20%E7%B1%BB" style="text-align:center;">12.8.2 创建 Bullet 类</h4> 
<blockquote> 
 <p style="text-align:center;">下面来创建存储Bullet类的文件bullet.py，其前半部分如下：</p> 
 <p style="text-align:center;"></p> 
 <h5 id="bullet.py" style="text-align:center;">bullet.py</h5> 
</blockquote> 
<pre><code class="language-python">import pygame
from pygame.sprite import Sprite
class Bullet(Sprite):
 """一个对飞船发射的子弹进行管理的类"""
 def __init__(self, ai_settings, screen, ship):
 """在飞船所处的位置创建一个子弹对象"""
 super(Bullet, self).__init__()
 self.screen = screen
 # 在(0,0)处创建一个表示子弹的矩形，再设置正确的位置
1 self.rect = pygame.Rect(0, 0, ai_settings.bullet_width,
 ai_settings.bullet_height)
2 self.rect.centerx = ship.rect.centerx
3 self.rect.top = ship.rect.top 
 #存储用小数表示的子弹位置
4 self.y = float(self.rect.y)
5 self.color = ai_settings.bullet_color
 self.speed_factor = ai_settings.bullet_speed_factor</code></pre> 
<blockquote> 
 <p style="text-align:center;">Bullet类继承了我们从模块pygame.sprite中导入的Sprite类。通过使用精灵，可将游戏中相 关的元素编组，进而同时操作编组中的所有元素。为创建子弹实例，需要向__init__()传递 ai_settings、screen和ship实例，还调用了super()来继承Sprite。</p> 
</blockquote> 
<hr> 
<p style="text-align:center;">注意 代码super(Bullet, self).__init__()使用了Python 2.7语法。这种语法也适用于Python 3， 但你也可以将这行代码简写为super().__init__()。</p> 
<hr> 
<blockquote> 
 <p style="text-align:center;">在1处，我们创建了子弹的属性rect。子弹并非基于图像的，因此我们必须使用pygame.Rect() 类从空白开始创建一个矩形。创建这个类的实例时，必须提供矩形左上角的x坐标和y坐标，还有 矩形的宽度和高度。我们在(0, 0)处创建这个矩形，但接下来的两行代码将其移到了正确的位置， 因为子弹的初始位置取决于飞船当前的位置。子弹的宽度和高度是从ai_settings中获取的。</p> 
 <p style="text-align:center;">在2处，我们将子弹的centerx设置为飞船的rect.centerx。子弹应从飞船顶部射出，因此我 们将表示子弹的rect的top属性设置为飞船的rect的top属性，让子弹看起来像是从飞船中射出的 （见3）。 我们将子弹的y坐标存储为小数值，以便能够微调子弹的速度（见4）。在5处，我们将子弹 的颜色和速度设置分别存储到self.color和self.speed_factor中。 下面是bullet.py的第二部分——方法update()和draw_bullet()：</p> 
 <p style="text-align:center;"></p> 
 <h5 style="text-align:center;">bullet.py</h5> 
</blockquote> 
<pre><code class="language-python">def update(self):
 """向上移动子弹"""
 #更新表示子弹位置的小数值
1 self.y -= self.speed_factor
 #更新表示子弹的rect的位置
2 self.rect.y = self.y
 def draw_bullet(self):
 """在屏幕上绘制子弹"""
3 pygame.draw.rect(self.screen, self.color, self.rect) </code></pre> 
<blockquote> 
 <p style="text-align:center;">方法update()管理子弹的位置。发射出去后，子弹在屏幕中向上移动，这意味着y坐标将不 断减小，因此为更新子弹的位置，我们从self.y中减去self.speed_factor的值（见1）。接下来， 我们将self.rect.y设置为self.y的值（见2）。属性speed_factor让我们能够随着游戏的进行或根 据需要提高子弹的速度，以调整游戏的行为。子弹发射后，其x坐标始终不变，因此子弹将沿直 线垂直地往上穿行。需要绘制子弹时，我们调用draw_bullet()。函数draw.rect()使用存储在self.color中的颜色 填充表示子弹的rect占据的屏幕部分（见3）。</p> 
</blockquote> 
<p style="text-align:center;"></p> 
<hr> 
<p style="text-align:center;"><a href="https://blog.csdn.net/lzy302810/article/details/135043856?spm=1001.2014.3001.5501" title="关于“Python”的核心知识点整理大全25-CSDN博客"></a></p> 
<h2 id="%E5%85%B3%E4%BA%8E%E2%80%9CPython%E2%80%9D%E7%9A%84%E6%A0%B8%E5%BF%83%E7%9F%A5%E8%AF%86%E7%82%B9%E6%95%B4%E7%90%86%E5%A4%A7%E5%85%A812-CSDN%E5%8D%9A%E5%AE%A2" style="text-align:center;"><a href="https://blog.csdn.net/lzy302810/article/details/134917938?spm=1001.2014.3001.5501" title="关于“Python”的核心知识点整理大全12-CSDN博客">关于“Python”的核心知识点整理大全12-CSDN博客</a></h2> 
<h2 id="%E5%BE%80%E6%9C%9F%E5%BF%AB%E9%80%9F%E4%BC%A0%E9%80%81%E9%97%A8%F0%9F%91%86%EF%BC%88%E5%9C%A8%E6%96%87%E7%AB%A0%E6%9C%80%E5%90%8E%EF%BC%89%EF%BC%9A" style="text-align:center;"><strong>往期快速传送门👆（在文章最后）：</strong></h2> 
<h2 id="%E6%84%9F%E8%B0%A2%E5%A4%A7%E5%AE%B6%E7%9A%84%E6%94%AF%E6%8C%81%EF%BC%81%E6%AC%A2%E8%BF%8E%E8%AE%A2%E9%98%85%E6%94%B6%E8%97%8F%EF%BC%81%E4%B8%93%E6%A0%8F%E5%B0%86%E6%8C%81%E7%BB%AD%E6%9B%B4%E6%96%B0%EF%BC%81" style="text-align:center;"><a name="t9"></a><a name="t16"></a><strong><a name="t8"></a><a name="t10"></a><a name="t13"></a><a name="t11"></a>感谢大家的支持！欢迎订阅收藏！专栏将持续更新！</strong></h2> 
<hr> 
<p></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/67c2bb1232cdecd2faa96fd6780945ad/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【C&#43;&#43;题目速刷】二分查找</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a499bd7d6aa1381202e0012bb34e9752/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">帝国cms问题</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>