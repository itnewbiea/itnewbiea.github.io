<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>java调用selenium_Java调用Selenium WebDriver在Firefox下测试示例 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="java调用selenium_Java调用Selenium WebDriver在Firefox下测试示例" />
<meta property="og:description" content="本文使用Java的Selenium WebDriver来做一个简单的测试示例，主要介绍如何调用Firefox浏览器测试。
步骤
Step 1：下载Selenium WebDriver
去 Selenium官网 下载最新版本的Java client，我这里下载的最新版本是3.1.0，下载的是一个压缩包，解压缩以后里面包括一个lib目录以及一个client-combined-3.1.0-nodeps.jar，后面都需要引入。
也可以通过maven在项目中直接引入，而不用下载：
org.seleniumhq.selenium
selenium-java
3.1.0
Step 2 ：下载geckodriver
去 mozilla/geckodriver 中下载最新的release版本的geckodriver，我这里下载的是v0.14.0，我暂时将其放到跟selenium-java-3.1.0的相同目录，如下图：
Step 3：编写java代码测试
新建Java工程，引入client-combined-3.1.0-nodeps.jar及其lib文件夹下的所有依赖jar，编写相应的java代码，目录结构及代码如下：
FirefoxUtils.java源码如下：
package utils;
import java.io.File;
import org.openqa.selenium.firefox.FirefoxBinary;
import org.openqa.selenium.firefox.FirefoxDriver;
import org.openqa.selenium.firefox.FirefoxProfile;
/**
* Firefox工具类
*
* @author dehua.ye
*
*/
public class FirefoxUtils {
/**
* 设置Firefox路径，返回FirefoxDriver
*
* @param path
* Firefox路径
* @return FirefoxDriver
*/
public static FirefoxDriver getFirefoxDriver(String path) {
File pathToBinary = new File(path);" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/832d98a9e634625dbca524e2d6f46710/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-02-19T05:26:11+08:00" />
<meta property="article:modified_time" content="2021-02-19T05:26:11+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">java调用selenium_Java调用Selenium WebDriver在Firefox下测试示例</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div style="font-size:16px;"> 
 <p>本文使用Java的Selenium WebDriver来做一个简单的测试示例，主要介绍如何调用Firefox浏览器测试。</p> 
 <p>步骤</p> 
 <p>Step 1：下载Selenium WebDriver</p> 
 <p>去 Selenium官网 下载最新版本的Java client，我这里下载的最新版本是3.1.0，下载的是一个压缩包，解压缩以后里面包括一个lib目录以及一个client-combined-3.1.0-nodeps.jar，后面都需要引入。</p> 
 <p>也可以通过maven在项目中直接引入，而不用下载：</p> 
 <p>org.seleniumhq.selenium</p> 
 <p>selenium-java</p> 
 <p>3.1.0</p> 
 <p>Step 2 ：下载geckodriver</p> 
 <p>去 mozilla/geckodriver 中下载最新的release版本的geckodriver，我这里下载的是v0.14.0，我暂时将其放到跟selenium-java-3.1.0的相同目录，如下图：</p> 
 <p align="center"><img src="https://images2.imgbox.com/5a/4c/GFKGYOOH_o.png" alt="2fb7edda57e8dfcdf23fa43193574449.png"></p> 
 <p>Step 3：编写java代码测试</p> 
 <p>新建Java工程，引入client-combined-3.1.0-nodeps.jar及其lib文件夹下的所有依赖jar，编写相应的java代码，目录结构及代码如下：</p> 
 <p align="center"><img src="https://images2.imgbox.com/8d/ea/Pug0PE9U_o.png" alt="3135f599f8d373a9968ed3b9e1fef157.png"></p> 
 <p>FirefoxUtils.java源码如下：</p> 
 <p>package utils;</p> 
 <p>import java.io.File;</p> 
 <p>import org.openqa.selenium.firefox.FirefoxBinary;</p> 
 <p>import org.openqa.selenium.firefox.FirefoxDriver;</p> 
 <p>import org.openqa.selenium.firefox.FirefoxProfile;</p> 
 <p>/**</p> 
 <p>* Firefox工具类</p> 
 <p>*</p> 
 <p>* @author dehua.ye</p> 
 <p>*</p> 
 <p>*/</p> 
 <p>public class FirefoxUtils {<!-- --></p> 
 <p>/**</p> 
 <p>* 设置Firefox路径，返回FirefoxDriver</p> 
 <p>*</p> 
 <p>* @param path</p> 
 <p>* Firefox路径</p> 
 <p>* @return FirefoxDriver</p> 
 <p>*/</p> 
 <p>public static FirefoxDriver getFirefoxDriver(String path) {<!-- --></p> 
 <p>File pathToBinary = new File(path);</p> 
 <p>FirefoxBinary firefoxBinary = new FirefoxBinary(pathToBinary);</p> 
 <p>FirefoxProfile firefoxProfile = new FirefoxProfile();</p> 
 <p>System.setProperty("webdriver.gecko.driver", "E:\\资源\\selenium-java-3.1.0\\geckodriver.exe");</p> 
 <p>return new FirefoxDriver(firefoxBinary, firefoxProfile);</p> 
 <p>}</p> 
 <p>/**</p> 
 <p>* 设置默认Firefox路径，返回FirefoxDriver</p> 
 <p>*</p> 
 <p>* @return FirefoxDriver</p> 
 <p>*/</p> 
 <p>public static FirefoxDriver getFirefoxDriver() {<!-- --></p> 
 <p>return FirefoxUtils.getFirefoxDriver("D:\\Program Files (x86)\\Mozilla Firefox\\firefox.exe");</p> 
 <p>}</p> 
 <p>}</p> 
 <p>TestFirefoxDriver源码如下：</p> 
 <p>package test;</p> 
 <p>import org.openqa.selenium.WebDriver;</p> 
 <p>import utils.FirefoxUtils;</p> 
 <p>/**</p> 
 <p>*</p> 
 <p>* @author dehua.ye</p> 
 <p>*</p> 
 <p>*/</p> 
 <p>public class TestFirefoxDriver {<!-- --></p> 
 <p>public static void main(String[] args) {<!-- --></p> 
 <p>WebDriver driver = FirefoxUtils.getFirefoxDriver();</p> 
 <p>driver.get("https://www.baidu.com");</p> 
 <p>String url = driver.getCurrentUrl();</p> 
 <p>System.out.println(url);</p> 
 <p>driver.close();</p> 
 <p>}</p> 
 <p>}</p> 
 <p>Step 4：开始测试</p> 
 <p>运行main方法测试，如果能正常打开Firefox浏览器，并且访问百度官网，同时console中输出了百度网址，则成功。</p> 
 <p align="center"><img src="https://images2.imgbox.com/4d/2b/LqEI3ykM_o.png" alt="e64e5873314a5a20c85ad055fb759f12.png"></p> 
 <p>注意</p> 
 <p>(1)指定firefox安装路径</p> 
 <p>FirefoxDriver类提供了好几种构造方法，如果不指定任何参数，那么会在默认的路径中去寻找firefox，如果没有找到则会报错： org.openqa.selenium.WebDriverException: Cannot find firefox binary in PATH. Make sure firefox is installed. 由于我的windows7系统在安装firefox时更换安装路径为D盘，所以我这里指定了firefox路径： D:\Program Files (x86)\Mozilla Firefox\firefox.exe</p> 
 <p>(2)指定geckodriver</p> 
 <p>如果没有配置geckodriver，那么会报错： java.lang.IllegalStateException: The path to the driver executable must be set by the webdriver.gecko.driver system property; for more information, see https://github.com/mozilla/geckodriver. The latest version can be downloaded from https://github.com/mozilla/geckodriver/releases</p> 
 <p>所以，这里我先下载了最新版的geckodriver，然后在java代码中设置了 webdriver.gecko.driver 。</p> 
 <p>参考资料</p> 
</div>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/bee8926707604d90650f2921b443a96a/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">SQL语句统计排行前10</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/8e07aaac5e804adb4c2cdf4bf89132fc/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">openocd目录,OpenOCD一次调试多个设备</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>