<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Unity的UI框架 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Unity的UI框架" />
<meta property="og:description" content="UI框架 UI框架的含义 含义：UI框架用于管理场景中所有的面板，负责控制面板之间的跳转
UI框架的意义 1、随着游戏系统的复杂化，UI控件越来越多，各个UI之间的直接通讯，已经UI与GameObject之间的关系会越来越复杂
2、代码耦合性会很强
UI框架的实例 1、框架面板的设计 MainMenuPanel：主菜单面板
BagPanel：背包面板
ItemMessagePanel：物品信息面板
ShopPanel：商城面板
SkillPanel：技能面板
SystemPanel：系统面板
TaskPanel：技能面板
我们将设计好的面板做成预制体，放在Resources的目录下。
2、Json数据的读取 UIPanelInfo.json
{ &#34;infoList&#34;: [ { &#34;panelTypeString&#34;: &#34;ItemMessage&#34;, &#34;path&#34;: &#34;UIPanel/ItemMessagePanel&#34; }, { &#34;panelTypeString&#34;: &#34;BagPanel&#34;, &#34;path&#34;: &#34;UIPanel/BagPanel&#34; }, { &#34;panelTypeString&#34;: &#34;MainMenu&#34;, &#34;path&#34;: &#34;UIPanel/MainMenuPanel&#34; }, { &#34;panelTypeString&#34;: &#34;Shop&#34;, &#34;path&#34;: &#34;UIPanel/ShopPanel&#34; }, { &#34;panelTypeString&#34;: &#34;Skill&#34;, &#34;path&#34;: &#34;UIPanel/SkillPanel&#34; }, { &#34;panelTypeString&#34;: &#34;System&#34;, &#34;path&#34;: &#34;UIPanel/SystemPanel&#34; }, { &#34;panelTypeString&#34;: &#34;Task&#34;, &#34;path&#34;: &#34;UIPanel/TaskPanel&#34; } ] } 将所有信息作为一个infolist类的对象 UIPanelType
public enum UIPanelType { BagPanel, ItemMessage, MainMenu, Shop, Skill, System, Task, } UIManager" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/99e5e54422a237cf9f7fe31c335c59f2/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-10-03T11:32:15+08:00" />
<meta property="article:modified_time" content="2022-10-03T11:32:15+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Unity的UI框架</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="UI_0"></a>UI框架</h2> 
<h3><a id="UI_1"></a>UI框架的含义</h3> 
<p>含义：UI框架用于管理场景中所有的面板，负责控制面板之间的跳转</p> 
<h3><a id="UI_3"></a>UI框架的意义</h3> 
<p>1、随着游戏系统的复杂化，UI控件越来越多，各个UI之间的直接通讯，已经UI与GameObject之间的关系会越来越复杂<br> 2、代码耦合性会很强</p> 
<h3><a id="UI_10"></a>UI框架的实例</h3> 
<h3><a id="1_11"></a>1、框架面板的设计</h3> 
<p>MainMenuPanel：主菜单面板<br> BagPanel：背包面板<br> ItemMessagePanel：物品信息面板<br> ShopPanel：商城面板<br> SkillPanel：技能面板<br> SystemPanel：系统面板<br> TaskPanel：技能面板</p> 
<p><img src="https://images2.imgbox.com/ff/80/P2h21dS4_o.png" alt="在这里插入图片描述"><br> 我们将设计好的面板做成<strong>预制体</strong>，放在Resources的目录下。</p> 
<h3><a id="2Json_23"></a>2、Json数据的读取</h3> 
<p>UIPanelInfo.json</p> 
<pre><code class="prism language-csharp"><span class="token punctuation">{<!-- --></span>
  <span class="token string">"infoList"</span><span class="token punctuation">:</span>
  <span class="token punctuation">[</span>

    <span class="token punctuation">{<!-- --></span>
      <span class="token string">"panelTypeString"</span><span class="token punctuation">:</span> <span class="token string">"ItemMessage"</span><span class="token punctuation">,</span>
      <span class="token string">"path"</span><span class="token punctuation">:</span> <span class="token string">"UIPanel/ItemMessagePanel"</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token punctuation">{<!-- --></span>
      <span class="token string">"panelTypeString"</span><span class="token punctuation">:</span> <span class="token string">"BagPanel"</span><span class="token punctuation">,</span>
      <span class="token string">"path"</span><span class="token punctuation">:</span> <span class="token string">"UIPanel/BagPanel"</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token punctuation">{<!-- --></span>
      <span class="token string">"panelTypeString"</span><span class="token punctuation">:</span> <span class="token string">"MainMenu"</span><span class="token punctuation">,</span>
      <span class="token string">"path"</span><span class="token punctuation">:</span> <span class="token string">"UIPanel/MainMenuPanel"</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token punctuation">{<!-- --></span>
      <span class="token string">"panelTypeString"</span><span class="token punctuation">:</span> <span class="token string">"Shop"</span><span class="token punctuation">,</span>
      <span class="token string">"path"</span><span class="token punctuation">:</span> <span class="token string">"UIPanel/ShopPanel"</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token punctuation">{<!-- --></span>
      <span class="token string">"panelTypeString"</span><span class="token punctuation">:</span> <span class="token string">"Skill"</span><span class="token punctuation">,</span>
      <span class="token string">"path"</span><span class="token punctuation">:</span> <span class="token string">"UIPanel/SkillPanel"</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token punctuation">{<!-- --></span>
      <span class="token string">"panelTypeString"</span><span class="token punctuation">:</span> <span class="token string">"System"</span><span class="token punctuation">,</span>
      <span class="token string">"path"</span><span class="token punctuation">:</span> <span class="token string">"UIPanel/SystemPanel"</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span>
      <span class="token string">"panelTypeString"</span><span class="token punctuation">:</span> <span class="token string">"Task"</span><span class="token punctuation">,</span>
      <span class="token string">"path"</span><span class="token punctuation">:</span> <span class="token string">"UIPanel/TaskPanel"</span>
    <span class="token punctuation">}</span>

  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
将所有信息作为一个infolist类的对象
</code></pre> 
<p>UIPanelType</p> 
<pre><code class="prism language-csharp"><span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">UIPanelType</span> 
<span class="token punctuation">{<!-- --></span>
    BagPanel<span class="token punctuation">,</span>
    ItemMessage<span class="token punctuation">,</span>
    MainMenu<span class="token punctuation">,</span>
    Shop<span class="token punctuation">,</span>
    Skill<span class="token punctuation">,</span>
    System<span class="token punctuation">,</span>
    Task<span class="token punctuation">,</span>
<span class="token punctuation">}</span>

</code></pre> 
<p>UIManager</p> 
<pre><code class="prism language-csharp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UIManager</span> 
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> <span class="token class-name">Dictionary<span class="token punctuation">&lt;</span>UIPanelType<span class="token punctuation">,</span> <span class="token keyword">string</span><span class="token punctuation">&gt;</span></span> panelPathDicr<span class="token punctuation">;</span><span class="token comment">//存储所有面板Prefab的路径，UIPanelType类型，string用于存储路径</span>

    <span class="token keyword">private</span> <span class="token function">UIManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token function">ParseUIPanelTypeJson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//调用ParseUIPanelTypeJson方法解析Json文件</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//单例化</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">UIManager</span> instance<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token return-type class-name">UIManager</span> <span class="token function">GetInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>instance <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">UIManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> instance<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Serializable</span></span><span class="token punctuation">]</span>
    <span class="token keyword">class</span> <span class="token class-name">UIPanelTypeJson</span><span class="token comment">//将Json文件视作一个整体，直接将其转换为List&lt;UIPanelInfo&gt;</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">public</span> <span class="token class-name">List<span class="token punctuation">&lt;</span>UIPanelInfo<span class="token punctuation">&gt;</span></span> infoList<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>



    <span class="token comment">//解析Json文件</span>
    <span class="token keyword">private</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">ParseUIPanelTypeJson</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        panelPathDicr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Dictionary<span class="token punctuation">&lt;</span>UIPanelType<span class="token punctuation">,</span> <span class="token keyword">string</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//生成一个字典</span>
        <span class="token class-name">TextAsset</span> ta <span class="token operator">=</span> Resources<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Load</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>TextAsset<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">"UIPanelType"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//加载Json文件中的UIPanelType信息</span>

       <span class="token class-name">UIPanelTypeJson</span> jsonObject <span class="token operator">=</span> JsonUtility<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">FromJson</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>UIPanelTypeJson<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>ta<span class="token punctuation">.</span>text<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//JsonUtility——工具类，将Json中的文件解析为对象，ta.text就是JSON信息，将JSON信息转换为UIPanelTypeJson类</span>

        <span class="token comment">//总的意思就是将JSON文件转换为UIPanelTypeJson类，而UIPanelTypeJson类中则是List&lt;UIPanelInfo&gt;,并其字段infoList对应JSON文件的类名</span>

        <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token class-name">UIPanelInfo</span> info <span class="token keyword">in</span> jsonObject<span class="token punctuation">.</span>infoList<span class="token punctuation">)</span><span class="token comment">//遍历UIPanelInfo的数组</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token comment">//Debug.Log(info.panelType);</span>
            panelPathDicr<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>info<span class="token punctuation">.</span>panelType<span class="token punctuation">,</span> info<span class="token punctuation">.</span>path<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//这里的info相对于生成一个jsonObject.infoList，因此info就是数组中的一个元素。</span>
            <span class="token comment">//将对象加入到字典当中去</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">//测试</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token class-name"><span class="token keyword">string</span></span> path<span class="token punctuation">;</span>
        panelPathDicr<span class="token punctuation">.</span><span class="token function">TryGetValue</span><span class="token punctuation">(</span>UIPanelType<span class="token punctuation">.</span>Shop<span class="token punctuation">,</span> <span class="token keyword">out</span> path<span class="token punctuation">)</span><span class="token punctuation">;</span>
        Debug<span class="token punctuation">.</span><span class="token function">Log</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<p>UIPanelInfo</p> 
<pre><code class="prism language-csharp"><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Serializable</span></span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UIPanelInfo</span><span class="token punctuation">:</span><span class="token type-list"><span class="token class-name">ISerializationCallbackReceiver</span></span>
    
    <span class="token comment">//将UIPanelInfo进行序列化，[Serializable]标签就是运行下面字段可进行读盘和写盘，负责与Json文件向对应，读取Json的文件，传递数据，可以避免直接修改Json文件</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">NonSerialized</span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token class-name">UIPanelType</span> panelType<span class="token punctuation">;</span><span class="token comment">//记录Json文件中的panelType对象</span>

    <span class="token comment">//由于无法直接解析UIPanelType，所有使用string来接受Json数据</span>
    <span class="token keyword">public</span> <span class="token class-name"><span class="token keyword">string</span></span> panelTypeString<span class="token punctuation">;</span>
        
    <span class="token comment">//{第一种方式转换方式。</span>
    <span class="token comment">//    get</span>
    <span class="token comment">//    {<!-- --></span>
    <span class="token comment">//        return panelType.ToString();</span>
    <span class="token comment">//    }</span>
    <span class="token comment">//    set </span>
    <span class="token comment">//    {<!-- --></span>
    <span class="token comment">//      UIPanelType type = (UIPanelType)System.Enum.Parse(typeof(UIPanelType), value);</span>
    <span class="token comment">//        panelType = type;</span>
    <span class="token comment">//    }</span>
    <span class="token comment">//}</span>
    <span class="token keyword">public</span> <span class="token class-name"><span class="token keyword">string</span></span> path<span class="token punctuation">;</span><span class="token comment">//记录path的路径字段</span>


    <span class="token comment">//反序列化 从文本信息到对象</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnAfterDeserialize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">//每次反序列化后就会调用</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">UIPanelType</span> type <span class="token operator">=</span> <span class="token punctuation">(</span>UIPanelType<span class="token punctuation">)</span>System<span class="token punctuation">.</span>Enum<span class="token punctuation">.</span><span class="token function">Parse</span><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">UIPanelType</span><span class="token punctuation">)</span><span class="token punctuation">,</span> panelTypeString<span class="token punctuation">)</span><span class="token punctuation">;</span>
                panelType <span class="token operator">=</span> type<span class="token punctuation">;</span><span class="token comment">//将文本中的panelTypeString强制转换成UIPanelType</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnBeforeSerialize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">//每次序列化之前调用这个方法</span>
    <span class="token punctuation">{<!-- --></span>
       
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<pre><code class="prism language-csharp">分析：
首先
<span class="token number">1</span>、UIPanelType类
作为一个枚举类，用于记录各个面板，保存面板的类型
<span class="token number">2</span>、UIPanelType<span class="token punctuation">.</span>json
这是一个Json文件，用于存储各个面板的具体信息
例如：
    <span class="token string">"panelTypeString"</span><span class="token punctuation">:</span> <span class="token string">"MainMenu"</span><span class="token punctuation">,</span>
    <span class="token string">"path"</span><span class="token punctuation">:</span> <span class="token string">"UIPanel/MainMenuPanel"</span>
panelTypeString保存对象
path保存路径
<span class="token number">3</span>、UIPanelInfo
负责与Json文件向对应
    <span class="token keyword">public</span> <span class="token class-name">UIPanelType</span> panelType<span class="token punctuation">;</span><span class="token comment">//记录Json文件中的panelType对象</span>
    <span class="token keyword">public</span> <span class="token class-name"><span class="token keyword">string</span></span> path<span class="token punctuation">;</span><span class="token comment">//记录path的路径字段</span>

这里要将其设置为可序列化的状态<span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Serializable</span></span><span class="token punctuation">]</span><span class="token punctuation">,</span>让这个类可以读盘与写盘，方便后期对信息进行修改
，也可以避免直接修改Json文件
<span class="token number">4</span>、UIManger
是UI框架的核心，负责管理各种框架
第一步，将其设置为单例模式
第二步，将Json文件解析
第三步，使用UIPanelInfo的数组来接受Json文件的信息
第四步，遍历UIPanelInfo数组，并将其中的数据加入字典当中

其中有两个关键点。
第一，加载Json文件，并将文件解析为UIPanelInfo对象的数组
第二，遍历数组，并加入字典中，方便以后对其数据进行各种操作


</code></pre> 
<h3><a id="3_223"></a>3、框架逻辑设计</h3> 
<p><img src="https://images2.imgbox.com/ca/11/PgiLKpO6_o.png" alt="在这里插入图片描述"><br> BasePanel的设计</p> 
<pre><code class="prism language-csharp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BasePanel</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">MonoBehaviour</span></span>
<span class="token punctuation">{<!-- --></span>
    <span class="token comment">/// &lt;summary&gt;</span>
    <span class="token comment">/// 界面被显示出来</span>
    <span class="token comment">/// &lt;/summary&gt;</span>
    <span class="token keyword">public</span> <span class="token keyword">virtual</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnEnter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span> <span class="token punctuation">}</span>
    <span class="token comment">/// &lt;summary&gt;</span>
    <span class="token comment">/// 界面暂停</span>
    <span class="token comment">/// &lt;/summary&gt;</span>
    <span class="token keyword">public</span> <span class="token keyword">virtual</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnPause</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span> <span class="token punctuation">}</span>
    <span class="token comment">/// &lt;summary&gt;</span>
    <span class="token comment">/// 界面继续</span>
    <span class="token comment">/// &lt;/summary&gt;</span>
    <span class="token keyword">public</span> <span class="token keyword">virtual</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnResume</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span> <span class="token punctuation">}</span>
    <span class="token comment">/// &lt;summary&gt;</span>
    <span class="token comment">/// 界面不显示，退出这个界面，界面被关闭</span>
    <span class="token comment">/// &lt;/summary&gt;</span>
    <span class="token keyword">public</span> <span class="token keyword">virtual</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnExit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span> <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre> 
<p>BagPanel继承BasePanel</p> 
<pre><code class="prism language-csharp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BagPanel</span><span class="token punctuation">:</span><span class="token type-list"><span class="token class-name">BasePanel</span></span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> <span class="token class-name">CanvasGroup</span> canvasGroup<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Start</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>canvasGroup <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            canvasGroup <span class="token operator">=</span> <span class="token generic-method"><span class="token function">GetComponent</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>CanvasGroup<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        
    <span class="token punctuation">}</span>
    <span class="token comment">/// &lt;summary&gt;</span>
    <span class="token comment">/// 处理页面的关闭</span>
    <span class="token comment">/// &lt;/summary&gt;</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnExit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
       <span class="token comment">// canvasGroup.alpha = 0;</span>
        canvasGroup<span class="token punctuation">.</span>blocksRaycasts <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

    
        transform<span class="token punctuation">.</span><span class="token function">DOLocalMoveX</span><span class="token punctuation">(</span><span class="token number">600</span><span class="token punctuation">,</span> <span class="token number">0.5f</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">OnComplete</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> canvasGroup<span class="token punctuation">.</span>alpha <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnClosePanel</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        UIManager<span class="token punctuation">.</span><span class="token function">GetInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">PopPanel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnEnter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>canvasGroup <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            canvasGroup <span class="token operator">=</span> <span class="token generic-method"><span class="token function">GetComponent</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>CanvasGroup<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        canvasGroup<span class="token punctuation">.</span>alpha <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        canvasGroup<span class="token punctuation">.</span>blocksRaycasts <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>

        <span class="token comment">//弹出动画</span>
        <span class="token class-name">Vector3</span> temp <span class="token operator">=</span> transform<span class="token punctuation">.</span>localPosition<span class="token punctuation">;</span>
        temp<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">600</span><span class="token punctuation">;</span>
        transform<span class="token punctuation">.</span>localPosition <span class="token operator">=</span> temp<span class="token punctuation">;</span>
        transform<span class="token punctuation">.</span><span class="token function">DOLocalMoveX</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.5f</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnPause</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        canvasGroup<span class="token punctuation">.</span>blocksRaycasts <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnResume</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        canvasGroup<span class="token punctuation">.</span>blocksRaycasts <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnItemButtonClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        UIManager<span class="token punctuation">.</span><span class="token function">GetInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">PushPanel</span><span class="token punctuation">(</span>UIPanelType<span class="token punctuation">.</span>ItemMessage<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>完善后的UIManager</p> 
<pre><code class="prism language-csharp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UIManager</span> 
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> <span class="token class-name">Transform</span> canvasTransform<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token return-type class-name">Transform</span> CanvasTransform
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">get</span> 
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>canvasTransform <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                canvasTransform <span class="token operator">=</span> GameObject<span class="token punctuation">.</span><span class="token function">Find</span><span class="token punctuation">(</span><span class="token string">"Canvas"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>transform<span class="token punctuation">;</span>
               
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> canvasTransform<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
  
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token class-name">Dictionary<span class="token punctuation">&lt;</span>UIPanelType<span class="token punctuation">,</span> <span class="token keyword">string</span><span class="token punctuation">&gt;</span></span> panelPathDicr<span class="token punctuation">;</span><span class="token comment">//存储所有面板Prefab的路径，UIPanelType类型，string用于存储路径</span>

    <span class="token keyword">private</span> <span class="token class-name">Dictionary<span class="token punctuation">&lt;</span>UIPanelType<span class="token punctuation">,</span> BasePanel<span class="token punctuation">&gt;</span></span> panelDict<span class="token punctuation">;</span><span class="token comment">//保存所有面板的游戏物体身上的BasePanel组件</span>

    <span class="token keyword">private</span> <span class="token class-name">Stack<span class="token punctuation">&lt;</span>BasePanel<span class="token punctuation">&gt;</span></span> panelStacks<span class="token punctuation">;</span>

    <span class="token comment">/// &lt;summary&gt;</span>
    <span class="token comment">/// 把某个页面入栈，触发相应方法，并显示在界面上</span>
    <span class="token comment">/// &lt;/summary&gt;</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">PushPanel</span><span class="token punctuation">(</span><span class="token class-name">UIPanelType</span> panelType<span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>panelStacks <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            panelStacks <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Stack<span class="token punctuation">&lt;</span>BasePanel<span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">//判断一下栈里面是否有页面</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>panelStacks<span class="token punctuation">.</span>Count <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token class-name">BasePanel</span> topPanel <span class="token operator">=</span> panelStacks<span class="token punctuation">.</span><span class="token function">Peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            topPanel<span class="token punctuation">.</span><span class="token function">OnPause</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">BasePanel</span> panel <span class="token operator">=</span> <span class="token function">GetPanel</span><span class="token punctuation">(</span>panelType<span class="token punctuation">)</span><span class="token punctuation">;</span>
        panel<span class="token punctuation">.</span><span class="token function">OnEnter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        panelStacks<span class="token punctuation">.</span><span class="token function">Push</span><span class="token punctuation">(</span>panel<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">/// &lt;summary&gt;</span>
    <span class="token comment">/// 出栈，把页面从界面上移除</span>
    <span class="token comment">/// &lt;/summary&gt;</span>
   <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">PopPanel</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>panelStacks <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            panelStacks <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Stack<span class="token punctuation">&lt;</span>BasePanel<span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">//BasePanel panel = GetPanel(panelType);</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>panelStacks<span class="token punctuation">.</span>Count <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">BasePanel</span> topPanel <span class="token operator">=</span> panelStacks<span class="token punctuation">.</span><span class="token function">Pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topPanel<span class="token punctuation">.</span><span class="token function">OnExit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>panelStacks<span class="token punctuation">.</span>Count <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token class-name">BasePanel</span> topPanel2 <span class="token operator">=</span> panelStacks<span class="token punctuation">.</span><span class="token function">Peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topPanel2<span class="token punctuation">.</span><span class="token function">OnResume</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>



    <span class="token punctuation">}</span>
  

    <span class="token comment">/// &lt;summary&gt;</span>
    <span class="token comment">/// 根据面板类型，得到实例化的面板</span>
    <span class="token comment">/// &lt;/summary&gt;</span>
    <span class="token comment">/// &lt;returns&gt;&lt;/returns&gt;</span>
    <span class="token keyword">public</span> <span class="token return-type class-name">BasePanel</span> <span class="token function">GetPanel</span><span class="token punctuation">(</span><span class="token class-name">UIPanelType</span> panelType<span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>panelDict <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            panelDict <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Dictionary<span class="token punctuation">&lt;</span>UIPanelType<span class="token punctuation">,</span> BasePanel<span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      
        <span class="token comment">//BasePanel panel;</span>
        <span class="token comment">//panelDict.TryGetValue(panelType, out panel);//TODO</span>


        <span class="token class-name">BasePanel</span> panel <span class="token operator">=</span> panelDict<span class="token punctuation">.</span><span class="token function">TryGet</span><span class="token punctuation">(</span>panelType<span class="token punctuation">)</span><span class="token punctuation">;</span>


        <span class="token keyword">if</span> <span class="token punctuation">(</span>panel <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token comment">//如果找不到，就找这个面板的Prefab的路径，然后去根据Prefab去实例化面板</span>
            <span class="token comment">//string path;</span>
            <span class="token comment">//panelPathDicr.TryGetValue(panelType, out path);</span>

            <span class="token class-name"><span class="token keyword">string</span></span> path <span class="token operator">=</span> panelPathDicr<span class="token punctuation">.</span><span class="token function">TryGet</span><span class="token punctuation">(</span>panelType<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//字典对象的值是已经决定了的，所以不需要使用泛型而dict对象就是panelPathDicr，不需要再赋值字典</span>
            <span class="token class-name"><span class="token keyword">var</span></span> pan <span class="token operator">=</span> Resources<span class="token punctuation">.</span><span class="token function">Load</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">GameObject</span> instPanel <span class="token operator">=</span> GameObject<span class="token punctuation">.</span><span class="token function">Instantiate</span><span class="token punctuation">(</span>pan<span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token class-name">GameObject</span><span class="token punctuation">;</span><span class="token comment">//实例化</span>
            instPanel<span class="token punctuation">.</span>transform<span class="token punctuation">.</span><span class="token function">SetParent</span><span class="token punctuation">(</span>CanvasTransform<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//TODO false表示局部位置，而非全局位置</span>
            panelDict<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>panelType<span class="token punctuation">,</span> instPanel<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">GetComponent</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>BasePanel<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> instPanel<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">GetComponent</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>BasePanel<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
               
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> panel<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>


    <span class="token keyword">private</span> <span class="token function">UIManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token function">ParseUIPanelTypeJson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//调用ParseUIPanelTypeJson方法解析Json文件</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//单例化</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">UIManager</span> instance<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token return-type class-name">UIManager</span> <span class="token function">GetInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>instance <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">UIManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> instance<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Serializable</span></span><span class="token punctuation">]</span>
    <span class="token keyword">class</span> <span class="token class-name">UIPanelTypeJson</span><span class="token comment">//将Json文件视作一个整体，直接将其转换为List&lt;UIPanelInfo&gt;</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">public</span> <span class="token class-name">List<span class="token punctuation">&lt;</span>UIPanelInfo<span class="token punctuation">&gt;</span></span> infoList<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>



    <span class="token comment">//解析Json文件</span>
    <span class="token keyword">private</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">ParseUIPanelTypeJson</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        panelPathDicr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Dictionary<span class="token punctuation">&lt;</span>UIPanelType<span class="token punctuation">,</span> <span class="token keyword">string</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//生成一个字典</span>
        <span class="token class-name">TextAsset</span> ta <span class="token operator">=</span> Resources<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Load</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>TextAsset<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">"UIPanelType"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//加载Json文件中的UIPanelType信息</span>

       <span class="token class-name">UIPanelTypeJson</span> jsonObject <span class="token operator">=</span> JsonUtility<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">FromJson</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>UIPanelTypeJson<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>ta<span class="token punctuation">.</span>text<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//JsonUtility——工具类，将Json中的文件解析为对象，ta.text就是JSON信息，将JSON信息转换为UIPanelTypeJson类</span>

        <span class="token comment">//总的意思就是将JSON文件转换为UIPanelTypeJson类，而UIPanelTypeJson类中则是List&lt;UIPanelInfo&gt;,并其字段infoList对应JSON文件的类名</span>

        <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token class-name">UIPanelInfo</span> info <span class="token keyword">in</span> jsonObject<span class="token punctuation">.</span>infoList<span class="token punctuation">)</span><span class="token comment">//遍历UIPanelInfo的数组</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token comment">//Debug.Log(info.panelType);</span>
            panelPathDicr<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>info<span class="token punctuation">.</span>panelType<span class="token punctuation">,</span> info<span class="token punctuation">.</span>path<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//这里的info相对于生成一个jsonObject.infoList，因此info就是数组中的一个元素。</span>
            <span class="token comment">//将对象加入到字典当中去</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">//测试</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token class-name"><span class="token keyword">string</span></span> path<span class="token punctuation">;</span>
        panelPathDicr<span class="token punctuation">.</span><span class="token function">TryGetValue</span><span class="token punctuation">(</span>UIPanelType<span class="token punctuation">.</span>Shop<span class="token punctuation">,</span> <span class="token keyword">out</span> path<span class="token punctuation">)</span><span class="token punctuation">;</span>
        Debug<span class="token punctuation">.</span><span class="token function">Log</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<pre><code class="prism language-csharp">分析
<span class="token number">1</span>、BasePanel作为基类被其他的具体类继承
而BasePanel中的方法为

 <span class="token function">OnEnter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>——进入
 <span class="token function">OnPause</span><span class="token punctuation">(</span><span class="token punctuation">)</span>——暂停
 <span class="token function">OnResume</span><span class="token punctuation">(</span><span class="token punctuation">)</span>——恢复
 <span class="token function">OnExit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>——退出
 
 <span class="token number">2</span>、具体的类在继承的基础上，进行具体的修改，添加事件
 <span class="token number">3</span>、UIManager则负责使用“栈”来对不同页面进行管理
   

</code></pre>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/eb1c1d0801505a58ff6be6ae75a5e7d2/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">串的基本操作</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/1c3268a1e7020c1ea4cc846418724253/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">n个互异字符串的全排列</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>