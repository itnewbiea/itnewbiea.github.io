<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Matlab colorbar相关操作 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Matlab colorbar相关操作" />
<meta property="og:description" content="转载自『http://hi.baidu.com/imheaventian/item/8d3b8ecf2c209408c610b210』
1) matlab中画多张图如何使用同一范围的colorbar
例如生成了图1,2,3
生成图1时，使用
temp1=caxis;
将图1的z值的取值范围（即colorbar的取值范围）取出。
生成图2,3时
使用
caxis(temp1)
命令将图2,3的z值的取值范围设为同1相同。
然后对各个同使用colorbar命令便可以了。
解释：matlab将z值映射到colormap，colorbar通过z值和colormap的映射关系生成的，所以需要将不同的figure，z值映射相同的colormap索引。
命令：
caxis
caxis([cmin cmax])
caxis controls the mapping of data values to the colormap.
2) colorbar的刻度经常达不到极值，可以使用下面的方法达到极值
figure
[x,y,z]=peaks(20);
subplot(2,1,1),contourf(x,y,z),colorbar
subplot(2,1,2),contourf(x,y,z)
t1=caxis;
t1=linspace(t1(1),t1(2),6);
my_handle=colorbar(&#39;ytick&#39;,t1);
再比如：
load topo
subplot(&#39;position&#39;,[0 0.5 1 0.45 ])
axesm robinson
meshm(topo,topolegend)
demcmap(caxis)
h=colorbar(&#39;northoutside&#39;);
t=get(h,&#39;xtick&#39;);
subplot(&#39;position&#39;,[0 0.05 1 0.45 ])
axesm robinson
meshm(topo,topolegend)
a=caxis;
demcmap(caxis)
colorbar(&#39;northoutside&#39;,&#39;xtick&#39;,[a(1),t,a(2)])
下面程序给出地形和大地水准面的结果：
load topo
load geoid
load coast
subplot(&#39;position&#39;,[0 0." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/9e7dbd1753600528f0b544f077b30b08/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2014-03-20T11:17:42+08:00" />
<meta property="article:modified_time" content="2014-03-20T11:17:42+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Matlab colorbar相关操作</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <span style="font-family:Courier New; font-size:14px">转载自『http://hi.baidu.com/imheaventian/item/8d3b8ecf2c209408c610b210』<br> 1) matlab中画多张图如何使用同一范围的colorbar<br> 例如生成了图1,2,3<br> 生成图1时，使用<br> temp1=caxis;<br> 将图1的z值的取值范围（即colorbar的取值范围）取出。<br> 生成图2,3时<br> 使用<br> caxis(temp1)<br> 命令将图2,3的z值的取值范围设为同1相同。<br> 然后对各个同使用colorbar命令便可以了。<br> 解释：matlab将z值映射到colormap，colorbar通过z值和colormap的映射关系生成的，所以需要将不同的figure，z值映射相同的colormap索引。<br> 命令：<br> caxis<br> caxis([cmin cmax])<br> caxis controls the mapping of data values to the colormap.<br> 2) colorbar的刻度经常达不到极值，可以使用下面的方法达到极值<br> figure<br> [x,y,z]=peaks(20);<br> subplot(2,1,1),contourf(x,y,z),colorbar<br> subplot(2,1,2),contourf(x,y,z)<br> t1=caxis;<br> t1=linspace(t1(1),t1(2),6);<br> my_handle=colorbar('ytick',t1);<br>  <br> 再比如：<br> load topo<br> <br> <br> subplot('position',[0 0.5 1 0.45 ])<br> axesm robinson<br> meshm(topo,topolegend)<br> demcmap(caxis)<br> h=colorbar('northoutside');<br> t=get(h,'xtick');<br> <br> <br> subplot('position',[0 0.05 1 0.45 ])<br> axesm robinson<br> meshm(topo,topolegend)<br> a=caxis;<br> demcmap(caxis)<br> colorbar('northoutside','xtick',[a(1),t,a(2)])<br> <br> <br> 下面程序给出地形和大地水准面的结果：<br> load topo<br> load geoid<br> load coast<br> <br> <br> subplot('position',[0 0.5 1 0.45 ])<br> axesm robinson<br> meshm(topo,topolegend)<br> plotm(lat,long)<br> a=caxis;<br> demcmap(caxis)<br> colorbar('northoutside','xtick',[a(1),-6000:2000:4000,a(2)])<br> <br> <br> subplot('position',[0 0.05 1 0.45 ])<br> axesm robinson<br> meshm(geoid,geoidlegend)<br> plotm(lat,long)<br> demcmap(caxis)<br> a=caxis;<br> h=colorbar('northoutside','xtick',[ceil(a(1)),-80:20:60,floor(a(2))]);<br> 另外，当图形窗口小时，用colorbar做出了刻度，当将图形窗口放大时，会发现刻度值重复出现或有错误。要消失其错误，现在还没有好的方法。只能首先用大的窗口打开，然后再colorbar。<br> 3) 不同图的colorbar色标相同，但是colorbar的刻度范围不同<br> matlab如何使不同的colorbar的相同颜色代表相同的数值？<br> 但是同时，每个colorbar显示的最大最小值又是不同的。<br> 比如<br> 图1中colorbar刻度的范围是[-5e3,5e3]<br> 而图2中colorbar刻度的范围是[-1e3,1e3]<br> 即，图2的colorbar的颜色范围只是图1color把人颜色范围的一部分？<br>  <br> 解决方案：<br> set(gca,'CLim',[a,b])<br> 用来使不同的图使用相同的色标<br> caxis([a,b])达到同样的效果：<br> <br> <br> CLim   <br> [cmin, cmax]<br> Color axis limits. Determines how MATLAB maps the CData values of surface and patch objects to the figure's Colormap. cmin is the value of the data mapped to the first color in the colormap. cmax is the value of the data mapped to the last color in the colormap. MATLAB linearly interpolates data values in between across the colormap and clamps data values outside to either the first or last alphamap colormap color, whichever is closest.<br> When CLimMode is auto (the default), MATLAB assigns cmin the minimum data value and cmax the maximum data value in the graphics object's CData. This maps CData elements with minimum data value to the first colormap entry and with maximum data value to the last colormap entry.<br> If the axes contains multiple graphics objects, MATLAB sets CLim to span the range of all objects' CData.<br> See the caxis function reference page for related information.<br>   <br> 接下来控制colorbar的范围：<br> set(h,colorbar,'ylim',[a0,b0])便可以了<br> 试试两者差异<br> surf(peaks(30)); colormap jet; colorbar<br> surf(peaks(30)); colormap jet; h=colorbar;set(h,'Ylim',[0,6])<br>  <br> 若连原来图的颜色亦想控制, 试<br> surf(peaks(30)); colormap jet; caxis([0,6]); h=colorbar; set(h,'Ylim',[0,6]);</span>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/61b0ca3b41acddaa775261f68e7c543c/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">CF DIV2 236E Strictly Positive Matrix（强连通）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/f478917db16346eb95c86a19c383d09a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">多表关联查询（ORACLE版）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>