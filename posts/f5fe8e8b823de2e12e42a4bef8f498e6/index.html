<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>在windows环境下，用vscode对c&#43;&#43;的运行和调试 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="在windows环境下，用vscode对c&#43;&#43;的运行和调试" />
<meta property="og:description" content="windowsy官网地址：https://code.visualstudio.com/docs/cpp/config-mingw
vscode用wsl：https://code.visualstudio.com/docs/cpp/config-wsl(本文不涉及，用于后续研究)
以win10 64位为例
1.安装vscode 此处省略
2.在vscode中安装c/c&#43;&#43;插件 在vscode中安装如下 插件
3.windows系统下，安装编译器(MinGW-x64) MinGW-x64是windows下的编译开发环境，提供一个terminal窗口供用户编译、调试。
安装(参考网址https://www.jianshu.com/p/e79cdf4c32ef)
网址：https://www.msys2.org/。
安装需要的工具链
需要在 MinGW-x64中执行以下语句（坑1： 一定要执行，否则没有gdb）：
pacman -S --needed base-devel mingw-w64-x86_64-toolchain 将MinGW 编译器的路径添加到环境变量“path”中** C:\msys64\ # add gdb env to path C:\msys64\mingw64\bin 在MinGW-x64中执行，一下命令，查看是否可以正常调用g&#43;&#43;，gdb。 gcc --version g&#43;&#43; --version gdb --version Administrator@I6HCU75VXKC3B6C MINGW64 ~ # gcc --version gcc.exe (Rev4, Built by MSYS2 project) 12.2.0 Copyright (C) 2022 Free Software Foundation, Inc. This is free software; see the source for copying conditions. There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/f5fe8e8b823de2e12e42a4bef8f498e6/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-11-22T19:21:46+08:00" />
<meta property="article:modified_time" content="2022-11-22T19:21:46+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">在windows环境下，用vscode对c&#43;&#43;的运行和调试</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <blockquote> 
 <p>windowsy官网地址：https://code.visualstudio.com/docs/cpp/config-mingw<br> vscode用wsl：https://code.visualstudio.com/docs/cpp/config-wsl(本文不涉及，用于后续研究)</p> 
</blockquote> 
<p><strong>以win10 64位为例</strong></p> 
<h3><a id="1vscode_5"></a>1.安装vscode</h3> 
<p>此处省略</p> 
<h3><a id="2vscodecc_7"></a>2.在vscode中安装c/c++插件</h3> 
<p>在vscode中安装如下 插件<br> <img src="https://images2.imgbox.com/98/63/TbY9HhTl_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="3windowsMinGWx64_11"></a>3.windows系统下，安装编译器(MinGW-x64)</h3> 
<p>MinGW-x64是windows下的编译开发环境，提供一个terminal窗口供用户编译、调试。</p> 
<ul><li> <p>安装(参考网址https://www.jianshu.com/p/e79cdf4c32ef)<br> 网址：https://www.msys2.org/。</p> </li><li> <p>安装需要的工具链<br> 需要在 MinGW-x64中执行以下语句（<em><strong>坑1：</strong></em> <strong>一定要执行，否则没有gdb</strong>）：</p> </li></ul> 
<pre><code class="prism language-bash">pacman <span class="token parameter variable">-S</span> <span class="token parameter variable">--needed</span> base-devel mingw-w64-x86_64-toolchain
</code></pre> 
<ul><li>将MinGW 编译器的路径添加到环境变量“path”中**</li></ul> 
<pre><code class="prism language-bash"> C:<span class="token punctuation">\</span>msys64<span class="token punctuation">\</span>
 <span class="token comment"># add gdb env to path</span>
 C:<span class="token punctuation">\</span>msys64<span class="token punctuation">\</span>mingw64<span class="token punctuation">\</span>bin 
</code></pre> 
<ul><li>在MinGW-x64中执行，一下命令，查看是否可以正常调用g++，gdb。</li></ul> 
<pre><code class="prism language-bash">gcc <span class="token parameter variable">--version</span>
g++ <span class="token parameter variable">--version</span>
gdb <span class="token parameter variable">--version</span>
</code></pre> 
<pre><code class="prism language-bash">Administrator@I6HCU75VXKC3B6C MINGW64 ~
<span class="token comment"># gcc --version</span>
gcc.exe <span class="token punctuation">(</span>Rev4, Built by MSYS2 project<span class="token punctuation">)</span> <span class="token number">12.2</span>.0
Copyright <span class="token punctuation">(</span>C<span class="token punctuation">)</span> <span class="token number">2022</span> Free Software Foundation, Inc.
This is <span class="token function">free</span> software<span class="token punctuation">;</span> see the <span class="token builtin class-name">source</span> <span class="token keyword">for</span> copying conditions.  There is NO
warranty<span class="token punctuation">;</span> not even <span class="token keyword">for</span> MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.


Administrator@I6HCU75VXKC3B6C MINGW64 ~
<span class="token comment"># g++ --version</span>
g++.exe <span class="token punctuation">(</span>Rev4, Built by MSYS2 project<span class="token punctuation">)</span> <span class="token number">12.2</span>.0
Copyright <span class="token punctuation">(</span>C<span class="token punctuation">)</span> <span class="token number">2022</span> Free Software Foundation, Inc.
This is <span class="token function">free</span> software<span class="token punctuation">;</span> see the <span class="token builtin class-name">source</span> <span class="token keyword">for</span> copying conditions.  There is NO
warranty<span class="token punctuation">;</span> not even <span class="token keyword">for</span> MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.


Administrator@I6HCU75VXKC3B6C MINGW64 ~
<span class="token comment"># gdb --version</span>
GNU gdb <span class="token punctuation">(</span>GDB<span class="token punctuation">)</span> <span class="token number">12.1</span>
Copyright <span class="token punctuation">(</span>C<span class="token punctuation">)</span> <span class="token number">2022</span> Free Software Foundation, Inc.
License GPLv3+: GNU GPL version <span class="token number">3</span> or later <span class="token operator">&lt;</span>http://gnu.org/licenses/gpl.html<span class="token operator">&gt;</span>
This is <span class="token function">free</span> software: you are <span class="token function">free</span> to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.

</code></pre> 
<blockquote> 
 <p>mingw官方下载地址：https://osdn.net/projects/mingw/releases/</p> 
</blockquote> 
<h3><a id="4vscodehello_world_64"></a>4.vscode中，创建hello world项目</h3> 
<pre><code class="prism language-bash"><span class="token function">mkdir</span> projects
<span class="token builtin class-name">cd</span> projects
<span class="token function">mkdir</span> helloworld
<span class="token builtin class-name">cd</span> helloworld
code <span class="token builtin class-name">.</span>
</code></pre> 
<ul><li>添加helloworld.cpp</li></ul> 
<pre><code class="prism language-cpp"><span class="token comment">// helloworld.cpp</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string&gt;</span></span>

<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
  vector<span class="token operator">&lt;</span>string<span class="token operator">&gt;</span> msg <span class="token punctuation">{<!-- --></span><span class="token string">"Hello"</span><span class="token punctuation">,</span> <span class="token string">"C++"</span><span class="token punctuation">,</span> <span class="token string">"World"</span><span class="token punctuation">,</span> <span class="token string">"from"</span><span class="token punctuation">,</span> <span class="token string">"VS Code"</span><span class="token punctuation">,</span> <span class="token string">"and the C++ extension!"</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> string<span class="token operator">&amp;</span> word <span class="token operator">:</span> msg<span class="token punctuation">)</span>
  <span class="token punctuation">{<!-- --></span>
      cout <span class="token operator">&lt;&lt;</span> word <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>界面如下：<br> <img src="https://images2.imgbox.com/2f/7a/wzakMJy5_o.png" alt="在这里插入图片描述"><br> 其中，<strong>.vscode</strong> 需要用一下命令生成，<em><strong>坑2：</strong></em> <strong>一定要执行，否则生成不了。</strong></p> 
<pre><code class="prism language-bash">ctrl + <span class="token builtin class-name">shift</span> + e
</code></pre> 
<h4><a id="41_helloworldcpp_102"></a>4.1 运行helloworld.cpp</h4> 
<ul><li> <p>打开 helloworld.cpp，告诉vscode这是当前活跃文件。</p> </li><li> <p>点击右上角三角， 选择<strong>Run C/C++ File</strong></p> <p><img src="https://images2.imgbox.com/77/df/nt9eXwr2_o.png" alt="在这里插入图片描述"><br> 选完之后，如下图，如过下次操作还是run，可以直接点击三角，而不用下拉列表里再选择。<br> <img src="https://images2.imgbox.com/d7/6f/THpPHa50_o.png" alt="在这里插入图片描述"></p> </li><li> <p>在下拉列表中选中绿色框中的编译器。如图中的g++，选中后会在<strong>tasks.json</strong>中设置成默认的。<br> <img src="https://images2.imgbox.com/ba/0a/AYSbySsz_o.png" alt="在这里插入图片描述"><br> 运行之后的输出结果<br> <img src="https://images2.imgbox.com/20/df/xoMRcsKX_o.png" alt="在这里插入图片描述"></p> </li></ul> 
<h4><a id="42_helloworld__116"></a>4.2 调试helloworld 项目</h4> 
<ul><li>同样打开 helloworld.cpp ，设定为活跃文件</li><li>打断点，鼠标点击左侧，或者选中当前行，然后F9.</li><li>右上角三角，下拉列表里选择**“Debug C/C++ File”**<br> 这里需要注意，选中之后，图标变成了小虫子，如果下次还是debug，可以直接点虫子，不用在下拉列表里选择。<br> <img src="https://images2.imgbox.com/8d/2d/tnAl3ftv_o.png" alt="在这里插入图片描述">- 选择编译器<img src="https://images2.imgbox.com/d3/4c/eMQSNN1f_o.png" alt="在这里插入图片描述"></li></ul> 
<h3><a id="5_json_123"></a>5. json文件</h3> 
<ul><li> <p>task.json<br> Run对应的json文件。type是cppbuild。<br> 这个文件用于设置编译的参数，输出的文件名字<br> <img src="https://images2.imgbox.com/a4/3c/4rmroOlp_o.png" alt="在这里插入图片描述"></p> </li><li> <p>launch.json<br> Debug对应的json文件。<br> type是cppdbg。<br> 这个文件用于设置需要调试的可执行文件；调试工具的位置，比如gdb.exe；是否默认main函数打断点，等等。<br> 此外， 可以设置prelauch，也就是在debug之前执行一些东西。<br> <img src="https://images2.imgbox.com/7d/fc/wueJa3vF_o.png" alt="在这里插入图片描述"></p> </li><li> <p>c_cpp_properties.json<br> c++的配置文件。用于设置编译器的路径、c++标准、包含路径等。<br> <img src="https://images2.imgbox.com/a6/d1/8Khsevum_o.png" alt="在这里插入图片描述"></p> </li></ul> 
<h3><a id="6_vscodeterminal_142"></a>6. 在vscode中修改默认的terminal</h3> 
<ul><li>调出terminal</li></ul> 
<pre><code class="prism language-bash">ctrl + `
</code></pre> 
<ul><li>点击右侧三角，下拉列表，配置终端设置。<br> <img src="https://images2.imgbox.com/2c/a8/C02Kd8Ao_o.png" alt="在这里插入图片描述"><br> 弹出如下窗口<br> <img src="https://images2.imgbox.com/b5/df/zM2W4ci1_o.png" alt="在这里插入图片描述"><br> 选择红圈中的图标，<br> <img src="https://images2.imgbox.com/34/24/xiLbWFfD_o.png" alt="在这里插入图片描述"><br> 弹出终端设置json<br> <img src="https://images2.imgbox.com/c6/60/IPAzEtxr_o.png" alt="在这里插入图片描述"><br> 一共5个，箭头所指的是默认的。<br> <strong>坑：</strong><br> （1）git bash终端会在run、debug时候有问题，禁用。<br> （2）wsl的也会有问题，用wsl调试本地文件。感觉文章开头提到的https://code.visualstudio.com/docs/cpp/config-wsl，应该能够解决。相当于用vscode终端远程访问wsl，在wsl中做debug。</li></ul>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/943d7a1c7ff2d5f560101f6d23cb0b77/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">vue3&#43;vite 项目中配置prettier</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/61da3e3f65983a3f25e2299d253e2ced/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Android插件化原理（一）—— 插件类加载、类加载原理、（双亲委托机制)</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>