<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Unity中创建自己的mesh以及动态修改mesh - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Unity中创建自己的mesh以及动态修改mesh" />
<meta property="og:description" content="开头 最近发现有很多人不知道在unity中可以创建和修改mesh，以为mesh只能从3dmax等软件中导入，所以这篇就相当于科普了。 正文 首先介绍如何创建mesh。 先创建一个空物体，名为test。 然后为这个物体增加 meshrender 和 meshfilter 两个组件
下面就要写将要赋给它的脚本了，先贴上代码，解释在下面。 using UnityEngine; using System.Collections; public class Test: MonoBehaviour { void Start() { Vector3[] newVertices = { new Vector3(0, 0, 0), new Vector3(0, 1, 0), new Vector3(1, 1, 0), new Vector3(1, 0, 0) }; Vector2[] newUV = { new Vector2(0, 0), new Vector2(0, 1), new Vector2(1, 1), new Vector2(1, 0) }; int[] newTriangles = {0,2,1,0,3,2}; Mesh mesh = new Mesh(); GetComponent&lt;MeshFilter&gt;()." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/5525650e15ae83e03366db70ee52006a/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2016-01-27T16:13:51+08:00" />
<meta property="article:modified_time" content="2016-01-27T16:13:51+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Unity中创建自己的mesh以及动态修改mesh</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3 id="开头">开头</h3> 
<pre><code>最近发现有很多人不知道在unity中可以创建和修改mesh，以为mesh只能从3dmax等软件中导入，所以这篇就相当于科普了。
</code></pre> 
<h3 id="正文">正文</h3> 
<pre><code>首先介绍如何创建mesh。
</code></pre> 
<p><img src="https://images2.imgbox.com/b7/61/V9v0DE1f_o.png" alt="这里写图片描述" title=""> <br> 先创建一个空物体，名为test。 <br> <img src="https://images2.imgbox.com/30/55/hg6OI6SY_o.png" alt=" " title=""> <br> 然后为这个物体增加 meshrender 和 meshfilter 两个组件</p> 
<pre><code>下面就要写将要赋给它的脚本了，先贴上代码，解释在下面。
</code></pre> 
<pre class="prettyprint"><code class=" hljs cs"><span class="hljs-keyword">using</span> UnityEngine;
<span class="hljs-keyword">using</span> System.Collections;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> Test: MonoBehaviour
{

    <span class="hljs-keyword">void</span> Start()
    {
        Vector3[] newVertices = { <span class="hljs-keyword">new</span> Vector3(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>), <span class="hljs-keyword">new</span> Vector3(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>), <span class="hljs-keyword">new</span> Vector3(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>), <span class="hljs-keyword">new</span> Vector3(<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>) };
        Vector2[] newUV = { <span class="hljs-keyword">new</span> Vector2(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>), <span class="hljs-keyword">new</span> Vector2(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>), <span class="hljs-keyword">new</span> Vector2(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>), <span class="hljs-keyword">new</span> Vector2(<span class="hljs-number">1</span>, <span class="hljs-number">0</span>) };
        <span class="hljs-keyword">int</span>[] newTriangles = {<!-- --><span class="hljs-number">0</span>,<span class="hljs-number">2</span>,<span class="hljs-number">1</span>,<span class="hljs-number">0</span>,<span class="hljs-number">3</span>,<span class="hljs-number">2</span>};

        Mesh mesh = <span class="hljs-keyword">new</span> Mesh();
        GetComponent&lt;MeshFilter&gt;().mesh = mesh;

        mesh.vertices = newVertices;
        mesh.uv = newUV;
        mesh.triangles = newTriangles;


    }
}
</code></pre> 
<p>要创建一个mesh必须要准备好三个数组分别是顶点数组，三角形数组，uv数组。</p> 
<ul><li>顶点数组 包括这个mesh中所有的顶点，如 Vector3[] newVertices = { new Vector3(0, 0, 0), new Vector3(0, 1, 0), new Vector3(1, 1, 0), new Vector3(1, 0, 0) }; 其中有四个顶点，分别为正方形四个角。</li><li>三角形数组 指定如何构成每个三角形，同时也确定了三角形的个数，如 int[] newTriangles = {0,2,1,0,3,2}; 这行代码表示0，2，1（对应着newVertices[0],newVertices [2],newVertices [1]）,构成第一个三角形的三个角，数字的顺序表示顺逆时针，同时确定了三角形的正反面，后面的0，3，2同理，这就代表此mesh有两个三角形。</li><li>uv数组 这是一个vector2数组，用来确定顶点数组中每个顶点的uv坐标，这在下面将演示给大家看。</li></ul> 
<p>代码写好之后，把脚本贴到Test物体上，然后设置一个material，如下图： <br> <img src="https://images2.imgbox.com/00/bb/TytLEFoV_o.png" alt="这里写图片描述" title=""></p> 
<p>下面是运行后的图片： <br> <img src="https://images2.imgbox.com/13/0d/HqqETPKy_o.png" alt="这里写图片描述" title=""></p> 
<p>至于为什么uv数组是什么，你可以认为这张图片的四个角的uv坐标分别为（0，0），（1，0），（1，1），（1，0），如果我把上面代码中的uv数组改成 Vector2[] newUV = { new Vector2(0, 0), new Vector2(0, 1), new Vector2(0.5f, 1), new Vector2(0.5f, 0) }; 那就会变成下面这个样子： <br> <img src="https://images2.imgbox.com/cd/e9/TuX32bO3_o.png" alt="这里写图片描述" title=""></p> 
<p>有一点要注意的是，顶点数组中的顶点坐标都是在模型坐标系中的，就是以刚开始创建的Test空物体的坐标为原点。</p> 
<p>以上只是简单创建了一个平面mesh，至于如何创建3d mesh和修改mesh，相信聪明的你一定会啦。</p> 
<h3 id="最后">最后</h3> 
<pre><code>就这样了  如果有错误或疑问，请评论，如果觉得还不错或有帮助，请关注或顶一下，谢谢啦~~~ (´・ω・`) 
</code></pre>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/0e6765d437b679480e72b88aec7a5ec6/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">ios开发-判断邮箱、手机号、车牌、身份证。。。。。合法性</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/2b2c30991eb52be8add8dea92f3e6193/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Visual Studio 2015专业版安装激活图文教程</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>