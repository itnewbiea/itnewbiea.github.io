<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Docker使用记录——测试LIO_SAM - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Docker使用记录——测试LIO_SAM" />
<meta property="og:description" content="Docker使用记录——测试LIO_SAM 参考链接 🐳Docker概念，工作流和实践 - 入门必懂_哔哩哔哩_bilibili
Docker学习笔记：Docker 基础用法和命令帮助 - docker ppt - docker中文社区
Docker Hello World | 菜鸟教程 相关概念 docker build docker run docker push docker pull docker commit docker tag Dockerfile
定制镜像文件 Image
镜像 Container
容器 Docker
Hub 获取管理员权限 docker守护进程启动的时候，会默认赋予名字为docker的用户组读写Unix socket的权限，因此只要创建docker用户组，并将当前用户加入到docker用户组中，那么当前用户就有权限访问Unix socket了，进而也就可以执行docker相关命令
sudo groupadd docker #添加docker用户组 sudo gpasswd -a $USER docker #将登陆用户加入到docker用户组中 newgrp docker #更新用户组 docker ps #测试docker命令是否可以使用sudo正常使用 获取镜像 如果我们本地没有 ubuntu 镜像，我们可以使用 docker pull 命令来载入 ubuntu 镜像：
docker pull ubuntu #默认拉取最新的latest # docker pull ubuntu:18." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/2e7d6dca152841e30d0000e05b3da48d/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-02-01T18:06:27+08:00" />
<meta property="article:modified_time" content="2023-02-01T18:06:27+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Docker使用记录——测试LIO_SAM</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="DockerLIO_SAM_0"></a>Docker使用记录——测试LIO_SAM</h2> 
<hr> 
<h3><a id="_6"></a>参考链接</h3> 
<ul><li> <p><a href="https://www.bilibili.com/video/BV1MR4y1Q738/?spm_id_from=333.788.top_right_bar_window_view_later.content.click&amp;vd_source=2c79ed5f797097fcf099377f43eb2d2c" rel="nofollow">🐳Docker概念，工作流和实践 - 入门必懂_哔哩哔哩_bilibili</a></p> </li><li> <p><a href="https://www.docker.org.cn/dockerppt/106.html" rel="nofollow">Docker学习笔记：Docker 基础用法和命令帮助 - docker ppt - docker中文社区</a></p> </li><li> <p><a href="https://www.runoob.com/docker/docker-hello-world.html" rel="nofollow">Docker Hello World | 菜鸟教程 </a></p> </li></ul> 
<hr> 
<h3><a id="_16"></a>相关概念</h3> 
<div class="mermaid sequence-diagram"> 
 <svg id="mermaid-svg-UScg7jjKsXi0Ya9L" width="100%" xmlns="http://www.w3.org/2000/svg" height="220.244140625" style="max-width: 584.300537109375px;" viewbox="0 0 584.300537109375 220.244140625"> 
  <style>#mermaid-svg-UScg7jjKsXi0Ya9L {font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#mermaid-svg-UScg7jjKsXi0Ya9L .error-icon{fill:#552222;}#mermaid-svg-UScg7jjKsXi0Ya9L .error-text{fill:#552222;stroke:#552222;}#mermaid-svg-UScg7jjKsXi0Ya9L .edge-thickness-normal{stroke-width:2px;}#mermaid-svg-UScg7jjKsXi0Ya9L .edge-thickness-thick{stroke-width:3.5px;}#mermaid-svg-UScg7jjKsXi0Ya9L .edge-pattern-solid{stroke-dasharray:0;}#mermaid-svg-UScg7jjKsXi0Ya9L .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-svg-UScg7jjKsXi0Ya9L .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-svg-UScg7jjKsXi0Ya9L .marker{fill:#333333;stroke:#333333;}#mermaid-svg-UScg7jjKsXi0Ya9L .marker.cross{stroke:#333333;}#mermaid-svg-UScg7jjKsXi0Ya9L svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-svg-UScg7jjKsXi0Ya9L .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#mermaid-svg-UScg7jjKsXi0Ya9L .cluster-label text{fill:#333;}#mermaid-svg-UScg7jjKsXi0Ya9L .cluster-label span{color:#333;}#mermaid-svg-UScg7jjKsXi0Ya9L .label text,#mermaid-svg-UScg7jjKsXi0Ya9L span{fill:#333;color:#333;}#mermaid-svg-UScg7jjKsXi0Ya9L .node rect,#mermaid-svg-UScg7jjKsXi0Ya9L .node circle,#mermaid-svg-UScg7jjKsXi0Ya9L .node ellipse,#mermaid-svg-UScg7jjKsXi0Ya9L .node polygon,#mermaid-svg-UScg7jjKsXi0Ya9L .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaid-svg-UScg7jjKsXi0Ya9L .node .label{text-align:center;}#mermaid-svg-UScg7jjKsXi0Ya9L .node.clickable{cursor:pointer;}#mermaid-svg-UScg7jjKsXi0Ya9L .arrowheadPath{fill:#333333;}#mermaid-svg-UScg7jjKsXi0Ya9L .edgePath .path{stroke:#333333;stroke-width:2.0px;}#mermaid-svg-UScg7jjKsXi0Ya9L .flowchart-link{stroke:#333333;fill:none;}#mermaid-svg-UScg7jjKsXi0Ya9L .edgeLabel{background-color:#e8e8e8;text-align:center;}#mermaid-svg-UScg7jjKsXi0Ya9L .edgeLabel rect{opacity:0.5;background-color:#e8e8e8;fill:#e8e8e8;}#mermaid-svg-UScg7jjKsXi0Ya9L .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaid-svg-UScg7jjKsXi0Ya9L .cluster text{fill:#333;}#mermaid-svg-UScg7jjKsXi0Ya9L .cluster span{color:#333;}#mermaid-svg-UScg7jjKsXi0Ya9L div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-svg-UScg7jjKsXi0Ya9L :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style> 
  <g transform="translate(0, 0.000003814697265625)"> 
   <marker id="flowchart-pointEnd" class="marker flowchart" viewbox="0 0 10 10" refx="9" refy="5" markerunits="userSpaceOnUse" markerwidth="12" markerheight="12" orient="auto"> 
    <path d="M 0 0 L 10 5 L 0 10 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path> 
   </marker> 
   <marker id="flowchart-pointStart" class="marker flowchart" viewbox="0 0 10 10" refx="0" refy="5" markerunits="userSpaceOnUse" markerwidth="12" markerheight="12" orient="auto"> 
    <path d="M 0 5 L 10 10 L 10 0 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path> 
   </marker> 
   <marker id="flowchart-circleEnd" class="marker flowchart" viewbox="0 0 10 10" refx="11" refy="5" markerunits="userSpaceOnUse" markerwidth="11" markerheight="11" orient="auto"> 
    <circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></circle> 
   </marker> 
   <marker id="flowchart-circleStart" class="marker flowchart" viewbox="0 0 10 10" refx="-1" refy="5" markerunits="userSpaceOnUse" markerwidth="11" markerheight="11" orient="auto"> 
    <circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></circle> 
   </marker> 
   <marker id="flowchart-crossEnd" class="marker cross flowchart" viewbox="0 0 11 11" refx="12" refy="5.2" markerunits="userSpaceOnUse" markerwidth="11" markerheight="11" orient="auto"> 
    <path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"></path> 
   </marker> 
   <marker id="flowchart-crossStart" class="marker cross flowchart" viewbox="0 0 11 11" refx="-1" refy="5.2" markerunits="userSpaceOnUse" markerwidth="11" markerheight="11" orient="auto"> 
    <path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"></path> 
   </marker> 
   <g class="root"> 
    <g class="clusters"></g> 
    <g class="edgePaths"> 
     <path d="M119.00550079345703,105.24689292907715L130.59798749287924,105.24689292907715C142.19047419230142,105.24689292907715,165.37544759114584,105.24689292907715,190.07169818878174,105.24689292907715C214.76794878641763,105.24689292907715,240.97547658284506,105.24689292907715,254.07924048105875,105.24689292907715L267.18300437927246,105.24689292907715" id="L-Dockerfile\n定制镜像文件-Image\n镜像-0" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-Dockerfile\n定制镜像文件 LE-Image\n镜像" style="fill:none;" marker-end="url(#flowchart-pointEnd)"></path> 
     <path d="M325.08933448791504,88.11988406456769L339.7039442062378,79.47473077208848C354.31855392456055,70.82957747960926,383.54777336120605,53.53927089465082,411.26571559906006,45.46227620669432C438.98365783691406,37.385281518737806,465.19032287597656,38.521598727783235,478.2936553955078,39.08975733230595L491.39698791503906,39.657915936828665" id="L-Image\n镜像-Container\n容器-0" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-Image\n镜像 LE-Container\n容器" style="fill:none;" marker-end="url(#flowchart-pointEnd)"></path> 
     <path d="M325.08933448791504,114.0587080275556L339.7039442062378,118.50662376777501C354.31855392456055,122.95453950799443,383.54777336120605,131.85037098843324,412.9795859654744,138.4705538056804C442.41139856974286,145.09073662292758,472.0458043416341,149.43527077698312,486.86300722757977,151.60753785401087L501.6802101135254,153.77980493103863" id="L-Image\n镜像-Docker\nHub-0" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-Image\n镜像 LE-Docker\nHub" style="fill:none;" marker-end="url(#flowchart-pointEnd)"></path> 
     <path d="M501.6802101135254,169.32278596846444L486.86300722757977,174.30979189846403C472.0458043416341,179.2967978284636,442.41139856974286,189.27080968846278,412.9795859654744,182.48026637386377C383.54777336120605,175.6897230592648,354.31855392456055,152.13462457006764,339.7039442062378,140.35707532546908L325.08933448791504,128.57952608087052" id="L-Docker\nHub-Image\n镜像-0" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-Docker\nHub LE-Image\n镜像" style="fill:none;" marker-end="url(#flowchart-pointEnd)"></path> 
     <path d="M491.39698791503906,55.78655799306222L478.2936553955078,60.19672889243222C465.19032287597656,64.60689979180222,438.98365783691406,73.42724159054222,411.26571559906006,80.71913025407197C383.54777336120605,88.0110189176017,354.31855392456055,93.7744544459212,339.7039442062378,96.65617221008091L325.08933448791504,99.53788997424066" id="L-Container\n容器-Image\n镜像-0" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-Container\n容器 LE-Image\n镜像" style="fill:none;" marker-end="url(#flowchart-pointEnd)"></path> 
     <path d="M281.3282562727405,138.745512008667L278.9707142904958,144.07876862419977C276.61317230825114,149.41202523973254,271.8980883437618,160.07853847079807,269.5405463615171,166.74510924021402C267.18300437927246,173.41168000963,267.18300437927246,176.07830831739636,272.008531888326,178.74493662516275C276.8340593973796,181.4115649329291,286.48511441548663,184.07819324069553,296.13616943359375,184.07819324069553C305.78722445170087,184.07819324069553,315.4382794698079,181.4115649329291,320.2638069788615,178.74493662516275C325.08933448791504,176.07830831739636,325.08933448791504,173.41168000963,322.7317925056704,166.74510924021402C320.3742505234257,160.07853847079807,315.65916655893636,149.41202523973254,313.3016245766917,144.07876862419977L310.944082594447,138.745512008667" id="L-Image\n镜像-Image\n镜像-0" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-Image\n镜像 LE-Image\n镜像" style="fill:none;" marker-end="url(#flowchart-pointEnd)"></path> 
    </g> 
    <g class="edgeLabels"> 
     <g class="edgeLabel" transform="translate(188.56042098999023, 105.24689292907715)"> 
      <g class="label" transform="translate(-44.5549201965332, -12.999309539794922)"> 
       <foreignobject width="89.1098403930664" height="25.998619079589844"> 
        <div style="display: inline-block; white-space: nowrap;"> 
         <span class="edgeLabel">docker build</span> 
        </div> 
       </foreignobject> 
      </g> 
     </g> 
     <g class="edgeLabel" transform="translate(412.77699279785156, 36.24896430969238)"> 
      <g class="label" transform="translate(-38.48139953613281, -12.999309539794922)"> 
       <foreignobject width="76.96279907226562" height="25.998619079589844"> 
        <div style="display: inline-block; white-space: nowrap;"> 
         <span class="edgeLabel">docker run</span> 
        </div> 
       </foreignobject> 
      </g> 
     </g> 
     <g class="edgeLabel" transform="translate(412.77699279785156, 140.74620246887207)"> 
      <g class="label" transform="translate(-43.06989288330078, -12.999309539794922)"> 
       <foreignobject width="86.13978576660156" height="25.998619079589844"> 
        <div style="display: inline-block; white-space: nowrap;"> 
         <span class="edgeLabel">docker push</span> 
        </div> 
       </foreignobject> 
      </g> 
     </g> 
     <g class="edgeLabel" transform="translate(412.77699279785156, 199.2448215484619)"> 
      <g class="label" transform="translate(-40.177337646484375, -12.999309539794922)"> 
       <foreignobject width="80.35467529296875" height="25.998619079589844"> 
        <div style="display: inline-block; white-space: nowrap;"> 
         <span class="edgeLabel">docker pull</span> 
        </div> 
       </foreignobject> 
      </g> 
     </g> 
     <g class="edgeLabel" transform="translate(412.77699279785156, 82.24758338928223)"> 
      <g class="label" transform="translate(-53.6199951171875, -12.999309539794922)"> 
       <foreignobject width="107.239990234375" height="25.998619079589844"> 
        <div style="display: inline-block; white-space: nowrap;"> 
         <span class="edgeLabel">docker commit</span> 
        </div> 
       </foreignobject> 
      </g> 
     </g> 
     <g class="edgeLabel" transform="translate(296.13616943359375, 186.7448215484619)"> 
      <g class="label" transform="translate(-38.02082824707031, -12.999309539794922)"> 
       <foreignobject width="76.04165649414062" height="25.998619079589844"> 
        <div style="display: inline-block; white-space: nowrap;"> 
         <span class="edgeLabel">docker tag</span> 
        </div> 
       </foreignobject> 
      </g> 
     </g> 
    </g> 
    <g class="nodes"> 
     <g class="node default default" id="flowchart-Dockerfile\n定制镜像文件-36" transform="translate(63.502750396728516, 105.24689292907715)"> 
      <rect class="basic label-container" style="" rx="0" ry="0" x="-55.502750396728516" y="-33.498619079589844" width="111.00550079345703" height="66.99723815917969"></rect> 
      <g class="label" style="" transform="translate(-48.002750396728516, -25.998619079589844)"> 
       <foreignobject width="96.00550079345703" height="51.99723815917969"> 
        <div style="display: inline-block; white-space: nowrap;"> 
         <span class="nodeLabel">Dockerfile<br>定制镜像文件</span> 
        </div> 
       </foreignobject> 
      </g> 
     </g> 
     <g class="node default default" id="flowchart-Image\n镜像-37" transform="translate(296.13616943359375, 105.24689292907715)"> 
      <rect class="basic label-container" style="" rx="0" ry="0" x="-28.95316505432129" y="-33.498619079589844" width="57.90633010864258" height="66.99723815917969"></rect> 
      <g class="label" style="" transform="translate(-21.45316505432129, -25.998619079589844)"> 
       <foreignobject width="42.90633010864258" height="51.99723815917969"> 
        <div style="display: inline-block; white-space: nowrap;"> 
         <span class="nodeLabel">Image<br>镜像</span> 
        </div> 
       </foreignobject> 
      </g> 
     </g> 
     <g class="node default default" id="flowchart-Container\n容器-39" transform="translate(533.8487701416016, 41.498619079589844)"> 
      <rect class="basic label-container" style="" rx="0" ry="0" x="-42.4517822265625" y="-33.498619079589844" width="84.903564453125" height="66.99723815917969"></rect> 
      <g class="label" style="" transform="translate(-34.9517822265625, -25.998619079589844)"> 
       <foreignobject width="69.903564453125" height="51.99723815917969"> 
        <div style="display: inline-block; white-space: nowrap;"> 
         <span class="nodeLabel">Container<br>容器</span> 
        </div> 
       </foreignobject> 
      </g> 
     </g> 
     <g class="node default default" id="flowchart-Docker\nHub-41" transform="translate(533.8487701416016, 158.49585723876953)"> 
      <rect class="basic label-container" style="" rx="0" ry="0" x="-32.16855812072754" y="-33.498619079589844" width="64.33711624145508" height="66.99723815917969"></rect> 
      <g class="label" style="" transform="translate(-24.66855812072754, -25.998619079589844)"> 
       <foreignobject width="49.33711624145508" height="51.99723815917969"> 
        <div style="display: inline-block; white-space: nowrap;"> 
         <span class="nodeLabel">Docker<br>Hub</span> 
        </div> 
       </foreignobject> 
      </g> 
     </g> 
    </g> 
   </g> 
  </g> 
 </svg> 
</div> 
<hr> 
<h3><a id="_32"></a>获取管理员权限</h3> 
<blockquote> 
 <p>docker守护进程启动的时候，会默认赋予名字为docker的用户组读写Unix socket的权限，因此只要创建docker用户组，并将当前用户加入到docker用户组中，那么当前用户就有权限访问Unix socket了，进而也就可以执行docker相关命令</p> 
</blockquote> 
<pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">groupadd</span> <span class="token function">docker</span>     <span class="token comment">#添加docker用户组</span>
<span class="token function">sudo</span> gpasswd <span class="token parameter variable">-a</span> <span class="token environment constant">$USER</span> <span class="token function">docker</span>     <span class="token comment">#将登陆用户加入到docker用户组中</span>
newgrp <span class="token function">docker</span>     <span class="token comment">#更新用户组</span>
<span class="token function">docker</span> <span class="token function">ps</span>    <span class="token comment">#测试docker命令是否可以使用sudo正常使用</span>
</code></pre> 
<hr> 
<h3><a id="_47"></a>获取镜像</h3> 
<p>如果我们本地没有 ubuntu 镜像，我们可以使用 docker pull 命令来载入 ubuntu 镜像：</p> 
<pre><code class="prism language-bash"><span class="token function">docker</span> pull ubuntu <span class="token comment">#默认拉取最新的latest</span>
<span class="token comment"># docker pull ubuntu:18.04</span>
<span class="token comment"># docker pull ubuntu:20.04</span>
</code></pre> 
<hr> 
<h3><a id="_60"></a>启动容器</h3> 
<p>以下命令使用 ubuntu 镜像启动一个容器，参数为以命令行模式进入该容器：</p> 
<pre><code class="prism language-bash"><span class="token function">docker</span> run <span class="token parameter variable">-itd</span> ubuntu /bin/bash 
<span class="token function">docker</span> attach e2 <span class="token comment">#exit退出容器终端，会导致容器的停止</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/e4/a5/KEVlaeKF_o.png" alt="image-20221213172755654"></p> 
<pre><code class="prism language-bash"><span class="token function">docker</span> restart 5bf <span class="token comment">#先启动容器</span>

<span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-it</span> 5bf /bin/bash <span class="token comment">#exit退出容器终端，不会导致容器的停止,推荐使用</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/00/77/3sYeUXv1_o.png" alt="image-20221213171501208"></p> 
<p>参数说明：<br> -i: 交互式操作<br> -t: 终端<br> ubuntu: ubuntu 镜像。<br> /bin/bash：放在镜像名后的是命令，这里我们希望有个交互式 Shell，因此用的是 /bin/bash。<br> 要退出终端，直接输入 <strong>exit</strong></p> 
<hr> 
<h3><a id="_95"></a>后台运行</h3> 
<p>在大部分的场景下，我们希望 docker 的服务是在后台运行的，可以通过 <strong>-d</strong> 指定容器的运行模式。</p> 
<pre><code class="prism language-bash"><span class="token function">docker</span> run <span class="token parameter variable">-itd</span> <span class="token parameter variable">--name</span> ubuntu-test ubuntu /bin/bash
</code></pre> 
<hr> 
<h3><a id="_106"></a>更新镜像</h3> 
<p>在运行的容器内使用 <strong>apt-get update</strong> 命令进行更新。</p> 
<p>在完成操作之后，输入 exit 命令来退出这个容器。</p> 
<p>此时 ID 为 e2 的容器，是按我们的需求更改的容器。我们可以通过命令 docker commit 来提交容器副本。</p> 
<p><img src="https://images2.imgbox.com/35/06/qgVk64uC_o.png" alt="image-20221213212553243"></p> 
<p>各个参数说明：</p> 
<ul><li><strong>-m:</strong> 提交的描述信息</li><li><strong>-a:</strong> 指定镜像作者</li><li>**e2：**容器 ID</li><li><strong>caohaojie/ubuntu:v1:</strong> 指定要创建的目标镜像名</li></ul> 
<p>可以使用 <strong>docker images</strong> 命令来查看我们的新镜像 <strong>caohaojie/ubuntu:v1</strong></p> 
<hr> 
<h3><a id="_127"></a>设置镜像标签</h3> 
<p>可以使用 docker tag 命令，为镜像添加一个新的标签</p> 
<pre><code class="prism language-bash"><span class="token function">docker</span> tag 55a caohaojie/ubuntu:v2
</code></pre> 
<p>docker tag <strong>镜像ID</strong> <strong>用户名称</strong> <strong>镜像源名(repository name):新的标签名(tag)</strong></p> 
<hr> 
<h3><a id="Docker_143"></a>Docker容器图形化界面显示</h3> 
<h4><a id="_145"></a>参考链接</h4> 
<ul><li><a href="https://mp.weixin.qq.com/s/7btzSqDGxNanRfBnU-6ZIQ" rel="nofollow">Docker容器图形化界面显示</a></li></ul> 
<h4><a id="_149"></a>具体操作</h4> 
<ul><li>在本地主机上安装x11界面服务</li></ul> 
<pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> x11-xserver-utils
</code></pre> 
<pre><code class="prism language-bash">xhost + 
</code></pre> 
<p>这两句的作用是开放权限，允许所有用户，当然包括docker，访问X11的显示接口</p> 
<p><strong>xhost +</strong> 每次重新开机，需要在本机操作一次，故选择将<strong>xhost +</strong> ，加入开机启动脚本——<a href="https://blog.csdn.net/qq_38441692/article/details/104187378">ros开机启动roscore及launch文件_蒋程扬的博客-CSDN博客_ros设置开机自启动roscore</a></p> 
<ul><li>在启动docker容器时，添加选项如下</li></ul> 
<blockquote> 
 <p>-v /tmp/.x11-unix:/tmp/.x11-unix \ #共享本地unix端口</p> 
 <p>-e DISPLAY=unix$DISPLAY \ #修改环境变量DISPLAY</p> 
 <p>-e GDK_SCALE \ #这两个是与显示效果相关的环境变量，实际测试时，不添加这两个环境变量也可以</p> 
 <p>-e GDK_DPI_SCALE</p> 
</blockquote> 
<h4><a id="_177"></a>完整命令</h4> 
<pre><code class="prism language-bash"><span class="token function">docker</span> run <span class="token parameter variable">-it</span> <span class="token parameter variable">-v</span> /tmp/.x11-unix:/tmp/.x11-unix <span class="token parameter variable">-e</span> <span class="token assign-left variable"><span class="token environment constant">DISPLAY</span></span><span class="token operator">=</span>unix<span class="token environment constant">$DISPLAY</span> <span class="token parameter variable">-e</span> GDK_SCALE <span class="token parameter variable">-e</span> GDK_DPI_SCALE <span class="token parameter variable">--net</span><span class="token operator">=</span>host ubuntu:18.04 /bin/bash
</code></pre> 
<p>如果不加<code>--net=host</code>，可能会出现以下问题：</p> 
<p><strong>Error: cannot open display: localhost:10.0</strong></p> 
<p><strong>cannot open display: unix:0</strong></p> 
<h3><a id="VS_Code_191"></a>VS_Code配置</h3> 
<p>前提：ubuntu已安装好<strong>docker</strong>，code安装好<strong>docker</strong>插件</p> 
<p><img src="https://images2.imgbox.com/9d/6f/3IM7NA6C_o.png" alt=""></p> 
<p>1.点击<strong>Docker Help</strong> ----&gt;2.点击<strong>Edit setting</strong>----&gt;3.修改 <code>Docker › Commands: Run Interactive</code>如下</p> 
<pre><code class="prism language-json"><span class="token string-property property">"docker.commands.runInteractive"</span><span class="token operator">:</span> <span class="token string">"${containerCommand} run --rm -it -v /tmp/.x11-unix:/tmp/.x11-unix -e DISPLAY=unix$DISPLAY -e GDK_SCALE -e GDK_DPI_SCALE --net=host ${exposedPorts} ${tag}"</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/36/59/LjaL6DBf_o.png" alt=""></p> 
<h3><a id="LIO_SAM_204"></a>测试LIO_SAM</h3> 
<ul><li>新建Dockerfile</li></ul> 
<p>新建Dockerfile，复制<a href="https://github.com/TixiaoShan/LIO-SAM#todo">LIO_SAM</a>仓库目录下的Dockerfile的内容，将第5行的内容去掉，修改后如下</p> 
<pre><code class="prism language-dockerfile">FROM osrf/ros:kinetic-desktop-full-xenial

RUN apt-get update \
    &amp;&amp; apt-get install -y curl \
    &amp;&amp; apt-get update \
    &amp;&amp; apt-get install -y ros-kinetic-navigation \
    &amp;&amp; apt-get install -y ros-kinetic-robot-localization \
    &amp;&amp; apt-get install -y ros-kinetic-robot-state-publisher \
    &amp;&amp; rm -rf /var/lib/apt/lists/*

RUN apt-get update \
    &amp;&amp; apt install -y software-properties-common \
    &amp;&amp; add-apt-repository -y ppa:borglab/gtsam-release-4.0 \
    &amp;&amp; apt-get update \
    &amp;&amp; apt install -y libgtsam-dev libgtsam-unstable-dev \
    &amp;&amp; rm -rf /var/lib/apt/lists/*

SHELL ["/bin/bash", "-c"]

RUN mkdir -p ~/catkin_ws/src \
    &amp;&amp; cd ~/catkin_ws/src \
    &amp;&amp; git clone https://github.com/TixiaoShan/LIO-SAM.git \
    &amp;&amp; cd .. \
    &amp;&amp; source /opt/ros/kinetic/setup.bash \
    &amp;&amp; catkin_make

RUN echo "source /opt/ros/kinetic/setup.bash" &gt;&gt; /root/.bashrc \
    &amp;&amp; echo "source /root/catkin_ws/devel/setup.bash" &gt;&gt; /root/.bashrc

WORKDIR /root/catkin_ws
</code></pre> 
<ul><li>docker build-建立镜像</li></ul> 
<p>在Dockerfile的当前目录运行如下命令</p> 
<pre><code>docker build -t caohaojie/lio_sam:dev .
</code></pre> 
<p>打开vs code的<strong>docker</strong>活动栏，能显示出建立完成的镜像</p> 
<ul><li>docker run-启动容器</li></ul> 
<p>选中目标镜像，右键点击 <strong>Run Interactive</strong> 启动容器</p> 
<p><img src="https://images2.imgbox.com/cb/ed/a727iOjQ_o.png" alt="code_run_image"></p> 
<ul><li>运行数据集</li></ul> 
<ol><li>在容器终端启动launch文件</li></ol> 
<pre><code class="prism language-bash">roslaunch lio_sam run.launch
</code></pre> 
<ol start="2"><li>在本地终端播放数据集</li></ol> 
<p>最终结果如图所示</p> 
<p><img src="https://images2.imgbox.com/07/b5/3RXy75EU_o.png" alt=""></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/13becc0087411d3bc1e74c5b13624764/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">AOP的一点浅薄理解</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/e05b5fc7fc9edcf9dc165d2123b0410a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">TemplateInputException: An error happened during template parsing</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>