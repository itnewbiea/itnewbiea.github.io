<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>jquery调用页面后台方法‏ - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="jquery调用页面后台方法‏" />
<meta property="og:description" content="源地址：http://www.cnblogs.com/liyuxin/archive/2011/03/01/1967776.html
jquery调用页面后台方法‏如下：
给出了两个简单的例子，无参数的和有参数的，返回的都是json数据。
&lt;%@Page Language=&#34;C#&#34;AutoEventWireup=&#34;true&#34;CodeBehind=&#34;JqueryCSMethodForm.aspx.cs&#34;Inherits=&#34;JQuerWeb.JqueryCSMethodForm&#34;%&gt;
&lt;!DOCTYPEhtml PUBLIC &#34;-//W3C//DTD XHTML 1.0 Transitional//EN&#34; &#34;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&#34;&gt;
&lt;htmlxmlns=&#34;http://www.w3.org/1999/xhtml&#34;&gt;
&lt;headrunat=&#34;server&#34;&gt;
&lt;title&gt;&lt;/title&gt;
&lt;script type=&#34;text/javascript&#34;src=&#34;JS/jquery-1.4.2.js&#34;&gt;&lt;/script&gt;
&lt;script type=&#34;text/javascript&#34;&gt;
$(document).ready(function() {
$(&#34;input[type=&#39;button&#39;][value=&#39;GetDate&#39;]&#34;).click(function() {
$.ajax({
type:&#34;post&#34;,
url:&#34;JqueryCSMethodForm.aspx/GetNowDate&#34;,
datatype:&#34;json&#34;,
contentType:&#34;application/json; charset=utf-8&#34;,
success:function(data) {
$(&#34;input#showTime&#34;).val(eval(&#39;(&#39; &#43; data.d &#43;&#39;)&#39;)[0].nowtime);
},
error:function(XMLHttpRequest, textStatus, errorThrown) {
alert(errorThrown);
}
});
});
$(&#34;input[type=&#39;button&#39;][value=&#39;GetOneDayLater&#39;]&#34;).click(function() {
$.ajax({
type:&#34;post&#34;,
url:&#34;JqueryCSMethodForm.aspx/GetOneDayLate&#34;,
data:&#34;{days:1}&#34;,
datatype:&#34;json&#34;,
contentType:&#34;application/json; charset=utf-8&#34;,
success:function(data) {
$(&#34;input#showTime&#34;).val(eval(&#39;(&#39; &#43; data.d &#43;&#39;)&#39;)[0].nowtime);
},
error:function(XMLHttpRequest, textStatus, errorThrown) {
alert(errorThrown);
}
});
});
});" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/09208291c15aaaedc8363b4c049a7a6e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2011-10-31T09:48:06+08:00" />
<meta property="article:modified_time" content="2011-10-31T09:48:06+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">jquery调用页面后台方法‏</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p></p> 
<p>源地址：<a href="http://www.cnblogs.com/liyuxin/archive/2011/03/01/1967776.html" rel="nofollow">http://www.cnblogs.com/liyuxin/archive/2011/03/01/1967776.html</a></p> 
<p>jquery调用页面后台方法‏如下：</p> 
<p>给出了两个简单的例子，无参数的和有参数的，返回的都是json数据。</p> 
<p><span style="font-family:'Times New Roman','serif'; background:yellow; font-size:13pt">&lt;%</span><span style="font-family:'Times New Roman','serif'; color:blue; font-size:13pt">@</span><span style="font-family:'Times New Roman','serif'; font-size:13pt"><span style="color:#a31515">Page</span> <span style="color:red">Language</span><span style="color:blue">="C#"</span><span style="color:red">AutoEventWireup</span><span style="color:blue">="true"</span><span style="color:red">CodeBehind</span><span style="color:blue">="JqueryCSMethodForm.aspx.cs"</span><span style="color:red">Inherits</span><span style="color:blue">="JQuerWeb.JqueryCSMethodForm"</span><span style="background:yellow">%&gt;</span></span></p> 
<p><span style="font-family:'Times New Roman','serif'; color:blue; font-size:13pt">&lt;!</span><span style="font-family:'Times New Roman','serif'; color:#a31515; font-size:13pt">DOCTYPE</span><span style="font-family:'Times New Roman','serif'; font-size:13pt"><span style="color:red">html</span> <span style="color:red">PUBLIC</span> <span style="color:blue">"-//W3C//DTD XHTML 1.0 Transitional//EN"</span> <span style="color:blue">"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;</span></span></p> 
<p><span style="font-family:'Times New Roman','serif'; color:blue; font-size:13pt">&lt;</span><span style="font-family:'Times New Roman','serif'; color:#a31515; font-size:13pt">html</span><span style="font-family:'Times New Roman','serif'; font-size:13pt"><span style="color:red">xmlns</span><span style="color:blue">="http://www.w3.org/1999/xhtml"</span><span style="color:blue">&gt;</span></span></p> 
<p><span style="font-family:'Times New Roman','serif'; color:blue; font-size:13pt">&lt;</span><span style="font-family:'Times New Roman','serif'; color:#a31515; font-size:13pt">head</span><span style="font-family:'Times New Roman','serif'; font-size:13pt"><span style="color:red">runat</span><span style="color:blue">="server"&gt;</span></span></p> 
<p><span style="font-family:'Times New Roman','serif'; font-size:13pt">    <span style="color:blue"> &lt;</span><span style="color:#a31515">title</span><span style="color:blue">&gt;&lt;/</span><span style="color:#a31515">title</span><span style="color:blue">&gt;</span></span></p> 
<p><span style="font-family:'Times New Roman','serif'; font-size:13pt">    <span style="color:blue"> &lt;</span><span style="color:#a31515">script</span> <span style="color:red">type</span><span style="color:blue">="text/javascript"</span><span style="color:red">src</span><span style="color:blue">="JS/jquery-1.4.2.js"&gt;&lt;/</span><span style="color:#a31515">script</span><span style="color:blue">&gt;</span></span></p> 
<p><span style="font-family:'Times New Roman','serif'; font-size:13pt">    </span> </p> 
<p><span style="font-family:'Times New Roman','serif'; font-size:13pt">    <span style="color:blue"> &lt;</span><span style="color:#a31515">script</span> <span style="color:red">type</span><span style="color:blue">="text/javascript"&gt;</span></span></p> 
<p><span style="font-family:'Times New Roman','serif'; font-size:13pt">        $(document).ready(<span style="color:blue">function</span>() {<!-- --></span></p> 
<p><span style="font-family:'Times New Roman','serif'; font-size:13pt">            $(<span style="color:#a31515">"input[type='button'][value='GetDate']"</span>).click(<span style="color:blue">function</span>() {<!-- --></span></p> 
<p><span style="font-family:'Times New Roman','serif'; font-size:13pt">                $.ajax({<!-- --></span></p> 
<p><span style="font-family:'Times New Roman','serif'; font-size:13pt">                    type:<span style="color:#a31515">"post"</span>,</span></p> 
<p><span style="font-family:'Times New Roman','serif'; font-size:13pt">                    url:<span style="color:#a31515">"JqueryCSMethodForm.aspx/GetNowDate"</span>,</span></p> 
<p><span style="font-family:'Times New Roman','serif'; font-size:13pt">                    datatype:<span style="color:#a31515">"json"</span>,</span></p> 
<p><span style="font-family:'Times New Roman','serif'; font-size:13pt">                    contentType:<span style="color:#a31515">"application/json; charset=utf-8"</span>,</span></p> 
<p><span style="font-family:'Times New Roman','serif'; font-size:13pt">                    success:<span style="color:blue">function</span>(data) {<!-- --></span></p> 
<p><span style="font-family:'Times New Roman','serif'; font-size:13pt">                        $(<span style="color:#a31515">"input#showTime"</span>).val(eval(<span style="color:#a31515">'('</span> + data.d +<span style="color:#a31515">')'</span>)[0].nowtime);</span></p> 
<p><span style="font-family:'Times New Roman','serif'; font-size:13pt">                    },</span></p> 
<p><span style="font-family:'Times New Roman','serif'; font-size:13pt">                    error:<span style="color:blue">function</span>(XMLHttpRequest, textStatus, errorThrown) {<!-- --></span></p> 
<p><span style="font-family:'Times New Roman','serif'; font-size:13pt">                        alert(errorThrown);</span></p> 
<p><span style="font-family:'Times New Roman','serif'; font-size:13pt">                    }</span></p> 
<p><span style="font-family:'Times New Roman','serif'; font-size:13pt">                });</span></p> 
<p><span style="font-family:'Times New Roman','serif'; font-size:13pt">            });</span></p> 
<p><span style="font-family:'Times New Roman','serif'; font-size:13pt">            $(<span style="color:#a31515">"input[type='button'][value='GetOneDayLater']"</span>).click(<span style="color:blue">function</span>() {<!-- --></span></p> 
<p><span style="font-family:'Times New Roman','serif'; font-size:13pt">                $.ajax({<!-- --></span></p> 
<p><span style="font-family:'Times New Roman','serif'; font-size:13pt">                    type:<span style="color:#a31515">"post"</span>,</span></p> 
<p><span style="font-family:'Times New Roman','serif'; font-size:13pt">                    url:<span style="color:#a31515">"JqueryCSMethodForm.aspx/GetOneDayLate"</span>,</span></p> 
<p><span style="font-family:'Times New Roman','serif'; font-size:13pt">                    data:<span style="color:#a31515">"{days:1}"</span>,</span></p> 
<p><span style="font-family:'Times New Roman','serif'; font-size:13pt">                    datatype:<span style="color:#a31515">"json"</span>,</span></p> 
<p><span style="font-family:'Times New Roman','serif'; font-size:13pt">                    contentType:<span style="color:#a31515">"application/json; charset=utf-8"</span>,</span></p> 
<p><span style="font-family:'Times New Roman','serif'; font-size:13pt">                    success:<span style="color:blue">function</span>(data) {<!-- --></span></p> 
<p><span style="font-family:'Times New Roman','serif'; font-size:13pt">                        $(<span style="color:#a31515">"input#showTime"</span>).val(eval(<span style="color:#a31515">'('</span> + data.d +<span style="color:#a31515">')'</span>)[0].nowtime);</span></p> 
<p><span style="font-family:'Times New Roman','serif'; font-size:13pt">                    },</span></p> 
<p><span style="font-family:'Times New Roman','serif'; font-size:13pt">                    error:<span style="color:blue">function</span>(XMLHttpRequest, textStatus, errorThrown) {<!-- --></span></p> 
<p><span style="font-family:'Times New Roman','serif'; font-size:13pt">                    alert(errorThrown);</span></p> 
<p><span style="font-family:'Times New Roman','serif'; font-size:13pt">                    }</span></p> 
<p><span style="font-family:'Times New Roman','serif'; font-size:13pt">                });</span></p> 
<p><span style="font-family:'Times New Roman','serif'; font-size:13pt">            });</span></p> 
<p><span style="font-family:'Times New Roman','serif'; font-size:13pt">        });</span></p> 
<p><span style="font-family:'Times New Roman','serif'; font-size:13pt">       </span> </p> 
<p><span style="font-family:'Times New Roman','serif'; font-size:13pt">    <span style="color:blue"> &lt;/</span><span style="color:#a31515">script</span><span style="color:blue">&gt;</span></span></p> 
<p><span style="font-family:'Times New Roman','serif'; color:blue; font-size:13pt">&lt;/</span><span style="font-family:'Times New Roman','serif'; color:#a31515; font-size:13pt">head</span><span style="font-family:'Times New Roman','serif'; color:blue; font-size:13pt">&gt;</span></p> 
<p><span style="font-family:'Times New Roman','serif'; color:blue; font-size:13pt">&lt;</span><span style="font-family:'Times New Roman','serif'; color:#a31515; font-size:13pt">body</span><span style="font-family:'Times New Roman','serif'; color:blue; font-size:13pt">&gt;</span></p> 
<p><span style="font-family:'Times New Roman','serif'; font-size:13pt">    <span style="color:blue"> &lt;</span><span style="color:#a31515">form</span> <span style="color:red">id</span><span style="color:blue">="form1"</span><span style="color:red">runat</span><span style="color:blue">="server"&gt;</span></span></p> 
<p><span style="font-family:'Times New Roman','serif'; font-size:13pt">    <span style="color:blue"> &lt;</span><span style="color:#a31515">div</span><span style="color:blue">&gt;</span></span></p> 
<p><span style="font-family:'Times New Roman','serif'; font-size:13pt">        <span style="color:blue"> &lt;</span><span style="color:#a31515">input</span> <span style="color:red">type</span><span style="color:blue">="button"</span><span style="color:red">value</span><span style="color:blue">="GetDate"</span> <span style="color:blue">/&gt;</span></span></p> 
<p><span style="font-family:'Times New Roman','serif'; font-size:13pt">        <span style="color:blue"> &lt;</span><span style="color:#a31515">input</span> <span style="color:red">type</span><span style="color:blue">=button</span><span style="color:red">value</span><span style="color:blue">="GetOneDayLater"</span><span style="color:blue">/&gt;</span></span></p> 
<p><span style="font-family:'Times New Roman','serif'; font-size:13pt">        <span style="color:blue"> &lt;</span><span style="color:#a31515">input</span> <span style="color:red">type</span><span style="color:blue">="text"</span><span style="color:red">id</span><span style="color:blue">="showTime"</span> <span style="color:blue">/&gt;</span></span></p> 
<p><span style="font-family:'Times New Roman','serif'; font-size:13pt">    <span style="color:blue"> &lt;/</span><span style="color:#a31515">div</span><span style="color:blue">&gt;</span></span></p> 
<p><span style="font-family:'Times New Roman','serif'; font-size:13pt">    <span style="color:blue"> &lt;/</span><span style="color:#a31515">form</span><span style="color:blue">&gt;</span></span></p> 
<p><span style="font-family:'Times New Roman','serif'; color:blue; font-size:13pt">&lt;/</span><span style="font-family:'Times New Roman','serif'; color:#a31515; font-size:13pt">body</span><span style="font-family:'Times New Roman','serif'; color:blue; font-size:13pt">&gt;</span></p> 
<p><span style="font-family:'Times New Roman','serif'; color:blue; font-size:13pt">&lt;/</span><span style="font-family:'Times New Roman','serif'; color:#a31515; font-size:13pt">html</span><span style="font-family:'Times New Roman','serif'; color:blue; font-size:13pt">&gt;</span></p> 
<p>CS代码：</p> 
<p>  </p> 
<p><span style="font-family:'Times New Roman','serif'; color:blue; font-size:13pt">using</span><span style="font-family:'Times New Roman','serif'; font-size:13pt"> System;</span></p> 
<p><span style="font-family:'Times New Roman','serif'; color:blue; font-size:13pt">using</span><span style="font-family:'Times New Roman','serif'; font-size:13pt"> System.Collections.Generic;</span></p> 
<p><span style="font-family:'Times New Roman','serif'; color:blue; font-size:13pt">using</span><span style="font-family:'Times New Roman','serif'; font-size:13pt"> System.Linq;</span></p> 
<p><span style="font-family:'Times New Roman','serif'; color:blue; font-size:13pt">using</span><span style="font-family:'Times New Roman','serif'; font-size:13pt"> System.Web;</span></p> 
<p><span style="font-family:'Times New Roman','serif'; color:blue; font-size:13pt">using</span><span style="font-family:'Times New Roman','serif'; font-size:13pt"> System.Web.UI;</span></p> 
<p><span style="font-family:'Times New Roman','serif'; color:blue; font-size:13pt">using</span><span style="font-family:'Times New Roman','serif'; font-size:13pt"> System.Web.UI.WebControls;</span></p> 
<p><span style="font-family:'Times New Roman','serif'; color:blue; font-size:13pt">using</span><span style="font-family:'Times New Roman','serif'; font-size:13pt"> System.Web.Services;</span></p> 
<p><span style="font-family:'Times New Roman','serif'; color:blue; font-size:13pt">namespace</span><span style="font-family:'Times New Roman','serif'; font-size:13pt"> JQuerWeb</span></p> 
<p><span style="font-family:'Times New Roman','serif'; font-size:13pt">{<!-- --></span></p> 
<p><span style="font-family:'Times New Roman','serif'; font-size:13pt">    <span style="color:blue"> public</span> <span style="color:blue">partial</span> <span style="color:blue">class</span><span style="color:#2b91af">JqueryCSMethodForm</span> : System.Web.UI.<span style="color:#2b91af">Page</span></span></p> 
<p><span style="font-family:'Times New Roman','serif'; font-size:13pt">    {<!-- --></span></p> 
<p><span style="font-family:'Times New Roman','serif'; font-size:13pt">        </span> </p> 
<p><span style="font-family:'Times New Roman','serif'; font-size:13pt">        <span style="color:blue"> protected</span> <span style="color:blue">void</span> Page_Load(<span style="color:blue">object</span> sender,<span style="color:#2b91af">EventArgs</span> e)</span></p> 
<p><span style="font-family:'Times New Roman','serif'; font-size:13pt">        {<!-- --></span></p> 
<p><span style="font-family:'Times New Roman','serif'; font-size:13pt">          </span></p> 
<p><span style="font-family:'Times New Roman','serif'; font-size:13pt">        }</span></p> 
<p><span style="font-family:'Times New Roman','serif'; font-size:13pt">        [<span style="color:#2b91af">WebMethod</span>]</span></p> 
<p><span style="font-family:'Times New Roman','serif'; font-size:13pt">        <span style="color:blue"> public</span> <span style="color:blue">static</span> <span style="color:#2b91af"> String</span> GetNowDate()</span></p> 
<p><span style="font-family:'Times New Roman','serif'; font-size:13pt">        {<!-- --></span></p> 
<p><span style="font-family:'Times New Roman','serif'; font-size:13pt">           <span style="color:blue">return</span> <span style="color:#a31515">"[{\"nowtime\":\""</span> +<span style="color:#2b91af">DateTime</span>.Now.ToShortDateString() + <span style="color:#a31515">"\"}]"</span>;</span></p> 
<p><span style="font-family:'Times New Roman','serif'; font-size:13pt">        }</span></p> 
<p><span style="font-family:'Times New Roman','serif'; font-size:13pt">        [<span style="color:#2b91af">WebMethod</span>]</span></p> 
<p><span style="font-family:'Times New Roman','serif'; font-size:13pt">        <span style="color:blue"> public</span> <span style="color:blue">static</span> <span style="color:#2b91af"> String</span> GetOneDayLate(<span style="color:#2b91af">Int32</span> days)</span></p> 
<p><span style="font-family:'Times New Roman','serif'; font-size:13pt">        {<!-- --></span></p> 
<p><span style="font-family:'Times New Roman','serif'; font-size:13pt">           <span style="color:blue">return</span> <span style="color:#a31515">"[{\"nowtime\":\""</span> +<span style="color:#2b91af">DateTime</span>.Now.AddDays(days).ToShortDateString() +<span style="color:#a31515">"\"}]"</span>;</span></p> 
<p><span style="font-family:'Times New Roman','serif'; font-size:13pt">        }</span></p> 
<p><span style="font-family:'Times New Roman','serif'; font-size:13pt">    }</span></p> 
<p><span style="font-family:'Times New Roman','serif'; font-size:13pt">}</span></p> 注意点： 
<p>(1) url的填写格式　url+"/method name" </p> 
<p>(2)<span style="font-family:'Times New Roman','serif'; font-size:13pt"> contentType:<span style="color:#a31515">"application/json; charset=utf-8"</span>,</span> 这个必须要有</p> 
<p>(3) 返回数据的类型为json</p> 
<p>(4) <span style="font-family:'Times New Roman','serif'; font-size:13pt">data:<span style="color:#a31515">"{days:1}"</span>,</span>参数的传递</p> 
<p>(5)  后台的方法必须是public static 而且还要有 [WebMethod]特性修饰</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/994bbaeecf0168e0c068d01148679968/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">xbmc addons</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/7051a687b9073f035467ae3215410b86/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Adobe查看pdf字体变模糊（粗糙）问题的解决方法</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>