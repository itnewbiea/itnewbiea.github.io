<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>npm 使用简介及 package.json 详解 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="npm 使用简介及 package.json 详解" />
<meta property="og:description" content="npm 简介 全称：Node Package Manager
npm 是随同 NodeJS 一起安装的包管理工具，能解决NodeJS代码部署上的很多问题。
使用 npm 命令安装模块 $ npm install &lt;Module Name&gt;	// 本地安装 $ npm install &lt;Module Name&gt;	-g	// 全局安装 package.json 记录项目名称、版本号、项目描述，以及列出当前项目所依赖的其他库的信息和依赖库的版本号。
如何生成 package.json 文件 $ npm init // 或者 $ npm init --yes // 基本内容如下 { &#34;name&#34;: &#34;Hello world&#34;, &#34;version&#34;: &#34;1.0.0&#34;, &#34;description&#34;: &#34;My first project&#34;, &#34;repository&#34;: &#34;...&#34;, &#34;author&#34;: &#34;xxx@gmail.com&#34;, &#34;license&#34;: &#34;UNLICENSED&#34;, &#34;private&#34;: true, } //private 字段可以声明当前项目是否是私有的，为 true 则 npm 不能发布它 package.json 常用属性说明 scripts scripts属性用于配置一些脚本命令，以键值对的形式存在配置后通过 npm run 的 key 来执行这个命令对于常用的 start、test、stop、restart 可以省略掉 run 直接通过 npm start 等方式运行 dependencies、devDependencies 和 peerDependencies 的区别 dependencies 是指无论开发环境还是生产环境都需要依赖的包。通常是我们项目实际开发要用到的一些库，如 react、react-dom、react-redux、axios 等。devDependencies 只包含用在 dev 和 test 环境上的包。一些包在生产环境是不需要的，如 webpack、babel 等。如：通过 npm install webpack --save-dev（或-D），安装到 devDependencies。peerDependencies 对等依赖。就是你依赖的一个包，它必须是以另外一个宿主包为前提的；比如 element-plus 是依赖于 vue3 的，ant design是依赖于 react、react-dom； engines 用于指定 Node 和 NPM 的版本号（安装时会检查对应的引擎版本，不符合报错）" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/274ffb21e575ea1a3e46451034ab3a0a/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-11-07T21:57:36+08:00" />
<meta property="article:modified_time" content="2022-11-07T21:57:36+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">npm 使用简介及 package.json 详解</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="npm__0"></a>npm 简介</h2> 
<blockquote> 
 <p>全称：<strong>Node Package Manager</strong><br> npm 是随同 NodeJS 一起安装的包管理工具，能解决NodeJS代码部署上的很多问题。</p> 
</blockquote> 
<h3><a id="_npm__3"></a>使用 npm 命令安装模块</h3> 
<pre><code class="prism language-js">$ npm install <span class="token operator">&lt;</span>Module Name<span class="token operator">&gt;</span>			<span class="token comment">// 本地安装</span>
$ npm install <span class="token operator">&lt;</span>Module Name<span class="token operator">&gt;</span>	<span class="token operator">-</span>g		<span class="token comment">// 全局安装</span>
</code></pre> 
<h3><a id="packagejson_8"></a>package.json</h3> 
<blockquote> 
 <p>记录项目名称、版本号、项目描述，以及列出当前项目所依赖的其他库的信息和依赖库的版本号。</p> 
</blockquote> 
<h3><a id="_packagejson__10"></a>如何生成 package.json 文件</h3> 
<pre><code class="prism language-javascript">$ npm init
<span class="token comment">// 或者</span>
$ npm init <span class="token operator">--</span>yes
<span class="token comment">// 基本内容如下</span>
<span class="token punctuation">{<!-- --></span>
  <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"Hello world"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"version"</span><span class="token operator">:</span> <span class="token string">"1.0.0"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"description"</span><span class="token operator">:</span> <span class="token string">"My first project"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"repository"</span><span class="token operator">:</span> <span class="token string">"..."</span><span class="token punctuation">,</span>
  <span class="token string-property property">"author"</span><span class="token operator">:</span> <span class="token string">"xxx@gmail.com"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"license"</span><span class="token operator">:</span> <span class="token string">"UNLICENSED"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"private"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token comment">//private 字段可以声明当前项目是否是私有的，为 true 则 npm 不能发布它</span>
</code></pre> 
<h3><a id="packagejson__27"></a>package.json 常用属性说明</h3> 
<ul><li>scripts</li></ul> 
<blockquote> 
 <ol><li>scripts属性用于配置一些脚本命令，以键值对的形式存在</li><li>配置后通过 npm run 的 key 来执行这个命令</li><li>对于常用的 start、test、stop、restart 可以省略掉 run 直接通过 npm start 等方式运行</li></ol> 
</blockquote> 
<ul><li>dependencies、devDependencies 和 peerDependencies 的区别</li></ul> 
<blockquote> 
 <ol><li>dependencies 是指无论开发环境还是生产环境都需要依赖的包。通常是我们项目实际开发要用到的一些库，如 react、react-dom、react-redux、axios 等。</li><li>devDependencies 只包含用在 dev 和 test 环境上的包。一些包在生产环境是不需要的，如 webpack、babel 等。如：通过 npm install webpack --save-dev（或-D），安装到 devDependencies。</li><li>peerDependencies 对等依赖。就是你依赖的一个包，它必须是以另外一个宿主包为前提的；比如 element-plus 是依赖于 vue3 的，ant design是依赖于 react、react-dom；</li></ol> 
</blockquote> 
<ul><li>engines</li></ul> 
<blockquote> 
 <p>用于指定 Node 和 NPM 的版本号（安装时会检查对应的引擎版本，不符合报错）</p> 
</blockquote> 
<ul><li>browserslist</li></ul> 
<blockquote> 
 <p>用于配置打包后的JS浏览器的兼容情况，它是为 webpack 等打包工具服务的一个属性。</p> 
</blockquote> 
<h3><a id="_41"></a>版本号说明</h3> 
<blockquote> 
 <p>semver版本规范 X.Y.Z<br> X 主版本号（major）: 当你做了（可能）不兼容之前版本的API修改；<br> Y 次版本号（minor）: 当你做了向下兼容的功能性新增（新功能增加，但是兼容之前的版本）；<br> Z 修订号（patch）: 当你做了向下兼容的问题修正（没有新功能，修复之前版本的bug）;</p> 
</blockquote> 
<ul><li>版本号前的 ^ 和 ~ 的区别</li></ul> 
<blockquote> 
 <p>x.y.z 表示一个明确的版本号<br> ^x.y.z 表示x是保持不变的，y和z永远安装最新的版本；<br> ~x.y.z 表示x和y保持不变的，z永远安装最新的版本；</p> 
</blockquote> 
<h3><a id="packagelock_51"></a>package-lock文件</h3> 
<blockquote> 
 <p>从registry仓库下载npm包，下载后会做缓存，放在package-lock文件里面<br> name - 项目名<br> version - 版本<br> lockfileVersion - lock文件的版本<br> requires - 跟踪模块的依赖关系<br> dependencies - 项目的依赖</p> 
</blockquote> 
<pre><code class="prism language-js"><span class="token comment">//例如：</span>
<span class="token literal-property property">axios</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
	<span class="token literal-property property">version</span><span class="token operator">:</span> <span class="token number">0.20</span><span class="token number">.0</span>		<span class="token comment">//代表实际安装的版本</span>
	<span class="token literal-property property">resolved</span><span class="token operator">:</span> <span class="token operator">...</span>		<span class="token comment">//记录下载的地址，registry仓库中的位置</span>
	<span class="token literal-property property">integrity</span><span class="token operator">:</span> <span class="token operator">...</span>		<span class="token comment">//用来从缓存中获取索引，再通过索引去获取压缩包文件</span>
	<span class="token literal-property property">dependencies</span><span class="token operator">:</span> <span class="token operator">...</span>	<span class="token comment">//记录当前模块的依赖</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="npm_install__67"></a>npm install 原理</h3> 
<ul><li>执行 npm install -&gt; 查找 package.json -&gt; 检测是否有 lock 文件</li><li>没有 lock 文件 -&gt; 分析依赖关系（可能包会依赖其他的包）-&gt; 从 registry 仓库下载压缩包（并做缓存，npm5开始） -&gt; 解压到 node_modules -&gt; 生成 package-lock 文件 -&gt; 完成安装。</li><li>有 lock 文件 -&gt; 去 lock 文件里检查包的版本是否和 package.json 一致（按 semver 版本规范检测），如果一致则优先查找缓存，得到压缩包；如果不一致，重新构建依赖关系，再从 registry 仓库去获取压缩包。</li></ul>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/77d8e8561149fc64a9bb2c094167a33b/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">动态规划——01背包问题（C&#43;&#43;实现）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/1edc4318ecc0fc9fcf25161ed3f21874/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">[时间序列预测]基于BP、RNN、LSTM、CNN-LSTM算法多特征（多影响因素）用电负荷预测[保姆级手把手教学]</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>