<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>ECMAScript 6学习笔记（一）：展开运算符 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="ECMAScript 6学习笔记（一）：展开运算符" />
<meta property="og:description" content="JavaScript是ECMAScript的实现和扩展，ES6标准的制定也为JavaScript加入了许多新特性。本文主要记录展开运算符。
展开运算符（spread operator）允许一个表达式在某处展开。展开运算符在多个参数（用于函数调用）或多个元素（用于数组字面量）或者多个变量（用于解构赋值）的地方可以使用。
展开运算符不能用在对象当中，因为目前展开运算符只能在可遍历对象（iterables）可用。iterables的实现是依靠[Symbol.iterator]函数，而目前只有Array,Set,String内置[Symbol.iterator]方法，而Object尚未内置该方法，因此无法使用展开运算符。不过ES7草案当中已经加入了对象展开运算符特性。
函数调用中使用展开运算符 在以前我们会使用apply方法来将一个数组展开成多个参数：
function test(a, b, c) { } var args = [0, 1, 2]; test.apply(null, args); 如上，我们把args数组当作实参传递给了a,b,c，这边正是利用了Function.prototype.apply的特性。
不过有了ES6，我们就可以更加简洁地来传递数组参数：
function test(a,b,c) { } var args = [0,1,2]; test(...args); 我们使用...展开运算符就可以把args直接传递给test()函数。
数组字面量中使用展开运算符 &#39;&#39; 在ES6的世界中，我们可以直接加一个数组直接合并到另外一个数组当中：
var arr1=[&#39;a&#39;,&#39;b&#39;,&#39;c&#39;]; var arr2=[...arr1,&#39;d&#39;,&#39;e&#39;]; //[&#39;a&#39;,&#39;b&#39;,&#39;c&#39;,&#39;d&#39;,&#39;e&#39;] 展开运算符也可以用在push函数中，可以不用再用apply()函数来合并两个数组：
var arr1=[&#39;a&#39;,&#39;b&#39;,&#39;c&#39;]; var arr2=[&#39;d&#39;,&#39;e&#39;]; arr1.push(...arr2); //[&#39;a&#39;,&#39;b&#39;,&#39;c&#39;,&#39;d&#39;,&#39;e&#39;] 用于解构赋值 解构赋值也是ES6中的一个特性，而这个展开运算符可以用于部分情景：
let [arg1,arg2,...arg3] = [1, 2, 3, 4]; arg1 //1 arg2 //2 arg3 //[&#39;3&#39;,&#39;4&#39;] 展开运算符在解构赋值中的作用跟之前的作用看上去是相反的，将多个数组项组合成了一个新数组。
不过要注意，解构赋值中展开运算符只能用在最后：
let [arg1,...arg2,arg3] = [1, 2, 3, 4]; //报错 类数组对象变成数组 展开运算符可以将一个类数组对象变成一个真正的数组对象：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/73c9d6ccffddafa412af19e987af8ffa/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2017-04-25T21:04:39+08:00" />
<meta property="article:modified_time" content="2017-04-25T21:04:39+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">ECMAScript 6学习笔记（一）：展开运算符</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p style="margin:10px auto; padding-top:0px; padding-bottom:0px; font-family:Verdana,Arial,Helvetica,sans-serif; font-size:15px"> JavaScript是ECMAScript的实现和扩展，ES6标准的制定也为JavaScript加入了许多新特性。本文主要记录展开运算符。</p> 
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; font-family:Verdana,Arial,Helvetica,sans-serif; font-size:15px"> 展开运算符（spread operator）允许一个表达式在某处展开。展开运算符在多个参数（用于函数调用）或多个元素（用于数组字面量）或者多个变量（用于解构赋值）的地方可以使用。</p> 
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; font-family:Verdana,Arial,Helvetica,sans-serif; font-size:15px"> 展开运算符不能用在对象当中，因为目前展开运算符只能在可遍历对象（iterables）可用。iterables的实现是依靠[Symbol.iterator]函数，而目前只有Array,Set,String内置[Symbol.iterator]方法，而Object尚未内置该方法，因此无法使用展开运算符。不过ES7草案当中已经加入了对象展开运算符特性。</p> 
<h3 id="函数调用中使用展开运算符" style="margin:10px 0px; padding:0px; font-size:21px; line-height:1.5; font-family:Verdana,Arial,Helvetica,sans-serif"> 函数调用中使用展开运算符</h3> 
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; font-family:Verdana,Arial,Helvetica,sans-serif; font-size:15px"> 在以前我们会使用apply方法来将一个数组展开成多个参数：</p> 
<pre style="margin-top:10px; margin-bottom:10px; padding:0px; white-space:pre-wrap; word-wrap:break-word; font-size:15px; background-color:rgb(255,255,255)"><code class="hljs javascript" style='margin:auto; vertical-align:middle; display:block; height:auto; overflow-x:auto; padding:5px!important; line-height:1.5!important; font-family:"Courier New",sans-serif!important; font-size:12px!important; border:1px solid rgb(204,204,204)!important'><span class="hljs-function" style="margin:0px; padding:0px"><span class="hljs-keyword" style="margin:0px; padding:0px; color:rgb(0,0,255)">function</span> <span class="hljs-title" style="margin:0px; padding:0px; color:rgb(163,21,21)">test</span>(<span class="hljs-params" style="margin:0px; padding:0px">a, b, c</span>) </span>{ }
<span class="hljs-keyword" style="margin:0px; padding:0px; color:rgb(0,0,255)">var</span> args = [<span class="hljs-number" style="margin:0px; padding:0px">0</span>, <span class="hljs-number" style="margin:0px; padding:0px">1</span>, <span class="hljs-number" style="margin:0px; padding:0px">2</span>];
test.apply(<span class="hljs-literal" style="margin:0px; padding:0px; color:rgb(163,21,21)">null</span>, args);</code></pre> 
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; font-family:Verdana,Arial,Helvetica,sans-serif; font-size:15px"> 如上，我们把args数组当作实参传递给了a,b,c，这边正是利用了Function.prototype.apply的特性。</p> 
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; font-family:Verdana,Arial,Helvetica,sans-serif; font-size:15px"> 不过有了ES6，我们就可以更加简洁地来传递数组参数：</p> 
<pre style="margin-top:10px; margin-bottom:10px; padding:0px; white-space:pre-wrap; word-wrap:break-word; font-size:15px; background-color:rgb(255,255,255)"><code class="hljs javascript" style='margin:auto; vertical-align:middle; display:block; height:auto; overflow-x:auto; padding:5px!important; line-height:1.5!important; font-family:"Courier New",sans-serif!important; font-size:12px!important; border:1px solid rgb(204,204,204)!important'><span class="hljs-function" style="margin:0px; padding:0px"><span class="hljs-keyword" style="margin:0px; padding:0px; color:rgb(0,0,255)">function</span> <span class="hljs-title" style="margin:0px; padding:0px; color:rgb(163,21,21)">test</span>(<span class="hljs-params" style="margin:0px; padding:0px">a,b,c</span>) </span>{ }
<span class="hljs-keyword" style="margin:0px; padding:0px; color:rgb(0,0,255)">var</span> args = [<span class="hljs-number" style="margin:0px; padding:0px">0</span>,<span class="hljs-number" style="margin:0px; padding:0px">1</span>,<span class="hljs-number" style="margin:0px; padding:0px">2</span>];
test(...args);</code></pre> 
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; font-family:Verdana,Arial,Helvetica,sans-serif; font-size:15px"> 我们使用...展开运算符就可以把args直接传递给test()函数。</p> 
<h3 id="数组字面量中使用展开运算符" style="margin:10px 0px; padding:0px; font-size:21px; line-height:1.5; font-family:Verdana,Arial,Helvetica,sans-serif"> 数组字面量中使用展开运算符</h3> 
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; font-family:Verdana,Arial,Helvetica,sans-serif; font-size:15px"> ''<br style="margin:0px; padding:0px"> 在ES6的世界中，我们可以直接加一个数组直接合并到另外一个数组当中：</p> 
<pre style="margin-top:10px; margin-bottom:10px; padding:0px; white-space:pre-wrap; word-wrap:break-word; font-size:15px; background-color:rgb(255,255,255)"><code class="hljs prolog" style='margin:auto; vertical-align:middle; display:block; height:auto; overflow-x:auto; padding:5px!important; line-height:1.5!important; font-family:"Courier New",sans-serif!important; font-size:12px!important; border:1px solid rgb(204,204,204)!important'>var arr1=[<span class="hljs-string" style="margin:0px; padding:0px; color:rgb(163,21,21)">'a'</span>,<span class="hljs-string" style="margin:0px; padding:0px; color:rgb(163,21,21)">'b'</span>,<span class="hljs-string" style="margin:0px; padding:0px; color:rgb(163,21,21)">'c'</span>];
var arr2=[...arr1,<span class="hljs-string" style="margin:0px; padding:0px; color:rgb(163,21,21)">'d'</span>,<span class="hljs-string" style="margin:0px; padding:0px; color:rgb(163,21,21)">'e'</span>]; //[<span class="hljs-string" style="margin:0px; padding:0px; color:rgb(163,21,21)">'a'</span>,<span class="hljs-string" style="margin:0px; padding:0px; color:rgb(163,21,21)">'b'</span>,<span class="hljs-string" style="margin:0px; padding:0px; color:rgb(163,21,21)">'c'</span>,<span class="hljs-string" style="margin:0px; padding:0px; color:rgb(163,21,21)">'d'</span>,<span class="hljs-string" style="margin:0px; padding:0px; color:rgb(163,21,21)">'e'</span>]</code></pre> 
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; font-family:Verdana,Arial,Helvetica,sans-serif; font-size:15px"> 展开运算符也可以用在push函数中，可以不用再用apply()函数来合并两个数组：</p> 
<pre style="margin-top:10px; margin-bottom:10px; padding:0px; white-space:pre-wrap; word-wrap:break-word; font-size:15px; background-color:rgb(255,255,255)"><code class="hljs prolog" style='margin:auto; vertical-align:middle; display:block; height:auto; overflow-x:auto; padding:5px!important; line-height:1.5!important; font-family:"Courier New",sans-serif!important; font-size:12px!important; border:1px solid rgb(204,204,204)!important'>var arr1=[<span class="hljs-string" style="margin:0px; padding:0px; color:rgb(163,21,21)">'a'</span>,<span class="hljs-string" style="margin:0px; padding:0px; color:rgb(163,21,21)">'b'</span>,<span class="hljs-string" style="margin:0px; padding:0px; color:rgb(163,21,21)">'c'</span>];
var arr2=[<span class="hljs-string" style="margin:0px; padding:0px; color:rgb(163,21,21)">'d'</span>,<span class="hljs-string" style="margin:0px; padding:0px; color:rgb(163,21,21)">'e'</span>];
arr1.push(...arr2); //[<span class="hljs-string" style="margin:0px; padding:0px; color:rgb(163,21,21)">'a'</span>,<span class="hljs-string" style="margin:0px; padding:0px; color:rgb(163,21,21)">'b'</span>,<span class="hljs-string" style="margin:0px; padding:0px; color:rgb(163,21,21)">'c'</span>,<span class="hljs-string" style="margin:0px; padding:0px; color:rgb(163,21,21)">'d'</span>,<span class="hljs-string" style="margin:0px; padding:0px; color:rgb(163,21,21)">'e'</span>]</code></pre> 
<h3 id="用于解构赋值" style="margin:10px 0px; padding:0px; font-size:21px; line-height:1.5; font-family:Verdana,Arial,Helvetica,sans-serif"> 用于解构赋值</h3> 
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; font-family:Verdana,Arial,Helvetica,sans-serif; font-size:15px"> 解构赋值也是ES6中的一个特性，而这个展开运算符可以用于部分情景：</p> 
<pre style="margin-top:10px; margin-bottom:10px; padding:0px; white-space:pre-wrap; word-wrap:break-word; font-size:15px; background-color:rgb(255,255,255)"><code class="hljs prolog" style='margin:auto; vertical-align:middle; display:block; height:auto; overflow-x:auto; padding:5px!important; line-height:1.5!important; font-family:"Courier New",sans-serif!important; font-size:12px!important; border:1px solid rgb(204,204,204)!important'>let [arg1,arg2,...arg3] = [<span class="hljs-number" style="margin:0px; padding:0px">1</span>, <span class="hljs-number" style="margin:0px; padding:0px">2</span>, <span class="hljs-number" style="margin:0px; padding:0px">3</span>, <span class="hljs-number" style="margin:0px; padding:0px">4</span>];
arg1 //<span class="hljs-number" style="margin:0px; padding:0px">1</span>
arg2 //<span class="hljs-number" style="margin:0px; padding:0px">2</span>
arg3 //[<span class="hljs-string" style="margin:0px; padding:0px; color:rgb(163,21,21)">'3'</span>,<span class="hljs-string" style="margin:0px; padding:0px; color:rgb(163,21,21)">'4'</span>]</code></pre> 
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; font-family:Verdana,Arial,Helvetica,sans-serif; font-size:15px"> 展开运算符在解构赋值中的作用跟之前的作用看上去是相反的，将多个数组项组合成了一个新数组。</p> 
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; font-family:Verdana,Arial,Helvetica,sans-serif; font-size:15px"> 不过要注意，解构赋值中展开运算符只能用在最后：</p> 
<pre style="margin-top:10px; margin-bottom:10px; padding:0px; white-space:pre-wrap; word-wrap:break-word; font-size:15px; background-color:rgb(255,255,255)"><code class="hljs swift" style='margin:auto; vertical-align:middle; display:block; height:auto; overflow-x:auto; padding:5px!important; line-height:1.5!important; font-family:"Courier New",sans-serif!important; font-size:12px!important; border:1px solid rgb(204,204,204)!important'><span class="hljs-keyword" style="margin:0px; padding:0px; color:rgb(0,0,255)">let</span> [arg1,...arg2,arg3] = [<span class="hljs-number" style="margin:0px; padding:0px">1</span>, <span class="hljs-number" style="margin:0px; padding:0px">2</span>, <span class="hljs-number" style="margin:0px; padding:0px">3</span>, <span class="hljs-number" style="margin:0px; padding:0px">4</span>]; <span class="hljs-comment" style="margin:0px; padding:0px; color:green">//报错</span></code></pre> 
<h3 id="类数组对象变成数组" style="margin:10px 0px; padding:0px; font-size:21px; line-height:1.5; font-family:Verdana,Arial,Helvetica,sans-serif"> 类数组对象变成数组</h3> 
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; font-family:Verdana,Arial,Helvetica,sans-serif; font-size:15px"> 展开运算符可以将一个类数组对象变成一个真正的数组对象：</p> 
<pre style="margin-top:10px; margin-bottom:10px; padding:0px; white-space:pre-wrap; word-wrap:break-word; font-size:15px; background-color:rgb(255,255,255)"><code class="hljs php" style='margin:auto; vertical-align:middle; display:block; height:auto; overflow-x:auto; padding:5px!important; line-height:1.5!important; font-family:"Courier New",sans-serif!important; font-size:12px!important; border:1px solid rgb(204,204,204)!important'><span class="hljs-keyword" style="margin:0px; padding:0px; color:rgb(0,0,255)">var</span> <span class="hljs-keyword" style="margin:0px; padding:0px; color:rgb(0,0,255)">list</span>=document.getElementsByTagName(<span class="hljs-string" style="margin:0px; padding:0px; color:rgb(163,21,21)">'div'</span>);
<span class="hljs-keyword" style="margin:0px; padding:0px; color:rgb(0,0,255)">var</span> arr=[..<span class="hljs-keyword" style="margin:0px; padding:0px; color:rgb(0,0,255)">list</span>];</code></pre> 
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; font-family:Verdana,Arial,Helvetica,sans-serif; font-size:15px"> list是类数组对象，而我们通过使用展开运算符使之变成了数组。</p> 
<h3 id="es7草案中的对象展开运算符" style="margin:10px 0px; padding:0px; font-size:21px; line-height:1.5; font-family:Verdana,Arial,Helvetica,sans-serif"> ES7草案中的对象展开运算符</h3> 
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; font-family:Verdana,Arial,Helvetica,sans-serif; font-size:15px"> ES7中的对象展开运算符符可以让我们更快捷地操作对象：</p> 
<pre style="margin-top:10px; margin-bottom:10px; padding:0px; white-space:pre-wrap; word-wrap:break-word; font-size:15px; background-color:rgb(255,255,255)"><code class="hljs groovy" style='margin:auto; vertical-align:middle; display:block; height:auto; overflow-x:auto; padding:5px!important; line-height:1.5!important; font-family:"Courier New",sans-serif!important; font-size:12px!important; border:1px solid rgb(204,204,204)!important'>let {x,y,...z}={<!-- --><span class="hljs-string" style="margin:0px; padding:0px; color:rgb(163,21,21)">x:</span><span class="hljs-number" style="margin:0px; padding:0px">1</span>,<span class="hljs-string" style="margin:0px; padding:0px; color:rgb(163,21,21)">y:</span><span class="hljs-number" style="margin:0px; padding:0px">2</span>,<span class="hljs-string" style="margin:0px; padding:0px; color:rgb(163,21,21)">a:</span><span class="hljs-number" style="margin:0px; padding:0px">3</span>,<span class="hljs-string" style="margin:0px; padding:0px; color:rgb(163,21,21)">b:</span><span class="hljs-number" style="margin:0px; padding:0px">4</span>};
x; <span class="hljs-comment" style="margin:0px; padding:0px; color:green">//1</span>
y; <span class="hljs-comment" style="margin:0px; padding:0px; color:green">//2</span>
z; <span class="hljs-comment" style="margin:0px; padding:0px; color:green">//{a:3,b:4}</span></code></pre> 
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; font-family:Verdana,Arial,Helvetica,sans-serif; font-size:15px"> 如上，我们可以将一个对象当中的对象的一部分取出来成为一个新对象赋值给展开运算符的参数。</p> 
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; font-family:Verdana,Arial,Helvetica,sans-serif; font-size:15px"> 同时，我们也可以像数组插入那样将一个对象插入另外一个对象当中：</p> 
<pre style="margin-top:10px; margin-bottom:10px; padding:0px; white-space:pre-wrap; word-wrap:break-word; font-size:15px; background-color:rgb(255,255,255)"><code class="hljs groovy" style='margin:auto; vertical-align:middle; display:block; height:auto; overflow-x:auto; padding:5px!important; line-height:1.5!important; font-family:"Courier New",sans-serif!important; font-size:12px!important; border:1px solid rgb(204,204,204)!important'>let z={<!-- --><span class="hljs-string" style="margin:0px; padding:0px; color:rgb(163,21,21)">a:</span><span class="hljs-number" style="margin:0px; padding:0px">3</span>,<span class="hljs-string" style="margin:0px; padding:0px; color:rgb(163,21,21)">b:</span><span class="hljs-number" style="margin:0px; padding:0px">4</span>};
let n={<!-- --><span class="hljs-string" style="margin:0px; padding:0px; color:rgb(163,21,21)">x:</span><span class="hljs-number" style="margin:0px; padding:0px">1</span>,<span class="hljs-string" style="margin:0px; padding:0px; color:rgb(163,21,21)">y:</span><span class="hljs-number" style="margin:0px; padding:0px">2</span>,...z};
n; <span class="hljs-comment" style="margin:0px; padding:0px; color:green">//{x:1,y:2,a:3,b:4}</span></code></pre> 
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; font-family:Verdana,Arial,Helvetica,sans-serif; font-size:15px"> 另外还要很多用处，比如可以合并两个对象：</p> 
<pre style="margin-top:10px; margin-bottom:10px; padding:0px; white-space:pre-wrap; word-wrap:break-word; font-size:15px; background-color:rgb(255,255,255)"><code class="hljs swift" style='margin:auto; vertical-align:middle; display:block; height:auto; overflow-x:auto; padding:5px!important; line-height:1.5!important; font-family:"Courier New",sans-serif!important; font-size:12px!important; border:1px solid rgb(204,204,204)!important'><span class="hljs-keyword" style="margin:0px; padding:0px; color:rgb(0,0,255)">let</span> a={x:<span class="hljs-number" style="margin:0px; padding:0px">1</span>,y:<span class="hljs-number" style="margin:0px; padding:0px">2</span>};
<span class="hljs-keyword" style="margin:0px; padding:0px; color:rgb(0,0,255)">let</span> b={z:<span class="hljs-number" style="margin:0px; padding:0px">3</span>};
<span class="hljs-keyword" style="margin:0px; padding:0px; color:rgb(0,0,255)">let</span> ab={...a,...b};
ab <span class="hljs-comment" style="margin:0px; padding:0px; color:green">//{x:1,y:2,z:3}</span></code></pre>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/8d781fc5074ff783fadeff4fa1f22a70/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">JS数组合并</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/963f8b4a981136423ca3d1f156979b5e/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">IE8浏览器Silverlight已被阻止解决办法</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>