<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>js 中的引用类型（内置对象） - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="js 中的引用类型（内置对象）" />
<meta property="og:description" content="前言 本篇笔记的目标是深刻理解引用类型的概念、理解基本的 JavaScript 类型、了解基本类型的方法和使用基本包装类型。需要了解每种引用类型的详细介绍可以查阅 MDN 文档。其他相关笔记还有如下几篇：
JavaScript 基础（超详细）js 中的引用类型（内置对象）js 中的对象属性——configurable、writable 等（数据属性和访问器属性）js 中原型、原型链和继承概念（详细全面）函数使用进阶——递归——闭包 目录 前言1. 引用类型概述2. Object 类型2.1 创建 Object 实例2.2 访问实例对象属性2.3 常用属性和方法 3. Array 类型3.1 创建数组和访问数组元素3.2 Array 具有的方法3.2 Array 实例具有的方法3.2.1 转换方法3.2.1 栈方法（push 和 pop）3.2.2 队列方法（shift() 和 unshift()）3.2.3 重排序方法3.2.4 操作方法3.2.5 位置方法3.2.6 迭代方法（重要）3.2.7 归并方法3.2.8 数组去重3.2.9 ES6新增方法 4. Date 类型4.1 Date 实例化4.1.1 实例化时的参数4.1.2 Date.now() 和 &#43;new Date()4.1.3 月份传参注意问题 4.2 常用方法4.2.1 常用方法介绍4.2.2 倒计时案例 5. RegExp 类型5.1 正则表达式的创建和检测5.1.1 创建5.1.2 测试正则表达式 test5.1.2 replace() 5.2 正则表达式的组成5.2.1 正则表达式的模式5." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/802fef143ead2b9631ad2d54e51be8e9/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-03-15T22:47:01+08:00" />
<meta property="article:modified_time" content="2023-03-15T22:47:01+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">js 中的引用类型（内置对象）</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="_2"></a>前言</h3> 
<p>本篇笔记的目标是深刻理解引用类型的概念、理解基本的 JavaScript 类型、了解基本类型的方法和使用基本包装类型。需要了解每种引用类型的详细介绍可以查阅 <strong><a href="https://developer.mozilla.org/" rel="nofollow">MDN 文档</a></strong>。其他相关笔记还有如下几篇：</p> 
<ul><li><a href="https://blog.csdn.net/TKOP_/article/details/113844861">JavaScript 基础（超详细）</a></li><li>js 中的引用类型（内置对象）</li><li><a href="https://blog.csdn.net/TKOP_/article/details/115018189">js 中的对象属性——configurable、writable 等（数据属性和访问器属性）</a></li><li><a href="https://blog.csdn.net/TKOP_/article/details/114466064">js 中原型、原型链和继承概念（详细全面）</a></li><li><a href="https://blog.csdn.net/TKOP_/article/details/114984997">函数使用进阶——递归——闭包</a></li></ul> 
<p></p> 
<div class="toc"> 
 <h4>目录</h4> 
 <ul><li><ul><li><a href="#_2" rel="nofollow">前言</a></li><li><a href="#1__16" rel="nofollow">1. 引用类型概述</a></li><li><a href="#2_Object__46" rel="nofollow">2. Object 类型</a></li><li><ul><li><a href="#21__Object__48" rel="nofollow">2.1 创建 Object 实例</a></li><li><a href="#22__86" rel="nofollow">2.2 访问实例对象属性</a></li><li><a href="#23__106" rel="nofollow">2.3 常用属性和方法</a></li></ul> 
   </li><li><a href="#3_Array__119" rel="nofollow">3. Array 类型</a></li><li><ul><li><a href="#31__122" rel="nofollow">3.1 创建数组和访问数组元素</a></li><li><a href="#32_Array__191" rel="nofollow">3.2 Array 具有的方法</a></li><li><a href="#32_Array__202" rel="nofollow">3.2 Array 实例具有的方法</a></li><li><ul><li><a href="#321__204" rel="nofollow">3.2.1 转换方法</a></li><li><a href="#321_push__pop_245" rel="nofollow">3.2.1 栈方法（push 和 pop）</a></li><li><a href="#322_shift__unshift_259" rel="nofollow">3.2.2 队列方法（shift() 和 unshift()）</a></li><li><a href="#323__271" rel="nofollow">3.2.3 重排序方法</a></li><li><a href="#324__297" rel="nofollow">3.2.4 操作方法</a></li><li><a href="#325__345" rel="nofollow">3.2.5 位置方法</a></li><li><a href="#326__356" rel="nofollow">3.2.6 迭代方法（重要）</a></li><li><a href="#327__439" rel="nofollow">3.2.7 归并方法</a></li><li><a href="#328__441" rel="nofollow">3.2.8 数组去重</a></li><li><a href="#329_ES6_451" rel="nofollow">3.2.9 ES6新增方法</a></li></ul> 
   </li></ul> 
   </li><li><a href="#4_Date__506" rel="nofollow">4. Date 类型</a></li><li><ul><li><a href="#41_Date__509" rel="nofollow">4.1 Date 实例化</a></li><li><ul><li><a href="#411__510" rel="nofollow">4.1.1 实例化时的参数</a></li><li><a href="#412_Datenow__new_Date_532" rel="nofollow">4.1.2 Date.now() 和 +new Date()</a></li><li><a href="#413__543" rel="nofollow">4.1.3 月份传参注意问题</a></li></ul> 
    </li><li><a href="#42__557" rel="nofollow">4.2 常用方法</a></li><li><ul><li><a href="#421__558" rel="nofollow">4.2.1 常用方法介绍</a></li><li><a href="#422__569" rel="nofollow">4.2.2 倒计时案例</a></li></ul> 
   </li></ul> 
   </li><li><a href="#5_RegExp__618" rel="nofollow">5. RegExp 类型</a></li><li><ul><li><a href="#51__625" rel="nofollow">5.1 正则表达式的创建和检测</a></li><li><ul><li><a href="#511__626" rel="nofollow">5.1.1 创建</a></li><li><a href="#512__test_637" rel="nofollow">5.1.2 测试正则表达式 test</a></li><li><a href="#512_replace_649" rel="nofollow">5.1.2 replace()</a></li></ul> 
    </li><li><a href="#52__663" rel="nofollow">5.2 正则表达式的组成</a></li><li><ul><li><a href="#521__666" rel="nofollow">5.2.1 正则表达式的模式</a></li><li><a href="#522__716" rel="nofollow">5.2.2 正则表达式的行为标识</a></li></ul> 
   </li></ul> 
   </li><li><a href="#6_Function__723" rel="nofollow">6. Function 类型</a></li><li><ul><li><a href="#61__725" rel="nofollow">6.1 函数本质和函数分类</a></li><li><ul><li><a href="#611__727" rel="nofollow">6.1.1 函数是什么</a></li><li><a href="#612__749" rel="nofollow">6.1.2 函数分类</a></li><li><a href="#613__771" rel="nofollow">6.1.3 作为值的函数</a></li></ul> 
    </li><li><a href="#62__832" rel="nofollow">6.2 函数的属性和方法</a></li><li><ul><li><a href="#621_arguments__this_834" rel="nofollow">6.2.1 函数内部属性（arguments 和 this）</a></li><li><a href="#622_callapply__bind_884" rel="nofollow">6.2.2 函数的方法（call()、apply() 和 bind()）</a></li><li><a href="#623_length__prototype_974" rel="nofollow">6.2.3 函数属性（length 和 prototype）</a></li></ul> 
   </li></ul> 
   </li><li><a href="#7__986" rel="nofollow">7. 基本包装类型</a></li><li><ul><li><a href="#72_Boolean__1025" rel="nofollow">7.2 Boolean 类型</a></li><li><a href="#73_Number__1027" rel="nofollow">7.3 Number 类型</a></li><li><a href="#74_String__1030" rel="nofollow">7.4 String 类型</a></li><li><ul><li><a href="#741__1042" rel="nofollow">7.4.1 基本方法</a></li><li><a href="#742__1157" rel="nofollow">7.4.2 字符串的模式匹配方法</a></li></ul> 
   </li></ul> 
   </li><li><a href="#8__1190" rel="nofollow">8. 单体内置对象</a></li><li><ul><li><a href="#81_Global__1193" rel="nofollow">8.1 Global 对象</a></li><li><ul><li><a href="#811_URI__1196" rel="nofollow">8.1.1 URI 的编码和解码</a></li><li><a href="#812_eval__1206" rel="nofollow">8.1.2 eval() 方法</a></li><li><a href="#813_Global__1209" rel="nofollow">8.1.3 Global 对象的属性</a></li></ul> 
    </li><li><a href="#82_Math__1213" rel="nofollow">8.2 Math 对象</a></li><li><ul><li><a href="#821_Math__1216" rel="nofollow">8.2.1 Math 对象的属性（了解）</a></li><li><a href="#822_Math__1222" rel="nofollow">8.2.2 Math 对象的方法</a></li></ul> 
   </li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h3><a id="1__16"></a>1. 引用类型概述</h3> 
<p><em>初学面向对象编程时，特别是看了有关继承的概念时。我作为一个初学者，对 Object、Array、Date 等原生引用类型和自定义类（自定义引用类型）对象总有一种朦朦胧胧的感觉。理不清它们之间的关联和一些本质上的东西。这可能也只是我自己一个人才存在的问题（因为当时只是跟着教学视频去学习）。我曾一度潜移默化受类的继承的影响，脑子出现了下图二错误的构思。不知道当初的你是否也有相似的历程，欢迎评论区留言。</em></p> 
<p><img src="https://images2.imgbox.com/fc/ac/s04zqqFk_o.png" alt="在这里插入图片描述"></p> 
<p>进入正题。什么是引用类型？<strong>引用类型是一种数据结构，用于将数据和功能组织在一起，它通常也被称为类（ES6 引入的概念）。引用类型也被称为对象定义，<u>它们描述的是一类对象所具有的属性和方法。每个对象都是某特定引用类型的一个实例</u></strong>。ECMAScript 提供了很多原生引用类型（例如 Object、Date 等）。新对象是使用 new 操作符后跟构造函数来创建的（当然也可以通过字面量的形式创建）。构造函数本身就是一个函数，只不过该函数用途比较特殊，是出于创建某类（或者说某特定引用类型）的实例对象的目的而定义的。</p> 
<pre><code class="prism language-javascript"><span class="token keyword">var</span> arr0 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> obj0 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>上述两行代码中，分别创建了两个新的对象（实例）。它们分别是 Array 型和 Object 型的对象。创建不同引用类型的实例时会为新对象定义了默认的属性和方法。<br> 结合书上的概念写下了这么多笔记，那我自己的脑里当时是怎么想的呢？接下来就是我的个人想法，如果不同或者有误欢迎评论区给予指正。<br> <strong>面向对象编程中一切皆<u>对象（Object）</u>，但是对象又分为很多类型（对象属于引用型数据，因此这些分类又叫引用类型）</strong>。受定式思维的影响，以前我常将引用型数据中的 Object 类型数据与对象（Object）的概念死死地绑在一起。现在我想彻底将它们隔离开来理解引用类型。首先，ECMAScript 提供了很多原生引用类型，即在进入全局环境前就已经替开发者定义了很多种常用的引用类型（可以创建哪些类型对象）。<strong>其中所有对象都属于 Object 类型的对象，即其他任何类型都继承自该父类。其次，每类对象的定义都与一个内置对象（构造函数）有关。而这些内置对象又属于一个函数类型的实例对象（例如内置对象 Object、Array、Date）</strong>。另外开发者也可以自定义引用类型，即自定义某类对象。当然它们也跟内置引用类型一样，继承自 Object 类且和一个构造函数关联。</p> 
<blockquote> 
 <p>需要深刻理解 Object、Array、Date 等内置对象的概念，它们只是执行环境定义好的一些函数类型的对象，调用它们可以创建某特定类型的对象实例。<strong>而特定引用类型具有哪些属性方法也是跟关联的内置对象有关，当然我们也可以更改内置引用类型的方法和属性</strong>。</p> 
</blockquote> 
<pre><code class="prism language-javascript">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> Array<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// function</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> Date<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// function</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> Object<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// function</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Array <span class="token keyword">instanceof</span> <span class="token class-name">Function</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre> 
<blockquote> 
 <p>理解内置对象和引用类型的概念。</p> 
</blockquote> 
<h3><a id="2_Object__46"></a>2. Object 类型</h3> 
<p>Object 是 ECMAScript 中使用最多的一个类型。虽然 Object 的实例不具备多少功能，但是对于在应用程序中存储和传输数据而言，它确实是非常理想的选择。</p> 
<h4><a id="21__Object__48"></a>2.1 创建 Object 实例</h4> 
<pre><code class="prism language-javascript"><span class="token comment">// 方式 1：使用 new 操作符后跟 Object 构造函数。</span>
<span class="token keyword">var</span> blogger <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
blogger<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'TKOP_'</span><span class="token punctuation">;</span>
blogger<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">23</span><span class="token punctuation">;</span>
<span class="token comment">// 方式 2：使用对象字面量表示法</span>
<span class="token keyword">var</span> blogger <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
	<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'TKOP_'</span><span class="token punctuation">,</span>
	<span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">23</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<p>有关对象字面量的总结：</p> 
<ul><li>对象字面量是对象定义的一种简写形式，目的在于简化创建包含大量属性的对象的过程。</li><li><strong>属性名和属性值间冒号隔开，属性名会自动转换为字符串</strong>。</li><li><strong>不同键值对间使用逗号隔开</strong>，最后一个键值对后面建议不要使用逗号（老浏览器会导致错误）。</li><li>如果花括号的内容为空，则创建的是一个只包含默认属性和方法的空对象。</li><li><strong>通过对象字面量定义对象时，实际上不会调用 Object 构造函数</strong>。</li></ul> 
<blockquote> 
 <p>对于最后一点可能有人会疑惑，对象字面量创建对象没有调用构造函数，那它是怎么实现的呢？</p> 
</blockquote> 
<p>首先要清楚使用 new 操作符后跟一个构造函数时，js 引擎会帮我们创建一个对象。之后调用构造函数并将 this 指向创建的对象，<strong>调用构造函数目的是初始化并返回这个实例对象</strong>。然后对于对象字面量的方式，<strong>在遇到花括号时 js 引擎根据表达式上下文断定其为对象类型的数据值（而不是语句块）。所以不会再去调用构造函数，而是自动进行默认的初始化操作</strong>。</p> 
<pre><code class="prism language-javascript">   <span class="token comment">/* 
     * 1、js 引擎将"{}"解析为 Object 引用类型对象
     * 2、将该对象的"__proto__"指向"Object.prototype"
     * 3、上两步实质上就是构造函数的初始化内容
     * 4、初始化（添加）自定义属性和方法
     */</span>
    <span class="token keyword">var</span> blogger <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'TKOP_'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">23</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>blogger <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre> 
<h4><a id="22__86"></a>2.2 访问实例对象属性</h4> 
<pre><code class="prism language-javascript"><span class="token comment">// 方式 1：使用点表示法访问对象属性</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>blogger<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出blogger对象的age属性值</span>
<span class="token comment">// 方式 2：使用方括号来访问对象的属性。</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>blogger<span class="token punctuation">[</span><span class="token string">'age'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>方括号方式访问对象属性总结：</p> 
<ul><li><strong>方括号里面的属性必须是字符串的形式</strong>。</li><li>可以通过字符串类型的<strong>变量</strong>访问属性。</li><li>可以访问不合乎命名规范的属性。</li></ul> 
<pre><code class="prism language-javascript">blogger<span class="token punctuation">[</span><span class="token string">'first name'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'陈'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> firstName <span class="token operator">=</span> <span class="token string">'first name'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>blogger<span class="token punctuation">[</span>firstName<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -&gt;'陈'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>blogger<span class="token punctuation">[</span>age<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -&gt;age is Not defined</span>
</code></pre> 
<h4><a id="23__106"></a>2.3 常用属性和方法</h4> 
<p>Object 对象的常用属性和方法（Object 引用类型的静态成员）很少。想详细了解的可以查看文档，本人认为值得重点记住的有如下几个：<br> 属性</p> 
<ul><li>Object.prototype</li><li>Object.__proto__</li><li>Object.prototype.constructor</li><li>Object.prototyoe.__proto__</li></ul> 
<p>实例方法：所有的对象都具有 toLocalString()、toString()、valueOf() 方法。数组引用类型详细介绍。</p> 
<blockquote> 
 <p><strong>prototype 是每个函数（function）对象都具有的属性（其他类型对象没有），__proto__ 则是所有对象都具有的属性</strong>。不在这里详细总结，在原型链和继承相关笔记总结。</p> 
</blockquote> 
<h3><a id="3_Array__119"></a>3. Array 类型</h3> 
<p>Array 引用类型的对象是 ECMAScript 中常用的类型。<strong>ECMAScript 中的数组表示的是数据的有序列表，里面的每一项可以保存任何类型的数据（但是一般用来保存同一类型的数据）</strong>。<strong>需要特别注意的是 ECMAScript 数组的大小是可以动态调整的，即可以随着数据的添加自动增长以容纳新增数据</strong>。</p> 
<h4><a id="31__122"></a>3.1 创建数组和访问数组元素</h4> 
<p>1、创建数组</p> 
<p>创建 Array 实例的方式跟创建 Object 实例大同小异。都可以通过构造函数和字面量的方式（也没有调用 Array 构造函数）创建。但是在创建时需要注意一些问题。</p> 
<pre><code class="prism language-javascript"><span class="token comment">// 构造函数创建 Array 实例对象</span>
<span class="token keyword">let</span> arr0 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -&gt;[]</span>
<span class="token keyword">let</span> arr1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -&gt;[undefined, undefined, undefined]</span>
<span class="token keyword">let</span> arr2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token string">'TKOP_'</span><span class="token punctuation">,</span> <span class="token string">'扬尘'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -&gt;['TKOP_', '扬尘']</span>
<span class="token keyword">let</span> arr3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -&gt;[3, 2, 1]</span>
<span class="token keyword">let</span> arr4 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token string">'TKOP_'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -&gt;['TKOP_']</span>


<span class="token comment">// 字面量创建 Array 实例对象</span>
<span class="token keyword">let</span> arr0 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> arr1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> arr2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'TKOP_'</span><span class="token punctuation">,</span> <span class="token string">'扬尘'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> arr3 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> 
<p>注意的问题（可能以后也遇不到这种问题）：</p> 
<ol><li>使用构造函数时可以传入参数。传入的参数多于一个时，这些参数即为实例对象的每一项元素。传入一个参数时如果是数值则解析为创建指定长度的数组，如果不是数值可解析为创建长度为 1 的数组，传入的参数为数组元素.</li><li>使用字面量创建数组对象时会有一个跟浏览器版本有关的问题。问题如下，所以我们都<strong>不要在数组的最后一个元素后面加逗号</strong>就可以了。</li></ol> 
<pre><code class="prism language-javascript"><span class="token keyword">let</span> arr0 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span><span class="token punctuation">]</span>
<span class="token comment">// -&gt;在IE9以下会解析为[1, 2, 3, undefined],其他的浏览器解析为[1, 2, 3]</span>
<span class="token keyword">let</span> arr1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> arr2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span> <span class="token comment">// -&gt;[1, 2, 3, undefined, 4]</span>
</code></pre> 
<p>2、访问数组元素</p> 
<p>访问数组中的元素使用的是方括号并提供响应值的基于 0 的数字的索引。如果索引小于数组中的项数则返回该项元素的值。如果设置的索引值太大，数组中没有对应的元素则返回 undefined 值。</p> 
<pre><code class="prism language-javascript"><span class="token keyword">let</span> arr0 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'板井泉水'</span><span class="token punctuation">,</span> <span class="token string">'陈奕迅'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr0<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// -&gt;'板井泉水'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr0<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">//-&gt;undefined</span>
</code></pre> 
<p>3、更新数组元素</p> 
<p>更新数组元素时如果对应的元素在数组中存在则将其进行更改，如果不存在则进行添加（数组的 length 属性也会动态改变）。</p> 
<pre><code class="prism language-javascript">arr0<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> arr0<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
arr0<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'张学友'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr0<span class="token punctuation">)</span> <span class="token comment">// -&gt;['板井泉水', '张学友', '陈奕迅']</span>
arr0<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'IU'</span><span class="token punctuation">;</span>
 <span class="token comment">// -&gt;arr0 = ['板井泉水', '张学友', '陈奕迅', undefined, 'IU']</span>
</code></pre> 
<p>注意一个在浏览器控制台输出查看对象时初学者容易疑惑的一个问题：<br> <img src="https://images2.imgbox.com/ab/c9/Rp8NykqH_o.png" alt="在这里插入图片描述"><br> 这是在添加 arr0[4] 语句前输出 arr0 的结果，可以看到数组此时的长度为 3 ，下面展开时却有 arr0[4] 了。也就是说展开看到的实际是该数组的最后状态并不是数组此时的状态。所以我们要了解数组此时的状态只需要看第一行就可以了。这点在查看对象的属性是否在某时改变时是很容易犯糊涂的，我初学时就踩过这个坑。</p> 
<p>4、数组对象的 length 属性<br> <strong>数组对象的 length 属性不是一个只读属性</strong>。因此可以通过设置这个属性来实现从数组的末尾移除项或者向数组中添加新项。</p> 
<pre><code class="prism language-javascript">arr0<span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token comment">// -&gt;arr0 = ['板井泉水', '张学友']</span>
arr0<span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
<span class="token comment">// -&gt;arr0 = ['板井泉水', '张学友', undefined, undefined]</span>
arr0<span class="token punctuation">[</span>arr0<span class="token punctuation">.</span>length<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'邓紫棋'</span><span class="token punctuation">;</span>
<span class="token comment">// -&gt;arr0 = ['板井泉水', '张学友', undefined, undefined, '邓紫棋']</span>
</code></pre> 
<h4><a id="32_Array__191"></a>3.2 Array 具有的方法</h4> 
<p><strong>Array.isArray(value)</strong> 是引用类型 Array 具有的方法，该<strong>方法用于判断一个值是否是数组类型的数据。如果是则返回 true ，不是则返回 false</strong> 。使用 instanceof 操作符也可以判断一个数据是否是 Array 类型，那为什么还要使用 isArray 方法呢？</p> 
<p><strong>instanceof 操作符的问题在于只能判断该数组对象是否是某全局执行环境下的 Array 构造函数的一个实例</strong>。假设网页中包含多个框架实际 上就存在两个以上不同的全局执行环境，即不同全局执行环境下内置的引用类型 Array 是不同的，会存在两个不同版本的 Array 构造函数。<strong>如果从一个框架向另一个框架传入一个数组，那么该数组并非是第二个框架下的 Array 的一个实例对象</strong>。它与第二个框架中原生创建的数组分别具有各自不同的构造函数。</p> 
<pre><code class="prism language-javascript">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>arr0<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -&gt;true</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -&gt;false</span>
</code></pre> 
<h4><a id="32_Array__202"></a>3.2 Array 实例具有的方法</h4> 
<h5><a id="321__204"></a>3.2.1 转换方法</h5> 
<p>1、toString() 方法会在数组实例调用该方法时，调用每一项元素的 toString() 方法然后再调用数组的 toString() 方法。</p> 
<pre><code class="prism language-javascript"><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'TKOP_'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> obj<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -&gt;'1,[object Object],3,12,0'</span>
<span class="token comment">// 原理：1、每项元素调用 toString() 方法得到的结果</span>
<span class="token comment">// ['1', [object Object], '3', ['12','0']] </span>
<span class="token comment">// ['1', [object Object], '3', '12', '0'] </span>
<span class="token comment">// 2、调用数组的 toString() 方法</span>
<span class="token comment">// ['1', [object Object], '3', '12', '0']</span>
</code></pre> 
<p>2、toLocaleString() 方法会在数组实例调用该方法时，调用每一项元素的 toLocaleString() 方法然后再调用数组的 toLocaleString() 方法。与 toString() 方法的区别是他会按照系统所在位置（本地）的习惯显示数据，时间的显示就是一个很明显的例子。</p> 
<pre><code class="prism language-javascript">	arr<span class="token punctuation">[</span>arr<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">toLocaleString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>两者的输出结果如下图：<br> <img src="https://images2.imgbox.com/ff/0c/w6nD0R3i_o.png" alt="在这里插入图片描述">3、对于方法 valueOf() 直接看看 W3school 解释就好。<br> <img src="https://images2.imgbox.com/86/26/htveKWTq_o.png" alt="在这里插入图片描述"></p> 
<p>4、<strong>join()</strong> 方法，Array 引用类型上面的三个方法其实均继承自 Object 引用类型，只能使用默认的逗号将不同元素进行分隔。join() 方法则可以使用不同的分隔符来构建这个字符串。join() 方法只接收一个参数，即表示用作分隔符的字符串。</p> 
<pre><code class="prism language-javascript"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'I'</span><span class="token punctuation">,</span> <span class="token string">'love'</span><span class="token punctuation">,</span> <span class="token string">'you'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 这里我是用空字符串</span>
<span class="token comment">// -&gt;I love you 如果不使用字符串分割会出现以下结果</span>
<span class="token comment">// -&gt;Iloveyou</span>

</code></pre> 
<h5><a id="321_push__pop_245"></a>3.2.1 栈方法（push 和 pop）</h5> 
<p>ECMAScript 数组提供了一些让数组的行为类似于其他数据结构行为的方法。栈方法就是数组与栈（LIFO，Last-In-First-Out）这种数据结构行为类似的的方法。栈中项的插入（推入）和移除（弹出）只发生在栈的顶部（栈定）。ECMAScript 为数组专门提供了 push() 和 pop() 方法来实现类似栈的行为。</p> 
<pre><code class="prism language-javascript"><span class="token comment">// push() 方法可以在数组的末尾添加任意项新元素，并返回数组的新长度</span>
<span class="token keyword">let</span> arr0 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr0<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -&gt;6</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr0<span class="token punctuation">)</span> <span class="token comment">// -&gt;[0, 1, 2, 3, 4, 10]</span>
<span class="token comment">// pop() 从数组移除最后一项，减少 length 属性值，并返回移除的项</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr0<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -&gt;10</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr0<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -&gt;[0, 1, 2, 3, 4]</span>
</code></pre> 
<h5><a id="322_shift__unshift_259"></a>3.2.2 队列方法（shift() 和 unshift()）</h5> 
<p>栈数据结构的访问规则是 LIFO（后进先出），而队列数据结构的访问规则 FIFO（先进先出）。ECMAScript 为数组专门提供了 shift() 和 unshift() 方法来实现类似栈的行为。</p> 
<pre><code class="prism language-javascript"><span class="token comment">// unshif() 在在数组的前面添加任意项新元素，并返回数组的新长度</span>
<span class="token keyword">let</span> arr0 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr0<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -&gt;5</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr0<span class="token punctuation">)</span> <span class="token comment">// -&gt;[3, 4, 10, 1, 2]</span>
<span class="token comment">// shift() 方法移除第一项并返回该项</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr0<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -&gt;3</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr0<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -&gt;[4, 10, 1, 2]</span>
</code></pre> 
<h5><a id="323__271"></a>3.2.3 重排序方法</h5> 
<p>数组中已经存在两个可以直接用来排序的方法：reverse() 和 sort() 。它们都与排序有关。</p> 
<p>sort() 方法需要注意以下内容：</p> 
<ul><li>默认是升序排序，且会调用每个数组项的 toString() 方法后根据得到的字符串确定如何排序。</li><li>它可以接收一个比较函数作为参数，该函数可以指定排序模式。</li><li>比较函数接收两个参数，如果第一个参数应该排在第二个参数之前则返回一个负数，如果位置不变则返回 0 ，否则返回一个正数。</li></ul> 
<pre><code class="prism language-javascript">	<span class="token comment">// reverse() 翻转数组</span>
    <span class="token keyword">let</span> arr0 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr0<span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -&gt;[11, 5, 10, 4, 1]</span>
    <span class="token comment">// sort() 对数组元素进行排序，默认升序</span>
    arr0<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr0<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -&gt;[1, 10, 11, 4, 5]</span>
    arr0<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">arg0<span class="token punctuation">,</span> arg1</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> arg0 <span class="token operator">-</span> arg1<span class="token punctuation">;</span> <span class="token comment">// 负数：arg0 arg1  (agr0&lt;arg1)</span>
        					<span class="token comment">// 正数：arg1 arg0  (agr0&gt;arg1)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr0<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -&gt;[1, 4, 5, 10, 11]</span>
    arr0<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">arg0<span class="token punctuation">,</span> arg1</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> arg1 <span class="token operator">-</span> arg0<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr0<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -&gt;[11, 10, 5, 4, 1]</span>
</code></pre> 
<h5><a id="324__297"></a>3.2.4 操作方法</h5> 
<p>操作方法是指 ECMAScript 为包含在数组中的项提供的方法。主要有三种方法，concat()、slice()、splice() 。</p> 
<p>1、concat() 方法用于在该数组的副本末尾进行拼接数组（如果传入的参数不是数组，则参数的值会被简单地添加到副本的末尾，例如下例的 “yellow”）。</p> 
<pre><code class="prism language-javascript"><span class="token keyword">let</span> arr0 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'red'</span><span class="token punctuation">,</span> <span class="token string">'green'</span><span class="token punctuation">,</span> <span class="token string">'blue'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> arr1 <span class="token operator">=</span> arr0<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token string">'yellow'</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">'black'</span><span class="token punctuation">,</span> <span class="token string">'pink'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr0<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -&gt;['red', 'green', 'blue']</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -&gt;['red', 'green', 'blue', 'yellow', 'black', 'pink']</span>
</code></pre> 
<p>2、slice() 方法即切片方法，它返回一个包含原数组中指定起始项到结束项的数组。也不会影响原数组。</p> 
<pre><code class="prism language-javascript"><span class="token keyword">let</span> arr2 <span class="token operator">=</span> arr1<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> arr3 <span class="token operator">=</span> arr1<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -&gt;["green", "blue", "yellow", "black", "pink"]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr3<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -&gt;["green", "blue", "yellow"]</span>
</code></pre> 
<blockquote> 
 <ol><li>切片不包含结束项，例如上面实例 slice(1, 4) 不包括 arr1[4] 即 “black” 这项</li><li>如果参数有一个负数，则用数组的长度加上该数来确定相应的位置。例如 slice(-2, -1) 等价于 slice(4, 5)。其实就是索引从数组的末尾以 -1 开始。</li><li>结束位置不能小于位置，否则返回空数组。</li></ol> 
</blockquote> 
<p>3、splice() 方法，首先 splice 具有移接、粘接的意思。所以这个方法个人的记忆方式就是将数组看成是基因片段，可以使用这个方法对其中的某部分进行切割、替换，所以原数组会发生改变。</p> 
<pre><code class="prism language-javascript"><span class="token comment">// splice()方法可以传递任意个参数但是不传入参数没意义（没有任何操作）</span>
<span class="token comment">// 1、第一个参数表示操作的起始位置</span>
<span class="token comment">// 2、第二个参数表示要的操作项数，如果没有，则表示从起始位置到数组结束</span>
<span class="token comment">// 3、其余表示要将操作的项替换成什么内容，如果不指定则表示直接删除了这些项</span>
<span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'red'</span><span class="token punctuation">,</span> <span class="token string">'green'</span><span class="token punctuation">,</span> <span class="token string">'blue'</span><span class="token punctuation">,</span> <span class="token string">'yellow'</span><span class="token punctuation">,</span> <span class="token string">'black'</span><span class="token punctuation">,</span> <span class="token string">'pink'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> result0 <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result0<span class="token punctuation">,</span> arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// ['green', 'blue'] || ['red', 'yellow', 'black', 'pink']</span>
<span class="token keyword">let</span> result1 <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> result0<span class="token punctuation">)</span><span class="token punctuation">;</span> 
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result1<span class="token punctuation">,</span> arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// ['yellow', 'black'] || ['red', ['green', 'blue'], 'pink']</span>
<span class="token keyword">let</span> result2 <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> result1<span class="token punctuation">,</span> <span class="token string">'green'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result2<span class="token punctuation">,</span> arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [] || ['red', ['yellow', 'black'], 'green', ['green', 'blue'], 'pink']</span>
<span class="token keyword">let</span> result3 <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result3<span class="token punctuation">,</span> arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [['yellow', 'black'], 'green', ['green', 'blue'], 'pink'] || ['red']</span>
</code></pre> 
<h5><a id="325__345"></a>3.2.5 位置方法</h5> 
<p>ES5 提供两个在数组中搜索某个项的方法，indexOf() 和 lastIndexOf()。 它们的用法相同，都是查找数组中是否具有某项元素（第一个参数），也都可以指定查找的起始位置（第二个参数）。不同点是一个向后查找，另一个向前查找。在找到时返回该项的索引（如果数组中有多个这种值则找到一个后停止查找），如果没有该值则返回 -1 。注意查找时采用的是全等比较。</p> 
<pre><code class="prism language-javascript">    <span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -1</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 6</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 6</span>
</code></pre> 
<h5><a id="326__356"></a>3.2.6 迭代方法（重要）</h5> 
<p>数组迭代（遍历）的方法有：forEach()、map()、filter()、some()、every()。<br> 1、forEach() 方法：遍历数组元素，接收一个函数作为参数，并默认向该函数传递三个参数。</p> 
<pre><code class="prism language-javascript"><span class="token comment">// arr.forEach((currentItem, index, arrValue) =&gt; { ... })</span>
<span class="token comment">// 没有用到的形参可以省略</span>
<span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
arr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>index <span class="token operator">+</span> <span class="token string">':'</span> <span class="token operator">+</span> item<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> 
<p>2、<strong>filter() 方法创建一个新的数组，新数组中的元素是通过检查数组中符合条件的所有元素，主要用于筛选数组</strong>。（<strong>注意它会返回一个新的数组</strong>）</p> 
<pre><code class="prism language-javascript"><span class="token comment">// arr.filter((currentItem, index, arrValue) =&gt; { ... })</span>
<span class="token comment">// 没有用到的形参可以省略</span>
    <span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">77</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> newArr <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> item <span class="token operator">&gt;</span> <span class="token number">20</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newArr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -&gt;[33, 77]</span>
</code></pre> 
<p>为了加深理解我自己写了一下实现方向选择的方法，代码如下：</p> 
<pre><code class="prism language-javascript">    <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">newFilter</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">callback</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">let</span> newArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">callback</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                newArr<span class="token punctuation">[</span>newArr<span class="token punctuation">.</span>length<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> newArr<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">77</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> arr0 <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">newFilter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> item <span class="token operator">&gt;</span> <span class="token number">20</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr0<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>3、some() 方法用于检测数组中是<strong>否存在满足条件的元素</strong>。它的返回值是一个布尔值，如果存在则返回 true ，如果不存在则返回 false 。需要注意的是：在找到第一个满足条件的元素后，就返回 true ，不再继续查找。</p> 
<pre><code class="prism language-javascript">	<span class="token comment">// arr.forEach((currentItem, index, arrValue) =&gt; { ... })</span>
    <span class="token comment">// 没有用到的形参可以省略</span>
    <span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">77</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> result <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> item <span class="token operator">&gt;</span> <span class="token number">20</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
    <span class="token keyword">var</span> result <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> item <span class="token operator">&gt;</span> <span class="token number">80</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
</code></pre> 
<p>自己的理解并实现：</p> 
<pre><code class="prism language-javascript">    <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">newSome</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">callback</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">let</span> flag <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">callback</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                flag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> flag<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">let</span> arr0 <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">newSome</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> item <span class="token operator">&gt;</span> <span class="token number">80</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr0<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>4、every() 方法用于检测数组中<strong>是否所有元素都满足条件</strong>。它的返回值是一个布尔值，如果所有元素均满足则返回 true ，如果存在不满足的元素则返回 false 。需要注意的是：在找到第一个不满足条件的元素后，就返回 false ，不再继续查找。(对比 some() 可以更好地理解)</p> 
<p>其原理跟 some 一样改变判断条件和返回值即可，这里不贴代码。</p> 
<p>5、map() 方法也返回一个数组，返回的是每项都经回调函数处理过得新数组（处理过程可能相同也可能不同）。</p> 
<h5><a id="327__439"></a>3.2.7 归并方法</h5> 
<p>。。。。。。</p> 
<h5><a id="328__441"></a>3.2.8 数组去重</h5> 
<p>这是一个运用数组方法的重要案例，需求：去除数组 [‘c’, ‘a’, ‘z’, ‘a’, ‘x’, ‘a’, ‘x’, ‘c’, ‘b’] 中重复的元素。</p> 
<pre><code class="prism language-javascript"><span class="token comment">/*
* 目标：把旧数组里面不重复的元素选取出来放到新数组中，重复的元素只保留一个，放到新数组中去重。
* 实现原理：遍历旧数组，使用遍历项查询新数组，如果在新数组中没有出现过则将该项添加至新数组，否则不添加。
* 其他：使用ES6新增 set 类型配合数组结构、扩展运算符也可以实现数组去重。
*/</span>
</code></pre> 
<h5><a id="329_ES6_451"></a>3.2.9 ES6新增方法</h5> 
<p>1、Array 的静态方法 Array.from()</p> 
<p>该方法可以将伪数组或者可遍历对象转换为真正的数组。第一个参数为伪数组或者可遍历对象，第二个可选参数是回调函数，作用类似于数组的map方法，用来对每个元素进行处理，将处理后的值放入返回的数组。</p> 
<pre><code class="prism language-javascript"><span class="token keyword">var</span> arrayLike <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
	<span class="token string-property property">'0'</span><span class="token operator">:</span> <span class="token string">'a'</span><span class="token punctuation">,</span>
	<span class="token string-property property">'1'</span><span class="token operator">:</span> <span class="token string">'b'</span><span class="token punctuation">,</span>
	<span class="token string-property property">'2'</span><span class="token operator">:</span> <span class="token string">'c'</span><span class="token punctuation">,</span>
	<span class="token literal-property property">length</span><span class="token operator">:</span> <span class="token number">3</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> arr <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>arrayLik<span class="token punctuation">,</span> <span class="token parameter">item</span> <span class="token operator">=&gt;</span> item <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 使用扩展符也可以实现转换</span>
<span class="token keyword">var</span> arrAnother <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>arrayLike<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> 
<p>2、实例方法 find()</p> 
<p>用于找出第一个符合条件的数组成员，如果没有则返回 undefined。</p> 
<pre><code class="prism language-javascript"><span class="token keyword">let</span> ary <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{<!-- --></span>
 <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
 <span class="token literal-property property">name</span><span class="token operator">:</span> '张三‘
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
 <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
 <span class="token literal-property property">name</span><span class="token operator">:</span> '李四‘
<span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> target <span class="token operator">=</span> ary<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> item<span class="token punctuation">.</span>id <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>3、实例方法 findIndex()</p> 
<pre><code class="prism language-javascript"><span class="token comment">// 用于找出第一个符合条件的数组成员的位置，如果没有找到返回-1</span>
<span class="token keyword">let</span> ary <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> index <span class="token operator">=</span> ary<span class="token punctuation">.</span><span class="token function">findIndex</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> value <span class="token operator">&gt;</span> <span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
</code></pre> 
<p>4、实例方法 includes()</p> 
<p>表示某个数组是否包含给定的值，返回布尔值。</p> 
<pre><code class="prism language-javascript"><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
</code></pre> 
<h3><a id="4_Date__506"></a>4. Date 类型</h3> 
<p>ECMAScript 中 Date 类型的内置对象与时间有关，它使用自 UTC（Coordinated Universal Time，国际协调时间）1970 年 1 月1日零时开始经过的毫秒数来保存日期。</p> 
<h4><a id="41_Date__509"></a>4.1 Date 实例化</h4> 
<h5><a id="411__510"></a>4.1.1 实例化时的参数</h5> 
<p>需要使用某个时间对象时，可以使用 new 操作符和构造函数 Date 即可。</p> 
<pre><code class="prism language-javascript"><span class="token keyword">var</span> now <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// -&gt;Wed Mar 17 2021 16:58:56 GMT+0800 (中国标准时间)</span>
</code></pre> 
<p>在调用 Date 构造函数而不传递参数时，函数内部默认传入的是表示当前时间的时间戳（也就是上述的那个用来保存时间的毫秒数）。当然让开发者直接传递这个毫秒数是不现实的。所以 ECMAScript Date 对象提供了两个将指定时间字符串转换为毫秒数的方法。它们分别是 Date.parse() 和 Date.UTC()。关于这两个方法了解即可，前者会因为浏览器和系统设置的地区不同接受的字符串格式不同，后者只有年份和月份两个参数为必需，其它有默认值。</p> 
<p>当我们给构造函数传递参数时，他会自动调用上述的两个方法获取对应的时间戳创建时间对象。参数的格式不同，调用的方法也不同。我们来实验一下：</p> 
<pre><code class="prism language-javascript"><span class="token keyword">var</span> time1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token string">'2020-3-10 02:3:50'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 默认使用 Date.parse()</span>
<span class="token keyword">var</span> time2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2020</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 默认使用 Date.UTC()</span>
<span class="token keyword">var</span> time3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token string">'2021/10/23'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 默认使用 Date.parse()</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>time1<span class="token punctuation">,</span> time2<span class="token punctuation">,</span> time3<span class="token punctuation">)</span>
<span class="token comment">// Tue Mar 10 2020 02:03:50 GMT+0800 (中国标准时间) </span>
<span class="token comment">// Fri Apr 10 2020 00:00:00 GMT+0800 (中国标准时间) </span>
<span class="token comment">// Sat Oct 23 2021 00:00:00 GMT+0800 (中国标准时间)</span>
</code></pre> 
<blockquote> 
 <p>以上几种参数传递方式也是常用的传参方式。</p> 
</blockquote> 
<h5><a id="412_Datenow__new_Date_532"></a>4.1.2 Date.now() 和 +new Date()</h5> 
<p>Date.now() 和 +new Date() 是两种获取当前时间戳的方式。它们都返回当前时间戳，前者低版本浏览器（ie6~8）不支持，可以使用后者代替（+new Date() 可以传递参数）。</p> 
<pre><code class="prism language-javascript">    <span class="token keyword">var</span> time1 <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> time2 <span class="token operator">=</span> <span class="token operator">+</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> time3 <span class="token operator">=</span> <span class="token operator">+</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2021</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">17</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>time1<span class="token punctuation">,</span> time2<span class="token punctuation">,</span> time3<span class="token punctuation">)</span>
    <span class="token comment">// 1615974218883 1615974218883 1618588800000</span>
</code></pre> 
<h5><a id="413__543"></a>4.1.3 月份传参注意问题</h5> 
<p>表示月份是使用的是 0 ~ 11 （与星期几是一样的），所以当你给 new Date() 传递表示月份的参数时需要理解创建的实例对象真实的月份是多少。</p> 
<p>还有当月份超过了 11 后会增加一年再确定月份。</p> 
<pre><code class="prism language-javascript"><span class="token keyword">var</span> date0 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2021</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>date0<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// -&gt;Sun Apr 14 2021 00:00:00 GMT+0800 (中国标准时间) 月份是4月</span>
<span class="token keyword">var</span> date0 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2021</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>date0<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">// -&gt;Fri Feb 14 2022 00:00:00 GMT+0800 (中国标准时间) 月份是二月</span>
</code></pre> 
<h4><a id="42__557"></a>4.2 常用方法</h4> 
<h5><a id="421__558"></a>4.2.1 常用方法介绍</h5> 
<p>实例化日期对象后，如果需要获取日期对象的指定部分则需要使用实例对象的以下几种方法。</p> 
<ul><li>getFullYear() 获取年份</li><li>getMonth() 获取月份（0~11）</li><li>getDate() 获取日期（某日）</li><li>getDay() 返回该日期是星期几（周日到周六，即 0~6）</li><li>getHours() 获取时间小时</li><li>getMinutes() 获取时间分钟</li><li>getSeconds() 获取时间秒</li><li>getTime() 返回表示日期的毫秒数；与 valueOf() 方法的返回值相同</li></ul> 
<h5><a id="422__569"></a>4.2.2 倒计时案例</h5> 
<p>原理：截至时间减去现在的时间就是剩余时间，即倒计时。但是时间的运算要使用时间戳进行。<br> 利用剩余时间获得剩余的天、小时、分钟和秒数可以使用以下计算。</p> 
<ul><li>days = parseInt(count / 60 / 60 / 24); // count 剩余总秒数</li><li>hours = parseInt(count / 60 / 60 % 24);</li><li>minutes = parseInt(count / 60 % 60);</li><li>seconds = parseInt(count % 60);</li></ul> 
<blockquote> 
 <p>也可以使用 Math.floor() 方法进行取整。后面 Math 内置引用类型会用到。</p> 
</blockquote> 
<pre><code class="prism language-javascript">	<span class="token comment">// 计时函数，给定截止时间返回包含剩余的天、小时、分钟、秒的数组</span>
    <span class="token keyword">function</span> <span class="token function">countDown</span><span class="token punctuation">(</span><span class="token parameter">deadline</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">let</span> inputTime <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>deadline<span class="token punctuation">)</span><span class="token punctuation">;</span>
        inputTime <span class="token operator">=</span> inputTime<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> nowTime <span class="token operator">=</span> <span class="token operator">+</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> times <span class="token operator">=</span> <span class="token punctuation">(</span>inputTime <span class="token operator">-</span> nowTime<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">1000</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> d <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>times <span class="token operator">/</span> <span class="token number">60</span> <span class="token operator">/</span> <span class="token number">60</span> <span class="token operator">/</span> <span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        d <span class="token operator">=</span> d <span class="token operator">&gt;=</span> <span class="token number">10</span> <span class="token operator">?</span> d <span class="token operator">:</span> <span class="token string">'0'</span> <span class="token operator">+</span> d<span class="token punctuation">;</span> <span class="token comment">// 转换为两位表示 ，少于10前面补0</span>
        <span class="token keyword">let</span> h <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>times <span class="token operator">/</span> <span class="token number">60</span> <span class="token operator">/</span> <span class="token number">60</span> <span class="token operator">%</span> <span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        h <span class="token operator">=</span> h <span class="token operator">&gt;=</span> <span class="token number">10</span> <span class="token operator">?</span> h <span class="token operator">:</span> <span class="token string">'0'</span> <span class="token operator">+</span> h<span class="token punctuation">;</span>
        <span class="token keyword">let</span> m <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>times <span class="token operator">/</span> <span class="token number">60</span> <span class="token operator">%</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        m <span class="token operator">=</span> m <span class="token operator">&gt;=</span> <span class="token number">10</span> <span class="token operator">?</span> m <span class="token operator">:</span> <span class="token string">'0'</span> <span class="token operator">+</span> m<span class="token punctuation">;</span>
        <span class="token keyword">let</span> s <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>times <span class="token operator">%</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        s <span class="token operator">=</span> s <span class="token operator">&gt;=</span> <span class="token number">10</span> <span class="token operator">?</span> s <span class="token operator">:</span> <span class="token string">'0'</span> <span class="token operator">+</span> s<span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token punctuation">[</span>d<span class="token punctuation">,</span> h<span class="token punctuation">,</span> m<span class="token punctuation">,</span> s<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">var</span> countElements <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'.time'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 需要先调用一次，防止进入页面1秒后才开始显示计时内容</span>
    <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">function</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">let</span> timeArr <span class="token operator">=</span> <span class="token function">countDown</span><span class="token punctuation">(</span><span class="token string">'2021-3-19'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        timeArr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
            countElements<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> item<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">setInterval</span><span class="token punctuation">(</span>show<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>效果如下图所示：</p> 
<p><img src="https://images2.imgbox.com/6a/fa/jT8rhPZV_o.gif" alt="在这里插入图片描述"></p> 
<h3><a id="5_RegExp__618"></a>5. RegExp 类型</h3> 
<p>正则表达式（Regular Expression）是用于匹配字符串中字符组合的模式。在 JavaScript 中，正则表达式也是对象。它通常被用来检索、替换那些符合某个模式（规则）的文本，例如表单验证：用户名表单只能输入英文字母、数字或者下划线，昵称输入框可以输入中文（匹配）。此外，正则表达式还常用于过滤掉页面内容中的一些敏感词（替换），或者从字符串中获取我们想要的特定部分（提取）等。</p> 
<p>下面只是有关正则基本使用的笔记，太深入的知识没有在此记录。有关正则的分组和反向引用，如果有必要以后再回来补充。所以与分组有关的 exec() 方法这里也不回去探究。</p> 
<p>当然也就不会在此去总结正则的实例方法和静态方法了。</p> 
<h4><a id="51__625"></a>5.1 正则表达式的创建和检测</h4> 
<h5><a id="511__626"></a>5.1.1 创建</h5> 
<p>可以使用构造函数或则字面量的方式创建正则表达式。</p> 
<pre><code class="prism language-javascript"><span class="token comment">// var expression = /pattern/flag ;字面量的形式创建</span>
<span class="token keyword">var</span> pattern1 <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">abc</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span>
<span class="token comment">// new 加构造函数的方式创建</span>
<span class="token keyword">var</span> pattern2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">'[c]at'</span><span class="token punctuation">,</span> <span class="token string">'i'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<blockquote> 
 <p>了解字面量创建的正则在一些低版本的浏览器中会有什么区别。</p> 
</blockquote> 
<h5><a id="512__test_637"></a>5.1.2 测试正则表达式 test</h5> 
<p>test() 正则对象方法，用于检测字符串是否符合该规则，该方法会返回 true 或者 false ，参数是需要检测的字符串。</p> 
<pre><code class="prism language-javascript"><span class="token comment">// regexpObj.test(str);</span>
<span class="token keyword">var</span> regexp1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">'[cd]at'</span><span class="token punctuation">,</span> <span class="token string">'i'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>regexp1<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'asvdDatdfs'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>
</code></pre> 
<ul><li>regexpObj 是正则对象</li><li>str 是需要检测的文本</li><li>目的是检测 str 文本是否符合正则表达式规范</li></ul> 
<h5><a id="512_replace_649"></a>5.1.2 replace()</h5> 
<p>replace() 方法可以实现替换字符串操作，用来替换的参数可以是一个字符串或者一个正则表达式。</p> 
<pre><code class="prism language-javascript"><span class="token comment">// stringObject.replace(regexp/substr, replacement);</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'我也许很强'</span><span class="token punctuation">;</span>
str <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">也许</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token string">'真的'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// '我真的很强'</span>
</code></pre> 
<ol><li>第一个参数：被替换的字符串 或者 正则表达式</li><li>第二个参数：替换为的字符串</li><li>返回值是替换后的新字符串</li></ol> 
<h4><a id="52__663"></a>5.2 正则表达式的组成</h4> 
<p>正则表达式由模式（pattern）和标识（flag）组成。模式部分可以是任何简单或则复杂的表达式，可以包含字符类、限定类、分组、向前查找以及方向引用。每个正则表达式都可以带有一个或者多个标识，用以表明正则表达式的行为。</p> 
<h5><a id="521__666"></a>5.2.1 正则表达式的模式</h5> 
<p>正则表达式的模式可以由简单的字符构成，例如 /abd/，也可以是简单字符和特殊字符的组合，例如 /ab*c/ 。其中特殊字符也被称为原字符，在正则中是具有特殊意义的专用符号。下列将元字符分为几类进行学习：</p> 
<p>1、边界符：用来标明字符所处的位置（又叫位置符）。</p> 
<table><thead><tr><th align="left">边界符</th><th align="left">说明</th></tr></thead><tbody><tr><td align="left">^</td><td align="left">表示匹配行首的文本（以谁开始）</td></tr><tr><td align="left">$</td><td align="left">表示匹配行尾的文本（以谁结束）</td></tr></tbody></table> 
<p>如果 ^ 和 $ 一起使用，则表示必须是精确匹配（正则测试的文本与正则模式一样）。</p> 
<p>2、可选符：表示一系列字符可供选择，只要匹配其中一个就可以了。所有可选择的字符都放在方括号内。</p> 
<pre><code class="prism language-javascript"><span class="token comment">// 1、方括号表示字符可选</span>
<span class="token operator">/</span><span class="token punctuation">[</span>bm<span class="token punctuation">]</span>a<span class="token operator">/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'wo ai wo ba ma'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token comment">// 2、内部可以使用 - 表示范围</span>
<span class="token operator">/</span><span class="token operator">^</span><span class="token punctuation">[</span>a<span class="token operator">-</span>z<span class="token punctuation">]</span>$<span class="token operator">/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'c'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token operator">/</span><span class="token punctuation">[</span>a<span class="token operator">-</span>z0<span class="token operator">-</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token boolean">true</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'dafd0truesf'</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
<span class="token comment">// 3、内部可以使用 ^ 表示取反</span>
<span class="token operator">/</span><span class="token punctuation">[</span><span class="token operator">^</span>abc<span class="token punctuation">]</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'andy'</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
</code></pre> 
<p>3、量词符：量词符用来设定某个模式出现的次数。</p> 
<table><thead><tr><th align="left">量词符</th><th align="left">说明</th></tr></thead><tbody><tr><td align="left">*</td><td align="left">重复 0 次或者更多次</td></tr><tr><td align="left">+</td><td align="left">重复 1 次或者更多次</td></tr><tr><td align="left">?</td><td align="left">重复 0 次或者 1 次</td></tr><tr><td align="left">{n}</td><td align="left">重复 n 次</td></tr><tr><td align="left">{n,}</td><td align="left">重复 n 次或者更多次</td></tr><tr><td align="left">{n, m}</td><td align="left">重复 0 次到 m 次</td></tr></tbody></table> 
<p>4、预定义类：是指某些常见模式的简写方式。</p> 
<table><thead><tr><th align="left">预定义类</th><th align="left">说明</th></tr></thead><tbody><tr><td align="left">\d</td><td align="left">匹配 0 - 9 之间的任一数字，等价于 [ 0-9 ]</td></tr><tr><td align="left">\D</td><td align="left">匹配除了 0 - 9 的其他字符，等价于 [ ^0-9 ]</td></tr><tr><td align="left">\w</td><td align="left">匹配任意的字母、数字和下划线，等价于 [ A-Za-z0-9_ ]</td></tr><tr><td align="left">\W</td><td align="left">匹配除了字母、数字和下划线的其他字符，等价于 [ ^A-Za-z0-9_ ]</td></tr><tr><td align="left">\s</td><td align="left">匹配空格（包含换行符、制表符和空格等），等价于 [ \t\r\n\v\f]</td></tr><tr><td align="left">\S</td><td align="left">匹配非空格的字符，等价于 [ ^\t\r\n\v\f]</td></tr></tbody></table> 
<h5><a id="522__716"></a>5.2.2 正则表达式的行为标识</h5> 
<ul><li>g : 表示全局（global）模式，即模式被应用于所有字符串，而非在发现第一个匹配项时立即停止。</li><li>i : 表示不区分大小写（case-insensitive）模式，即在确定匹配项时忽略模式与字符串的大小写。</li><li>m : 表示多行（multiline）模式，即在到达一行文本末尾时还会继续查找下一行中是否存在与模式匹配的项。</li></ul> 
<h3><a id="6_Function__723"></a>6. Function 类型</h3> 
<p>有关 Finction 类型的一些基础知识已经在博客笔记 <a href="https://blog.csdn.net/TKOP_/article/details/113844861">[JavaScript 基础（超详细）——2.6 初识函数]</a> 总结。下面是更深入的去学习该引用类型。这里主要总结<strong>对函数引用类型本质的理解、几种特殊的函数、调用函数时函数内部的 this 对象的指向问题、函数的属性和方法（有关 this 指向问题的一些方法）</strong>。函数其他有关知识例如<strong>闭包、函数递归</strong>等不在此处总结（篇幅实在太长了）。</p> 
<h4><a id="61__725"></a>6.1 函数本质和函数分类</h4> 
<h5><a id="611__727"></a>6.1.1 函数是什么</h5> 
<p>函数实际上是对象，每个函数都是 Function 类型的一个实例，而且与其他引用类型一样具有属性和方法。在声明函数的三种方式中，使用构造函数创建函数实例就是函数本质的直观表现。</p> 
<pre><code class="prism language-javascript"><span class="token keyword">var</span> sum <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Function</span><span class="token punctuation">(</span><span class="token string">"num1"</span><span class="token punctuation">,</span> <span class="token string">"num2"</span><span class="token punctuation">,</span> <span class="token string">"return num1 + num2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>一句话：函数是对象，函数名是指针，使用函数名不带括号访问的是函数指针，而非调用函数。这就是函数的本质。</p> 
<pre><code class="prism language-javascript"><span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token parameter">num1<span class="token punctuation">,</span> num2</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> num1 <span class="token operator">+</span> num2<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">alert</span><span class="token punctuation">(</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 20</span>
<span class="token keyword">var</span> anotherSum <span class="token operator">=</span> sum<span class="token punctuation">;</span>
sum <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span><span class="token function">anotherSum</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 20</span>
</code></pre> 
<p>如上示例代码，首先定义一个求和函数 sum （实例化一个函数对象），此时 sum 保存了一个指向函数对象的指针。再定义一个变量 anotherSum 并拷贝 sum 的值。两者保存了相同的指针，虽然最后将 sum 设置为 null 但 anotherSum 依旧指向该函数对象，所以依旧可以用其调用。</p> 
<h5><a id="612__749"></a>6.1.2 函数分类</h5> 
<p>函数分类有<strong>普通函数、匿名函数、闭包函数</strong>。这里只想总结匿名函数，匿名函数就是在创建函数实例时没有给该函数命名的函数。示例如下:</p> 
<pre><code class="prism language-javascript"><span class="token comment">// 1、函数表达式（匿名函数）、将函数赋值给了一个变量因此也就没必要给其命名</span>
<span class="token comment">//    注意这个 xx 并不是函数名，所以这也是匿名函数</span>
<span class="token comment">// var xx = function() { ... };</span>
<span class="token comment">// function xx() { ... }; 此时xx才是函数名</span>

<span class="token comment">// 2、立即执行函数、该函数在声明的同时执行。因此也没有必要命名标识</span>
<span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 3、某些只需在一特定函数或异步API内使用的回调函数</span>
<span class="token comment">//    当然这只是指那些比较简洁可以直接作为实参声明传入函数的回调函数</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>可能在学习过程中会遇到回调函数、立即执行函数、箭头函数（ES6 新增）、构造函数、对象的方法等这些概念。这些东西可能会阻碍你构建自己的认识函数知识体系，但其实它们都不难。</p> 
<h5><a id="613__771"></a>6.1.3 作为值的函数</h5> 
<p>函数名本身就是变量，所以函数也可以作为值来使用。也就是说，函数可以作为一个参数传入另一个函数使用（回调函数），也可以在函数内作为返回值返回（后面知识闭包的基础）。<br> 1、作为参数的函数（回调函数）</p> 
<pre><code class="prism language-javascript">    <span class="token keyword">var</span> <span class="token function-variable function">fn1</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> a <span class="token operator">+</span> b
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">function</span> <span class="token function">fn2</span><span class="token punctuation">(</span><span class="token parameter">callback</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> y <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> sum <span class="token operator">=</span> <span class="token function">callback</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> sum<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token function">fn2</span><span class="token punctuation">(</span>fn1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>2、作为返回值的函数</p> 
<p>可以从一个函数中返回另一个函数（其实就是上面的示例 sum ），而且这也是极为有用的一种技术。如下示例：</p> 
<pre><code class="prism language-javascript">    <span class="token keyword">var</span> users <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">unae</span><span class="token operator">:</span> <span class="token string">'TKOP_'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">uname</span><span class="token operator">:</span> <span class="token string">'扬尘_'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">20</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">uname</span><span class="token operator">:</span> <span class="token string">'某人'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">10</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	
	<span class="token comment">// 接收一个用于排序的属性值和一个排序规则（升序还是降序）作为参数。</span>
	<span class="token comment">// 返回一个函数，默认是升序 schema 为-1</span>
    <span class="token keyword">function</span> <span class="token function">compariseFn</span><span class="token punctuation">(</span><span class="token parameter">comparision<span class="token punctuation">,</span> schema <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span></span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">obj1<span class="token punctuation">,</span> obj2</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>schema <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">return</span> obj2<span class="token punctuation">[</span>comparision<span class="token punctuation">]</span> <span class="token operator">-</span> obj1<span class="token punctuation">[</span>comparision<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">return</span> obj1<span class="token punctuation">[</span>comparision<span class="token punctuation">]</span> <span class="token operator">-</span> obj2<span class="token punctuation">[</span>comparision<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 使用返回的函数作为 sort() 方法的参数</span>
    users<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token function">compariseFn</span><span class="token punctuation">(</span><span class="token string">'age'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">dir</span><span class="token punctuation">(</span>users<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    users<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token function">compariseFn</span><span class="token punctuation">(</span><span class="token string">'age'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">dir</span><span class="token punctuation">(</span>users<span class="token punctuation">)</span><span class="token punctuation">;</span>  
</code></pre> 
<p>输出结果如下图：</p> 
<p><img src="https://images2.imgbox.com/6b/ee/7PYr4rKY_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="62__832"></a>6.2 函数的属性和方法</h4> 
<h5><a id="621_arguments__this_834"></a>6.2.1 函数内部属性（arguments 和 this）</h5> 
<p>1、关于 arguments 属性前面已经总结过，这里主要是要了解 arguments.callee 属性。arguments.callee 属性指向的是拥有该 arguments对象的指针。主要是防止在函数递归操作时函数名发生改变，内层仍然使用原函数名无法进行递归操作，示例如下：</p> 
<pre><code class="prism language-javascript"><span class="token comment">// 阶乘操作</span>
<span class="token keyword">function</span> <span class="token function">factorial</span><span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>num <span class="token operator">&lt;=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> num<span class="token operator">*</span><span class="token function">factorial</span><span class="token punctuation">(</span>num <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// return num*arguments.callee(num - 1);</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">factorial</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 24, 没有问题</span>
<span class="token comment">// 将原先递归函数赋值给某变量</span>
<span class="token keyword">var</span> trueFactorial <span class="token operator">=</span> factorial<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">trueFactorial</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 24 也没有问题</span>
<span class="token comment">// factorial 指针改变</span>
factorial <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">trueFactorial</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 报错，因为里面使用的是不存在的 factorial 函数</span>
</code></pre> 
<p>但是如果使用 arguments.callee 代替递归函数名进行调用则不会出现问题，因为该属性始终指向的都是使用该 arguments 对象的函数。</p> 
<p>2、函数内部的另一个特殊的对象是 this ，<strong>this 引用的是函数执行的环境对象（this 的值）</strong>。在调用函数之前 this 的值并不确定，因此 this 可能在代码执行过程中引用不同的对象。下表是函数不同方式调用时 this 指向的对象。</p> 
<table><thead><tr><th align="left">调用方式</th><th align="left">this 指向</th></tr></thead><tbody><tr><td align="left">普通函数调用</td><td align="left">window</td></tr><tr><td align="left">定时器回调函数</td><td align="left">window</td></tr><tr><td align="left">立即执行函数</td><td align="left">window</td></tr><tr><td align="left">new 加构造函数时调用</td><td align="left">实例对象，原型对象里面的方法也指向实例对象。</td></tr><tr><td align="left">对象方法调用</td><td align="left">调用该方法的对象</td></tr><tr><td align="left">事件绑定的处理函数</td><td align="left">绑定事件的对象</td></tr></tbody></table> 
<p>3、与 this 有关的一个属性是函数对象的一个 caller 属性。这个属性中保存着调用当前函数的执行环境产生者的引用。若在全局执行环境中调用当前函数，则返回 null。</p> 
<pre><code class="prism language-javascript"><span class="token keyword">function</span> <span class="token function">outer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token function">inner</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">inner</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token function">alert</span><span class="token punctuation">(</span>inner<span class="token punctuation">.</span>caller<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// alert(arguments.callee.caller);</span>
<span class="token punctuation">}</span>
<span class="token function">outer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre> 
<h5><a id="622_callapply__bind_884"></a>6.2.2 函数的方法（call()、apply() 和 bind()）</h5> 
<p>JavaScript 中的函数对象为我们专门提供了一些方法更加优雅地处理其内部的 this 的指向问题，常用的有 bind()、call()、apply() 三种方法。以下我只以简单的代码示例用法，因为我想留多些笔墨来探究它们的实现。</p> 
<pre><code class="prism language-javascript">    <span class="token keyword">var</span> uname <span class="token operator">=</span> <span class="token string">'TKOP_0'</span><span class="token punctuation">;</span>

    <span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token parameter">num1<span class="token punctuation">,</span> num2</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>uname<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> num1 <span class="token operator">+</span> num2<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 1、fn.call(thisArg, arg1, arg2, ...),主要用于实现类的继承</span>
    <span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">uname</span><span class="token operator">:</span> <span class="token string">'TKOP_obj'</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 2、fn.apply(thisArg, [argArray])可以用来处理与数组有关的方法</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">24</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 我想取最大值</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>Math<span class="token punctuation">,</span> arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 3、fn.bind(thisArg, arg1, arg2, ...)不会调用函数</span>
    <span class="token comment">//    返回值是绑定特定对象为this的一个函数副本</span>
    <span class="token comment">//    常用于处理某些异步API回调函数的 this 指向绑定</span>
    <span class="token keyword">var</span> btns <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    btns<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        item<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>disabled <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
            <span class="token comment">/* setTimeout(() =&gt; {
                this.disabled = false;
            }, 3000); */</span>
            <span class="token comment">/*  setTimeout(function() {
                 this.disabled = false;
             }, 3000); */</span>
            <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>disabled <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token comment">/*
    * 方法1可以，因为箭头函数的this指向与其定义时的环境有关，是静态的
    * 方法2不可以，是典型的 this 指向错误问题
    * 方法3可以，因为此时已经将this指向的按钮绑定给了计时器的回调函数
    */</span>
</code></pre> 
<p>它们是如何做到改变 this 的指向的，怎么去模拟？我想了一下，出现了以下思路。要改变里面的 this 指向，只能将其作为该对象的方法然后调用。但是这样会使这个对象多出一个方法，可以 delete 。如下图，因为调用在删除之前，所以对象显示还是有 fn 。但是打开通过 console.dir 输出的对象则看到确实已经删除了。</p> 
<pre><code class="prism language-javascript">	<span class="token comment">// Function.prototype.call.length = 1,所以参数的传递方式是有问题的</span>
    <span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">newCall</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">objOfThis<span class="token punctuation">,</span> <span class="token operator">...</span>arg</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>   
        objOfThis<span class="token punctuation">.</span>fn <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> returnValue <span class="token operator">=</span> objOfThis<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token operator">...</span>arg<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">delete</span> objOfThis<span class="token punctuation">.</span>fn<span class="token punctuation">;</span>
        <span class="token keyword">return</span> returnValue<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">uname</span><span class="token operator">:</span> <span class="token string">'TKOP_'</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
    fn<span class="token punctuation">.</span><span class="token function">newCall</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/5d/23/LGGvqLSq_o.png" alt="在这里插入图片描述"></p> 
<p>然后百度了一下，虽然模拟方式不同但是大致想法一样。还看到大家讨论 eval() 执行在执行 fn() 方法时的参数问题。</p> 
<pre><code class="prism language-javascript"><span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">call2</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">context</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    context<span class="token punctuation">.</span>fn <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> args <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> len <span class="token operator">=</span> arguments<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        args<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'arguments['</span> <span class="token operator">+</span> i <span class="token operator">+</span> <span class="token string">']'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token function">eval</span><span class="token punctuation">(</span><span class="token string">'context.fn('</span> <span class="token operator">+</span> args <span class="token operator">+</span><span class="token string">')'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">delete</span> context<span class="token punctuation">.</span>fn<span class="token punctuation">;</span> <span class="token comment">//删除挂载在借用对象上的fn属性</span>
    <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h5><a id="623_length__prototype_974"></a>6.2.3 函数属性（length 和 prototype）</h5> 
<p>length 属性标识函数希望接收的命名参数个数，prototype 是保存它们所有实例方法的真正所在，即实例对象所共有的一些方法实际上都保存在 prototype 属性下。在原型和原型链笔记再详细介绍。</p> 
<pre><code class="prism language-javascript"><span class="token keyword">function</span> <span class="token function">fn1</span><span class="token punctuation">(</span><span class="token parameter">a1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">fn2</span><span class="token punctuation">(</span><span class="token parameter">a1<span class="token punctuation">,</span> a2</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">fn3</span><span class="token punctuation">(</span><span class="token parameter">a1<span class="token punctuation">,</span> a2<span class="token punctuation">,</span> a3</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
<span class="token function">alert</span><span class="token punctuation">(</span>fn1<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>fn2<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>fn3<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h3><a id="7__986"></a>7. 基本包装类型</h3> 
<p>基本包装类型的意义在于方便操作基本类型值，需要创建实质上的包装类型数据貌似没有遇到过。包装类型有三种 Boolean、Number 和 String 。可以通过 new 加相应的构造函数来实例化包装类型对象，但是基本上没必要。</p> 
<pre><code class="prism language-javascript"><span class="token keyword">var</span> booleanObject <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Boolean</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> numberObject <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Number</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> stringObject <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">'I am TKOP_'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>但是需要了解的是在基本类型调用对应的包装类型的方法时，后台会自动完成的处理工作。</p> 
<pre><code class="prism language-javascript"><span class="token keyword">var</span> s1 <span class="token operator">=</span> <span class="token string">'I am TKOP_'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> s2 <span class="token operator">=</span> s1<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s1<span class="token punctuation">,</span> s2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'I am TKOP_'   'TKOP_'</span>

<span class="token comment">// 执行第二句代码时后台隐性执行的操作</span>
<span class="token keyword">var</span> temp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> s2 <span class="token operator">=</span> temp<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
temp <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
</code></pre> 
<ul><li>创建 String 类型的一个实例；</li><li>在实例上调用指定方法并返回指定结果；</li><li>销毁创建的实例；</li></ul> 
<blockquote> 
 <p>自动创建的包装类型实例对象在使用后立即被销毁，这也是为什么我们不能给基本类型设置属性的原因。但是使用构造函数手动实例化的包装类型对象是可以和上面介绍的其他类型一样的。</p> 
</blockquote> 
<pre><code class="prism language-javascript">	<span class="token keyword">var</span> s1 <span class="token operator">=</span> <span class="token string">'I am TKOP_'</span><span class="token punctuation">;</span>
	s1<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'TKOP_'</span><span class="token punctuation">;</span> 
	concole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s1<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -&gt;undefined</span>
    <span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">'我是 TKOP_'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> str<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -&gt;String</span>
    str<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'TKOP_'</span><span class="token punctuation">;</span> <span class="token comment">// -&gt;Object</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -&gt;'TKOP_'</span>
</code></pre> 
<h4><a id="72_Boolean__1025"></a>7.2 Boolean 类型</h4> 
<p>。。。。。了解即可，建议永远不要使用 Boolean 对象。</p> 
<h4><a id="73_Number__1027"></a>7.3 Number 类型</h4> 
<p>。。。。。。了解即可。</p> 
<h4><a id="74_String__1030"></a>7.4 String 类型</h4> 
<p>String 类型是字符串的对象包装类型。String 对象的方法也可以在所有基本的字符串值中访问到。其中的一些方法跟 Array 类型类似。</p> 
<pre><code class="prism language-javascript"><span class="token comment">// length 属性返回字符串长度，注意即使是双字节字符也算一个</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'我是 TKOP_'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -&gt;8</span>
</code></pre> 
<blockquote> 
 <p>因为字符串是不可变的基本类型数据，以下方法实质均是隐式转化为包装类型后调用方法并返回值。因此原字符串不会发生改变。</p> 
</blockquote> 
<h5><a id="741__1042"></a>7.4.1 基本方法</h5> 
<p>1、字符方法 charAt() 和 charCodeAt()</p> 
<p>charAt() 和 charCodeAt() 是访问字符串中特定字符的两个方法。它们都是接收一个索引参数（基于 0），其中 charAt() 会返回该位置的字符（单字符字符串），charCodeAt() 则返回对应字符的编码。</p> 
<pre><code class="prism language-javascript">    <span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'我是 TKOP_'</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -&gt;'是'</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -&gt;84</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -&gt;'是' </span>
</code></pre> 
<p>2、字符串操作方法 concat()、slice()、substring()、substr()</p> 
<p>concat() 方法用于拼接多个字符串并返回拼接得到的新字符串，接收任意多个参数。</p> 
<p>slice() 、substring() 和 substr() 都是基于子字符串创建新字符串的方法，都会返回被操作字符串的一个子字符串。它们都接收两个参数，第一个参数指子字符串开始的位置，第二个参数都可以省略，省略则将字符串的末尾作为子字符串的结束位置。当第二个参数没有省略时，在 slice() 和 substring() 中表示子字符串结束的位置（不包含此位置的字符），substr() 中则表示截取的子字符串长度。</p> 
<p>对于参数取负值的情况了解即可。</p> 
<pre><code class="prism language-javascript"><span class="token keyword">var</span> str1 <span class="token operator">=</span> <span class="token string">'hello '</span><span class="token punctuation">,</span>
	str2 <span class="token operator">=</span> <span class="token string">'world'</span><span class="token punctuation">,</span>
	str3 <span class="token operator">=</span> <span class="token string">'!'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> str0 <span class="token operator">=</span> str1<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>str2<span class="token punctuation">,</span> str3<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>str0<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'lo world!'</span>
<span class="token function">alert</span><span class="token punctuation">(</span>str0<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'lo world!'</span>
<span class="token function">alert</span><span class="token punctuation">(</span>str0<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'lo world!'</span>

<span class="token function">alert</span><span class="token punctuation">(</span>str0<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'lo w'</span>
<span class="token function">alert</span><span class="token punctuation">(</span>str0<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'lo w'</span>
<span class="token function">alert</span><span class="token punctuation">(</span>str0<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'lo worl'</span>
</code></pre> 
<p>3、split() 方法</p> 
<p>split() 方法可以基于指定的分隔符将一个字符串分隔成多个子字符串，并将结果放在一个数组中。第一个参数是分隔符，可以是字符串也可以是正则表达式。第二个参数是可选参数，表示返回数组的最大长度（length）。</p> 
<pre><code class="prism language-javascript"><span class="token keyword">var</span> text <span class="token operator">=</span> <span class="token string">'cat, bat, sat, fat'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> arr1 <span class="token operator">=</span> text<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">','</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> arr2 <span class="token operator">=</span> text<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">','</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -&gt;["cat", " bat", " sat", " fat"]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -&gt;["cat", " bat", " sat"]</span>
</code></pre> 
<p>4、字符串位置方法 indexOf() 和 lastIndexOf()</p> 
<p>这两个方法的使用跟数组中的对应方法一致。</p> 
<p>5、去除字符串首尾所有空格的方法 trim()</p> 
<pre><code class="prism language-javascript"><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'  我前面两空格，后面一个空格 '</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> str1 <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span>length<span class="token punctuation">,</span> str1<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -&gt;16 13</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -&gt;'我前面两空格，后面一个空格'</span>
</code></pre> 
<p>一些主流浏览器还支持分标准的 trimLeft() 和 trimRight() 方法，分别用于删除字符串开头和末尾的空格。</p> 
<p>6、字符串大小写转换方法</p> 
<p>toLowerCase()、toUpperCase()、toLocaleLowerCase() 和 toLocaleUpperCase() 是四个与字符串大小写转换有关的方法。其中后面两个方法是针对特定地区的实现。在不知道自己的代码将在哪种语言运行环境中运行的情况下，还是针对地区的方法更稳妥一些。</p> 
<pre><code class="prism language-javascript">	<span class="token keyword">var</span> s1 <span class="token operator">=</span> <span class="token string">'I am TKOP_'</span><span class="token punctuation">;</span>
	<span class="token keyword">var</span> lowerS1 <span class="token operator">=</span> s1<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -&gt;'i am tkop_'</span>
	<span class="token keyword">var</span> upperS1 <span class="token operator">=</span> s1<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -&gt; 'I AM TKOP_'</span>
	<span class="token keyword">var</span> localeLow <span class="token operator">=</span> s1<span class="token punctuation">.</span><span class="token function">toLocaleLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -&gt;'i am tkop_'</span>
	<span class="token keyword">var</span> localeUpp <span class="token operator">=</span> s1<span class="token punctuation">.</span><span class="token function">toLocaleUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -&gt;'I AM TKOP_'</span>
</code></pre> 
<p>7、localeCompare() 方法</p> 
<p>该方法用于比较两个字符串，返回值有三种，分别是负值、0、正值。</p> 
<ul><li>负值 ：字符串在字母表中应该排在字符串参数之后。</li><li>0 ： 两个字符串一样。</li><li>正值 ：字符串在字母表中应该排在字符串参数之后。</li></ul> 
<p>8、fromCharCode() 方法</p> 
<p>这是 String 构造函数本身的静态方法。该方法接收一个或多个表示字符字符编码，然后将其转换成字符串。</p> 
<pre><code class="prism language-javascript"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> str0 <span class="token operator">=</span> <span class="token string">'我是 TKOP_'</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> str0<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>str0<span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -&gt;[25105, 26159, 32, 84, 75, 79, 80, 95]</span>

<span class="token keyword">var</span> str <span class="token operator">=</span> String<span class="token punctuation">.</span><span class="token function">fromCharCode</span><span class="token punctuation">(</span><span class="token operator">...</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -&gt;'我是 TKOP_'</span>
</code></pre> 
<p>9、ES6 新增</p> 
<ul><li>startsWith() 判断是否参数字符串开头</li><li>endsWith() 判断是否以参数字符串结尾</li><li>repeat( n ) 将原字符串重复 n 次并返回</li></ul> 
<h5><a id="742__1157"></a>7.4.2 字符串的模式匹配方法</h5> 
<p>1、match() 方法的调用，本质上与调用 RegExp 的 exec() 方法相同。</p> 
<pre><code class="prism language-javascript"><span class="token keyword">var</span> text <span class="token operator">=</span> <span class="token string">'cat, bat, sat, fat'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> pattern <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">.at</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
<span class="token keyword">var</span> matches <span class="token operator">=</span> text<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>pattern<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>matches<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'cat'</span>
<span class="token function">alert</span><span class="token punctuation">(</span>matches<span class="token punctuation">.</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>
<span class="token function">alert</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span>lastIndex<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>
</code></pre> 
<p>2、search() 方法接收一个字符串或者正则表达式作为参数。返回字符串中第一个匹配项的索引，如果没有则返回 -1 .</p> 
<pre><code class="prism language-javascript"><span class="token keyword">var</span> text <span class="token operator">=</span> <span class="token string">'cat, bat, sat, fat'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> pattern <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">at</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
<span class="token keyword">var</span> pos <span class="token operator">=</span> text<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span>pattern<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>pos<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
</code></pre> 
<p>3、replace() 方法用于替换匹配的字符。接收两个参数，第一个是需要<strong>被替换</strong>的子字符串（或者匹配的正则），第二个是替换的字符串。</p> 
<pre><code class="prism language-javascript"><span class="token keyword">var</span> text <span class="token operator">=</span> <span class="token string">'cat, bat, sat, fat'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> pattern <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">at</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
<span class="token keyword">var</span> result <span class="token operator">=</span> text<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>pattern<span class="token punctuation">,</span> <span class="token string">'ond'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'cond, bat, sat, fat'</span>
<span class="token comment">// 全局替换</span>
<span class="token keyword">var</span> gResult <span class="token operator">=</span> text<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">at</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">'ond'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>gResult<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'cond, bond, sond, fond';</span>
</code></pre> 
<h3><a id="8__1190"></a>8. 单体内置对象</h3> 
<p>内置对象的定义是：由 ECMAScript 提供的、不依赖于宿主环境的对象，这些对象在 ECMAScript 程序执行前就已经存在了。也就是说，开发人员不必显式地实例化内置对象，因为它们已经实例化了。例如前面所学的 Object、Array 和 Function ，它们都是内置对象而且都是 Function 类型的实例对象。接下来还需学习两个单体内置对象。</p> 
<h4><a id="81_Global__1193"></a>8.1 Global 对象</h4> 
<p>Global 对象的是 ECCMAScript 中最顶层的对象。事实上没有全局变量和全局函数，它们都不过是 Global 对象的属性和方法而已。例如内置的 Object 、Function 对象都是它的属性。ECMAScript 并没有指出如何直接访问 Global 对象，但 Web 浏览器都是将这个全局对象作为 window 对象的一部分加以实现。</p> 
<h5><a id="811_URI__1196"></a>8.1.1 URI 的编码和解码</h5> 
<p>Global 对象提供了几个与 URI（通用资源标识符）进行编码和解码的方法。</p> 
<ul><li>encodeURI()</li><li>encodeURIComponent()</li><li>decodeURI()</li><li>decodeURIComponent()</li></ul> 
<blockquote> 
 <p>前两个只会对对空格进行操作，其他字符原封不动。<br> 后面两个会操作所有非字母字符。</p> 
</blockquote> 
<h5><a id="812_eval__1206"></a>8.1.2 eval() 方法</h5> 
<p>eval() 方法会将字符串参数解析为 ECMAScript 语句并在该方法的位置插入执行。也就是说里面的语句是在 eval() 执行是才执行，所以也不会有变量和函数提升。还有就是注意在严格模式下，外部访问不到 eval() 中创建的任何变量或者函数。</p> 
<h5><a id="813_Global__1209"></a>8.1.3 Global 对象的属性</h5> 
<ul><li>我们熟悉的 undefined、NaN、infinity、Object、Array 等。</li><li>还有一些报错时抛出的错误类型构造函数 Error、SyntaxError、TypeError、RefereneceError 等。</li></ul> 
<h4><a id="82_Math__1213"></a>8.2 Math 对象</h4> 
<p>Math 对象是 ECMAScript 内置的一个用于保存数学公式和信息的对象。里面有很多与数学计算有关的属性和方法。</p> 
<h5><a id="821_Math__1216"></a>8.2.1 Math 对象的属性（了解）</h5> 
<ul><li>Math.E 自然对数的底数，即 e</li><li>Math.PI 圆周率 π 的值</li></ul> 
<blockquote> 
 <p>其他的略了</p> 
</blockquote> 
<h5><a id="822_Math__1222"></a>8.2.2 Math 对象的方法</h5> 
<ul><li>max() 和 min()</li><li>Math.ceil()、Math.floor() 和 Math.round()</li><li>Math.random()</li><li>Math.abs()、Math.exp()、Math.pow(num, power)、Math.sqrt()</li></ul> 
<pre><code class="prism language-javascript"><span class="token comment">// 数组对象借用Math方法实现某些操作(上面有提到)</span>
<span class="token comment">// 三个舍入方法的区别和负数时需要特别注意一些特性</span>
<span class="token comment">// random() 方法取随机数的运用</span>
<span class="token comment">// 得到a到b 或者 b 到a的随机整数（包含这两个数）</span>
<span class="token keyword">function</span> <span class="token function">getRandom</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>a <span class="token operator">-</span> b<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f26a9ebfbc3f826f5cf40e09613006ad/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">数组不赋初值，那么你将会面临以下麻烦</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/f85ef7e5fe05ce72960cd984d10188e0/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">acwing 1050. 鸣人的影分身</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>