<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>梅科尔工作室-任采薇-鸿蒙笔记1 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="梅科尔工作室-任采薇-鸿蒙笔记1" />
<meta property="og:description" content="主要目录配置文件作用（stage模型和FA模型下） 1.stage模型
在基于Stage模型开发的应用项目代码下，都存在一个app.json5及一个或多个module.json5这两种配置文件。
app.json5主要包含以下内容：
应用的全局配置信息，包含应用的包名、开发厂商、版本号等基本信息。
特定设备类型的配置信息。
module.json5主要包含以下内容：
Module的基本配置信息，例如Module名称、类型、描述、支持的设备类型等基本信息。
应用组件信息，包含UIAbility组件和ExtensionAbility组件的描述信息。
应用运行过程中所需的权限信息。
app.json5配置文件
app.json5配置文件包含以下标签。
module.json5配置文件
deviceTypes标签​​​​​​pages标签metadata标签abilities标签skills标签extensionAbilities标签requestPermissions标签shortcuts标签distroFilter标签
testRunner标签
2.FA模型
config.json由app、deviceConfig和module三个部分组成，缺一不可。
app对象内部结构
app对象包含应用全局配置信息
表1 app对象内部结构说明
属性名称
含义
数据类型
是否可缺省
bundleName
标识应用的包名，用于标识应用的唯一性。包名是由字母、数字、下划线（_）和点号（.）组成的字符串，必须以字母开头。支持的字符串长度为7~127字节。包名通常采用反向域名形式表示（例如，&#34;com.example.myapplication&#34;）。建议第一级为域名后缀&#34;com&#34;，第二级为厂商/个人名，也可以采用多级。
字符串
不可缺省。
vendor
标识对应用开发厂商的描述。字符串长度不超过255字节。
字符串
可缺省，缺省值为空。
version
标识应用的版本信息。
对象
不可缺省。
apiVersion
标识应用程序所依赖的HarmonyOS API版本。
对象
可缺省，缺省值为空。
smartWindowSize
标识应用在模拟器中运行时使用的屏幕尺寸。
字符串
可缺省，缺省值为空。
smartWindowDeviceType
标识应用在模拟器中运行时可以模拟的设备。
字符串数组
可缺省，缺省值为空。
表2 version对象内部结构说明
属性名称
含义
数据类型
是否可缺省
name
标识应用的版本号，用于向应用的终端用户呈现。取值可以自定义，长度不超过127字节。自定义规则如下：API5及更早的版本：推荐使用三段数字版本号（也兼容两段式版本号），如A.B.C(也兼容A.B)，其中A、B、C取值为0-999范围内的整数。除此之外不支持其他格式。
A段，一般表示主版本号(Major)。
B段，一般表示次版本号(Minor)。
C段，一般表示修订版本号(Patch)。API6版本起：推荐采用四段式数字版本号，如A.B.C.D，其中A、B、C取值为0-99范围内的整数，D的取值为0-999范围内的整数。
A段，一般表示主版本号(Major)。
B段，一般表示次版本号(Minor)。
C段，一般表示特性版本号(Feature)。
D段，一般表示修订版本号(Patch)。
数值
不可缺省。
code
标识应用的版本号，仅用于HarmonyOS管理该应用，不对应用的终端用户呈现。取值规则如下：API5及更早版本：二进制32位以内的非负整数，需要从version.name的值转换得到。转换规则为：code值=A * 1,000,000 &#43; B * 1,000 &#43; C例如，version." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/0f2c084f6e3354e88bffd1a96bcf2171/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-02-18T12:10:30+08:00" />
<meta property="article:modified_time" content="2023-02-18T12:10:30+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">梅科尔工作室-任采薇-鸿蒙笔记1</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h3>主要目录配置文件作用（stage模型和FA模型下）</h3> 
<p>1.stage模型</p> 
<p>在基于Stage模型开发的应用项目代码下，都存在一个app.json5及一个或多个module.json5这两种配置文件。</p> 
<p><a href="https://developer.harmonyos.com/cn/docs/documentation/doc-guides-V3/app-configuration-file-0000001427584584-V3" rel="nofollow" title="app.json5">app.json5</a>主要包含以下内容：</p> 
<ul><li> <p>应用的全局配置信息，包含应用的包名、开发厂商、版本号等基本信息。</p> </li><li> <p>特定设备类型的配置信息。</p> </li></ul> 
<p><a href="https://developer.harmonyos.com/cn/docs/documentation/doc-guides-V3/module-configuration-file-0000001427744540-V3" rel="nofollow" title="module.json5">module.json5</a>主要包含以下内容：</p> 
<ul><li> <p>Module的基本配置信息，例如Module名称、类型、描述、支持的设备类型等基本信息。</p> </li><li> <p><a href="https://developer.harmonyos.com/cn/docs/documentation/doc-guides-V3/stage-model-development-overview-0000001427744552-V3" rel="nofollow" title="应用组件">应用组件</a>信息，包含UIAbility组件和ExtensionAbility组件的描述信息。</p> </li><li> <p>应用运行过程中所需的权限信息。</p> </li></ul> 
<p>app.json5配置文件</p> 
<p>app.json5配置文件包含以下标签。</p> 
<p></p> 
<p>module.json5配置文件</p> 
<p><a href="https://developer.harmonyos.com/cn/docs/#ZH-CN_TOPIC_0000001427744540__devicetypes%E6%A0%87%E7%AD%BE" rel="nofollow" title="deviceTypes标签">deviceTypes标签</a><a href="https://developer.harmonyos.com/cn/docs/#ZH-CN_TOPIC_0000001427744540__pages%E6%A0%87%E7%AD%BE" rel="nofollow" title="​​​​​​pages标签">​​​​​​pages标签</a><a href="https://developer.harmonyos.com/cn/docs/#ZH-CN_TOPIC_0000001427744540__metadata%E6%A0%87%E7%AD%BE" rel="nofollow" title="metadata标签">metadata标签</a><a href="https://developer.harmonyos.com/cn/docs/#ZH-CN_TOPIC_0000001427744540__abilities%E6%A0%87%E7%AD%BE" rel="nofollow" title="abilities标签">abilities标签</a><a href="https://developer.harmonyos.com/cn/docs/#ZH-CN_TOPIC_0000001427744540__skills%E6%A0%87%E7%AD%BE" rel="nofollow" title="skills标签">skills标签</a><a href="https://developer.harmonyos.com/cn/docs/#ZH-CN_TOPIC_0000001427744540__extensionabilities%E6%A0%87%E7%AD%BE" rel="nofollow" title="extensionAbilities标签">extensionAbilities标签</a><a href="https://developer.harmonyos.com/cn/docs/#ZH-CN_TOPIC_0000001427744540__requestpermissions%E6%A0%87%E7%AD%BE" rel="nofollow" title="requestPermissions标签">requestPermissions标签</a><a href="https://developer.harmonyos.com/cn/docs/#ZH-CN_TOPIC_0000001427744540__shortcuts%E6%A0%87%E7%AD%BE" rel="nofollow" title="shortcuts标签">shortcuts标签</a><a href="https://developer.harmonyos.com/cn/docs/#ZH-CN_TOPIC_0000001427744540__distrofilter%E6%A0%87%E7%AD%BE" rel="nofollow" title="distroFilter标签">distroFilter标签</a><br><br><a href="https://developer.harmonyos.com/cn/docs/#ZH-CN_TOPIC_0000001427744540__testrunner%E6%A0%87%E7%AD%BE" rel="nofollow" title="testRunner标签">testRunner标签</a></p> 
<p>2.FA模型</p> 
<p>config.json由app、deviceConfig和module三个部分组成，缺一不可。</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/be/a8/9uUFdpMJ_o.png"></p> 
<p> app对象内部结构</p> 
<p>app对象包含应用全局配置信息</p> 
<p><strong>表1 app对象内部结构说明</strong></p> 
<table><thead><tr><th id="mcps1.3.3.1.5.1.1"> <p>属性名称</p> </th><th id="mcps1.3.3.1.5.1.2"> <p>含义</p> </th><th id="mcps1.3.3.1.5.1.3"> <p>数据类型</p> </th><th id="mcps1.3.3.1.5.1.4"> <p>是否可缺省</p> </th></tr></thead><tbody><tr><td style="vertical-align:top;"> <p>bundleName</p> </td><td style="vertical-align:top;"> <p>标识应用的包名，用于标识应用的唯一性。包名是由字母、数字、下划线（_）和点号（.）组成的字符串，必须以字母开头。支持的字符串长度为7~127字节。包名通常采用反向域名形式表示（例如，"com.example.myapplication"）。建议第一级为域名后缀"com"，第二级为厂商/个人名，也可以采用多级。</p> </td><td style="vertical-align:top;"> <p>字符串</p> </td><td style="vertical-align:top;"> <p>不可缺省。</p> </td></tr><tr><td style="vertical-align:top;"> <p>vendor</p> </td><td style="vertical-align:top;"> <p>标识对应用开发厂商的描述。字符串长度不超过255字节。</p> </td><td style="vertical-align:top;"> <p>字符串</p> </td><td style="vertical-align:top;"> <p>可缺省，缺省值为空。</p> </td></tr><tr><td style="vertical-align:top;"> <p>version</p> </td><td style="vertical-align:top;"> <p>标识应用的版本信息。</p> </td><td style="vertical-align:top;"> <p>对象</p> </td><td style="vertical-align:top;"> <p>不可缺省。</p> </td></tr><tr><td style="vertical-align:top;"> <p>apiVersion</p> </td><td style="vertical-align:top;"> <p>标识应用程序所依赖的HarmonyOS API版本。</p> </td><td style="vertical-align:top;"> <p>对象</p> </td><td style="vertical-align:top;"> <p>可缺省，缺省值为空。</p> </td></tr><tr><td style="vertical-align:top;"> <p>smartWindowSize</p> </td><td style="vertical-align:top;"> <p>标识应用在模拟器中运行时使用的屏幕尺寸。</p> </td><td style="vertical-align:top;"> <p>字符串</p> </td><td style="vertical-align:top;"> <p>可缺省，缺省值为空。</p> </td></tr><tr><td style="vertical-align:top;"> <p>smartWindowDeviceType</p> </td><td style="vertical-align:top;"> <p>标识应用在模拟器中运行时可以模拟的设备。</p> </td><td style="vertical-align:top;"> <p>字符串数组</p> </td><td style="vertical-align:top;"> <p>可缺省，缺省值为空。</p> </td></tr></tbody></table> 
<p><strong><strong>表2</strong> <strong>version对象内部结构说明</strong></strong></p> 
<table><thead><tr><th> <p>属性名称</p> </th><th> <p>含义</p> </th><th> <p>数据类型</p> </th><th> <p>是否可缺省</p> </th></tr></thead><tbody><tr><td style="vertical-align:top;"> <p>name</p> </td><td style="vertical-align:top;"> <p>标识应用的版本号，用于向应用的终端用户呈现。取值可以自定义，长度不超过127字节。自定义规则如下：API5及更早的版本：推荐使用三段数字版本号（也兼容两段式版本号），如A.B.C(也兼容A.B)，其中A、B、C取值为0-999范围内的整数。除此之外不支持其他格式。</p> <p>A段，一般表示主版本号(Major)。</p> <p>B段，一般表示次版本号(Minor)。</p> <p>C段，一般表示修订版本号(Patch)。API6版本起：推荐采用四段式数字版本号，如A.B.C.D，其中A、B、C取值为0-99范围内的整数，D的取值为0-999范围内的整数。</p> <p>A段，一般表示主版本号(Major)。</p> <p>B段，一般表示次版本号(Minor)。</p> <p>C段，一般表示特性版本号(Feature)。</p> <p>D段，一般表示修订版本号(Patch)。</p> </td><td style="vertical-align:top;"> <p>数值</p> </td><td style="vertical-align:top;"> <p>不可缺省。</p> </td></tr><tr><td style="vertical-align:top;"> <p>code</p> </td><td style="vertical-align:top;"> <p>标识应用的版本号，仅用于HarmonyOS管理该应用，不对应用的终端用户呈现。取值规则如下：API5及更早版本：二进制32位以内的非负整数，需要从version.name的值转换得到。转换规则为：code值=A * 1,000,000 + B * 1,000 + C例如，version.name字段取值为2.2.1，则code值为2002001。API6版本起：code的取值不与version.name字段的取值关联，开发者可自定义code取值，取值范围为2^31以内的非负整数，但是每次应用版本的更新，均需要更新code字段的值，新版本code取值必须大于旧版本code的值。</p> </td><td style="vertical-align:top;"> <p>数值</p> </td><td style="vertical-align:top;"> <p>不可缺省。</p> </td></tr><tr><td style="vertical-align:top;"> <p>minCompatibleVersionCode</p> </td><td style="vertical-align:top;"> <p>标识应用可兼容的最低版本号，用于跨设备场景下，判断其他设备上该应用的版本是否兼容。格式与version.code字段的格式要求相同。</p> <p>说明</p> <p>当前版本暂不支持跨设备能力。</p> </td><td style="vertical-align:top;"> <p>数值</p> </td><td style="vertical-align:top;"> <p>可缺省，缺省值为code标签值。</p> </td></tr></tbody></table> 
<p><strong><strong>表3</strong> <strong>apiVersion内部结构</strong></strong></p> 
<table><thead><tr><th id="mcps1.3.7.1.5.1.1"> <p>属性名称</p> </th><th id="mcps1.3.7.1.5.1.2"> <p>含义</p> </th><th id="mcps1.3.7.1.5.1.3"> <p>数据类型</p> </th><th id="mcps1.3.7.1.5.1.4"> <p>是否可缺省</p> </th></tr></thead><tbody><tr><td style="vertical-align:top;"> <p>compatible</p> </td><td style="vertical-align:top;"> <p>运行应用所需要的最低API版本，取值范围为0~2147483647。</p> </td><td style="vertical-align:top;"> <p>数值</p> </td><td style="vertical-align:top;"> <p>配置在build.profile中，打包时由IDE填充到config.json中。</p> </td></tr><tr><td style="vertical-align:top;"> <p>target</p> </td><td style="vertical-align:top;"> <p>用于标识应用运行时使用的API版本，取值范围为0~2147483647。</p> </td><td style="vertical-align:top;"> <p>数值</p> </td><td style="vertical-align:top;"> <p>配置在build.profile中，打包时由IDE填充到config.json中。</p> </td></tr><tr><td style="vertical-align:top;"> <p>releaseType</p> </td><td style="vertical-align:top;"> <p>用于标识应用运行时SDK的状态。</p> <p>canary：面向特定开发者早期预览版本，不承诺质量，不承诺API稳定。</p> <p>beta：公开发布的Beta版本，早期Beta版本不承诺API稳定，经历若干次发布后，通过Release Notes对开发者声明该Beta版本为API稳定里程碑，后续版本的API冻结。</p> <p>release：正式发布版本，承诺质量，API不可变更。当版本处于此状态时版本号中不呈现Stage字段。</p> </td><td style="vertical-align:top;"> <p>字符串</p> </td><td style="vertical-align:top;"> <p>配置在build.profile中，打包时由IDE填充到config.json中。</p> </td></tr></tbody></table> 
<p>deviceConfig对象内部结构</p> 
<p>deviceConfig包含设备上的应用配置信息，可以包含default，phone，tv，car，wearable等属性。default标签内的配置适用于所有通用设备，其他设备类型如果有特殊的需求，则需要在该设备类型的标签下进行配置。</p> 
<table><caption> 
  <strong>表1 </strong> 
  <strong>deviceConfig对象内部结构说明</strong> 
 </caption><thead><tr><th id="mcps1.3.2.2.5.1.1"> <p>属性名称</p> </th><th id="mcps1.3.2.2.5.1.2"> <p>含义</p> </th><th id="mcps1.3.2.2.5.1.3"> <p>数据类型</p> </th><th id="mcps1.3.2.2.5.1.4"> <p>是否可缺省</p> </th></tr></thead><tbody><tr><td style="vertical-align:top;"> <p>default</p> </td><td style="vertical-align:top;"> <p>能够使用全部系统能力的HarmonyOS设备。</p> </td><td style="vertical-align:top;"> <p>对象</p> </td><td style="vertical-align:top;"> <p>可缺省，缺省值为空。</p> </td></tr><tr><td style="vertical-align:top;"> <p>phone</p> </td><td style="vertical-align:top;"> <p>标识手机的应用配置信息。</p> </td><td style="vertical-align:top;"> <p>对象</p> </td><td style="vertical-align:top;"> <p>可缺省，缺省值为空。</p> </td></tr><tr><td style="vertical-align:top;"> <p>tablet</p> </td><td style="vertical-align:top;"> <p>标识平板的应用配置信息。</p> </td><td style="vertical-align:top;"> <p>对象</p> </td><td style="vertical-align:top;"> <p>可缺省，缺省值为空。</p> </td></tr><tr><td style="vertical-align:top;"> <p>tv</p> </td><td style="vertical-align:top;"> <p>标识智慧屏特有的应用配置信息。</p> </td><td style="vertical-align:top;"> <p>对象</p> </td><td style="vertical-align:top;"> <p>可缺省，缺省值为空。</p> </td></tr><tr><td style="vertical-align:top;"> <p>car</p> </td><td style="vertical-align:top;"> <p>标识车机特有的应用配置信息。</p> </td><td style="vertical-align:top;"> <p>对象</p> </td><td style="vertical-align:top;"> <p>可缺省，缺省值为空。</p> </td></tr><tr><td style="vertical-align:top;"> <p>wearable</p> </td><td style="vertical-align:top;"> <p>标识智能穿戴特有的应用配置信息。</p> </td><td style="vertical-align:top;"> <p>对象</p> </td><td style="vertical-align:top;"> <p>可缺省，缺省值为空。</p> </td></tr></tbody></table> 
<p>上表中各类设备对象的内部结构说明请见表2。</p> 
<p><strong><strong>表2</strong> <strong>deviceConfig设备对象内部结构说明</strong></strong></p> 
<table><thead><tr><th> <p>属性名称</p> </th><th> <p>含义</p> </th><th> <p>数据类型</p> </th><th> <p>是否可缺省</p> </th></tr></thead><tbody><tr><td style="vertical-align:top;"> <p>process</p> </td><td style="vertical-align:top;"> <p>标识应用或者Ability的进程名。如果在deviceConfig标签下配置了process标签，则该应用的所有Ability都运行在这个进程中。如果在abilities标签下也为某个Ability配置了process标签，则该Ability就运行在这个进程中。该标签最大长度为31。</p> </td><td style="vertical-align:top;"> <p>字符串</p> </td><td style="vertical-align:top;"> <p>可缺省，缺省值为空。</p> </td></tr><tr><td style="vertical-align:top;"> <p>keepAlive</p> </td><td style="vertical-align:top;"> <p>标识应用是否始终保持运行状态，仅支持系统应用配置，三方应用配置不生效。该标签为布尔类型，可缺省，缺省值为false，如果配置为true，应用将始终保持为运行状态，并在系统启动的时候被系统驱动起来，应用进程退出后，系统也会重新启动应用进程。</p> </td><td style="vertical-align:top;"> <p>布尔值</p> </td><td style="vertical-align:top;"> <p>可缺省，缺省值为false。</p> </td></tr><tr><td style="vertical-align:top;"> <p>supportBackup</p> </td><td style="vertical-align:top;"> <p>标识应用是否支持备份和恢复。如果配置为"false"，则不支持为该应用执行备份或恢复操作。</p> </td><td style="vertical-align:top;"> <p>布尔值</p> </td><td style="vertical-align:top;"> <p>可缺省，缺省值为false。</p> </td></tr><tr><td style="vertical-align:top;"> <p>compressNativeLibs</p> </td><td style="vertical-align:top;"> <p>标识libs库是否以压缩存储的方式打包到HAP。如果配置为"false"，则libs库以不压缩的方式存储，HAP在安装时无需解压libs，运行时会直接从HAP内加载libs库。</p> </td><td style="vertical-align:top;"> <p>布尔值</p> </td><td style="vertical-align:top;"> <p>可缺省，缺省值为false。</p> </td></tr><tr><td style="vertical-align:top;"> <p>network</p> </td><td style="vertical-align:top;"> <p>标识网络安全性配置。该标签允许应用通过配置文件的安全声明来自定义其网络安全，无需修改应用代码。</p> </td><td style="vertical-align:top;"> <p>对象</p> </td><td style="vertical-align:top;"> <p>可缺省，缺省值为空。</p> </td></tr></tbody></table> 
<p><strong><strong>表3</strong> <strong>network对象的内部结构说明</strong></strong></p> 
<table><thead><tr><th> <p>属性名称</p> </th><th> <p>含义</p> </th><th> <p>数据类型</p> </th><th> <p>是否可缺省</p> </th></tr></thead><tbody><tr><td style="vertical-align:top;"> <p>cleartextTraffic</p> </td><td style="vertical-align:top;"> <p>标识是否允许应用使用明文网络流量（例如，明文HTTP）。</p> <p>true：允许应用使用明文流量的请求。false：拒绝应用使用明文流量的请求。</p> </td><td style="vertical-align:top;"> <p>布尔值</p> </td><td style="vertical-align:top;"> <p>可缺省，缺省值为false。</p> </td></tr><tr><td style="vertical-align:top;"> <p>securityConfig</p> </td><td style="vertical-align:top;"> <p>标识应用的网络安全配置信息。</p> </td><td style="vertical-align:top;"> <p>对象</p> </td><td style="vertical-align:top;"> <p>可缺省，缺省为空。</p> </td></tr></tbody></table> 
<p><strong><strong>表4</strong> <strong>securityConfig对象的内部结构说明</strong></strong></p> 
<table><thead><tr><th id="mcps1.3.9.1.5.1.1"> <p>属性名称</p> </th><th id="mcps1.3.9.1.5.1.2"> <p>含义</p> </th><th id="mcps1.3.9.1.5.1.3"> <p>数据类型</p> </th><th id="mcps1.3.9.1.5.1.4"> <p>是否可缺省</p> </th></tr></thead><tbody><tr><td style="vertical-align:top;"> <p>domainSettings</p> </td><td style="vertical-align:top;"> <p>标识自定义的网域范围的安全配置，支持多层嵌套，即一个domainSettings对象中允许嵌套更小网域范围的domainSettings对象。</p> </td><td style="vertical-align:top;"> <p>对象类型</p> </td><td style="vertical-align:top;"> <p>可缺省，缺省为空。</p> </td></tr></tbody></table> 
<p><strong><strong>表5</strong> <strong>domainSettings对象内部结构说明</strong></strong></p> 
<table><thead><tr><th id="mcps1.3.11.1.5.1.1"> <p>属性名称</p> </th><th id="mcps1.3.11.1.5.1.2"> <p>含义</p> </th><th id="mcps1.3.11.1.5.1.3"> <p>数据类型</p> </th><th id="mcps1.3.11.1.5.1.4"> <p>是否可缺省</p> </th></tr></thead><tbody><tr><td style="vertical-align:top;"> <p>cleartextPermitted</p> </td><td style="vertical-align:top;"> <p>标识自定义的网域范围内是否允许明文流量传输。当cleartextTraffic和security同时存在时，自定义网域是否允许明文流量传输以cleartextPermitted的取值为准。true：允许明文流量传输。false：拒绝明文流量传输。</p> </td><td style="vertical-align:top;"> <p>布尔类型</p> </td><td style="vertical-align:top;"> <p>可缺省，缺省值为空。</p> </td></tr><tr><td style="vertical-align:top;"> <p>domains</p> </td><td style="vertical-align:top;"> <p>标识域名配置信息，包含两个参数：subdomains和name。subdomains(布尔类型)：表示是否包含子域名。如果为"true"，此网域规则将与相应网域及所有子网域（包括子网域的子网域）匹配。否则，该规则仅适用于精确匹配项。name(字符串)：表示域名名称。</p> </td><td style="vertical-align:top;"> <p>对象数组</p> </td><td style="vertical-align:top;"> <p>可缺省，缺省值为空。</p> </td></tr></tbody></table> 
<p>module对象内部结构</p> 
<p>module对象包含HAP的配置信息。</p> 
<table><caption> 
  <strong>表1 </strong> 
  <strong>module对象内部结构说明</strong> 
 </caption><thead><tr><th> <p>属性名称</p> </th><th> <p>含义</p> </th><th> <p>数据类型</p> </th><th> <p>是否可缺省</p> </th></tr></thead><tbody><tr><td style="vertical-align:top;"> <p>mainAbility</p> </td><td style="vertical-align:top;"> <p>服务中心图标露出的Ability，常驻进程拉起时会启动mainAbility。</p> </td><td style="vertical-align:top;"> <p>字符串</p> </td><td style="vertical-align:top;"> <p>可缺省，缺省值为空。</p> </td></tr><tr><td style="vertical-align:top;"> <p>package</p> </td><td style="vertical-align:top;"> <p>标识HAP的包结构名称，在应用内保证唯一性。采用反向域名格式（建议与HAP的工程目录保持一致）。字符串长度为1-127个字节。</p> </td><td style="vertical-align:top;"> <p>字符串</p> </td><td style="vertical-align:top;"> <p>不可缺省。</p> </td></tr><tr><td style="vertical-align:top;"> <p>name</p> </td><td style="vertical-align:top;"> <p>标识HAP的类名。采用反向域名方式标识，前缀要与同级的package标签指定的包名一致，也可采用"."开头的命名方式。字符串长度不超过255字节。</p> </td><td style="vertical-align:top;"> <p>字符串</p> </td><td style="vertical-align:top;"> <p>可缺省，缺省值为空。</p> </td></tr><tr><td style="vertical-align:top;"> <p>description</p> </td><td style="vertical-align:top;"> <p>标识HAP的描述信息。字符串长度不超过255字节。如果字符串超出长度或者需要支持多语言，可以采用资源索引的方式添加描述内容。</p> </td><td style="vertical-align:top;"> <p>字符串</p> </td><td style="vertical-align:top;"> <p>可缺省，缺省值为空。</p> </td></tr><tr><td style="vertical-align:top;"> <p>supportedModes</p> </td><td style="vertical-align:top;"> <p>标识应用支持的运行模式，当前只定义了驾驶模式（drive）。该标签只适用于车机。</p> </td><td style="vertical-align:top;"> <p>字符串数组</p> </td><td style="vertical-align:top;"> <p>可缺省，缺省值为空。</p> </td></tr><tr><td style="vertical-align:top;"> <p>deviceType</p> </td><td style="vertical-align:top;"> <p>标识允许Ability运行的设备类型。系统预定义的设备类型包括：phone（手机）、tablet(平板)、tv（智慧屏）、car(车机)、wearable(智能穿戴)等。</p> </td><td style="vertical-align:top;"> <p>字符串数组</p> </td><td style="vertical-align:top;"> <p>不可缺省。</p> </td></tr><tr><td style="vertical-align:top;"> <p>distro</p> </td><td style="vertical-align:top;"> <p>标识HAP发布的具体描述。</p> </td><td style="vertical-align:top;"> <p>对象</p> </td><td style="vertical-align:top;"> <p>不可缺省。</p> </td></tr><tr><td style="vertical-align:top;"> <p>metaData</p> </td><td style="vertical-align:top;"> <p>标识HAP的元信息。</p> </td><td style="vertical-align:top;"> <p>对象</p> </td><td style="vertical-align:top;"> <p>可缺省，缺省值为空。</p> </td></tr><tr><td style="vertical-align:top;"> <p>abilities</p> </td><td style="vertical-align:top;"> <p>标识当前模块内的所有Ability。采用对象数据格式。</p> </td><td style="vertical-align:top;"> <p>对象数组</p> </td><td style="vertical-align:top;"> <p>可缺省，缺省值为空。</p> </td></tr><tr><td style="vertical-align:top;"> <p>js</p> </td><td style="vertical-align:top;"> <p>标识基于ArkUI框架开发的JS模块集合，其中的每个元素代表一个JS模块的信息。</p> </td><td style="vertical-align:top;"> <p>对象数组</p> </td><td style="vertical-align:top;"> <p>可缺省，缺省值为空。</p> </td></tr><tr><td style="vertical-align:top;"> <p>shortcuts</p> </td><td style="vertical-align:top;"> <p>标识应用的快捷方式信息。采用对象数组格式，其中的每个元素表示一个快捷方式对象。</p> </td><td style="vertical-align:top;"> <p>对象数组</p> </td><td style="vertical-align:top;"> <p>可缺省，缺省值为空。</p> </td></tr><tr><td style="vertical-align:top;"> <p>reqPermissions</p> </td><td style="vertical-align:top;"> <p>标识应用运行时向系统申请的权限。</p> </td><td style="vertical-align:top;"> <p>对象数组</p> </td><td style="vertical-align:top;"> <p>可缺省，缺省值为空。</p> </td></tr><tr><td style="vertical-align:top;"> <p>colorMode</p> </td><td style="vertical-align:top;"> <p>标识应用自身的颜色模式，目前支持如下三种模式：</p> <p>- dark：表示按照深色模式选取资源。</p> <p>- light：表示按照浅色模式选取资源。</p> <p>- auto：表示跟随系统的颜色模式值选取资源。</p> </td><td style="vertical-align:top;"> <p>字符串</p> </td><td style="vertical-align:top;"> <p>可缺省，缺省值为"auto"。</p> </td></tr><tr><td style="vertical-align:top;"> <p>distroFilter</p> </td><td style="vertical-align:top;"> <p>标识应用的分发规则。该标签用于定义HAP对应的细分设备规格的分发策略，以便在应用市场进行云端分发应用包时做精准匹配。该标签可配置的分发策略维度包括API Version、屏幕形状、屏幕分辨率。在进行分发时，通过deviceType与这三个属性的匹配关系，唯一确定一个用于分发到设备的HAP。</p> </td><td style="vertical-align:top;"> <p>对象</p> </td><td style="vertical-align:top;"> <p>可缺省，缺省值为空。但当应用中包含多个entry模块时，必须配置该标签。</p> </td></tr><tr><td style="vertical-align:top;"> <p>commonEvents</p> </td><td style="vertical-align:top;"> <p>定义了公共事件静态订阅者的信息，该字段中需要声明静态订阅者的名称、权限要求及订阅事件列表信息，当订阅的公共事件发送时，该公共事件静态订阅者将被拉起。这里的静态订阅者区分于常用的动态订阅者，前者无需在业务代码中主动调用订阅事件的接口，在公共事件发布时可能未被拉起，而动态订阅者则在业务代码中主动调用公共事件订阅的相关API，因此需要应用处于活动状态。</p> </td><td style="vertical-align:top;"> <p>对象数组</p> </td><td style="vertical-align:top;"> <p>可缺省，缺省为空。</p> </td></tr><tr><td style="vertical-align:top;"> <p>entryTheme</p> </td><td style="vertical-align:top;"> <p>此标签标识HarmonyOS内部主题的关键字。将标记值设置为名称的资源索引。</p> </td><td style="vertical-align:top;"> <p>字符串</p> </td><td style="vertical-align:top;"> <p>可缺省，缺省值为空。</p> </td></tr><tr><td style="vertical-align:top;"> <p>testRunner</p> </td><td style="vertical-align:top;"> <p>此标签用于支持对测试框架的配置。</p> </td><td style="vertical-align:top;"> <p>对象</p> </td><td style="vertical-align:top;"> <p>可缺省，缺省值为空。</p> </td></tr></tbody></table> 
<h3>语法基础知识</h3> 
<p><a name="ZH-CN_TOPIC_0000001478340861__%E4%BA%8B%E4%BB%B6%E9%85%8D%E7%BD%AE"></a><a name="%E4%BA%8B%E4%BB%B6%E9%85%8D%E7%BD%AE"></a></p> 
<p>通过事件方法以配置组件支的事件，事件方法紧随组件，并用"."运算符连接。</p> 
<p></p> 
<h4 id="ZH-CN_TOPIC_0000001478340861__子组件配置">子组件配置</h4> 
<p><a name="ZH-CN_TOPIC_0000001478340861__%E5%AD%90%E7%BB%84%E4%BB%B6%E9%85%8D%E7%BD%AE"></a><a name="%E5%AD%90%E7%BB%84%E4%BB%B6%E9%85%8D%E7%BD%AE"></a></p> 
<p>对于支持子组件配置的组件，例如容器组件，在"{ ... }"里为组件添加子组件的UI描述。Column、Row、Stack、Grid、List等组件都是容器组件。</p> 
<p></p> 
<h4 id="ZH-CN_TOPIC_0000001478340861__事件配置">事件配置</h4> 
<ul><li> <p>struct：自定义组件可以基于struct实现，不能有继承关系，对于struct的实例化，可以省略new。</p> </li><li> <p>装饰器：装饰器给被装饰的对象赋予某一种能力，其不仅可以装饰类或结构体，还可以装饰类的属性。多个装饰器可以叠加到目标元素上，定义在同一行中或者分开多行，推荐分开多行定义</p> </li><li> <p>build函数：自定义组件必须定义build函数，并且禁止自定义构造函数。build函数满足Builder构造器接口定义，用于定义组件的声明式UI描述。</p> </li><li> <p>@Component：装饰struct，结构体在装饰后具有基于组件的能力，需要实现build方法来创建UI。</p> </li><li> <p>@Entry： 装饰struct，组件被装饰后作为页面的入口，页面加载时将被渲染显示。</p> </li><li> <p>@Preview：装饰struct， 用@Preview装饰的自定义组件可以在DevEco Studio的预览器上进行实时预览，加载页面时，将创建并显示@Preview装饰的自定义组件。</p> </li><li> <p>链式调用：以 "." 链式调用的方式配置UI组件的属性方法、事件方法等。</p> </li><li> <h4 id="ZH-CN_TOPIC_0000001478340861__无参数构造配置">无参数构造配置</h4> <a name="ZH-CN_TOPIC_0000001478340861__%E6%97%A0%E5%8F%82%E6%95%B0%E6%9E%84%E9%80%A0%E9%85%8D%E7%BD%AE"></a><a name="%E6%97%A0%E5%8F%82%E6%95%B0%E6%9E%84%E9%80%A0%E9%85%8D%E7%BD%AE"></a> <p>如果组件的接口定义中不包含必选构造参数，组件后面的“()”中不需要配置任何内容。</p> </li><li> <h4 id="ZH-CN_TOPIC_0000001478340861__有参数构造配置">有参数构造配置</h4> <a name="ZH-CN_TOPIC_0000001478340861__%E6%9C%89%E5%8F%82%E6%95%B0%E6%9E%84%E9%80%A0%E9%85%8D%E7%BD%AE"></a><a name="%E6%9C%89%E5%8F%82%E6%95%B0%E6%9E%84%E9%80%A0%E9%85%8D%E7%BD%AE"></a> <p>如果组件的接口定义中包含构造参数，则在组件后面的“()”中可配置相应参数，参数可以使用常量进行赋值。</p> </li><li> <p>变量或表达式也可以用于参数赋值，其中表达式返回的结果类型必须满足参数类型要求，变量的定义详见<a href="https://developer.harmonyos.com/cn/docs/documentation/doc-guides-V3/arkts-state-mgmt-page-level-0000001427902200-V3" rel="nofollow" title="页面级变量的状态管理">页面级变量的状态管理</a>与<a href="https://developer.harmonyos.com/cn/docs/documentation/doc-guides-V3/arkts-state-mgmt-application-level-0000001428061468-V3" rel="nofollow" title="应用级变量的状态管理">应用级变量的状态管理</a>。</p> </li><li> <h4 id="ZH-CN_TOPIC_0000001478340861__属性配置">属性配置</h4> <p><a name="ZH-CN_TOPIC_0000001478340861__%E5%B1%9E%E6%80%A7%E9%85%8D%E7%BD%AE"></a><a name="%E5%B1%9E%E6%80%A7%E9%85%8D%E7%BD%AE"></a></p> <p>使用属性方法配置组件的属性，属性方法紧随组件，并用"."运算符连接。</p> </li><li> <p>配置Text组件的字体大小属性：</p> 
  <ol><li>Text('test')</li><li>.fontSize(12)</li></ol></li><li> <p>使用"."运算符进行链式调用并同时配置组件的多个属性，如下所示：</p> 
  <ol><li>Image('test.jpg')</li><li>.alt('error.jpg')</li><li>.width(100)</li><li>.height(100)</li></ol></li><li> <p>除了直接传递常量参数外，还可以传递变量或表达式，如下所示：</p> 
  <ol><li>Text('hello')</li><li>.fontSize(this.fontSize)</li><li>Image('test.jpg')</li><li>.width(this.count % 2 === 0 ? 100 : 200)</li><li>.height(this.offsetTest + 100)</li></ol></li><li> <p>对于系统内置组件，框架还为其属性预定义了一些<a href="https://developer.harmonyos.com/cn/docs/documentation/doc-references-V3/ts-appendix-enums-0000001478061741-V3" rel="nofollow" title="枚举类型">枚举类型</a>供开发人员调用，枚举类型可以作为参数传递，且必须满足参数类型要求。例如，可以按以下方式配置Text组件的颜色和字体属性：</p> </li><li>Text('hello')</li><li>.fontSize(20)</li><li>.fontColor(Color.Red)</li><li>.fontWeight(FontWeight.Bold)</li><li> <p>使用lambda表达式配置组件的事件方法：</p> <pre></pre> 
  <ol><li>Button('add counter')</li><li>.onClick(() =&gt; {<!-- --></li><li>this.counter += 2</li><li>})</li></ol></li><li> <p>使用匿名函数表达式配置组件的事件方法，要求使用bind，以确保函数体中的this引用包含的组件：</p> <pre></pre> 
  <ol><li>Button('add counter')</li><li>.onClick(function () {<!-- --></li><li>this.counter += 2</li><li>}.bind(this))</li></ol></li><li> <p>使用组件的成员函数配置组件的事件方法：</p> <pre></pre> 
  <ol><li>myClickHandler(): void {<!-- --></li><li>this.counter += 2</li><li>}</li><li><li>...</li><li><li>Button('add counter')</li><li>.onClick(this.myClickHandler.bind(this))</li></ol></li><li> <p>容器组件之间也可以互相嵌套，实现相对复杂的多级嵌套效果：</p> </li></ul> 
<h3>更换应用图标和名字方法(FA模型下)</h3> 
<p>更改base   en_US   zh_CN 下的element文件下的string.josn中的value内容。 </p> 
<h3>项目远程模拟方法</h3> 
<p>选择 菜单栏 / Tools / HVD Manager , 首次点击 , 会提示下载模拟器相关资源 , 下载完成后可以通过浏览器连接远程模拟器 ;</p> 
<p>点击 HVD Manager 后 , 弹出如下对话框 和 浏览器 ;</p> 
<p>在弹出的浏览器界面中 , 登录华为开发者账号 ;</p> 
<p>再验证下手机号 ;</p> 
<p>信任浏览器 ;</p> 
<p>关联开发环境 ;</p> 
<p>此时会显示如下内容 ;</p> 
<p>在 HUAWEI DevEco Studio 开发和环境中弹出如下对话框 , 点击 Agree 同意 ;</p> 
<p>此时会弹出如下模拟器对话框 :</p> 
<p>选择 P40 手机设备 , 双击该条目 ;</p> 
<p>此时开发环境中 Remote Device ( 远程设备 ) 中会显示手机模拟器 ; 有个 1 小时倒计时 , 过期后需要重新申请 ;</p> 
<p>这是一个远程的模拟器 , 编译程序的时候 , 先将本地的程序编译打包 , 将安装文件发送到远程设备中安装 , 然后再将画面反馈回来 </p> 
<p></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/3ec55189bbac93f4b5d528140a93f52c/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">最全：2023年华为认证HCIA&#43;HCIP题库合集（含答案解析）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/8b7a38e75d38b6ff1ab7dcc7df5a8c32/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">websocket 简单入门 代码 前后端</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>