<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>思迅软件收银系统E店通10数据库无缝迁移导入到Eshop - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="思迅软件收银系统E店通10数据库无缝迁移导入到Eshop" />
<meta property="og:description" content="思迅的E店通10，销售流水迁移至Eshop10的语句。
declare m_cursor cursor scroll for select a.com_no from eStore10_xyj..t_rm_saleflow a left join ESXYJLSCS..t_rm_saleflow b on a.flow_no =b.flow_no and a.flow_id =b.flow_id where b.flow_no is null open m_cursor declare @com_no int fetch next from m_cursor into @com_no while @@FETCH_STATUS=0 begin INSERT INTO [ESXYJLSCS].[dbo].t_rm_saleflow ([flow_no] ,[flow_id] ,[branch_no] ,[item_no] ,[sale_qnty] ,[source_price] ,[sale_price] ,[discount] ,[sale_money] ,[sell_way] ,[oper_id] ,[sale_man] ,[sale_rate] ,[oper_date] ,[shift_no] ,[item_flag] ,[spec_flag] ,[pref_amt] ,[vip_price] ,[in_price] ,[cost_price] ,[acc_num] ,[dec_rate] ,[card_id] ,[card_no] ,[pro_id] ,[com_flag] ,[memo] ,[plan_no] ,[item_sn] ,[vip_acc] ,[item_barcode] ,[produce_date] ,[valid_date] ,[item_rate] ,[cls_rate] ,[brand_rate] ,[dpfm_type] ,[irate_branch] ,[brate_branch] ,[crate_branch] ,[giftcert_no] ,[kz_flag] ,[update_date] ,[record_no] ,[weight_num] ,[real_shift_no] ,[shift_date] ,[share_cardid]) select A." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/c753aacdf7a7f20fe652b8ad248107ab/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-11-26T01:01:06+08:00" />
<meta property="article:modified_time" content="2022-11-26T01:01:06+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">思迅软件收银系统E店通10数据库无缝迁移导入到Eshop</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>思迅的E店通10，销售流水迁移至Eshop10的语句。</p> 
<pre><code>declare m_cursor cursor scroll for
select  a.com_no from  eStore10_xyj..t_rm_saleflow a left join ESXYJLSCS..t_rm_saleflow b
on a.flow_no =b.flow_no and  a.flow_id =b.flow_id 
where b.flow_no is null
open m_cursor
declare   @com_no  int
fetch next from m_cursor into @com_no
while @@FETCH_STATUS=0
begin
INSERT INTO [ESXYJLSCS].[dbo].t_rm_saleflow
           ([flow_no]
           ,[flow_id]
           ,[branch_no]
           ,[item_no]
           ,[sale_qnty]
           ,[source_price]
           ,[sale_price]
           ,[discount]
           ,[sale_money]
           ,[sell_way]
           ,[oper_id]
           ,[sale_man]
           ,[sale_rate]
           ,[oper_date]
           ,[shift_no]
           ,[item_flag]
           ,[spec_flag]
           ,[pref_amt]
           ,[vip_price]
           ,[in_price]
           ,[cost_price]
           ,[acc_num]
           ,[dec_rate]
           ,[card_id]
           ,[card_no]
           ,[pro_id]
           ,[com_flag]
           ,[memo]
           ,[plan_no]
           ,[item_sn]
           ,[vip_acc]
           ,[item_barcode]
           ,[produce_date]
           ,[valid_date]
           ,[item_rate]
           ,[cls_rate]
           ,[brand_rate]
           ,[dpfm_type]
           ,[irate_branch]
           ,[brate_branch]
           ,[crate_branch]
           ,[giftcert_no]
           ,[kz_flag]
           ,[update_date]
           ,[record_no]
           ,[weight_num]
           ,[real_shift_no]
           ,[shift_date]
           ,[share_cardid])
     select A.[flow_no]
           ,A.[flow_id]
           ,LTRIM(RTRIM(a.[branch_no]))+'01'
           ,A.[item_no]
           ,A.[sale_qnty]
           ,A.[source_price]
           ,A.[sale_price]
           ,1
           ,A.[sale_money]
           ,A.[sell_way]
           ,A.[oper_id]
           ,A.[sale_man]
           ,0
           ,A.[oper_date]
           ,A.[shift_no]
           ,B. combine_sta
           ,A.[spec_flag]
           ,A.[pref_amt]
           ,B.[vip_price]
           ,A.[in_price]
           ,A.[in_price]
           ,0
           ,0
           ,null
           ,null
           ,0
           ,0
           ,null
           ,null
           ,null
           ,0
           ,''
           ,null
           ,null
           ,null
           ,null
           ,null
           ,[dpfm_type]
           ,0
           ,0
           ,0
           ,0
           ,1
           ,oper_date
           ,null
           ,0
           ,null
           ,oper_date
           ,null
 from eStore10_xyj..t_rm_saleflow A
  LEFT JOIN eStore10_xyj ..t_bd_item_info B ON A.item_no = B.ITEM_NO
  where A.com_no = @com_no
    fetch next from m_cursor into @com_no
end
 
close m_cursor
deallocate m_cursor
</code></pre> 
<p></p> 
<p></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/3bff69e28f94475ce00ab7b091ab2d23/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">FFmpeg - Android 直播推拉流</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/5d29ff15de9377e67f44556ee9bac954/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">[转]Untiy部署至WebGL平台</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>