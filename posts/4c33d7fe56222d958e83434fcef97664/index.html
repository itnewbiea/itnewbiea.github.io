<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>mysql安装遇到的问题，提示 api-ms-win-crt-runtime-l1-1-0.dll丢失 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="mysql安装遇到的问题，提示 api-ms-win-crt-runtime-l1-1-0.dll丢失" />
<meta property="og:description" content="以前使用的数据库是5.5的，最近想换新的8以上的，下载解压后安装的时候出现了问题，提示 api-ms-win-crt-runtime-l1-1-0.dll丢失，最终百度了好多帖子解决
，在这里记录整理下。
提示 api-ms-win-crt-runtime-l1-1-0.dll丢失
解决方案】
api-ms-win-crt-runtime 就是MFC的运行时环境的库，python在windows上编译也是用微软的visual studio C&#43;&#43;编译的，底层也会用到微软提供的C&#43;&#43;库和runtime库，安装Visual C&#43;&#43; Redistributable for Visual Studio 2015 组件即可解决此问题。
链接：https://www.microsoft.com/zh-cn/download/details.aspx?id=48145
点击直达
需要注意：安装前请删掉已有的 api-ms-win-crt-runtime-l1-1-0.dll（具体路径：C:\Windows\System32 和 C:\Windows\SysWOW64 检查下），vc_redit.exe安装完成会重新生成的！安装完后，如果不能正常启动MySQL Workbench，则重新启动一下电脑即可。
安装完后，重启电脑！
链接的时候还出现了Navicat 报错:1130-host ，
Navicat连接MySQL 8出现2059，貌似是5.0和8.0的密码这块的差异，没详细了解，下面有提到解决方法
安装流程
mysql-8.0.15-winx64 解压版安装 图文详解
1、官网下载
https://dev.mysql.com/downloads/mysql/
2、解压到合适的目录
3、配置环境变量
①、 path
②、MYSQL_HOME
4、新建一个my.ini 用记事本打开，复制以下代码， 没有my.ini 数据库启动时无法初始化参数
[mysql]
#;设置mysql客户端默认字符集
default-character-set=utf8
[mysqld]
#;设置3306端口
port = 3306
#; 设置mysql的安装目录
basedir=D:\home\MySql\mysql-8.0.16-winx64
#; 设置mysql数据库的数据的存放目录
datadir=D:\home\MySql\mysql-8.0.16-winx64\data
#; 允许最大连接数
max_connections=200
#; 服务端使用的字符集默认为8比特编码的latin1字符集
character-set-server=utf8
#; 创建新表时将使用的默认存储引擎
default-storage-engine=INNODB" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/4c33d7fe56222d958e83434fcef97664/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-06-06T16:45:39+08:00" />
<meta property="article:modified_time" content="2019-06-06T16:45:39+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">mysql安装遇到的问题，提示 api-ms-win-crt-runtime-l1-1-0.dll丢失</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night-eighties">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>以前使用的数据库是5.5的，最近想换新的8以上的，下载解压后安装的时候出现了问题，提示 api-ms-win-crt-runtime-l1-1-0.dll丢失，最终百度了好多帖子解决<br> ，在这里记录整理下。</p> 
<p>提示 api-ms-win-crt-runtime-l1-1-0.dll丢失</p> 
<p><img src="https://images2.imgbox.com/0e/56/lHdm9dYX_o.png" alt="在这里插入图片描述"><br> 解决方案】</p> 
<p>api-ms-win-crt-runtime 就是MFC的运行时环境的库，python在windows上编译也是用微软的visual studio C++编译的，底层也会用到微软提供的C++库和runtime库，安装Visual C++ Redistributable for Visual Studio 2015 组件即可解决此问题。</p> 
<p>链接：https://www.microsoft.com/zh-cn/download/details.aspx?id=48145<br> <a href="https://www.microsoft.com/zh-cn/download/details.aspx?id=48145" rel="nofollow">点击直达</a></p> 
<p>需要注意：安装前请删掉已有的 api-ms-win-crt-runtime-l1-1-0.dll（具体路径：C:\Windows\System32 和 C:\Windows\SysWOW64 检查下），vc_redit.exe安装完成会重新生成的！安装完后，如果不能正常启动MySQL Workbench，则重新启动一下电脑即可。<br> <strong>安装完后，重启电脑！</strong></p> 
<p><em>链接的时候还出现了Navicat 报错:1130-host ，<br> Navicat连接MySQL 8出现2059，貌似是5.0和8.0的密码这块的差异，没详细了解，下面有提到解决方法</em></p> 
<p>安装流程<br> mysql-8.0.15-winx64 解压版安装 图文详解</p> 
<p>1、官网下载<br> https://dev.mysql.com/downloads/mysql/</p> 
<p>2、解压到合适的目录</p> 
<p><img src="https://images2.imgbox.com/aa/1d/vldW4ASZ_o.png" alt="在这里插入图片描述">3、配置环境变量</p> 
<p>①、 path</p> 
<p><img src="https://images2.imgbox.com/a7/90/tnRQGkqX_o.png" alt="在这里插入图片描述"><br> ②、MYSQL_HOME<br> <img src="https://images2.imgbox.com/7b/13/ywjmppiT_o.png" alt="">4、新建一个my.ini 用记事本打开，复制以下代码， 没有my.ini 数据库启动时无法初始化参数</p> 
<p><img src="https://images2.imgbox.com/81/e7/DqU2fy6K_o.png" alt="在这里插入图片描述">[mysql]<br> #;设置mysql客户端默认字符集<br> default-character-set=utf8<br> [mysqld]<br> #;设置3306端口<br> port = 3306<br> #; 设置mysql的安装目录<br> basedir=D:\home\MySql\mysql-8.0.16-winx64<br> #; 设置mysql数据库的数据的存放目录<br> datadir=D:\home\MySql\mysql-8.0.16-winx64\data<br> #; 允许最大连接数<br> max_connections=200<br> #; 服务端使用的字符集默认为8比特编码的latin1字符集<br> character-set-server=utf8<br> #; 创建新表时将使用的默认存储引擎<br> default-storage-engine=INNODB</p> 
<p>5.进入MySQL的bin目录</p> 
<p>在命令行窗口输入：mysqld --install，回车，提示：Service successfully installed，说明注册服务成功。</p> 
<p><img src="https://images2.imgbox.com/ad/a8/b3zzFbIC_o.png" alt="在这里插入图片描述"><br> 6、以管理员的身份打开cmd命令窗口，（获取初始密码，二选一）</p> 
<p>第一种：输入mysqld --initialize命令初始化mysql的data数据目录，初始化完毕后，会在解压目录下生成一个data文件夹， 在这个文件夹下有一个.err结尾的文件，打开后会有随机生成的密码。</p> 
<p>第二种：使用mysqld --initialize --console命令，生成随机密码</p> 
<p><img src="https://images2.imgbox.com/16/32/r73FqvdM_o.png" alt="在这里插入图片描述">7、启动服务：net start mysql<br> <img src="https://images2.imgbox.com/07/25/oT9WdoTU_o.png" alt="在这里插入图片描述">9、修改登陆密码 ‘新密码’ 替换你需要的新密码<br> ALTER USER USER() IDENTIFIED BY ‘新密码’；<br> 更新密码：<br> update mysql.user set authentication_string=password(‘root’) where user=‘root’ and Host = ‘localhost’;</p> 
<p>服务停止：输入 net stop mysql<br> 服务启动：输入 net start mysql</p> 
<p>Navicat连接MySQL 8出现2059 - authentication plugin 'caching_sha2_password’的解决办法<br> <strong>use mysql;<br> ALTER USER ‘root’@‘localhost’ IDENTIFIED WITH mysql_native_password BY ‘password’;<br> 这里的localhost对应本地，如果是远程访问 mysql的话，需要将localhost改成%；<br> password是root的密码，使用时也要进行对应修改。</strong></p> 
<p>解决Navicat 报错:1130-host … is not allowed to connect to this MySql server,MySQL</p> 
<p>解决方法：</p> 
<p>1。 改表法。</p> 
<p>可能是你的帐号不允许从远程登陆，只能在localhost。这个时候只要在localhost的那台电脑，登入mysql后，更改 “mysql” 数据库里的 “user” 表里的 “host” 项，从"localhost"改称"%"</p> 
<p>mysql -u root -p</p> 
<p>mysql&gt;use mysql;</p> 
<p>mysql&gt;update user set host = ‘%’ where user = ‘root’ and host=‘localhost’;</p> 
<p>mysql&gt;select host, user from user;</p> 
<p>需要重启MySQL服务。 或 再执行 执行一个语句 mysql&gt;FLUSH RIVILEGES 使修改生效.就可以了</p> 
<p>亲测可用。</p> 
<ol start="2"><li>授权法。</li></ol> 
<p>例如，你想myuser使用mypassword从任何主机连接到mysql服务器的话。</p> 
<p>GRANT ALL PRIVILEGES ON <em>.</em> TO ‘myuser’@’%’ IDENTIFIED BY ‘mypassword’ WITH GRANT OPTION;</p> 
<p>FLUSH PRIVILEGES;</p> 
<p>如果你想允许用户myuser从ip为192.168.1.6的主机连接到mysql服务器，并使用mypassword作为密码</p> 
<p>GRANT ALL PRIVILEGES ON <em>.</em> TO ‘myuser’@‘192.168.1.3’ IDENTIFIED BY ‘mypassword’ WITH GRANT OPTION;</p> 
<p>FLUSH PRIVILEGES;</p> 
<p>如果你想允许用户myuser从ip为192.168.1.6的主机连接到mysql服务器的dk数据库，并使用mypassword作为密码</p> 
<p>GRANT ALL PRIVILEGES ON dk.* TO ‘myuser’@‘192.168.1.3’ IDENTIFIED BY ‘mypassword’ WITH GRANT OPTION;</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/8728edec6f693b56da63f08275d67e1f/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">使用Clang作为编译器 —— 使用 Clang 交叉编译</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/8ab2a1ee018dc6bd19131f042b90224b/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">在Unity里使用光线步进（Raymarching）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>