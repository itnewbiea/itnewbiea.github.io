<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Java-代码生成器的实现 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Java-代码生成器的实现" />
<meta property="og:description" content="文章目录 前言一、概述二、手写代码1. 简要说明2. 代码编写3. 完整代码4. 测试效果 三、项目源码 前言 最近看了一个开源的项目，jfinal-layui，然后这个项目里面有一个 代码生成器 的功能
之前虽然有用过代码生成器，但是从来没有看过相关的源码，所以就研究了一下，个人感觉这个项目的代码生成器还是蛮好的，能够根据指定的数据库和表生成前后端的代码，不过这个项目的框架是 jfinal ，直接把这个代码生成器相关的代码拷到自己的项目当中是运行不起来，而且每个项目的结构都存在一些特有的性质，很难找到一个拿来就能用的代码生成器，介于这一点，我就根据自己项目的架构，利用 jfinal 框架造的轮子，写了一个较为简单代码生成器，同时分享一下我是怎样实现的。
倘如各位想研究下 jfinal-layui 这个项目，可以点击 https://gitee.com/QinHaiSenLin/Jfinal-layui 这个链接去拉取这个项目的源码。
一、概述 代码生成器顾名思义就是一个生成代码的软件，在日常开发中我们可以使用代码生成器来减少一些重复的开发工作，提高开放效率，像我们经常使用的 mybatis 就有一个逆向工程，它能自动帮我们生产数据库对应的实体类，mapper 和 xml 文件等，其实就是一个代码生成器。
那代码生成器的原理是什么呢？
其实很简单，我们要生成的文件肯定是得有一定的规律，然后我们根据这个规律去编写一个统一的模板，按照这个模板去生成相应的代码。
二、手写代码 1. 简要说明 以下内容仅供参考，我提供的只是一种实现方案，可能并不是适用于你的项目，但是只要你理解了我是怎么实现的，你也可以编写一个适合你自己项目的代码生成器。
脱离实际场景的业务没什么意义，前面我也说过，任何项目都有它的独特性，我是根据自己的项目来编写一个符合我要求的代码生成器，所以我先说下我自己的这个项目简单的一个架构。
比如说我的这个项目，要实现一个完整的增删改查的一套的接口，需要有以下几个类的存在，其中红色框框选的部分（实体类 User.java、mapper 文件 UserMapper.java 和 xml 文件 UserMapper.xml）都可以通过 mybatis 的逆向工程生成，而绿色框框选的部分是需要我手动去编写的，所以我需要写的代码生成器是能够帮我去生成绿色框框选部分的文件，比如： Controller 、Service、ServiceImp 、请求体 dto、相应体 dto 以及 subclass 包下的转换器。
关于我这个项目具体的搭建可查看这篇博客：SpringBoot - 快速搭建
那我该如何去实现了，首先我建议你自己写一个标准的增删改查，然后对照你写的东西，去写一个模板，比如我写了一个岗位的 Controller ，代码如下：
package com.duojiala.mikeboot.controller; import com.duojiala.mikeboot.domain.req.QueryPostListReq; import com.duojiala.mikeboot.domain.req.SavePostReq; import com.duojiala.mikeboot.domain.dto.ResponseBean; import io.swagger.annotations.ApiOperation; import org." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/a6ee607577a5ca47b764a2e0ca1148f2/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-04-27T11:36:27+08:00" />
<meta property="article:modified_time" content="2023-04-27T11:36:27+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Java-代码生成器的实现</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#_4" rel="nofollow">前言</a></li><li><a href="#_17" rel="nofollow">一、概述</a></li><li><a href="#_27" rel="nofollow">二、手写代码</a></li><li><ul><li><a href="#1__29" rel="nofollow">1. 简要说明</a></li><li><a href="#2__209" rel="nofollow">2. 代码编写</a></li><li><a href="#3__325" rel="nofollow">3. 完整代码</a></li><li><a href="#4__1113" rel="nofollow">4. 测试效果</a></li></ul> 
  </li><li><a href="#_1126" rel="nofollow">三、项目源码</a></li></ul> 
</div> 
<p></p> 
<hr> 
<h2><a id="_4"></a>前言</h2> 
<p>最近看了一个开源的项目，<code>jfinal-layui</code>，然后这个项目里面有一个 <code>代码生成器</code> 的功能</p> 
<p><img src="https://images2.imgbox.com/75/3f/4wuaDZqt_o.png" alt="在这里插入图片描述"></p> 
<p>之前虽然有用过代码生成器，但是从来没有看过相关的源码，所以就研究了一下，个人感觉这个项目的代码生成器还是蛮好的，能够根据指定的数据库和表生成前后端的代码，不过这个项目的框架是 <code>jfinal</code> ，直接把这个代码生成器相关的代码拷到自己的项目当中是运行不起来，而且每个项目的结构都存在一些特有的性质，很难找到一个拿来就能用的代码生成器，介于这一点，我就根据自己项目的架构，利用 <code>jfinal</code> 框架造的轮子，写了一个较为简单代码生成器，同时分享一下我是怎样实现的。</p> 
<p>倘如各位想研究下 <code>jfinal-layui</code> 这个项目，可以点击 <a href="https://gitee.com/QinHaiSenLin/Jfinal-layui" rel="nofollow">https://gitee.com/QinHaiSenLin/Jfinal-layui</a> 这个链接去拉取这个项目的源码。</p> 
<hr> 
<h2><a id="_17"></a>一、概述</h2> 
<p>代码生成器顾名思义就是一个生成代码的软件，在日常开发中我们可以使用代码生成器来减少一些重复的开发工作，提高开放效率，像我们经常使用的 <code>mybatis</code> 就有一个逆向工程，它能自动帮我们生产数据库对应的实体类，mapper 和 xml 文件等，其实就是一个代码生成器。</p> 
<p><strong>那代码生成器的原理是什么呢？</strong></p> 
<p>其实很简单，我们要生成的文件肯定是得有一定的规律，然后我们根据这个规律去编写一个统一的<code>模板</code>，按照这个模板去生成相应的代码。</p> 
<hr> 
<h2><a id="_27"></a>二、手写代码</h2> 
<hr> 
<h3><a id="1__29"></a>1. 简要说明</h3> 
<p>以下内容仅供参考，我提供的只是一种实现方案，可能并不是适用于你的项目，但是只要你理解了我是怎么实现的，你也可以编写一个适合你自己项目的代码生成器。</p> 
<p>脱离实际场景的业务没什么意义，前面我也说过，任何项目都有它的独特性，我是根据自己的项目来编写一个符合我要求的代码生成器，所以我先说下我自己的这个项目简单的一个架构。</p> 
<p>比如说我的这个项目，要实现一个完整的增删改查的一套的接口，需要有以下几个类的存在，其中<code>红色框</code>框选的部分（<code>实体类</code> User.java、<code>mapper 文件</code> UserMapper.java 和 <code>xml 文件</code> UserMapper.xml）都可以通过 mybatis 的逆向工程生成，而<code>绿色框</code>框选的部分是需要我手动去编写的，所以我需要写的代码生成器是能够帮我去生成绿色框框选部分的文件，比如： <code>Controller </code>、<code>Service</code>、<code>ServiceImp</code> 、<code>请求体 dto</code>、<code>相应体 dto</code> 以及 <code>subclass 包下的转换器</code>。</p> 
<p><img src="https://images2.imgbox.com/68/1b/oX5gNY4C_o.png" alt="在这里插入图片描述"></p> 
<p>关于我这个项目具体的搭建可查看这篇博客：<a href="https://blog.csdn.net/xhmico/article/details/123491109?spm=1001.2014.3001.5501">SpringBoot - 快速搭建</a></p> 
<p>那我该如何去实现了，首先我建议你自己写一个标准的增删改查，然后对照你写的东西，去写一个模板，比如我写了一个岗位的 Controller ，代码如下：</p> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>duojiala<span class="token punctuation">.</span>mikeboot<span class="token punctuation">.</span>controller</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>duojiala<span class="token punctuation">.</span>mikeboot<span class="token punctuation">.</span>domain<span class="token punctuation">.</span>req<span class="token punctuation">.</span></span><span class="token class-name">QueryPostListReq</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>duojiala<span class="token punctuation">.</span>mikeboot<span class="token punctuation">.</span>domain<span class="token punctuation">.</span>req<span class="token punctuation">.</span></span><span class="token class-name">SavePostReq</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>duojiala<span class="token punctuation">.</span>mikeboot<span class="token punctuation">.</span>domain<span class="token punctuation">.</span>dto<span class="token punctuation">.</span></span><span class="token class-name">ResponseBean</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">io<span class="token punctuation">.</span>swagger<span class="token punctuation">.</span>annotations<span class="token punctuation">.</span></span><span class="token class-name">ApiOperation</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>validation<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Validated</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>duojiala<span class="token punctuation">.</span>mikeboot<span class="token punctuation">.</span>service<span class="token punctuation">.</span></span><span class="token class-name">PostService</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">RequiredArgsConstructor</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">lombok<span class="token punctuation">.</span>extern<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">Slf4j</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>
<span class="token comment">/**
 * 顶部导航 Controller
 * @author: mike
 * @date: 2023-04-26 17:03
 */</span>
<span class="token annotation punctuation">@Slf4j</span>
<span class="token annotation punctuation">@RestController</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/post"</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@RequiredArgsConstructor</span><span class="token punctuation">(</span>onConstructor <span class="token operator">=</span> <span class="token annotation punctuation">@__</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Autowired</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@CrossOrigin</span><span class="token punctuation">(</span>origins <span class="token operator">=</span> <span class="token string">"*"</span><span class="token punctuation">,</span> methods <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token class-name">RequestMethod</span><span class="token punctuation">.</span>POST<span class="token punctuation">,</span> <span class="token class-name">RequestMethod</span><span class="token punctuation">.</span>GET<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PostController</span> <span class="token punctuation">{<!-- --></span>

    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">PostService</span> postService<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/save"</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@ApiOperation</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"保存"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">ResponseBean</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> <span class="token annotation punctuation">@Validated</span> <span class="token class-name">SavePostReq</span> req<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        postService<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>req<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token class-name">ResponseBean</span><span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/update"</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@ApiOperation</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"修改"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">ResponseBean</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> <span class="token annotation punctuation">@Validated</span> <span class="token class-name">SavePostReq</span> req<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        postService<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>req<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token class-name">ResponseBean</span><span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/detail"</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@ApiOperation</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"查询详情"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">ResponseBean</span> <span class="token function">detail</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span>required <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token class-name">String</span> id<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token class-name">ResponseBean</span><span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span>postService<span class="token punctuation">.</span><span class="token function">detail</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/delete"</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@ApiOperation</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"删除"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">ResponseBean</span> <span class="token function">delete</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span>required <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token class-name">String</span> id<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        postService<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token class-name">ResponseBean</span><span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/batch-delete"</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@ApiOperation</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"批量删除"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">ResponseBean</span> <span class="token function">batchDelete</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span>required <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> ids<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        postService<span class="token punctuation">.</span><span class="token function">batchDelete</span><span class="token punctuation">(</span>ids<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token class-name">ResponseBean</span><span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/paginate-list"</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@ApiOperation</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"分页查询列表"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">ResponseBean</span> <span class="token function">paginateList</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> <span class="token annotation punctuation">@Validated</span> <span class="token class-name">QueryPostListReq</span> req<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token class-name">ResponseBean</span><span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span>postService<span class="token punctuation">.</span><span class="token function">paginateList</span><span class="token punctuation">(</span>req<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


<span class="token punctuation">}</span>
</code></pre> 
<p>所以我写得模板文件 <code>controller_template.jf</code> 就是这样的</p> 
<pre><code class="prism language-xml">package #(controllerPackagePath);

#if(isCRUD)
import com.duojiala.mikeboot.domain.req.#(QueryTargetListReq??);
import com.duojiala.mikeboot.domain.req.#(SaveTargetReq??);
import com.duojiala.mikeboot.domain.dto.ResponseBean;
import io.swagger.annotations.ApiOperation;
import org.springframework.validation.annotation.Validated;
import java.util.List;
#end
import com.duojiala.mikeboot.service.#(ServiceName??);
import lombok.RequiredArgsConstructor;
import lombok.extern.slf4j.Slf4j;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.*;
/**
 * #(controllerRemark??) Controller
 * @author: #(author?? 'JBolt-Generator')
 * @date: #date()
 */
@Slf4j
@RestController
@RequestMapping(value = "/#(pathValue??)")
@RequiredArgsConstructor(onConstructor = @__(@Autowired))
@CrossOrigin(origins = "*", methods = {RequestMethod.POST, RequestMethod.GET})
public class #(ControllerName??) {

    private final #(ServiceName??) #(serviceName??);

#if(isCRUD)
    @PostMapping(value = "/save")
    @ApiOperation(value = "保存")
    public ResponseBean save(@RequestBody @Validated #(SaveTargetReq??) req) {
        #(serviceName??).save(req);
        return ResponseBean.success();
    }

    @PostMapping(value = "/update")
    @ApiOperation(value = "修改")
    public ResponseBean update(@RequestBody @Validated #(SaveTargetReq??) req) {
        #(serviceName??).update(req);
        return ResponseBean.success();
    }

    @PostMapping(value = "/detail")
    @ApiOperation(value = "查询详情")
    public ResponseBean detail(@RequestParam(required = false) String id) {
        return ResponseBean.success(#(serviceName??).detail(id));
    }

    @PostMapping(value = "/delete")
    @ApiOperation(value = "删除")
    public ResponseBean delete(@RequestParam(required = false) String id) {
        #(serviceName??).delete(id);
        return ResponseBean.success();
    }

    @PostMapping(value = "/batch-delete")
    @ApiOperation(value = "批量删除")
    public ResponseBean batchDelete(@RequestParam(required = false) List<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>String</span><span class="token punctuation">&gt;</span></span> ids) {
        #(serviceName??).batchDelete(ids);
        return ResponseBean.success();
    }

#if(needPaginate)
    @PostMapping(value = "/paginate-list")
    @ApiOperation(value = "分页查询列表")
    public ResponseBean paginateList(@RequestBody @Validated #(QueryTargetListReq??) req) {
        return ResponseBean.success(#(serviceName??).paginateList(req));
    }
#else
    @PostMapping(value = "/list")
    @ApiOperation(value = "查询列表")
    public ResponseBean list(@RequestBody @Validated #(QueryTargetListReq??) req) {
        return ResponseBean.success(#(serviceName??).list(req));
    }
#end
#end


}
</code></pre> 
<p>这是通过自己项目中常写的代码，然后将公用的地方保留起来，结合一些模板引擎的语法将有差异的地方替换掉就行了，这里暂时看不懂也没关系（模板引擎的语法在写这个代码生成器时我也不懂，不过看别人写的对比下还是能写出来的）</p> 
<p><strong>最终效果</strong></p> 
<hr> 
<h3><a id="2__209"></a>2. 代码编写</h3> 
<p>因为是借了 <code>jfinal</code> 的轮子，所以这里我有引用到 <code>jfinal</code> 的一个依赖</p> 
<pre><code class="prism language-xml">        <span class="token comment">&lt;!--JFianl--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.jfinal<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>jfinal<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>5.0.4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>还有就是一些工具类（这些根据你自己项目来选择）</p> 
<pre><code class="prism language-xml">        <span class="token comment">&lt;!-- 转化器自动转换 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.mapstruct<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mapstruct<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.4.2.Final<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.mapstruct<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mapstruct-processor<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.4.2.Final<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

        <span class="token comment">&lt;!-- 分页插件 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.github.pagehelper<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>pagehelper-spring-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.2.12<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

        <span class="token comment">&lt;!--工具类--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>cn.hutool<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>hutool-all<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>5.8.18<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>然后我还写了一个枚举类，希望每插入一个表，就能往这个枚举类中添加一个该表的枚举</p> 
<pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">AllArgsConstructor</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">Getter</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * 表名枚举
 */</span>
<span class="token annotation punctuation">@Getter</span>
<span class="token annotation punctuation">@AllArgsConstructor</span>
<span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">TableEnum</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">USER</span><span class="token punctuation">(</span><span class="token string">"用户表"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">String</span> desc<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>建一个包用于存放代码生成器 <code>LogicGenerator.java</code>，我先来给大家看一下生成 <code>Controller</code> 层的方法是如何实现的吧</p> 
<pre><code class="prism language-java">    <span class="token comment">/**
     * 生成 Controller 层的代码
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">genController</span><span class="token punctuation">(</span><span class="token class-name">LogicBean</span> logicBean<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 获取实体类名称</span>
        <span class="token class-name">String</span> entityName <span class="token operator">=</span> logicBean<span class="token punctuation">.</span><span class="token function">getEntityClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getSimpleName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 生成 Controller 类的名称</span>
        <span class="token class-name">String</span> controllerName <span class="token operator">=</span> entityName <span class="token operator">+</span> <span class="token string">"Controller"</span><span class="token punctuation">;</span>
        <span class="token comment">// 生成 Controller 类的完整名称</span>
        <span class="token class-name">String</span> controllerFullName <span class="token operator">=</span> controllerName <span class="token operator">+</span> <span class="token string">".java"</span><span class="token punctuation">;</span>
        <span class="token comment">// 获取 Controller 类的路径</span>
        <span class="token class-name">String</span> controllerPackagePath <span class="token operator">=</span> logicBean<span class="token punctuation">.</span><span class="token function">getControllerPackagePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">printMessageWithDate</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"正在生成 Controller:%s..."</span><span class="token punctuation">,</span> controllerFullName<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 获取 Controller 生成路径</span>
        <span class="token class-name">String</span> targetOutputDir <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getDirFromPackage</span><span class="token punctuation">(</span>controllerPackagePath<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">printMessageWithDate</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"Controller 生成路径:%s..."</span><span class="token punctuation">,</span> targetOutputDir<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 判断将要生成的 Controller.java 是否存在</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">FileUtil</span><span class="token punctuation">.</span><span class="token function">exist</span><span class="token punctuation">(</span>targetOutputDir <span class="token operator">+</span> <span class="token class-name">File</span><span class="token punctuation">.</span>separator <span class="token operator">+</span> controllerFullName<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">printMessageWithDate</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"Controller 文件[%s]已存在,忽略生成 ~~ "</span><span class="token punctuation">,</span> controllerFullName<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            <span class="token class-name">String</span> serviceName <span class="token operator">=</span> entityName <span class="token operator">+</span> <span class="token string">"Service"</span><span class="token punctuation">;</span>
            <span class="token comment">// 替换 .jf 文件中的内容，比如在 #(author??) 会替换成 logicBean.getAuthor() 这个值</span>
            <span class="token class-name">Kv</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> data <span class="token operator">=</span> <span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"author"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">)</span>logicBean<span class="token punctuation">.</span><span class="token function">getAuthor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"controllerPackagePath"</span><span class="token punctuation">,</span> controllerPackagePath<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"QueryTargetListReq"</span><span class="token punctuation">,</span> <span class="token string">"Query"</span><span class="token operator">+</span>entityName<span class="token operator">+</span><span class="token string">"ListReq"</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"SaveTargetReq"</span><span class="token punctuation">,</span> <span class="token string">"Save"</span><span class="token operator">+</span>entityName<span class="token operator">+</span><span class="token string">"Req"</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"ServiceName"</span><span class="token punctuation">,</span> serviceName<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"controllerRemark"</span><span class="token punctuation">,</span> logicBean<span class="token punctuation">.</span><span class="token function">getTableEnumDes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"pathValue"</span><span class="token punctuation">,</span> <span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">isBlank</span><span class="token punctuation">(</span>logicBean<span class="token punctuation">.</span><span class="token function">getPathValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token function">toFirstLower</span><span class="token punctuation">(</span>entityName<span class="token punctuation">)</span><span class="token operator">:</span>logicBean<span class="token punctuation">.</span><span class="token function">getPathValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"ControllerName"</span><span class="token punctuation">,</span> controllerName<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"serviceName"</span><span class="token punctuation">,</span> <span class="token function">toFirstLower</span><span class="token punctuation">(</span>serviceName<span class="token punctuation">)</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"needPaginate"</span><span class="token punctuation">,</span> logicBean<span class="token punctuation">.</span><span class="token function">isNeedPaginate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"isCRUD"</span><span class="token punctuation">,</span>logicBean<span class="token punctuation">.</span><span class="token function">isCrudType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// 配置好模板路径，通过 engine 去生成相应的内容</span>
            <span class="token class-name">String</span> content <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>engine<span class="token punctuation">.</span><span class="token function">getTemplate</span><span class="token punctuation">(</span>controllerTemplate<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">renderToString</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// IO 写文件</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">writeToFile</span><span class="token punctuation">(</span>targetOutputDir<span class="token punctuation">,</span> controllerFullName<span class="token punctuation">,</span> content<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre> 
<p>再写一个带有 <code>main</code> 方法的类，作为启动生成器的入口</p> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainLogicGenerator</span> <span class="token keyword">extends</span> <span class="token class-name">LogicGenerator</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 启动代码生成器</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>    
</code></pre> 
<hr> 
<h3><a id="3__325"></a>3. 完整代码</h3> 
<p><code>LogicGenerator.java</code> 代码如下：</p> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>duojiala<span class="token punctuation">.</span>mikeboot<span class="token punctuation">.</span>extend<span class="token punctuation">.</span>gen</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">cn<span class="token punctuation">.</span>hutool<span class="token punctuation">.</span>core<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">FileUtil</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>duojiala<span class="token punctuation">.</span>mikeboot<span class="token punctuation">.</span>utils<span class="token punctuation">.</span></span><span class="token class-name">DateUtil</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>jfinal<span class="token punctuation">.</span>kit<span class="token punctuation">.</span></span><span class="token class-name">StrKit</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>jfinal<span class="token punctuation">.</span>template<span class="token punctuation">.</span></span><span class="token class-name">Engine</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>commons<span class="token punctuation">.</span>lang3<span class="token punctuation">.</span></span><span class="token class-name">StringUtils</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>persistence<span class="token punctuation">.</span></span><span class="token class-name">Table</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">File</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>reflect<span class="token punctuation">.</span></span><span class="token class-name">Field</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>reflect<span class="token punctuation">.</span></span><span class="token class-name">Type</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * 代码生成器主类
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LogicGenerator</span> <span class="token punctuation">{<!-- --></span>

    <span class="token comment">// 分隔符</span>
    <span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token class-name">String</span> SEPARATOR<span class="token punctuation">;</span>
    <span class="token comment">// 项目路径</span>
    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">String</span> PROJECT_PATH<span class="token punctuation">;</span>
    <span class="token comment">// 枚举类路径</span>
    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">String</span> PROJECT_TABLE_ENUM_PATH<span class="token punctuation">;</span>
    <span class="token comment">// Controller 层模板</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> controllerTemplate <span class="token operator">=</span> <span class="token string">"/genera/controller_template.jf"</span><span class="token punctuation">;</span>
    <span class="token comment">// Service 模板</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> serviceTemplate <span class="token operator">=</span> <span class="token string">"/genera/service_template.jf"</span><span class="token punctuation">;</span>
    <span class="token comment">// ServiceImpl 模板</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> serviceImplTemplate <span class="token operator">=</span> <span class="token string">"/genera/service_impl_template.jf"</span><span class="token punctuation">;</span>
    <span class="token comment">// 转换器模板</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> converterTemplate <span class="token operator">=</span> <span class="token string">"/genera/converter_template.jf"</span><span class="token punctuation">;</span>
    <span class="token comment">// 通用 dto 模板</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> commonDtoTemplate <span class="token operator">=</span> <span class="token string">"/genera/common_dto_template.jf"</span><span class="token punctuation">;</span>
    <span class="token comment">// 查询 dto 模板</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> queryDtoTemplate <span class="token operator">=</span> <span class="token string">"/genera/query_dto_template.jf"</span><span class="token punctuation">;</span>
    <span class="token comment">// 生成类队列</span>
    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">LogicBean</span><span class="token punctuation">&gt;</span></span> logicBeans<span class="token punctuation">;</span>
    <span class="token comment">// jfinal 处理 jf 文件的引擎</span>
    <span class="token keyword">private</span> <span class="token class-name">Engine</span> engine<span class="token punctuation">;</span>

    <span class="token comment">/**
     * 初始化
     */</span>
    <span class="token keyword">public</span> <span class="token class-name">LogicGenerator</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>SEPARATOR <span class="token operator">=</span> <span class="token class-name">File</span><span class="token punctuation">.</span>separator<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>PROJECT_PATH <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">"user.dir"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>PROJECT_TABLE_ENUM_PATH <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>PROJECT_PATH <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>SEPARATOR <span class="token operator">+</span> <span class="token string">"src"</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>SEPARATOR <span class="token operator">+</span> <span class="token string">"main"</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>SEPARATOR <span class="token operator">+</span> <span class="token string">"java"</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>SEPARATOR <span class="token operator">+</span> <span class="token string">"com"</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>SEPARATOR <span class="token operator">+</span> <span class="token string">"duojiala"</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>SEPARATOR <span class="token operator">+</span> <span class="token string">"mikeboot"</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>SEPARATOR <span class="token operator">+</span> <span class="token string">"extend"</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>SEPARATOR <span class="token operator">+</span> <span class="token string">"system"</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>SEPARATOR <span class="token operator">+</span> <span class="token string">"TableEnum.java"</span><span class="token punctuation">;</span>

        logicBeans <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">initGenConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">initEngine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * 初始化模板引擎
     */</span>
    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">initEngine</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">printMessageWithDate</span><span class="token punctuation">(</span><span class="token string">"初始化模板引擎 ..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>engine <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Engine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>engine<span class="token punctuation">.</span><span class="token function">setToClassPathSourceFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>engine<span class="token punctuation">.</span><span class="token function">addSharedMethod</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">StringKit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * 根据生成类队列里面的信息生成代码
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">generate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">printMessageWithDate</span><span class="token punctuation">(</span><span class="token string">"开始执行生成......"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>logicBeans<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">::</span><span class="token function">generateOne</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">printMessageWithDate</span><span class="token punctuation">(</span><span class="token string">"全部生成 结束 ..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">printMessageWithDate</span><span class="token punctuation">(</span><span class="token string">"==请刷新项目目录，检查生成结果=="</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">generateOne</span><span class="token punctuation">(</span><span class="token class-name">LogicBean</span> logicBean<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">printMessageWithDate</span><span class="token punctuation">(</span><span class="token string">"正在生成 ===&gt; ["</span><span class="token operator">+</span>logicBean<span class="token punctuation">.</span><span class="token function">getEntityClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"]"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 生成枚举</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">genTableEnum</span><span class="token punctuation">(</span>logicBean<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 生成 Controller 类</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">genController</span><span class="token punctuation">(</span>logicBean<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 生成 Service 类</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">genService</span><span class="token punctuation">(</span>logicBean<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 生成 ServiceImpl 类</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">genServiceImpl</span><span class="token punctuation">(</span>logicBean<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 生成 相应的 DTO 类</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">genReqRespConverter</span><span class="token punctuation">(</span>logicBean<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">genTableEnum</span><span class="token punctuation">(</span><span class="token class-name">LogicBean</span> logicBean<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> entityClass <span class="token operator">=</span> logicBean<span class="token punctuation">.</span><span class="token function">getEntityClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> simpleName <span class="token operator">=</span> entityClass<span class="token punctuation">.</span><span class="token function">getSimpleName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">printMessageWithDate</span><span class="token punctuation">(</span><span class="token string">"正在生成 "</span><span class="token operator">+</span>simpleName<span class="token operator">+</span><span class="token string">" 表枚举类型"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">boolean</span> exist <span class="token operator">=</span> <span class="token class-name">FileUtil</span><span class="token punctuation">.</span><span class="token function">exist</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>PROJECT_TABLE_ENUM_PATH<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>exist<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>PROJECT_TABLE_ENUM_PATH <span class="token operator">+</span> <span class="token string">"文件不存在"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> codeLines <span class="token operator">=</span> <span class="token class-name">FileUtil</span><span class="token punctuation">.</span><span class="token function">readLines</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>PROJECT_TABLE_ENUM_PATH<span class="token punctuation">,</span> <span class="token string">"UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>codeLines <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> codeLines<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token class-name">Table</span> annotation <span class="token operator">=</span> entityClass<span class="token punctuation">.</span><span class="token function">getAnnotation</span><span class="token punctuation">(</span><span class="token class-name">Table</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">String</span> reallyName <span class="token operator">=</span> annotation<span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">String</span> tableEnumName <span class="token operator">=</span> <span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">upperCase</span><span class="token punctuation">(</span>reallyName<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">String</span> tableEnumDes <span class="token operator">=</span> logicBean<span class="token punctuation">.</span><span class="token function">getTableEnumDes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">==</span><span class="token keyword">null</span><span class="token operator">?</span>tableEnumName<span class="token operator">:</span>logicBean<span class="token punctuation">.</span><span class="token function">getTableEnumDes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">String</span> code <span class="token operator">=</span> tableEnumName <span class="token operator">+</span> <span class="token string">"(\""</span> <span class="token operator">+</span> tableEnumDes <span class="token operator">+</span> <span class="token string">"\"),"</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">checkFileContainCode</span><span class="token punctuation">(</span>codeLines<span class="token punctuation">,</span> code<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">printMessageWithDate</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"TableEnum 文件中已存在 [%s][%s] 的定义，略过"</span><span class="token punctuation">,</span>tableEnumName<span class="token punctuation">,</span>tableEnumDes<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token keyword">int</span> size <span class="token operator">=</span> codeLines<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token keyword">int</span> insertIndex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
                    <span class="token keyword">int</span> startIndex <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>

                    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> size<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                        <span class="token class-name">String</span> tmpCode <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span>codeLines<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">isBlank</span><span class="token punctuation">(</span>tmpCode<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                            <span class="token keyword">if</span> <span class="token punctuation">(</span>startIndex <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">&amp;&amp;</span> tmpCode<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">"public enum TableEnum"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                                startIndex <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
                            <span class="token punctuation">}</span>

                            <span class="token keyword">if</span> <span class="token punctuation">(</span>tmpCode<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">";"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                                insertIndex <span class="token operator">=</span> i<span class="token punctuation">;</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span>

                    <span class="token keyword">boolean</span> needProcessUpComma <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>insertIndex <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                        insertIndex <span class="token operator">=</span> startIndex<span class="token punctuation">;</span>
                        code <span class="token operator">=</span> code <span class="token operator">+</span> <span class="token string">","</span><span class="token punctuation">;</span>
                        needProcessUpComma <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>

                    <span class="token keyword">if</span> <span class="token punctuation">(</span>startIndex <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                        codeLines<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>insertIndex<span class="token punctuation">,</span> <span class="token string">"\t"</span> <span class="token operator">+</span> code<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token keyword">if</span> <span class="token punctuation">(</span>needProcessUpComma<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> insertIndex <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;</span> startIndex<span class="token punctuation">;</span> <span class="token operator">--</span>i<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                                <span class="token class-name">String</span> tmp <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span>codeLines<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
                                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">isBlank</span><span class="token punctuation">(</span>tmp<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                                    <span class="token class-name">String</span> tmpTrim <span class="token operator">=</span> tmp<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                    <span class="token keyword">if</span> <span class="token punctuation">(</span>tmpTrim<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">","</span><span class="token punctuation">)</span> <span class="token operator">||</span> tmpTrim<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">";"</span><span class="token punctuation">)</span> <span class="token operator">||</span> tmpTrim<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">"{"</span><span class="token punctuation">)</span> <span class="token operator">||</span> tmpTrim<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">"}"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                                        <span class="token keyword">break</span><span class="token punctuation">;</span>
                                    <span class="token punctuation">}</span>

                                    <span class="token keyword">if</span> <span class="token punctuation">(</span>tmpTrim<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>tmpTrim<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token char">','</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                                        codeLines<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token string">"\t"</span> <span class="token operator">+</span> tmpTrim <span class="token operator">+</span> <span class="token string">","</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                        <span class="token keyword">break</span><span class="token punctuation">;</span>
                                    <span class="token punctuation">}</span>
                                <span class="token punctuation">}</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">}</span>

                        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">printMessageWithDate</span><span class="token punctuation">(</span><span class="token string">"正在重新生成新的 TableEnum..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token class-name">FileUtil</span><span class="token punctuation">.</span><span class="token function">writeLines</span><span class="token punctuation">(</span>codeLines<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>PROJECT_TABLE_ENUM_PATH<span class="token punctuation">,</span> <span class="token string">"UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>PROJECT_TABLE_ENUM_PATH <span class="token operator">+</span> <span class="token string">"文件内容异常"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">boolean</span> <span class="token function">checkFileContainCode</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> codeLines<span class="token punctuation">,</span> <span class="token class-name">String</span> code<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> var4 <span class="token operator">=</span> codeLines<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">String</span> tmpCode<span class="token punctuation">;</span>
        <span class="token class-name">String</span> codeLine<span class="token punctuation">;</span>
        <span class="token keyword">do</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>var4<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            codeLine <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span>var4<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            tmpCode <span class="token operator">=</span> codeLine<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">isBlank</span><span class="token punctuation">(</span>tmpCode<span class="token punctuation">)</span> <span class="token operator">||</span> tmpCode<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">"package "</span><span class="token punctuation">)</span> <span class="token operator">||</span> tmpCode<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">"public class "</span><span class="token punctuation">)</span> <span class="token operator">||</span> tmpCode<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">"return "</span><span class="token punctuation">)</span> <span class="token operator">||</span> tmpCode<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"}"</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token operator">!</span>codeLine<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>code<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">genController</span><span class="token punctuation">(</span><span class="token class-name">LogicBean</span> logicBean<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">String</span> entityName <span class="token operator">=</span> logicBean<span class="token punctuation">.</span><span class="token function">getEntityClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getSimpleName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> controllerName <span class="token operator">=</span> entityName <span class="token operator">+</span> <span class="token string">"Controller"</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> controllerFullName <span class="token operator">=</span> controllerName <span class="token operator">+</span> <span class="token string">".java"</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> controllerPackagePath <span class="token operator">=</span> logicBean<span class="token punctuation">.</span><span class="token function">getControllerPackagePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">printMessageWithDate</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"正在生成 Controller:%s..."</span><span class="token punctuation">,</span> controllerFullName<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> targetOutputDir <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getDirFromPackage</span><span class="token punctuation">(</span>controllerPackagePath<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">printMessageWithDate</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"Controller 生成路径:%s..."</span><span class="token punctuation">,</span> targetOutputDir<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">FileUtil</span><span class="token punctuation">.</span><span class="token function">exist</span><span class="token punctuation">(</span>targetOutputDir <span class="token operator">+</span> <span class="token class-name">File</span><span class="token punctuation">.</span>separator <span class="token operator">+</span> controllerFullName<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">printMessageWithDate</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"Controller 文件[%s]已存在,忽略生成 ~~ "</span><span class="token punctuation">,</span> controllerFullName<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            <span class="token class-name">String</span> serviceName <span class="token operator">=</span> entityName <span class="token operator">+</span> <span class="token string">"Service"</span><span class="token punctuation">;</span>
            <span class="token class-name">Kv</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> data <span class="token operator">=</span> <span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"author"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">)</span>logicBean<span class="token punctuation">.</span><span class="token function">getAuthor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"controllerPackagePath"</span><span class="token punctuation">,</span> controllerPackagePath<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"QueryTargetListReq"</span><span class="token punctuation">,</span> <span class="token string">"Query"</span><span class="token operator">+</span>entityName<span class="token operator">+</span><span class="token string">"ListReq"</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"SaveTargetReq"</span><span class="token punctuation">,</span> <span class="token string">"Save"</span><span class="token operator">+</span>entityName<span class="token operator">+</span><span class="token string">"Req"</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"ServiceName"</span><span class="token punctuation">,</span> serviceName<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"controllerRemark"</span><span class="token punctuation">,</span> logicBean<span class="token punctuation">.</span><span class="token function">getTableEnumDes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"pathValue"</span><span class="token punctuation">,</span> <span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">isBlank</span><span class="token punctuation">(</span>logicBean<span class="token punctuation">.</span><span class="token function">getPathValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token function">toFirstLower</span><span class="token punctuation">(</span>entityName<span class="token punctuation">)</span><span class="token operator">:</span>logicBean<span class="token punctuation">.</span><span class="token function">getPathValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"ControllerName"</span><span class="token punctuation">,</span> controllerName<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"serviceName"</span><span class="token punctuation">,</span> <span class="token function">toFirstLower</span><span class="token punctuation">(</span>serviceName<span class="token punctuation">)</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"needPaginate"</span><span class="token punctuation">,</span> logicBean<span class="token punctuation">.</span><span class="token function">isNeedPaginate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"isCRUD"</span><span class="token punctuation">,</span>logicBean<span class="token punctuation">.</span><span class="token function">isCrudType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> content <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>engine<span class="token punctuation">.</span><span class="token function">getTemplate</span><span class="token punctuation">(</span>controllerTemplate<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">renderToString</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">writeToFile</span><span class="token punctuation">(</span>targetOutputDir<span class="token punctuation">,</span> controllerFullName<span class="token punctuation">,</span> content<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">genService</span><span class="token punctuation">(</span><span class="token class-name">LogicBean</span> logicBean<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> entityClass <span class="token operator">=</span> logicBean<span class="token punctuation">.</span><span class="token function">getEntityClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> entityName <span class="token operator">=</span> entityClass<span class="token punctuation">.</span><span class="token function">getSimpleName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> serviceName <span class="token operator">=</span> entityName <span class="token operator">+</span> <span class="token string">"Service"</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> serviceFullName <span class="token operator">=</span> serviceName <span class="token operator">+</span> <span class="token string">".java"</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> servicePackagePath <span class="token operator">=</span> logicBean<span class="token punctuation">.</span><span class="token function">getServicePackagePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">printMessageWithDate</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"正在生成 Service:%s..."</span><span class="token punctuation">,</span> serviceFullName<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> targetOutputDir <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getDirFromPackage</span><span class="token punctuation">(</span>servicePackagePath<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">printMessageWithDate</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"Service 生成路径:%s..."</span><span class="token punctuation">,</span> targetOutputDir<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">FileUtil</span><span class="token punctuation">.</span><span class="token function">exist</span><span class="token punctuation">(</span>targetOutputDir <span class="token operator">+</span> <span class="token class-name">File</span><span class="token punctuation">.</span>separator <span class="token operator">+</span> serviceFullName<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">printMessageWithDate</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"Service 文件[%s]已存在,忽略生成 ~~ "</span><span class="token punctuation">,</span> serviceFullName<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            <span class="token class-name">Kv</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> data <span class="token operator">=</span> <span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"author"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">)</span>logicBean<span class="token punctuation">.</span><span class="token function">getAuthor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"servicePackagePath"</span><span class="token punctuation">,</span> servicePackagePath<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"QueryTargetListReq"</span><span class="token punctuation">,</span> <span class="token string">"Query"</span><span class="token operator">+</span>entityName<span class="token operator">+</span><span class="token string">"ListReq"</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"SaveTargetReq"</span><span class="token punctuation">,</span> <span class="token string">"Save"</span><span class="token operator">+</span>entityName<span class="token operator">+</span><span class="token string">"Req"</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"EntityName"</span><span class="token punctuation">,</span> entityName<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"QueryTargetListResp"</span><span class="token punctuation">,</span> <span class="token string">"Query"</span><span class="token operator">+</span>entityName<span class="token operator">+</span><span class="token string">"ListResp"</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"ServiceName"</span><span class="token punctuation">,</span> serviceName<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"needPaginate"</span><span class="token punctuation">,</span> logicBean<span class="token punctuation">.</span><span class="token function">isNeedPaginate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"isCRUD"</span><span class="token punctuation">,</span>logicBean<span class="token punctuation">.</span><span class="token function">isCrudType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> content <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>engine<span class="token punctuation">.</span><span class="token function">getTemplate</span><span class="token punctuation">(</span>serviceTemplate<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">renderToString</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">writeToFile</span><span class="token punctuation">(</span>targetOutputDir<span class="token punctuation">,</span> serviceFullName<span class="token punctuation">,</span> content<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">genServiceImpl</span><span class="token punctuation">(</span><span class="token class-name">LogicBean</span> logicBean<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> entityClass <span class="token operator">=</span> logicBean<span class="token punctuation">.</span><span class="token function">getEntityClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> entityName <span class="token operator">=</span> entityClass<span class="token punctuation">.</span><span class="token function">getSimpleName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> serviceImplName <span class="token operator">=</span> entityName <span class="token operator">+</span> <span class="token string">"ServiceImpl"</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> serviceImplFullName <span class="token operator">=</span> serviceImplName <span class="token operator">+</span> <span class="token string">".java"</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> serviceImplPackagePath <span class="token operator">=</span> logicBean<span class="token punctuation">.</span><span class="token function">getServiceImplPackagePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">printMessageWithDate</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"正在生成 ServiceImpl:%s..."</span><span class="token punctuation">,</span> serviceImplFullName<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> targetOutputDir <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getDirFromPackage</span><span class="token punctuation">(</span>serviceImplPackagePath<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">printMessageWithDate</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"ServiceImpl 生成路径:%s..."</span><span class="token punctuation">,</span> targetOutputDir<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">FileUtil</span><span class="token punctuation">.</span><span class="token function">exist</span><span class="token punctuation">(</span>targetOutputDir <span class="token operator">+</span> <span class="token class-name">File</span><span class="token punctuation">.</span>separator <span class="token operator">+</span> serviceImplFullName<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">printMessageWithDate</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"ServiceImpl 文件[%s]已存在,忽略生成 ~~ "</span><span class="token punctuation">,</span> serviceImplFullName<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Toggle</span><span class="token punctuation">&gt;</span></span> toggleList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">Field</span><span class="token punctuation">[</span><span class="token punctuation">]</span> declaredFields <span class="token operator">=</span> entityClass<span class="token punctuation">.</span><span class="token function">getDeclaredFields</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">boolean</span> isSoftDel <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Field</span> declaredField <span class="token operator">:</span> declaredFields<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token class-name">String</span> fieldName <span class="token operator">=</span> declaredField<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">"delFlag"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>fieldName<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    isSoftDel <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
                    <span class="token keyword">continue</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token class-name">Type</span> genericType <span class="token operator">=</span> declaredField<span class="token punctuation">.</span><span class="token function">getGenericType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> genericArr <span class="token operator">=</span> genericType<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">"\\."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">String</span> type <span class="token operator">=</span> genericArr<span class="token punctuation">[</span>genericArr<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">"Boolean"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    toggleList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Toggle</span><span class="token punctuation">(</span>fieldName<span class="token punctuation">,</span><span class="token string">"req.get"</span> <span class="token operator">+</span> <span class="token function">toFirstUpper</span><span class="token punctuation">(</span>fieldName<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"()"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>

            <span class="token class-name">String</span> keywordSelect <span class="token operator">=</span> logicBean<span class="token punctuation">.</span><span class="token function">getKeywordSelect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">boolean</span> hasKeyword <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">isNotBlank</span><span class="token punctuation">(</span>keywordSelect<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token comment">// 有关键字，则拼装查询条件</span>
                hasKeyword <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
                <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> keywordArr <span class="token operator">=</span> keywordSelect<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">","</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">StringBuilder</span> builder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
                builder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"criteria.andCondition(\""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">do</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                        builder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"+ \" or \" + \""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                    builder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>keywordArr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">" like \" + "</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"\"%\"+"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"req.getKeyword()"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"+\"%\""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">while</span> <span class="token punctuation">(</span>i<span class="token operator">++</span><span class="token operator">&lt;</span>keywordArr<span class="token punctuation">.</span>length<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                builder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">");"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                keywordSelect <span class="token operator">=</span> builder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token class-name">Kv</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> data <span class="token operator">=</span> <span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"author"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">)</span>logicBean<span class="token punctuation">.</span><span class="token function">getAuthor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"serviceImplPackagePath"</span><span class="token punctuation">,</span> serviceImplPackagePath<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"QueryTargetListRespConverter"</span><span class="token punctuation">,</span> <span class="token string">"Query"</span><span class="token operator">+</span>entityName<span class="token operator">+</span><span class="token string">"ListRespConverter"</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"queryTargetListRespConverter"</span><span class="token punctuation">,</span> <span class="token string">"query"</span><span class="token operator">+</span>entityName<span class="token operator">+</span><span class="token string">"ListRespConverter"</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"SaveTargetReqConverter"</span><span class="token punctuation">,</span> <span class="token string">"Save"</span><span class="token operator">+</span>entityName<span class="token operator">+</span><span class="token string">"ReqConverter"</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"saveTargetReqConverter"</span><span class="token punctuation">,</span> <span class="token string">"save"</span><span class="token operator">+</span>entityName<span class="token operator">+</span><span class="token string">"ReqConverter"</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"QueryTargetListReq"</span><span class="token punctuation">,</span> <span class="token string">"Query"</span><span class="token operator">+</span>entityName<span class="token operator">+</span><span class="token string">"ListReq"</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"SaveTargetReq"</span><span class="token punctuation">,</span> <span class="token string">"Save"</span><span class="token operator">+</span>entityName<span class="token operator">+</span><span class="token string">"Req"</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"EntityName"</span><span class="token punctuation">,</span> entityName<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"entityName"</span><span class="token punctuation">,</span> <span class="token function">toFirstLower</span><span class="token punctuation">(</span>entityName<span class="token punctuation">)</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"QueryTargetListResp"</span><span class="token punctuation">,</span> <span class="token string">"Query"</span><span class="token operator">+</span>entityName<span class="token operator">+</span><span class="token string">"ListResp"</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"ServiceName"</span><span class="token punctuation">,</span> entityName <span class="token operator">+</span> <span class="token string">"Service"</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"ServiceImplName"</span><span class="token punctuation">,</span> serviceImplName<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"toggleList"</span><span class="token punctuation">,</span> toggleList<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"hasKeyword"</span><span class="token punctuation">,</span> hasKeyword<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"keywordSelect"</span><span class="token punctuation">,</span> keywordSelect<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"isSoftDel"</span><span class="token punctuation">,</span> isSoftDel<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"needPaginate"</span><span class="token punctuation">,</span> logicBean<span class="token punctuation">.</span><span class="token function">isNeedPaginate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"isCRUD"</span><span class="token punctuation">,</span>logicBean<span class="token punctuation">.</span><span class="token function">isCrudType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> content <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>engine<span class="token punctuation">.</span><span class="token function">getTemplate</span><span class="token punctuation">(</span>serviceImplTemplate<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">renderToString</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">writeToFile</span><span class="token punctuation">(</span>targetOutputDir<span class="token punctuation">,</span> serviceImplFullName<span class="token punctuation">,</span> content<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">genReqRespConverter</span><span class="token punctuation">(</span><span class="token class-name">LogicBean</span> logicBean<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">boolean</span> isCRUD <span class="token operator">=</span> logicBean<span class="token punctuation">.</span><span class="token function">isCrudType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>isCRUD<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">genRequestBody</span><span class="token punctuation">(</span>logicBean<span class="token punctuation">,</span><span class="token class-name">OptionEnum</span><span class="token punctuation">.</span>SAVE<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">genRequestBody</span><span class="token punctuation">(</span>logicBean<span class="token punctuation">,</span><span class="token class-name">OptionEnum</span><span class="token punctuation">.</span>PAGINATE<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">genResponseBody</span><span class="token punctuation">(</span>logicBean<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">genRequestBody</span><span class="token punctuation">(</span><span class="token class-name">LogicBean</span> logicBean<span class="token punctuation">,</span> <span class="token class-name">OptionEnum</span> optionEnum<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 生成请求体</span>
        <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> entityClass <span class="token operator">=</span> logicBean<span class="token punctuation">.</span><span class="token function">getEntityClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> entityName <span class="token operator">=</span> entityClass<span class="token punctuation">.</span><span class="token function">getSimpleName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> targetReq <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">boolean</span> havePageInfo <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token keyword">switch</span> <span class="token punctuation">(</span>optionEnum<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">case</span> SAVE<span class="token operator">:</span>
                targetReq <span class="token operator">=</span> <span class="token string">"Save"</span> <span class="token operator">+</span> entityName <span class="token operator">+</span> <span class="token string">"Req"</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> PAGINATE<span class="token operator">:</span>
                targetReq <span class="token operator">=</span> <span class="token string">"Query"</span> <span class="token operator">+</span> entityName <span class="token operator">+</span> <span class="token string">"ListReq"</span><span class="token punctuation">;</span>
                havePageInfo <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">default</span><span class="token operator">:</span>
                <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token class-name">String</span> targetReqFullName <span class="token operator">=</span> targetReq <span class="token operator">+</span> <span class="token string">".java"</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> requestPackagePath <span class="token operator">=</span> logicBean<span class="token punctuation">.</span><span class="token function">getRequestPackagePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">printMessageWithDate</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"正在生成 RequestBoy:%s..."</span><span class="token punctuation">,</span> requestPackagePath<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> targetOutputDir <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getDirFromPackage</span><span class="token punctuation">(</span>requestPackagePath<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">printMessageWithDate</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"RequestBoy 生成路径:%s..."</span><span class="token punctuation">,</span> targetOutputDir<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">FileUtil</span><span class="token punctuation">.</span><span class="token function">exist</span><span class="token punctuation">(</span>targetOutputDir <span class="token operator">+</span> <span class="token class-name">File</span><span class="token punctuation">.</span>separator <span class="token operator">+</span> targetReqFullName<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">printMessageWithDate</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"RequestBoy 文件[%s]已存在,忽略生成 ~~ "</span><span class="token punctuation">,</span> targetReqFullName<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> inserts <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// 通过反射获取目标对象的属性</span>
            <span class="token class-name">Field</span><span class="token punctuation">[</span><span class="token punctuation">]</span> declaredFields <span class="token operator">=</span> entityClass<span class="token punctuation">.</span><span class="token function">getDeclaredFields</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Field</span> declaredField <span class="token operator">:</span> declaredFields<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token class-name">String</span> fieldName <span class="token operator">=</span> declaredField<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">switch</span> <span class="token punctuation">(</span>optionEnum<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token keyword">case</span> SAVE<span class="token operator">:</span>
                        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">"createTime"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>fieldName<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>
                        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">"updateTime"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>fieldName<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>
                        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">"delFlag"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>fieldName<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>
                        inserts<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"private String "</span> <span class="token operator">+</span> fieldName <span class="token operator">+</span> <span class="token string">";"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token keyword">break</span><span class="token punctuation">;</span>
                    <span class="token keyword">case</span> PAGINATE<span class="token operator">:</span>
                        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">"delFlag"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>fieldName<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>
                        <span class="token class-name">Type</span> genericType <span class="token operator">=</span> declaredField<span class="token punctuation">.</span><span class="token function">getGenericType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> genericArr <span class="token operator">=</span> genericType<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">"\\."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token class-name">String</span> type <span class="token operator">=</span> genericArr<span class="token punctuation">[</span>genericArr<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
                        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">"Boolean"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                            inserts<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"private "</span> <span class="token operator">+</span> type <span class="token operator">+</span> <span class="token string">" "</span> <span class="token operator">+</span> fieldName <span class="token operator">+</span> <span class="token string">";"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token punctuation">}</span>
                        <span class="token keyword">break</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">OptionEnum</span><span class="token punctuation">.</span>PAGINATE <span class="token operator">==</span> optionEnum<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                inserts<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"private String keyword;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token class-name">Kv</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> data <span class="token operator">=</span> <span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"author"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">)</span>logicBean<span class="token punctuation">.</span><span class="token function">getAuthor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"dtoPackagePath"</span><span class="token punctuation">,</span>requestPackagePath<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"DtoName"</span><span class="token punctuation">,</span> targetReq<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"havePageInfo"</span><span class="token punctuation">,</span> havePageInfo<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"inserts"</span><span class="token punctuation">,</span>inserts<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> content <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>engine<span class="token punctuation">.</span><span class="token function">getTemplate</span><span class="token punctuation">(</span>commonDtoTemplate<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">renderToString</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">writeToFile</span><span class="token punctuation">(</span>targetOutputDir<span class="token punctuation">,</span> targetReqFullName<span class="token punctuation">,</span> content<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">OptionEnum</span><span class="token punctuation">.</span>SAVE <span class="token operator">==</span> optionEnum<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">genConverter</span><span class="token punctuation">(</span>logicBean<span class="token punctuation">,</span>targetReq<span class="token punctuation">,</span>entityName<span class="token punctuation">,</span>requestPackagePath<span class="token operator">+</span><span class="token string">"."</span><span class="token operator">+</span>targetReq<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">genResponseBody</span><span class="token punctuation">(</span><span class="token class-name">LogicBean</span> logicBean<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> entityClass <span class="token operator">=</span> logicBean<span class="token punctuation">.</span><span class="token function">getEntityClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> entityName <span class="token operator">=</span> entityClass<span class="token punctuation">.</span><span class="token function">getSimpleName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> targetReq <span class="token operator">=</span> <span class="token string">"Query"</span> <span class="token operator">+</span> entityName <span class="token operator">+</span> <span class="token string">"ListResp"</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> targetReqFullName <span class="token operator">=</span> targetReq <span class="token operator">+</span> <span class="token string">".java"</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> responsePackagePath <span class="token operator">=</span> logicBean<span class="token punctuation">.</span><span class="token function">getResponsePackagePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">printMessageWithDate</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"正在生成 ResponseBoy:%s..."</span><span class="token punctuation">,</span> responsePackagePath<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> targetOutputDir <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getDirFromPackage</span><span class="token punctuation">(</span>responsePackagePath<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">printMessageWithDate</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"ResponseBoy 生成路径:%s..."</span><span class="token punctuation">,</span> targetOutputDir<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">FileUtil</span><span class="token punctuation">.</span><span class="token function">exist</span><span class="token punctuation">(</span>targetOutputDir <span class="token operator">+</span> <span class="token class-name">File</span><span class="token punctuation">.</span>separator <span class="token operator">+</span> targetReqFullName<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">printMessageWithDate</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"ResponseBoy 文件[%s]已存在,忽略生成 ~~ "</span><span class="token punctuation">,</span> targetReqFullName<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> inserts <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">Field</span><span class="token punctuation">[</span><span class="token punctuation">]</span> declaredFields <span class="token operator">=</span> entityClass<span class="token punctuation">.</span><span class="token function">getDeclaredFields</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Field</span> declaredField <span class="token operator">:</span> declaredFields<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token class-name">String</span> fieldName <span class="token operator">=</span> declaredField<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">"createTime"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>fieldName<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">"updateTime"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>fieldName<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">"delFlag"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>fieldName<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>
                <span class="token class-name">Type</span> genericType <span class="token operator">=</span> declaredField<span class="token punctuation">.</span><span class="token function">getGenericType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> genericArr <span class="token operator">=</span> genericType<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">"\\."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">String</span> type <span class="token operator">=</span> genericArr<span class="token punctuation">[</span>genericArr<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
                inserts<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"private "</span> <span class="token operator">+</span> type <span class="token operator">+</span> <span class="token string">" "</span> <span class="token operator">+</span> fieldName <span class="token operator">+</span> <span class="token string">";"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token class-name">Kv</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> data <span class="token operator">=</span> <span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"author"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">)</span>logicBean<span class="token punctuation">.</span><span class="token function">getAuthor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"dtoPackagePath"</span><span class="token punctuation">,</span>responsePackagePath<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"DtoName"</span><span class="token punctuation">,</span> targetReq<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"inserts"</span><span class="token punctuation">,</span>inserts<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> content <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>engine<span class="token punctuation">.</span><span class="token function">getTemplate</span><span class="token punctuation">(</span>queryDtoTemplate<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">renderToString</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">writeToFile</span><span class="token punctuation">(</span>targetOutputDir<span class="token punctuation">,</span> targetReqFullName<span class="token punctuation">,</span> content<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token function">genConverter</span><span class="token punctuation">(</span>logicBean<span class="token punctuation">,</span>targetReq<span class="token punctuation">,</span>entityName<span class="token punctuation">,</span>responsePackagePath<span class="token operator">+</span><span class="token string">"."</span><span class="token operator">+</span>targetReq<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">genConverter</span><span class="token punctuation">(</span><span class="token class-name">LogicBean</span> logicBean<span class="token punctuation">,</span><span class="token class-name">String</span> <span class="token class-name">A</span><span class="token punctuation">,</span><span class="token class-name">String</span> <span class="token class-name">B</span><span class="token punctuation">,</span><span class="token class-name">String</span> <span class="token class-name">AAllPath</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">String</span> converterName <span class="token operator">=</span> <span class="token class-name">A</span> <span class="token operator">+</span> <span class="token string">"Converter"</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> converterFullName <span class="token operator">=</span> converterName <span class="token operator">+</span> <span class="token string">".java"</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> converterPackagePath <span class="token operator">=</span> logicBean<span class="token punctuation">.</span><span class="token function">getConverterPackagePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">printMessageWithDate</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"正在生成 Converter:%s..."</span><span class="token punctuation">,</span> converterPackagePath<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> targetOutputDir <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getDirFromPackage</span><span class="token punctuation">(</span>converterPackagePath<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">printMessageWithDate</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"Converter 生成路径:%s..."</span><span class="token punctuation">,</span> targetOutputDir<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">FileUtil</span><span class="token punctuation">.</span><span class="token function">exist</span><span class="token punctuation">(</span>targetOutputDir <span class="token operator">+</span> <span class="token class-name">File</span><span class="token punctuation">.</span>separator <span class="token operator">+</span> converterFullName<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">printMessageWithDate</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"Converter 文件[%s]已存在,忽略生成 ~~ "</span><span class="token punctuation">,</span> converterFullName<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            <span class="token class-name">Kv</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> data <span class="token operator">=</span> <span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"author"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">)</span>logicBean<span class="token punctuation">.</span><span class="token function">getAuthor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"converterPackagePath"</span><span class="token punctuation">,</span> converterPackagePath<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"Target"</span><span class="token punctuation">,</span> <span class="token class-name">A</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"EntityName"</span><span class="token punctuation">,</span> <span class="token class-name">B</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"TargetAllPath"</span><span class="token punctuation">,</span><span class="token class-name">AAllPath</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> content <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>engine<span class="token punctuation">.</span><span class="token function">getTemplate</span><span class="token punctuation">(</span>converterTemplate<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">renderToString</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">writeToFile</span><span class="token punctuation">(</span>targetOutputDir<span class="token punctuation">,</span> converterFullName<span class="token punctuation">,</span> content<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">writeToFile</span><span class="token punctuation">(</span><span class="token class-name">String</span> targetOutputDir<span class="token punctuation">,</span> <span class="token class-name">String</span> fileName<span class="token punctuation">,</span> <span class="token class-name">String</span> content<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">FileUtil</span><span class="token punctuation">.</span><span class="token function">exist</span><span class="token punctuation">(</span>targetOutputDir<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token class-name">FileUtil</span><span class="token punctuation">.</span><span class="token function">mkdir</span><span class="token punctuation">(</span>targetOutputDir<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token class-name">String</span> target <span class="token operator">=</span> targetOutputDir <span class="token operator">+</span> <span class="token class-name">File</span><span class="token punctuation">.</span>separator <span class="token operator">+</span> fileName<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">FileUtil</span><span class="token punctuation">.</span><span class="token function">exist</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token class-name">FileUtil</span><span class="token punctuation">.</span><span class="token function">writeUtf8String</span><span class="token punctuation">(</span>content<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * 初始化配置，供子类实现
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">initGenConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> <span class="token function">getDirFromPackage</span><span class="token punctuation">(</span><span class="token class-name">String</span> targetPackageName<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> PROJECT_PATH <span class="token operator">+</span> <span class="token string">"/src/main/java/"</span> <span class="token operator">+</span> targetPackageName<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">"."</span><span class="token punctuation">,</span> <span class="token string">"/"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">printMessageWithDate</span><span class="token punctuation">(</span><span class="token class-name">String</span> message<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"[Generate Log]:["</span> <span class="token operator">+</span> <span class="token class-name">DateUtil</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">DateUtil</span><span class="token punctuation">.</span>YMDHMS<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"]"</span> <span class="token operator">+</span> message<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toFirstLower</span><span class="token punctuation">(</span><span class="token class-name">String</span> <span class="token keyword">var</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token keyword">var</span><span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token keyword">var</span><span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toFirstUpper</span><span class="token punctuation">(</span><span class="token class-name">String</span> <span class="token keyword">var</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token keyword">var</span><span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token keyword">var</span><span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addGenBean</span><span class="token punctuation">(</span><span class="token class-name">LogicBean</span> logicBean<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>logicBeans<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>logicBean<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">enum</span> <span class="token class-name">OptionEnum</span> <span class="token punctuation">{<!-- --></span>
        SAVE<span class="token punctuation">,</span>
        PAGINATE<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">Toggle</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">private</span> <span class="token class-name">String</span> key<span class="token punctuation">;</span>
        <span class="token keyword">private</span> <span class="token class-name">String</span> value<span class="token punctuation">;</span>

        <span class="token keyword">public</span> <span class="token class-name">Toggle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token class-name">Toggle</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">,</span> <span class="token class-name">String</span> value<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>key <span class="token operator">=</span> key<span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> value<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> key<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setKey</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>key <span class="token operator">=</span> key<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> value<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setValue</span><span class="token punctuation">(</span><span class="token class-name">String</span> value<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> value<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">StringKit</span> <span class="token keyword">extends</span> <span class="token class-name">StrKit</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">long</span> serialVersionUID <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">808251639784763326L</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * 生成对象类
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">LogicBean</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">private</span> <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> entityClass<span class="token punctuation">;</span>
        <span class="token keyword">private</span> <span class="token class-name">String</span> author<span class="token punctuation">;</span>
        <span class="token keyword">private</span> <span class="token class-name">String</span> projectPath<span class="token punctuation">;</span>
        <span class="token keyword">private</span> <span class="token class-name">String</span> controllerPackagePath<span class="token punctuation">;</span>
        <span class="token keyword">private</span> <span class="token class-name">String</span> servicePackagePath<span class="token punctuation">;</span>
        <span class="token keyword">private</span> <span class="token class-name">String</span> serviceImplPackagePath<span class="token punctuation">;</span>
        <span class="token keyword">private</span> <span class="token class-name">String</span> converterPackagePath<span class="token punctuation">;</span>
        <span class="token keyword">private</span> <span class="token class-name">String</span> requestPackagePath<span class="token punctuation">;</span>
        <span class="token keyword">private</span> <span class="token class-name">String</span> responsePackagePath<span class="token punctuation">;</span>
        <span class="token keyword">private</span> <span class="token class-name">String</span> pathValue<span class="token punctuation">;</span>
        <span class="token keyword">private</span> <span class="token class-name">String</span> keywordSelect<span class="token punctuation">;</span>
        <span class="token keyword">private</span> <span class="token keyword">boolean</span> isCrudType<span class="token punctuation">;</span>
        <span class="token keyword">private</span> <span class="token keyword">boolean</span> needPaginate<span class="token punctuation">;</span>
        <span class="token keyword">private</span> <span class="token keyword">boolean</span> needSort<span class="token punctuation">;</span>
        <span class="token keyword">private</span> <span class="token class-name">String</span> tableEnumDes<span class="token punctuation">;</span>

        <span class="token keyword">public</span> <span class="token class-name">LogicBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token class-name">LogicBean</span><span class="token punctuation">(</span><span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> entityClass<span class="token punctuation">,</span>
                         <span class="token class-name">String</span> tableDes<span class="token punctuation">,</span>
                         <span class="token class-name">String</span> author<span class="token punctuation">,</span>
                         <span class="token class-name">String</span> pathValue<span class="token punctuation">,</span>
                         <span class="token class-name">String</span> controllerPackagePath<span class="token punctuation">,</span>
                         <span class="token class-name">String</span> servicePackagePath<span class="token punctuation">,</span>
                         <span class="token class-name">String</span> serviceImplPackagePath<span class="token punctuation">,</span>
                         <span class="token class-name">String</span> converterPackagePath<span class="token punctuation">,</span>
                         <span class="token class-name">String</span> requestPackagePath<span class="token punctuation">,</span>
                         <span class="token class-name">String</span> responsePackagePath<span class="token punctuation">,</span>
                         <span class="token class-name">String</span> keywordSelect<span class="token punctuation">,</span>
                         <span class="token keyword">boolean</span> needPaginate<span class="token punctuation">,</span>
                         <span class="token keyword">boolean</span> isCrudType<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>entityClass<span class="token punctuation">.</span><span class="token function">isAnnotationPresent</span><span class="token punctuation">(</span><span class="token class-name">Table</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">"Entity:"</span> <span class="token operator">+</span> entityClass<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"必须有 @Table 注解"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>entityClass <span class="token operator">=</span> entityClass<span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>tableEnumDes <span class="token operator">=</span> tableDes<span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>author <span class="token operator">=</span> author<span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>pathValue <span class="token operator">=</span> pathValue<span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>controllerPackagePath <span class="token operator">=</span> controllerPackagePath<span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>servicePackagePath <span class="token operator">=</span> servicePackagePath<span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>serviceImplPackagePath <span class="token operator">=</span> serviceImplPackagePath<span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>converterPackagePath <span class="token operator">=</span> converterPackagePath<span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>requestPackagePath <span class="token operator">=</span> requestPackagePath<span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>responsePackagePath <span class="token operator">=</span> responsePackagePath<span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>keywordSelect <span class="token operator">=</span> keywordSelect<span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>needPaginate <span class="token operator">=</span> needPaginate<span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>isCrudType <span class="token operator">=</span> isCrudType<span class="token punctuation">;</span>

        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> <span class="token function">getEntityClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> entityClass<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setEntityClass</span><span class="token punctuation">(</span><span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> entityClass<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>entityClass<span class="token punctuation">.</span><span class="token function">isAnnotationPresent</span><span class="token punctuation">(</span><span class="token class-name">Table</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">"Entity:"</span> <span class="token operator">+</span> entityClass<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"必须有 @Table 注解"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>entityClass <span class="token operator">=</span> entityClass<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getAuthor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> author<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setAuthor</span><span class="token punctuation">(</span><span class="token class-name">String</span> author<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>author <span class="token operator">=</span> author<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getProjectPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> projectPath<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setProjectPath</span><span class="token punctuation">(</span><span class="token class-name">String</span> projectPath<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>projectPath <span class="token operator">=</span> projectPath<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getControllerPackagePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> controllerPackagePath<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setControllerPackagePath</span><span class="token punctuation">(</span><span class="token class-name">String</span> controllerPackagePath<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>controllerPackagePath <span class="token operator">=</span> controllerPackagePath<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getServicePackagePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> servicePackagePath<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setServicePackagePath</span><span class="token punctuation">(</span><span class="token class-name">String</span> servicePackagePath<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>servicePackagePath <span class="token operator">=</span> servicePackagePath<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getServiceImplPackagePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> serviceImplPackagePath<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setServiceImplPackagePath</span><span class="token punctuation">(</span><span class="token class-name">String</span> serviceImplPackagePath<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>serviceImplPackagePath <span class="token operator">=</span> serviceImplPackagePath<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getTableEnumDes</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> tableEnumDes<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setTableEnumDes</span><span class="token punctuation">(</span><span class="token class-name">String</span> tableEnumDes<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>tableEnumDes <span class="token operator">=</span> tableEnumDes<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">isCrudType</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> isCrudType<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setCrudType</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> crudType<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            isCrudType <span class="token operator">=</span> crudType<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">isNeedPaginate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> needPaginate<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setNeedPaginate</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> needPaginate<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>needPaginate <span class="token operator">=</span> needPaginate<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getPathValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> pathValue<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setPathValue</span><span class="token punctuation">(</span><span class="token class-name">String</span> pathValue<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>pathValue <span class="token operator">=</span> pathValue<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">isNeedSort</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> needSort<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setNeedSort</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> needSort<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>needSort <span class="token operator">=</span> needSort<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getConverterPackagePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> converterPackagePath<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setConverterPackagePath</span><span class="token punctuation">(</span><span class="token class-name">String</span> converterPackagePath<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>converterPackagePath <span class="token operator">=</span> converterPackagePath<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getRequestPackagePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> requestPackagePath<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setRequestPackagePath</span><span class="token punctuation">(</span><span class="token class-name">String</span> requestPackagePath<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>requestPackagePath <span class="token operator">=</span> requestPackagePath<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getResponsePackagePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> responsePackagePath<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setResponsePackagePath</span><span class="token punctuation">(</span><span class="token class-name">String</span> responsePackagePath<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>responsePackagePath <span class="token operator">=</span> responsePackagePath<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getKeywordSelect</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> keywordSelect<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setKeywordSelect</span><span class="token punctuation">(</span><span class="token class-name">String</span> keywordSelect<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>keywordSelect <span class="token operator">=</span> keywordSelect<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">Kv</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">extends</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{<!-- --></span>

        <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">long</span> serialVersionUID <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">808251639784763326L</span><span class="token punctuation">;</span>

        <span class="token keyword">public</span> <span class="token class-name">Kv</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token class-name">Kv</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token function">set</span><span class="token punctuation">(</span><span class="token class-name">K</span> key<span class="token punctuation">,</span> <span class="token class-name">V</span> value<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token class-name">Kv</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token function">set</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> map<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">putAll</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token class-name">Kv</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token function">delete</span><span class="token punctuation">(</span><span class="token class-name">K</span> key<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Kv</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token function">by</span><span class="token punctuation">(</span><span class="token class-name">K</span> key<span class="token punctuation">,</span> <span class="token class-name">V</span> value<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Kv</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Kv</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Kv</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token class-name">Kv</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token function">setIfNotNull</span><span class="token punctuation">(</span><span class="token class-name">K</span> key<span class="token punctuation">,</span> <span class="token class-name">V</span> value<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<p><code>MainLogicGenerator.java</code> 代码如下：</p> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>duojiala<span class="token punctuation">.</span>mikeboot<span class="token punctuation">.</span>extend<span class="token punctuation">.</span>gen</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>duojiala<span class="token punctuation">.</span>mikeboot<span class="token punctuation">.</span>domain<span class="token punctuation">.</span>entity<span class="token punctuation">.</span></span><span class="token class-name">Post</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * Controller Service 代码生成器
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainLogicGenerator</span> <span class="token keyword">extends</span> <span class="token class-name">LogicGenerator</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">new</span> <span class="token class-name">MainLogicGenerator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">generate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">initGenConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 以哪个实体类生成代码</span>
        <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> clazz <span class="token operator">=</span> <span class="token class-name">Post</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">;</span>
        <span class="token comment">// 表描述</span>
        <span class="token class-name">String</span> tableDes <span class="token operator">=</span> <span class="token string">"职位"</span><span class="token punctuation">;</span>  <span class="token comment">// TableEnum.java 类中的枚举，tableDes 为表的描述信息，如果不填默认为类名的全大写</span>
        <span class="token comment">// 生成 java 代码的默认作者</span>
        <span class="token class-name">String</span> author <span class="token operator">=</span> <span class="token string">"mike"</span><span class="token punctuation">;</span>
        <span class="token comment">// 映射路径</span>
        <span class="token class-name">String</span> pathValue <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span> <span class="token comment">// 如果不填默认为类的全小写</span>
        <span class="token comment">// Controller 类生成路径</span>
        <span class="token class-name">String</span> controllerPackagePath <span class="token operator">=</span> <span class="token string">"com.duojiala.mikeboot.controller"</span><span class="token punctuation">;</span>
        <span class="token comment">// Service 类生成路径</span>
        <span class="token class-name">String</span> servicePackagePath <span class="token operator">=</span> <span class="token string">"com.duojiala.mikeboot.service"</span><span class="token punctuation">;</span>
        <span class="token comment">// ServiceImpl 类生成路径</span>
        <span class="token class-name">String</span> serviceImplPackagePath <span class="token operator">=</span> <span class="token string">"com.duojiala.mikeboot.service.imp"</span><span class="token punctuation">;</span>
        <span class="token comment">// Converter 转换器类生成路径</span>
        <span class="token class-name">String</span> converterPackagePath <span class="token operator">=</span> <span class="token string">"com.duojiala.mikeboot.domain.converter.subclass"</span><span class="token punctuation">;</span>
        <span class="token comment">// Request 请求体类生成路径</span>
        <span class="token class-name">String</span> requestPackagePath <span class="token operator">=</span> <span class="token string">"com.duojiala.mikeboot.domain.req"</span><span class="token punctuation">;</span>
        <span class="token comment">// Response 响应体类生成路径</span>
        <span class="token class-name">String</span> responsePackagePath <span class="token operator">=</span> <span class="token string">"com.duojiala.mikeboot.domain.resp"</span><span class="token punctuation">;</span>
        <span class="token comment">// 是否需要分页查询</span>
        <span class="token keyword">boolean</span> needPaginate <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token comment">// 是否为普通增删操作</span>
        <span class="token keyword">boolean</span> isCrudType <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token comment">// 以那些字段进行模糊查询，多个用 "," 拼接，不设置默认为 name</span>
        <span class="token class-name">String</span> keywordSelect <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>

        <span class="token comment">//创建主逻辑生成配置Bean</span>
        <span class="token class-name">LogicBean</span> logicBean <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LogicBean</span><span class="token punctuation">(</span>clazz<span class="token punctuation">,</span> tableDes<span class="token punctuation">,</span> author<span class="token punctuation">,</span> pathValue<span class="token punctuation">,</span>
                controllerPackagePath<span class="token punctuation">,</span> servicePackagePath<span class="token punctuation">,</span> serviceImplPackagePath<span class="token punctuation">,</span>converterPackagePath<span class="token punctuation">,</span>requestPackagePath<span class="token punctuation">,</span>responsePackagePath<span class="token punctuation">,</span>keywordSelect<span class="token punctuation">,</span> needPaginate<span class="token punctuation">,</span> isCrudType<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//加入到生成队列中</span>
        <span class="token function">addGenBean</span><span class="token punctuation">(</span>logicBean<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<hr> 
<h3><a id="4__1113"></a>4. 测试效果</h3> 
<p>我只需要在 <code>MainLogicGenerator</code> 启动类中配置相应的信息，比如要生成哪张表的增删改查，就配置对应的 <code>.class</code>，设置一些作者、路径、是否生成分页的方法等等条件，运行 <code>mian</code> 方法就行了。</p> 
<p><img src="https://images2.imgbox.com/4f/f0/91Xhn9aO_o.png" alt="在这里插入图片描述"><br> 例如上面所示，我要生成 <code>post</code> 表相关的一些基本操作，而且可以看到我这里是没有 <code>Controller、Service、ServiceImpl</code> 等文件的。</p> 
<p><img src="https://images2.imgbox.com/f3/cd/DLTQ8vs7_o.png" alt="在这里插入图片描述"></p> 
<p>可以看到运行之后这些文件也都生成了。</p> 
<hr> 
<h2><a id="_1126"></a>三、项目源码</h2> 
<p>这就是我写的代码生成器，以下我也提供了项目的下载链接便于大家去玩：</p> 
<p>链接：<a href="https://pan.baidu.com/s/1pWokg6MqJNc8YzIu81p9LQ" rel="nofollow">百度网盘</a><br> 提取码：xb1k</p> 
<p>其次我还要说明一点，如果你想要连那些实体类的文件和前端也全部生成，建议你还是看看 <code>jfinal</code> 是怎么实现的。</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/07966afc3eb0e98860c9d1be94587d74/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">前端周总结</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b829ab0822e36230223d807cd56fc1b1/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">16进制字符串和ascii字符串转换</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>