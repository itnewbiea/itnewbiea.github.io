<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Linux文件管理、标准I/O重定向和管道以及Linux用户、组和权限知识总结 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Linux文件管理、标准I/O重定向和管道以及Linux用户、组和权限知识总结" />
<meta property="og:description" content="一、文件管理 1.1、Linux下的文件类型 ● - 普通文件
● d 目录文件directory
● b 块设备blocks
● c字符设备character
● |符号链接文件link
●p管道文件pipe
●s套接字文件socket
范例：
1 [root@centos7 ~]#ls -l /run/ 2 total 60 3 drwxr-xr-x. 2 root root 100 Mar 29 09:32 abrt 4 -rw-------. 1 root root 11 Mar 29 09:32 alsactl.pid 5 -rw-r--r--. 1 root root 5 Mar 29 09:32 atd.pid 6 -rw-r--r--. 1 root root 4 Mar 29 09:32 auditd.pid 7 prw-------. 1 root root 0 Mar 29 09:32 autofs." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/c6c23d0f9d53a29a9645116fdaaae8d0/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-03-29T23:08:00+08:00" />
<meta property="article:modified_time" content="2020-03-29T23:08:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Linux文件管理、标准I/O重定向和管道以及Linux用户、组和权限知识总结</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div id="cnblogs_post_body"> 
 <h2>一、文件管理</h2> 
 <h3>1.1、Linux下的文件类型</h3> 
 <p>● -  普通文件</p> 
 <p>● d 目录文件directory</p> 
 <p>● b 块设备blocks</p> 
 <p>● c字符设备character</p> 
 <p>● |符号链接文件link</p> 
 <p>●p管道文件pipe</p> 
 <p>●s套接字文件socket</p> 
 <p>范例：</p> 
 <div> 
  <pre><code class="language-has hljs"> 1 [root@centos7 ~]#ls -l /run/
 2 total 60
 3 drwxr-xr-x.  2 root           root            100 Mar 29 09:32 abrt
 4 -rw-------.  1 root           root             11 Mar 29 09:32 alsactl.pid
 5 -rw-r--r--.  1 root           root              5 Mar 29 09:32 atd.pid
 6 -rw-r--r--.  1 root           root              4 Mar 29 09:32 auditd.pid
 7 prw-------.  1 root           root              0 Mar 29 09:32 autofs.fifo-misc
 8 prw-------.  1 root           root              0 Mar 29 09:32 autofs.fifo-net
 9 drwxr-xr-x.  2 avahi          avahi            80 Mar 29 09:32 avahi-daemon
10 drwxr-xr-x.  2 root           root             40 Mar 29 09:32 console
11 -rw-r--r--.  1 root           root              5 Mar 29 09:32 crond.pid
12 ----------.  1 root           root              0 Mar 29 09:32 cron.reboot
13 drwx------.  2 root           root             40 Mar 29 09:32 cryptsetup
14 drwxr-xr-x.  3 root           lp               80 Mar 29 09:32 cups
15 drwxr-xr-x.  2 root           root             60 Mar 29 09:32 dbus
16 -rw-r--r--.  1 root           root              5 Mar 29 19:18 dhclient-ens33.pid
17 prw-------.  1 root           root              0 Mar 29 09:32 dmeventd-client
18 prw-------.  1 root           root              0 Mar 29 09:32 dmeventd-server
19 -rw-------.  1 root           root              0 Mar 29 09:32 ebtables.lock
20 drwxr-xr-x.  2 root           root             40 Mar 29 09:32 faillock
21 drwxr-x---.  2 root           root             40 Mar 29 14:20 firewalld
22 -rw-------.  1 root           root              4 Mar 29 09:32 gssproxy.pid
23 srw-rw-rw-.  1 root           root              0 Mar 29 09:32 gssproxy.sock
24 drwxr-xr-x.  4 root           root            100 Mar 29 09:32 initramfs
25 -rw-r--r--.  1 root           root              4 Mar 29 09:32 ksmtune.pid
26 drwxr-xr-x.  7 root           root            240 Mar 29 09:32 libvirt
27 -rw-r--r--.  1 root           root              4 Mar 29 09:32 libvirtd.pid
28 drwxr-xr-x.  8 root           root            220 Mar 29 10:12 lock
29 drwxr-xr-x.  3 root           root             60 Mar 29 09:32 log
30 drwxrwxr-x.  3 root           libstoragemgmt   60 Mar 29 09:32 lsm
31 drwx------.  2 root           root             80 Mar 29 09:32 lvm
32 -rw-r--r--.  1 root           root              4 Mar 29 09:32 lvmetad.pid
33 srwxr-xr-x.  1 root           root              0 Mar 29 09:32 mcelog-client
34 -rw-r--r--.  1 root           root              3 Mar 29 09:32 mcelog.pid
35 drwx--x---.  2 root           root             40 Mar 29 09:32 mdadm
36 drwxr-xr-x.  2 root           root             40 Mar 29 09:32 mount
37 drwxrwxr-x.  2 root           root             40 Mar 29 09:32 netreport
38 drwxr-xr-x.  4 root           root            140 Mar 29 14:20 NetworkManager
39 drwxr-xr-x.  2 root           root             40 Mar 29 09:32 plymouth
40 drwxr-xr-x.  2 root           root             40 Mar 29 09:32 ppp
41 drwxr-xr-x.  2 radvd          radvd            40 Mar 29 09:32 radvd
42 drwx------.  2 rpc            rpc              40 Mar 29 09:32 rpcbind
43 -r--r--r--.  1 root           root              0 Mar 29 09:32 rpcbind.lock
44 srw-rw-rw-.  1 root           root              0 Mar 29 09:32 rpcbind.sock
45 -rw-r--r--.  1 rpcuser        rpcuser           5 Mar 29 09:32 rpc.statd.pid
46 drwxr-xr-x.  2 root           root             40 Mar 29 09:32 samba
47 drwxrwxr-x.  2 root           screen           40 Mar 29 09:32 screen
48 drwxr-xr-x.  2 root           root             40 Mar 29 09:32 sepermit
49 drwxr-xr-x.  2 root           root             40 Mar 29 09:32 setrans
50 drwx--x--x.  2 setroubleshoot setroubleshoot   40 Mar 29 09:32 setroubleshoot
51 -rw-------.  1 root           root              5 Mar 29 09:32 sm-notify.pid
52 drwxr-xr-x.  2 root           root             40 Mar 29 09:32 spice-vdagentd
53 -rw-r--r--.  1 root           root              5 Mar 29 09:32 sshd.pid
54 drwx--x--x.  3 root           root             60 Mar 29 09:32 sudo
55 drwxr-xr-x.  2 root           root             60 Mar 29 09:32 sysconfig
56 -rw-------.  1 root           root              4 Mar 29 09:32 syslogd.pid
57 drwxr-xr-x. 18 root           root            440 Mar 29 09:32 systemd
58 drwxr-xr-x.  2 root           root             60 Mar 29 09:32 tmpfiles.d
59 drwxr-xr-x.  2 root           root             60 Mar 29 09:32 tuned
60 drwxr-xr-x.  7 root           root            160 Mar 29 09:35 udev
61 drwxr-xr-x.  3 root           root             60 Mar 29 09:34 user
62 -rw-rw-r--.  1 root           utmp           1920 Mar 29 16:31 utmp
63 drwxr-xr-x.  2 root           root             60 Mar 29 09:32 vmware
64 -rw-------.  1 root           root              0 Mar 29 09:32 xtables.lock</code></pre> 
 </div> 
 <p> </p> 
 <h3>1.2、文件操作命令</h3> 
 <h4>1.2.1显示当前工作目录</h4> 
 <p>Linux pwd命令用于显示工作目录。</p> 
 <p>执行pwd指令可立刻得知您目前所在的工作目录的绝对路径名称。</p> 
 <p>● -p显示真实物理路径</p> 
 <p>● -l 显示链接路径</p> 
 <p>范例：</p> 
 <div> 
  <pre><code class="language-has hljs">1 [root@centos7 ~]#pwd
2 /root
3 [root@centos7 ~]#cd /data
4 [root@centos7 data]#pwd
5 /data
6 [root@centos7 data]#</code></pre> 
 </div> 
 <p> </p> 
 <h4>1.2.2、切换目录</h4> 
 <p>Linux cd命令用于切换当前工作目录至 dirName(目录参数)。</p> 
 <p>其中 dirName 表示法可为绝对路径或相对路径。若目录名称省略，则变换至使用者的 home 目录 (也就是刚 login 时所在的目录)。</p> 
 <p>另外，”~” 也表示为 home 目录 的意思，”.” 则是表示目前所在的目录，”..” 则表示目前目录位置的上一层目录。</p> 
 <p>●切换至父目录：cd ..</p> 
 <p>●切换至当前用户主目录：cd</p> 
 <p>●切换至以前的工作目录：cd -</p> 
 <p>范例：</p> 
 <div> 
  <pre><code class="language-has hljs">1 [root@centos7 data]#cd /etc/sysconfig/
2 [root@centos7 sysconfig]#cd ..
3 [root@centos7 etc]#cd
4 [root@centos7 ~]#cd -
5 /etc
6 [root@centos7 etc]#</code></pre> 
 </div> 
 <h4>1.2.3、列出目录内容</h4> 
 <p>ls命令可以列出当前目录的内容或指定目录</p> 
 <p>● -a 包含隐藏文件</p> 
 <p>● -l 显示额外的信息</p> 
 <p>● -R 目录递归</p> 
 <p>● -ld 目录和符号链接信息</p> 
 <p>● -1 文件分行显示</p> 
 <p>● -S 按从大到小排序</p> 
 <p>● -t 按mtime排序</p> 
 <p>● -u 配合-t选项，显示并按atime从新到j旧排序</p> 
 <p>● -U 按目录存放顺序显示</p> 
 <p>● - X 按文件后缀排序</p> 
 <p> 范例：</p> 
 <div> 
  <pre><code class="language-has hljs">[root@centos7 ~]#ls -R /boot
/boot:
config-3.10.0-1062.el7.x86_64
efi
grub
grub2
initramfs-0-rescue-2fab55e6ef42422b8cfc57ccd7db581f.img
initramfs-3.10.0-1062.el7.x86_64.img
initramfs-3.10.0-1062.el7.x86_64kdump.img
symvers-3.10.0-1062.el7.x86_64.gz
System.map-3.10.0-1062.el7.x86_64
vmlinuz-0-rescue-2fab55e6ef42422b8cfc57ccd7db581f
vmlinuz-3.10.0-1062.el7.x86_64

/boot/efi:
EFI

/boot/efi/EFI:
BOOT  centos

/boot/efi/EFI/BOOT:
BOOTX64.EFI  fallback.efi  fbx64.efi

/boot/efi/EFI/centos:
BOOT.CSV     fw            fwupx64.efi  MokManager.efi  shimx64-centos.efi
BOOTX64.CSV  fwupia32.efi  mmx64.efi    shim.efi        shimx64.efi

/boot/efi/EFI/centos/fw:

/boot/grub:
splash.xpm.gz

/boot/grub2:
device.map  fonts  grub.cfg  grubenv  i386-pc  locale

/boot/grub2/fonts:
unicode.pf2

/boot/grub2/i386-pc:
acpi.mod              gdb.mod                   pata.mod
adler32.mod           geli.mod                  pbkdf2.mod
affs.mod              gettext.mod               pbkdf2_test.mod
afs.mod               gfxmenu.mod               pcidump.mod
ahci.mod              gfxterm_background.mod    pci.mod
all_video.mod         gfxterm_menu.mod          plan9.mod
aout.mod              gfxterm.mod               play.mod
archelp.mod           gptsync.mod               png.mod
ata.mod               gzio.mod                  priority_queue.mod
at_keyboard.mod       halt.mod                  probe.mod
backtrace.mod         hashsum.mod               procfs.mod
bfs.mod               hdparm.mod                progress.mod
biosdisk.mod          hello.mod                 pxechain.mod
bitmap.mod            help.mod                  pxe.mod
bitmap_scale.mod      hexdump.mod               raid5rec.mod
blocklist.mod         hfs.mod                   raid6rec.mod
blscfg.mod            hfspluscomp.mod           read.mod
boot.img              hfsplus.mod               reboot.mod
boot.mod              http.mod                  regexp.mod
bsd.mod               iorw.mod                  reiserfs.mod
btrfs.mod             iso9660.mod               relocator.mod
bufio.mod             jfs.mod                   romfs.mod
cat.mod               jpeg.mod                  scsi.mod
cbfs.mod              keylayouts.mod            search_fs_file.mod
cbls.mod              keystatus.mod             search_fs_uuid.mod
cbmemc.mod            ldm.mod                   search_label.mod
cbtable.mod           legacycfg.mod             search.mod
cbtime.mod            legacy_password_test.mod  sendkey.mod
chain.mod             linux16.mod               serial.mod
cmdline_cat_test.mod  linux.mod                 setjmp.mod
cmosdump.mod          loadenv.mod               setjmp_test.mod
cmostest.mod          loopback.mod              setpci.mod
cmp.mod               lsacpi.mod                sfs.mod
command.lst           lsapm.mod                 signature_test.mod
configfile.mod        lsmmap.mod                sleep.mod
core.img              ls.mod                    sleep_test.mod
cpio_be.mod           lspci.mod                 spkmodem.mod
cpio.mod              luks.mod                  squash4.mod
cpuid.mod             lvm.mod                   syslinuxcfg.mod
crc64.mod             lzopio.mod                tar.mod
cryptodisk.mod        macbless.mod              terminal.lst
crypto.lst            macho.mod                 terminal.mod
crypto.mod            mda_text.mod              terminfo.mod
cs5536.mod            mdraid09_be.mod           test_blockarg.mod
datehook.mod          mdraid09.mod              testload.mod
date.mod              mdraid1x.mod              test.mod
datetime.mod          memdisk.mod               testspeed.mod
diskfilter.mod        memrw.mod                 tftp.mod
disk.mod              minicmd.mod               tga.mod
div_test.mod          minix2_be.mod             time.mod
dm_nv.mod             minix2.mod                trig.mod
drivemap.mod          minix3_be.mod             tr.mod
echo.mod              minix3.mod                truecrypt.mod
efiemu.mod            minix_be.mod              true.mod
ehci.mod              minix.mod                 udf.mod
elf.mod               mmap.mod                  ufs1_be.mod
eval.mod              moddep.lst                ufs1.mod
exfat.mod             modinfo.sh                ufs2.mod
exfctest.mod          morse.mod                 uhci.mod
ext2.mod              mpi.mod                   usb_keyboard.mod
extcmd.mod            msdospart.mod             usb.mod
fat.mod               multiboot2.mod            usbms.mod
file.mod              multiboot.mod             usbserial_common.mod
font.mod              nativedisk.mod            usbserial_ftdi.mod
freedos.mod           net.mod                   usbserial_pl2303.mod
fshelp.mod            newc.mod                  usbserial_usbdebug.mod
fs.lst                nilfs2.mod                usbtest.mod
functional_test.mod   normal.mod                vbe.mod
gcry_arcfour.mod      ntfscomp.mod              verify.mod
gcry_blowfish.mod     ntfs.mod                  vga.mod
gcry_camellia.mod     ntldr.mod                 vga_text.mod
gcry_cast5.mod        odc.mod                   video_bochs.mod
gcry_crc.mod          offsetio.mod              video_cirrus.mod
gcry_des.mod          ohci.mod                  video_colors.mod
gcry_dsa.mod          part_acorn.mod            video_fb.mod
gcry_idea.mod         part_amiga.mod            videoinfo.mod
gcry_md4.mod          part_apple.mod            video.lst
gcry_md5.mod          part_bsd.mod              video.mod
gcry_rfc2268.mod      part_dfly.mod             videotest_checksum.mod
gcry_rijndael.mod     part_dvh.mod              videotest.mod
gcry_rmd160.mod       part_gpt.mod              xfs.mod
gcry_rsa.mod          partmap.lst               xnu.mod
gcry_seed.mod         part_msdos.mod            xnu_uuid.mod
gcry_serpent.mod      part_plan.mod             xnu_uuid_test.mod
gcry_sha1.mod         part_sun.mod              xzio.mod
gcry_sha256.mod       part_sunpc.mod            zfscrypt.mod
gcry_sha512.mod       parttool.lst              zfsinfo.mod
gcry_tiger.mod        parttool.mod              zfs.mod
gcry_twofish.mod      password.mod
gcry_whirlpool.mod    password_pbkdf2.mod

/boot/grub2/locale:
ast.mo    de@hebrew.mo    en@greek.mo     eo.mo  gl.mo  ja.mo  pl.mo     sv.mo  zh_CN.mo
ca.mo     de.mo           en@hebrew.mo    es.mo  hu.mo  lt.mo  pt_BR.mo  tr.mo  zh_TW.mo
da.mo     en@arabic.mo    en@piglatin.mo  fi.mo  id.mo  nl.mo  ru.mo     uk.mo
de_CH.mo  en@cyrillic.mo  en@quot.mo      fr.mo  it.mo  pa.mo  sl.mo     vi.mo</code></pre> 
 </div> 
 <h4>1.2.4、查看文件状态</h4> 
 <div>
   每个文件有三个时间戳： 
 </div> 
 <div>
   access time 访问时间，atime，读取文件内容 
 </div> 
 <div>
   modify time 修改时间，mtime，改变文件内容（数据） 
 </div> 
 <div>
   change time 改变时间，ctime，元数据发生改变 
 </div> 
 <p>范例：</p> 
 <div> 
  <pre><code class="language-has hljs">[root@centos7 ~]#stat /etc/passwd
  File: ‘/etc/passwd’
  Size: 2256          Blocks: 8          IO Block: 4096   regular file
Device: 802h/2050d    Inode: 134330564   Links: 1
Access: (0644/-rw-r--r--)  Uid: (    0/    root)   Gid: (    0/    root)
Context: system_u:object_r:passwd_file_t:s0
Access: 2020-03-29 15:50:01.109177374 +0800
Modify: 2020-03-17 10:50:55.021029137 +0800
Change: 2020-03-17 10:50:55.022029138 +0800
 Birth: -
[root@centos7 ~]#</code></pre> 
 </div> 
 <p> </p> 
 <h4>1.2.5、Linux和windows文本格式转换</h4> 
 <p>范例：</p> 
 <div> 
  <pre><code class="language-has hljs"> 1 [root@centos8 data]#dnf -y install dos2unix                         安装转换工具
 2 [root@centos8 data]#dos2unix win.txt                                将Linux的文本格式转换为Windows的文本格式
 3 dos2unix: converting file win.txt to Unix format...　　
 4 [root@centos8 data]#file win.txt
 5 win.txt: ASCII text
 6 
 7 [root@centos8 data]#unix2dos win.txt                                将Windows的文本格式转换为Linux的文本格式
 8 unix2dos: converting file win.txt to DOS format...
 9 [root@centos8 data]#file win.txt
10 win.txt: ASCII text, with CRLF line terminators</code></pre> 
 </div> 
 <p> </p> 
 <h4>1.2.6、文件通配符</h4> 
 <div>
   *         匹配零个或多个字符，但不匹配 "." 开头的文件，即隐藏文件 
 </div> 
 <div>
   ?        匹配任何单个字符 
 </div> 
 <div>
   ~        当前用户家目录 
 </div> 
 <div>
   ~        mage 用户mage家目录 
 </div> 
 <div>
   ~+和.  当前工作目录 
 </div> 
 <div>
   ~-       前一个工作目录 
 </div> 
 <div>
   [0-9]    匹配数字范围 
 </div> 
 <div>
   [a-z]    字母 
 </div> 
 <div>
   [A-Z]   字母 
 </div> 
 <div>
   [wang] 匹配列表中的任何的一个字符 
 </div> 
 <div>
   [^wang] 匹配列表中的所有字符以外的字符 
 </div> 
 <div>
   [:digit:]：任意数字，相当于0-9 
 </div> 
 <div>
   [:lower:]：任意小写字母,表示 a-z 
 </div> 
 <div>
   [:upper:]: 任意大写字母,表示 A-Z 
 </div> 
 <div>
   [:alpha:]: 任意大小写字母 
 </div> 
 <div>
   [:alnum:]：任意数字或字母 
 </div> 
 <div>
   [:blank:]：水平空白字符 
 </div> 
 <div>
   [:space:]：水平或垂直空白字符 
 </div> 
 <div>
   [:punct:]：标点符号 
 </div> 
 <div>
   [:print:]：可打印字符 
 </div> 
 <div>
   [:cntrl:]：控制（非打印）字符 
 </div> 
 <div>
   [:graph:]：图形字符 
 </div> 
 <div>
   [:xdigit:]：十六进制字符 
 </div> 
 <p>范例：</p> 
 <div> 
  <pre><code class="language-has hljs"> 1 [root@centos7 data]#touch file{a..z}.txt
 2 [root@centos7 data]#ls
 3 filea.txt  filee.txt  filei.txt  filem.txt  fileq.txt  fileu.txt  filey.txt
 4 fileb.txt  filef.txt  filej.txt  filen.txt  filer.txt  filev.txt  filez.txt
 5 filec.txt  fileg.txt  filek.txt  fileo.txt  files.txt  filew.txt
 6 filed.txt  fileh.txt  filel.txt  filep.txt  filet.txt  filex.txt
 7 [root@centos7 data]#touch file{0..9}.txt
 8 [root@centos7 data]#ls
 9 file0.txt  file5.txt  filea.txt  filef.txt  filek.txt  filep.txt  fileu.txt  filez.txt
10 file1.txt  file6.txt  fileb.txt  fileg.txt  filel.txt  fileq.txt  filev.txt
11 file2.txt  file7.txt  filec.txt  fileh.txt  filem.txt  filer.txt  filew.txt
12 file3.txt  file8.txt  filed.txt  filei.txt  filen.txt  files.txt  filex.txt
13 file4.txt  file9.txt  filee.txt  filej.txt  fileo.txt  filet.txt  filey.txt</code></pre> 
 </div> 
 <p> </p> 
 <p> </p> 
 <div> 
  <pre><code class="language-has hljs">1 [root@centos7 data]#ls file[:lower:].txt
2 filee.txt  filel.txt  fileo.txt  filer.txt  filew.txt</code></pre> 
 </div> 
 <p> </p> 
 <h4>1.2.7、复制文件和目录</h4> 
 <p>Linux cp命令主要用于复制文件或目录</p> 
 <div>
   ●  -i   如果目标已存在，覆盖前提示是否覆盖 
 </div> 
 <div>
   ●  -n  不覆盖，注意两者顺序 
 </div> 
 <div>
   ●  -r, -R 递归复制目录及内部的所有内容 
 </div> 
 <div>
   ●  -a 归档，相当于-dR --preserv=all，常用于备份功能 
 </div> 
 <div>
   ●  -d --no-dereference --preserv=links 不复制原文件，只复制链接名 
 </div> 
 <div>
   ●  --preserv[=ATTR_LIST] 
 </div> 
 <div>
   mode: 权限 
 </div> 
 <div>
   ownership: 属主属组 
 </div> 
 <div>
   timestamp: 
 </div> 
 <div>
   links 
 </div> 
 <div>
   xattr 
 </div> 
 <div>
   context 
 </div> 
 <div>
   all 
 </div> 
 <div>
   ●  -p 等同--preserv=mode,ownership,timestamp 
 </div> 
 <div>
   ●  -v --verbose 
 </div> 
 <div>
   ●  -f --force 
 </div> 
 <div>
   ●  -u --update 只复制源比目标更新文件或目标不存在的文件 
 </div> 
 <div>
   ●  -b 目标存在，覆盖前先备份，默认形式为 filename~ ,只保留最近的一个备份 
 </div> 
 <div>
     
 </div> 
 <div>
   ●  --backup=numbered 目标存在，覆盖前先备份加数字后缀，形式为 filename.~#~ ，可以保留多个版本 
 </div> 
 <p>范例：</p> 
 <div> 
  <pre><code class="language-has hljs">1 [root@centos7 data]#cp /etc/issue ./issue.bak          复制/etc/issue到当前目录下改名为issue.bak 
2 [root@centos7 data]#ll !*                              执行上一条命令的参数
3 ll /etc/issue ./issue.bak
4 -rw-r--r--. 1 root root 23 Sep  5  2019 /etc/issue
5 -rw-r--r--. 1 root root 23 Mar 29 20:46 ./issue.bak
6 [root@centos7 data]#date
7 Sun Mar 29 20:46:38 CST 2020</code></pre> 
 </div> 
 <p> </p> 
 <div> 
  <pre><code class="language-has hljs"> 1 [root@centos7 data]#cp -p /root/windows2.txt windows3.txt
 2 [root@centos7 data]#ls
 3 file0.txt  file5.txt  filea.txt  filef.txt  filek.txt  filep.txt  fileu.txt  filez.txt
 4 file1.txt  file6.txt  fileb.txt  fileg.txt  filel.txt  fileq.txt  filev.txt  issue.bak
 5 file2.txt  file7.txt  filec.txt  fileh.txt  filem.txt  filer.txt  filew.txt  windows3.txt
 6 file3.txt  file8.txt  filed.txt  filei.txt  filen.txt  files.txt  filex.txt
 7 file4.txt  file9.txt  filee.txt  filej.txt  fileo.txt  filet.txt  filey.txt
 8 [root@centos7 data]#ll /root/windows2.txt windows3.txt 
 9 -rw-r--r--. 1 root root 9 Mar 24 09:49 /root/windows2.txt
10 -rw-r--r--. 1 root root 9 Mar 24 09:49 windows3.txt</code></pre> 
 </div> 
 <p> </p> 
 <h4>1.2.8、移动和重命名文件</h4> 
 <div>
   mv 命令可以实现文件或目录的移动和改名 
 </div> 
 <div>
   同一分区移动数据,速度很快:数据位置没有变化 
 </div> 
 <div>
   不同分区移动数据,速度相对慢:数据位置发生了变化 
 </div> 
 <div>
   ●   -i 交互式 
 </div> 
 <div>
   ●   -f 强制 
 </div> 
 <div>
   ●   -b目标存在。覆盖前先备份 
 </div> 
 <div>
   范例： 
 </div> 
 <div>
   移动文件 
 </div> 
 <div> 
  <img alt="" src="https://images2.imgbox.com/11/82/N8R5zdQe_o.png"> 
  <p>移动文件夹</p> 
  <p><img alt="" src="https://images2.imgbox.com/fa/cc/2zhQBSrG_o.png"></p> 
  <p> </p> 
  <p>rename可以批量修改文件名</p> 
  <div> 
   <pre><code class="language-has hljs">1 [root@centos7 data]#touch file{1..10}conf
2 [root@centos7 data]#ls
3 file10conf  file2conf  file4conf  file6conf  file8conf
4 file1conf   file3conf  file5conf  file7conf  file9conf
5 [root@centos7 data]#rename conf conf.bak *
6 [root@centos7 data]#ls
7 file10conf.bak  file2conf.bak  file4conf.bak  file6conf.bak  file8conf.bak
8 file1conf.bak   file3conf.bak  file5conf.bak  file7conf.bak  file9conf.bak
9 [root@centos7 data]#</code></pre> 
  </div> 
  <p> </p> 
  <h4> 1.2.9、硬链接和软连接的区别</h4> 
  <div>
    1. 本质： 
  </div> 
  <div>
    硬链接：本质是同一个文件 
  </div> 
  <div>
    软链接：本质不是同一个文件 
  </div> 
  <div>
    2. 跨设备 
  </div> 
  <div>
    硬链接：不支持 
  </div> 
  <div>
    软链接：支持 
  </div> 
  <div>
    3. inode 
  </div> 
  <div>
    硬链接：相同 
  </div> 
  <div>
    软链接：不同 
  </div> 
  <div>
    4. 链接数 
  </div> 
  <div>
    硬链接：创建新的硬链接,链接数会增加,删除硬链接,链接数减少 
  </div> 
  <div>
    软链接：创建或删除,链接数不会变化 
  </div> 
  <div>
    5. 文件夹 
  </div> 
  <div>
    硬链接：不支持 
  </div> 
  <div>
    软链接：支持 
  </div> 
  <div>
    6. 相对路径 
  </div> 
  <div>
    硬链接：原始文件相对路径是相对于当前工作目录 
  </div> 
  <div>
    软链接：原始文件的相对路径是相对于链接文件的相对路径 
  </div> 
  <div>
    7. 删除源文件 
  </div> 
  <div>
    硬链接：只是链接数减一,但链接文件的访问不受影响 
  </div> 
  <div>
    软链接：链接文件将无法访问 
  </div> 
  <div>
    8. 文件类型 
  </div> 
  <div>
    硬链接：和源文件相同 
  </div> 
  <div>
    软链接：链接文件,和源文件无关 
  </div> 
  <p>创建硬链接（不允许跨分区创建，不允许创建文件夹的硬链接）</p> 
  <p><img alt="" src="https://images2.imgbox.com/91/e2/T1PIXN2c_o.png"></p> 
  <p>创建软链接</p> 
  <p><img alt="" src="https://images2.imgbox.com/48/70/dVArEmZX_o.png"></p> 
  <p> </p> 
  <h2> 二、标准I/O重定向和管道</h2> 
  <h3> 2.1、标准输入和输出</h3> 
  <p>Linux给程序提供三种I/O设备</p> 
  <p>标准输入   -0   默认接受来自终端窗口的输入</p> 
  <p>标准输出   -1   默认输出到终端窗口</p> 
  <p>标准错误   -2   默认输出到终端窗口</p> 
  <div> 
   <pre><code class="language-has hljs"> 1 root@centos7 ~]#ll /dev/std*
 2 lrwxrwxrwx. 1 root root 15 Mar 29 09:32 /dev/stderr -&gt; /proc/self/fd/2
 3 lrwxrwxrwx. 1 root root 15 Mar 29 09:32 /dev/stdin -&gt; /proc/self/fd/0
 4 lrwxrwxrwx. 1 root root 15 Mar 29 09:32 /dev/stdout -&gt; /proc/self/fd/1
 5 [root@centos7 ~]#ll /proc/self/fd/*
 6 ls: cannot access /proc/self/fd/255: No such file or directory
 7 ls: cannot access /proc/self/fd/3: No such file or directory
 8 lrwx------. 1 root root 64 Mar 29 21:43 /proc/self/fd/0 -&gt; /dev/pts/1
 9 lrwx------. 1 root root 64 Mar 29 21:43 /proc/self/fd/1 -&gt; /dev/pts/1
10 lrwx------. 1 root root 64 Mar 29 21:43 /proc/self/fd/2 -&gt; /dev/pts/1</code></pre> 
  </div> 
  <p> </p> 
  <h3> 2.2、I/O重定向</h3> 
  <h4>2.2.1、标准输出和错误重定向</h4> 
  <p> 支持的操作符号包括：</p> 
  <p>1&gt; 或 &gt;  把标准输出重定向到文件</p> 
  <p>2&gt;          把标准错误重定向到文件</p> 
  <p>&amp;            把所有输出重定向到文件</p> 
  <p>以上如果文件已存在，文件内容会被覆盖</p> 
  <p>set  -c  禁止将内容覆盖已有文件，但可追加，利用&gt;|仍可强制覆盖</p> 
  <p>set +c  允许覆盖，默认</p> 
  <p><strong>标准输出范例：</strong></p> 
  <p>hostname 1&gt; /dev/pts/1  在当前pts0终端输入该命令，输出到pts1终端</p> 
  <p><img alt="" src="https://images2.imgbox.com/ae/49/W3RKBr9t_o.png"></p> 
  <p>将uname  -r 的标准输出结果重定向到/data/stdout.log文件下，当前data下没有stdout.log文件执行命令会创建文件。（如果再执行一次会覆盖当前文件）</p> 
 </div> 
 <p> <img alt="" src="https://images2.imgbox.com/b7/d9/V7K7QItD_o.png"></p> 
 <p>两个&gt;不会覆盖原文件内容只会追加</p> 
 <p><img alt="" src="https://images2.imgbox.com/63/61/5OXejxpZ_o.png"></p> 
 <p>（）将多个命令的执行结果重定向到/data/f1.log文件</p> 
 <p><img alt="" src="https://images2.imgbox.com/4c/f9/5Zlzn1i5_o.png"></p> 
 <p><strong>标准错误范例：</strong></p> 
 <p>将执行xxx的错误输出命令放到/data/f1.log下</p> 
 <p> <img alt="" src="https://images2.imgbox.com/94/3d/XEYs0am2_o.png"></p> 
 <p>删除/data/f1.log将提示信息重定向到/data/all.log文件</p> 
 <p><img alt="" src="https://images2.imgbox.com/80/68/25xWAqvr_o.png"></p> 
 <p>加上&amp;符号将执行命令的正确和错误信息都存到 /data/all.log中</p> 
 <p> <img alt="" src="https://images2.imgbox.com/ed/ca/8gGcVv8w_o.png"></p> 
 <p> </p> 
 <p> </p> 
 <p> 清除大文件</p> 
 <p><img alt="" src="https://images2.imgbox.com/ac/33/wvmrAj1J_o.png"></p> 
 <p> </p> 
 <p> </p> 
 <h4> 2.2.2、标准输入重定向</h4> 
 <p>利用&lt;可以将标准输入重定向</p> 
 <p>范例：</p> 
 <p>将1-100相加的算式重定向到bc.log文件中，将bc.log重定向输入到bc计算机程序中</p> 
 <p><img alt="" src="https://images2.imgbox.com/10/f2/QPP6LCKi_o.png"></p> 
 <p> </p> 
 <p> </p> 
 <p> 多行重定向</p> 
 <p>范例：</p> 
 <div> 
  <pre><code class="language-has hljs">1 [root@centos7 data]#cat &gt; /data/cat1.log &lt;&lt;EOF
2 &gt; 1
3 &gt; 1
4 &gt; EOF
5 [root@centos7 data]#cat cat1.log 
6 1
7 1</code></pre> 
 </div> 
 <p> </p> 
 <h3>2.3、管道</h3> 
 <p> 管道用来连接多个命令</p> 
 <p>将命令1的标准输出发送给命令2的标准输入，命令2的标准输出发送到命令3的标准输入</p> 
 <p>所有命令会在当前shell进程的子shell进程中执行</p> 
 <p>范例：</p> 
 <p>管道符左边的命令输出的结果，传给右边输入执行</p> 
 <p><img alt="" src="https://images2.imgbox.com/bc/9c/e85mjk2k_o.png"></p> 
 <p> </p> 
 <h2>三、用户、组和权限</h2> 
 <p> </p> 
 <p> 用户管理命令</p> 
 <p>useradd</p> 
 <p>usermod</p> 
 <p>userdel</p> 
 <p>组账户维护命令</p> 
 <p>groupadd</p> 
 <p>groupmod</p> 
 <p>groupdel</p> 
 <h3>3.1、用户创建</h3> 
 <ul><li>-c&lt;备注&gt; 　加上备注文字。备注文字会保存在passwd的备注栏位中。</li><li>-d&lt;登入目录&gt; 　指定用户登入时的启始目录。</li><li>-D 　变更预设值．</li><li>-e&lt;有效期限&gt; 　指定帐号的有效期限。</li><li>-f&lt;缓冲天数&gt; 　指定在密码过期后多少天即关闭该帐号。</li><li>-g&lt;群组&gt; 　指定用户所属的群组。</li><li>-G&lt;群组&gt; 　指定用户所属的附加群组。</li><li>-m 　自动建立用户的登入目录。</li><li>-M 　不要自动建立用户的登入目录。</li><li>-n 　取消建立以用户名称为名的群组．</li><li>-r 　建立系统帐号。</li><li>-s&lt;shell&gt;　 　指定用户登入后所使用的shell。</li><li>-u&lt;uid&gt; 　指定用户ID。</li></ul> 
 <p> 添加一般用户</p> 
 <div> 
  <pre><code class="language-has hljs"># useradd tt</code></pre> 
 </div> 
 <p>为添加的用户指定相应的用户组</p> 
 <div> 
  <pre><code class="language-has hljs"># useradd -g root tt</code></pre> 
 </div> 
 <p>创建一个系统用户</p> 
 <div> 
  <pre><code class="language-has hljs"># useradd -r tt</code></pre> 
 </div> 
 <p>为新添加的用户指定home目录</p> 
 <div> 
  <pre><code class="language-has hljs"># useradd -d /home/myd tt</code></pre> 
 </div> 
 <p>建立用户且制定ID</p> 
 <div> 
  <pre><code class="language-has hljs"># useradd gjz -u 544</code></pre> 
 </div> 
 <p> </p> 
 <p>典型范例：</p> 
 <p> <img alt="" src="https://images2.imgbox.com/6f/26/axA7xo9u_o.png"></p> 
 <p> </p> 
 <p> </p> 
 <p> 生成随机口令</p> 
 <div> 
  <pre><code class="language-has hljs">1 [root@centos7 ~]#openssl rand -base64 9
2 3upzvCXUYaUD
3 [root@centos7 ~]#</code></pre> 
 </div> 
 <p> </p> 
 <p>用户属性修改</p> 
 <p>Linux usermod命令用于修改用户帐号。</p> 
 <p>usermod可用来修改用户帐号的各项设定。</p> 
 <ul><li>-c&lt;备注&gt; 　修改用户帐号的备注文字。</li><li>-d登入目录&gt; 　修改用户登入时的目录。</li><li>-e&lt;有效期限&gt; 　修改帐号的有效期限。</li><li>-f&lt;缓冲天数&gt; 　修改在密码过期后多少天即关闭该帐号。</li><li>-g&lt;群组&gt; 　修改用户所属的群组。</li><li>-G&lt;群组&gt; 　修改用户所属的附加群组。</li><li>-l&lt;帐号名称&gt; 　修改用户帐号名称。</li><li>-L 　锁定用户密码，使密码无效。</li><li>-s&lt;shell&gt; 　修改用户登入后所使用的shell。</li><li>-u&lt;uid&gt; 　修改用户ID。</li><li>-U 　解除密码锁定。</li></ul> 
 <p> 更改登录目录</p> 
 <div> 
  <pre><code class="language-has hljs"># usermod -d /home/hnlinux root</code></pre> 
 </div> 
 <p> </p> 
 <p>改变用户的uid</p> 
 <div> 
  <pre><code class="language-has hljs"># usermod -u 777 root</code></pre> 
 </div> 
 <p> </p> 
 <h3>3.2、创建组</h3> 
 <p>groupadd用于创建一个新的工作组</p> 
 <pre class="has"><code>-g：指定新建工作组的id；
-r：创建系统工作组，系统工作组的组ID小于500；
-K：覆盖配置文件“/ect/login.defs”；
-o：允许添加组ID号不唯一的工作组。</code></pre> 
 <p>建立一个新组，并设置组ID加入系统：</p> 
 <pre class="has"><code>groupadd -g 344 jsdigname</code></pre> 
 <p>修改组</p> 
 <p>Linux groupmod命令用于更改群组识别码或名称。</p> 
 <p>需要更改群组的识别码或名称时，可用groupmod指令来完成这项工作。</p> 
 <ul><li>-g &lt;群组识别码&gt; 　设置欲使用的群组识别码。</li><li>-o 　重复使用群组识别码。</li><li>-n &lt;新群组名称&gt; 　设置欲使用的群组名称。</li></ul> 
 <h3>3.3、文件权限</h3> 
 <p>查看gjz用户所属组</p> 
 <p><img alt="" src="https://images2.imgbox.com/de/77/J1KdaoTC_o.png"></p> 
 <p> </p> 
 <p> </p> 
 <p> 更改文件f1.txt文件所有者root变为wang</p> 
 <p> </p> 
 <p><img alt="" src="https://images2.imgbox.com/5e/e4/izltao6H_o.png"></p> 
 <p> </p> 
 <p> </p> 
 <p> 更改f1.txt文件的所属组</p> 
 <p><img alt="" src="https://images2.imgbox.com/e3/9a/PKuFf8e9_o.png"></p> 
 <p> </p> 
 <p> </p> 
 <p> 同时更改f1.txt文件的所有者和所属组（所有者和所属组中间可用.或者：）</p> 
 <p> </p> 
 <p><img alt="" src="https://images2.imgbox.com/fc/d4/mkpf6dfY_o.png"></p> 
 <p> </p> 
 <p> </p> 
 <p> <img alt="" src="https://images2.imgbox.com/11/1c/6b7sWfq7_o.png"></p> 
 <p> </p> 
 <p> </p> 
 <p> 参考f1文件属性更f2文件</p> 
 <p> </p> 
 <p><img alt="" src="https://images2.imgbox.com/80/5b/vcNGx8FL_o.png"></p> 
 <p> </p> 
 <p> </p> 
 <p> chown  -R递归更改，将dir1文件夹中的文件夹文件所属者改为mage，所属组改为g1（较危险）</p> 
 <p> </p> 
 <p><img alt="" src="https://images2.imgbox.com/da/15/H5SA7ezC_o.png"></p> 
 <p> </p> 
 <p> </p> 
 <p> 文件开头9个字符中前3个为文件所属者权限，中间3个为所属组权限，最后3个为other其他用户</p> 
 <p> </p> 
 <p><img alt="" src="https://images2.imgbox.com/c3/70/G1UAB3Tg_o.png"></p> 
 <p>修改文件权限chmod命令</p> 
 <p><img alt="" src="https://images2.imgbox.com/34/69/6T7WH1S0_o.png"></p> 
 <p> </p> 
 <p> </p> 
 <p> 数字修改权限法</p> 
 <p><img alt="" src="https://images2.imgbox.com/f8/6e/KFx1RIVh_o.png"></p> 
 <p> </p> 
 <p> </p> 
 <h4> 3.3.1、umask新建文件和目录的默认权限</h4> 
 <p><img alt="" src="https://images2.imgbox.com/aa/bf/hsqBBLOW_o.png"></p> 
 <p> </p> 
 <p> 指定umask值为754，默认创建文件夹权限为777-754=023，默认创建文件权限为666-754=022，6-7=-1（结果为奇数+1），6-5=1（结果为奇数+1），6-4=2，结果偶数不变</p> 
 <p> </p> 
 <p><img alt="" src="https://images2.imgbox.com/d3/56/Xup5s457_o.png"></p> 
 <p> </p> 
 <p> 临时更改umask值创建文件</p> 
 <p><img alt="" src="https://images2.imgbox.com/a3/9e/sKdmA1li_o.png"></p> 
 <p> </p> 
 <h3> 3.4、对root账户设置权限约束防止误操作</h3> 
 <p>chattr  +i 防止root账户权限过大文件误删除   （不能删除，改名，更改）</p> 
 <p> <img alt="" src="https://images2.imgbox.com/e0/d6/4aXefFY0_o.png"></p> 
 <p>chattr  -i取消限制   lsattr   查看</p> 
 <p><img alt="" src="https://images2.imgbox.com/86/5c/YHWrDlD1_o.png"></p> 
 <p>chattr  -a 可以追加内容不能删除改名</p> 
 <h3>3.5ACL访问控制列表</h3> 
 <p><strong>setfacl命令</strong> 是用来在命令行里设置ACL（访问控制列表）。在命令行里，一系列的命令跟随以一系列的文件名</p> 
 <pre class="has"><code>-b,--remove-all：删除所有扩展的acl规则，基本的acl规则(所有者，群组，其他）将被保留。
-k,--remove-default：删除缺省的acl规则。如果没有缺省规则，将不提示。
-n，--no-mask：不要重新计算有效权限。setfacl默认会重新计算ACL mask，除非mask被明确的制定。
--mask：重新计算有效权限，即使ACL mask被明确指定。
-d，--default：设定默认的acl规则。
--restore=file：从文件恢复备份的acl规则（这些文件可由getfacl -R产生）。通过这种机制可以恢复整个目录树的acl规则。此参数不能和除--test以外的任何参数一同执行。
--test：测试模式，不会改变任何文件的acl规则，操作后的acl规格将被列出。
-R，--recursive：递归的对所有文件及目录进行操作。
-L，--logical：跟踪符号链接，默认情况下只跟踪符号链接文件，跳过符号链接目录。
-P，--physical：跳过所有符号链接，包括符号链接文件。
--version：输出setfacl的版本号并退出。
--help：输出帮助信息。
--：标识命令行参数结束，其后的所有参数都将被认为是文件名
-：如果文件名是-，则setfacl将从标准输入读取文件名。</code></pre> 
 <p>setfacl设置acl，getfacl查看acl</p> 
 <p> <img alt="" src="https://images2.imgbox.com/4e/14/ytSTysC5_o.png"></p> 
 <p>删除acl</p> 
 <p> <img alt="" src="https://images2.imgbox.com/3a/38/aikbTJKJ_o.png"></p> 
 <p>清空所有acl</p> 
 <p><img alt="" src="https://images2.imgbox.com/55/04/BW0S1rBX_o.png"></p> 
 <p>递归设置权限</p> 
 <p><img alt="" src="https://images2.imgbox.com/0e/21/7diwJ9Ve_o.png"></p> 
 <p> </p> 
</div>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/d4bc59d3402611da860a11f095015cc6/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Elasticsearch Painless获取当前时间</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/5ab701208f2b404330a646381282d155/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【数学建模_1：家政服务（1）】(lingo求解)</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>