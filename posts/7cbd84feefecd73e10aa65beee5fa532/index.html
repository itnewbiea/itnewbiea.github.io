<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>python字符串搜索与匹配 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="python字符串搜索与匹配" />
<meta property="og:description" content="本文和大家分享的主要是python中字符串搜索与匹配相关内容，一起来看看吧，希望对大家学习python 有所帮助。
字符串是python中常见的一种对象，使用的方法也很简单，只需要用引号引起来就可以看做是一个字符串。
字符串的搜索和匹配在编程中很容易见到，这里我就简单的总结一下：
1. 字符串自带方法匹配开头和结尾str.startswith(string)和str.endswith(string)或切片
在start和end后面都有个s，这个很容易拼写错误。这两个函数返回值是布尔值，也就是True或False，用来判断字符串是否是以某某开头或结尾
&gt;&gt;&gt; filenames = &#39;files.txt&#39;
&gt;&gt;&gt; filenames.startswith(&#39;file&#39;)
True
&gt;&gt;&gt; filenames.endswith(&#39;.txt&#39;)
True
&gt;&gt;&gt; filenames.endswith(&#39;.exe&#39;)
False
这两个方法还可以传入一个元组类型的参数
&gt;&gt;&gt; filenames.endswith((&#39;.txt&#39;,&#39;.exe&#39;,&#39;.bat&#39;))
True
当然上述方法，用切片也很容易做到
&gt;&gt;&gt; filenames[:4] == &#39;file&#39;
True
&gt;&gt;&gt; filenames[-4:] == &#39;.txt&#39;
True
&gt;&gt;&gt; filenames[-4:] == &#39;.txt&#39; or filenames[-3:] == &#39;exe&#39;
True
2. 使用shell通配符匹配字符串
shell通配符
* 匹配所有
? 匹配单个字符[seq] 匹配任意在seq中的字符[!seq] 匹配任意不在seq中的字符
需要使用到fnmatch模块，该模块提供三个方法来匹配字符串，fnmatch、fnmatchcase、filter
&gt;&gt;&gt; fnmatch(&#39;file.txt&#39;,&#39;*.txt&#39;)
True
&gt;&gt;&gt; fnmatch(&#39;file.txt&#39;,&#39;?ile.txt&#39;)
True
&gt;&gt;&gt; fnmatch(&#39;file0.txt&#39;,&#39;file[0-9]*&#39;)
True
&gt;&gt;&gt; [name for name in names if fnmatch(name,&#39;file*." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/7cbd84feefecd73e10aa65beee5fa532/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2017-09-19T23:31:13+08:00" />
<meta property="article:modified_time" content="2017-09-19T23:31:13+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">python字符串搜索与匹配</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div class="content mt10" style="margin-top:10px; font-size:14px; line-height:28px; word-wrap:break-word; font-family:'Helvetica Neue',Helvetica,Arial,'Hiragino Sans GB','Microsoft Yahei',sans-serif"> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> 本文和大家分享的主要是python中字符串搜索与匹配相关内容，一起来看看吧，希望对大家<a target="_blank" href="http://www.maiziedu.com/land/python/" rel="nofollow noopener noreferrer" style="color:rgb(13,178,255); text-decoration:none">学习python</a> 有所帮助。</p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> 　　字符串是python中常见的一种对象，使用的方法也很简单，只需要用引号引起来就可以看做是一个字符串。</p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> 　　字符串的搜索和匹配在编程中很容易见到，这里我就简单的总结一下：</p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> 　　1. 字符串自带方法匹配开头和结尾str.startswith(string)和str.endswith(string)或切片</p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> 　　在start和end后面都有个s，这个很容易拼写错误。这两个函数返回值是布尔值，也就是True或False，用来判断字符串是否是以某某开头或结尾</p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> &gt;&gt;&gt; filenames = 'files.txt'</p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> &gt;&gt;&gt; filenames.startswith('file')</p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> True</p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> &gt;&gt;&gt; filenames.endswith('.txt')</p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> True</p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> &gt;&gt;&gt; filenames.endswith('.exe')</p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> 　　False</p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> 　　这两个方法还可以传入一个元组类型的参数</p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> 　　&gt;&gt;&gt; filenames.endswith(('.txt','.exe','.bat'))</p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> 　　True</p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> 　　当然上述方法，用切片也很容易做到</p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> &gt;&gt;&gt; filenames[:4] == 'file'</p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> <strong>True</strong></p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> &gt;&gt;&gt; filenames[-4:] == '.txt'</p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> <strong>True</strong></p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> &gt;&gt;&gt; filenames[-4:] == '.txt' <strong>or</strong> filenames[-3:] == 'exe'</p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> <strong>True</strong></p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> 　　2. 使用shell通配符匹配字符串</p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> 　　shell通配符</p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> 　　* 匹配所有</p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> 　　? 匹配单个字符[seq] 匹配任意在<strong>seq</strong>中的字符[!seq] 匹配任意不在<strong>seq</strong>中的字符</p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> 　　需要使用到fnmatch模块，该模块提供三个方法来匹配字符串，fnmatch、fnmatchcase、filter</p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> &gt;&gt;&gt; fnmatch('file.txt','*.txt')</p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> <strong>True</strong></p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> &gt;&gt;&gt; fnmatch('file.txt','?ile.txt')</p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> <strong>True</strong></p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> &gt;&gt;&gt; fnmatch('file0.txt','file[0-9]*')</p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> <strong>True</strong></p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> &gt;&gt;&gt; [name <strong>for</strong> name <strong>in</strong> names <strong>if</strong> fnmatch(name,'file*.txt')]</p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> ['file1.txt', 'file2.txt']</p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> &gt;&gt;&gt; filter(names,'file*.txt')</p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> 　　['file1.txt', 'file2.txt']</p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> 　　fnmatch和fnmatchcase的区别就在于，fnmatch使用操作系统底层的大小写敏感原则，也就是说像windows系统，对大小写不明感的系统，匹配'txt'和'TXT'会得到同样的效果。而fnmatchcase则是对大小写敏感的。</p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> 　　filter方法和[n for n in names if fnmatch(n, pattern)]一样的效果，在编写程序的时候，使用filter可能更简洁，更有效。</p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> 　　3. 匹配或搜索指定文本</p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> 　　·如果你想匹配的是字面字符串，直接用find函数即可</p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> 　　find函数会返回找到的第一个字符串的索引，如果没有找到会返回-1</p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> &gt;&gt;&gt; findstr = 'welcom python'</p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> &gt;&gt;&gt; findstr.find('py')</p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> 7</p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> &gt;&gt;&gt; findstr.find('to')</p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> -1</p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> &gt;&gt;&gt; findstr.rfind('o')</p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> 11</p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> 　　find函数可以从指定区间进行查找，也可以从字符串尾部进行查找rfind。</p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> 　　·如果想匹配更复杂的字符串，就需要用到正则表达式了。</p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> 　　需要使用到re模块</p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> &gt;&gt;&gt; <strong>import</strong> re&gt;&gt;&gt; date = '25/8/2017'</p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> &gt;&gt;&gt; m = re.match(r'\d+/\d+/\d+',date)</p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> &gt;&gt;&gt; <strong>if</strong> m:</p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> ...    print(m.group())</p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> ...</p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> 25/8/2017</p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> 　　re.match只能从字符串的第一个字符进行查找，如果失败就返回None。</p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> 　　如果需要从任意位置去匹配，则需要用到findall或者search</p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> &gt;&gt;&gt; today = 'today is 25/8/2017 and yesterday is 24/8/2017'</p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> &gt;&gt;&gt; datepat = re.compile(r'\d+/\d+/\d+')</p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> &gt;&gt;&gt; datepat.findall(today)</p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> 　　['25/8/2017', '24/8/2017']</p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> 　　这里用到了re.compile()，其实下面这两种情况是等同的：</p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> 　　# 使用compileprog = re.compile(pattern)result = prog.match(string)# 直接使用matchresult = re.match(pattern, string)</p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> 　　使用search的话只会匹配第一个查找的内容：</p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> &gt;&gt;&gt; m = re.search(r'\d+/\d+/\d+',today)</p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> &gt;&gt;&gt; <strong>if</strong> m :m.group()</p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> '25/8/2017'</p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> 　　还有一个finditer则返回一个迭代器：</p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> &gt;&gt;&gt; <strong>for</strong> m <strong>in</strong> re.finditer(r'\d+/\d+/\d+',today):</p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> ...    print(m.group())</p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> ...</p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> 25/8/2017</p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> 24/8/2017</p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> 　　如果需要做大量的匹配或操作的话，最好使用re.compile()编译正则表达式，然后进行匹配或搜索。</p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> 　　当然正则表达式还有很多其他的用法和特性，这里暂时就不叙述了。</p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px">  </p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px">  </p> 
 <p style="margin-top:16px; margin-bottom:16px; padding-top:0px; padding-bottom:0px"> 来源：简书</p> 
 <div> 
  <br> 
 </div> 
</div>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/b8d24d93c6fe92cc0a41354ae7f529a5/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">从 iOS Basecamp 3 探索混合应用开发的最佳实践</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/197ea85c97dfbcc549f1837f310910a7/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">[特斯拉组件]iOS 高性能 PageController</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>