<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>VScode使用Remote SSH进行远程开发，跳转缓慢文件解决 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="VScode使用Remote SSH进行远程开发，跳转缓慢文件解决" />
<meta property="og:description" content="引言 众所周知，一些特定的编程语言可能需要Linux环境的支持，比如在golang代码中引用C语言，就需要使用到cgo，而这个环境配置需要Linux作为支撑。如果本机使用的是Windows环境，想要在Linux环境中进行代码编译、调试、部署，还有如下几种方式：
1. 搭建Windows &#43; Linux双系统。Windows进行文档处理等办公操作，Linux进行开发、编译、调试等工作。缺点是，系统切换比较慢，有些沟通工具支持不好，比如在开发环境下，如果团队使用微信进行沟通，就可能导致信息延迟、沟通不畅等问题，从而影响开发效率。 2. 在虚拟机上安装Ubuntu或者Centos等Linux桌面系统。缺点是，虚拟机比较笨重，再在此基础上构建体量更加大的Linux系统，一方面对软硬件环境配置要求比较高，另一方面像一些数据库、接口调试等可视化工具使用不方面。 3. 使用VMware &#43; VScode &#43; Remote SSH远程开发工具 &#43; Ubuntu Server无桌面版。虽然这种方式也使用了虚拟机 &#43; Linux，但是相对使用桌面版系统，会节省不少空间。 使用Remote SSH构建远程开发环境 在VMware上安装完Ubuntu Server版后，进入VScode左侧扩展局域栏的Extension扩展市场，搜索Remote - SSH，然后进行Install安装。然后，使用ssh-keygen命令生成密钥对，用public key生成authorized_keys，再进入密钥所在目录cd ~/.ssh，使用scp命令将本地Windows生成的公钥上传到Ubuntu系统，通过如下命令生成authorized keys。
# 本地Windows系统生成公钥、私钥 ssh-keygen cd C:\Users\xxx\.ssh\ # 使用scp命令将公钥上传远程Ubuntu的~/.ssh目录下 scp .\id_rsa.pub xxx@192.168.xx.xxx:~/.ssh/ # 使用公钥生成authorized keys cat id_rsa.pub &gt;&gt; authorized_keys 然后，选择Remote SSH配置文件，一般选择C:\Users\xxx.ssh\config，配置如下字段信息
Host name-of-ssh-host-here User your-user-name-on-host HostName host-fqdn-or-ip-goes-here Port port-of-host IdentityFile C:\Users\xxx\.ssh\id_rsa # 私钥所在路径 配置完上面的Remote SSH后，打开VScode使用Remote SSH，选择远程Ubuntu上的项目文件，即可以进行远程代码开发。
使用VScode通过Remote SSH进行远程开发时，本地开启VScode，连接上remote ssh服务器后，会在远程服务器上生产VScode服务器版本（在~/.vscode-server目录下，该目录下有VScode的二进制文件，用户及remote ssh配置文件settings.json，还有相关扩展extensions）。
无法跳转问题 如果vscode无法跳转，可能与ssh版本有关系，首先可以通过如下命令检查git版本" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/81275894c51f1c0bf1cd6ea38204bd48/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-06-06T10:28:10+08:00" />
<meta property="article:modified_time" content="2022-06-06T10:28:10+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">VScode使用Remote SSH进行远程开发，跳转缓慢文件解决</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="_0"></a>引言</h2> 
<p>众所周知，一些特定的编程语言可能需要Linux环境的支持，比如在golang代码中引用C语言，就需要使用到cgo，而这个环境配置需要Linux作为支撑。如果本机使用的是Windows环境，想要在Linux环境中进行代码编译、调试、部署，还有如下几种方式：</p> 
<pre><code>1. 搭建Windows + Linux双系统。Windows进行文档处理等办公操作，Linux进行开发、编译、调试等工作。缺点是，系统切换比较慢，有些沟通工具支持不好，比如在开发环境下，如果团队使用微信进行沟通，就可能导致信息延迟、沟通不畅等问题，从而影响开发效率。
2. 在虚拟机上安装Ubuntu或者Centos等Linux桌面系统。缺点是，虚拟机比较笨重，再在此基础上构建体量更加大的Linux系统，一方面对软硬件环境配置要求比较高，另一方面像一些数据库、接口调试等可视化工具使用不方面。
3. 使用VMware + VScode + Remote SSH远程开发工具 + Ubuntu Server无桌面版。虽然这种方式也使用了虚拟机 + Linux，但是相对使用桌面版系统，会节省不少空间。
</code></pre> 
<h2><a id="Remote_SSH_7"></a>使用Remote SSH构建远程开发环境</h2> 
<p>在VMware上安装完Ubuntu Server版后，进入VScode左侧扩展局域栏的Extension扩展市场，搜索Remote - SSH，然后进行Install安装。然后，使用ssh-keygen命令生成密钥对，用public key生成authorized_keys，再进入密钥所在目录<code>cd ~/.ssh</code>，使用scp命令将本地Windows生成的公钥上传到Ubuntu系统，通过如下命令生成authorized keys。</p> 
<pre><code class="prism language-shell"><span class="token comment"># 本地Windows系统生成公钥、私钥</span>
ssh-keygen
<span class="token builtin class-name">cd</span> C:<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>xxx<span class="token punctuation">\</span>.ssh<span class="token punctuation">\</span>
<span class="token comment"># 使用scp命令将公钥上传远程Ubuntu的~/.ssh目录下</span>
<span class="token function">scp</span> .<span class="token punctuation">\</span>id_rsa.pub xxx@192.168.xx.xxx:~/.ssh/
<span class="token comment"># 使用公钥生成authorized keys</span>
<span class="token function">cat</span> id_rsa.pub <span class="token operator">&gt;&gt;</span> authorized_keys
</code></pre> 
<p>然后，选择Remote SSH配置文件，一般选择C:\Users\xxx.ssh\config，配置如下字段信息</p> 
<pre><code>Host name-of-ssh-host-here
    User your-user-name-on-host
    HostName host-fqdn-or-ip-goes-here
    Port port-of-host
	IdentityFile C:\Users\xxx\.ssh\id_rsa  # 私钥所在路径
</code></pre> 
<p>配置完上面的Remote SSH后，打开VScode使用Remote SSH，选择远程Ubuntu上的项目文件，即可以进行远程代码开发。<br> 使用VScode通过Remote SSH进行远程开发时，本地开启VScode，连接上remote ssh服务器后，会在远程服务器上生产VScode服务器版本（在~/.vscode-server目录下，该目录下有VScode的二进制文件，用户及remote ssh配置文件settings.json，还有相关扩展extensions）。</p> 
<h2><a id="_29"></a>无法跳转问题</h2> 
<p>如果vscode无法跳转，可能与ssh版本有关系，首先可以通过如下命令检查git版本</p> 
<pre><code class="prism language-bash"><span class="token function">ssh</span> -V
OpenSSH_for_Windows_8.1p1, LibreSSL <span class="token number">3.0</span>.2
</code></pre> 
<p>windows系统下，系统自带的某些git版本可能与vscode兼容不太好，可以将下面红框中的<code>Remote.SSH: Path</code>换成自己安装的ssh版本。<br> 同时，如果<code>Remote.SSH: Path</code>配置不正确，也会导致vscode无法正常跳转。<br> <img src="https://images2.imgbox.com/68/f6/iUuF6G0v_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_39"></a>跳转缓慢问题</h2> 
<p><code>Ctrl + Shift + P</code>进行golang扩展组件的Update Install后，配置完Remote SSH开发环境，打开Ubuntu系统上的golang项目后，使用VScode查看代码，使用<code>Ctrl + 鼠标左键</code>进入代码时跳转很慢，查阅资料说，把语言服务器和delay延迟参数设置取消掉，发现仍然解决不了问题，最后折腾半天，在VScode插件市场重新卸载Remote SSH和golang插件，重新安装后，还是跳转缓慢，然后重置之前取消的语言服务器不勾选，即在settings.json中配置<code>"go.useLanguageServer": true,</code>参数为true，开启语言服务器后，跳转正常了，其完成配置如下：</p> 
<pre><code class="prism language-json"><span class="token punctuation">{<!-- --></span>
    <span class="token string-property property">"remote.SSH.remotePlatform"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token string-property property">"xxx.xxx.xx.xxx"</span><span class="token operator">:</span> <span class="token string">"linux"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"Ubuntu"</span><span class="token operator">:</span> <span class="token string">"linux"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"VM-Ubuntu"</span><span class="token operator">:</span> <span class="token string">"linux"</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string-property property">"remote.SSH.showLoginTerminal"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token string-property property">"editor.fontSize"</span><span class="token operator">:</span> <span class="token number">19</span><span class="token punctuation">,</span>
    <span class="token string-property property">"extensions.ignoreRecommendations"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token string-property property">"go.formatTool"</span><span class="token operator">:</span> <span class="token string">"goimports"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"editor.hover.delay"</span><span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span>
    <span class="token comment">// The default for files.watcherExclude excludes node_modules and some folders under .git, but you can add other directories that you don't want VS Code to track.</span>
    <span class="token string-property property">"files.watcherExclude"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token string-property property">"**/.git/objects/**"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token string-property property">"**/.git/subtree-cache/**"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token string-property property">"**/node_modules/*/**"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token string-property property">"**/.hg/store/**"</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string-property property">"go.goroot"</span><span class="token operator">:</span> <span class="token string">"/usr/local/go"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"go.gopath"</span><span class="token operator">:</span> <span class="token string">"/home/xxx/ws/go"</span><span class="token punctuation">,</span>
    <span class="token comment">//第三方库代码提示</span>
    <span class="token string-property property">"go.inferGopath"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token comment">//自动完成未导入的包</span>
    <span class="token string-property property">"go.autocompleteUnimportedPackages"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token string-property property">"go.gocodePackageLookupMode"</span><span class="token operator">:</span> <span class="token string">"go"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"go.gotoSymbol.includeImports"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token string-property property">"go.useCodeSnippetsOnFunctionSuggest"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token string-property property">"go.useCodeSnippetsOnFunctionSuggestWithoutType"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> 
    <span class="token string-property property">"[go]"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> 
        <span class="token string-property property">"editor.formatOnSave"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> 
        <span class="token string-property property">"editor.codeActionsOnSave"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> 
            <span class="token string-property property">"source.organizeImports"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> 
        <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token comment">// Optional: Disable snippets, as they conflict with completion ranking.    "editor.snippetSuggestions": "none", </span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string-property property">"[go.mod]"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> 
        <span class="token string-property property">"editor.formatOnSave"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> 
        <span class="token string-property property">"editor.codeActionsOnSave"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> 
            <span class="token string-property property">"source.organizeImports"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> 
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string-property property">"go.trace.server"</span><span class="token operator">:</span> <span class="token string">"verbose"</span><span class="token punctuation">,</span> 
    <span class="token string-property property">"gopls"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> 
        <span class="token comment">// Add parameter placeholders when completing a function. </span>
       <span class="token string-property property">"usePlaceholders"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> 
       <span class="token comment">// If true, enable additional analyses with staticcheck. </span>
       <span class="token comment">// Warning: This will significantly increase memory usage.   "staticcheck": false, </span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string-property property">"go.useLanguageServer"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token string-property property">"go.languageServerFlags"</span><span class="token operator">:</span> <span class="token punctuation">[</span> 
        <span class="token string">"-remote=auto"</span><span class="token punctuation">,</span> <span class="token string">"-logfile=auto"</span><span class="token punctuation">,</span> <span class="token string">"-debug=:0"</span><span class="token punctuation">,</span> <span class="token string">"-rpc.trace"</span><span class="token punctuation">,</span> 
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string-property property">"go.languageServerExperimentalFeatures"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string-property property">"tabnine.experimentalAutoImports"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>PS：使用remote ssh进行远程开发，一定要打开语言服务器选项，要不然代码跳转会非常慢。</p> 
<h2><a id="_98"></a>参考</h2> 
<p><a href="https://www.qikqiak.com/post/use-vscode-remote-dev-debug/" rel="nofollow">真香！使用 VSCode 进行远程开发与调试</a><br> <a href="https://segmentfault.com/a/1190000039374388" rel="nofollow">vscode远程开发配置remote ssh</a><br> <a href="https://blog.csdn.net/weixin_40607008/article/details/98471293">Win10环境下配置VScode远程开发ssh-remote(免密登录)</a><br> <a href="https://blog.csdn.net/weixin_39549852/article/details/110937138">配置ssh免密登录_配置vscode 远程开发+ 免密登录</a><br> <a href="https://blog.csdn.net/K346K346/article/details/105822846">goland远程开发</a><br> <a href="http://www.seaxiang.com/blog/eQ3MJr" rel="nofollow">vscode 的 golang 提示很慢</a><br> <a href="http://www.seaxiang.com/blog/eQ3MJr" rel="nofollow">vscode gopls 跳转太慢解决方法</a><br> <a href="https://cloud.tencent.com/developer/article/1726411" rel="nofollow">解决VScode配置远程调试Linux程序的问题</a></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/d74188c2df5e1c36f72b2f322a4e317e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">requests结果显示“请开启JavaScript并刷新该页”，selenium不用cookie解决</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/cf3de27e6d322fa9fdb1674709b0af1f/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">linux下安装 erlang</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>