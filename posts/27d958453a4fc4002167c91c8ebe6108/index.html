<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>区块链——配置和使用geth - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="区块链——配置和使用geth" />
<meta property="og:description" content="一测试是否安装成功 win&#43;r打开cmd，输出geth help 出现类似以下场景代表安装成功 二创建创世文件genesis.json genesis.json是创世区块配置文件，在安装目录下新建一个txt文件，把内容复制进去后保存，最后改名为genesis.json
提供两个文件的内容，选其一即可。
{ &#34;config&#34;: { &#34;chainId&#34;: 10, &#34;homesteadBlock&#34;: 0, &#34;eip155Block&#34;: 0, &#34;eip158Block&#34;: 0 }, &#34;alloc&#34; : {}, &#34;coinbase&#34; : &#34;0x0000000000000000000000000000000000000000&#34;, &#34;difficulty&#34; : &#34;0x00000002&#34;, &#34;extraData&#34; : &#34;&#34;, &#34;gasLimit&#34; : &#34;0x2fefd8&#34;, &#34;nonce&#34; : &#34;0x0000000000000042&#34;, &#34;mixhash&#34; : &#34;0x0000000000000000000000000000000000000000000000000000000000000000&#34;, &#34;parentHash&#34; : &#34;0x0000000000000000000000000000000000000000000000000000000000000000&#34;, &#34;timestamp&#34; : &#34;0x00&#34; } { &#34;difficulty&#34; : &#34;0x20000&#34;, &#34;extraData&#34; : &#34;&#34;, &#34;gasLimit&#34; : &#34;0x8000000&#34;, &#34;alloc&#34;: {}, &#34;config&#34;: { &#34;chainId&#34;: 15, &#34;homesteadBlock&#34;: 0, &#34;eip155Block&#34;: 0, &#34;eip158Block&#34;: 0 } } { “config”: { “chainId”: 123, “homesteadBlock”: 0, “eip150Block”: 0, “eip155Block”: 0, “eip158Block”: 0, “byzantiumBlock”: 0, “constantinopleBlock”: 0, “petersburgBlock”: 0, “istanbulBlock”: 0 }, “alloc”: {}, “coinbase”: “0x0000000000000000000000000000000000000000”, “difficulty”: “0x2000”, “extraData”: “”, “gasLimit”: “0x2fefd8”, “nonce”: “0x0000000000000042”, “mixhash”: “0x0000000000000000000000000000000000000000000000000000000000000000”, “parentHash”: “0x0000000000000000000000000000000000000000000000000000000000000000”, “timestamp”: “0x00” } 三配置文件，初始化 1." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/27d958453a4fc4002167c91c8ebe6108/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-01-16T16:19:31+08:00" />
<meta property="article:modified_time" content="2021-01-16T16:19:31+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">区块链——配置和使用geth</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night-eighties">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="_0"></a>一测试是否安装成功</h3> 
<pre><code class="prism language-bash">win+r打开cmd，输出geth <span class="token function">help</span>
出现类似以下场景代表安装成功
</code></pre> 
<p><img src="https://images2.imgbox.com/4c/e9/kB3QUHjI_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="genesisjson_7"></a>二创建创世文件genesis.json</h3> 
<p>genesis.json是创世区块配置文件，在安装目录下新建一个txt文件，把内容复制进去后保存，最后改名为genesis.json<br> 提供两个文件的内容，选其一即可。</p> 
<pre><code class="prism language-bash"> <span class="token punctuation">{<!-- --></span>
      <span class="token string">"config"</span><span class="token keyword">:</span> <span class="token punctuation">{<!-- --></span>
            <span class="token string">"chainId"</span><span class="token keyword">:</span> 10,
            <span class="token string">"homesteadBlock"</span><span class="token keyword">:</span> 0,
            <span class="token string">"eip155Block"</span><span class="token keyword">:</span> 0,
            <span class="token string">"eip158Block"</span><span class="token keyword">:</span> 0
        <span class="token punctuation">}</span>,
      <span class="token string">"alloc"</span>      <span class="token keyword">:</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>,
      <span class="token string">"coinbase"</span>   <span class="token keyword">:</span> <span class="token string">"0x0000000000000000000000000000000000000000"</span>,
      <span class="token string">"difficulty"</span> <span class="token keyword">:</span> <span class="token string">"0x00000002"</span>,
      <span class="token string">"extraData"</span>  <span class="token keyword">:</span> <span class="token string">""</span>,
      <span class="token string">"gasLimit"</span>   <span class="token keyword">:</span> <span class="token string">"0x2fefd8"</span>,
      <span class="token string">"nonce"</span>      <span class="token keyword">:</span> <span class="token string">"0x0000000000000042"</span>,
      <span class="token string">"mixhash"</span>    <span class="token keyword">:</span> <span class="token string">"0x0000000000000000000000000000000000000000000000000000000000000000"</span>,
      <span class="token string">"parentHash"</span> <span class="token keyword">:</span> <span class="token string">"0x0000000000000000000000000000000000000000000000000000000000000000"</span>,
      <span class="token string">"timestamp"</span>  <span class="token keyword">:</span> <span class="token string">"0x00"</span>
    <span class="token punctuation">}</span>
</code></pre> 
<pre><code class="prism language-bash"><span class="token punctuation">{<!-- --></span>

  <span class="token string">"difficulty"</span> <span class="token keyword">:</span> <span class="token string">"0x20000"</span>,

  <span class="token string">"extraData"</span>  <span class="token keyword">:</span> <span class="token string">""</span>,

  <span class="token string">"gasLimit"</span>   <span class="token keyword">:</span> <span class="token string">"0x8000000"</span>,

  <span class="token string">"alloc"</span><span class="token keyword">:</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>,

  <span class="token string">"config"</span><span class="token keyword">:</span> <span class="token punctuation">{<!-- --></span>

        <span class="token string">"chainId"</span><span class="token keyword">:</span> 15,

        <span class="token string">"homesteadBlock"</span><span class="token keyword">:</span> 0,

        <span class="token string">"eip155Block"</span><span class="token keyword">:</span> 0,

        <span class="token string">"eip158Block"</span><span class="token keyword">:</span> 0

    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre> 
<pre><code class="prism language-bash"><span class="token punctuation">{<!-- --></span>
“config”: <span class="token punctuation">{<!-- --></span>
“chainId”: 123,
“homesteadBlock”: 0,
“eip150Block”: 0,
“eip155Block”: 0,
“eip158Block”: 0,
“byzantiumBlock”: 0,
“constantinopleBlock”: 0,
“petersburgBlock”: 0,
“istanbulBlock”: 0
<span class="token punctuation">}</span>,
“alloc”: <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>,
“coinbase”: “0x0000000000000000000000000000000000000000”,
“difficulty”: “0x2000”,
“extraData”: “”,
“gasLimit”: “0x2fefd8”,
“nonce”: “0x0000000000000042”,
“mixhash”: “0x0000000000000000000000000000000000000000000000000000000000000000”,
“parentHash”: “0x0000000000000000000000000000000000000000000000000000000000000000”,
“timestamp”: “0x00”
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/ac/7f/lAZbNkIA_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_82"></a>三配置文件，初始化</h3> 
<pre><code class="prism language-bash">1.打开cmd
2.进入geth的安装路径，如下图我放在D盘的Geth文件中
3.输入geth --datadir data init genesis.json
</code></pre> 
<p><img src="https://images2.imgbox.com/7d/23/JoiQQwAH_o.png" alt="在这里插入图片描述"><br> 成功则会在安装路径下出现data文件夹用于存放数据。<br> <img src="https://images2.imgbox.com/0d/a2/xQz7XVFB_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_92"></a>启动节点连接私有测试网络</h3> 
<pre><code class="prism language-bash">geth --datadir data --networkid 123 --nodiscover console
--networkid 123参数表示区块链网络ID标识，--nodiscover参数表示节点私有，console参数表示进入geth控制台。
连接测试网进入控制台，此时我们已经进入geth测试网的交互式控制台，窗口也显示「Welcome to the Geth JavaScript console」成功提示！
</code></pre> 
<p>查询账户列表</p> 
<pre><code class="prism language-bash">输入指令：eth.accounts     输出结果：<span class="token punctuation">[</span><span class="token punctuation">]</span>
代表账户未创建
</code></pre> 
<p><img src="https://images2.imgbox.com/bf/f6/1tMpKCAB_o.png" alt="在这里插入图片描述"></p> 
<p>新建账户</p> 
<pre><code class="prism language-bash">输入指令：personal.newAccount<span class="token punctuation">(</span><span class="token string">"123"</span><span class="token punctuation">)</span>
账户新建成功，返回账户地址，123为账户密码。
</code></pre> 
<p><img src="https://images2.imgbox.com/43/08/SUO6tEzI_o.png" alt="在这里插入图片描述"></p> 
<p>查询账户余额</p> 
<pre><code class="prism language-bash">输入指令：eth.getBalance<span class="token punctuation">(</span>eth.accounts<span class="token punctuation">[</span>0<span class="token punctuation">]</span><span class="token punctuation">)</span>  数组形式保存账号，所以0代表第一个账户，输出0
这个账户的余额是0，因为还没有开始挖矿。
</code></pre> 
<p><img src="https://images2.imgbox.com/cb/6c/JbCvG1PW_o.png" alt="在这里插入图片描述"></p> 
<p>启动或停止挖矿</p> 
<pre><code class="prism language-bash">miner.start<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>admin.sleepBlocks<span class="token punctuation">(</span>1<span class="token punctuation">)</span><span class="token punctuation">;</span>miner.stop<span class="token punctuation">(</span><span class="token punctuation">)</span>  
启动挖矿程序，当挖到1个区块时停止挖矿，挖矿所得默认进入第一个账户里。成功挖出1个后我们的节点就是矿工节点
</code></pre> 
<p><img src="https://images2.imgbox.com/08/89/MJwHLPlw_o.png" alt="在这里插入图片描述"><br> 需要注意的一点是开启挖矿后，如果难度过低，挖矿会很快，信息会刷屏，需要你盲打miner.stop()才会停止。<br> <img src="https://images2.imgbox.com/68/63/TWE24ZTz_o.png" alt="在这里插入图片描述"></p> 
<p>参考：https://www.cnblogs.com/lvdongjie/p/11207021.html</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/43cf3c95be9d17fda578db993da0d9eb/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">shell脚本合集、练习题(附答案)</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a67eb328310cd33ca68ec74a19bf4828/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">银河麒麟系统怎么进入root_银河麒麟桌面操作系统忘记密码了如何找回？</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>