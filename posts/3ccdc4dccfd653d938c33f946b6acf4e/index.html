<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>五、elasticsearch查询操作 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="五、elasticsearch查询操作" />
<meta property="og:description" content="目录
数据准备
1、查询指定字段包含指定内容的文档
2、指定输出的文档字段查询（“_source”）
3、排序查询（默认根据指定字段升序asc排序）（“sort”）
4、分页查询
5、布尔查询（多条件查询）
6、数据过滤(“filter”)
7、精确查询（term）
8、两个类型text和keyword
9、高亮查询（“highlight”）
10、自定义高亮标签
elasticsearch查询操作大致可分为以下几种（这些操作MySQL也可以做，但是在大数据量的情况下有可能会出现效率较慢的情况）而elasticsearch可以说是解决这种问题的灵丹妙药，为查询而生，特别是大数据量的模糊查询
匹配查询 match
按照条件查询 (must、must_not、should)
精确查询 (term)
区间范围查询（filer -&gt;range）
匹配字段查询
多条件查询（布尔查询）
高亮查询 (highlight)
数据准备 使用kibana执行操作，将数据保存在elasticsearch中
PUT /book/_doc/1 { &#34;name&#34;:&#34;数据结构&#34;, &#34;desc&#34;:&#34;基础学习数据结构与算法&#34;, &#34;price&#34;:15 } PUT /book/_doc/2 { &#34;name&#34;:&#34;Java&#34;, &#34;desc&#34;:&#34;这是一本java基础学习&#34;, &#34;price&#34;:40 } PUT /book/_doc/3 { &#34;name&#34;:&#34;Linux&#34;, &#34;desc&#34;:&#34;服务器命令操作&#34;, &#34;price&#34;:35 } PUT /book/_doc/4 { &#34;name&#34;:&#34;c语言&#34;, &#34;desc&#34;:&#34;入门教程&#34;, &#34;price&#34;:20 } 查看索引详细信息，es帮着我们自动推断并设置了字段类型
在使用kabina时，输入关键字kibina会有提示，点击enter即可帮助我们自动补全API命令，但是注意如果输入了”_doc”则没有了提示
1、查询指定字段包含指定内容的文档 查询文档中name包含数据的文档记录
第一种方式GET book/_doc/_search?q=name：数据 第二种方式 GET book/_doc/_search { &#34;query&#34;: { &#34;match&#34;:{ &#34;name&#34;: &#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/3ccdc4dccfd653d938c33f946b6acf4e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-06-19T15:46:44+08:00" />
<meta property="article:modified_time" content="2023-06-19T15:46:44+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">五、elasticsearch查询操作</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p style="margin-left:.0001pt;text-align:justify;">      </p> 
<p id="main-toc"><strong>目录</strong></p> 
<p id="%E6%95%B0%E6%8D%AE%E5%87%86%E5%A4%87-toc" style="margin-left:0px;"><a href="#%E6%95%B0%E6%8D%AE%E5%87%86%E5%A4%87" rel="nofollow">数据准备</a></p> 
<p id="1%E3%80%81%E6%9F%A5%E8%AF%A2%E6%8C%87%E5%AE%9A%E5%AD%97%E6%AE%B5%E5%8C%85%E5%90%AB%E6%8C%87%E5%AE%9A%E5%86%85%E5%AE%B9%E7%9A%84%E6%96%87%E6%A1%A3-toc" style="margin-left:0px;"><a href="#1%E3%80%81%E6%9F%A5%E8%AF%A2%E6%8C%87%E5%AE%9A%E5%AD%97%E6%AE%B5%E5%8C%85%E5%90%AB%E6%8C%87%E5%AE%9A%E5%86%85%E5%AE%B9%E7%9A%84%E6%96%87%E6%A1%A3" rel="nofollow">1、查询指定字段包含指定内容的文档</a></p> 
<p id="2%E3%80%81%E6%8C%87%E5%AE%9A%E8%BE%93%E5%87%BA%E7%9A%84%E6%96%87%E6%A1%A3%E5%AD%97%E6%AE%B5%E6%9F%A5%E8%AF%A2%EF%BC%88%E2%80%9C_source%E2%80%9D%EF%BC%89-toc" style="margin-left:0px;"><a href="#2%E3%80%81%E6%8C%87%E5%AE%9A%E8%BE%93%E5%87%BA%E7%9A%84%E6%96%87%E6%A1%A3%E5%AD%97%E6%AE%B5%E6%9F%A5%E8%AF%A2%EF%BC%88%E2%80%9C_source%E2%80%9D%EF%BC%89" rel="nofollow">2、指定输出的文档字段查询（“_source”）</a></p> 
<p id="3%E3%80%81%E6%8E%92%E5%BA%8F%E6%9F%A5%E8%AF%A2%EF%BC%88%E9%BB%98%E8%AE%A4%E6%A0%B9%E6%8D%AE%E6%8C%87%E5%AE%9A%E5%AD%97%E6%AE%B5%E5%8D%87%E5%BA%8Fasc%E6%8E%92%E5%BA%8F%EF%BC%89%EF%BC%88%E2%80%9Csort%E2%80%9D%EF%BC%89-toc" style="margin-left:0px;"><a href="#3%E3%80%81%E6%8E%92%E5%BA%8F%E6%9F%A5%E8%AF%A2%EF%BC%88%E9%BB%98%E8%AE%A4%E6%A0%B9%E6%8D%AE%E6%8C%87%E5%AE%9A%E5%AD%97%E6%AE%B5%E5%8D%87%E5%BA%8Fasc%E6%8E%92%E5%BA%8F%EF%BC%89%EF%BC%88%E2%80%9Csort%E2%80%9D%EF%BC%89" rel="nofollow">3、排序查询（默认根据指定字段升序asc排序）（“sort”）</a></p> 
<p id="%C2%A04%E3%80%81%E5%88%86%E9%A1%B5%E6%9F%A5%E8%AF%A2-toc" style="margin-left:0px;"><a href="#%C2%A04%E3%80%81%E5%88%86%E9%A1%B5%E6%9F%A5%E8%AF%A2" rel="nofollow">4、分页查询</a></p> 
<p id="5%E3%80%81%E5%B8%83%E5%B0%94%E6%9F%A5%E8%AF%A2%EF%BC%88%E5%A4%9A%E6%9D%A1%E4%BB%B6%E6%9F%A5%E8%AF%A2%EF%BC%89-toc" style="margin-left:0px;"><a href="#5%E3%80%81%E5%B8%83%E5%B0%94%E6%9F%A5%E8%AF%A2%EF%BC%88%E5%A4%9A%E6%9D%A1%E4%BB%B6%E6%9F%A5%E8%AF%A2%EF%BC%89" rel="nofollow">5、布尔查询（多条件查询）</a></p> 
<p id="6%E3%80%81%E6%95%B0%E6%8D%AE%E8%BF%87%E6%BB%A4(%E2%80%9Cfilter%E2%80%9D)-toc" style="margin-left:0px;"><a href="#6%E3%80%81%E6%95%B0%E6%8D%AE%E8%BF%87%E6%BB%A4%28%E2%80%9Cfilter%E2%80%9D%29" rel="nofollow">6、数据过滤(“filter”)</a></p> 
<p id="7%E3%80%81%E7%B2%BE%E7%A1%AE%E6%9F%A5%E8%AF%A2%EF%BC%88term%EF%BC%89-toc" style="margin-left:0px;"><a href="#7%E3%80%81%E7%B2%BE%E7%A1%AE%E6%9F%A5%E8%AF%A2%EF%BC%88term%EF%BC%89" rel="nofollow">7、精确查询（term）</a></p> 
<p id="8%E3%80%81%E4%B8%A4%E4%B8%AA%E7%B1%BB%E5%9E%8Btext%E5%92%8Ckeyword-toc" style="margin-left:0px;"><a href="#8%E3%80%81%E4%B8%A4%E4%B8%AA%E7%B1%BB%E5%9E%8Btext%E5%92%8Ckeyword" rel="nofollow">8、两个类型text和keyword</a></p> 
<p id="9%E3%80%81%E9%AB%98%E4%BA%AE%E6%9F%A5%E8%AF%A2%EF%BC%88%E2%80%9Chighlight%E2%80%9D%EF%BC%89-toc" style="margin-left:0px;"><a href="#9%E3%80%81%E9%AB%98%E4%BA%AE%E6%9F%A5%E8%AF%A2%EF%BC%88%E2%80%9Chighlight%E2%80%9D%EF%BC%89" rel="nofollow">9、高亮查询（“highlight”）</a></p> 
<p id="10%E3%80%81%E8%87%AA%E5%AE%9A%E4%B9%89%E9%AB%98%E4%BA%AE%E6%A0%87%E7%AD%BE-toc" style="margin-left:0px;"><a href="#10%E3%80%81%E8%87%AA%E5%AE%9A%E4%B9%89%E9%AB%98%E4%BA%AE%E6%A0%87%E7%AD%BE" rel="nofollow">10、自定义高亮标签</a></p> 
<hr id="hr-toc"> 
<p></p> 
<p style="margin-left:.0001pt;text-align:justify;">        elasticsearch查询操作大致可分为以下几种（这些操作MySQL也可以做，但是在大数据量的情况下有可能会出现效率较慢的情况）而elasticsearch可以说是解决这种问题的灵丹妙药，<span style="color:#ff0000;">为查询而生，特别是大数据量的模糊查询</span></p> 
<p style="margin-left:.0001pt;text-align:justify;">匹配查询  match</p> 
<p style="margin-left:.0001pt;text-align:justify;">按照条件查询 (must、must_not、should)</p> 
<p style="margin-left:.0001pt;text-align:justify;">精确查询 (term)</p> 
<p style="margin-left:.0001pt;text-align:justify;">区间范围查询（filer -&gt;range）</p> 
<p style="margin-left:.0001pt;text-align:justify;">匹配字段查询</p> 
<p style="margin-left:.0001pt;text-align:justify;">多条件查询（布尔查询）</p> 
<p style="margin-left:.0001pt;text-align:justify;">高亮查询 (highlight)</p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<h2 id="%E6%95%B0%E6%8D%AE%E5%87%86%E5%A4%87" style="margin-left:.0001pt;text-align:justify;">数据准备</h2> 
<p style="margin-left:.0001pt;text-align:justify;">使用kibana执行操作，将数据保存在elasticsearch中</p> 
<pre><code class="hljs">PUT /book/_doc/1
{
  "name":"数据结构",
  "desc":"基础学习数据结构与算法",
  "price":15
}
PUT /book/_doc/2
{
  "name":"Java",
  "desc":"这是一本java基础学习",
  "price":40
}
PUT /book/_doc/3
{
  "name":"Linux",
  "desc":"服务器命令操作",
  "price":35
}
PUT /book/_doc/4
{
  "name":"c语言",
  "desc":"入门教程",
"price":20
}</code></pre> 
<p style="margin-left:.0001pt;text-align:justify;">查看索引详细信息，es帮着我们自动推断并设置了字段类型</p> 
<p style="margin-left:.0001pt;text-align:center;"><img alt="" src="https://images2.imgbox.com/6d/d0/zbZeUiCa_o.png"></p> 
<p style="text-align:center;"> <img alt="" src="https://images2.imgbox.com/6e/7f/c7fnmAEy_o.png"></p> 
<p style="margin-left:.0001pt;text-align:justify;">        在使用kabina时，输入关键字kibina会有提示，点击enter即可帮助我们自动补全API命令，但是注意如果输入了”_doc”则没有了提示</p> 
<h2 id="1%E3%80%81%E6%9F%A5%E8%AF%A2%E6%8C%87%E5%AE%9A%E5%AD%97%E6%AE%B5%E5%8C%85%E5%90%AB%E6%8C%87%E5%AE%9A%E5%86%85%E5%AE%B9%E7%9A%84%E6%96%87%E6%A1%A3" style="text-align:justify;">1、查询指定字段包含指定内容的文档</h2> 
<p style="margin-left:.0001pt;text-align:justify;">查询文档中name包含数据的文档记录</p> 
<pre><code class="hljs">第一种方式GET  book/_doc/_search?q=name：数据

第二种方式
GET  book/_doc/_search
{
  "query": {
    "match":{
        "name": "数据"
    }
  }
}</code></pre> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/78/dc/W9LVcJWq_o.png"></p> 
<h2 id="2%E3%80%81%E6%8C%87%E5%AE%9A%E8%BE%93%E5%87%BA%E7%9A%84%E6%96%87%E6%A1%A3%E5%AD%97%E6%AE%B5%E6%9F%A5%E8%AF%A2%EF%BC%88%E2%80%9C_source%E2%80%9D%EF%BC%89" style="text-align:justify;">2、指定输出的文档字段查询（“<span style="color:#ff0000;">_source</span>”）</h2> 
<p style="margin-left:.0001pt;text-align:justify;">查询文档中name包含数据的文档记录，并只要查出文档记录的name和desc</p> 
<pre><code class="hljs">GET  book/_doc/_search
{
  "query": {
    "match":{
        "name": "数据"
    }
  },
  "_source":["name","desc"]
}</code></pre> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/0c/34/JsQt88Vl_o.png"></p> 
<h2 id="3%E3%80%81%E6%8E%92%E5%BA%8F%E6%9F%A5%E8%AF%A2%EF%BC%88%E9%BB%98%E8%AE%A4%E6%A0%B9%E6%8D%AE%E6%8C%87%E5%AE%9A%E5%AD%97%E6%AE%B5%E5%8D%87%E5%BA%8Fasc%E6%8E%92%E5%BA%8F%EF%BC%89%EF%BC%88%E2%80%9Csort%E2%80%9D%EF%BC%89" style="text-align:justify;">3、排序查询（默认根据指定字段升序asc排序）（“<span style="color:#ff0000;">sort</span>”）</h2> 
<p style="margin-left:.0001pt;text-align:justify;">查询desc包含学习的文档并根据价格排序</p> 
<pre><code class="hljs">GET  book/_doc/_search
{
  "query": {
    "match":{
        "desc": "学习"
    }
  },
  "sort": [
    {
      "price": {
        "order":"desc"
      }
    }
  ]
}</code></pre> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/a3/10/aWz3BPRA_o.png"></p> 
<h2 id="%C2%A04%E3%80%81%E5%88%86%E9%A1%B5%E6%9F%A5%E8%AF%A2"> 4、分页查询</h2> 
<p style="margin-left:.0001pt;text-align:justify;">查询desc包含学习的文档，只要第一页的第一条</p> 
<pre><code class="hljs">GET  book/_doc/_search
{
  "query": {
    "match":{
        "desc": "学习"
    }
  },
  "sort": [
    {
      "price": {
        "order":"desc"
      }
    }
  ],
  "from": 0,
  "size":1
}</code></pre> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/1f/a9/CXhaJh5l_o.png"></p> 
<p> 数据下标还是从0开始的</p> 
<h2 id="5%E3%80%81%E5%B8%83%E5%B0%94%E6%9F%A5%E8%AF%A2%EF%BC%88%E5%A4%9A%E6%9D%A1%E4%BB%B6%E6%9F%A5%E8%AF%A2%EF%BC%89" style="text-align:justify;">5、布尔查询（多条件查询）</h2> 
<p style="margin-left:.0001pt;text-align:justify;">查询文档中desc包含学习且name包含数据的记录</p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#ff0000;">must(and),所有条件都要match到才可以查询出来</span></p> 
<pre><code class="hljs">GET  book/_doc/_search
{
  "query": {
    "bool":{
        "must": [
          {
             "match": {
               "desc": "学习"
              }
          },
           {
             "match": {
               "name": "数据"
              }
          }
      ]
    }
  }
}</code></pre> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/d8/71/Gp0R7bdl_o.png"></p> 
<p> 相当于select * from book where desc=”学习” <span style="color:#ff0000;">and</span> name=”数据”；</p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#ff0000;">should(or),只要match到其中一个条件即可查询出来</span></p> 
<pre><code class="hljs">GET  book/_doc/_search
{
  "query": {
    "bool":{
        "should": [
          {
             "match": {
               "desc": "学习"
              }
          },
           {
             "match": {
               "name": "数据"
              }
          }
      ]
    }
  }
}</code></pre> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/a7/8f/zYnJTBvb_o.png"></p> 
<p> <span style="color:#ff0000;">must_not(or),只要match到其中一个条件，文档记录都不会查询出来</span></p> 
<pre><code class="hljs">GET  book/_doc/_search
{
  "query": {
    "bool":{
        "must_not": [
          {
             "match": {
               "desc": "学习"
              }
          },
           {
             "match": {
               "name": "数据"
              }
          }
      ]
    }
  }
}</code></pre> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/21/7a/cwwdaXYT_o.png"></p> 
<p> </p> 
<h2 id="6%E3%80%81%E6%95%B0%E6%8D%AE%E8%BF%87%E6%BB%A4(%E2%80%9Cfilter%E2%80%9D)" style="text-align:justify;">6、数据过滤(“filter”)</h2> 
<p style="margin-left:.0001pt;text-align:justify;">查询出desc不包含学习，name不包含数据的，价格大于等于18且小于30（[18,30)）的文档记录</p> 
<pre><code class="hljs">GET  book/_doc/_search
{
  "query": {
    "bool":{
        "must_not": [
          {
             "match": {
               "desc": "学习"
              }
          },
          {
            "match": {
              "name": "数据"
              }
          }
      ],
      "filter": {
        "range": {
          "price":{
            "gte": 18,
             "lt": 30
          }
        }
      }
    }
  }
}</code></pre> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/78/a2/Wzdq3Idx_o.png"></p> 
<table border="1" cellpadding="1" cellspacing="1" style="width:500px;"><tbody><tr><td>gte(greater than equal)</td><td>大于等于</td></tr><tr><td>gt(greater than )</td><td>大于</td></tr><tr><td>lte(less than equal)</td><td>小于等于  </td></tr><tr><td> lt(less than )</td><td>小于</td></tr></tbody></table> 
<h2 id="7%E3%80%81%E7%B2%BE%E7%A1%AE%E6%9F%A5%E8%AF%A2%EF%BC%88term%EF%BC%89" style="text-align:justify;">7、精确查询（term）</h2> 
<p style="margin-left:.0001pt;text-align:justify;">term查询是直接根据倒排索引指定的词条进行<span style="color:#ff0000;">精确查询</span>的</p> 
<p style="margin-left:.0001pt;text-align:justify;">match会使用分词器解析，先分析文档，然后再通过分析的文档进行<span style="color:#ff0000;">模糊查询</span></p> 
<p style="margin-left:.0001pt;text-align:justify;">效率：term&gt;match</p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffff00;"><span style="color:#ff0000;">term不会对查询条件进行分词</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffff00;"><span style="color:#ff0000;">keyword不会对存储的数据进行分词</span></span></p> 
<pre><code class="hljs">GET book/_doc/_search
{
  "query": {
    "bool": {
      "should": [
        {
          "term": {
            "price": {
              "value": 20
            }
          }
        },
        {
           "term": {
            "price": {
              "value": 15
            }
          }
        }
      ]
    }
  }
}</code></pre> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/f2/47/2zIT22ke_o.png"></p> 
<h2 id="8%E3%80%81%E4%B8%A4%E4%B8%AA%E7%B1%BB%E5%9E%8Btext%E5%92%8Ckeyword" style="text-align:justify;">8、两个类型text和keyword</h2> 
<p style="margin-left:.0001pt;text-align:justify;">text：内容会被分词器解析</p> 
<p style="margin-left:.0001pt;text-align:justify;">keyword： 内容不会被分词器解析，<span style="color:#ff0000;">整体作为一个关键词</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:justify;">使用keyword作为analyzer，执行结果</p> 
<p style="margin-left:.0001pt;text-align:center;"><img alt="" src="https://images2.imgbox.com/60/e6/gXMk20Gt_o.png"></p> 
<p> </p> 
<p style="margin-left:.0001pt;text-align:justify;">text内容整体作为一个关键词解析出来，不会被分词器拆开</p> 
<p style="margin-left:.0001pt;text-align:justify;">使用standard作为analyzer</p> 
<p style="margin-left:.0001pt;text-align:center;"><img alt="" src="https://images2.imgbox.com/21/b8/A7eGMxI5_o.png"></p> 
<p> 则会使用分词器将每个文字作为一个词解析出来</p> 
<p style="margin-left:.0001pt;text-align:justify;">创建索引测试两个类型的区别</p> 
<pre><code class="hljs">PUT testdb
{
  "mappings": {
    "properties": {
      "name":{
       "type" :"text"
      },
      "desc":{
        "type": "keyword"
      }
    }
  }
}</code></pre> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/d7/fd/lauLpSSF_o.png"> <img alt="" src="https://images2.imgbox.com/ea/b8/DeRkaaY2_o.png"></p> 
<p> 同样把数据录入到elasticsearch中</p> 
<pre><code class="hljs">PUT /testdb/_doc/1
{
  "name":"数据结构",
  "desc":"基础学习数据结构与算法",
  "price":15
}
PUT /testdb/_doc/2
{
  "name":"数据结构",
  "desc":"基础学习数据结构与算法2",
  "price":15
}</code></pre> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/fa/65/AIFjah1c_o.png"></p> 
<p style="text-align:center;"> <img alt="" src="https://images2.imgbox.com/da/6e/TpvDSvAp_o.png"></p> 
<p style="text-align:center;"> <img alt="" src="https://images2.imgbox.com/b4/e5/Ef8iZFWx_o.png"></p> 
<p style="text-align:center;"> <img alt="" src="https://images2.imgbox.com/c6/02/WqZzJtr6_o.png"></p> 
<h2 id="9%E3%80%81%E9%AB%98%E4%BA%AE%E6%9F%A5%E8%AF%A2%EF%BC%88%E2%80%9Chighlight%E2%80%9D%EF%BC%89" style="text-align:justify;">9、高亮查询（“highlight”）</h2> 
<pre><code class="hljs">GET  book/_search
{
  "query": {
    "match": {
      "name": "数据"
    }
  },
  "highlight": {
    "fields": {
      "name": {}
    }
  }
}</code></pre> 
<p><img alt="" src="https://images2.imgbox.com/9e/4b/4Y0gEZvy_o.png"></p> 
<p> 默认把搜索条件匹配到的每个字加上&lt;em&gt;标签</p> 
<h2 id="10%E3%80%81%E8%87%AA%E5%AE%9A%E4%B9%89%E9%AB%98%E4%BA%AE%E6%A0%87%E7%AD%BE" style="margin-left:.0001pt;text-align:justify;">10、自定义高亮标签</h2> 
<p style="margin-left:.0001pt;text-align:justify;">"pre_tags":定义标签前缀<br> "post_tags": 定义标签后缀</p> 
<p style="margin-left:.0001pt;text-align:justify;">例如</p> 
<pre><code class="hljs">GET  book/_search
{
  "query": {
    "match": {
      "name": "数据"
    }
  },
  "highlight": {
    "pre_tags": "&lt;p class='key' style='color:red'&gt;",
    "post_tags": "&lt;/p&gt;", 
    "fields": {
      "name": {}
    }
  }
}</code></pre> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/98/08/wR5Yld0f_o.png"> </p> 
<p> </p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ef121c69ff8de9634f0a93d4c2d42483/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">四、使用Kibana执行elasticsearch的CRUD操作</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/12866757cf71d98bf5dfc8848dca5e3d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">servlet的创建方式</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>