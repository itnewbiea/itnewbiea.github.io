<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>一篇文章搞懂华为的ACL - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="一篇文章搞懂华为的ACL" />
<meta property="og:description" content="第十一章：ACL原理与配置 随着网络的飞速发展，网络安全问题日益突出。访问控制列表 (ACL, Access Control List)
可以通过对网络中报文流的精确识别，与其他技术结合，达到控制网络访问行为、防止网络攻击和提高网络带宽利用率的目的，从而切实保障网络环境的安全性和网络服务质量的可靠性。
11.1 ACL概述 访问控制列表简称为ACL，它使用包过滤技术，在路由器上读取第3层及第4层包头中的信息，如源地址、目的地址、源端口和目的端口等，根据预告定义好的规则对包进行过滤从而达到访问控制的目的。ACL分很多种，不同场合应用不同种类的ACL。
基本ACL 基本ACL最简单，是通过使用IP包中的源IP地址进行过滤，表号范围2000-2999。
高级ACL 高级ACL比基本ACL具有更多的匹配项，功能更加强大和细化，可以针对包括协议类型、源地址、目的地址、源端口、目的端口和TCP连接建立等进行过滤，表号范围3000-3999。
基于时间ACL ACL的生效时间段可以规定ACL规则在何时生效，比如某个特定时间段或者每周的某个固定时间段。
自反ACL 通过自反ACL可以实现网络节点的单向访问。
5、在访问控制列表的学习中，要特别注意以下两个术语。
① 通配符掩码：一个32比特位的数字字符串，它规定了当一个IP地址与其他的IP地址进行比较时，该IP地址中哪些位应该被忽略。通配符掩码中的”1”表示忽略IP地址中对应的位，而”0”则表示该位必须匹配。两种特殊的通配符掩码是”255.255.255.255”和”0.0.0.0”，前者等价于关键字”any”，而后者等价于关键字”host”。
② Inbound和Outbound：当在接口上应用访问控制列表时，用户要指明访问控制列表是应用于流入数据，还是流出数据。
11.2 实验一：基本ACL 1、实验需求
 掌握ACL的配置方法 掌握ACL在接口下的应用方法 掌握流量过滤的基本方式 2、实验拓扑
实验拓扑如图11-1所示
图11-1 基本ACL
实验免费链接：【实战课】华为HCIA-Datacom认证实验教学-学习视频教程-腾讯课堂
实验步骤 （1）PC机的IP地址配置
PC1的配置，在ipv4下选择静态配置，输入对应的ip地址、子网掩码和网关，然后点击应用。PC2、sever同理PC1的配置如图11-2所示：
图11-2在PC1上手动添加IP地址
PC2的配置如图11-3所示：
图11-3在PC2上手动添加IP地址
（2）在交换机LSW1上创建VLAN10和20，把g0/0/1划分到vlan10，把g0/0/2划分到vlan20，把g0/0/3设置成trunk。
&lt;Huawei&gt;system-view [Huawei]sysname LSW1
[LSW1]undo info-center enable [LSW1]vlan batch 10 20
[LSW1]interface g0/0/1
[LSW1-GigabitEthernet0/0/1]port link-type access [LSW1-GigabitEthernet0/0/1]port default vlan 10
[LSW1-GigabitEthernet0/0/1]quit
[LSW1]interface g0/0/2
[LSW1-GigabitEthernet0/0/2]port link-type access [LSW1-GigabitEthernet0/0/2]port default vlan 20" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/9dec2267bcd20bd495408147c5f7a974/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-03-14T09:37:19+08:00" />
<meta property="article:modified_time" content="2023-03-14T09:37:19+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">一篇文章搞懂华为的ACL</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p></p> 
<h2 style="margin-left:10pt;text-align:justify;"><strong><a name="_Toc103591049"></a><a name="_Toc105590805"><strong><em>第十一章：ACL原理与配置</em></strong></a></strong></h2> 
<p style="margin-left:10pt;text-align:justify;">随着网络的飞速发展，网络安全问题日益突出。访问控制列表 (ACL, Access Control List)</p> 
<p style="margin-left:10pt;text-align:justify;">可以通过对网络中报文流的精确识别，与其他技术结合，达到控制网络访问行为、防止网络攻击和提高网络带宽利用率的目的，从而切实保障网络环境的安全性和网络服务质量的可靠性。</p> 
<h3 style="margin-left:10pt;text-align:justify;"><strong><a name="_Toc103591050"></a><a name="_Toc105590806">11.1 ACL概述</a></strong></h3> 
<p style="margin-left:10pt;text-align:justify;">访问控制列表简称为ACL，它使用包过滤技术，在路由器上读取第3层及第4层包头中的信息，如源地址、目的地址、源端口和目的端口等，根据预告定义好的规则对包进行过滤从而达到访问控制的目的。ACL分很多种，不同场合应用不同种类的ACL。</p> 
<ol><li style="text-align:justify;">基本ACL</li></ol> 
<p style="margin-left:10pt;text-align:justify;">基本ACL最简单，是通过使用IP包中的源IP地址进行过滤，表号范围2000-2999。</p> 
<ol><li style="text-align:justify;">高级ACL</li></ol> 
<p style="margin-left:10pt;text-align:justify;">高级ACL比基本ACL具有更多的匹配项，功能更加强大和细化，可以针对包括协议类型、源地址、目的地址、源端口、目的端口和TCP连接建立等进行过滤，表号范围3000-3999。</p> 
<ol><li style="text-align:justify;">基于时间ACL</li></ol> 
<p style="margin-left:10pt;text-align:justify;">ACL的生效时间段可以规定ACL规则在何时生效，比如某个特定时间段或者每周的某个固定时间段。</p> 
<ol><li style="text-align:justify;">自反ACL</li></ol> 
<p style="margin-left:10pt;text-align:justify;">通过自反ACL可以实现网络节点的单向访问。</p> 
<p style="margin-left:10pt;text-align:justify;"></p> 
<p style="margin-left:10pt;text-align:justify;"><u><span style="color:#008080;">5</span></u><u><span style="color:#008080;">、</span></u>在访问控制列表的学习中，要特别注意以下两个术语。</p> 
<p style="margin-left:10pt;text-align:justify;">①    通配符掩码：一个32比特位的数字字符串，它规定了当一个IP地址与其他的IP地址进行比较时，该IP地址中哪些位应该被忽略。通配符掩码中的”1”表示忽略IP地址中对应的位，而”0”则表示该位必须匹配。两种特殊的通配符掩码是”255.255.255.255”和”0.0.0.0”，前者等价于关键字”any”，而后者等价于关键字”host”。</p> 
<p style="margin-left:10pt;text-align:justify;">②    Inbound和Outbound：当在接口上应用访问控制列表时，用户要指明访问控制列表是应用于流入数据，还是流出数据。</p> 
<p style="margin-left:10pt;text-align:justify;"></p> 
<h3 style="margin-left:10pt;text-align:justify;"><strong><a name="_Toc103591051"></a><a name="_Toc105590807">11.2 实验一：基本ACL</a></strong></h3> 
<p style="margin-left:10pt;text-align:justify;">1、实验需求</p> 
<ul><li style="text-align:justify;">    掌握ACL的配置方法</li><li style="text-align:justify;">    掌握ACL在接口下的应用方法</li><li style="text-align:justify;">    掌握流量过滤的基本方式</li></ul> 
<p style="margin-left:10pt;text-align:justify;">2、实验拓扑</p> 
<p style="margin-left:10pt;text-align:justify;"><u><span style="color:#008080;">实验拓扑如图11-1所示</span></u></p> 
<p style="margin-left:10pt;text-align:center;"><img alt="" height="325" src="https://images2.imgbox.com/c7/eb/UxANcxvj_o.png" width="1071"></p> 
<p style="margin-left:10pt;text-align:center;"></p> 
<p style="margin-left:10pt;text-align:center;"><u><span style="color:#008080;">图11-1 基本ACL</span></u></p> 
<p style="margin-left:10pt;text-align:center;"><u><span style="color:#008080;">实验免费链接：</span></u><a href="https://ke.qq.com/course/5700387#term_id=105903005" rel="nofollow" title="【实战课】华为HCIA-Datacom认证实验教学-学习视频教程-腾讯课堂">【实战课】华为HCIA-Datacom认证实验教学-学习视频教程-腾讯课堂</a></p> 
<ol><li style="text-align:justify;">实验步骤</li></ol> 
<p style="margin-left:10pt;text-align:justify;">（1）PC机的IP地址配置</p> 
<p style="margin-left:10pt;text-align:justify;"><u><span style="color:#008080;">PC1</span></u><u><span style="color:#008080;">的配置，</span></u><u><span style="color:#008080;">在ipv4下选择静态配置，输入对应的ip地址</span></u>、<u><span style="color:#008080;">子网掩码</span></u>和网关<u><span style="color:#008080;">，然后点击应用。PC2、</span></u><u><span style="color:#008080;">sever</span></u><u><span style="color:#008080;">同理</span></u><u><span style="color:#008080;">PC1</span></u><u><span style="color:#008080;">的配置如图11-2所示：</span></u></p> 
<p style="margin-left:10pt;text-align:justify;"><img alt="" height="1200" src="https://images2.imgbox.com/b5/72/fKk6zcI7_o.png" width="1200"></p> 
<p style="margin-left:10pt;text-align:justify;"><u><span style="color:#008080;">  </span></u><u><span style="color:#008080;">图11-2在PC1上手动添加IP地址</span></u></p> 
<p style="margin-left:10pt;text-align:justify;"></p> 
<p style="margin-left:10pt;text-align:justify;">PC2的配置<u><span style="color:#008080;">如图11-3所示：</span></u></p> 
<p style="margin-left:10pt;text-align:justify;"><img alt="" height="1200" src="https://images2.imgbox.com/3c/30/ujyk7xSq_o.png" width="1200"></p> 
<p style="margin-left:10pt;text-align:justify;"><u><span style="color:#008080;">                                              </span></u><u><span style="color:#008080;">图11-3在PC2上手动添加IP地址</span></u></p> 
<p style="margin-left:10pt;text-align:justify;">（2）在交换机LSW1上创建VLAN10和20，把g0/0/1划分到vlan10，把g0/0/2划分到vlan20，把g0/0/3设置成trunk。</p> 
<p style="margin-left:10pt;text-align:left;"><span style="color:#000000;">&lt;Huawei&gt;system-view </span></p> 
<p style="margin-left:10pt;text-align:left;"><span style="color:#000000;">[Huawei]sysname LSW1</span></p> 
<p style="margin-left:10pt;text-align:left;"><span style="color:#000000;">[LSW1]undo info-center enable </span></p> 
<p style="margin-left:10pt;text-align:left;"><span style="color:#000000;">[LSW1]vlan batch 10 20</span></p> 
<p style="margin-left:10pt;text-align:left;"><span style="color:#000000;">[LSW1]interface g0/0/1</span></p> 
<p style="margin-left:10pt;text-align:left;"><span style="color:#000000;">[LSW1-GigabitEthernet0/0/1]port link-type access </span></p> 
<p style="margin-left:10pt;text-align:left;"><span style="color:#000000;">[LSW1-GigabitEthernet0/0/1]port default vlan 10</span></p> 
<p style="margin-left:10pt;text-align:left;"><span style="color:#000000;">[LSW1-GigabitEthernet0/0/1]quit</span></p> 
<p style="margin-left:10pt;text-align:left;"><span style="color:#000000;">[LSW1]interface g0/0/2</span></p> 
<p style="margin-left:10pt;text-align:left;"><span style="color:#000000;">[LSW1-GigabitEthernet0/0/2]port link-type access </span></p> 
<p style="margin-left:10pt;text-align:left;"><span style="color:#000000;">[LSW1-GigabitEthernet0/0/2]port default vlan 20</span></p> 
<p style="margin-left:10pt;text-align:left;"><span style="color:#000000;">[LSW1-GigabitEthernet0/0/2]quit</span></p> 
<p style="margin-left:10pt;text-align:left;"><span style="color:#000000;">[LSW1]interface g0/0/3</span></p> 
<p style="margin-left:10pt;text-align:left;"><span style="color:#000000;">[LSW1-GigabitEthernet0/0/3]port link-type trunk </span></p> 
<p style="margin-left:10pt;text-align:left;"><span style="color:#000000;">[LSW1-GigabitEthernet0/0/3]port trunk allow-pass vlan 10 20</span></p> 
<p style="margin-left:10pt;text-align:left;"><span style="color:#000000;">[LSW1-GigabitEthernet0/0/3]quit</span></p> 
<p style="margin-left:10pt;text-align:justify;"></p> 
<p style="margin-left:10pt;text-align:justify;">（3）如图11-1所示，在路由器上配置IP地址，并配置单臂路由让PC1和PC2可以相互访问<s><span style="color:#ff0000;">R1</span></s><s><span style="color:#ff0000;">的配置</span></s></p> 
<p style="margin-left:10pt;text-align:left;"><span style="color:#000000;">&lt;Huawei&gt;system-view </span></p> 
<p style="margin-left:10pt;text-align:left;"><span style="color:#000000;">[Huawei]undo info-center enable </span></p> 
<p style="margin-left:10pt;text-align:left;"><span style="color:#000000;">[Huawei]sysname R1</span></p> 
<p style="margin-left:10pt;text-align:left;"><span style="color:#000000;">[R1]interface g0/0/1</span></p> 
<p style="margin-left:10pt;text-align:left;"><span style="color:#000000;">[R1-GigabitEthernet0/0/1]undo shutdown </span></p> 
<p style="margin-left:10pt;text-align:left;"><span style="color:#000000;">[R1-GigabitEthernet0/0/1]quit</span></p> 
<p style="margin-left:10pt;text-align:left;"></p> 
<p style="margin-left:10pt;text-align:left;"><span style="color:#000000;">[R1]interface g0/0/1.10</span></p> 
<p style="margin-left:10pt;text-align:left;"><span style="color:#000000;">[R1-GigabitEthernet0/0/1.10]dot1q termination vid 10</span></p> 
<p style="margin-left:10pt;text-align:left;"><span style="color:#000000;">[R1-GigabitEthernet0/0/1.10]ip address 192.168.10.254 24</span></p> 
<p style="margin-left:10pt;text-align:left;"><span style="color:#000000;">[R1-GigabitEthernet0/0/1.10]arp broadcast enable </span></p> 
<p style="margin-left:10pt;text-align:left;"><span style="color:#000000;">[R1-GigabitEthernet0/0/1.10]quit</span></p> 
<p style="margin-left:10pt;text-align:left;"></p> 
<p style="margin-left:10pt;text-align:left;"><span style="color:#000000;">[R1]interface g0/0/1.20</span></p> 
<p style="margin-left:10pt;text-align:left;"><span style="color:#000000;">[R1-GigabitEthernet0/0/1.20]dot1q termination vid 20</span></p> 
<p style="margin-left:10pt;text-align:left;"><span style="color:#000000;">[R1-GigabitEthernet0/0/1.20]ip address 192.168.20.254 24</span></p> 
<p style="margin-left:10pt;text-align:left;"><span style="color:#000000;">[R1-GigabitEthernet0/0/1.20]arp broadcast enable </span></p> 
<p style="margin-left:10pt;text-align:left;"><span style="color:#000000;">[R1-GigabitEthernet0/0/1.20]quit</span></p> 
<p style="margin-left:10pt;text-align:left;"></p> 
<p style="margin-left:10pt;text-align:left;"><span style="color:#000000;">[R1]interface g0/0/0</span></p> 
<p style="margin-left:10pt;text-align:left;"><span style="color:#000000;">[R1-GigabitEthernet0/0/0]ip address 10.1.1.254 24</span></p> 
<p style="margin-left:10pt;text-align:left;"><span style="color:#000000;">[R1-GigabitEthernet0/0/0]undo shutdown </span></p> 
<p style="margin-left:10pt;text-align:left;"><span style="color:#000000;">[R1-GigabitEthernet0/0/0]quit</span></p> 
<p style="margin-left:10pt;text-align:justify;"></p> 
<p style="margin-left:10pt;text-align:justify;">（4）Server的配置<u><span style="color:#008080;">如图11-4所示：</span></u></p> 
<p style="margin-left:10pt;text-align:justify;"><img alt="" height="1200" src="https://images2.imgbox.com/d9/99/EHXsehTY_o.png" width="1200"></p> 
<p style="margin-left:10pt;text-align:justify;"><u><span style="color:#008080;">                                             </span></u><u><span style="color:#008080;">图11-4在server上手动添加IP地址</span></u></p> 
<p style="margin-left:10pt;text-align:justify;">（5）测试PC1是否可以访问server<u><span style="color:#008080;">，结果如图11-5所示：</span></u></p> 
<p style="margin-left:10pt;text-align:justify;"><img alt="" height="1200" src="https://images2.imgbox.com/ee/8b/Qr71BaY8_o.png" width="1200"></p> 
<p style="margin-left:10pt;text-align:justify;"><u><span style="color:#008080;">                           </span></u><u><span style="color:#008080;">图11-5 PC1上显示的ping程序测试信息</span></u></p> 
<p style="margin-left:10pt;text-align:justify;">通过以上输出可以看到PC1能访问server</p> 
<p style="margin-left:10pt;text-align:justify;">（6）测试<u><span style="color:#008080;">PC2</span></u>是否可以<u><span style="color:#008080;">访问server，测试结果如图11-6所示：</span></u></p> 
<p style="margin-left:10pt;text-align:justify;"><img alt="" height="1200" src="https://images2.imgbox.com/8e/ee/e0iY6zoe_o.png" width="1200"></p> 
<p style="margin-left:10pt;text-align:justify;"><u><span style="color:#008080;">                       </span></u><u><span style="color:#008080;">图11-6 PC2上显示的ping程序测试信息</span></u></p> 
<p style="margin-left:10pt;text-align:justify;">通过以上输出可以看到PC2也可以访问server</p> 
<p style="margin-left:10pt;text-align:justify;">（7）在R1上配置基本的ACL</p> 
<p style="margin-left:10pt;text-align:left;"><span style="color:#000000;">[R1]acl 2000  // 创建ACL编号为2000</span></p> 
<p style="margin-left:10pt;text-align:left;"><span style="color:#000000;">[R1-acl-basic-2000]rule 10 deny source 192.168.20.0 0.0.0.255 //拒绝192.168.20.0网段</span></p> 
<p style="margin-left:10pt;text-align:left;"><span style="color:#000000;">[R1-acl-basic-2000]quit</span></p> 
<p style="margin-left:10pt;text-align:left;"></p> 
<p style="margin-left:10pt;text-align:left;"><span style="color:#000000;">[R1]interface g0/0/1</span></p> 
<p style="margin-left:10pt;text-align:left;"><span style="color:#000000;">[R1-GigabitEthernet0/0/1]traffic-filter inbound acl 2000 <u><span style="color:#008080;">//在g0/0/口的入方向配置流量过滤，当匹配到acl2000流量则执行相应的过滤掉动作</span></u></span></p> 
<p style="margin-left:10pt;text-align:left;"><span style="color:#000000;">[R1-GigabitEthernet0/0/1]quit</span></p> 
<p style="margin-left:10pt;text-align:justify;"><strong><u><span style="color:#008080;">【技术要点】</span></u></strong></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="color:#000000;"><u><span style="color:#008080;">基本acl配置过程及参数详解</span></u></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="color:#000000;">1、<u><span style="color:#008080;">创建基本ACL</span></u></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="color:#000000;"><u><span style="color:#008080;">[Huawei] acl [ number ] acl-number [ match-order config ]</span></u></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="color:#000000;"><u><span style="color:#008080;">acl-number：指定访问控制列表的编号。</span></u></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="color:#000000;"><u><span style="color:#008080;">match-order config：指定ACL规则的匹配顺序，config表示配置顺序。</span></u></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="color:#000000;">2、<u><span style="color:#008080;">配置基本ACL规则</span></u></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="color:#000000;"><u><span style="color:#008080;">[Huawei-acl-basic-2000] rule [ rule-id ] { deny | permit } [ source { source-address source-wildcard | any } | time-range time-name ] </span></u></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="color:#000000;"><u><span style="color:#008080;">rule-id：指定ACL的规则ID。</span></u></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="color:#000000;"><u><span style="color:#008080;">deny：指定拒绝符合条件的报文。</span></u></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="color:#000000;"><u><span style="color:#008080;">permit：指定允许符合条件的报文。</span></u></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="color:#000000;"><u><span style="color:#008080;">source { source-address source-wildcard | any }：指定ACL规则匹配报文的源地址信息。如果不配置，表示报文的任何源地址都匹配。其中：</span></u></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="color:#000000;"><u><span style="color:#008080;">source-address：指定报文的源地址。</span></u></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="color:#000000;"><u><span style="color:#008080;">source-wildcard：指定源地址通配符。</span></u></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="color:#000000;"><u><span style="color:#008080;">any：表示报文的任意源地址。相当于source-address为0.0.0.0或者source-wildcard为255.255.255.255。</span></u></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="color:#000000;"><u><span style="color:#008080;">time-range time-name：指定ACL规则生效的时间段。其中，time-name表示ACL规则生效时间段名称。如果不指定时间段，表示任何时间都生效。</span></u></span></p> 
<p style="margin-left:10pt;text-align:justify;"></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="color:#000000;">3、<u><span style="color:#008080;">traffic-filter</span></u><u><span style="color:#008080;">命令用来在接口上配置基于ACL对报文进行过滤。Inbound为针对接口入方向进行流量过滤，outbound为针对接口出方向流量进行过滤。</span></u></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="color:#000000;"><u><span style="color:#008080;">在接口下执行本命令，设备将会过滤匹配ACL规则的报文：</span></u></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="color:#000000;"><u><span style="color:#008080;">若报文匹配的规则的动作为deny，则直接丢掉该报文。</span></u></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="color:#000000;"><u><span style="color:#008080;">若报文匹配的规则的动作为permit，则允许该报文通过。</span></u></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="color:#000000;"><u><span style="color:#008080;">若报文没有匹配任何一条规则，则允许该报文通过。</span></u></span></p> 
<p style="margin-left:10pt;text-align:justify;"></p> 
<p style="margin-left:10pt;text-align:justify;">4、实验调试</p> 
<p style="margin-left:10pt;text-align:justify;">（1）测试PC1是否可以访问服务器，<u><span style="color:#008080;">结果如图11-7所示：</span></u></p> 
<p style="margin-left:10pt;text-align:justify;"><img alt="" height="1200" src="https://images2.imgbox.com/af/5c/XfTt4xwd_o.png" width="1200"></p> 
<p style="margin-left:10pt;text-align:justify;"><u><span style="color:#008080;">                             </span></u><u><span style="color:#008080;">图11-7 PC1上显示的ping程序测试信息</span></u></p> 
<p style="margin-left:10pt;text-align:justify;">通过以上输出可以看到PC1不可以访问server</p> 
<p style="margin-left:10pt;text-align:justify;">（2）测试PC2是否可以访问服务器，<u><span style="color:#008080;">结果如图11-</span></u>8<u><span style="color:#008080;">所示：</span></u></p> 
<p style="margin-left:10pt;text-align:justify;"></p> 
<p style="margin-left:10pt;text-align:justify;"><img alt="" height="1200" src="https://images2.imgbox.com/65/19/FKYJMvzh_o.png" width="1200"></p> 
<p style="margin-left:10pt;text-align:justify;"><u><span style="color:#008080;">                                             </span></u><u><span style="color:#008080;">图11-8 PC2上显示的ping程序测试信息</span></u></p> 
<p style="margin-left:10pt;text-align:justify;">通过以上输出可以看到PC2可以访问server1，实验结束</p> 
<p style="margin-left:10pt;text-align:justify;"><strong>【技术要点】</strong></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="color:#ff0000;">华为ACL总结：如果配置在接口上，则默认规则为允许，如果配置在其他地方，则默认规则为拒绝。</span></p> 
<p style="margin-left:10pt;text-align:justify;">思考：如果只拒绝PC2访问服务器，基本的ACL应该怎么配置？</p> 
<p style="margin-left:10pt;text-align:justify;"></p> 
<h3 style="margin-left:10pt;text-align:justify;"><strong><a name="_Toc103591052"></a><a name="_Toc105590808">11.3 实验二：高级ACL</a></strong></h3> 
<ol><li style="text-align:justify;">实验需求</li></ol> 
<ul><li style="text-align:justify;">掌握高级ACL的配置方法</li><li style="text-align:justify;">掌握高级ACL在接口下的应用方法</li><li style="text-align:justify;">掌握流量过滤的基本方式</li></ul> 
<ol><li style="text-align:justify;">实验拓扑</li></ol> 
<p style="margin-left:10pt;text-align:justify;"><u><span style="color:#008080;">实验拓扑如图11-</span></u>9<u><span style="color:#008080;">所示：</span></u></p> 
<p style="margin-left:10pt;text-align:center;"></p> 
<p style="margin-left:10pt;text-align:center;"><img alt="" height="897" src="https://images2.imgbox.com/62/ec/hlHq7cJV_o.png" width="1152"></p> 
<p style="margin-left:10pt;text-align:center;"><u><span style="color:#008080;">图11-</span></u>9<u><span style="color:#008080;">高级ACL </span></u></p> 
<ol><li style="text-align:justify;">实验步骤</li></ol> 
<p style="margin-left:10pt;text-align:justify;">（1）配置PC机的IP地址</p> 
<p style="margin-left:10pt;text-align:justify;"><u><span style="color:#008080;">PC1</span></u><u><span style="color:#008080;">的配置，</span></u><u><span style="color:#008080;">在ipv4下选择静态配置，输入对应的ip地址</span></u>、<u><span style="color:#008080;">子网掩码</span></u>和网关<u><span style="color:#008080;">，然后点击应用。PC2同理</span></u></p> 
<p style="margin-left:10pt;text-align:justify;"><u><span style="color:#008080;">PC1</span></u><u><span style="color:#008080;">的配置如图11-1</span></u>0<u><span style="color:#008080;">所示：</span></u></p> 
<p style="margin-left:10pt;text-align:justify;"><img alt="" height="1200" src="https://images2.imgbox.com/8a/84/KY77wJC5_o.png" width="1200"></p> 
<p style="margin-left:10pt;text-align:justify;"><u><span style="color:#008080;">  </span></u><u><span style="color:#008080;">图11-1</span></u>0<u><span style="color:#008080;">在PC1上手动添加IP地址</span></u></p> 
<p style="margin-left:10pt;text-align:justify;">PC2的配置<u><span style="color:#008080;">如图11-1</span></u>1<u><span style="color:#008080;">所示：</span></u></p> 
<p style="margin-left:10pt;text-align:justify;"><img alt="" height="1200" src="https://images2.imgbox.com/f3/97/KykiSZNn_o.png" width="1200"></p> 
<p style="margin-left:10pt;text-align:justify;"><u><span style="color:#008080;">                                                 </span></u><u><span style="color:#008080;">图11-1</span></u>1<u><span style="color:#008080;">在PC2上手动添加IP地址</span></u></p> 
<p style="margin-left:10pt;text-align:justify;">（2）配置路由器R1的IP地址</p> 
<p style="margin-left:10pt;"><span style="color:#000000;">&lt;Huawei&gt;system-view </span></p> 
<p style="margin-left:10pt;"><span style="color:#000000;">[R1]undo info-center enable </span></p> 
<p style="margin-left:10pt;"><span style="color:#000000;">[R1]interface g0/0/0</span></p> 
<p style="margin-left:10pt;"><span style="color:#000000;">[R1-GigabitEthernet0/0/0]ip address 192.168.10.254 24</span></p> 
<p style="margin-left:10pt;"><span style="color:#000000;">[R1-GigabitEthernet0/0/0]undo shutdown </span></p> 
<p style="margin-left:10pt;"><span style="color:#000000;">[R1-GigabitEthernet0/0/0]quit</span></p> 
<p style="margin-left:10pt;"><span style="color:#000000;">[R1]interface g0/0/1</span></p> 
<p style="margin-left:10pt;"><span style="color:#000000;">[R1-GigabitEthernet0/0/1]ip address 192.168.20.254 24</span></p> 
<p style="margin-left:10pt;"><span style="color:#000000;">[R1-GigabitEthernet0/0/1]undo shutdown </span></p> 
<p style="margin-left:10pt;"><span style="color:#000000;">[R1-GigabitEthernet0/0/1]quit</span></p> 
<p style="margin-left:10pt;text-align:justify;">（2） 测试：PC1访问PC2<u><span style="color:#008080;">，结果如图11-1</span></u>2<u><span style="color:#008080;">所示：</span></u></p> 
<p style="margin-left:10pt;text-align:justify;"><img alt="" height="1200" src="https://images2.imgbox.com/dd/ef/QGAUdnol_o.png" width="1200"></p> 
<p style="margin-left:10pt;text-align:justify;"><u><span style="color:#008080;">                           </span></u><u><span style="color:#008080;">图11-1</span></u>2<u><span style="color:#008080;">  PC1</span></u><u><span style="color:#008080;">上显示的ping程序测试信息</span></u></p> 
<p style="margin-left:10pt;text-align:justify;">通过以上输出，可以看到PC1可以访问PC2</p> 
<p style="margin-left:10pt;text-align:justify;">(3)配置高级ACL<s><span style="color:#ff0000;">（）</span></s></p> 
<p style="margin-left:10pt;"><span style="color:#000000;">[R1]acl 3000  //创建ACL编号为3000</span></p> 
<p style="margin-left:10pt;"><span style="color:#000000;">[R1-acl-adv-3000]rule 10 deny ip source 192.168.10.0 0.0.0.255 destination 192.168.20.0 0.0.0.255  //拒绝192.168.10.0网段去访问192.168.20.0网段</span></p> 
<p style="margin-left:10pt;"><span style="color:#000000;">[R1-acl-adv-3000]quit</span></p> 
<p style="margin-left:10pt;"></p> 
<p style="margin-left:10pt;"><span style="color:#000000;">[R1]interface g0/0/0</span></p> 
<p style="margin-left:10pt;"><span style="color:#000000;">[R1-GigabitEthernet0/0/0]traffic-filter inbound acl 3000</span></p> 
<p style="margin-left:10pt;"><span style="color:#000000;">[R1-GigabitEthernet0/0/0]quit</span></p> 
<p style="margin-left:10pt;text-align:justify;"><u><span style="color:#008080;">【技术要点】</span></u></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="color:#000000;"><u><span style="color:#008080;">高级acl配置过程及参数详解</span></u></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="color:#000000;">1、<u><span style="color:#008080;">创建高级ACL</span></u></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="color:#000000;"><u><span style="color:#008080;">[Huawei] acl [ number ] acl-number [ match-order config ]</span></u></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="color:#000000;"><u><span style="color:#008080;">acl-number：指定访问控制列表的编号。</span></u></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="color:#000000;"><u><span style="color:#008080;">match-order config：指定ACL规则的匹配顺序，config表示配置顺序。</span></u></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="color:#000000;">2、<u><span style="color:#008080;">配置高级ACL的规则</span></u></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="color:#000000;"><u><span style="color:#008080;">当参数protocol为IP时：</span></u></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="color:#000000;"><u><span style="color:#008080;">rule [ rule-id ] { deny | permit } ip [ destination { destination-address destination-wildcard | any } | source { source-address source-wildcard | any } | time-range time-name | [ dscp dscp | [ tos tos | precedence precedence ] ] ] </span></u></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="color:#000000;"><u><span style="color:#008080;">ip ：指定ACL规则匹配报文的协议类型为IP。</span></u></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="color:#000000;"><u><span style="color:#008080;">destination { destination-address destination-wildcard | any }：指定ACL规则匹配报文的目的地址信息。如果不配置，表示报文的任何目的地址都匹配。</span></u></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="color:#000000;"><u><span style="color:#008080;">dscp dscp：指定ACL规则匹配报文时，区分服务代码点（Differentiated Services Code Point），取值为：0~63。</span></u></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="color:#000000;"><u><span style="color:#008080;">tos tos：指定ACL规则匹配报文时，依据服务类型字段进行过滤，取值为：0~15。</span></u></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="color:#000000;"><u><span style="color:#008080;">precedence precedence：指定ACL规则匹配报文时，依据优先级字段进行过滤。precedence表示优先级字段值，取值为：0~7。</span></u></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="color:#000000;"><u><span style="color:#008080;">当参数protocol为TCP时：</span></u></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="color:#000000;"><u><span style="color:#008080;">rule [ rule-id ] { deny | permit } { protocol-number | tcp } [ destination { destination-address destination-wildcard | any } | destination-port { eq port | gt port | lt port | range port-start port-end } | source { source-address source-wildcard | any } | source-port { eq port | gt port | lt port | range port-start port-end } | tcp-flag { ack | fin | syn } * | time-range time-name ] *</span></u></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="color:#000000;"><u><span style="color:#008080;">protocol-number | tcp：指定ACL规则匹配报文的协议类型为TCP。可以采用数值6表示指定TCP协议。</span></u></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="color:#000000;"><u><span style="color:#008080;">destination-port { eq port | gt port | lt port | range port-start port-end}：指定ACL规则匹配报文的UDP或者TCP报文的目的端口，仅在报文协议是TCP或者UDP时有效。如果不指定，表示TCP/UDP报文的任何目的端口都匹配。其中：</span></u></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="color:#000000;"><u><span style="color:#008080;">eq port：指定等于目的端口；</span></u></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="color:#000000;"><u><span style="color:#008080;">gt port：指定大于目的端口；</span></u></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="color:#000000;"><u><span style="color:#008080;">lt port：指定小于目的端口；</span></u></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="color:#000000;"><u><span style="color:#008080;">range port-start port-end：指定源端口的范围。</span></u></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="color:#000000;"><u><span style="color:#008080;">tcp-flag：指定ACL规则匹配报文的TCP报文头中SYN Flag。</span></u></span></p> 
<p style="margin-left:10pt;text-align:justify;"></p> 
<p style="margin-left:10pt;text-align:justify;">4、实验调试</p> 
<p style="margin-left:10pt;text-align:justify;">（1）测试PC1是否可以访问PC2<u><span style="color:#008080;">，结果如图11-1</span></u>3<u><span style="color:#008080;">所示：</span></u></p> 
<p style="margin-left:10pt;text-align:justify;"><img alt="" height="1200" src="https://images2.imgbox.com/f0/c4/mfYcA8TE_o.png" width="1200"></p> 
<p style="margin-left:10pt;text-align:justify;"><u><span style="color:#008080;">                                  </span></u><u><span style="color:#008080;">图11-1</span></u>3<u><span style="color:#008080;"> PC1</span></u><u><span style="color:#008080;">上显示的ping程序测试信息</span></u></p> 
<p style="margin-left:10pt;text-align:justify;"></p> 
<p style="margin-left:10pt;text-align:justify;">通过以上输出我们可以看到PC1和PC2不能相互访问了。</p> 
<p style="margin-left:10pt;text-align:justify;"><span style="color:#ff0000;">（2）为了减少带宽浪费，在R1上作如下配置：</span></p> 
<p style="margin-left:10pt;"><span style="color:#000000;">[R1]acl 3001</span></p> 
<p style="margin-left:10pt;"><span style="color:#000000;">[R1-acl-adv-3001]rule 10 deny ip source 192.168.20.0 0.0.0.255 destination 192.168.10.0 0.0.0.255 </span></p> 
<p style="margin-left:10pt;"><span style="color:#000000;">[R1-acl-adv-3001]quit</span></p> 
<p style="margin-left:10pt;"></p> 
<p style="margin-left:10pt;"><span style="color:#000000;">[R1]interface g0/0/1</span></p> 
<p style="margin-left:10pt;"><span style="color:#000000;">[R1-GigabitEthernet0/0/1]traffic-filter inbound acl 3001</span></p> 
<p style="margin-left:10pt;"><span style="color:#000000;">[R1-GigabitEthernet0/0/1]quit</span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="color:#ff0000;">分析：PC2访问PC1的流量到达了PC1，PC1的回应包到达了R1的g0/0/0然后丢弃，这样会浪费带宽，所以要加上ACL 3001，这样PC2访问PC1的流量在R1的g0/0/1上就丢弃了。</span></p> 
<p style="margin-left:10pt;text-align:justify;"></p> 
<p style="margin-left:10pt;text-align:justify;"></p> 
<h3 style="margin-left:10pt;text-align:justify;"><strong><a name="_Toc103591053"></a><a name="_Toc105590809">11.4 实验三：基于时间ACL</a></strong></h3> 
<ol><li style="text-align:justify;">实验需求</li></ol> 
<p style="margin-left:10pt;text-align:justify;">①    掌握高级ACL的配置方法</p> 
<p style="margin-left:10pt;text-align:justify;">②    掌握高级ACL在接口下的应用方法</p> 
<p style="margin-left:10pt;text-align:justify;">③    掌握流量过滤的基本方式</p> 
<ol><li style="text-align:justify;">实验拓扑</li></ol> 
<p style="margin-left:10pt;text-align:justify;"><u><span style="color:#008080;">实验拓扑如图11-1</span></u>4<u><span style="color:#008080;">所示：</span></u></p> 
<p style="margin-left:10pt;text-align:justify;"><img alt="" height="419" src="https://images2.imgbox.com/c8/e4/PAofMmhh_o.png" width="1200"></p> 
<p style="margin-left:10pt;text-align:justify;"><u><span style="color:#008080;">                                                   </span></u><u><span style="color:#008080;">图11-1</span></u>4<u><span style="color:#008080;"> </span></u><u><span style="color:#008080;">基于时间的ACL </span></u></p> 
<ol><li style="text-align:justify;">实验步骤</li></ol> 
<p style="margin-left:10pt;text-align:justify;">（1）：配置IP地址</p> 
<p style="margin-left:10pt;text-align:justify;">PC1的配置<u><span style="color:#008080;">，</span></u><u><span style="color:#008080;">在ipv4下选择静态配置，输入对应的ip地址以及子网掩码，然后点击应用。</span></u><u><span style="color:#008080;">如图11-1</span></u>5<u><span style="color:#008080;">所示：</span></u></p> 
<p style="margin-left:10pt;text-align:justify;"><img alt="" height="1200" src="https://images2.imgbox.com/3b/8c/SpAmEVnW_o.png" width="1200"></p> 
<p style="margin-left:10pt;text-align:justify;"><u><span style="color:#008080;">  </span></u><u><span style="color:#008080;">图11-1</span></u>5<u><span style="color:#008080;">在PC1上手动添加IP地址</span></u></p> 
<p style="margin-left:10pt;text-align:justify;"></p> 
<p style="margin-left:10pt;text-align:justify;"></p> 
<p style="margin-left:10pt;text-align:justify;">R1的配置</p> 
<p style="margin-left:10pt;"><span style="color:#000000;">&lt;Huawei&gt;system-view </span></p> 
<p style="margin-left:10pt;"><span style="color:#000000;">[Huawei]undo info-center enable </span></p> 
<p style="margin-left:10pt;"><span style="color:#000000;">[Huawei]sysname R1</span></p> 
<p style="margin-left:10pt;"><span style="color:#000000;">[R1]interface g0/0/0</span></p> 
<p style="margin-left:10pt;"><span style="color:#000000;">[R1-GigabitEthernet0/0/0]ip address 192.168.1.254 24</span></p> 
<p style="margin-left:10pt;"><span style="color:#000000;">[R1-GigabitEthernet0/0/0]undo shutdown </span></p> 
<p style="margin-left:10pt;"><span style="color:#000000;">[R1-GigabitEthernet0/0/0]quit</span></p> 
<p style="margin-left:10pt;"><span style="color:#000000;">[R1]interface g0/0/1</span></p> 
<p style="margin-left:10pt;"><span style="color:#000000;">[R1-GigabitEthernet0/0/1]ip address 100.1.1.1 24</span></p> 
<p style="margin-left:10pt;"><span style="color:#000000;">[R1-GigabitEthernet0/0/1]undo shutdown </span></p> 
<p style="margin-left:10pt;"><span style="color:#000000;">[R1-GigabitEthernet0/0/1]quit</span></p> 
<p style="margin-left:10pt;text-align:justify;">R2的配置</p> 
<p style="margin-left:10pt;"><span style="color:#000000;">&lt;Huawei&gt;system-view </span></p> 
<p style="margin-left:10pt;"><span style="color:#000000;">[Huawei]undo info-center enable </span></p> 
<p style="margin-left:10pt;"><span style="color:#000000;">[Huawei]sysname R2</span></p> 
<p style="margin-left:10pt;"><span style="color:#000000;">[R2]interface g0/0/0</span></p> 
<p style="margin-left:10pt;"><span style="color:#000000;">[R2-GigabitEthernet0/0/0]ip address 100.1.1.2 24</span></p> 
<p style="margin-left:10pt;"><span style="color:#000000;">[R2-GigabitEthernet0/0/0]undo shutdown </span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="color:#000000;">[R2-GigabitEthernet0/0/0]quit</span></p> 
<p style="margin-left:10pt;text-align:justify;"></p> 
<p style="margin-left:10pt;"><span style="color:#000000;">[R2]ip route-static 192.168.1.0 24 100.1.1.1   //配置去PC1所在网段的静态路由</span></p> 
<p style="margin-left:10pt;text-align:justify;"></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="color:#ff0000;">（2）测试PC1是否可以访问R2<u><span style="color:#008080;">，结果如图11-1</span></u>6<u><span style="color:#008080;">所示：</span></u></span></p> 
<p style="margin-left:10pt;text-align:justify;"><img alt="" height="1200" src="https://images2.imgbox.com/44/bf/XwoV758o_o.png" width="1200"></p> 
<p style="margin-left:10pt;text-align:justify;"><u><span style="color:#008080;">                                 </span></u><u><span style="color:#008080;">图11-1</span></u>6<u><span style="color:#008080;"> PC1</span></u><u><span style="color:#008080;">上显示的ping程序测试信息</span></u></p> 
<p style="margin-left:10pt;text-align:justify;">通过以上输出，可以看到PC1可以访问 R2</p> 
<p style="margin-left:10pt;text-align:justify;">（3）：配置基于时间的ACL</p> 
<p style="margin-left:10pt;text-align:justify;"><span style="color:#000000;">[R1]time-range hw 8:00 to 17:00  working-day<u><span style="color:#008080;">//配置</span></u>时间段<u><span style="color:#008080;">名字为‘hw’，设定时间为</span></u>工<u><span style="color:#008080;">作日的早上八点到下午五点</span></u></span></p> 
<p style="margin-left:10pt;text-align:justify;"></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="background-color:#808080;"><span style="color:#000000;">[R1]acl 3000  </span></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="background-color:#808080;"><span style="color:#000000;">[R1-acl-adv-3000]rule 10 permit ip source 192.168.1.0 0.0.0.255 destination 100.1.1.0 0.0.0.255 time-range hw</span></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="background-color:#bfbfbf;"><span style="color:#000000;"><u><span style="color:#008080;">//</span></u></span><span style="color:#000000;"><u><span style="color:#008080;">在acl3000中调用名字为hw的时间段，该规则表示的意义为匹配源ip为192.168.1.0/24目的ip为100.1.1.0/24在每个工作日早上八点到下午五点的流量，执行动作为允许</span></u></span></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="background-color:#808080;"><span style="color:#000000;">[R1-acl-adv-3000]rule 20 deny ip   //</span><span style="color:#000000;">华为的ACL默认为允许所有，把以要设置这一条。</span></span></p> 
<p style="margin-left:10pt;text-align:justify;"></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="background-color:#808080;"><span style="color:#000000;">[R1]interface g0/0/0</span></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="background-color:#808080;"><span style="color:#000000;">[R1-GigabitEthernet0/0/0]traffic-filter inbound acl 3000<u><span style="color:#008080;"> </span></u>  //</span><span style="color:#000000;">在接口下调用 </span></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="background-color:#808080;"><span style="color:#000000;">[R1-GigabitEthernet0/0/0]quit</span></span></p> 
<p style="margin-left:10pt;text-align:justify;"></p> 
<p style="margin-left:10pt;text-align:justify;"></p> 
<ol><li style="text-align:justify;">实验调试</li></ol> 
<p style="margin-left:10pt;text-align:justify;">（1）查看路由器时间</p> 
<p style="margin-left:10pt;text-align:justify;"><span style="background-color:#808080;"><span style="color:#000000;">[R1]display clock </span></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="background-color:#808080;"><span style="color:#000000;">2022-04-09 12:38:29</span></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="background-color:#808080;"><strong><span style="color:#000000;">Saturday</span></strong></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="background-color:#808080;"><span style="color:#000000;">Time Zone(China-Standard-Time) : UTC-08:00</span></span></p> 
<p style="margin-left:10pt;text-align:justify;">通过以上输出， 可以看到设备显示为周六</p> 
<p style="margin-left:10pt;text-align:justify;"></p> 
<p style="margin-left:10pt;text-align:justify;">（2）看PC1是否可以访问R2<u><span style="color:#008080;">，结果如图11-1</span></u>7<u><span style="color:#008080;">所示：</span></u></p> 
<p style="margin-left:10pt;text-align:justify;"><img alt="" height="1200" src="https://images2.imgbox.com/d7/37/tYmiTx0B_o.png" width="1200"></p> 
<p style="margin-left:10pt;text-align:justify;"><u><span style="color:#008080;">                                             </span></u><u><span style="color:#008080;">图11-1</span></u>7<u><span style="color:#008080;">PC1</span></u><u><span style="color:#008080;">上显示的ping程序测试信息</span></u></p> 
<p style="margin-left:10pt;text-align:justify;">通过以上输出可以看到，PC1不能访问R2，因为星期六不在time-range hw范围内。</p> 
<p style="margin-left:10pt;text-align:justify;">（3）修改R1的时间</p> 
<p style="margin-left:10pt;text-align:justify;"><span style="background-color:#808080;"><span style="color:#000000;">&lt;R1&gt;clock datetime 12:00:00 2022-04-08</span></span></p> 
<p style="margin-left:10pt;text-align:justify;"></p> 
<p style="margin-left:10pt;text-align:justify;">（4）测试PC1是否可以访问R2<u><span style="color:#008080;">，结果如图11-1</span></u>8<u><span style="color:#008080;">所示：</span></u></p> 
<p style="margin-left:10pt;text-align:justify;"><img alt="" height="1200" src="https://images2.imgbox.com/33/c4/YMNs4g4O_o.png" width="1200"></p> 
<p style="margin-left:10pt;text-align:justify;"><u><span style="color:#008080;">                                     </span></u><u><span style="color:#008080;">图11-1</span></u>8<u><span style="color:#008080;">PC1</span></u><u><span style="color:#008080;">上显示的ping程序测试信息</span></u></p> 
<p style="margin-left:10pt;text-align:justify;"></p> 
<p style="margin-left:10pt;text-align:justify;">通过以上输出，我们可以看到PC1可以访问PC2，因为2022年4月8日12：00属于time-range的范围内。</p> 
<p style="margin-left:10pt;text-align:justify;"></p> 
<h3 style="margin-left:10pt;text-align:justify;"><strong><a name="_Toc103591054"></a><a name="_Toc105590810">11.5 实验四：使用基本ACL限制telnet登录</a></strong></h3> 
<ol><li style="text-align:justify;">实验目的</li></ol> 
<ul><li style="text-align:justify;">配置路由器的vty密码；</li><li style="text-align:justify;">Tetnet程序的使用</li><li style="text-align:justify;">使用基本ACL限制telnet登录</li></ul> 
<p style="margin-left:10pt;text-align:justify;"></p> 
<ol><li style="text-align:justify;">实验拓扑</li></ol> 
<p style="margin-left:10pt;text-align:justify;"><u><span style="color:#008080;">实验拓扑如图11-</span></u>19<u><span style="color:#008080;">所示：</span></u></p> 
<p style="margin-left:10pt;text-align:center;"><img alt="" height="307" src="https://images2.imgbox.com/8b/aa/IZuaY4L1_o.png" width="1200"></p> 
<p style="margin-left:10pt;text-align:center;"><u><span style="color:#008080;">图11-</span></u>19<u><span style="color:#008080;">使用基本ACL限制telnet登录</span></u></p> 
<p style="margin-left:10pt;text-align:justify;"></p> 
<ol><li style="text-align:justify;">实验步骤</li></ol> 
<p style="margin-left:10pt;text-align:justify;">（1）IP地址的配置</p> 
<p style="margin-left:10pt;text-align:justify;">R1的配置</p> 
<p style="margin-left:10pt;text-align:justify;"><span style="background-color:#808080;"><span style="color:#000000;">&lt;Huawei&gt;system-view </span></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="background-color:#808080;"><span style="color:#000000;">[Huawei]undo info-center enable </span></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="background-color:#808080;"><span style="color:#000000;">[Huawei]sysname R1</span></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="background-color:#808080;"><span style="color:#000000;">[R1]interface g0/0/1</span></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="background-color:#808080;"><span style="color:#000000;">[R1-GigabitEthernet0/0/1]ip address 192.168.1.254 24</span></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="background-color:#808080;"><span style="color:#000000;">[R1-GigabitEthernet0/0/1]undo shutdown </span></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="background-color:#808080;"><span style="color:#000000;">[R1-GigabitEthernet0/0/1]quit</span></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="background-color:#808080;"><span style="color:#000000;">[R1]interface g0/0/0</span></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="background-color:#808080;"><span style="color:#000000;">[R1-GigabitEthernet0/0/0]ip address 192.168.2.254 24</span></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="background-color:#808080;"><span style="color:#000000;">[R1-GigabitEthernet0/0/0]undo shutdown </span></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="background-color:#808080;"><span style="color:#000000;">[R1-GigabitEthernet0/0/0]quit</span></span></p> 
<p style="margin-left:10pt;text-align:justify;">R2的配置</p> 
<p style="margin-left:10pt;text-align:justify;"><span style="background-color:#808080;"><span style="color:#000000;">&lt;Huawei&gt;system-view </span></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="background-color:#808080;"><span style="color:#000000;">[Huawei]undo info-center enable </span></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="background-color:#808080;"><span style="color:#000000;">[Huawei]sysname R2</span></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="background-color:#808080;"><span style="color:#000000;">[R2]interface g0/0/0</span></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="background-color:#808080;"><span style="color:#000000;">[R2-GigabitEthernet0/0/0]ip address 192.168.1.1 24</span></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="background-color:#808080;"><span style="color:#000000;">[R2-GigabitEthernet0/0/0]undo shutdown </span></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="background-color:#808080;"><span style="color:#000000;">[R2-GigabitEthernet0/0/0]quit</span></span></p> 
<p style="margin-left:10pt;text-align:justify;"></p> 
<p style="margin-left:10pt;text-align:justify;">R3的配置</p> 
<p style="margin-left:10pt;text-align:justify;"><span style="background-color:#808080;"><span style="color:#000000;">&lt;Huawei&gt;system-view </span></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="background-color:#808080;"><span style="color:#000000;">[Huawei]undo info-center enable </span></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="background-color:#808080;"><span style="color:#000000;">[Huawei]sysname R3</span></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="background-color:#808080;"><span style="color:#000000;">[R3]interface g0/0/1</span></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="background-color:#808080;"><span style="color:#000000;">[R3-GigabitEthernet0/0/1]ip address 192.168.2.1 24</span></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="background-color:#808080;"><span style="color:#000000;">[R3-GigabitEthernet0/0/1]undo shutdown </span></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="background-color:#808080;"><span style="color:#000000;">[R3-GigabitEthernet0/0/1]quit</span></span></p> 
<p style="margin-left:10pt;text-align:justify;">（2）设置telnet</p> 
<p style="margin-left:10pt;text-align:justify;"><span style="background-color:#808080;"><span style="color:#000000;">[R1]user-interface vty 0 4  //</span><span style="color:#000000;">进入VTY界面，同时允许5条线路</span></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="background-color:#808080;"><span style="color:#000000;">[R1-ui-vty0-4]authentication-mode password  // </span><span style="color:#000000;">认证模式为密码认证</span></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="background-color:#808080;"><span style="color:#000000;">Please configure the login password (maximum length 16):1234  //</span><span style="color:#000000;">密码为1234</span></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="background-color:#808080;"><span style="color:#000000;">[R1-ui-vty0-4]user privilege level 15  //</span><span style="color:#000000;">设置用户权限为15</span></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="background-color:#808080;"><span style="color:#000000;">[R1-ui-vty0-4]quit</span></span></p> 
<p style="margin-left:10pt;text-align:justify;">（3）基本ACL配置</p> 
<p style="margin-left:10pt;text-align:justify;"><span style="background-color:#808080;"><span style="color:#000000;">[R1]acl 2000</span></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="background-color:#808080;"><span style="color:#000000;">[R1-acl-basic-2000]rule 10 deny source 192.168.2.1 0.0.0.0</span></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="background-color:#808080;"><span style="color:#000000;">[R1-acl-basic-2000]rule 20 permit  //</span><span style="color:#000000;">因为不是应用在接口，所以ACL拒绝所有</span></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="background-color:#808080;"><span style="color:#000000;">[R1]user-interface vty 0 4</span></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="background-color:#808080;"><span style="color:#000000;">[R1-ui-vty0-4]acl 2000 inbound   //</span><span style="color:#000000;">在VTY下调用 ACL 2000</span></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="background-color:#808080;"><span style="color:#000000;">[R1-ui-vty0-4]quit</span></span></p> 
<p style="margin-left:10pt;text-align:justify;"></p> 
<p style="margin-left:10pt;text-align:justify;"></p> 
<ol><li style="text-align:justify;">实验调试</li></ol> 
<p style="margin-left:10pt;text-align:justify;">（1）查看R2是否可以telnet R1</p> 
<p style="margin-left:10pt;text-align:justify;"><span style="background-color:#808080;"><span style="color:#000000;">&lt;R2&gt;telnet 192.168.1.254</span></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="background-color:#808080;"><span style="color:#000000;">  Press CTRL_] to quit telnet mode</span></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="background-color:#808080;"><span style="color:#000000;">  Trying 192.168.1.254 ...</span></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="background-color:#808080;"><span style="color:#000000;">  Connected to 192.168.1.254 ...</span></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="background-color:#808080;"><span style="color:#000000;">Login authentication</span></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="background-color:#808080;"><span style="color:#000000;">Password:</span></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="background-color:#808080;"><span style="color:#000000;">&lt;R1&gt;</span></span></p> 
<p style="margin-left:10pt;text-align:justify;">通过以上输出，可以看到R2可以telnet R1。</p> 
<p style="margin-left:10pt;text-align:justify;">（3）查看R3是否可以telnet R1</p> 
<p style="margin-left:10pt;text-align:justify;"></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="background-color:#808080;"><span style="color:#000000;">&lt;R3&gt;telnet 192.168.2.254</span></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="background-color:#808080;"><span style="color:#000000;">  Press CTRL_] to quit telnet mode</span></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="background-color:#808080;"><span style="color:#000000;">  Trying 192.168.2.254 ...</span></span></p> 
<p style="margin-left:10pt;text-align:justify;">通过以上输出可以看到R3不能telnetR1，验证了实验的正确性。</p> 
<p style="margin-left:10pt;text-align:justify;"></p> 
<h3 style="margin-left:10pt;text-align:justify;"><strong><a name="_Toc103591055"></a><a name="_Toc105590811">11.6 实验五：自反ACL</a></strong></h3> 
<ol><li style="text-align:justify;">实验需求</li></ol> 
<p style="margin-left:10pt;text-align:justify;">① 掌握高级自反ACL的配置方法</p> 
<p style="margin-left:10pt;text-align:justify;">② 掌握自反ACL在接口下的应用方法</p> 
<p style="margin-left:10pt;text-align:justify;">③掌握流量过滤的基本方式</p> 
<ol><li style="text-align:justify;">实验拓扑</li></ol> 
<p style="margin-left:10pt;text-align:justify;"><u><span style="color:#008080;">实验拓扑如图11-2</span></u>0<u><span style="color:#008080;">所示：</span></u></p> 
<p style="margin-left:10pt;text-align:center;"><img alt="" height="442" src="https://images2.imgbox.com/70/4a/BnK8Lx0i_o.png" width="1200"></p> 
<p style="margin-left:10pt;text-align:center;"><u><span style="color:#008080;">图11-2</span></u>0<u><span style="color:#008080;">自反ACL </span></u></p> 
<ol><li style="text-align:justify;">实验步骤</li></ol> 
<p style="margin-left:10pt;text-align:justify;">（1）IP地址的配置</p> 
<p style="margin-left:10pt;text-align:justify;">PC1的配置<u><span style="color:#008080;">，</span></u><u><span style="color:#008080;">在ipv4下选择静态配置，输入对应的ip地址</span></u>、<u><span style="color:#008080;">子网掩码</span></u>和网关<u><span style="color:#008080;">，然后点击应用。</span></u><u><span style="color:#008080;">如图11-2</span></u>1<u><span style="color:#008080;">所示：</span></u></p> 
<p style="margin-left:10pt;text-align:justify;"><img alt="" height="1200" src="https://images2.imgbox.com/e9/54/bVgmfBrh_o.png" width="1200"></p> 
<p style="margin-left:10pt;text-align:justify;"><u><span style="color:#008080;">             </span></u><u><span style="color:#008080;">图11-2</span></u>1<u><span style="color:#008080;">在PC1上手动添加IP地址</span></u></p> 
<p style="margin-left:10pt;text-align:justify;"></p> 
<p style="margin-left:10pt;text-align:justify;">PC2的配置<u><span style="color:#008080;">如图11-2</span></u>2<u><span style="color:#008080;">所示：</span></u></p> 
<p style="margin-left:10pt;text-align:justify;"><img alt="" height="1200" src="https://images2.imgbox.com/3e/6a/b0HlOfKG_o.png" width="1200"></p> 
<p style="margin-left:10pt;text-align:justify;"><u><span style="color:#008080;">  </span></u><u><span style="color:#008080;">图11-2</span></u>2<u><span style="color:#008080;">在PC2上手动添加IP地址</span></u></p> 
<p style="margin-left:10pt;text-align:justify;"></p> 
<p style="margin-left:10pt;text-align:justify;">R1的配置</p> 
<p style="margin-left:10pt;text-align:justify;"><span style="background-color:#808080;"><span style="color:#000000;">&lt;Huawei&gt;system-view </span></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="background-color:#808080;"><span style="color:#000000;">[Huawei]undo info-center enable </span></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="background-color:#808080;"><span style="color:#000000;">[Huawei]sysname R1</span></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="background-color:#808080;"><span style="color:#000000;">[R1]interface g0/0/0</span></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="background-color:#808080;"><span style="color:#000000;">[R1-GigabitEthernet0/0/0]ip address 192.168.1.254 24</span></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="background-color:#808080;"><span style="color:#000000;">[R1-GigabitEthernet0/0/0]undo shutdown </span></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="background-color:#808080;"><span style="color:#000000;">[R1-GigabitEthernet0/0/0]quit</span></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="background-color:#808080;"><span style="color:#000000;">[R1]interface g0/0/1</span></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="background-color:#808080;"><span style="color:#000000;">[R1-GigabitEthernet0/0/1]ip address 192.168.2.254 24</span></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="background-color:#808080;"><span style="color:#000000;">[R1-GigabitEthernet0/0/1]undo shutdown </span></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="background-color:#808080;"><span style="color:#000000;">[R1-GigabitEthernet0/0/1]quit</span></span></p> 
<p style="margin-left:10pt;text-align:justify;"></p> 
<p style="margin-left:10pt;text-align:justify;">（2）测试PC1和PC2的连通性</p> 
<p style="margin-left:10pt;text-align:justify;">PC1访问PC2<u><span style="color:#008080;">，结果如图11-2</span></u>3<u><span style="color:#008080;">所示：</span></u></p> 
<p style="margin-left:10pt;text-align:justify;"><img alt="" height="1200" src="https://images2.imgbox.com/52/87/ImT6bXLf_o.png" width="1200"></p> 
<p style="margin-left:10pt;text-align:justify;"><u><span style="color:#008080;">                             </span></u><u><span style="color:#008080;">图11-2</span></u>3<u><span style="color:#008080;">PC1</span></u><u><span style="color:#008080;">上显示的ping程序测试信息  </span></u></p> 
<p style="margin-left:10pt;text-align:justify;">通过以上输出可以看到PC1可以访问PC2。</p> 
<p style="margin-left:10pt;text-align:justify;">PC2访问PC1<u><span style="color:#008080;">，结果如图11-2</span></u>4<u><span style="color:#008080;">所示：</span></u></p> 
<p style="margin-left:10pt;text-align:justify;"><img alt="" height="1200" src="https://images2.imgbox.com/45/99/3b5PCA7X_o.png" width="1200"></p> 
<p style="margin-left:10pt;text-align:justify;"><u><span style="color:#008080;">                                </span></u><u><span style="color:#008080;">图11-2</span></u>4<u><span style="color:#008080;">PC2</span></u><u><span style="color:#008080;">上显示的ping程序测试信息  </span></u></p> 
<p style="margin-left:10pt;text-align:justify;">通过以上输出可以看到PC2可以访问PC1。</p> 
<p style="margin-left:10pt;text-align:justify;">（3）使用高级ACL实现单向访问控制</p> 
<p style="margin-left:10pt;text-align:justify;"></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="background-color:#808080;"><span style="color:#000000;">[R1]acl 3000</span></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="background-color:#808080;"><span style="color:#000000;">[R1-acl-adv-3000]rule 10 permit tcp source 192.168.2.0 0.0.0.255 destination 192.168.1.0 0.0.0.255 tcp-flag syn ack  //</span><span style="color:#000000;">允许员工办公室到总裁办公室的syn+ack报文通过，即允许对总裁办公室发起的TCP连接进行回应</span></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="background-color:#808080;"><span style="color:#000000;">[R1-acl-adv-3000]rule 20 deny tcp source 192.168.2.0 0.0.0.255 destination 192.168.1.0 0.0.0.255 tcp-flag syn  //</span><span style="color:#000000;">拒绝员工办公室到总裁办公室的syn请求报文通过，防止员工办公室主动发起TCP连接</span></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="background-color:#808080;"><span style="color:#000000;">[R1-acl-adv-3000]rule 30 deny icmp source 192.168.2.0 0.0.0.255 destination 192.168.1.0 0.0.0.255 icmp-type echo  //</span><span style="color:#000000;">拒绝员工办公室到总裁办公室的echo请求报文通过，防止员工办公室主动发起ping连通性测试。</span></span></p> 
<p style="margin-left:10pt;text-align:justify;"></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="background-color:#808080;"><span style="color:#000000;">[R1]interface g0/0/1</span></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="background-color:#808080;"><span style="color:#000000;">[R1-GigabitEthernet0/0/1]traffic-filter inbound acl 3000</span></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="background-color:#808080;"><span style="color:#000000;">[R1-GigabitEthernet0/0/1]quit</span></span></p> 
<ol><li style="text-align:justify;">实验调试</li></ol> 
<p style="margin-left:10pt;text-align:justify;">（1）测试PC1是否可以访问PC2<u><span style="color:#008080;">，结果如图11-2</span></u>5<u><span style="color:#008080;">所示：</span></u></p> 
<p style="margin-left:10pt;text-align:justify;"><img alt="" height="1200" src="https://images2.imgbox.com/9d/45/doW8xg4t_o.png" width="1200"></p> 
<p style="margin-left:10pt;text-align:justify;"><u><span style="color:#008080;">                                     </span></u><u><span style="color:#008080;">图11-2</span></u>5<u><span style="color:#008080;"> PC1</span></u><u><span style="color:#008080;">上显示的ping程序测试信息  </span></u></p> 
<p style="margin-left:10pt;text-align:justify;">通过以上输出，可以看到PC1可以访问PC2。</p> 
<p style="margin-left:10pt;text-align:justify;">（2）测试PC2是否可以访问PC1<u><span style="color:#008080;">，结果如图11-2</span></u>6<u><span style="color:#008080;">所示：</span></u></p> 
<p style="margin-left:10pt;text-align:justify;"><img alt="" height="1200" src="https://images2.imgbox.com/c9/4a/gOmTEd8B_o.png" width="1200"></p> 
<p style="margin-left:10pt;text-align:justify;"><u><span style="color:#008080;">                                  </span></u><u><span style="color:#008080;">图11-2</span></u>6<u><span style="color:#008080;">PC2</span></u><u><span style="color:#008080;">上显示的ping程序测试信息  </span></u></p> 
<p style="margin-left:10pt;text-align:justify;">通过以上输出可以看到PC2不能主动访问PC1，达到实验目的，实验结束。</p> 
<h3 style="margin-left:10pt;text-align:justify;"><strong><a name="_Toc103591056"></a><a name="_Toc105590812">11.7 ACL命令汇总</a></strong></h3> 
<p style="margin-left:10pt;text-align:justify;"><span style="color:#ff0000;"><s><span style="color:#ff0000;">同上</span></s><u><span style="color:#008080;">表11-1列出了本章出现的命令</span></u></span></p> 
<p style="margin-left:10pt;text-align:justify;"><span style="color:#ff0000;"><u><span style="color:#008080;">                                                                    </span></u></span><span style="color:#ff0000;"><u><span style="color:#008080;">表11-1 ACL命令汇总</span></u></span></p> 
<table border="1" cellspacing="0" style="margin-left:21pt;"><tbody><tr><td style="border-color:#000000;vertical-align:top;width:274.7pt;"> <p style="margin-left:10pt;text-align:justify;">命令</p> </td><td style="border-color:#000000;vertical-align:top;width:274.7pt;"> <p style="margin-left:10pt;text-align:justify;">作用</p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;width:274.7pt;"> <p style="margin-left:10pt;text-align:justify;"><strong>acl</strong> 2000</p> </td><td style="vertical-align:top;width:274.7pt;"> <p style="margin-left:10pt;text-align:justify;">创建ACL2000</p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;width:274.7pt;"> <p style="margin-left:10pt;text-align:justify;"><strong>rule deny source </strong>192.168.1.0  0.0.0.255</p> </td><td style="vertical-align:top;width:274.7pt;"> <p style="margin-left:10pt;text-align:justify;">拒绝192.168.1.0这个网段</p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;width:274.7pt;"> <p style="margin-left:10pt;text-align:justify;"><strong>traffic-filter inbound acl 2000</strong></p> </td><td style="vertical-align:top;width:274.7pt;"> <p style="margin-left:10pt;text-align:justify;">在接口上配置基于ACL对报文进行过滤。</p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;width:274.7pt;"> <p style="margin-left:10pt;text-align:justify;">display acl</p> </td><td style="vertical-align:top;width:274.7pt;"> <p style="margin-left:10pt;text-align:justify;">查看ACL的配置信息</p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;width:274.7pt;"> <p style="margin-left:10pt;text-align:justify;">time-range</p> </td><td style="vertical-align:top;width:274.7pt;"> <p style="margin-left:10pt;text-align:justify;">定义时间</p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;width:274.7pt;"> <p style="margin-left:10pt;text-align:justify;">display time-range</p> </td><td style="vertical-align:top;width:274.7pt;"> <p style="margin-left:10pt;text-align:justify;">查看时间段信息</p> </td></tr></tbody></table> 
<p style="margin-left:0cm;">本文出自作者的《华为认证HCIA-datacom认证实验指南》</p> 
<p style="margin-left:0cm;"><img alt="" height="1200" src="https://images2.imgbox.com/c9/72/Od8UXJDN_o.jpg" width="1200"></p> 
<p style="margin-left:0;text-align:justify;"></p> 
<p></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/b572e0d8ad2819799240861b28cae7c7/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">MySQL加速原理</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/2c4f211091ac569712f0ee18ccf0b0b4/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">CS和BS的区别</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>