<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【Linux脚本篇】Linux循环语句-while - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【Linux脚本篇】Linux循环语句-while" />
<meta property="og:description" content="目录
🍁while的语法格式
🍁while循环案例
🍃案例一：输出10-1的降序
🍃案例二：输出10的升序和降序
🍃案例三：批量创建用户
🍁内置跳出循环
🍃案例一：exit退出脚本
🍃案例二：break跳出本次循环
🍃案例三：continue结束本次循环
🦐博客主页：大虾好吃吗的博客
🦐专栏地址：Linux从入门到精通
for循环语句非常适用于列表对象无规律，且列表来源固定（如某个列表文件）的场合。而对要求控制循环次数，操作对象按数字顺序编号，按特定条件执行重复操作等情况，则更适合使用另外一种循环——while。
循环语句的条件只要成立，就会循环执行命令，直到命令不成立。
while的语法格式 true条件，表示变量为真，无线循环直到遇到退出或停止命令才会停止。
#!/bin/bash while true do 命令 done 限制次数循环，let i&#43;&#43;，每次加1，从零开始小于等于10以内的次数，如果大于10则停止循环。
#!/bin/bash i=0 while [ $i -le 10 ] do 命令 let i&#43;&#43; done while循环案例 我们已经知道了循环语法的格式，上面基本的语法格式一定要牢记，下面我们通过几个简单的案例来看一下怎么使用。
案例一：输出10-1的降序 输出从10到1的两列降序数字，并计算出总和。
[root@daxia sh]# vim while1.sh #!/bin/bash i=10 while [ $i -gt 0 ] do sum=$(( $i &#43; $i )) echo $i &#43; $i = $sum let i-- done [root@daxia sh]# sh while1." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/853215c6d574b74f6a57ec8038fbf0c4/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-06-14T14:43:59+08:00" />
<meta property="article:modified_time" content="2023-06-14T14:43:59+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【Linux脚本篇】Linux循环语句-while</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <blockquote> 
 <p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/2d/c7/W0qJ4CNc_o.gif"></p> 
</blockquote> 
<blockquote> 
 <p id="main-toc"><strong>目录</strong></p> 
 <p id="while%E7%9A%84%E8%AF%AD%E6%B3%95%E6%A0%BC%E5%BC%8F-toc" style="margin-left:0px;">🍁<a href="#while%E7%9A%84%E8%AF%AD%E6%B3%95%E6%A0%BC%E5%BC%8F" rel="nofollow">while的语法格式</a></p> 
 <p id="while%E5%BE%AA%E7%8E%AF%E6%A1%88%E4%BE%8B-toc" style="margin-left:0px;">🍁<a href="#while%E5%BE%AA%E7%8E%AF%E6%A1%88%E4%BE%8B" rel="nofollow">while循环案例</a></p> 
 <p id="%E6%A1%88%E4%BE%8B%E4%B8%80%EF%BC%9A%E8%BE%93%E5%87%BA10-1%E7%9A%84%E9%99%8D%E5%BA%8F-toc" style="margin-left:40px;">🍃<a href="#%E6%A1%88%E4%BE%8B%E4%B8%80%EF%BC%9A%E8%BE%93%E5%87%BA10-1%E7%9A%84%E9%99%8D%E5%BA%8F" rel="nofollow">案例一：输出10-1的降序</a></p> 
 <p id="%E6%A1%88%E4%BE%8B%E4%BA%8C%EF%BC%9A%E8%BE%93%E5%87%BA10%E7%9A%84%E5%8D%87%E5%BA%8F%E5%92%8C%E9%99%8D%E5%BA%8F-toc" style="margin-left:40px;">🍃<a href="#%E6%A1%88%E4%BE%8B%E4%BA%8C%EF%BC%9A%E8%BE%93%E5%87%BA10%E7%9A%84%E5%8D%87%E5%BA%8F%E5%92%8C%E9%99%8D%E5%BA%8F" rel="nofollow">案例二：输出10的升序和降序</a></p> 
 <p id="%E6%A1%88%E4%BE%8B%E4%B8%89%EF%BC%9A%E6%89%B9%E9%87%8F%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7-toc" style="margin-left:40px;">🍃<a href="#%E6%A1%88%E4%BE%8B%E4%B8%89%EF%BC%9A%E6%89%B9%E9%87%8F%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7" rel="nofollow">案例三：批量创建用户</a></p> 
 <p id="%E5%86%85%E7%BD%AE%E8%B7%B3%E5%87%BA%E5%BE%AA%E7%8E%AF-toc" style="margin-left:0px;">🍁<a href="#%E5%86%85%E7%BD%AE%E8%B7%B3%E5%87%BA%E5%BE%AA%E7%8E%AF" rel="nofollow">内置跳出循环</a></p> 
 <p id="%E6%A1%88%E4%BE%8B%E4%B8%80%EF%BC%9Aexit%E9%80%80%E5%87%BA%E8%84%9A%E6%9C%AC-toc" style="margin-left:40px;">🍃<a href="#%E6%A1%88%E4%BE%8B%E4%B8%80%EF%BC%9Aexit%E9%80%80%E5%87%BA%E8%84%9A%E6%9C%AC" rel="nofollow">案例一：exit退出脚本</a></p> 
 <p id="%E6%A1%88%E4%BE%8B%E4%BA%8C%EF%BC%9Abreak%E8%B7%B3%E5%87%BA%E6%9C%AC%E6%AC%A1%E5%BE%AA%E7%8E%AF-toc" style="margin-left:40px;">🍃<a href="#%E6%A1%88%E4%BE%8B%E4%BA%8C%EF%BC%9Abreak%E8%B7%B3%E5%87%BA%E6%9C%AC%E6%AC%A1%E5%BE%AA%E7%8E%AF" rel="nofollow">案例二：break跳出本次循环</a></p> 
 <p id="%E6%A1%88%E4%BE%8B%E4%B8%89%EF%BC%9Acontinue%E7%BB%93%E6%9D%9F%E6%9C%AC%E6%AC%A1%E5%BE%AA%E7%8E%AF-toc" style="margin-left:40px;">🍃<a href="#%E6%A1%88%E4%BE%8B%E4%B8%89%EF%BC%9Acontinue%E7%BB%93%E6%9D%9F%E6%9C%AC%E6%AC%A1%E5%BE%AA%E7%8E%AF" rel="nofollow">案例三：continue结束本次循环</a></p> 
 <hr id="hr-toc"> 
 <p>   🦐博客主页：<a href="https://blog.csdn.net/qq_61116007?spm=1011.2415.3001.5343" title="大虾好吃吗的博客">大虾好吃吗的博客</a></p> 
 <p>   🦐专栏地址：<a href="https://blog.csdn.net/qq_61116007/category_12253732.html?spm=1001.2014.3001.5482" title="Linux从入门到精通">Linux从入门到精通</a></p> 
</blockquote> 
<p>        for循环语句非常适用于列表对象无规律，且列表来源固定（如某个列表文件）的场合。<strong>而对要求控制循环次数，操作对象按数字顺序编号，按特定条件执行重复操作等情况，则更适合使用另外一种循环</strong>——<strong><span style="color:#fe2c24;">while</span></strong>。</p> 
<p>        <span style="color:#fe2c24;"><strong>循环语句的条件只要成立，就会循环执行命令，直到命令不成立。</strong></span></p> 
<h2 id="while%E7%9A%84%E8%AF%AD%E6%B3%95%E6%A0%BC%E5%BC%8F">while的语法格式</h2> 
<p>        true条件，表示变量为真，无线循环直到遇到退出或停止命令才会停止。</p> 
<pre><code class="language-bash">#!/bin/bash
while true
do
    命令
done</code></pre> 
<p>限制次数循环，let i++，每次加1，从零开始小于等于10以内的次数，如果大于10则停止循环。</p> 
<pre><code class="language-bash">#!/bin/bash
i=0
while [ $i -le 10 ]
do
    命令
    let i++
done</code></pre> 
<h2 id="while%E5%BE%AA%E7%8E%AF%E6%A1%88%E4%BE%8B">while循环案例</h2> 
<p>        我们已经知道了循环语法的格式，上面基本的语法格式一定要牢记，下面我们通过几个简单的案例来看一下怎么使用。</p> 
<h3 id="%E6%A1%88%E4%BE%8B%E4%B8%80%EF%BC%9A%E8%BE%93%E5%87%BA10-1%E7%9A%84%E9%99%8D%E5%BA%8F">案例一：输出10-1的降序</h3> 
<p>输出从10到1的两列降序数字，并计算出总和。</p> 
<pre><code class="language-bash">[root@daxia sh]# vim while1.sh
#!/bin/bash
i=10
while [ $i -gt 0 ]
do
        sum=$(( $i + $i ))
        echo $i + $i = $sum
        let i--
done
[root@daxia sh]# sh while1.sh 
10 + 10 = 20
9 + 9 = 18
8 + 8 = 16
7 + 7 = 14
6 + 6 = 12
5 + 5 = 10
4 + 4 = 8
3 + 3 = 6
2 + 2 = 4
1 + 1 = 2</code></pre> 
<h3 id="%E6%A1%88%E4%BE%8B%E4%BA%8C%EF%BC%9A%E8%BE%93%E5%87%BA10%E7%9A%84%E5%8D%87%E5%BA%8F%E5%92%8C%E9%99%8D%E5%BA%8F">案例二：输出10的升序和降序</h3> 
<p>我们看下面的语句中，a++和b--表示a 每次循环加一,b每次循环减一，这样从一开始计算每个相加的结果都是11。</p> 
<pre><code class="language-bash">[root@daxia sh]# vim while2.sh
#!/bin/bash
a=1
b=10
while [ $a -le 10 ]
do
        sum=$(( $a + $b ))
        echo $a + $b =$sum
        let a++
        let b--
done
[root@daxia sh]# sh while2.sh 
1 + 10 =11
2 + 9 =11
3 + 8 =11
4 + 7 =11
5 + 6 =11
6 + 5 =11
7 + 4 =11
8 + 3 =11
9 + 2 =11
10 + 1 =11</code></pre> 
<h3 id="%E6%A1%88%E4%BE%8B%E4%B8%89%EF%BC%9A%E6%89%B9%E9%87%8F%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7">案例三：批量创建用户</h3> 
<p>        我们之前用for语句执行过，这回我们看看while是怎么创建用户的吧。这里的批量创建用户表示把一个多个人名写在一个文本文档里，通过文档内容循环创建用户。</p> 
<p>        创建用户的脚本首先考虑到的是安全问题，判断当前用户是不是管理员，如果不是就不让他使用。循环里面套判断，如果是管理员就创建，sleep表示等待1秒再循环。</p> 
<pre><code class="language-bash">[root@daxia sh]# cat &gt;&gt; user.txt &lt; end
z3
l4
w5
end
#!/bin/bash
while read user
do
        id $user &amp;&gt; /dev/null
        if [ $? -eq 0 ];then
                echo "useradd: $user 你不是管理员 无权创建"
        else
                useradd $user &amp;&gt;&gt; /dev/null
                echo "user: $user 创建成功"
        fi
        echo $user
        sleep 1
done&lt;user.txt
[root@daxia sh]# sh while3.sh 
user: z3 创建成功
z3
user: l4 创建成功
l4
user: w5 创建成功
w5</code></pre> 
<h2 id="%E5%86%85%E7%BD%AE%E8%B7%B3%E5%87%BA%E5%BE%AA%E7%8E%AF">内置跳出循环</h2> 
<p>格式如下：</p> 
<blockquote> 
 <p>exit 退出脚本，剩下的命令不执行。</p> 
 <p>break 跳出循环，但会执行循环后面的命令。</p> 
 <p>continue 结束本次循环，但继续下次循环，包括循环后面的命令。</p> 
</blockquote> 
<p>注意：这里说的是循环，for语句和while语句都可以使用。</p> 
<h3 id="%E6%A1%88%E4%BE%8B%E4%B8%80%EF%BC%9Aexit%E9%80%80%E5%87%BA%E8%84%9A%E6%9C%AC">案例一：exit退出脚本</h3> 
<p>        在脚本中也写到了，我在第一个echo后面写入了一个exit，这样本应该循环三遍的“你好...”结果只显示了一个，而第三个echo也没有打印出来。</p> 
<pre><code class="language-bash">[root@daxia sh]# vim test1.sh
#!/bin/bash
for i in {1..3}
do
        echo "你好，我是大虾好吃吗"
        exit
        echo "这里的打印不出来"
done
echo "这里的也打印不出来"
[root@daxia sh]# sh test1.sh 
你好，我是大虾好吃吗</code></pre> 
<h3 id="%E6%A1%88%E4%BE%8B%E4%BA%8C%EF%BC%9Abreak%E8%B7%B3%E5%87%BA%E6%9C%AC%E6%AC%A1%E5%BE%AA%E7%8E%AF">案例二：break跳出本次循环</h3> 
<p>        break的用法如下，表示退出循环，执行第一个echo后遇到break，直接退出循环命令，从而执行第三个echo命令。所以执行的时候只打印了一次第一个echo命令和第三个echo命令。</p> 
<pre><code class="language-bash">[root@daxia sh]# vim test2.sh
#!/bin/bash
for i in {1..3}
do
        echo "你好，我是大虾好吃吗"
        break
        echo "这里打印不出来"
done
echo "你好，大虾好吃吗"
[root@daxia sh]# sh test2.sh 
你好，我是大虾好吃吗
你好，大虾好吃吗</code></pre> 
<h3 id="%E6%A1%88%E4%BE%8B%E4%B8%89%EF%BC%9Acontinue%E7%BB%93%E6%9D%9F%E6%9C%AC%E6%AC%A1%E5%BE%AA%E7%8E%AF">案例三：continue结束本次循环</h3> 
<p>        continue的用法如下，表示结束本次循环继而从新执行循环语句，并且按照取值范围来循环，直到循环结束则执行第三个echo命令。</p> 
<pre><code class="language-bash">[root@daxia sh]# vim test3.sh
#!/bin/bash
for i in {1..3}
do
        echo "你好，我是大虾好吃吗"
        continue
        echo "这里打印不出来"
done
echo "你好，大虾好吃吗"
[root@daxia sh]# sh test3.sh 
你好，我是大虾好吃吗
你好，我是大虾好吃吗
你好，我是大虾好吃吗
你好，大虾好吃吗</code></pre> 
<p>         学到这里，就可以独立写一些简单的脚本了，结合前面几篇文章的案例，自行写一个学生管理系统。我这里给出一点提议，执行脚本必须符合管理者身份，学员管理要有多级目录，目录内需要创建、删除、修改学员信息等。里面需要应用多种变量及循环判断语句，多加思考，善于分辨当前层级。 <img alt="" src="https://images2.imgbox.com/4c/64/mzCi8fKK_o.gif"></p> 
<p><span style="color:#fe2c24;"><strong>                                创作不易，求关注，点赞，收藏，学习，谢谢~</strong></span></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/8452b0998123178d2456267ab365a72e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">正则表达式去 字符串空格</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/0e0302f2276d8647a35915db7cde3ad9/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">CSS样式中的:root伪类</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>