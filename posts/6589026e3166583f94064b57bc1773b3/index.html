<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>loadrunner录制事件为0_测试工具LoadRunner常见问题汇总，解决方案整理 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="loadrunner录制事件为0_测试工具LoadRunner常见问题汇总，解决方案整理" />
<meta property="og:description" content="LoadRunner是一种预测系统行为和性能的负载测试工具。通过以模拟上千万用户实施并发负载及实时性能监测的方式来确认和查找问题，可适用于各种体系架构的自动负载测试，能预测系统行为并评估系统性能。
我们在使用它进行测试的过程中经常会遇到一些错误，这些错误可能是由于设置不当引起，也有可能是选项设置引起，更有可能是测试执行中的一些细节没有注意而引起的，在此做一个系列总结。
1、LoadRunner超时错误如何解决?
在录制Web协议脚本回放时超时情况经常出现，产生错误的原因也有很多，解决的方法也不同。
错误现象1：Action.c(16)： Error -27728: Step download timeout (120 seconds) has expired when downloading non-resource(s)。
错误分析：对于HTTP协议，默认的超时时间是120秒(可以在LoadRunner中修改)，客户端发送一个请求到服务器端，如果超过120秒服务器端还没有返回结果，则出现超时错误。
解决办法：首先在运行环境中对超时进行设置，默认的超时时间可以设置长一些，再设置多次迭代运行，如果还有超时现象，需要在&#34;Runtime Setting&#34;&gt;&#34;Internet Protocol：Preferences&#34;&gt;&#34;Advanced&#34;区域中设置一个&#34;winlnet replay instead of sockets&#34;选项，再回放是否成功。
错误现象2：Action.c(81)：Continuing after Error -27498: Timed out while processing URL= querystat/ subOrderQuery.do
错误分析：这种错误常常是因为并发压力过大，服务器端太繁忙，无法及时响应客户端的请求而造成的，所以这个错误是正常现象，是压力过大造成的。
如果压力很小就出现这个问题，可能是脚本某个地方有错误，要仔细查看脚本，提示的错误信息会定位某个具体问题发生的位置。
解决办法：例如上面的错误现象问题定位在某个URL上，需要再次运行一下场景，同时在其他机器上访问此URL。如果不能访问或时间过长，可能是服务器或者此应用不能支撑如此之大的负载。分析一下服务器，最好对其性能进行优化。
如果再次运行场景后还有超时现象，就要在各种图形中分析一下原因，例如可以查看是否服务器、DNS、网络等方面存在问题。
最后，增加一下运行时的超时设置，在&#34;Run-Time Settings&#34;&gt;&#34;Internet Protocol:Preferences&#34;中，单击&#34;options&#34;，增加&#34;HTTP-request connect timeout&#34;或者&#34;HTTP-request receive&#34;的值。
2、 LoadRunner脚本中出现乱码：
在录制Web协议脚本时出现中文乱码，在回放脚本时会使回放停止在乱码位置，脚本无法运行。
错误现象：某个链接或者图片名称为中文乱码，脚本运行无法通过。
错误分析：脚本录制可能采用的是URL-based script方式，如果程序定义的字符集合采用的是国际标准，脚本就会出现乱码现象。
解决办法：重新录制脚本，在录制脚本前，打开录制选项配置对话框进行设置，在&#34;Recording Options&#34;的&#34;Advanced&#34;选项里先将&#34;Surport Charset&#34;选中，然后选中支持&#34;UTF-8&#34;的选项。
3、 LoadRunner HTTP服务器状态代码：
在录制Web协议脚本回放的过程中，会出现HTTP服务器状态代码，例如常见的页面-404错误提示、-500错误提示。
错误现象1：-404 Not Found服务器没有找到与请求URL相符的资源，但还可以继续运行直到结束。
错误分析：此处与请求URL相符的资源在录制脚本时已经被提交过一次，回放时不可再重复提交同样的资源，而需要更改提交资源的内容，每次回放一次脚本都要改变提交的数据，保证模拟实际环境，造成一定的负载压力。
解决办法：在出现错误的位置进行脚本关联，在必要时插入相应的函数。
错误现象2：-500 Internal Server Error服务器内部错误，脚本运行停止。
错误分析：服务器碰到了意外情况，使其无法继续回应请求。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/6589026e3166583f94064b57bc1773b3/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-11-24T10:04:42+08:00" />
<meta property="article:modified_time" content="2020-11-24T10:04:42+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">loadrunner录制事件为0_测试工具LoadRunner常见问题汇总，解决方案整理</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div style="font-size:16px;"> 
 <p>LoadRunner是一种预测系统行为和性能的负载测试工具。通过以模拟上千万用户实施并发负载及实时性能监测的方式来确认和查找问题，可适用于各种体系架构的自动负载测试，能预测系统行为并评估系统性能。</p> 
 <p>我们在使用它进行测试的过程中经常会遇到一些错误，这些错误可能是由于设置不当引起，也有可能是选项设置引起，更有可能是测试执行中的一些细节没有注意而引起的，在此做一个系列总结。</p> 
 <div class="pgc-img"> 
  <img src="https://images2.imgbox.com/a8/41/g0CLwkKT_o.png" alt="0a17a570a3750e329dcdd13cf63e55d3.png"> 
 </div> 
 <p><strong>1、LoadRunner超时错误如何解决?</strong></p> 
 <p>在录制Web协议脚本回放时超时情况经常出现，产生错误的原因也有很多，解决的方法也不同。</p> 
 <p>错误现象1：Action.c(16)： Error -27728: Step download timeout (120 seconds) has expired when downloading non-resource(s)。</p> 
 <p>错误分析：对于HTTP协议，默认的超时时间是120秒(可以在LoadRunner中修改)，客户端发送一个请求到服务器端，如果超过120秒服务器端还没有返回结果，则出现超时错误。</p> 
 <p>解决办法：首先在运行环境中对超时进行设置，默认的超时时间可以设置长一些，再设置多次迭代运行，如果还有超时现象，需要在"Runtime Setting"&gt;"Internet Protocol：Preferences"&gt;"Advanced"区域中设置一个"winlnet replay instead of sockets"选项，再回放是否成功。</p> 
 <p>错误现象2：Action.c(81)：Continuing after Error -27498: Timed out while processing URL= querystat/ subOrderQuery.do</p> 
 <p>错误分析：这种错误常常是因为并发压力过大，服务器端太繁忙，无法及时响应客户端的请求而造成的，所以这个错误是正常现象，是压力过大造成的。</p> 
 <p>如果压力很小就出现这个问题，可能是脚本某个地方有错误，要仔细查看脚本，提示的错误信息会定位某个具体问题发生的位置。</p> 
 <p>解决办法：例如上面的错误现象问题定位在某个URL上，需要再次运行一下场景，同时在其他机器上访问此URL。如果不能访问或时间过长，可能是服务器或者此应用不能支撑如此之大的负载。分析一下服务器，最好对其性能进行优化。</p> 
 <p>如果再次运行场景后还有超时现象，就要在各种图形中分析一下原因，例如可以查看是否服务器、DNS、网络等方面存在问题。</p> 
 <p>最后，增加一下运行时的超时设置，在"Run-Time Settings"&gt;"Internet Protocol:Preferences"中，单击"options"，增加"HTTP-request connect timeout"或者"HTTP-request receive"的值。</p> 
 <div class="pgc-img"> 
  <img src="https://images2.imgbox.com/d3/24/ut1X3G4u_o.png" alt="bf975fc32c887e81afb7718e04c420b4.png"> 
 </div> 
 <p><strong>2、</strong> <strong>LoadRunner脚本中出现乱码：</strong></p> 
 <p>在录制Web协议脚本时出现中文乱码，在回放脚本时会使回放停止在乱码位置，脚本无法运行。</p> 
 <p>错误现象：某个链接或者图片名称为中文乱码，脚本运行无法通过。</p> 
 <p>错误分析：脚本录制可能采用的是URL-based script方式，如果程序定义的字符集合采用的是国际标准，脚本就会出现乱码现象。</p> 
 <p>解决办法：重新录制脚本，在录制脚本前，打开录制选项配置对话框进行设置，在"Recording Options"的"Advanced"选项里先将"Surport Charset"选中，然后选中支持"UTF-8"的选项。</p> 
 <p>3、 <strong>LoadRunner HTTP服务器状态代码：</strong></p> 
 <p>在录制Web协议脚本回放的过程中，会出现HTTP服务器状态代码，例如常见的页面-404错误提示、-500错误提示。</p> 
 <p>错误现象1：-404 Not Found服务器没有找到与请求URL相符的资源，但还可以继续运行直到结束。</p> 
 <p>错误分析：此处与请求URL相符的资源在录制脚本时已经被提交过一次，回放时不可再重复提交同样的资源，而需要更改提交资源的内容，每次回放一次脚本都要改变提交的数据，保证模拟实际环境，造成一定的负载压力。</p> 
 <p>解决办法：在出现错误的位置进行脚本关联，在必要时插入相应的函数。</p> 
 <p>错误现象2：-500 Internal Server Error服务器内部错误，脚本运行停止。</p> 
 <p>错误分析：服务器碰到了意外情况，使其无法继续回应请求。</p> 
 <p>解决办法：出现此错误是致命的，说明问题很严重，需要从问题的出现位置进行检查，此时需要此程序的开发人员配合来解决，而且产生的原因根据实际情况来定，测试人员无法单独解决问题，而且应该尽快解决，以便于后面的测试。</p> 
 <div class="pgc-img"> 
  <img src="https://images2.imgbox.com/aa/39/Wp5ZQYoT_o.png" alt="6e81db0732e69ff11c4112354e293404.png"> 
 </div> 
 <p>4、 <strong>LoadRunner请求无法找到：</strong></p> 
 <p>在录制Web协议脚本回放脚本的过程中，会出现请求无法找到的现象，而导致脚本运行停止。</p> 
 <p>错误现象：Action.c(41): Error -27979: Requested form not found [MsgId: MERR-27979]</p> 
 <p>Action.c(41): web_submit_form highest severity level was "ERROR",0 body bytes, 0 header bytes [MsgId: MMSG-27178]"</p> 
 <p>这时在tree view中看不到此组件的相关URL。</p> 
 <p>错误分析：所选择的录制脚本模式不正确，通常情况下，基于浏览器的Web应用会使用"HTML-based script"模式来录制脚本；而没有基于浏览器的Web应用、Web应用中包含了与服务器进行交互的Java Applet、基于浏览器的应用中包含了向服务器进行通信的JavaScript/VBScript代码、基于浏览器的应用中使用HTTPS安全协议，这 时则使用"URL-based script"模式进行录制。</p> 
 <p>解决办法：打开录制选项配置对话框进行设置，在"Recording Options"的"Internet Protocol"选项里的"Recording"中选择"Recording Level"为"HTML-based script"，单击"HTML Advanced"，选择"Script Type"为"A script containing explicit"。然后再选择使用"URL-based script"模式来录制脚本。</p> 
 <div class="pgc-img"> 
  <img src="https://images2.imgbox.com/16/a1/wE3a0AAS_o.png" alt="d67b92909f744b3ebb4a47639ef5c07c.png"> 
 </div> 
 <p><strong>5、LoadRunner其它问题</strong></p> 
 <p>①Java执行场景时并发数上不去</p> 
 <p>原因：Spring框架重定向问题</p> 
 <p>解决：将修改为scope="prototype"</p> 
 <p>②在场景设置中监控不到服务器</p> 
 <p>原因：服务没有开启</p> 
 <p>解决：打开服务→开启相关服务(首先检查Remote Registry服务，然后在开启computer browser，如果computer browser无法开启，检查server、workstation服务)</p> 
 <p>③在生成结果中采集的数据不一致</p> 
 <p>原因：由于采样的时间</p> 
 <p>(1).在摘要中，时间是根据整个场景执行的过程进行采样</p> 
 <p>(2).在平均事务响应时间主要是按照Loadrunner分析出来的采样频率来获取</p> 
 <p>解决：可通过"set granularity"来修改平均事务响应时间的采样频率，设为场景执行时间，结果会一致。</p> 
 <p>④SilverLight中脚本回放错误</p> 
 <p>原因：缺少SOAPAtion包头</p> 
 <p>解决：在录制中打开Options(选项)→Advanced(高级)→Headers(标题)→Recourd headers in list→添加包头</p> 
 <p>⑤microsoft.net协议中无法查看数据文件</p> 
 <p>原因：默认次方式离职脚本中生成的数据文件类型为Binary，需修改为XML格式</p> 
 <p>解决：在录制中打开Options(选项)→Microsoft.net→Recording→serializatioformat改为XML即可</p> 
 <p>总结：</p> 
 <p>学性能测试的工具，如果能精通掌握就深入精通，大到所有的菜单工具栏里面的功能就会，小到每一个细节设置都是掌控到很精通，别人了解，略懂的工具我们可以轻松应用到项目实战中，这样才能真正成为一名专业的软件测试人员！</p> 
 <p><strong>请关注+私信回复：“测试”就可以免费拿到软件测试学习资料。</strong></p> 
 <div class="pgc-img"> 
  <img src="https://images2.imgbox.com/95/5d/dqugnI9e_o.png" alt="afb380182bff2921e64874965a37e564.png"> 
 </div> 
</div>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/c1718adc8f181205ce205dd72efd3070/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Linux(入门基础):18---Linux下sleep函数与usleep函数</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b2e1c1d2b3a9ac39f804e1aceb0e7783/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">armeabi,armeabi-v7a，arm64- v8a的不同</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>