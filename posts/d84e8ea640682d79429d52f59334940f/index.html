<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Halcon算子学习：create_pose - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Halcon算子学习：create_pose" />
<meta property="og:description" content="create_pose 创建3D位姿
( : : TransX, TransY, TransZ, RotX, RotY, RotZ, OrderOfTransform, OrderOfRotation, ViewOfTransform : Pose)
输入：
TransX
沿x轴平移（以[m]为单位）。
默认值：0.1
建议值：-1.0，-0.75，-0.5，-0.25，-0.2，-0.1，-0.5，-0.25，-0.125，-0.01、0.0、0.01、0.125、0.25、0.5、0.1、0.2、0.25、0.5 ，0.75、1.0
TransY
沿y轴平移（以[m]为单位）。
默认值：0.1
建议值：-1.0，-0.75，-0.5，-0.25，-0.2，-0.1，-0.5，-0.25，-0.125，-0.01、0.0、0.01、0.125、0.25、0.5、0.1、0.2、0.25、0.5 ，0.75、1.0
TransZ
沿z轴平移（以[m]为单位）。
默认值：0.1
建议值：-1.0，-0.75，-0.5，-0.25，-0.2，-0.1，-0.5，-0.25，-0.125，-0.01、0.0、0.01、0.125、0.25、0.5、0.1、0.2、0.25、0.5 ，0.75、1.0
RotX
绕Rodriguez向量的x轴或x分量旋转（以[°]为单位或无单位）。
默认值：90.0
建议值：0.0、90.0、180.0、270.0
典型值范围：0≤RotX≤360
RotY
绕Rodriguez向量的y轴或y分量旋转（以[°]为单位或无单位）。
默认值：90.0
建议值：0.0、90.0、180.0、270.0
典型值范围：0≤RotY≤360
RotZ
绕Rodriguez矢量的z轴或z分量旋转（以[°]或不带单位）。
默认值：90.0
建议值：0.0、90.0、180.0、270.0
典型值范围：0≤RotZ≤360
OrderOfTransform
旋转和平移的顺序。
默认值：“ Rp &#43; T”
建议值：“ Rp &#43; T”，“ R（p-T）”
OrderOfRotation
旋转值的含义。
默认值：“ gba”
建议值：“ gba”，“ abg”，“ rodriguez”
ViewOfTransform
变换视角。
默认值：“point”" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/d84e8ea640682d79429d52f59334940f/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-10-24T11:24:23+08:00" />
<meta property="article:modified_time" content="2019-10-24T11:24:23+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Halcon算子学习：create_pose</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><img src="https://images2.imgbox.com/28/bf/AotvxFEU_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="create_pose_1"></a>create_pose</h4> 
<p>创建3D位姿<br> ( : : TransX, TransY, TransZ, RotX, RotY, RotZ, OrderOfTransform, OrderOfRotation, ViewOfTransform : Pose)<br> 输入：</p> 
<ul><li> <p>TransX<br> 沿x轴平移（以[m]为单位）。<br> 默认值：0.1<br> 建议值：-1.0，-0.75，-0.5，-0.25，-0.2，-0.1，-0.5，-0.25，-0.125，-0.01、0.0、0.01、0.125、0.25、0.5、0.1、0.2、0.25、0.5 ，0.75、1.0</p> </li><li> <p>TransY<br> 沿y轴平移（以[m]为单位）。<br> 默认值：0.1<br> 建议值：-1.0，-0.75，-0.5，-0.25，-0.2，-0.1，-0.5，-0.25，-0.125，-0.01、0.0、0.01、0.125、0.25、0.5、0.1、0.2、0.25、0.5 ，0.75、1.0</p> </li><li> <p>TransZ<br> 沿z轴平移（以[m]为单位）。<br> 默认值：0.1<br> 建议值：-1.0，-0.75，-0.5，-0.25，-0.2，-0.1，-0.5，-0.25，-0.125，-0.01、0.0、0.01、0.125、0.25、0.5、0.1、0.2、0.25、0.5 ，0.75、1.0</p> </li><li> <p>RotX<br> 绕Rodriguez向量的x轴或x分量旋转（以[°]为单位或无单位）。<br> 默认值：90.0<br> 建议值：0.0、90.0、180.0、270.0<br> 典型值范围：0≤RotX≤360</p> </li><li> <p>RotY<br> 绕Rodriguez向量的y轴或y分量旋转（以[°]为单位或无单位）。<br> 默认值：90.0<br> 建议值：0.0、90.0、180.0、270.0<br> 典型值范围：0≤RotY≤360</p> </li><li> <p>RotZ<br> 绕Rodriguez矢量的z轴或z分量旋转（以[°]或不带单位）。<br> 默认值：90.0<br> 建议值：0.0、90.0、180.0、270.0<br> 典型值范围：0≤RotZ≤360</p> </li><li> <p>OrderOfTransform<br> 旋转和平移的顺序。<br> 默认值：“ Rp + T”<br> 建议值：“ Rp + T”，“ R（p-T）”</p> </li><li> <p>OrderOfRotation<br> 旋转值的含义。<br> 默认值：“ gba”<br> 建议值：“ gba”，“ abg”，“ rodriguez”</p> </li><li> <p>ViewOfTransform<br> 变换视角。<br> 默认值：“point”<br> 建议值：“ point”，“ coordinate_system”</p> </li></ul> 
<p>输出：</p> 
<ul><li>Pose<br> 3D姿势。<br> 元素数：7</li></ul> 
<h4><a id="_60"></a>算子描述</h4> 
<p>1.create_pose创建3D姿势-Pose。 姿势描述了刚性3D变换，即由任意平移和旋转组成的变换，具有6个参数：TransX，TransY和TransZ分别指定沿x，y和z轴的平移，而RotX ，RotY和RotZ描述旋转。</p> 
<p>2.3D姿态通常以两种方式使用：首先，描述一个坐标系相对于另一坐标系的位置和方向（例如，零件坐标系相对于相机坐标系的姿态，简而言之：零件相对姿态；<br> 其次是描述如何在两个坐标系之间转换坐标（例如，将点从零件坐标转换为摄像机坐标）。</p> 
<h5><a id="3_66"></a><strong>3.方向表示（旋转）</strong></h5> 
<p>1）围绕任意轴的3D旋转可以多种方式由3个参数表示。 HALCON允许您使用参数OrderOfRotation在其中三个中进行选择：如果传递值’gba’，则旋转将通过以下围绕三个轴的旋转链来描述（有关旋转矩阵Rx,Ry,Rz的内容，请参见hom_mat3d_rotate）：<br> <img src="https://images2.imgbox.com/af/65/OwS6lSqI_o.png" alt="在这里插入图片描述"><br> 2）<mark>R<sub>gba</sub> 在文献中表示为“ Yaw-Pitch-Roll 翻滚-偏航-仰俯”</mark>。<br> 请注意，您可以通过两种方式“读取”该链：如果从右侧开始，则始终相对于全局（即固定或“旧”）坐标系进行旋转。 因此，可以理解为：首先绕着z轴旋转，然后绕着“旧” y轴旋转，最后绕着“旧” x轴旋转。 相反，如果您从左到右阅读，则相对于局部（即“新”）坐标系进行旋转。 然后，对应于以下内容：首先绕x轴旋转，绕“新” y轴旋转，最后绕“新（等）” z轴旋转。</p> 
<p>从右到左读取对应于以下算子调用顺序：</p> 
<pre><code>  hom_mat3d_identity (HomMat3DIdent)
  hom_mat3d_rotate (HomMat3DIdent, RotZ, 'z', 0, 0, 0, HomMat3DRotZ)
  hom_mat3d_rotate (HomMat3DRotZ, RotY, 'y', 0, 0, 0, HomMat3DRotYZ)
  hom_mat3d_rotate (HomMat3DRotYZ, RotX, 'x', 0, 0, 0, HomMat3DXYZ)
</code></pre> 
<p>相反，从左向右读取对应于以下算子调用顺序：</p> 
<pre><code>  hom_mat3d_identity (HomMat3DIdent)
  hom_mat3d_rotate_local (HomMat3DIdent, RotX, 'x', HomMat3DRotX)
  hom_mat3d_rotate_local (HomMat3DRotX, RotY, 'y', HomMat3DRotXY)
  hom_mat3d_rotate_local (HomMat3DRotXY, RotZ, 'z', HomMat3DXYZ)
</code></pre> 
<p>3）在OrderOfRotation中传递“ abg”时，旋转对应于以下链：<br> <img src="https://images2.imgbox.com/b3/5e/RM7Vzjyw_o.png" alt="在这里插入图片描述"><br> <mark>R<sub>abg</sub>在文献中表示为“ Roll-Pitch-Yaw 翻滚-偏航-仰俯”。</mark></p> 
<p>4）<mark>如果在OrderOfRotation中传递“rodriguez”，则旋转参数RotX，RotY和RotZ将被解释为所谓的<strong>Rodriguez旋转向量</strong>的x，y和z分量</mark>。 向量的方向定义为（任意）旋转轴。 向量的长度通常定义为正方向的旋转角度。 此处，使用Rodriguez向量的变体，其中向量的长度定义为旋转角一半的正切值：<br> <img src="https://images2.imgbox.com/14/5e/ELAtcHo4_o.png" alt="在这里插入图片描述"></p> 
<p>请注意，这些3D位姿可能是模棱两可的，这意味着齐次变换矩阵可以具有多个位姿表示形式。 例如，对于R<sub>gba</sub> (b=±90)以下位姿对应于相同的齐次变换矩阵：</p> 
<pre><code>// 两种变换形式下，最终变换后的坐标位姿一样的
  create_pose(0, 0, 0, 30 , 90, 54, 'Rp+T', 'gba', 'point', Pose1)
  create_pose(0, 0, 0, 17, 90, 67, 'Rp+T', 'gba', 'point', Pose2)
</code></pre> 
<p>如果这会导致问题，则可以改用齐次变换矩阵或四元数（axis_angle_to_quat）表示旋转。</p> 
<h5><a id="4_103"></a><strong>4.对应的齐次变换矩阵</strong></h5> 
<p>1）您可以使用运算符 pose_to_hom_mat3d 获得与姿势相对应的齐次变换矩阵。 在标准定义中，这是以下齐次变换矩阵，可以将其分解为两个单独的矩阵，一个用于平移（H（t）），一个用于旋转（H（R））：<br> <img src="https://images2.imgbox.com/ee/49/4Yvu6CZU_o.png" alt="在这里插入图片描述"><br> <strong>2）坐标转换</strong></p> 
<p>下面的等式描述了如何使用位姿（Pose）或更确切地说，即其相应的齐次变换矩阵<sup>2</sup>H<sub>1</sub> （输入和输出点作为齐次矢量，另请参见affine_trans_point_3d）将一个点的从坐标系1转换为坐标系2。 请注意，<mark>要将点从坐标系1转换为坐标系2，请使用描述坐标系1相对于坐标系2的姿态的转换矩阵（HomMat3DFrom1In2）</mark>。<br> <img src="https://images2.imgbox.com/90/79/j3hjistR_o.png" alt="在这里插入图片描述"><br> 这对应于以下算子调用：</p> 
<pre><code>  pose_to_hom_mat3d(PoseOf1In2, HomMat3DFrom1In2)
  affine_trans_point_3d(HomMat3DFrom1In2, P1X, P1Y, P1Z, P2X, P2Y, P2Z)
</code></pre> 
<p>3）非标准位姿定义</p> 
<p>到目前为止，我们已经描述了标准姿势定义。 要创建此类姿势，请为参数OrderOfTransform选择（默认）值“ Rp + T”，为ViewOfTransform选择“ point”。 通过为这些参数指定其他值，您可以创建非标准位姿类型，我们将在下面简要描述。 请注意，仅为了向后兼容才支持这些表示类型。 我们强烈建议使用标准类型。</p> 
<p>如果为OrderOfTransform选择’R（p-T）’，则创建的位姿对应于以下变换链，即旋转和平移的顺序相反，并且平移取反：<br> <img src="https://images2.imgbox.com/96/40/h29kaEr9_o.png" alt="在这里插入图片描述"><br> 如果为ViewOfTransform选择’coordinate_system’，则转换顺序保持不变，但旋转角度将被取反。 请注意，与其名称相反，这并不等同于变换坐标系<br> <img src="https://images2.imgbox.com/f4/da/cj9eu481_o.png" alt="在这里插入图片描述"><br> 4）返回的数据结构</p> 
<p>创建的3D姿势以Pose返回，该姿势是长度为7的元组。 前三个元素包含平移参数TransX，TransY和TransZ，然后是旋转参数RotX，RotY和RotZ。 最后一个元素对使用参数OrderOfTransform，OrderOfRotation和ViewOfTransform选择的姿势的表示类型进行编码。 下表列出了可能的组合。 <mark>如前所述，我们建议仅使用OrderOfTransform ='Rp + T’和ViewOfTransform ='point’的表示类型（代码0、2和4）</mark>。</p> 
<p><img src="https://images2.imgbox.com/93/bc/Pcjp3VSH_o.png" alt="在这里插入图片描述"><br> 您可以使用convert_pose_type将姿势转换为其他表示类型，并使用get_pose_type查询类型。</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/18651f6fcd22406ab7a46c5481b987b6/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">程序员的节日</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/720ba1fa534fa11a600c706ef1f06e7d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">RANSAC（随机抽样一致性）算法在sift中的应用</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>