<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>文件权限chmod与chown - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="文件权限chmod与chown" />
<meta property="og:description" content="文件权限:
r: read 读
w：write 写
x: exe 可执行
d: 文件夹
l: 链接文件
-: 普通文件
b: block 块设备
c: char 字符设备
用户 用户所属组的其他用户 其他任何用户
user group other all 所有用户
chmod [ugoa] [±=] [rwx] 文件或文件夹
设置文件权限：
chmod u&#43;w b.txt 当前用户添加写权限
chmod g&#43;w,o&#43;w b.txt 给组内其他用户添加写和other用户添加xie权限
chmod a=rw b.txt 所有用户添加 读写权限
chmod o-rw b.txt 删除其他用户的读写权限
八进制方式:
r : 4
w : 2
x : 1
6 4 4
4&#43;2
user group other" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/f02caa99bc80cadc4492edffda275725/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-09-11T19:54:19+08:00" />
<meta property="article:modified_time" content="2019-09-11T19:54:19+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">文件权限chmod与chown</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>文件权限:<br> r: read 读<br> w：write 写<br> x: exe 可执行</p> 
<p>d: 文件夹<br> l: 链接文件<br> -: 普通文件<br> b: block 块设备<br> c: char 字符设备</p> 
<p>用户 用户所属组的其他用户 其他任何用户<br> user group other all 所有用户<br> chmod [ugoa] [±=] [rwx] 文件或文件夹</p> 
<p>设置文件权限：</p> 
<ol><li> <p>chmod u+w b.txt 当前用户添加写权限<br> chmod g+w,o+w b.txt 给组内其他用户添加写和other用户添加xie权限</p> <p>chmod a=rw b.txt 所有用户添加 读写权限<br> chmod o-rw b.txt 删除其他用户的读写权限</p> </li><li> <p>八进制方式:<br> r : 4<br> w : 2<br> x : 1</p> </li></ol> 
<p>6 4 4<br> 4+2<br> user group other</p> 
<p>对于一个文件夹：<br> chmod 777 code1</p> 
<p>递归添加权限：<br> chmod -R g+w code1</p> 
<p>用户与用户组：</p> 
<p>用户和组</p> 
<pre><code> 一个用户必须有一个主组
 一个用户可以有多个组
</code></pre> 
<p>一个组可以有多个用户</p> 
<ul><li> <p>用户账户的信息存放在/etc/passwd文件中；<br> 超级用户root（0）<br> 程序用户（1~499）<br> 普通用户（500~65535）</p> <p>用户名 密码 uid gid 用户说明 家目录 shell解释器<br> python : x : 1001 : 1001 : : /home /python : /bin/sh<br> 用户的密码存放到/etc/shadow，该文件只有root可以修改；</p> </li></ul> 
<p>用户名 密码 最近更改时间 禁止修改密码的天数 到用户必须修改密码的天数 告警更改密码期限 不活动时间 标志<br> python : 636636 : 17394 : 0 : 99999 : 7 : : :<br> 组账户信息存放到/etc/group中</p> 
<p>1.新建用户<br> useradd [optional] 用户名<br> -g 指定主组名或组id，必须已经存在的组<br> -u 指定用户的id<br> -m 自动建立用户主目录<br> -d 指定用户的家目录<br> -s 指定用户登录后使用shell，默认是/bin/bash</p> 
<p>sudo useradd python</p> 
<p>只是看到在配置文件中存在用户，但是没有用户的’家’</p> 
<p>sudo useradd -m python</p> 
<p>自动创建用户的’家’，名字同用户的名字</p> 
<p>2.删除用户:</p> 
<p>userdel -r 用户名 删除用户和用户’家’目录 （/home/python）</p> 
<ol start="3"><li> <p>修改用户密码:<br> sudo passwd 用户名</p> </li><li> <p>切换用户:<br> su 用户名<br> 输入此用户的密码:</p> </li></ol> 
<p>(补充新建的用户没有sudo权限)<br> sudo su root 切换到root用户</p> 
<p>sudo su -</p> 
<p>切换到root用户，并回到root用户的家</p> 
<p>#启用root账户<br> $ sudo password root #根据提示为root输入密码<br> 必须切换到root用户<br> #设置sudo提升权限的时候不需要输入密码，需要修改/etc/sudoers文件</p> 
<p>sudo vi /etc/sudoers<br> #也可以使用工具:sudo visudo编辑<br> #Allow members of group sudo to execute any command<br> #将sudo组添加NOPASSWD:<br> %sudo ALL=(ALL:ALL) NOPASSWD: ALL<br> #然后按esc<br> :wq!</p> 
<p>#如果新添加的用户不属于sudo组，是不能使用sudo提升权限的，需要将用户添加到sudo组<br> #以属于sudo组的用户登录<br> sudo usermod -a -G sudo 用户名</p> 
<p>如果没有切换使用此命令恢复:<br> pkexec chmod 0440 /etc/sudoers</p> 
<p>了解：<br> groupadd 组名</p> 
<p>groupdel 组名</p> 
<p>groupmod -n 新组名 旧组名</p> 
<p>groups 显示所有组</p> 
<p>who<br> whoami</p> 
<p>设置目录和文件的归属<br> 使用chown命令为文件或目录设置归属<br> 命令格式：<br> chown 属主 文件或目录<br> chown :属组 文件或目录<br> chown 属主:属组 文件或目录<br> 注：同时设置属主、属组时，用户名和组名之间用冒号“：”进行分隔。如果只设置属组时，需使用“：组名”的形式。<br> 常用选项：<br> -R：递归修改指定目录下所有文件、子目录的归属</p> 
<p>sudo chown python a.txt 更改的是文件的拥有着</p> 
<p>sudo chown python1:python a.txt 更改文件的拥有着和组</p> 
<p>sudo chown :python a.txt 更改文件的组</p> 
<p>chgrp 组名 文件|文件夹</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/be1af5da3c54d7d523c89e735cc4005a/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">linux Ubuntu终端快捷键</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/660ef22f3844b1ffa407639c8cc24742/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">input输入框禁止修改的方法</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>