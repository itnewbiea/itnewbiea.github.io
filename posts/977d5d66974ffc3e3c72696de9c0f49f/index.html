<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>《小聪明》 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="《小聪明》" />
<meta property="og:description" content="目录
一、简言
一、python方面
1.1、字符串前补0
1.2、python安装包镜像网站
1.3、pip无法卸载包时
1.4、dataframe设置全行或全列显示
1.5、dataframe对某一列特征编码
1. 6、dataframe任意位置插入一列值
1.7、sklearn算法，输出特征方程
1.8、解决dataframe写入csv会出现科学技术法的情况
1.9、dataframe行转列（行列互换）
1.10、正则找出两个特定字符中间的所有内容
1.11、正则匹配字符串中的中文内容
1.12、正则匹配括号里的内容
1.13、try捕获具体报错的行数及文件
1.14、升级pip
1.15、ip地址转int类型
1.16、ip校验
1.17、特征归一化
1.18、dataframe自动转变类型
1.19、机器学习分类问题求精度
1.20、忽略警告
1.21、matplotlib图上正常显示中文
1.22、dataframe的merge与concat
1.23、字符串空白检查与替换
1.24、dataframe按某列排序
二、sql方面
2.1、hive时间格式化
2.2、hive后台load data入表
三、linux方面
3.1、linux中python设置后台运行
3.2、linux远程拷贝
3.3、linux查看文件编码
3.4、linux打包与解压
3.5、设置vim打开文件的默认编码格式
一、简言 本文主要记录一些工作中记录的一些需求处理方式方法，后续如再遇到可以直接查看。主要涉及python、linux、sql领域一些内容，后续如有其他内容还会新增。
一、python方面 1.1、字符串前补0 str(1).zfill(4) # 输出：0001 1.2、python安装包镜像网站 https://pypi.tuna.tsinghua.edu.cn/simple 1.3、pip无法卸载包时 pip install --ignore-installed xxx 1.4、dataframe设置全行或全列显示 # 设置全列显示 pd.set_option(&#39;display.max_columns&#39;,None) # 设置全行显示 pd.set_option(&#39;display.max_rows&#39;,None) 1.5、dataframe对某一列特征编码 sex_mapping = {label: idx for idx, label in enumerate(set(df[&#39;sex&#39;]))} df[&#39;sex&#39;] = df[&#39;sex&#39;]." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/977d5d66974ffc3e3c72696de9c0f49f/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-12-20T16:27:42+08:00" />
<meta property="article:modified_time" content="2023-12-20T16:27:42+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">《小聪明》</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p></p> 
<p></p> 
<p id="main-toc"><strong>目录</strong></p> 
<p id="%E4%B8%80%E3%80%81%E7%AE%80%E8%A8%80-toc" style="margin-left:40px;"><a href="#%E4%B8%80%E3%80%81%E7%AE%80%E8%A8%80" rel="nofollow">一、简言</a></p> 
<p id="%E4%B8%80%E3%80%81python%E6%96%B9%E9%9D%A2-toc" style="margin-left:40px;"><a href="#%E4%B8%80%E3%80%81python%E6%96%B9%E9%9D%A2" rel="nofollow">一、python方面</a></p> 
<p id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.1%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%89%8D%E8%A1%A50-toc" style="margin-left:80px;"><a href="#%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.1%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%89%8D%E8%A1%A50" rel="nofollow">        1.1、字符串前补0</a></p> 
<p id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.2%E3%80%81python%E5%AE%89%E8%A3%85%E5%8C%85%E9%95%9C%E5%83%8F%E7%BD%91%E7%AB%99-toc" style="margin-left:80px;"><a href="#%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.2%E3%80%81python%E5%AE%89%E8%A3%85%E5%8C%85%E9%95%9C%E5%83%8F%E7%BD%91%E7%AB%99" rel="nofollow">        1.2、python安装包镜像网站</a></p> 
<p id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.3%E3%80%81pip%E6%97%A0%E6%B3%95%E5%8D%B8%E8%BD%BD%E5%8C%85%E6%97%B6-toc" style="margin-left:80px;"><a href="#%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.3%E3%80%81pip%E6%97%A0%E6%B3%95%E5%8D%B8%E8%BD%BD%E5%8C%85%E6%97%B6" rel="nofollow">        1.3、pip无法卸载包时</a></p> 
<p id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.4%E3%80%81dataframe%E8%AE%BE%E7%BD%AE%E5%85%A8%E8%A1%8C%E6%88%96%E5%85%A8%E5%88%97%E6%98%BE%E7%A4%BA-toc" style="margin-left:80px;"><a href="#%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.4%E3%80%81dataframe%E8%AE%BE%E7%BD%AE%E5%85%A8%E8%A1%8C%E6%88%96%E5%85%A8%E5%88%97%E6%98%BE%E7%A4%BA" rel="nofollow">        1.4、dataframe设置全行或全列显示</a></p> 
<p id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.5%E3%80%81dataframe%E5%AF%B9%E6%9F%90%E4%B8%80%E5%88%97%E7%89%B9%E5%BE%81%E7%BC%96%E7%A0%81-toc" style="margin-left:80px;"><a href="#%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.5%E3%80%81dataframe%E5%AF%B9%E6%9F%90%E4%B8%80%E5%88%97%E7%89%B9%E5%BE%81%E7%BC%96%E7%A0%81" rel="nofollow">        1.5、dataframe对某一列特征编码</a></p> 
<p id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.%206%E3%80%81dataframe%E4%BB%BB%E6%84%8F%E4%BD%8D%E7%BD%AE%E6%8F%92%E5%85%A5%E4%B8%80%E5%88%97%E5%80%BC-toc" style="margin-left:80px;"><a href="#%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.%206%E3%80%81dataframe%E4%BB%BB%E6%84%8F%E4%BD%8D%E7%BD%AE%E6%8F%92%E5%85%A5%E4%B8%80%E5%88%97%E5%80%BC" rel="nofollow">        1. 6、dataframe任意位置插入一列值</a></p> 
<p id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.7%E3%80%81sklearn%E7%AE%97%E6%B3%95%EF%BC%8C%E8%BE%93%E5%87%BA%E7%89%B9%E5%BE%81%E6%96%B9%E7%A8%8B-toc" style="margin-left:80px;"><a href="#%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.7%E3%80%81sklearn%E7%AE%97%E6%B3%95%EF%BC%8C%E8%BE%93%E5%87%BA%E7%89%B9%E5%BE%81%E6%96%B9%E7%A8%8B" rel="nofollow">        1.7、sklearn算法，输出特征方程</a></p> 
<p id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.8%E3%80%81%E8%A7%A3%E5%86%B3dataframe%E5%86%99%E5%85%A5csv%E4%BC%9A%E5%87%BA%E7%8E%B0%E7%A7%91%E5%AD%A6%E6%8A%80%E6%9C%AF%E6%B3%95%E7%9A%84%E6%83%85%E5%86%B5-toc" style="margin-left:80px;"><a href="#%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.8%E3%80%81%E8%A7%A3%E5%86%B3dataframe%E5%86%99%E5%85%A5csv%E4%BC%9A%E5%87%BA%E7%8E%B0%E7%A7%91%E5%AD%A6%E6%8A%80%E6%9C%AF%E6%B3%95%E7%9A%84%E6%83%85%E5%86%B5" rel="nofollow">        1.8、解决dataframe写入csv会出现科学技术法的情况</a></p> 
<p id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.9%E3%80%81dataframe%E8%A1%8C%E8%BD%AC%E5%88%97%EF%BC%88%E8%A1%8C%E5%88%97%E4%BA%92%E6%8D%A2%EF%BC%89-toc" style="margin-left:80px;"><a href="#%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.9%E3%80%81dataframe%E8%A1%8C%E8%BD%AC%E5%88%97%EF%BC%88%E8%A1%8C%E5%88%97%E4%BA%92%E6%8D%A2%EF%BC%89" rel="nofollow">        1.9、dataframe行转列（行列互换）</a></p> 
<p id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.10%E3%80%81%E6%AD%A3%E5%88%99%E6%89%BE%E5%87%BA%E4%B8%A4%E4%B8%AA%E7%89%B9%E5%AE%9A%E5%AD%97%E7%AC%A6%E4%B8%AD%E9%97%B4%E7%9A%84%E6%89%80%E6%9C%89%E5%86%85%E5%AE%B9-toc" style="margin-left:80px;"><a href="#%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.10%E3%80%81%E6%AD%A3%E5%88%99%E6%89%BE%E5%87%BA%E4%B8%A4%E4%B8%AA%E7%89%B9%E5%AE%9A%E5%AD%97%E7%AC%A6%E4%B8%AD%E9%97%B4%E7%9A%84%E6%89%80%E6%9C%89%E5%86%85%E5%AE%B9" rel="nofollow">        1.10、正则找出两个特定字符中间的所有内容</a></p> 
<p id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.11%E3%80%81%E6%AD%A3%E5%88%99%E5%8C%B9%E9%85%8D%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%B8%AD%E7%9A%84%E4%B8%AD%E6%96%87%E5%86%85%E5%AE%B9-toc" style="margin-left:80px;"><a href="#%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.11%E3%80%81%E6%AD%A3%E5%88%99%E5%8C%B9%E9%85%8D%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%B8%AD%E7%9A%84%E4%B8%AD%E6%96%87%E5%86%85%E5%AE%B9" rel="nofollow">        1.11、正则匹配字符串中的中文内容</a></p> 
<p id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.12%E3%80%81%E6%AD%A3%E5%88%99%E5%8C%B9%E9%85%8D%E6%8B%AC%E5%8F%B7%E9%87%8C%E7%9A%84%E5%86%85%E5%AE%B9-toc" style="margin-left:80px;"><a href="#%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.12%E3%80%81%E6%AD%A3%E5%88%99%E5%8C%B9%E9%85%8D%E6%8B%AC%E5%8F%B7%E9%87%8C%E7%9A%84%E5%86%85%E5%AE%B9" rel="nofollow">        1.12、正则匹配括号里的内容</a></p> 
<p id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.13%E3%80%81try%E6%8D%95%E8%8E%B7%E5%85%B7%E4%BD%93%E6%8A%A5%E9%94%99%E7%9A%84%E8%A1%8C%E6%95%B0%E5%8F%8A%E6%96%87%E4%BB%B6-toc" style="margin-left:80px;"><a href="#%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.13%E3%80%81try%E6%8D%95%E8%8E%B7%E5%85%B7%E4%BD%93%E6%8A%A5%E9%94%99%E7%9A%84%E8%A1%8C%E6%95%B0%E5%8F%8A%E6%96%87%E4%BB%B6" rel="nofollow">        1.13、try捕获具体报错的行数及文件</a></p> 
<p id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.14%E3%80%81%E5%8D%87%E7%BA%A7pip-toc" style="margin-left:80px;"><a href="#%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.14%E3%80%81%E5%8D%87%E7%BA%A7pip" rel="nofollow">        1.14、升级pip</a></p> 
<p id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.15%E3%80%81ip%E5%9C%B0%E5%9D%80%E8%BD%ACint%E7%B1%BB%E5%9E%8B-toc" style="margin-left:80px;"><a href="#%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.15%E3%80%81ip%E5%9C%B0%E5%9D%80%E8%BD%ACint%E7%B1%BB%E5%9E%8B" rel="nofollow">        1.15、ip地址转int类型</a></p> 
<p id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.16%E3%80%81ip%E6%A0%A1%E9%AA%8C-toc" style="margin-left:80px;"><a href="#%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.16%E3%80%81ip%E6%A0%A1%E9%AA%8C" rel="nofollow">        1.16、ip校验</a></p> 
<p id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.17%E3%80%81%E7%89%B9%E5%BE%81%E5%BD%92%E4%B8%80%E5%8C%96-toc" style="margin-left:80px;"><a href="#%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.17%E3%80%81%E7%89%B9%E5%BE%81%E5%BD%92%E4%B8%80%E5%8C%96" rel="nofollow">        1.17、特征归一化</a></p> 
<p id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.18%E3%80%81dataframe%E8%87%AA%E5%8A%A8%E8%BD%AC%E5%8F%98%E7%B1%BB%E5%9E%8B-toc" style="margin-left:80px;"><a href="#%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.18%E3%80%81dataframe%E8%87%AA%E5%8A%A8%E8%BD%AC%E5%8F%98%E7%B1%BB%E5%9E%8B" rel="nofollow">        1.18、dataframe自动转变类型</a></p> 
<p id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.19%E3%80%81%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%88%86%E7%B1%BB%E9%97%AE%E9%A2%98%E6%B1%82%E7%B2%BE%E5%BA%A6-toc" style="margin-left:80px;"><a href="#%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.19%E3%80%81%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%88%86%E7%B1%BB%E9%97%AE%E9%A2%98%E6%B1%82%E7%B2%BE%E5%BA%A6" rel="nofollow">        1.19、机器学习分类问题求精度</a></p> 
<p id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.20%E3%80%81%E5%BF%BD%E7%95%A5%E8%AD%A6%E5%91%8A-toc" style="margin-left:80px;"><a href="#%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.20%E3%80%81%E5%BF%BD%E7%95%A5%E8%AD%A6%E5%91%8A" rel="nofollow">        1.20、忽略警告</a></p> 
<p id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.21%E3%80%81matplotlib%E5%9B%BE%E4%B8%8A%E6%AD%A3%E5%B8%B8%E6%98%BE%E7%A4%BA%E4%B8%AD%E6%96%87-toc" style="margin-left:80px;"><a href="#%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.21%E3%80%81matplotlib%E5%9B%BE%E4%B8%8A%E6%AD%A3%E5%B8%B8%E6%98%BE%E7%A4%BA%E4%B8%AD%E6%96%87" rel="nofollow">        1.21、matplotlib图上正常显示中文</a></p> 
<p id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.22%E3%80%81dataframe%E7%9A%84merge%E4%B8%8Econcat-toc" style="margin-left:80px;"><a href="#%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.22%E3%80%81dataframe%E7%9A%84merge%E4%B8%8Econcat" rel="nofollow">        1.22、dataframe的merge与concat</a></p> 
<p id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.23%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%A9%BA%E7%99%BD%E6%A3%80%E6%9F%A5%E4%B8%8E%E6%9B%BF%E6%8D%A2-toc" style="margin-left:80px;"><a href="#%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.23%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%A9%BA%E7%99%BD%E6%A3%80%E6%9F%A5%E4%B8%8E%E6%9B%BF%E6%8D%A2" rel="nofollow">        1.23、字符串空白检查与替换</a></p> 
<p id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.24%E3%80%81dataframe%E6%8C%89%E6%9F%90%E5%88%97%E6%8E%92%E5%BA%8F-toc" style="margin-left:80px;"><a href="#%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.24%E3%80%81dataframe%E6%8C%89%E6%9F%90%E5%88%97%E6%8E%92%E5%BA%8F" rel="nofollow">        1.24、dataframe按某列排序</a></p> 
<p id="%E4%BA%8C%E3%80%81sql%E6%96%B9%E9%9D%A2-toc" style="margin-left:40px;"><a href="#%E4%BA%8C%E3%80%81sql%E6%96%B9%E9%9D%A2" rel="nofollow">二、sql方面</a></p> 
<p id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%202.1%E3%80%81hive%E6%97%B6%E9%97%B4%E6%A0%BC%E5%BC%8F%E5%8C%96-toc" style="margin-left:80px;"><a href="#%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%202.1%E3%80%81hive%E6%97%B6%E9%97%B4%E6%A0%BC%E5%BC%8F%E5%8C%96" rel="nofollow">        2.1、hive时间格式化</a></p> 
<p id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%202.2%E3%80%81hive%E5%90%8E%E5%8F%B0load%C2%A0data%E5%85%A5%E8%A1%A8-toc" style="margin-left:80px;"><a href="#%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%202.2%E3%80%81hive%E5%90%8E%E5%8F%B0load%C2%A0data%E5%85%A5%E8%A1%A8" rel="nofollow">        2.2、hive后台load data入表</a></p> 
<p id="%E4%B8%89%E3%80%81linux%E6%96%B9%E9%9D%A2-toc" style="margin-left:40px;"><a href="#%E4%B8%89%E3%80%81linux%E6%96%B9%E9%9D%A2" rel="nofollow">三、linux方面</a></p> 
<p id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%203.1%E3%80%81linux%E4%B8%ADpython%E8%AE%BE%E7%BD%AE%E5%90%8E%E5%8F%B0%E8%BF%90%E8%A1%8C-toc" style="margin-left:80px;"><a href="#%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%203.1%E3%80%81linux%E4%B8%ADpython%E8%AE%BE%E7%BD%AE%E5%90%8E%E5%8F%B0%E8%BF%90%E8%A1%8C" rel="nofollow">        3.1、linux中python设置后台运行</a></p> 
<p id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%203.2%E3%80%81linux%E8%BF%9C%E7%A8%8B%E6%8B%B7%E8%B4%9D-toc" style="margin-left:80px;"><a href="#%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%203.2%E3%80%81linux%E8%BF%9C%E7%A8%8B%E6%8B%B7%E8%B4%9D" rel="nofollow">        3.2、linux远程拷贝</a></p> 
<p id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%203.3%E3%80%81linux%E6%9F%A5%E7%9C%8B%E6%96%87%E4%BB%B6%E7%BC%96%E7%A0%81-toc" style="margin-left:80px;"><a href="#%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%203.3%E3%80%81linux%E6%9F%A5%E7%9C%8B%E6%96%87%E4%BB%B6%E7%BC%96%E7%A0%81" rel="nofollow">        3.3、linux查看文件编码</a></p> 
<p id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%203.4%E3%80%81linux%E6%89%93%E5%8C%85%E4%B8%8E%E8%A7%A3%E5%8E%8B-toc" style="margin-left:80px;"><a href="#%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%203.4%E3%80%81linux%E6%89%93%E5%8C%85%E4%B8%8E%E8%A7%A3%E5%8E%8B" rel="nofollow">        3.4、linux打包与解压</a></p> 
<p id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%203.5%E3%80%81%E8%AE%BE%E7%BD%AEvim%E6%89%93%E5%BC%80%E6%96%87%E4%BB%B6%E7%9A%84%E9%BB%98%E8%AE%A4%E7%BC%96%E7%A0%81%E6%A0%BC%E5%BC%8F-toc" style="margin-left:80px;"><a href="#%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%203.5%E3%80%81%E8%AE%BE%E7%BD%AEvim%E6%89%93%E5%BC%80%E6%96%87%E4%BB%B6%E7%9A%84%E9%BB%98%E8%AE%A4%E7%BC%96%E7%A0%81%E6%A0%BC%E5%BC%8F" rel="nofollow">        3.5、设置vim打开文件的默认编码格式</a></p> 
<hr id="hr-toc"> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<h3 id="%E4%B8%80%E3%80%81%E7%AE%80%E8%A8%80">一、简言</h3> 
<p>        本文主要记录一些工作中记录的一些需求处理方式方法，后续如再遇到可以直接查看。主要涉及python、linux、sql领域一些内容，后续如有其他内容还会新增。</p> 
<p></p> 
<p></p> 
<h3 id="%E4%B8%80%E3%80%81python%E6%96%B9%E9%9D%A2">一、python方面</h3> 
<h4 id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.1%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%89%8D%E8%A1%A50">        1.1、字符串前补0</h4> 
<pre><code class="language-python">str(1).zfill(4)

# 输出：0001</code></pre> 
<h4 id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.2%E3%80%81python%E5%AE%89%E8%A3%85%E5%8C%85%E9%95%9C%E5%83%8F%E7%BD%91%E7%AB%99">        1.2、python安装包镜像网站</h4> 
<pre><code class="language-python">https://pypi.tuna.tsinghua.edu.cn/simple</code></pre> 
<h4 id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.3%E3%80%81pip%E6%97%A0%E6%B3%95%E5%8D%B8%E8%BD%BD%E5%8C%85%E6%97%B6">        1.3、pip无法卸载包时</h4> 
<pre><code class="language-python">pip install --ignore-installed xxx</code></pre> 
<h4 id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.4%E3%80%81dataframe%E8%AE%BE%E7%BD%AE%E5%85%A8%E8%A1%8C%E6%88%96%E5%85%A8%E5%88%97%E6%98%BE%E7%A4%BA">        1.4、dataframe设置全行或全列显示</h4> 
<pre><code class="language-python"># 设置全列显示
pd.set_option('display.max_columns',None)
# 设置全行显示
pd.set_option('display.max_rows',None)</code></pre> 
<h4 id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.5%E3%80%81dataframe%E5%AF%B9%E6%9F%90%E4%B8%80%E5%88%97%E7%89%B9%E5%BE%81%E7%BC%96%E7%A0%81">        1.5、dataframe对某一列特征编码</h4> 
<pre><code class="language-python">sex_mapping = {label: idx for idx, label in enumerate(set(df['sex']))}
df['sex'] = df['sex'].map(sex_mapping)</code></pre> 
<h4 id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.%206%E3%80%81dataframe%E4%BB%BB%E6%84%8F%E4%BD%8D%E7%BD%AE%E6%8F%92%E5%85%A5%E4%B8%80%E5%88%97%E5%80%BC">        1. 6、dataframe任意位置插入一列值</h4> 
<pre><code class="language-python"># res：dataframe对象
# 0：插入的位置，从0开始算起
# c_id.to_frame()：插入的也必须是dataframe的一列
res.insert(0,'客户id',c_id.to_frame())</code></pre> 
<h4 id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.7%E3%80%81sklearn%E7%AE%97%E6%B3%95%EF%BC%8C%E8%BE%93%E5%87%BA%E7%89%B9%E5%BE%81%E6%96%B9%E7%A8%8B">        1.7、sklearn算法，输出特征方程</h4> 
<pre><code class="language-python">Y = a0 + a1*x1 + a2*x2 + a3*x3 + an*xn + u
model.coef_    得到[a1,a2,a3,...,an]    变量系数
model.intercept_    得到β0    截距</code></pre> 
<h4 id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.8%E3%80%81%E8%A7%A3%E5%86%B3dataframe%E5%86%99%E5%85%A5csv%E4%BC%9A%E5%87%BA%E7%8E%B0%E7%A7%91%E5%AD%A6%E6%8A%80%E6%9C%AF%E6%B3%95%E7%9A%84%E6%83%85%E5%86%B5">        1.8、解决dataframe写入csv会出现科学技术法的情况</h4> 
<pre><code class="language-python">cust_base_df.replace('\s+','',regex=True,inplace=True)</code></pre> 
<h4 id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.9%E3%80%81dataframe%E8%A1%8C%E8%BD%AC%E5%88%97%EF%BC%88%E8%A1%8C%E5%88%97%E4%BA%92%E6%8D%A2%EF%BC%89">        1.9、dataframe行转列（行列互换）</h4> 
<pre><code class="language-python">new_df = crash_result.set_index(['card_no','target_description'])['target_value']
new_df = new_df.unstack().rename_axis(columns=None).reset_index().fillna(0)
</code></pre> 
<h4 id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.10%E3%80%81%E6%AD%A3%E5%88%99%E6%89%BE%E5%87%BA%E4%B8%A4%E4%B8%AA%E7%89%B9%E5%AE%9A%E5%AD%97%E7%AC%A6%E4%B8%AD%E9%97%B4%E7%9A%84%E6%89%80%E6%9C%89%E5%86%85%E5%AE%B9">        1.10、正则找出两个特定字符中间的所有内容</h4> 
<pre><code class="language-python">pattern = '(?&lt;=左特定字符).*(?=右特定字符)'
result = re.findall(pattern,l)
print("结果:",result )</code></pre> 
<h4 id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.11%E3%80%81%E6%AD%A3%E5%88%99%E5%8C%B9%E9%85%8D%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%B8%AD%E7%9A%84%E4%B8%AD%E6%96%87%E5%86%85%E5%AE%B9">        1.11、正则匹配字符串中的中文内容</h4> 
<pre><code class="language-python">print(re.sub(r'[^\u4e00-\u9fa5]','','ABC中啊啊，。*'))</code></pre> 
<h4 id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.12%E3%80%81%E6%AD%A3%E5%88%99%E5%8C%B9%E9%85%8D%E6%8B%AC%E5%8F%B7%E9%87%8C%E7%9A%84%E5%86%85%E5%AE%B9">        1.12、正则匹配括号里的内容</h4> 
<pre><code class="language-python"># 替换括号里的内容为ccc
print(re.sub('\[.*\]','ccc','aa[b[v]]d'))
# 输出 aacccd

# 找到所有括号里的内容
print(re.findall('\[.*\]','aa[b[v]]d'))
# 输出 ['[b[v]]']</code></pre> 
<h4 id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.13%E3%80%81try%E6%8D%95%E8%8E%B7%E5%85%B7%E4%BD%93%E6%8A%A5%E9%94%99%E7%9A%84%E8%A1%8C%E6%95%B0%E5%8F%8A%E6%96%87%E4%BB%B6">        1.13、try捕获具体报错的行数及文件</h4> 
<pre><code class="language-python">try:
    raise ValueError('手动触发异常')
except Exception as e:
    print(e)
    print(e.__traceback__.tb_frame.f_globals['__file__'])
    print(e.__traceback__.tb_lineno)</code></pre> 
<h4 id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.14%E3%80%81%E5%8D%87%E7%BA%A7pip">        1.14、升级pip</h4> 
<pre><code class="language-python">python -m pip install -U pip</code></pre> 
<h4 id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.15%E3%80%81ip%E5%9C%B0%E5%9D%80%E8%BD%ACint%E7%B1%BB%E5%9E%8B">        1.15、ip地址转int类型</h4> 
<pre><code class="language-python">import IPy
IPy.IP(x).int()</code></pre> 
<h4 id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.16%E3%80%81ip%E6%A0%A1%E9%AA%8C">        1.16、ip校验</h4> 
<pre><code class="language-python">#ip校验
def check_ip(ipAddr):
    compile_ip=re.compile('^(1\d{2}|2[0-4]\d|25[0-5]|[1-9]\d|[1-9])\.(1\d{2}|2[0-4]\d|25[0-5]|[1-9]\d|\d)\.(1\d{2}|2[0-4]\d|25[0-5]|[1-9]\d|\d)\.(1\d{2}|2[0-4]\d|25[0-5]|[1-9]\d|\d)$')
    if compile_ip.match(ipAddr):
       	return True
    else:
        return False</code></pre> 
<h4 id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.17%E3%80%81%E7%89%B9%E5%BE%81%E5%BD%92%E4%B8%80%E5%8C%96">        1.17、特征归一化</h4> 
<pre><code class="language-python">train_x=(train_x-np.mean(train_x,axis=0))/(np.std(train_x,axis=0,ddof=1))</code></pre> 
<h4 id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.18%E3%80%81dataframe%E8%87%AA%E5%8A%A8%E8%BD%AC%E5%8F%98%E7%B1%BB%E5%9E%8B">        1.18、dataframe自动转变类型</h4> 
<pre><code class="language-python"># 整体转换
train_x = train_x.apply(pd.to_numeric,errors='ignore')
	
# 对一列进行类型转变：
train_x['列名']=pd.to_numeric(train_x['列名'])</code></pre> 
<h4 id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.19%E3%80%81%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%88%86%E7%B1%BB%E9%97%AE%E9%A2%98%E6%B1%82%E7%B2%BE%E5%BA%A6">        1.19、机器学习分类问题求精度</h4> 
<pre><code class="language-python">h=np.dot(test_X,theta)
y_mean=np.mean(test_Y,axis=0)  # 真实值的平均数
u=np.sum((h-test_Y)**2)    # 预测值和真实值之间的方差
v=np.sum((test_Y-np.mean(y_mean,0))**2)    #真实值和真实值的平均值的方差
score=1-u/v</code></pre> 
<h4 id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.20%E3%80%81%E5%BF%BD%E7%95%A5%E8%AD%A6%E5%91%8A">        1.20、忽略警告</h4> 
<pre><code class="language-python">import warnings
warnings.filterwarnings('ignore')</code></pre> 
<h4 id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.21%E3%80%81matplotlib%E5%9B%BE%E4%B8%8A%E6%AD%A3%E5%B8%B8%E6%98%BE%E7%A4%BA%E4%B8%AD%E6%96%87">        1.21、matplotlib图上正常显示中文</h4> 
<pre><code class="language-python">import matplotlib.pyplot as plt
plt.rcParams['font.sans-serif']=['SimHei']      #在图中正确显示中文
plt.rcParams['axes.unicode_minus']=False    # 默认是使用Unicode负号，设置正常显示字符，如正常显示负号</code></pre> 
<h4 id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.22%E3%80%81dataframe%E7%9A%84merge%E4%B8%8Econcat">        1.22、dataframe的merge与concat</h4> 
<pre><code class="language-python">new_df = pd.merge(df1,df2,how='outer',left_index=True,right_index=True,sort=False)
df = pd.concat([stand_df, orignial_df], sort=False)</code></pre> 
<h4 id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.23%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%A9%BA%E7%99%BD%E6%A3%80%E6%9F%A5%E4%B8%8E%E6%9B%BF%E6%8D%A2">        1.23、字符串空白检查与替换</h4> 
<pre><code class="language-python">1）判断字符串中是否包含空格
	s.isspace() 
2）删除字符串中的空白字符
	s.strip(rm)     # 删除s开头、结尾的rm
	s.lstrip(rm)   # 删除s开头的rm
	s.rstrip(rm)   # 删除s结尾的rm

当 rm 为空时，默认删除空白字符，包括：\n，\r，\t

可以使用replace进行替换</code></pre> 
<h4 id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.24%E3%80%81dataframe%E6%8C%89%E6%9F%90%E5%88%97%E6%8E%92%E5%BA%8F">        1.24、dataframe按某列排序</h4> 
<pre><code class="language-python"># 1
df.sort_values(by=['column1'],inplace=True,ascending=False)

# 2
df = df.ix[:, ::-1]
print(df)</code></pre> 
<p></p> 
<p></p> 
<p></p> 
<h3 id="%E4%BA%8C%E3%80%81sql%E6%96%B9%E9%9D%A2">二、sql方面</h3> 
<h4 id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%202.1%E3%80%81hive%E6%97%B6%E9%97%B4%E6%A0%BC%E5%BC%8F%E5%8C%96">        2.1、hive时间格式化</h4> 
<pre><code class="language-sql">select from_unixtime(unix_timestamp('20231106120814',"yyyyMMddHHmmss"), "yyyy-MM-dd HH:mm:ss")</code></pre> 
<h4 id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%202.2%E3%80%81hive%E5%90%8E%E5%8F%B0load%C2%A0data%E5%85%A5%E8%A1%A8">        2.2、hive后台load data入表</h4> 
<pre><code class="language-sql">-- 1、准备离线txt文档或csv 确保hive表的分隔符为离线文档一样的分隔符，且hive表格式为textfile
-- row format 
-- delimited fields 
-- terminated by ',' 
-- LINES TERMINATED BY '\n' 
-- STORED AS textfile
-- 2、通过命令进入hive后台交互
-- 3、输入 load data local inpath filePath overwrite into table tableName;
-- 下面为一个案例
hive&gt; load data local inpath '/data/et_base_ip_region_jspoc.csv' overwrite into table jxpoc_dm.et_base_ip_region_jspoc;
Loading data to table jxpoc_dm.et_base_ip_region_jspoc
OK
Time taken: 0.674 seconds</code></pre> 
<p></p> 
<p></p> 
<h3 id="%E4%B8%89%E3%80%81linux%E6%96%B9%E9%9D%A2">三、linux方面</h3> 
<h4 id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%203.1%E3%80%81linux%E4%B8%ADpython%E8%AE%BE%E7%BD%AE%E5%90%8E%E5%8F%B0%E8%BF%90%E8%A1%8C">        3.1、linux中python设置后台运行</h4> 
<pre><code class="language-python">nohup python run.py &gt; nohup.log 2&gt;&amp;1 &amp;</code></pre> 
<h4 id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%203.2%E3%80%81linux%E8%BF%9C%E7%A8%8B%E6%8B%B7%E8%B4%9D">        3.2、linux远程拷贝</h4> 
<pre><code class="language-python">scp -r source_path user@host:target_path
scp -r text_clusters/ root@172.30.6.212:/data/ici/</code></pre> 
<h4 id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%203.3%E3%80%81linux%E6%9F%A5%E7%9C%8B%E6%96%87%E4%BB%B6%E7%BC%96%E7%A0%81">        3.3、linux查看文件编码</h4> 
<pre><code class="language-python">file --mime-encoding  processing_record/project_record.py</code></pre> 
<h4 id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%203.4%E3%80%81linux%E6%89%93%E5%8C%85%E4%B8%8E%E8%A7%A3%E5%8E%8B">        3.4、linux打包与解压</h4> 
<pre><code class="language-python"># 打包：
tar -czvf name.tgz filePath
# 解压：
tar -zxvf name.tgz</code></pre> 
<h4 id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%203.5%E3%80%81%E8%AE%BE%E7%BD%AEvim%E6%89%93%E5%BC%80%E6%96%87%E4%BB%B6%E7%9A%84%E9%BB%98%E8%AE%A4%E7%BC%96%E7%A0%81%E6%A0%BC%E5%BC%8F">        3.5、设置vim打开文件的默认编码格式</h4> 
<pre><code class="language-python">echo 'set encoding=utf-8 fileencodings=ucs-bom,utf-8,cp936' &gt;&gt; /etc/vimrc</code></pre> 
<p>        </p> 
<p></p> 
<p></p> 
<p></p> 
<p>四、其他</p> 
<p>        因时间有限，本文会陆续更新，逐步精简。</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/050ffcf9cb2e068b257cf1147f711e4c/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">C&#43;&#43;基础系列（二）纯虚函数</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/466ab3d44cd4f55d95aeba904b4e5497/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">NGINX安装</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>