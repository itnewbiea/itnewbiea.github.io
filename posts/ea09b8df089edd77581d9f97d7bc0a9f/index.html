<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>js懒加载 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="js懒加载" />
<meta property="og:description" content="懒加载的目的就是为了提高用户体验 降低服务器压力 有时候我们的内容很长很多 但是屏幕只有那么大一点 一次加载出来全部显然是不合适的 懒加载就是为了让页面显示在屏幕可视区域内再加载当前的数据 像大型购物网站都有这个操作
下面以图片懒加载举例说明懒加载的过程
&lt;!DOCTYPE html&gt; &lt;html lang=&#34;en&#34;&gt; &lt;head&gt; &lt;meta charset=&#34;UTF-8&#34;&gt; &lt;meta name=&#34;viewport&#34; content=&#34;width=device-width, initial-scale=1.0&#34;&gt; &lt;title&gt;Document&lt;/title&gt; &lt;style&gt; ul { width: 1200px; list-style: none; margin: 0 auto; } .clearfix::after { content: &#34;&#34;; display: block; clear: both; } li { width: 23%; height: 200px; float: left; border: 1px solid #ccc; margin-bottom: 10px; margin-left: 10px; } img { width: 100%; height: 100%; } * { margin: 0; padding: 0; } &lt;/style&gt; &lt;/head&gt; &lt;body&gt; &lt;ul class=&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/ea09b8df089edd77581d9f97d7bc0a9f/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-06-26T18:38:25+08:00" />
<meta property="article:modified_time" content="2023-06-26T18:38:25+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">js懒加载</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>懒加载的目的就是为了提高用户体验 降低服务器压力 有时候我们的内容很长很多 但是屏幕只有那么大一点 一次加载出来全部显然是不合适的 懒加载就是为了让页面显示在屏幕可视区域内再加载当前的数据 像大型购物网站都有这个操作</p> 
<p>下面以图片懒加载举例说明懒加载的过程</p> 
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;

&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
    &lt;title&gt;Document&lt;/title&gt;
    &lt;style&gt;
        ul {
            width: 1200px;
            list-style: none;
            margin: 0 auto;
        }

        .clearfix::after {
            content: "";
            display: block;
            clear: both;
        }


        li {
            width: 23%;
            height: 200px;
            float: left;
            border: 1px solid #ccc;
            margin-bottom: 10px;
            margin-left: 10px;
        }


        img {
            width: 100%;
            height: 100%;
        }

        * {
            margin: 0;
            padding: 0;
        }
    &lt;/style&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;ul class="clearfix"&gt;
        &lt;li&gt;&lt;img _src="./1.gif" alt=""&gt;&lt;/li&gt;
        &lt;li&gt;&lt;img _src="./1.gif" alt=""&gt;&lt;/li&gt;
        &lt;li&gt;&lt;img _src="./1.gif" alt=""&gt;&lt;/li&gt;
        &lt;li&gt;&lt;img _src="./1.gif" alt=""&gt;&lt;/li&gt;
        &lt;li&gt;&lt;img _src="./1.gif" alt=""&gt;&lt;/li&gt;
        &lt;li&gt;&lt;img _src="./1.gif" alt=""&gt;&lt;/li&gt;
        &lt;li&gt;&lt;img _src="./1.gif" alt=""&gt;&lt;/li&gt;
        &lt;li&gt;&lt;img _src="./1.gif" alt=""&gt;&lt;/li&gt;
        &lt;li&gt;&lt;img _src="./1.gif" alt=""&gt;&lt;/li&gt;
        &lt;li&gt;&lt;img _src="./1.gif" alt=""&gt;&lt;/li&gt;
        &lt;li&gt;&lt;img _src="./1.gif" alt=""&gt;&lt;/li&gt;
        &lt;li&gt;&lt;img _src="./1.gif" alt=""&gt;&lt;/li&gt;
        &lt;li&gt;&lt;img _src="./1.gif" alt=""&gt;&lt;/li&gt;
        &lt;li&gt;&lt;img _src="./1.gif" alt=""&gt;&lt;/li&gt;
        &lt;li&gt;&lt;img _src="./1.gif" alt=""&gt;&lt;/li&gt;
        &lt;li&gt;&lt;img _src="./1.gif" alt=""&gt;&lt;/li&gt;
        &lt;li&gt;&lt;img _src="./1.gif" alt=""&gt;&lt;/li&gt;
        &lt;li&gt;&lt;img _src="./1.gif" alt=""&gt;&lt;/li&gt;
        &lt;li&gt;&lt;img _src="./1.gif" alt=""&gt;&lt;/li&gt;
        &lt;li&gt;&lt;img _src="./1.gif" alt=""&gt;&lt;/li&gt;
        &lt;li&gt;&lt;img _src="./1.gif" alt=""&gt;&lt;/li&gt;
        &lt;li&gt;&lt;img _src="./1.gif" alt=""&gt;&lt;/li&gt;
        &lt;li&gt;&lt;img _src="./1.gif" alt=""&gt;&lt;/li&gt;
        &lt;li&gt;&lt;img _src="./1.gif" alt=""&gt;&lt;/li&gt;
        &lt;li&gt;&lt;img _src="./1.gif" alt=""&gt;&lt;/li&gt;
        &lt;li&gt;&lt;img _src="./1.gif" alt=""&gt;&lt;/li&gt;
        &lt;li&gt;&lt;img _src="./1.gif" alt=""&gt;&lt;/li&gt;
        &lt;li&gt;&lt;img _src="./1.gif" alt=""&gt;&lt;/li&gt;
        &lt;li&gt;&lt;img _src="./1.gif" alt=""&gt;&lt;/li&gt;
        &lt;li&gt;&lt;img _src="./1.gif" alt=""&gt;&lt;/li&gt;
        &lt;li&gt;&lt;img _src="./1.gif" alt=""&gt;&lt;/li&gt;
        &lt;li&gt;&lt;img _src="./1.gif" alt=""&gt;&lt;/li&gt;
        &lt;li&gt;&lt;img _src="./1.gif" alt=""&gt;&lt;/li&gt;
        &lt;li&gt;&lt;img _src="./1.gif" alt=""&gt;&lt;/li&gt;
        &lt;li&gt;&lt;img _src="./1.gif" alt=""&gt;&lt;/li&gt;
        &lt;li&gt;&lt;img _src="./1.gif" alt=""&gt;&lt;/li&gt;
        &lt;li&gt;&lt;img _src="./1.gif" alt=""&gt;&lt;/li&gt;
        &lt;li&gt;&lt;img _src="./1.gif" alt=""&gt;&lt;/li&gt;
        &lt;li&gt;&lt;img _src="./1.gif" alt=""&gt;&lt;/li&gt;
        &lt;li&gt;&lt;img _src="./1.gif" alt=""&gt;&lt;/li&gt;

    &lt;/ul&gt;
    &lt;script&gt;
        var liList = document.querySelectorAll("li");
        var lT = document.documentElement.clientHeight;//当前页面屏幕可视高度
        function load() {
            for (var i = 0; i &lt; liList.length; i++) {
                var jQ = document.documentElement.scrollTop;//卷曲高度
                // 判断：这里是核心重点区域 图片到定位父元素的距离 小于 可视窗口 + 卷曲高度 
                //成立就加载src 懒加载
                if (liList[i].offsetTop &lt; jQ + lT) {
                    liList[i].children[0].src = liList[i].children[0].getAttribute("_src");
                }
            }
        }

        window.onscroll = load
        window.onload = load
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre> 
<p>先用_src占个位置 到加载的时候再把_src的值赋值给src</p> 
<p>或者可以这么写 用loading占位加载 data-original是真实要加载的图片 判断图片到屏幕可视区域内 用data-original的值替换src 道理是一样的</p> 
<pre><code class="language-html">&lt;img class="rwo" src="image/load.gif" alt="" data-original="image/图片 (1).jpeg"&gt;
        &lt;img class="rwo" src="image/load.gif" alt="" data-original="image/图片 (3).jpeg""&gt;
        &lt;img class="rwo" src="image/load.gif" alt="" data-original="image/图片 (9).jpeg""&gt;
        &lt;img class="rwo" src="image/load.gif" alt="" data-original="image/图片 (10).jpg""&gt;
        &lt;img class="rwo" src="image/load.gif" alt="" data-original="image/图片 (13).jpeg""&gt;
        &lt;img class="rwo" src="image/load.gif" alt="" data-original="image/图片 (92).jpeg""&gt;
        &lt;img  src="image/load.gif" alt="" data-original="image/图片 (1).jpg"&gt;
        &lt;img  src="image/load.gif" alt="" data-original="image/图片 (2).jpg"&gt;
        &lt;img  src="image/load.gif" alt="" data-original="image/图片 (19).jpg"&gt;
        &lt;img  src="image/load.gif" alt="" data-original="image/图片 (23).jpg"&gt;
        &lt;img  src="image/load.gif" alt="" data-original="image/图片 (33).jpg"&gt;
        &lt;img  src="image/load.gif" alt="" data-original="image/图片 (37).jpg"&gt;
        &lt;img  src="image/load.gif" alt="" data-original="image/图片 (38).jpg"&gt;
        &lt;img  src="image/load.gif" alt="" data-original="image/图片 (39).jpg"&gt;
        &lt;img  src="image/load.gif" alt="" data-original="image/图片 (40).jpg"&gt;
        &lt;img  src="image/load.gif" alt="" data-original="image/图片 (41).jpg"&gt;
        &lt;img  src="image/load.gif" alt="" data-original="image/图片 (42).jpg"&gt;
        &lt;img  src="image/load.gif" alt="" data-original="image/图片 (43).jpg"&gt;
        &lt;img  src="image/load.gif" alt="" data-original="image/图片 (44).jpg"&gt;
        &lt;img  src="image/load.gif" alt="" data-original="image/图片 (45).jpg"&gt;
        &lt;img  src="image/load.gif" alt="" data-original="image/图片 (46).jpg"&gt;
        &lt;img  src="image/load.gif" alt="" data-original="image/图片 (47).jpg"&gt;
        &lt;img  src="image/load.gif" alt="" data-original="image/图片 (48).jpg"&gt;
        &lt;img  src="image/load.gif" alt="" data-original="image/图片 (49).jpg"&gt;
        &lt;img  src="image/load.gif" alt="" data-original="image/图片 (50).jpg"&gt;
        &lt;img  src="image/load.gif" alt="" data-original="image/图片 (51).jpg"&gt;
        &lt;img  src="image/load.gif" alt="" data-original="image/图片 (52).jpg"&gt;
        &lt;img  src="image/load.gif"alt="" data-original=" image/图片 (53).jpg"&gt;
        &lt;img  src="image/load.gif" alt="" data-original="image/图片 (54).jpg"&gt;</code></pre> 
<p>其他类型的懒加载都是一样的道理 有很多很长的内容时 可以在判断到此内容在屏幕可视区域内 调该部分内容的接口 获取数据进行加载即可</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/1dfb619b11e4c77d56ce02027db093e1/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">原生js分页</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/1f6b7d1ce7ec90df13222d589992c9b9/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">LLDP 协议</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>