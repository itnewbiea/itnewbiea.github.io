<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>数据分析(8)--matplotlib 数据可视化 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="数据分析(8)--matplotlib 数据可视化" />
<meta property="og:description" content="数据可视化 基本概念 数据可视化是指借助于图形化的手段，清晰、快捷有效的传达与沟通信息。同时，也可以辅助用户做出相应的判断，更好的去洞悉数据背后的价值。
字不如表，表不如图。 观察号码的频率，每个号码出现了多少次？
文字 08 10 15 20 30 31 33 06
01 09 10 17 21 28 32 13
02 05 08 13 19 21 28 10
03 05 07 14 18 23 25 07
…… ……
表格 图形 通过可视化图表方式，就可以清晰的表达信息。
可视化图形辅助决策 1854 年英国伦敦霍乱病流行时，斯诺博士在绘有霍乱流行地区所有道路、房屋、饮用水机井等内容的城区地图上，标出了每个霍乱病死者的住家位置，得到了霍乱病死者居住位置分布图，发现了霍乱病源之所在：布劳德大街（现布劳维克大街）的公用抽水机。
matplotlib matplotlib是用于Python的绘图库，提供各种常用图形的绘制。例如，条形图，柱形图，线图，散点图等。
安装 pip install matplotlib
导入 根据惯例，使用如下的方式导入：
import matplotlib as mpl import matplotlib.pyplot as plt 图形绘制 绘制线图 可以通过matplotlib.pyplot的plot方法进行图形绘制。
plot(y)plot(y, ‘格式’)plot(x, y)plot(x, y, ‘格式’)plot(x1, y1, ‘格式1’, x2, y2, ‘格式2’ …… xn, yn, 格式n) # 如果没有指定横坐标x，则横坐标x会从0开始，自增。（0,1,2,3,4……） # 如果我们只绘制一个值，该值就是一个点，我们需要指定marker来设置标记，否则该点不可见。 # plt." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/6925a3605e97b1f5a77f7d7233234956/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-07-01T01:20:32+08:00" />
<meta property="article:modified_time" content="2019-07-01T01:20:32+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">数据分析(8)--matplotlib 数据可视化</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="_1"></a>数据可视化</h2> 
<h3><a id="_3"></a>基本概念</h3> 
<p>数据可视化是指借助于图形化的手段，清晰、快捷有效的传达与沟通信息。同时，也可以辅助用户做出相应的判断，更好的去洞悉数据背后的价值。</p> 
<h3><a id="_6"></a>字不如表，表不如图。</h3> 
<p>观察号码的频率，每个号码出现了多少次？</p> 
<h4><a id="_9"></a>文字</h4> 
<p>08 10 15 20 30 31 33 06<br> 01 09 10 17 21 28 32 13<br> 02 05 08 13 19 21 28 10<br> 03 05 07 14 18 23 25 07<br> …… ……</p> 
<h4><a id="_16"></a>表格</h4> 
<p><img src="https://images2.imgbox.com/bc/74/xlwPMSRD_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_19"></a>图形</h4> 
<p>通过可视化图表方式，就可以清晰的表达信息。<br> <img src="https://images2.imgbox.com/ed/c7/xvXswUqI_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_22"></a>可视化图形辅助决策</h4> 
<p>1854 年英国伦敦霍乱病流行时，斯诺博士在绘有霍乱流行地区所有道路、房屋、饮用水机井等内容的城区地图上，标出了每个霍乱病死者的住家位置，得到了霍乱病死者居住位置分布图，发现了霍乱病源之所在：布劳德大街（现布劳维克大街）的公用抽水机。<br> <img src="https://images2.imgbox.com/f2/ee/DFecvwCt_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="matplotlib_26"></a>matplotlib</h2> 
<p>matplotlib是用于Python的绘图库，提供各种常用图形的绘制。例如，条形图，柱形图，线图，散点图等。</p> 
<h3><a id="_28"></a>安装</h3> 
<p><code>pip install matplotlib</code></p> 
<h3><a id="_30"></a>导入</h3> 
<p>根据惯例，使用如下的方式导入：</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> matplotlib <span class="token keyword">as</span> mpl
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
</code></pre> 
<h2><a id="_38"></a>图形绘制</h2> 
<h3><a id="_39"></a>绘制线图</h3> 
<p>可以通过matplotlib.pyplot的plot方法进行图形绘制。</p> 
<ul><li>plot(y)</li><li>plot(y, ‘格式’)</li><li>plot(x, y)</li><li>plot(x, y, ‘格式’)</li><li>plot(x1, y1, ‘格式1’, x2, y2, ‘格式2’ …… xn, yn, 格式n)</li></ul> 
<pre><code class="prism language-python"><span class="token comment"># 如果没有指定横坐标x，则横坐标x会从0开始，自增。（0,1,2,3,4……）</span>
<span class="token comment"># 如果我们只绘制一个值，该值就是一个点，我们需要指定marker来设置标记，否则该点不可见。</span>
<span class="token comment"># plt.plot(10, marker="o")</span>
<span class="token comment"># 绘制多个点。</span>
<span class="token comment"># plt.plot([1, 5, 8, 4, 6], marker="&gt;")</span>
<span class="token comment"># 显式指定横坐标。</span>
<span class="token comment"># plt.plot([1, 3, 5, 7, 9], [2, 4, 16, 8, 10], marker="o")</span>
<span class="token comment"># plt.plot([2, 13, 25, 7, 9], [3, 14, 6, 28, 9], marker="o")</span>
<span class="token comment"># 可以一次性绘制多个图形。</span>
<span class="token comment"># 格式字符串可以指定标记形状，颜色与线型。</span>
plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">"r-o"</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">"g--x"</span><span class="token punctuation">)</span>
</code></pre> 
<p>在这里插入图片描述</p> 
<h3><a id="_63"></a>图形交互式设置</h3> 
<p>我们可以设置jupyter notebook图形是否交互式显示，默认为否。</p> 
<ul><li>%matplotlib notebook</li><li>%matplotlib inline</li></ul> 
<h2><a id="matplotlib_notebook_67"></a>%matplotlib notebook</h2> 
<p>%matplotlib inline<br> plt.plot([1, 2, 3], [5, 8, 11])<br> <img src="https://images2.imgbox.com/00/8c/6i6gGYiR_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_71"></a>设置中文支持</h3> 
<p>matplotlib默认情况下不支持中文显示，如果需要显示中文，则我们需要做一些额外的设置操作。设置可以分为：</p> 
<ul><li>全局设置</li><li>局部设置</li></ul> 
<h4><a id="_76"></a>全局设置</h4> 
<p>我们可以通过执行：</p> 
<pre><code class="prism language-python">mpl<span class="token punctuation">.</span>rcParams<span class="token punctuation">[</span><span class="token string">"font.family"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"中文字体名称"</span>
mpl<span class="token punctuation">.</span>rcParams<span class="token punctuation">[</span><span class="token string">"axes.unicode_minus"</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token boolean">False</span>
</code></pre> 
<p>进行设置。常用的设置如下:</p> 
<ul><li>font.family 字体的名称</li></ul> 
<ul><li>sans-serif 西文字体（默认）</li><li>SimHei 中文黑体</li><li>FangSong 中文仿宋</li><li>YouYuan 中文幼圆</li><li>STSong 华文宋体</li><li>Kaiti 中文楷体</li><li>LiSu 中文隶书</li></ul> 
<ul><li>font.style 字体的风格</li></ul> 
<ul><li>normal 常规（默认）</li><li>italic 斜体</li><li>oblique 倾斜</li></ul> 
<ul><li>font.size 字体的大小（默认10）</li><li>axes.unicode_minus 是否使用Unicode的减号（负号）【在支持中文显示状态下，需要设置为False】</li></ul> 
<h4><a id="_98"></a>局部设置</h4> 
<p>在需要显式的文字中，使用fontproperties参数进行设置。</p> 
<p>说明：</p> 
<ul><li>如果全局设置与局部设置冲突，以局部设置为准。</li></ul> 
<pre><code class="prism language-python"><span class="token comment"># 默认情况下，matplotlib使用的是西方字体（不支持中文的），</span>
<span class="token comment"># 如果需要显式中文，可以将字体设置成支持中文的字体。</span>
mpl<span class="token punctuation">.</span>rcParams<span class="token punctuation">[</span><span class="token string">"font.family"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"Kaiti"</span>
<span class="token comment"># mpl.rcParams["font.family"] = "sans-serif"</span>
plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">"中文标题"</span><span class="token punctuation">)</span>
<span class="token comment"># plt.title("abcde")</span>
<span class="token comment"># 当字体设置成支持中文的字体时，负号也会也会使用Unicode字符集的负号（不支持显式）。</span>
<span class="token comment"># 我们需要恢复成ASCII字符集中的负号。</span>
mpl<span class="token punctuation">.</span>rcParams<span class="token punctuation">[</span><span class="token string">"axes.unicode_minus"</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token boolean">False</span>
<span class="token comment"># 设置字体形状.(对中文的字体支持的不太好)</span>
mpl<span class="token punctuation">.</span>rcParams<span class="token punctuation">[</span><span class="token string">"font.style"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"italic"</span>
<span class="token comment"># 设置字体的大小。</span>
<span class="token comment"># mpl.rcParams["font.size"] = 10</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/67/f7/36LTKtRd_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_121"></a>局部设置。</h2> 
<p>plt.plot([1, 2, 3], [4, 5, 8])<br> plt.title(“标题信息”, fontsize=20, fontproperties=“LiSu”)<br> <img src="https://images2.imgbox.com/05/e6/7PSbNjZH_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_125"></a>保存图表</h3> 
<p>通过plt的savefig方法将当前的图形保存到硬盘或者类文件对象中。</p> 
<ul><li>dpi：每英寸分辨率点数。</li><li>facecolor：设置图像的背景色。</li><li>bbox_inches：设置为tight，可以紧凑保存图像。</li></ul> 
<pre><code class="prism language-python">x <span class="token operator">=</span> np<span class="token punctuation">.</span>linspace<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token operator">*</span> np<span class="token punctuation">.</span>pi<span class="token punctuation">,</span> num<span class="token operator">=</span><span class="token number">100</span><span class="token punctuation">)</span>
y <span class="token operator">=</span> np<span class="token punctuation">.</span>sin<span class="token punctuation">(</span>x<span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span>
<span class="token comment"># plt.savefig("c:/1.png", dpi=50, facecolor="g", bbox_inches="tight")</span>
<span class="token comment"># savefig除了可以将图片保存在硬盘上之外，也可以将图片保存到类文件对象中。</span>

<span class="token comment"># from io import StringIO</span>
<span class="token comment"># 二进制（字节）格式的类文件对象。</span>
<span class="token keyword">from</span> io <span class="token keyword">import</span> BytesIO
b <span class="token operator">=</span> BytesIO<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># 保存到类文件对象中。</span>
plt<span class="token punctuation">.</span>savefig<span class="token punctuation">(</span>b<span class="token punctuation">,</span> dpi<span class="token operator">=</span><span class="token number">50</span><span class="token punctuation">)</span>
display<span class="token punctuation">(</span>b<span class="token punctuation">.</span>tell<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
b<span class="token punctuation">.</span>seek<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token comment"># b.read(50)</span>
<span class="token comment">#  b.getvalue()</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/a2/19/QiHSY1h5_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_151"></a>读取图像</h2> 
<p>from PIL import Image</p> 
<h2><a id="image__Imageopenc1png_153"></a>image = Image.open(“c:/1.png”)</h2> 
<h2><a id="imageshow_154"></a>image.show()</h2> 
<h2><a id="Imageopen_156"></a>对Image来说，open可以传递文件的路径，也可以传递一个类文件对象。</h2> 
<p>image = Image.open(b)<br> image.show()</p> 
<h3><a id="_159"></a>颜色，点标记与线型设置</h3> 
<p>我们可以在绘制图形时，显式指定图形的颜色，点标记或线条形状。具体设置可以查看帮助文档。</p> 
<ul><li>color©：线条颜色。</li><li>linestyle(ls)：线条形状。</li><li>linewidth(lw)：线宽。</li><li>marker：点标记形状。</li><li>markersize(ms)：点标记的大小。</li><li>markeredgecolor(mec)：点边缘颜色。</li><li>markeredgewidth(mew)：点边缘宽度。</li><li>markerfacecolor(mfc)：点的颜色。</li></ul> 
<p>说明：</p> 
<ul><li>颜色，点标记与线型可以使用一个参数进行设置。</li><li>颜色除了可以使用预设简写的字符之外，也可以使用全称（例如red）也可以使用RGB颜色表示。</li></ul> 
<h2><a id="pltplot1_2_3_4_5_6_ro_174"></a>plt.plot([1, 2, 3], [4, 5, 6], “r–o”)</h2> 
<p>plt.plot([1, 2, 3], [4, 5, 6], c=“y”, ls="-.", lw=1, marker=“o”, ms=10, mec=“g”, mew=3, mfc=“r”)<br> <img src="https://images2.imgbox.com/fb/85/nATeT7nm_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_177"></a>透明度设置</h3> 
<p>在绘制图像时，我们可以通过alpha参数来控制图像的透明度，值在0 ~ 1之间。0为完全透明，1为不透明。</p> 
<pre><code class="prism language-python"><span class="token comment"># 可以使用alpha参数指定图像的透明度。0完全透明，1不透明（默认）</span>
plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">"o"</span><span class="token punctuation">,</span> alpha<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/fc/1c/zbmrDCd2_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_185"></a>图例设置</h3> 
<p>在绘制多条线时，可以设置图例来标注每条线所代表的含义，使图形更加清晰易懂。<br> 可以采用如下的方式设置图例：</p> 
<ul><li>调用plt的legend函数，传递一个标签数组，指定每次plot图形的标签。</li><li>在绘制的时候通过label参数指定图例中显示的名称，然后调用legend函数生成图例。</li></ul> 
<p>legend常用的参数：</p> 
<ul><li>loc：指定图例的位置。默认为best。也可以指定坐标（元组），基于图像左下角计算。</li><li>frameon：设置是否含有边框。</li><li>title：设置图例的标题。</li><li>ncol：图例显示的列数，默认为1。</li></ul> 
<pre><code class="prism language-python">last_year <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span>
this_year <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span>
<span class="token comment"># plt.plot(range(1, 13), last_year, marker="o")</span>
<span class="token comment"># plt.plot(range(1, 13), this_year, marker="o")</span>
<span class="token comment"># 设置图例 1 在legend方法中，按顺序指定每次绘图的标签。</span>
<span class="token comment"># plt.legend(["2017", "2018"])</span>
<span class="token comment"># 2 在绘制（plot）图形时，指定label参数值，该参数值为图例需要显示的文本。</span>
plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">)</span><span class="token punctuation">,</span> last_year<span class="token punctuation">,</span> marker<span class="token operator">=</span><span class="token string">"o"</span><span class="token punctuation">,</span> label<span class="token operator">=</span><span class="token string">"2017"</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">)</span><span class="token punctuation">,</span> this_year<span class="token punctuation">,</span> marker<span class="token operator">=</span><span class="token string">"o"</span><span class="token punctuation">,</span> label<span class="token operator">=</span><span class="token string">"2018"</span><span class="token punctuation">)</span>
<span class="token comment"># 设置图例时，可以通过loc属性来设置图例显示的位置。如果没有显式指定，则参数值为右上角。</span>
<span class="token comment"># loc属性可以指定为字符串，整数值。或者是一个元组（两个float值指定比例）此时，会根据图像比例计算</span>
<span class="token comment"># 图例显示的位置。原点在左下角。</span>
<span class="token comment"># plt.legend(loc=(0, 0))</span>
<span class="token comment"># frameon参数用来设置图例是否显示边框。默认为True。</span>
<span class="token comment"># plt.legend(loc="best", frameon=False)</span>
<span class="token comment"># 设置图例显示的标题。</span>
<span class="token comment"># plt.legend(loc="best", title="图例标题")</span>
<span class="token comment"># ncol参数用来设置图例显示的列数。（默认为1。）</span>
<span class="token comment"># plt.legend(loc="best", ncol=2)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/dc/06/zRFy4V3v_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_219"></a>网格设置</h3> 
<p>可以通过plt的grid方法来设置是否显示网格。True为显示，False不显示。ax.grid(color=‘r’, linestyle=’-’, linewidth=2)</p> 
<ul><li>color：设置网格线颜色</li><li>axis：设置网格线显示x，y或者全部显示（x，y，both）。</li><li>linestyle：设置网格线形状。</li><li>linewidth：设置网格线宽度。</li></ul> 
<pre><code class="prism language-python">plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment"># 显示网格，默认不显示网格。</span>
plt<span class="token punctuation">.</span>grid<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">"g"</span><span class="token punctuation">,</span> axis<span class="token operator">=</span><span class="token string">"both"</span><span class="token punctuation">,</span> linestyle<span class="token operator">=</span><span class="token string">"-."</span><span class="token punctuation">,</span> linewidth<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/79/2e/QnFbLMKG_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_232"></a>绘图区域设置</h3> 
<p>我们可以在一张图上绘制多个图形，当然，我们也可以将不同的图形绘制到多个不同的区域当中。<br> 我们可以采用以下方式来实现多个区域的绘制（创建子绘图区域）：</p> 
<ul><li>通过Figure对象调用add_subplot方法。</li><li>通过plt的subplot方法。</li><li>通过plt的subplots方法。</li></ul> 
<h4><a id="1add_subplot_239"></a>子区域1：add_subplot方法</h4> 
<ul><li>首先创建matplotlib.figure.Figure对象，然后通过Figure对象的add_subplot方法增加子绘图区域。</li><li>add_subplot方法中，需要指定子区域的行数、列数与当前要绘制的子区域。</li><li>add_subplot方法会返回子绘图对象（轴对象），通过该对象即可实现绘图（matplotlib.axes._subplots.AxesSubplot）。</li></ul> 
<p>在绘制图形时，总是需要创建Figure对象。如果没有显式创建，则plt会隐式创建一个Figure对象。在绘制图形时，既可以使用plt来绘制，也可以使用子绘图对象来绘制。<br> 如果使用plt对象绘制，则总是在最后创建的绘图区域上进行绘制，如果此时尚未创建绘图区域，则会自动创建。</p> 
<p>说明：</p> 
<ul><li>add_subplot方法的参数，即可以使用三个参数分开传递，也可以使用一个参数整体传递。</li><li>可以通过plt.subplots_adjust方法来调整子绘图的位置与子绘图之间的距离。（left, right, top, bottom, wspace, hspace）</li><li>创建子区域时，可以使用facecolor设置绘图区域的背景色。</li></ul> 
<pre><code class="prism language-python"><span class="token comment"># 创建Figure对象，然后通过调用add_subplot增加绘图区域。</span>
<span class="token comment"># 创建Figure对象。(画图必备的底层对象)</span>
f <span class="token operator">=</span> plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># 调用add_subplot增加子绘图区域对象，返回AxesSubplot类型的对象。</span>
<span class="token comment"># 三个参数，行数，列数，当前的绘图区域</span>
ax <span class="token operator">=</span> f<span class="token punctuation">.</span>add_subplot<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token comment"># 调用AxesSubplot对象的plot方法，进行图形绘制。</span>
<span class="token comment"># ax.plot([1, 5, 8], [10, -3, 6])</span>
plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment"># ax = f.add_subplot(1, 2, 2)</span>
ax <span class="token operator">=</span> f<span class="token punctuation">.</span>add_subplot<span class="token punctuation">(</span><span class="token string">"122"</span><span class="token punctuation">,</span> facecolor<span class="token operator">=</span><span class="token string">"g"</span><span class="token punctuation">)</span>
<span class="token comment"># ax.plot([10, 15, 28], [1, -33, 26])</span>
plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">28</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">33</span><span class="token punctuation">,</span> <span class="token number">26</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment"># 我们可以使用plt或者是AxesSubplot对象，调用plot方法进行绘制。</span>
<span class="token comment"># 当我们使用plt绘制时，永远会在最后一次创建的子绘图区域上进行绘制。</span>
<span class="token comment"># 如果当前没有子绘图区域，此时会创建一个。</span>

<span class="token comment"># 调整距离（绘图区域之间的距离以及绘图区域与边界间的距离）</span>
plt<span class="token punctuation">.</span>subplots_adjust<span class="token punctuation">(</span>wspace<span class="token operator">=</span><span class="token number">0.5</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/ec/af/Z1LyVKim_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="2subplot_276"></a>子区域2：subplot方法</h4> 
<p>通过调用plt的subplot方法创建子绘图区域，该方法返回子绘图对象。此种方式下，会隐式创建Figure对象。<br> 实际上，这种创建子绘图区域的方式，底层也是通过第一种方式实现的。</p> 
<pre><code class="prism language-python"><span class="token comment"># ax = plt.subplot(1, 2, 1)</span>
plt<span class="token punctuation">.</span>subplot<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>subplot<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/61/68/hPO8C2nl_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="3subplots_288"></a>子区域3：subplots方法</h4> 
<p>通过plt的subplots方法创建子绘图区域，该方法返回一个元组（Figure对象与所有子绘图对象，如果是多个子绘图对象，则返回一个ndarray数组）。可以通过sharex与sharey来指定是否共享x轴与y轴。</p> 
<pre><code class="prism language-python"><span class="token comment"># subplots会返回一个元组。（Figure对象， 所有子绘图区域对象（数组））</span>
<span class="token comment"># 可以使用sharex与sharey设置是否共享x（y）轴。</span>
figure<span class="token punctuation">,</span> ax <span class="token operator">=</span> plt<span class="token punctuation">.</span>subplots<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> sharey<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
ax<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>plot<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">"r-o"</span><span class="token punctuation">)</span>
ax<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>plot<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">"g-o"</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/a6/18/tyPtCtQp_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_299"></a>绘图区域大小设置</h3> 
<p>如果绘图子区域较多，可能会有些拥挤。此时，我们可以调整绘图区域的大小。方式如下：</p> 
<ul><li>在调用<code>plt.figure()</code>创建Figure对象时，通过figsize参数指定。单位为英寸。</li><li>在创建Figure对象后，可以通过Figure对象的set_size_inches方法设置。</li></ul> 
<p>说明：</p> 
<ul><li>如果没有显式创建Figure对象，可以通过plt的gcf函数获取当前的Figure对象。</li></ul> 
<pre><code class="prism language-python"><span class="token comment"># 创建Figure对象，通过figsize参数指定画布的大小。（单位：英寸）</span>
<span class="token comment"># plt.figure(figsize=(10, 10))</span>
<span class="token comment"># 第二种方式。创建Figure对象后，调用set_size_inches方法设置画布大小。</span>
f <span class="token operator">=</span> plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># f.set_size_inches(10, 10)</span>
<span class="token comment"># 获取当前的Figure对象。</span>
<span class="token comment"># f = plt.gcf()</span>
<span class="token comment"># f.set_size_inches(10, 10)</span>
f2 <span class="token operator">=</span> plt<span class="token punctuation">.</span>gcf<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># 如果显式创建Figure对象，则获取的Figure对象就是我们创建的对象。</span>
display<span class="token punctuation">(</span>f <span class="token keyword">is</span> f2<span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/d7/5e/O6ocblaG_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_322"></a>标签与刻度设置</h3> 
<p>可以通过plt对象的相关方法来设置（或获取）标签与刻度等信息。设置还是获取，取决于是否传递实际参数。</p> 
<ul><li>plt.xlim 设置或获取x轴刻度范围。</li><li>plt.ylim 设置或获取y轴刻度范围。</li><li>plt.xticks 设置或获取x轴显示的刻度与标签。</li><li>plt.yticks 设置或获取y轴显示的刻度与标签。</li><li>plt.axis 可以同时设置或获取x与y轴的刻度范围，或者是取消刻度显示。</li></ul> 
<ul><li>无参数：返回一个元组。(xmin, xmax, ymin, ymax)</li><li>(xmin, xmax, ymin, ymax) 同时设置x与y轴的刻度范围。</li><li>off 取消坐标轴显示。</li><li>tight：坐标轴紧凑显示。</li><li>equal：x与y具有同样的长度。</li></ul> 
<h3><a id="_335"></a>轴标签说明与标题设置</h3> 
<ul><li>plt.xlabel 设置x轴的标签说明。</li><li>plt.ylabel 设置y轴的标签说明。</li><li>plt.title 设置标题。</li></ul> 
<pre><code class="prism language-python"><span class="token comment"># 关于这些方法的使用，需要注意：既可以进行设置，也可以获取相关的值。</span>
<span class="token comment"># 设置还是获取，取决于方法的参数。当方法没有参数时，获取值。当方法具有参数时，设置值。</span>

plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment"># 设置或获取x（y）轴的界限。</span>
<span class="token comment"># display(plt.xlim())</span>
<span class="token comment"># plt.xlim([0, 20])</span>
<span class="token comment"># plt.ylim()</span>
<span class="token comment"># plt.ylim([0, 5])</span>
<span class="token comment"># 设置（获取）轴显示的刻度。</span>
<span class="token comment"># plt.xticks([1, 3, 5, 7, 9])</span>
<span class="token comment"># plt.xticks()</span>
<span class="token comment"># xticks可以传递两个数据，第1个数组用来设置显示的刻度，第2个数据用来设置刻度显示的标签。</span>
<span class="token comment"># 如果没有显式指定第2个数组，刻度的显示标签就等于刻度的值。</span>
<span class="token comment"># plt.xticks([1, 5, 9], ["前期", "中期", "后期"], rotation=90)</span>

<span class="token comment"># 可以获取或设置x与y轴的界限值。（4个值）</span>
<span class="token comment"># plt.axis()</span>
<span class="token comment"># plt.axis([0, 20, -1, 5])</span>
<span class="token comment"># 不显示坐标轴。</span>
<span class="token comment"># plt.axis("off")</span>
<span class="token comment"># 坐标轴紧凑显示</span>
<span class="token comment"># plt.axis("tight")</span>
<span class="token comment"># 让坐标轴x与y的比例尺相同。</span>
<span class="token comment"># plt.axis("equal")</span>
<span class="token comment"># 设置x轴显示的内容。</span>
plt<span class="token punctuation">.</span>xlabel<span class="token punctuation">(</span><span class="token string">"x轴"</span><span class="token punctuation">)</span>
<span class="token comment"># 设置y轴显示的内容。</span>
plt<span class="token punctuation">.</span>ylabel<span class="token punctuation">(</span><span class="token string">"y轴"</span><span class="token punctuation">)</span>
<span class="token comment"># 设置标题。</span>
plt<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">"标题"</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/5e/23/31duwxPw_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_374"></a>通过绘图对象设置</h3> 
<p>除了通过plt对象外，我们还可以通过子绘图对象来设置与获取标签与刻度。</p> 
<ul><li>ax.set_xlim 设置x轴刻度范围。</li><li>ax.get_xlim 获取x轴刻度范围。</li><li>ax.set_xticks 设置x轴显示的刻度。</li><li>ax.get_xticks 获取x轴显示的刻度。</li><li>ax.set_xticklabels 设置x轴显示的刻度标签。默认显示的是就是刻度值。</li><li>ax.get_xticklabels 获取x轴显示的刻度标签。</li></ul> 
<p>也可以设置标签说明与标题。</p> 
<ul><li>ax.set_xlabel 设置x轴的标签说明。</li><li>ax.get_xlabel 获取x轴的标签说明。</li><li>ax.set_title 设置标题。</li><li>ax.get_title 获取标题。</li></ul> 
<p>说明：</p> 
<ul><li>如果需要设置或者获取y轴，只需要将x换成y即可。</li><li>在设置标签时，可以使用rotation参数，令标签旋转。</li></ul> 
<pre><code class="prism language-python">ax <span class="token operator">=</span> plt<span class="token punctuation">.</span>subplot<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
ax<span class="token punctuation">.</span>set_xlim<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span>
ax<span class="token punctuation">.</span>set_xticks<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
ax<span class="token punctuation">.</span>set_xticklabels<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"早"</span><span class="token punctuation">,</span> <span class="token string">"中"</span><span class="token punctuation">,</span> <span class="token string">"晚"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
ax<span class="token punctuation">.</span>set_xlabel<span class="token punctuation">(</span><span class="token string">"x轴"</span><span class="token punctuation">)</span>
ax<span class="token punctuation">.</span>set_ylabel<span class="token punctuation">(</span><span class="token string">"y轴"</span><span class="token punctuation">)</span>
ax<span class="token punctuation">.</span>set_title<span class="token punctuation">(</span><span class="token string">"标题"</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/d8/bd/sYxLjMFX_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_403"></a>添加注解</h3> 
<p>我们可以在图形上绘制文本等说明信息（注解）。</p> 
<h4><a id="_405"></a>普通文本</h4> 
<p>plt.text 显示文本（基于坐标）<br> plt.figtext 显示文本（基于图片）</p> 
<h4><a id="_409"></a>箭头</h4> 
<p>plt.arrow 根据起点坐标（x，y）与各自轴的长度（x + dx, y + dy）绘制箭头。</p> 
<ul><li>width 箭头尾部的宽度。</li><li>head_width 箭头的宽度。</li><li>head_length 箭头的长度。</li></ul> 
<h4><a id="_415"></a>箭头与文本</h4> 
<p>plt.annotate 显示箭头与文本。</p> 
<ul><li>xy 箭头指向坐标</li><li>xytext 文本起点坐标。（箭头尾部坐标）</li><li>arrowprops 字典类型，可设置箭头的属性。</li></ul> 
<ul><li>facecolor 箭头的颜色</li><li>headwidth 箭头的宽度</li><li>width 箭尾的宽度</li><li>shrink 收缩大小</li><li>headlength 箭头的长度</li><li>arrowstyle 一些预设的箭头样式。当含有该参数时，上述4项参数将不再有效。</li></ul> 
<pre><code class="prism language-python">x <span class="token operator">=</span> np<span class="token punctuation">.</span>linspace<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token operator">*</span> np<span class="token punctuation">.</span>pi<span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
y <span class="token operator">=</span> np<span class="token punctuation">.</span>sin<span class="token punctuation">(</span>x<span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span>
<span class="token comment"># 基于坐标显示文本</span>
<span class="token comment"># plt.text(5, 0.5, "这是正弦曲线")</span>
<span class="token comment"># 基于图像的比例，显示文本。</span>
<span class="token comment"># plt.figtext(0.2, 0.5, "这是正弦曲线")</span>
<span class="token comment"># 绘制箭头。x,y起始点坐标。   x + dx, y + dy 终止点坐标。  </span>
<span class="token comment"># plt.arrow(5, 0.5, -2, -0.1, width=0.05, head_width=0.1, head_length=0.1, color="g")</span>
<span class="token comment"># 同时绘制箭头与文本</span>
<span class="token comment"># plt.annotate("这是正弦曲线", xy=(3, 0.25), xytext=(5, 0.5), arrowprops={"facecolor":"g", "headwidth":15, "width": 7, "shrink":0.1})</span>
<span class="token comment"># plt.annotate("这是正弦曲线", xy=(3, 0.25), xytext=(5, 0.5), arrowprops={"arrowstyle": "&lt;-&gt;"})</span>
plt<span class="token punctuation">.</span>annotate<span class="token punctuation">(</span><span class="token string">"这是正弦曲线"</span><span class="token punctuation">,</span> xy<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">0.25</span><span class="token punctuation">)</span><span class="token punctuation">,</span> xytext<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">,</span> arrowprops<span class="token operator">=</span><span class="token builtin">dict</span><span class="token punctuation">(</span>facecolor<span class="token operator">=</span><span class="token string">"g"</span><span class="token punctuation">,</span> headwidth<span class="token operator">=</span><span class="token number">15</span><span class="token punctuation">,</span> width<span class="token operator">=</span><span class="token number">7</span><span class="token punctuation">,</span> shrink<span class="token operator">=</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/27/d1/j2rTDnOp_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_443"></a>绘图样式设置</h3> 
<p>我们可以通过<code>plt.style.use("样式名")</code>来设置绘图使用的样式。</p> 
<p>说明：<br> 执行<code>plt.style.available</code>来获取所有的绘图样式。</p> 
<h2><a id="_449"></a>显示所有支持的样式</h2> 
<h2><a id="pltstyleavailable_450"></a>plt.style.available</h2> 
<h2><a id="_451"></a>设置参数指定的样式。</h2> 
<p>plt.style.use(“ggplot”)</p> 
<pre><code class="prism language-python">x <span class="token operator">=</span> np<span class="token punctuation">.</span>linspace<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token operator">*</span> np<span class="token punctuation">.</span>pi<span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
y <span class="token operator">=</span> np<span class="token punctuation">.</span>sin<span class="token punctuation">(</span>x<span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>annotate<span class="token punctuation">(</span><span class="token string">"这是正弦曲线"</span><span class="token punctuation">,</span> xy<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">0.25</span><span class="token punctuation">)</span><span class="token punctuation">,</span> xytext<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">,</span> arrowprops<span class="token operator">=</span><span class="token builtin">dict</span><span class="token punctuation">(</span>facecolor<span class="token operator">=</span><span class="token string">"g"</span><span class="token punctuation">,</span> headwidth<span class="token operator">=</span><span class="token number">15</span><span class="token punctuation">,</span> width<span class="token operator">=</span><span class="token number">7</span><span class="token punctuation">,</span> shrink<span class="token operator">=</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/d6/32/1W3k459Q_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_461"></a>图形类型</h2> 
<h3><a id="_462"></a>折线图</h3> 
<p>plt.plot</p> 
<pre><code class="prism language-python"><span class="token comment"># 折线图适合显示具有趋势的增加变化的数据。例如，股市走势，降雨量，气温变量。</span>
plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/09/f3/bJl5Or6Y_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="___470"></a>柱形图 / 条形图</h3> 
<p>plt.bar 柱形图<br> plt.barh 条形图</p> 
<pre><code class="prism language-python"><span class="token comment"># 柱形图，条形图适合比较数值的大小。</span>
<span class="token comment"># plt.bar(range(1, 11), np.random.randint(100, 200, 10))</span>
plt<span class="token punctuation">.</span>barh<span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">,</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/ea/4e/zPBu4U7A_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_480"></a>饼图</h3> 
<p>plt.pie 饼图</p> 
<ul><li>labels 每个部分显示的标签。</li><li>explode 指定每个部分距离圆心的偏移量（单位为半径的长度）。</li><li>colors 指定每个部分的颜色。</li><li>autopct 设置每个部分显示的比例值（格式化）。</li><li>couterclock 是否逆时针绘图。默认为True。</li><li>startangle 初始绘图点位置（逆时针偏移x轴的角度）。默认为偏移0度（x轴）。</li><li>shadow 是否含有阴影，默认为False。</li></ul> 
<pre><code class="prism language-python"><span class="token comment"># 饼图适合于表示比例大小。（数量不宜过多，否则会显得凌乱）</span>
<span class="token comment"># plt.pie([10, 20, 30, 40], labels=["A部门", "B部门", "C部门", "D部门"], explode=[0, 0, 0, 0.5], colors=["r", "g", "b", "y"])</span>
<span class="token comment"># plt.pie([10, 20, 30, 40], labels=["A部门", "B部门", "C部门", "D部门"], autopct="%.2f", counterclock=False)</span>
plt<span class="token punctuation">.</span>pie<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">]</span><span class="token punctuation">,</span> labels<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"A部门"</span><span class="token punctuation">,</span> <span class="token string">"B部门"</span><span class="token punctuation">,</span> <span class="token string">"C部门"</span><span class="token punctuation">,</span> <span class="token string">"D部门"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> startangle<span class="token operator">=</span><span class="token number">90</span><span class="token punctuation">,</span> shadow<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/4b/c4/AsrpA9Cu_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="___497"></a>散点图 / 气泡图</h3> 
<p>散点图适合于用来显示与比较数据的分布状态。</p> 
<ul><li>marker 点的标记。</li><li>s 点的大小。</li><li>color 点的颜色。</li></ul> 
<p>说明：</p> 
<ul><li>color与s参数可以统一设置，也可以为每一个点单独设置。</li></ul> 
<pre><code class="prism language-python"><span class="token comment"># 散点图/气泡图适合表示数据整体的分布信息。</span>
<span class="token comment"># 散点图可以表示两个维度，加上气泡大小，颜色，可以多表示两个维度。</span>
<span class="token comment"># plt.scatter(np.random.randint(0, 100, 100), np.random.randint(0, 100, 100), s=150, color="g")</span>

<span class="token comment"># s（点的大小）与color（点的颜色）既可以统一制定，也可以单独制定。</span>
<span class="token comment"># plt.scatter([1, 2, 3, 4], [4, 3, 2, 1], s=[10, 20, 30, 40], color=["r", "g", "b", "y"])</span>

size <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">]</span>
color <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"r"</span><span class="token punctuation">,</span> <span class="token string">"g"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token string">"y"</span><span class="token punctuation">]</span>


plt<span class="token punctuation">.</span>scatter<span class="token punctuation">(</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            s<span class="token operator">=</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>choice<span class="token punctuation">(</span>size<span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span> color<span class="token operator">=</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>choice<span class="token punctuation">(</span>color<span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/70/4a/Nu6awQY5_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_522"></a>直方图</h3> 
<p>直方图（histogram）可以看成是一种特殊的柱形图，用来将连续的数据频率（数量）进行离散化显示。在直方图中，数据被分割成若干区间，然后统计每个区间数据出现的频率（数量）。<br> 我们可以通过plt.hist来绘制直方图。</p> 
<ul><li>bins：设置分割区间的数量。</li><li>normed：进行归一化显示。（概率密度）</li></ul> 
<pre><code class="prism language-python"><span class="token comment"># 直方图适合将连续值转换成离散值，方便分组统计数量。</span>
plt<span class="token punctuation">.</span>hist<span class="token punctuation">(</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span> bins<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">,</span> normed<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
<span class="token comment"># 返回的两个ndarray。</span>
<span class="token comment"># 第一个ndarray表示每个桶中元素的数量。</span>
<span class="token comment"># 第二个naarray表示每个桶的界限。（前闭后开，最后一个桶例外，两端都是闭区间。）</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/12/d6/PRrhvLLj_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_536"></a>箱线图</h3> 
<p>箱线图也称盒须图。通过极值与Q1,Q2,Q3值来描述数据。通过箱线图，我们可以发现数据中的离群（异常）值。<br> 箱线图的离群点定义为：Q3+1.5IQR和Q1－1.5IQR。其中IQR为两个四分位之间的距离。</p> 
<pre><code># 箱线图适合分析离群值（异常值）。
x = np.random.normal(0, 10, size=1000)
plt.boxplot(x)
</code></pre> 
<p><img src="https://images2.imgbox.com/de/28/n4uFwXZe_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="SeriesDataFrame_546"></a>Series与DataFrame图形绘制</h2> 
<p>Series与DataFrame类型的对象也支持图形绘制，使用对象的plot方法即可。<br> 如果我们需要绘制图形的数据就存在Series或者DataFrame对象中，我们就可以直接绘制，而无需使用plt.plot。</p> 
<h3><a id="_549"></a>其他类型图形</h3> 
<p>plot默认绘制的是线形图，我们可以通过调整其kind参数的值来绘制其他类型的图形。</p> 
<ul><li>line：线形图</li><li>bar：柱形图</li><li>barh：条形图</li><li>hist：直方图</li><li>kde / density：核密度图</li><li>pie：饼图</li><li>box：箱线图</li><li>area：面积图</li></ul> 
<p>参数：</p> 
<ul><li>color</li><li>alpha</li><li>stacked：是否堆叠。</li></ul> 
<p>说明：<br> plot(kind=“类型”)也可以通过plot."类型"来进行绘制。</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd
df <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
display<span class="token punctuation">(</span>df<span class="token punctuation">)</span>
<span class="token comment"># df.plot(marker="o")</span>
<span class="token comment"># stacked设置为True，堆叠图。</span>
<span class="token comment"># df.plot(kind="bar", stacked=True)</span>

<span class="token comment"># df[2].plot()</span>

<span class="token comment"># df.plot(kind="pie", y=3)</span>
df<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>kind<span class="token operator">=</span><span class="token string">"pie"</span><span class="token punctuation">,</span> subplots<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/06/ae/4OCiyInI_o.png" alt="在这里插入图片描述"><br> 希望对你有所帮助！</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/7045eb89d6a041d004711ec31b4821ca/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">数据分析(7)-如何使用Python与Hadoop生态系统进行交互(译)</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/0245ac88562430270b5aa58f6557903f/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">大数据架构如何做到流批一体？</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>