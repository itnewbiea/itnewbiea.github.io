<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>旋转框目标检测mmrotate v1.0.0rc1 之RTMDet训练DOTA的官方问题解析整理（四） - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="旋转框目标检测mmrotate v1.0.0rc1 之RTMDet训练DOTA的官方问题解析整理（四）" />
<meta property="og:description" content="1、Batchsize和学习率问题 1、关于rotated_rtmdet_l-coco_pretrain-3x-dota_ms.py配置文件的batchsize和学习率设置 问题： 回答： 2、不同batchsize下s2anet的mAP #59 问题： 回答： 3、关于lr和batchsize的问题 #645 2、如何进行多尺度测试？ #201 3、为什么相同的物体分类分数相差很大？ #455 问题： 回答： _base_ = [&#39;./roi_trans_r50_fpn_1x_dota_le90.py&#39;] data_root = &#39;datasets/split_ms_dotav1/&#39; angle_version = &#39;le90&#39; img_norm_cfg = dict( mean=[123.675, 116.28, 103.53], std=[58.395, 57.12, 57.375], to_rgb=True) train_pipeline = [ dict(type=&#39;LoadImageFromFile&#39;), dict(type=&#39;LoadAnnotations&#39;, with_bbox=True), dict(type=&#39;RResize&#39;, img_scale=(1024, 1024)), dict( type=&#39;RRandomFlip&#39;, flip_ratio=[0.25, 0.25, 0.25], direction=[&#39;horizontal&#39;, &#39;vertical&#39;, &#39;diagonal&#39;], version=angle_version), dict( type=&#39;PolyRandomRotate&#39;, rotate_ratio=0.5, angles_range=180, auto_bound=False, rect_classes=[9, 11], version=angle_version), dict(type=&#39;Normalize&#39;, **img_norm_cfg), dict(type=&#39;Pad&#39;, size_divisor=32), dict(type=&#39;DefaultFormatBundle&#39;), dict(type=&#39;Collect&#39;, keys=[&#39;img&#39;, &#39;gt_bboxes&#39;, &#39;gt_labels&#39;]) ] data = dict( train=dict( pipeline=train_pipeline, ann_file=data_root &#43; &#39;trainval/annfiles/&#39;, img_prefix=data_root &#43; &#39;trainval/images/&#39;), val=dict( ann_file=data_root &#43; &#39;trainval/annfiles/&#39;, img_prefix=data_root &#43; &#39;trainval/images/&#39;), test=dict( ann_file=data_root &#43; &#39;test/images/&#39;, img_prefix=data_root &#43; &#39;test/images/&#39;)) model = dict(train_cfg=dict(rpn=dict(assigner=dict(gpu_assign_thr=200)))) 4、检测细长物体的困难 #384 问题： 回答： def gen_single_level_base_anchors(self, base_size, scales, ratios, center=None): &#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/f4cbc8e9e05f10d6417bb4b85e4bb636/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-06-15T16:26:16+08:00" />
<meta property="article:modified_time" content="2023-06-15T16:26:16+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">旋转框目标检测mmrotate v1.0.0rc1 之RTMDet训练DOTA的官方问题解析整理（四）</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div class="kdocs-document"> 
 <h2 style="">1、Batchsize和学习率问题</h2> 
 <h3 style="">1、关于rotated_rtmdet_l-coco_pretrain-3x-dota_ms.py配置文件的batchsize和学习率设置</h3> 
 <h4 style="">问题：</h4> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:938px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:36.247334%;height:0;"> 
    <img src="https://images2.imgbox.com/9b/5c/00tIQIgf_o.png" style="margin-left:;display:block;width:938px;margin-top:-36.247334%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <h4 style="">回答：</h4> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1014px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:18.441814%;height:0;"> 
    <img src="https://images2.imgbox.com/ea/53/snfxvWUZ_o.png" style="margin-left:;display:block;width:1014px;margin-top:-18.441814%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <h3 style="text-align:left;">2、不同batchsize下s2anet的mAP #59</h3> 
 <h4 style="">问题：</h4> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:928px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:26.939655%;height:0;"> 
    <img src="https://images2.imgbox.com/57/0a/RhYE5pMB_o.png" style="margin-left:;display:block;width:928px;margin-top:-26.939655%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <h4 style="">回答：</h4> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1044px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:34.578545%;height:0;"> 
    <img src="https://images2.imgbox.com/ac/29/0JL2vCfo_o.png" style="margin-left:;display:block;width:1044px;margin-top:-34.578545%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1013px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:35.43929%;height:0;"> 
    <img src="https://images2.imgbox.com/5d/50/8R5Y9oB1_o.png" style="margin-left:;display:block;width:1013px;margin-top:-35.43929%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1023px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:33.137833%;height:0;"> 
    <img src="https://images2.imgbox.com/cc/76/K7ypQXDJ_o.png" style="margin-left:;display:block;width:1023px;margin-top:-33.137833%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1027px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:49.26972%;height:0;"> 
    <img src="https://images2.imgbox.com/bf/3b/GgjaDoi3_o.png" style="margin-left:;display:block;width:1027px;margin-top:-49.26972%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <h3 style="text-align:left;">3、关于lr和batchsize的问题 #645</h3> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1039px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:56.207893%;height:0;"> 
    <img src="https://images2.imgbox.com/97/27/QMXc0Pwx_o.png" style="margin-left:;display:block;width:1039px;margin-top:-56.207893%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <h2 style="text-align:left;">2、如何进行多尺度测试？ #201</h2> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:964px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:68.15353%;height:0;"> 
    <img src="https://images2.imgbox.com/9d/3c/5Do6CmhZ_o.png" style="margin-left:;display:block;width:964px;margin-top:-68.15353%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1144px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:60.227272%;height:0;"> 
    <img src="https://images2.imgbox.com/ac/b0/a4XDgenE_o.png" style="margin-left:;display:block;width:1144px;margin-top:-60.227272%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <h2 style="text-align:left;">3、为什么相同的物体分类分数相差很大？ #455</h2> 
 <h3 style="text-align:left;">问题：</h3> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:828px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:76.932365%;height:0;"> 
    <img src="https://images2.imgbox.com/38/3b/MRa0lva0_o.png" style="margin-left:;display:block;width:828px;margin-top:-76.932365%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:927px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:78.85652%;height:0;"> 
    <img src="https://images2.imgbox.com/6e/88/wFRr1biC_o.png" style="margin-left:;display:block;width:927px;margin-top:-78.85652%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:920px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:18.152174%;height:0;"> 
    <img src="https://images2.imgbox.com/c9/bb/OoBgjGv3_o.png" style="margin-left:;display:block;width:920px;margin-top:-18.152174%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <h3 style="text-align:left;">回答：</h3> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1048px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:44.94275%;height:0;"> 
    <img src="https://images2.imgbox.com/2b/79/iwblMKO7_o.png" style="margin-left:;display:block;width:1048px;margin-top:-44.94275%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <pre class="kdocs-bash"><code class="language-bash">_base_ = ['./roi_trans_r50_fpn_1x_dota_le90.py']

data_root = 'datasets/split_ms_dotav1/'
angle_version = 'le90'
img_norm_cfg = dict(
    mean=[123.675, 116.28, 103.53], std=[58.395, 57.12, 57.375], to_rgb=True)
train_pipeline = [
    dict(type='LoadImageFromFile'),
    dict(type='LoadAnnotations', with_bbox=True),
    dict(type='RResize', img_scale=(1024, 1024)),
    dict(
        type='RRandomFlip',
        flip_ratio=[0.25, 0.25, 0.25],
        direction=['horizontal', 'vertical', 'diagonal'],
        version=angle_version),
    dict(
        type='PolyRandomRotate',
        rotate_ratio=0.5,
        angles_range=180,
        auto_bound=False,
        rect_classes=[9, 11],
        version=angle_version),
    dict(type='Normalize', **img_norm_cfg),
    dict(type='Pad', size_divisor=32),
    dict(type='DefaultFormatBundle'),
    dict(type='Collect', keys=['img', 'gt_bboxes', 'gt_labels'])
]
data = dict(
    train=dict(
        pipeline=train_pipeline,
        ann_file=data_root + 'trainval/annfiles/',
        img_prefix=data_root + 'trainval/images/'),
    val=dict(
        ann_file=data_root + 'trainval/annfiles/',
        img_prefix=data_root + 'trainval/images/'),
    test=dict(
        ann_file=data_root + 'test/images/',
        img_prefix=data_root + 'test/images/'))

model = dict(train_cfg=dict(rpn=dict(assigner=dict(gpu_assign_thr=200))))</code></pre> 
 <h2 style="text-align:left;">4、检测细长物体的困难 #384</h2> 
 <h3 style="text-align:left;">问题：</h3> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1058px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:47.25898%;height:0;"> 
    <img src="https://images2.imgbox.com/7d/cc/w9EN7c3y_o.png" style="margin-left:;display:block;width:1058px;margin-top:-47.25898%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:531px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:146.13936%;height:0;"> 
    <img src="https://images2.imgbox.com/58/c1/ouVRBAZL_o.png" style="margin-left:;display:block;width:531px;margin-top:-146.13936%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <h3 style="text-align:left;">回答：</h3> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1066px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:52.90807%;height:0;"> 
    <img src="https://images2.imgbox.com/77/37/VDHDqQ0O_o.png" style="margin-left:;display:block;width:1066px;margin-top:-52.90807%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <pre class="kdocs-bash"><code class="language-bash">def gen_single_level_base_anchors(self,
                                      base_size,
                                      scales,
                                      ratios,
                                      center=None):
        """Generate base anchors of a single level.
        Args:
            base_size (int | float): Basic size of an anchor.
            scales (torch.Tensor): Scales of the anchor.
            ratios (torch.Tensor): The ratio between between the height
                and width of anchors in a single level.
            center (tuple[float], optional): The center of the base anchor
                related to a single feature grid. Defaults to None.
        Returns:
            torch.Tensor: Anchors in a single-level feature maps.
        """
        w = base_size
        h = base_size
        if center is None:
            x_center = self.center_offset * w
            y_center = self.center_offset * h
        else:
            x_center, y_center = center

        h_ratios = torch.sqrt(ratios)
        w_ratios = 1 / h_ratios
        if self.scale_major:
            ws = (w * w_ratios[:, None] * scales[None, :]).view(-1)
            hs = (h * h_ratios[:, None] * scales[None, :]).view(-1)
        else:
            ws = (w * scales[:, None] * w_ratios[None, :]).view(-1)
            hs = (h * scales[:, None] * h_ratios[None, :]).view(-1)

        # use float anchor and the anchor's center is aligned with the
        # pixel center
        base_anchors = [
            x_center - 0.5 * ws, y_center - 0.5 * hs, x_center + 0.5 * ws,
            y_center + 0.5 * hs
        ]
        base_anchors = torch.stack(base_anchors, dim=-1)

        return base_anchors</code></pre> 
 <h2 style="text-align:left;">5、如何训练宽高比大的物体 #285</h2> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1014px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:70.80868%;height:0;"> 
    <img src="https://images2.imgbox.com/11/7a/1oowpoG1_o.png" style="margin-left:;display:block;width:1014px;margin-top:-70.80868%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:929px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:68.89128%;height:0;"> 
    <img src="https://images2.imgbox.com/a7/fd/Vb7dqubz_o.png" style="margin-left:;display:block;width:929px;margin-top:-68.89128%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style=""></p> 
 <h2 style="text-align:left;">6、请问这个项目中通道的ms+rr和论文中常说的多维度测试和多维度训练有什么区别</h2> 
 <h3 style="text-align:left;">问题：</h3> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:949px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:35.511063%;height:0;"> 
    <img src="https://images2.imgbox.com/04/49/8Gu692qG_o.png" style="margin-left:;display:block;width:949px;margin-top:-35.511063%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <h3 style="text-align:left;">回答：</h3> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:950px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:35.05263%;height:0;"> 
    <img src="https://images2.imgbox.com/0b/39/yErHuBLL_o.png" style="margin-left:;display:block;width:950px;margin-top:-35.05263%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style=""></p> 
 <h2 style="text-align:left;">7、如何在mmrotate中绘制特征图</h2> 
 <h3 style="">问题：</h3> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:958px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:25.574112%;height:0;"> 
    <img src="https://images2.imgbox.com/67/e1/WBEAm2mM_o.png" style="margin-left:;display:block;width:958px;margin-top:-25.574112%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <h3 style="">回答：</h3> 
 <p style=""><span class="kdocs-fontSize" style="font-size:9pt;">你好</span><a class="kdocs-link" style="color:#0A6CFF;" href="https://github.com/AllieLan" target="_blank" rel="noopener noreferrer"><span class="kdocs-fontSize" style="font-size:9pt;">@AllieLan</span></a><span class="kdocs-fontSize" style="font-size:9pt;">，您可以尝试使用</span><a class="kdocs-link" style="color:#0A6CFF;" href="https://github.com/open-mmlab/mmyolo/blob/main/demo/featmap_vis_demo.py" target="_blank" rel="noopener noreferrer"><span class="kdocs-fontSize" style="font-size:9pt;"><span class="kdocs-underline" style="text-decoration:underline;">https://github.com/open-mmlab/mmyolo/blob/main/demo/featmap_vis_demo.py</span></span></a></p> 
 <h2 style="text-align:left;">8、oriented reppoints 支持 filter_empty_gt=False 的训练</h2> 
 <h3 style="">问题：</h3> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:952px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:37.60504%;height:0;"> 
    <img src="https://images2.imgbox.com/dd/42/HonITbDO_o.png" style="margin-left:;display:block;width:952px;margin-top:-37.60504%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <h3 style="">回答：</h3> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:954px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:11.740042%;height:0;"> 
    <img src="https://images2.imgbox.com/73/fc/2wHJFnqG_o.png" style="margin-left:;display:block;width:954px;margin-top:-11.740042%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <h2 style="text-align:left;">9、[1.x] RTMDet-R (tiny) 内存不足的 CUDA，具有 24GB VRAM 和 batch_size=1</h2> 
 <h3 style="">问题：</h3> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1059px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:30.122759%;height:0;"> 
    <img src="https://images2.imgbox.com/10/74/3YzTluLT_o.png" style="margin-left:;display:block;width:1059px;margin-top:-30.122759%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <h3 style="">回答:</h3> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1023px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:57.966763%;height:0;"> 
    <img src="https://images2.imgbox.com/3d/e5/tskmCFGG_o.png" style="margin-left:;display:block;width:1023px;margin-top:-57.966763%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <h2 style="text-align:left;">10、如何在自己的数据集上测试大场景图片？</h2> 
 <h3 style="">问题：</h3> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:944px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:39.40678%;height:0;"> 
    <img src="https://images2.imgbox.com/cb/cf/xZ9xugLr_o.png" style="margin-left:;display:block;width:944px;margin-top:-39.40678%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <h3 style="">回答：</h3> 
 <p style=""><span class="kdocs-fontSize" style="font-size:9pt;">你好</span><a class="kdocs-link" style="color:#0A6CFF;" href="https://github.com/TheGreatTreatsby" target="_blank" rel="noopener noreferrer"><span class="kdocs-fontSize" style="font-size:9pt;">@TheGreatTreatsby</span></a><span class="kdocs-fontSize" style="font-size:9pt;">, 你可以试试</span><a class="kdocs-link" style="color:#0A6CFF;" href="https://github.com/CAPTAIN-WHU/DOTA_devkit" target="_blank" rel="noopener noreferrer"><span class="kdocs-fontSize" style="font-size:9pt;"><span class="kdocs-underline" style="text-decoration:underline;">https://github.com/CAPTAIN-WHU/DOTA_devkit</span></span></a></p> 
 <h2 style="text-align:left;">11、使用 DOTA V1.0 数据集时 CFA 重新分配过程中的张量不匹配错误</h2> 
 <h3 style="">问题：</h3> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:941px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:17.215729%;height:0;"> 
    <img src="https://images2.imgbox.com/24/af/I0s14qLm_o.png" style="margin-left:;display:block;width:941px;margin-top:-17.215729%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <h3 style="">回答：</h3> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:968px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:45.55785%;height:0;"> 
    <img src="https://images2.imgbox.com/68/30/idRBVJcl_o.png" style="margin-left:;display:block;width:968px;margin-top:-45.55785%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:977px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:38.587513%;height:0;"> 
    <img src="https://images2.imgbox.com/f8/29/k5683zwH_o.png" style="margin-left:;display:block;width:977px;margin-top:-38.587513%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <h2 style="text-align:left;">12、如何改变旋转框的定义范围(如何更改旋转框的定义范围)</h2> 
 <h3 style="">问题：</h3> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1014px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:11.538461%;height:0;"> 
    <img src="https://images2.imgbox.com/f3/17/sO3n9W0M_o.png" style="margin-left:;display:block;width:1014px;margin-top:-11.538461%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <h3 style="">回答：</h3> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:851px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:77.55582%;height:0;"> 
    <img src="https://images2.imgbox.com/45/ec/hLaMw5Wk_o.png" style="margin-left:;display:block;width:851px;margin-top:-77.55582%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1246px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:51.123596%;height:0;"> 
    <img src="https://images2.imgbox.com/5e/4b/Je0bZ8oy_o.png" style="margin-left:;display:block;width:1246px;margin-top:-51.123596%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <h2 style="text-align:left;">13、如何获得精度和F1分数</h2> 
 <h3 style="">问题：</h3> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1026px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:12.573099%;height:0;"> 
    <img src="https://images2.imgbox.com/fe/c2/PVRsoKWy_o.png" style="margin-left:;display:block;width:1026px;margin-top:-12.573099%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <h3 style="text-align:null;">回答：</h3> 
 <p style="text-align:null;"><span class="kdocs-fontSize" style="font-size:9pt;">在我的例子中，我修改了 eval_map.py 和我的 custumdataset.py</span></p> 
 <p style="text-align:null;"><span class="kdocs-fontSize" style="font-size:9pt;">通过在 def eval_rbbox_map 中创建额外的变量来计算</span></p> 
 <p style="text-align:null;"><span class="kdocs-fontSize" style="font-size:9pt;">cls_all_tp = np.sum(tp) cls_all_fp = np.sum(fp)</span></p> 
 <p style="text-align:null;"><span class="kdocs-fontSize" style="font-size:9pt;">参考我项目的代码</span></p> 
 <p style="text-align:null;"><a class="kdocs-link" style="color:#0A6CFF;" href="https://github.com/Chabbbbbo/SIA_TeamProject/blob/main/code/%5BBaseline%5Doriented_rcnn_r50_fpn_1x_fair1m_le90.ipynb" target="_blank" rel="noopener noreferrer"><span class="kdocs-fontSize" style="font-size:9pt;"><span class="kdocs-underline" style="text-decoration:underline;">我的项目</span></span></a></p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1014px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:29.48718%;height:0;"> 
    <img src="https://images2.imgbox.com/c0/e8/I2dvTeV5_o.png" style="margin-left:;display:block;width:1014px;margin-top:-29.48718%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <h2 style="text-align:left;">14、关于 R3Det 中的随机种子 #464</h2> 
 <h3 style="">问题：</h3> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1043px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:20.517738%;height:0;"> 
    <img src="https://images2.imgbox.com/78/60/gc7KwnGN_o.png" style="margin-left:;display:block;width:1043px;margin-top:-20.517738%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1028px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:14.29961%;height:0;"> 
    <img src="https://images2.imgbox.com/5e/02/SE7Lo2CI_o.png" style="margin-left:;display:block;width:1028px;margin-top:-14.29961%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <h3 style="">回答：</h3> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:842px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:16.983372%;height:0;"> 
    <img src="https://images2.imgbox.com/63/e2/vJVkEXqZ_o.png" style="margin-left:;display:block;width:842px;margin-top:-16.983372%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:859px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:67.40396%;height:0;"> 
    <img src="https://images2.imgbox.com/3d/da/Ph0mKMG9_o.png" style="margin-left:;display:block;width:859px;margin-top:-67.40396%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:845px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:24.378698%;height:0;"> 
    <img src="https://images2.imgbox.com/c9/35/ZybDxaER_o.png" style="margin-left:;display:block;width:845px;margin-top:-24.378698%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <h2 style="text-align:left;">15、Question about random seed. #291</h2> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1014px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:42.011833%;height:0;"> 
    <img src="https://images2.imgbox.com/c0/36/ci3ehaek_o.png" style="margin-left:;display:block;width:1014px;margin-top:-42.011833%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1017px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:30.875124%;height:0;"> 
    <img src="https://images2.imgbox.com/07/ff/O6TGK6Jd_o.png" style="margin-left:;display:block;width:1017px;margin-top:-30.875124%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style=""></p> 
 <h2 style="text-align:left;">16、HRSC2016 数据集性能重新实现 #202</h2> 
 <h3 style="">问题：</h3> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:949px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:58.166492%;height:0;"> 
    <img src="https://images2.imgbox.com/b1/fc/47NFo0A7_o.png" style="margin-left:;display:block;width:949px;margin-top:-58.166492%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <h3 style="">回答：</h3> 
 <pre class="kdocs-bash"><code class="language-bash">_base_ = [
    '../_base_/datasets/hrsc.py', '../_base_/schedules/schedule_3x.py',
    '../_base_/default_runtime.py'
]

angle_version = 'le90'
model = dict(
    type='ReDet',
    backbone=dict(
        type='ReResNet',
        depth=50,
        num_stages=4,
        out_indices=(0, 1, 2, 3),
        frozen_stages=1,
        style='pytorch',
        pretrained='./work_dirs/re_resnet50_c8_batch256-25b16846.pth'),
    neck=dict(
        type='ReFPN',
        in_channels=[256, 512, 1024, 2048],
        out_channels=256,
        num_outs=5),
    rpn_head=dict(
        type='RotatedRPNHead',
        in_channels=256,
        feat_channels=256,
        version=angle_version,
        anchor_generator=dict(
            type='AnchorGenerator',
            scales=[8],
            ratios=[0.5, 1.0, 2.0],
            strides=[4, 8, 16, 32, 64]),
        bbox_coder=dict(
            type='DeltaXYWHBBoxCoder',
            target_means=[.0, .0, .0, .0],
            target_stds=[1.0, 1.0, 1.0, 1.0]),
        loss_cls=dict(
            type='CrossEntropyLoss', use_sigmoid=True, loss_weight=1.0),
        loss_bbox=dict(type='SmoothL1Loss', beta=1.0 / 9.0, loss_weight=1.0)),
    roi_head=dict(
        type='RoITransRoIHead',
        version=angle_version,
        num_stages=2,
        stage_loss_weights=[1, 1],
        bbox_roi_extractor=[
            dict(
                type='SingleRoIExtractor',
                roi_layer=dict(
                    type='RoIAlign', output_size=7, sampling_ratio=0),
                out_channels=256,
                featmap_strides=[4, 8, 16, 32]),
            dict(
                type='RotatedSingleRoIExtractor',
                roi_layer=dict(
                    type='RiRoIAlignRotated',
                    out_size=7,
                    num_samples=2,
                    num_orientations=8,
                    clockwise=True),
                out_channels=256,
                featmap_strides=[4, 8, 16, 32]),
        ],
        bbox_head=[
            dict(
                type='RotatedShared2FCBBoxHead',
                in_channels=256,
                fc_out_channels=1024,
                roi_feat_size=7,
                num_classes=1,
                bbox_coder=dict(
                    type='DeltaXYWHAHBBoxCoder',
                    angle_range=angle_version,
                    norm_factor=2,
                    edge_swap=True,
                    target_means=[0., 0., 0., 0., 0.],
                    target_stds=[0.1, 0.1, 0.2, 0.2, 0.1]),
                reg_class_agnostic=True,
                loss_cls=dict(
                    type='CrossEntropyLoss',
                    use_sigmoid=False,
                    loss_weight=1.0),
                loss_bbox=dict(type='SmoothL1Loss', beta=1.0,
                               loss_weight=1.0)),
            dict(
                type='RotatedShared2FCBBoxHead',
                in_channels=256,
                fc_out_channels=1024,
                roi_feat_size=7,
                num_classes=1,
                bbox_coder=dict(
                    type='DeltaXYWHAOBBoxCoder',
                    angle_range=angle_version,
                    norm_factor=None,
                    edge_swap=True,
                    proj_xy=True,
                    target_means=[0., 0., 0., 0., 0.],
                    target_stds=[0.05, 0.05, 0.1, 0.1, 0.05]),
                reg_class_agnostic=False,
                loss_cls=dict(
                    type='CrossEntropyLoss',
                    use_sigmoid=False,
                    loss_weight=1.0),
                loss_bbox=dict(type='SmoothL1Loss', beta=1.0, loss_weight=1.0))
        ]),
    train_cfg=dict(
        rpn=dict(
            assigner=dict(
                type='MaxIoUAssigner',
                pos_iou_thr=0.7,
                neg_iou_thr=0.3,
                min_pos_iou=0.3,
                match_low_quality=True,
                ignore_iof_thr=-1),
            sampler=dict(
                type='RandomSampler',
                num=256,
                pos_fraction=0.5,
                neg_pos_ub=-1,
                add_gt_as_proposals=False),
            allowed_border=0,
            pos_weight=-1,
            debug=False),
        rpn_proposal=dict(
            nms_pre=2000,
            max_per_img=2000,
            nms=dict(type='nms', iou_threshold=0.7),
            min_bbox_size=0),
        rcnn=[
            dict(
                assigner=dict(
                    type='MaxIoUAssigner',
                    pos_iou_thr=0.5,
                    neg_iou_thr=0.5,
                    min_pos_iou=0.5,
                    match_low_quality=False,
                    ignore_iof_thr=-1,
                    iou_calculator=dict(type='BboxOverlaps2D')),
                sampler=dict(
                    type='RandomSampler',
                    num=512,
                    pos_fraction=0.25,
                    neg_pos_ub=-1,
                    add_gt_as_proposals=True),
                pos_weight=-1,
                debug=False),
            dict(
                assigner=dict(
                    type='MaxIoUAssigner',
                    pos_iou_thr=0.5,
                    neg_iou_thr=0.5,
                    min_pos_iou=0.5,
                    match_low_quality=False,
                    ignore_iof_thr=-1,
                    iou_calculator=dict(type='RBboxOverlaps2D')),
                sampler=dict(
                    type='RRandomSampler',
                    num=512,
                    pos_fraction=0.25,
                    neg_pos_ub=-1,
                    add_gt_as_proposals=True),
                pos_weight=-1,
                debug=False)
        ]),
    test_cfg=dict(
        rpn=dict(
            nms_pre=2000,
            max_per_img=2000,
            nms=dict(type='nms', iou_threshold=0.7),
            min_bbox_size=0),
        rcnn=dict(
            nms_pre=2000,
            min_bbox_size=0,
            score_thr=0.05,
            nms=dict(iou_thr=0.1),
            max_per_img=2000)))

img_norm_cfg = dict(
    mean=[123.675, 116.28, 103.53], std=[58.395, 57.12, 57.375], to_rgb=True)
train_pipeline = [
    dict(type='LoadImageFromFile'),
    dict(type='LoadAnnotations', with_bbox=True),
    dict(type='RResize', img_scale=(800, 512)),
    dict(type='RRandomFlip', flip_ratio=0.5),
    dict(type='Normalize', **img_norm_cfg),
    dict(type='Pad', size_divisor=32),
    dict(type='DefaultFormatBundle'),
    dict(type='Collect', keys=['img', 'gt_bboxes', 'gt_labels'])
]
test_pipeline = [
    dict(type='LoadImageFromFile'),
    dict(
        type='MultiScaleFlipAug',
        img_scale=(800, 512),
        flip=False,
        transforms=[
            dict(type='RResize'),
            dict(type='Normalize', **img_norm_cfg),
            dict(type='Pad', size_divisor=32),
            dict(type='DefaultFormatBundle'),
            dict(type='Collect', keys=['img'])
        ])
]

dataset_type = 'HRSCDataset'
data_root = '/data/dataset_share/HRSC2016/HRSC2016/'
data = dict(
    samples_per_gpu=2,
    workers_per_gpu=2,
    train=dict(
        type=dataset_type,
        classwise=False,
        ann_file=data_root + 'ImageSets/trainval.txt',
        ann_subdir=data_root + 'FullDataSet/Annotations/',
        img_subdir=data_root + 'FullDataSet/AllImages/',
        pipeline=train_pipeline),
    val=dict(
        type=dataset_type,
        classwise=False,
        ann_file=data_root + 'ImageSets/test.txt',
        ann_subdir=data_root + 'FullDataSet/Annotations/',
        img_subdir=data_root + 'FullDataSet/AllImages/',
        pipeline=test_pipeline),
    test=dict(
        type=dataset_type,
        classwise=False,
        ann_file=data_root + 'ImageSets/test.txt',
        ann_subdir=data_root + 'FullDataSet/Annotations/',
        img_subdir=data_root + 'FullDataSet/AllImages/',
        pipeline=test_pipeline))

evaluation = dict(interval=12, metric='mAP')
optimizer = dict(lr=0.01)
</code></pre> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:529px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:48.960304%;height:0;"> 
    <img src="https://images2.imgbox.com/c6/c5/qdZuPiBT_o.png" style="margin-left:;display:block;width:529px;margin-top:-48.960304%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:545px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:45.50459%;height:0;"> 
    <img src="https://images2.imgbox.com/67/76/zco4ZbZI_o.png" style="margin-left:;display:block;width:545px;margin-top:-45.50459%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:805px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:41.739132%;height:0;"> 
    <img src="https://images2.imgbox.com/81/90/xRevixTy_o.png" style="margin-left:;display:block;width:805px;margin-top:-41.739132%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="">#原因是问题者的Target_stds和官方不一致，同时学习率也不一致导致的，官方也是使用单张GPU进行模型训练的。</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1046px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:39.101337%;height:0;"> 
    <img src="https://images2.imgbox.com/c5/21/lFrPSEmd_o.png" style="margin-left:;display:block;width:1046px;margin-top:-39.101337%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:963px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:52.647972%;height:0;"> 
    <img src="https://images2.imgbox.com/ea/c1/OTEnFkUt_o.png" style="margin-left:;display:block;width:963px;margin-top:-52.647972%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <h3 style="">问题：</h3> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1034px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:46.22824%;height:0;"> 
    <img src="https://images2.imgbox.com/71/83/AO2IXaZz_o.png" style="margin-left:;display:block;width:1034px;margin-top:-46.22824%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <h3 style="">回答：</h3> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:973px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:40.801643%;height:0;"> 
    <img src="https://images2.imgbox.com/dd/0b/iKyO6725_o.png" style="margin-left:;display:block;width:973px;margin-top:-40.801643%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <h2 style="">17、单个类别训练报错</h2> 
 <p style="">问题：</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:970px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:63.917522%;height:0;"> 
    <img src="https://images2.imgbox.com/4a/bd/phIkcluI_o.png" style="margin-left:;display:block;width:970px;margin-top:-63.917522%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:973px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:36.073997%;height:0;"> 
    <img src="https://images2.imgbox.com/dc/22/2tYfuoEn_o.png" style="margin-left:;display:block;width:973px;margin-top:-36.073997%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="">回答：</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:981px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:18.042814%;height:0;"> 
    <img src="https://images2.imgbox.com/36/89/96fKbMoF_o.png" style="margin-left:;display:block;width:981px;margin-top:-18.042814%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <h2 style="text-align:left;">18、HRSC2016 的 classwise 设置为 True 时，在评估时出现“IndexError: tuple index out of range”。 #182</h2> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1039px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:50.43311%;height:0;"> 
    <img src="https://images2.imgbox.com/ed/2d/pQDA0ZmU_o.png" style="margin-left:;display:block;width:1039px;margin-top:-50.43311%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1013px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:57.65054%;height:0;"> 
    <img src="https://images2.imgbox.com/a4/43/yqIIdPVS_o.png" style="margin-left:;display:block;width:1013px;margin-top:-57.65054%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <h2 style="text-align:left;">19、尝试结合 swin-Transform 和 s2anet #217</h2> 
 <p style="">问题：</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:924px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:11.363636%;height:0;"> 
    <img src="https://images2.imgbox.com/be/e9/Ez8GsG5P_o.png" style="margin-left:;display:block;width:924px;margin-top:-11.363636%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <pre class="kdocs-bash"><code class="language-bash">_base_ = ['./s2anet_r50_fpn_1x_dota_le135.py']

pretrained = 'https://github.com/SwinTransformer/storage/releases/download/v1.0.0/swin_tiny_patch4_window7_224.pth'  # noqa

model = dict(
    backbone=dict(
        _delete_=True,
        type='SwinTransformer',
        embed_dims=96,
        depths=[2, 2, 6, 2],
        num_heads=[3, 6, 12, 24],
        window_size=7,
        mlp_ratio=4,
        qkv_bias=True,
        qk_scale=None,
        drop_rate=0.,
        attn_drop_rate=0.,
        drop_path_rate=0.2,
        patch_norm=True,
        out_indices=(0, 1, 2, 3),
        with_cp=False,
        convert_weights=True,
        init_cfg=dict(type='Pretrained', checkpoint=pretrained)),
    neck=dict(
        _delete_=True,
        type='FPN',
        in_channels=[96, 192, 384, 768],
        out_channels=256,
        num_outs=5))

optimizer = dict(
    _delete_=True,
    type='AdamW',
    lr=0.0001,
    betas=(0.9, 0.999),
    weight_decay=0.05,
    paramwise_cfg=dict(
        custom_keys={
            'absolute_pos_embed': dict(decay_mult=0.),
            'relative_position_bias_table': dict(decay_mult=0.),
            'norm': dict(decay_mult=0.)
        }))</code></pre> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:896px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:76.89732%;height:0;"> 
    <img src="https://images2.imgbox.com/c8/11/A7RnDQzI_o.png" style="margin-left:;display:block;width:896px;margin-top:-76.89732%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <h2 style="text-align:left;">20、数据标签过多次显示会爆炸、预测后不出指标结果；当数据标签过多时，显存会爆，预测后指标结果不显示； #333</h2> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:982px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:15.987781%;height:0;"> 
    <img src="https://images2.imgbox.com/2d/d0/IMAzOJgs_o.png" style="margin-left:;display:block;width:982px;margin-top:-15.987781%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:922px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:13.991323%;height:0;"> 
    <img src="https://images2.imgbox.com/e7/84/mFXpEz2N_o.png" style="margin-left:;display:block;width:922px;margin-top:-13.991323%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1018px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:18.074657%;height:0;"> 
    <img src="https://images2.imgbox.com/45/70/5gETD6ze_o.png" style="margin-left:;display:block;width:1018px;margin-top:-18.074657%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <h2 style="text-align:left;">21、一个对象在 oriented-reppoints 中有两个预测类 #426</h2> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:639px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:26.760563%;height:0;"> 
    <img src="https://images2.imgbox.com/be/b1/zLCIqeir_o.png" style="margin-left:;display:block;width:639px;margin-top:-26.760563%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:821px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:86.84531%;height:0;"> 
    <img src="https://images2.imgbox.com/16/70/mViPUaC9_o.png" style="margin-left:;display:block;width:821px;margin-top:-86.84531%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1048px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:44.56107%;height:0;"> 
    <img src="https://images2.imgbox.com/4b/67/RugXWa8C_o.png" style="margin-left:;display:block;width:1048px;margin-top:-44.56107%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <h2 style="text-align:left;">22、loss降不下来 #330</h2> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1007px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:67.22939%;height:0;"> 
    <img src="https://images2.imgbox.com/53/f7/vREwtyI4_o.png" style="margin-left:;display:block;width:1007px;margin-top:-67.22939%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1047px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:14.422158%;height:0;"> 
    <img src="https://images2.imgbox.com/9e/9d/cV8YFuUJ_o.png" style="margin-left:;display:block;width:1047px;margin-top:-14.422158%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1043px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:21.380632%;height:0;"> 
    <img src="https://images2.imgbox.com/1b/a6/tx0IPL8r_o.png" style="margin-left:;display:block;width:1043px;margin-top:-21.380632%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <h2 style="text-align:left;">23、当我使用 rmosaic 时如何可视化 #686</h2> 
 <p style="text-align:null;"><span class="kdocs-fontSize" style="font-size:9pt;">你好</span><a class="kdocs-link" style="color:#0A6CFF;" href="https://github.com/QAQTATQAQTAT" target="_blank" rel="noopener noreferrer"><span class="kdocs-fontSize" style="font-size:9pt;"><span class="kdocs-underline" style="text-decoration:underline;">@QAQTATQAQTAT</span></span></a><span class="kdocs-fontSize" style="font-size:9pt;">，您可以使用demo/image_demo.py可视化 rmosaic 的输出。rmosaic的使用方法可以参考</span><a class="kdocs-link" style="color:#0A6CFF;" href="https://github.com/open-mmlab/mmrotate/blob/dev-1.x/configs/rotated_rtmdet/rotated_rtmdet_tiny-300e-aug-hrsc.py" target="_blank" rel="noopener noreferrer"><span class="kdocs-fontSize" style="font-size:9pt;">https://github.com/open-mmlab/mmrotate/blob/dev-1.x/configs/rotated_rtmdet/rotated_rtmdet_tiny-300e-aug-hrsc.py 。</span></a></p> 
 <p style="text-align:null;"><span class="kdocs-fontSize" style="font-size:9pt;">Mosaic( img_scale=(1024, 1024))-&gt; Resize(scale=(2048, 2048))-&gt;RandomCrop(crop_size=(1024, 1024))</span></p> 
 <pre class="kdocs-bash"><code class="language-bash">train_pipeline = [
    dict(
        type='mmdet.LoadImageFromFile',
        file_client_args={<!-- -->{_base_.file_client_args}}),
    dict(type='mmdet.LoadAnnotations', with_bbox=True, box_type='qbox'),
    dict(type='ConvertBoxType', box_type_mapping=dict(gt_bboxes='rbox')),
    dict(
        type='mmdet.CachedMosaic',
        img_scale=(800, 800),
        pad_val=114.0,
        max_cached_images=20,
        random_pop=False),
    dict(
        type='mmdet.RandomResize',
        resize_type='mmdet.Resize',
        scale=(1600, 1600),
        ratio_range=(0.5, 2.0),
        keep_ratio=True),
    dict(type='RandomRotate', prob=0.5, angle_range=180),
    dict(type='mmdet.RandomCrop', crop_size=(800, 800)),
    dict(type='mmdet.YOLOXHSVRandomAug'),
    dict(
        type='mmdet.RandomFlip',
        prob=0.75,
        direction=['horizontal', 'vertical', 'diagonal']),
    dict(type='mmdet.Pad', size=(800, 800), pad_val=dict(img=(114, 114, 114))),
    dict(
        type='mmdet.CachedMixUp',
        img_scale=(800, 800),
        ratio_range=(1.0, 1.0),
        max_cached_images=10,
        random_pop=False,
        pad_val=(114, 114, 114),
        prob=0.5),
    dict(type='mmdet.PackDetInputs')
]</code></pre> 
 <h2 style="text-align:left;">24、[WIP] 在 TRR360D 中支持 RR360（旋转矩形 360）检测 #731</h2> 
 <p style=""><a class="kdocs-link" style="color:#0A6CFF;" href="https://github.com/open-mmlab/mmrotate/pull/731" target="_blank" rel="noopener noreferrer">https://github.com/open-mmlab/mmrotate/pull/731</a></p> 
 <h2 style="text-align:left;">25、Oriented RCNN 不支持 iou loss？ #649</h2> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1137px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:16.974495%;height:0;"> 
    <img src="https://images2.imgbox.com/ab/7b/M03Uc2yn_o.png" style="margin-left:;display:block;width:1137px;margin-top:-16.974495%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1124px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:42.437725%;height:0;"> 
    <img src="https://images2.imgbox.com/2b/de/DVjOp7BZ_o.png" style="margin-left:;display:block;width:1124px;margin-top:-42.437725%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1134px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:39.68254%;height:0;"> 
    <img src="https://images2.imgbox.com/81/1f/bHJ1A7mX_o.png" style="margin-left:;display:block;width:1134px;margin-top:-39.68254%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style=""></p> 
</div>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/9f2bbec0622e297031ddd419831fbf18/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">基础快速排序（C语言实现）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/25052e1d069c98245935c9303d757220/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【mybatis】【mybatisPlus】</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>