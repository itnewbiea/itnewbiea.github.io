<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>关于Docker容器删除镜像和容器后，C盘内存并未释放问题的解决办法（超详细） - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="关于Docker容器删除镜像和容器后，C盘内存并未释放问题的解决办法（超详细）" />
<meta property="og:description" content="这里先给出一个命令可以删除全部的容器和镜像：
docker system prune -a 注：慎用！！！可以先试试该命令，单独删除指定的容器和镜像命令如下
一、删除镜像： 删除镜像的命令：
docker rmi 镜像ID或镜像名称 使用如下命令查看镜像信息
docker images 出现如下界面，并获取id，并获取全部docker镜像
尝试删除即可，如果不能删除，可能会让你停止容器运行可使用
docker pause 容器ID或容器名称 容器ID获取使用
docker ps -a 出现如下页面;
docker ps -a ：会列出当前服务器中所有的容器，无论是否在运行。
得到ID后停止运行容器尝试删除
二、删除容器： docker rm 容器ID或容器名称 使用上述代码，id获取仍然是使用 docker ps -a
三、磁盘内存的释放： 如果使用上述方法仍然不行！！！！
最后可以win&#43;R打开
如下
使用上述命令，打开你的temp文件夹，这里面都是最近生成的垃圾文件，
Ctrl&#43;A全选，之后避免去回收站删除可以长按shift可以全部永久删除，如果出现如下类似文件，可以取消删除
其余文件全部删除即可，前提是与docker和Ubuntu全部停止关闭才能释放内存
也可以使用docker stop container_name_or_ID停止
最后附上完成上述操作后： C盘的磁盘变化如图： 未释放前:（注一笔，dockerfile文件如果编写出问题） 构建工具服务器镜像命令：docker-compose up --build 构建成功后，即使使用docker删除的报错的项目，去查看镜像（Image），处于status in use 也会持续产生内存垃圾，需要把镜像状态退出使用，删除后，再尝试上述的释放过程
释放后： 当然也可试试Dism&#43;&#43;尝试释放，链接我就放在下面了（永久有效）
链接：https://pan.baidu.com/s/1Dz1onademC77xG7gP7igcw?pwd=sszs 提取码：sszs
释放完仿佛身体被掏空~
写在最后
如有帮助，欢迎收藏" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/3afc4f96b08d5186318c3ced4746e67c/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-11-23T15:33:12+08:00" />
<meta property="article:modified_time" content="2023-11-23T15:33:12+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">关于Docker容器删除镜像和容器后，C盘内存并未释放问题的解决办法（超详细）</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>这里先给出一个命令可以<span style="color:#ff9900;">删除全部的容器和镜像</span>：</p> 
<pre><code class="language-bash">docker system prune -a</code></pre> 
<p>注：慎用！！！可以先试试该命令，单独删除<span style="color:#ff9900;">指定的</span>容器和镜像命令如下</p> 
<h2>一、删除镜像：</h2> 
<p>删除镜像的命令：</p> 
<pre><code class="language-bash">docker rmi 镜像ID或镜像名称</code></pre> 
<p>使用如下命令查看<span style="color:#ff9900;">镜像信息</span></p> 
<pre><code class="language-bash">docker images
</code></pre> 
<p>出现如下界面，并获取id，并获取全部docker镜像</p> 
<p><img alt="" height="92" src="https://images2.imgbox.com/6a/a1/66AvC4mt_o.png" width="899"></p> 
<p>尝试删除即可，如果不能删除，可能会让你<span style="color:#ff9900;">停止容器运行可使用</span></p> 
<pre><code class="language-bash">docker pause 容器ID或容器名称</code></pre> 
<p>容器ID获取使用</p> 
<pre><code class="language-bash">docker ps -a
</code></pre> 
<p>出现如下页面;</p> 
<p><code>docker ps -a</code> ：会列出当前服务器中<span style="color:#ff9900;">所有的容器</span>，无论是否在运行。<br><img alt="在这里插入图片描述" src="https://images2.imgbox.com/6f/00/jN5NfgKf_o.jpg"></p> 
<p>得到ID后停止运行容器尝试删除</p> 
<h2>二、删除容器：</h2> 
<pre><code class="language-bash">docker rm 容器ID或容器名称
</code></pre> 
<blockquote> 
 <p>使用上述代码，id获取仍然是使用 <code>docker ps -a</code></p> 
</blockquote> 
<h2><strong><code>三、磁盘内存的释放：</code></strong></h2> 
<p>如果使用上述方法仍然不行！！！！</p> 
<p>最后可以win+R打开</p> 
<p><img alt="" height="287" src="https://images2.imgbox.com/cd/35/LH3DsxJ7_o.png" width="547"></p> 
<p>如下</p> 
<p><img alt="" height="624" src="https://images2.imgbox.com/44/63/k9Le8l5p_o.png" width="1200"></p> 
<p>使用上述命令，打开你的temp文件夹，这里面都是最近生成的垃圾文件，</p> 
<p>Ctrl+A全选，之后避免去回收站删除可以<span style="color:#ff9900;">长按shift</span>可以全部永久删除，<span style="color:#ff9900;">如果出现如下类似文件，可以取消删除</span></p> 
<p><img alt="" height="309" src="https://images2.imgbox.com/03/79/9ZRFkerY_o.png" width="548"></p> 
<p><span style="color:#ff9900;">其余文件全部删除即可</span><span style="color:#fe2c24;">，前提是与docker和Ubuntu全部停止关闭</span><span style="color:#ff9900;">才能释放内存</span></p> 
<blockquote> 
 <p><span style="color:#0d0016;">也可以使用</span>docker stop container_name_or_ID停止</p> 
</blockquote> 
<h3>最后附上完成上述操作后：</h3> 
<h3>C盘的磁盘变化如图：</h3> 
<h4>未释放前:（注一笔，dockerfile文件如果编写出问题）</h4> 
<pre><code class="language-bash">构建工具服务器镜像命令：docker-compose up --build</code></pre> 
<p>构建成功后，即使使用docker删除的报错的项目，去查看镜像（Image），处于status<span style="color:#38d8f0;"> in use</span> 也会持续产生内存垃圾，需要把镜像状态<span style="color:#ff9900;">退出使用，删除后</span><span style="color:#0d0016;">，再尝试上述的释放过程</span></p> 
<p><img alt="" height="210" src="https://images2.imgbox.com/b3/3e/xXSL6haE_o.jpg" width="931"></p> 
<h4>释放后：</h4> 
<p><img alt="" height="93" src="https://images2.imgbox.com/97/0c/q1Wog76u_o.png" width="400"></p> 
<p>当然也可试试Dism++尝试释放，链接我就放在下面了（永久有效）</p> 
<blockquote> 
 <p>链接：https://pan.baidu.com/s/1Dz1onademC77xG7gP7igcw?pwd=sszs <br> 提取码：sszs</p> 
 <p></p> 
</blockquote> 
<p><img alt="" height="908" src="https://images2.imgbox.com/36/b8/zp2FppBo_o.jpg" width="892"></p> 
<p>释放完仿佛身体被掏空~</p> 
<p>写在最后</p> 
<p>如有帮助，欢迎收藏</p> 
<p></p> 
<p></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ac1536aa8f05361e484338ef28343bc1/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">GitHub上8个强烈推荐的 Python 项目</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/69bd912797e81503c3623ee5a52cd9ca/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Python命令行红色提醒: sys.stderr.write</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>