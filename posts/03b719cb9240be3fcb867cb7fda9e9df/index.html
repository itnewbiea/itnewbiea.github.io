<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>JavaWeb - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="JavaWeb" />
<meta property="og:description" content="一、JavaWeb
1.基本概念 1.1前言 web开发：
web，网页的意思，www.baidu.com静态web html，css提供给所有人看的数据始终不会发生改变 动态web 提供给所有人看的数据始终发生变化，每个人在不同的时间，不同的地点看到的信息是不同的eg.淘宝，京东，几乎是所有网站技术栈： Servlet、JSP、ASP、PHP 在java中，动态web资源开发的技术统称为JavaWeb
1.2 web应用程序 web应用程序：可以提供浏览器访问的程序；
a.html,b.html…多个web资源，这些web资源可以被外界访问，对外界提供服务能访问到的任何一个页面或者资源，都存在于这个世界上得某一个角落的计算机上URL这个统一的web资源会被放在同一个文件夹下，web应用程序-&gt;Tomcat：服务器一个web程序由多个部分组成（静态web，动态web） html、cssjsp、servletjava程序jar包配置文件（Properties） web应用程序编写完毕后，若想提供给外界访问，需要一个服务器来统一管理
1.3静态web .html,.htm,这些都是网页的后缀，如果服务器上一直存在这些东西，我们就可以直接进行读取 [外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-R5MbJ4d6-1685109872839)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20230406171530307.png)]
静态web的缺点： 页面无法动态更新，所有用户看到的都是同一个界面 轮播图，点击特效：伪动态JavaScriptVBSScript 他无法和数据库进行交互（数据无法持久化，用户无法交互） 1.4动态web 页面会动态展示，“web页面的展示效果因人而异”
[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-tgVvWRDJ-1685109872839)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20230406171849908.png)]
缺点：
假如服务器的动态web资源出现了错误，我们需要重新编写我我们的后台程序，重新发布 停机维护 优点：
页面可以动态更新，所有用户看到的都是不同界面他可以数据库进行交互 [外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-m06zGrP0-1685109872840)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20230406172130319.png)]
2.web服务器 2.1技术讲解 ASP：
微软：国内最早流行的在HTML中嵌入了VB的脚本。ASP&#43;COM在ASP开发中，基本一个页面都有几千行的业务代码，页面及其混乱 PHP：
PHP开发速度很快，功能很强大，跨平台，代码很简单无法承载大访问量的情况（局限性） JSP/Servlet：
sun公司主推的B/S架构基于Java语言可以承载三高问题带来的影响 2.2web服务器 服务器是一种被动的操作，用来处理用户的一些请求和给用户一些响应信息；
IIS：微软的
Tomcat：
[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-WoI5QEVO-1685109872840)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20230406173456533.png)]
Tomcat是Apache 软件基金会（Apache Software Foundation）的Jakarta 项目中的一个核心项目，最新的Servlet 和JSP 规范总是能在Tomcat 中得到体现，因为Tomcat 技术先进、性能稳定，而且免费，因而深受Java 爱好者的喜爱并得到了部分软件开发商的认可，成为比较流行的Web 应用服务器。
Tomcat 服务器是一个免费的开放源代码的Web 应用服务器，属于轻量级应用服务器，在中小型系统和并发访问用户不是很多的场合下被普遍使用，是开发和调试JSP 程序的首选。对于一个初学者来说，它是最佳选择。
Tomcat 实际上运行JSP 页面和Servlet，Tomcat最新版本为10.0.23。
未来期望：…工作3-5年之后，可以尝试手写Tomcat服务器；
下载Tomcat：
安装or解压了解配置文件及目录结构作用 3.Tomcat 3.1安装Tomcat： 官网下载压缩包： [外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-QGpH1RAf-1685109872841)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20230406174058473." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/03b719cb9240be3fcb867cb7fda9e9df/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-05-26T22:06:56+08:00" />
<meta property="article:modified_time" content="2023-05-26T22:06:56+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">JavaWeb</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>一、JavaWeb</p> 
<h3><a id="1_2"></a>1.基本概念</h3> 
<h4><a id="11_4"></a>1.1前言</h4> 
<p>web开发：</p> 
<ul><li>web，网页的意思，www.baidu.com</li><li>静态web 
  <ul><li>html，css</li><li>提供给所有人看的数据始终不会发生改变</li></ul> </li><li>动态web 
  <ul><li>提供给所有人看的数据始终发生变化，每个人在不同的时间，不同的地点看到的信息是不同的</li><li>eg.淘宝，京东，几乎是所有网站</li><li>技术栈： 
    <ul><li>Servlet、JSP、ASP、PHP</li></ul> </li></ul> </li></ul> 
<p>在java中，动态web资源开发的技术统称为JavaWeb</p> 
<h4><a id="12_web_22"></a>1.2 web应用程序</h4> 
<p>web应用程序：可以提供浏览器访问的程序；</p> 
<ul><li>a.html,b.html…多个web资源，这些web资源可以被外界访问，对外界提供服务</li><li>能访问到的任何一个页面或者资源，都存在于这个世界上得某一个角落的计算机上</li><li>URL</li><li>这个统一的web资源会被放在同一个文件夹下，web应用程序-&gt;Tomcat：服务器</li><li>一个web程序由多个部分组成（静态web，动态web） 
  <ul><li>html、css</li><li>jsp、servlet</li><li>java程序</li><li>jar包</li><li>配置文件（Properties）</li></ul> </li></ul> 
<p>web应用程序编写完毕后，若想提供给外界访问，需要一个服务器来统一管理</p> 
<h4><a id="13web_41"></a>1.3静态web</h4> 
<ul><li>.html,.htm,这些都是网页的后缀，如果服务器上一直存在这些东西，我们就可以直接进行读取</li></ul> 
<p>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-R5MbJ4d6-1685109872839)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20230406171530307.png)]</p> 
<ul><li>静态web的缺点： 
  <ul><li>页面无法动态更新，所有用户看到的都是同一个界面 
    <ul><li>轮播图，点击特效：伪动态</li><li>JavaScript</li><li>VBSScript</li></ul> </li><li>他无法和数据库进行交互（数据无法持久化，用户无法交互）</li></ul> </li></ul> 
<h4><a id="14web_56"></a>1.4动态web</h4> 
<p>页面会动态展示，“web页面的展示效果因人而异”</p> 
<p>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-tgVvWRDJ-1685109872839)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20230406171849908.png)]</p> 
<p>缺点：</p> 
<ul><li>假如服务器的动态web资源出现了错误，我们需要重新编写我我们的后台程序，重新发布 
  <ul><li>停机维护</li></ul> </li></ul> 
<p>优点：</p> 
<ul><li>页面可以动态更新，所有用户看到的都是不同界面</li><li>他可以数据库进行交互</li></ul> 
<p>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-m06zGrP0-1685109872840)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20230406172130319.png)]</p> 
<h3><a id="2web_76"></a>2.web服务器</h3> 
<h4><a id="21_78"></a>2.1技术讲解</h4> 
<p>ASP：</p> 
<ul><li>微软：国内最早流行的</li><li>在HTML中嵌入了VB的脚本。ASP+COM</li><li>在ASP开发中，基本一个页面都有几千行的业务代码，页面及其混乱</li></ul> 
<p>PHP：</p> 
<ul><li>PHP开发速度很快，功能很强大，跨平台，代码很简单</li><li>无法承载大访问量的情况（局限性）</li></ul> 
<p>JSP/Servlet：</p> 
<ul><li>sun公司主推的B/S架构</li><li>基于Java语言</li><li>可以承载三高问题带来的影响</li></ul> 
<h4><a id="22web_99"></a>2.2web服务器</h4> 
<p>服务器是一种被动的操作，用来处理用户的一些请求和给用户一些响应信息；</p> 
<p>IIS：微软的</p> 
<p>Tomcat：</p> 
<p>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-WoI5QEVO-1685109872840)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20230406173456533.png)]</p> 
<p>Tomcat是Apache 软件基金会（Apache Software Foundation）的Jakarta 项目中的一个核心项目，最新的Servlet 和<a href="https://baike.baidu.com/item/JSP/141543?fromModule=lemma_inlink" rel="nofollow">JSP</a> 规范总是能在Tomcat 中得到体现，因为Tomcat 技术先进、性能稳定，而且免费，因而深受<a href="https://baike.baidu.com/item/Java/85979?fromModule=lemma_inlink" rel="nofollow">Java</a> 爱好者的喜爱并得到了部分软件开发商的认可，成为比较流行的Web <a href="https://baike.baidu.com/item/%E5%BA%94%E7%94%A8%E6%9C%8D%E5%8A%A1%E5%99%A8/4971773?fromModule=lemma_inlink" rel="nofollow">应用服务器</a>。</p> 
<p>Tomcat 服务器是一个免费的开放源代码的<a href="https://baike.baidu.com/item/Web/150564?fromModule=lemma_inlink" rel="nofollow">Web</a> 应用服务器，属于轻量级应用服务器，在中小型系统和并发访问用户不是很多的场合下被普遍使用，是开发和调试JSP 程序的首选。对于一个初学者来说，它是最佳选择。</p> 
<p>Tomcat 实际上运行JSP 页面和Servlet，Tomcat最新版本为10.0.23。</p> 
<p>未来期望：…<strong>工作3-5年之后，可以尝试手写Tomcat服务器；</strong></p> 
<p>下载Tomcat：</p> 
<ul><li>安装or解压</li><li>了解配置文件及目录结构</li><li>作用</li></ul> 
<h3><a id="3Tomcat_129"></a>3.Tomcat</h3> 
<h4><a id="31Tomcat_131"></a>3.1安装Tomcat：</h4> 
<ul><li>官网下载压缩包：</li></ul> 
<p>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-QGpH1RAf-1685109872841)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20230406174058473.png)]</p> 
<ul><li>解压至电脑：[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-i8COIUCa-1685109872841)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20230406174016866.png)]</li></ul> 
<h4><a id="32Tomcat_141"></a>3.2Tomcat的启动和配置</h4> 
<p>通过startup.bat启动Tomcat：</p> 
<p>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-gUDh70iU-1685109872842)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20230406181007363.png)]</p> 
<p>访问测试：</p> 
<p>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-6hOsfpVt-1685109872842)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20230406181059917.png)]</p> 
<h4><a id="33_151"></a>3.3配置</h4> 
<p>可能遇到的问题：</p> 
<ul><li>Java环境变量没有配置</li><li>闪退问题：需要环境兼容性</li><li>乱码问题：配置文件中设置字符类型</li></ul> 
<p>可以在conf文件夹下的server.xml中配置：</p> 
<ul><li>默认的主机名为：localhost-&gt;127.0.0.1</li><li>默认网站应用存放的位置为：webapps</li></ul> 
<p><strong>高难度面试题:</strong></p> 
<p>请谈谈网站是如何进行访问的？<br> 1.输入一个域名：回车</p> 
<p>2.检查本机的C:\Windows\System32\drivers\etc\hosts配置文件下有没有这个域名的映射；</p> 
<ul><li> <p>有则直接返回对应的IP地址，这个地址中有我们需要访问的web程序，可以直接访问</p> </li><li> <p>没有就去DNS服务器上找，找的到就返回，找不到就返回找不到</p> <p>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-b0Bh3vYz-1685109872843)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20230406183115174.png)]</p> </li></ul> 
<h4><a id="34web_183"></a>3.4发布一个web网站</h4> 
<p>将自己写的网站，放到服务器（Tomcat）中指定的web应用的文件夹（webapps）下，就可以访问了</p> 
<p>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-hXZlIkVd-1685109872843)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20230406184329698.png)]</p> 
<p>网站应该有的结构：</p> 
<pre><code>--webapps：Tomcat服务器的web目录
    --Root
    --lfq：网站的目录名
        --WEB-INF
            -classes：java程序
            -lib：web应用程序所需要的jar包
            -web.xml：网站的配置文件
        index.html  默认的首页
        -static 放一些资源文件
</code></pre> 
<h4><a id="35IDEATomcat_205"></a>3.5在IDEA中配置Tomcat</h4> 
<p>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-QCTgZaV9-1685109872843)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20230406220011487.png)]</p> 
<p>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-7ftUzNXr-1685109872844)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20230406215835091.png)]</p> 
<p>警告：没有一个artifacts，我们必须要创建一个</p> 
<p>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-uQY0Kd0L-1685109872844)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20230406215940337.png)]</p> 
<h3><a id="4HTTP_221"></a>4.HTTP</h3> 
<h4><a id="41HTTP_223"></a>4.1什么是HTTP</h4> 
<p>HTTP（超文本传输协议）是一个简单的请求-响应协议，它通常运行在<a href="https://baike.baidu.com/item/TCP/33012?fromModule=lemma_inlink" rel="nofollow">TCP</a>之上。</p> 
<ul><li>文本：html，字符串</li><li>超文本：图片，音乐，视频，定位，地图…</li><li>默认端口：80</li></ul> 
<p>HTTPS:安全的</p> 
<ul><li>默认端口：443</li></ul> 
<h4><a id="42_237"></a>4.2两个时代</h4> 
<ul><li>http1.0 
  <ul><li>HTTP/1.0：客户端可以与web服务器连接后，只能获得一个web资源，断开连接</li></ul> </li><li>http2.0 
  <ul><li>HTTP/1.1：客户端可以与web服务器连接后，可以获得多个web资源</li></ul> </li></ul> 
<h4><a id="43HTTP_246"></a>4.3HTTP请求</h4> 
<ul><li>客户端—发送请求—服务器</li></ul> 
<p>百度：</p> 
<pre><code class="prism language-java">请求 URL<span class="token operator">:</span> https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>www<span class="token punctuation">.</span>baidu<span class="token punctuation">.</span>com<span class="token operator">/</span>
请求方法<span class="token operator">:</span> GET
状态代码<span class="token operator">:</span> <span class="token number">200</span> OK
远程地址<span class="token operator">:</span> <span class="token number">112.80</span><span class="token number">.248</span><span class="token number">.75</span><span class="token operator">:</span><span class="token number">443</span>
引用者策略<span class="token operator">:</span> unsafe<span class="token operator">-</span>url
</code></pre> 
<h5><a id="1_260"></a><strong>1.请求行</strong></h5> 
<ul><li>请求行中的请求方式：GET</li><li>请求方式：Get，Post 
  <ul><li>get：请求能够携带的参数比较少，大小有限制，会在url地址栏显示请求的参数，不安全，但高效</li><li>post：请求能够携带的参数没有限制，大小没有限制，不会在url地址栏显示请求的参数，安全，但不高效</li></ul> </li></ul> 
<h5><a id="2_267"></a>2.请求体</h5> 
<pre><code class="prism language-java"><span class="token class-name">Bdpagetype</span><span class="token operator">:</span> <span class="token number">2</span>
<span class="token class-name">Bdqid</span><span class="token operator">:</span> <span class="token number">0xcd88d26500115dbc</span>
<span class="token class-name">Connection</span><span class="token operator">:</span> keep<span class="token operator">-</span>alive
<span class="token class-name">Content</span><span class="token operator">-</span><span class="token class-name">Encoding</span><span class="token operator">:</span> gzip
<span class="token class-name">Content</span><span class="token operator">-</span><span class="token class-name">Security</span><span class="token operator">-</span><span class="token class-name">Policy</span><span class="token operator">:</span> frame<span class="token operator">-</span>ancestors <span class="token char">'self'</span> https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>chat<span class="token punctuation">.</span>baidu<span class="token punctuation">.</span>com https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>fj<span class="token operator">-</span>chat<span class="token punctuation">.</span>baidu<span class="token punctuation">.</span>com https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>hba<span class="token operator">-</span>chat<span class="token punctuation">.</span>baidu<span class="token punctuation">.</span>com https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>hbe<span class="token operator">-</span>chat<span class="token punctuation">.</span>baidu<span class="token punctuation">.</span>com https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>njjs<span class="token operator">-</span>chat<span class="token punctuation">.</span>baidu<span class="token punctuation">.</span>com https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>nj<span class="token operator">-</span>chat<span class="token punctuation">.</span>baidu<span class="token punctuation">.</span>com https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>hna<span class="token operator">-</span>chat<span class="token punctuation">.</span>baidu<span class="token punctuation">.</span>com https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>hnb<span class="token operator">-</span>chat<span class="token punctuation">.</span>baidu<span class="token punctuation">.</span>com<span class="token punctuation">;</span>
<span class="token class-name">Content</span><span class="token operator">-</span><span class="token class-name">Type</span><span class="token operator">:</span> text<span class="token operator">/</span>html<span class="token punctuation">;</span> charset<span class="token operator">=</span>utf<span class="token operator">-</span><span class="token number">8</span>
<span class="token class-name">Date</span><span class="token operator">:</span> <span class="token class-name">Thu</span><span class="token punctuation">,</span> <span class="token number">06</span> <span class="token class-name">Apr</span> <span class="token number">2023</span> <span class="token number">11</span><span class="token operator">:</span><span class="token number">41</span><span class="token operator">:</span><span class="token number">51</span> GMT
<span class="token class-name">Isprivate</span><span class="token operator">:</span> <span class="token number">1</span>
<span class="token class-name">Server</span><span class="token operator">:</span> BWS<span class="token operator">/</span><span class="token number">1.1</span>
<span class="token class-name">Set</span><span class="token operator">-</span><span class="token class-name">Cookie</span><span class="token operator">:</span> BDSVRTM<span class="token operator">=</span><span class="token number">373</span><span class="token punctuation">;</span> path<span class="token operator">=</span><span class="token operator">/</span>
<span class="token class-name">Set</span><span class="token operator">-</span><span class="token class-name">Cookie</span><span class="token operator">:</span> BD_HOME<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span> path<span class="token operator">=</span><span class="token operator">/</span>
<span class="token class-name">Set</span><span class="token operator">-</span><span class="token class-name">Cookie</span><span class="token operator">:</span> H_PS_PSSID<span class="token operator">=</span><span class="token number">38185_36545_38470_38436_38396_38468_38290_37938_38356_26350_38417_38282_37881</span><span class="token punctuation">;</span> path<span class="token operator">=</span><span class="token operator">/</span><span class="token punctuation">;</span> domain<span class="token operator">=</span><span class="token punctuation">.</span>baidu<span class="token punctuation">.</span>com
<span class="token class-name">Strict</span><span class="token operator">-</span><span class="token class-name">Transport</span><span class="token operator">-</span><span class="token class-name">Security</span><span class="token operator">:</span> max<span class="token operator">-</span>age<span class="token operator">=</span><span class="token number">172800</span>
<span class="token class-name">Traceid</span><span class="token operator">:</span> <span class="token number">1680781311095445351414810318705842544060</span>
<span class="token class-name">Transfer</span><span class="token operator">-</span><span class="token class-name">Encoding</span><span class="token operator">:</span> chunked
<span class="token class-name">X</span><span class="token operator">-</span><span class="token class-name">Ua</span><span class="token operator">-</span><span class="token class-name">Compatible</span><span class="token operator">:</span> IE<span class="token operator">=</span><span class="token class-name">Edge</span><span class="token punctuation">,</span>chrome<span class="token operator">=</span><span class="token number">1</span>
</code></pre> 
<h4><a id="44HTTP_290"></a>4.4HTTP响应</h4> 
<ul><li>服务器—响应—客户端</li></ul> 
<p>百度：</p> 
<pre><code class="prism language-java"><span class="token class-name">Connection</span><span class="token operator">:</span> keep<span class="token operator">-</span>alive    连接
<span class="token class-name">Content</span><span class="token operator">-</span><span class="token class-name">Encoding</span><span class="token operator">:</span> gzip    编码 
<span class="token class-name">Content</span><span class="token operator">-</span><span class="token class-name">Type</span><span class="token operator">:</span> text<span class="token operator">/</span>html<span class="token punctuation">;</span>    
</code></pre> 
<h5><a id="1_302"></a><strong>1.响应体</strong></h5> 
<pre><code class="prism language-java"><span class="token class-name">Accept</span><span class="token operator">:</span> text<span class="token operator">/</span>html<span class="token punctuation">,</span>application<span class="token operator">/</span>xhtml<span class="token operator">+</span>xml<span class="token punctuation">,</span>application<span class="token operator">/</span>xml<span class="token punctuation">;</span>q<span class="token operator">=</span><span class="token number">0.9</span><span class="token punctuation">,</span>image<span class="token operator">/</span>webp<span class="token punctuation">,</span>image<span class="token operator">/</span>apng<span class="token punctuation">,</span><span class="token operator">*</span><span class="token comment">/*;q=0.8,application/signed-exchange;v=b3;q=0.7
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6
Connection: keep-alive
Host: www.baidu.com
</span></code></pre> 
<h5><a id="2_312"></a>2.响应码</h5> 
<p>200：响应成功</p> 
<p>3xx：请求重定向</p> 
<ul><li>重定向：重新到所给的新的位置上去</li></ul> 
<p>4xx：找不到资源</p> 
<p>5xx：服务器代码错误</p> 
<p><strong>常见面试题：</strong></p> 
<p>当你的浏览器中地址栏输入地址并回车的一瞬间到页面能够展示回来，经历了什么？</p> 
<h3><a id="5Maven_332"></a>5.Maven</h3> 
<p><strong>为什么要学习这个技术？</strong></p> 
<p>1.在JavaWeb开发中，需要使用大量的jar包，我们手动去导入；</p> 
<p>2.如何能够让一个东西自动帮我导入和配置这个jar包</p> 
<p>由此，Maven诞生了！</p> 
<h4><a id="51Maven_344"></a>5.1Maven项目架构管理工具</h4> 
<p>我们目前用来就是方便导入jar包</p> 
<p>Maven的核心思想：<strong>约定大于配置</strong></p> 
<ul><li>有约束，不要去违反</li></ul> 
<p>Maven会规定你该如何去编写我们的java代码，必须要按照这个规范来</p> 
<h4><a id="52Maven_356"></a>5.2下载Maven</h4> 
<p>选择太高版本的maven，IDEA或者jdk可能不兼容，在初始化时会出错，这里选择了之前发布的版本。主动降低maven的版本。</p> 
<pre><code>https://dlcdn.apache.org/maven/maven-3/3.6.3/binaries/
</code></pre> 
<p>or：</p> 
<p>官网下载压缩包：</p> 
<p>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-ErGLx1Gs-1685109872845)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20230406200652750.png)]</p> 
<p>解压：<br> [外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-JZY7sBD1-1685109872845)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20230406201030065.png)]</p> 
<h4><a id="3_375"></a>3.配置环境变量</h4> 
<ul><li>M2_HOME maven目录下的bin目录</li><li>MAVEN_HOME maven的目录</li><li>在系统的path中添加 %MAVEN_HOME%\bin</li></ul> 
<p>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-Be5SIAG8-1685109872846)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20230407111529296.png)]</p> 
<h4><a id="4_385"></a>4.阿里云镜像</h4> 
<ul><li> <p>镜像：mirrors</p> 
  <ul><li>作用：加速我们的下载</li></ul> </li><li> <p>国内建议使用阿里云的镜像</p> </li><li> <p>在settings.xml配置文件中找到mirrors节点</p> </li><li> <p>添加如下配置（注意要添加在和两个标签之间）</p> <pre><code>&lt;mirror&gt;
&lt;id&gt;alimaven&lt;/id&gt;
&lt;mirrorOf&gt;central&lt;/mirrorOf&gt;
&lt;name&gt;aliyun maven&lt;/name&gt;
&lt;url&gt;http://maven.aliyun.com/nexus/content/repositories/central/&lt;/url&gt;
&lt;/mirror&gt;
</code></pre> </li></ul> 
<p>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-A8yasjkm-1685109872847)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20230407111732849.png)]</p> 
<h4><a id="5_410"></a>5.本地仓库</h4> 
<p>建立一个本地仓库：D:\Program Files(x86)\Environment\apache-maven-3.6.3-bin\apache-maven-3.6.3\maven-repo</p> 
<p>并在setting.xml中修改本地仓库地址</p> 
<pre><code>  &lt;!-- localRepository
   | The path to the local repository maven will use to store artifacts.
   |
   | Default: ${user.home}/.m2/repository
  --&gt;
  &lt;localRepository&gt;D:\Program Files(x86)\Environment\apache-maven-3.6.3-bin\apache-maven-3.6.3\maven-repo&lt;/localRepository&gt;
</code></pre> 
<p>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-tfBUJNw6-1685109872847)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20230407111944555.png)]</p> 
<h4><a id="56JDK_429"></a>5.6配置JDK</h4> 
<ol><li> <p>在settings.xml配置文件中找到profiles节点</p> </li><li> <p>添加如下配置</p> <pre><code>&lt;!-- java版本 --&gt; 
&lt;profile&gt;
	  &lt;id&gt;jdk-1.4&lt;/id&gt;
	  &lt;activation&gt;
		&lt;activeByDefault&gt;true&lt;/activeByDefault&gt;
		&lt;jdk&gt;1.4&lt;/jdk&gt;
	  &lt;/activation&gt;
 
	  &lt;properties&gt;
		&lt;maven.compiler.source&gt;1.4&lt;/maven.compiler.source&gt;
		&lt;maven.compiler.target&gt;1.4&lt;/maven.compiler.target&gt;
		&lt;maven.compiler.compilerVersion&gt;1.4&lt;/maven.compiler.compilerVersion&gt;
	  &lt;/properties&gt;
&lt;/profile&gt;
</code></pre> <p>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-YiwfofzP-1685109872847)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20230406225951888.png)]</p> </li></ol> 
<p>配置完成，win+R运行cmd，输入mvn help:system测试，配置成功则本地仓库（D:\program\maven\apache-maven-3.6.3-bin\maven-repository）中会出现很多文件</p> 
<p>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-5BynZAO5-1685109872848)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20230407112132151.png)]</p> 
<h4><a id="57IDEAMaven_462"></a>5.7在IDEA使用Maven</h4> 
<p>1.启动IDEA</p> 
<p>2.创建一个MavenWeb项目</p> 
<p>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-foIChXda-1685109872848)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20230406211915353.png)]</p> 
<h4><a id="58Maven_472"></a>5.8创建一个普通的Maven项目</h4> 
<p>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-kI9ECWAN-1685109872849)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20230406211846728.png)]</p> 
<h4><a id="59IDEA_478"></a>5.9在IDEA下标记文件夹功能</h4> 
<p>方式一：</p> 
<p>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-piWko3jc-1685109872849)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20230406212305239.png)]</p> 
<p>方式二：</p> 
<p>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-ehhdzXNv-1685109872849)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20230406212550523.png)]</p> 
<h4><a id="510pom_494"></a>5.10pom文件</h4> 
<p>pom.xml是Maven的核心配置文件</p> 
<p>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-K6DBVWNk-1685109872850)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20230406221300902.png)]</p> 
<h3><a id="6Servlet_502"></a>6.Servlet</h3> 
<h4><a id="61_Servlet_504"></a>6.1 Servlet简介</h4> 
<ul><li>sun公司开发的动态web的一门技术</li><li>sun在这些API中提供了一个接口叫做：sevlet，如果你想要开发一个Servlet程序，只需要完成两个小步骤： 
  <ul><li>编写一个类，实现Servlet接口；</li><li>把开发好的java类部署到web服务器上</li></ul> </li></ul> 
<p><strong>把实现了Servlet接口的java程序叫做，Servlet</strong></p> 
<h4><a id="62_HelloServlet_515"></a>6.2 HelloServlet</h4> 
<p>1.构建一个普通的Maven项目，删掉里面的src目录，以后的学习就在这个项目里面建立Moudel；这个空的工程就是Maven主工程；</p> 
<p>2.关于Maven项目父子工程的理解：<br> 父项目中会有</p> 
<pre><code class="prism language-java"><span class="token generics"><span class="token punctuation">&lt;</span>modules<span class="token punctuation">&gt;</span></span>
        <span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">module</span><span class="token punctuation">&gt;</span></span>servlet01<span class="token operator">&lt;</span><span class="token operator">/</span><span class="token keyword">module</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>modules<span class="token operator">&gt;</span>
</code></pre> 
<p>子项目会有:</p> 
<pre><code>&lt;parent&gt;
    &lt;artifactId&gt;Servlet&lt;/artifactId&gt;
    &lt;groupId&gt;com.lfq&lt;/groupId&gt;
    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;
&lt;/parent&gt;
</code></pre> 
<p>父项目中的jar包子项目可以直接使用</p> 
<p>3.Maven结构搭建完整</p> 
<p>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-cXGfr2wT-1685109872851)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20230407120526215.png)]</p> 
<p>4.编写一个Servlet程序：</p> 
<p>​ 1.编写一个普通类</p> 
<p>​ 2.继承HttpServlet</p> 
<pre><code class="prism language-java"><span class="token comment">//由于get或者post只是请求实现的不同的方式，可以互相调用，业务逻辑一样</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloSerlvet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{<!-- --></span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
        
        <span class="token class-name">PrintWriter</span> write <span class="token operator">=</span> resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        write<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"hello,Servlet"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">doPost</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>5.编写Servlet的映射</p> 
<p>为什么需要映射：我们写的是JAVA程序，但是需要通过浏览器访问，而浏览器需要连接服务器，所以我们需要在web服务中注册我们写的Servle，还需要给他一个浏览器能够访问的路径；</p> 
<pre><code class="prism language-java"><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>注册<span class="token class-name">Servlet</span><span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token generics"><span class="token punctuation">&lt;</span>servlet<span class="token punctuation">&gt;</span></span>
    <span class="token operator">&lt;</span>servlet<span class="token operator">-</span>name<span class="token operator">&gt;</span>hello<span class="token operator">&lt;</span><span class="token operator">/</span>servlet<span class="token operator">-</span>name<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>servlet<span class="token operator">-</span><span class="token keyword">class</span><span class="token operator">&gt;</span><span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>lfq<span class="token punctuation">.</span></span>HelloSerlvet</span><span class="token operator">&lt;</span><span class="token operator">/</span>servlet<span class="token operator">-</span><span class="token keyword">class</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>servlet<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span><span class="token class-name">Servlet</span>的请求路径<span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>servlet<span class="token operator">-</span>mapping<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>servlet<span class="token operator">-</span>name<span class="token operator">&gt;</span>hello<span class="token operator">&lt;</span><span class="token operator">/</span>servlet<span class="token operator">-</span>name<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>url<span class="token operator">-</span>pattern<span class="token operator">&gt;</span><span class="token operator">/</span>hello<span class="token operator">&lt;</span><span class="token operator">/</span>url<span class="token operator">-</span>pattern<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>servlet<span class="token operator">-</span>mapping<span class="token operator">&gt;</span>
</code></pre> 
<p>6.配置Tomcat</p> 
<p>7.启动测试</p> 
<h4><a id="63_Servlet_601"></a>6.3 Servlet原理</h4> 
<p>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-vE0O8yTV-1685109872851)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20230407125514716.png)]</p> 
<h4><a id="64_Mapping_609"></a>6.4 Mapping问题</h4> 
<p>1.一个Servlet可以指定一个映射路径</p> 
<pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>hello<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/hello<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>2.一个Servlet可以指定多个映射路径</p> 
<pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>hello<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/hello1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>hello<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/hello2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>hello<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/hello3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>hello<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/hello4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>3.一个Servlet可以指定通用映射路径</p> 
<pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>hello<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/hello/*<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<ol start="4"><li> <p>默认请求路径</p> <pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>hello<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/*<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
</code></pre> </li></ol> 
<p>5.指定一些后缀或者前缀</p> 
<pre><code class="prism language-xml"><span class="token comment">&lt;!--可以自定义后缀实现请求
注意，*前面不能加项目映射路径
--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>hello<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>*.lfq<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<h4><a id="65_ServletContext_673"></a>6.5 ServletContext</h4> 
<p>web容器在启动的时候，它会为每个web程序创建一个对应的ServletContext对象，它代表了当前的web应用：</p> 
<h5><a id="651__677"></a>6.5.1 共享数据</h5> 
<p>在这个Servlet中保存的数据，可以在另一个Servlet中拿到；</p> 
<p>放置：</p> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloSerlvet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
        
        <span class="token comment">//this.getServletContext(); 获取Servlet上下文</span>
        <span class="token class-name">ServletContext</span> servletContext <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> username <span class="token operator">=</span> <span class="token string">"lfq"</span><span class="token punctuation">;</span> <span class="token comment">//数据</span>
        servletContext<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">,</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//将一个数据保存在了ServletContext中，名字为username，值为"lfq"</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>读取：</p> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GetServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">ServletContext</span> a <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Object</span> username <span class="token operator">=</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span>a<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        resp<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">"text/html"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        resp<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">"utf-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//防止中文乱码</span>
        resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>访问结果：</p> 
<p>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-yC7VJOLN-1685109872852)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20230410221302236.png)]</p> 
<h5><a id="652__718"></a>6.5.2 请求转发</h5> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ServletDamo03</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">ServletContext</span> servletContext <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">RequestDispatcher</span> requestDispatcher <span class="token operator">=</span> servletContext<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">"/hello"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//转发的请求链接</span>
        requestDispatcher<span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>resp<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//调用forword方法实现请求转发</span>
        <span class="token comment">//转发后，虽然链接还是在Damo03中，但是页面却是/hello的页面</span>
        
        <span class="token comment">//servletContext.getRequestDispatcher("/hello").forward(req,resp);合并在一起，效果相同 </span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>关系图：</p> 
<p>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-5Mx6NnGM-1685109872852)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20230410223107377.png)]</p> 
<p>重定向关系图：</p> 
<p>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-wGtUeV3l-1685109872853)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20230410223143658.png)]</p> 
<h5><a id="653_Properties_742"></a>6.5.3 读取资源文件Properties</h5> 
<p>在Resource目录下新建properties会被打包到classes下，我们俗称这个路径为类路径</p> 
<p>思路：需要一个文件流</p> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ServletDamo</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">ServletContext</span> servletContext <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">InputStream</span> resourceAsStream <span class="token operator">=</span> servletContext<span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span><span class="token string">"/WEB—INF/classes/db.properties"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">Properties</span> properties <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        properties<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>resourceAsStream<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> username <span class="token operator">=</span> properties<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> password <span class="token operator">=</span> properties<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">"password"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>username<span class="token operator">+</span><span class="token string">"::"</span><span class="token operator">+</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>db.properties</p> 
<pre><code class="prism language-xml">username=lfq
password=123456
</code></pre> 
<h3><a id="7HttpServletResponse_773"></a>7.HttpServletResponse</h3> 
<p>web服务器接收到客户端的http请求，针对这个请求，分别创建一个代表请求的HttpServletRequest对象，代表响应的一个HttpServletResponse对象；</p> 
<ul><li> <p>我们如果要获取客户端请求过来的参数，找HttpServletRequest</p> </li><li> <p>如果要给客户端响应一些信息，找HttpServletResponse</p> </li></ul> 
<h5><a id="71_781"></a>7.1简单分类</h5> 
<p>负责向浏览器发送数据的方法</p> 
<pre><code class="prism language-java"><span class="token class-name">ServletOutputStream</span> <span class="token function">getOutputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">;</span>
<span class="token class-name">PrintWriter</span> <span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">;</span>
</code></pre> 
<p>负责向浏览器发送响应头的方法</p> 
<pre><code class="prism language-java"><span class="token keyword">void</span> <span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token class-name">String</span> var1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">setContentLength</span><span class="token punctuation">(</span><span class="token keyword">int</span> var1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token class-name">String</span> var1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">sendError</span><span class="token punctuation">(</span><span class="token keyword">int</span> var1<span class="token punctuation">,</span> <span class="token class-name">String</span> var2<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">sendError</span><span class="token punctuation">(</span><span class="token keyword">int</span> var1<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">sendRedirect</span><span class="token punctuation">(</span><span class="token class-name">String</span> var1<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">setDateHeader</span><span class="token punctuation">(</span><span class="token class-name">String</span> var1<span class="token punctuation">,</span> <span class="token keyword">long</span> var2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">addDateHeader</span><span class="token punctuation">(</span><span class="token class-name">String</span> var1<span class="token punctuation">,</span> <span class="token keyword">long</span> var2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token class-name">String</span> var1<span class="token punctuation">,</span> <span class="token class-name">String</span> var2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token class-name">String</span> var1<span class="token punctuation">,</span> <span class="token class-name">String</span> var2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">setIntHeader</span><span class="token punctuation">(</span><span class="token class-name">String</span> var1<span class="token punctuation">,</span> <span class="token keyword">int</span> var2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">addIntHeader</span><span class="token punctuation">(</span><span class="token class-name">String</span> var1<span class="token punctuation">,</span> <span class="token keyword">int</span> var2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">setStatus</span><span class="token punctuation">(</span><span class="token keyword">int</span> var1<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>响应状态码</p> 
<pre><code class="prism language-java"><span class="token keyword">int</span> SC_OK <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> SC_BAD_REQUEST <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> SC_UNAUTHORIZED <span class="token operator">=</span> <span class="token number">401</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> SC_NOT_FOUND <span class="token operator">=</span> <span class="token number">404</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> SC_INTERNAL_SERVER_ERROR <span class="token operator">=</span> <span class="token number">500</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> SC_NOT_IMPLEMENTED <span class="token operator">=</span> <span class="token number">501</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> SC_BAD_GATEWAY <span class="token operator">=</span> <span class="token number">502</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> SC_SERVICE_UNAVAILABLE <span class="token operator">=</span> <span class="token number">503</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> SC_GATEWAY_TIMEOUT <span class="token operator">=</span> <span class="token number">504</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> SC_HTTP_VERSION_NOT_SUPPORTED <span class="token operator">=</span> <span class="token number">505</span><span class="token punctuation">;</span>
</code></pre> 
<h5><a id="72_825"></a>7.2常见应用</h5> 
<p>下载文件</p> 
<ul><li>1.获取下载文件的路径</li><li>2.下载的文件名是啥</li><li>3.设置想办法让浏览器能够支持我们下载的东西</li><li>4.获取下载文件的输入流</li><li>5.创建缓冲区</li><li>6.获取OutputStream对象</li><li>7.将FileOutputStream流写入到buffer缓冲区</li><li>8.使用OutputStream将缓冲区中的数据输出到客户端</li></ul> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FileServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">//获取下载文件的路径</span>
        <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getRealPath</span><span class="token punctuation">(</span><span class="token string">"/01.png"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"获取到的要下载的路径"</span><span class="token operator">+</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">//下载的文件名是啥</span>
        <span class="token class-name">String</span> <span class="token class-name">Filename</span> <span class="token operator">=</span> url<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>url<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token string">"\\"</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//设置想办法让浏览器能够支持我们下载的东西</span>
        resp<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">"Content-Disposition"</span><span class="token punctuation">,</span> <span class="token string">"attachment; "</span> <span class="token operator">+</span>
                <span class="token string">"filename="</span><span class="token operator">+</span><span class="token class-name">Filename</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">//获取下载文件的输入流</span>
        <span class="token class-name">FileInputStream</span> in <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">//创建缓冲区</span>
        <span class="token keyword">int</span> len <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> buffer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token comment">//获取OutputStream对象</span>
        <span class="token class-name">ServletOutputStream</span> outputStream <span class="token operator">=</span> resp<span class="token punctuation">.</span><span class="token function">getOutputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">//将FileOutputStream流写入到buffer缓冲区</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token punctuation">(</span>len <span class="token operator">=</span> in<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>buffer<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token comment">//使用OutputStream将缓冲区中的数据输出到客户端</span>
            outputStream<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>buffer<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>len<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        outputStream<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        in<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h5><a id="73_873"></a>7.3验证码功能</h5> 
<p>验证码怎么来的？</p> 
<ul><li>前端实现</li><li>后端实现，需要用到java的图片类，生产一个图片</li></ul> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ImageServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">//如何让浏览器五秒自动刷新一次</span>
        resp<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">"refresh"</span><span class="token punctuation">,</span><span class="token string">"s"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//在内存中创建一个图片</span>
         <span class="token class-name">BufferedImage</span> image <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedImage</span><span class="token punctuation">(</span><span class="token number">80</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token class-name">BufferedImage</span><span class="token punctuation">.</span>TYPE_INT_RGB<span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token comment">//得到图片</span>
        <span class="token class-name">Graphics2D</span> graphics <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Graphics2D</span><span class="token punctuation">)</span>image<span class="token punctuation">.</span><span class="token function">getGraphics</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//笔</span>
        <span class="token comment">//设置图片的背景颜色</span>
        graphics<span class="token punctuation">.</span><span class="token function">setColor</span><span class="token punctuation">(</span><span class="token class-name">Color</span><span class="token punctuation">.</span>white<span class="token punctuation">)</span><span class="token punctuation">;</span>
        graphics<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">80</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//给图片写数据</span>
        graphics<span class="token punctuation">.</span><span class="token function">setColor</span><span class="token punctuation">(</span><span class="token class-name">Color</span><span class="token punctuation">.</span>BLUE<span class="token punctuation">)</span><span class="token punctuation">;</span>
        graphics<span class="token punctuation">.</span><span class="token function">setFont</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Font</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token class-name">Font</span><span class="token punctuation">.</span>BOLD<span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        graphics<span class="token punctuation">.</span><span class="token function">drawString</span><span class="token punctuation">(</span><span class="token function">makeNum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//告诉浏览器这个请求用图片的方式点开</span>
        resp<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">"image/png"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//网站存在缓存，不让浏览器缓存</span>
        resp<span class="token punctuation">.</span><span class="token function">setDateHeader</span><span class="token punctuation">(</span><span class="token string">"expires"</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        resp<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">"Cache-Control"</span><span class="token punctuation">,</span><span class="token string">"no-cache"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        resp<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">"Pragme"</span><span class="token punctuation">,</span><span class="token string">"no-cache"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//把图片写给浏览器</span>
        <span class="token keyword">boolean</span> write <span class="token operator">=</span> <span class="token class-name">ImageIO</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>image<span class="token punctuation">,</span><span class="token string">"jpg"</span><span class="token punctuation">,</span>resp<span class="token punctuation">.</span><span class="token function">getOutputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


    <span class="token punctuation">}</span>
    <span class="token comment">//生成随机数</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> <span class="token function">makeNum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token class-name">Random</span> random <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> s <span class="token operator">=</span> random<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token number">9999</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">""</span><span class="token punctuation">;</span>

        <span class="token comment">//防止随机数生成的不是4位数时，我门用下面的代码去填充0</span>
        <span class="token class-name">StringBuffer</span> sb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuffer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token operator">-</span>s<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"0"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">String</span> num <span class="token operator">=</span> sb<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span>s<span class="token punctuation">;</span>

        <span class="token keyword">return</span> num<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">doPost</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h5><a id="74_933"></a>7.4实现重定向</h5> 
<pre><code class="prism language-java">
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RedirectServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">/*resp.setHeader("Location","/image");
        resp.setStatus(302);*/</span>
        resp<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span><span class="token string">"/image"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//重定向</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>面试题：请你聊聊重定向和转发的区别？</p> 
<p>相同点：</p> 
<ul><li>页面都会实现跳转</li></ul> 
<p>不同点：</p> 
<ul><li>请求转发的时候，url不会产生变化</li><li>重定向的时候，url地址栏会发生变化</li></ul> 
<h3><a id="8HttpServletRequest_962"></a>8.HttpServletRequest</h3> 
<p>HttpServletRequest代表客户端的请求，用户通过Http协议访问服务器，Http请求中的所有信息会被封装到HttpServletRequest，通过这个HttpServletRequest的方法，获得客户端的所有信息</p> 
<p>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-EO9Fmcri-1685109872853)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20230520145612004.png)]</p> 
<p>重点：</p> 
<p>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-FbfcDIzR-1685109872854)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20230520145830002.png)]</p> 
<h4><a id="81_972"></a>8.1获取前端的参数并且请求转发</h4> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Login</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>

        req<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">"utf-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">String</span> username <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> password <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"password"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> parameterValues <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getParameterValues</span><span class="token punctuation">(</span><span class="token string">"hobby"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> parameterValue <span class="token operator">:</span> parameterValues<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>parameterValue<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">//resp.sendRedirect("/web/success.jsp");//重定向</span>
        req<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">"/success.jsp"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>resp<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//请求转发</span>

        resp<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">"utf-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">doGet</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>结果：[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-Hbt6kQPq-1685109872854)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20230520152349260.png)]</p> 
<h3><a id="9CookieSession_1008"></a>9.Cookie、Session</h3> 
<h4><a id="91__1010"></a>9.1 会话</h4> 
<p><strong>会话</strong>：用户打开一个浏览器，点击了很多超链接，访问了多个web资源，关闭浏览器，这个过程可以称之为会话</p> 
<p><strong>有状态会话</strong>：</p> 
<p>客户端 服务端</p> 
<p>1.服务器给客户端一个信件，客户端下次访问服务端带上信件就可以了；cookie</p> 
<p>2.服务器登记你来过了，下次你来的时候我来匹配你；session</p> 
<h4><a id="92___1024"></a>9.2 保存会话的两种技术</h4> 
<p><strong>cookie</strong></p> 
<ul><li>客户端技术（响应，请求）</li></ul> 
<p><strong>session</strong></p> 
<ul><li>服务器技术，利用这个技术，可以保存用户的会话信息，我们可以把信息或者数据放在Session中</li></ul> 
<p>常见功能：网站登陆之后，下次就不用再输密码登录了，第二次访问直接就上去了</p> 
<h4><a id="93_Cookie_1040"></a>9.3 Cookie</h4> 
<p>1.从请求中拿到cookie信息</p> 
<p>2.从服务器响应给客户端cookie</p> 
<pre><code class="prism language-java"><span class="token class-name">Cookie</span><span class="token punctuation">[</span><span class="token punctuation">]</span> cookies <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getCookies</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//获得cookie</span>
cookie<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">//获得cookie中的key</span>
cookie<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">//获得cookie中的value</span>
<span class="token class-name">Cookie</span> cookie <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cookie</span><span class="token punctuation">(</span><span class="token string">"time"</span><span class="token punctuation">,</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//新建一个cookie</span>
cookie<span class="token punctuation">.</span><span class="token function">setMaxAge</span><span class="token punctuation">(</span><span class="token number">24</span><span class="token operator">*</span><span class="token number">60</span><span class="token operator">*</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//设置cookie的有效期</span>
resp<span class="token punctuation">.</span><span class="token function">addCookie</span><span class="token punctuation">(</span>cookie<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//响应给客户端一个cookie</span>
</code></pre> 
<p>给每次访问加一个cookie用来存储上一次访问的时间：</p> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CookieDemo01</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">//解决中文乱码</span>
        req<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">"utf-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        resp<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">"utf-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        resp<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">"text/html;charset=utf-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">PrintWriter</span> out <span class="token operator">=</span> resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//从客户端获取cookie</span>
        <span class="token class-name">Cookie</span><span class="token punctuation">[</span><span class="token punctuation">]</span> cookies <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getCookies</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//判断cookie是否存在</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>cookies<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token comment">//如果存在的话</span>
            out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"你上一次访问的时间是："</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> cookies<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token class-name">Cookie</span> cookie <span class="token operator">=</span> cookies<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
                <span class="token comment">//获取cookie的名字和我们所需要cookie名进行判断</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>cookie<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"time"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token comment">//获取cookie中的值</span>
                    <span class="token keyword">long</span> l <span class="token operator">=</span> <span class="token class-name">Long</span><span class="token punctuation">.</span><span class="token function">parseLong</span><span class="token punctuation">(</span>cookie<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token class-name">Date</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>date<span class="token punctuation">.</span><span class="token function">toLocaleString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
            out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"这是第一次访问本站"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">//为这次访问添加cookie</span>
        <span class="token class-name">Cookie</span> cookie <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cookie</span><span class="token punctuation">(</span><span class="token string">"time"</span><span class="token punctuation">,</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cookie<span class="token punctuation">.</span><span class="token function">setMaxAge</span><span class="token punctuation">(</span><span class="token number">24</span><span class="token operator">*</span><span class="token number">60</span><span class="token operator">*</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        resp<span class="token punctuation">.</span><span class="token function">addCookie</span><span class="token punctuation">(</span>cookie<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">doGet</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>结果：[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-T9CBKAPk-1685109872855)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20230520172045715.png)]</p> 
<p>cookie：一般会保存在本地的用户目录下的appdata;</p> 
<p>一个网站cookie是否存在上限:</p> 
<ul><li>一个cookie只能保存一个信息</li><li>一个web站点可以给浏览器发送多个cookie，最多存放20个cookie</li><li>Cookie大小有限制4kb</li><li>300个cookie浏览器上限</li></ul> 
<p>删除cookie：</p> 
<ul><li>不设置有效期，关闭浏览器，自动失效；</li><li>设置有效期时间为0；</li></ul> 
<h4><a id="94_Session_1126"></a>9.4 Session（重点）</h4> 
<p>什么是Session：</p> 
<ul><li>服务器会给每一个用户创建一个Session对象</li><li>一个Session独占一个浏览器，只要这个浏览器没有关闭，这个Session就存在</li><li>用户登录之后，整个网站它都可以访问-&gt;&gt;保存用户的信息，保存购物车的信息…</li></ul> 
<p>Session和Cookie的区别：</p> 
<ul><li>Cookie是把用户的数据写给用户的浏览器，浏览器保存</li><li>Session把用户的数据写到用户独占Session中，服务器端保存（保存重要信息，减少服务器资源的浪费）</li><li>Session对象由服务器创建</li></ul> 
<p>使用场景：</p> 
<ul><li>保存一个登录用户的信息</li><li>购物车信息</li><li>在整个网站中经常使用的数据，保存在Session中</li></ul> 
<p><strong>Session的使用：</strong></p> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SessionDemo01</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">//解决乱码</span>
        req<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">"utf-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        resp<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">"utf-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        resp<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">"text/html;charset=utf-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//得到Session</span>
        <span class="token class-name">HttpSession</span> session <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//给Session中存东西</span>
        session<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">"lfq"</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//获取Session的ID</span>
        <span class="token class-name">String</span> id <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//判断Session是不是新创建的</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>session<span class="token punctuation">.</span><span class="token function">isNew</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"session创建成功,ID"</span><span class="token operator">+</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
            resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"session已经在服务器中存在了，ID"</span><span class="token operator">+</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">doGet</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="10JavaBean_1188"></a>10.JavaBean</h3> 
<p>实体类</p> 
<p>JavaBean有特定的写法：</p> 
<ul><li>必须要有一个无参构造</li><li>属性必须私有化</li><li>必须有对应的get/set方法；</li><li>一般用来和数据库做映射 ORM</li></ul> 
<p>ORM：对象关系映射</p> 
<ul><li> <p>表-&gt;类</p> </li><li> <p>字段-&gt;属性</p> </li><li> <p>行记录-&gt;对象<br> ：</p> </li><li> <p>保存一个登录用户的信息</p> </li><li> <p>购物车信息</p> </li><li> <p>在整个网站中经常使用的数据，保存在Session中</p> </li></ul> 
<p><strong>Session的使用：</strong></p> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SessionDemo01</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">//解决乱码</span>
        req<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">"utf-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        resp<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">"utf-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        resp<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">"text/html;charset=utf-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//得到Session</span>
        <span class="token class-name">HttpSession</span> session <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//给Session中存东西</span>
        session<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">"lfq"</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//获取Session的ID</span>
        <span class="token class-name">String</span> id <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//判断Session是不是新创建的</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>session<span class="token punctuation">.</span><span class="token function">isNew</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"session创建成功,ID"</span><span class="token operator">+</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
            resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"session已经在服务器中存在了，ID"</span><span class="token operator">+</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">doGet</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="10JavaBean_1248"></a>10.JavaBean</h3> 
<p>实体类</p> 
<p>JavaBean有特定的写法：</p> 
<ul><li>必须要有一个无参构造</li><li>属性必须私有化</li><li>必须有对应的get/set方法；</li><li>一般用来和数据库做映射 ORM</li></ul> 
<p>ORM：对象关系映射</p> 
<ul><li>表-&gt;类</li><li>字段-&gt;属性</li><li>行记录-&gt;对象</li></ul>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/9740692631d7879d60754883ce67b711/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">探索Root权限用户在计算机系统中的重要性与应用</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/1b7969d6936776a06771d8ad64b856aa/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">STM32G0x0系列-点亮一盏灯（寄存器）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>