<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>用Python画中国地图，实现各省份数据可视化！可视化简直了！ - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="用Python画中国地图，实现各省份数据可视化！可视化简直了！" />
<meta property="og:description" content="第一步：安装pyecharts
pyecharts是一款将python与echarts结合的强大的数据可视化工具，本文使用了0.1.9.4版本
pip install pyecharts==0.1.9.4 第二步：读取数据
我的数据是在Excel表格里，如下图：
Execel数据
使用xlrd(没有就通过pip install xlrd安装)读取Excel表格中的数据
# 第一种方式，使用xlrd读取Execel表格中数据 data = xlrd.open_workbook(&#39;data.xlsx&#39;) table = data.sheet_by_name(&#39;Sheet1&#39;) province = table.col_values(0)[1:] num = table.col_values(1)[1:] 如果各位没有相应的Execel文件，也不想新建一个，那就干脆自己定义一个字典，其中键是省份，值是对应的数量，然后再把对应的值取出来
# 第二种方式，直接自己写一个字典，然后取出相应数据 province_distribution = {&#39;四川&#39;: 239.0, &#39;浙江&#39;: 231.0, &#39;福建&#39;: 203.0, &#39;江苏&#39;: 185.0, &#39;湖南&#39;: 152.0, &#39;山东&#39;: 131.0, &#39;安徽&#39;: 100.0, &#39;广东&#39;: 89.0, &#39;河北&#39;: 87.0, &#39;湖北&#39;: 84.0, &#39;吉林&#39;: 75.0, &#39;上海&#39;: 70.0, &#39;江西&#39;: 64.0, &#39;广西&#39;: 64.0, &#39;贵州&#39;: 64.0, &#39;北京&#39;: 63.0, &#39;云南&#39;: 53.0, &#39;重庆&#39;: 49.0, &#39;河南&#39;: 48.0, &#39;陕西&#39;: 38." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/2e3aa157f5f97147642f1b13dc71b7df/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-04-15T13:52:46+08:00" />
<meta property="article:modified_time" content="2020-04-15T13:52:46+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">用Python画中国地图，实现各省份数据可视化！可视化简直了！</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>第一步：安装pyecharts</p> 
<p>pyecharts是一款将python与echarts结合的强大的数据可视化工具，本文使用了0.1.9.4版本</p> 
<pre>pip install pyecharts==0.1.9.4 
</pre> 
<p>第二步：读取数据</p> 
<p>我的数据是在Excel表格里，如下图：</p> 
<p><img alt="" src="https://images2.imgbox.com/4d/02/TmOzB2Mm_o.png"></p> 
<p>Execel数据</p> 
<p>使用xlrd(没有就通过pip install xlrd安装)读取Excel表格中的数据</p> 
<pre># 第一种方式，使用xlrd读取Execel表格中数据 
data = xlrd.open_workbook('data.xlsx') 
table = data.sheet_by_name('Sheet1') 
province = table.col_values(0)[1:] 
num = table.col_values(1)[1:] 
</pre> 
<p>如果各位没有相应的Execel文件，也不想新建一个，那就干脆自己定义一个字典，其中键是省份，值是对应的数量，然后再把对应的值取出来</p> 
<pre># 第二种方式，直接自己写一个字典，然后取出相应数据 
province_distribution = {'四川': 239.0, '浙江': 231.0, '福建': 203.0, '江苏': 185.0, '湖南': 152.0, '山东': 131.0, '安徽': 100.0, '广东': 89.0, '河北': 87.0, '湖北': 84.0, '吉林': 75.0,   
                         '上海': 70.0, '江西': 64.0, '广西': 64.0, '贵州': 64.0, '北京': 63.0, '云南': 53.0, '重庆': 49.0, '河南': 48.0, '陕西': 38.0, '山西': 37.0, '辽宁': 33.0, '新疆': 25.0,  
                         '内蒙古': 23.0, '黑龙江': 20.0, '天津': 19.0, '甘肃': 13.0, '海南': 9.0, '青海': 7.0, '宁夏': 4.0, '西藏': 0.0} 
provice = list(province_distribution.keys()) 
num = list(province_distribution.values()) 
</pre> 
<p>第三步：画图</p> 
<pre>chinaMap = Map(width=1200, height=600) 
chinaMap.add(name="分布数量", 
             attr=province, 
             value=num, 
             visual_range=[0, 239], 
             maptype='china', 
             is_visualmap=True) 
chinaMap.render(path="中国地图.html") 
</pre> 
<ul><li>其中参数name指的是显示在地图正上方的标题，</li><li>attr就是一个包含了各省份名称的列表，</li><li>value就是包含了各省份对应数值的列表，</li><li>visual_range指的是整个数据中的数值范围，</li><li>maptype就是指的地图类型，</li><li>is_visualmap代表是否显示颜色</li></ul> 
<p>这时候就会生成一个名称为“中国地图.html”的文件，打开后如下图所示：</p> 
<p><img alt="" src="https://images2.imgbox.com/64/e4/ak78TYGn_o.png"></p> 
<p>无省份名称地图</p> 
<p>如果想保存为图片，可以点击地图右侧的下载按钮，因为隔着比较远，我在录屏的时候并没有把下载按钮录进来，但大家在自己电脑上肯定会看见的。</p> 
<p>第四步：进一步优化</p> 
<p>大家可以看到上图中各省份的名称只有在被鼠标选中的情况下，才能显示，并且所保存的图片也不会显示各省份名称，如果要显示各省份名称，则需要对html文件就行修改，推荐使用notepad++(一个文本编辑软件，直接去百度上下载，很简单的)打开“中国地图.html”文件，然后在第1923行的那个series中添加"label":{ "normal":{ "show":true}并保存，如下：</p> 
<p><img alt="" src="https://images2.imgbox.com/02/a4/IwGg5rGP_o.png"></p> 
<p>修改html文件</p> 
<p>然后再打开“中国地图.html”文件，就可以看到各省份的名称啦，如下图：</p> 
<p><img alt="" src="https://images2.imgbox.com/17/a3/eoJdRI4v_o.png"></p> 
<p>有省份名称地图</p> 
<p><strong>源码获取加群：850591259</strong></p> 
<p> </p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/cf128067065590fcb0af99111918f32f/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">mybatis xml if 判断为空</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a6842dfe23692a8607a464344a95fd97/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">BigDecimal去掉小数点后无用的0</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>