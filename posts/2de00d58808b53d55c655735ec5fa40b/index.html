<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>ARM Cortex-M0系统简介 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="ARM Cortex-M0系统简介" />
<meta property="og:description" content="如何独自搭建一个CM0系统
在用keil调试开发时我们会见到如下界面
下面则是一些具体含义
处理器模式 Thread mode模式用于执行应用软件。当复位结束时，处理器进入线程模式。
Handler mode异常处理模式。处理器在完成所有异常处理后返回到Thread模式。
Stack 处理器使用完整的降序堆栈。这意味着堆栈指针指示堆栈内存中最后一个堆叠项。当处理器将一个新项压入堆栈时，它会减少堆栈指针，然后将该项写入新的内存位置。处理器实现了两个栈，主栈和进程栈，它们有独立的栈指针副本
核心寄存器 NameDescriptionR0-R12R0-R12是用于数据操作的通用寄存器MSP (R13) PSP (R13)堆栈指针(SP)是寄存器R13。在线程模式下，控制寄存器指示要使用的堆栈指针，主堆栈指针(MSP)或进程堆栈指针(PSP)LR (R14)链路寄存器(LR)是寄存器R14。它存储子例程、函数调用和异常的返回信息PC (R15)程序计数器(PC)是寄存器R15。它包含当前程序地址PSR程序状态寄存器(PSR)包括:应用程序状态寄存器(APSR) •中断程序状态寄存器(IPSR)•执行程序状态寄存器(EPSR)CONTROL当处理器处于线程模式时，控制寄存器控制使用的堆栈 AHB-Lite 部分接口 AHB-Lite实现了高性能、高时钟频率系统所需的功能，包括
•突发传输
•单时钟边缘操作
•非三态实现
•宽数据总线配置，64、128、256、512和1024位。
最常见的AHB-Lite从机是内部内存设备、外部内存接口和高带宽外设。
虽然低带宽外设可以作为AHB-Lite从设备，但由于系统性能的原因，它们通常位于AMBA高级外设总线(APB)上。
这个高级总线和APB之间的桥接是通过一个AHB-Lite从机完成的，这个从机被称为APB桥接。
因为AHB-Lite是一个单一的主总线接口，所以如果需要一个多主系统，系统设计者必须包含一个组件来隔离所有主系统。为了实现这个隔离功能，可以将每个主服务器视为在自己的层上，因此组件必须创建一个多层互连，其中所有主服务器彼此隔离，但可以共享对从服务器的访问。从仲裁必须由多层互连组件执行
Memory model 介绍Cortex-M0设备的内存映射和内存访问行为。处理器有一个固定的内存映射，提供高达4GB的可寻址内存。内存映射是:
内存区域、类型和属性
内存映射被分割成多个区域。
每个区域都有一个已定义的内存类型，有些区域还有额外的内存属性。
内存类型和属性决定了访问该区域的行为。
内存类型有:
Normal
为了提高效率，处理器可以对事务重新排序，或者执行投机读操作
Device
处理器相对于设备或强顺序内存的其他事务保持事务顺序。
Strongly-ordered
处理器保持相对于所有其他事务的事务顺序。
地址区域参数确定到主接口的布线。
当定义了多组地址区域参数时，每个主接口可以有多个非连续地址区域。然而，不同主机的地址区域接口不得重叠。mem_lo参数定义下限地址和mem_hi参数定义主接口的上限地址。
&lt;slave_interface name=&#34;SI1&#34;&gt; &lt;address_region interface=&#34;MI0&#34; mem_lo=&#34;40000000&#34; mem_hi=&#34;4fffffff&#34; remapping=&#34;move&#34;/&gt; &lt;address_region interface=&#34;MI0&#34; mem_lo=&#34;70000000&#34; mem_hi=&#34;7fffffff&#34; remapping=&#34;alias&#34;/&gt; &lt;address_region interface=&#34;MI1&#34; mem_lo=&#34;80000000&#34; mem_hi=&#34;9fffffff&#34; remapping=&#34;none&#34;/&gt; &lt;address_region interface=&#34;MI2&#34; mem_lo=&#34;a0000000&#34; mem_hi=&#34;bfffffff&#34; remapping=&#34;move&#34;/&gt; &lt;address_region interface=&#34;MI3&#34; mem_lo=&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/2de00d58808b53d55c655735ec5fa40b/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-03-14T22:05:06+08:00" />
<meta property="article:modified_time" content="2022-03-14T22:05:06+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">ARM Cortex-M0系统简介</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><strong>如何独自搭建一个CM0系统</strong></p> 
<p>在用keil调试开发时我们会见到如下界面<br> <img src="https://images2.imgbox.com/fe/bd/dz12pQqW_o.png" alt="在这里插入图片描述"><br> 下面则是一些具体含义</p> 
<h2><a id="_7"></a>处理器模式</h2> 
<p>Thread mode模式用于执行应用软件。当复位结束时，处理器进入线程模式。</p> 
<p>Handler mode异常处理模式。处理器在完成所有异常处理后返回到Thread模式。</p> 
<h2><a id="Stack_13"></a>Stack</h2> 
<p>处理器使用完整的降序堆栈。这意味着堆栈指针指示堆栈内存中最后一个堆叠项。当处理器将一个新项压入堆栈时，它会减少堆栈指针，然后将该项写入新的内存位置。处理器实现了两个栈，主栈和进程栈，它们有独立的栈指针副本</p> 
<h2><a id="_16"></a>核心寄存器</h2> 
<p><img src="https://images2.imgbox.com/20/80/e8D7pE6p_o.png" alt="在这里插入图片描述"></p> 
<table><thead><tr><th>Name</th><th>Description</th></tr></thead><tbody><tr><td>R0-R12</td><td>R0-R12是用于数据操作的通用寄存器</td></tr><tr><td>MSP (R13) PSP (R13)</td><td>堆栈指针(SP)是寄存器R13。在线程模式下，控制寄存器指示要使用的堆栈指针，主堆栈指针(MSP)或进程堆栈指针(PSP)</td></tr><tr><td>LR (R14)</td><td>链路寄存器(LR)是寄存器R14。它存储子例程、函数调用和异常的返回信息</td></tr><tr><td>PC (R15)</td><td>程序计数器(PC)是寄存器R15。它包含当前程序地址</td></tr><tr><td>PSR</td><td>程序状态寄存器(PSR)包括:应用程序状态寄存器(APSR) •中断程序状态寄存器(IPSR)•执行程序状态寄存器(EPSR)</td></tr><tr><td>CONTROL</td><td>当处理器处于线程模式时，控制寄存器控制使用的堆栈</td></tr></tbody></table> 
<h2><a id="AHBLite__28"></a>AHB-Lite 部分接口</h2> 
<p>AHB-Lite实现了高性能、高时钟频率系统所需的功能，包括</p> 
<p>•突发传输<br> •单时钟边缘操作<br> •非三态实现<br> •宽数据总线配置，64、128、256、512和1024位。</p> 
<p>最常见的AHB-Lite从机是内部内存设备、外部内存接口和高带宽外设。<br> 虽然低带宽外设可以作为AHB-Lite从设备，但由于系统性能的原因，它们通常位于AMBA高级外设总线(APB)上。<br> 这个高级总线和APB之间的桥接是通过一个AHB-Lite从机完成的，这个从机被称为APB桥接。</p> 
<p>因为AHB-Lite是一个单一的主总线接口，所以如果需要一个多主系统，系统设计者必须包含一个组件来隔离所有主系统。为了实现这个隔离功能，可以将每个主服务器视为在自己的层上，因此组件必须创建一个多层互连，其中所有主服务器彼此隔离，但可以共享对从服务器的访问。从仲裁必须由多层互连组件执行</p> 
<p><img src="https://images2.imgbox.com/30/91/Z5Unytmi_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="Memory_model_44"></a>Memory model</h3> 
<p>介绍Cortex-M0设备的内存映射和内存访问行为。处理器有一个固定的内存映射，提供高达4GB的可寻址内存。内存映射是:<br> <img src="https://images2.imgbox.com/bc/a6/b5wZ9x5z_o.png" alt="在这里插入图片描述"><br> 内存区域、类型和属性</p> 
<p>内存映射被分割成多个区域。<br> 每个区域都有一个已定义的内存类型，有些区域还有额外的内存属性。<br> 内存类型和属性决定了访问该区域的行为。</p> 
<p>内存类型有:<br> <strong>Normal</strong><br> 为了提高效率，处理器可以对事务重新排序，或者执行投机读操作<br> <strong>Device</strong><br> 处理器相对于设备或强顺序内存的其他事务保持事务顺序。<br> <strong>Strongly-ordered</strong><br> 处理器保持相对于所有其他事务的事务顺序。</p> 
<p><img src="https://images2.imgbox.com/ca/fe/iVwtIPh8_o.png" alt="在这里插入图片描述"><br> 地址区域参数确定到主接口的布线。<br> 当定义了多组地址区域参数时，每个主接口可以有多个非连续地址区域。然而，不同主机的地址区域接口不得重叠。mem_lo参数定义下限地址和mem_hi参数定义主接口的上限地址。</p> 
<pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slave_interface</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>SI1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>address_region</span> <span class="token attr-name">interface</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>MI0<span class="token punctuation">"</span></span> <span class="token attr-name">mem_lo</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>40000000<span class="token punctuation">"</span></span> <span class="token attr-name">mem_hi</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>4fffffff<span class="token punctuation">"</span></span> <span class="token attr-name">remapping</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>move<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>address_region</span> <span class="token attr-name">interface</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>MI0<span class="token punctuation">"</span></span> <span class="token attr-name">mem_lo</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>70000000<span class="token punctuation">"</span></span> <span class="token attr-name">mem_hi</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>7fffffff<span class="token punctuation">"</span></span> <span class="token attr-name">remapping</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>alias<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>address_region</span> <span class="token attr-name">interface</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>MI1<span class="token punctuation">"</span></span> <span class="token attr-name">mem_lo</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>80000000<span class="token punctuation">"</span></span> <span class="token attr-name">mem_hi</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>9fffffff<span class="token punctuation">"</span></span> <span class="token attr-name">remapping</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>none<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>address_region</span> <span class="token attr-name">interface</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>MI2<span class="token punctuation">"</span></span> <span class="token attr-name">mem_lo</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>a0000000<span class="token punctuation">"</span></span> <span class="token attr-name">mem_hi</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>bfffffff<span class="token punctuation">"</span></span> <span class="token attr-name">remapping</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>move<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>address_region</span> <span class="token attr-name">interface</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>MI3<span class="token punctuation">"</span></span> <span class="token attr-name">mem_lo</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>00000000<span class="token punctuation">"</span></span> <span class="token attr-name">mem_hi</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1fffffff<span class="token punctuation">"</span></span> <span class="token attr-name">remapping</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>move<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>remap_region</span>   <span class="token attr-name">interface</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>MI0<span class="token punctuation">"</span></span> <span class="token attr-name">mem_lo</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>00000000<span class="token punctuation">"</span></span> <span class="token attr-name">mem_hi</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1fffffff<span class="token punctuation">"</span></span> <span class="token attr-name">bit</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>remap_region</span>   <span class="token attr-name">interface</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>MI1<span class="token punctuation">"</span></span> <span class="token attr-name">mem_lo</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>50000000<span class="token punctuation">"</span></span> <span class="token attr-name">mem_hi</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>5fffffff<span class="token punctuation">"</span></span> <span class="token attr-name">bit</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>remap_region</span>   <span class="token attr-name">interface</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>MI2<span class="token punctuation">"</span></span> <span class="token attr-name">mem_lo</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>60000000<span class="token punctuation">"</span></span> <span class="token attr-name">mem_hi</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>6fffffff<span class="token punctuation">"</span></span> <span class="token attr-name">bit</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>remap_region</span>   <span class="token attr-name">interface</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>MI3<span class="token punctuation">"</span></span> <span class="token attr-name">mem_lo</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>c0000000<span class="token punctuation">"</span></span> <span class="token attr-name">mem_hi</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>dfffffff<span class="token punctuation">"</span></span> <span class="token attr-name">bit</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slave_interface</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>重映射配置参数定义了支持地址重映射的主接口的行为。当相关的REMAP信号被设置时，它就会被激活。有两种类型的地址重映射行为:</p> 
<p>•如果将重映射参数设置为alias或none，则在新地址空间中创建该区域的别名。</p> 
<p>•如果将remapping参数设置为move，地址区域将从原地址空间中移除，主接口将出现在新地址空间中由remap区域定义的位置上</p> 
<h3><a id="_86"></a>传输类型编码</h3> 
<p><img src="https://images2.imgbox.com/a1/89/Zg8WI8Qh_o.png" alt="在这里插入图片描述"><br> 传输一次即为NONSEQ</p> 
<h3><a id="_91"></a>突发编码</h3> 
<p>突发传输，一般也称为数据突发，其在通信领域中一般指在短时间内进行相对高带宽的数据传输<br> <img src="https://images2.imgbox.com/d9/97/K0tNP841_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/73/b6/4b8D4gtw_o.png" alt="在这里插入图片描述"><br> 在cortexm0ds_logic中有如下关系<br> <img src="https://images2.imgbox.com/48/21/602CwXG8_o.png" alt="在这里插入图片描述"><br> 即在传输和突发关系中有<br> <mark>空闲和非连续传输</mark><br> <mark>突发传输只为单一传输</mark></p> 
<p>响应<br> <img src="https://images2.imgbox.com/da/e4/adlx4JSO_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="HREADY_104"></a>HREADY</h3> 
<p>HREADY信号用来扩展一次AHB传输的数据部分。当HREADY信号为低时表示传输将被扩展而当其为高时表示传输完成。</p> 
<p>在官方的AHB-Lite中多为如下关系<br> <img src="https://images2.imgbox.com/94/4b/glyK38ee_o.png" alt="在这里插入图片描述"><br> 连续读写操作时序图↓<br> <img src="https://images2.imgbox.com/79/ed/yhjDx3JC_o.png" alt="在这里插入图片描述"></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/06e7d3b859b7972e3ae5413fb2d37ce8/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">ctfshow web175-183</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/457078786572456ac863f097ce0befee/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">本人的一些总结</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>