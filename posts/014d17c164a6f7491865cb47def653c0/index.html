<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>ajax返回值传给js全局变量 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="ajax返回值传给js全局变量" />
<meta property="og:description" content="ajax返回值传给js全局变量 2011-03-13 10:14:01| 分类： js | 标签：ajax 全局变量 async 值传 js |字号大中小订阅
程序代码如下： 默认使用ajax时，async选项为true,也就是异部请求，这种情况下， 异步请求不能将返回值传给全局变量 将async设为同步请求，就可以了，也就是async=false; &lt;html&gt; &lt;head&gt;&lt;/head&gt; &lt;script src=&#34;http://blog.163.com/qzw881130@126/blog/./jquery-1.5.1.min.js&#34; language=&#34;javascript&#34;&gt; &lt;/script&gt; &lt;script language=&#34;javascript&#34;&gt; var t=&#34;&#34; function request_ajax(){ $.ajax({ async:false, //使用同步请求，因为异步请求不能将返回值传给全局变量； type: &#34;POST&#34;, url: &#34;server.php&#34;, data: &#34;&#34;, success: function(msg){ t=msg; } }); $(&#34;#txt&#34;).val(t); } &lt;/script&gt; &lt;body&gt; &lt;input type=&#34;text&#34; value=&#34;&#34; id=&#34;txt&#34; /&gt; &lt;button οnclick=&#34;request_ajax()&#34;&gt;ajax返回&lt;/button&gt; &lt;/body&gt; &lt;/html&gt; 转载于:https://www.cnblogs.com/tabcdt/archive/2012/11/19/2777322.html" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/014d17c164a6f7491865cb47def653c0/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2012-11-19T15:12:00+08:00" />
<meta property="article:modified_time" content="2012-11-19T15:12:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">ajax返回值传给js全局变量</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div id="cnblogs_post_body" class="blogpost-body"> 
 <h4 class="title pre fs1"><span class="tcnt">ajax返回值传给js全局变量</span> </h4> 
 <p class="tdep clearfix nbw-act fc06" style="line-height:20px;"><span class="pleft"><span class="blogsep">2011-03-13 10:14:01</span><span class="blogsep">|  分类：</span> <a class="fc03 m2a" title="js" href="http://blog.163.com/qzw881130@126/blog/#m=0&amp;t=1&amp;c=fks_084065087082083066084080081095080094085067093083085071" rel="nofollow">js</a> <span id="$_blogTagTitle" class="blogsep">|  标签：</span><span id="$_blogTagInfo" class="fc03"><a class="fc03 m2a" href="http://blog.163.com/qzw881130@126/blog/#m=0&amp;t=3&amp;c=ajax" rel="nofollow">ajax</a>  <a class="fc03 m2a" href="http://blog.163.com/qzw881130@126/blog/#m=0&amp;t=3&amp;c=%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F" rel="nofollow">全局变量</a>  <a class="fc03 m2a" href="http://blog.163.com/qzw881130@126/blog/#m=0&amp;t=3&amp;c=async" rel="nofollow">async</a>  <a class="fc03 m2a" href="http://blog.163.com/qzw881130@126/blog/#m=0&amp;t=3&amp;c=%E5%80%BC%E4%BC%A0" rel="nofollow">值传</a>  <a class="fc03 m2a" href="http://blog.163.com/qzw881130@126/blog/#m=0&amp;t=3&amp;c=js" rel="nofollow">js</a>  </span> </span><span class="pright fc07 ztag"><span class="blogsep">|</span><span id="$_fontswitch" class="zihao fc03">字号<span id="$_fontsTypes" class="zihaoshow phide"><span class="zihaoc bdc0"><span class="fc04 stag">大</span><span class="fc04 stag selected js-fcurrent fc05">中</span><span class="fc04 stag">小</span></span></span></span></span><span id="$_blog_subscribe" class="pright pnt fc03"><a class="m2a">订阅</a></span></p> 
 <div>
     
 </div> 
 <div class="nbw-blog-start">
     
 </div> 
 <div class="bct fc05 fc11 nbw-blog ztag js-fs2">
   程序代码如下： 默认使用ajax时，async选项为true,也就是异部请求，这种情况下， 
  <span style="color:#ff0000;">异步请求不能将返回值传给全局变量 </span>将async设为同步请求，就可以了，也就是async=false; 
  <br>&lt;html&gt; 
 </div> 
 <div class="bct fc05 fc11 nbw-blog ztag js-fs2">
   &lt;head&gt;&lt;/head&gt; 
 </div> 
 <div class="bct fc05 fc11 nbw-blog ztag js-fs2">
   &lt;script src="http://blog.163.com/qzw881130@126/blog/./jquery-1.5.1.min.js" language="javascript"&gt; &lt;/script&gt; 
 </div> 
 <div class="bct fc05 fc11 nbw-blog ztag js-fs2">
   &lt;script language="javascript"&gt;   
 </div> 
 <div class="bct fc05 fc11 nbw-blog ztag js-fs2">
      var t=""     
 </div> 
 <div class="bct fc05 fc11 nbw-blog ztag js-fs2">
   function request_ajax(){        
 </div> 
 <div class="bct fc05 fc11 nbw-blog ztag js-fs2">
     $.ajax({        
 </div> 
 <div class="bct fc05 fc11 nbw-blog ztag js-fs2">
             
  <span style="color:#ff0000;">async:false, //使用同步请求，因为异步请求不能将返回值传给全局变量；</span>     
 </div> 
 <div class="bct fc05 fc11 nbw-blog ztag js-fs2">
            type: "POST", 
 </div> 
 <div class="bct fc05 fc11 nbw-blog ztag js-fs2">
            url: "server.php", 
 </div> 
 <div class="bct fc05 fc11 nbw-blog ztag js-fs2">
            data: "", 
 </div> 
 <div class="bct fc05 fc11 nbw-blog ztag js-fs2">
            success: function(msg){          t=msg;          }         });         $("#txt").val(t);     } &lt;/script&gt; 
 </div> 
 <div class="bct fc05 fc11 nbw-blog ztag js-fs2">
   &lt;body&gt; 
 </div> 
 <div class="bct fc05 fc11 nbw-blog ztag js-fs2">
   &lt;input type="text" value="" id="txt" /&gt; 
 </div> 
 <div class="bct fc05 fc11 nbw-blog ztag js-fs2">
   &lt;button οnclick="request_ajax()"&gt;ajax返回&lt;/button&gt; 
 </div> 
 <div class="bct fc05 fc11 nbw-blog ztag js-fs2">
   &lt;/body&gt; 
 </div> 
 <div class="bct fc05 fc11 nbw-blog ztag js-fs2">
   &lt;/html&gt; 
 </div> 
</div> 
<p>转载于:https://www.cnblogs.com/tabcdt/archive/2012/11/19/2777322.html</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/b06e1c09fd7d3b1137d094b4613347f8/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">使用VLC搭建视频直播服务器</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/695535c02842243a48b4c5540a5c0cc6/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">C#获取网页内容的三种方式</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>