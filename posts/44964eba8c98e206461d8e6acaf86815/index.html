<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【Linux网络】详解使用http和ftp搭建yum仓库，以及yum网络源优化 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【Linux网络】详解使用http和ftp搭建yum仓库，以及yum网络源优化" />
<meta property="og:description" content="目录
一、回顾yum的原理
1.1yum简介
yum安装的底层原理：
yum的好处：
二、学习yum的配置文件及命令
1、yum的配置文件
2、yum的相关命令详解
3、yum的命令相关案例
三、搭建yum仓库的方式
1、本地yum仓库建立
2、通过http搭建内网的yum仓库
3、通过ftp搭建内网的yum仓库
4、创建本地的国内的网络源
一、回顾yum的原理 1.1yum简介 yum是一个基于RPM包（是Red-Hat Package Manager红帽软件包管理器的缩写）构建的软件更新机制，能够自动解决软件包之间的依赖关系。解决了日常工作中的大量查找安装依赖包的时间 为什么会有依赖关系的发生 因为linux本身就是以系统简洁为自身优势，所以在安装操作系统的时候并没有将所有的库文件以及编译软件包进行安装，所以在linux操作系统上进行软件安装的时候会出现软件包依赖的情况。yum由仓库和客户端组成，也就是整个yum由两部分组成，所以yum可以存放在两台服务器上。也可以存放在一台服务器上。可以有官方来提供服务，也可以由第三方来提供，比如国内的阿里云，搜狐云，还有一些非盈利组织比如学校等。官方的源一般在国外，下载速度肯定有限，手动更改成国内的云可以大幅提升下载速度。
YUM 的前身是 YUP（Yellow dog Updater，Yellow dog Linux 的软件更新器），最初由 TSS 公司（Terra Soft Solutions，INC.）使用 Python 语言开发而成，后来由杜克大学（Duck University）的 Linux 开发队伍进行改进，命名为 YUM（Yellow dog Updater，Modified）。 要成功使用 YUM 机制来更新系统和软件，需要有一个包含各种 rpm 安装包文件及其依 赖软件的软件仓库（repository），提供软件仓库的服务器也称为“源”服务器。在客户机中只 要正确指定软件仓库的地址等信息，就可以通过对应的“源”服务器来安装或更新软件。
yum安装的底层原理： 之前有博客专门详细讲解了rpm、yum、编译安装：详解三大安装方式的原理和使用情况
yum需要依赖于环境，依赖于服务端和客户端，允许跨网络
服务器：
RPM包 （Packages文件夹中）
元数据（repodata文件夹：软件的依赖关系，软件的位置）
yum的好处： 与rpm相比，能解决依赖关系
二、学习yum的配置文件及命令 1、yum的配置文件 [root@localhost]# /etc/yum.conf [main] cachedir=/var/cache/yum/$basearch/$releasever //yum下载的RPM包的缓存目录 $basearch代表硬件架构 $releasever系统版本比如7 keepcache=0 //是否保存缓存 0代表不保存，1代表保存 debuglevel=2 //调试级别了解即可 logfile=/var/log/yum." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/44964eba8c98e206461d8e6acaf86815/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-11-18T23:57:41+08:00" />
<meta property="article:modified_time" content="2023-11-18T23:57:41+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【Linux网络】详解使用http和ftp搭建yum仓库，以及yum网络源优化</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="-toc" style="margin-left:0px;"></p> 
<p id="%E4%B8%80%E3%80%81%E5%9B%9E%E9%A1%BEyum%E7%9A%84%E5%8E%9F%E7%90%86-toc" style="margin-left:0px;"><a href="#%E4%B8%80%E3%80%81%E5%9B%9E%E9%A1%BEyum%E7%9A%84%E5%8E%9F%E7%90%86" rel="nofollow">一、回顾yum的原理</a></p> 
<p id="1.1yum%E7%AE%80%E4%BB%8B-toc" style="margin-left:40px;"><a href="#1.1yum%E7%AE%80%E4%BB%8B" rel="nofollow">1.1yum简介</a></p> 
<p id="yum%E5%AE%89%E8%A3%85%E7%9A%84%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%EF%BC%9A-toc" style="margin-left:40px;"><a href="#yum%E5%AE%89%E8%A3%85%E7%9A%84%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%EF%BC%9A" rel="nofollow">yum安装的底层原理：</a></p> 
<p id="yum%E7%9A%84%E5%A5%BD%E5%A4%84%EF%BC%9A-toc" style="margin-left:40px;"><a href="#yum%E7%9A%84%E5%A5%BD%E5%A4%84%EF%BC%9A" rel="nofollow">yum的好处：</a></p> 
<p id="%E4%BA%8C%E3%80%81%E5%AD%A6%E4%B9%A0yum%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E5%8F%8A%E5%91%BD%E4%BB%A4-toc" style="margin-left:0px;"><a href="#%E4%BA%8C%E3%80%81%E5%AD%A6%E4%B9%A0yum%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E5%8F%8A%E5%91%BD%E4%BB%A4" rel="nofollow">二、学习yum的配置文件及命令</a></p> 
<p id="1%E3%80%81yum%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6-toc" style="margin-left:40px;"><a href="#1%E3%80%81yum%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6" rel="nofollow">1、yum的配置文件</a></p> 
<p id="2%E3%80%81yum%E7%9A%84%E7%9B%B8%E5%85%B3%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3-toc" style="margin-left:40px;"><a href="#2%E3%80%81yum%E7%9A%84%E7%9B%B8%E5%85%B3%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3" rel="nofollow">2、yum的相关命令详解</a></p> 
<p id="3%E3%80%81yum%E7%9A%84%E5%91%BD%E4%BB%A4%E7%9B%B8%E5%85%B3%E6%A1%88%E4%BE%8B-toc" style="margin-left:40px;"><a href="#3%E3%80%81yum%E7%9A%84%E5%91%BD%E4%BB%A4%E7%9B%B8%E5%85%B3%E6%A1%88%E4%BE%8B" rel="nofollow">3、yum的命令相关案例</a></p> 
<p id="%E4%B8%89%E3%80%81%E6%90%AD%E5%BB%BAyum%E4%BB%93%E5%BA%93%E7%9A%84%E6%96%B9%E5%BC%8F-toc" style="margin-left:0px;"><a href="#%E4%B8%89%E3%80%81%E6%90%AD%E5%BB%BAyum%E4%BB%93%E5%BA%93%E7%9A%84%E6%96%B9%E5%BC%8F" rel="nofollow">三、搭建yum仓库的方式</a></p> 
<p id="1%E3%80%81%E6%9C%AC%E5%9C%B0yum%E4%BB%93%E5%BA%93%E5%BB%BA%E7%AB%8B-toc" style="margin-left:40px;"><a href="#1%E3%80%81%E6%9C%AC%E5%9C%B0yum%E4%BB%93%E5%BA%93%E5%BB%BA%E7%AB%8B" rel="nofollow">1、本地yum仓库建立</a></p> 
<p id="2%E3%80%81%E9%80%9A%E8%BF%87http%E6%90%AD%E5%BB%BA%E5%86%85%E7%BD%91%E7%9A%84yum%E4%BB%93%E5%BA%93-toc" style="margin-left:40px;"><a href="#2%E3%80%81%E9%80%9A%E8%BF%87http%E6%90%AD%E5%BB%BA%E5%86%85%E7%BD%91%E7%9A%84yum%E4%BB%93%E5%BA%93" rel="nofollow">2、通过http搭建内网的yum仓库</a></p> 
<p id="3%E3%80%81%E9%80%9A%E8%BF%87ftp%E6%90%AD%E5%BB%BA%E5%86%85%E7%BD%91%E7%9A%84yum%E4%BB%93%E5%BA%93-toc" style="margin-left:40px;"><a href="#3%E3%80%81%E9%80%9A%E8%BF%87ftp%E6%90%AD%E5%BB%BA%E5%86%85%E7%BD%91%E7%9A%84yum%E4%BB%93%E5%BA%93" rel="nofollow">3、通过ftp搭建内网的yum仓库</a></p> 
<p id="4%E3%80%81%E5%88%9B%E5%BB%BA%E6%9C%AC%E5%9C%B0%E7%9A%84%E5%9B%BD%E5%86%85%E7%9A%84%E7%BD%91%E7%BB%9C%E6%BA%90-toc" style="margin-left:40px;"><a href="#4%E3%80%81%E5%88%9B%E5%BB%BA%E6%9C%AC%E5%9C%B0%E7%9A%84%E5%9B%BD%E5%86%85%E7%9A%84%E7%BD%91%E7%BB%9C%E6%BA%90" rel="nofollow">4、创建本地的国内的网络源</a></p> 
<hr id="hr-toc"> 
<p></p> 
<h2 id="%E4%B8%80%E3%80%81%E5%9B%9E%E9%A1%BEyum%E7%9A%84%E5%8E%9F%E7%90%86">一、回顾yum的原理</h2> 
<h3 id="1.1yum%E7%AE%80%E4%BB%8B">1.1yum简介</h3> 
<p><span style="color:#fe2c24;"><strong>yum是一个基于RPM包（是Red-Hat Package Manager红帽软件包管理器的缩写）构建的软件更新机制，能够自动解决软件包之间的依赖关系。</strong></span>解决了日常工作中的大量查找安装依赖包的时间 为什么会有依赖关系的发生 因为linux本身就是以系统简洁为自身优势，所以在安装操作系统的时候并没有将所有的库文件以及编译软件包进行安装，所以在linux操作系统上进行软件安装的时候会出现软件包依赖的情况。yum由仓库和客户端组成，也就是整个yum由两部分组成，所以yum可以存放在两台服务器上。也可以存放在一台服务器上。可以有官方来提供服务，也可以由第三方来提供，比如国内的阿里云，搜狐云，还有一些非盈利组织比如学校等。官方的源一般在国外，下载速度肯定有限，手动更改成国内的云可以大幅提升下载速度。</p> 
<p>YUM 的前身是 YUP（Yellow dog Updater，Yellow dog Linux 的软件更新器），最初由 TSS 公司（Terra Soft Solutions，INC.）使用 Python 语言开发而成，后来由杜克大学（Duck University）的 Linux 开发队伍进行改进，命名为 YUM（Yellow dog Updater，Modified）。 要成功使用 YUM 机制来更新系统和软件，需要有一个包含各种 rpm 安装包文件及其依 赖软件的软件仓库（repository），提供软件仓库的服务器也称为“源”服务器。在客户机中只 要正确指定软件仓库的地址等信息，就可以通过对应的“源”服务器来安装或更新软件。</p> 
<h3 id="yum%E5%AE%89%E8%A3%85%E7%9A%84%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%EF%BC%9A">yum安装的底层原理：</h3> 
<p>之前有博客专门详细讲解了rpm、yum、编译安装：<a class="link-info" href="https://blog.csdn.net/liu_xueyin/article/details/134086995?spm=1001.2014.3001.5502" title="详解三大安装方式的原理和使用情况">详解三大安装方式的原理和使用情况</a></p> 
<p>yum需要依赖于环境，依赖于服务端和客户端，允许跨网络</p> 
<p>服务器：</p> 
<ul><li> <p>RPM包 （Packages文件夹中）</p> </li><li> <p>元数据（repodata文件夹：软件的依赖关系，软件的位置）</p> </li></ul> 
<h3 id="yum%E7%9A%84%E5%A5%BD%E5%A4%84%EF%BC%9A">yum的好处：</h3> 
<p>与rpm相比，能解决依赖关系</p> 
<h2 id="%E4%BA%8C%E3%80%81%E5%AD%A6%E4%B9%A0yum%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E5%8F%8A%E5%91%BD%E4%BB%A4">二、学习yum的配置文件及命令</h2> 
<h3 id="1%E3%80%81yum%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6">1、yum的配置文件</h3> 
<p><img alt="" height="693" src="https://images2.imgbox.com/e0/e8/RnwDngFQ_o.png" width="1200"></p> 
<pre><code>[root@localhost]# /etc/yum.conf
[main]
cachedir=/var/cache/yum/$basearch/$releasever //yum下载的RPM包的缓存目录 $basearch代表硬件架构 $releasever系统版本比如7
keepcache=0                                   //是否保存缓存  0代表不保存，1代表保存
debuglevel=2                                  //调试级别了解即可
logfile=/var/log/yum.log					 // 日志文件位置
exactarch=1								     //是否允许不同版本的rpm安装
obsoletes=1									//update 的一个参数是否可以允许旧版本的运行	
gpgcheck=1                                  //验证秘钥
plugins=1                                   //是否允许插件1代表可以
installonly_limit=5                         //保存几个内核 5代表5个
bugtracker_url=http://bugs.centos.org/set_project.php?project_id=23&amp;ref=http://bugs.centos.org/bug_report_page.php?category=yum
distroverpkg=centos-release

yum的repo配置文件中可用的变量：
$releasever: 当前OS的发行版的主版本号，如：8，7，6
$arch: CPU架构，如：aarch64, i586, i686，x86_64等
$basearch：系统基础平台；i386, x86_64
$contentdir：表示目录，比如：centos-8，centos-7
$YUM0-$YUM9:自定义变量</code></pre> 
<p></p> 
<p><span style="color:#fe2c24;"><strong>yum的日志存放位置/var/log/yum.log</strong></span></p> 
<p><img alt="" height="267" src="https://images2.imgbox.com/d5/db/5Ox6Yp6l_o.png" width="1200"></p> 
<h3 id="2%E3%80%81yum%E7%9A%84%E7%9B%B8%E5%85%B3%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3">2、yum的相关命令详解</h3> 
<table cellspacing="0"><tbody><tr><td style="background-color:#c00000;border-color:#000000;vertical-align:middle;width:125pt;"><span style="color:#ffffff;"><strong>yum命令学习</strong></span></td><td style="background-color:#c00000;border-color:#000000;vertical-align:middle;width:174pt;"><span style="color:#ffffff;"><strong>不加关键字</strong></span></td><td style="background-color:#c00000;border-color:#000000;vertical-align:middle;width:295pt;"><span style="color:#ffffff;"><strong>添加关键字或者包名，举例</strong></span></td></tr><tr><td style="border-color:#000000;vertical-align:middle;width:125pt;"><span style="color:#000000;">yum  list</span></td><td style="border-color:#000000;vertical-align:middle;width:174pt;"><span style="color:#000000;">查看有哪些</span></td><td style="border-color:#000000;vertical-align:middle;width:295pt;"><span style="color:#000000;">如yum list http 表示与其相关的包，可以跟包名，跟包组</span></td></tr><tr><td style="border-color:#000000;vertical-align:middle;width:125pt;"><span style="color:#000000;">yum info</span></td><td style="border-color:#000000;vertical-align:middle;width:174pt;"><span style="color:#000000;">显示所有可用包的信息</span></td><td style="border-color:#000000;vertical-align:middle;width:295pt;"><span style="color:#000000;">可以用通配符模糊匹配</span></td></tr><tr><td style="border-color:#000000;vertical-align:middle;width:125pt;"><span style="color:#000000;">yum search</span></td><td style="border-color:#000000;vertical-align:middle;width:174pt;"><span style="color:#000000;">不可以</span></td><td style="border-color:#000000;vertical-align:middle;width:295pt;"><span style="color:#000000;">模糊查找与这个相关的软件包</span></td></tr><tr><td style="border-color:#000000;vertical-align:middle;width:125pt;"><span style="color:#000000;">yum provides</span></td><td style="border-color:#000000;vertical-align:middle;width:174pt;"><span style="color:#000000;">不可以</span></td><td style="border-color:#000000;vertical-align:middle;width:295pt;"><span style="color:#000000;">精确查找这个包来源于哪个yum服务端</span></td></tr><tr><td style="border-color:#000000;vertical-align:middle;width:125pt;"><span style="color:#000000;">yum history</span></td><td style="border-color:#000000;vertical-align:middle;width:174pt;"><span style="color:#000000;">查看当前yum操作历史</span></td><td style="border-color:#000000;vertical-align:middle;width:295pt;"><span style="color:#000000;">/</span></td></tr><tr><td style="border-color:#000000;vertical-align:middle;width:125pt;"><span style="color:#000000;">yum history undo 数字</span></td><td style="border-color:#000000;vertical-align:middle;width:174pt;"><span style="color:#000000;">加入序号卸载序号里安装的软件（可以卸载干净）</span></td><td style="border-color:#000000;vertical-align:middle;width:295pt;"><span style="color:#000000;">/</span></td></tr><tr><td style="border-color:#000000;vertical-align:middle;width:125pt;"><span style="color:#000000;">yum history redo 数字</span></td><td style="border-color:#000000;vertical-align:middle;width:174pt;"><span style="color:#000000;">加入序号重新执行序号里的操作</span></td><td style="border-color:#000000;vertical-align:middle;width:295pt;"><span style="color:#000000;">/</span></td></tr><tr><td style="border-color:#000000;vertical-align:middle;width:125pt;"><span style="color:#000000;">yum remove  软件包</span></td><td colspan="2" style="text-align:center;vertical-align:middle;width:469pt;"><span style="color:#000000;">卸载不干净</span></td></tr><tr><td style="border-color:#000000;vertical-align:middle;width:125pt;">yum install -y --downloadonly --downloaddir=/opt bind</td><td colspan="2" style="text-align:center;vertical-align:middle;width:469pt;">只下载不安装，将bind以及相关的依赖关系都下载到/opt目录下</td></tr></tbody></table> 
<h3 id="3%E3%80%81yum%E7%9A%84%E5%91%BD%E4%BB%A4%E7%9B%B8%E5%85%B3%E6%A1%88%E4%BE%8B">3、yum的命令相关案例</h3> 
<p><strong>3.1yum list(支持通配符)</strong></p> 
<p><img alt="" height="679" src="https://images2.imgbox.com/b3/9b/OpRvgQTL_o.png" width="1200"></p> 
<p><strong>3.2yum info （支持通配符）</strong></p> 
<p><img alt="" height="1057" src="https://images2.imgbox.com/bb/5f/Da795Obd_o.png" width="1200"></p> 
<p><strong>3.3yum search 模糊查询软件包</strong></p> 
<p><img alt="" height="516" src="https://images2.imgbox.com/15/68/F7wwtZ70_o.png" width="1200"></p> 
<p><strong>3.4yum provides 软件包 精确查询哪些yum库可提供vsftpd的软件包</strong></p> 
<p><strong>如果精确查找匹配不到，可以添加通配符“*/软件名”</strong></p> 
<p><img alt="" height="982" src="https://images2.imgbox.com/2f/ac/3gwOt2Dh_o.png" width="1200"></p> 
<p><img alt="" height="628" src="https://images2.imgbox.com/cb/05/6q1h3RUw_o.png" width="891"></p> 
<p><strong>3.5 yum history的使用（undo 编号反悔，redo编号，再次执行）</strong></p> 
<p><img alt="" height="354" src="https://images2.imgbox.com/6e/15/wUPOSys3_o.png" width="1200"></p> 
<p>3.6 yum install -y --downloadonly --downloaddir=/opt bind（举例）</p> 
<p><img alt="" height="1075" src="https://images2.imgbox.com/53/4d/yt3k0qsm_o.png" width="1200"></p> 
<h2 id="%E4%B8%89%E3%80%81%E6%90%AD%E5%BB%BAyum%E4%BB%93%E5%BA%93%E7%9A%84%E6%96%B9%E5%BC%8F">三、搭建yum仓库的方式</h2> 
<p>软件仓库的提供方式</p> 
<p>FTP服务：ftp://ip地址/站点里路径</p> 
<p>HTTP服务：http://域名或者ip地址/站点里的路径</p> 
<p>本地目录：file://绝对路径 （file:///mnt 此处第三个/为根目录）</p> 
<h3 id="1%E3%80%81%E6%9C%AC%E5%9C%B0yum%E4%BB%93%E5%BA%93%E5%BB%BA%E7%AB%8B">1、本地yum仓库建立</h3> 
<p><a class="link-info" href="https://blog.csdn.net/liu_xueyin/article/details/134086995?spm=1001.2014.3001.5502" title="这里有详解操作，不演示了">这里有详解操作，不演示了</a></p> 
<h3 id="2%E3%80%81%E9%80%9A%E8%BF%87http%E6%90%AD%E5%BB%BA%E5%86%85%E7%BD%91%E7%9A%84yum%E4%BB%93%E5%BA%93">2、通过http搭建内网的yum仓库</h3> 
<p>第一步：关闭防火墙和安全机制，安装httpd服务</p> 
<p>第二步：挂载光盘镜像至httpd服务端（/var/www/html）并启动服务</p> 
<p><img alt="" height="444" src="https://images2.imgbox.com/45/32/POjLYkrs_o.png" width="1200"></p> 
<p><img alt="" height="39" src="https://images2.imgbox.com/f6/b6/T8zhV2MH_o.png" width="1200"></p> 
<p>第三步：备份网络yum源，手写http.repo配置文件</p> 
<pre><code>[root@localhost ~]#cd /etc/yum.repos.d/
[root@localhost yum.repos.d]#ls
CentOS-Base.repo  CentOS-CR.repo  CentOS-Debuginfo.repo  CentOS-fasttrack.repo  CentOS-Media.repo  CentOS-Sources.repo  CentOS-Vault.repo
[root@localhost yum.repos.d]#mkdir bak
[root@localhost yum.repos.d]#mv *.repo bak
[root@localhost yum.repos.d]#ls
bak
[root@localhost yum.repos.d]#vim http.repo
  1 [http]
  2 name=http
  3 baseurl=http://192.168.20.18/   ##指明httpd服务端的位置，也是yum服务端的位置，光盘镜像挂载点
  4 gpgcheck=0

[root@localhost yum.repos.d]#ls
bak  http.repo
[root@localhost yum.repos.d]#yum clean all &amp;&amp; yum makecache </code></pre> 
<p><img alt="" height="526" src="https://images2.imgbox.com/32/d2/1jAYYZYZ_o.png" width="1200"></p> 
<p><img alt="" height="190" src="https://images2.imgbox.com/36/06/okfd4zQK_o.png" width="1200"></p> 
<p>第四步：验证结果</p> 
<p><img alt="" height="735" src="https://images2.imgbox.com/24/fa/CJTMpIZ5_o.png" width="1200"></p> 
<h3 id="3%E3%80%81%E9%80%9A%E8%BF%87ftp%E6%90%AD%E5%BB%BA%E5%86%85%E7%BD%91%E7%9A%84yum%E4%BB%93%E5%BA%93">3、通过ftp搭建内网的yum仓库</h3> 
<p>第一步：关闭防火墙和安全机制，安装httpd服务</p> 
<p>第二步：挂载光盘镜像至FTP服务端（/var/ftp/自定义目录如centos7）</p> 
<p><img alt="" height="819" src="https://images2.imgbox.com/39/dd/Xi9RGJPS_o.png" width="1200"></p> 
<p>第三步：备份网络yum源，手写ftp.repo配置文件</p> 
<pre><code>

  1 [ftp]
  2 name=ftp
  3 baseurl=ftp://192.168.20.10/centos7
  4 gpgcheck=0</code></pre> 
<p><img alt="" height="598" src="https://images2.imgbox.com/95/d6/PkKQSTVd_o.png" width="1200"></p> 
<p><img alt="" height="195" src="https://images2.imgbox.com/8c/2e/Fk217ifX_o.png" width="1200"></p> 
<p>第四步：验证结果</p> 
<p><img alt="" height="912" src="https://images2.imgbox.com/c1/84/GZKDg7E6_o.png" width="1200"></p> 
<h3 id="4%E3%80%81%E5%88%9B%E5%BB%BA%E6%9C%AC%E5%9C%B0%E7%9A%84%E5%9B%BD%E5%86%85%E7%9A%84%E7%BD%91%E7%BB%9C%E6%BA%90">4、创建本地的国内的网络源</h3> 
<pre><code>[root@localhost yum.repos.d]#vim total.repo
[base]
name=base
baseurl=https://mirror.tuna.tsinghua.edu.cn/centos/7/os/x86_64/
		https://mirrors.aliyun.com/centos/7/os/x86_64/
		https://repo.huaweicloud.com/centos/7/os/x86_64/
		https://mirrors.cloud.tencent.com/centos/7/os/x86_64/
gpgcheck=0

[epel]
name=epel
baseurl=https://mirrors.tuna.tsinghua.edu.cn/epel/7/x86_64/
		https://mirrors.aliyun.com/epel/7/x86_64/
gpgcheck=0

[root@localhost yum.repos.d]#yum clean all &amp;&amp; yum makecache 
已加载插件：fastestmirror, langpacks
正在清理软件源： base epel
Cleaning up everything
Maybe you want: rm -rf /var/cache/yum, to also free up space taken by orphaned data from disabled or removed repos
Cleaning up list of fastest mirrors
已加载插件：fastestmirror, langpacks
base                                                                                          | 3.6 kB  00:00:00     
epel                                                                                          | 4.7 kB  00:00:00     
(1/10): epel/group_gz                                                                         |  99 kB  00:00:00     
(2/10): base/group_gz                                                                         | 153 kB  00:00:01     
(3/10): base/filelists_db                                                                     | 7.2 MB  00:00:04     
(4/10): base/primary_db                                                                       | 6.1 MB  00:00:04     
(5/10): epel/prestodelta                                                                      |  994 B  00:00:00     
(6/10): base/other_db                                                                         | 2.6 MB  00:00:09     
(7/10): epel/filelists_db                                                                     |  12 MB  00:00:12     
(8/10): epel/primary_db                                                                       | 7.0 MB  00:00:09     
(9/10): epel/other_db                                                                         | 3.4 MB  00:00:00     
(10/10): epel/updateinfo                                                                      | 1.0 MB  00:00:13     
Determining fastest mirrors
 * base: repo.huaweicloud.com
 * epel: mirrors.aliyun.com
元数据缓存已建立
[root@localhost yum.repos.d]#
</code></pre> 
<p><img alt="" height="250" src="https://images2.imgbox.com/f4/09/PsLNjKWV_o.png" width="1200"></p> 
<p><img alt="" height="520" src="https://images2.imgbox.com/8b/30/ocvfM4kU_o.png" width="1200"> <img alt="" height="1071" src="https://images2.imgbox.com/8a/fc/QNN82K40_o.png" width="1200"></p> 
<h2>四、总结</h2> 
<p>可以查看一些官方网址，也是提供了镜像的下载方式</p> 
<p> 如阿里镜像官网：<a href="https://developer.aliyun.com/mirror/" rel="nofollow" title="阿里巴巴开源镜像站-OPSX镜像站-阿里云开发者社区 (aliyun.com)">阿里巴巴开源镜像站-OPSX镜像站-阿里云开发者社区 (aliyun.com)</a></p> 
<p><img alt="" height="1024" src="https://images2.imgbox.com/aa/9e/nxqehN6w_o.png" width="1200"></p> 
<p><img alt="" height="1177" src="https://images2.imgbox.com/ff/ec/bEcinV9E_o.png" width="1200"></p> 
<p><img alt="" height="1117" src="https://images2.imgbox.com/7a/14/dFyQTJws_o.png" width="1200"> <img alt="" height="720" src="https://images2.imgbox.com/8e/d4/4a9uWMzc_o.png" width="1200"></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/1220718dc571189027cb4abbd14d44d2/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">李宏毅机器学习第十七周周报GAN</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/96e9b9cb1fa53fd73e37a5fd486b6196/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">（附源码）django学生就业管理系统 毕业设计24237</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>