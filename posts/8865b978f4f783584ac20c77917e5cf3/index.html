<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>PySide6 编写的仪表盘 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="PySide6 编写的仪表盘" />
<meta property="og:description" content="PySide6 编写的仪表盘 本代码原链接：https://www.cnblogs.com/wangmantou/p/11662779.html
1、使用了PySide6替换了PyQt5,
2、if i % self._scaleMainNum is 0: 替换成了 if i % self.scaleMainNum == 0:
3、app.exec() 替换成了 app.exec()
效果如下：
#!/usr/bin/env python # -*- coding: utf-8 -*- # Time : 2023/10/26 15:04 # Author : kevin # Software: PyCharm # File : GaugePanel.py # 本代码原链接：https://www.cnblogs.com/wangmantou/p/11662779.html # 差异：如下 # [使用了PySide6替换了PyQt5, # if i % self._scaleMainNum is 0: 替换成了 if i % self._scaleMainNum == 0: # app.exec_() 替换成了 app.exec()] from math import * import sys from PySide6." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/8865b978f4f783584ac20c77917e5cf3/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-10-26T15:39:22+08:00" />
<meta property="article:modified_time" content="2023-10-26T15:39:22+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">PySide6 编写的仪表盘</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="PySide6__0"></a>PySide6 编写的仪表盘</h2> 
<p>本代码原链接：https://www.cnblogs.com/wangmantou/p/11662779.html<br> 1、使用了PySide6替换了PyQt5,<br> 2、if i % self._scaleMainNum is 0: 替换成了 if i % self.<em>scaleMainNum == 0:<br> 3、app.exec</em>() 替换成了 app.exec()</p> 
<p><strong>效果如下：</strong><br> <img src="https://images2.imgbox.com/6a/cd/o8TpoDQv_o.gif" alt="请添加图片描述"></p> 
<pre><code class="prism language-python"><span class="token comment">#!/usr/bin/env python</span>
<span class="token comment"># -*- coding: utf-8 -*-</span>
<span class="token comment"># Time : 2023/10/26 15:04</span>
<span class="token comment"># Author : kevin</span>
<span class="token comment"># Software: PyCharm</span>
<span class="token comment"># File : GaugePanel.py</span>
<span class="token comment"># 本代码原链接：https://www.cnblogs.com/wangmantou/p/11662779.html</span>
<span class="token comment"># 差异：如下</span>
<span class="token comment"># [使用了PySide6替换了PyQt5,</span>
<span class="token comment">#  if i % self._scaleMainNum is 0: 替换成了 if i % self._scaleMainNum == 0:</span>
<span class="token comment">#  app.exec_()  替换成了   app.exec()]</span>

<span class="token keyword">from</span> math <span class="token keyword">import</span> <span class="token operator">*</span>
<span class="token keyword">import</span> sys
<span class="token keyword">from</span> PySide6<span class="token punctuation">.</span>QtGui <span class="token keyword">import</span> <span class="token operator">*</span>
<span class="token keyword">from</span> PySide6<span class="token punctuation">.</span>QtCore <span class="token keyword">import</span> <span class="token operator">*</span>
<span class="token keyword">from</span> PySide6<span class="token punctuation">.</span>QtWidgets <span class="token keyword">import</span> <span class="token operator">*</span>


<span class="token keyword">class</span> <span class="token class-name">GaugePanel</span><span class="token punctuation">(</span>QWidget<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">"GaugePanel"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setMinimumWidth<span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setMinimumHeight<span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>timer <span class="token operator">=</span> QTimer<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 窗口重绘定时器</span>
        self<span class="token punctuation">.</span>timer<span class="token punctuation">.</span>timeout<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>update<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>timer<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>testTimer <span class="token operator">=</span> QTimer<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>testTimer<span class="token punctuation">.</span>timeout<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>testTimer_timeout_handle<span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>lcdDisplay <span class="token operator">=</span> QLCDNumber<span class="token punctuation">(</span>self<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>lcdDisplay<span class="token punctuation">.</span>setDigitCount<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>lcdDisplay<span class="token punctuation">.</span>setMode<span class="token punctuation">(</span>QLCDNumber<span class="token punctuation">.</span>Dec<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>lcdDisplay<span class="token punctuation">.</span>setSegmentStyle<span class="token punctuation">(</span>QLCDNumber<span class="token punctuation">.</span>Flat<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>lcdDisplay<span class="token punctuation">.</span>setStyleSheet<span class="token punctuation">(</span><span class="token string">'border:2px solid green;color:green;background:silver'</span><span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>_startAngle <span class="token operator">=</span> <span class="token number">120</span>  <span class="token comment"># 以QPainter坐标方向为准,建议画个草图看看</span>
        self<span class="token punctuation">.</span>_endAngle <span class="token operator">=</span> <span class="token number">60</span>  <span class="token comment"># 以以QPainter坐标方向为准</span>
        self<span class="token punctuation">.</span>_scaleMainNum <span class="token operator">=</span> <span class="token number">10</span>  <span class="token comment"># 主刻度数</span>
        self<span class="token punctuation">.</span>_scaleSubNum <span class="token operator">=</span> <span class="token number">10</span>  <span class="token comment"># 主刻度被分割份数</span>
        self<span class="token punctuation">.</span>_minValue <span class="token operator">=</span> <span class="token number">0</span>
        self<span class="token punctuation">.</span>_maxValue <span class="token operator">=</span> <span class="token number">2000</span>
        self<span class="token punctuation">.</span>_title <span class="token operator">=</span> <span class="token string">'×100rpm'</span>
        self<span class="token punctuation">.</span>_value <span class="token operator">=</span> <span class="token number">0</span>
        self<span class="token punctuation">.</span>_minRadio <span class="token operator">=</span> <span class="token number">100</span>  <span class="token comment"># 缩小比例,用于计算刻度数字</span>
        self<span class="token punctuation">.</span>_decimals <span class="token operator">=</span> <span class="token number">0</span>  <span class="token comment"># 小数位数</span>

    <span class="token comment"># @pyqtSlot()</span>
    <span class="token keyword">def</span> <span class="token function">testTimer_timeout_handle</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>_value <span class="token operator">=</span> self<span class="token punctuation">.</span>_value <span class="token operator">+</span> <span class="token number">1</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>_value <span class="token operator">&gt;</span> self<span class="token punctuation">.</span>_maxValue<span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>_value <span class="token operator">=</span> self<span class="token punctuation">.</span>_minValue

    <span class="token keyword">def</span> <span class="token function">setTestTimer</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> flag<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> flag <span class="token keyword">is</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>testTimer<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>testTimer<span class="token punctuation">.</span>stop<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">setMinMaxValue</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> <span class="token builtin">min</span><span class="token punctuation">,</span> <span class="token builtin">max</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>_minValue <span class="token operator">=</span> <span class="token builtin">min</span>
        self<span class="token punctuation">.</span>_maxValue <span class="token operator">=</span> <span class="token builtin">max</span>

    <span class="token keyword">def</span> <span class="token function">setTitle</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> title<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>_title <span class="token operator">=</span> title

    <span class="token keyword">def</span> <span class="token function">setValue</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>_value <span class="token operator">=</span> value

    <span class="token keyword">def</span> <span class="token function">setMinRadio</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> minRadio<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>_minRadio <span class="token operator">=</span> minRadio

    <span class="token keyword">def</span> <span class="token function">setDecimals</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> decimals<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>_decimals <span class="token operator">=</span> decimals

    <span class="token keyword">def</span> <span class="token function">paintEvent</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> event<span class="token punctuation">)</span><span class="token punctuation">:</span>
        side <span class="token operator">=</span> <span class="token builtin">min</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>width<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>height<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

        painter <span class="token operator">=</span> QPainter<span class="token punctuation">(</span>self<span class="token punctuation">)</span>
        painter<span class="token punctuation">.</span>setRenderHint<span class="token punctuation">(</span>QPainter<span class="token punctuation">.</span>Antialiasing<span class="token punctuation">)</span>
        painter<span class="token punctuation">.</span>translate<span class="token punctuation">(</span>self<span class="token punctuation">.</span>width<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>height<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span>  <span class="token comment"># painter坐标系原点移至widget中央</span>
        painter<span class="token punctuation">.</span>scale<span class="token punctuation">(</span>side <span class="token operator">/</span> <span class="token number">200</span><span class="token punctuation">,</span> side <span class="token operator">/</span> <span class="token number">200</span><span class="token punctuation">)</span>  <span class="token comment"># 缩放painterwidget坐标系，使绘制的时钟位于widge中央,即钟表支持缩放</span>

        self<span class="token punctuation">.</span>drawPanel<span class="token punctuation">(</span>painter<span class="token punctuation">)</span>  <span class="token comment"># 画外框表盘</span>
        self<span class="token punctuation">.</span>drawScaleNum<span class="token punctuation">(</span>painter<span class="token punctuation">)</span>  <span class="token comment"># 画刻度数字</span>
        self<span class="token punctuation">.</span>drawScaleLine<span class="token punctuation">(</span>painter<span class="token punctuation">)</span>  <span class="token comment"># 画刻度线</span>
        self<span class="token punctuation">.</span>drawTitle<span class="token punctuation">(</span>painter<span class="token punctuation">)</span>  <span class="token comment"># 画标题备注</span>
        self<span class="token punctuation">.</span>drawValue<span class="token punctuation">(</span>painter<span class="token punctuation">)</span>  <span class="token comment"># 画数显</span>
        self<span class="token punctuation">.</span>drawIndicator<span class="token punctuation">(</span>painter<span class="token punctuation">)</span>  <span class="token comment"># 画指针</span>

    <span class="token keyword">def</span> <span class="token function">drawPanel</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">:</span>
        p<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token punctuation">)</span>
        radius <span class="token operator">=</span> <span class="token number">100</span>
        lg <span class="token operator">=</span> QLinearGradient<span class="token punctuation">(</span><span class="token operator">-</span>radius<span class="token punctuation">,</span> <span class="token operator">-</span>radius<span class="token punctuation">,</span> radius<span class="token punctuation">,</span> radius<span class="token punctuation">)</span>
        lg<span class="token punctuation">.</span>setColorAt<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> Qt<span class="token punctuation">.</span>white<span class="token punctuation">)</span>
        lg<span class="token punctuation">.</span>setColorAt<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> Qt<span class="token punctuation">.</span>black<span class="token punctuation">)</span>
        p<span class="token punctuation">.</span>setBrush<span class="token punctuation">(</span>lg<span class="token punctuation">)</span>
        p<span class="token punctuation">.</span>setPen<span class="token punctuation">(</span>Qt<span class="token punctuation">.</span>NoPen<span class="token punctuation">)</span>
        p<span class="token punctuation">.</span>drawEllipse<span class="token punctuation">(</span><span class="token operator">-</span>radius<span class="token punctuation">,</span> <span class="token operator">-</span>radius<span class="token punctuation">,</span> radius <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">,</span> radius <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span>

        p<span class="token punctuation">.</span>setBrush<span class="token punctuation">(</span>Qt<span class="token punctuation">.</span>black<span class="token punctuation">)</span>
        p<span class="token punctuation">.</span>drawEllipse<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">92</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">92</span><span class="token punctuation">,</span> <span class="token number">92</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">92</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span>
        p<span class="token punctuation">.</span>restore<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">drawScaleNum</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">:</span>
        p<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token punctuation">)</span>
        p<span class="token punctuation">.</span>setPen<span class="token punctuation">(</span>Qt<span class="token punctuation">.</span>white<span class="token punctuation">)</span>
        startRad <span class="token operator">=</span> self<span class="token punctuation">.</span>_startAngle <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">3.14</span> <span class="token operator">/</span> <span class="token number">180</span><span class="token punctuation">)</span>
        stepRad <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">360</span> <span class="token operator">-</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>_startAngle <span class="token operator">-</span> self<span class="token punctuation">.</span>_endAngle<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">3.14</span> <span class="token operator">/</span> <span class="token number">180</span><span class="token punctuation">)</span> <span class="token operator">/</span> self<span class="token punctuation">.</span>_scaleMainNum

        fm <span class="token operator">=</span> QFontMetricsF<span class="token punctuation">(</span>p<span class="token punctuation">.</span>font<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>_scaleMainNum <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            sina <span class="token operator">=</span> sin<span class="token punctuation">(</span>startRad <span class="token operator">+</span> i <span class="token operator">*</span> stepRad<span class="token punctuation">)</span>
            cosa <span class="token operator">=</span> cos<span class="token punctuation">(</span>startRad <span class="token operator">+</span> i <span class="token operator">*</span> stepRad<span class="token punctuation">)</span>

            tmpVal <span class="token operator">=</span> i <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>_maxValue <span class="token operator">-</span> self<span class="token punctuation">.</span>_minValue<span class="token punctuation">)</span> <span class="token operator">/</span> self<span class="token punctuation">.</span>_scaleMainNum<span class="token punctuation">)</span> <span class="token operator">+</span> self<span class="token punctuation">.</span>_minValue
            tmpVal <span class="token operator">=</span> tmpVal <span class="token operator">/</span> self<span class="token punctuation">.</span>_minRadio
            s <span class="token operator">=</span> <span class="token string">'{:.0f}'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>tmpVal<span class="token punctuation">)</span>
            w <span class="token operator">=</span> fm<span class="token punctuation">.</span>size<span class="token punctuation">(</span>Qt<span class="token punctuation">.</span>TextSingleLine<span class="token punctuation">,</span> s<span class="token punctuation">)</span><span class="token punctuation">.</span>width<span class="token punctuation">(</span><span class="token punctuation">)</span>
            h <span class="token operator">=</span> fm<span class="token punctuation">.</span>size<span class="token punctuation">(</span>Qt<span class="token punctuation">.</span>TextSingleLine<span class="token punctuation">,</span> s<span class="token punctuation">)</span><span class="token punctuation">.</span>height<span class="token punctuation">(</span><span class="token punctuation">)</span>
            x <span class="token operator">=</span> <span class="token number">80</span> <span class="token operator">*</span> cosa <span class="token operator">-</span> w <span class="token operator">/</span> <span class="token number">2</span>
            y <span class="token operator">=</span> <span class="token number">80</span> <span class="token operator">*</span> sina <span class="token operator">-</span> h <span class="token operator">/</span> <span class="token number">2</span>
            p<span class="token punctuation">.</span>drawText<span class="token punctuation">(</span>QRectF<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> w<span class="token punctuation">,</span> h<span class="token punctuation">)</span><span class="token punctuation">,</span> s<span class="token punctuation">)</span>

        p<span class="token punctuation">.</span>restore<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">drawScaleLine</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">:</span>
        p<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token punctuation">)</span>
        p<span class="token punctuation">.</span>rotate<span class="token punctuation">(</span>self<span class="token punctuation">.</span>_startAngle<span class="token punctuation">)</span>
        scaleNums <span class="token operator">=</span> self<span class="token punctuation">.</span>_scaleMainNum <span class="token operator">*</span> self<span class="token punctuation">.</span>_scaleSubNum
        angleStep <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">360</span> <span class="token operator">-</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>_startAngle <span class="token operator">-</span> self<span class="token punctuation">.</span>_endAngle<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">/</span> scaleNums
        p<span class="token punctuation">.</span>setPen<span class="token punctuation">(</span>Qt<span class="token punctuation">.</span>white<span class="token punctuation">)</span>

        pen <span class="token operator">=</span> QPen<span class="token punctuation">(</span>Qt<span class="token punctuation">.</span>white<span class="token punctuation">)</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> scaleNums <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> i <span class="token operator">&gt;=</span> <span class="token number">0.8</span> <span class="token operator">*</span> scaleNums<span class="token punctuation">:</span>
                pen<span class="token punctuation">.</span>setColor<span class="token punctuation">(</span>Qt<span class="token punctuation">.</span>red<span class="token punctuation">)</span>

            <span class="token keyword">if</span> i <span class="token operator">%</span> self<span class="token punctuation">.</span>_scaleMainNum <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
                pen<span class="token punctuation">.</span>setWidth<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
                p<span class="token punctuation">.</span>setPen<span class="token punctuation">(</span>pen<span class="token punctuation">)</span>
                p<span class="token punctuation">.</span>drawLine<span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">72</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                pen<span class="token punctuation">.</span>setWidth<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
                p<span class="token punctuation">.</span>setPen<span class="token punctuation">(</span>pen<span class="token punctuation">)</span>
                p<span class="token punctuation">.</span>drawLine<span class="token punctuation">(</span><span class="token number">67</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">72</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
            p<span class="token punctuation">.</span>rotate<span class="token punctuation">(</span>angleStep<span class="token punctuation">)</span>

        p<span class="token punctuation">.</span>restore<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">drawTitle</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">:</span>
        p<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token punctuation">)</span>
        p<span class="token punctuation">.</span>setPen<span class="token punctuation">(</span>Qt<span class="token punctuation">.</span>white<span class="token punctuation">)</span>
        fm <span class="token operator">=</span> QFontMetrics<span class="token punctuation">(</span>p<span class="token punctuation">.</span>font<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        w <span class="token operator">=</span> fm<span class="token punctuation">.</span>size<span class="token punctuation">(</span>Qt<span class="token punctuation">.</span>TextSingleLine<span class="token punctuation">,</span> self<span class="token punctuation">.</span>_title<span class="token punctuation">)</span><span class="token punctuation">.</span>width<span class="token punctuation">(</span><span class="token punctuation">)</span>
        p<span class="token punctuation">.</span>drawText<span class="token punctuation">(</span><span class="token operator">-</span>w <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">45</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>_title<span class="token punctuation">)</span>
        p<span class="token punctuation">.</span>restore<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">drawValue</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">:</span>
        side <span class="token operator">=</span> <span class="token builtin">min</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>width<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>height<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        w<span class="token punctuation">,</span> h <span class="token operator">=</span> side <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">*</span> <span class="token number">0.4</span><span class="token punctuation">,</span> side <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">*</span> <span class="token number">0.2</span>
        x<span class="token punctuation">,</span> y <span class="token operator">=</span> self<span class="token punctuation">.</span>width<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">-</span> w <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>height<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">+</span> side <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">*</span> <span class="token number">0.55</span>
        self<span class="token punctuation">.</span>lcdDisplay<span class="token punctuation">.</span>setGeometry<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> w<span class="token punctuation">,</span> h<span class="token punctuation">)</span>

        ss <span class="token operator">=</span> <span class="token string">'{:.'</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>_decimals<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'f}'</span>
        self<span class="token punctuation">.</span>lcdDisplay<span class="token punctuation">.</span>display<span class="token punctuation">(</span>ss<span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>_value<span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">drawIndicator</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">:</span>
        p<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token punctuation">)</span>
        polygon <span class="token operator">=</span> QPolygon<span class="token punctuation">(</span><span class="token punctuation">[</span>QPoint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> QPoint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> QPoint<span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        degRotate <span class="token operator">=</span> self<span class="token punctuation">.</span>_startAngle <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token number">360</span> <span class="token operator">-</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>_startAngle <span class="token operator">-</span> self<span class="token punctuation">.</span>_endAngle<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token punctuation">(</span>
                    self<span class="token punctuation">.</span>_maxValue <span class="token operator">-</span> self<span class="token punctuation">.</span>_minValue<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>_value <span class="token operator">-</span> self<span class="token punctuation">.</span>_minValue<span class="token punctuation">)</span>
        <span class="token comment"># 画指针</span>
        p<span class="token punctuation">.</span>rotate<span class="token punctuation">(</span>degRotate<span class="token punctuation">)</span>
        halogd <span class="token operator">=</span> QRadialGradient<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
        halogd<span class="token punctuation">.</span>setColorAt<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> QColor<span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        halogd<span class="token punctuation">.</span>setColorAt<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> QColor<span class="token punctuation">(</span><span class="token number">160</span><span class="token punctuation">,</span> <span class="token number">160</span><span class="token punctuation">,</span> <span class="token number">160</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        p<span class="token punctuation">.</span>setPen<span class="token punctuation">(</span>Qt<span class="token punctuation">.</span>white<span class="token punctuation">)</span>
        p<span class="token punctuation">.</span>setBrush<span class="token punctuation">(</span>halogd<span class="token punctuation">)</span>
        p<span class="token punctuation">.</span>drawConvexPolygon<span class="token punctuation">(</span>polygon<span class="token punctuation">)</span>
        p<span class="token punctuation">.</span>restore<span class="token punctuation">(</span><span class="token punctuation">)</span>

        <span class="token comment"># 画中心点</span>
        p<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token punctuation">)</span>
        radGradient <span class="token operator">=</span> QRadialGradient<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
        radGradient <span class="token operator">=</span> QConicalGradient<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">90</span><span class="token punctuation">)</span>
        radGradient<span class="token punctuation">.</span>setColorAt<span class="token punctuation">(</span><span class="token number">0.0</span><span class="token punctuation">,</span> Qt<span class="token punctuation">.</span>darkGray<span class="token punctuation">)</span>
        radGradient<span class="token punctuation">.</span>setColorAt<span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> Qt<span class="token punctuation">.</span>white<span class="token punctuation">)</span>
        radGradient<span class="token punctuation">.</span>setColorAt<span class="token punctuation">(</span><span class="token number">1.0</span><span class="token punctuation">,</span> Qt<span class="token punctuation">.</span>darkGray<span class="token punctuation">)</span>
        p<span class="token punctuation">.</span>setPen<span class="token punctuation">(</span>Qt<span class="token punctuation">.</span>NoPen<span class="token punctuation">)</span>
        p<span class="token punctuation">.</span>setBrush<span class="token punctuation">(</span>radGradient<span class="token punctuation">)</span>
        p<span class="token punctuation">.</span>drawEllipse<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
        p<span class="token punctuation">.</span>restore<span class="token punctuation">(</span><span class="token punctuation">)</span>


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>
    app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>
    gp <span class="token operator">=</span> GaugePanel<span class="token punctuation">(</span><span class="token punctuation">)</span>
    gp<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
    gp<span class="token punctuation">.</span>setTestTimer<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>
    app<span class="token punctuation">.</span><span class="token keyword">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/cc41df8edd0f64c8687feaf3f8d28867/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">算法复杂度</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/71f620d94dd7891ab86549132ed32994/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">mysql 多个字段拼接去重(GROUP_CONCAT)</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>