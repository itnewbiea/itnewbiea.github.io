<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>linux服务器显示硬盘lib,Linux服务器硬盘空间监控 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="linux服务器显示硬盘lib,Linux服务器硬盘空间监控" />
<meta property="og:description" content="#*************************************************************************
# Author : 清风
# CreateDate : 2015/6/12 15:30:13
# Description : this script is mointoring the linux disk capacity, if disk used more than 90%,then it will send a alarm msg
#*************************************************************************
#!/bin/bash
#echo需要-e参数
alias echo=&#39;echo -e&#39;
SHELL=/bin/bash
LC_ALL=zh_CN.GB18030
JAVA_JRE=/usr/jdk6/jre
NLS_LANG=AMERICAN_AMERICA.ZHS16GBK
LD_LIBRARY_PATH=/usr/lib64:/export/home/tmn/oracle/product/11.2.0/dbhome/lib32:/export/home/tmn/oracle/product/11.2.0/dbhome/lib:/usr/local/lib
PATH=.:/export/home/tmn/oracle/product/11.2.0/dbhome/bin:.:/export/home/tmn/oracle/product/11.2.0/dbhome/bin:/usr/kerberos/bin:/usr/local/bin:/bin:/usr/bin:/usr/jdk6/bin:/usr/jdk6/jre/bin:/sbin:/usr/bin:.:/export/home/tmn/bin:/usr/jdk6/bin:/usr/jdk6/jre/bin:/sbin:/usr/bin:.
JAVA_HOME=/usr/jdk6
ODBCSYSINI=/usr/local/unixODBC/etc
ODBCINI=/usr/local/unixODBC/etc/odbc.ini
ODBCHOME=/usr/local/unixODBC
CLASSPATH=/usr/jdk6/lib:/usr/jdk6/jre/lib:.
ORACLE_HOME=/export/home/tmn/oracle/product/11.2.0/dbhome
export SHELL NLS_LANG LC_ALL JAVA_JRE LD_LIBRARY_PATH PATH JAVA_HOME ODBCSYSINI
export ODBCSYSINI ODBCINI ODBCHOME CLASSPATH ORACLE_HOME
for d in `df -P | grep /dev/mapper/VolGroup00-LogVol00 | awk &#39;{print $5}&#39; | sed &#39;s/%//g&#39;`" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/73a4b92ab373842b6f77c0d6439231ae/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-08-13T04:23:55+08:00" />
<meta property="article:modified_time" content="2021-08-13T04:23:55+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">linux服务器显示硬盘lib,Linux服务器硬盘空间监控</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div style="font-size:16px;"> 
 <p>#*************************************************************************</p> 
 <p>#  Author       :               清风</p> 
 <p>#  CreateDate   :   2015/6/12 15:30:13</p> 
 <p>#  Description  :   this script is mointoring the linux disk capacity, if disk used more than 90%,then it will send a alarm msg</p> 
 <p>#*************************************************************************</p> 
 <p>#!/bin/bash</p> 
 <p>#echo需要-e参数</p> 
 <p>alias echo='echo -e'</p> 
 <p>SHELL=/bin/bash</p> 
 <p>LC_ALL=zh_CN.GB18030</p> 
 <p>JAVA_JRE=/usr/jdk6/jre</p> 
 <p>NLS_LANG=AMERICAN_AMERICA.ZHS16GBK</p> 
 <p>LD_LIBRARY_PATH=/usr/lib64:/export/home/tmn/oracle/product/11.2.0/dbhome/lib32:/export/home/tmn/oracle/product/11.2.0/dbhome/lib:/usr/local/lib</p> 
 <p>PATH=.:/export/home/tmn/oracle/product/11.2.0/dbhome/bin:.:/export/home/tmn/oracle/product/11.2.0/dbhome/bin:/usr/kerberos/bin:/usr/local/bin:/bin:/usr/bin:/usr/jdk6/bin:/usr/jdk6/jre/bin:/sbin:/usr/bin:.:/export/home/tmn/bin:/usr/jdk6/bin:/usr/jdk6/jre/bin:/sbin:/usr/bin:.</p> 
 <p>JAVA_HOME=/usr/jdk6</p> 
 <p>ODBCSYSINI=/usr/local/unixODBC/etc</p> 
 <p>ODBCINI=/usr/local/unixODBC/etc/odbc.ini</p> 
 <p>ODBCHOME=/usr/local/unixODBC</p> 
 <p>CLASSPATH=/usr/jdk6/lib:/usr/jdk6/jre/lib:.</p> 
 <p>ORACLE_HOME=/export/home/tmn/oracle/product/11.2.0/dbhome</p> 
 <p>export SHELL NLS_LANG LC_ALL JAVA_JRE LD_LIBRARY_PATH PATH JAVA_HOME ODBCSYSINI</p> 
 <p>export ODBCSYSINI ODBCINI ODBCHOME CLASSPATH ORACLE_HOME</p> 
 <p>for d in `df -P | grep /dev/mapper/VolGroup00-LogVol00 | awk '{print $5}' | sed 's/%//g'`</p> 
 <p>do</p> 
 <p>if [ $d -gt 90 ]; then</p> 
 <p>perl send_sms.pl 13500000000 监控通知:服务器[43]磁盘空间大于90%</p> 
 <p>exit 0;</p> 
 <p>fi</p> 
 <p>done</p> 
 <p>for d in `/usr/local/bin/sshpass -p '123456' ssh logonuser@192.168.1.39 df -P | grep /dev/mapper/VolGroup00-LogVol00 | awk '{print $5}' | sed 's/%//g'`</p> 
 <p>do</p> 
 <p>if [ $d -gt 90 ]; then</p> 
 <p>perl send_sms.pl 13500000000 监控通知:服务器[39]磁盘空间大于90%</p> 
 <p>exit 0;</p> 
 <p>fi</p> 
 <p>done</p> 
</div>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/6a1deef2583c26b554489944de89bd75/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">虚拟服务器系统一直重启,esxi主机经常故障自动重启</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/e5b1dfd45d4158e3ee54eee6f98ae984/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">ps4路由器虚拟服务器,在PC上使用PS4手柄图文教程（附模拟360手柄教程）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>