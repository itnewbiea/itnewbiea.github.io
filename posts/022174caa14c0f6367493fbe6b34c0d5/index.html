<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>MySQL5.7服务器 SQL 模式 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="MySQL5.7服务器 SQL 模式" />
<meta property="og:description" content="官网地址：MySQL :: MySQL 5.7 Reference Manual :: 5.1.10 Server SQL Modes
欢迎关注留言，我是收集整理小能手，工具翻译，仅供参考，笔芯笔芯.
MySQL 5.7 参考手册 / ... / 服务器 SQL 模式 5.1.10 服务器 SQL 模式 MySQL服务器可以在不同的SQL模式下运行，并且可以根据系统变量的值对不同的客户端应用不同的模式sql_mode。DBA 可以设置全局 SQL 模式来匹配站点服务器操作要求，每个应用程序可以根据自己的要求设置其会话 SQL 模式。
模式影响 MySQL 支持的 SQL 语法及其执行的数据验证检查。这使得在不同的环境中使用MySQL以及将MySQL与其他数据库服务器一起使用变得更加容易。
设置SQL模式
最重要的 SQL 模式
SQL 模式的完整列表
组合 SQL 模式
严格SQL模式
IGNORE 关键字与严格 SQL 模式的比较
MySQL 5.7 中的 SQL 模式更改
有关 MySQL 中服务器 SQL 模式的常见问题的解答，请参阅第 A.3 节“MySQL 5.7 常见问题解答：服务器 SQL 模式”。
使用InnoDB表时，还要考虑innodb_strict_mode系统变量。它可以对表进行额外的错误检查 InnoDB。
设置SQL模式 MySQL 5." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/022174caa14c0f6367493fbe6b34c0d5/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-01T14:32:53+08:00" />
<meta property="article:modified_time" content="2024-01-01T14:32:53+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">MySQL5.7服务器 SQL 模式</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>  官网地址：<a href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html" rel="nofollow" title="MySQL :: MySQL 5.7 Reference Manual :: 5.1.10 Server SQL Modes">MySQL :: MySQL 5.7 Reference Manual :: 5.1.10 Server SQL Modes</a></p> 
<p></p> 
<p>欢迎关注留言，我是收集整理小能手，工具翻译，仅供参考，笔芯笔芯.</p> 
<p></p> 
<div id="docs-breadcrumbs" style="margin-left:0;"> 
 <span style="background-color:#ffffff;"><span style="color:#555555;"><a href="https://dev.mysql.com/doc/refman/5.7/en/" rel="nofollow" title="MySQL 5.7 参考手册">MySQL 5.7 参考手册</a>  /  <a href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html" rel="nofollow" id="show-breadcrumbs" title="...">...</a>  /  服务器 SQL 模式</span></span> 
</div> 
<div id="docs-body" style="margin-left:0;"> 
 <div style="margin-left:0;"> 
  <div style="margin-left:0;"> 
   <div style="margin-left:0;"> 
    <div style="margin-left:0;"> 
     <h4 style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><span style="color:#555555;"><a name="sql-mode"></a>5.1.10 服务器 SQL 模式</span></span></span></h4> 
    </div> 
   </div> 
  </div> 
  <span style="background-color:#ffffff;"><span style="color:#555555;"><a class="indexterm" name="idm45254059666336"></a></span></span> 
  <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">MySQL服务器可以在不同的SQL模式下运行，并且可以根据系统变量的值对不同的客户端应用不同的模式<a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/server-system-variables.html#sysvar_sql_mode" rel="nofollow" title="sql_mode">sql_mode</a>。DBA 可以设置全局 SQL 模式来匹配站点服务器操作要求，每个应用程序可以根据自己的要求设置其会话 SQL 模式。</span></span></p> 
  <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">模式影响 MySQL 支持的 SQL 语法及其执行的数据验证检查。这使得在不同的环境中使用MySQL以及将MySQL与其他数据库服务器一起使用变得更加容易。</span></span></p> 
  <div style="margin-left:0;"> 
   <ul style="margin-left:30px;"><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><a class="xref" href="#sql-mode-setting" rel="nofollow">设置SQL模式</a></span></span></p> </li><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><a class="xref" href="#sql-mode-important" rel="nofollow">最重要的 SQL 模式</a></span></span></p> </li><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><a class="xref" href="#sql-mode-full" rel="nofollow">SQL 模式的完整列表</a></span></span></p> </li><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><a class="xref" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sql-mode-combo" rel="nofollow" title="组合 SQL 模式">组合 SQL 模式</a></span></span></p> </li><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><a class="xref" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sql-mode-strict" rel="nofollow" title="严格SQL模式">严格SQL模式</a></span></span></p> </li><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><a class="xref" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#ignore-strict-comparison" rel="nofollow" title="IGNORE 关键字与严格 SQL 模式的比较">IGNORE 关键字与严格 SQL 模式的比较</a></span></span></p> </li><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><a class="xref" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sql-mode-changes" rel="nofollow" title="MySQL 5.7 中的 SQL 模式更改">MySQL 5.7 中的 SQL 模式更改</a></span></span></p> </li></ul> 
  </div> 
  <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">有关 MySQL 中服务器 SQL 模式的常见问题的解答，请参阅<a class="xref" href="https://dev.mysql.com/doc/refman/5.7/en/faqs-sql-modes.html" rel="nofollow" title="第 A.3 节“MySQL 5.7 常见问题解答：服务器 SQL 模式”">第 A.3 节“MySQL 5.7 常见问题解答：服务器 SQL 模式”</a>。</span></span></p> 
  <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">使用<code>InnoDB</code>表时，还要考虑<a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/innodb-parameters.html#sysvar_innodb_strict_mode" rel="nofollow" title="innodb_strict_mode">innodb_strict_mode</a>系统变量。它可以对表进行额外的错误检查 <code>InnoDB</code>。</span></span></p> 
  <div style="margin-left:0;"> 
   <div style="margin-left:0;"> 
    <div style="margin-left:0;"> 
     <div style="margin-left:0;"> 
      <h5 style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><strong><span style="color:#555555;"><a name="sql-mode-setting"></a>设置SQL模式</span></strong></span></span></h5> 
     </div> 
    </div> 
   </div> 
   <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">MySQL 5.7 中默认的 SQL 模式包括以下模式：<a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_only_full_group_by" rel="nofollow" title="ONLY_FULL_GROUP_BY">ONLY_FULL_GROUP_BY</a>、 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_strict_trans_tables" rel="nofollow" title="STRICT_TRANS_TABLES">STRICT_TRANS_TABLES</a>、 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_zero_in_date" rel="nofollow" title="NO_ZERO_IN_DATE">NO_ZERO_IN_DATE</a>、 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_zero_date" rel="nofollow" title="NO_ZERO_DATE">NO_ZERO_DATE</a>、 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_error_for_division_by_zero" rel="nofollow" title="ERROR_FOR_DIVISION_BY_ZERO">ERROR_FOR_DIVISION_BY_ZERO</a>、 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_auto_create_user" rel="nofollow" title="NO_AUTO_CREATE_USER">NO_AUTO_CREATE_USER</a>和 <a class="link" href="#sqlmode_no_engine_substitution" rel="nofollow"><code>NO_ENGINE_SUBSTITUTION</code></a>。</span></span></p> 
   <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">这些模式被添加到 MySQL 5.7 中的默认 SQL 模式中： MySQL 5.7.5 中添加了<a class="link" href="#sqlmode_only_full_group_by" rel="nofollow"><code>ONLY_FULL_GROUP_BY</code></a>和 模式。<a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_strict_trans_tables" rel="nofollow" title="STRICT_TRANS_TABLES">STRICT_TRANS_TABLES</a>该 <a class="link" href="#sqlmode_no_auto_create_user" rel="nofollow"><code>NO_AUTO_CREATE_USER</code></a>模式是在 MySQL 5.7.7 中添加的。MySQL 5.7.8 中添加了<a class="link" href="#sqlmode_error_for_division_by_zero" rel="nofollow"><code>ERROR_FOR_DIVISION_BY_ZERO</code></a>、 <a class="link" href="#sqlmode_no_zero_date" rel="nofollow"><code>NO_ZERO_DATE</code></a>、 和 模式 。<a class="link" href="#sqlmode_no_zero_in_date" rel="nofollow"><code>NO_ZERO_IN_DATE</code></a>有关对默认 SQL 模式值的这些更改的更多讨论，请参阅 <a class="xref" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sql-mode-changes" rel="nofollow" title="MySQL 5.7 中的 SQL 模式更改">MySQL 5.7 中的 SQL 模式更改</a>。</span></span></p> 
   <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">要在服务器启动时设置 SQL 模式，请 在命令行或 选项文件（例如（Unix 操作系统）或(Windows)）中使用该选项。 是用逗号分隔的不同模式的列表。要显式清除 SQL 模式，请在命令行或选项文件中 使用将其设置为空字符串 。<a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/server-options.html#option_mysqld_sql-mode" rel="nofollow" title='--sql-mode="modes"'>--sql-mode="modes"</a><a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/server-options.html#option_mysqld_sql-mode" rel="nofollow" title='sql-mode="modes"'>sql-mode="modes"</a><code>my.cnf</code><code>my.ini</code><em><code>modes</code></em><a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/server-options.html#option_mysqld_sql-mode" rel="nofollow" title='--sql-mode=""'>--sql-mode=""</a><a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/server-options.html#option_mysqld_sql-mode" rel="nofollow" title='sql-mode=""'>sql-mode=""</a></span></span></p> 
   <div style="margin-left:0;"> 
    <div style="margin-left:0;"> 
     <span style="background-color:#ffffff;"><span style="color:#555555;"><span style="background-color:#eff6fe;"><strong>笔记</strong></span></span></span> 
    </div> 
    <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><span style="background-color:#eff6fe;">MySQL安装程序可能会在安装过程中配置SQL模式。如果 SQL 模式与默认值或您期望的不同，请检查服务器在启动时读取的选项文件中的设置。</span></span></span></p> 
   </div> 
   <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">要在运行时更改 SQL 模式，请使用以下语句设置全局或会话 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/server-system-variables.html#sysvar_sql_mode" rel="nofollow" title="sql_mode">sql_mode</a>系统变量<a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/set-variable.html" rel="nofollow" title="SET">SET</a> ：</span></span></p> 
   <div style="margin-left:0;"> 
    <pre class="has" style="margin-left:20px;text-align:left;"><code class="language-language-sql">SET GLOBAL sql_mode = 'modes';
SET SESSION sql_mode = 'modes';</code></pre> 
   </div> 
   <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">设置该<code>GLOBAL</code>变量需要 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/privileges-provided.html#priv_super" rel="nofollow" title="SUPER">SUPER</a>特权，并会影响从那时起连接的所有客户端的操作。设置<code>SESSION</code>变量仅影响当前客户端。每个客户端都可以 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/server-system-variables.html#sysvar_sql_mode" rel="nofollow" title="sql_mode">sql_mode</a>随时更改其会话值。</span></span></p> 
   <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">要确定当前的全局或会话 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/server-system-variables.html#sysvar_sql_mode" rel="nofollow" title="sql_mode">sql_mode</a>设置，请选择其值：</span></span></p> 
   <div style="margin-left:0;"> 
    <pre class="has" style="margin-left:20px;text-align:left;"><code class="language-language-sql">SELECT @@GLOBAL.sql_mode;
SELECT @@SESSION.sql_mode;</code></pre> 
   </div> 
   <div style="margin-left:0;"> 
    <div style="margin-left:0;"> 
     <span style="background-color:#ffffff;"><span style="color:#555555;"><span style="background-color:#eff6fe;"><strong>重要的</strong></span></span></span> 
    </div> 
    <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><span style="background-color:#eff6fe;"><strong>SQL模式和用户定义的分区。 </strong> 创建数据并将其插入分区表后更改服务器 SQL 模式可能会导致此类表的行为发生重大变化，并可能导致数据丢失或损坏。强烈建议您在创建使用用户定义分区的表后不要更改 SQL 模式。</span></span></span></p> 
    <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><span style="background-color:#eff6fe;">复制分区表时，源和副本上不同的 SQL 模式也可能导致问题。为了获得最佳结果，您应该始终在源和副本上使用相同的服务器 SQL 模式。</span></span></span></p> 
    <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><span style="background-color:#eff6fe;">有关更多信息，请参阅 <a class="xref" href="https://dev.mysql.com/doc/refman/5.7/en/partitioning-limitations.html" rel="nofollow" title="第 22.6 节“分区的约束和限制”">第 22.6 节“分区的约束和限制”</a>。</span></span></span></p> 
   </div> 
  </div> 
  <div style="margin-left:0;"> 
   <div style="margin-left:0;"> 
    <div style="margin-left:0;"> 
     <div style="margin-left:0;"> 
      <h5 style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><strong><span style="color:#555555;"><a name="sql-mode-important"></a>最重要的 SQL 模式</span></strong></span></span></h5> 
     </div> 
    </div> 
   </div> 
   <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">最重要的<a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/server-system-variables.html#sysvar_sql_mode" rel="nofollow" title="sql_mode">sql_mode</a> 值可能是这些：</span></span></p> 
   <div style="margin-left:0;"> 
    <ul style="margin-left:30px;"><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><a class="indexterm" name="idm45254059603520"></a><a class="indexterm" name="idm45254059602448"></a><a class="link" href="#sqlmode_ansi" rel="nofollow"><code>ANSI</code></a></span></span></p> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">此模式更改语法和行为以更符合标准 SQL。 它是本节末尾列出的 特殊<a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sql-mode-combo" rel="nofollow" title="组合模式">组合模式</a>之一 。</span></span></p> </li><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><a class="indexterm" name="idm45254059597568"></a><a class="indexterm" name="idm45254059596480"></a><a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_strict_trans_tables" rel="nofollow" title="STRICT_TRANS_TABLES">STRICT_TRANS_TABLES</a></span></span></p> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">如果无法按照给定值将值插入到事务表中，则中止该语句。对于非事务性表，如果该值出现在单行语句或多行语句的第一行中，则中止该语句。本节稍后将提供更多详细信息。</span></span></p> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">从 MySQL 5.7.5 开始，默认的 SQL 模式包括 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_strict_trans_tables" rel="nofollow" title="STRICT_TRANS_TABLES">STRICT_TRANS_TABLES</a>.</span></span></p> </li><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><a class="indexterm" name="idm45254059590432"></a><a class="indexterm" name="idm45254059589360"></a><a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_traditional" rel="nofollow" title="TRADITIONAL">TRADITIONAL</a></span></span></p> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">使 MySQL 表现得像一个“传统” SQL 数据库系统。这种模式的简单描述是 当向列中插入不正确的值时“给出错误而不是警告” 。它是本节末尾列出的 特殊<a class="link" href="#sql-mode-combo" rel="nofollow">组合模式</a>之一。</span></span></p> 
      <div style="margin-left:0;"> 
       <div style="margin-left:0;"> 
        <span style="background-color:#ffffff;"><span style="color:#555555;"><span style="background-color:#eff6fe;"><strong>笔记</strong></span></span></span> 
       </div> 
       <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><span style="background-color:#eff6fe;"><a class="link" href="#sqlmode_traditional" rel="nofollow"><code>TRADITIONAL</code></a>启用模式 后，一旦发生错误，<a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/insert.html" rel="nofollow" title="INSERT">INSERT</a>或 就会 中止。<a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/update.html" rel="nofollow" title="UPDATE">UPDATE</a>如果您使用的是非事务性存储引擎，这可能不是您想要的，因为错误之前所做的数据更改可能不会回滚，从而导致“部分完成”更新。</span></span></span></p> 
      </div> </li></ul> 
   </div> 
   <span style="background-color:#ffffff;"><span style="color:#555555;"><a class="indexterm" name="idm45254059578768"></a><a class="indexterm" name="idm45254059577696"></a></span></span> 
   <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">当本手册提到“严格模式”<a class="link" href="#sqlmode_strict_trans_tables" rel="nofollow"><code>STRICT_TRANS_TABLES</code></a>时，它是指启用其中一个或两个或 启用的模式 <a class="link" href="#sqlmode_strict_all_tables" rel="nofollow"><code>STRICT_ALL_TABLES</code></a>。</span></span></p> 
  </div> 
  <div style="margin-left:0;"> 
   <div style="margin-left:0;"> 
    <div style="margin-left:0;"> 
     <div style="margin-left:0;"> 
      <h5 style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><strong><span style="color:#555555;"><a name="sql-mode-full"></a>SQL 模式的完整列表</span></strong></span></span></h5> 
     </div> 
    </div> 
   </div> 
   <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">以下列表描述了所有支持的 SQL 模式：</span></span></p> 
   <div style="margin-left:0;"> 
    <ul style="margin-left:30px;"><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><a name="sqlmode_allow_invalid_dates"></a><a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_allow_invalid_dates" rel="nofollow" title="ALLOW_INVALID_DATES">ALLOW_INVALID_DATES</a></span></span></p> <span style="background-color:#ffffff;"><span style="color:#555555;"><a class="indexterm" name="idm45254059568384"></a><a class="indexterm" name="idm45254059567344"></a></span></span> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">不要对日期进行全面检查。仅检查月份是否在 1 到 12 的范围内以及日期是否在 1 到 31 的范围内。这对于在三个不同字段中获取年、月和日并准确存储用户信息的 Web 应用程序可能很有用插入，没有日期验证。该模式适用于 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/datetime.html" rel="nofollow" title="DATE">DATE</a>和 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/datetime.html" rel="nofollow" title="DATETIME">DATETIME</a>列。它不适用于<a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/datetime.html" rel="nofollow" title="TIMESTAMP">TIMESTAMP</a>始终需要有效日期的列。</span></span></p> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">禁用后<a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_allow_invalid_dates" rel="nofollow" title="ALLOW_INVALID_DATES">ALLOW_INVALID_DATES</a> ，服务器要求月份和日期值合法，而不仅仅是分别在 1 到 12 和 1 到 31 的范围内。禁用严格模式后，无效日期（例如）<code>'2004-04-31'</code>将被转换为 <code>'0000-00-00'</code>并生成警告。启用严格模式后，无效日期会生成错误。要允许此类日期，请启用 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_allow_invalid_dates" rel="nofollow" title="ALLOW_INVALID_DATES">ALLOW_INVALID_DATES</a>.</span></span></p> </li><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><a name="sqlmode_ansi_quotes"></a><a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_ansi_quotes" rel="nofollow" title="ANSI_QUOTES">ANSI_QUOTES</a></span></span></p> <span style="background-color:#ffffff;"><span style="color:#555555;"><a class="indexterm" name="idm45254059554176"></a><a class="indexterm" name="idm45254059553104"></a></span></span> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">将其<code>"</code>视为标识符引号字符（如<code>`</code>引号字符），而不是字符串引号字符。启用此模式后，您仍然可以使用 <code>`</code>引用标识符。启用后<a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_ansi_quotes" rel="nofollow" title="ANSI_QUOTES">ANSI_QUOTES</a> ，您不能使用双引号来引用文字字符串，因为它们被解释为标识符。</span></span></p> </li><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><a name="sqlmode_error_for_division_by_zero"></a><a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_error_for_division_by_zero" rel="nofollow" title="ERROR_FOR_DIVISION_BY_ZERO">ERROR_FOR_DIVISION_BY_ZERO</a></span></span></p> <span style="background-color:#ffffff;"><span style="color:#555555;"><a class="indexterm" name="idm45254059545104"></a><a class="indexterm" name="idm45254059544016"></a></span></span> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">该 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_error_for_division_by_zero" rel="nofollow" title="ERROR_FOR_DIVISION_BY_ZERO">ERROR_FOR_DIVISION_BY_ZERO</a> 模式影响除以零的处理，其中包括 . 对于数据更改操作（、 ），其效果还取决于是否启用严格 SQL 模式。 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/mathematical-functions.html#function_mod" rel="nofollow" title="MOD(N,0)">MOD(N,0)</a><a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/insert.html" rel="nofollow" title="INSERT">INSERT</a><a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/update.html" rel="nofollow" title="UPDATE">UPDATE</a></span></span></p> 
      <div style="margin-left:0;"> 
       <ul style="margin-left:30px;"><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">如果未启用此模式，则除以零会插入 <code>NULL</code>并且不会产生警告。</span></span></p> </li><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">如果启用此模式，则除以零会插入 <code>NULL</code>并产生警告。</span></span></p> </li><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">如果启用此模式和严格模式，除以零会产生错误，除非<code>IGNORE</code> 同时给出。对于<code>INSERT IGNORE</code> 和<code>UPDATE IGNORE</code>，除以零会插入<code>NULL</code>并产生警告。</span></span></p> </li></ul> 
      </div> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">对于<a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/select.html" rel="nofollow" title="SELECT">SELECT</a>，除以零返回<code>NULL</code>。<a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_error_for_division_by_zero" rel="nofollow" title="ERROR_FOR_DIVISION_BY_ZERO">ERROR_FOR_DIVISION_BY_ZERO</a> 无论是否启用严格模式， 启用 都会导致生成警告。</span></span></p> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_error_for_division_by_zero" rel="nofollow" title="ERROR_FOR_DIVISION_BY_ZERO">ERROR_FOR_DIVISION_BY_ZERO</a> 已弃用。 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_error_for_division_by_zero" rel="nofollow" title="ERROR_FOR_DIVISION_BY_ZERO">ERROR_FOR_DIVISION_BY_ZERO</a> 不是严格模式的一部分，但应与严格模式结合使用，并且默认启用。如果启用但未同时启用严格模式，则会出现警告 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_error_for_division_by_zero" rel="nofollow" title="ERROR_FOR_DIVISION_BY_ZERO">ERROR_FOR_DIVISION_BY_ZERO</a> ，反之亦然。有关更多讨论，请参阅 <a class="xref" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sql-mode-changes" rel="nofollow" title="MySQL 5.7 中的 SQL 模式更改">MySQL 5.7 中的 SQL 模式更改</a>。</span></span></p> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">因为 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_error_for_division_by_zero" rel="nofollow" title="ERROR_FOR_DIVISION_BY_ZERO">ERROR_FOR_DIVISION_BY_ZERO</a> 已被弃用；预计它会在 MySQL 的未来版本中作为单独的模式名称被删除，并且其效果包含在严格 SQL 模式的效果中。</span></span></p> </li><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><a name="sqlmode_high_not_precedence"></a><a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_high_not_precedence" rel="nofollow" title="HIGH_NOT_PRECEDENCE">HIGH_NOT_PRECEDENCE</a></span></span></p> <span style="background-color:#ffffff;"><span style="color:#555555;"><a class="indexterm" name="idm45254059515600"></a><a class="indexterm" name="idm45254059514560"></a></span></span> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">运算符的优先级<a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/logical-operators.html#operator_not" rel="nofollow" title="NOT">NOT</a> 使得诸如 之类的表达式<code>NOT a BETWEEN b AND c</code>被解析为<code>NOT (a BETWEEN b AND c)</code>。在某些旧版本的 MySQL 中，表达式被解析为<code>(NOT a) BETWEEN b AND c</code>. 旧的更高优先级行为可以通过启用 SQL 模式来获得 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_high_not_precedence" rel="nofollow" title="HIGH_NOT_PRECEDENCE">HIGH_NOT_PRECEDENCE</a>。</span></span></p> 
      <div style="margin-left:0;"> 
       <pre class="has" style="margin-left:20px;text-align:left;"><code class="language-language-sql">mysql&gt; SET sql_mode = '';
mysql&gt; SELECT NOT 1 BETWEEN -5 AND 5;
        -&gt; 0
mysql&gt; SET sql_mode = 'HIGH_NOT_PRECEDENCE';
mysql&gt; SELECT NOT 1 BETWEEN -5 AND 5;
        -&gt; 1</code></pre> 
      </div> </li><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><a name="sqlmode_ignore_space"></a><a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_ignore_space" rel="nofollow" title="IGNORE_SPACE">IGNORE_SPACE</a></span></span></p> <span style="background-color:#ffffff;"><span style="color:#555555;"><a class="indexterm" name="idm45254059501360"></a><a class="indexterm" name="idm45254059500288"></a></span></span> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">函数名称和 <code>(</code>字符之间允许有空格。这会导致内置函数名称被视为保留字。因此，与函数名称相同的标识符必须按照第<a class="xref" href="https://dev.mysql.com/doc/refman/5.7/en/identifiers.html" rel="nofollow" title="9.2 节“模式对象名称”">9.2 节“模式对象名称”</a>中所述加引号。例如，因为有一个 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/aggregate-functions.html#function_count" rel="nofollow" title="COUNT()">COUNT()</a>函数，所以在以下语句中使用 <code>count</code>作为表名会导致错误：</span></span></p> 
      <div style="margin-left:0;"> 
       <pre class="has" style="margin-left:20px;text-align:left;"><code class="language-language-sql">mysql&gt; CREATE TABLE count (i INT);
ERROR 1064 (42000): You have an error in your SQL syntax</code></pre> 
      </div> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">表名应该加引号：</span></span></p> 
      <div style="margin-left:0;"> 
       <pre class="has" style="margin-left:20px;text-align:left;"><code class="language-language-sql">mysql&gt; CREATE TABLE `count` (i INT);
Query OK, 0 rows affected (0.00 sec)</code></pre> 
      </div> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">SQL<a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_ignore_space" rel="nofollow" title="IGNORE_SPACE">IGNORE_SPACE</a>模式适用于内置函数，不适用于可加载函数或存储函数。<a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_ignore_space" rel="nofollow" title="IGNORE_SPACE">IGNORE_SPACE</a>无论是否启用 ，始终允许在可加载函数或存储函数名称后有空格 。</span></span></p> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">有关 的进一步讨论 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_ignore_space" rel="nofollow" title="IGNORE_SPACE">IGNORE_SPACE</a>，请参见 <a class="xref" href="https://dev.mysql.com/doc/refman/5.7/en/function-resolution.html" rel="nofollow" title="第 9.2.5 节“函数名称解析和解析”">第 9.2.5 节“函数名称解析和解析”</a>。</span></span></p> </li><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><a name="sqlmode_no_auto_create_user"></a><a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_auto_create_user" rel="nofollow" title="NO_AUTO_CREATE_USER">NO_AUTO_CREATE_USER</a></span></span></p> <span style="background-color:#ffffff;"><span style="color:#555555;"><a class="indexterm" name="idm45254059482864"></a><a class="indexterm" name="idm45254059481824"></a></span></span> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">除非指定了身份验证信息，否则阻止该<a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/grant.html" rel="nofollow" title="GRANT">GRANT</a>语句自动创建新用户帐户（否则会这样做）。该语句必须使用 指定非空密码<code>IDENTIFIED BY</code>或使用 的身份验证插件<code>IDENTIFIED WITH</code>。</span></span></p> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">最好使用 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/create-user.html" rel="nofollow" title="CREATE USER">CREATE USER</a>而不是 创建 MySQL 帐户<a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/grant.html" rel="nofollow" title="GRANT">GRANT</a>。 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_auto_create_user" rel="nofollow" title="NO_AUTO_CREATE_USER">NO_AUTO_CREATE_USER</a>已弃用，默认 SQL 模式包括 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_auto_create_user" rel="nofollow" title="NO_AUTO_CREATE_USER">NO_AUTO_CREATE_USER</a>. <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/server-system-variables.html#sysvar_sql_mode" rel="nofollow" title="sql_mode">sql_mode</a> 更改 模式状态的赋值<a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_auto_create_user" rel="nofollow" title="NO_AUTO_CREATE_USER">NO_AUTO_CREATE_USER</a>会产生警告，设置为 的赋值 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/server-system-variables.html#sysvar_sql_mode" rel="nofollow" title="sql_mode">sql_mode</a>除外 <code>DEFAULT</code>。预计 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_auto_create_user" rel="nofollow" title="NO_AUTO_CREATE_USER">NO_AUTO_CREATE_USER</a>将在 MySQL 的未来版本中删除，并且其效果将始终启用（并且 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/grant.html" rel="nofollow" title="GRANT">GRANT</a>不再创建帐户）。</span></span></p> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">以前，before <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_auto_create_user" rel="nofollow" title="NO_AUTO_CREATE_USER">NO_AUTO_CREATE_USER</a>已被弃用，不启用它的原因之一是它不是复制安全的。<code>CREATE USER IF NOT EXISTS</code>现在可以使用、<code>DROP USER IF EXISTS</code>和<code>ALTER USER IF EXISTS</code>而不是 来 启用它并执行复制安全的用户管理<code>GRANT</code>。当副本可能具有与源上的授权不同的授权时，这些语句可以实现安全复制。请参见<a class="xref" href="https://dev.mysql.com/doc/refman/5.7/en/create-user.html" rel="nofollow" title="第 13.7.1.2 节“CREATE USER 语句”">第 13.7.1.2 节“CREATE USER 语句”</a>、 <a class="xref" href="https://dev.mysql.com/doc/refman/5.7/en/drop-user.html" rel="nofollow" title="第 13.7.1.3 节“DROP USER 语句”">第 13.7.1.3 节“DROP USER 语句”</a>和 <a class="xref" href="https://dev.mysql.com/doc/refman/5.7/en/alter-user.html" rel="nofollow" title="第 13.7.1.1 节“ALTER USER 语句”">第 13.7.1.1 节“ALTER USER 语句”</a>。</span></span></p> </li><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><a name="sqlmode_no_auto_value_on_zero"></a><a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_auto_value_on_zero" rel="nofollow" title="NO_AUTO_VALUE_ON_ZERO">NO_AUTO_VALUE_ON_ZERO</a></span></span></p> <span style="background-color:#ffffff;"><span style="color:#555555;"><a class="indexterm" name="idm45254059454784"></a><a class="indexterm" name="idm45254059453744"></a></span></span> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_auto_value_on_zero" rel="nofollow" title="NO_AUTO_VALUE_ON_ZERO">NO_AUTO_VALUE_ON_ZERO</a> 影响<code>AUTO_INCREMENT</code> 列的处理。通常，您可以通过在其中 插入<code>NULL</code>或 来 生成该列的下一个序列号。 抑制此行为，以便仅生成下一个序列号。 <code>0</code><a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_auto_value_on_zero" rel="nofollow" title="NO_AUTO_VALUE_ON_ZERO">NO_AUTO_VALUE_ON_ZERO</a><code>0</code><code>NULL</code></span></span></p> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><code>0</code>如果已存储在表的列中 ，则此模式会很有用<code>AUTO_INCREMENT</code> 。（顺便说一句，存储<code>0</code>不是推荐的做法。）例如，如果使用<a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/mysqldump.html" rel="nofollow" title="mysqldump">mysqldump</a>转储表，然后重新加载它，MySQL 通常会在遇到这些<code>0</code>值时生成新的序列号，从而导致表的内容与之前的表不同那被抛弃了。<a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_auto_value_on_zero" rel="nofollow" title="NO_AUTO_VALUE_ON_ZERO">NO_AUTO_VALUE_ON_ZERO</a> 在重新加载转储文件之前启用 可以解决此问题。因此，<a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/mysqldump.html" rel="nofollow" title="mysqldump">mysqldump</a>自动在其输出中包含一条启用 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_auto_value_on_zero" rel="nofollow" title="NO_AUTO_VALUE_ON_ZERO">NO_AUTO_VALUE_ON_ZERO</a>.</span></span></p> </li><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><a name="sqlmode_no_backslash_escapes"></a><a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_backslash_escapes" rel="nofollow" title="NO_BACKSLASH_ESCAPES">NO_BACKSLASH_ESCAPES</a></span></span></p> <span style="background-color:#ffffff;"><span style="color:#555555;"><a class="indexterm" name="idm45254059434336"></a><a class="indexterm" name="idm45254059433296"></a></span></span> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">启用此模式将禁用反斜杠字符 ( <code>\</code>) 作为字符串和标识符中的转义字符。启用此模式后，反斜杠将成为像其他字符一样的普通字符，并且 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/string-comparison-functions.html#operator_like" rel="nofollow" title="LIKE">LIKE</a>表达式的默认转义序列将更改，以便不使用转义字符。</span></span></p> </li><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><a name="sqlmode_no_dir_in_create"></a><a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_dir_in_create" rel="nofollow" title="NO_DIR_IN_CREATE">NO_DIR_IN_CREATE</a></span></span></p> <span style="background-color:#ffffff;"><span style="color:#555555;"><a class="indexterm" name="idm45254059426496"></a><a class="indexterm" name="idm45254059425456"></a></span></span> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">创建表时，忽略 all<code>INDEX DIRECTORY</code>和<code>DATA DIRECTORY</code> 指令。此选项在副本复制服务器上很有用。</span></span></p> </li><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><a name="sqlmode_no_engine_substitution"></a><a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_engine_substitution" rel="nofollow" title="NO_ENGINE_SUBSTITUTION">NO_ENGINE_SUBSTITUTION</a></span></span></p> <span style="background-color:#ffffff;"><span style="color:#555555;"><a class="indexterm" name="idm45254059419536"></a><a class="indexterm" name="idm45254059418496"></a></span></span> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">当诸如<a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/create-table.html" rel="nofollow" title="CREATE TABLE">CREATE TABLE</a>或 之类的语句<a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/alter-table.html" rel="nofollow" title="ALTER TABLE">ALTER TABLE</a>指定禁用或未编译的存储引擎时，控制默认存储引擎的自动替换。</span></span></p> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">默认情况下， <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_engine_substitution" rel="nofollow" title="NO_ENGINE_SUBSTITUTION">NO_ENGINE_SUBSTITUTION</a>已启用。</span></span></p> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">由于存储引擎可以在运行时插入，因此不可用的引擎将以相同的方式处理：</span></span></p> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">禁用后 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_engine_substitution" rel="nofollow" title="NO_ENGINE_SUBSTITUTION">NO_ENGINE_SUBSTITUTION</a> ，将<a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/create-table.html" rel="nofollow" title="CREATE TABLE">CREATE TABLE</a> 使用默认引擎，如果所需的引擎不可用，则会出现警告。对于 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/alter-table.html" rel="nofollow" title="ALTER TABLE">ALTER TABLE</a>，会出现警告并且表不会更改。</span></span></p> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">启用后 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_engine_substitution" rel="nofollow" title="NO_ENGINE_SUBSTITUTION">NO_ENGINE_SUBSTITUTION</a> ，如果所需的引擎不可用，则会发生错误，并且不会创建或更改表。</span></span></p> </li><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><a name="sqlmode_no_field_options"></a><a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_field_options" rel="nofollow" title="NO_FIELD_OPTIONS">NO_FIELD_OPTIONS</a></span></span></p> <span style="background-color:#ffffff;"><span style="color:#555555;"><a class="indexterm" name="idm45254059403040"></a><a class="indexterm" name="idm45254059402000"></a></span></span> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">不要在 的输出中打印 MySQL 特定的列选项 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/show-create-table.html" rel="nofollow" title="SHOW CREATE TABLE">SHOW CREATE TABLE</a>。<a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/mysqldump.html" rel="nofollow" title="该模式由mysqldump">该模式由mysqldump</a>在可移植模式下使用。</span></span></p> 
      <div style="margin-left:0;"> 
       <div style="margin-left:0;"> 
        <span style="background-color:#ffffff;"><span style="color:#555555;"><span style="background-color:#eff6fe;"><strong>笔记</strong></span></span></span> 
       </div> 
       <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><span style="background-color:#eff6fe;">从 MySQL 5.7.22 开始， <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_field_options" rel="nofollow" title="NO_FIELD_OPTIONS">NO_FIELD_OPTIONS</a>已弃用。它在 MySQL 8.0 中被删除。</span></span></span></p> 
      </div> </li><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><a name="sqlmode_no_key_options"></a><a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_key_options" rel="nofollow" title="NO_KEY_OPTIONS">NO_KEY_OPTIONS</a></span></span></p> <span style="background-color:#ffffff;"><span style="color:#555555;"><a class="indexterm" name="idm45254059393056"></a><a class="indexterm" name="idm45254059391984"></a></span></span> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">不要在 的输出中打印 MySQL 特定的索引选项 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/show-create-table.html" rel="nofollow" title="SHOW CREATE TABLE">SHOW CREATE TABLE</a>。<a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/mysqldump.html" rel="nofollow" title="该模式由mysqldump">该模式由mysqldump</a>在可移植模式下使用。</span></span></p> 
      <div style="margin-left:0;"> 
       <div style="margin-left:0;"> 
        <span style="background-color:#ffffff;"><span style="color:#555555;"><span style="background-color:#eff6fe;"><strong>笔记</strong></span></span></span> 
       </div> 
       <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><span style="background-color:#eff6fe;">从 MySQL 5.7.22 开始， <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_key_options" rel="nofollow" title="NO_KEY_OPTIONS">NO_KEY_OPTIONS</a>已弃用。它在 MySQL 8.0 中被删除。</span></span></span></p> 
      </div> </li><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><a name="sqlmode_no_table_options"></a><a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_table_options" rel="nofollow" title="NO_TABLE_OPTIONS">NO_TABLE_OPTIONS</a></span></span></p> <span style="background-color:#ffffff;"><span style="color:#555555;"><a class="indexterm" name="idm45254059382896"></a><a class="indexterm" name="idm45254059381856"></a></span></span> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><code>ENGINE</code>不要在 的输出中 打印 MySQL 特定的表选项（例如 ） <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/show-create-table.html" rel="nofollow" title="SHOW CREATE TABLE">SHOW CREATE TABLE</a>。<a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/mysqldump.html" rel="nofollow" title="该模式由mysqldump">该模式由mysqldump</a>在可移植模式下使用。</span></span></p> 
      <div style="margin-left:0;"> 
       <div style="margin-left:0;"> 
        <span style="background-color:#ffffff;"><span style="color:#555555;"><span style="background-color:#eff6fe;"><strong>笔记</strong></span></span></span> 
       </div> 
       <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><span style="background-color:#eff6fe;">从 MySQL 5.7.22 开始， <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_table_options" rel="nofollow" title="NO_TABLE_OPTIONS">NO_TABLE_OPTIONS</a>已弃用。它在 MySQL 8.0 中被删除。</span></span></span></p> 
      </div> </li><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><a name="sqlmode_no_unsigned_subtraction"></a><a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_unsigned_subtraction" rel="nofollow" title="NO_UNSIGNED_SUBTRACTION">NO_UNSIGNED_SUBTRACTION</a></span></span></p> <span style="background-color:#ffffff;"><span style="color:#555555;"><a class="indexterm" name="idm45254059371936"></a><a class="indexterm" name="idm45254059370896"></a></span></span> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">默认情况下，整数值之间的减法（其中 1 的类型为 <code>UNSIGNED</code>）会产生无符号结果。如果结果为负，则会出现错误：</span></span></p> 
      <div style="margin-left:0;"> 
       <pre class="has" style="margin-left:20px;text-align:left;"><code class="language-language-sql">mysql&gt; SET sql_mode = '';
Query OK, 0 rows affected (0.00 sec)

mysql&gt; SELECT CAST(0 AS UNSIGNED) - 1;
ERROR 1690 (22003): BIGINT UNSIGNED value is out of range in '(cast(0 as unsigned) - 1)'</code></pre> 
      </div> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">如果 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_unsigned_subtraction" rel="nofollow" title="NO_UNSIGNED_SUBTRACTION">NO_UNSIGNED_SUBTRACTION</a> 启用 SQL 模式，则结果为负：</span></span></p> 
      <div style="margin-left:0;"> 
       <pre class="has" style="margin-left:20px;text-align:left;"><code class="language-language-sql">mysql&gt; SET sql_mode = 'NO_UNSIGNED_SUBTRACTION';
mysql&gt; SELECT CAST(0 AS UNSIGNED) - 1;
+-------------------------+
| CAST(0 AS UNSIGNED) - 1 |
+-------------------------+
|                      -1 |
+-------------------------+</code></pre> 
      </div> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">如果此类操作的结果用于更新 <code>UNSIGNED</code>整数列，则结果将被截断为该列类型的最大值，或者如果 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_unsigned_subtraction" rel="nofollow" title="NO_UNSIGNED_SUBTRACTION">NO_UNSIGNED_SUBTRACTION</a>启用，则被截断为 0。启用严格 SQL 模式后，会发生错误并且列保持不变。</span></span></p> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">当 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_unsigned_subtraction" rel="nofollow" title="NO_UNSIGNED_SUBTRACTION">NO_UNSIGNED_SUBTRACTION</a>启用时，减法结果是有符号的，<em>即使任何操作数是 unsigned</em>。<code>c2</code>例如，比较table 中的 列类型与table 中的<code>t1</code>列类型 ： <code>c2</code><code>t2</code></span></span></p> 
      <div style="margin-left:0;"> 
       <pre class="has" style="margin-left:20px;text-align:left;"><code class="language-language-sql">mysql&gt; SET sql_mode='';
mysql&gt; CREATE TABLE test (c1 BIGINT UNSIGNED NOT NULL);
mysql&gt; CREATE TABLE t1 SELECT c1 - 1 AS c2 FROM test;
mysql&gt; DESCRIBE t1;
+-------+---------------------+------+-----+---------+-------+
| Field | Type                | Null | Key | Default | Extra |
+-------+---------------------+------+-----+---------+-------+
| c2    | bigint(21) unsigned | NO   |     | 0       |       |
+-------+---------------------+------+-----+---------+-------+

mysql&gt; SET sql_mode='NO_UNSIGNED_SUBTRACTION';
mysql&gt; CREATE TABLE t2 SELECT c1 - 1 AS c2 FROM test;
mysql&gt; DESCRIBE t2;
+-------+------------+------+-----+---------+-------+
| Field | Type       | Null | Key | Default | Extra |
+-------+------------+------+-----+---------+-------+
| c2    | bigint(21) | NO   |     | 0       |       |
+-------+------------+------+-----+---------+-------+</code></pre> 
      </div> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">这意味着它<code>BIGINT UNSIGNED</code>并非在所有情况下 100% 可用。请参见 <a class="xref" href="https://dev.mysql.com/doc/refman/5.7/en/cast-functions.html" rel="nofollow" title="第 12.10 节“强制转换函数和运算符”">第 12.10 节“强制转换函数和运算符”</a>。</span></span></p> </li><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><a name="sqlmode_no_zero_date"></a><a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_zero_date" rel="nofollow" title="NO_ZERO_DATE">NO_ZERO_DATE</a></span></span></p> <span style="background-color:#ffffff;"><span style="color:#555555;"><a class="indexterm" name="idm45254059341872"></a><a class="indexterm" name="idm45254059340800"></a></span></span> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">该<a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_zero_date" rel="nofollow" title="NO_ZERO_DATE">NO_ZERO_DATE</a>模式影响服务器是否允许 <code>'0000-00-00'</code>作为有效日期。其效果还取决于是否启用严格SQL模式。</span></span></p> 
      <div style="margin-left:0;"> 
       <ul style="margin-left:30px;"><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">如果未启用此模式， <code>'0000-00-00'</code>则允许并且插入不会产生警告。</span></span></p> </li><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">如果启用此模式，<code>'0000-00-00'</code> 则允许并且插入会产生警告。</span></span></p> </li><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">如果启用此模式和严格模式， <code>'0000-00-00'</code>则不允许并且插入会产生错误，除非 <code>IGNORE</code>同时给出。对于 <code>INSERT IGNORE</code>和<code>UPDATE IGNORE</code>,<code>'0000-00-00'</code>是允许的并且插入会产生警告。</span></span></p> </li></ul> 
      </div> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_zero_date" rel="nofollow" title="NO_ZERO_DATE">NO_ZERO_DATE</a>已弃用。<a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_zero_date" rel="nofollow" title="NO_ZERO_DATE">NO_ZERO_DATE</a> 不是严格模式的一部分，但应与严格模式结合使用，并且默认启用。如果启用但未同时启用严格模式，则会出现警告 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_zero_date" rel="nofollow" title="NO_ZERO_DATE">NO_ZERO_DATE</a>，反之亦然。有关更多讨论，请参阅 <a class="xref" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sql-mode-changes" rel="nofollow" title="MySQL 5.7 中的 SQL 模式更改">MySQL 5.7 中的 SQL 模式更改</a>。</span></span></p> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">因为<a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_zero_date" rel="nofollow" title="NO_ZERO_DATE">NO_ZERO_DATE</a>已被弃用；预计它会在 MySQL 的未来版本中作为单独的模式名称被删除，并且其效果包含在严格 SQL 模式的效果中。</span></span></p> </li><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><a name="sqlmode_no_zero_in_date"></a><a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_zero_in_date" rel="nofollow" title="NO_ZERO_IN_DATE">NO_ZERO_IN_DATE</a></span></span></p> <span style="background-color:#ffffff;"><span style="color:#555555;"><a class="indexterm" name="idm45254059319328"></a><a class="indexterm" name="idm45254059318240"></a></span></span> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">该<a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_zero_in_date" rel="nofollow" title="NO_ZERO_IN_DATE">NO_ZERO_IN_DATE</a>模式影响服务器是否允许年部分非零但月或日部分为 0 的日期。（此模式影响 或 等日期<code>'2010-00-01'</code>， <code>'2010-01-00'</code>但不影响 <code>'0000-00-00'</code>。要控制服务器是否允许<code>'0000-00-00'</code>，请使用该 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_zero_date" rel="nofollow" title="NO_ZERO_DATE">NO_ZERO_DATE</a>模式。）还<a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_zero_in_date" rel="nofollow" title="NO_ZERO_IN_DATE">NO_ZERO_IN_DATE</a> 取决于是否启用严格 SQL 模式。</span></span></p> 
      <div style="margin-left:0;"> 
       <ul style="margin-left:30px;"><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">如果未启用此模式，则允许包含零部分的日期并且插入不会产生警告。</span></span></p> </li><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">如果启用此模式，则插入零部分的日期<code>'0000-00-00'</code>并产生警告。</span></span></p> </li><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">如果启用此模式和严格模式，则不允许包含零部分的日期，并且插入会产生错误，除非<code>IGNORE</code>同时给出。对于<code>INSERT IGNORE</code>和 <code>UPDATE IGNORE</code>，带有零部分的日期将被插入<code>'0000-00-00'</code>并产生警告。</span></span></p> </li></ul> 
      </div> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_zero_in_date" rel="nofollow" title="NO_ZERO_IN_DATE">NO_ZERO_IN_DATE</a>已弃用。 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_zero_in_date" rel="nofollow" title="NO_ZERO_IN_DATE">NO_ZERO_IN_DATE</a>不是严格模式的一部分，但应与严格模式结合使用，并且默认启用。如果启用但未同时启用严格模式，则会出现警告 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_zero_in_date" rel="nofollow" title="NO_ZERO_IN_DATE">NO_ZERO_IN_DATE</a>，反之亦然。有关更多讨论，请参阅 <a class="xref" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sql-mode-changes" rel="nofollow" title="MySQL 5.7 中的 SQL 模式更改">MySQL 5.7 中的 SQL 模式更改</a>。</span></span></p> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">因为<a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_zero_in_date" rel="nofollow" title="NO_ZERO_IN_DATE">NO_ZERO_IN_DATE</a>已被弃用；预计它会在 MySQL 的未来版本中作为单独的模式名称被删除，并且其效果包含在严格 SQL 模式的效果中。</span></span></p> </li><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><a name="sqlmode_only_full_group_by"></a><a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_only_full_group_by" rel="nofollow" title="ONLY_FULL_GROUP_BY">ONLY_FULL_GROUP_BY</a></span></span></p> <span style="background-color:#ffffff;"><span style="color:#555555;"><a class="indexterm" name="idm45254059293232"></a><a class="indexterm" name="idm45254059292192"></a><a class="indexterm" name="idm45254059290704"></a></span></span> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">拒绝选择列表、 <code>HAVING</code>条件或<code>ORDER BY</code>列表引用既未在<code>GROUP BY</code>子句中命名也不在功能上依赖于列（由列唯一确定）的非 聚合<code>GROUP BY</code>列的查询。</span></span></p> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">从 MySQL 5.7.5 开始，默认的 SQL 模式包括 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_only_full_group_by" rel="nofollow" title="ONLY_FULL_GROUP_BY">ONLY_FULL_GROUP_BY</a>. （5.7.5之前，MySQL不检测函数依赖，<a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_only_full_group_by" rel="nofollow" title="ONLY_FULL_GROUP_BY">ONLY_FULL_GROUP_BY</a>默认不启用。）</span></span></p> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">MySQL 对标准 SQL 的扩展允许在 <code>HAVING</code>子句中引用选择列表中的别名表达式。在 MySQL 5.7.5 之前，启用会 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_only_full_group_by" rel="nofollow" title="ONLY_FULL_GROUP_BY">ONLY_FULL_GROUP_BY</a> 禁用此扩展，因此要求 <code>HAVING</code>使用非别名表达式编写该子句。从 MySQL 5.7.5 开始，此限制被取消，以便<code>HAVING</code>无论是否 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_only_full_group_by" rel="nofollow" title="ONLY_FULL_GROUP_BY">ONLY_FULL_GROUP_BY</a>启用该子句都可以引用别名。</span></span></p> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">有关其他讨论和示例，请参阅 <a class="xref" href="https://dev.mysql.com/doc/refman/5.7/en/group-by-handling.html" rel="nofollow" title="第 12.19.3 节，“MySQL 处理 GROUP BY”">第 12.19.3 节，“MySQL 处理 GROUP BY”</a>。</span></span></p> </li><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><a name="sqlmode_pad_char_to_full_length"></a><a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_pad_char_to_full_length" rel="nofollow" title="PAD_CHAR_TO_FULL_LENGTH">PAD_CHAR_TO_FULL_LENGTH</a></span></span></p> <span style="background-color:#ffffff;"><span style="color:#555555;"><a class="indexterm" name="idm45254059273696"></a><a class="indexterm" name="idm45254059272656"></a></span></span> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/char.html" rel="nofollow" title="CHAR">CHAR</a>默认情况下，检索时会从列值中 删除尾随空格 。如果 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_pad_char_to_full_length" rel="nofollow" title="PAD_CHAR_TO_FULL_LENGTH">PAD_CHAR_TO_FULL_LENGTH</a>启用，则不会进行修剪，并且检索到的 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/char.html" rel="nofollow" title="CHAR">CHAR</a>值将填充到其完整长度。此模式不适用于 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/char.html" rel="nofollow" title="VARCHAR">VARCHAR</a>在检索时保留尾随空格的列。</span></span></p> 
      <div style="margin-left:0;"> 
       <pre class="has" style="margin-left:20px;text-align:left;"><code class="language-language-sql">mysql&gt; CREATE TABLE t1 (c1 CHAR(10));
Query OK, 0 rows affected (0.37 sec)

mysql&gt; INSERT INTO t1 (c1) VALUES('xy');
Query OK, 1 row affected (0.01 sec)

mysql&gt; SET sql_mode = '';
Query OK, 0 rows affected (0.00 sec)

mysql&gt; SELECT c1, CHAR_LENGTH(c1) FROM t1;
+------+-----------------+
| c1   | CHAR_LENGTH(c1) |
+------+-----------------+
| xy   |               2 |
+------+-----------------+
1 row in set (0.00 sec)

mysql&gt; SET sql_mode = 'PAD_CHAR_TO_FULL_LENGTH';
Query OK, 0 rows affected (0.00 sec)

mysql&gt; SELECT c1, CHAR_LENGTH(c1) FROM t1;
+------------+-----------------+
| c1         | CHAR_LENGTH(c1) |
+------------+-----------------+
| xy         |              10 |
+------------+-----------------+
1 row in set (0.00 sec)</code></pre> 
      </div> </li><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><a name="sqlmode_pipes_as_concat"></a><a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_pipes_as_concat" rel="nofollow" title="PIPES_AS_CONCAT">PIPES_AS_CONCAT</a></span></span></p> <span style="background-color:#ffffff;"><span style="color:#555555;"><a class="indexterm" name="idm45254059256800"></a><a class="indexterm" name="idm45254059255712"></a></span></span> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">将<a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/logical-operators.html#operator_or" rel="nofollow" title="||">||</a>其视为字符串连接运算符（与 相同 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/string-functions.html#function_concat" rel="nofollow" title="CONCAT()">CONCAT()</a>），而不是视为 的同义词<a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/logical-operators.html#operator_or" rel="nofollow" title="OR">OR</a>。</span></span></p> </li><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><a name="sqlmode_real_as_float"></a><a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_real_as_float" rel="nofollow" title="REAL_AS_FLOAT">REAL_AS_FLOAT</a></span></span></p> <span style="background-color:#ffffff;"><span style="color:#555555;"><a class="indexterm" name="idm45254059247648"></a><a class="indexterm" name="idm45254059246576"></a></span></span> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">视为<a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/floating-point-types.html" rel="nofollow" title="REAL">REAL</a>的同义词 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/floating-point-types.html" rel="nofollow" title="FLOAT">FLOAT</a>。默认情况下，MySQL 将<a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/floating-point-types.html" rel="nofollow" title="REAL">REAL</a>其视为 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/floating-point-types.html" rel="nofollow" title="DOUBLE">DOUBLE</a>.</span></span></p> </li><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><a name="sqlmode_strict_all_tables"></a><a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_strict_all_tables" rel="nofollow" title="STRICT_ALL_TABLES">STRICT_ALL_TABLES</a></span></span></p> <span style="background-color:#ffffff;"><span style="color:#555555;"><a class="indexterm" name="idm45254059237184"></a><a class="indexterm" name="idm45254059236144"></a></span></span> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">为所有存储引擎启用严格的 SQL 模式。无效数据值将被拒绝。详细信息请参见 <a class="xref" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sql-mode-strict" rel="nofollow" title="严格SQL模式">严格SQL模式</a>。</span></span></p> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">从 MySQL 5.7.4 到 5.7.7， 包括、 、 和 模式<a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_strict_all_tables" rel="nofollow" title="STRICT_ALL_TABLES">STRICT_ALL_TABLES</a>的效果 。有关更多讨论，请参阅 <a class="xref" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sql-mode-changes" rel="nofollow" title="MySQL 5.7 中的 SQL 模式更改">MySQL 5.7 中的 SQL 模式更改</a>。 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_error_for_division_by_zero" rel="nofollow" title="ERROR_FOR_DIVISION_BY_ZERO">ERROR_FOR_DIVISION_BY_ZERO</a><a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_zero_date" rel="nofollow" title="NO_ZERO_DATE">NO_ZERO_DATE</a><a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_zero_in_date" rel="nofollow" title="NO_ZERO_IN_DATE">NO_ZERO_IN_DATE</a></span></span></p> </li><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><a name="sqlmode_strict_trans_tables"></a><a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_strict_trans_tables" rel="nofollow" title="STRICT_TRANS_TABLES">STRICT_TRANS_TABLES</a></span></span></p> <span style="background-color:#ffffff;"><span style="color:#555555;"><a class="indexterm" name="idm45254059224768"></a><a class="indexterm" name="idm45254059223728"></a></span></span> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">为事务性存储引擎启用严格的 SQL 模式，并在可能的情况下为非事务性存储引擎启用严格的 SQL 模式。详细信息请参见<a class="xref" href="#sql-mode-strict" rel="nofollow">严格SQL模式</a>。</span></span></p> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">从 MySQL 5.7.4 到 5.7.7， 包括、 、 和 模式<a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_strict_trans_tables" rel="nofollow" title="STRICT_TRANS_TABLES">STRICT_TRANS_TABLES</a> 的效果 。有关更多讨论，请参阅 <a class="xref" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sql-mode-changes" rel="nofollow" title="MySQL 5.7 中的 SQL 模式更改">MySQL 5.7 中的 SQL 模式更改</a>。 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_error_for_division_by_zero" rel="nofollow" title="ERROR_FOR_DIVISION_BY_ZERO">ERROR_FOR_DIVISION_BY_ZERO</a><a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_zero_date" rel="nofollow" title="NO_ZERO_DATE">NO_ZERO_DATE</a><a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_zero_in_date" rel="nofollow" title="NO_ZERO_IN_DATE">NO_ZERO_IN_DATE</a></span></span></p> </li></ul> 
   </div> 
  </div> 
  <div style="margin-left:0;"> 
   <div style="margin-left:0;"> 
    <div style="margin-left:0;"> 
     <div style="margin-left:0;"> 
      <h5 style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><strong><span style="color:#555555;"><a name="sql-mode-combo"></a>组合 SQL 模式</span></strong></span></span></h5> 
     </div> 
    </div> 
   </div> 
   <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">提供以下特殊模式作为前面列表中模式值组合的简写。</span></span></p> 
   <div style="margin-left:0;"> 
    <ul style="margin-left:30px;"><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><a name="sqlmode_ansi"></a><a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_ansi" rel="nofollow" title="ANSI">ANSI</a></span></span></p> <span style="background-color:#ffffff;"><span style="color:#555555;"><a class="indexterm" name="idm45254059210224"></a><a class="indexterm" name="idm45254059209152"></a></span></span> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">相当于 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_real_as_float" rel="nofollow" title="REAL_AS_FLOAT">REAL_AS_FLOAT</a>, <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_pipes_as_concat" rel="nofollow" title="PIPES_AS_CONCAT">PIPES_AS_CONCAT</a>, <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_ansi_quotes" rel="nofollow" title="ANSI_QUOTES">ANSI_QUOTES</a>, <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_ignore_space" rel="nofollow" title="IGNORE_SPACE">IGNORE_SPACE</a>, 和 （从 MySQL 5.7.5 开始） <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_only_full_group_by" rel="nofollow" title="ONLY_FULL_GROUP_BY">ONLY_FULL_GROUP_BY</a>。</span></span></p> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_ansi" rel="nofollow" title="ANSI">ANSI</a><em><code>S</code></em>如果具有外部引用的 集合函数 无法在已解析外部引用的外部查询中聚合，模式还会导致服务器返回查询错误 。这是这样一个查询： <code><em><code>S</code></em>(<em><code>outer_ref</code></em>)</code></span></span></p> 
      <div style="margin-left:0;"> 
       <pre class="has" style="margin-left:20px;text-align:left;"><code class="language-language-sql">SELECT * FROM t1 WHERE t1.a IN (SELECT MAX(t1.b) FROM t2 WHERE ...);</code></pre> 
      </div> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">此处，<a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/aggregate-functions.html#function_max" rel="nofollow" title="MAX(t1.b)">MAX(t1.b)</a>无法在外部查询中聚合，因为它出现在 <code>WHERE</code>该查询的子句中。标准 SQL 在这种情况下需要出错。如果 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_ansi" rel="nofollow" title="ANSI">ANSI</a>未启用模式，服务器会 以与解释 相同的方式处理此类查询 。 <code><em><code>S</code></em>(<em><code>outer_ref</code></em>)</code><code><em><code>S</code></em>(<em><code>const</code></em>)</code></span></span></p> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">请参阅<a class="xref" href="https://dev.mysql.com/doc/refman/5.7/en/compatibility.html" rel="nofollow" title="第 1.6 节“MySQL 标准合规性”">第 1.6 节“MySQL 标准合规性”</a>。</span></span></p> </li><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><a name="sqlmode_db2"></a><a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_db2" rel="nofollow" title="DB2">DB2</a></span></span></p> <span style="background-color:#ffffff;"><span style="color:#555555;"><a class="indexterm" name="idm45254059186352"></a><a class="indexterm" name="idm45254059185280"></a></span></span> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">相当于 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_pipes_as_concat" rel="nofollow" title="PIPES_AS_CONCAT">PIPES_AS_CONCAT</a>， <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_ansi_quotes" rel="nofollow" title="ANSI_QUOTES">ANSI_QUOTES</a>， <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_ignore_space" rel="nofollow" title="IGNORE_SPACE">IGNORE_SPACE</a>， <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_key_options" rel="nofollow" title="NO_KEY_OPTIONS">NO_KEY_OPTIONS</a>， <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_table_options" rel="nofollow" title="NO_TABLE_OPTIONS">NO_TABLE_OPTIONS</a>， <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_field_options" rel="nofollow" title="NO_FIELD_OPTIONS">NO_FIELD_OPTIONS</a>。</span></span></p> 
      <div style="margin-left:0;"> 
       <div style="margin-left:0;"> 
        <span style="background-color:#ffffff;"><span style="color:#555555;"><span style="background-color:#eff6fe;"><strong>笔记</strong></span></span></span> 
       </div> 
       <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><span style="background-color:#eff6fe;">从 MySQL 5.7.22 开始，<a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_db2" rel="nofollow" title="DB2">DB2</a> 已弃用。它在 MySQL 8.0 中被删除。</span></span></span></p> 
      </div> </li><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><a name="sqlmode_maxdb"></a><a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_maxdb" rel="nofollow" title="MAXDB">MAXDB</a></span></span></p> <span style="background-color:#ffffff;"><span style="color:#555555;"><a class="indexterm" name="idm45254059171472"></a><a class="indexterm" name="idm45254059170400"></a></span></span> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">相当于 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_pipes_as_concat" rel="nofollow" title="PIPES_AS_CONCAT">PIPES_AS_CONCAT</a>， <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_ansi_quotes" rel="nofollow" title="ANSI_QUOTES">ANSI_QUOTES</a>， <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_ignore_space" rel="nofollow" title="IGNORE_SPACE">IGNORE_SPACE</a>， <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_key_options" rel="nofollow" title="NO_KEY_OPTIONS">NO_KEY_OPTIONS</a>， <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_table_options" rel="nofollow" title="NO_TABLE_OPTIONS">NO_TABLE_OPTIONS</a>， <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_field_options" rel="nofollow" title="NO_FIELD_OPTIONS">NO_FIELD_OPTIONS</a>， <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_auto_create_user" rel="nofollow" title="NO_AUTO_CREATE_USER">NO_AUTO_CREATE_USER</a>。</span></span></p> 
      <div style="margin-left:0;"> 
       <div style="margin-left:0;"> 
        <span style="background-color:#ffffff;"><span style="color:#555555;"><span style="background-color:#eff6fe;"><strong>笔记</strong></span></span></span> 
       </div> 
       <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><span style="background-color:#eff6fe;">从 MySQL 5.7.22 开始， <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_maxdb" rel="nofollow" title="MAXDB">MAXDB</a>已弃用。它在 MySQL 8.0 中被删除。</span></span></span></p> 
      </div> </li><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><a name="sqlmode_mssql"></a><a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_mssql" rel="nofollow" title="MSSQL">MSSQL</a></span></span></p> <span style="background-color:#ffffff;"><span style="color:#555555;"><a class="indexterm" name="idm45254059155248"></a><a class="indexterm" name="idm45254059154176"></a></span></span> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">相当于 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_pipes_as_concat" rel="nofollow" title="PIPES_AS_CONCAT">PIPES_AS_CONCAT</a>， <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_ansi_quotes" rel="nofollow" title="ANSI_QUOTES">ANSI_QUOTES</a>， <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_ignore_space" rel="nofollow" title="IGNORE_SPACE">IGNORE_SPACE</a>， <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_key_options" rel="nofollow" title="NO_KEY_OPTIONS">NO_KEY_OPTIONS</a>， <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_table_options" rel="nofollow" title="NO_TABLE_OPTIONS">NO_TABLE_OPTIONS</a>， <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_field_options" rel="nofollow" title="NO_FIELD_OPTIONS">NO_FIELD_OPTIONS</a>。</span></span></p> 
      <div style="margin-left:0;"> 
       <div style="margin-left:0;"> 
        <span style="background-color:#ffffff;"><span style="color:#555555;"><span style="background-color:#eff6fe;"><strong>笔记</strong></span></span></span> 
       </div> 
       <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><span style="background-color:#eff6fe;">从 MySQL 5.7.22 开始， <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_mssql" rel="nofollow" title="MSSQL">MSSQL</a>已弃用。它在 MySQL 8.0 中被删除。</span></span></span></p> 
      </div> </li><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><a name="sqlmode_mysql323"></a><a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_mysql323" rel="nofollow" title="MYSQL323">MYSQL323</a></span></span></p> <span style="background-color:#ffffff;"><span style="color:#555555;"><a class="indexterm" name="idm45254059140352"></a><a class="indexterm" name="idm45254059139280"></a></span></span> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">相当于<a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_mysql323" rel="nofollow" title="MYSQL323">MYSQL323</a>， <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_high_not_precedence" rel="nofollow" title="HIGH_NOT_PRECEDENCE">HIGH_NOT_PRECEDENCE</a>。这意味着<a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_high_not_precedence" rel="nofollow" title="HIGH_NOT_PRECEDENCE">HIGH_NOT_PRECEDENCE</a> 加上一些<a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/show-create-table.html" rel="nofollow" title="SHOW CREATE TABLE">SHOW CREATE TABLE</a> 特定于的行为 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_mysql323" rel="nofollow" title="MYSQL323">MYSQL323</a>：</span></span></p> 
      <div style="margin-left:0;"> 
       <ul style="margin-left:30px;"><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/datetime.html" rel="nofollow" title="TIMESTAMP">TIMESTAMP</a>列显示不包含<code>DEFAULT</code>或 <code>ON UPDATE</code>属性。</span></span></p> </li><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">字符串列显示不包括字符集和排序规则属性。对于 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/char.html" rel="nofollow" title="CHAR">CHAR</a>和 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/char.html" rel="nofollow" title="VARCHAR">VARCHAR</a>列，如果排序规则是二进制，<code>BINARY</code>则附加到列类型。</span></span></p> </li><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">表选项 显示为 。 <code>ENGINE=<em><code>engine_name</code></em></code><code>TYPE=<em><code>engine_name</code></em></code></span></span></p> </li><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">对于<a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/memory-storage-engine.html" rel="nofollow" title="MEMORY">MEMORY</a>表，存储引擎显示为<code>HEAP</code>。</span></span></p> </li></ul> 
      </div> 
      <div style="margin-left:0;"> 
       <div style="margin-left:0;"> 
        <span style="background-color:#ffffff;"><span style="color:#555555;"><span style="background-color:#eff6fe;"><strong>笔记</strong></span></span></span> 
       </div> 
       <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><span style="background-color:#eff6fe;">从 MySQL 5.7.22 开始， <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_mysql323" rel="nofollow" title="MYSQL323">MYSQL323</a>已弃用。它在 MySQL 8.0 中被删除。</span></span></span></p> 
      </div> </li><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><a name="sqlmode_mysql40"></a><a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_mysql40" rel="nofollow" title="MYSQL40">MYSQL40</a></span></span></p> <span style="background-color:#ffffff;"><span style="color:#555555;"><a class="indexterm" name="idm45254059112848"></a><a class="indexterm" name="idm45254059111776"></a></span></span> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">相当于<a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_mysql40" rel="nofollow" title="MYSQL40">MYSQL40</a>， <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_high_not_precedence" rel="nofollow" title="HIGH_NOT_PRECEDENCE">HIGH_NOT_PRECEDENCE</a>。这意味着<a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_high_not_precedence" rel="nofollow" title="HIGH_NOT_PRECEDENCE">HIGH_NOT_PRECEDENCE</a> 加上一些特定于 的行为 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_mysql40" rel="nofollow" title="MYSQL40">MYSQL40</a>。这些与 for 相同<a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_mysql323" rel="nofollow" title="MYSQL323">MYSQL323</a>，只是<a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/show-create-table.html" rel="nofollow" title="SHOW CREATE TABLE">SHOW CREATE TABLE</a> 不显示<code>HEAP</code>为<a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/memory-storage-engine.html" rel="nofollow" title="MEMORY">MEMORY</a>表的存储引擎。</span></span></p> 
      <div style="margin-left:0;"> 
       <div style="margin-left:0;"> 
        <span style="background-color:#ffffff;"><span style="color:#555555;"><span style="background-color:#eff6fe;"><strong>笔记</strong></span></span></span> 
       </div> 
       <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><span style="background-color:#eff6fe;">从 MySQL 5.7.22 开始， <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_mysql40" rel="nofollow" title="MYSQL40">MYSQL40</a>已弃用。它在 MySQL 8.0 中被删除。</span></span></span></p> 
      </div> </li><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><a name="sqlmode_oracle"></a><a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_oracle" rel="nofollow" title="ORACLE">ORACLE</a></span></span></p> <span style="background-color:#ffffff;"><span style="color:#555555;"><a class="indexterm" name="idm45254059095792"></a><a class="indexterm" name="idm45254059094720"></a></span></span> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">相当于 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_pipes_as_concat" rel="nofollow" title="PIPES_AS_CONCAT">PIPES_AS_CONCAT</a>， <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_ansi_quotes" rel="nofollow" title="ANSI_QUOTES">ANSI_QUOTES</a>， <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_ignore_space" rel="nofollow" title="IGNORE_SPACE">IGNORE_SPACE</a>， <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_key_options" rel="nofollow" title="NO_KEY_OPTIONS">NO_KEY_OPTIONS</a>， <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_table_options" rel="nofollow" title="NO_TABLE_OPTIONS">NO_TABLE_OPTIONS</a>， <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_field_options" rel="nofollow" title="NO_FIELD_OPTIONS">NO_FIELD_OPTIONS</a>， <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_auto_create_user" rel="nofollow" title="NO_AUTO_CREATE_USER">NO_AUTO_CREATE_USER</a>。</span></span></p> 
      <div style="margin-left:0;"> 
       <div style="margin-left:0;"> 
        <span style="background-color:#ffffff;"><span style="color:#555555;"><span style="background-color:#eff6fe;"><strong>笔记</strong></span></span></span> 
       </div> 
       <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><span style="background-color:#eff6fe;">从 MySQL 5.7.22 开始， <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_oracle" rel="nofollow" title="ORACLE">ORACLE</a>已弃用。它在 MySQL 8.0 中被删除。</span></span></span></p> 
      </div> </li><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><a name="sqlmode_postgresql"></a><a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_postgresql" rel="nofollow" title="POSTGRESQL">POSTGRESQL</a></span></span></p> <span style="background-color:#ffffff;"><span style="color:#555555;"><a class="indexterm" name="idm45254059079568"></a><a class="indexterm" name="idm45254059078496"></a></span></span> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">相当于 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_pipes_as_concat" rel="nofollow" title="PIPES_AS_CONCAT">PIPES_AS_CONCAT</a>， <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_ansi_quotes" rel="nofollow" title="ANSI_QUOTES">ANSI_QUOTES</a>， <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_ignore_space" rel="nofollow" title="IGNORE_SPACE">IGNORE_SPACE</a>， <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_key_options" rel="nofollow" title="NO_KEY_OPTIONS">NO_KEY_OPTIONS</a>， <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_table_options" rel="nofollow" title="NO_TABLE_OPTIONS">NO_TABLE_OPTIONS</a>， <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_field_options" rel="nofollow" title="NO_FIELD_OPTIONS">NO_FIELD_OPTIONS</a>。</span></span></p> 
      <div style="margin-left:0;"> 
       <div style="margin-left:0;"> 
        <span style="background-color:#ffffff;"><span style="color:#555555;"><span style="background-color:#eff6fe;"><strong>笔记</strong></span></span></span> 
       </div> 
       <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><span style="background-color:#eff6fe;">从 MySQL 5.7.22 开始， <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_postgresql" rel="nofollow" title="POSTGRESQL">POSTGRESQL</a>已弃用。它在 MySQL 8.0 中被删除。</span></span></span></p> 
      </div> </li><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><a name="sqlmode_traditional"></a><a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_traditional" rel="nofollow" title="TRADITIONAL">TRADITIONAL</a></span></span></p> <span style="background-color:#ffffff;"><span style="color:#555555;"><a class="indexterm" name="idm45254059064672"></a><a class="indexterm" name="idm45254059063600"></a></span></span> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">在 MySQL 5.7.4 之前以及在 MySQL 5.7.8 及更高版本中， <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_traditional" rel="nofollow" title="TRADITIONAL">TRADITIONAL</a>相当于<a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_strict_trans_tables" rel="nofollow" title="STRICT_TRANS_TABLES">STRICT_TRANS_TABLES</a>, <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_strict_all_tables" rel="nofollow" title="STRICT_ALL_TABLES">STRICT_ALL_TABLES</a>, <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_zero_in_date" rel="nofollow" title="NO_ZERO_IN_DATE">NO_ZERO_IN_DATE</a>, <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_zero_date" rel="nofollow" title="NO_ZERO_DATE">NO_ZERO_DATE</a>, <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_error_for_division_by_zero" rel="nofollow" title="ERROR_FOR_DIVISION_BY_ZERO">ERROR_FOR_DIVISION_BY_ZERO</a>, <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_auto_create_user" rel="nofollow" title="NO_AUTO_CREATE_USER">NO_AUTO_CREATE_USER</a>, 和 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_engine_substitution" rel="nofollow" title="NO_ENGINE_SUBSTITUTION">NO_ENGINE_SUBSTITUTION</a>。</span></span></p> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">从 MySQL 5.7.4 到 5.7.7， <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_traditional" rel="nofollow" title="TRADITIONAL">TRADITIONAL</a>相当于<a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_strict_trans_tables" rel="nofollow" title="STRICT_TRANS_TABLES">STRICT_TRANS_TABLES</a>, <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_strict_all_tables" rel="nofollow" title="STRICT_ALL_TABLES">STRICT_ALL_TABLES</a>, <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_auto_create_user" rel="nofollow" title="NO_AUTO_CREATE_USER">NO_AUTO_CREATE_USER</a>, 和 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_engine_substitution" rel="nofollow" title="NO_ENGINE_SUBSTITUTION">NO_ENGINE_SUBSTITUTION</a>。、和 模式未命名，因为在这些<a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_zero_in_date" rel="nofollow" title="NO_ZERO_IN_DATE">NO_ZERO_IN_DATE</a>版本 中，它们的效果包含在严格 SQL 模式（或 ）的效果中。因此，在所有 MySQL 5.7 版本中的效果 都是相同的（与 MySQL 5.6 中相同）。有关更多讨论，请参阅 <a class="xref" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sql-mode-changes" rel="nofollow" title="MySQL 5.7 中的 SQL 模式更改">MySQL 5.7 中的 SQL 模式更改</a>。 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_zero_date" rel="nofollow" title="NO_ZERO_DATE">NO_ZERO_DATE</a><a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_error_for_division_by_zero" rel="nofollow" title="ERROR_FOR_DIVISION_BY_ZERO">ERROR_FOR_DIVISION_BY_ZERO</a><a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_strict_all_tables" rel="nofollow" title="STRICT_ALL_TABLES">STRICT_ALL_TABLES</a><a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_strict_trans_tables" rel="nofollow" title="STRICT_TRANS_TABLES">STRICT_TRANS_TABLES</a><a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_traditional" rel="nofollow" title="TRADITIONAL">TRADITIONAL</a></span></span></p> </li></ul> 
   </div> 
  </div> 
  <div style="margin-left:0;"> 
   <div style="margin-left:0;"> 
    <div style="margin-left:0;"> 
     <div style="margin-left:0;"> 
      <h5 style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><strong><span style="color:#555555;"><a name="sql-mode-strict"></a>严格SQL模式</span></strong></span></span></h5> 
     </div> 
    </div> 
   </div> 
   <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">严格模式控制 MySQL 如何处理数据更改语句中的无效值或缺失值，例如 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/insert.html" rel="nofollow" title="INSERT">INSERT</a>或 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/update.html" rel="nofollow" title="UPDATE">UPDATE</a>。由于多种原因，值可能无效。例如，列的数据类型可能错误，或者可能超出范围。<code>NULL</code>当要插入的新行不包含其定义中没有显式 子句的非列的值时，就会缺少值<code>DEFAULT</code>。（对于 <code>NULL</code>列，<code>NULL</code>如果值缺失，则插入。）严格模式还会影响 DDL 语句，例如<a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/create-table.html" rel="nofollow" title="CREATE TABLE">CREATE TABLE</a>.</span></span></p> 
   <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">如果严格模式未生效，MySQL 会插入无效或缺失值的调整值并产生警告（请参见 <a class="xref" href="https://dev.mysql.com/doc/refman/5.7/en/show-warnings.html" rel="nofollow" title="第 13.7.5.40 节“SHOW WARNINGS 语句”">第 13.7.5.40 节“SHOW WARNINGS 语句”</a>）。<a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/insert.html" rel="nofollow" title="INSERT IGNORE">INSERT IGNORE</a> 在严格模式下，您可以通过使用或来产生此行为 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/update.html" rel="nofollow" title="UPDATE IGNORE">UPDATE IGNORE</a>。</span></span></p> 
   <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">对于诸如不更改数据之类的语句<a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/select.html" rel="nofollow" title="SELECT">SELECT</a> ，无效值在严格模式下会生成警告，而不是错误。</span></span></p> 
   <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">如果尝试创建超过最大密钥长度的密钥，严格模式会产生错误。当未启用严格模式时，这会导致警告并将密钥截断为最大密钥长度。</span></span></p> 
   <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">严格模式不影响是否检查外键约束。<a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/server-system-variables.html#sysvar_foreign_key_checks" rel="nofollow" title="foreign_key_checks">foreign_key_checks</a>可以用于此目的。（请参见 <a class="xref" href="https://dev.mysql.com/doc/refman/5.7/en/server-system-variables.html" rel="nofollow" title="第 5.1.7 节“服务器系统变量”">第 5.1.7 节“服务器系统变量”</a>。）</span></span></p> 
   <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_strict_all_tables" rel="nofollow" title="STRICT_ALL_TABLES">STRICT_ALL_TABLES</a>如果启用或 ， 严格 SQL 模式就会生效 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_strict_trans_tables" rel="nofollow" title="STRICT_TRANS_TABLES">STRICT_TRANS_TABLES</a>，尽管这些模式的效果有所不同：</span></span></p> 
   <div style="margin-left:0;"> 
    <ul style="margin-left:30px;"><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">对于事务表，当启用<a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_strict_all_tables" rel="nofollow" title="STRICT_ALL_TABLES">STRICT_ALL_TABLES</a>或 时 ，数据更改语句中的值无效或缺失会发生错误 。<a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_strict_trans_tables" rel="nofollow" title="STRICT_TRANS_TABLES">STRICT_TRANS_TABLES</a>该语句被中止并回滚。</span></span></p> </li><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">对于非事务表，如果在要插入或更新的第一行中出现错误值，则任一模式的行为都是相同的：语句将中止并且表保持不变。如果语句插入或修改多行，并且错误值出现在第二行或后面的行中，则结果取决于启用了哪种严格模式：</span></span></p> 
      <div style="margin-left:0;"> 
       <ul style="margin-left:30px;"><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">对于<a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_strict_all_tables" rel="nofollow" title="STRICT_ALL_TABLES">STRICT_ALL_TABLES</a>，MySQL 返回错误并忽略其余行。但是，由于已插入或更新了较早的行，因此结果是部分更新。为了避免这种情况，请使用单行语句，该语句可以在不更改表的情况下中止。</span></span></p> </li><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">对于 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_strict_trans_tables" rel="nofollow" title="STRICT_TRANS_TABLES">STRICT_TRANS_TABLES</a>，MySQL 会将无效值转换为该列最接近的有效值，并插入调整后的值。如果缺少值，MySQL 会插入列数据类型的隐式默认值。无论哪种情况，MySQL 都会生成警告而不是错误，并继续处理该语句。<a class="xref" href="https://dev.mysql.com/doc/refman/5.7/en/data-type-defaults.html" rel="nofollow" title="第 11.6 节“数据类型默认值”">第 11.6 节“数据类型默认值”</a>中描述了隐式默认值。</span></span></p> </li></ul> 
      </div> </li></ul> 
   </div> 
   <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">严格模式会影响除以零、零日期和日期中的零的处理，如下所示：</span></span></p> 
   <div style="margin-left:0;"> 
    <ul style="margin-left:30px;"><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">严格模式影响除以零的处理，其中包括 ： <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/mathematical-functions.html#function_mod" rel="nofollow" title="MOD(N,0)">MOD(N,0)</a></span></span></p> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">对于数据更改操作 ( <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/insert.html" rel="nofollow" title="INSERT">INSERT</a>, <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/update.html" rel="nofollow" title="UPDATE">UPDATE</a>)：</span></span></p> 
      <div style="margin-left:0;"> 
       <ul style="margin-left:30px;"><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">如果未启用严格模式，则除以零插入 <code>NULL</code>并且不会产生警告。</span></span></p> </li><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">如果启用了严格模式，除以零会产生错误，除非<code>IGNORE</code>也给出了。对于<code>INSERT IGNORE</code>和 <code>UPDATE IGNORE</code>，除以零会插入<code>NULL</code>并产生警告。</span></span></p> </li></ul> 
      </div> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">对于<a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/select.html" rel="nofollow" title="SELECT">SELECT</a>，除以零返回<code>NULL</code>。启用严格模式也会导致生成警告。</span></span></p> </li><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">严格模式会影响服务器是否允许 <code>'0000-00-00'</code>作为有效日期：</span></span></p> 
      <div style="margin-left:0;"> 
       <ul style="margin-left:30px;"><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">如果未启用严格模式， <code>'0000-00-00'</code>则允许并且插入不会产生警告。</span></span></p> </li><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">如果启用了严格模式，则 <code>'0000-00-00'</code>不允许并且插入会产生错误，除非 <code>IGNORE</code>也给出了。对于 <code>INSERT IGNORE</code>和<code>UPDATE IGNORE</code>,<code>'0000-00-00'</code>是允许的并且插入会产生警告。</span></span></p> </li></ul> 
      </div> </li><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">严格模式会影响服务器是否允许年部分非零但月或日部分为 0 的日期（例如<code>'2010-00-01'</code>或 <code>'2010-01-00'</code>）：</span></span></p> 
      <div style="margin-left:0;"> 
       <ul style="margin-left:30px;"><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">如果未启用严格模式，则允许包含零部分的日期并且插入不会产生警告。</span></span></p> </li><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">如果启用严格模式，则不允许包含零部分的日期，并且插入会产生错误，除非 <code>IGNORE</code>也给出了。对于 <code>INSERT IGNORE</code>和<code>UPDATE IGNORE</code>，零部分的日期将被插入为 <code>'0000-00-00'</code>（对于 被认为有效<code>IGNORE</code>）并产生警告。</span></span></p> </li></ul> 
      </div> </li></ul> 
   </div> 
   <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">有关严格模式的详细信息 <code>IGNORE</code>，请参阅 <a class="xref" href="#ignore-strict-comparison" rel="nofollow">IGNORE 关键字和严格 SQL 模式的比较</a>。</span></span></p> 
   <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">在 MySQL 5.7.4 之前以及在 MySQL 5.7.8 及更高版本中，严格模式会影响除以零、零日期以及与 、 和 模式结合使用的日期中的零 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_error_for_division_by_zero" rel="nofollow" title="ERROR_FOR_DIVISION_BY_ZERO">ERROR_FOR_DIVISION_BY_ZERO</a>的 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_zero_date" rel="nofollow" title="NO_ZERO_DATE">NO_ZERO_DATE</a>处理 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_zero_in_date" rel="nofollow" title="NO_ZERO_IN_DATE">NO_ZERO_IN_DATE</a>。从 MySQL 5.7.4 到 5.7.7， <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_error_for_division_by_zero" rel="nofollow" title="ERROR_FOR_DIVISION_BY_ZERO">ERROR_FOR_DIVISION_BY_ZERO</a>、 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_zero_date" rel="nofollow" title="NO_ZERO_DATE">NO_ZERO_DATE</a>和 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_zero_in_date" rel="nofollow" title="NO_ZERO_IN_DATE">NO_ZERO_IN_DATE</a>模式在显式命名时不执行任何操作，并且它们的效果包含在严格模式的效果中。有关更多讨论，请参阅 <a class="xref" href="#sql-mode-changes" rel="nofollow">MySQL 5.7 中的 SQL 模式更改</a>。</span></span></p> 
  </div> 
  <div style="margin-left:0;"> 
   <div style="margin-left:0;"> 
    <div style="margin-left:0;"> 
     <div style="margin-left:0;"> 
      <h5 style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><strong><span style="color:#555555;"><a name="ignore-strict-comparison"></a>IGNORE 关键字与严格 SQL 模式的比较</span></strong></span></span></h5> 
     </div> 
    </div> 
   </div> 
   <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><code>IGNORE</code>本节比较关键字（将错误降级为警告）和严格 SQL 模式（将警告升级为错误） 对语句执行的影响 。它描述了它们影响哪些语句以及它们适用于哪些错误。</span></span></p> 
   <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">下表总结了默认情况下生成错误与警告时语句行为的比较。默认情况下会产生错误的一个示例是将 a 插入<code>NULL</code>到<code>NOT NULL</code>列中。默认情况下产生警告的一个示例是将错误数据类型的值插入到列中（例如将字符串插入 <code>'abc'</code>到整数列中）。</span></span></p> 
   <div style="margin-left:0;"> 
    <table border="1" cellspacing="0"><thead><tr><th style="text-align:left;vertical-align:baseline;"><span style="background-color:#ffffff;"><span style="color:#555555;">运作模式</span></span></th><th style="text-align:left;vertical-align:baseline;"><span style="background-color:#ffffff;"><span style="color:#555555;">当语句默认为错误时</span></span></th><th style="text-align:left;vertical-align:baseline;"><span style="background-color:#ffffff;"><span style="color:#555555;">当语句默认为警告时</span></span></th></tr></thead><tbody><tr><th style="text-align:left;vertical-align:baseline;"><span style="background-color:#ffffff;"><span style="color:#555555;">无<code>IGNORE</code>或严格 SQL 模式</span></span></th><td style="border-color:#808080;vertical-align:baseline;"><span style="background-color:#ffffff;"><span style="color:#555555;">错误</span></span></td><td style="border-color:#808080;vertical-align:baseline;"><span style="background-color:#ffffff;"><span style="color:#555555;">警告</span></span></td></tr><tr><th style="text-align:left;vertical-align:baseline;"><span style="background-color:#ffffff;"><span style="color:#555555;">和<code>IGNORE</code></span></span></th><td style="border-color:#808080;vertical-align:baseline;"><span style="background-color:#ffffff;"><span style="color:#555555;">警告</span></span></td><td style="border-color:#808080;vertical-align:baseline;"><span style="background-color:#ffffff;"><span style="color:#555555;"><code>IGNORE</code>警告（与无或严格 SQL 模式相同）</span></span></td></tr><tr><th style="text-align:left;vertical-align:baseline;"><span style="background-color:#ffffff;"><span style="color:#555555;">具有严格的SQL模式</span></span></th><td style="border-color:#808080;vertical-align:baseline;"><span style="background-color:#ffffff;"><span style="color:#555555;"><code>IGNORE</code>错误（与无或严格 SQL 模式相同）</span></span></td><td style="border-color:#808080;vertical-align:baseline;"><span style="background-color:#ffffff;"><span style="color:#555555;">错误</span></span></td></tr><tr><th style="text-align:left;vertical-align:baseline;"><span style="background-color:#ffffff;"><span style="color:#555555;">with<code>IGNORE</code>和严格的 SQL 模式</span></span></th><td style="border-color:#808080;vertical-align:baseline;"><span style="background-color:#ffffff;"><span style="color:#555555;">警告</span></span></td><td style="border-color:#808080;vertical-align:baseline;"><span style="background-color:#ffffff;"><span style="color:#555555;">警告</span></span></td></tr></tbody></table> 
   </div> 
   <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">从表中得出的一个结论是，当 <code>IGNORE</code>关键字和严格 SQL 模式同时生效时，<code>IGNORE</code>优先。这意味着，尽管<code>IGNORE</code>可以认为严格 SQL 模式对错误处理具有相反的效果，但它们一起使用时不会取消。</span></span></p> 
   <div style="margin-left:0;"> 
    <ul style="margin-left:30px;"><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><a class="xref" href="#ignore-effect-on-execution" rel="nofollow">IGNORE 对语句执行的影响</a></span></span></p> </li><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><a class="xref" href="#strict-sql-mode-effect-on-execution" rel="nofollow">严格SQL模式对语句执行的影响</a></span></span></p> </li></ul> 
   </div> 
   <h6 style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><strong><span style="color:#555555;"><a name="ignore-effect-on-execution"></a>IGNORE 对语句执行的影响</span></strong></span></span></h6> 
   <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">MySQL 中的一些语句支持可选 <code>IGNORE</code>关键字。此关键字会导致服务器降级某些类型的错误并生成警告。对于多行语句，将错误降级为警告可能会使行得到处理。否则， <code>IGNORE</code>导致语句跳到下一行而不是中止。（对于不可忽略的错误，无论关键字如何，都会发生错误<code>IGNORE</code>。）</span></span></p> 
   <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">示例：如果表<code>t</code>的主键列<code>i</code>包含唯一值，则尝试将相同的值插入<code>i</code>多行通常会产生重复键错误：</span></span></p> 
   <div style="margin-left:0;"> 
    <pre class="has" style="margin-left:20px;text-align:left;"><code class="language-language-sql">mysql&gt; CREATE TABLE t (i INT NOT NULL PRIMARY KEY);
mysql&gt; INSERT INTO t (i) VALUES(1),(1);
ERROR 1062 (23000): Duplicate entry '1' for key 'PRIMARY'</code></pre> 
   </div> 
   <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">使用 时<code>IGNORE</code>，包含重复键的行仍然不会被插入，但会出现警告而不是错误：</span></span></p> 
   <div style="margin-left:0;"> 
    <pre class="has" style="margin-left:20px;text-align:left;"><code class="language-language-sql">mysql&gt; INSERT IGNORE INTO t (i) VALUES(1),(1);
Query OK, 1 row affected, 1 warning (0.01 sec)
Records: 2  Duplicates: 1  Warnings: 1

mysql&gt; SHOW WARNINGS;
+---------+------+---------------------------------------+
| Level   | Code | Message                               |
+---------+------+---------------------------------------+
| Warning | 1062 | Duplicate entry '1' for key 'PRIMARY' |
+---------+------+---------------------------------------+
1 row in set (0.00 sec)</code></pre> 
   </div> 
   <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">示例：如果表<code>t2</code>有一<code>NOT NULL</code>列<code>id</code>，则尝试插入<code>NULL</code>会在严格 SQL 模式下产生错误：</span></span></p> 
   <div style="margin-left:0;"> 
    <pre class="has" style="margin-left:20px;text-align:left;"><code class="language-language-sql">mysql&gt; CREATE TABLE t2 (id INT NOT NULL);
mysql&gt; INSERT INTO t2 (id) VALUES(1),(NULL),(3);
ERROR 1048 (23000): Column 'id' cannot be null
mysql&gt; SELECT * FROM t2;
Empty set (0.00 sec)</code></pre> 
   </div> 
   <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">如果 SQL 模式不严格，<code>IGNORE</code>则会导致<code>NULL</code>被插入为列隐式默认值（在本例中为 0），这使得能够在不跳过该行的情况下处理该行：</span></span></p> 
   <div style="margin-left:0;"> 
    <pre class="has" style="margin-left:20px;text-align:left;"><code class="language-language-sql">mysql&gt; INSERT INTO t2 (id) VALUES(1),(NULL),(3);
mysql&gt; SELECT * FROM t2;
+----+
| id |
+----+
|  1 |
|  0 |
|  3 |
+----+</code></pre> 
   </div> 
   <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">这些语句支持<code>IGNORE</code>关键字：</span></span></p> 
   <div style="margin-left:0;"> 
    <ul style="margin-left:30px;"><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/create-table.html" rel="nofollow" title="CREATE TABLE ... SELECT">CREATE TABLE ... SELECT</a>：<code>IGNORE</code>不适用于语句的<a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/create-table.html" rel="nofollow" title="CREATE TABLE">CREATE TABLE</a>或 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/select.html" rel="nofollow" title="SELECT">SELECT</a>部分，但适用于插入到由 生成的行表中 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/select.html" rel="nofollow" title="SELECT">SELECT</a>。与唯一键值重复现有行的行将被丢弃。</span></span></p> </li><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/delete.html" rel="nofollow" title="DELETE">DELETE</a>： <code>IGNORE</code>导致MySQL在删除行的过程中忽略错误。</span></span></p> </li><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/insert.html" rel="nofollow" title="INSERT">INSERT</a>：使用 时 <code>IGNORE</code>，在唯一键值上重复现有行的行将被丢弃。设置为会导致数据转换错误的值的行将设置为最接近的有效值。</span></span></p> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><a class="indexterm" name="idm45254058888960"></a>对于未找到与给定值匹配的分区的分区表，<code>IGNORE</code>会导致包含不匹配值的行的插入操作静默失败。</span></span></p> </li><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/load-data.html" rel="nofollow" title="LOAD DATA">LOAD DATA</a>, <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/load-xml.html" rel="nofollow" title="LOAD XML">LOAD XML</a>：使用 时 <code>IGNORE</code>，在唯一键值上重复现有行的行将被丢弃。</span></span></p> </li><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/update.html" rel="nofollow" title="UPDATE">UPDATE</a>：使用 时 <code>IGNORE</code>，不会更新唯一键值上发生重复键冲突的行。更新为会导致数据转换错误的值的行将更新为最接近的有效值。</span></span></p> </li></ul> 
   </div> 
   <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">该<code>IGNORE</code>关键字适用于以下可忽略的错误：</span></span></p> 
   <div style="margin-left:0;"> 
    <pre class="has" style="margin-left:20px;text-align:left;"><code class="language-language-simple">ER_BAD_NULL_ERROR
ER_DUP_ENTRY
ER_DUP_ENTRY_WITH_KEY_NAME
ER_DUP_KEY
ER_NO_PARTITION_FOR_GIVEN_VALUE
ER_NO_PARTITION_FOR_GIVEN_VALUE_SILENT
ER_NO_REFERENCED_ROW_2
ER_ROW_DOES_NOT_MATCH_GIVEN_PARTITION_SET
ER_ROW_IS_REFERENCED_2
ER_SUBQUERY_NO_1_ROW
ER_VIEW_CHECK_FAILED</code></pre> 
   </div> 
   <h6 style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><strong><span style="color:#555555;"><a name="strict-sql-mode-effect-on-execution"></a>严格SQL模式对语句执行的影响</span></strong></span></span></h6> 
   <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">MySQL服务器可以在不同的SQL模式下运行，并且可以根据系统变量的值对不同的客户端应用不同的模式<a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/server-system-variables.html#sysvar_sql_mode" rel="nofollow" title="sql_mode">sql_mode</a> 。在“严格” SQL模式下，服务器将某些警告升级为错误。</span></span></p> 
   <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">例如，在非严格 SQL 模式下，将字符串插入 <code>'abc'</code>整数列会导致值转换为 0 并发出警告：</span></span></p> 
   <div style="margin-left:0;"> 
    <pre class="has" style="margin-left:20px;text-align:left;"><code class="language-language-sql">mysql&gt; SET sql_mode = '';
Query OK, 0 rows affected (0.00 sec)

mysql&gt; INSERT INTO t (i) VALUES('abc');
Query OK, 1 row affected, 1 warning (0.01 sec)

mysql&gt; SHOW WARNINGS;
+---------+------+--------------------------------------------------------+
| Level   | Code | Message                                                |
+---------+------+--------------------------------------------------------+
| Warning | 1366 | Incorrect integer value: 'abc' for column 'i' at row 1 |
+---------+------+--------------------------------------------------------+
1 row in set (0.00 sec)</code></pre> 
   </div> 
   <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">在严格 SQL 模式下，无效值将被拒绝并出现错误：</span></span></p> 
   <div style="margin-left:0;"> 
    <pre class="has" style="margin-left:20px;text-align:left;"><code class="language-language-sql">mysql&gt; SET sql_mode = 'STRICT_ALL_TABLES';
Query OK, 0 rows affected (0.00 sec)

mysql&gt; INSERT INTO t (i) VALUES('abc');
ERROR 1366 (HY000): Incorrect integer value: 'abc' for column 'i' at row 1</code></pre> 
   </div> 
   <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">有关 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/server-system-variables.html#sysvar_sql_mode" rel="nofollow" title="sql_mode">sql_mode</a>系统变量的可能设置的更多信息，请参见 <a class="xref" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html" rel="nofollow" title="第 5.1.10 节 “服务器 SQL 模式”">第 5.1.10 节 “服务器 SQL 模式”</a>。</span></span></p> 
   <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">严格 SQL 模式适用于某些值可能超出范围或在表中插入或删除无效行的情况下的以下语句：</span></span></p> 
   <div style="margin-left:0;"> 
    <ul style="margin-left:30px;"><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/alter-table.html" rel="nofollow" title="ALTER TABLE">ALTER TABLE</a></span></span></p> </li><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/create-table.html" rel="nofollow" title="CREATE TABLE">CREATE TABLE</a></span></span></p> </li><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/create-table.html" rel="nofollow" title="CREATE TABLE ... SELECT">CREATE TABLE ... SELECT</a></span></span></p> </li><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/delete.html" rel="nofollow" title="DELETE">DELETE</a>（单表和多表均可）</span></span></p> </li><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/insert.html" rel="nofollow" title="INSERT">INSERT</a></span></span></p> </li><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/load-data.html" rel="nofollow" title="LOAD DATA">LOAD DATA</a></span></span></p> </li><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/load-xml.html" rel="nofollow" title="LOAD XML">LOAD XML</a></span></span></p> </li><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/select.html" rel="nofollow" title="SELECT SLEEP()">SELECT SLEEP()</a></span></span></p> </li><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/update.html" rel="nofollow" title="UPDATE">UPDATE</a>（单表和多表均可）</span></span></p> </li></ul> 
   </div> 
   <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">在存储程序中，如果程序是在严格模式有效时定义的，则刚刚列出的类型的各个语句将以严格 SQL 模式执行。</span></span></p> 
   <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">严格 SQL 模式适用于以下错误，这些错误代表输入值无效或丢失的一类错误。如果某个值的列数据类型错误或者可能超出范围，则该值无效。如果要插入的新行不包含定义中 <code>NOT NULL</code>没有显式子句的列 的值，则缺少值。<code>DEFAULT</code></span></span></p> 
   <div style="margin-left:0;"> 
    <pre class="has" style="margin-left:20px;text-align:left;"><code class="language-language-simple">ER_BAD_NULL_ERROR
ER_CUT_VALUE_GROUP_CONCAT
ER_DATA_TOO_LONG
ER_DATETIME_FUNCTION_OVERFLOW
ER_DIVISION_BY_ZERO
ER_INVALID_ARGUMENT_FOR_LOGARITHM
ER_NO_DEFAULT_FOR_FIELD
ER_NO_DEFAULT_FOR_VIEW_FIELD
ER_TOO_LONG_KEY
ER_TRUNCATED_WRONG_VALUE
ER_TRUNCATED_WRONG_VALUE_FOR_FIELD
ER_WARN_DATA_OUT_OF_RANGE
ER_WARN_NULL_TO_NOTNULL
ER_WARN_TOO_FEW_RECORDS
ER_WRONG_ARGUMENTS
ER_WRONG_VALUE_FOR_TYPE
WARN_DATA_TRUNCATED</code></pre> 
   </div> 
   <div style="margin-left:0;"> 
    <div style="margin-left:0;"> 
     <span style="background-color:#ffffff;"><span style="color:#555555;"><span style="background-color:#eff6fe;"><strong>笔记</strong></span></span></span> 
    </div> 
    <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><span style="background-color:#eff6fe;">由于 MySQL 的持续开发定义了新的错误，因此可能存在不属于上述严格 SQL 模式适用的错误。</span></span></span></p> 
   </div> 
  </div> 
  <div style="margin-left:0;"> 
   <div style="margin-left:0;"> 
    <div style="margin-left:0;"> 
     <div style="margin-left:0;"> 
      <h5 style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><strong><span style="color:#555555;"><a name="sql-mode-changes"></a>MySQL 5.7 中的 SQL 模式更改</span></strong></span></span></h5> 
     </div> 
    </div> 
   </div> 
   <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">在 MySQL 5.7.22 中，这些 SQL 模式已被弃用并在 MySQL 8.0 中被删除：<a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_db2" rel="nofollow" title="DB2">DB2</a>, <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_maxdb" rel="nofollow" title="MAXDB">MAXDB</a>, <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_mssql" rel="nofollow" title="MSSQL">MSSQL</a>, <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_mysql323" rel="nofollow" title="MYSQL323">MYSQL323</a>, <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_mysql40" rel="nofollow" title="MYSQL40">MYSQL40</a>, <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_oracle" rel="nofollow" title="ORACLE">ORACLE</a>, <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_postgresql" rel="nofollow" title="POSTGRESQL">POSTGRESQL</a>, <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_field_options" rel="nofollow" title="NO_FIELD_OPTIONS">NO_FIELD_OPTIONS</a>, <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_key_options" rel="nofollow" title="NO_KEY_OPTIONS">NO_KEY_OPTIONS</a>, <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_table_options" rel="nofollow" title="NO_TABLE_OPTIONS">NO_TABLE_OPTIONS</a>。</span></span></p> 
   <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">在 MySQL 5.7 中， <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_only_full_group_by" rel="nofollow" title="ONLY_FULL_GROUP_BY">ONLY_FULL_GROUP_BY</a>默认启用 SQL 模式，因为<code>GROUP BY</code> 处理变得更加复杂，包括检测函数依赖性。但是，如果您发现 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_only_full_group_by" rel="nofollow" title="ONLY_FULL_GROUP_BY">ONLY_FULL_GROUP_BY</a>启用导致对现有应用程序的查询被拒绝，则以下任一操作都应该恢复操作：</span></span></p> 
   <div style="margin-left:0;"> 
    <ul style="margin-left:30px;"><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">如果可以修改有问题的查询，请这样做，以便非聚合列在功能上依赖于<code>GROUP BY</code>列，或者通过使用 引用非聚合列 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/miscellaneous-functions.html#function_any-value" rel="nofollow" title="ANY_VALUE()">ANY_VALUE()</a>。</span></span></p> </li><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">如果无法修改有问题的查询（例如，如果它是由第三方应用程序生成的），请<code>sql_mode</code>在服务器启动时将系统变量设置为 not enable <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_only_full_group_by" rel="nofollow" title="ONLY_FULL_GROUP_BY">ONLY_FULL_GROUP_BY</a>。</span></span></p> </li></ul> 
   </div> 
   <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">在 MySQL 5.7 中， 不推荐使用 、 和 SQL<a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_error_for_division_by_zero" rel="nofollow" title="ERROR_FOR_DIVISION_BY_ZERO">ERROR_FOR_DIVISION_BY_ZERO</a>模式 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_zero_date" rel="nofollow" title="NO_ZERO_DATE">NO_ZERO_DATE</a>。 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_zero_in_date" rel="nofollow" title="NO_ZERO_IN_DATE">NO_ZERO_IN_DATE</a>长期计划是将这三种模式包含在严格 SQL 模式中，并在 MySQL 的未来版本中将它们作为显式模式删除。为了使 MySQL 5.7 与 MySQL 5.6 严格模式兼容，并为修改受影响的应用程序提供额外的时间，以下行为适用：</span></span></p> 
   <div style="margin-left:0;"> 
    <ul style="margin-left:30px;"><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_error_for_division_by_zero" rel="nofollow" title="ERROR_FOR_DIVISION_BY_ZERO">ERROR_FOR_DIVISION_BY_ZERO</a>、 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_zero_date" rel="nofollow" title="NO_ZERO_DATE">NO_ZERO_DATE</a>、 和 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_zero_in_date" rel="nofollow" title="NO_ZERO_IN_DATE">NO_ZERO_IN_DATE</a>不是严格 SQL 模式的一部分，但它们旨在与严格模式一起使用。提醒一下，如果在未启用严格模式的情况下启用它们，则会出现警告，反之亦然。</span></span></p> </li><li> <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;"><a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_error_for_division_by_zero" rel="nofollow" title="ERROR_FOR_DIVISION_BY_ZERO">ERROR_FOR_DIVISION_BY_ZERO</a>、 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_zero_date" rel="nofollow" title="NO_ZERO_DATE">NO_ZERO_DATE</a>、 和 <a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_zero_in_date" rel="nofollow" title="NO_ZERO_IN_DATE">NO_ZERO_IN_DATE</a>默认情况下启用。</span></span></p> </li></ul> 
   </div> 
   <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#555555;">通过上述更改，默认情况下仍会启用更严格的数据检查，但可以在当前需要或有必要的环境中禁用各个模式。</span></span></p> 
  </div> 
 </div> 
</div>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/9e69a864e881eae41b467d4f3ffb9862/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">独热编码的两种实现形式</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/eaca23585d0584e2f4d735b5dfef0cf2/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">JVM内存分配策略及垃圾收集器简介</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>