<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Apache日志记录组件Log4j出现反序列化漏洞 黑客可以执行任意代码 所有2.x版本均受影响... - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Apache日志记录组件Log4j出现反序列化漏洞 黑客可以执行任意代码 所有2.x版本均受影响..." />
<meta property="og:description" content="开源的东西用的人多了，自然漏洞就多。Apache用于日志记录的组件Log4j使用非常灵活，在相当多的开源项目中都有使用，此次漏洞影响所有Apache Log4j 2.*系列版本： Apache Log4j 2.0-alpha1 – Apache Log4j 2.8.1，使用Java 7&#43;的用户应立即升级至2.8.2版本。绿盟科技发布安全威胁通告，通告全文如下：
Apache Log4j是什么 Log4j是Apache的一个开源项目，通过使用Log4j，我们可以控制日志信息输送的目的地是控制台、文件、GUI组件，甚至是套接口服务器、NT的事件记录器、UNIX Syslog守护进程等；我们也可以控制每一条日志的输出格式；通过定义每一条日志信息的级别，我们能够更加细致地控制日志的生成过程。最令人感兴趣的就是，这些可以通过一个配置文件来灵活地进行配置，而不需要修改应用的代码。
绿盟科技《 Apache Log4j反序列化漏洞安全威胁通告 》 通告全文如下
北京时间18日清晨，Apache Log4j 被曝出存在一个反序列化漏洞(CVE-2017-5645)。攻击者可以通过发送一个特别制作的2进制payload，在组件将字节反序列化为对象时，触发并执行构造的payload代码。该漏洞主要是由于在处理ObjectInputStream时，接收器对于不可靠来源的input没有过滤。可以通过给TcpSocketServer和UdpSocketServer添加可配置的过滤功能以及一些相关设置，可以有效的解决该漏洞。目前Log4j官方已经发布新版本修复了该漏洞。
相关地址：
http://cve.mitre.org/cgi-bin/cvename.cgi?name=%09CVE-2017-5645
https://issues.apache.org/jira/browse/LOG4J2-1863
http://seclists.org/oss-sec/2017/q2/78
影响范围 受影响的版本
所有Apache Log4j 2.*系列版本： Apache Log4j 2.0-alpha1 – Apache Log4j 2.8.1
不受影响的版本： Apache Log4j 2.8.2
规避方案 使用Java 7&#43;的用户应立即升级至2.8.2版本或者避免使用socket server的相关类。参考链接： https://issues.apache.org/jira/browse/LOG4J2/fixforversion/12339750/?selectedTab=com.atlassian.jira.jira-projects-plugin:version-summary-panel
使用Java 6的用户应该避免使用TCP或者UDP 的socket server相关类，用户也可以手动添加2.8.2版本更新的相关代码来解决该漏洞。 参考链接：
https://git-wip-us.apache.org/repos/asf?p=logging-log4j2.git;h=5dcc192 绿盟科技声明 本安全公告仅用来描述可能存在的安全问题，绿盟科技不为此安全公告提供任何保证或承诺。由于传播、利用此安全公告所提供的信息而造成的任何直接或者间接的后果及损失，均由使用者本人负责，绿盟科技以及安全公告作者不为此承担任何责任。绿盟科技拥有对此安全公告的修改和解释权。如欲转载或传播此安全公告，必须保证此安全公告的完整性，包括版权声明等全部内容。未经绿盟科技允许，不得任意修改或者增减此安全公告内容，不得以任何方式将其用于商业目的。
原文发布时间：2017年4月18日
本文由：绿盟科技发布，版权归属于原作者
原文链接:http://toutiao.secjia.com/apache-log4j-deserialization-vulnerabilities-cve-2017-5645
本文来自云栖社区合作伙伴安全加，了解相关信息可以关注安全加网站" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/616ec435ee2358af0fd8afb5b6e5f195/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2017-09-01T15:52:00+08:00" />
<meta property="article:modified_time" content="2017-09-01T15:52:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Apache日志记录组件Log4j出现反序列化漏洞 黑客可以执行任意代码 所有2.x版本均受影响...</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div class="content-detail markdown-body"> 
 <p style="background:rgb(255,255,255);border:0px;vertical-align:baseline;font-family:'微软雅黑', Arial, Helvetica, sans-serif;color:rgb(76,76,76);line-height:22px;font-size:12px;">开源的东西用的人多了，自然漏洞就多。Apache用于日志记录的组件Log4j使用非常灵活，在相当多的开源项目中都有使用，此次漏洞影响所有Apache Log4j 2.*系列版本： Apache Log4j 2.0-alpha1 – Apache Log4j 2.8.1，使用Java 7+的用户应立即升级至2.8.2版本。绿盟科技发布安全威胁通告，通告全文如下：</p> 
 <h3 style="background:rgb(255,255,255);border:0px;vertical-align:baseline;font-family:'微软雅黑', Arial, Helvetica, sans-serif;line-height:40px;font-size:14px;color:rgb(115,115,115);">Apache Log4j是什么</h3> 
 <p style="background:rgb(255,255,255);border:0px;vertical-align:baseline;font-family:'微软雅黑', Arial, Helvetica, sans-serif;color:rgb(76,76,76);line-height:22px;font-size:12px;">Log4j是Apache的一个开源项目，通过使用Log4j，我们可以控制日志信息输送的目的地是控制台、文件、GUI组件，甚至是套接口服务器、NT的事件记录器、UNIX Syslog守护进程等；我们也可以控制每一条日志的输出格式；通过定义每一条日志信息的级别，我们能够更加细致地控制日志的生成过程。最令人感兴趣的就是，这些可以通过一个配置文件来灵活地进行配置，而不需要修改应用的代码。</p> 
 <h3 style="background:rgb(255,255,255);border:0px;vertical-align:baseline;font-family:'微软雅黑', Arial, Helvetica, sans-serif;line-height:40px;font-size:14px;color:rgb(115,115,115);">绿盟科技《 <strong style="background:transparent;border:0px;vertical-align:baseline;font-size:12px;line-height:22px;">Apache Log4j反序列化漏洞安全威胁通告 </strong>》</h3> 
 <p style="background:rgb(255,255,255);border:0px;vertical-align:baseline;font-family:'微软雅黑', Arial, Helvetica, sans-serif;color:rgb(76,76,76);line-height:22px;font-size:12px;">通告全文如下</p> 
 <p style="background:rgb(255,255,255);border:0px;vertical-align:baseline;font-family:'微软雅黑', Arial, Helvetica, sans-serif;color:rgb(76,76,76);line-height:22px;font-size:12px;">北京时间18日清晨，Apache Log4j 被曝出存在一个反序列化漏洞(CVE-2017-5645)。攻击者可以通过发送一个特别制作的2进制payload，在组件将字节反序列化为对象时，触发并执行构造的payload代码。该漏洞主要是由于在处理ObjectInputStream时，接收器对于不可靠来源的input没有过滤。可以通过给TcpSocketServer和UdpSocketServer添加可配置的过滤功能以及一些相关设置，可以有效的解决该漏洞。目前Log4j官方已经发布新版本修复了该漏洞。</p> 
 <p style="background:rgb(255,255,255);border:0px;vertical-align:baseline;font-family:'微软雅黑', Arial, Helvetica, sans-serif;color:rgb(76,76,76);line-height:22px;font-size:12px;">相关地址：</p> 
 <blockquote style="background:rgb(255,255,255);border-width:0px 0px 0px 2px;border-left-style:solid;border-left-color:rgb(232,232,232);vertical-align:baseline;font-family:'Droid Serif', serif;font-size:12px;color:rgb(153,153,153);font-style:italic;line-height:18px;"> 
  <p style="background:transparent;border:0px;vertical-align:baseline;font-family:'微软雅黑', Arial, Helvetica, sans-serif;color:rgb(76,76,76);line-height:22px;"><a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=%09CVE-2017-5645" rel="nofollow" style="background:transparent;border:0px;vertical-align:baseline;color:rgb(115,115,115);"><strong style="background:transparent;border:0px;vertical-align:baseline;line-height:22px;">http://cve.mitre.org/cgi-bin/cvename.cgi?name=%09CVE-2017-5645</strong></a></p> 
  <p style="background:transparent;border:0px;vertical-align:baseline;font-family:'微软雅黑', Arial, Helvetica, sans-serif;color:rgb(76,76,76);line-height:22px;"><a href="https://issues.apache.org/jira/browse/LOG4J2-1863" rel="nofollow" style="background:transparent;border:0px;vertical-align:baseline;color:rgb(115,115,115);"><strong style="background:transparent;border:0px;vertical-align:baseline;line-height:22px;">https://issues.apache.org/jira/browse/LOG4J2-1863</strong></a></p> 
  <p style="background:transparent;border:0px;vertical-align:baseline;font-family:'微软雅黑', Arial, Helvetica, sans-serif;color:rgb(76,76,76);line-height:22px;"><a href="http://seclists.org/oss-sec/2017/q2/78" rel="nofollow" style="background:transparent;border:0px;vertical-align:baseline;color:rgb(115,115,115);"><strong style="background:transparent;border:0px;vertical-align:baseline;line-height:22px;">http://seclists.org/oss-sec/2017/q2/78</strong></a></p> 
 </blockquote> 
 <h4 style="background:rgb(255,255,255);border:0px;vertical-align:baseline;font-family:'微软雅黑', Arial, Helvetica, sans-serif;line-height:50px;font-size:12px;color:rgb(115,115,115);">影响范围</h4> 
 <p style="background:rgb(255,255,255);border:0px;vertical-align:baseline;font-family:'微软雅黑', Arial, Helvetica, sans-serif;color:rgb(76,76,76);line-height:22px;font-size:12px;">受影响的版本</p> 
 <p style="background:rgb(255,255,255);border:0px;vertical-align:baseline;font-family:'微软雅黑', Arial, Helvetica, sans-serif;color:rgb(76,76,76);line-height:22px;font-size:12px;">所有Apache Log4j 2.*系列版本： Apache Log4j 2.0-alpha1 – Apache Log4j 2.8.1</p> 
 <p style="background:rgb(255,255,255);border:0px;vertical-align:baseline;font-family:'微软雅黑', Arial, Helvetica, sans-serif;color:rgb(76,76,76);line-height:22px;font-size:12px;">不受影响的版本： Apache Log4j 2.8.2</p> 
 <h4 style="background:rgb(255,255,255);border:0px;vertical-align:baseline;font-family:'微软雅黑', Arial, Helvetica, sans-serif;line-height:50px;font-size:12px;color:rgb(115,115,115);">规避方案</h4> 
 <ul style="background:rgb(255,255,255);border:0px;vertical-align:baseline;font-family:'微软雅黑', Arial, Helvetica, sans-serif;list-style:none;color:rgb(115,115,115);font-size:12px;"><li style="background:transparent;border:0px;vertical-align:baseline;list-style:disc;">使用Java 7+的用户应立即升级至2.8.2版本或者避免使用socket server的相关类。参考链接：</li></ul> 
 <p style="background:rgb(255,255,255);border:0px;margin-left:21pt;vertical-align:baseline;font-family:'微软雅黑', Arial, Helvetica, sans-serif;color:rgb(76,76,76);line-height:22px;font-size:12px;"><a href="https://issues.apache.org/jira/browse/LOG4J2/fixforversion/12339750/?selectedTab=com.atlassian.jira.jira-projects-plugin:version-summary-panel" rel="nofollow" style="background:transparent;border:0px;vertical-align:baseline;color:rgb(115,115,115);"><strong style="background:transparent;border:0px;vertical-align:baseline;line-height:22px;">https://issues.apache.org/jira/browse/LOG4J2/fixforversion/12339750/?selectedTab=com.atlassian.jira.jira-projects-plugin:version-summary-panel</strong></a></p> 
 <ul style="background:rgb(255,255,255);border:0px;vertical-align:baseline;font-family:'微软雅黑', Arial, Helvetica, sans-serif;list-style:none;color:rgb(115,115,115);font-size:12px;"><li style="background:transparent;border:0px;vertical-align:baseline;list-style:disc;">使用Java 6的用户应该避免使用TCP或者UDP 的socket server相关类，用户也可以手动添加2.8.2版本更新的相关代码来解决该漏洞。</li></ul> 
 <p style="background:rgb(255,255,255);border:0px;margin-left:21pt;vertical-align:baseline;font-family:'微软雅黑', Arial, Helvetica, sans-serif;color:rgb(76,76,76);line-height:22px;font-size:12px;">参考链接：</p> 
 <ul style="background:rgb(255,255,255);border:0px;vertical-align:baseline;font-family:'微软雅黑', Arial, Helvetica, sans-serif;list-style:none;color:rgb(115,115,115);font-size:12px;"><li style="background:transparent;border:0px;vertical-align:baseline;list-style:disc;">https://git-wip-us.apache.org/repos/asf?p=logging-log4j2.git;h=5dcc192</li></ul> 
 <h4 style="background:rgb(255,255,255);border:0px;vertical-align:baseline;font-family:'微软雅黑', Arial, Helvetica, sans-serif;line-height:50px;font-size:12px;color:rgb(115,115,115);">绿盟科技声明</h4> 
 <p style="background:rgb(255,255,255);border:0px;vertical-align:baseline;font-family:'微软雅黑', Arial, Helvetica, sans-serif;color:rgb(76,76,76);line-height:22px;font-size:12px;">本安全公告仅用来描述可能存在的安全问题，绿盟科技不为此安全公告提供任何保证或承诺。由于传播、利用此安全公告所提供的信息而造成的任何直接或者间接的后果及损失，均由使用者本人负责，绿盟科技以及安全公告作者不为此承担任何责任。绿盟科技拥有对此安全公告的修改和解释权。如欲转载或传播此安全公告，必须保证此安全公告的完整性，包括版权声明等全部内容。未经绿盟科技允许，不得任意修改或者增减此安全公告内容，不得以任何方式将其用于商业目的。</p> 
 <p style="background:rgb(255,255,255);border:0px;vertical-align:baseline;font-family:'微软雅黑', Arial, Helvetica, sans-serif;color:rgb(76,76,76);line-height:22px;font-size:12px;"><br></p> 
 <p style="background:rgb(255,255,255);border:0px;vertical-align:baseline;font-family:'微软雅黑', Arial, Helvetica, sans-serif;color:rgb(76,76,76);line-height:22px;font-size:12px;"><br></p> 
 <p style="background:rgb(255,255,255);border:0px;vertical-align:baseline;line-height:22px;"><font color="#4c4c4c"><span style="font-size:12px;">原文发布时间：</span></font><span style="color:rgb(134,134,134);font-family:'微软雅黑', Arial, Helvetica, sans-serif;font-size:12px;">2017年4月18日</span></p> 
 <p style="background:rgb(255,255,255);border:0px;vertical-align:baseline;line-height:22px;"><font color="#4c4c4c"><span style="font-size:12px;">本文由：</span></font><span style="color:rgb(115,115,115);font-family:'微软雅黑', Arial, Helvetica, sans-serif;font-size:12px;">绿盟科技</span><font color="#4c4c4c"><span style="font-size:12px;">发布，版权归属于原作者</span></font></p> 
 <p style="background:rgb(255,255,255);border:0px;vertical-align:baseline;line-height:22px;"><font color="#4c4c4c"><span style="font-size:12px;">原文链接:http://toutiao.secjia.com/apache-log4j-deserialization-vulnerabilities-cve-2017-5645</span></font></p> 
 <p style="background:rgb(255,255,255);border:0px;vertical-align:baseline;line-height:22px;"><font color="#4c4c4c"><span style="font-size:12px;">本文来自云栖社区合作伙伴安全加，了解相关信息可以关注安全加网站</span></font></p> 
</div>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e963edb4912425218d04cbfa8423bedc/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">input文本框不可编辑的3种方法</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/3d3905385a8e1e0a67c74e2cf10230c0/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">签名验签自助排查</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>