<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>红黑树(Red-Black Tree)图文解析 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="红黑树(Red-Black Tree)图文解析" />
<meta property="og:description" content="文章目录 红黑树简介红黑树的应用红黑树的基本操作——左旋和右旋红黑树的基本操作——添加红黑树的基本操作——删除红黑树的C&#43;&#43;实现C&#43;&#43;程序运行结果 红黑树简介 R-B Tree，全称是Red-Black Tree，又称为“红黑树”，它是一种特殊的二叉查找树。红黑树的每个节点上都有存储位表示节点的颜色，可以是红(Red)或黑(Black)。
红黑树的特性：
(1)每个节点要么是黑色，要么是红色。
(2)根节点为黑色
(3)每个叶子节点(NIL)均为黑色。[注：这里的叶子节点指的是空(NIL或者NULL)的叶子节点！！！]
(4)如果一个节点是红色的，那么它的子节点必须是黑色的。
(5)从一个节点到该节点的子孙节点NIL的所有路径上包含相同数目的黑节点。[注：这里指到叶子节点的路径]
特别说明：
①特性(3)中的叶子节点，指的是只为空(NIL或NULL)的节点。
②特性(5)，确保没有一条路径会比其他路径长出两倍。因为，红黑树是相对接近平衡二叉树。
红黑树示意图如下：
红黑树的应用 红黑树的应用十分广泛，以至于我们多多少少了解一些总是有好处的。红黑树可以用来储存有序数据[1]，时间复杂度是O(logn)，效率非常高。
例如，Java集合中的TreeSet和TreeMap，C&#43;&#43; STL中的set、map，以及Linux虚拟内存的管理，都是通过红黑树实现的。
红黑树的基本操作——左旋和右旋 红黑树虽然特殊，但它也是一种树类型的数据结构，少不了增删查这类的操作。但在介绍添加、删除之前，我们需要先介绍一下旋转操作，这主要是出于对红黑树特性的考虑。毕竟在删除或者添加节点之后，很有可能会破坏原有的红黑树结构特性，这时候旋转操作就必不可少了，这和AVL树有一点点相像。总而言之，旋转的目的是让树保持红黑树的特性。
旋转包含两种：左旋和右旋。下面会分别进行介绍。
1.左旋
对节点F进行左旋，意味着将节点F变为其右孩子节点R的左孩子节点，并将节点R的左子树变为节点F的右子树。可参考下图进行理解(此处暂时忽略节点的颜色问题)：
对左旋稍微有点概念之后，可以结合伪代码进行理解“如何对节点x进行左旋”。
LEFT-RORATE(T, x) y ← right[x]	//前提条件: 假设x的右孩子是y。下面开始正式操作 right[x] ← left[y]	//将 “y的左孩子” 设为 “x的右孩子”,即 将β设为F的右孩子 p[left[y]] ← x	//将 “x” 设为 “y的左孩子的父亲”,即 将β的父亲设为F p[y] ← p[x]	//将 “x的父亲” 设为 “y的父亲” if p[x] = nil[T] then root[T] ← y	//情况1: 如果 “x的父亲” 是空节点,则将y设为根节点 else if x = left[p[x]] then left[p[x]] ← y	//情况2: 如果x是它父节点的左孩子,则将y设为“x的父节点的左孩子” else right[p[x]] ← y	//情况3: (x是它父节点的右孩子) 将y设为 “x的父节点的右孩子” left[y] ← x	//将 “x” 设为 “y的左孩子” p[x] ← y	//将 “x的父节点” 设为 “y” 理解左旋之后，不妨进行一个小测验吧，如下图所示是红黑树操作过程的某个状态，现在我们要对节点0040进行左旋，自己动手尝试一下吧，答案点这里哟[2]。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/fe56a7986e802c9691ab43ad4483dd44/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-12-16T22:25:18+08:00" />
<meta property="article:modified_time" content="2018-12-16T22:25:18+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">红黑树(Red-Black Tree)图文解析</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night-eighties">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <blockquote> 
 <p></p> 
 <div class="toc"> 
  <h4>文章目录</h4> 
  <ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><a href="#_2" rel="nofollow">红黑树简介</a></li><li><a href="#_19" rel="nofollow">红黑树的应用</a></li><li><a href="#_24" rel="nofollow">红黑树的基本操作——左旋和右旋</a></li><li><a href="#_90" rel="nofollow">红黑树的基本操作——添加</a></li><li><a href="#_223" rel="nofollow">红黑树的基本操作——删除</a></li><li><a href="#C_360" rel="nofollow">红黑树的C++实现</a></li><li><a href="#C_910" rel="nofollow">C++程序运行结果</a></li></ul> 
      </li></ul> 
     </li></ul> 
    </li></ul> 
   </li></ul> 
  </li></ul> 
 </div> 
 <p></p> 
</blockquote> 
<hr> 
<blockquote> 
 <h6><a id="_2"></a>红黑树简介</h6> 
</blockquote> 
<p><font face="Consolas" size="2">　　<em>R-B Tree，全称是Red-Black Tree，又称为“红黑树”，它是一种特殊的二叉查找树。红黑树的每个节点上都有存储位表示节点的颜色，可以是红(Red)或黑(Black)。</em></font></p> 
<p><font face="Consolas" size="2"><strong>红黑树的特性：</strong></font><br> <font face="仿宋" size="2" color="#00a000">　　<strong>(1)每个节点要么是黑色，要么是红色。</strong></font><br> <font face="仿宋" size="2" color="#00a000">　　<strong>(2)根节点为黑色</strong></font><br> <font face="仿宋" size="2" color="#00a000">　　<strong>(3)每个叶子节点(NIL)均为黑色。</strong></font><font face="仿宋" size="2" color="#ff0000"><strong>[注：这里的叶子节点指的是空(NIL或者NULL)的叶子节点！！！]</strong></font><br> <font face="仿宋" size="2" color="#00a000">　　<strong>(4)如果一个节点是红色的，那么它的子节点必须是黑色的。</strong></font><br> <font face="仿宋" size="2" color="#00a000">　　<strong>(5)从一个节点到该节点的子孙节点NIL的所有路径上包含相同数目的黑节点。</strong></font><font face="仿宋" size="2" color="#ff0000"><strong>[注：这里指到叶子节点的路径]</strong></font></p> 
<p><font face="Consolas" size="2"><strong>特别说明：</strong></font><br> <font face="仿宋" size="2" color="#d87393">　　<strong>①特性(3)中的叶子节点，指的是只为空(NIL或NULL)的节点。</strong></font><br> <font face="仿宋" size="2" color="#d87393">　　<strong>②特性(5)，确保没有一条路径会比其他路径长出两倍。因为，红黑树是相对接近平衡二叉树。</strong></font></p> 
<p><font face="Consolas" size="2"><strong>红黑树示意图如下：</strong></font><br> <img src="https://images2.imgbox.com/1d/40/RDudZqrH_o.png" alt="红黑树示意图"></p> 
<blockquote> 
 <h6><a id="_19"></a>红黑树的应用</h6> 
</blockquote> 
<p><font face="Consolas" size="2">　　<em>红黑树的应用十分广泛，以至于我们多多少少了解一些总是有好处的。红黑树可以用来储存有序数据<sup>[</sup><sup class="footnote-ref"><a href="#fn1" rel="nofollow" id="fnref1">1</a></sup><sup>]</sup>，时间复杂度是O(logn)，效率非常高。</em></font><br> <font face="Consolas" size="2">　　<em>例如，Java集合中的TreeSet和TreeMap，C++ STL中的set、map，以及Linux虚拟内存的管理，都是通过红黑树实现的。</em></font></p> 
<blockquote> 
 <h6><a id="_24"></a>红黑树的基本操作——左旋和右旋</h6> 
</blockquote> 
<p><font face="Consolas" size="2">　　<em>红黑树虽然特殊，但它也是一种树类型的数据结构，少不了增删查这类的操作。但在介绍<strong>添加</strong>、<strong>删除</strong>之前，我们需要先介绍一下旋转操作，这主要是出于对红黑树特性的考虑。毕竟在删除或者添加节点之后，很有可能会破坏原有的红黑树结构特性，这时候旋转操作就必不可少了，这和AVL树有一点点相像。总而言之，旋转的目的是让树保持红黑树的特性。</em></font><br> <font face="Consolas" size="2">　　<em>旋转包含两种：<strong>左旋</strong>和<strong>右旋</strong>。下面会分别进行介绍。</em></font><br> <font face="Consolas" size="5"><strong>1.</strong></font><font face="华文新魏" size="5"><strong>左旋</strong></font><br> <img src="https://images2.imgbox.com/d6/cc/OfUJdGkr_o.png" alt="左旋"><br> <font face="Consolas" size="2">　　<em>对节点F进行左旋，意味着将节点F变为其右孩子节点R的左孩子节点，并将节点R的左子树变为节点F的右子树。可参考下图进行理解(此处暂时忽略节点的颜色问题)：</em></font><br> <img src="https://images2.imgbox.com/01/f8/u8spv4SR_o.gif" alt="左旋动图"><br> <font face="Consolas" size="2">　　<em>对左旋稍微有点概念之后，可以结合伪代码进行理解“如何对节点x进行左旋”。</em></font></p> 
<pre><code class="prism language-json"><span class="token constant">LEFT</span><span class="token operator">-</span><span class="token constant">RORATE</span><span class="token punctuation">(</span><span class="token constant">T</span><span class="token punctuation">,</span> x<span class="token punctuation">)</span>
    y ← right<span class="token punctuation">[</span>x<span class="token punctuation">]</span>			<span class="token comment">//前提条件: 假设x的右孩子是y。下面开始正式操作</span>
    right<span class="token punctuation">[</span>x<span class="token punctuation">]</span> ← left<span class="token punctuation">[</span>y<span class="token punctuation">]</span>			<span class="token comment">//将 “y的左孩子” 设为 “x的右孩子”,即 将β设为F的右孩子</span>
    p<span class="token punctuation">[</span>left<span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">]</span> ← x			<span class="token comment">//将 “x” 设为 “y的左孩子的父亲”,即 将β的父亲设为F</span>
    p<span class="token punctuation">[</span>y<span class="token punctuation">]</span> ← p<span class="token punctuation">[</span>x<span class="token punctuation">]</span>				<span class="token comment">//将 “x的父亲” 设为 “y的父亲”</span>
    <span class="token keyword">if</span> p<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">=</span> nil<span class="token punctuation">[</span><span class="token constant">T</span><span class="token punctuation">]</span>
        then root<span class="token punctuation">[</span><span class="token constant">T</span><span class="token punctuation">]</span> ← y		<span class="token comment">//情况1: 如果 “x的父亲” 是空节点,则将y设为根节点</span>
    <span class="token keyword">else</span> <span class="token keyword">if</span> x <span class="token operator">=</span> left<span class="token punctuation">[</span>p<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">]</span>
        then left<span class="token punctuation">[</span>p<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">]</span> ← y		<span class="token comment">//情况2: 如果x是它父节点的左孩子,则将y设为“x的父节点的左孩子”</span>
    <span class="token keyword">else</span> right<span class="token punctuation">[</span>p<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">]</span> ← y		<span class="token comment">//情况3: (x是它父节点的右孩子) 将y设为 “x的父节点的右孩子”</span>
    left<span class="token punctuation">[</span>y<span class="token punctuation">]</span> ← x				<span class="token comment">//将 “x” 设为 “y的左孩子”</span>
    p<span class="token punctuation">[</span>x<span class="token punctuation">]</span> ← y				<span class="token comment">//将 “x的父节点” 设为 “y”</span>
</code></pre> 
<p><font face="Consolas" size="2">　　<em>理解左旋之后，不妨进行一个小测验吧，如下图所示是红黑树操作过程的某个状态，现在我们要对节点0040进行左旋，自己动手尝试一下吧，答案点这里哟<sup>[</sup><sup class="footnote-ref"><a href="#fn2" rel="nofollow" id="fnref2">2</a></sup><sup>]</sup>。</em></font><br> <img src="https://images2.imgbox.com/94/68/VwiC16pI_o.png" alt="左旋小测验"><br> <font face="Consolas" size="5"><strong>2.</strong></font><font face="华文新魏" size="5"><strong>右旋</strong></font><br> <img src="https://images2.imgbox.com/2d/9e/kEJ3pJVh_o.png" alt="右旋"><br> <font face="Consolas" size="2">　　<em>对节点F进行右旋，意味着将节点F变为其左孩子节点L的右孩子节点，并将节点L的右子树变为节点F的左子树。</em></font><br> <font face="Consolas" size="2">　　<em>对右旋稍微有点概念之后，可以结合伪代码进行理解“如何对节点x进行右旋”。</em></font></p> 
<pre><code class="prism language-json"><span class="token constant">RIGHT</span><span class="token operator">-</span><span class="token constant">RORATE</span><span class="token punctuation">(</span><span class="token constant">T</span><span class="token punctuation">,</span> x<span class="token punctuation">)</span>
    y ← left<span class="token punctuation">[</span>x<span class="token punctuation">]</span>				<span class="token comment">//前提条件: 假设x的左孩子是y。下面开始正式操作</span>
    left<span class="token punctuation">[</span>x<span class="token punctuation">]</span> ← right<span class="token punctuation">[</span>y<span class="token punctuation">]</span>			<span class="token comment">//将 “y的右孩子” 设为 “x的左孩子”,即 将β设为F的左孩子</span>
    p<span class="token punctuation">[</span>right<span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">]</span> ← x			<span class="token comment">//将 “x” 设为 “y的右孩子的父亲”,即 将β的父亲设为F</span>
    p<span class="token punctuation">[</span>y<span class="token punctuation">]</span> ← p<span class="token punctuation">[</span>x<span class="token punctuation">]</span>				<span class="token comment">//将 “x的父亲” 设为 “y的父亲”</span>
    <span class="token keyword">if</span> p<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">=</span> nil<span class="token punctuation">[</span><span class="token constant">T</span><span class="token punctuation">]</span>
        then root<span class="token punctuation">[</span><span class="token constant">T</span><span class="token punctuation">]</span> ← y		<span class="token comment">//情况1: 如果 “x的父亲” 是空节点,则将y设为根节点</span>
    <span class="token keyword">else</span> <span class="token keyword">if</span> x <span class="token operator">=</span> left<span class="token punctuation">[</span>p<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">]</span>
        then left<span class="token punctuation">[</span>p<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">]</span> ← y		<span class="token comment">//情况2: 如果x是它父节点的左孩子,则将y设为“x的父节点的左孩子”</span>
    <span class="token keyword">else</span> right<span class="token punctuation">[</span>p<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">]</span> ← y		<span class="token comment">//情况3: (x是它父节点的右孩子) 将y设为 “x的父节点的右孩子”</span>
    right<span class="token punctuation">[</span>y<span class="token punctuation">]</span> ← x			<span class="token comment">//将 “x” 设为 “y的右孩子”</span>
    p<span class="token punctuation">[</span>x<span class="token punctuation">]</span> ← y				<span class="token comment">//将 “x的父节点” 设为 “y”</span>
</code></pre> 
<p><font face="Consolas" size="2">　　<em>理解右旋之后，同样进行一个小测验，如下图所示是红黑树操作过程的某个状态，现在我们要对节点0040进行左旋，自己动手尝试一下吧，答案点这里哟<sup>[</sup><sup class="footnote-ref"><a href="#fn3" rel="nofollow" id="fnref3">3</a></sup><sup>]</sup>。</em></font><br> <img src="https://images2.imgbox.com/8f/2f/S6ZsnA9v_o.png" alt="右旋小测验"><br> <font face="Consolas" size="2"><strong>旋转总结：</strong></font><br> <font face="仿宋" size="2" color="#00bfff">　　<strong>⒈左旋 和 右旋 是相对应的两个概念(比较一下就会发现)，理解了一个，另一个自然信手拈来。</strong></font><br> <img src="https://images2.imgbox.com/9f/d9/iafHsd6r_o.png" alt="左旋"><img src="https://images2.imgbox.com/2a/14/Z833Rrrk_o.png" alt="右旋"><br> <font face="仿宋" size="2" color="#00bfff">　　<strong>⒉左旋示例图(以x为节点进行左旋)：</strong></font></p> 
<pre><code>                                   z
        x                         /
       / \      --(左旋)--&gt;       x
      y   z                      /
                                y
</code></pre> 
<p><font face="Consolas" size="2">　　<em>对x进行左旋，意味着将“x的右孩子”设为“x的父亲节点”；即，将 x变成了一个左节点(x成了为z的左孩子)。因此，<strong>左旋中的“左”，意味着“被旋转的节点将变成一个左节点”</strong>。</em></font><br> <font face="仿宋" size="2" color="#00bfff">　　<strong>⒊右旋示例图(以x为节点进行右旋)：</strong></font></p> 
<pre><code>                                   y
        x                           \
       / \      --(右旋)--&gt;           x
      y   z                            \
                                        z
</code></pre> 
<p><font face="Consolas" size="2">　　<em>对x进行右旋，意味着将“x的左孩子”设为“x的父亲节点”；即，将 x变成了一个右节点(x成了为z的右孩子)。因此，<strong>右旋中的“右”，意味着“被旋转的节点将变成一个右节点”</strong>。</em></font></p> 
<blockquote> 
 <h6><a id="_90"></a>红黑树的基本操作——添加</h6> 
</blockquote> 
<p><font face="Consolas" size="2">　　<em>将一个节点插入到红黑树中，需要执行哪些步骤呢？ ⑴首先，红黑树是一棵二叉查找树，节点插入规则是插入的数若小于当前节点，则往左子树深入，否则往右子树深入；⑵然后，将插入的节点着色为红色；⑶最后，通过旋转和重新着色操作来修正该树的红黑树特性。详细步骤如下：</em></font><br> <font face="Consolas" size="2">　　<em><strong>第一步：将节点按照二叉查找树的插入规则进行节点插入</strong>。</em></font><br> <font face="Consolas" size="2">　　<em>红黑树本身就是一棵二叉查找树，将节点插入后，该树仍然是一颗二叉查找树。也就意味着，树的键值仍然是有序的。此外，无论是左旋还是右旋，若旋转之前这棵树是二叉查找树，旋转之后它一定还是二叉查找树。这也就意味着，任何的旋转和重新着色操作，都不会改变它仍然是一棵二叉查找树的事实。</em></font><br> <font face="Consolas" size="2">　　<em>好了，那接下来，我们就想方设法通过旋转以及重新着色，使这棵树重新成为红黑树即可。</em></font><br> <font face="Consolas" size="2">　　<em><strong>第二步：将插入节点着色为红色</strong>。</em></font><br> <font face="Consolas" size="2">　　<em>为什么着色成红色，而不是黑色呢？在回答之前，我们需要重新温习一下红黑树的特性：</em></font><br> <font face="仿宋" size="2" color="#00a000">　　　　<strong>(1)每个节点要么是黑色，要么是红色。</strong></font><br> <font face="仿宋" size="2" color="#00a000">　　　　<strong>(2)根节点为黑色</strong></font><br> <font face="仿宋" size="2" color="#00a000">　　　　<strong>(3)每个叶子节点(NIL)均为黑色。</strong></font><font face="仿宋" size="2" color="#ff0000"><strong>[注：这里的叶子节点指的是空(NIL或者NULL)的叶子节点！！！]</strong></font><br> <font face="仿宋" size="2" color="#00a000">　　　　<strong>(4)如果一个节点是红色的，那么它的子节点必须是黑色的。</strong></font><br> <font face="仿宋" size="2" color="#00a000">　　　　<strong>(5)从一个节点到该节点的子孙节点NIL的所有路径上包含相同数目的黑节点。</strong></font><font face="仿宋" size="2" color="#ff0000"><strong>[注：这里指到叶子节点的路径]</strong></font><br> <font face="Consolas" size="2">　　<em>将插入的节点着色为红色，不会违背“特性⑸”。少违背一条特性，就意味着我们需要处理的情况越少。接下来，只要努力让这棵树满足其它性质即可。都满足了的话，它就又是一棵红黑树了。</em></font><br> <font face="Consolas" size="2">　　<em><strong>第三步：通过旋转和重新着色操作来修正该树的红黑树特性</strong>。</em></font><br> <font face="Consolas" size="2">　　<em>第二步中，将插入节点着色为“红色”之后，不会违背“特性⑸”。那它到底会违背哪些特性呢？</em></font><br> <font face="Consolas" size="2">　　<em>对于“特性⑴”，显然不会违背，因为我们已经将它涂成红色了。</em></font><br> <font face="Consolas" size="2">　　<em>对于“特性⑵”，显然也不会违背。在第一步中，我们是按二叉查找树的规则执行的插入操作，而根据二叉查找树的特点，插入操作不会改变根节点。所以，根节点仍然是黑色。</em></font><br> <font face="Consolas" size="2">　　<em>对于“特性⑶”，显然不会违背。因为这里的叶子节点指的是空叶子节点，插入非空节点并不会对它们造成影响。</em></font><br> <font face="Consolas" size="2">　　<em>对于“特性⑷”，是有可能违背的。</em></font><br> <font face="Consolas" size="2">　　<em>这样分析下来，我们只要满足了“特性⑷”就可以将树重新构造成红黑树了。</em></font></p> 
<p><font face="Consolas" size="2"><em>接下来我们一起来看一下伪代码，随后会对各种情况进行分析。</em></font></p> 
<p><font face="Consolas" size="2"><em>添加操作的伪代码</em></font></p> 
<pre><code class="prism language-json"><span class="token constant">RB</span><span class="token operator">-</span><span class="token constant">INSERT</span><span class="token punctuation">(</span><span class="token constant">T</span><span class="token punctuation">,</span> z<span class="token punctuation">)</span>
    x ← root<span class="token punctuation">[</span><span class="token constant">T</span><span class="token punctuation">]</span>				<span class="token comment">//设“红黑树T”的根节点为“x”</span>
    y ← nil<span class="token punctuation">[</span><span class="token constant">T</span><span class="token punctuation">]</span>				<span class="token comment">//新建节点“y”,将y设为空节点,这里的y是作为x的父节点使用的</span>
    <span class="token keyword">while</span> x ≠ nil<span class="token punctuation">[</span><span class="token constant">T</span><span class="token punctuation">]</span>			<span class="token comment">//当“x”指向空叶子节点时,意味着找到了要插入节点“z”在红黑树T中的父节点“y”</span>
        <span class="token keyword">do</span> y ← x
            <span class="token keyword">if</span> key<span class="token punctuation">[</span>z<span class="token punctuation">]</span> <span class="token operator">&lt;</span> key<span class="token punctuation">[</span>x<span class="token punctuation">]</span>
                then x ← left<span class="token punctuation">[</span>x<span class="token punctuation">]</span>
            <span class="token keyword">else</span> x ← right<span class="token punctuation">[</span>x<span class="token punctuation">]</span>
    p<span class="token punctuation">[</span>z<span class="token punctuation">]</span> ← y				<span class="token comment">//设置“z”的父节点是“y”</span>
    <span class="token keyword">if</span> y <span class="token operator">=</span> nil<span class="token punctuation">[</span><span class="token constant">T</span><span class="token punctuation">]</span>
        then root<span class="token punctuation">[</span><span class="token constant">T</span><span class="token punctuation">]</span> ← z		<span class="token comment">//情况1: 若y是空节点,则设“z”为根,因为y是x的父节点,且只有x是根节点的时候,y才是空节点</span>
    <span class="token keyword">else</span> <span class="token keyword">if</span> key<span class="token punctuation">[</span>z<span class="token punctuation">]</span> <span class="token operator">&lt;</span> key<span class="token punctuation">[</span>y<span class="token punctuation">]</span>
        left<span class="token punctuation">[</span>y<span class="token punctuation">]</span> ← z			<span class="token comment">//情况2: 若 “z的值” &lt; “y的值”,则设“z”为“y”的左孩子</span>
    <span class="token keyword">else</span> right<span class="token punctuation">[</span>y<span class="token punctuation">]</span> ← z			<span class="token comment">//情况3: 若 “z的值” ≥ “y的值”,则设“z”为“y”的右孩子</span>
    left<span class="token punctuation">[</span>z<span class="token punctuation">]</span> ← nil<span class="token punctuation">[</span><span class="token constant">T</span><span class="token punctuation">]</span>			<span class="token comment">//“z”的左孩子设为空节点</span>
    right<span class="token punctuation">[</span>z<span class="token punctuation">]</span> ← nil<span class="token punctuation">[</span><span class="token constant">T</span><span class="token punctuation">]</span>			<span class="token comment">//“z”的右孩子设为空节点,到这一步已经完成了“将z节点插入到红黑树中”的操作</span>
    color<span class="token punctuation">[</span>z<span class="token punctuation">]</span> ← <span class="token constant">RED</span>			<span class="token comment">//将“z”着色为红色</span>
    <span class="token constant">RB</span><span class="token operator">-</span><span class="token constant">INSERT</span><span class="token operator">-</span><span class="token constant">FIXUP</span><span class="token punctuation">(</span><span class="token constant">T</span><span class="token punctuation">,</span> z<span class="token punctuation">)</span>		<span class="token comment">//通过RB-INSERT-FIXUP对红黑树的节点进行重新着色以及旋转,让树T仍然保持红黑树特性</span>
</code></pre> 
<p><font face="Consolas" size="2"><em>结合伪代码及注释，先理解RB-INSERT节点插入过程。之后，我们对节点重新着色和旋转操作进行说明。</em></font><br> <font face="Consolas" size="2"><em>添加修正操作的伪代码</em></font></p> 
<pre><code class="prism language-json"><span class="token constant">RB</span><span class="token operator">-</span><span class="token constant">INSERT</span><span class="token operator">-</span><span class="token constant">FIXUP</span><span class="token punctuation">(</span><span class="token constant">T</span><span class="token punctuation">,</span> z<span class="token punctuation">)</span>
    <span class="token keyword">while</span> color<span class="token punctuation">[</span>p<span class="token punctuation">[</span>z<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token constant">RED</span>						<span class="token comment">//若当前节点“z”的父节点是红色,则进行以下处理</span>
        <span class="token keyword">do</span> <span class="token keyword">if</span> p<span class="token punctuation">[</span>z<span class="token punctuation">]</span> <span class="token operator">=</span> left<span class="token punctuation">[</span>p<span class="token punctuation">[</span>p<span class="token punctuation">[</span>z<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span>					<span class="token comment">//若“z的父节点”是“z的祖父节点”的左孩子,则进行以下处理</span>
               then y ← right<span class="token punctuation">[</span>p<span class="token punctuation">[</span>p<span class="token punctuation">[</span>z<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span>					<span class="token comment">//将“y”设置成“z”的叔叔节点(z的祖父节点的右孩子)</span>
               <span class="token keyword">if</span> color<span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token constant">RED</span>					<span class="token comment">//Case1: “叔叔节点”是红色</span>
                   then color<span class="token punctuation">[</span>y<span class="token punctuation">]</span> ← <span class="token constant">BLACK</span>		▲ case1		<span class="token comment">// ①将“叔叔节点”设置为黑色</span>
                        color<span class="token punctuation">[</span>p<span class="token punctuation">[</span>z<span class="token punctuation">]</span><span class="token punctuation">]</span> ← <span class="token constant">BLACK</span>		▲ case1		<span class="token comment">// ②将“父亲节点”设置为黑色</span>
                        color<span class="token punctuation">[</span>p<span class="token punctuation">[</span>p<span class="token punctuation">[</span>z<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span> ← <span class="token constant">RED</span>		▲ case1		<span class="token comment">// ③将“祖父节点”设置为红色</span>
                        z ← p<span class="token punctuation">[</span>p<span class="token punctuation">[</span>z<span class="token punctuation">]</span><span class="token punctuation">]</span>			▲ case1		<span class="token comment">// ④将“祖父节点”设置为“当前节点”(红色节点)[红色节点是要继续处理的]</span>
               <span class="token keyword">else</span>
                   <span class="token keyword">if</span> z <span class="token operator">=</span> right<span class="token punctuation">[</span>p<span class="token punctuation">[</span>z<span class="token punctuation">]</span><span class="token punctuation">]</span>					<span class="token comment">//Case2: “叔叔节点”是黑色,且当前节点是右孩子</span>
                       then z ← p<span class="token punctuation">[</span>z<span class="token punctuation">]</span>			▲ case2		<span class="token comment">// ①将“父节点”设置为“新的当前节点”</span>
                            <span class="token constant">LEFT</span><span class="token operator">-</span><span class="token constant">RORATE</span><span class="token punctuation">(</span><span class="token constant">T</span><span class="token punctuation">,</span> z<span class="token punctuation">)</span>		▲ case2		<span class="token comment">// ②以“新的当前节点”为支点进行左旋</span>
									<span class="token comment">//Case3: “叔叔节点”是黑色,且当前节点是左孩子</span>
                   color<span class="token punctuation">[</span>p<span class="token punctuation">[</span>z<span class="token punctuation">]</span><span class="token punctuation">]</span> ← <span class="token constant">BLACK</span>			▲ case3		<span class="token comment">// ①将“父亲节点”设置为黑色</span>
                   color<span class="token punctuation">[</span>p<span class="token punctuation">[</span>p<span class="token punctuation">[</span>z<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span> ← <span class="token constant">RED</span>			▲ case3		<span class="token comment">// ②将“祖父节点”设置为红色</span>
                   <span class="token constant">RIGHT</span><span class="token operator">-</span><span class="token constant">RORATE</span><span class="token punctuation">(</span><span class="token constant">T</span><span class="token punctuation">,</span> p<span class="token punctuation">[</span>p<span class="token punctuation">[</span>z<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>		▲ case3		<span class="token comment">// ③以“祖父节点”为支点进行右旋</span>
           <span class="token keyword">else</span> <span class="token punctuation">(</span>same <span class="token keyword">as</span> then clause <span class="token keyword">with</span> <span class="token string">"right"</span> and <span class="token string">"left"</span> exchanged<span class="token punctuation">)</span>	<span class="token comment">//若“z的父节点”是“z的祖父节点”的右孩子,将上面操作中的“right”和“left”交换位置,然后依次执行即可</span>
    color<span class="token punctuation">[</span>root<span class="token punctuation">[</span><span class="token constant">T</span><span class="token punctuation">]</span><span class="token punctuation">]</span> ← <span class="token constant">BLACK</span>						<span class="token comment">//根节点设置为黑色</span>
</code></pre> 
<p><font face="Consolas" size="2"><em>根据被插入节点的父节点的情况，可以将“节点z插入红黑树中并着色为红色”划分为三种情况来处理。</em></font><br> <font face="Consolas" size="2"><em>㈠情况说明: 被插入节点是根节点。</em></font><br> <font face="Consolas" size="2">　<em>处理方法: 直接把该节点涂为黑色。</em></font><br> <font face="Consolas" size="2"><em>㈡情况说明: 被插入节点的父节点是黑色。</em></font><br> <font face="Consolas" size="2">　<em>处理方法: 无需处理，节点插入后不影响红黑树特性。</em></font><br> <font face="Consolas" size="2"><em>㈢情况说明: 被插入节点的父节点是红色。</em></font><br> <font face="Consolas" size="2">　<em>处理方法: 该情况与红黑树“特性⑸”冲突。该情况下，被插入节点必定存在非空祖父节点(原因: 被插入节点的父节点是红色,所以必定不是根节点,那么必定有一个黑色的祖父节点)。进一步说明，被插入节点也一定存在叔叔节点(即便叔叔节点是空叶子节点，我们也认为存在，因为空叶子节点本身就是黑色)。理解这点之后，我们又可以根据叔叔节点的情况进一步划分出三种情况(Case)。</em></font></p> 
<table><thead><tr><th></th><th align="left">现象说明</th><th align="left">处理策略</th></tr></thead><tbody><tr><td>Case1</td><td align="left">当前节点的父节点是<font color="red"><strong>红色</strong></font>，且当前节点的祖父节点的另一个子节点(叔叔节点)也是<font color="red"><strong>红色</strong></font></td><td align="left">1.将“父节点”设为<strong>黑色</strong><br>2.将“叔叔节点”设为<strong>黑色</strong><br>3.将“祖父节点”设为<font color="red"><strong>红色</strong></font><br>4.将“祖父节点”设为“当前节点”(<font color="red"><strong>红色</strong></font>节点)；即，之后继续对“当前节点”进行操作</td></tr><tr><td>Case2</td><td align="left">当前节点的父节点是<font color="red"><strong>红色</strong></font>，叔叔节点是<strong>黑色</strong>，且当前节点是其父节点的右孩子</td><td align="left">1.将“父节点”作为“新的当前节点”<br>2.以“新的当前节点”为支点进行左旋</td></tr><tr><td>Case3</td><td align="left">当前节点的父节点是<font color="red"><strong>红色</strong></font>，叔叔节点是<strong>黑色</strong>，且当前节点是其父节点的左孩子</td><td align="left">1.将“父节点”设为<strong>黑色</strong><br>2.将“祖父节点”设为<font color="red"><strong>红色</strong></font><br>3.以“祖父节点”为支点进行右旋</td></tr></tbody></table> 
<p><font face="仿宋" size="2" color="orange">　　　<strong>注:此表仅考虑被插入节点的父节点为祖父节点的左孩子的情况，另一种情况与之对称。</strong></font><br> <font face="Consolas" size="2"><em>以上三种情况处理问题的核心思想都是: <font color="red">将红色节点移到根节点；然后将根节点设为黑色</font>。下面将进行详细介绍。</em></font></p> 
<p><font face="华文琥珀" size="3">1.(Case 1)叔叔节点是红色</font><br> <font face="仿宋" size="2"><strong>1.1 现象说明</strong></font><br> <font face="幼圆" size="2">当前节点的父节点是<font color="red"><strong>红色</strong></font>，且当前节点的祖父节点的另一个子节点(叔叔节点)也是<font color="red"><strong>红色</strong></font></font><br> <font face="仿宋" size="2"><strong>1.2 处理策略</strong></font><br> <font face="幼圆" size="2">⑴将“父节点”设为<strong>黑色</strong><br>⑵将“叔叔节点”设为<strong>黑色</strong><br>⑶将“祖父节点”设为<font color="red"><strong>红色</strong></font><br>⑷将“祖父节点”设为“当前节点”(<font color="red"><strong>红色</strong></font>节点)；即，之后继续对“当前节点”进行操作</font><br> <font face="仿宋" size="2">　　<strong>下面分析一下为什么要这样处理(建议结合示意图进行理解)：</strong></font><br> <font face="华文细黑" size="2">　　“当前节点”和“父节点”都是红色，违背“特性⑷”。所以，将“父节点”染成“黑色”这点毋庸置疑。<br>　　但是，将“父节点”由“红色”染成“黑色”之后，违背了“特性⑸”：因为，包含“父节点”的这条分支的黑色节点总数增加了1。 解决这个问题的办法是：将“祖父节点”由“黑色”变成红色，同时，将“叔叔节点”由“红色”变成“黑色”。关于这里，说明几点：第一，为什么“祖父节点”之前是黑色？这个应该很容易想明白，因为在变换操作之前，该树是红黑树，“父节点”是红色，那么“祖父节点”一定是黑色； 第二，为什么将“祖父节点”由“黑色”变成“红色”，同时，将“叔叔节点”由“红色”变成“黑色”？因为这样能解决“包含‘父节点’的分支的黑色节点总数增加了1”的问题。这个道理也很简单。“包含‘父节点’的分支的黑色节点总数增加了1” 同时也意味着 “包含‘祖父节点’的分支的黑色节点的总数增加了1”，既然这样，我们通过将“祖父节点”由“黑色”变成“红色”以解决“包含‘祖父节点’的分支的黑色节点的总数增加了1”的问题； 但是，这样处理之后又会引起另一个问题“包含‘叔叔’节点的分支的黑色节点的总数减少了1”，现在我们已知“叔叔节点”是“红色”，将“叔叔节点”设为“黑色”就能解决这个问题。 所以，将“祖父节点”由“黑色”变成“红色”，同时，将“叔叔节点”由“红色”变成“黑色”，就解决了该问题。<br>　　按照上面的步骤处理之后：当前节点、父节点、叔叔节点之间都不会违背红黑树特性，但祖父节点却不一定。若此时，祖父节点是根节点，直接将祖父节点设为“黑色”，那就完全解决这个问题了；若祖父节点不是根节点，那我们需要将“祖父节点”设为“新的当前节点”，接着对“新的当前节点”进行分析。</font><br> <font face="仿宋" size="2"><strong>1.3 示意图</strong></font><br> <font face="隶书" size="2">　<strong>1.3.1 动图演示</strong></font><br> <img src="https://images2.imgbox.com/b1/80/Suqx8hHf_o.gif" alt="红黑树插入case1"><br> <font face="隶书" size="2">　<strong>1.3.2 过程模拟</strong></font><br> <font face="微软雅黑" size="2">　　第一步：</font><br> <img src="https://images2.imgbox.com/74/cb/hgV51Aj5_o.png" alt="step1"><br> <font face="微软雅黑" size="2">　　第二步：修复操作(当前节点是20，用cur表示)</font><img src="https://images2.imgbox.com/9c/05/Mw07RjKI_o.png" alt="step2"><br> <font face="微软雅黑" size="2">　　第三步：继续对新的当前节点进行修复操作<br>　　这里因为到达了根节点，所以停止了修复，如果当前节点不是根节点，或者当前节点的父节点不是黑色节点，那么就需要继续向上修复。<br><br>　　第四步：继续插入新节点</font><br> <img src="https://images2.imgbox.com/92/9d/qboUbrpL_o.png" alt="step4"><br> <font face="微软雅黑" size="2">　　第五步：插入新节点–再接再厉</font><br> <img src="https://images2.imgbox.com/3b/cb/APvFKFNO_o.png" alt="step5"><br> <font face="微软雅黑" size="2">　　这时候面临的是叔叔节点不是红色，不再满足case1的情况，继续分析。</font></p> 
<p><font face="华文琥珀" size="3">2.(Case 2)叔叔节点是黑色，且当前节点是右孩子</font><br> <font face="仿宋" size="2"><strong>2.1 现象说明</strong></font><br> <font face="幼圆" size="2">当前节点的父节点是<font color="red"><strong>红色</strong></font>，叔叔节点是<strong>黑色</strong>，且当前节点是其父节点的右孩子</font><br> <font face="仿宋" size="2"><strong>2.2 处理策略</strong></font><br> <font face="幼圆" size="2">⑴将“父节点”作为“新的当前节点”<br>⑵以“新的当前节点”为支点进行左旋</font><br> <font face="仿宋" size="2">　　<strong>下面分析一下为什么要这样处理(建议结合示意图进行理解)：</strong></font><br> <font face="华文细黑" size="2">　　首先，将“父节点”作为“新的当前节点”；接着，以“新的当前节点”为支点进行左旋。 为了便于理解，我们先说明第⑵步，再说明第⑴步；为了便于说明，我们设置“父节点”的代号为F(Father)，“当前节点”的代号为S(Son)。<br>　　为什么要“以F为支点进行左旋”呢？其实这里是为case 3这种情况做的准备(可以结合case 3一起理解 or 先理解case 3的策略)，我们修复红黑树秉持着能少处理就少处理的原则，但是此处单纯依靠重新染色操作无法避免与“特性⑷”和“特性⑸”相违背，迫于无奈只能采取变动稍大的旋转操作。而此处的左旋是和case 3的右旋相对应的，假设我们没有进行左旋，而是对祖父节点直接进行右旋，那么只是将“违背特性⑷”的问题换了一个分支，但问题依然存在。如下图，当前节点是60，父节点是40，叔叔节点是90，祖父节点是80，若我们不对父亲节点左旋，而是直接采取case 3的操作，就会发现，问题并没有解决，只是把皮球抛给了对方。综上，这也就是这里为什么要“以F为支点进行左旋”的原因。</font><br> <img src="https://images2.imgbox.com/75/f4/nkx91pDE_o.png" alt="假想图"><br> <font face="华文细黑" size="2">　　按照上面的步骤(以F为支点进行左旋)处理之后：若S变成了根节点，那么直接将其设为“黑色”，就完全解决问题了；若S不是根节点，那我们需要执行步骤⑴，即“将F设为‘新的当前节点’”。那为什么不继续以S为新的当前节点继续处理，而需要以F为新的当前节点来进行处理呢？这是因为“左旋”之后，F变成了S的“子节点”，即S变成了F的父节点；而我们处理问题的时候，需要从下至上(由叶到根)方向进行处理；也就是说，必须先解决“孩子”的问题，再解决“父亲”的问题；所以，我们执行步骤⑴：将“父节点”作为“新的当前节点”。</font><br> <font face="仿宋" size="2"><strong>2.3 示意图</strong></font><br> <font face="隶书" size="2">　<strong>2.3.1 动图演示</strong></font><br> <img src="https://images2.imgbox.com/2b/60/hUWR7FMS_o.gif" alt="红黑树插入case2"><br> <font face="隶书" size="2">　<strong>2.3.2 过程模拟</strong></font><br> <img src="https://images2.imgbox.com/29/43/ZcNEeHLu_o.png" alt="2.3.2"><br> <font face="微软雅黑" size="2">　　该过程提前剧透了case 3的处理策略，可以先看看。</font></p> 
<p><font face="华文琥珀" size="3">3.(Case 3)叔叔节点是黑色，且当前节点是左孩子</font><br> <font face="仿宋" size="2"><strong>3.1 现象说明</strong></font><br> <font face="幼圆" size="2">当前节点的父节点是<font color="red"><strong>红色</strong></font>，叔叔节点是<strong>黑色</strong>，且当前节点是其父节点的左孩子</font><br> <font face="仿宋" size="2"><strong>3.2 处理策略</strong></font><br> <font face="幼圆" size="2">⑴将“父节点”设为<strong>黑色</strong><br>⑵将“祖父节点”设为<font color="red"><strong>红色</strong></font><br>⑶以“祖父节点”为支点进行右旋</font><br> <font face="仿宋" size="2">　　<strong>下面分析一下为什么要这样处理(建议结合示意图进行理解)：</strong></font><br> <font face="华文细黑" size="2">　　为了便于说明，我们设置“当前节点”为S(Son)，“叔叔节点”为U(Uncle)，“父节点”为F(Father)，祖父节点为G(Grand-Father)。<br>　　目前，所有分支的黑色节点个数是一致的，现在出现两个连续红色节点S和F，那么简单点，将其中一个改成黑色节点，将父节点F变成黑色，那么以父节点F的局部子树是平衡的，但是 父节点的兄弟节点U可能是不平衡的，因为父节点F路径多了一个黑色，那么这个黑色节点放在哪里？ 只能往根节点移，将祖父G变红，这样祖父G的另一个分支将少一个黑色节点，再把祖父G右旋，这样父节点F代替了原来的祖父G，也就相当于把多的黑色节点，放在了公共的祖父位置上。</font><br> <font face="仿宋" size="2"><strong>3.3 示意图</strong></font><br> <font face="隶书" size="2">　<strong>3.3.1 动图演示</strong></font><br> <img src="https://images2.imgbox.com/7b/a9/Z9sC8TFn_o.gif" alt="红黑树插入case3"><br> <font face="隶书" size="2">　<strong>3.3.2 过程模拟</strong></font><br> <img src="https://images2.imgbox.com/35/a2/kNdLlH6p_o.png" alt="3.3.2"><br> <font face="微软雅黑" size="2">　　至此，红黑树的添加操作终于完成了。</font></p> 
<blockquote> 
 <h6><a id="_223"></a>红黑树的基本操作——删除</h6> 
</blockquote> 
<p><font face="Consolas" size="2">　　<em>将红黑树内的某一个节点删除，需要执行哪些步骤呢？ ⑴首先，红黑树是一棵二叉查找树，按照二叉查找树的节点删除规则删除该节点；⑵然后，通过旋转和重新着色操作来修正该树的红黑树特性。详细步骤如下：</em></font><br> <font face="Consolas" size="2">　　<em><strong>第一步：将节点按照二叉查找树的删除规则进行节点删除</strong>。</em></font><br> <font face="Consolas" size="2">　　<em>这和“删除常规二叉查找树中的节点方法是一样的”。分3种情况：</em></font><br> <font face="Consolas" size="2">　　　　Ⅰ.被删除节点没有儿子，即为叶节点。那么，直接将该节点删除就OK了。<br>　　　　Ⅱ.被删除节点只有一个儿子。那么，直接删除该节点，并用该节点的唯一子节点顶替它的位置。<br>　　　　Ⅲ.被删除节点有两个儿子。那么，先找出它的[前驱节点/后继节点]；然后把“它的[前驱节点/后继节点]的内容”复制给“该节点”；之后，删除“它的[前驱节点/后继节点]”。在这里，[前驱节点/后继节点]相当于替身，在将[前驱节点/后继节点]的内容复制给"被删除节点"之后，再将[前驱节点/后继节点]删除。这样就巧妙的将问题转换为“删除[前驱节点/后继节点]”的情况了，下面就考虑[前驱节点/后继节点]。在"被删除节点"有两个非空子节点的情况下，它的[前驱节点/后继节点]不可能是双子非空。既然"[前驱节点/后继节点]"不可能双子都非空，就意味着"该节点的[前驱节点/后继节点]"要么没有儿子，要么只有一个儿子。若没有儿子，则按"情况Ⅰ"进行处理；若只有一个儿子，则按"情况Ⅱ"进行处理。</font></p> 
<p><font face="Consolas" size="2">　　<em><strong>第二步：通过旋转和重新着色操作来修正该树的红黑树特性</strong>。</em></font><br> <font face="Consolas" size="2">　　<em>因为"第一步"中删除节点之后，可能会违背红黑树的特性。所以需要通过"旋转和重新着色"来修正该树，使之重新成为一棵红黑树。</em></font></p> 
<p><font face="Consolas" size="2"><em>接下来我们一起来看一下伪代码，随后会对各种情况进行分析。</em></font></p> 
<p><font face="Consolas" size="2"><em>删除操作的伪代码</em></font></p> 
<pre><code class="prism language-json"><span class="token constant">RB</span><span class="token operator">-</span><span class="token constant">DELETE</span><span class="token punctuation">(</span><span class="token constant">T</span><span class="token punctuation">,</span> z<span class="token punctuation">)</span>
    <span class="token keyword">if</span> left<span class="token punctuation">[</span>z<span class="token punctuation">]</span> <span class="token operator">=</span> nil<span class="token punctuation">[</span><span class="token constant">T</span><span class="token punctuation">]</span> or right<span class="token punctuation">[</span>z<span class="token punctuation">]</span> <span class="token operator">=</span> nil<span class="token punctuation">[</span><span class="token constant">T</span><span class="token punctuation">]</span>
        then y ← z				<span class="token comment">//若 “z的左孩子” 或者 “z的右孩子” 为空,则将“z”赋值给“y”</span>
    <span class="token keyword">else</span> y ← <span class="token constant">TREE</span><span class="token operator">-</span><span class="token constant">PRECURSOR</span><span class="token punctuation">(</span>z<span class="token punctuation">)</span>			<span class="token comment">//否则,将“z的前驱节点”赋值给“y”,或将“z的后继节点”赋值给“y”,y ← TREE-SUCCESSOR(z)</span>
    <span class="token keyword">if</span> left<span class="token punctuation">[</span>y<span class="token punctuation">]</span> ≠ nil<span class="token punctuation">[</span><span class="token constant">T</span><span class="token punctuation">]</span>
        then x ← left<span class="token punctuation">[</span>y<span class="token punctuation">]</span>			<span class="token comment">//若 “y的左孩子” 不为空,则将“y的左孩子”赋值给“x”</span>
    <span class="token keyword">else</span> x ← right<span class="token punctuation">[</span>y<span class="token punctuation">]</span>				<span class="token comment">//否则将“y的右孩子”赋值给“x”</span>
    p<span class="token punctuation">[</span>x<span class="token punctuation">]</span> ← p<span class="token punctuation">[</span>y<span class="token punctuation">]</span>					<span class="token comment">//将“y的父节点”设置为“x的父节点”</span>
    <span class="token keyword">if</span> p<span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">=</span> nil<span class="token punctuation">[</span><span class="token constant">T</span><span class="token punctuation">]</span>
        then root<span class="token punctuation">[</span><span class="token constant">T</span><span class="token punctuation">]</span> ← x			<span class="token comment">//情况1: 若“y的父节点”为空,则设置“x”为根节点</span>
    <span class="token keyword">else</span> <span class="token keyword">if</span> y <span class="token operator">=</span> left<span class="token punctuation">[</span>p<span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">]</span>
        then left<span class="token punctuation">[</span>p<span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">]</span> ← x			<span class="token comment">//情况2: 若“y是它父节点的左孩子”,则设置“x”为“y的父节点”的左孩子</span>
    <span class="token keyword">else</span> right<span class="token punctuation">[</span>p<span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">]</span> ← x			<span class="token comment">//情况3: 若“y是它父节点的右孩子”,则设置“x”为“y的父节点”的右孩子</span>
    <span class="token keyword">if</span> key<span class="token punctuation">[</span>y<span class="token punctuation">]</span> ≠ key<span class="token punctuation">[</span>z<span class="token punctuation">]</span>
        then key<span class="token punctuation">[</span>z<span class="token punctuation">]</span> ← key<span class="token punctuation">[</span>y<span class="token punctuation">]</span>			<span class="token comment">//若“y的值”和“z的值”不等,则赋值给“z”。注意: 这里只拷贝z的值给y,而没有拷贝z的颜色</span>
    <span class="token keyword">if</span> color<span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token constant">BLACK</span>
        then <span class="token constant">RB</span><span class="token operator">-</span><span class="token constant">DELETE</span><span class="token operator">-</span><span class="token constant">FIXUP</span><span class="token punctuation">(</span><span class="token constant">T</span><span class="token punctuation">,</span> x<span class="token punctuation">)</span>		<span class="token comment">//若“y为黑节点”,则需要进行染色、旋转修正</span>
    <span class="token keyword">return</span> y					<span class="token comment">//返回删除节点用于delete(C++实现时需要)</span>
</code></pre> 
<p><font face="Consolas" size="2"><em>结合伪代码及注释，先理解RB-DELETE节点删除过程。之后，我们对节点重新着色和旋转操作进行说明。</em></font><br> <font face="Consolas" size="2"><em>删除修正操作的伪代码</em></font></p> 
<pre><code class="prism language-json"><span class="token constant">RB</span><span class="token operator">-</span><span class="token constant">DELETE</span><span class="token operator">-</span><span class="token constant">FIXUP</span><span class="token punctuation">(</span><span class="token constant">T</span><span class="token punctuation">,</span> x<span class="token punctuation">)</span>
    <span class="token keyword">while</span> x ≠ root<span class="token punctuation">[</span><span class="token constant">T</span><span class="token punctuation">]</span> and color<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token constant">BLACK</span>				<span class="token comment">//若“x”是红节点或根节点,直接染成黑色即可</span>
        <span class="token keyword">do</span> <span class="token keyword">if</span> x <span class="token operator">=</span> left<span class="token punctuation">[</span>p<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">]</span>
               then w ← right<span class="token punctuation">[</span>p<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">]</span>					<span class="token comment">//若 “x”是“它父节点的左孩子”,则设置 “w”为“x的兄弟”(即w为x父节点的右孩子)</span>
               <span class="token keyword">if</span> color<span class="token punctuation">[</span>w<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token constant">RED</span>					<span class="token comment">//Case 1: x是“黑”节点,x的兄弟节点是红色。(此时x的父节点和x的兄弟节点的子节点都是黑节点)</span>
                   then color<span class="token punctuation">[</span>w<span class="token punctuation">]</span> ← <span class="token constant">BLACK</span>		▲ case1		<span class="token comment">// ①将“兄弟节点”设置为黑色</span>
                        color<span class="token punctuation">[</span>p<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">]</span> ← <span class="token constant">RED</span>		▲ case1		<span class="token comment">// ②将“父亲节点”设置为红色</span>
                        <span class="token constant">LEFT</span><span class="token operator">-</span><span class="token constant">RORATE</span><span class="token punctuation">(</span><span class="token constant">T</span><span class="token punctuation">,</span> p<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span>		▲ case1		<span class="token comment">// ③以“父亲节点”为支点进行左旋</span>
                        w ← right<span class="token punctuation">[</span>p<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">]</span>			▲ case1		<span class="token comment">// ④左旋后,重新设置x的兄弟节点</span>
               <span class="token keyword">if</span> color<span class="token punctuation">[</span>left<span class="token punctuation">[</span>w<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token constant">BLACK</span> and color<span class="token punctuation">[</span>right<span class="token punctuation">[</span>w<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token constant">BLACK</span>	<span class="token comment">//Case 2: x是“黑”节点,x的兄弟节点是黑色,x的兄弟节点的两个孩子都是黑色</span>
                   then color<span class="token punctuation">[</span>w<span class="token punctuation">]</span> ← <span class="token constant">RED</span>			▲ case2		<span class="token comment">// ①将“兄弟节点”设置为红色</span>
                        x ← p<span class="token punctuation">[</span>x<span class="token punctuation">]</span>			▲ case2		<span class="token comment">// ②将“父亲节点”设置为“新的x节点”</span>
               <span class="token keyword">else</span>
                   <span class="token keyword">if</span> color<span class="token punctuation">[</span>right<span class="token punctuation">[</span>w<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token constant">BLACK</span>				<span class="token comment">//Case 3: x是“黑”节点,x的兄弟节点是黑色,x的兄弟节点的左孩子是红色,右孩子是黑色</span>
                       then color<span class="token punctuation">[</span>w<span class="token punctuation">]</span> ← <span class="token constant">RED</span>		▲ case3		<span class="token comment">// ①将“兄弟节点”设置为红色</span>
                            color<span class="token punctuation">[</span>left<span class="token punctuation">[</span>w<span class="token punctuation">]</span><span class="token punctuation">]</span> ← <span class="token constant">BLACK</span>	▲ case3		<span class="token comment">// ②将“兄弟节点的左孩子”设置为黑色</span>
                            <span class="token constant">RIGHT</span><span class="token operator">-</span><span class="token constant">ROTATE</span><span class="token punctuation">(</span><span class="token constant">T</span><span class="token punctuation">,</span> w<span class="token punctuation">)</span>		▲ case3		<span class="token comment">// ③以“兄弟节点”为支点进行右旋</span>
                            w ← right<span class="token punctuation">[</span>p<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">]</span>		▲ case3		<span class="token comment">// ④右旋后,重新设置x的兄弟节点</span>
									<span class="token comment">//Case 4: x是“黑”节点,x的兄弟节点是黑色,x的兄弟节点的右孩子是红色</span>
                   color<span class="token punctuation">[</span>w<span class="token punctuation">]</span> ← color<span class="token punctuation">[</span>p<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">]</span>		▲ case4		<span class="token comment">// ①将“父亲节点”的颜色赋值给“兄弟节点”</span>
                   color<span class="token punctuation">[</span>p<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">]</span> ← <span class="token constant">BLACK</span>			▲ case4		<span class="token comment">// ②将“父亲节点”设置为黑色</span>
                   color<span class="token punctuation">[</span>right<span class="token punctuation">[</span>w<span class="token punctuation">]</span><span class="token punctuation">]</span> ← <span class="token constant">BLACK</span>		▲ case4		<span class="token comment">// ③将“兄弟节点的右孩子”设置为黑色</span>
                   <span class="token constant">LEFT</span><span class="token operator">-</span><span class="token constant">RORATE</span><span class="token punctuation">(</span><span class="token constant">T</span><span class="token punctuation">,</span> p<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span>			▲ case4		<span class="token comment">// ④以“父亲节点”为支点进行左旋</span>
                   x ← root<span class="token punctuation">[</span><span class="token constant">T</span><span class="token punctuation">]</span>				▲ case4		<span class="token comment">// ⑤设置“x”为根节点</span>
           <span class="token keyword">else</span> <span class="token punctuation">(</span>same <span class="token keyword">as</span> then clause <span class="token keyword">with</span> <span class="token string">"right"</span> and <span class="token string">"left"</span> exchanged<span class="token punctuation">)</span>	<span class="token comment">//若 “x”是“它父节点的右孩子”,将上面的操作中“right”和“left”交换位置,然后依次执行</span>
    color<span class="token punctuation">[</span>x<span class="token punctuation">]</span> ← <span class="token constant">BLACK</span>
</code></pre> 
<p><font face="Consolas" size="2">　　<em>在对删除函数进行分析之前，我们再来温习一遍红黑树的几个特性：</em></font><br> <font face="仿宋" size="2" color="#00a000">　　　　<strong>(1)每个节点要么是黑色，要么是红色。</strong></font><br> <font face="仿宋" size="2" color="#00a000">　　　　<strong>(2)根节点为黑色</strong></font><br> <font face="仿宋" size="2" color="#00a000">　　　　<strong>(3)每个叶子节点(NIL)均为黑色。</strong></font><font face="仿宋" size="2" color="#ff0000"><strong>[注：这里的叶子节点指的是空(NIL或者NULL)的叶子节点！！！]</strong></font><br> <font face="仿宋" size="2" color="#00a000">　　　　<strong>(4)如果一个节点是红色的，那么它的子节点必须是黑色的。</strong></font><br> <font face="仿宋" size="2" color="#00a000">　　　　<strong>(5)从一个节点到该节点的子孙节点NIL的所有路径上包含相同数目的黑节点。</strong></font><font face="仿宋" size="2" color="#ff0000"><strong>[注：这里指到叶子节点的路径]</strong></font><br> <font face="Consolas" size="2">　　<em>前面我们将"删除红黑树中的某个节点"大致分为两步，在第一步中"按照二叉查找树的节点删除规则删除该节点"后，可能违反"特性⑵、⑷、⑸"三个特性。第二步需要解决上面的三个问题，进而保持红黑树的全部特性。<br>　　通过RB-DELETE算法，我们知道：删除节点y之后，x占据了原来节点y的位置。那么，我们面临几种形态：<br>　　　　a)节点y为红色<br>　　　　　　这时我们无需做任何处理，因为并未违反任何一条特性<br>　　　　b)节点y为黑色，x为红色<br>　　　　　　此时，在删除节点y之后，我们违背了特性⑸，y所在的子树少了一个黑色节点，那我们只需要将x染为黑色补上缺掉的这个黑色节点即可<br>　　　　c)节点y为黑色，x为黑色，但x是根节点<br>　　　　　　这意味着原来的y就是根节点，这样相当于是所有路径共同减少一个黑色节点，依旧满足红黑树特性，故无需处理<br>　　　　d)节点y为黑色，x为黑色，x不是根节点<br>　　　　　　这种形态还需要细分四种子情况进行分析：</em></font></p> 
<table><thead><tr><th></th><th align="left">现象说明</th><th align="left">处理策略</th></tr></thead><tbody><tr><td>Case1</td><td align="left">当前节点x是<strong>黑色</strong>，当前节点的兄弟节点是<font color="red"><strong>红色</strong></font>(此时x的父节点和x的兄弟节点的子节点都是<strong>黑色</strong>)</td><td align="left">1.将“兄弟节点”设为<strong>黑色</strong><br>2.将“父亲节点”设为<font color="red"><strong>红色</strong></font><br>3.以“父亲节点”为支点进行左旋<br>4.左旋后，重新设置x的“兄弟节点”</td></tr><tr><td>Case2</td><td align="left">当前节点x是<strong>黑色</strong>，当前节点的兄弟节点也是<strong>黑色</strong>，且兄弟节点的两个孩子节点也都是<strong>黑色</strong></td><td align="left">1.将“兄弟节点”设为<font color="red"><strong>红色</strong></font><br>2.将“父节点”作为“新的当前节点”</td></tr><tr><td>Case3</td><td align="left">当前节点x是<strong>黑色</strong>，当前节点的兄弟节点也是<strong>黑色</strong>，但兄弟节点的左孩子是<font color="red"><strong>红色</strong></font>，右孩子是<strong>黑色</strong></td><td align="left">1.将“兄弟节点的左孩子”设为<strong>黑色</strong><br>2.将“兄弟节点”设为<font color="red"><strong>红色</strong></font><br>3.以“兄弟节点”为支点进行右旋<br>4.右旋后，重新设置x的“兄弟节点”</td></tr><tr><td>Case4</td><td align="left">当前节点x是<strong>黑色</strong>，当前节点的兄弟节点也是<strong>黑色</strong>，兄弟节点的右孩子是<font color="red"><strong>红色</strong></font>，兄弟节点的左孩子颜色任意</td><td align="left">1.将“父亲节点”的颜色赋值给“兄弟节点”<br>2.将“父亲节点”设为<strong>黑色</strong><br>3.将“兄弟节点的右孩子”设为<strong>黑色</strong><br>4.以“父节点”为支点进行左旋<br>5.设置“x”为根节点</td></tr></tbody></table> 
<p><font face="华文琥珀" size="3">1.(Case 1)兄弟节点是红色</font><br> <font face="仿宋" size="2"><strong>1.1 现象说明</strong></font><br> <font face="幼圆" size="2">当前节点x是<strong>黑色</strong>，当前节点的兄弟节点是<font color="red"><strong>红色</strong></font>(此时x的父节点和x的兄弟节点的子节点都是<strong>黑色</strong>)</font><br> <font face="仿宋" size="2"><strong>1.2 处理策略</strong></font><br> <font face="幼圆" size="2">⑴将“兄弟节点”设为<strong>黑色</strong><br>⑵将“父亲节点”设为<font color="red"><strong>红色</strong></font><br>⑶以“父亲节点”为支点进行左旋<br>⑷左旋后，重新设置x的“兄弟节点”</font></p> 
<p><font face="仿宋" size="2">　　<strong>下面分析一下为什么要这样处理(建议结合示意图进行理解)：</strong></font><br> <font face="华文细黑" size="2">　　这么做的目的是将“Case 1”转换为“Case 2”、“Case 3”或“Case 4”，从而进行进一步的处理。对x的父节点进行左旋；左旋后，为了保持红黑树特性，就需要在左旋前“将x的兄弟节点设为黑色”，同时“将x的父节点设为红色”；左旋后，由于x的兄弟节点发生了变化，需要更新x的兄弟节点，从而进行后续处理。<br>　　或者可以这么理解，由于兄弟节点是红色节点的时候，无处借调黑节点，所以需要将兄弟节点提升到父节点，由于兄弟节点是红色的，那么兄弟节点的子节点必定是黑色的，旋转之后就可以从它的子节点借调了。</font><br> <font face="仿宋" size="2"><strong>1.3 示意图</strong></font><br> <font face="隶书" size="2">　<strong>1.3.1 动图演示</strong></font><br> <img src="https://images2.imgbox.com/76/d6/inlFxuTp_o.gif" alt="删除case1"><br> <font face="隶书" size="2">　<strong>1.3.2 过程模拟</strong></font><br> <img src="https://images2.imgbox.com/89/b8/TszrVJQs_o.png" alt="1.3.2"><br> <font face="微软雅黑" size="2">　　上图删除节点42之后，若是看着不习惯，可以把空叶子节点画出来便于理解。</font></p> 
<p><font face="华文琥珀" size="3">2.(Case 2)兄弟节点是黑色，兄弟节点的两个孩子节点都是黑色</font><br> <font face="仿宋" size="2"><strong>2.1 现象说明</strong></font><br> <font face="幼圆" size="2">当前节点x是<strong>黑色</strong>，当前节点的兄弟节点也是<strong>黑色</strong>，且兄弟节点的两个孩子节点也都是<strong>黑色</strong></font><br> <font face="仿宋" size="2"><strong>2.2 处理策略</strong></font><br> <font face="幼圆" size="2">⑴将“兄弟节点”设为<font color="red"><strong>红色</strong></font><br>⑵将“父节点”作为“新的当前节点””</font></p> 
<p><font face="仿宋" size="2">　　<strong>下面分析一下为什么要这样处理(建议结合示意图进行理解)：</strong></font><br> <font face="华文细黑" size="2">　　之所以要将兄弟节点变红，是因为如果把兄弟节点直接借调过来，两边的黑色节点数依旧不一致，这样的情况下只能是将兄弟节点也变成红色来达到颜色的平衡。当将兄弟节点也变红之后，虽达到了局部的平衡，但是对于父节点来说，如果父节点是黑色，不符合特性⑸；若父节点是红色，则不符合特性⑷。这样就需要回溯到父节点，接着进行修复操作。</font><br> <font face="仿宋" size="2"><strong>2.3 示意图</strong></font><br> <font face="隶书" size="2">　<strong>2.3.1 动图演示</strong></font><br> <font face="微软雅黑" size="2">　　类型一：父节点是红色</font><br> <img src="https://images2.imgbox.com/6e/11/mvNK60yE_o.gif" alt="删除case2.1"><br> <font face="微软雅黑" size="2">　　类型二：父节点是黑色</font><br> <img src="https://images2.imgbox.com/72/cf/1homKpB2_o.gif" alt="删除case2.2"><br> <font face="隶书" size="2">　<strong>2.3.2 过程模拟</strong></font><br> <img src="https://images2.imgbox.com/fd/c3/IyEiTpSA_o.png" alt="2.3.2"><br> <font face="微软雅黑" size="2">　　兄弟节点45的左右孩子为空，可以看做是黑色的（特性⑶）。</font></p> 
<p><font face="华文琥珀" size="3">3.(Case 3)兄弟节点是黑色，兄弟节点的右孩子是黑色，左孩子是红色</font><br> <font face="仿宋" size="2"><strong>3.1 现象说明</strong></font><br> <font face="幼圆" size="2">当前节点x是<strong>黑色</strong>，当前节点的兄弟节点也是<strong>黑色</strong>，但兄弟节点的左孩子是<font color="red"><strong>红色</strong></font>，右孩子是<strong>黑色</strong></font><br> <font face="仿宋" size="2"><strong>3.2 处理策略</strong></font><br> <font face="幼圆" size="2">⑴将“兄弟节点的左孩子”设为<strong>黑色</strong><br>⑵将“兄弟节点”设为<font color="red"><strong>红色</strong></font><br>⑶以“兄弟节点”为支点进行右旋<br>⑷右旋后，重新设置x的“兄弟节点”</font></p> 
<p><font face="仿宋" size="2">　　<strong>下面分析一下为什么要这样处理(建议结合示意图进行理解)：</strong></font><br> <font face="华文细黑" size="2">　　我们处理“Case 3”的目的是为了将“Case 3”进行转换，转换成“Case 4”,从而进行进一步的处理。考虑到当前分支缺少一个黑色节点，势必要从兄弟节点借调黑色，但借走黑色之后，兄弟节点的右子树会缺少一个黑色节点，如果兄弟节点的右孩子是红色还好说，可以直接染成黑色，但如果本身就是黑色，这样就无法补充缺少的黑色，故先通过case 3转换成case 4，使兄弟节点的右孩子变红。</font><br> <font face="仿宋" size="2"><strong>3.3 示意图</strong></font><br> <font face="隶书" size="2">　<strong>3.3.1 动图演示</strong></font><br> <img src="https://images2.imgbox.com/38/bb/vipNeh3G_o.gif" alt="删除case3"><br> <font face="微软雅黑" size="2">　　当前节点0040（黑色），兄弟节点0100（黑色），兄弟节点的左孩子0080（红色），兄弟节点的右孩子0120（黑色）。</font></p> 
<p><font face="华文琥珀" size="3">4.(Case 4)兄弟节点是黑色，兄弟节点的右孩子是红色，左孩子颜色任意</font><br> <font face="仿宋" size="2"><strong>4.1 现象说明</strong></font><br> <font face="幼圆" size="2">当前节点x是<strong>黑色</strong>，当前节点的兄弟节点也是<strong>黑色</strong>，兄弟节点的右孩子是<font color="red"><strong>红色</strong></font>，兄弟节点的左孩子颜色任意</font><br> <font face="仿宋" size="2"><strong>4.2 处理策略</strong></font><br> <font face="幼圆" size="2">⑴将“父亲节点”的颜色赋值给“兄弟节点”<br>⑵将“父亲节点”设为<strong>黑色</strong><br>⑶将“兄弟节点的右孩子”设为<strong>黑色</strong><br>⑷以“父节点”为支点进行左旋<br>⑸设置“x”为根节点</font></p> 
<p><font face="仿宋" size="2">　　<strong>下面分析一下为什么要这样处理(建议结合示意图进行理解)：</strong></font><br> <font face="华文细黑" size="2">　　为了便于说明，我们设置“当前节点”为S(Son)，“兄弟节点”为B(Brother)，“兄弟节点的左孩子”为BLS(Brother’s Left Son)，“兄弟节点的右孩子”为BRS(Brother’s Right Son)，“父节点”为F(Father)。<br>　　我们要对F进行左旋。但在左旋前，我们需要调换F和B的颜色，并设置BRS为黑色。为什么需要这样处理呢？我们可以这样理解，左旋的实际意义是将兄弟一路的黑色节点调到当前节点一路，但还不能影响兄弟一路本身的黑色节点数。<br>　　策略⑴⑵⑷的实际效果是将右路（兄弟一路）拿取一个黑色节点到左路（当前节点一路），此时，左路黑色节点数恢复原样，但右路因为拿走了一个黑色节点导致黑色节点数-1，故策略⑶就是右路恢复黑色节点数的操作。</font><br> <font face="仿宋" size="2"><strong>4.3 示意图</strong></font><br> <font face="隶书" size="2">　<strong>4.3.1 动图演示</strong></font><br> <img src="https://images2.imgbox.com/2b/2d/g8ZRcTho_o.gif" alt="删除case4"><br> <font face="微软雅黑" size="2">　　当前节点0040（黑色），兄弟节点0080（黑色），兄弟节点的左孩子0070（黑色），兄弟节点的右孩子0100（红色）。</font></p> 
<p><font face="微软雅黑" size="2"><strong>自此，红黑树解析完毕，小伙伴们有什么疑问可以留下评论，我也会及时予以回答。谢谢！！！</strong></font></p> 
<blockquote> 
 <h6><a id="C_360"></a>红黑树的C++实现</h6> 
</blockquote> 
<p><font face="微软雅黑" size="2">下面附上C++代码及测试代码：</font><br> <font face="微软雅黑" size="1"><strong>&gt;红黑树的实现文件(RBTree.h)</strong></font></p> 
<pre><code class="prism language-cpp"><span class="token macro property">#<span class="token directive keyword">ifndef</span> __RBTREE_H__</span>
<span class="token macro property">#<span class="token directive keyword">define</span> __RBTREE_H__</span>

<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iomanip&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>

<span class="token keyword">enum</span> RBTColor
<span class="token punctuation">{<!-- --></span>
	RED <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>
	BLACK <span class="token operator">=</span> <span class="token number">2</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
<span class="token keyword">class</span> <span class="token class-name">RBTNode</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token function">RBTNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">RBTNode</span><span class="token punctuation">(</span>T key<span class="token punctuation">,</span> RBTColor color<span class="token punctuation">,</span> RBTNode<span class="token operator">*</span> father<span class="token punctuation">,</span> RBTNode<span class="token operator">*</span> leftson<span class="token punctuation">,</span> RBTNode<span class="token operator">*</span> rightson<span class="token punctuation">)</span><span class="token operator">:</span><span class="token function">m_key</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">m_color</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">m_father</span><span class="token punctuation">(</span>father<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">m_leftson</span><span class="token punctuation">(</span>leftson<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">m_rightson</span><span class="token punctuation">(</span>rightson<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
	<span class="token operator">~</span><span class="token function">RBTNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">public</span><span class="token operator">:</span>
	T m_key<span class="token punctuation">;</span>		<span class="token comment">//键值</span>
	RBTColor m_color<span class="token punctuation">;</span>	<span class="token comment">//颜色</span>
	RBTNode<span class="token operator">*</span> m_father<span class="token punctuation">;</span>	<span class="token comment">//父节点</span>
	RBTNode<span class="token operator">*</span> m_leftson<span class="token punctuation">;</span>	<span class="token comment">//左孩子</span>
	RBTNode<span class="token operator">*</span> m_rightson<span class="token punctuation">;</span>	<span class="token comment">//右孩子</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
<span class="token keyword">class</span> <span class="token class-name">RBTree</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token function">RBTree</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token operator">~</span><span class="token function">RBTree</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">void</span> <span class="token function">Insert</span><span class="token punctuation">(</span>T key<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">void</span> <span class="token function">Delete</span><span class="token punctuation">(</span>T key<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">void</span> <span class="token function">Print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">private</span><span class="token operator">:</span>
	<span class="token keyword">void</span> <span class="token function">Print</span><span class="token punctuation">(</span>RBTNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> node<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">void</span> <span class="token function">Destroy</span><span class="token punctuation">(</span>RBTNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> node<span class="token punctuation">)</span><span class="token punctuation">;</span>							<span class="token comment">//销毁红黑树</span>
	<span class="token keyword">void</span> <span class="token function">SwapNode</span><span class="token punctuation">(</span>RBTNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> <span class="token operator">&amp;</span>x<span class="token punctuation">,</span> RBTNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> <span class="token operator">&amp;</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
	RBTNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> <span class="token function">Search</span><span class="token punctuation">(</span>RBTNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> root<span class="token punctuation">,</span> T key<span class="token punctuation">)</span><span class="token punctuation">;</span>					<span class="token comment">//查询值为key的节点</span>
	RBTNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> <span class="token function">SearchPrecursor</span><span class="token punctuation">(</span>RBTNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> node<span class="token punctuation">)</span><span class="token punctuation">;</span>					<span class="token comment">//查找当前节点的前驱节点</span>
	RBTNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> <span class="token function">SearchSuccessor</span><span class="token punctuation">(</span>RBTNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> node<span class="token punctuation">)</span><span class="token punctuation">;</span>					<span class="token comment">//查找当前节点的后继节点</span>
	<span class="token keyword">void</span> <span class="token function">LeftRotate</span><span class="token punctuation">(</span>RBTNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> <span class="token operator">&amp;</span>root<span class="token punctuation">,</span> RBTNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> node<span class="token punctuation">)</span><span class="token punctuation">;</span>				<span class="token comment">//左旋</span>
	<span class="token keyword">void</span> <span class="token function">RightRotate</span><span class="token punctuation">(</span>RBTNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> <span class="token operator">&amp;</span>root<span class="token punctuation">,</span> RBTNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> node<span class="token punctuation">)</span><span class="token punctuation">;</span>				<span class="token comment">//右旋</span>
	<span class="token keyword">void</span> <span class="token function">Insert</span><span class="token punctuation">(</span>RBTNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> <span class="token operator">&amp;</span>root<span class="token punctuation">,</span> RBTNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> node<span class="token punctuation">)</span><span class="token punctuation">;</span>				<span class="token comment">//插入节点</span>
	<span class="token keyword">void</span> <span class="token function">Delete</span><span class="token punctuation">(</span>RBTNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> <span class="token operator">&amp;</span>root<span class="token punctuation">,</span> RBTNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> node<span class="token punctuation">)</span><span class="token punctuation">;</span>				<span class="token comment">//删除节点</span>
	<span class="token keyword">void</span> <span class="token function">InsertFixUp</span><span class="token punctuation">(</span>RBTNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> <span class="token operator">&amp;</span>root<span class="token punctuation">,</span> RBTNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> node<span class="token punctuation">)</span><span class="token punctuation">;</span>				<span class="token comment">//插入修正</span>
	<span class="token keyword">void</span> <span class="token function">DeleteFixUp</span><span class="token punctuation">(</span>RBTNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> <span class="token operator">&amp;</span>root<span class="token punctuation">,</span> RBTNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> node<span class="token punctuation">,</span> RBTNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> father<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//删除修正</span>

<span class="token keyword">private</span><span class="token operator">:</span>
	RBTNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> m_root<span class="token punctuation">;</span>		<span class="token comment">//根节点</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">/*-----------------------------以下为定义-------------------------------*/</span>

<span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
RBTNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">::</span><span class="token function">RBTNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	m_color <span class="token operator">=</span> RED<span class="token punctuation">;</span>
	m_father <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
	m_leftson <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
	m_rightson <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
RBTNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">::</span><span class="token operator">~</span><span class="token function">RBTNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
<span class="token punctuation">}</span>

<span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
RBTree<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">::</span><span class="token function">RBTree</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	m_root <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
RBTree<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">::</span><span class="token operator">~</span><span class="token function">RBTree</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">Destroy</span><span class="token punctuation">(</span>m_root<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
<span class="token keyword">void</span> RBTree<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">::</span><span class="token function">Destroy</span><span class="token punctuation">(</span>RBTNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> node<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">Destroy</span><span class="token punctuation">(</span>node<span class="token operator">-</span><span class="token operator">&gt;</span>m_leftson<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">Destroy</span><span class="token punctuation">(</span>node<span class="token operator">-</span><span class="token operator">&gt;</span>m_rightson<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">delete</span> node<span class="token punctuation">;</span>
		node <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
<span class="token keyword">void</span> RBTree<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">::</span><span class="token function">SwapNode</span><span class="token punctuation">(</span>RBTNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> <span class="token operator">&amp;</span>x<span class="token punctuation">,</span> RBTNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> <span class="token operator">&amp;</span>y<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	RBTNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> tmp<span class="token punctuation">;</span>
	tmp <span class="token operator">=</span> y<span class="token punctuation">;</span>
	y <span class="token operator">=</span> x<span class="token punctuation">;</span>
	x <span class="token operator">=</span> tmp<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
RBTNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> RBTree<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">::</span><span class="token function">Search</span><span class="token punctuation">(</span>RBTNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> root<span class="token punctuation">,</span> T key<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	RBTNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> node <span class="token operator">=</span> root<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>node <span class="token operator">!=</span> <span class="token constant">NULL</span> <span class="token operator">&amp;&amp;</span> node<span class="token operator">-</span><span class="token operator">&gt;</span>m_key <span class="token operator">!=</span> key<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>key <span class="token operator">&lt;</span> node<span class="token operator">-</span><span class="token operator">&gt;</span>m_key<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			node <span class="token operator">=</span> node<span class="token operator">-</span><span class="token operator">&gt;</span>m_leftson<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span>
		<span class="token punctuation">{<!-- --></span>
			node <span class="token operator">=</span> node<span class="token operator">-</span><span class="token operator">&gt;</span>m_rightson<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> node<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
RBTNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> RBTree<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">::</span><span class="token function">SearchPrecursor</span><span class="token punctuation">(</span>RBTNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> node<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	RBTNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> cur <span class="token operator">=</span> node<span class="token operator">-</span><span class="token operator">&gt;</span>m_leftson<span class="token punctuation">;</span>
	<span class="token keyword">while</span><span class="token punctuation">(</span>cur<span class="token operator">-</span><span class="token operator">&gt;</span>m_rightson <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		cur <span class="token operator">=</span> cur<span class="token operator">-</span><span class="token operator">&gt;</span>m_rightson<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> cur<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
RBTNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> RBTree<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">::</span><span class="token function">SearchSuccessor</span><span class="token punctuation">(</span>RBTNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> node<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	RBTNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> cur <span class="token operator">=</span> node<span class="token operator">-</span><span class="token operator">&gt;</span>m_rightson<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>cur<span class="token operator">-</span><span class="token operator">&gt;</span>m_leftson <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		cur <span class="token operator">=</span> cur<span class="token operator">-</span><span class="token operator">&gt;</span>m_leftson<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> cur<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/* 
 * 对红黑树的节点(x)进行左旋转
 *
 * 左旋示意图(对节点x进行左旋)：
 *      px                              px
 *     /                               /
 *    x                               y                
 *   / \       --(左旋)--&gt;           / \   
 *  lx   y                          x  ry     
 *      / \                        / \
 *    ly   ry                     lx  ly  
 *
 *
 */</span>
<span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
<span class="token keyword">void</span> RBTree<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">::</span><span class="token function">LeftRotate</span><span class="token punctuation">(</span>RBTNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> <span class="token operator">&amp;</span>root<span class="token punctuation">,</span> RBTNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> node<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	RBTNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> ri <span class="token operator">=</span> node<span class="token operator">-</span><span class="token operator">&gt;</span>m_rightson<span class="token punctuation">;</span>
	<span class="token comment">//[x → y] =&gt; [x → ly]</span>
	node<span class="token operator">-</span><span class="token operator">&gt;</span>m_rightson <span class="token operator">=</span> ri<span class="token operator">-</span><span class="token operator">&gt;</span>m_leftson<span class="token punctuation">;</span>
	<span class="token comment">//[ly → y] =&gt; [ly → x]</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>ri<span class="token operator">-</span><span class="token operator">&gt;</span>m_leftson <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		ri<span class="token operator">-</span><span class="token operator">&gt;</span>m_leftson<span class="token operator">-</span><span class="token operator">&gt;</span>m_father <span class="token operator">=</span> node<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//[y → x] =&gt; [y → px]</span>
	ri<span class="token operator">-</span><span class="token operator">&gt;</span>m_father <span class="token operator">=</span> node<span class="token operator">-</span><span class="token operator">&gt;</span>m_father<span class="token punctuation">;</span>
	<span class="token comment">//[px → x] =&gt; [px → y]</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token operator">-</span><span class="token operator">&gt;</span>m_father <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token operator">-</span><span class="token operator">&gt;</span>m_father<span class="token operator">-</span><span class="token operator">&gt;</span>m_leftson <span class="token operator">==</span> node<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			node<span class="token operator">-</span><span class="token operator">&gt;</span>m_father<span class="token operator">-</span><span class="token operator">&gt;</span>m_leftson <span class="token operator">=</span> ri<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span>
		<span class="token punctuation">{<!-- --></span>
			node<span class="token operator">-</span><span class="token operator">&gt;</span>m_father<span class="token operator">-</span><span class="token operator">&gt;</span>m_rightson <span class="token operator">=</span> ri<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">else</span>
	<span class="token punctuation">{<!-- --></span>
		root <span class="token operator">=</span> ri<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//[y → ly] =&gt; [y → x]</span>
	ri<span class="token operator">-</span><span class="token operator">&gt;</span>m_leftson <span class="token operator">=</span> node<span class="token punctuation">;</span>
	<span class="token comment">//[x → px] =&gt; [x → y]</span>
	node<span class="token operator">-</span><span class="token operator">&gt;</span>m_father <span class="token operator">=</span> ri<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">/* 
 * 对红黑树的节点(y)进行右旋转
 *
 * 右旋示意图(对节点y进行左旋)：
 *            py                               py
 *           /                                /
 *          y                                x
 *         / \       --(右旋)--&gt;            / \
 *        x   ry                           lx  y
 *       / \                                  / \
 *      lx  rx                               rx  ry
 * 
 */</span>
<span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
<span class="token keyword">void</span> RBTree<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">::</span><span class="token function">RightRotate</span><span class="token punctuation">(</span>RBTNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> <span class="token operator">&amp;</span>root<span class="token punctuation">,</span> RBTNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> node<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	RBTNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> le <span class="token operator">=</span> node<span class="token operator">-</span><span class="token operator">&gt;</span>m_leftson<span class="token punctuation">;</span>
	<span class="token comment">//[y → x] =&gt; [y → rx]</span>
	node<span class="token operator">-</span><span class="token operator">&gt;</span>m_leftson <span class="token operator">=</span> le<span class="token operator">-</span><span class="token operator">&gt;</span>m_rightson<span class="token punctuation">;</span>
	<span class="token comment">//[rx → x] =&gt; [rx → y]</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>le<span class="token operator">-</span><span class="token operator">&gt;</span>m_rightson <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		le<span class="token operator">-</span><span class="token operator">&gt;</span>m_rightson<span class="token operator">-</span><span class="token operator">&gt;</span>m_father <span class="token operator">=</span> node<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//[x → y] =&gt; [x → py]</span>
	le<span class="token operator">-</span><span class="token operator">&gt;</span>m_father <span class="token operator">=</span> node<span class="token operator">-</span><span class="token operator">&gt;</span>m_father<span class="token punctuation">;</span>
	<span class="token comment">//[py → y] =&gt; [py → x]</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token operator">-</span><span class="token operator">&gt;</span>m_father <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token operator">-</span><span class="token operator">&gt;</span>m_father<span class="token operator">-</span><span class="token operator">&gt;</span>m_leftson <span class="token operator">==</span> node<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			node<span class="token operator">-</span><span class="token operator">&gt;</span>m_father<span class="token operator">-</span><span class="token operator">&gt;</span>m_leftson <span class="token operator">=</span> le<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span>
		<span class="token punctuation">{<!-- --></span>
			node<span class="token operator">-</span><span class="token operator">&gt;</span>m_father<span class="token operator">-</span><span class="token operator">&gt;</span>m_rightson <span class="token operator">=</span> le<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">else</span>
	<span class="token punctuation">{<!-- --></span>
		root <span class="token operator">=</span> le<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//[x → rx] =&gt; [x → y]</span>
	le<span class="token operator">-</span><span class="token operator">&gt;</span>m_rightson <span class="token operator">=</span> node<span class="token punctuation">;</span>
	<span class="token comment">//[y → py] =&gt; [y → x]</span>
	node<span class="token operator">-</span><span class="token operator">&gt;</span>m_father <span class="token operator">=</span> le<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
<span class="token keyword">void</span> RBTree<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">::</span><span class="token function">Insert</span><span class="token punctuation">(</span>RBTNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> <span class="token operator">&amp;</span>root<span class="token punctuation">,</span> RBTNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> node<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	RBTNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> fa <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
	RBTNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> cur <span class="token operator">=</span> root<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>cur <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		fa <span class="token operator">=</span> cur<span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token operator">-</span><span class="token operator">&gt;</span>m_key <span class="token operator">&lt;</span> cur<span class="token operator">-</span><span class="token operator">&gt;</span>m_key<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			cur <span class="token operator">=</span> cur<span class="token operator">-</span><span class="token operator">&gt;</span>m_leftson<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span>
		<span class="token punctuation">{<!-- --></span>
			cur <span class="token operator">=</span> cur<span class="token operator">-</span><span class="token operator">&gt;</span>m_rightson<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	node<span class="token operator">-</span><span class="token operator">&gt;</span>m_father <span class="token operator">=</span> fa<span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>fa <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token operator">-</span><span class="token operator">&gt;</span>m_key <span class="token operator">&lt;</span> fa<span class="token operator">-</span><span class="token operator">&gt;</span>m_key<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			fa<span class="token operator">-</span><span class="token operator">&gt;</span>m_leftson <span class="token operator">=</span> node<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span>
		<span class="token punctuation">{<!-- --></span>
			fa<span class="token operator">-</span><span class="token operator">&gt;</span>m_rightson <span class="token operator">=</span> node<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">else</span>
	<span class="token punctuation">{<!-- --></span>
		root <span class="token operator">=</span> node<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	node<span class="token operator">-</span><span class="token operator">&gt;</span>m_color <span class="token operator">=</span> RED<span class="token punctuation">;</span><span class="token comment">//节点染为红色</span>
	<span class="token function">InsertFixUp</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> node<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//红黑树修正</span>
<span class="token punctuation">}</span>

<span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
<span class="token keyword">void</span> RBTree<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">::</span><span class="token function">InsertFixUp</span><span class="token punctuation">(</span>RBTNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> <span class="token operator">&amp;</span>root<span class="token punctuation">,</span> RBTNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> node<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	RBTNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> <span class="token operator">*</span>father<span class="token punctuation">,</span> <span class="token operator">*</span>grand_father<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>father <span class="token operator">=</span> node<span class="token operator">-</span><span class="token operator">&gt;</span>m_father<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> father<span class="token operator">-</span><span class="token operator">&gt;</span>m_color <span class="token operator">==</span> RED<span class="token punctuation">)</span><span class="token comment">//父节点存在,且父节点颜色为红色</span>
	<span class="token punctuation">{<!-- --></span>
		grand_father <span class="token operator">=</span> father<span class="token operator">-</span><span class="token operator">&gt;</span>m_father<span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>father <span class="token operator">==</span> grand_father<span class="token operator">-</span><span class="token operator">&gt;</span>m_leftson<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			RBTNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> uncle <span class="token operator">=</span> grand_father<span class="token operator">-</span><span class="token operator">&gt;</span>m_rightson<span class="token punctuation">;</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>uncle <span class="token operator">&amp;&amp;</span> uncle<span class="token operator">-</span><span class="token operator">&gt;</span>m_color <span class="token operator">==</span> RED<span class="token punctuation">)</span><span class="token comment">// Case 1: 叔叔节点是红色</span>
			<span class="token punctuation">{<!-- --></span>
				uncle<span class="token operator">-</span><span class="token operator">&gt;</span>m_color <span class="token operator">=</span> BLACK<span class="token punctuation">;</span>
				father<span class="token operator">-</span><span class="token operator">&gt;</span>m_color <span class="token operator">=</span> BLACK<span class="token punctuation">;</span>
				grand_father<span class="token operator">-</span><span class="token operator">&gt;</span>m_color <span class="token operator">=</span> RED<span class="token punctuation">;</span>
				node <span class="token operator">=</span> grand_father<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">else</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span>node <span class="token operator">==</span> father<span class="token operator">-</span><span class="token operator">&gt;</span>m_rightson<span class="token punctuation">)</span><span class="token comment">// Case 2: 叔叔节点是黑色,当前节点是父节点的右孩子</span>
				<span class="token punctuation">{<!-- --></span>
					<span class="token function">SwapNode</span><span class="token punctuation">(</span>node<span class="token punctuation">,</span> father<span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token function">LeftRotate</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> node<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
				<span class="token comment">// Case 3: 叔叔节点是黑色,当前节点是父节点的左孩子</span>
				father<span class="token operator">-</span><span class="token operator">&gt;</span>m_color <span class="token operator">=</span> BLACK<span class="token punctuation">;</span>
				grand_father<span class="token operator">-</span><span class="token operator">&gt;</span>m_color <span class="token operator">=</span> RED<span class="token punctuation">;</span>
				<span class="token function">RightRotate</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> grand_father<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span>
		<span class="token punctuation">{<!-- --></span>
			RBTNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> uncle <span class="token operator">=</span> grand_father<span class="token operator">-</span><span class="token operator">&gt;</span>m_leftson<span class="token punctuation">;</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>uncle <span class="token operator">&amp;&amp;</span> uncle<span class="token operator">-</span><span class="token operator">&gt;</span>m_color <span class="token operator">==</span> RED<span class="token punctuation">)</span><span class="token comment">// Case 1: 叔叔节点是红色</span>
			<span class="token punctuation">{<!-- --></span>
				uncle<span class="token operator">-</span><span class="token operator">&gt;</span>m_color <span class="token operator">=</span> BLACK<span class="token punctuation">;</span>
				father<span class="token operator">-</span><span class="token operator">&gt;</span>m_color <span class="token operator">=</span> BLACK<span class="token punctuation">;</span>
				grand_father<span class="token operator">-</span><span class="token operator">&gt;</span>m_color <span class="token operator">=</span> RED<span class="token punctuation">;</span>
				node <span class="token operator">=</span> grand_father<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">else</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span>node <span class="token operator">==</span> father<span class="token operator">-</span><span class="token operator">&gt;</span>m_leftson<span class="token punctuation">)</span><span class="token comment">// Case 2: 叔叔节点是黑色,当前节点是父节点的左孩子</span>
				<span class="token punctuation">{<!-- --></span>
					<span class="token function">SwapNode</span><span class="token punctuation">(</span>node<span class="token punctuation">,</span> father<span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token function">RightRotate</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> node<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
				<span class="token comment">// Case 3: 叔叔节点是黑色,当前节点是父节点的右孩子</span>
				father<span class="token operator">-</span><span class="token operator">&gt;</span>m_color <span class="token operator">=</span> BLACK<span class="token punctuation">;</span>
				grand_father<span class="token operator">-</span><span class="token operator">&gt;</span>m_color <span class="token operator">=</span> RED<span class="token punctuation">;</span>
				<span class="token function">LeftRotate</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> grand_father<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	root<span class="token operator">-</span><span class="token operator">&gt;</span>m_color <span class="token operator">=</span> BLACK<span class="token punctuation">;</span><span class="token comment">//设置根节点为黑色</span>
<span class="token punctuation">}</span>

<span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
<span class="token keyword">void</span> RBTree<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">::</span><span class="token function">Delete</span><span class="token punctuation">(</span>RBTNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> <span class="token operator">&amp;</span>root<span class="token punctuation">,</span> RBTNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> node<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	RBTNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> real_delete<span class="token punctuation">;</span><span class="token comment">//实际删除节点</span>
	RBTNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> child<span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token operator">-</span><span class="token operator">&gt;</span>m_leftson <span class="token operator">==</span> <span class="token constant">NULL</span> <span class="token operator">||</span> node<span class="token operator">-</span><span class="token operator">&gt;</span>m_rightson <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		real_delete <span class="token operator">=</span> node<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">else</span>
	<span class="token punctuation">{<!-- --></span>
		real_delete <span class="token operator">=</span> <span class="token function">SearchPrecursor</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//这里找前驱节点or后继节点都可以</span>
		<span class="token comment">//real_delete = SearchSuccessor(node);</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>real_delete<span class="token operator">-</span><span class="token operator">&gt;</span>m_leftson <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		child <span class="token operator">=</span> real_delete<span class="token operator">-</span><span class="token operator">&gt;</span>m_leftson<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">else</span>
	<span class="token punctuation">{<!-- --></span>
		child <span class="token operator">=</span> real_delete<span class="token operator">-</span><span class="token operator">&gt;</span>m_rightson<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>child<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		child<span class="token operator">-</span><span class="token operator">&gt;</span>m_father <span class="token operator">=</span> real_delete<span class="token operator">-</span><span class="token operator">&gt;</span>m_father<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>real_delete<span class="token operator">-</span><span class="token operator">&gt;</span>m_father <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		root <span class="token operator">=</span> child<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">else</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>real_delete <span class="token operator">==</span> real_delete<span class="token operator">-</span><span class="token operator">&gt;</span>m_father<span class="token operator">-</span><span class="token operator">&gt;</span>m_leftson<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			real_delete<span class="token operator">-</span><span class="token operator">&gt;</span>m_father<span class="token operator">-</span><span class="token operator">&gt;</span>m_leftson <span class="token operator">=</span> child<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span>
		<span class="token punctuation">{<!-- --></span>
			real_delete<span class="token operator">-</span><span class="token operator">&gt;</span>m_father<span class="token operator">-</span><span class="token operator">&gt;</span>m_rightson <span class="token operator">=</span> child<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>real_delete<span class="token operator">-</span><span class="token operator">&gt;</span>m_key <span class="token operator">!=</span> node<span class="token operator">-</span><span class="token operator">&gt;</span>m_key<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		node<span class="token operator">-</span><span class="token operator">&gt;</span>m_key <span class="token operator">=</span> real_delete<span class="token operator">-</span><span class="token operator">&gt;</span>m_key<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>real_delete<span class="token operator">-</span><span class="token operator">&gt;</span>m_color <span class="token operator">==</span> BLACK<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">DeleteFixUp</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> child<span class="token punctuation">,</span> real_delete<span class="token operator">-</span><span class="token operator">&gt;</span>m_father<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//多传一个父节点是为了避免child为NULL时,无法获取父节点</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">delete</span> real_delete<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
<span class="token keyword">void</span> RBTree<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">::</span><span class="token function">DeleteFixUp</span><span class="token punctuation">(</span>RBTNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> <span class="token operator">&amp;</span>root<span class="token punctuation">,</span> RBTNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> node<span class="token punctuation">,</span> RBTNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> father<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	RBTNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> brother<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">!</span>node <span class="token operator">||</span> node<span class="token operator">-</span><span class="token operator">&gt;</span>m_color <span class="token operator">==</span> BLACK<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> node <span class="token operator">!=</span> root<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>node <span class="token operator">==</span> father<span class="token operator">-</span><span class="token operator">&gt;</span>m_leftson<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			brother <span class="token operator">=</span> father<span class="token operator">-</span><span class="token operator">&gt;</span>m_rightson<span class="token punctuation">;</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>brother<span class="token operator">-</span><span class="token operator">&gt;</span>m_color <span class="token operator">==</span> RED<span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				brother<span class="token operator">-</span><span class="token operator">&gt;</span>m_color <span class="token operator">=</span> BLACK<span class="token punctuation">;</span>
				father<span class="token operator">-</span><span class="token operator">&gt;</span>m_color <span class="token operator">=</span> RED<span class="token punctuation">;</span>
				<span class="token function">LeftRotate</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> father<span class="token punctuation">)</span><span class="token punctuation">;</span>
				brother <span class="token operator">=</span> father<span class="token operator">-</span><span class="token operator">&gt;</span>m_rightson<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">!</span>brother<span class="token operator">-</span><span class="token operator">&gt;</span>m_leftson <span class="token operator">||</span> brother<span class="token operator">-</span><span class="token operator">&gt;</span>m_leftson<span class="token operator">-</span><span class="token operator">&gt;</span>m_color <span class="token operator">==</span> BLACK<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token operator">!</span>brother<span class="token operator">-</span><span class="token operator">&gt;</span>m_rightson <span class="token operator">||</span> brother<span class="token operator">-</span><span class="token operator">&gt;</span>m_rightson<span class="token operator">-</span><span class="token operator">&gt;</span>m_color <span class="token operator">==</span> BLACK<span class="token punctuation">)</span><span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				brother<span class="token operator">-</span><span class="token operator">&gt;</span>m_color <span class="token operator">=</span> RED<span class="token punctuation">;</span>
				node <span class="token operator">=</span> father<span class="token punctuation">;</span>
				father <span class="token operator">=</span> node<span class="token operator">-</span><span class="token operator">&gt;</span>m_father<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">else</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>brother<span class="token operator">-</span><span class="token operator">&gt;</span>m_rightson <span class="token operator">||</span> brother<span class="token operator">-</span><span class="token operator">&gt;</span>m_rightson<span class="token operator">-</span><span class="token operator">&gt;</span>m_color <span class="token operator">==</span> BLACK<span class="token punctuation">)</span>
				<span class="token punctuation">{<!-- --></span>
					brother<span class="token operator">-</span><span class="token operator">&gt;</span>m_color <span class="token operator">=</span> RED<span class="token punctuation">;</span>
					brother<span class="token operator">-</span><span class="token operator">&gt;</span>m_leftson<span class="token operator">-</span><span class="token operator">&gt;</span>m_color <span class="token operator">=</span> BLACK<span class="token punctuation">;</span>
					<span class="token function">RightRotate</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> brother<span class="token punctuation">)</span><span class="token punctuation">;</span>
					brother <span class="token operator">=</span> father<span class="token operator">-</span><span class="token operator">&gt;</span>m_rightson<span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
				brother<span class="token operator">-</span><span class="token operator">&gt;</span>m_color <span class="token operator">=</span> father<span class="token operator">-</span><span class="token operator">&gt;</span>m_color<span class="token punctuation">;</span>
				father<span class="token operator">-</span><span class="token operator">&gt;</span>m_color <span class="token operator">=</span> BLACK<span class="token punctuation">;</span>
				brother<span class="token operator">-</span><span class="token operator">&gt;</span>m_rightson<span class="token operator">-</span><span class="token operator">&gt;</span>m_color <span class="token operator">=</span> BLACK<span class="token punctuation">;</span>
				<span class="token function">LeftRotate</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> father<span class="token punctuation">)</span><span class="token punctuation">;</span>
				node <span class="token operator">=</span> root<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span>
		<span class="token punctuation">{<!-- --></span>
			brother <span class="token operator">=</span> father<span class="token operator">-</span><span class="token operator">&gt;</span>m_leftson<span class="token punctuation">;</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>brother<span class="token operator">-</span><span class="token operator">&gt;</span>m_color <span class="token operator">==</span> RED<span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				brother<span class="token operator">-</span><span class="token operator">&gt;</span>m_color <span class="token operator">=</span> BLACK<span class="token punctuation">;</span>
				father<span class="token operator">-</span><span class="token operator">&gt;</span>m_color <span class="token operator">=</span> RED<span class="token punctuation">;</span>
				<span class="token function">RightRotate</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> father<span class="token punctuation">)</span><span class="token punctuation">;</span>
				brother <span class="token operator">=</span> father<span class="token operator">-</span><span class="token operator">&gt;</span>m_leftson<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">!</span>brother<span class="token operator">-</span><span class="token operator">&gt;</span>m_leftson <span class="token operator">||</span> brother<span class="token operator">-</span><span class="token operator">&gt;</span>m_leftson<span class="token operator">-</span><span class="token operator">&gt;</span>m_color <span class="token operator">==</span> BLACK<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token operator">!</span>brother<span class="token operator">-</span><span class="token operator">&gt;</span>m_rightson <span class="token operator">||</span> brother<span class="token operator">-</span><span class="token operator">&gt;</span>m_rightson<span class="token operator">-</span><span class="token operator">&gt;</span>m_color <span class="token operator">==</span> BLACK<span class="token punctuation">)</span><span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				brother<span class="token operator">-</span><span class="token operator">&gt;</span>m_color <span class="token operator">=</span> RED<span class="token punctuation">;</span>
				node <span class="token operator">=</span> father<span class="token punctuation">;</span>
				father <span class="token operator">=</span> node<span class="token operator">-</span><span class="token operator">&gt;</span>m_father<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">else</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>brother<span class="token operator">-</span><span class="token operator">&gt;</span>m_leftson <span class="token operator">||</span> brother<span class="token operator">-</span><span class="token operator">&gt;</span>m_leftson<span class="token operator">-</span><span class="token operator">&gt;</span>m_color <span class="token operator">==</span> BLACK<span class="token punctuation">)</span>
				<span class="token punctuation">{<!-- --></span>
					brother<span class="token operator">-</span><span class="token operator">&gt;</span>m_color <span class="token operator">=</span> RED<span class="token punctuation">;</span>
					brother<span class="token operator">-</span><span class="token operator">&gt;</span>m_rightson<span class="token operator">-</span><span class="token operator">&gt;</span>m_color <span class="token operator">=</span> BLACK<span class="token punctuation">;</span>
					<span class="token function">LeftRotate</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> brother<span class="token punctuation">)</span><span class="token punctuation">;</span>
					brother <span class="token operator">=</span> father<span class="token operator">-</span><span class="token operator">&gt;</span>m_leftson<span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
				brother<span class="token operator">-</span><span class="token operator">&gt;</span>m_color <span class="token operator">=</span> father<span class="token operator">-</span><span class="token operator">&gt;</span>m_color<span class="token punctuation">;</span>
				father<span class="token operator">-</span><span class="token operator">&gt;</span>m_color <span class="token operator">=</span> BLACK<span class="token punctuation">;</span>
				brother<span class="token operator">-</span><span class="token operator">&gt;</span>m_leftson<span class="token operator">-</span><span class="token operator">&gt;</span>m_color <span class="token operator">=</span> BLACK<span class="token punctuation">;</span>
				<span class="token function">RightRotate</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> father<span class="token punctuation">)</span><span class="token punctuation">;</span>
				node <span class="token operator">=</span> root<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		node<span class="token operator">-</span><span class="token operator">&gt;</span>m_color <span class="token operator">=</span> BLACK<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
<span class="token keyword">void</span> RBTree<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">::</span><span class="token function">Print</span><span class="token punctuation">(</span>RBTNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> node<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>node<span class="token operator">-</span><span class="token operator">&gt;</span>m_father<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			cout <span class="token operator">&lt;&lt;</span> <span class="token function">setw</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> node<span class="token operator">-</span><span class="token operator">&gt;</span>m_key <span class="token operator">&lt;&lt;</span> <span class="token string">"(B) is root"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span>
		<span class="token punctuation">{<!-- --></span>
			cout <span class="token operator">&lt;&lt;</span> <span class="token function">setw</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> node<span class="token operator">-</span><span class="token operator">&gt;</span>m_key <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span>node<span class="token operator">-</span><span class="token operator">&gt;</span>m_color <span class="token operator">==</span> RED <span class="token operator">?</span> <span class="token string">"(R)"</span> <span class="token operator">:</span> <span class="token string">"(B)"</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" is "</span> <span class="token operator">&lt;&lt;</span> <span class="token function">setw</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> node<span class="token operator">-</span><span class="token operator">&gt;</span>m_father<span class="token operator">-</span><span class="token operator">&gt;</span>m_key <span class="token operator">&lt;&lt;</span> <span class="token string">"'s "</span> <span class="token operator">&lt;&lt;</span> <span class="token function">setw</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span>node<span class="token operator">-</span><span class="token operator">&gt;</span>m_key <span class="token operator">&lt;</span> node<span class="token operator">-</span><span class="token operator">&gt;</span>m_father<span class="token operator">-</span><span class="token operator">&gt;</span>m_key <span class="token operator">?</span> <span class="token string">"left child"</span> <span class="token operator">:</span> <span class="token string">"right child"</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token function">Print</span><span class="token punctuation">(</span>node<span class="token operator">-</span><span class="token operator">&gt;</span>m_leftson<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">Print</span><span class="token punctuation">(</span>node<span class="token operator">-</span><span class="token operator">&gt;</span>m_rightson<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
<span class="token keyword">void</span> RBTree<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">::</span><span class="token function">Insert</span><span class="token punctuation">(</span>T key<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	RBTNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> node <span class="token operator">=</span> <span class="token keyword">new</span> RBTNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> RED<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">Insert</span><span class="token punctuation">(</span>m_root<span class="token punctuation">,</span> node<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
<span class="token keyword">void</span> RBTree<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">::</span><span class="token function">Delete</span><span class="token punctuation">(</span>T key<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	RBTNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> node<span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>node <span class="token operator">=</span> <span class="token function">Search</span><span class="token punctuation">(</span>m_root<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token comment">//查找key对应的节点(node),找到的话就删除该节点</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">Delete</span><span class="token punctuation">(</span>m_root<span class="token punctuation">,</span> node<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
<span class="token keyword">void</span> RBTree<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">::</span><span class="token function">Print</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">Print</span><span class="token punctuation">(</span>m_root<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token macro property">#<span class="token directive keyword">endif</span></span>
</code></pre> 
<p><font face="微软雅黑" size="1"><strong>&gt;红黑树的测试文件(main.cpp)</strong></font></p> 
<pre><code class="prism language-cpp"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;time.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">"RBTree.h"</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>

<span class="token keyword">int</span> array<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	RBTree<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token operator">*</span> tree <span class="token operator">=</span> <span class="token keyword">new</span> RBTree<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">srand</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"原数数据:"</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		array<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">121</span><span class="token punctuation">;</span>
		tree<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">Insert</span><span class="token punctuation">(</span>array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span> <span class="token operator">&lt;&lt;</span> array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"---------------------"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	tree<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">Print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"---------------------"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token keyword">int</span> delete_key <span class="token operator">=</span> array<span class="token punctuation">[</span><span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"删除节点: "</span> <span class="token operator">&lt;&lt;</span> delete_key <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	tree<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">Delete</span><span class="token punctuation">(</span>delete_key<span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"---------------------"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	tree<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">Print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"---------------------"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token keyword">delete</span> tree<span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<blockquote> 
 <h6><a id="C_910"></a>C++程序运行结果</h6> 
</blockquote> 
<pre><code>原数数据: 50 81 103 83 79 87 43 54 103 35
---------------------
 81(B) is root
 50(R) is  81's   left child
 43(B) is  50's   left child
 35(R) is  43's   left child
 79(B) is  50's  right child
 54(R) is  79's   left child
 87(R) is  81's  right child
 83(B) is  87's   left child
103(B) is  87's  right child
103(R) is 103's  right child
---------------------
删除节点: 50
---------------------
 81(B) is root
 43(R) is  81's   left child
 35(B) is  43's   left child
 79(B) is  43's  right child
 54(R) is  79's   left child
 87(R) is  81's  right child
 83(B) is  87's   left child
103(B) is  87's  right child
103(R) is 103's  right child
---------------------
</code></pre> 
<hr class="footnotes-sep"> 
<section class="footnotes"> 
 <ol class="footnotes-list"><li id="fn1" class="footnote-item"><p><font face="Consolas" size="2"><em>红黑树是一种特殊的二叉查找树，故而数据在其内部是有序的。</em></font> <a href="#fnref1" rel="nofollow" class="footnote-backref">↩︎</a></p> </li><li id="fn2" class="footnote-item"><p><font face="Consolas" size="2"><em>左旋小测验答案:</em></font><br> <img src="https://images2.imgbox.com/84/a9/T7Jbn1VE_o.png" alt="左旋小测验答案"> <a href="#fnref2" rel="nofollow" class="footnote-backref">↩︎</a></p> </li><li id="fn3" class="footnote-item"><p><font face="Consolas" size="2"><em>右旋小测验答案:</em></font><br> <img src="https://images2.imgbox.com/40/10/bqz98D7O_o.png" alt="右旋小测验答案"> <a href="#fnref3" rel="nofollow" class="footnote-backref">↩︎</a></p> </li></ol> 
</section>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/090e31e91dd73d477a6ab159485541fc/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">LSTM预测股价的APP</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/ee5c81a84a9cffae26e15f1b823d127b/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Android Dialog弹出方式动画</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>