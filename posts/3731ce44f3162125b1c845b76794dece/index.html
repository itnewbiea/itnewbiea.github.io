<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>MySQL的基本用法 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="MySQL的基本用法" />
<meta property="og:description" content="哈喽啊铁子们今天分享的是 MySQL 的基本用法
目录
一、安装MySQL
二、命令行登陆及权限修改
三、MySQL默认四张表
四.mysql之账号管理、建库以及四大引擎
五、面试题
一、安装MySQL 我在前面的博客前面写了安装MySQL8.0版本教程链接如下不会的可以看看
http://t.csdn.cn/S4s3U
安装MySQL（8.0的版本）
1.解压MySQL
2.修改my.ini文件
3.mysqld install
4.mysqld --initialize --console
5.net start mysql
6.mysql -P 3306 -u root -p
7.ALTER USER &#39;root&#39;@&#39;localhost&#39; IDENTIFIED WITH mysql_native_password BY &#39;123456&#39;;
8.Navicat链接测试
如果MySQL已经安装过，那么执行mysqld remove
安装MySQL（5.7的版本）
1.解压MySQL
2.修改my.ini文件
3.mysqld install
4.mysqld --initialize --console
5.net start mysql
6.mysql -P 3306 -u root -p
7.SET PASSWORD = PASSWORD(&#34;123456&#34;); 8.Navicat链接测试
如果MySQL已经安装过，那么执行mysqld remove
删除MySQL（这是5.5版本的卸载方式）
停止MySQL
1添加删除程序中卸载MySQL
2到安装目录删除MySQL
3删除：C:\Documents and Settings\All Users\Application Data\MySQL" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/3731ce44f3162125b1c845b76794dece/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-07-01T13:04:15+08:00" />
<meta property="article:modified_time" content="2022-07-01T13:04:15+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">MySQL的基本用法</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>哈喽啊铁子们今天分享的是 MySQL 的基本用法</p> 
<p> </p> 
<p id="main-toc"><strong>目录</strong></p> 
<p id="%E4%B8%80%E3%80%81%E5%AE%89%E8%A3%85MySQL-toc" style="margin-left:40px;"><a href="#%E4%B8%80%E3%80%81%E5%AE%89%E8%A3%85MySQL" rel="nofollow">一、安装MySQL</a></p> 
<p id="%E4%BA%8C%E3%80%81%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%99%BB%E9%99%86%E5%8F%8A%E6%9D%83%E9%99%90%E4%BF%AE%E6%94%B9-toc" style="margin-left:40px;"><a href="#%E4%BA%8C%E3%80%81%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%99%BB%E9%99%86%E5%8F%8A%E6%9D%83%E9%99%90%E4%BF%AE%E6%94%B9" rel="nofollow">二、命令行登陆及权限修改</a></p> 
<p id="%E4%B8%89%E3%80%81MySQL%E9%BB%98%E8%AE%A4%E5%9B%9B%E5%BC%A0%E8%A1%A8-toc" style="margin-left:40px;"><a href="#%E4%B8%89%E3%80%81MySQL%E9%BB%98%E8%AE%A4%E5%9B%9B%E5%BC%A0%E8%A1%A8" rel="nofollow">三、MySQL默认四张表</a></p> 
<p id="%E5%9B%9B.mysql%E4%B9%8B%E8%B4%A6%E5%8F%B7%E7%AE%A1%E7%90%86%E3%80%81%E5%BB%BA%E5%BA%93%E4%BB%A5%E5%8F%8A%E5%9B%9B%E5%A4%A7%E5%BC%95%E6%93%8E-toc" style="margin-left:40px;"><a href="#%E5%9B%9B.mysql%E4%B9%8B%E8%B4%A6%E5%8F%B7%E7%AE%A1%E7%90%86%E3%80%81%E5%BB%BA%E5%BA%93%E4%BB%A5%E5%8F%8A%E5%9B%9B%E5%A4%A7%E5%BC%95%E6%93%8E" rel="nofollow">四.mysql之账号管理、建库以及四大引擎</a></p> 
<p id="%E4%BA%94%E3%80%81%E9%9D%A2%E8%AF%95%E9%A2%98-toc" style="margin-left:40px;"><a href="#%E4%BA%94%E3%80%81%E9%9D%A2%E8%AF%95%E9%A2%98" rel="nofollow">五、面试题</a></p> 
<hr id="hr-toc"> 
<p></p> 
<h3 id="%E4%B8%80%E3%80%81%E5%AE%89%E8%A3%85MySQL">一、安装MySQL</h3> 
<p>我在前面的博客前面写了安装MySQL8.0版本教程链接如下不会的可以看看</p> 
<p><a href="http://t.csdn.cn/S4s3U" rel="nofollow" title="http://t.csdn.cn/S4s3U">http://t.csdn.cn/S4s3U</a></p> 
<blockquote> 
 <p>安装MySQL（8.0的版本）<br> 1.解压MySQL<br> 2.修改my.ini文件<br> 3.mysqld install<br> 4.mysqld --initialize --console<br> 5.net start mysql<br> 6.mysql -P 3306 -u root -p<br> 7.ALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY '123456';<br> 8.Navicat链接测试</p> 
 <p>如果MySQL已经安装过，那么执行mysqld remove</p> 
</blockquote> 
<blockquote> 
 <p> 安装MySQL（5.7的版本）<br>  </p> 
 <p>1.解压MySQL<br> 2.修改my.ini文件<br> 3.mysqld install<br> 4.mysqld --initialize --console<br> 5.net start mysql<br> 6.mysql -P 3306 -u root -p<br> 7.SET PASSWORD = PASSWORD("123456"); <br> 8.Navicat链接测试</p> 
 <p>如果MySQL已经安装过，那么执行mysqld remove</p> 
</blockquote> 
<blockquote> 
 <p> 删除MySQL（这是5.5版本的卸载方式）</p> 
</blockquote> 
<blockquote> 
 <p>停止MySQL<br> 1添加删除程序中卸载MySQL<br> 2到安装目录删除MySQL<br> 3删除：C:\Documents and Settings\All Users\Application Data\MySQL<br>     C:\ProgramData\MySQL</p> 
</blockquote> 
<blockquote> 
 <p><br> 4查看注册表：<br> regedit<br> HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services<br> HKEY_LOCAL_MACHINE\SYSTEM\ControlSet001\Services<br> HKEY_LOCAL_MACHINE\SYSTEM\ControlSet002\Services<br> 搜索mysql，找到一律干掉！<br> ============================</p> 
 <p>需要重启电脑(win xp)，直接重新安装即可</p> 
</blockquote> 
<p></p> 
<h3 id="%E4%BA%8C%E3%80%81%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%99%BB%E9%99%86%E5%8F%8A%E6%9D%83%E9%99%90%E4%BF%AE%E6%94%B9">二、命令行登陆及权限修改</h3> 
<blockquote> 
 <p>登录</p> 
 <p>mysql -u root -p</p> 
</blockquote> 
<p></p> 
<p>启动、停止、重启MySQL服务</p> 
<blockquote> 
 <p>#linux<br> 一、启动方式<br> 1、使用 service 启动：service mysqld start<br> 2、使用 mysqld 脚本启动：/etc/inint.d/mysqld start<br> 3、使用 safe_mysqld 启动：safe_mysqld&amp;</p> 
 <p>二、停止<br> 1、使用 service 启动：service mysqld stop<br> 2、使用 mysqld 脚本启动：/etc/inint.d/mysqld stop<br> 3、mysqladmin shutdown</p> 
 <p>三、重启<br> 1、使用 service 启动：service mysqld restart<br> 2、使用 mysqld 脚本启动：/etc/inint.d/mysqld restart</p> 
 <p>#window<br> net stop mysql<br> net start mysql</p> 
</blockquote> 
<p></p> 
<h3 id="%E4%B8%89%E3%80%81MySQL%E9%BB%98%E8%AE%A4%E5%9B%9B%E5%BC%A0%E8%A1%A8">三、MySQL默认四张表</h3> 
<blockquote> 
 <p><br> 一首先我们需要来看一下mysql默认数据库里面的四张表（user，db，tables_priv，columns_priv）。</p> 
 <p>1、user表（用户层权限）</p> 
 <p><br> 因为字段太多，只截取了一部分。首先登陆的时候验证Host,User,Password(authentication_string)也就是ip,用户名，密码是否匹配，匹配登陆成功将会为登陆者分配权限，分配权限的顺序也是按照上面四张表的排列顺序进行的，举个例子，如果user表的Select_priv为Y说明他拥有所有表的查找权限，如果为N就需要到下一级db表中进行权限分配了。其中的%是通配符，代表任意的意思。</p> 
 <p>2、db表（数据库层权限）</p> 
 <p><br> 来到db表之后会匹配Host,User然后会根据Db字段对应的表进行权限分配，像Select_priv这些字段对应的权限大家应该都能看出来是对应着什么权限了吧，这里不细说了（不偷懒，举个例子Select_priv，Insert_priv，Update_priv，Delete_priv，Create_priv，Drop_priv分别代表着查询，增加，更新，删除，创建，销毁）。其中Y代表这拥有此项权限，N则代表没有此项权限。</p> 
 <p>3、tables_priv表（表层权限）</p> 
 <p><br> 与上面一样，这是通过Host，Db，User，Table来进行定位到表层的一个权限分配。不过它只有Table_priv和Column_priv两个字段来记录权限。</p> 
 <p>4、columns_priv表（字段层权限）</p> 
 <p><br> 顾名思义，字段层权限，通过Host，Db，User，Table，Column来进行定位到字段层的一个权限分配，只有Column_priv来记录权限。</p> 
</blockquote> 
<p></p> 
<h3 id="%E5%9B%9B.mysql%E4%B9%8B%E8%B4%A6%E5%8F%B7%E7%AE%A1%E7%90%86%E3%80%81%E5%BB%BA%E5%BA%93%E4%BB%A5%E5%8F%8A%E5%9B%9B%E5%A4%A7%E5%BC%95%E6%93%8E">四.mysql之账号管理、建库以及四大引擎</h3> 
<blockquote> 
 <p><br> 0.查询用户<br> SELECT * from user;<br> ​<br> 1.创建用户并设置登录密码<br> #MySQL5.7<br> #命令：create user 用户名 identified by '密码';<br> #注：identified by会将纯文本密码加密作为散列值存储<br> create user ls identified by '123456';<br> #MySQL8<br> #用户名密码创建需要分开<br> #命令：create user 用户名;<br> create user ls;<br> ​<br> ​<br> 2.查看用户信息<br> #MySQL5.7<br> select host,user,password from user;<br> #MySQL8<br> select host,user,authentication_string from user;<br> ​<br> 3.删除用户（慎用）<br> #命令：drop user 用户名;<br> #drop user ls;<br> ​<br> 4.修改用户密码<br> 4.1 修改密码<br> #MySQL5.7<br> #命令：set password for 用户名=password('新密码');<br> set password for zs=password('123456');<br> ​<br> #MySQL8<br> #ALTER USER 用户 IDENTIFIED WITH mysql_native_password BY '密码';<br> ALTER USER 'ls'@'%' IDENTIFIED WITH mysql_native_password BY '123456';<br> ​<br> 4.2 刷新配置<br> #命令：flush privileges;<br> ​<br> #MySQL5.7与MySQL8关于权限操作没有差异性<br> 5.设置权限(Grant)<br> #语法：grant privileges on databasename.tablename to username@'host';<br> #给 zs用户 赋予 数据库db_xiaoli中的表t_p1_user 查询权限<br> grant SELECT on db_xiaoli.t_p1_user to zs@'%';<br> #给 zs用户 赋予 数据库db_xiaoli中的表t_p1_user 修改权限<br> grant UPDATE on db_xiaoli.t_p1_user to zs@'%';<br> #给 zs用户 赋予 数据库db_xiaoli中所有表 查询权限<br> grant SELECT on db_xiaoli.* to zs@'%';<br> #给 zs用户 赋予 数据库db_xiaoli中所有表 所有权限<br> grant ALL on db_xiaoli.* to zs@'%';<br> ​<br> 6.撤销权限(Revoke)<br> #语法：revoke privileges on databasename.tablename from username@'host';<br> #啥也不能回收,不会对GRANT ALL PRIVILEGES ON `db_xiaoli`.* TO `zs`@`%`有任何影响<br> revoke DELETE on db_xiaoli.t_p1_user from zs@'%';<br> #可以回收GRANT SELECT, UPDATE ON `db_xiaoli`.`t_p1_user` TO `zs`@`%`这条权限语句<br> revoke all on db_xiaoli.t_p1_user from zs@'%';<br> #可以回收GRANT ALL PRIVILEGES ON `db_xiaoli`.* TO `zs`@`%`这条赋权语句带来的权限<br> revoke all on db_xiaoli.* from zs@'%';<br> #注：revoke只能回收grants列表中更小的权限；<br> ​<br> 设置权限(Grant)和撤销权限(Revoke)的参数说明：<br> 1) privileges： 用户的操作权限,如SELECT,INSERT,UPDATE,DELETE等，如果要授予所有权限直接使用：all;<br> 2) databasename：数据库名;<br> 3) tablename：   表名，如果要授予用户对所有数据库和表的操作权限直接使用：*.*;  <br> ​<br> 7.查看用户权限<br> #命令：show grants for 用户名;<br> show grants for 'zs'@'%';<br> ​<br> ​<br> user表中host列的值的意义<br> %             匹配所有主机<br> localhost     localhost不会被解析成IP地址，直接通过UNIXsocket连接<br> 127.0.0.1     会通过TCP/IP协议连接，并且只能在本机访问；<br> ::1           ::1就是兼容支持ipv6的，表示同ipv4的127.0.0.1</p> 
</blockquote> 
<blockquote> 
 <p>2、数据库创建</p> 
 <p>1.MySQL默认数据库介绍<br> 1)information_schema：是一个信息数据库，它保存着关于MySQL服务器所维护的所有其他数据库的信息；<br> 2)mysql：核心数据库，类似于sql server中的master表，主要负责存储数据库的用户、权限设置、关键字等mysql自己需要使用的控制和管理信息；<br> 3)test：测试数据库，没有东西；<br> ​<br> 2.创建数据库<br> 语法：create database 数据库名;<br> 或者<br> create database if not exists 数据库名 default charset utf8 collate utf8_general_ci;<br> ​<br> 注：默认的数据库编码集：utf8（即UTF-8），collate表示排序规则为utf8_general_ci<br> ​<br> 3.查看所有数据库<br> 语法：show databases;<br> ​<br> 4.删除数据库(慎用)<br> 语法：drop database 数据库名;</p> 
</blockquote> 
<blockquote> 
 <p>3、四大引擎的作用及区别</p> 
 <p>存储引擎查看<br> MySQL给开发者提供了查询存储引擎的功能，我这里使用的是MySQL5.1，可以使用：<br> SHOW ENGINES</p> 
 <p>InnoDB存储引擎</p> 
 <p>InnoDB是事务型数据库的首选引擎，支持事务安全表（ACID），支持行锁定和外键，上图也看到了，InnoDB是默认的MySQL引擎。InnoDB主要特性有：</p> 
 <p>1、InnoDB给MySQL提供了具有提交、回滚和崩溃恢复能力的事物安全（ACID兼容）存储引擎。InnoDB锁定在行级并且也在SELECT语句中提供一个类似Oracle的非锁定读。这些功能增加了多用户部署和性能。在SQL查询中，可以自由地将InnoDB类型的表和其他MySQL的表类型混合起来，甚至在同一个查询中也可以混合</p> 
 <p>2、InnoDB是为处理巨大数据量的最大性能设计。它的CPU效率可能是任何其他基于磁盘的关系型数据库引擎锁不能匹敌的</p> 
 <p>3、InnoDB存储引擎完全与MySQL服务器整合，InnoDB存储引擎为在主内存中缓存数据和索引而维持它自己的缓冲池。InnoDB将它的表和索引在一个逻辑表空间中，表空间可以包含数个文件（或原始磁盘文件）。这与MyISAM表不同，比如在MyISAM表中每个表被存放在分离的文件中。InnoDB表可以是任何尺寸，即使在文件尺寸被限制为2GB的操作系统上</p> 
 <p>4、InnoDB支持外键完整性约束，存储表中的数据时，每张表的存储都按主键顺序存放，如果没有显示在表定义时指定主键，InnoDB会为每一行生成一个6字节的ROWID，并以此作为主键</p> 
 <p>5、InnoDB被用在众多需要高性能的大型数据库站点上</p> 
 <p>InnoDB不创建目录，使用InnoDB时，MySQL将在MySQL数据目录下创建一个名为ibdata1的10MB大小的自动扩展数据文件，以及两个名为ib_logfile0和ib_logfile1的5MB大小的日志文件</p> 
 <p>MyISAM存储引擎</p> 
 <p>MyISAM基于ISAM存储引擎，并对其进行扩展。它是在Web、数据仓储和其他应用环境下最常使用的存储引擎之一。MyISAM拥有较高的插入、查询速度，但不支持事物。MyISAM主要特性有：</p> 
 <p>1、大文件（达到63位文件长度）在支持大文件的文件系统和操作系统上被支持</p> 
 <p>2、当把删除和更新及插入操作混合使用的时候，动态尺寸的行产生更少碎片。这要通过合并相邻被删除的块，以及若下一个块被删除，就扩展到下一块自动完成</p> 
 <p>3、每个MyISAM表最大索引数是64，这可以通过重新编译来改变。每个索引最大的列数是16</p> 
 <p>4、最大的键长度是1000字节，这也可以通过编译来改变，对于键长度超过250字节的情况，一个超过1024字节的键将被用上</p> 
 <p>5、BLOB和TEXT列可以被索引</p> 
 <p>6、NULL被允许在索引的列中，这个值占每个键的0~1个字节</p> 
 <p>7、所有数字键值以高字节优先被存储以允许一个更高的索引压缩</p> 
 <p>8、每个MyISAM类型的表都有一个AUTO_INCREMENT的内部列，当INSERT和UPDATE操作的时候该列被更新，同时AUTO_INCREMENT列将被刷新。所以说，MyISAM类型表的AUTO_INCREMENT列更新比InnoDB类型的AUTO_INCREMENT更快</p> 
 <p>9、可以把数据文件和索引文件放在不同目录</p> 
 <p>10、每个字符列可以有不同的字符集</p> 
 <p>11、有VARCHAR的表可以固定或动态记录长度</p> 
 <p>12、VARCHAR和CHAR列可以多达64KB</p> 
 <p>使用MyISAM引擎创建数据库，将产生3个文件。文件的名字以表名字开始，扩展名之处文件类型：frm文件存储表定义、数据文件的扩展名为.MYD（MYData）、索引文件的扩展名时.MYI（MYIndex）</p> 
 <p><br> MEMORY存储引擎</p> 
 <p>MEMORY存储引擎将表中的数据存储到内存中，未查询和引用其他表数据提供快速访问。MEMORY主要特性有：</p> 
 <p>1、MEMORY表的每个表可以有多达32个索引，每个索引16列，以及500字节的最大键长度</p> 
 <p>2、MEMORY存储引擎执行HASH和BTREE缩影</p> 
 <p>3、可以在一个MEMORY表中有非唯一键值</p> 
 <p>4、MEMORY表使用一个固定的记录长度格式</p> 
 <p>5、MEMORY不支持BLOB或TEXT列</p> 
 <p>6、MEMORY支持AUTO_INCREMENT列和对可包含NULL值的列的索引</p> 
 <p>7、MEMORY表在所由客户端之间共享（就像其他任何非TEMPORARY表）</p> 
 <p>8、MEMORY表内存被存储在内存中，内存是MEMORY表和服务器在查询处理时的空闲中，创建的内部表共享</p> 
 <p>9、当不再需要MEMORY表的内容时，要释放被MEMORY表使用的内存，应该执行DELETE FROM或TRUNCATE TABLE，或者删除整个表（使用DROP TABLE）</p> 
</blockquote> 
<p>存储引擎的选择</p> 
<p>不同的存储引擎都有各自的特点，以适应不同的需求，如下表所示：</p> 
<p><img alt="" height="334" src="https://images2.imgbox.com/e7/fd/2Ov6a1x7_o.png" width="462"></p> 
<p></p> 
<p><br> 如果要提供提交、回滚、崩溃恢复能力的事物安全（ACID兼容）能力，并要求实现并发控制，InnoDB是一个好的选择<br> ​<br> 如果数据表主要用来插入和查询记录，则MyISAM引擎能提供较高的处理效率<br> ​<br> 如果只是临时存放数据，数据量不大，并且不需要较高的数据安全性，可以选择将数据保存在内存中的Memory引擎，MySQL中使用该引擎作为临时表，存放查询的中间结果<br> ​<br> 如果只有INSERT和SELECT操作，可以选择Archive，Archive支持高并发的插入操作，但是本身不是事务安全的。Archive非常适合存储归档数据，如记录日志信息可以使用Archive<br> ​<br> 使用哪一种引擎需要灵活选择，一个数据库中多个表可以使用不同引擎以满足各种性能和实际需求，使用合适的存储引擎，将会提高整个数据库的性能<br> 文章知识点与官方知识档案匹配，可进一步学习相关知识<br> Java技能树使用JDBC操作数据库<br>  </p> 
<h3 id="%E4%BA%94%E3%80%81%E9%9D%A2%E8%AF%95%E9%A2%98">五、面试题</h3> 
<p>建表</p> 
<pre><code>用户表
create TABLE tb_yh(
	user_id VARCHAR(20),
	order_time date,
	order_category VARCHAR(100),
	order_amt FLOAT,
	shop_id VARCHAR(20)
)
商户BD表
create table tb_bd(
	shop_id VARCHAR(20),
	bd_name VARCHAR(100),
	bd_team VARCHAR(100),
	start_time date,
	end_time date
	
)
</code></pre> 
<p>建完表后插入数据</p> 
<pre><code>用户表
INSERT INTO tb_yh VALUES('A123','2021-01-01 06:50:30','麻辣烫',23.2,'ZL123');
INSERT INTO tb_yh VALUES('A123','2018-01-06 19:20:00','粥',32.2,'SM456');
INSERT INTO tb_yh VALUES('B456','2018-01-15 15:30:00','麻辣烫',22.2,'ZL123');
INSERT INTO tb_yh VALUES('B456','2018-01-25 20:30:00','汉堡',19.2,'HBW123');
INSERT INTO tb_yh VALUES('C789','2018-01-01 22:15:00','小龙虾',60.2,'XM456')

商户BD表
INSERT INTO tb_bd VALUES('ZL123','小明','销售A组','2018-01-01','2018-01-14');
INSERT INTO tb_bd VALUES('ZL123','小张','销售B组','2018-01-15','2099-12-31');
INSERT INTO tb_bd VALUES('SM456','小张','销售B组','2016-01-01','2019-01-01');
INSERT INTO tb_bd VALUES('HBW123','小李','销售C组','2015-01-01','2020-12-31');
INSERT INTO tb_bd VALUES('XM456','小李','销售C组','2015-01-01','2016-01-01')

</code></pre> 
<p>题目</p> 
<p><strong>1、1月份每笔消费均大于20元的用户的总消费<br> 2、1月份只吃了麻辣烫和汉堡的人数<br> 3、计算每一个BD_TEAM的BD对应门店的销售额</strong></p> 
<p>1月每笔消费均大于20元的用户的总消费金额</p> 
<pre><code>SELECT user_id,SUM(order_amt) from tb_yh GROUP BY user_id HAVING SUM(order_amt)&gt;20 and user_id in(
	select user_id from tb_yh where order_time like '%-01-%'
)
</code></pre> 
<p>运行结果</p> 
<p><img alt="" height="105" src="https://images2.imgbox.com/11/5c/4gBmWC2B_o.png" width="269"></p> 
<p>  <strong>1月份只吃了麻辣烫和汉堡的人数</strong></p> 
<pre><code>select count(*) from (
select count(*) from (
select * from(
select * from tb_user where order_time like '%-01-%'  
) c where order_category ='麻辣烫' or order_category ='汉堡'
) d GROUP BY user_id HAVING count(*)=2
) e</code></pre> 
<p><img alt="" height="89" src="https://images2.imgbox.com/ac/27/Lq96TvDf_o.png" width="221"></p> 
<p>  <strong>计算每一个BD_TEAM的BD对应门店的销售额</strong></p> 
<p></p> 
<pre><code>select sum(b.order_atm) from tb_shop a,tb_user b where a.shop_id=b.shop_id GROUP BY a.bd_team</code></pre> 
<p><img alt="" height="173" src="https://images2.imgbox.com/f8/0f/7Ok24DJH_o.png" width="317"></p> 
<p id="main-toc"></p> 
<p> </p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/4d357615b92e8fdef36d7117f8bfe0a7/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">会话推荐中的价格偏好和兴趣偏好共同建模-论文泛读</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/dcaada6551850192ebde9793e4c3000e/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【Opencv450】HOG&#43;SVM 与Hog&#43;cascade进行行人检测</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>