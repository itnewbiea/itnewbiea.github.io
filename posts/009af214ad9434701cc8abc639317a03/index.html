<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Python的格式化输出：format函数用法 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Python的格式化输出：format函数用法" />
<meta property="og:description" content="何为format format是python2.6新增的一个格式化字符串的方法，相对与旧版的%它有很多优点
format的优点 1.不需要理会数据类型的问题，在%方法中%s只能替代字符串类型
2.单个参数可以多次输出，参数顺序可以不相同
3.填充方式十分灵活，对齐方式十分强大
4.官方推荐用的方式，%方式将会在后面的版本被淘汰
format的使用 基本 填充
（1）顺序填充
与%类似，通过{ }占位然后顺序填充
print(&#34;Hello,My name is {}, and i am from {}.&#34;.format(&#34;Yz&#34;,&#34;China&#34;)) Output： Hello,My name is Yz, and i am from China. （2）下标填充
我们在{ }中填充逻辑顺序来对应之后format中的字符串
print(&#34;Hello,My name is {1}, and i am from {0}.&#34;.format(&#34;China&#34;,&#34;Yz&#34;)) Output： Hello,My name is Yz, and i am from China. 值得注意的是：在此种填充中，必须在每个{ }都标上序号，包括下面将会看到的在填充空白字段那里，如果使用了下标，则必须全部标上，即要标全标，要不标都不标，否则会报错
错误示范：
print(&#34;Hello,My name is {1}, and i am from {}.&#34;.format(&#34;China&#34;,&#34;Yz&#34;))#第一个空标了，但第2个空未标 Output： Traceback (most recent call last): File &#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/009af214ad9434701cc8abc639317a03/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-05-18T13:26:19+08:00" />
<meta property="article:modified_time" content="2020-05-18T13:26:19+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Python的格式化输出：format函数用法</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="format_0"></a>何为format</h3> 
<p>format是python2.6新增的一个格式化字符串的方法，相对与旧版的%它有很多优点</p> 
<h3><a id="format_2"></a>format的优点</h3> 
<p>1.不需要理会数据类型的问题，在%方法中%s只能替代字符串类型</p> 
<p>2.单个参数可以多次输出，参数顺序可以不相同</p> 
<p>3.填充方式十分灵活，对齐方式十分强大</p> 
<p>4.官方推荐用的方式，%方式将会在后面的版本被淘汰</p> 
<h3><a id="format_10"></a>format的使用</h3> 
<p><strong>基本</strong> 填充<br> （1）顺序填充<br> 与%类似，通过{ }占位然后顺序填充</p> 
<pre><code class="prism language-c"><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Hello,My name is {}, and i am from {}."</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"Yz"</span><span class="token punctuation">,</span><span class="token string">"China"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

Output：
Hello<span class="token punctuation">,</span>My name is Yz<span class="token punctuation">,</span> and i am from China<span class="token punctuation">.</span>
</code></pre> 
<p>（2）下标填充<br> 我们在{ }中填充逻辑顺序来对应之后format中的字符串</p> 
<pre><code class="prism language-c"><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Hello,My name is {1}, and i am from {0}."</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"China"</span><span class="token punctuation">,</span><span class="token string">"Yz"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

Output：
Hello<span class="token punctuation">,</span>My name is Yz<span class="token punctuation">,</span> and i am from China<span class="token punctuation">.</span>
</code></pre> 
<p>值得注意的是：在此种填充中，必须在每个{ }都标上序号，包括下面将会看到的在填充空白字段那里，如果使用了下标，则必须全部标上，即<strong>要标全标，要不标都不标</strong>，否则会报错<br> 错误示范：</p> 
<pre><code class="prism language-c"><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Hello,My name is {1}, and i am from {}."</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"China"</span><span class="token punctuation">,</span><span class="token string">"Yz"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>#第一个空标了，但第<span class="token number">2</span>个空未标

Output：
Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span><span class="token punctuation">:</span>
  File <span class="token string">"E:/Pycharm Project/Crawler/Text.py"</span><span class="token punctuation">,</span> line <span class="token number">1</span><span class="token punctuation">,</span> in <span class="token operator">&lt;</span>module<span class="token operator">&gt;</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Hello,My name is {1}, and i am from {}."</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"China"</span><span class="token punctuation">,</span><span class="token string">"Yz"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
ValueError<span class="token punctuation">:</span> cannot <span class="token keyword">switch</span> from manual field specification to automatic field numbering
报错：无法从手动字段指定切换为自动字段编号
</code></pre> 
<p>（3）关键字填充</p> 
<pre><code class="prism language-c"><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Hello,My name is {Name}, and i am from {Country}."</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>Country <span class="token operator">=</span> <span class="token string">"China"</span><span class="token punctuation">,</span>Name <span class="token operator">=</span> <span class="token string">"Yz"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

Output<span class="token punctuation">:</span>
Hello<span class="token punctuation">,</span>My name is Yz<span class="token punctuation">,</span> and i am from China<span class="token punctuation">.</span>
</code></pre> 
<p>还有诸如通过对象属性填充、通过参数填充等方法暂且不述。</p> 
<p><strong>进阶：</strong> 对齐与输出长度<br> 在{ }中添加：及其他数字和字符来完成对齐与指定输出长度<br> ：&gt; 右对齐<br> ：&lt;左对齐<br> ：^居中对齐<br> 在&lt;&gt;^<strong>后面添加数字</strong>来指定输出长度<br> <strong>精度与类型f</strong><br> 精度常跟类型f一起使用。</p> 
<pre><code class="prism language-c">In<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token string">"{:.2f}"</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token number">3.1415926</span><span class="token punctuation">)</span>
Out<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token string">'3.14'</span>
</code></pre> 
<p>其中.2表示长度为2的精度，f表示float类型。</p> 
<pre><code class="prism language-c"><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Hello,My name is {:&gt;7}, and i am from {:&gt;7}."</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span> <span class="token string">"Yz"</span><span class="token punctuation">,</span> <span class="token string">"China"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Hello,My name is {:^7}, and i am from {:&lt;7}."</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span> <span class="token string">"Yz"</span><span class="token punctuation">,</span> <span class="token string">"China"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
Output：
Hello<span class="token punctuation">,</span>My name is      Yz<span class="token punctuation">,</span> and i am from   China<span class="token punctuation">.</span>
Hello<span class="token punctuation">,</span>My name is   Yz   <span class="token punctuation">,</span> and i am from China  <span class="token punctuation">.</span>
</code></pre> 
<p>:号后面带填充的字符，只能是一个字符，<strong>不指定的话默认是用空格填充，也可以指定format后的对象来填充</strong>，如下面将会看到的解决中英文混输格式对齐的问题</p> 
<pre><code class="prism language-c"><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Hello,My name is {:~&gt;7}, and i am from {:!&gt;7}."</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span> <span class="token string">"Yz"</span><span class="token punctuation">,</span> <span class="token string">"China"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Hello,My name is {:*^7}, and i am from {:3&lt;7}."</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span> <span class="token string">"Yz"</span><span class="token punctuation">,</span> <span class="token string">"China"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

Output：
Hello<span class="token punctuation">,</span>My name is <span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span>Yz<span class="token punctuation">,</span> and i am from <span class="token operator">!</span><span class="token operator">!</span>China<span class="token punctuation">.</span>
Hello<span class="token punctuation">,</span>My name is <span class="token operator">*</span><span class="token operator">*</span>Yz<span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token punctuation">,</span> and i am from China33<span class="token punctuation">.</span>
</code></pre> 
<h3><a id="_85"></a>解决中英文混输格式对齐的问题</h3> 
<p>在爬虫实例：中国大学排名定向爬虫中</p> 
<p>输出结果为<br> <img src="https://images2.imgbox.com/d1/ce/b2d6XRv8_o.png" alt="在这里插入图片描述"><br> 可以看到中间学校名称项没有对齐，原因是当中文字符串长度没有达到指定字符串长度时，默认会采用英文空格代替，而英文空格和中文空格长度不同，故导致中英文混输时不对齐了。：<strong>采用chr(12288)表示中文空格</strong></p> 
<pre><code class="prism language-c">def <span class="token function">printUnivList</span><span class="token punctuation">(</span>ulist<span class="token punctuation">,</span> num<span class="token punctuation">)</span><span class="token punctuation">:</span>
    tplt <span class="token operator">=</span> <span class="token string">"{0:^10}\t{1:{3}^10}\t{2:^10}"</span>#第二项指定用format中的序号为<span class="token number">3</span>的对象来占空白，因使用了下标，故都要添加下标
    <span class="token function">print</span><span class="token punctuation">(</span> tplt<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"排名"</span><span class="token punctuation">,</span><span class="token string">"学校名称"</span><span class="token punctuation">,</span> <span class="token string">"总分"</span><span class="token punctuation">,</span><span class="token function">chr</span><span class="token punctuation">(</span><span class="token number">12288</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> i in <span class="token function">range</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">:</span>
        u <span class="token operator">=</span> ulist<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
        <span class="token function">print</span><span class="token punctuation">(</span>tplt<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>u<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> u<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> u<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token function">chr</span><span class="token punctuation">(</span><span class="token number">12288</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
Output：
    排名    	　　　学校名称　　　	    总分    
    <span class="token number">1</span>     	　　　清华大学　　　	  <span class="token number">852.5</span>   
    <span class="token number">2</span>     	　　　北京大学　　　	  <span class="token number">746.7</span>   
    <span class="token number">3</span>     	　　　浙江大学　　　	  <span class="token number">649.2</span>   
    <span class="token number">4</span>     	　　上海交通大学　　	  <span class="token number">625.9</span>   
    <span class="token number">5</span>     	　　　南京大学　　　	  <span class="token number">566.1</span>   
    <span class="token number">6</span>     	　　　复旦大学　　　	  <span class="token number">556.7</span>   
    <span class="token number">7</span>     	　中国科学技术大学　	  <span class="token number">526.4</span>   
    <span class="token number">8</span>     	　　华中科技大学　　	  <span class="token number">497.7</span>   
    <span class="token number">9</span>     	　　　武汉大学　　　	  <span class="token number">488.0</span>   
    <span class="token number">10</span>    	　　　中山大学　　　	  <span class="token number">457.2</span>   
    <span class="token number">11</span>    	　　西安交通大学　　	  <span class="token number">452.5</span>   
    <span class="token number">12</span>    	　哈尔滨工业大学　　	  <span class="token number">450.2</span>   
    <span class="token number">13</span>    	　北京航空航天大学　	  <span class="token number">445.1</span>   
    <span class="token number">14</span>    	　　北京师范大学　　	  <span class="token number">440.9</span>   
    <span class="token number">15</span>    	　　　同济大学　　　	  <span class="token number">439.0</span>   
    <span class="token number">16</span>    	　　　四川大学　　　	  <span class="token number">435.7</span>   
    <span class="token number">17</span>    	　　　东南大学　　　	  <span class="token number">432.7</span>   
    <span class="token number">18</span>    	　　中国人民大学　　	  <span class="token number">409.7</span>   
    <span class="token number">19</span>    	　　　南开大学　　　	  <span class="token number">402.1</span>   
    <span class="token number">20</span>    	　　北京理工大学　　	  <span class="token number">395.6</span> 
</code></pre> 
<p><a href="https://pyformat.info/" rel="nofollow">查看关于format和旧版的%的区别</a></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/568bde3a15160ea6a826752dfd57cc0d/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Liunx服务管理之ftp</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/fe339ac77062939df69783e863846840/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">React table无内容时显示No Data,修改为中文内容：暂无数据</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>