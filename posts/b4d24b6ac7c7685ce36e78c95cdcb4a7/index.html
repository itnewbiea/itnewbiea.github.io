<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Java Web 03 (页面跳转&amp;JDBC） - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Java Web 03 (页面跳转&amp;JDBC）" />
<meta property="og:description" content="今日思维导图：
一、页面跳转方式（两种） 1、重定向 response : response.sendRedirect(&#34;success.jsp&#34;);
2、请求 request : request.getRequestDispatcher(&#34;success.jsp&#34;).forward(request, response);
两者之间的关系：
两者之间的区别：
//页面跳转方式 //1、重定向语法response ①能够将页面跳转，并且地址栏发生转变,但是不能将值传递到下一个页面 ③能够跳转到任意资源 //在客户端发挥作用 //response.sendRedirect(&#34;success.jsp&#34;); //2.、转发 request ②能够将页面跳转，地址栏不发生改变，但是能将值传递到下一个值 ④只能跳转到当前页面 //在服务器端发生作用 //request.getRequestDispatcher(&#34;success.jsp&#34;).forward(request, response); 二、JDBC（连接数据库Oraacle） 主界面效果图展示如下：
代码展示如下：
&lt;%@ page language=&#34;java&#34; contentType=&#34;text/html; charset=UTF-8&#34; pageEncoding=&#34;UTF-8&#34;%&gt; &lt;!DOCTYPE html&gt; &lt;html&gt; &lt;head&gt; &lt;meta charset=&#34;UTF-8&#34;&gt; &lt;title&gt;Insert title here&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;h2&gt; 注册界面&lt;/h2&gt; &lt;form action=&#34;dologin.jsp&#34; method=&#34;post&#34;&gt; ID：&lt;input type=&#34;text&#34; name=&#34;iid&#34;&gt;&lt;br&gt; 用户名：&lt;input type=&#34;text&#34; name=&#34;iname&#34;&gt;&lt;br&gt; 密码：&lt;input type=&#34;password&#34; name=&#34;ipwd&#34;&gt;&lt;br&gt; 性别：&lt;input type=&#34;radio&#34; name=&#34;isex&#34; value=&#34;男&#34;&gt;男 &lt;input type=&#34;radio&#34; name=&#34;isex&#34; value=&#34;女&#34;&gt;女&lt;br&gt; 爱好：&lt;input type=&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/b4d24b6ac7c7685ce36e78c95cdcb4a7/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-04-01T13:44:50+08:00" />
<meta property="article:modified_time" content="2022-04-01T13:44:50+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Java Web 03 (页面跳转&amp;JDBC）</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><strong><span style="color:#0d0016;">今日思维导图：</span></strong></p> 
<p><img alt="" src="https://images2.imgbox.com/06/99/2Cktd5Xq_o.png"> </p> 
<hr> 
<h2><strong>一、页面跳转方式（两种）</strong></h2> 
<p><strong>1、重定向 response : response.sendRedirect("success.jsp");</strong></p> 
<p><strong>2、请求 request : request.getRequestDispatcher("success.jsp").forward(request, response);</strong></p> 
<p>两者之间的关系：</p> 
<p><img alt="" src="https://images2.imgbox.com/e1/7a/frGsAxVD_o.png"></p> 
<p>两者之间的区别：</p> 
<pre><code class="language-html">//页面跳转方式
//1、重定向语法response ①能够将页面跳转，并且地址栏发生转变,但是不能将值传递到下一个页面 ③能够跳转到任意资源
//在客户端发挥作用
//response.sendRedirect("success.jsp");
//2.、转发 request ②能够将页面跳转，地址栏不发生改变，但是能将值传递到下一个值 ④只能跳转到当前页面
//在服务器端发生作用
//request.getRequestDispatcher("success.jsp").forward(request, response);
</code></pre> 
<h2><strong>二、JDBC（连接数据库Oraacle）</strong></h2> 
<p><span style="background-color:#4da8ee;">主界面效果图展示如下：</span></p> 
<p><img alt="" src="https://images2.imgbox.com/ae/7e/sMRiujaB_o.png"></p> 
<p><span style="background-color:#4da8ee;">代码展示如下：</span></p> 
<p> </p> 
<pre><code class="language-html">&lt;%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%&gt;
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset="UTF-8"&gt;
&lt;title&gt;Insert title here&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
	&lt;h2&gt; 注册界面&lt;/h2&gt;
	&lt;form action="dologin.jsp" method="post"&gt; 
	ID：&lt;input type="text" name="iid"&gt;&lt;br&gt;
	用户名：&lt;input type="text" name="iname"&gt;&lt;br&gt;
	密码：&lt;input type="password" name="ipwd"&gt;&lt;br&gt;
	性别：&lt;input type="radio" name="isex" value="男"&gt;男
	&lt;input type="radio" name="isex" value="女"&gt;女&lt;br&gt;
	爱好：&lt;input type="checkbox" name="ihobby" value="干饭"&gt;干饭
	&lt;input type="checkbox" name="ihobby" value="睡觉"&gt;睡觉
	&lt;input type="checkbox" name="ihobby" value="网易云"&gt;网易云&lt;br&gt;
	地址：&lt;select name="iaddress"&gt;
			&lt;option value="湖南省"&gt;湖南省&lt;/option&gt;
			&lt;option value="湖北省"&gt;湖北省&lt;/option&gt;
			&lt;option value="河南省"&gt;河南省&lt;/option&gt;
		&lt;/select&gt;&lt;br&gt;
	备注：&lt;textarea rows="10" cols="15" name="ibak"&gt;&lt;/textarea&gt;&lt;/br&gt;
	&lt;input type="submit" name="登录"&gt;
	&lt;input type="reset" name="清空"&gt;
	&lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre> 
<p><span style="background-color:#4da8ee;">再根据其中name值获取该对象 代码展示如下：</span></p> 
<pre><code>&lt;%@page import="java.sql.PreparedStatement"%&gt;
&lt;%@page import="java.sql.Connection"%&gt;
&lt;%@page import="java.sql.DriverManager"%&gt;
&lt;%@page import="oracle.jdbc.driver.OracleDriver"%&gt;
&lt;%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%&gt;
&lt;%
	//纯java代码
	//设置编码方式
	request.setCharacterEncoding("utf-8");
	//接收提交过来的值（ID&amp;用户名&amp;密码）
	String id = request.getParameter("iid");
	String name = request.getParameter("iname");
	String pwd = request.getParameter("ipwd");
	//取不同类型的值
	//取性别 地址 备注 都是根据name值获取值
	String sex = request.getParameter("isex");
	String address = request.getParameter("iaddress");
	String bak = request.getParameter("ibak");
	//获取爱好的值
	String[] ss = request.getParameterValues("ihobby");//返回类型是个字符串的数组
	String hobby = "";//用来拼接
	//循环遍历
	for(String s:ss){
		hobby+=s+",";//用逗号隔开 
	}
	//如果看不过最后的那个逗号 可以用substring截取掉
	//out.print(hobby);
	
	//jdbc连接Oracle  插入到数据库中
	
	//两个静态常量
	String URL="jdbc:oracle:thin:@localhost:1521:orcl";
	String CNAME="oracle.jdbc.driver.OracleDriver";
	//OracleDriver
	
	//记载驱动
	Class.forName(CNAME);
	
	//创建连接
	Connection con = DriverManager.getConnection(URL,"scott","tiger");
	
	//定义sql语句
	String sql="insert into tb_0325(sid,sname,spwd,ssex,shobby,saddress,sbak) values(?,?,?,?,?,?,?)";
	
	//获得执行对象
	PreparedStatement ps = con.prepareStatement(sql);
	
	//给占位符赋值
	ps.setInt(1, Integer.parseInt(id));//String--&gt;int
	ps.setString(2,name);
	ps.setString(3,pwd);
	ps.setString(4,sex);
	ps.setString(5,hobby);
	ps.setString(6,address);
	ps.setString(7,bak);
	
	//开始执行 增删改int 查rs
	int n = ps.executeUpdate();//影响行数
	
	//关闭资源 增删改2个 查3个
	if(con!=null&amp;&amp;con.isClosed()==false){
		con.close();
	}
	else{
		ps.close();
	}
	//判断
	if(n&gt;0){
		out.print("插入成功");
	}
	else{
		out.print("插入失败");
	}	
	//out.print(name+" "+pwd+" "+sex+" "+address+" "+bak);
	//页面跳转方式
	//假设法：假设数据表里存在用户名为admin 密码为123456
	//if("admin".equals(name)&amp;&amp;"123456".equals(pwd)){
		//说明登录成功 跳转到success.jsp
		//页面跳转方式2中
		//1、重定向语法response ①能够将页面跳转，并且地址栏发生转变,但是不能将值传递到下一个页面 ③能够跳转到任意资源
		//在客户端发挥作用
		//response.sendRedirect("success.jsp");
		//2.、转发 request ②能够将页面跳转，地址栏不发生改变，但是能将值传递到下一个值 ④只能跳转到当前页面
		//在服务器端发生作用
		//request.getRequestDispatcher("success.jsp").forward(request, response);//req.getreq.for
		
	//}
	//else{
		//说明登录失败 提示用户并返回登录界面 js的跳转属于重定向 因为地址栏发生了改变
		//out.print("&lt;script&gt;alert('用户名或密码有误');location.href='login.jsp';&lt;/script&gt;");//输送到页面
		
	//}
%&gt;</code></pre> 
<p>好了，以上就是今天的内容了，本节完。</p> 
<p></p> 
<p></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/37621fbffac9475dffb01c72713fc3b7/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">gdb 调试 RISC-V</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b1de47e2f966e240a28835fb144f4085/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">OpenWrt21 EC20 R2.0驱动添加</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>