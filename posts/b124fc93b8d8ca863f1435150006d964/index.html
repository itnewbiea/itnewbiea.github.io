<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>震惊!原来这就是JavaScript闭包的秘密 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="震惊!原来这就是JavaScript闭包的秘密" />
<meta property="og:description" content="📢 鸿蒙专栏：想学鸿蒙的，冲
📢 C语言专栏：想学C语言的，冲
📢 VUE专栏：想学VUE的，冲这里
📢 CSS专栏：想学CSS的，冲这里
📢 Krpano专栏：想学VUE的，冲这里
📢 JavaScript专栏：想学JavaScript的，冲这里
🔔 上述专栏，都在不定期持续更新中！！！！！！！
目录
✨ 前言
什么是闭包
闭包的作用
实现闭包的条件
闭包的生命周期
✨ 结语
✨ 前言 闭包(Closure)是JavaScript中一个非常重要却容易让人困惑的概念。明明是一个函数,为什么还能引用外部变量?今天我将为你揭开JavaScript闭包的神秘面纱,通过简单易懂的例子让你明白闭包的实际应用场景和作用。你将会对闭包有一个全新的认识,并能够在以后的代码中灵活运用它。跟着我一起抓住JavaScript闭包的真谛,成为JS高手吧!
什么是闭包 闭包(Closure)是JavaScript一个很重要的概念,它使函数拥有保持其作用域链的能力。
简单说,闭包让函数记住并继续访问定义函数的词法作用域,即使函数是在当前词法作用域之外被执行。
闭包的作用 闭包的主要作用有:
让函数访问外部变量 function outer() { const x = 10; function inner() { return x; } return inner; } const getX = outer(); getX(); // 返回10 封装变量,减少全局变量污染 function counter() { let count = 0; return function() { return count&#43;&#43;; } } const c1 = counter(); c1(); // 0 c1(); // 1 实现模块和信息隐藏 function Person(name) { const age = 18; return { getName: function() { return name; }, getAge: function() { return age; } }; } const me = Person(&#39;Jack&#39;); me." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/b124fc93b8d8ca863f1435150006d964/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-05T15:30:00+08:00" />
<meta property="article:modified_time" content="2024-01-05T15:30:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">震惊!原来这就是JavaScript闭包的秘密</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p style="text-align:center;">📢 <a href="https://so.csdn.net/so/search?q=%E9%B8%BF%E8%92%99&amp;spm=1001.2101.3001.7020" title="鸿蒙">鸿蒙</a>专栏：<a href="http://t.csdnimg.cn/GFkZw" rel="nofollow" title="想学鸿蒙的，冲">想学鸿蒙的，冲</a></p> 
<p style="text-align:center;">📢 C语言专栏：<a href="http://t.csdnimg.cn/QUUVN" rel="nofollow" title="想学C语言的，冲">想学C语言的，冲</a></p> 
<p style="text-align:center;">📢 <a href="https://so.csdn.net/so/search?q=VUE&amp;spm=1001.2101.3001.7020" title="VUE">VUE</a>专栏：<a href="http://t.csdnimg.cn/KcyLQ" rel="nofollow" title="想学VUE的，冲这里">想学VUE的，冲这里</a></p> 
<p style="text-align:center;">📢 CSS专栏：<a href="http://t.csdnimg.cn/78M2T" rel="nofollow" title="想学CSS的，冲这里">想学CSS的，冲这里</a></p> 
<p style="text-align:center;">📢 Krpano专栏：<a href="http://t.csdnimg.cn/dVQNE" rel="nofollow" title="想学VUE的，冲这里">想学VUE的，冲这里</a></p> 
<p style="text-align:center;"> 📢 JavaScript专栏：<a href="http://t.csdnimg.cn/IGdtJ" rel="nofollow" title="想学JavaScript的，冲这里">想学JavaScript的，冲这里</a></p> 
<p style="text-align:center;">🔔 上述专栏，都在不定期持续更新中！！！！！！！</p> 
<p></p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/f8/83/Z4I60bGF_o.gif"></p> 
<p id="main-toc"><strong>目录</strong></p> 
<p id="%E2%9C%A8%20%E5%89%8D%E8%A8%80-toc" style="margin-left:0px;"><a href="#%E2%9C%A8%20%E5%89%8D%E8%A8%80" rel="nofollow">✨ 前言</a></p> 
<p id="%E4%BB%80%E4%B9%88%E6%98%AF%E9%97%AD%E5%8C%85-toc" style="margin-left:40px;"><a href="#%E4%BB%80%E4%B9%88%E6%98%AF%E9%97%AD%E5%8C%85" rel="nofollow">什么是闭包</a></p> 
<p id="%E9%97%AD%E5%8C%85%E7%9A%84%E4%BD%9C%E7%94%A8-toc" style="margin-left:40px;"><a href="#%E9%97%AD%E5%8C%85%E7%9A%84%E4%BD%9C%E7%94%A8" rel="nofollow">闭包的作用</a></p> 
<p id="%E5%AE%9E%E7%8E%B0%E9%97%AD%E5%8C%85%E7%9A%84%E6%9D%A1%E4%BB%B6-toc" style="margin-left:40px;"><a href="#%E5%AE%9E%E7%8E%B0%E9%97%AD%E5%8C%85%E7%9A%84%E6%9D%A1%E4%BB%B6" rel="nofollow">实现闭包的条件</a></p> 
<p id="%E9%97%AD%E5%8C%85%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F-toc" style="margin-left:40px;"><a href="#%E9%97%AD%E5%8C%85%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F" rel="nofollow">闭包的生命周期</a></p> 
<p id="%E2%9C%A8%20%E7%BB%93%E8%AF%AD-toc" style="margin-left:0px;"><a href="#%E2%9C%A8%20%E7%BB%93%E8%AF%AD" rel="nofollow">✨ 结语</a></p> 
<hr id="hr-toc"> 
<p></p> 
<h2 id="%E2%9C%A8%20%E5%89%8D%E8%A8%80">✨ 前言</h2> 
<p>        闭包(Closure)是JavaScript中一个非常重要却容易让人困惑的概念。明明是一个函数,为什么还能引用外部变量?今天我将为你揭开JavaScript闭包的神秘面纱,通过简单易懂的例子让你明白闭包的实际应用场景和作用。你将会对闭包有一个全新的认识,并能够在以后的代码中灵活运用它。跟着我一起抓住JavaScript闭包的真谛,成为JS高手吧!</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/f8/3d/3TlUcQlm_o.jpg"></p> 
<h3 id="%E4%BB%80%E4%B9%88%E6%98%AF%E9%97%AD%E5%8C%85">什么是闭包</h3> 
<p>        闭包(Closure)是JavaScript一个很重要的概念,它使函数拥有保持其作用域链的能力。</p> 
<p>        简单说,闭包让函数记住并继续访问定义函数的词法作用域,即使函数是在当前词法作用域之外被执行。</p> 
<h3 id="%E9%97%AD%E5%8C%85%E7%9A%84%E4%BD%9C%E7%94%A8">闭包的作用</h3> 
<p>闭包的主要作用有:</p> 
<ol><li>让函数访问外部变量 <pre><code class="language-javascript">function outer() {
  const x = 10;
  function inner() {
    return x; 
  }
  return inner;
}

const getX = outer();
getX(); // 返回10</code></pre> <p></p> </li><li>封装变量,减少全局变量污染 <pre><code class="language-javascript">function counter() {
  let count = 0;
  return function() {
    return count++; 
  }
}

const c1 = counter();
c1(); // 0
c1(); // 1</code></pre> <p></p> </li><li>实现模块和信息隐藏 <pre><code class="language-javascript">function Person(name) {
  const age = 18;
  
  return {
    getName: function() {
      return name;
    },
    getAge: function() {
      return age;
    } 
  };
}

const me = Person('Jack');
me.getName(); // Jack
me.getAge(); // 18</code></pre> <p></p> </li></ol> 
<h3 id="%E5%AE%9E%E7%8E%B0%E9%97%AD%E5%8C%85%E7%9A%84%E6%9D%A1%E4%BB%B6">实现闭包的条件</h3> 
<ul><li>函数嵌套</li><li>内部函数引用外部函数的变量</li><li>外部函数返回内部函数</li></ul> 
<p>满足这三个条件就可以实现一个闭包。</p> 
<blockquote> 
 <p>闭包的原理可以简单概括为:</p> 
 <ol><li>函数与其周围状态(lexical environment,又称词法环境)的组合。这个环境包含了函数定义时候的作用域中的任何局部变量。</li><li>当函数在其词法作用域以外被调用时,就会生成闭包。闭包会使原来的词法作用域链保持alive。所以闭包函数仍然可以访问定义时作用域中的变量。</li><li>闭包可以访问定义函数时的作用域。即使函数在定义作用域外被执行,那个作用域链并不会被销毁,仍然可被闭包访问。</li><li>闭包保留了原始作用域链,所以会比其他函数占用更多内存。</li></ol> 
 <p>简单总结闭包的原理:</p> 
 <ul><li>函数执行时形成作用域</li><li>函数和其周围状态的引用组合形成闭包</li><li>这个组合使函数仍可访问定义时作用域的变量</li><li>即使在定义作用域外执行</li></ul> 
 <p>        所以说闭包是函数和其词法作用域的组合,可以通过闭包访问初始作用域的变量,起到封装变量的作用。</p> 
</blockquote> 
<h3 id="%E9%97%AD%E5%8C%85%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F">闭包的生命周期</h3> 
<p>闭包的作用域链不会被垃圾回收机制回收,因此会常驻内存。</p> 
<p>过度使用闭包可能会导致内存占用过多。</p> 
<p>正确使用闭包,在适当场景下可以提高代码优雅性,封装性,模块化。</p> 
<p></p> 
<p>        以上简要介绍了JavaScript闭包的概念、作用和实现。它是JavaScript一个非常重要的概念,合理利用闭包可以编写出更优雅高效的代码。</p> 
<h2 id="%E2%9C%A8%20%E7%BB%93%E8%AF%AD">✨ 结语</h2> 
<p>        通过今天的学习,我们已经掌握了闭包的含义、实现条件、作用场景等,并通过示例代码加深了理解。闭包是JavaScript一个强大的特性,合理使用闭包可以帮我们封装变量,减少污染,实现信息隐藏。在模块化编程中,它也有非常重要的作用。但是滥用闭包也会导致内存问题。正确看待和运用闭包,我们的JavaScript代码会更优雅、高效。最后,如果你喜欢本文,欢迎分享给你的编程伙伴一起进步!</p> 
<p>        我们改日再会</p> 
<p><img alt="" height="427" src="https://images2.imgbox.com/a6/48/1pxbCT4U_o.gif" width="427"></p> 
<p></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/5292a35b60fb0414a4ad642669ee6cc6/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Do you know about domestic CPUs</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/382e2f1a7917fed8d0c4806952a8a7e6/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">搭建网站环境（IIS&#43;php&#43;mysql）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>