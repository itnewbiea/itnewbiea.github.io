<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Bellhop中的env文件配置 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Bellhop中的env文件配置" />
<meta property="og:description" content="Bellhop Bellhop，是一种水声工具箱，可以进行水下声学仿真，通过env文件设置环境参数，可得到与之对应的声线信息、多途等仿真，本博文并不着重介绍Bellhop的使用经验，主要介绍env文件的设置。使用东泰山版本即可，他的介绍已经很详细了，同时还有Acoustics Toolbox官方及时更新的版本。
env文件说明 env文件是Bellhop仿真中最先要解决的文件编辑，包含了对声场中基础参数的设计。env文件通过Bellhop工具仿真后会输出多个文件，我个人主要应用 .arr文件 和 .shd文件。
以下为Bellhop输出的三个文件说明：
.arr文件：描述声线到达的时间序列；
.shd文件：描述声线的传播损失；
.ray文件：描述声线和本征声线。
先看一个典型的env文件大致包含了什么：
标题等 &#39;kenvintest&#39; ! TITLE 标题 6000.0 ! FREQ(Hz) 声波频率 1 ! NMEDIA 介质分层数 传播介质个数为 1 上端属性 选择模式说明：
甲 主要描述了 Bellhop 为了计算声速以及沿着声线相关的其他参数而采用的一些插值方法，下面是为声速剖面进行插值。
选项说 明CC-线性插值NN2-线性插值(n 是折射率)S三次样条插值Q2D SSP 四边形插值（只用于 BELLHOP，从文件中读取 .ssp 文件。）H3D SSP 六面体插值（只用于 BELLHOP3D，从文件中读取 SSP）A解析值 用户必须修改 ANALYT.FOR 中的解析公式，然后再编译和链接。 乙 主要描述海水表面的类型
选项说 明V表面真空R表面完全刚性的硬物A声学半空间F从一个*.brc 文件读入反射系数S用于“软层（Soft-boss）”Twersky 散射H用于“硬层（Hard-boss）”Twersky 散射T只用于“软层（Soft-boss）”Twersky 散射的幅度I只用于“硬层（Hard-boss）”Twersky 散射的幅度 其中在描述为“A”的声学半空间中，SURFACE-LINE 格式如下:
z-surfacecp-surfacecs-surfacedensity-surfaceAP-surfaceAS-surface深度纵波声速横波声速表面密度纵波吸收系数横波吸收系数 如果不选’A’，Bellhop 只用到前两个参数（每行要以“/” 结尾，其余参数用默认的），后面的参数是其他模型使用的。
丙 描述底部的衰减所用的单位。
选项说 明F(dB/m)kHz, F 指与频率相关L衰减单位对应于参数损失 损失参量（又称损失切线）MdB/m，M 指每米NNepers/mQ品质因子WdB/λ， W 指波长 丁 可选参数，如果描述声音的 Thope Volume 衰减，要设置为“T”" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/65e852e8f1e9e15b5d619158f3d09aa8/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-02-04T18:42:37+08:00" />
<meta property="article:modified_time" content="2021-02-04T18:42:37+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Bellhop中的env文件配置</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="Bellhop_0"></a>Bellhop</h2> 
<p>Bellhop，是一种水声工具箱，可以进行水下声学仿真，通过env文件设置环境参数，可得到与之对应的声线信息、多途等仿真，本博文并不着重介绍Bellhop的使用经验，主要介绍env文件的设置。使用<a href="https://blog.csdn.net/u010936286/article/details/79819434?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-7.control&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-7.control">东泰山</a>版本即可，他的介绍已经很详细了，同时还有<a href="http://oalib.hlsresearch.com/AcousticsToolbox/" rel="nofollow">Acoustics Toolbox官方</a>及时更新的版本。</p> 
<hr color="#000000" size='1"'> 
<h2><a id="env_4"></a>env文件说明</h2> 
<p>env文件是Bellhop仿真中最先要解决的文件编辑，包含了对声场中基础参数的设计。env文件通过Bellhop工具仿真后会输出多个文件，我个人主要应用 <strong>.arr文件</strong> 和 <strong>.shd文件</strong>。</p> 
<center> 
 <img src="https://images2.imgbox.com/06/14/yik22RGB_o.png" width="60%"> 
</center> 
<p>以下为Bellhop输出的三个文件说明：</p> 
<blockquote> 
 <p>.arr文件：描述声线到达的时间序列；<br> .shd文件：描述声线的传播损失；<br> .ray文件：描述声线和本征声线。</p> 
</blockquote> 
<p>先看一个典型的env文件大致包含了什么：</p> 
<h3><a id="_15"></a>标题等</h3> 
<pre><code class="prism language-python"><span class="token string">'kenvintest'</span>                      ! TITLE                               标题
<span class="token number">6000.0</span>                            ! FREQ<span class="token punctuation">(</span>Hz<span class="token punctuation">)</span>                            声波频率
<span class="token number">1</span>                                 ! NMEDIA                              介质分层数 传播介质个数为 <span class="token number">1</span>
</code></pre> 
<h3><a id="_22"></a>上端属性</h3> 
<p>选择模式说明：</p> 
<h4><a id="_24"></a>甲</h4> 
<p>主要描述了 Bellhop 为了计算声速以及沿着声线相关的其他参数而采用的一些插值方法，下面是为声速剖面进行插值。</p> 
<table><thead><tr><th>选项</th><th>说 明</th></tr></thead><tbody><tr><td>C</td><td>C-线性插值</td></tr><tr><td>N</td><td>N2-线性插值(n 是折射率)</td></tr><tr><td>S</td><td>三次样条插值</td></tr><tr><td>Q</td><td>2D SSP 四边形插值（只用于 BELLHOP，从文件中读取 .ssp 文件。）</td></tr><tr><td>H</td><td>3D SSP 六面体插值（只用于 BELLHOP3D，从文件中读取 SSP）</td></tr><tr><td>A</td><td>解析值 用户必须修改 ANALYT.FOR 中的解析公式，然后再编译和链接。</td></tr></tbody></table> 
<h4><a id="_34"></a>乙</h4> 
<p>主要描述海水表面的类型</p> 
<table><thead><tr><th>选项</th><th>说 明</th></tr></thead><tbody><tr><td>V</td><td>表面真空</td></tr><tr><td>R</td><td>表面完全刚性的硬物</td></tr><tr><td>A</td><td>声学半空间</td></tr><tr><td>F</td><td>从一个*.brc 文件读入反射系数</td></tr><tr><td>S</td><td>用于“软层（Soft-boss）”Twersky 散射</td></tr><tr><td>H</td><td>用于“硬层（Hard-boss）”Twersky 散射</td></tr><tr><td>T</td><td>只用于“软层（Soft-boss）”Twersky 散射的幅度</td></tr><tr><td>I</td><td>只用于“硬层（Hard-boss）”Twersky 散射的幅度</td></tr></tbody></table> 
<p>其中在描述为“A”的声学半空间中，SURFACE-LINE 格式如下:</p> 
<table><thead><tr><th>z-surface</th><th>cp-surface</th><th>cs-surface</th><th>density-surface</th><th>AP-surface</th><th>AS-surface</th></tr></thead><tbody><tr><td>深度</td><td>纵波声速</td><td>横波声速</td><td>表面密度</td><td>纵波吸收系数</td><td>横波吸收系数</td></tr></tbody></table> 
<p>如果不选’A’，Bellhop 只用到前两个参数（每行要以“/” 结尾，其余参数用默认的），后面的参数是其他模型使用的。</p> 
<h4><a id="_51"></a>丙</h4> 
<p>描述底部的衰减所用的单位。</p> 
<table><thead><tr><th>选项</th><th>说 明</th></tr></thead><tbody><tr><td>F</td><td>(dB/m)kHz, F 指与频率相关</td></tr><tr><td>L</td><td>衰减单位对应于参数损失 损失参量（又称损失切线）</td></tr><tr><td>M</td><td>dB/m，M 指每米</td></tr><tr><td>N</td><td>Nepers/m</td></tr><tr><td>Q</td><td>品质因子</td></tr><tr><td>W</td><td>dB/λ， W 指波长</td></tr></tbody></table> 
<h4><a id="_61"></a>丁</h4> 
<p>可选参数，如果描述声音的 Thope Volume 衰减，要设置为“T”</p> 
<h4><a id="_63"></a>戊</h4> 
<p>可选参数，用.ati 文件来描述海面边界形状要设置为’*’，如可以描述为高斯波浪等所需的海面形状。<br> 根据以上选择模式为<code>CVMT</code></p> 
<pre><code class="prism language-python"><span class="token string">'CVMT'</span>                            ! SSPOPT								模式<span class="token number">1</span>
</code></pre> 
<pre><code class="prism language-python"><span class="token number">0</span> <span class="token number">0.0</span> <span class="token number">28.0</span> 
! 分别对应：NMESH内部离散化使用的网格点数。
！SIGMA<span class="token operator">-</span><span class="token operator">-</span>界面 RMS 粗糙度。BELLHOP 和 SPARC 忽略此值。
！DEPTH_of_BOTTOM <span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">-</span>介质底端的深度<span class="token punctuation">(</span>m<span class="token punctuation">)</span>

</code></pre> 
<h3><a id="_77"></a>声速曲线</h3> 
<pre><code class="prism language-python"><span class="token number">0.0</span> <span class="token number">1528.6</span> <span class="token operator">/</span>
<span class="token number">1.0</span> <span class="token number">1528.5</span> <span class="token operator">/</span>
<span class="token number">2.0</span> <span class="token number">1528</span> <span class="token operator">/</span>
<span class="token number">3.0</span> <span class="token number">1527</span> <span class="token operator">/</span>
<span class="token number">4.0</span> <span class="token number">1526.5</span> <span class="token operator">/</span>
<span class="token number">5.0</span> <span class="token number">1526</span> <span class="token operator">/</span>
<span class="token number">6.0</span> <span class="token number">1526</span> <span class="token operator">/</span>
<span class="token number">7.0</span> <span class="token number">1525.8</span> <span class="token operator">/</span>
<span class="token number">8.0</span> <span class="token number">1524</span> <span class="token operator">/</span>
<span class="token number">9.0</span> <span class="token number">1517</span> <span class="token operator">/</span>
<span class="token number">10.0</span> <span class="token number">1505</span> <span class="token operator">/</span>
<span class="token number">11.0</span> <span class="token number">1500</span> <span class="token operator">/</span>
<span class="token number">12.0</span> <span class="token number">1496</span> <span class="token operator">/</span>
<span class="token number">13.0</span> <span class="token number">1493</span> <span class="token operator">/</span>
<span class="token number">14.0</span> <span class="token number">1490.5</span> <span class="token operator">/</span>
<span class="token number">15.0</span> <span class="token number">1488</span> <span class="token operator">/</span>
<span class="token number">16.0</span> <span class="token number">1485.5</span> <span class="token operator">/</span>
<span class="token number">17.0</span> <span class="token number">1483</span> <span class="token operator">/</span>
<span class="token number">18.0</span> <span class="token number">1480</span> <span class="token operator">/</span>
<span class="token number">19.0</span> <span class="token number">1477</span> <span class="token operator">/</span>
<span class="token number">20.0</span> <span class="token number">1475</span> <span class="token operator">/</span>
<span class="token number">21.0</span> <span class="token number">1473</span> <span class="token operator">/</span>
<span class="token number">22.0</span> <span class="token number">1471</span> <span class="token operator">/</span>
<span class="token number">23.0</span> <span class="token number">1469</span> <span class="token operator">/</span>
<span class="token number">24.0</span> <span class="token number">1466</span> <span class="token operator">/</span>
<span class="token number">25.0</span> <span class="token number">1460</span> <span class="token operator">/</span>
<span class="token number">26.0</span> <span class="token number">1458</span> <span class="token operator">/</span>
<span class="token number">27.0</span> <span class="token number">1457.5</span> <span class="token operator">/</span>
<span class="token number">28.0</span> <span class="token number">1455</span> <span class="token operator">/</span>

</code></pre> 
<p>声线图为：</p> 
<center> 
 <img src="https://images2.imgbox.com/6f/fb/6GUOHRId_o.png" width="60%"> 
</center> 
<h3><a id="_113"></a>底部半空间属性</h3> 
<p>和上端属性类似，主要参考<code>乙</code>，这里选择<code>A</code>模式</p> 
<pre><code class="prism language-python"><span class="token string">'A'</span> <span class="token number">0.0</span>
<span class="token number">28</span> <span class="token number">1800.0</span> <span class="token number">0.0</span> <span class="token number">1.84</span> <span class="token number">0.3</span> <span class="token number">0.0</span> <span class="token operator">/</span>

</code></pre> 
<h3><a id="_120"></a>收发设置</h3> 
<p>以下是对于发射和接收的单元个数、距离的说明。</p> 
<pre><code class="prism language-python"><span class="token number">1</span>                   ! NSD<span class="token operator">-</span><span class="token operator">-</span> The number of source depths ，声源在垂直方向上个数，一般小于<span class="token number">50</span>；
<span class="token number">20</span>                   ! SD<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">:</span>NSD<span class="token punctuation">)</span> <span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">-</span> The source depths <span class="token punctuation">(</span>m<span class="token punctuation">)</span>，声源的深度；
<span class="token number">1</span>                   ! NRD<span class="token operator">-</span>The number of receiver depths，接收水听器的垂直方向上个数 （NRD<span class="token operator">&lt;</span><span class="token number">101</span> <span class="token operator">and</span> NR<span class="token operator">*</span>NRD<span class="token operator">&lt;=</span> <span class="token number">52000</span><span class="token punctuation">)</span>；
<span class="token number">30</span> <span class="token operator">/</span>                 ! RD<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">:</span>NRD<span class="token punctuation">)</span> <span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">-</span>The receiver depths <span class="token punctuation">(</span>m<span class="token punctuation">)</span>，接收水听器的深度；
<span class="token number">1</span>                   ! NRR<span class="token operator">-</span><span class="token operator">-</span>The number of receiver ranges，接收水听器的水平方向上个数<span class="token punctuation">(</span>NR<span class="token operator">&lt;</span><span class="token number">1001</span> <span class="token operator">and</span> NR<span class="token operator">*</span>NRD<span class="token operator">&lt;=</span> <span class="token number">50000</span><span class="token punctuation">)</span>；
<span class="token number">0.2</span> <span class="token operator">/</span>                 ! RR<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">:</span>NR <span class="token punctuation">)</span> <span class="token punctuation">(</span>km<span class="token punctuation">)</span>The receiver ranges <span class="token punctuation">(</span>km<span class="token punctuation">)</span>，接收水听器的水平接收范围；
</code></pre> 
<h3><a id="_130"></a>输出描述</h3> 
<p>用五个字母来描述输出选项，分别对应了：</p> 
<table><thead><tr><th>选项</th><th>说 明</th></tr></thead><tbody><tr><td>A</td><td>幅度和传播时间</td></tr><tr><td>E</td><td>本征声线坐标</td></tr><tr><td>R</td><td>声线坐标</td></tr><tr><td>C</td><td>相干声压</td></tr><tr><td>I</td><td>非相干声压</td></tr><tr><td>S</td><td>半相干声压</td></tr></tbody></table> 
<p>在我的仿真中选择<code>A</code>，最终输出为幅度和传播时间。</p> 
<pre><code class="prism language-python"><span class="token string">'A'</span>                 ! Run<span class="token operator">-</span><span class="token builtin">type</span><span class="token punctuation">:</span> ’R<span class="token operator">/</span>C<span class="token operator">/</span>I<span class="token operator">/</span>S’
</code></pre> 
<hr color="#000000" size='1"'> 
<h3><a id="_146"></a>其他设置</h3> 
<pre><code class="prism language-python"><span class="token number">10</span>                  ! NBEAMS<span class="token operator">-</span><span class="token operator">-</span>波束数目。设为 <span class="token number">0</span> 时，程序会自动计算一个值。
<span class="token operator">-</span><span class="token number">20</span> <span class="token number">20</span> <span class="token operator">/</span>            ! ALPHA<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">:</span>NBEAMS<span class="token punctuation">)</span> <span class="token punctuation">(</span>degrees<span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">-</span>开扇角度。
<span class="token number">0</span> <span class="token number">50</span> <span class="token number">2.5</span>            ! STEP <span class="token punctuation">(</span>m<span class="token punctuation">)</span> ZBOX <span class="token punctuation">(</span>m<span class="token punctuation">)</span> RBOX <span class="token punctuation">(</span>km<span class="token punctuation">)</span> 对应的有STEP<span class="token operator">-</span><span class="token operator">-</span>声线跟踪的步长，ZBOX<span class="token operator">-</span><span class="token operator">-</span>The maximum depth to trace a ray <span class="token punctuation">(</span>m<span class="token punctuation">)</span>，接收水听器的最大深度，RBOX<span class="token operator">-</span><span class="token operator">-</span>The maximum <span class="token builtin">range</span> to trace a ray <span class="token punctuation">(</span>km<span class="token punctuation">)</span>，接收水听器与声源的最
大水平距离。
</code></pre> 
<hr color="#000000" size='1"'> 
<h3><a id="_155"></a>其他说明</h3> 
<p>在以上设置中我们使用的是的单发单收，实际环境中涉及的会有多个，例如单发多收的情况，在<code>收发设置</code>单元中，我们做一下设置说明。</p> 
<h4><a id="_158"></a>单发单收</h4> 
<pre><code class="prism language-python"><span class="token number">1</span>                   ! NSD<span class="token operator">-</span><span class="token operator">-</span> The number of source depths ，声源在垂直方向上个数，一般小于<span class="token number">50</span>；
<span class="token number">20</span>                   ! SD<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">:</span>NSD<span class="token punctuation">)</span> <span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">-</span> The source depths <span class="token punctuation">(</span>m<span class="token punctuation">)</span>，声源的深度；
<span class="token number">1</span>                   ! NRD<span class="token operator">-</span>The number of receiver depths，接收水听器的垂直方向上个数 （NRD<span class="token operator">&lt;</span><span class="token number">101</span> <span class="token operator">and</span> NR<span class="token operator">*</span>NRD<span class="token operator">&lt;=</span> <span class="token number">52000</span><span class="token punctuation">)</span>；
<span class="token number">30</span> <span class="token operator">/</span>                 ! RD<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">:</span>NRD<span class="token punctuation">)</span> <span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">-</span>The receiver depths <span class="token punctuation">(</span>m<span class="token punctuation">)</span>，接收水听器的深度；
<span class="token number">1</span>                   ! NRR<span class="token operator">-</span><span class="token operator">-</span>The number of receiver ranges，接收水听器的水平方向上个数<span class="token punctuation">(</span>NR<span class="token operator">&lt;</span><span class="token number">1001</span> <span class="token operator">and</span> NR<span class="token operator">*</span>NRD<span class="token operator">&lt;=</span> <span class="token number">50000</span><span class="token punctuation">)</span>；
<span class="token number">0.2</span> <span class="token operator">/</span>                 ! RR<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">:</span>NR <span class="token punctuation">)</span> <span class="token punctuation">(</span>km<span class="token punctuation">)</span>The receiver ranges <span class="token punctuation">(</span>km<span class="token punctuation">)</span>，接收水听器的水平接收范围；
</code></pre> 
<p>以图形的方式展现如下</p> 
<center> 
 <img src="https://images2.imgbox.com/8d/3c/ud90Y3oE_o.png" width="70%"> 
</center> 
<h4><a id="_170"></a>单发多收</h4> 
<h5><a id="_171"></a>同一距离</h5> 
<p>这种情况下的接收为同一距离下的不同深度，设置如下：</p> 
<pre><code class="prism language-python"><span class="token number">1</span>                   ! NSD<span class="token operator">-</span><span class="token operator">-</span> The number of source depths ，声源在垂直方向上个数，一般小于<span class="token number">50</span>；
<span class="token number">100</span>                 ! SD<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">:</span>NSD<span class="token punctuation">)</span> <span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">-</span> The source depths <span class="token punctuation">(</span>m<span class="token punctuation">)</span>，声源的深度；
<span class="token number">2</span>                   ! NRD<span class="token operator">-</span>The number of receiver depths，接收水听器的垂直方向上个数 （NRD<span class="token operator">&lt;</span><span class="token number">101</span> <span class="token operator">and</span> NR<span class="token operator">*</span>NRD<span class="token operator">&lt;=</span> <span class="token number">52000</span><span class="token punctuation">)</span>；
<span class="token number">30</span> <span class="token number">50</span> <span class="token operator">/</span>           ! RD<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">:</span>NRD<span class="token punctuation">)</span> <span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">-</span>The receiver depths <span class="token punctuation">(</span>m<span class="token punctuation">)</span>，接收水听器的深度；
<span class="token number">1</span>                   ! NRR<span class="token operator">-</span><span class="token operator">-</span>The number of receiver ranges，接收水听器的水平方向上个数<span class="token punctuation">(</span>NR<span class="token operator">&lt;</span><span class="token number">1001</span> <span class="token operator">and</span> NR<span class="token operator">*</span>NRD<span class="token operator">&lt;=</span> <span class="token number">50000</span><span class="token punctuation">)</span>；
<span class="token number">0.2</span><span class="token operator">/</span>                ! RR<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">:</span>NR <span class="token punctuation">)</span> <span class="token punctuation">(</span>km<span class="token punctuation">)</span>The receiver ranges <span class="token punctuation">(</span>km<span class="token punctuation">)</span>，接收水听器的水平接收范围；
</code></pre> 
<p>以图形的方式展现如下</p> 
<center> 
 <img src="https://images2.imgbox.com/e9/9c/KCku0Dlg_o.png" width="60%"> 
</center> 
<p>在我的仿真中，设置声线数为20的时候，下图中debug后的Narr显示为<code>[2,1]</code>，即代表了<strong>接收1和接收2</strong>分别对应的到达次数为<strong>2和1</strong>。<br> <img src="https://images2.imgbox.com/21/4b/v7X8iGng_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="_187"></a>不同距离</h5> 
<p>这种情况下为不同距离下的接收，设置如下：</p> 
<pre><code class="prism language-python"><span class="token number">1</span>                   ! NSD<span class="token operator">-</span><span class="token operator">-</span> The number of source depths ，声源在垂直方向上个数，一般小于<span class="token number">50</span>；
<span class="token number">100</span>                 ! SD<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">:</span>NSD<span class="token punctuation">)</span> <span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">-</span> The source depths <span class="token punctuation">(</span>m<span class="token punctuation">)</span>，声源的深度；
<span class="token number">2</span>                   ! NRD<span class="token operator">-</span>The number of receiver depths，接收水听器的垂直方向上个数 （NRD<span class="token operator">&lt;</span><span class="token number">101</span> <span class="token operator">and</span> NR<span class="token operator">*</span>NRD<span class="token operator">&lt;=</span> <span class="token number">52000</span><span class="token punctuation">)</span>；
<span class="token number">150</span> <span class="token number">300</span> <span class="token operator">/</span>           ! RD<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">:</span>NRD<span class="token punctuation">)</span> <span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">-</span>The receiver depths <span class="token punctuation">(</span>m<span class="token punctuation">)</span>，接收水听器的深度；
<span class="token number">2</span>                   ! NRR<span class="token operator">-</span><span class="token operator">-</span>The number of receiver ranges，接收水听器的水平方向上个数<span class="token punctuation">(</span>NR<span class="token operator">&lt;</span><span class="token number">1001</span> <span class="token operator">and</span> NR<span class="token operator">*</span>NRD<span class="token operator">&lt;=</span> <span class="token number">50000</span><span class="token punctuation">)</span>；
<span class="token number">1</span> <span class="token number">2</span><span class="token operator">/</span>                ! RR<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">:</span>NR <span class="token punctuation">)</span> <span class="token punctuation">(</span>km<span class="token punctuation">)</span>The receiver ranges <span class="token punctuation">(</span>km<span class="token punctuation">)</span>，接收水听器的水平接收范围；
</code></pre> 
<p>以图形的方式展现如下</p> 
<center> 
 <img src="https://images2.imgbox.com/87/93/ItoRqfcf_o.png" width="75%"> 
</center> 
<p>同样的设置声线数为20的时候，下图中debug后的Narr显示为<code>[2,1]，[6,2]</code>，即代表了<strong>接收1、接收2、接收3、接收4</strong>分别对应的到达次数为<strong>2、1、6、2</strong>。</p> 
<hr color="#000000" size='1"'> 
<h2><a id="env_205"></a>完整env文件</h2> 
<p>以下为一段较为完整的<code>env</code>文件。</p> 
<pre><code class="prism language-python"><span class="token string">'SH Lake Freq = 6 kHz, Sd = 30 m'</span> ! TITLE
<span class="token number">6000.0</span> ! FREQ<span class="token punctuation">(</span>Hz<span class="token punctuation">)</span>
<span class="token number">1</span> ! NMEDIA
<span class="token string">'CVMT'</span> ! SSPOPT
<span class="token number">0</span> <span class="token number">0.0</span> <span class="token number">28.0</span> ! NMESH SIGMA DEPTH_of_BOTTOM <span class="token punctuation">(</span>m<span class="token punctuation">)</span>
<span class="token number">0.0</span> <span class="token number">1528.6</span> <span class="token operator">/</span>
<span class="token number">1.0</span> <span class="token number">1528.5</span> <span class="token operator">/</span>
<span class="token number">2.0</span> <span class="token number">1528</span> <span class="token operator">/</span>
<span class="token number">3.0</span> <span class="token number">1527</span> <span class="token operator">/</span>
<span class="token number">4.0</span> <span class="token number">1526.5</span> <span class="token operator">/</span>
<span class="token number">5.0</span> <span class="token number">1526</span> <span class="token operator">/</span>
<span class="token number">6.0</span> <span class="token number">1526</span> <span class="token operator">/</span>
<span class="token number">7.0</span> <span class="token number">1525.8</span> <span class="token operator">/</span>
<span class="token number">8.0</span> <span class="token number">1524</span> <span class="token operator">/</span>
<span class="token number">9.0</span> <span class="token number">1517</span> <span class="token operator">/</span>
<span class="token number">10.0</span> <span class="token number">1505</span> <span class="token operator">/</span>
<span class="token number">11.0</span> <span class="token number">1500</span> <span class="token operator">/</span>
<span class="token number">12.0</span> <span class="token number">1496</span> <span class="token operator">/</span>
<span class="token number">13.0</span> <span class="token number">1493</span> <span class="token operator">/</span>
<span class="token number">14.0</span> <span class="token number">1490.5</span> <span class="token operator">/</span>
<span class="token number">15.0</span> <span class="token number">1488</span> <span class="token operator">/</span>
<span class="token number">16.0</span> <span class="token number">1485.5</span> <span class="token operator">/</span>
<span class="token number">17.0</span> <span class="token number">1483</span> <span class="token operator">/</span>
<span class="token number">18.0</span> <span class="token number">1480</span> <span class="token operator">/</span>
<span class="token number">19.0</span> <span class="token number">1477</span> <span class="token operator">/</span>
<span class="token number">20.0</span> <span class="token number">1475</span> <span class="token operator">/</span>
<span class="token number">21.0</span> <span class="token number">1473</span> <span class="token operator">/</span>
<span class="token number">22.0</span> <span class="token number">1471</span> <span class="token operator">/</span>
<span class="token number">23.0</span> <span class="token number">1469</span> <span class="token operator">/</span>
<span class="token number">24.0</span> <span class="token number">1466</span> <span class="token operator">/</span>
<span class="token number">25.0</span> <span class="token number">1460</span> <span class="token operator">/</span>
<span class="token number">26.0</span> <span class="token number">1458</span> <span class="token operator">/</span>
<span class="token number">27.0</span> <span class="token number">1457.5</span> <span class="token operator">/</span>
<span class="token number">28.0</span> <span class="token number">1455</span> <span class="token operator">/</span>
<span class="token string">'A'</span> <span class="token number">0.0</span>
<span class="token number">28</span> <span class="token number">1800.0</span> <span class="token number">0.0</span> <span class="token number">1.84</span> <span class="token number">0.3</span> <span class="token number">0.0</span> <span class="token operator">/</span>
<span class="token number">1</span> ! NSD
<span class="token number">6</span> !SD<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">:</span>NSD<span class="token punctuation">)</span> <span class="token punctuation">(</span>m<span class="token punctuation">)</span>
<span class="token number">1</span> ! NRD
<span class="token number">3</span> <span class="token operator">/</span> ! RD<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">:</span>NRD<span class="token punctuation">)</span> <span class="token punctuation">(</span>m<span class="token punctuation">)</span>
<span class="token number">1</span> ! NRR
<span class="token number">2</span> <span class="token operator">/</span> ! RR<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">:</span>NR <span class="token punctuation">)</span> <span class="token punctuation">(</span>km<span class="token punctuation">)</span>
<span class="token string">'A'</span> ! Run<span class="token operator">-</span><span class="token builtin">type</span>
<span class="token number">20</span> ! NBEAMS
<span class="token operator">-</span><span class="token number">20</span> <span class="token number">20</span> <span class="token operator">/</span> ! ALPHA<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">:</span>NBEAMS<span class="token punctuation">)</span> <span class="token punctuation">(</span>degrees<span class="token punctuation">)</span>
<span class="token number">0</span> <span class="token number">50</span> <span class="token number">2.5</span> ! STEP <span class="token punctuation">(</span>m<span class="token punctuation">)</span> ZBOX <span class="token punctuation">(</span>m<span class="token punctuation">)</span> RBOX <span class="token punctuation">(</span>km<span class="token punctuation">)</span>
</code></pre> 
<p>经过bellhop后的<code>env</code>会产生对应的文件，因为设置为<code>'A' ! Run-type</code>，所以产生以下文件。<br> <img src="https://images2.imgbox.com/b9/6f/o4fnQJJQ_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_260"></a>其他</h2> 
<p>关于如何使用Bellhop可参见<a href="https://blog.csdn.net/u010936286/article/details/79819434?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-7.control&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-7.control">东泰山</a>版本的使用说明，如果你习惯使用Python平台，可参见我个人关于<a href="https://blog.csdn.net/zhangziju/article/details/113703677">Bellhop的Python版本</a>的设置说明。</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/130c406d28d787a9dff5d805eaacece2/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Qt之QWidget设置窗口背景图片的几种方法</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/d6d3207ad0747c756fff5f4e41889ffb/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Gridea 部署 Coding Pages 教程</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>