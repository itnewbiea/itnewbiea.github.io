<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>修改安卓apk设置为安卓主屏幕（launcher） - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="修改安卓apk设置为安卓主屏幕（launcher）" />
<meta property="og:description" content="修改安卓apk 将apk可以设置安卓主屏幕 原理： 将打包好的apk文件进行拆包增加配置文件在重新编译回apk包
需要得相关文件下载 解包 apktool :https://pan.baidu.com/s/1oyCIYak_MHDJCvDbHj_qEA?pwd=5j2xdex2jar：https://pan.baidu.com/s/1Nc-0vppVd0GPnD6_Y-SRBA?pwd=cmkejd-gui：https://pan.baidu.com/s/1ckfGv0cyzC7e-DA3lDdv4w?pwd=l0lz 签名 用来将编译好的包重新签名。
Auto-Sign：https://pan.baidu.com/s/1foGt50h4EWQNjFvyTGQWDg?pwd=d9f1 开始解包 为了方便，把工具（apktool.jar）和apk文件放在一个文件夹中*(非必须，本人把apk复制到了文件夹里面)；
java -jar apktool.jar d -f card.apk -o card --only-main-classes 解包之后得
进入card文件夹 找到 AndroidManifest.xml
用编辑器打开且全局搜索 android:name=&#34;io.dcloud.PandoraEntry&#34;
在里面新增下面四行代码
&lt;action android:name=&#34;android.intent.action.MAIN&#34;/&gt; &lt;category android:name=&#34;android.intent.category.LAUNCHER&#34;/&gt; &lt;category android:name=&#34;android.intent.category.HOME&#34;/&gt; &lt;category android:name=&#34;android.intent.category.DEFAULT&#34;/&gt; 编译回apk 新建一个apktool.bat文件用记事本编辑新增内容，文件存位置。
@echo off if &#34;%PATH_BASE%&#34; == &#34;&#34; set PATH_BASE=%PATH% set PATH=%CD%;%PATH_BASE%; chcp 65001 2&gt;nul &gt;nul java -jar -Duser.language=en -Dfile.encoding=UTF8 &#34;%~dp0\apktool.jar&#34; %* 用管理员的方式打开cmd 并且切换到 文件位置
file 是解包出来的文件夹
apktool b card 解出来之后会在文件夹下的dist文件下面
重新签名 https://pan." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/32718c884a60051e50a8496d5f7eb826/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-05T11:24:21+08:00" />
<meta property="article:modified_time" content="2024-01-05T11:24:21+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">修改安卓apk设置为安卓主屏幕（launcher）</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="apk_apk_0"></a>修改安卓<code>apk</code> 将<code>apk</code>可以设置安卓主屏幕</h2> 
<p>原理：<font color="red"> 将打包好的apk文件进行拆包增加配置文件在重新编译回apk包</font></p> 
<h3><a id="_4"></a><strong>需要</strong>得相关文件下载</h3> 
<h4><a id="_6"></a>解包</h4> 
<ol><li><code>apktool</code> :https://pan.baidu.com/s/1oyCIYak_MHDJCvDbHj_qEA?pwd=5j2x</li><li><code>dex2jar</code>：https://pan.baidu.com/s/1Nc-0vppVd0GPnD6_Y-SRBA?pwd=cmke</li><li><code>jd-gui</code>：https://pan.baidu.com/s/1ckfGv0cyzC7e-DA3lDdv4w?pwd=l0lz</li></ol> 
<h4><a id="_12"></a>签名</h4> 
<p>用来将编译好的包重新签名。</p> 
<ol start="4"><li>Auto-Sign：https://pan.baidu.com/s/1foGt50h4EWQNjFvyTGQWDg?pwd=d9f1</li></ol> 
<h3><a id="_20"></a>开始解包</h3> 
<p>为了方便，把工具（<code>apktool.jar</code>）和<code>apk</code>文件放在一个文件夹中*(非必须，本人把<code>apk</code>复制到了文件夹里面)；</p> 
<p><img src="https://images2.imgbox.com/fe/12/P4ORYJfz_o.png" alt="image-20240105090044599"></p> 
<pre><code class="prism language-shell"><span class="token function">java</span> <span class="token parameter variable">-jar</span> apktool.jar d <span class="token parameter variable">-f</span> card.apk <span class="token parameter variable">-o</span> card --only-main-classes
</code></pre> 
<p>解包之后得</p> 
<p><img src="https://images2.imgbox.com/b7/33/Z37uIDM2_o.png" alt="image-20240105090749114"></p> 
<p>进入card文件夹 找到 <strong><code>AndroidManifest.xml</code></strong></p> 
<p><img src="https://images2.imgbox.com/bb/a5/4voCvWyM_o.png" alt="image-20240105091005442"></p> 
<p>用编辑器打开且全局搜索 <strong><code>android:name="io.dcloud.PandoraEntry</code>"</strong></p> 
<p><img src="https://images2.imgbox.com/c5/0a/F0hs7qFk_o.png" alt="image-20240105091315406"></p> 
<p>在里面新增下面四行代码</p> 
<pre><code class="prism language-java"><span class="token operator">&lt;</span>action android<span class="token operator">:</span>name<span class="token operator">=</span><span class="token string">"android.intent.action.MAIN"</span><span class="token operator">/</span><span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>category android<span class="token operator">:</span>name<span class="token operator">=</span><span class="token string">"android.intent.category.LAUNCHER"</span><span class="token operator">/</span><span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>category android<span class="token operator">:</span>name<span class="token operator">=</span><span class="token string">"android.intent.category.HOME"</span><span class="token operator">/</span><span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>category android<span class="token operator">:</span>name<span class="token operator">=</span><span class="token string">"android.intent.category.DEFAULT"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/14/20/Y8efhqCM_o.png" alt="image-20240105102050148"></p> 
<h4><a id="apk_62"></a>编译回<code>apk</code></h4> 
<p>新建一个<code>apktool.bat</code>文件用记事本编辑新增内容，文件存位置。</p> 
<p><img src="https://images2.imgbox.com/72/50/szwFuJ4F_o.png" alt="image-20240105102634244"></p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@echo</span> off

<span class="token keyword">if</span> <span class="token string">"%PATH_BASE%"</span> <span class="token operator">==</span> <span class="token string">""</span> set <span class="token constant">PATH_BASE</span><span class="token operator">=</span><span class="token operator">%</span><span class="token constant">PATH</span><span class="token operator">%</span>

set <span class="token constant">PATH</span><span class="token operator">=</span><span class="token operator">%</span><span class="token constant">CD</span><span class="token operator">%</span><span class="token punctuation">;</span><span class="token operator">%</span><span class="token constant">PATH_BASE</span><span class="token operator">%</span><span class="token punctuation">;</span>

chcp <span class="token number">65001</span> <span class="token number">2</span><span class="token operator">&gt;</span>nul <span class="token operator">&gt;</span>nul

java <span class="token operator">-</span>jar <span class="token operator">-</span><span class="token class-name">Duser</span><span class="token punctuation">.</span>language<span class="token operator">=</span>en <span class="token operator">-</span><span class="token class-name">Dfile</span><span class="token punctuation">.</span>encoding<span class="token operator">=</span><span class="token constant">UTF8</span> <span class="token string">"%~dp0\apktool.jar"</span> <span class="token operator">%</span><span class="token operator">*</span>
</code></pre> 
<p>用管理员的方式打开cmd 并且切换到 文件位置</p> 
<p><img src="https://images2.imgbox.com/72/81/APvX18g0_o.png" alt="image-20240105103739111"></p> 
<p><img src="https://images2.imgbox.com/3d/cc/jz7ph8l5_o.png" alt="image-20240105103828823"></p> 
<p>file 是解包出来的文件夹</p> 
<pre><code class="prism language-shell">apktool b card
</code></pre> 
<p>解出来之后会在文件夹下的dist文件下面</p> 
<p><img src="https://images2.imgbox.com/3a/35/Ws8Q8uRd_o.png" alt="image-20240105104531605"></p> 
<h4><a id="_104"></a>重新签名</h4> 
<p><code>https://pan.baidu.com/s/1foGt50h4EWQNjFvyTGQWDg?pwd=d9f1 </code></p> 
<ol><li>解压下载的签名文件</li><li>将重新打包（使用<code>apktool</code>）后的<code>card.apk</code>改名为<code>update.zip</code>放到Auto-sign目录下</li><li><code>cmd</code> 切换到Auto-sign目录</li><li>执行 <code>java -jar signapk.jar testkey.x509.pem testkey.pk8 update.zip update_signed.zip</code></li></ol> 
<p><img src="https://images2.imgbox.com/f5/08/rwW6Toag_o.png" alt="image-20240105111413804"><br> <strong>测试图片</strong><br> <img src="https://images2.imgbox.com/e7/90/HcfnOftG_o.png" alt="在这里插入图片描述"></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/41d07fdb65a0636d39da1a1d728b24a0/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">自动驾驶HWP对HMI显示需求规范</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/9332e11187cc3b964d452da1102b383a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">梯度消失与梯度爆炸的问题小结</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>