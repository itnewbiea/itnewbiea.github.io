<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>几分钟带你认识vuex的五个核心属性 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="几分钟带你认识vuex的五个核心属性" />
<meta property="og:description" content="目录
一、Vuex是什么？
二、什么数据可以储存在vuex中呢？
三、对于使用Vuex的理解是什么？
四、vuex由五部分组成(五种状态/五种属性)
五:安装配置
六、详解五种状态
1.state:存放公共数据 2.getters:计算属性，对state里的变量进行过滤。
3.mutations:唯一可以改变state数据的工具，相当于vue里的methods
4.actions:异步操作
5.modules:模块化
一、Vuex是什么？ 介绍：Vuex 是一个专为 Vue.js 应用程序开发的状态管理模式
理解：核心就是 store（仓库），仓库是用来干什么的？你就当它用来储存东西的。
二、什么数据可以储存在vuex中呢？ a.如果一个数据，需要在多个组件中重复使用，可以把数据存放在vue的store中
b.用户数据，购物车数据
三、对于使用Vuex的理解是什么？ 由于Vue是单向数据流，子组件内部不能直接修改从父级传递过来的数据，子组件与子组件之间无法相互传递数据。如果我们想让两个子组件之间进行通信的话，可以借助子组件 A 向父组件传值，父组件接收子组件 A 的数据后再传给 B 组件这样的方式进行通信。
但是这样会有一个问题，就是如果子组件 A 的父组件上面还有一层爷爷组件，或者还有更多祖父类型的层级，那么是不是会很麻烦。
因此，我们会想到能不能我们将一个共有的数据存在一个特定的地方，用的时候自己去拿，这样就不需要一层层传值，于是乎 Vuex 就应运而生了。
四、vuex由五部分组成(五种状态/五种属性) VueX五个核心属性分别是state、getter，mutations、actions、module
state: 定义vuex的数据地方
actions:定义异步延迟的方法
mutations: 唯一可以修改state数据的方法
getters:从现有state数据计算出新的数据， 类似于vue组件中的计算属性，对state数据进行计算（会被缓存）
modules:模块化管理store（仓库），每个模块拥有自己的 state、mutation、action、getter
五:安装配置 第一步：npm i vuex --save/-S
第二步： 创建store.js 第三步：挂载使用 Vue.use(vuex)
第四步：const store = new Vuex.Store({...配置项})
第五步：导出 export default store
第六步：导入main.js 在根实例配置 store 选项指向 store 实例对象" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/fa57b1e79f7e18c350d1a28136d6af32/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-07-26T23:49:18+08:00" />
<meta property="article:modified_time" content="2022-07-26T23:49:18+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">几分钟带你认识vuex的五个核心属性</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="%E4%B8%80%E3%80%81Vuex%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F-toc" style="margin-left:0px;"><a href="#%E4%B8%80%E3%80%81Vuex%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F" rel="nofollow">一、Vuex是什么？</a></p> 
<p id="%E4%BA%8C%E3%80%81%E4%BB%80%E4%B9%88%E6%95%B0%E6%8D%AE%E5%8F%AF%E4%BB%A5%E5%82%A8%E5%AD%98%E5%9C%A8vuex%E4%B8%AD%E5%91%A2%EF%BC%9F-toc" style="margin-left:0px;"><a href="#%E4%BA%8C%E3%80%81%E4%BB%80%E4%B9%88%E6%95%B0%E6%8D%AE%E5%8F%AF%E4%BB%A5%E5%82%A8%E5%AD%98%E5%9C%A8vuex%E4%B8%AD%E5%91%A2%EF%BC%9F" rel="nofollow">二、什么数据可以储存在vuex中呢？</a></p> 
<p id="%E4%B8%89%E3%80%81%E5%AF%B9%E4%BA%8E%E4%BD%BF%E7%94%A8Vuex%E7%9A%84%E7%90%86%E8%A7%A3%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F-toc" style="margin-left:0px;"><a href="#%E4%B8%89%E3%80%81%E5%AF%B9%E4%BA%8E%E4%BD%BF%E7%94%A8Vuex%E7%9A%84%E7%90%86%E8%A7%A3%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F" rel="nofollow">三、对于使用Vuex的理解是什么？</a></p> 
<p id="%E5%9B%9B%E3%80%81vuex%E7%94%B1%E4%BA%94%E9%83%A8%E5%88%86%E7%BB%84%E6%88%90(%E4%BA%94%E7%A7%8D%E7%8A%B6%E6%80%81%2F%E4%BA%94%E7%A7%8D%E5%B1%9E%E6%80%A7)-toc" style="margin-left:0px;"><a href="#%E5%9B%9B%E3%80%81vuex%E7%94%B1%E4%BA%94%E9%83%A8%E5%88%86%E7%BB%84%E6%88%90%28%E4%BA%94%E7%A7%8D%E7%8A%B6%E6%80%81%2F%E4%BA%94%E7%A7%8D%E5%B1%9E%E6%80%A7%29" rel="nofollow">四、vuex由五部分组成(五种状态/五种属性)</a></p> 
<p id="%E4%BA%94%3A%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE-toc" style="margin-left:0px;"><a href="#%E4%BA%94%3A%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE" rel="nofollow">五:安装配置</a></p> 
<p id="%C2%A0%E5%85%AD%E3%80%81%E8%AF%A6%E8%A7%A3%E4%BA%94%E7%A7%8D%E7%8A%B6%E6%80%81-toc" style="margin-left:0px;"><a href="#%C2%A0%E5%85%AD%E3%80%81%E8%AF%A6%E8%A7%A3%E4%BA%94%E7%A7%8D%E7%8A%B6%E6%80%81" rel="nofollow"> 六、详解五种状态</a></p> 
<p id="1%E3%80%81state%3A%E5%AD%98%E6%94%BE%E5%85%AC%E5%85%B1%E6%95%B0%E6%8D%AE%C2%A0-toc" style="margin-left:40px;"><a href="#1%E3%80%81state%3A%E5%AD%98%E6%94%BE%E5%85%AC%E5%85%B1%E6%95%B0%E6%8D%AE%C2%A0" rel="nofollow">1.state:存放公共数据 </a></p> 
<p id="2.getters%3A%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7%EF%BC%8C%E5%AF%B9state%E9%87%8C%E7%9A%84%E5%8F%98%E9%87%8F%E8%BF%9B%E8%A1%8C%E8%BF%87%E6%BB%A4%E3%80%82-toc" style="margin-left:40px;"><a href="#2.getters%3A%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7%EF%BC%8C%E5%AF%B9state%E9%87%8C%E7%9A%84%E5%8F%98%E9%87%8F%E8%BF%9B%E8%A1%8C%E8%BF%87%E6%BB%A4%E3%80%82" rel="nofollow">2.getters:计算属性，对state里的变量进行过滤。</a></p> 
<p id="3.mutations%3A%E5%94%AF%E4%B8%80%E5%8F%AF%E4%BB%A5%E6%94%B9%E5%8F%98state%E6%95%B0%E6%8D%AE%E7%9A%84%E5%B7%A5%E5%85%B7%EF%BC%8C%E7%9B%B8%E5%BD%93%E4%BA%8Evue%E9%87%8C%E7%9A%84methods-toc" style="margin-left:40px;"><a href="#3.mutations%3A%E5%94%AF%E4%B8%80%E5%8F%AF%E4%BB%A5%E6%94%B9%E5%8F%98state%E6%95%B0%E6%8D%AE%E7%9A%84%E5%B7%A5%E5%85%B7%EF%BC%8C%E7%9B%B8%E5%BD%93%E4%BA%8Evue%E9%87%8C%E7%9A%84methods" rel="nofollow">3.mutations:唯一可以改变state数据的工具，相当于vue里的methods</a></p> 
<p id="4.actions%3A%E5%BC%82%E6%AD%A5%E6%93%8D%E4%BD%9C-toc" style="margin-left:40px;"><a href="#4.actions%3A%E5%BC%82%E6%AD%A5%E6%93%8D%E4%BD%9C" rel="nofollow">4.actions:异步操作</a></p> 
<p id="5.modules%3A%E6%A8%A1%E5%9D%97%E5%8C%96-toc" style="margin-left:40px;"><a href="#5.modules%3A%E6%A8%A1%E5%9D%97%E5%8C%96" rel="nofollow">5.modules:模块化</a></p> 
<hr id="hr-toc"> 
<p></p> 
<p></p> 
<h2 id="%E4%B8%80%E3%80%81Vuex%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F">一、Vuex是什么？</h2> 
<p><br> 介绍：Vuex 是一个专为 Vue.js 应用程序开发的状态管理模式</p> 
<p>理解：核心就是 store（仓库），仓库是用来干什么的？你就当它用来储存东西的。</p> 
<h2 id="%E4%BA%8C%E3%80%81%E4%BB%80%E4%B9%88%E6%95%B0%E6%8D%AE%E5%8F%AF%E4%BB%A5%E5%82%A8%E5%AD%98%E5%9C%A8vuex%E4%B8%AD%E5%91%A2%EF%BC%9F">二、什么数据可以储存在vuex中呢？</h2> 
<p><br> a.如果一个数据，需要在多个组件中重复使用，可以把数据存放在vue的store中</p> 
<p>b.用户数据，购物车数据</p> 
<h2 id="%E4%B8%89%E3%80%81%E5%AF%B9%E4%BA%8E%E4%BD%BF%E7%94%A8Vuex%E7%9A%84%E7%90%86%E8%A7%A3%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F">三、对于使用Vuex的理解是什么？</h2> 
<p><br>        由于Vue是单向数据流，子组件内部不能直接修改从父级传递过来的数据，子组件与子组件之间无法相互传递数据。如果我们想让两个子组件之间进行通信的话，可以借助子组件 A 向父组件传值，父组件接收子组件 A 的数据后再传给 B 组件这样的方式进行通信。</p> 
<p>       但是这样会有一个问题，就是如果子组件 A 的父组件上面还有一层爷爷组件，或者还有更多祖父类型的层级，那么是不是会很麻烦。</p> 
<p>       因此，我们会想到能不能我们将一个共有的数据存在一个特定的地方，用的时候自己去拿，这样就不需要一层层传值，于是乎 Vuex 就应运而生了。</p> 
<h2 id="%E5%9B%9B%E3%80%81vuex%E7%94%B1%E4%BA%94%E9%83%A8%E5%88%86%E7%BB%84%E6%88%90(%E4%BA%94%E7%A7%8D%E7%8A%B6%E6%80%81%2F%E4%BA%94%E7%A7%8D%E5%B1%9E%E6%80%A7)">四、vuex由五部分组成(五种状态/五种属性)</h2> 
<p><u><em><strong> <span style="color:#ff9900;">VueX五个核心属性分别是state、getter，mutations、actions、module</span></strong></em></u></p> 
<p><br> state: 定义vuex的数据地方</p> 
<p>actions:定义异步延迟的方法</p> 
<p>mutations: 唯一可以修改state数据的方法</p> 
<p>getters:从现有state数据计算出新的数据， 类似于vue组件中的计算属性，对state数据进行计算（会被缓存）</p> 
<p>modules:模块化管理store（仓库），每个模块拥有自己的 state、mutation、action、getter</p> 
<p><img alt="" height="488" src="https://images2.imgbox.com/6d/49/tHn8wtYV_o.png" width="684"></p> 
<h2 id="%E4%BA%94%3A%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE">五:安装配置</h2> 
<p><br> 第一步：npm i vuex --save/-S<br> 第二步： 创建store.js <br> 第三步：挂载使用        Vue.use(vuex)<br> 第四步：const store = new Vuex.Store({...配置项})<br> 第五步：导出 export default store<br> 第六步：导入main.js 在根实例配置 store 选项指向 store 实例对象</p> 
<p>具体如下:</p> 
<p>安装<br>  </p> 
<pre><code class="language-javascript">npm install vuex

//简写npm i vuex</code></pre> 
<p> 创建store.js </p> 
<pre><code class="language-javascript">// 初始化一个vuex的实例（数据仓库） 导出即可
import Vuex from 'vuex'
import Vue from 'vue'
 
// 使用安装
Vue.use(Vuex)
 
// 初始化
const store = new Vuex.Store({
  // 配置（state|mutations|actions）
})
 
export default store</code></pre> 
<p> 把store对象挂载到Vue实例中</p> 
<p> </p> 
<pre><code class="language-javascript">import store from '@/store'
new Vue({
  // 把store对象挂载到vue实例对象中，这样就可以在所有的组件中获取store中的数据了
  store,
  render: h =&gt; h(App),
}).$mount('#app')</code></pre> 
<h2 id="%C2%A0%E5%85%AD%E3%80%81%E8%AF%A6%E8%A7%A3%E4%BA%94%E7%A7%8D%E7%8A%B6%E6%80%81"> 六、详解五种状态</h2> 
<p></p> 
<h3 id="1%E3%80%81state%3A%E5%AD%98%E6%94%BE%E5%85%AC%E5%85%B1%E6%95%B0%E6%8D%AE%C2%A0">1.state<strong>:存放公共数据</strong> </h3> 
<p>状态state用于存储所有组件的数据。</p> 
<pre><code class="language-javascript">state: {
		// 定义vuex中的数据
		cartNum: 10,
	},</code></pre> 
<p> </p> 
<p>总结：</p> 
<ol><li>state中的数据是自定义的，但是state属性名是固定的</li><li>获取数据可以通过 $store.state</li><li>可以使用计算属性优化模板中获取数据的方式</li><li>计算属性不可以使用箭头函数（箭头函数本身是没有this的，实际上用的是父级函数中的this）</li></ol> 
<h3 id="2.getters%3A%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7%EF%BC%8C%E5%AF%B9state%E9%87%8C%E7%9A%84%E5%8F%98%E9%87%8F%E8%BF%9B%E8%A1%8C%E8%BF%87%E6%BB%A4%E3%80%82">2.getters:<strong>计算属性，对state里的变量进行过滤。</strong></h3> 
<p><span style="color:#fe2c24;">getters:从现有state数据计算出新的数据</span></p> 
<ul><li>先定义getters</li></ul> 
<pre><code class="language-javascript">
//在组件中调用
$store.getters.fee
// 相当于state的计算属性（基于State处理成另外一份数据）
// getters的主要应用场景：模板中需要的数据和State中的数据不完全一样
// 需要基于state中的数据进行加工处理，形成一份新的的数据，给模板使用
getters: {
		// 从现有数据计算新的数据 每个商品佣金是0.5元
		// fee佣金会跟随cartNum变化而变化
		fee:function(state){
			return state.cartNum*0.5;
		}
	},</code></pre> 
<p> </p> 
<p>在调用时，使用<code><span style="color:#fe2c24;">$store.getters</span>.方法名</code>，如<span style="color:#fe2c24;"><code>$store.getters.powerCounter</code></span>即可</p> 
<ul><li>再使用getters</li></ul> 
<pre><code class="language-javascript">caleList () {
  // 注意：获取getters的值，不需要加括号（当属性使用）
  return this.$store.getters.getPartList
},</code></pre> 
<p>总结：</p> 
<ol><li>getters相当于在State和组件之间添加一个环节（对state中的数据进行加工处理后再提供给组件）</li><li>getters不要修改state中的数据</li><li>getters类似之前的计算属性（基于state中的数据进行计算）</li></ol> 
<p> </p> 
<h3 id="3.mutations%3A%E5%94%AF%E4%B8%80%E5%8F%AF%E4%BB%A5%E6%94%B9%E5%8F%98state%E6%95%B0%E6%8D%AE%E7%9A%84%E5%B7%A5%E5%85%B7%EF%BC%8C%E7%9B%B8%E5%BD%93%E4%BA%8Evue%E9%87%8C%E7%9A%84methods">3.mutations<strong>:唯一可以改变state数据的工具，相当于vue里的methods</strong></h3> 
<p><span style="color:#fe2c24;">mutations:定义修改数据的方法</span></p> 
<p></p> 
<p><span style="background-color:#efedf6;">目标：Vuex规定必须通过mutation修改数据，不可以直接通过store修改状态数据。</span></p> 
<p><span style="background-color:#efedf6;">为什么要用mutation方式修改数据？Vuex的规定</span></p> 
<p><span style="background-color:#efedf6;">为什么要有这样的规定？统一管理数据，便于监控数据变化</span></p> 
<p><strong>1.vuex的store状态的唯一更新方式：</strong></p> 
<p>提交mutations<br> mutations主要包括两部分：</p> 
<ul><li>字符串的事件类型</li><li>一个回调函数，该回调函数的第一个参数就是state</li></ul> 
<pre><code class="language-javascript">mutations: {
		// 修改state数据必须在mutations中的方法
		// 方法名建议大写
		SET_CART_NUM(state,data){
			// 修改cartNum的值
			state.cartNum = data;
		}
	},</code></pre> 
<p><strong>2.在组件中访问mutations的方法</strong></p> 
<p><br> $store.commit('SET_CART_NUM',100)</p> 
<pre><code class="language-javascript">&lt;p&gt;购物车数量:{<!-- -->{$store.state.cartNum}}&lt;/p&gt;
&lt;button @click="$store.commit('SET_CART_NUM',100)"&gt;修改为100&lt;/button&gt;
&lt;button @click="$store.commit('SET_CART_NUM',$store.state.cartNum+1)"&gt;修改+1&lt;/button&gt;&lt;br&gt;</code></pre> 
<p>总结：</p> 
<p>先定义（mutations），再出发 this.$store.commit(‘mutation的名称，参数’)<br> mutation的本质就是方法，方法名称自定义，mutation函数内部负责处理的变更操作。<br> 一种操作就是一个mutation，不同的mutation处理不同的场景。<br>  </p> 
<h3 id="4.actions%3A%E5%BC%82%E6%AD%A5%E6%93%8D%E4%BD%9C">4.actions:异步操作</h3> 
<p><span style="color:#fe2c24;">actions：定义异步延迟的方法</span></p> 
<ul><li>通常情况下，Vuex要求我们的mutation中的方法必须是同步方法</li><li>如果使用异步操作，那么devtools将不能很好地追踪</li><li>如果确实有异步操作，要使用Action替代mutation完成</li></ul> 
<p><strong>先安装axios的包</strong></p> 
<pre><code class="language-javascript">npm i axios
//导入包
import axios from 'axios'</code></pre> 
<p><strong>再定义获取数据方法</strong></p> 
<p> </p> 
<pre><code class="language-javascript">actions: {

    // actions是固定的，用于定义异步,网络延迟等方法
	// 只能调用mutations,不能直接修改state
		getCartNum(context,data){
			// 可以执行网络请求,等待延迟
			setTimeout(()=&gt;{
				// 等待4秒后执行mutations的 SET_CART_NUM方法
				context.commit("SET_CART_NUM",data);//修改了cartNum的值为1
			},4000)
		}
	
	},</code></pre> 
<p></p> 
<ul><li>mutation中的方法用commit回调</li><li>actions中的方法用dispatch回调</li><li>state里的状态只能在mutation中更改</li></ul> 
<p>总结：</p> 
<ol><li>原始方式：this.$store.dispatch(‘queryData’, num)</li><li>简化方式一：对象</li><li>简化方式二：数组</li></ol> 
<p> </p> 
<h3 id="5.modules%3A%E6%A8%A1%E5%9D%97%E5%8C%96">5.<strong>modules:模块化</strong></h3> 
<p>modules: 模块化vuex，可以让每一个模块拥有自己的 state、mutation、action、 getters，使得结构非常清晰，方便管理。</p> 
<p></p> 
<p><strong>注意</strong>：<strong>style上加scoped属性的原理</strong><br> 在 Vue 组件中，为了使样式模块化，不对全局造成污染，可以在style 标签上添加 scoped 属性以表示它的只属于当下的模块，局部有效。<br> 结合实际:我们做的后管系统设置头像图片样式的时候,不加scoped属性就会影响全局样式</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/d337f585781f99beb962ef5479259f0c/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">已解决：Connection timed out: connect. If you are behind an HTTP proxy, please configure the proxy</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/5609ac015bedb07b1f6880f102046135/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">h5动态/接口获取title</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>