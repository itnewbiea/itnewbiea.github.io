<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>shell脚本之例题详解 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="shell脚本之例题详解" />
<meta property="og:description" content="文章目录 1 检查用户家目录中的test.sh文件是否存在，并且检查是否有执行权限2 提示用户输入100米赛跑的秒数，要求判断秒数大于0且小于等于10秒的进入选拔赛，大于10秒的都淘汰，如果输入其它字符则提示重新输入；进入选拔赛的成员再进一步判断男女性别，男生进男生组，女生进女生组，如果输入错误请提示错误3 用case语句解压根据后缀名为 .tar.gz 或 .tar.bz2 的压缩包到 /opt 目录4 编写能够自动生成一个6位随机密码的脚本5 输出192.168.80.0/24网段内在线主机的ip地址，统计不在线主机的台数，并把不在线主机的ip地址和不在线时的时间保存到/opt/mywork/ip.txt文件里6 编写能够按照每100行分割文件的脚本7 将一个点分十进制格式的IP地址转换成点分二进制格式，比如 255.255.255.255 ——&gt; 11111111.11111111.11111111.111111118 使用循环语句将一个 0到255 之间的十进制数转换成8位数二进制数9 用户输入密码，脚本判断密码是否正确，正确密码为123456，输入正确提示正确信息，连续输错3次则报警10 求从1到100所有整数的偶数和、奇数和11 提示用户输入一个小于100的整数，并计算从1到该数之间所有整数的和12 计算从1到100所有整数的和13 提示用户输入内容，使用if 语句判断输入的内容是否为整数14 提示用户输入内容，使用if 语句判断输入的内容是否为整数,并判断输入的内容是奇数还是偶数15 用case语句在/etc/init.d/目录中写一个firewalld脚本，并加入到系统服务管理中 1 检查用户家目录中的test.sh文件是否存在，并且检查是否有执行权限 (1) 检查用户家目录中的test.sh文件是否存在，并且检查是否有执行权限.
[root@clr /opt/mywork]# cat 1.sh #!/bin/bash #检查用户家目录中的 test.sh 文件是否存在，并且检查是否有执行权 cd /root test -f test.sh if [ $? -eq 0 ];then test -x test.sh if [ $? -eq 0 ];then echo &#34;有test.sh文件且可执行&#34; else echo &#34;有test.sh文件但不可执行&#34; fi else echo &#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/13fecfd6024397a5dbdd390e98727b4c/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-05-08T22:59:03+08:00" />
<meta property="article:modified_time" content="2023-05-08T22:59:03+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">shell脚本之例题详解</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-dracula">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#1_testsh_3" rel="nofollow">1 检查用户家目录中的test.sh文件是否存在，并且检查是否有执行权限</a></li><li><a href="#2_10001010_42" rel="nofollow">2 提示用户输入100米赛跑的秒数，要求判断秒数大于0且小于等于10秒的进入选拔赛，大于10秒的都淘汰，如果输入其它字符则提示重新输入；进入选拔赛的成员再进一步判断男女性别，男生进男生组，女生进女生组，如果输入错误请提示错误</a></li><li><a href="#3__case_targz__tarbz2__opt__135" rel="nofollow">3 用case语句解压根据后缀名为 .tar.gz 或 .tar.bz2 的压缩包到 /opt 目录</a></li><li><a href="#4_6_165" rel="nofollow">4 编写能够自动生成一个6位随机密码的脚本</a></li><li><a href="#5_19216880024ipipoptmyworkiptxt_192" rel="nofollow">5 输出192.168.80.0/24网段内在线主机的ip地址，统计不在线主机的台数，并把不在线主机的ip地址和不在线时的时间保存到/opt/mywork/ip.txt文件里</a></li><li><a href="#6_100_225" rel="nofollow">6 编写能够按照每100行分割文件的脚本</a></li><li><a href="#7_IP_255255255255___11111111111111111111111111111111_264" rel="nofollow">7 将一个点分十进制格式的IP地址转换成点分二进制格式，比如 255.255.255.255 ——&gt; 11111111.11111111.11111111.11111111</a></li><li><a href="#8___0255_8_428" rel="nofollow">8 使用循环语句将一个 0到255 之间的十进制数转换成8位数二进制数</a></li><li><a href="#9_1234563_453" rel="nofollow">9 用户输入密码，脚本判断密码是否正确，正确密码为123456，输入正确提示正确信息，连续输错3次则报警</a></li><li><a href="#10_1100_482" rel="nofollow">10 求从1到100所有整数的偶数和、奇数和</a></li><li><a href="#11_1001_505" rel="nofollow">11 提示用户输入一个小于100的整数，并计算从1到该数之间所有整数的和</a></li><li><a href="#12_1100_529" rel="nofollow">12 计算从1到100所有整数的和</a></li><li><a href="#13_if__547" rel="nofollow">13 提示用户输入内容，使用if 语句判断输入的内容是否为整数</a></li><li><a href="#14_if__562" rel="nofollow">14 提示用户输入内容，使用if 语句判断输入的内容是否为整数,并判断输入的内容是奇数还是偶数</a></li><li><a href="#15_caseetcinitdfirewalld_582" rel="nofollow">15 用case语句在/etc/init.d/目录中写一个firewalld脚本，并加入到系统服务管理中</a></li></ul> 
</div> 
<p></p> 
<h2><a id="1_testsh_3"></a>1 检查用户家目录中的test.sh文件是否存在，并且检查是否有执行权限</h2> 
<p><strong><font color="gree">(1) 检查用户家目录中的test.sh<mark>文件是否存在</mark>，并且检查<mark>是否有执行权限</mark>.</font></strong><br> <img src="https://images2.imgbox.com/24/dd/jsGuVtas_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-css">[root<span class="token atrule"><span class="token rule">@clr</span> /opt/mywork]# cat 1.sh
#!/bin/bash
#检查用户家目录中的 test.sh 文件是否存在，并且检查是否有执行权
cd /root
 
test -f test.sh
 
if [ $? -eq 0 ]<span class="token punctuation">;</span></span>then
 
  test -x test.sh
  if [ $? -eq 0 ]<span class="token punctuation">;</span>then
    echo <span class="token string">"有test.sh文件且可执行"</span>
  else
    echo <span class="token string">"有test.sh文件但不可执行"</span>
  fi
 
else
  echo <span class="token string">"没有test.sh文件"</span>
fi
[root@clr /opt/mywork]# bash 1.sh
有test.sh文件但不可执行
[root@clr /opt/mywork]# cd /root
[root@clr ~]# ll
-rw-r--r--. 1 root root  131 4月  27 19<span class="token punctuation">:</span>26 test.sh

[root@clr ~]# chmod +x test.sh    #修改test.sh这个文件的执行权限
[root@clr ~]# ll

-rwxr-xr-x. 1 root root  131 4月  27 19<span class="token punctuation">:</span>26 test.sh

[root@clr ~]# cd /opt/mywork/
[root@clr /opt/mywork]# bash 1.sh
有test.sh文件且可执行
</code></pre> 
<h2><a id="2_10001010_42"></a>2 提示用户输入100米赛跑的秒数，要求判断秒数大于0且小于等于10秒的进入选拔赛，大于10秒的都淘汰，如果输入其它字符则提示重新输入；进入选拔赛的成员再进一步判断男女性别，男生进男生组，女生进女生组，如果输入错误请提示错误</h2> 
<p><strong><font color="gree">(2) 提示用户输入100米赛跑的秒数，要求判断<mark>秒数大于0且小于等于10秒的进入选拔赛</mark>，大于10秒的都淘汰，如果<mark>输入其它字符则提示重新输入</mark>；进入选拔赛的成员再进一步判断男女性别，男生进男生组，女生进女生组，如果输入错误请提示错误。</font></strong></p> 
<ul><li><font color="gree"><strong>进入决赛的整数成绩判断；</strong><br> <img src="https://images2.imgbox.com/2b/77/rvdIryGF_o.png" alt="在这里插入图片描述"></font></li></ul> 
<pre><code class="prism language-css">[root<span class="token atrule"><span class="token rule">@clr</span> /opt/mywork]# cat 2.sh
read -p <span class="token string">"请输入您100米赛跑的秒数："</span> sec 
 
if [ $sec -gt 0 ] &amp;&amp; [ $sec -le 10 ]<span class="token punctuation">;</span></span>then
     read -p <span class="token string">"请输入您的性别(男|女)："</span> sex 
    if [ $sex == <span class="token string">"男"</span> ]<span class="token punctuation">;</span>then
       echo <span class="token string">"恭喜进入选拔赛男生组"</span>
    elif [ $sex == <span class="token string">"女"</span> ]<span class="token punctuation">;</span>then
       echo <span class="token string">"恭喜进入选拔赛女生组"</span>
  else
    echo <span class="token string">"输入错误，请重新输入"</span>
  fi  
else
    echo <span class="token string">"很遗憾，您被淘汰了"</span>
fi

[root@clr /opt/mywork]# bash 2.sh
请输入您100米赛跑的秒数：4   
请输入您的性别<span class="token punctuation">(</span>男|女<span class="token punctuation">)</span>：nan
输入错误，请重新输入
[root@clr /opt/mywork]# bash 2.sh
请输入您100米赛跑的秒数：78
很遗憾，您被淘汰了
[root@clr /opt/mywork]# bash 2.sh
请输入您100米赛跑的秒数：2
请输入您的性别<span class="token punctuation">(</span>男|女<span class="token punctuation">)</span>：男
恭喜进入选拔赛男生组
[root@clr /opt/mywork]# bash 2.sh
请输入您100米赛跑的秒数：5
请输入您的性别<span class="token punctuation">(</span>男|女<span class="token punctuation">)</span>：女
恭喜进入选拔赛女生组
</code></pre> 
<ul><li><font color="gree"><strong>进入决赛的小数成绩判断；</strong><br> <img src="https://images2.imgbox.com/22/d0/lwl9Z12M_o.png" alt="在这里插入图片描述"></font></li></ul> 
<pre><code class="prism language-css">[root@clr /opt/mywork]# cat 2.sh
#小数判断：
#!/bin/bash

#提示用户输入秒数
read -p <span class="token string">"请输入100米赛跑的秒数："</span> second

#判断是否为数字
if [[ ! <span class="token string">"$second"</span> =~ ^[0-9]+<span class="token punctuation">(</span>\.[0-9]+<span class="token punctuation">)</span>?$ ]] #正则表达式的匹配方式 
then                    
  echo <span class="token string">"输入错误，请重新输入。"</span>
  exit 1
fi

#判断是否进入选拔赛
if <span class="token punctuation">(</span><span class="token punctuation">(</span> $<span class="token punctuation">(</span>echo <span class="token string">"$second &lt;= 10"</span> | bc -l<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">)</span> #bc -l 命令会对输入进行数学计算，如果结果为真，则返回1 否则，返回0。
then    
  #进入选拔赛
  #提示用户输入性别
  read -p <span class="token string">"请输入您的性别（男/女）："</span> sex
  #判断性别
  if [[ <span class="token string">"$sex"</span> == <span class="token string">"男"</span> ]]
  then
    echo <span class="token string">"恭喜您进入男生组！"</span>
  elif [[ <span class="token string">"$sex"</span> == <span class="token string">"女"</span> ]]
  then
    echo <span class="token string">"恭喜您进入女生组！"</span>
  else
    echo <span class="token string">"输入错误，请重新输入。"</span>
  fi
else
  echo <span class="token string">"很遗憾，您未能进入选拔赛。"</span>
fi
[root@clr /opt/mywork]# bash 2.sh
请输入100米赛跑的秒数：9.8956664
请输入您的性别（男/女）：男
恭喜您进入男生组！
[root@clr /opt/mywork]# bash 2.sh
请输入100米赛跑的秒数：4656.2
很遗憾，您未能进入选拔赛。
[root@clr /opt/mywork]# bash 2.sh
请输入100米赛跑的秒数：4.23
请输入您的性别（男/女）：课件撒
输入错误，请重新输入。
[root@clr /opt/mywork]# bash 2.sh
请输入100米赛跑的秒数：4.6
请输入您的性别（男/女）：女 
恭喜您进入女生组！
</code></pre> 
<h2><a id="3__case_targz__tarbz2__opt__135"></a>3 用case语句解压根据后缀名为 .tar.gz 或 .tar.bz2 的压缩包到 /opt 目录</h2> 
<p><img src="https://images2.imgbox.com/aa/5a/t18vvFK8_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@clr /opt/mywork/demo]</span><span class="token comment"># vim 8.sh</span>

<span class="token comment">#!/bin/bash</span>
<span class="token comment">#用case语句解压根据后缀名为 .tar.gz 或 .tar.bz2 的压缩包&gt;到 /opt 目录</span>
read <span class="token operator">-</span>p <span class="token string">"请输入你要解压的文件:"</span> file
case <span class="token variable">$file</span> in
<span class="token operator">*</span><span class="token punctuation">.</span>tar<span class="token punctuation">.</span>bz2<span class="token punctuation">)</span>
<span class="token function">echo</span> <span class="token string">"正在解压bz2文件至opt目录中....."</span>
tar <span class="token operator">-</span>jxvf <span class="token variable">$file</span> <span class="token operator">-</span>C <span class="token operator">/</span>opt  <span class="token comment">#bz2文件类型的标志是j</span>
<span class="token punctuation">;</span><span class="token punctuation">;</span>

<span class="token operator">*</span><span class="token punctuation">.</span>tar<span class="token punctuation">.</span>gz<span class="token punctuation">)</span>
<span class="token function">echo</span> <span class="token string">"正在解压gz文件至opt目录中....."</span>
tar <span class="token operator">-</span>zxvf <span class="token variable">$file</span> <span class="token operator">-</span>C <span class="token operator">/</span>opt  <span class="token comment">#gz文件类型的标志是z</span>
<span class="token punctuation">;</span><span class="token punctuation">;</span>

<span class="token operator">*</span><span class="token punctuation">)</span>
<span class="token function">echo</span> <span class="token string">"文件格式有误，请重新输入文件"</span>

esac

</code></pre> 
<h2><a id="4_6_165"></a>4 编写能够自动生成一个6位随机密码的脚本</h2> 
<p><img src="https://images2.imgbox.com/94/a4/dnOW2YPM_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@clr /opt/mywork]</span><span class="token comment"># vim 1.sh</span>

<span class="token comment">#!/bin/bash</span>
<span class="token comment">#编写能够自动生成一个6位随机密码的脚本</span>
str=<span class="token string">'1234567890'</span>
<span class="token comment">#passwd=00  #切记此处绝不可将passwd变量赋值为0，该&gt;代码中是实现字符串的拼接，而不是数字的累加</span>
<span class="token keyword">for</span> i in <span class="token punctuation">{<!-- --></span>1<span class="token punctuation">.</span><span class="token punctuation">.</span>6<span class="token punctuation">}</span>
<span class="token keyword">do</span>
  a=$<span class="token punctuation">[</span>RANDOM <span class="token operator">%</span> $<span class="token punctuation">{<!-- --></span><span class="token comment">#str}] #${#str}计算出字符串str的长</span>
度，a用于获得0-9之间的任意随机数字
  tmp=$<span class="token punctuation">{<!-- --></span>str:a:1<span class="token punctuation">}</span> <span class="token comment">#tmp根据任意数字a，从str字符串中获</span>
得a下标及之后的一个字段
  passwd+=<span class="token variable">$tmp</span>  <span class="token comment">#passwd=$($passwd+$tmp)将每次从str&gt;字符串中的任意字段，进行累计拼接</span>

done
<span class="token function">echo</span> <span class="token string">"生成的6位随机密码为：<span class="token variable">$passwd</span>"</span>
</code></pre> 
<h2><a id="5_19216880024ipipoptmyworkiptxt_192"></a>5 输出192.168.80.0/24网段内在线主机的ip地址，统计不在线主机的台数，并把不在线主机的ip地址和不在线时的时间保存到/opt/mywork/ip.txt文件里</h2> 
<p><img src="https://images2.imgbox.com/4d/0e/ClocJOe1_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@clr /opt/mywork]</span><span class="token comment"># vim 4.sh</span>

<span class="token comment">#!/bin/bash</span>
ip=192<span class="token punctuation">.</span>168<span class="token punctuation">.</span>80<span class="token punctuation">.</span>
j=0
<span class="token keyword">for</span> i in <span class="token punctuation">{<!-- --></span>1<span class="token punctuation">.</span><span class="token punctuation">.</span>5<span class="token punctuation">}</span>
<span class="token keyword">do</span>
<span class="token comment">#{<!-- --></span>
  ping <span class="token operator">-</span>c 3 <span class="token operator">-</span>w 2 <span class="token variable">$ip</span><span class="token variable">$i</span> &amp;&gt; <span class="token operator">/</span>dev/null
  <span class="token keyword">if</span> <span class="token punctuation">[</span> $? <span class="token operator">-eq</span> 0 <span class="token punctuation">]</span><span class="token punctuation">;</span>then
    <span class="token function">echo</span> <span class="token string">"在线的主机有：<span class="token variable">$ip</span><span class="token variable">$i</span>"</span>
  <span class="token keyword">else</span>
    let j+<span class="token operator">+</span>
    <span class="token function">echo</span> <span class="token variable">$ip</span><span class="token variable">$i</span> &gt;&gt; <span class="token operator">/</span>opt/mywork/ip<span class="token punctuation">.</span>txt
    date &gt;&gt; <span class="token operator">/</span>opt/mywork/ip<span class="token punctuation">.</span>txt   <span class="token comment">#记录不在线主机的&gt;时间</span>
  fi
<span class="token comment">#  echo "不在线的主机台数有$j"</span>
<span class="token comment"># }&amp;</span>
done
<span class="token comment">#wait  #该命令起到的效果是，等到并发执行结束后，才&gt;会执行后面的命令</span>
<span class="token function">echo</span> <span class="token string">"不在线的主机台数有<span class="token variable">$j</span>"</span>
</code></pre> 
<p><font color="gree"><strong>知识点拓展：并发执行时，自增变量会失效；</strong><br> <img src="https://images2.imgbox.com/1b/6d/7SqBdCdH_o.png" alt="在这里插入图片描述"></font></p> 
<h2><a id="6_100_225"></a>6 编写能够按照每100行分割文件的脚本</h2> 
<p><img src="https://images2.imgbox.com/96/c6/P8qfQbhx_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@clr /opt/mywork]</span><span class="token comment"># vim 2.sh</span>

<span class="token comment">#!/bin/bash</span>
<span class="token comment">#编写能够按照每100行分割文件的脚本</span>

<span class="token comment">#定义记录行数的变量</span>
a=0
<span class="token comment">#定义分割的文件序号标识</span>
b=1

IFS_OLD=<span class="token variable">$IFS</span>       <span class="token comment">#先备份保存环境变量</span>
IFS=$<span class="token string">'\n'</span>    <span class="token comment">#在当前for循环中修改环境变量为以换行符进行分割</span>
read <span class="token operator">-</span>p <span class="token string">"请输入您需要分割的文件（该文件的绝对路径）："</span> file
<span class="token keyword">for</span> i in $<span class="token punctuation">(</span><span class="token function">cat</span> <span class="token variable">$file</span><span class="token punctuation">)</span>
<span class="token comment">#for i in $(cat passwd)</span>
<span class="token keyword">do</span>
 let a+<span class="token operator">+</span>

 c=$<span class="token namespace">[a % 100]</span>
 <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$c</span> <span class="token operator">-eq</span> 0 <span class="token punctuation">]</span><span class="token punctuation">;</span>then
  <span class="token function">echo</span> <span class="token variable">$i</span> &gt;&gt; wc-<span class="token variable">$b</span>
  let b+<span class="token operator">+</span>
 <span class="token keyword">else</span>
  <span class="token function">echo</span> <span class="token variable">$i</span> &gt;&gt; wc-<span class="token variable">$b</span>
 fi
done

IFS=<span class="token variable">$IFS_OLD</span>    <span class="token comment">#运行完for循环条件后，再次将环境变量保存为原来</span>
的值，防止影响后续的<span class="token keyword">for</span>循环操作                                                                                                
</code></pre> 
<h2><a id="7_IP_255255255255___11111111111111111111111111111111_264"></a>7 将一个点分十进制格式的IP地址转换成点分二进制格式，比如 255.255.255.255 ——&gt; 11111111.11111111.11111111.11111111</h2> 
<p><font color="gree"><strong>方法一：多方位控制输出二进制；</strong><br> <img src="https://images2.imgbox.com/0c/ae/nKDfX1CC_o.png" alt="在这里插入图片描述"><br> ·</font></p> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@clr /opt/mywork]</span><span class="token comment"># vim 3.sh</span>

<span class="token comment">#!/bin/bash</span>
<span class="token comment">#使用循环语句将一个 0到255 之间的十进制数转换成8位数二进制数（余数倒排法）</span>

read <span class="token operator">-</span>p <span class="token string">"请输入一个十进制的IP地址："</span> num
num1=$<span class="token punctuation">(</span><span class="token function">echo</span> <span class="token variable">$num</span> <span class="token punctuation">|</span> awk <span class="token operator">-</span>F<span class="token punctuation">.</span> <span class="token string">'{print $1}'</span><span class="token punctuation">)</span>
num2=$<span class="token punctuation">(</span><span class="token function">echo</span> <span class="token variable">$num</span> <span class="token punctuation">|</span> awk <span class="token operator">-</span>F<span class="token punctuation">.</span> <span class="token string">'{print $2}'</span><span class="token punctuation">)</span>
num3=$<span class="token punctuation">(</span><span class="token function">echo</span> <span class="token variable">$num</span> <span class="token punctuation">|</span> awk <span class="token operator">-</span>F<span class="token punctuation">.</span> <span class="token string">'{print $3}'</span><span class="token punctuation">)</span>
num4=$<span class="token punctuation">(</span><span class="token function">echo</span> <span class="token variable">$num</span> <span class="token punctuation">|</span> awk <span class="token operator">-</span>F<span class="token punctuation">.</span> <span class="token string">'{print $4}'</span><span class="token punctuation">)</span>

 <span class="token keyword">if</span> <span class="token punctuation">[</span> $<span class="token punctuation">{<!-- --></span>num1<span class="token punctuation">}</span> <span class="token operator">-ge</span> 0 <span class="token punctuation">]</span> &amp;&amp; <span class="token punctuation">[</span> $<span class="token punctuation">{<!-- --></span>num1<span class="token punctuation">}</span> <span class="token operator">-le</span> 255 <span class="token punctuation">]</span><span class="token punctuation">;</span> then
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>i=1<span class="token punctuation">;</span> i&lt;=8<span class="token punctuation">;</span> i+<span class="token operator">+</span><span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment">#由于十进制数在0到255之间，可得对应的二进制数最多为8位，循环八次</span>
    <span class="token keyword">do</span>
        yu1=<span class="token string">"$[ <span class="token variable">$num1</span> %2 ]<span class="token variable">$yu1</span>"</span>     <span class="token comment">#将$num取余数并赋予$num1, 后面跟一个$num1表示$num1之前的反向输出</span>
        num1=$<span class="token punctuation">[</span> <span class="token variable">$num1</span> <span class="token operator">/</span>2 <span class="token punctuation">]</span>  <span class="token comment">#迭代更新num作为被除数的值</span>
    done
 <span class="token keyword">else</span>
   <span class="token function">echo</span> <span class="token string">"<span class="token variable">$num1</span>输入错误！"</span>
 fi

 <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$num2</span> <span class="token operator">-ge</span> 0 <span class="token punctuation">]</span> &amp;&amp; <span class="token punctuation">[</span> <span class="token variable">$num2</span> <span class="token operator">-le</span> 255 <span class="token punctuation">]</span><span class="token punctuation">;</span> then
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>i=1<span class="token punctuation">;</span> i&lt;=8<span class="token punctuation">;</span> i+<span class="token operator">+</span><span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment">#由于十进制数在0到255之间，可得对应的二进制数最多为8位，循环八次</span>
    <span class="token keyword">do</span>
        yu2=<span class="token string">"$[ <span class="token variable">$num2</span> %2 ]<span class="token variable">$yu2</span>"</span>     <span class="token comment">#将$num取余数并赋予$num1, 后面跟一个$num1表示$num1之前的反向输出</span>
        num2=$<span class="token punctuation">[</span> <span class="token variable">$num2</span> <span class="token operator">/</span>2 <span class="token punctuation">]</span>  <span class="token comment">#迭代更新num作为被除数的值</span>
    done
 <span class="token keyword">else</span>
   <span class="token function">echo</span> <span class="token string">"<span class="token variable">$num2</span>输入错误！"</span>
 fi

 <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$num3</span> <span class="token operator">-ge</span> 0 <span class="token punctuation">]</span> &amp;&amp; <span class="token punctuation">[</span> <span class="token variable">$num3</span> <span class="token operator">-le</span> 255 <span class="token punctuation">]</span><span class="token punctuation">;</span> then
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>i=1<span class="token punctuation">;</span> i&lt;=8<span class="token punctuation">;</span> i+<span class="token operator">+</span><span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment">#由于十进制数在0到255之间，可得对应的二进制数最多为8位，循环八次</span>
    <span class="token keyword">do</span>
        yu3=<span class="token string">"$[ <span class="token variable">$num3</span> %2 ]<span class="token variable">$yu3</span>"</span>     <span class="token comment">#将$num取余数并赋予$num1, 后面跟一个$num1表示$num1之前的反向输出</span>
        num3=$<span class="token punctuation">[</span> <span class="token variable">$num3</span> <span class="token operator">/</span>2 <span class="token punctuation">]</span>  <span class="token comment">#迭代更新num作为被除数的值</span>
    done
 <span class="token keyword">else</span>
   <span class="token function">echo</span> <span class="token string">"<span class="token variable">$num3</span>输入错误！"</span>
 fi

 <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$num4</span> <span class="token operator">-ge</span> 0 <span class="token punctuation">]</span> &amp;&amp; <span class="token punctuation">[</span> <span class="token variable">$num4</span> <span class="token operator">-le</span> 255 <span class="token punctuation">]</span><span class="token punctuation">;</span> then
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>i=1<span class="token punctuation">;</span> i&lt;=8<span class="token punctuation">;</span> i+<span class="token operator">+</span><span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment">#由于十进制数在0到255之间，可得对应的二进制数最多为8位，循环八次</span>
    <span class="token keyword">do</span>
        yu4=<span class="token string">"$[ <span class="token variable">$num4</span> %2 ]<span class="token variable">$yu4</span>"</span>     <span class="token comment">#将$num取余数并赋予$num1, 后面跟一个$num1表示$num1之前的反向输出</span>
        num4=$<span class="token punctuation">[</span> <span class="token variable">$num4</span> <span class="token operator">/</span>2 <span class="token punctuation">]</span>  <span class="token comment">#迭代更新num作为被除数的值</span>
    done
 <span class="token keyword">else</span>
   <span class="token function">echo</span> <span class="token string">"<span class="token variable">$num4</span>输入错误！"</span>
 fi

<span class="token function">echo</span> <span class="token string">"十进制数${num}转换二进制为： <span class="token variable">$yu1</span>.<span class="token variable">$yu2</span>.<span class="token variable">$yu3</span>.<span class="token variable">$yu4</span>"</span>
</code></pre> 
<p><font color="gree"><strong>方法二：使用余数倒排法递归调用函数输出二进制；</strong><br> <img src="https://images2.imgbox.com/ea/b5/vPuzog2U_o.png" alt="在这里插入图片描述"></font></p> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@clr /opt/mywork]</span><span class="token comment"># vim 7.sh</span>

<span class="token comment">#将一个点分十进制格式的IP地址转换成点分二进制格式</span>
<span class="token comment">#比如 255.255.255.255   --&gt;  11111111.11111111.11111111.11111111</span>

<span class="token comment">#定义一个用于十进制转换为二进制的函数</span>
switch_bin<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    NUM=<span class="token variable">$1</span>
    <span class="token keyword">for</span> i in <span class="token punctuation">{<!-- --></span>1<span class="token punctuation">.</span><span class="token punctuation">.</span>8<span class="token punctuation">}</span>
    <span class="token keyword">do</span>
        SUM=$<span class="token namespace">[NUM % 2]</span><span class="token variable">$SUM</span>
        let NUM/=2
    done
    <span class="token function">echo</span> <span class="token variable">$SUM</span>
<span class="token punctuation">}</span>

<span class="token comment">#定义一个用于分割IP的函数</span>
SPT<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    IP=<span class="token variable">$1</span>
    <span class="token keyword">for</span> i in <span class="token punctuation">{<!-- --></span>1<span class="token punctuation">.</span><span class="token punctuation">.</span>4<span class="token punctuation">}</span>
    <span class="token keyword">do</span>
        num=$<span class="token punctuation">{<!-- --></span>IP%<span class="token operator">%</span><span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">}</span>       
        IP=$<span class="token punctuation">{<!-- --></span>IP<span class="token comment">#*.}      </span>
        BIN=$<span class="token punctuation">(</span>switch_bin num<span class="token punctuation">)</span>  
        <span class="token function">echo</span> <span class="token operator">-</span>n <span class="token variable">$BIN</span><span class="token punctuation">.</span>
    done

<span class="token punctuation">}</span>


<span class="token comment">#####main#####</span>
read <span class="token operator">-</span>p <span class="token string">"请输入一个合法IP："</span> INIP
res=$<span class="token punctuation">(</span>SPT <span class="token variable">$INIP</span><span class="token punctuation">)</span>
<span class="token function">echo</span> $<span class="token punctuation">{<!-- --></span>res%<span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">}</span>
</code></pre> 
<p><font color="gree"><strong>方法三：余数倒排法；</strong></font></p> 
<p><img src="https://images2.imgbox.com/03/e7/SjoOHnpu_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@clr /opt/mywork]</span><span class="token comment"># vim 3.sh</span>

<span class="token comment">#!/bin/bash</span>
<span class="token comment">#使用循环语句将一个 0到255 之间的十进制数转换成8位数二进制数（余数倒排法）</span>

read <span class="token operator">-</span>p <span class="token string">"请输入一个十进制的IP地址："</span> num
num1=$<span class="token punctuation">(</span><span class="token function">echo</span> <span class="token variable">$num</span> <span class="token punctuation">|</span> awk <span class="token operator">-</span>F<span class="token punctuation">.</span> <span class="token string">'{print $1}'</span><span class="token punctuation">)</span>
num2=$<span class="token punctuation">(</span><span class="token function">echo</span> <span class="token variable">$num</span> <span class="token punctuation">|</span> awk <span class="token operator">-</span>F<span class="token punctuation">.</span> <span class="token string">'{print $2}'</span><span class="token punctuation">)</span>
num3=$<span class="token punctuation">(</span><span class="token function">echo</span> <span class="token variable">$num</span> <span class="token punctuation">|</span> awk <span class="token operator">-</span>F<span class="token punctuation">.</span> <span class="token string">'{print $3}'</span><span class="token punctuation">)</span>
num4=$<span class="token punctuation">(</span><span class="token function">echo</span> <span class="token variable">$num</span> <span class="token punctuation">|</span> awk <span class="token operator">-</span>F<span class="token punctuation">.</span> <span class="token string">'{print $4}'</span><span class="token punctuation">)</span>

<span class="token keyword">for</span> i in <span class="token punctuation">{<!-- --></span>1<span class="token punctuation">.</span><span class="token punctuation">.</span>8<span class="token punctuation">}</span> <span class="token comment">#循环执行8次，确保将0-255范围内的十进制数转换为相应的八位二进制数</span>
<span class="token keyword">do</span>
  a1=$<span class="token punctuation">[</span> num1 <span class="token operator">%</span>2 <span class="token punctuation">]</span><span class="token variable">$a1</span>   <span class="token comment">#将IP地址中第一字段转换为二进制</span>
  let num1=$<span class="token namespace">[num1 /2]</span>

  a2=$<span class="token punctuation">[</span> num2 <span class="token operator">%</span>2 <span class="token punctuation">]</span><span class="token variable">$a2</span>    <span class="token comment">#将IP地址中第二字段转换为二进制 </span>
  let num2=$<span class="token namespace">[num2 /2]</span>

  a3=$<span class="token punctuation">[</span> num3 <span class="token operator">%</span>2 <span class="token punctuation">]</span><span class="token variable">$a3</span>  <span class="token comment">#将IP地址中第三字段转换为二进制</span>
  let num3=$<span class="token namespace">[num3 /2]</span>

  a4=$<span class="token punctuation">[</span> num4 <span class="token operator">%</span>2 <span class="token punctuation">]</span><span class="token variable">$a4</span>   <span class="token comment">#将IP地址中第四字段转换为二进制</span>
  let num4=$<span class="token namespace">[num4 /2]</span>
done
<span class="token function">echo</span> <span class="token string">"十进制的IP地址<span class="token variable">$num</span>转换为二进制数为：${a1}.${a2}.${a3}.${a4}"</span>
</code></pre> 
<p><font color="gree"><strong>方法四：减数正排法；</strong><br> <img src="https://images2.imgbox.com/aa/cc/QRxxgVU1_o.png" alt="在这里插入图片描述"></font></p> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@clr /opt/mywork]</span><span class="token comment"># vim 3.sh</span>

<span class="token comment">#!/bin/bash</span>
<span class="token comment">#减数正排法</span>
read <span class="token operator">-</span>p <span class="token string">"请输入十进制的IP地址（0-255）："</span> ip
b=0
IFSB=<span class="token variable">$IFS</span>
IFS=<span class="token variable">$IFS</span><span class="token string">'.'</span>  <span class="token comment">#修改for循环默认的分隔符，将.分隔符添加到IFS环境变量中</span>
<span class="token keyword">for</span> a in  $<span class="token punctuation">(</span><span class="token function">echo</span> <span class="token variable">$ip</span><span class="token punctuation">)</span>  <span class="token comment">#IP字段以点分割为4段</span>
<span class="token keyword">do</span>
  <span class="token keyword">for</span> i in <span class="token punctuation">{<!-- --></span>128<span class="token punctuation">,</span>64<span class="token punctuation">,</span>32<span class="token punctuation">,</span>16<span class="token punctuation">,</span>8<span class="token punctuation">,</span>4<span class="token punctuation">,</span>2<span class="token punctuation">,</span>1<span class="token punctuation">}</span>
  <span class="token keyword">do</span>
    NUM=$<span class="token punctuation">[</span><span class="token variable">$a</span> <span class="token operator">-</span> <span class="token variable">$i</span><span class="token punctuation">]</span>
    <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$NUM</span> <span class="token operator">-lt</span> 0 <span class="token punctuation">]</span><span class="token punctuation">;</span>then
      <span class="token function">echo</span> <span class="token operator">-</span>n <span class="token string">"0"</span>    <span class="token comment">#被减数不够减的情况，不换行输出0</span>
    <span class="token keyword">else</span>
      <span class="token function">echo</span> <span class="token operator">-</span>n <span class="token string">"1"</span>
      a=<span class="token variable">$NUM</span>    <span class="token comment">#被减数够减的情况，不换行输出1</span>
    fi
done

let b+=1
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$b</span> <span class="token operator">-lt</span> 4 <span class="token punctuation">]</span><span class="token punctuation">;</span>then   <span class="token comment">#此处控制输出三个点</span>
  <span class="token function">echo</span> <span class="token operator">-</span>n <span class="token string">"."</span>
fi
done
<span class="token function">echo</span>   <span class="token comment">#此处控制输出空格，换行</span>
</code></pre> 
<h2><a id="8___0255_8_428"></a>8 使用循环语句将一个 0到255 之间的十进制数转换成8位数二进制数</h2> 
<p><img src="https://images2.imgbox.com/13/73/ZMKLBEmP_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@clr /opt/mywork/demo]</span><span class="token comment"># vim 7.sh</span>

<span class="token comment">#!/bin/bash</span>
<span class="token comment">#使用循环语句将一个 0到255 之间的十进制数转换成8位数二进制数（余数倒排法）</span>

read <span class="token operator">-</span>p <span class="token string">"请输入一个十进制整数："</span> num
a=<span class="token variable">$num</span>   <span class="token comment">#用于记录原始十进制最初的值</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$num</span> <span class="token operator">-ge</span> 0 <span class="token punctuation">]</span> &amp;&amp; <span class="token punctuation">[</span> <span class="token variable">$num</span> <span class="token operator">-le</span> 255 <span class="token punctuation">]</span>
then
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>i=1<span class="token punctuation">;</span> i&lt;=8<span class="token punctuation">;</span> i+<span class="token operator">+</span><span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment">#由于十进制数在0到255之间，可得对应的二进制数最&gt;多为8位，循环八次</span>
    <span class="token keyword">do</span>
        yu=<span class="token string">"$[ <span class="token variable">$num</span> %2 ]<span class="token variable">$yu</span>"</span>  <span class="token comment">#将$num取余数并赋予$num1, 后面跟一个$num1表示$num1之前的反向输出</span>
        num=$<span class="token punctuation">[</span> <span class="token variable">$num</span> <span class="token operator">/</span>2 <span class="token punctuation">]</span>  <span class="token comment">#迭代更新num作为被除数的值</span>
    done
  <span class="token function">echo</span> <span class="token string">"十进制数<span class="token variable">$a</span> 转二进制为： <span class="token variable">$yu</span>"</span>
<span class="token keyword">else</span>
  <span class="token function">echo</span> <span class="token string">"输入错误！"</span>
fi
</code></pre> 
<h2><a id="9_1234563_453"></a>9 用户输入密码，脚本判断密码是否正确，正确密码为123456，输入正确提示正确信息，连续输错3次则报警</h2> 
<p><img src="https://images2.imgbox.com/fe/4d/l0fpU5Uz_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@clr /opt/mywork/demo]</span><span class="token comment"># vim 6.sh</span>

<span class="token comment">#!/bin/bash</span>
<span class="token comment">#用户输入密码，脚本判断密码是否正确，正确密码为123456，输入正确提示正确信息，连续</span>
输错3次则报警
password=123456
i=0

<span class="token keyword">while</span> true
<span class="token keyword">do</span>
  read <span class="token operator">-</span>p <span class="token string">"请用户输入密码:"</span> input
  <span class="token keyword">if</span> <span class="token punctuation">[</span>  <span class="token variable">$password</span> == <span class="token variable">$input</span>  <span class="token punctuation">]</span><span class="token punctuation">;</span>then
    <span class="token function">echo</span> <span class="token string">"密码输入正确"</span>
    <span class="token keyword">break</span>
  elif <span class="token punctuation">[</span> <span class="token variable">$i</span> <span class="token operator">-lt</span> 2 <span class="token punctuation">]</span><span class="token punctuation">;</span>then    <span class="token comment">#i符合取值的范围为01（先输入密码，后进行判断）</span>
    let i+=1
    <span class="token function">echo</span> <span class="token string">"密码第${i}次错误,请重新输入"</span>
    <span class="token keyword">continue</span>      <span class="token comment">#终止本次循环，不再继续执行下面的代码</span>
  <span class="token keyword">else</span>
    <span class="token function">echo</span> <span class="token operator">-</span>e <span class="token string">"错误已超过三次\a"</span>  <span class="token comment">#\a发出警告声</span>
    <span class="token keyword">exit</span> 2     <span class="token comment">#连续三次错误输错密码，退出当前环境，并设置错误退出的状态码为2</span>
  fi
done
</code></pre> 
<h2><a id="10_1100_482"></a>10 求从1到100所有整数的偶数和、奇数和</h2> 
<p><img src="https://images2.imgbox.com/77/b7/izTCuYmo_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@clr /opt/mywork/demo]</span><span class="token comment"># vim 3.sh</span>

<span class="token comment">#!/bin/bash</span>
<span class="token comment"># 求从1到100所有整数的偶数和、奇数和</span>
sum_ou=0
sum_ji=0
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>i=1<span class="token punctuation">;</span>i&lt;=100<span class="token punctuation">;</span>i+<span class="token operator">+</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">do</span>
  <span class="token keyword">if</span> <span class="token punctuation">[</span> $<span class="token punctuation">[</span> <span class="token variable">$i</span> <span class="token operator">%</span> 2 <span class="token punctuation">]</span> <span class="token operator">-eq</span> 0 <span class="token punctuation">]</span> <span class="token punctuation">;</span>then  <span class="token comment">#$[ $i % 2 ]=0时，此时i是偶数，不等于0时，此时i是奇数</span>
    let sum_ou+=<span class="token variable">$i</span>
  <span class="token keyword">else</span>
    let sum_ji+=<span class="token variable">$i</span>
  fi
done
<span class="token function">echo</span> <span class="token string">"从1到100所有整数的偶数和为：<span class="token variable">$sum_ou</span>"</span>
<span class="token function">echo</span> <span class="token string">"从1到100所有整数的奇数和为：<span class="token variable">$sum_ji</span>"</span>
</code></pre> 
<h2><a id="11_1001_505"></a>11 提示用户输入一个小于100的整数，并计算从1到该数之间所有整数的和</h2> 
<p><img src="https://images2.imgbox.com/4e/9e/J3jNfZGI_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@clr /opt/mywork/demo]</span><span class="token comment"># vim 2.sh</span>

<span class="token comment">#!/bin/bash</span>
<span class="token comment">#提示用户输入一个小于100的整数，并计算从1到该数之间所有整数的和</span>

read <span class="token operator">-</span>p <span class="token string">"请您输入一个小于100的整数："</span> num
sum=0
i=1
<span class="token keyword">until</span> <span class="token punctuation">[</span> <span class="token variable">$i</span> <span class="token operator">-gt</span> <span class="token variable">$num</span> <span class="token punctuation">]</span>  <span class="token comment">#设置条件：当i大于num时，循环停止</span>
<span class="token keyword">do</span>
 <span class="token comment"># if [ $i -le $num ];then</span>
        let sum+=<span class="token variable">$i</span>  <span class="token comment">#符合条件的最后一个i一定等于num</span>
        let i+<span class="token operator">+</span>
 <span class="token comment"># else</span>
 <span class="token comment">#   echo "从1到您输入整数之间的和为：$sum"</span>
<span class="token comment">#  fi</span>
done
<span class="token function">echo</span> <span class="token string">"从1到您输入整数之间的和为：<span class="token variable">$sum</span>"</span>
</code></pre> 
<h2><a id="12_1100_529"></a>12 计算从1到100所有整数的和</h2> 
<p><img src="https://images2.imgbox.com/87/98/UO9lVyYp_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@clr /opt/mywork/demo]</span><span class="token comment"># vim 1.sh</span>

<span class="token comment">#!/bin/bash</span>

<span class="token comment">#计算从1到100所有整数的和</span>
sum=0
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>i=1<span class="token punctuation">;</span>i&lt;=100<span class="token punctuation">;</span>i+<span class="token operator">+</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">do</span>
        let sum+=i
done
<span class="token function">echo</span> <span class="token string">"1到100所有整数的和为：<span class="token variable">$sum</span>"</span>
</code></pre> 
<h2><a id="13_if__547"></a>13 提示用户输入内容，使用if 语句判断输入的内容是否为整数</h2> 
<p><img src="https://images2.imgbox.com/c6/93/uoxgLppN_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@clr /opt/mywork/demo]</span><span class="token comment"># vim 9.sh</span>

<span class="token comment">#!/bin/bash</span>
<span class="token comment">#if 语句判断输入的内容是否为整数。</span>
read <span class="token operator">-</span>p <span class="token string">"请输入一个数字："</span> num     <span class="token comment">#只能进行整数运算，来&gt;判断输入的数字是否是整数</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$num</span> <span class="token operator">-eq</span> <span class="token variable">$num</span> <span class="token punctuation">]</span> &amp;&gt; <span class="token operator">/</span>dev/null<span class="token punctuation">;</span>then  <span class="token comment">#-eq只能用于整数&gt;之间的运算</span>
  <span class="token function">echo</span> <span class="token string">"你输入的是整数"</span>
<span class="token keyword">else</span>
  <span class="token function">echo</span> <span class="token string">"你输入的不是整数"</span>
fi                       
</code></pre> 
<h2><a id="14_if__562"></a>14 提示用户输入内容，使用if 语句判断输入的内容是否为整数,并判断输入的内容是奇数还是偶数</h2> 
<p><img src="https://images2.imgbox.com/38/cd/xNbyc1t3_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@clr /opt/mywork/demo]</span><span class="token comment"># vim 10.sh</span>

<span class="token comment">#!/bin/bash</span>
<span class="token comment">#判断输入的内容是奇数还是偶数</span>
read <span class="token operator">-</span>p <span class="token string">"请输入一个数字："</span> num
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$num</span> <span class="token operator">-eq</span> <span class="token variable">$num</span> <span class="token punctuation">]</span> &amp;&gt; <span class="token operator">/</span>dev/null<span class="token punctuation">;</span>then
  <span class="token function">echo</span> <span class="token string">"你输入的是整数"</span>
    <span class="token keyword">if</span> <span class="token punctuation">[</span> $<span class="token punctuation">[</span> <span class="token variable">$num</span> <span class="token operator">%</span> 2 <span class="token punctuation">]</span> <span class="token operator">-eq</span> 0 <span class="token punctuation">]</span><span class="token punctuation">;</span>then
      <span class="token function">echo</span> <span class="token string">"你输入的是偶数"</span>
    <span class="token keyword">else</span>
      <span class="token function">echo</span> <span class="token string">"你输入的是奇数"</span>
    fi
<span class="token keyword">else</span>
  <span class="token function">echo</span> <span class="token string">"你输入的不是整数"</span>
fi
</code></pre> 
<h2><a id="15_caseetcinitdfirewalld_582"></a>15 用case语句在/etc/init.d/目录中写一个firewalld脚本，并加入到系统服务管理中</h2> 
<p>使能够使用 service firewalld start|stop|restart|status 来管理firewalld服务，<br> 要求如果命令选项不对，则提示 “用法: $0 {start|stop|status|restart}”</p> 
<p><img src="https://images2.imgbox.com/57/8d/UDMxfo6f_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@clr /opt/mywork/demo]</span><span class="token comment"># vim firewalld.sh </span>

case <span class="token variable">$1</span> in
<span class="token function">start</span><span class="token punctuation">)</span>
        <span class="token function">echo</span> <span class="token operator">-</span>n <span class="token string">"正在启动 firewalld 服务 ... "</span>
        systemctl <span class="token function">start</span> firewalld<span class="token punctuation">.</span>service
        <span class="token function">echo</span> <span class="token string">"OK"</span>
<span class="token punctuation">;</span><span class="token punctuation">;</span>
stop<span class="token punctuation">)</span>
        <span class="token function">echo</span> <span class="token operator">-</span>n <span class="token string">"正在停止 firewalld 服务 ... "</span>
        pkill <span class="token string">"firewalld"</span> &amp;&gt; <span class="token operator">/</span>dev/null
        <span class="token function">echo</span> <span class="token string">"OK"</span>
<span class="token punctuation">;</span><span class="token punctuation">;</span>
restart<span class="token punctuation">)</span>
        <span class="token function">echo</span> <span class="token operator">-</span>n <span class="token string">"正在重启 firewalld 服务 ..."</span>
        systemctl restart firewalld
        <span class="token function">echo</span> <span class="token string">"OK"</span>
<span class="token punctuation">;</span><span class="token punctuation">;</span>
status<span class="token punctuation">)</span>
        <span class="token keyword">if</span> pgrep <span class="token string">"firewalld"</span> &amp;&gt;<span class="token operator">/</span>dev/null <span class="token punctuation">;</span> then  <span class="token comment">#pgrep是</span>
通过程序的名字来查询进程的工具，一般是用来判断程序是否正&gt;在运行。在服务器的配置和管理中，这个工具常被应用，简单明&gt;了。
        <span class="token function">echo</span> <span class="token string">"firewalld 服务已经启动."</span>
        <span class="token keyword">else</span>
        <span class="token function">echo</span> <span class="token string">"firewalld 服务已经停止."</span>
        fi
<span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token operator">*</span> <span class="token punctuation">)</span>
        <span class="token function">echo</span> <span class="token string">"用法: <span class="token variable">$0</span> {start|stop|status|restart}"</span>

esac

</code></pre>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/bc8253ae0f674f8fa77c0d71f2fca749/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">ubuntu20.04安装NVIDIA驱动</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/84599fa1a009ed69bfc3c582ac614d7a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">基于 python消消乐小游戏</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>