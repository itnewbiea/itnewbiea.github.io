<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>C语言中函数参数的省略号 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="C语言中函数参数的省略号" />
<meta property="og:description" content="C&#43;&#43;允许定义形参个数和类型不确定的函数。例如，C语言中的标准函数printf便使用这种机制。在声明不确定形参的函数时，形参部分可以使用省略号“…”代替。“…”告诉编译器，在函数调用时不检查形参类型是否与实参类型相同，也不检查参数个数。 例如： void ConnectData(int i,...) 在上面的代码中，编译器只检查第一个参数是否为整型，而不对其他参数进行检查。 对于可变参数的函数，需要进行特殊的处理。首先需要引用 &lt;stdarg.h&gt; 头文件，然后利用va_list类型和va_start、va_arg、va_end 3个宏读取传递到函数中的参数值。 这几个宏的定义如下（在 ANSI C 中）： type va_arg( va_list arg_ptr, type ); void va_end( va_list arg_ptr ); void va_start( va_list arg_ptr, prev_param ); 说明如下： va_start sets arg_ptr to the first optional argument in the list of arguments passed to the function. The argument arg_ptr must have va_list type. The argument prev_param is the name of the required parameter immediately preceding the first optional argument in the argument list." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/3cda392498bbdd4cb06f57885d7e99a9/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2015-10-12T17:52:14+08:00" />
<meta property="article:modified_time" content="2015-10-12T17:52:14+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">C语言中函数参数的省略号</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <span style="font-size:14px; color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; line-height:28px">C++允许定义形参个数和类型不确定的函数。例如，C语言中的标准函数printf便使用这种机制。在声明不确定形参的函数时，形参部分可以使用省略号“…”代替。“…”告诉编译器，在函数调用时不检查形参类型是否与实参类型相同，也不检查参数个数。</span> 
<br style="font-size:14px; padding:0px; margin:0px; color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; line-height:28px"> 
<br style="font-size:14px; padding:0px; margin:0px; color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; line-height:28px"> 
<span style="font-size:14px; color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; line-height:28px">例如：</span> 
<br style="font-size:14px; padding:0px; margin:0px; color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; line-height:28px"> 
<br style="font-size:14px; padding:0px; margin:0px; color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; line-height:28px"> 
<span style="font-size:14px; color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; line-height:28px">void ConnectData(int i,...)</span> 
<br style="font-size:14px; padding:0px; margin:0px; color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; line-height:28px"> 
<br style="font-size:14px; padding:0px; margin:0px; color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; line-height:28px"> 
<span style="font-size:14px; color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; line-height:28px">在上面的代码中，编译器只检查第一个参数是否为整型，而不对其他参数进行检查。</span> 
<br style="font-size:14px; padding:0px; margin:0px; color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; line-height:28px"> 
<br style="font-size:14px; padding:0px; margin:0px; color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; line-height:28px"> 
<span style="font-size:14px; color:rgb(255,0,0); padding:0px; margin:0px; font-family:宋体,'Arial Narrow',arial,serif; line-height:28px">对于可变参数的函数，需要进行特殊的处理。首先需要引用 &lt;stdarg.h&gt; 头文件，然后利用va_list类型和va_start、va_arg、va_end 3个宏读取传递到函数中的参数值。</span> 
<br style="font-size:14px; padding:0px; margin:0px; color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; line-height:28px"> 
<br style="font-size:14px; padding:0px; margin:0px; color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; line-height:28px"> 
<span style="font-size:14px; color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; line-height:28px">这几个宏的定义如下（在 ANSI C 中）：</span> 
<br style="font-size:14px; padding:0px; margin:0px; color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; line-height:28px"> 
<br style="font-size:14px; padding:0px; margin:0px; color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; line-height:28px"> 
<span style="font-size:14px; color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; line-height:28px">type va_arg( va_list arg_ptr, type );</span> 
<br style="font-size:14px; padding:0px; margin:0px; color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; line-height:28px"> 
<span style="font-size:14px; color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; line-height:28px">void va_end( va_list arg_ptr );</span> 
<br style="font-size:14px; padding:0px; margin:0px; color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; line-height:28px"> 
<span style="font-size:14px; color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; line-height:28px">void va_start( va_list arg_ptr, prev_param );   </span> 
<br style="font-size:14px; padding:0px; margin:0px; color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; line-height:28px"> 
<br style="font-size:14px; padding:0px; margin:0px; color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; line-height:28px"> 
<span style="font-size:14px; color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; line-height:28px">说明如下：</span> 
<br style="font-size:14px; padding:0px; margin:0px; color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; line-height:28px"> 
<span style="font-size:14px; padding:0px; margin:0px; color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; line-height:28px">va_start</span> 
<span style="font-size:14px; color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; line-height:28px"> </span> 
<br style="font-size:14px; padding:0px; margin:0px; color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; line-height:28px"> 
<span style="font-size:14px; color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; line-height:28px">sets arg_ptr to the first optional argument in the list of arguments passed to the function. The argument arg_ptr must have va_list type. The argument prev_param is the name of the required parameter immediately preceding the first optional argument in the argument list. If prev_param is declared with the register storage class, the macro’s behavior is undefined. va_start must be used before va_arg is used for the first time.</span> 
<br style="font-size:14px; padding:0px; margin:0px; color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; line-height:28px"> 
<span style="font-size:14px; color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; line-height:28px">【 va_start函数将参数arg_ptr设置为可变参数列表的第一个参数。参数arg_ptr的类型必须为va_list。参数prev_param是在可变参数列表之前的那一个参数。（</span> 
<span style="font-size:14px; color:rgb(255,0,0); padding:0px; margin:0px; font-family:宋体,'Arial Narrow',arial,serif; line-height:28px">也就是说在 ANSI C 中，如果一个函数有可变参数，那么在该可变参数前必须有一个明确定义的参数，否则无法调用函数 va_start ，例如函数 int add(int i,...）是合法的，而函数 int add(...)是不合法的。</span> 
<span style="font-size:14px; color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; line-height:28px">）】</span> 
<br style="font-size:14px; padding:0px; margin:0px; color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; line-height:28px"> 
<br style="font-size:14px; padding:0px; margin:0px; color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; line-height:28px"> 
<span style="font-size:14px; padding:0px; margin:0px; color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; line-height:28px">va_arg</span> 
<span style="font-size:14px; color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; line-height:28px"> </span> 
<br style="font-size:14px; padding:0px; margin:0px; color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; line-height:28px"> 
<span style="font-size:14px; color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; line-height:28px">retrieves a value of type from the location given by arg_ptr and increments arg_ptr to point to the next argument in the list, using the size of type to determine where the next argument starts. va_arg can be used any number of times within the function to retrieve arguments from the list.</span> 
<br style="font-size:14px; padding:0px; margin:0px; color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; line-height:28px"> 
<span style="font-size:14px; color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; line-height:28px">【 va_arg函数将返回 arg_ptr 所指位置的值，并将 arg_ptr 指向下一个参数 】</span> 
<br style="font-size:14px; padding:0px; margin:0px; color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; line-height:28px"> 
<span style="font-size:14px; padding:0px; margin:0px; color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; line-height:28px">va_end</span> 
<br style="font-size:14px; padding:0px; margin:0px; color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; line-height:28px"> 
<span style="font-size:14px; color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; line-height:28px">After all arguments have been retrieved, va_end resets the pointer to NULL. </span> 
<br style="font-size:14px; padding:0px; margin:0px; color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; line-height:28px"> 
<br style="font-size:14px; padding:0px; margin:0px; color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; line-height:28px"> 
<p><span style="font-size:14px; color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; line-height:28px">示例代码：</span></p> 
<p><span style="font-size:14px; color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; line-height:28px">#include&lt;stdarg.h&gt;<br> #include&lt;iostream&gt;<br> using namespace std;<br> <br> <br> int add(int pre,...)<br> {<!-- --><br> <span style="white-space:pre"></span>va_list arg_ptr;//需要定义一个这个类型，va_list。来遍历形参数列表<br> <span style="white-space:pre"></span>int sum=0;<br> <span style="white-space:pre"></span>int nArgValue;<br> <br> <br> <span style="white-space:pre"></span>sum+=pre;<br> <span style="white-space:pre"></span>va_start(arg_ptr,pre);//arg_ptr必须为va_list类型。pre为add可变参数的第一个形参，所以可变形参列表中，必须要有第一个形参。<br> <span style="white-space:pre"></span>do{<!-- --><br> <span style="white-space:pre"></span>nArgValue=va_arg(arg_ptr,int);//作用是 得到arg_ptr所指元素的值，如果然后将其往后挪一个，指向下一个参数。<br> <span style="white-space:pre"></span>sum+=nArgValue;<br> <span style="white-space:pre"></span>}while(nArgValue!=0);<br> <span style="white-space:pre"></span>va_end(arg_ptr);//所有的形参遍历完，将arg_ptr指针置为NULL。<br> <span style="white-space:pre"></span>return sum;<br> }<br> int main()<br> {<!-- --><br> <span style="white-space:pre"></span>int sum;<br> <span style="white-space:pre"></span>sum=add(1,2,3,0);//最后一个参数必须为0，因为add函数中需要以0来判断形参列表结束。<br> <span style="white-space:pre"></span>cout&lt;&lt;sum&lt;&lt;endl;<br> }<br> </span></p> 
<p><span style="font-size:14px; color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; line-height:28px"><span style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">附加参考贴子：</span><a target="_blank" href="http://bbs.csdn.net/topics/80167059" style="color:rgb(0,102,153); text-decoration:none; font-family:宋体,'Arial Narrow',arial,serif; line-height:28px" rel="noopener noreferrer">http://bbs.csdn.net/topics/80167059</a><br> </span></p> 
<p><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; background-color:rgb(245,245,245)">　typedef char *  va_list;</span><br style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; background-color:rgb(245,245,245)"> <span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; background-color:rgb(245,245,245)">　　#define _INTSIZEOF(n)   ( (sizeof(n) + sizeof(int) - 1) &amp; ~(sizeof(int) - 1) )</span></p> 
<p><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; background-color:rgb(245,245,245)">_INTSIZEOF(n)宏是为了考虑那些内存地址需要对齐的系统，从宏的名字来应该是跟sizeof(int)对齐。一般的sizeof(int)=4，也就是参数在内存中的地址都为4的倍数。比如，如果sizeof(n)在1－4之间，那么_INTSIZEOF(n)＝4；如果sizeof(n)在5－8之间，那么_INTSIZEOF(n)=8。</span></p> 
<p><span style="color:rgb(69,69,69); font-family:arial,宋体,sans-serif,tahoma,'Microsoft YaHei'; font-size:14px; line-height:24px">~是位取反的意思。</span><br style="color:rgb(69,69,69); font-family:arial,宋体,sans-serif,tahoma,'Microsoft YaHei'; font-size:14px; line-height:24px"> <span style="color:rgb(69,69,69); font-family:arial,宋体,sans-serif,tahoma,'Microsoft YaHei'; font-size:14px; line-height:24px">_INTSIZEOF(n)整个做的事情就是将n的长度化为int长度的整数倍。</span><br style="color:rgb(69,69,69); font-family:arial,宋体,sans-serif,tahoma,'Microsoft YaHei'; font-size:14px; line-height:24px"> <span style="color:rgb(69,69,69); font-family:arial,宋体,sans-serif,tahoma,'Microsoft YaHei'; font-size:14px; line-height:24px">比如n为5，二进制就是101b，int长度为4，二进制为100b，那么n化为int长度的整数倍就应该为8。</span><br style="color:rgb(69,69,69); font-family:arial,宋体,sans-serif,tahoma,'Microsoft YaHei'; font-size:14px; line-height:24px"> <span style="color:rgb(69,69,69); font-family:arial,宋体,sans-serif,tahoma,'Microsoft YaHei'; font-size:14px; line-height:24px">~(sizeof(int) - 1) )就应该为~（4-1）=~（00000011b）=11111100b，这样任何数&amp; ~(sizeof(int) - 1) )后最后两位肯定为0，就肯定是4的整数倍了。</span><br style="color:rgb(69,69,69); font-family:arial,宋体,sans-serif,tahoma,'Microsoft YaHei'; font-size:14px; line-height:24px"> <span style="color:rgb(69,69,69); font-family:arial,宋体,sans-serif,tahoma,'Microsoft YaHei'; font-size:14px; line-height:24px">(sizeof(n) + sizeof(int) - 1）就是将大于4m但小于等于4（m+1）的数提高到大于等于4（m+1）但小于4(m+2)，这样再&amp; ~(sizeof(int) - 1) )后就正好将原长度补齐到4的倍数了。</span></p> 
<p><span style="font-family:arial,宋体,sans-serif,tahoma,Microsoft YaHei; color:#454545">数学解释：http://blog.sina.com.cn/s/blog_620508d80100f0wa.html<br style="font-size:14px; line-height:24px; background-color:rgb(245,245,245)"> </span><br style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; background-color:rgb(245,245,245)"> <span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; background-color:rgb(245,245,245)">　　#define va_start(ap,v)  ( ap = (va_list)&amp;v + _INTSIZEOF(v) )</span><br style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; background-color:rgb(245,245,245)"> //作用是，将arg_ptr指向参数列表中的下一个元素的地址。</p> 
<p><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; background-color:rgb(245,245,245)">在调用va_start后，ap指向第一个可变参数。这个宏的作用就是在v的内存地址上增加v所占的内存大小，这样就得到了第一个可变参数的地址。</span><br style="background-color:rgb(245,245,245)"> <span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; background-color:rgb(245,245,245)">　　#define va_arg(ap,t)    ( *(t *)((ap += _INTSIZEOF(t)) - _INTSIZEOF(t)) )</span></p> 
<p><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; background-color:rgb(245,245,245)">让我再来看看va_arg，它先ap指向下一个可变参数，然后减去当前可变参数的大小即得到当前可变参数的内存地址，再做个类型转换，返回它的值。</span><br style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; background-color:rgb(245,245,245)"> <span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; background-color:rgb(245,245,245)"><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; background-color:rgb(245,245,245)">举个例子说明吧</span><br style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; background-color:rgb(245,245,245)"> <span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; background-color:rgb(245,245,245)">int y=va_arg(x,int);</span><br style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; background-color:rgb(245,245,245)"> <span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; background-color:rgb(245,245,245)">宏展开成( *(int *)((x += _INTSIZEOF(int)) - _INTSIZEOF(int)) )</span><br style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; background-color:rgb(245,245,245)"> <span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; background-color:rgb(245,245,245)">此时x指向下一个参数（x = x + _INTSIZEOF(int)）</span><br style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; background-color:rgb(245,245,245)"> <span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; background-color:rgb(245,245,245)">然后x再减去_INTSIZEOF(int)得到x未改变前的地址，</span><br style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; background-color:rgb(245,245,245)"> <span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; background-color:rgb(245,245,245)">再将x所指向的int类型的值赋给y</span><br style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; background-color:rgb(245,245,245)"> <br style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; background-color:rgb(245,245,245)"> <span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; background-color:rgb(245,245,245)">也就就是说y取得x所指向的int类型的值，然后x指向下一个参数地址</span></span></p> 
<p><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; background-color:rgb(245,245,245)"><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; background-color:rgb(245,245,245)">http://bbs.csdn.net/topics/100038782<br> </span></span></p> 
<p><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; background-color:rgb(245,245,245)"></span>这里ap指向下一个元素的地址，返回的是加了再减回去的地址的值。<br style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; background-color:rgb(245,245,245)"> <span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; background-color:rgb(245,245,245)">　　#define va_end(ap)      ( ap = (va_list)0 ) </span><br> </p> 
<p><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; background-color:rgb(245,245,245)"><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; background-color:rgb(245,245,245)">最后一个宏就简单了，va_end使得ap不再指向有效的内存地址。</span><br> </span></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/6d3a97b1ae746d0faefc451be58c1e85/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Java中System的用法</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/4dc581876fb35a2d2ed0b4038689df3e/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">如何在Maven项目模块A引用子模块B的war项目的类文件?</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>