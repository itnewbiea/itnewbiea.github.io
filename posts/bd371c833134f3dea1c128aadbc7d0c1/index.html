<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>C#  常用控件 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="C#  常用控件" />
<meta property="og:description" content="1、checkBox 复选框 属性 checkBox.Checked = true;
2、RadioButton 单选框 具有两个状态: true 或 false。RadioButton 是否已选择取决于其 Checked 属性的状态。在一个板块中的单选钮，只能选中一个
3、listbox 列表框 ，列表，所以只能一行一行的加入 滚动条 添加到列表框中，listBox.Items.Add(ans);
（1）跨线程添加 AddRemind（ans）；
private void AddRemind(string value) { if (this.InvokeRequired) { AddRemindDelegate d = new AddRemindDelegate(AddRemind); this.Invoke(d, value); } else { listBox_remind.Items.Add(value); listBox_remind.SelectedIndex = listBox_remind.Items.Count - 1; listBox_remind.ClearSelected(); } } （2）在listbox中的改变一行的字体颜色 和 显示 水平滚动条时，出现的问题
改变一行的字体颜色 ，首先这个属性设置为 ，然后再加增加一个事件进行每一行的绘制
private void listBox_TestInfo_DrawItem(object sender, DrawItemEventArgs e) { if (e.Index &gt;= 0) { e.DrawBackground(); Brush mybsh = Brushes." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/bd371c833134f3dea1c128aadbc7d0c1/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-08-23T15:42:35+08:00" />
<meta property="article:modified_time" content="2019-08-23T15:42:35+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">C#  常用控件</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><strong>1、checkBox 复选框 </strong>  属性 checkBox.Checked = true;</p> 
<p><strong>2、RadioButton 单选框</strong> 具有两个状态: true 或 false。RadioButton 是否已选择取决于其 Checked 属性的状态。在一个板块中的单选钮，只能选中一个</p> 
<p><strong>3、listbox 列表框 </strong>，列表，所以只能一行一行的加入 滚动条 <img alt="" class="has" height="18" src="https://images2.imgbox.com/b0/e8/IXaWMA7x_o.png" width="285"><img alt="" class="has" height="18" src="https://images2.imgbox.com/81/3d/CgUVGNUe_o.png" width="208">添加到列表框中，listBox.Items.Add(ans);</p> 
<p>（1）跨线程添加 AddRemind（ans）；</p> 
<pre class="has"><code>  private void AddRemind(string value)
        {
            if (this.InvokeRequired)
            {
                AddRemindDelegate d = new AddRemindDelegate(AddRemind);
                this.Invoke(d, value);
            }
            else
            {
                 listBox_remind.Items.Add(value);
                 listBox_remind.SelectedIndex = listBox_remind.Items.Count - 1;
                 listBox_remind.ClearSelected();
            }
        }</code></pre> 
<p>（2）在listbox中的<strong>改变一行的字体颜色 和 显示 水平滚动条</strong>时，出现的问题</p> 
<p>改变一行的字体颜色 ，首先这个属性设置为 <img alt="" class="has" height="24" src="https://images2.imgbox.com/db/1f/RmezNpIn_o.png" width="264">，然后再加增加一个事件进行每一行的绘制</p> 
<pre class="has"><code class="language-cs">        private void listBox_TestInfo_DrawItem(object sender, DrawItemEventArgs e)
        {
            if (e.Index &gt;= 0)
            {
                e.DrawBackground();
                Brush mybsh = Brushes.Black;
                string LineStr = listBox_TestInfo.Items[e.Index].ToString();
                // 判断是什么类型的标签
                if (LineStr.Contains("Fail")&amp;&amp;LineStr.Contains("==&gt;&gt;"))
                {
                     mybsh = Brushes.Red;
                }
                // 焦点框
                e.DrawFocusRectangle();
                //文本 
                e.Graphics.DrawString(listBox_TestInfo.Items[e.Index].ToString(), e.Font, mybsh, e.Bounds, StringFormat.GenericDefault);
                //listBox_TestInfo.HorizontalExtent = 1500;
                this.listBox_TestInfo.HorizontalExtent = Math.Max(this.listBox_TestInfo.HorizontalExtent, (int)this.listBox_TestInfo.CreateGraphics().MeasureString(LineStr.Replace('\n', '\r'), this.listBox_TestInfo.Font).Width + 10);

            }
        }</code></pre> 
<p>其实在 绘制完字体颜色后，我遇到了一个问题，就是listbox中的水平滚动条的没有了，而且listbox内容也显示不全，我上网查了一些说明，原来是 listbox 这个属性的问题 HorizontalExtent （获取或设置水平滚动条的宽度），原来在绘制时，这个值发生了变化，从而导致滚动条没有出现，我们应该动态的设置这个值，就如，上面代码中最后一行的描述一样。</p> 
<p><strong>4、textBox 文本框</strong>，注意：若在里面加换行，则是“\r\n”, 多行设置<img alt="" class="has" height="20" src="https://images2.imgbox.com/bb/0c/4EG8omGf_o.png" width="206"><img alt="" class="has" height="23" src="https://images2.imgbox.com/82/e5/3w98aWVe_o.png" width="200"></p> 
<p>在其中添加内容 textBox.Text = ans;</p> 
<p><strong>5、ListView  列表视图</strong></p> 
<p> this.listView_ShowRecordInfo.Clear();         // 把列表视图中的所有都清空                                                                                       this.listView_ShowRecordInfo.Items.Clear();       //只移除所有的项（除一列一列的表头不请空，其他的都清空）。                       this.listView_ShowRecordInfo.Columns.Add("文件名", 250, HorizontalAlignment.Center);    // 添加列表头 第一列标题为"文件名",属性为 宽度为250，对齐方式为HorizontalAlignment.Center 居中</p> 
<p> this.listView_ShowRecordInfo.FullRowSelect = true;  选中一行所有子项突出来                                                                               this.listView_ShowRecordInfo.GridLines = true;     显示网格                                                                                                             this.listView_ShowRecordInfo.AllowColumnReorder = true;       // 是否拖动列表头来改变列的顺序                                                 this.listView_ShowRecordInfo.Sorting = SortOrder.Ascending;  // 按照递增顺序排序                                                                       在列表中添加一行</p> 
<pre class="has"><code class="language-cs"> ListViewItem item = new ListViewItem(record.testResultFile); // 新建一行，这一个的第一列原始为record.testResultFile
 item.SubItems.Add(record.testResult);
 item.SubItems.Add(record.dateTime);
 item.SubItems.Add(record.tester);
 item.SubItems.Add(record.version);
 item.SubItems.Add(record.type);
 item.SubItems.Add(record.qrcode);
 item.SubItems.Add(record.barcode);
 item.BackColor = record.testResult == "Pass" ? Color.Green : Color.Red; // 当前列的背景颜色
 this.listView_ShowRecordInfo.Items.Add(item);</code></pre> 
<p>遍历所有行，把该行的复选框选中；</p> 
<pre class="has"><code class="language-cpp"> foreach (ListViewItem item in listView_ShowRecordInfo.Items)
 {
      item.Checked = checkBox_CheckAll.Checked;
 }</code></pre> 
<p>当选中一行时的事件 为  ItemSelectionChanged</p> 
<p>6、<strong>时间日期控件  dateTimePicker</strong></p> 
<p>外观：  <img alt="" class="has" height="33" src="https://images2.imgbox.com/20/d2/dEBby4SM_o.png" width="219">  需要设置几个属性<img alt="" class="has" height="22" src="https://images2.imgbox.com/cb/e3/yyn6JMyf_o.png" width="289"><img alt="" class="has" height="16" src="https://images2.imgbox.com/b1/1f/qbyXuWF3_o.png" width="199">确定日期用标准格式显示用户自定义时间日期格式     获取当前日期 ：DateTime StarDateTime = DateTime.Parse(dateTimePicker_Start.Text);</p> 
<p><strong>7  tabControl  选项卡</strong></p> 
<p>（1） MaxMode = tabControl.SelectedIndex;   获取选择项的下标。</p> 
<p>（2)</p> 
<p><strong>8  comboBox 下拉框</strong></p> 
<p>（1） workModeSet = comboBox.SelectedIndex; 获取当前下拉框的下标 若0,1,2.. 第0项...。 </p> 
<p>（2）comboBox.Items.Add("意外移动");   下拉框中添加 ''意外移动" 这一项。</p> 
<p>（3）comboBox_SelPermiss.SelectedIndex = comboBox_SelPermiss.Items.IndexOf("添加用户");    默认选中“添加用户”选项</p> 
<p><strong>9  label 控件</strong></p> 
<p>（1）确认可见边框 <img alt="" class="has" height="31" src="https://images2.imgbox.com/7c/d7/V91m9LlY_o.png" width="277"></p> 
<p>（2）若想改变label控件大小 必须要把AutoSize属性改为false  <img alt="" class="has" height="23" src="https://images2.imgbox.com/c4/9d/jz3ZewKc_o.png" width="254"> </p> 
<p>（3）name 就是 label 控件的名字 text 为 label控件要显示的内容</p> 
<p>（4）<img alt="" class="has" height="28" src="https://images2.imgbox.com/3a/75/S2wYcFkm_o.png" width="299">   文本出现的位置。</p> 
<p>（5）label_result.BackColor = Color.Green;    label的背景颜色</p> 
<p><strong>10 tableLayoutPanel </strong>   先设置几行几列。处理其他组件布局 以表的形式排列。分成多个模块，每个模块中可以放入panel，每个模块还可以继续嵌套tableLayoutPanel  </p> 
<p><strong>11 treeView</strong>  以树的形式显示，树上都有节点</p> 
<p>treeView_Account.Nodes.Clear();     清空树上所有节点                                                                                                                    在树上添加节点 </p> 
<pre class="has"><code class="language-cs"> foreach (UserStruct user in Manager.Instance.Accounts.UserList)
 {
        TreeNode node = new TreeNode();
        node.Text = user.Name;  // 列表名称。
        node.Tag = user;      // 对象。
        treeView_Account.Nodes.Add(node);
 }</code></pre> 
<p>   选中节点激发事件     treeView_Account_NodeMouseClick    和 遍历 groupBox 中的 控件；</p> 
<pre class="has"><code class="language-cpp">private void treeView_Account_NodeMouseClick(object sender, TreeNodeMouseClickEventArgs e)  //单击treeview中的鼠标节点时触发的事件
        {
            UserStruct user = (UserStruct)(e.Node.Tag);   // 选中节点中的对象；
            textBox_UserName.Text = user.Name;
            string ss = UniversalTools.DESEncrypt.Instance.DES_Decrypt(user.PWD);
            textBox_Possword.Text = ss.Remove(0, user.Name.Length);

            foreach (Control c1 in this.groupBox_Permiss.Controls)
                    ((CheckBox)c1).Checked = false;

            // 把选中用户的权限也赋予到对应的checkBox中
            for (int i = 0; i &lt; user.ModuleList.Count; i++)       // 
            {
                 foreach(Control c1 in this.groupBox_Permiss.Controls)
                 {
                    if(((CheckBox)c1).Name.Remove(0,9) == user.ModuleList[i].name)
                    {
                        ((CheckBox)c1).Checked = true;
                        break;
                    }  
                 }
            } 
   
        }</code></pre> 
<p>   treeView 功能强大，一般和数据库连用   可参考：<a href="https://blog.csdn.net/imxiangzi/article/details/81200517">https://blog.csdn.net/imxiangzi/article/details/81200517</a>     </p> 
<p> <strong>12    splitContainer 控件  </strong>这个控件分割成两部分，两部分可以大小移动。</p> 
<p> <strong>13    RichTextBox  </strong>   多格式文本框，比textbox 更高级的功能。</p> 
<p>        跨线程添加，改变字体颜色 ，如下：</p> 
<pre class="has"><code class="language-cs">        private void AddTestInfo(string value,bool flag)
        {
            if (this.InvokeRequired)
            {
                AddRemindDelegate d = new AddRemindDelegate(AddTestInfo);
                this.Invoke(d, value,flag);
            }
            else
            {
                AppendTextColorful(richTextBox_TestInfo, value, flag ? Color.Black : Color.Red);
            }
        }</code></pre> 
<p>     </p> 
<pre class="has"><code class="language-cs">        private void AppendTextColorful(RichTextBox rtBox, string text, Color color, bool addNewLine = true)
        {
            if(text.Contains("\r"))
            {
                text.Trim('\r');
            }
            if (text.Contains("\n"))
            {
                text.Trim('\n');
            }
            //if (text.Trim().Length == 0) return;
            if (addNewLine)
            {
                text += Environment.NewLine;
            }
            rtBox.SelectionStart = rtBox.TextLength;
            rtBox.SelectionLength = 0;
            rtBox.SelectionColor = color;
            rtBox.AppendText(text);
            rtBox.SelectionColor = rtBox.ForeColor;
            rtBox.AppendText(Environment.NewLine);
        }</code></pre> 
<p>                                 </p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/67924e22febcdb5bb6da9e5e65d87905/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Linux初学者基本必备指令</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/5e5473cc9c95bae9a489eb075ae093fc/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">babel-plugin-import 插件的使用</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>