<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>ç”¨Pythonåˆ¶ä½œä¸€ä¸ªè‡ªåŠ¨æŠ¢ç¥¨è„šæœ¬ï¼Œå‡†ç‚¹åŸä»·ç§’æ€æ¼”å”±ä¼šé—¨ç¥¨ï¼Œæ‹’ç»é»„ç‰›äº¤æ˜“ï¼ - ITå­¦ä¹ è€…åšå®¢</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="ç”¨Pythonåˆ¶ä½œä¸€ä¸ªè‡ªåŠ¨æŠ¢ç¥¨è„šæœ¬ï¼Œå‡†ç‚¹åŸä»·ç§’æ€æ¼”å”±ä¼šé—¨ç¥¨ï¼Œæ‹’ç»é»„ç‰›äº¤æ˜“ï¼" />
<meta property="og:description" content="å‰è¨€ å¤§éº¦ç½‘ï¼Œæ˜¯ä¸­å›½ç»¼åˆç±»ç°åœºå¨±ä¹ç¥¨åŠ¡è¥é”€å¹³å°ï¼Œä¸šåŠ¡è¦†ç›–æ¼”å”±ä¼šã€ è¯å‰§ã€éŸ³ä¹å‰§ã€ä½“è‚²èµ›äº‹ç­‰é¢†åŸŸã€‚
ä½†æ˜¯å› ä¸ºç¥¨æ•°æœ‰é™ï¼Œè¿˜æœ‰é»„ç‰›ä»¬ä¸èƒ½ä¸¢äº†é¥­ç¢—ï¼Œæ‰€ä»¥å¯¼è‡´äº†ï¼Œå¾ˆå¤šäººéƒ½æŠ¢ä¸åˆ°ç¥¨ã€‚
é‚£ä¹ˆï¼Œä»Šå¤©å¸¦å¤§å®¶ç”¨Pythonæ¥åˆ¶ä½œä¸€ä¸ªè‡ªåŠ¨æŠ¢ç¥¨çš„è„šæœ¬å°ç¨‹åºï¼
çŸ¥è¯†ç‚¹ï¼š é¢å‘å¯¹è±¡ç¼–ç¨‹
selenium æ“ä½œæµè§ˆå™¨
pickle ä¿å­˜å’Œè¯»å–Cookieå®ç°å…ç™»é™†
time åšå»¶æ—¶æ“ä½œ
os åˆ›å»ºæ–‡ä»¶ï¼Œåˆ¤æ–­æ–‡ä»¶æ˜¯å¦å­˜åœ¨
å¼€å‘ç¯å¢ƒï¼š ç‰ˆ æœ¬ï¼špython3.8.8
ç¼–è¾‘å™¨ï¼špycharm
ç¬¬ä¸€æ­¥ï¼Œå®ç°å…ç™»å½• ç¡®å®šç›®æ ‡ï¼Œè®¾ç½®å…¨å±€å˜é‡ # å¤§éº¦ç½‘ä¸»é¡µ damai_url = &#34;https://www.damai.cn/&#34; # ç™»å½•é¡µ login_url = &#34;https://passport.damai.cn/login?ru=https%3A%2F%2Fwww.damai.cn%2F&#34; # æŠ¢ç¥¨ç›®æ ‡é¡µ target_url = &#39;https://detail.damai.cn/item.htm?spm=a2oeg.search_category.0.0.77f24d15RWgT4o&amp;id=654534889506&amp;clicktitle=%E5%A4%A7%E4%BC%97%E7 åˆå§‹åŒ–åŠ è½½ class Concert: def __init__(self): self.status = 0 # çŠ¶æ€,è¡¨ç¤ºå¦‚ä»Šè¿›è¡Œåˆ°ä½•ç§ç¨‹åº¦ self.login_method = 1 # {0:æ¨¡æ‹Ÿç™»å½•,1:Cookieç™»å½•}è‡ªè¡Œé€‰æ‹©ç™»å½•æ–¹å¼ self.driver = webdriver.Chrome(executable_path=&#39;chromedriver.exe&#39;) # é»˜è®¤Chromeæµè§ˆå™¨ ç™»å½•è°ƒç”¨è®¾ç½®cookie def set_cookie(self): self.driver.get(damai_url) print(&#34;###è¯·ç‚¹å‡»ç™»å½•###&#34;) while self.driver.title.find(&#39;å¤§éº¦ç½‘-å…¨çƒæ¼”å‡ºèµ›äº‹å®˜æ–¹è´­ç¥¨å¹³å°&#39;) != -1: sleep(1) print(&#39;###è¯·æ‰«ç ç™»å½•###&#39;) while self.driver.title !" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/1e023b935fac8a3c7016b67005eb1127/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-05T16:07:54+08:00" />
<meta property="article:modified_time" content="2024-01-05T16:07:54+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ITå­¦ä¹ è€…åšå®¢" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ITå­¦ä¹ è€…åšå®¢</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">ç”¨Pythonåˆ¶ä½œä¸€ä¸ªè‡ªåŠ¨æŠ¢ç¥¨è„šæœ¬ï¼Œå‡†ç‚¹åŸä»·ç§’æ€æ¼”å”±ä¼šé—¨ç¥¨ï¼Œæ‹’ç»é»„ç‰›äº¤æ˜“ï¼</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atelier-sulphurpool-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="_0"></a>å‰è¨€</h3> 
<p>å¤§éº¦ç½‘ï¼Œæ˜¯ä¸­å›½ç»¼åˆç±»ç°åœºå¨±ä¹ç¥¨åŠ¡è¥é”€å¹³å°ï¼Œä¸šåŠ¡è¦†ç›–æ¼”å”±ä¼šã€ è¯å‰§ã€éŸ³ä¹å‰§ã€ä½“è‚²èµ›äº‹ç­‰é¢†åŸŸã€‚<br> ä½†æ˜¯å› ä¸ºç¥¨æ•°æœ‰é™ï¼Œè¿˜æœ‰é»„ç‰›ä»¬ä¸èƒ½ä¸¢äº†é¥­ç¢—ï¼Œæ‰€ä»¥å¯¼è‡´äº†ï¼Œå¾ˆå¤šäººéƒ½æŠ¢ä¸åˆ°ç¥¨ã€‚<br> é‚£ä¹ˆï¼Œä»Šå¤©å¸¦å¤§å®¶ç”¨Pythonæ¥åˆ¶ä½œä¸€ä¸ªè‡ªåŠ¨æŠ¢ç¥¨çš„è„šæœ¬å°ç¨‹åºï¼</p> 
<h3><a id="_6"></a>çŸ¥è¯†ç‚¹ï¼š</h3> 
<p>é¢å‘å¯¹è±¡ç¼–ç¨‹<br> selenium æ“ä½œæµè§ˆå™¨<br> pickle ä¿å­˜å’Œè¯»å–Cookieå®ç°å…ç™»é™†<br> time åšå»¶æ—¶æ“ä½œ<br> os åˆ›å»ºæ–‡ä»¶ï¼Œåˆ¤æ–­æ–‡ä»¶æ˜¯å¦å­˜åœ¨</p> 
<h3><a id="_14"></a>å¼€å‘ç¯å¢ƒï¼š</h3> 
<p>ç‰ˆ æœ¬ï¼špython3.8.8<br> ç¼–è¾‘å™¨ï¼špycharm</p> 
<h3><a id="_19"></a>ç¬¬ä¸€æ­¥ï¼Œå®ç°å…ç™»å½•</h3> 
<h4><a id="_21"></a>ç¡®å®šç›®æ ‡ï¼Œè®¾ç½®å…¨å±€å˜é‡</h4> 
<pre><code class="prism language-css"># å¤§éº¦ç½‘ä¸»é¡µ
damai_url = <span class="token string">"https://www.damai.cn/"</span>
# ç™»å½•é¡µ
login_url = <span class="token string">"https://passport.damai.cn/login?ru=https%3A%2F%2Fwww.damai.cn%2F"</span>
# æŠ¢ç¥¨ç›®æ ‡é¡µ
target_url = '<span class="token property">https</span><span class="token punctuation">:</span>//detail.damai.cn/item.htm?spm=a2oeg.search_category.0.0.77f24d15RWgT4o&amp;id=654534889506&amp;clicktitle=%E5%A4%A7%E4%BC%97%E7
</code></pre> 
<h4><a id="_32"></a>åˆå§‹åŒ–åŠ è½½</h4> 
<pre><code class="prism language-css"><span class="token selector">class Concert:
    def __init__(self):
        self.status = 0         # çŠ¶æ€,è¡¨ç¤ºå¦‚ä»Šè¿›è¡Œåˆ°ä½•ç§ç¨‹åº¦
        self.login_method = 1   #</span> <span class="token punctuation">{<!-- --></span>0<span class="token punctuation">:</span>æ¨¡æ‹Ÿç™»å½•<span class="token punctuation">,</span>1<span class="token punctuation">:</span>Cookieç™»å½•<span class="token punctuation">}</span>è‡ªè¡Œé€‰æ‹©ç™»å½•æ–¹å¼
        self.driver = webdriver.<span class="token function">Chrome</span><span class="token punctuation">(</span>executable_path=<span class="token string">'chromedriver.exe'</span><span class="token punctuation">)</span>        # é»˜è®¤Chromeæµè§ˆå™¨
</code></pre> 
<h4><a id="cookie_42"></a>ç™»å½•è°ƒç”¨è®¾ç½®cookie</h4> 
<pre><code class="prism language-css">def set_<span class="token function">cookie</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
    self.driver.<span class="token function">get</span><span class="token punctuation">(</span>damai_url<span class="token punctuation">)</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"###è¯·ç‚¹å‡»ç™»å½•###"</span><span class="token punctuation">)</span>
    while self.driver.title.<span class="token function">find</span><span class="token punctuation">(</span><span class="token string">'å¤§éº¦ç½‘-å…¨çƒæ¼”å‡ºèµ›äº‹å®˜æ–¹è´­ç¥¨å¹³å°'</span><span class="token punctuation">)</span> != <span class="token property">-1</span><span class="token punctuation">:</span>
        <span class="token function">sleep</span><span class="token punctuation">(</span>1<span class="token punctuation">)</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'###è¯·æ‰«ç ç™»å½•###'</span><span class="token punctuation">)</span>

    while self.driver.title != <span class="token string">'å¤§éº¦ç½‘-å…¨çƒæ¼”å‡ºèµ›äº‹å®˜æ–¹è´­ç¥¨å¹³å°-100%æ­£å“ã€å…ˆä»˜å…ˆæŠ¢ã€åœ¨çº¿é€‰åº§ï¼'</span><span class="token punctuation">:</span>
       <span class="token function">sleep</span><span class="token punctuation">(</span>1<span class="token punctuation">)</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"###æ‰«ç æˆåŠŸ###"</span><span class="token punctuation">)</span>
    pickle.<span class="token function">dump</span><span class="token punctuation">(</span>self.driver.get_<span class="token function">cookies</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">open</span><span class="token punctuation">(</span><span class="token string">"cookies.pkl"</span><span class="token punctuation">,</span> <span class="token string">"wb"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"###Cookieä¿å­˜æˆåŠŸ###"</span><span class="token punctuation">)</span>
    self.driver.<span class="token function">get</span><span class="token punctuation">(</span>target_url<span class="token punctuation">)</span>
</code></pre> 
<h4><a id="cookie_60"></a>è·å–cookie</h4> 
<pre><code class="prism language-css"><span class="token selector">def get_cookie(self):
    try:
        cookies = pickle.load(open("cookies.pkl", "rb"))  # è½½å…¥cookie
        for cookie in cookies:
            cookie_dict =</span> <span class="token punctuation">{<!-- --></span>
                <span class="token string">'domain'</span><span class="token punctuation">:</span><span class="token string">'.damai.cn'</span><span class="token punctuation">,</span>  # å¿…é¡»æœ‰ï¼Œä¸ç„¶å°±æ˜¯å‡ç™»å½•
                <span class="token string">'name'</span><span class="token punctuation">:</span> cookie.<span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token string">'value'</span><span class="token punctuation">:</span> cookie.<span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'value'</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
            self.driver.add_<span class="token function">cookie</span><span class="token punctuation">(</span>cookie_dict<span class="token punctuation">)</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'###è½½å…¥Cookie###'</span><span class="token punctuation">)</span>
    except Exception as <span class="token property">e</span><span class="token punctuation">:</span>
        <span class="token function">print</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
</code></pre> 
<h4><a id="_78"></a>ç™»å½•</h4> 
<pre><code class="prism language-css">def <span class="token function">login</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        if self.login_method==0<span class="token punctuation">:</span>
            self.driver.<span class="token function">get</span><span class="token punctuation">(</span>login_url<span class="token punctuation">)</span>                                
            # è½½å…¥ç™»å½•ç•Œé¢
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'###å¼€å§‹ç™»å½•###'</span><span class="token punctuation">)</span>

        elif self.login_method==1<span class="token punctuation">:</span>
            if not os.path.<span class="token function">exists</span><span class="token punctuation">(</span><span class="token string">'cookies.pkl'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>                     
            # å¦‚æœä¸å­˜åœ¨cookie.pkl<span class="token punctuation">,</span>å°±è·å–ä¸€ä¸‹
                self.set_<span class="token function">cookie</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token property">else</span><span class="token punctuation">:</span>
                self.driver.<span class="token function">get</span><span class="token punctuation">(</span>target_url<span class="token punctuation">)</span>
                self.get_<span class="token function">cookie</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<h4><a id="_96"></a>æ‰“å¼€æµè§ˆå™¨</h4> 
<pre><code class="prism language-css">def enter_<span class="token function">concert</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token string">""</span><span class="token string">"æ‰“å¼€æµè§ˆå™¨"</span><span class="token string">""</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'###æ‰“å¼€æµè§ˆå™¨ï¼Œè¿›å…¥å¤§éº¦ç½‘###'</span><span class="token punctuation">)</span>
    # self.driver.maximize_<span class="token function">window</span><span class="token punctuation">(</span><span class="token punctuation">)</span>           # æœ€å¤§åŒ–çª—å£
    # è°ƒç”¨ç™»é™†
    self.<span class="token function">login</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                            # å…ˆç™»å½•å†è¯´
    self.driver.<span class="token function">refresh</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                   # åˆ·æ–°é¡µé¢
    self.status = 2                         # ç™»å½•æˆåŠŸæ ‡è¯†
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"###ç™»å½•æˆåŠŸ###"</span><span class="token punctuation">)</span>
    # åç»­å¾·äº‘ç¤¾å¯ä»¥è®²
    if self.<span class="token function">isElementExist</span><span class="token punctuation">(</span><span class="token string">'/html/body/div[2]/div[2]/div/div/div[3]/div[2]'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        self.driver.find_element_by_<span class="token function">xpath</span><span class="token punctuation">(</span><span class="token string">'/html/body/div[2]/div[2]/div/div/div[3]/div[2]'</span><span class="token punctuation">)</span>.<span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<h3><a id="_113"></a>ç¬¬äºŒæ­¥ï¼ŒæŠ¢ç¥¨å¹¶ä¸‹å•</h3> 
<h4><a id="_115"></a>åˆ¤æ–­å…ƒç´ æ˜¯å¦å­˜åœ¨</h4> 
<pre><code class="prism language-css">def <span class="token function">isElementExist</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> element<span class="token punctuation">)</span><span class="token punctuation">:</span>
    flag = True
    browser = self.driver
    <span class="token property">try</span><span class="token punctuation">:</span>
        browser.find_element_by_<span class="token function">xpath</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span>
        return flag

    <span class="token property">except</span><span class="token punctuation">:</span>
        flag = False
        return flag
</code></pre> 
<h4><a id="_130"></a>é€‰ç¥¨æ“ä½œ</h4> 
<pre><code class="prism language-css">def choose_<span class="token function">ticket</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
    if self.status == 2<span class="token punctuation">:</span>                  #ç™»å½•æˆåŠŸå…¥å£
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"="</span>*30<span class="token punctuation">)</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"###å¼€å§‹è¿›è¡Œæ—¥æœŸåŠç¥¨ä»·é€‰æ‹©###"</span><span class="token punctuation">)</span>
        while self.driver.title.<span class="token function">find</span><span class="token punctuation">(</span><span class="token string">'ç¡®è®¤è®¢å•'</span><span class="token punctuation">)</span> == <span class="token property">-1</span><span class="token punctuation">:</span>           # å¦‚æœè·³è½¬åˆ°äº†è®¢å•ç»“ç®—ç•Œé¢å°±ç®—è¿™æ­¥æˆåŠŸäº†ï¼Œå¦åˆ™ç»§ç»­æ‰§è¡Œæ­¤æ­¥
            <span class="token property">try</span><span class="token punctuation">:</span>
                buybutton = self.driver.find_element_by_class_<span class="token function">name</span><span class="token punctuation">(</span><span class="token string">'buybtn'</span><span class="token punctuation">)</span>.text
                if buybutton == <span class="token string">"æäº¤ç¼ºè´§ç™»è®°"</span><span class="token punctuation">:</span>
                    # æ”¹å˜ç°æœ‰çŠ¶æ€
                    self.status=2
                    self.driver.<span class="token function">get</span><span class="token punctuation">(</span>target_url<span class="token punctuation">)</span>
                    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'###æŠ¢ç¥¨æœªå¼€å§‹ï¼Œåˆ·æ–°ç­‰å¾…å¼€å§‹###'</span><span class="token punctuation">)</span>
                    continue
                elif buybutton == <span class="token string">"ç«‹å³é¢„å®š"</span><span class="token punctuation">:</span>
                    self.driver.find_element_by_class_<span class="token function">name</span><span class="token punctuation">(</span><span class="token string">'buybtn'</span><span class="token punctuation">)</span>.<span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    # æ”¹å˜ç°æœ‰çŠ¶æ€
                    self.status = 3
                elif buybutton == <span class="token string">"ç«‹å³è´­ä¹°"</span><span class="token punctuation">:</span>
                    self.driver.find_element_by_class_<span class="token function">name</span><span class="token punctuation">(</span><span class="token string">'buybtn'</span><span class="token punctuation">)</span>.<span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    # æ”¹å˜ç°æœ‰çŠ¶æ€
                    self.status = 4
                # é€‰åº§è´­ä¹°æš‚æ—¶æ— æ³•å®Œæˆè‡ªåŠ¨åŒ–
                elif buybutton == <span class="token string">"é€‰åº§è´­ä¹°"</span><span class="token punctuation">:</span>
                    self.driver.find_element_by_class_<span class="token function">name</span><span class="token punctuation">(</span><span class="token string">'buybtn'</span><span class="token punctuation">)</span>.<span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    self.status = 5
            <span class="token property">except</span><span class="token punctuation">:</span>
                <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'###æœªè·³è½¬åˆ°è®¢å•ç»“ç®—ç•Œé¢###'</span><span class="token punctuation">)</span>
            title = self.driver.title
            if title == <span class="token string">'é€‰åº§è´­ä¹°'</span><span class="token punctuation">:</span>
                # å®ç°é€‰åº§ä½è´­ä¹°çš„é€»è¾‘
                self.choice_<span class="token function">seats</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            elif title == <span class="token string">'ç¡®è®¤è®¢å•'</span><span class="token punctuation">:</span>
                while <span class="token property">True</span><span class="token punctuation">:</span>
                    # å¦‚æœæ ‡é¢˜ä¸ºç¡®è®¤è®¢å•
                    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'waiting ......'</span><span class="token punctuation">)</span>
                    if self.<span class="token function">isElementExist</span><span class="token punctuation">(</span><span class="token string">'//*[@id="container"]/div/div[9]/button'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                        self.check_<span class="token function">order</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                        break
</code></pre> 
<h4><a id="_173"></a>é€‰æ‹©åº§ä½</h4> 
<pre><code class="prism language-css">def choice_<span class="token function">seats</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        while self.driver.title == <span class="token string">'é€‰åº§è´­ä¹°'</span><span class="token punctuation">:</span>
            while self.<span class="token function">isElementExist</span><span class="token punctuation">(</span><span class="token string">'//*[@id="app"]/div[2]/div[2]/div[1]/div[2]/img'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                # åº§ä½æ‰‹åŠ¨é€‰æ‹© é€‰ä¸­åº§ä½ä¹‹å//*[@id=<span class="token string">"app"</span>]/div[2]/div[2]/div[1]/div[2]/img å°±ä¼šæ¶ˆå¤±
                <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'è¯·å¿«é€Ÿçš„é€‰æ‹©æ‚¨çš„åº§ä½ï¼ï¼ï¼'</span><span class="token punctuation">)</span>
            # æ¶ˆå¤±ä¹‹åå°±ä¼šå‡ºç° //*[@id=<span class="token string">"app"</span>]/div[2]/div[2]/div[2]/div
            while self.<span class="token function">isElementExist</span><span class="token punctuation">(</span><span class="token string">'//*[@id="app"]/div[2]/div[2]/div[2]/div'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                # æ‰¾åˆ°ä¹‹åè¿›è¡Œç‚¹å‡»ç¡®è®¤é€‰åº§
                self.driver.find_element_by_<span class="token function">xpath</span><span class="token punctuation">(</span><span class="token string">'//*[@id="app"]/div[2]/div[2]/div[2]/button'</span><span class="token punctuation">)</span>.<span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<h4><a id="_187"></a>ä¸‹å•æ“ä½œ</h4> 
<pre><code class="prism language-css">def check_<span class="token function">order</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
    if self.status in [3<span class="token punctuation">,</span>4<span class="token punctuation">,</span>5]<span class="token punctuation">:</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'###å¼€å§‹ç¡®è®¤è®¢å•###'</span><span class="token punctuation">)</span>
        <span class="token property">try</span><span class="token punctuation">:</span>
            # é»˜è®¤é€‰ç¬¬ä¸€ä¸ªè´­ç¥¨äººä¿¡æ¯
            self.driver.find_element_by_<span class="token function">xpath</span><span class="token punctuation">(</span><span class="token string">'//*[@id="container"]/div/div[2]/div[2]/div[1]/div/label'</span><span class="token punctuation">)</span>.<span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        except Exception as <span class="token property">e</span><span class="token punctuation">:</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"###è´­ç¥¨äººä¿¡æ¯é€‰ä¸­å¤±è´¥ï¼Œè‡ªè¡ŒæŸ¥çœ‹å…ƒç´ ä½ç½®###"</span><span class="token punctuation">)</span>
            <span class="token function">print</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
        # æœ€åä¸€æ­¥æäº¤è®¢å•
        time.<span class="token function">sleep</span><span class="token punctuation">(</span>0.5<span class="token punctuation">)</span>  # å¤ªå¿«ä¼šå½±å“åŠ è½½ï¼Œå¯¼è‡´æŒ‰é’®ç‚¹å‡»æ— æ•ˆ
        self.driver.find_element_by_<span class="token function">xpath</span><span class="token punctuation">(</span><span class="token string">'//div[@class = "w1200"]//div[2]//div//div[9]//button[1]'</span><span class="token punctuation">)</span>.<span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<h4><a id="_204"></a>æŠ¢ç¥¨å®Œæˆï¼Œé€€å‡º</h4> 
<pre><code class="prism language-css">def <span class="token function">finish</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
    self.driver.<span class="token function">quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<h4><a id="_211"></a>æµ‹è¯•ä»£ç æ˜¯å¦æˆåŠŸ</h4> 
<pre><code class="prism language-css">if __name__ == <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    <span class="token property">try</span><span class="token punctuation">:</span>
        con = <span class="token function">Concert</span><span class="token punctuation">(</span><span class="token punctuation">)</span>             # å…·ä½“å¦‚æœå¡«å†™è¯·æŸ¥çœ‹ç±»ä¸­çš„åˆå§‹åŒ–å‡½æ•°
        con.enter_<span class="token function">concert</span><span class="token punctuation">(</span><span class="token punctuation">)</span>         # æ‰“å¼€æµè§ˆå™¨
        con.choose_<span class="token function">ticket</span><span class="token punctuation">(</span><span class="token punctuation">)</span>         # å¼€å§‹æŠ¢ç¥¨

    except Exception as <span class="token property">e</span><span class="token punctuation">:</span>
        <span class="token function">print</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
        con.<span class="token function">finish</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<h4><a id="_225"></a>æœ€åçœ‹ä¸‹æ•ˆæœå¦‚ä½•</h4> 
<p><img src="https://images2.imgbox.com/da/55/bIWQ7Npv_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>å¦‚æœä½ å¯¹Pythonæ„Ÿå…´è¶£ï¼Œæƒ³è¦å­¦ä¹ pythonï¼Œè¿™é‡Œç»™å¤§å®¶åˆ†äº«ä¸€ä»½<strong>Pythonå…¨å¥—å­¦ä¹ èµ„æ–™</strong>ï¼Œéƒ½æ˜¯æˆ‘è‡ªå·±å­¦ä¹ æ—¶æ•´ç†çš„ï¼Œå¸Œæœ›å¯ä»¥å¸®åˆ°ä½ ï¼Œä¸€èµ·åŠ æ²¹ï¼</p> 
<p>ğŸ˜æœ‰éœ€è¦çš„å°ä¼™ä¼´ï¼Œå¯ä»¥<mark>Væ‰«æä¸‹æ–¹äºŒç»´ç å…è´¹é¢†å–</mark>ğŸ†“</p> 
<p>â€‹<img src="https://images2.imgbox.com/13/6a/AHZNETKX_o.jpg"></p> 
<h3><a id="1_237"></a>1ï¸âƒ£é›¶åŸºç¡€å…¥é—¨</h3> 
<h4><a id="__239"></a>â‘  å­¦ä¹ è·¯çº¿</h4> 
<p>å¯¹äºä»æ¥æ²¡æœ‰æ¥è§¦è¿‡Pythonçš„åŒå­¦ï¼Œæˆ‘ä»¬å¸®ä½ å‡†å¤‡äº†è¯¦ç»†çš„<strong>å­¦ä¹ æˆé•¿è·¯çº¿å›¾</strong>ã€‚å¯ä»¥è¯´æ˜¯<strong>æœ€ç§‘å­¦æœ€ç³»ç»Ÿçš„å­¦ä¹ è·¯çº¿</strong>ï¼Œä½ å¯ä»¥æŒ‰ç…§ä¸Šé¢çš„çŸ¥è¯†ç‚¹å»æ‰¾å¯¹åº”çš„å­¦ä¹ èµ„æºï¼Œä¿è¯è‡ªå·±å­¦å¾—è¾ƒä¸ºå…¨é¢ã€‚<br> <img src="https://images2.imgbox.com/77/9f/lmiT8vtG_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h4><a id="__244"></a>â‘¡ è·¯çº¿å¯¹åº”å­¦ä¹ è§†é¢‘</h4> 
<p>è¿˜æœ‰å¾ˆå¤šé€‚åˆ0åŸºç¡€å…¥é—¨çš„å­¦ä¹ è§†é¢‘ï¼Œæœ‰äº†è¿™äº›è§†é¢‘ï¼Œè½»è½»æ¾æ¾ä¸Šæ‰‹Python~<br> <img src="https://images2.imgbox.com/98/c6/mffq0AhS_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h4><a id="_249"></a>â‘¢ç»ƒä¹ é¢˜</h4> 
<p>æ¯èŠ‚è§†é¢‘è¯¾åï¼Œéƒ½æœ‰å¯¹åº”çš„ç»ƒä¹ é¢˜å“¦ï¼Œå¯ä»¥æ£€éªŒå­¦ä¹ æˆæœå“ˆå“ˆï¼<br> <img src="https://images2.imgbox.com/30/e8/IBamRGpr_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h3><a id="2Python_254"></a><strong>2ï¸âƒ£å›½å†…å¤–Pythonä¹¦ç±ã€æ–‡æ¡£</strong></h3> 
<h4><a id="__256"></a>â‘  æ–‡æ¡£å’Œä¹¦ç±èµ„æ–™</h4> 
<p><img src="https://images2.imgbox.com/b9/31/6oGZvcSi_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h3><a id="3Python_260"></a>3ï¸âƒ£Pythonå·¥å…·åŒ…+é¡¹ç›®æºç åˆé›†</h3> 
<h4><a id="Python_262"></a>â‘ Pythonå·¥å…·åŒ…</h4> 
<p>å­¦ä¹ Pythonå¸¸ç”¨çš„å¼€å‘è½¯ä»¶éƒ½åœ¨è¿™é‡Œäº†ï¼æ¯ä¸ªéƒ½æœ‰è¯¦ç»†çš„å®‰è£…æ•™ç¨‹ï¼Œä¿è¯ä½ å¯ä»¥å®‰è£…æˆåŠŸå“¦ï¼<br> <img src="https://images2.imgbox.com/ba/1d/0ZgrFLG0_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h4><a id="Python_267"></a>â‘¡Pythonå®æˆ˜æ¡ˆä¾‹</h4> 
<p>å…‰å­¦ç†è®ºæ˜¯æ²¡ç”¨çš„ï¼Œè¦å­¦ä¼šè·Ÿç€ä¸€èµ·æ•²ä»£ç ï¼ŒåŠ¨æ‰‹å®æ“ï¼Œæ‰èƒ½å°†è‡ªå·±çš„æ‰€å­¦è¿ç”¨åˆ°å®é™…å½“ä¸­å»ï¼Œè¿™æ—¶å€™å¯ä»¥æç‚¹å®æˆ˜æ¡ˆä¾‹æ¥å­¦ä¹ ã€‚<strong>100+å®æˆ˜æ¡ˆä¾‹æºç ç­‰ä½ æ¥æ‹¿ï¼</strong><br> <img src="https://images2.imgbox.com/3d/25/GKaKOuWt_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h4><a id="Python_272"></a>â‘¢Pythonå°æ¸¸æˆæºç </h4> 
<p>å¦‚æœè§‰å¾—ä¸Šé¢çš„å®æˆ˜æ¡ˆä¾‹æœ‰ç‚¹æ¯ç‡¥ï¼Œå¯ä»¥è¯•è¯•è‡ªå·±ç”¨Pythonç¼–å†™å°æ¸¸æˆï¼Œè®©ä½ çš„å­¦ä¹ è¿‡ç¨‹ä¸­å¢æ·»ä¸€ç‚¹è¶£å‘³ï¼<br> <img src="https://images2.imgbox.com/ce/64/Ar3Ovfwd_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h3><a id="4Python_277"></a>4ï¸âƒ£Pythoné¢è¯•é¢˜</h3> 
<p>æˆ‘ä»¬å­¦ä¼šäº†Pythonä¹‹åï¼Œæœ‰äº†æŠ€èƒ½å°±å¯ä»¥å‡ºå»æ‰¾å·¥ä½œå•¦ï¼ä¸‹é¢è¿™äº›é¢è¯•é¢˜æ˜¯éƒ½æ¥è‡ªé˜¿é‡Œã€è…¾è®¯ã€å­—èŠ‚ç­‰ä¸€çº¿äº’è”ç½‘å¤§å‚ï¼Œå¹¶ä¸”æœ‰é˜¿é‡Œå¤§ä½¬ç»™å‡ºäº†æƒå¨çš„è§£ç­”ï¼Œåˆ·å®Œè¿™ä¸€å¥—é¢è¯•èµ„æ–™ç›¸ä¿¡å¤§å®¶éƒ½èƒ½æ‰¾åˆ°æ»¡æ„çš„å·¥ä½œã€‚<br> <img src="https://images2.imgbox.com/5f/7a/L8210GID_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> <img src="https://images2.imgbox.com/97/cb/cCLSBu49_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>ä¸Šè¿°æ‰€æœ‰èµ„æ–™ âš¡ï¸ ï¼Œæœ‹å‹ä»¬å¦‚æœæœ‰éœ€è¦çš„ï¼Œå¯ä»¥æ‰«æä¸‹æ–¹ğŸ‘‡ğŸ‘‡ğŸ‘‡äºŒç»´ç å…è´¹é¢†å–ğŸ†“<br> â€‹<img src="https://images2.imgbox.com/fa/8b/u6pdkPSO_o.jpg"></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/bea0ace4e274f5cc73874794d3b0c94d/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">Jttiï¼šä¸ºä»€ä¹ˆå»ºè®®ä¼ä¸šä½¿ç”¨å­˜å‚¨å‹æœåŠ¡å™¨ï¼Ÿ</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b9daba3c4e6663d48f15bf3b13298296/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">2023æ–°æ˜¥ç‰ˆï¼ŒPyCharmå®‰è£…ä¸æ°¸ä¹…ä½¿ç”¨Macä»¥åŠWindowsæ•™ç¨‹</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ITå­¦ä¹ è€…åšå®¢.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>