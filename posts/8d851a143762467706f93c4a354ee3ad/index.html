<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>简单地使用webpack进行打包 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="简单地使用webpack进行打包" />
<meta property="og:description" content="下面的webpack是4.14.0版本的（当时我学的，更新太快了，现在5.10.0了），你学习的时候，用的是最新的，就不要往下看啦，官方文档已经更新教程了
这是我看5.10.0教程后，简单搭建的打包demo，可以参考。或者你也自己去官网看文档搭建webpack5.10.0
webpack5.10.0-demo
之前写的有些零散,现在一步步再重新写.记住: 如果你步骤对,但是始终没成功, 那么请不要烦心, 因为webpack版本4以上, 语义更加严格,命令有一些已经发生改变了,所以并不是你的问题!
一.确保已经安装了nodeJS之后.
二. 创建webpack-demo,我的是f盘下的,
2.然后进入这个文件夹:
3.进行初始化,一路都是选择默认(回车就可以):
查看初始化后的文件夹,里面只有一个json文件:
4. 接下来装webpack
npm install webpack --save-dev
安装完成:
查看项目下,发现已经:
5.然后用编译器打开当前项目,我的是HBuilder,如下图:
在这个文件下创建一个demo.js文件,并创建一个函数.
6.然后我们尝试进行打包,回到命令框
原本输入了 webpack demo.js demo.bundle.js,然后报错了
这是为什么呢?原因是我的webpack版本过高,原来的命令已经不适用了
如下查询版本号:
那应该如何解决?
更换打包命令为: webpack demo.js -o demo.bundle.js
其中 demo.dundle.js是打包后生成的文件的文件名
其中的一些参数值:
Version:webpack版本
time:这次打包所花费的时间
列表信息
Asset:打包这次生成的文件
Size:这次生成文件的大小
Chunks:这次打包的分块
chunk Names:这次打包的名称
接下来查看以下项目:
可以看到demo.js已经被打包为了demo.bundle.js文件,但是,这个并没有打包成功! 因为打包的时候没有出现红色的error了,但是还有黄色的警告.如下图.
黄色警告:是因为webpack4引入了模式,有开发模式,生产模式,无这三个状态
以及打开我们生成的文件,代码如下:
可以看到末尾并没有生成我们所打包的demo.js的信息.
黄色部分的警告的意思是,没有设置模式,有开发模式和生产模式两种,接下来,找到package.json.添加上&#34;dev&#34;和&#34;build&#34;这两个信息以及他们的值.
&#34;scripts&#34;: {
&#34;test&#34;: &#34;echo \&#34;Error: no test specified\&#34; &amp;&amp; exit 1&#34;,
&#34;dev&#34;: &#34;webpack --mode deveplopment&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/8d851a143762467706f93c4a354ee3ad/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-07-02T09:14:27+08:00" />
<meta property="article:modified_time" content="2018-07-02T09:14:27+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">简单地使用webpack进行打包</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><span style="color:#f33b45;">下面的webpack是4.14.0版本的（当时我学的，更新太快了，现在5.10.0了），你学习的时候，用的是最新的，就不要往下看啦，官方文档已经更新教程了</span></p> 
<p>这是我看5.10.0教程后，简单搭建的打包demo，可以参考。或者你也自己去官网看文档搭建<a href="https://www.webpackjs.com/guides/getting-started/#%E5%9F%BA%E6%9C%AC%E5%AE%89%E8%A3%85" rel="nofollow">webpack5.10.0</a></p> 
<p><a href="https://github.com/LPLife/webpack-demo">webpack5.10.0-demo</a></p> 
<p>  之前写的有些零散,现在一步步再重新写.记住: 如果你步骤对,但是始终没成功, 那么请不要烦心, 因为webpack版本4以上, 语义更加严格,命令有一些已经发生改变了,所以并不是你的问题!</p> 
<p>一.确保已经安装了nodeJS之后.</p> 
<p>二. 创建webpack-demo,我的是f盘下的,</p> 
<p><img alt="" src="https://images2.imgbox.com/4a/93/I5dWuiNu_o.png"></p> 
<p>2.然后进入这个文件夹:</p> 
<p><img alt="" src="https://images2.imgbox.com/e4/17/QuOFmdqi_o.png"></p> 
<p>3.进行初始化,一路都是选择默认(回车就可以):</p> 
<p><img alt="" src="https://images2.imgbox.com/7b/69/93GJmbpt_o.png"></p> 
<p>查看初始化后的文件夹,里面只有一个json文件:</p> 
<p><img alt="" src="https://images2.imgbox.com/e9/a3/sY5LJNLF_o.png"></p> 
<p>4.  接下来装webpack</p> 
<p>npm install webpack --save-dev</p> 
<p><img alt="" src="https://images2.imgbox.com/ec/8d/Ezp1GyVv_o.png"></p> 
<p>安装完成:</p> 
<p><img alt="" src="https://images2.imgbox.com/54/4b/sAsXx0vD_o.png"></p> 
<p>查看项目下,发现已经:</p> 
<p><img alt="" src="https://images2.imgbox.com/11/6b/tAJkTLL5_o.png"></p> 
<p> </p> 
<p>5.然后用编译器打开当前项目,我的是HBuilder,如下图:</p> 
<p><img alt="" src="https://images2.imgbox.com/09/0d/u9JhOQfA_o.png"></p> 
<p>在这个文件下创建一个demo.js文件,并创建一个函数.</p> 
<p><img alt="" src="https://images2.imgbox.com/eb/0c/F6Q9GWWL_o.png"></p> 
<p>6.然后我们尝试进行打包,回到命令框</p> 
<p>原本输入了 webpack demo.js demo.bundle.js,然后报错了</p> 
<p><img alt="" src="https://images2.imgbox.com/0f/cb/Oi5PF4Ux_o.png"></p> 
<p>这是为什么呢?原因是我的webpack版本过高,原来的命令已经不适用了</p> 
<p>如下查询版本号:</p> 
<p><img alt="" src="https://images2.imgbox.com/a5/cc/W35LKfpf_o.png"></p> 
<p>那应该如何解决?</p> 
<p>更换打包命令为: webpack demo.js -o demo.bundle.js</p> 
<p>其中 demo.dundle.js是打包后生成的文件的文件名</p> 
<p><img alt="" src="https://images2.imgbox.com/a8/d1/SVHVozwf_o.png"></p> 
<p>其中的一些参数值:</p> 
<p>Version:webpack版本</p> 
<p>time:这次打包所花费的时间</p> 
<p>列表信息</p> 
<p>Asset:打包这次生成的文件</p> 
<p>Size:这次生成文件的大小</p> 
<p>Chunks:这次打包的分块</p> 
<p>chunk Names:这次打包的名称</p> 
<p>接下来查看以下项目:</p> 
<p><img alt="" src="https://images2.imgbox.com/4e/a1/zit14Var_o.png"></p> 
<p> </p> 
<p>可以看到demo.js已经被打包为了demo.bundle.js文件,但是,这个并没有打包成功! 因为打包的时候没有出现红色的error了,但是还有黄色的警告.如下图.</p> 
<p><img alt="" src="https://images2.imgbox.com/bf/76/dE23l9Ln_o.png"></p> 
<p>黄色警告:是因为webpack4引入了模式,有开发模式,生产模式,无这三个状态</p> 
<p>以及打开我们生成的文件,代码如下:</p> 
<p><img alt="" src="https://images2.imgbox.com/8e/eb/i4ik0tvo_o.png"></p> 
<p>  可以看到末尾并没有生成我们所打包的demo.js的信息.</p> 
<p>黄色部分的警告的意思是,没有设置模式,有开发模式和生产模式两种,接下来,找到package.json.添加上"dev"和"build"这两个信息以及他们的值.</p> 
<p> </p> 
<p>  "scripts": {<!-- --><br>     "test": "echo \"Error: no test specified\" &amp;&amp; exit 1",<br>     "dev": "webpack --mode deveplopment",<br>     "build": "webpack --mode production"<br>   },</p> 
<p> </p> 
<p> </p> 
<p>先了解两个命令:</p> 
<p>npm run dev (开发环境输出的demo.js没有压缩),也就是这个形式的,如下图,这是平时我们写代码的形式:</p> 
<p><img alt="" src="https://images2.imgbox.com/e4/93/iXkNXsDO_o.png"></p> 
<p> </p> 
<p>npm run build (生产模式输出的demo.js压缩过) ,如下图:</p> 
<p><img alt="" src="https://images2.imgbox.com/0f/56/KmEVKqxL_o.png"></p> 
<p>    7.全局安装webpack-cli</p> 
<p> </p> 
<pre><code>npm install --save-dev webpack-cli -g</code></pre> 
<p><img alt="" src="https://images2.imgbox.com/2f/73/B4lJoGRw_o.png"></p> 
<p>8. 安装完成后, 输入命令  npm run dev</p> 
<p><img alt="" src="https://images2.imgbox.com/22/62/uUH2pxnJ_o.png"></p> 
<p>看到这么多错误貌似有点头疼啊!</p> 
<p>原因是,你输入命令 npm run dev 的时候,会默认打包src文件夹下的index.js文件,打包完成后是main.js文件(放在dist),你有没有发现我们一开始安装webpack的时候并没有这个文件生成,所以更别提什么index.js文件了,所以这些我们需要手动创建</p> 
<p>我们先创建src文件.还有一个dist文件,存放默认的打包生成的文件, 然后在src里再创建index.js文件</p> 
<p><img alt="" src="https://images2.imgbox.com/1f/29/8XFQUmER_o.png"></p> 
<p>9.接下来,输入命令 webpack-demo,有些人奇怪,版本号怎么变了成4.14.0了,不好意思,我中途更新了,但是不要紧.</p> 
<p><img alt="" src="https://images2.imgbox.com/a9/4e/MJRkDiDZ_o.png"></p> 
<p>然后看项目</p> 
<p><img alt="" src="https://images2.imgbox.com/ee/f7/G94juz2s_o.png"></p> 
<p>这个main.js文件就是执行npm run dev 后,默认把我们创建的index.js打包成了main.js,然后放在dist文件夹里了</p> 
<p>我们看一下main.js文件,很多都是打包后给生成的代码.</p> 
<p><img alt="" src="https://images2.imgbox.com/d5/71/mi4aMyRL_o.png"></p> 
<p>然后去末尾看一下我们写的index.js被被放进去没有,从下图的代码可以看到已经包含进去了,说明我们打包成功了,为什么要做这一步呢,那当然是测试到底能不能进行打包了.</p> 
<p><img alt="" src="https://images2.imgbox.com/6e/f1/87o2CykM_o.png"></p> 
<p>10.到这一步了,打包demo.js(不是默认的文件的时候), 黄色警告还是出现!那么应该怎么解决呢?那就是webpack的版本问题,命令不同了</p> 
<p>应该使用如下命令进行打包:</p> 
<pre class="language-"><code class="language-"> npx webpack ./demo.js -o demo.bundle.js --mode development</code></pre> 
<p><img alt="" src="https://images2.imgbox.com/9f/16/lYI7qmOm_o.png"></p> 
<p> </p> 
<p>很神奇吧? 黄色警告没有了!!</p> 
<p> </p> 
<p>查看项目,可以看到已经正确打包了:</p> 
<p><img alt="" src="https://images2.imgbox.com/1b/54/2WJOt6ZQ_o.png"></p> 
<p>查看文件内容:</p> 
<p><img alt="" src="https://images2.imgbox.com/0e/a3/WHZbMNpN_o.png"></p> 
<p>我们的代码,已经被打包在末尾:</p> 
<p><img alt="" src="https://images2.imgbox.com/28/4e/EkaiPGs6_o.png"></p> 
<p> </p> 
<p>这样,我们简单的配置就已经完成了!</p> 
<p>然后我们尝试用一下已经打包好的文件,新建hello.html</p> 
<p><img alt="" src="https://images2.imgbox.com/c4/d7/ygDNQekx_o.png"></p> 
<p>可以看到已经成功打包了!!</p> 
<p>如果你在学习webpack的时候,出现各种问题,更多时候是因为版本的问题,并不是你的问题, 不要灰心. webpack 4语法相对来说比较严格了,根据版本去寻找解决问题的方法才更容易快速地解决问题.不过上述写的东西只是webpack的冰山一角...........</p> 
<p> </p> 
<p>webpack的一些相关命令</p> 
<p>  如果我们更改我们写的代码的时候,就需要重新进行打包,那就是更改一次又手动进行打包一次,那是很麻烦的,所以我们可以使用如下命令监听这个事件,源文件一更新,就会进行自动打包.一开始watch时关闭地,我需要将它打开.</p> 
<pre class="has"><code class="language-html">npx webpack --mode development --watch</code></pre> 
<p> </p> 
<p> 注意: 这个命令只是单纯监听了默认的打包路径,也就是能监听到src下index.js的变化,也能够随将变化时进行保存刷新后其自动打包,但是,并不能监听到demo.js.  还有就是你的执行这个命令的时候,它必需属于一直监听的状态, 如果被停止了,那监听状态也停止.</p> 
<p> </p> 
<p><img alt="" src="https://images2.imgbox.com/3e/bf/4Cjlwm6S_o.png"></p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/096fee44e00bc18e34412a7f0b005ade/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">USART_ClearITPendingBith和 USART_ClearFlag的区别</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/76f967689c064eb8d2af3c9fdfe6cfa5/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">PSV破解流程&#43;软件游戏安装（最简单/最快的方法整理，已测支持3.65~3.68，理论上支持全系列版本）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>