<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>FFmpeg工具（二） --- ffprobe常用命令 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="FFmpeg工具（二） --- ffprobe常用命令" />
<meta property="og:description" content="在 FFmpeg套件中，除了ffmpeg作为多媒体处理工具之外，还有ffprobe多媒体信息查看工具，ffprobe主要用来查看多媒体文件的信息，下面是ffprobe中常见的基本命令。
FFmpeg工具（一） — ffmpeg视频处理命令行大全
FFmpeg工具（二） — ffprobe常用命令
FFmpeg工具（三） — ffplay常用命令
ffprobe常用命令行参数 1、查看详细的帮助信息
ffprobe -help 2、查看多媒体数据包信息 show_packets
ffprobe -show_packets input.mp4 通过show_packets查看的多媒体数据包信息使用标签括起来，其中包含的信息主要为：
字段说明codec_type多媒体类型，如视频包、音频包等stream_index多媒体的stream索引pts多媒体的显示时间值pts_time根据不同格式计算过后的多媒体的显示时间dts多媒体的解码时间值dts_time根据不同格式计算过后的多媒体解码时间duration多媒体占用的时间值duration_time根据不同格式计算过后的多媒体所占用的时间值size多媒体包的大小pos多媒体所在的文件偏移位置flags多媒体包标记，如关键包与非关键包的标记 除了以上字段和信息之外，还可以通过以下组合参数来查看包中的具体数据：
ffprobe -show_data -show_packets input.mp4 3、查看多媒体的封装格式 show_format
ffprobe -show_format input.mp4 通过show_format查看的多媒体数据包信息使用标签括起来，其中包含的信息主要为：
字段说明filename文件名nb_streams媒体中包含的流的个数nb_programs节目数format_name使用的封装模块的名称format_long_name封装的完整名称start_time媒体文件的起始时间duration媒体文件的的总时间长度size媒体文件的大小bit_rate媒体文件的码率 4、查看视频文件中的帧信息 show_frames
ffprobe -show_frames input.mp4 通过show_frames查看的视频文件中的帧信息使用标签括起来，其中包含的信息主要为：
属性说明值media_type帧的类型（视频、音频、字幕等）videostream_index帧所在的索引区域0key_frame是否为关键帧1pkt_ptsFrame包的pts23100pkt_pts_timeFrame包的pts的时间显示38.500000pkt_dtsFrame包的dts80pkt_dts_timeFrame包的dts的时间显示0.080000pkt_durationFrame包的时长20pkt_duration_timeFrame包的时长时间显示0.03333pkt_posFrame包所在文件的偏移位置344width帧显示的宽度544height帧显示的高度960pix_fmt帧的图像色彩格式yuv420ppict_type帧类型I 帧/ P帧 / B帧pkt_size每帧的大小 5、查看多媒体文件中的流信息 show_streams
ffprobe -show_streams input.mp4 通过show_streams查看的视频文件中的帧信息使用标签括起来，其中包含的信息主要为：
属性说明值index流所在的索引区域）0codec_name编码名h264codec_long_name编码全名MPEG-4 part 1profile编码的profileHighlevel编码的level31has_b_frames包含B帧信息1codec_type编码类型videocodec_time_base编码的时间戳计算基础单位1/60codec_tag_string编码的标签数据avc1pix_fmt图像显示的色彩格式yuv420pcoded_width图像的宽度544coded_height图像的高度960r_frame_rate实际帧率30/1avg_frame_rate平均帧率30/1time_base时间基数（用来进行timestamp）1/600bit_rate码率1197127max_bit_rate最大码率N/Anb_frames帧数1156 6、以上显示方式是键值对的方式显示，ffprobe支持多种显示格式显示，包括xml,json,flat等等。下面列举常见的格式输出的例子：
ffprobe -of json -show_streams input.mp4 // 以json显示方式 ffprobe -of xml -show_streams input.mp4 // 以xml显示方式 7、使用select_streams可以只查看音频(a)、视频(v)、字幕(s)的信息，例如配合show_frames查看视频的frames的信息：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/681ab57d50f3c0cd844c287f6526b3e9/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-10-13T20:46:36+08:00" />
<meta property="article:modified_time" content="2020-10-13T20:46:36+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">FFmpeg工具（二） --- ffprobe常用命令</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>在 FFmpeg套件中，除了ffmpeg作为多媒体处理工具之外，还有ffprobe多媒体信息查看工具，ffprobe主要用来查看多媒体文件的信息，下面是ffprobe中常见的基本命令。<br> <a href="https://blog.csdn.net/weixin_39432879/article/details/108851039">FFmpeg工具（一） — ffmpeg视频处理命令行大全</a><br> <a href="https://blog.csdn.net/weixin_39432879/article/details/109058836">FFmpeg工具（二） — ffprobe常用命令</a><br> <a href="https://blog.csdn.net/weixin_39432879/article/details/109068602">FFmpeg工具（三） — ffplay常用命令</a></p> 
<h3><a id="ffprobe_4"></a>ffprobe常用命令行参数</h3> 
<p>1、查看详细的帮助信息</p> 
<pre><code>ffprobe -help
</code></pre> 
<p>2、查看多媒体数据包信息 <em>show_packets</em></p> 
<pre><code>ffprobe -show_packets input.mp4
</code></pre> 
<p>通过show_packets查看的多媒体数据包信息使用标签括起来，其中包含的信息主要为：</p> 
<table><thead><tr><th>字段</th><th>说明</th></tr></thead><tbody><tr><td>codec_type</td><td>多媒体类型，如视频包、音频包等</td></tr><tr><td>stream_index</td><td>多媒体的stream索引</td></tr><tr><td>pts</td><td>多媒体的显示时间值</td></tr><tr><td>pts_time</td><td>根据不同格式计算过后的多媒体的显示时间</td></tr><tr><td>dts</td><td>多媒体的解码时间值</td></tr><tr><td>dts_time</td><td>根据不同格式计算过后的多媒体解码时间</td></tr><tr><td>duration</td><td>多媒体占用的时间值</td></tr><tr><td>duration_time</td><td>根据不同格式计算过后的多媒体所占用的时间值</td></tr><tr><td>size</td><td>多媒体包的大小</td></tr><tr><td>pos</td><td>多媒体所在的文件偏移位置</td></tr><tr><td>flags</td><td>多媒体包标记，如关键包与非关键包的标记</td></tr></tbody></table> 
<p>除了以上字段和信息之外，还可以通过以下组合参数来查看包中的具体数据：</p> 
<pre><code>ffprobe -show_data -show_packets input.mp4
</code></pre> 
<p>3、查看多媒体的封装格式 <em>show_format</em></p> 
<pre><code>ffprobe -show_format  input.mp4
</code></pre> 
<p>通过show_format查看的多媒体数据包信息使用标签括起来，其中包含的信息主要为：</p> 
<table><thead><tr><th>字段</th><th>说明</th></tr></thead><tbody><tr><td>filename</td><td>文件名</td></tr><tr><td>nb_streams</td><td>媒体中包含的流的个数</td></tr><tr><td>nb_programs</td><td>节目数</td></tr><tr><td>format_name</td><td>使用的封装模块的名称</td></tr><tr><td>format_long_name</td><td>封装的完整名称</td></tr><tr><td>start_time</td><td>媒体文件的起始时间</td></tr><tr><td>duration</td><td>媒体文件的的总时间长度</td></tr><tr><td>size</td><td>媒体文件的大小</td></tr><tr><td>bit_rate</td><td>媒体文件的码率</td></tr></tbody></table> 
<p>4、查看视频文件中的帧信息 <em>show_frames</em></p> 
<pre><code>ffprobe -show_frames  input.mp4
</code></pre> 
<p>通过show_frames查看的视频文件中的帧信息使用标签括起来，其中包含的信息主要为：</p> 
<table><thead><tr><th>属性</th><th>说明</th><th>值</th></tr></thead><tbody><tr><td>media_type</td><td>帧的类型（视频、音频、字幕等）</td><td>video</td></tr><tr><td>stream_index</td><td>帧所在的索引区域</td><td>0</td></tr><tr><td>key_frame</td><td>是否为关键帧</td><td>1</td></tr><tr><td>pkt_pts</td><td>Frame包的pts</td><td>23100</td></tr><tr><td>pkt_pts_time</td><td>Frame包的pts的时间显示</td><td>38.500000</td></tr><tr><td>pkt_dts</td><td>Frame包的dts</td><td>80</td></tr><tr><td>pkt_dts_time</td><td>Frame包的dts的时间显示</td><td>0.080000</td></tr><tr><td>pkt_duration</td><td>Frame包的时长</td><td>20</td></tr><tr><td>pkt_duration_time</td><td>Frame包的时长时间显示</td><td>0.03333</td></tr><tr><td>pkt_pos</td><td>Frame包所在文件的偏移位置</td><td>344</td></tr><tr><td>width</td><td>帧显示的宽度</td><td>544</td></tr><tr><td>height</td><td>帧显示的高度</td><td>960</td></tr><tr><td>pix_fmt</td><td>帧的图像色彩格式</td><td>yuv420p</td></tr><tr><td>pict_type</td><td>帧类型</td><td>I 帧/ P帧 / B帧</td></tr><tr><td>pkt_size</td><td>每帧的大小</td><td></td></tr></tbody></table> 
<p>5、查看多媒体文件中的流信息 <em>show_streams</em></p> 
<pre><code>ffprobe -show_streams  input.mp4
</code></pre> 
<p>通过show_streams查看的视频文件中的帧信息使用标签括起来，其中包含的信息主要为：</p> 
<table><thead><tr><th>属性</th><th>说明</th><th>值</th></tr></thead><tbody><tr><td>index</td><td>流所在的索引区域）</td><td>0</td></tr><tr><td>codec_name</td><td>编码名</td><td>h264</td></tr><tr><td>codec_long_name</td><td>编码全名</td><td>MPEG-4 part 1</td></tr><tr><td>profile</td><td>编码的profile</td><td>High</td></tr><tr><td>level</td><td>编码的level</td><td>31</td></tr><tr><td>has_b_frames</td><td>包含B帧信息</td><td>1</td></tr><tr><td>codec_type</td><td>编码类型</td><td>video</td></tr><tr><td>codec_time_base</td><td>编码的时间戳计算基础单位</td><td>1/60</td></tr><tr><td>codec_tag_string</td><td>编码的标签数据</td><td>avc1</td></tr><tr><td>pix_fmt</td><td>图像显示的色彩格式</td><td>yuv420p</td></tr><tr><td>coded_width</td><td>图像的宽度</td><td>544</td></tr><tr><td>coded_height</td><td>图像的高度</td><td>960</td></tr><tr><td>r_frame_rate</td><td>实际帧率</td><td>30/1</td></tr><tr><td>avg_frame_rate</td><td>平均帧率</td><td>30/1</td></tr><tr><td>time_base</td><td>时间基数（用来进行timestamp）</td><td>1/600</td></tr><tr><td>bit_rate</td><td>码率</td><td>1197127</td></tr><tr><td>max_bit_rate</td><td>最大码率</td><td>N/A</td></tr><tr><td>nb_frames</td><td>帧数</td><td>1156</td></tr></tbody></table> 
<p>6、以上显示方式是键值对的方式显示，ffprobe支持多种显示格式显示，包括xml,json,flat等等。下面列举常见的格式输出的例子：</p> 
<pre><code>ffprobe -of json -show_streams input.mp4   // 以json显示方式
ffprobe -of xml -show_streams input.mp4   // 以xml显示方式
</code></pre> 
<p>7、使用select_streams可以只查看音频(a)、视频(v)、字幕(s)的信息，例如配合show_frames查看视频的frames的信息：</p> 
<pre><code>ffprobe -show_frames -select_streams v -of xml input.mp4
</code></pre> 
<p>总之，使用ffprobe还可以查看很多信息，可以通过help方法查看更多更详细的信息。</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/c2a9ef5748294c82ef783cdca113fe2b/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">CSS-事件 -单击双击、失去or获得焦点、加载事件、鼠标事件、键盘事件、选择与改变、表单事件</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/cb7b5aa86e47cf3b728d2e555ee7afa7/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">手机卡开机界面，无法进入rec，但可以进入fastboot，解决方案</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>