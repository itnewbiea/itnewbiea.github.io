<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>hadoop安装 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="hadoop安装" />
<meta property="og:description" content="hadoop安装 零、hadoop启动命令 start-all.sh start-dfs start-yarn hadoop-deamons.sh yarn-deamons.sh hadoop-deamon.sh yarn-deamon.sh mr-jobhistoryserver.sh start historyserver yarn-deamon.sh start timelineserver 一、准备安装包 D:\yilng\bigdata\hadoop\安装包 hadoop-2.6.0.tar.gz
二、使用SCP工具上传到服务器 # 上传路径:/opt/install_bak # 解压路径:/opt/ tar -zxvf /opt/install_bak/hadoop-2.6.0.tar.gz -C ../ 三、修改配置文件 hadoop-env.sh vim hadoop-env.sh export JAVA_HOME=/opta/jdk1.8.0_161 core-site.xml &lt;configuration&gt; &lt;property&gt; &lt;name&gt;fs.defaultFS&lt;/name&gt; &lt;value&gt;hdfs://master:8020&lt;/value&gt; &lt;/property&gt; &lt;property&gt; &lt;name&gt;io.file.buffer.size&lt;/name&gt; &lt;value&gt;4096&lt;/value&gt; &lt;/property&gt; &lt;property&gt; &lt;name&gt;hadoop.tmp.dir&lt;/name&gt; &lt;value&gt;/opt/hadoop-2.6.0/tmp&lt;/value&gt; &lt;/property&gt; &lt;/configuration&gt; hdfs-site.xml &lt;configuration&gt; &lt;property&gt; &lt;name&gt;dfs.replication&lt;/name&gt; &lt;value&gt;3&lt;/value&gt; &lt;/property&gt; &lt;property&gt; &lt;name&gt;dfs.block.size&lt;/name&gt; &lt;value&gt;134217728&lt;/value&gt; &lt;/property&gt; &lt;property&gt; &lt;name&gt;dfs.namenode.name.dir&lt;/name&gt; &lt;value&gt;file:///opt/hadoop-2.6.0/hadoopdata/dfs/name&lt;/value&gt; &lt;/property&gt; &lt;property&gt; &lt;name&gt;dfs.datanode.data.dir&lt;/name&gt; &lt;value&gt;file:///opt/hadoop-2.6.0/hadoopdata/dfs/data&lt;/value&gt; &lt;/property&gt; &lt;property&gt; &lt;name&gt;fs.checkpoint.dir&lt;/name&gt; &lt;value&gt;file:///opt/hadoop-2." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/ef2a7494c8463380416904b6eacea2dd/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-07-19T16:24:00+08:00" />
<meta property="article:modified_time" content="2023-07-19T16:24:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">hadoop安装</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown" style="font-size: 16px;"> 
 <h2 id="hadoop安装">hadoop安装</h2> 
 <h3 id="零hadoop启动命令">零、hadoop启动命令</h3> 
 <pre class="has"><code class="language-shell">start-all.sh
start-dfs start-yarn
hadoop-deamons.sh yarn-deamons.sh
hadoop-deamon.sh yarn-deamon.sh
mr-jobhistoryserver.sh start historyserver
yarn-deamon.sh start timelineserver</code></pre> 
 <h3 id="一准备安装包">一、准备安装包</h3> 
 <p>D:\yilng\bigdata\hadoop\安装包 hadoop-2.6.0.tar.gz</p> 
 <h3 id="二使用scp工具上传到服务器">二、使用SCP工具上传到服务器</h3> 
 <pre class="has"><code class="language-shell"># 上传路径:/opt/install_bak
# 解压路径:/opt/
tar -zxvf /opt/install_bak/hadoop-2.6.0.tar.gz -C ../</code></pre> 
 <h3 id="三修改配置文件">三、修改配置文件</h3> 
 <h4 id="hadoop-envsh">hadoop-env.sh</h4> 
 <pre class="has"><code class="language-shell">vim hadoop-env.sh
export JAVA_HOME=/opta/jdk1.8.0_161</code></pre> 
 <h4 id="core-sitexml">core-site.xml</h4> 
 <pre class="has"><code class="language-shell">&lt;configuration&gt;
	&lt;property&gt;
		&lt;name&gt;fs.defaultFS&lt;/name&gt;
		&lt;value&gt;hdfs://master:8020&lt;/value&gt;
	&lt;/property&gt;
	&lt;property&gt;
		&lt;name&gt;io.file.buffer.size&lt;/name&gt;
		&lt;value&gt;4096&lt;/value&gt;
	&lt;/property&gt;
	&lt;property&gt;
		&lt;name&gt;hadoop.tmp.dir&lt;/name&gt;
		&lt;value&gt;/opt/hadoop-2.6.0/tmp&lt;/value&gt;
	&lt;/property&gt;
&lt;/configuration&gt;</code></pre> 
 <h4 id="hdfs-sitexml">hdfs-site.xml</h4> 
 <pre class="has"><code class="language-shell">&lt;configuration&gt;
	&lt;property&gt;
		&lt;name&gt;dfs.replication&lt;/name&gt;
		&lt;value&gt;3&lt;/value&gt;
	&lt;/property&gt;
	&lt;property&gt;
		&lt;name&gt;dfs.block.size&lt;/name&gt;
		&lt;value&gt;134217728&lt;/value&gt;
	&lt;/property&gt;
	&lt;property&gt;
		&lt;name&gt;dfs.namenode.name.dir&lt;/name&gt;
		&lt;value&gt;file:///opt/hadoop-2.6.0/hadoopdata/dfs/name&lt;/value&gt;
	&lt;/property&gt;
	&lt;property&gt;
		&lt;name&gt;dfs.datanode.data.dir&lt;/name&gt;
		&lt;value&gt;file:///opt/hadoop-2.6.0/hadoopdata/dfs/data&lt;/value&gt;
	&lt;/property&gt;
	&lt;property&gt;
		&lt;name&gt;fs.checkpoint.dir&lt;/name&gt;
		&lt;value&gt;file:///opt/hadoop-2.6.0/hadoopdata/checkpoint/dfs/cname&lt;/value&gt;
	&lt;/property&gt;
	&lt;property&gt;
		&lt;name&gt;fs.checkpoint.edits.dir&lt;/name&gt;
		&lt;value&gt;file:///opt/hadoop-2.6.0/hadoopdata/checkpoint/dfs/cname&lt;/value&gt;
	&lt;/property&gt;
	&lt;property&gt;
		&lt;name&gt;dfs.http.address&lt;/name&gt;
		&lt;value&gt;master:50070&lt;/value&gt;
	&lt;/property&gt;
	&lt;property&gt;
		&lt;name&gt;dfs.secondary.http.address&lt;/name&gt;
		&lt;value&gt;slave1:50090&lt;/value&gt;
	&lt;/property&gt;
	&lt;property&gt;
		&lt;name&gt;dfs.webhdfs.enabled&lt;/name&gt;
		&lt;value&gt;true&lt;/value&gt;
	&lt;/property&gt;
	&lt;property&gt;
		&lt;name&gt;dfs.permissions&lt;/name&gt;
		&lt;value&gt;false&lt;/value&gt;
	&lt;/property&gt;
&lt;/configuration&gt;</code></pre> 
 <h4 id="mapred-sitexml">mapred-site.xml</h4> 
 <pre class="has"><code class="language-shell">&lt;configuration&gt;
	&lt;property&gt;
		&lt;name&gt;mapreduce.framework.name&lt;/name&gt;
		&lt;value&gt;yarn&lt;/value&gt;
		&lt;final&gt;true&lt;/final&gt;
	&lt;/property&gt;
	&lt;property&gt;
		&lt;name&gt;mapreduce.jobhistory.address&lt;/name&gt;
		&lt;value&gt;master:10020&lt;/value&gt;
	&lt;/property&gt;
	&lt;property&gt;
		&lt;name&gt;mapreduce.jobhistory.webapp.address&lt;/name&gt;
		&lt;value&gt;master:19888&lt;/value&gt;
	&lt;/property&gt;
&lt;/configuration&gt;</code></pre> 
 <h4 id="yarn-sitexml">yarn-site.xml</h4> 
 <pre class="has"><code class="language-shell">&lt;configuration&gt;
	&lt;property&gt;
		&lt;name&gt;yarn.resourcemanager.hostname&lt;/name&gt;
		&lt;value&gt;master&lt;/value&gt;
	&lt;/property&gt;
	&lt;property&gt;
		&lt;name&gt;yarn.nodemanager.aux-services&lt;/name&gt;
		&lt;value&gt;mapreduce_shuffle&lt;/value&gt;
	&lt;/property&gt;
	&lt;property&gt;
		&lt;name&gt;yarn.resourcemanager.address&lt;/name&gt;
		&lt;value&gt;master:8032&lt;/value&gt;
	&lt;/property&gt;
	&lt;property&gt;
		&lt;name&gt;yarn.resourcemanager.scheduler.address&lt;/name&gt;
		&lt;value&gt;master:8030&lt;/value&gt;
	&lt;/property&gt;
	&lt;property&gt;
		&lt;name&gt;yarn.resourcemanager.resource-tracker.address&lt;/name&gt;
		&lt;value&gt;master:8031&lt;/value&gt;
	&lt;/property&gt;
	&lt;property&gt;
		&lt;name&gt;yarn.resourcemanager.admin.address&lt;/name&gt;
		&lt;value&gt;master:8033&lt;/value&gt;
	&lt;/property&gt;
	&lt;property&gt;
		&lt;name&gt;yarn.resourcemanager.webapp.address&lt;/name&gt;
		&lt;value&gt;master:8088&lt;/value&gt;
	&lt;/property&gt;
	
	&lt;property&gt;
		&lt;name&gt;yarn.nodemanager.pmem-check-enabled&lt;/name&gt;
		&lt;value&gt;false&lt;/value&gt;
	&lt;/property&gt;
	&lt;property&gt;
		&lt;name&gt;yarn.nodemanager.vmem-check-enabled&lt;/name&gt;
		&lt;value&gt;false&lt;/value&gt;
	&lt;/property&gt;



&lt;!--开启日志--&gt;
	&lt;property&gt;
		&lt;description&gt;&lt;/description&gt;
		&lt;name&gt;yarn.timeline-service.hostname&lt;/name&gt;
		&lt;value&gt;master&lt;/value&gt;
	&lt;/property&gt;
	&lt;property&gt;
		&lt;description&gt;Address for the Timeline server to start the RPC server.&lt;/description&gt;
		&lt;name&gt;yarn.timeline-service.address&lt;/name&gt;
		&lt;value&gt;${yarn.timeline-service.hostname}:10200&lt;/value&gt;
	&lt;/property&gt;
	&lt;property&gt;
		&lt;description&gt;The http address of the Timeline service web application.&lt;/description&gt;
		&lt;name&gt;yarn.timeline-service.webapp.address&lt;/name&gt;
		&lt;value&gt;${yarn.timeline-service.hostname}:8188&lt;/value&gt;
	&lt;/property&gt;
	&lt;property&gt;
		&lt;description&gt;The https address of the Timeline service web application.&lt;/description&gt;
		&lt;name&gt;yarn.timeline-service.webapp.https.address&lt;/name&gt;
		&lt;value&gt;${yarn.timeline-service.hostname}:8190&lt;/value&gt;
	&lt;/property&gt;
	&lt;property&gt;
		&lt;description&gt;Handler thread count to serve the client RPC requests.&lt;/description&gt;
		&lt;name&gt;yarn.timeline-service.handler-thread-count&lt;/name&gt;
		&lt;value&gt;10&lt;/value&gt;
	&lt;/property&gt;
	&lt;property&gt;
		&lt;name&gt;yarn.timeline-service.http-cross-origin.enabled&lt;/name&gt;  
		&lt;value&gt;false&lt;/value&gt;
	&lt;/property&gt;
	&lt;property&gt;
		&lt;name&gt;yarn.timeline-service.http-cross-origin.allowed-origins&lt;/name&gt; 
		&lt;value&gt;*&lt;/value&gt;
	&lt;/property&gt;
	&lt;property&gt;
		&lt;name&gt;yarn.timeline-service.http-cross-origin.allowed-methods&lt;/name&gt;
		&lt;value&gt;GET,POST,HEAD&lt;/value&gt;
	&lt;/property&gt;
	&lt;property&gt;
		&lt;name&gt;yarn.timeline-service.http-cross-origin.allowed-headers&lt;/name&gt;
		&lt;value&gt;X-Requested-With,Content-Type,Accept,Origin&lt;/value&gt;
	&lt;/property&gt;
	&lt;property&gt;
		&lt;name&gt;yarn.timeline-service.http-cross-origin.max-age&lt;/name&gt;
		&lt;value&gt;1800&lt;/value&gt;
	&lt;/property&gt;
	&lt;property&gt;
		&lt;name&gt;yarn.timeline-service.generic-application-history.enabled&lt;/name&gt;
		&lt;value&gt;true&lt;/value&gt;
	&lt;/property&gt;
	&lt;property&gt;
		&lt;name&gt;yarn.timeline-service.generic-application-history.store-class&lt;/name&gt;
		&lt;value&gt;org.apache.hadoop.yarn.server.applicationhistoryservice.FileSystemApplicationHistoryStore&lt;/value&gt;
	&lt;/property&gt;
	&lt;property&gt;
		&lt;name&gt;yarn.timeline-service.enabled&lt;/name&gt;
		&lt;value&gt;true&lt;/value&gt;
	&lt;/property&gt;
	&lt;property&gt;
		&lt;name&gt;yarn.timeline-service.store-class&lt;/name&gt;
		&lt;value&gt;org.apache.hadoop.yarn.server.timeline.LeveldbTimelineStore&lt;/value&gt;
	&lt;/property&gt;
	&lt;property&gt;
		&lt;name&gt;yarn.timeline-service.ttl-enable&lt;/name&gt;
		&lt;value&gt;true&lt;/value&gt;
	&lt;/property&gt;
	&lt;property&gt;
		&lt;name&gt;yarn.timeline-service.ttl-ms&lt;/name&gt;
		&lt;value&gt;6048000000&lt;/value&gt;
	&lt;/property&gt;
&lt;/configuration&gt;</code></pre> 
 <h4 id="slaves">slaves</h4> 
 <pre class="has"><code class="language-shell">master
slave1
slave2</code></pre> 
 <h4 id="master">master</h4> 
 <pre class="has"><code class="language-shell">master</code></pre> 
 <h3 id="四将配置好的jdk文件夹和hadoop文件夹发送给slave1和slave2服务器">四、将配置好的jdk文件夹和Hadoop文件夹发送给slave1和slave2服务器</h3> 
 <pre class="has"><code class="language-shell">scp -r jdk slave1:/opt/jdk
scp -r jdk slave2:/opt/jdk
scp -r /opt/hadoop-2.6.0 slave1:/opt/
scp -r /opt/hadoop-2.6.0 slave2:/opt/</code></pre> 
 <h3 id="五格式化">五、格式化</h3> 
 <pre class="has"><code class="language-shell">hadoop namenode -format</code></pre> 
 <h3 id="六启动hadoop集群">六、启动hadoop集群</h3> 
 <pre class="has"><code class="language-shell">start-dfs.sh
start-yarn.sh
或者
start-all.sh</code></pre> 
 <h3 id="七启动之后查看jps">七、启动之后查看jps</h3> 
 <p><img src="https://images2.imgbox.com/8e/3b/ORNLdkag_o.png" alt="image" style="outline: none;"></p> 
 <p><img src="https://images2.imgbox.com/01/a2/qqbCDmVB_o.png" alt="image" style="outline: none;"></p> 
 <p><img src="https://images2.imgbox.com/93/10/JxIRnvL7_o.png" alt="image" style="outline: none;"></p> 
</div>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/cf824f0fc1cc066078594d945cecd312/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">IDEA &#43; AI，一天开发一个系统！</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/e60ab44d3918f3d276a746fc6d453478/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Long.getLong和parseLong的区别</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>