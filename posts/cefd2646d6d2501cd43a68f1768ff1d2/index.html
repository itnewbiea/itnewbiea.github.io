<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>layui的使用（table/form）——layui踩坑记录 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="layui的使用（table/form）——layui踩坑记录" />
<meta property="og:description" content="公司之前的老系统是前后端不分离的MVC模式，是基于Layui开发的。
1.引入layui 引入文件的具体路径需要根据实际项目来。
&lt;link href=&#34;~/Content/plugins/layui-v2.4.3/layui/css/layui.css&#34; rel=&#34;stylesheet&#34; /&gt; &lt;script src=&#34;~/Content/plugins/layui-v2.4.3/layui/layui.js&#34;&gt;&lt;/script&gt; 2. 页面功能分析 页面结构如上图所示：
可以看到页面中有button input select table等。
button的使用 &lt;button class=&#34;layui-btn check&#34; onclick=&#34;refresh()&#34;&gt;刷新&lt;/button&gt;
刷新页面功能实现：
//刷新 function refresh() { window.location.reload(); } input的使用 &lt;input type=&#34;text&#34; style=&#34;width:300px;margin-right:10px;&#34; name=&#34;name&#34; id=&#34;name&#34; class=&#34;sinput&#34; placeholder=&#34;请输入供应商全称&#34; autofocus=&#34;&#34; maxlength=&#34;50&#34; /&gt;
获取input中的内容可以通过$(&#39;#name&#39;).val()的方式来获取
select的使用 &lt;select name=&#34;type&#34; lay-filter=&#34;aihao&#34; id=&#34;type&#34;&gt; &lt;option value=&#34;&#34;&gt;请选择供应商类型&lt;/option&gt; &lt;option value=&#34;1&#34;&gt;原厂&lt;/option&gt; &lt;option value=&#34;2&#34;&gt;代理&lt;/option&gt; &lt;option value=&#34;4&#34;&gt;贸易&lt;/option&gt; &lt;/select&gt; 获取select中选择的内容可以通过$(&#39;#type&#39;).val()的方式来获取
如果是需要通过接口获取select中的选项，然后动态渲染到页面中的话，则需要下面的方式：
layui.use([&#39;form&#39;], function () { var form = layui.form; //调用接口获取数据 //$.get(接口地址，函数回调) $.get(url &#43; &#34;Brand&#34;, function (res) { console." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/cefd2646d6d2501cd43a68f1768ff1d2/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-03-31T19:58:20+08:00" />
<meta property="article:modified_time" content="2021-03-31T19:58:20+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">layui的使用（table/form）——layui踩坑记录</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>公司之前的老系统是前后端不分离的MVC模式，是基于Layui开发的。</p> 
<h4><a id="1layui_2"></a>1.引入layui</h4> 
<p>引入文件的具体路径需要根据实际项目来。</p> 
<pre><code class="prism language-javascript"><span class="token operator">&lt;</span>link href<span class="token operator">=</span><span class="token string">"~/Content/plugins/layui-v2.4.3/layui/css/layui.css"</span> rel<span class="token operator">=</span><span class="token string">"stylesheet"</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">"~/Content/plugins/layui-v2.4.3/layui/layui.js"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> 
<h4><a id="2__8"></a>2. 页面功能分析</h4> 
<p><img src="https://images2.imgbox.com/db/ad/sncHgZUd_o.png" alt="在这里插入图片描述"><br> 页面结构如上图所示：<br> 可以看到页面中有button input select table等。</p> 
<h5><a id="button_13"></a>button的使用</h5> 
<p><code>&lt;button class="layui-btn check" onclick="refresh()"&gt;刷新&lt;/button&gt;</code></p> 
<p>刷新页面功能实现：</p> 
<pre><code class="prism language-javascript"><span class="token comment">//刷新</span>
<span class="token keyword">function</span> <span class="token function">refresh</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    window<span class="token punctuation">.</span>location<span class="token punctuation">.</span><span class="token function">reload</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h5><a id="input_23"></a>input的使用</h5> 
<p><code>&lt;input type="text" style="width:300px;margin-right:10px;" name="name" id="name" class="sinput" placeholder="请输入供应商全称" autofocus="" maxlength="50" /&gt;</code><br> 获取input中的内容可以通过<code>$('#name').val()</code>的方式来获取</p> 
<h5><a id="select_26"></a>select的使用</h5> 
<pre><code class="prism language-javascript"><span class="token operator">&lt;</span>select name<span class="token operator">=</span><span class="token string">"type"</span> lay<span class="token operator">-</span>filter<span class="token operator">=</span><span class="token string">"aihao"</span> id<span class="token operator">=</span><span class="token string">"type"</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token string">""</span><span class="token operator">&gt;</span>请选择供应商类型<span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token string">"1"</span><span class="token operator">&gt;</span>原厂<span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token string">"2"</span><span class="token operator">&gt;</span>代理<span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token string">"4"</span><span class="token operator">&gt;</span>贸易<span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>select<span class="token operator">&gt;</span>
</code></pre> 
<p>获取select中选择的内容可以通过<code>$('#type').val()</code>的方式来获取<br> 如果是需要通过接口获取select中的选项，然后动态渲染到页面中的话，则需要下面的方式：</p> 
<pre><code class="prism language-javascript">layui<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'form'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">var</span> form <span class="token operator">=</span> layui<span class="token punctuation">.</span>form<span class="token punctuation">;</span>
	<span class="token comment">//调用接口获取数据</span>
	<span class="token comment">//$.get(接口地址，函数回调)</span>
	$<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">"Brand"</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>success<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">var</span> select <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#brand"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//TypeID为HTML标签ID</span>
            $<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>items<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>index<span class="token punctuation">,</span> item<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                select<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Option</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>name<span class="token punctuation">,</span> item<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 下拉菜单里添加元素  这个地方的参数，第一个是展示文字，第二个是value值</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            layui<span class="token punctuation">.</span>form<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">"select"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> 
<p>这个地方花了我好久的时间，因为我开始用的是字符串拼接，模板字符串的方式我也用了，append和html的添加dom元素的方式都不生效，才百度到这个new Option的方式来处理……</p> 
<h5><a id="_56"></a>日期选择控件</h5> 
<p><code>&lt;input type="text" class="sinput" id="time1" placeholder="审核通过开始时间"&gt;</code><br> 使用方式如下：</p> 
<pre><code class="prism language-javascript">layui<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'laydate'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">var</span> laydate <span class="token operator">=</span> layui<span class="token punctuation">.</span>laydate<span class="token punctuation">;</span>
	<span class="token comment">//执行一个laydate实例</span>
    laydate<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
        elem<span class="token punctuation">:</span> <span class="token string">'#time1'</span> <span class="token comment">//指定元素</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> 
<h5><a id="table_68"></a>table的使用——这个内容很多</h5> 
<p>分别是：表格的渲染，表格操作按钮的添加及判断展示，表格的重载（条件检索），表格操作按钮的触发等；</p> 
<h6><a id="_71"></a>表格的渲染</h6> 
<p>html部分代码</p> 
<pre><code class="prism language-javascript"><span class="token operator">&lt;</span>div style<span class="token operator">=</span><span class="token string">"min-height: 500px;"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"list_data_list"</span><span class="token operator">&gt;</span>
   <span class="token operator">&lt;</span>table id<span class="token operator">=</span><span class="token string">"demo"</span> lay<span class="token operator">-</span>filter<span class="token operator">=</span><span class="token string">"test"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>table<span class="token operator">&gt;</span> <span class="token comment">//表格要渲染的dom元素  id用于渲染表格，lay-filter="test"用于触发事件</span>
   <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/html"</span> id<span class="token operator">=</span><span class="token string">"toolbarDemo"</span><span class="token operator">&gt;</span> <span class="token comment">//表格的操作按钮</span>
       <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"layui-btn-container"</span><span class="token operator">&gt;</span> <span class="token comment">//lay-event="update" 这种方式可以在监听表格操作按钮触发事件时能够监听到，ley-event的值可以自定义</span>
           <span class="token operator">&lt;</span>button type<span class="token operator">=</span><span class="token string">"button"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"layui-btn layui-btn-sm"</span> lay<span class="token operator">-</span>event<span class="token operator">=</span><span class="token string">"view"</span><span class="token operator">&gt;</span>查看<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
           <span class="token operator">&lt;</span>button type<span class="token operator">=</span><span class="token string">"button"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"layui-btn layui-btn-sm"</span> style<span class="token operator">=</span><span class="token string">"background:#409EFF"</span> lay<span class="token operator">-</span>event<span class="token operator">=</span><span class="token string">"update"</span><span class="token operator">&gt;</span>修改<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
           <span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span># <span class="token keyword">if</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span>state<span class="token operator">==</span><span class="token string">'启用'</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span> <span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token comment">//根据表格中的数据判断是否展示按钮</span>
           <span class="token operator">&lt;</span>button type<span class="token operator">=</span><span class="token string">"button"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"layui-btn layui-btn-sm"</span> style<span class="token operator">=</span><span class="token string">"background:red;"</span> id<span class="token operator">=</span><span class="token string">"statusoff"</span> lay<span class="token operator">-</span>event<span class="token operator">=</span><span class="token string">"off"</span><span class="token operator">&gt;</span>停用<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
           <span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span># <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>
           <span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span># <span class="token keyword">if</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span>state<span class="token operator">==</span><span class="token string">'禁用'</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span> <span class="token punctuation">}</span><span class="token punctuation">}</span>
           <span class="token operator">&lt;</span>button type<span class="token operator">=</span><span class="token string">"button"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"layui-btn layui-btn-sm"</span> style<span class="token operator">=</span><span class="token string">"background:green;"</span> id<span class="token operator">=</span><span class="token string">"statuson"</span> lay<span class="token operator">-</span>event<span class="token operator">=</span><span class="token string">"on"</span><span class="token operator">&gt;</span>启用<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
           <span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span># <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>
           <span class="token operator">&lt;</span>button type<span class="token operator">=</span><span class="token string">"button"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"layui-btn layui-btn-sm"</span> lay<span class="token operator">-</span>event<span class="token operator">=</span><span class="token string">"delete"</span><span class="token operator">&gt;</span>删除<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
       <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
   <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</code></pre> 
<p>js部分的代码：</p> 
<pre><code class="prism language-javascript">layui<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'table'</span><span class="token punctuation">,</span> <span class="token string">'layer'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">var</span> table <span class="token operator">=</span> layui<span class="token punctuation">.</span>table<span class="token punctuation">;</span>
	<span class="token comment">//第一个实例</span>
        table<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
            elem<span class="token punctuation">:</span> <span class="token string">'#demo'</span>  <span class="token comment">//html接口中的table的id</span>
            <span class="token punctuation">,</span> height<span class="token punctuation">:</span> tableHeight <span class="token comment">//这个我是动态改变的，例如浏览器clientHeight可视区域高度改变是的表格高度也相应改变，还有点bug</span>
            <span class="token punctuation">,</span> url<span class="token punctuation">:</span> url <span class="token operator">+</span> <span class="token string">"Supplier"</span> <span class="token comment">//数据接口</span>
            <span class="token punctuation">,</span> parseData<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>  <span class="token comment">//由于接口返回的数据结构与table中默认的数据接口不太一样，因此通过这个函数进行处理</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>res<span class="token punctuation">.</span>success<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">//这个是容错，如果接口返回给我false，我需要弹窗提示错误信息及展示空数据</span>
                    tableData <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
                    layer<span class="token punctuation">.</span><span class="token function">msg</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
                        <span class="token string">'code'</span><span class="token punctuation">:</span> res<span class="token punctuation">.</span>code<span class="token punctuation">,</span>
                        <span class="token string">'data'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                        <span class="token string">"count"</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">let</span> data <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>items<span class="token punctuation">;</span>
                data <span class="token operator">=</span> <span class="token function">getEndText</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token string">'type'</span><span class="token punctuation">,</span> typemenu<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//这个地方是调用了一个封装好的方法，将枚举数字改为文字，</span>
                data <span class="token operator">=</span> <span class="token function">getEndText</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token string">'platform'</span><span class="token punctuation">,</span> platformmenu<span class="token punctuation">)</span><span class="token punctuation">;</span>
                data <span class="token operator">=</span> <span class="token function">getEndText</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token string">'isTemp'</span><span class="token punctuation">,</span> isTempmenu<span class="token punctuation">)</span><span class="token punctuation">;</span>
                data <span class="token operator">=</span> <span class="token function">getEndText</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token string">'source'</span><span class="token punctuation">,</span> sourcemenu<span class="token punctuation">)</span><span class="token punctuation">;</span>
                data <span class="token operator">=</span> <span class="token function">getEndText</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token string">'checkState'</span><span class="token punctuation">,</span> checkStatemenu<span class="token punctuation">)</span><span class="token punctuation">;</span>
                data <span class="token operator">=</span> <span class="token function">getEndText</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token string">'state'</span><span class="token punctuation">,</span> statemenu<span class="token punctuation">)</span><span class="token punctuation">;</span>
                data <span class="token operator">=</span> <span class="token function">getEndText</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token string">'rank'</span><span class="token punctuation">,</span> rankmenu<span class="token punctuation">)</span><span class="token punctuation">;</span>
                data <span class="token operator">=</span> <span class="token function">getEndText</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token string">'payType'</span><span class="token punctuation">,</span> payTypemenu<span class="token punctuation">)</span><span class="token punctuation">;</span>
                data <span class="token operator">=</span> <span class="token function">getEndText</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token string">'accountPeriod'</span><span class="token punctuation">,</span> accountPeriodmenu<span class="token punctuation">)</span><span class="token punctuation">;</span>
                data <span class="token operator">=</span> <span class="token function">getEndText</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token string">'riskLevel'</span><span class="token punctuation">,</span> riskLevelmenu<span class="token punctuation">)</span><span class="token punctuation">;</span>
                data <span class="token operator">=</span> <span class="token function">getEndText</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token string">'warehouseType'</span><span class="token punctuation">,</span> warehouseTypemenu<span class="token punctuation">)</span><span class="token punctuation">;</span>
                tableData <span class="token operator">=</span> data<span class="token punctuation">;</span> 
                <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">//最终返回的格式如下:</span>
                    <span class="token string">'code'</span><span class="token punctuation">:</span> res<span class="token punctuation">.</span>code<span class="token punctuation">,</span>
                    <span class="token string">'data'</span><span class="token punctuation">:</span> data<span class="token punctuation">,</span>
                    <span class="token string">"count"</span><span class="token punctuation">:</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>total<span class="token punctuation">,</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
            <span class="token punctuation">,</span> page<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token comment">//开启分页</span>
            <span class="token punctuation">,</span> id<span class="token punctuation">:</span> <span class="token string">'demoId'</span> <span class="token comment">//指定table的id，后续可以通过这个id来进行表格的部分操作</span>
            <span class="token punctuation">,</span> loading<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token comment">//分页加载时展示加载中的提示</span>
            <span class="token punctuation">,</span> cols<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token comment">//表头</span>
                <span class="token punctuation">{<!-- --></span> type<span class="token punctuation">:</span> <span class="token string">'checkbox'</span> <span class="token punctuation">}</span>  <span class="token comment">//这个是最左侧的选择框</span>
                <span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> field<span class="token punctuation">:</span> <span class="token string">'id'</span><span class="token punctuation">,</span> title<span class="token punctuation">:</span> <span class="token string">'序号'</span><span class="token punctuation">,</span> width<span class="token punctuation">:</span> <span class="token number">60</span> <span class="token punctuation">}</span>
                <span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> field<span class="token punctuation">:</span> <span class="token string">'code'</span><span class="token punctuation">,</span> title<span class="token punctuation">:</span> <span class="token string">'供应商代码'</span><span class="token punctuation">,</span> width<span class="token punctuation">:</span> <span class="token number">100</span> <span class="token punctuation">}</span>
                <span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> field<span class="token punctuation">:</span> <span class="token string">'name'</span><span class="token punctuation">,</span> title<span class="token punctuation">:</span> <span class="token string">'供应商名称'</span><span class="token punctuation">,</span> width<span class="token punctuation">:</span> <span class="token number">200</span> <span class="token punctuation">}</span>
                <span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> field<span class="token punctuation">:</span> <span class="token string">'type'</span><span class="token punctuation">,</span> title<span class="token punctuation">:</span> <span class="token string">'供应商类型'</span><span class="token punctuation">,</span> width<span class="token punctuation">:</span> <span class="token number">100</span> <span class="token punctuation">}</span>
                <span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> field<span class="token punctuation">:</span> <span class="token string">'platform'</span><span class="token punctuation">,</span> title<span class="token punctuation">:</span> <span class="token string">'平台'</span><span class="token punctuation">,</span> width<span class="token punctuation">:</span> <span class="token number">100</span> <span class="token punctuation">}</span>
                <span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> field<span class="token punctuation">:</span> <span class="token string">'source'</span><span class="token punctuation">,</span> title<span class="token punctuation">:</span> <span class="token string">'来源'</span><span class="token punctuation">,</span> width<span class="token punctuation">:</span> <span class="token number">100</span> <span class="token punctuation">}</span>
                <span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> field<span class="token punctuation">:</span> <span class="token string">'contactName'</span><span class="token punctuation">,</span> title<span class="token punctuation">:</span> <span class="token string">'联系人姓名'</span><span class="token punctuation">,</span> width<span class="token punctuation">:</span> <span class="token number">100</span> <span class="token punctuation">}</span>
                <span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> field<span class="token punctuation">:</span> <span class="token string">'contactTele'</span><span class="token punctuation">,</span> title<span class="token punctuation">:</span> <span class="token string">'联系电话'</span><span class="token punctuation">,</span> width<span class="token punctuation">:</span> <span class="token number">150</span> <span class="token punctuation">}</span>
                <span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> field<span class="token punctuation">:</span> <span class="token string">'contactMobile'</span><span class="token punctuation">,</span> title<span class="token punctuation">:</span> <span class="token string">'联系手机号'</span><span class="token punctuation">,</span> width<span class="token punctuation">:</span> <span class="token number">150</span> <span class="token punctuation">}</span>
                <span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> field<span class="token punctuation">:</span> <span class="token string">'contactAddress'</span><span class="token punctuation">,</span> title<span class="token punctuation">:</span> <span class="token string">'联系地址'</span><span class="token punctuation">,</span> width<span class="token punctuation">:</span> <span class="token number">200</span> <span class="token punctuation">}</span>
                <span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> field<span class="token punctuation">:</span> <span class="token string">'isTemp'</span><span class="token punctuation">,</span> title<span class="token punctuation">:</span> <span class="token string">'临时供应商'</span><span class="token punctuation">,</span> width<span class="token punctuation">:</span> <span class="token number">100</span> <span class="token punctuation">}</span>
                <span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> field<span class="token punctuation">:</span> <span class="token string">'middleman'</span><span class="token punctuation">,</span> title<span class="token punctuation">:</span> <span class="token string">'采购对接人'</span><span class="token punctuation">,</span> width<span class="token punctuation">:</span> <span class="token number">100</span> <span class="token punctuation">}</span>
                <span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> field<span class="token punctuation">:</span> <span class="token string">'settleInTime'</span><span class="token punctuation">,</span> title<span class="token punctuation">:</span> <span class="token string">'审核通过时间'</span><span class="token punctuation">,</span> width<span class="token punctuation">:</span> <span class="token number">200</span> <span class="token punctuation">}</span>
                <span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> field<span class="token punctuation">:</span> <span class="token string">'rank'</span><span class="token punctuation">,</span> title<span class="token punctuation">:</span> <span class="token string">'等级'</span><span class="token punctuation">,</span> width<span class="token punctuation">:</span> <span class="token number">100</span> <span class="token punctuation">}</span>
                <span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> field<span class="token punctuation">:</span> <span class="token string">'state'</span><span class="token punctuation">,</span> title<span class="token punctuation">:</span> <span class="token string">'状态'</span><span class="token punctuation">,</span> width<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span>style<span class="token punctuation">:</span><span class="token string">'color:red'</span> <span class="token punctuation">}</span>
                <span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> field<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> title<span class="token punctuation">:</span> <span class="token string">'操作'</span><span class="token punctuation">,</span> toolbar<span class="token punctuation">:</span> <span class="token string">"#toolbarDemo"</span><span class="token punctuation">,</span> fixed<span class="token punctuation">:</span> <span class="token string">'right'</span><span class="token punctuation">,</span> width<span class="token punctuation">:</span> <span class="token number">260</span> <span class="token punctuation">}</span> <span class="token comment">//这个是操作按钮的位置，这个地方的toolbar需要跟html中的操作按钮的id保持一致，才能够将html按钮渲染到表格中</span>
            <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            done<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'done'</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">;</span>
                layer<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//触发复选事件   checkbox对应的是复选框  test对应的是table表格中的lay-filter="test"</span>
        table<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'checkbox(test)'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        	<span class="token comment">//判断obj对象是否为空的方式：获取所有的keys为一个数组，如果数组长度为0，则表示是个空对象</span>
        	<span class="token comment">// Object.keys(对象) 获取对象的key并返回一个数组</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// 如果是选中，则checked为true,如果是取消选中，则checked为false，这个可以打印一下obj的数据可以知道</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>obj<span class="token punctuation">.</span>checked<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    tableData<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>item <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
                        selectObj<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token comment">//我这边是需要获取到所有选中的对象中的id，并存储到一个数组中</span>
                    <span class="token punctuation">}</span><span class="token punctuation">)</span>

                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
                    selectObj <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
            <span class="token function">filterObj</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//如果是选中某项，则需要先判断是否已经包含此项，如果是取消某项，也需要先判断是否含有此项</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>selectObj<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//此处的selectObj是个id集合的数组，原谅我不严谨的起名方式……</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">function</span> <span class="token function">filterObj</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">var</span> len <span class="token operator">=</span> selectObj<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>obj<span class="token punctuation">.</span>checked<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>len<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>selectObj<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>data<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">//判断数组中是否包含某一项，可以通过 arr.indexOf(元素)的方式来判断，如果结果等于-1，则表示没有该项，如果含有该元素，则结果是索引值，根据索引值，将取消选中的元素splice掉</span>
                        selectObj<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>selectObj<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>data<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>selectObj<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>data<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    selectObj<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>data<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
            selectObj<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> index<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">//遍历数组，如果其中有Undefined，则移除掉</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>obj <span class="token operator">==</span> undefined<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    selectObj<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
     <span class="token comment">//触发操作事件 tool对应的就是操作按钮 test对应的是lay-filter="test"</span>
     table<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'tool(test)'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
         <span class="token keyword">var</span> id <span class="token operator">=</span> obj<span class="token punctuation">.</span>data<span class="token punctuation">.</span>id<span class="token punctuation">;</span> <span class="token comment">//点击操作按钮，对应的是一行数据，这行数据就是obj.data</span>
         <span class="token keyword">switch</span> <span class="token punctuation">(</span>obj<span class="token punctuation">.</span>event<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// 这就是  lay-event="off" 集合的所有的操作按钮</span>
             <span class="token keyword">case</span> <span class="token string">'view'</span><span class="token punctuation">:</span> <span class="token comment">//如果lay-event="view"查看功能，通过layer.open打开一个弹窗展示详情</span>
                 layer<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
                     type<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token comment">//这块的具体数字可以看文档，我对样式没有太多的要求，先实现功能</span>
                     icon<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                     title<span class="token punctuation">:</span> <span class="token string">'查看信息'</span><span class="token punctuation">,</span> <span class="token comment">//弹窗提示的标题</span>
                     maxmin<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                     area<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'1200px'</span><span class="token punctuation">,</span> <span class="token string">'80%'</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token comment">//宽高  如果设置为百分数，则根据浏览器的窗口来改变</span>
                     content<span class="token punctuation">:</span> <span class="token string">"Edit"</span><span class="token punctuation">,</span> <span class="token comment">//这个地方需要指定一个html页面或者要给链接，我的Edit页面是放在同一个文件路径下，因此直接写文件名即可，不用指定扩展名后缀。</span>
                     closeBtn<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">//关闭按钮的样式</span>
                     success<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>layero<span class="token punctuation">,</span> index<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">//如果弹窗成功弹出，则执行下面的代码</span>
                         console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>layero<span class="token punctuation">,</span> index<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//如果要给弹窗传递数据，则可以通过</span>
                         <span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span>layero<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">"iframe"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>contentWindow<span class="token punctuation">;</span>  <span class="token comment">//这个是固定写法</span>
                         <span class="token keyword">var</span> body <span class="token operator">=</span> layer<span class="token punctuation">.</span><span class="token function">getChildFrame</span><span class="token punctuation">(</span><span class="token string">'body'</span><span class="token punctuation">,</span> index<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//这个是固定写法</span>
                         body<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">".query"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token string">'id='</span> <span class="token operator">+</span> id <span class="token operator">+</span> <span class="token string">'&amp;state=look'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//这个body对应的就是弹层本身，我是在弹层页面有个input组件，class类名为query，可以通过body.find('.query')的方式获取到，通过val进行赋值，赋值内容是自定义的，然后在弹层中，给这个input设置样式为：字体为白色，或者透明色，是不会展示出来的。 </span>
                     <span class="token punctuation">}</span><span class="token punctuation">,</span>
                 <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                 <span class="token keyword">break</span><span class="token punctuation">;</span>
             <span class="token keyword">case</span> <span class="token string">'delete'</span><span class="token punctuation">:</span> <span class="token comment">//</span>
                 layer<span class="token punctuation">.</span><span class="token function">confirm</span><span class="token punctuation">(</span><span class="token string">'确定删除此条数据吗？'</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> icon<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> title<span class="token punctuation">:</span> <span class="token string">'提示'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>index<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                     console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>
                     <span class="token keyword">if</span> <span class="token punctuation">(</span>index<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                         $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
                             type<span class="token punctuation">:</span> <span class="token string">'delete'</span><span class="token punctuation">,</span>
                             url<span class="token punctuation">:</span> url <span class="token operator">+</span> <span class="token string">'Supplier?id='</span> <span class="token operator">+</span> id<span class="token punctuation">,</span>
                             success<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                                 layer<span class="token punctuation">.</span><span class="token function">msg</span><span class="token punctuation">(</span><span class="token string">"删除成功"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                 <span class="token function">searchTable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                             <span class="token punctuation">}</span>
                         <span class="token punctuation">}</span><span class="token punctuation">)</span>
                     <span class="token punctuation">}</span>
                     layer<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>
                 <span class="token punctuation">}</span><span class="token punctuation">)</span>
                 <span class="token keyword">break</span><span class="token punctuation">;</span>
             <span class="token keyword">case</span> <span class="token string">'update'</span><span class="token punctuation">:</span>
                 layer<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
                     type<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
                     icon<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                     title<span class="token punctuation">:</span> <span class="token string">'编辑信息'</span><span class="token punctuation">,</span>
                     maxmin<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                     area<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'1200px'</span><span class="token punctuation">,</span> <span class="token string">'80%'</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token comment">//宽高</span>
                     content<span class="token punctuation">:</span> <span class="token string">"Edit"</span><span class="token punctuation">,</span>
                     success<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>layero<span class="token punctuation">,</span> index<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                         console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>layero<span class="token punctuation">,</span> index<span class="token punctuation">)</span><span class="token punctuation">;</span>
                         <span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span>layero<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">"iframe"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>contentWindow<span class="token punctuation">;</span>
                         <span class="token keyword">var</span> body <span class="token operator">=</span> layer<span class="token punctuation">.</span><span class="token function">getChildFrame</span><span class="token punctuation">(</span><span class="token string">'body'</span><span class="token punctuation">,</span> index<span class="token punctuation">)</span><span class="token punctuation">;</span>
                         body<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">".query"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token string">'id='</span> <span class="token operator">+</span> id <span class="token operator">+</span> <span class="token string">'&amp;state=edit'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                     <span class="token punctuation">}</span>
                 <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                 <span class="token keyword">break</span><span class="token punctuation">;</span>
             <span class="token keyword">case</span> <span class="token string">'off'</span><span class="token punctuation">:</span>
                 layer<span class="token punctuation">.</span><span class="token function">confirm</span><span class="token punctuation">(</span><span class="token string">'确定停用吗?'</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> icon<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> title<span class="token punctuation">:</span> <span class="token string">'提示'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>index<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                     $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
                         type<span class="token punctuation">:</span> <span class="token string">"PATCH"</span><span class="token punctuation">,</span>
                         url<span class="token punctuation">:</span> url <span class="token operator">+</span> <span class="token string">"Supplier/Disable/"</span> <span class="token operator">+</span> id<span class="token punctuation">,</span>
                         contentType<span class="token punctuation">:</span> <span class="token string">"application/x-www-form-urlencoded"</span><span class="token punctuation">,</span>
                         success<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                             console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
                             <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>success<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                                 layer<span class="token punctuation">.</span><span class="token function">msg</span><span class="token punctuation">(</span><span class="token string">'停用成功'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                 <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
                                     layer<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                     window<span class="token punctuation">.</span>location<span class="token punctuation">.</span><span class="token function">reload</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                 <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span>
                             <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
                                 layer<span class="token punctuation">.</span><span class="token function">msg</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>message<span class="token punctuation">)</span>
                             <span class="token punctuation">}</span>
                         <span class="token punctuation">}</span>
                     <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                 <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                 <span class="token keyword">break</span><span class="token punctuation">;</span>
             <span class="token keyword">case</span> <span class="token string">'on'</span><span class="token punctuation">:</span>
                 layer<span class="token punctuation">.</span><span class="token function">confirm</span><span class="token punctuation">(</span><span class="token string">'确定启用吗?'</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> icon<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> title<span class="token punctuation">:</span> <span class="token string">'提示'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>index<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                     $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
                         type<span class="token punctuation">:</span> <span class="token string">"PATCH"</span><span class="token punctuation">,</span>
                         url<span class="token punctuation">:</span> url <span class="token operator">+</span> <span class="token string">"Supplier/UnDisable/"</span> <span class="token operator">+</span> id<span class="token punctuation">,</span>
                         contentType<span class="token punctuation">:</span> <span class="token string">"application/x-www-form-urlencoded"</span><span class="token punctuation">,</span>
                         success<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                             console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
                             <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>success<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                                 layer<span class="token punctuation">.</span><span class="token function">msg</span><span class="token punctuation">(</span><span class="token string">'启用成功'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                 <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
                                     layer<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                     window<span class="token punctuation">.</span>location<span class="token punctuation">.</span><span class="token function">reload</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                 <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span>
                             <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
                                 layer<span class="token punctuation">.</span><span class="token function">msg</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>message<span class="token punctuation">)</span>
                             <span class="token punctuation">}</span>
                         <span class="token punctuation">}</span>
                     <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                 <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                 <span class="token keyword">break</span><span class="token punctuation">;</span>
         <span class="token punctuation">}</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/de8e0e23d4cf294ea1fc0b9bef36a72f/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Android Studio 3.0 Profiler 性能分析利器</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a003b125ceebd74a6c7f0eaab5f6889f/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">ctf题php反序列化,从一道CTF题中学习php反序列化与伪协议</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>