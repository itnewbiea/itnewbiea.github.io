<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>(åŸºäºmysqlçš„javaæ¯•ä¸šè®¾è®¡)åœ¨çº¿ç­”é¢˜ç³»ç»Ÿ(é™„æºç &#43;è®ºæ–‡) - ITå­¦ä¹ è€…åšå®¢</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="(åŸºäºmysqlçš„javaæ¯•ä¸šè®¾è®¡)åœ¨çº¿ç­”é¢˜ç³»ç»Ÿ(é™„æºç &#43;è®ºæ–‡)" />
<meta property="og:description" content="å¤§å®¶å¥½ï¼æˆ‘æ˜¯èŒåœºç¨‹åºçŒ¿ï¼Œæ„Ÿè°¢æ‚¨é˜…è¯»æœ¬æ–‡ï¼Œæ¬¢è¿ä¸€é”®ä¸‰è¿å“¦ã€‚
ğŸ’å½“å‰ä¸“æ ï¼šJavaæ¯•ä¸šè®¾è®¡
ç²¾å½©ä¸“æ æ¨èğŸ‘‡ğŸ»ğŸ‘‡ğŸ»ğŸ‘‡ğŸ»
ğŸ‘‰ğŸ€ å®‰å“appæ¯•ä¸šè®¾è®¡
ğŸ‘‰ğŸŒå¾®ä¿¡å°ç¨‹åºæ¯•ä¸šè®¾è®¡
ç›®å½• ä¸€ã€é¡¹ç›®ç®€ä»‹äºŒã€ç³»ç»Ÿè®¾è®¡2.1è½¯ä»¶åŠŸèƒ½æ¨¡å—è®¾è®¡2.2æ•°æ®åº“è®¾è®¡ ä¸‰ã€ç³»ç»Ÿé¡¹ç›®éƒ¨åˆ†æˆªå›¾3.1ç”¨æˆ·ç®¡ç†åŠŸèƒ½3.2ç®¡ç†å‘˜åŠŸèƒ½æ¨¡å— å››ã€è®ºæ–‡ç›®å½•äº”ã€éƒ¨åˆ†æ ¸å¿ƒä»£ç 4.1 ç”¨æˆ·éƒ¨åˆ† è·å–æºç æˆ–è®ºæ–‡ ä¸€ã€é¡¹ç›®ç®€ä»‹ è®ºæ–‡ä¸»è¦æ˜¯å¯¹åœ¨çº¿ç­”é¢˜ç³»ç»Ÿè¿›è¡Œäº†ä»‹ç»ï¼ŒåŒ…æ‹¬ç ”ç©¶çš„ç°çŠ¶ï¼Œè¿˜æœ‰æ¶‰åŠçš„å¼€å‘èƒŒæ™¯ï¼Œç„¶åè¿˜å¯¹ç³»ç»Ÿçš„è®¾è®¡ç›®æ ‡è¿›è¡Œäº†è®ºè¿°ï¼Œè¿˜æœ‰ç³»ç»Ÿçš„éœ€æ±‚ï¼Œä»¥åŠæ•´ä¸ªçš„è®¾è®¡æ–¹æ¡ˆï¼Œå¯¹ç³»ç»Ÿçš„è®¾è®¡ä»¥åŠå®ç°ï¼Œä¹Ÿéƒ½è®ºè¿°çš„æ¯”è¾ƒç»†è‡´ï¼Œæœ€åå¯¹åœ¨çº¿ç­”é¢˜ç³»ç»Ÿè¿›è¡Œäº†ä¸€äº›å…·ä½“æµ‹è¯•ã€‚
æœ¬æ–‡ä»¥javaä¸ºå¼€å‘æŠ€æœ¯ï¼Œå®ç°äº†ä¸€ä¸ªåœ¨çº¿ç­”é¢˜ç³»ç»Ÿã€‚åœ¨çº¿ç­”é¢˜ç³»ç»Ÿçš„ä¸»è¦ä½¿ç”¨è€…åˆ†ä¸ºç®¡ç†å‘˜ã€ç”¨æˆ·ï¼›ç®¡ç†å‘˜ï¼šé¦–é¡µã€ç®¡ç†å‘˜ä¿¡æ¯ã€ç”¨æˆ·ä¿¡æ¯ã€æ–°é—»èµ„è®¯ã€å…¬å‘Šä¿¡æ¯ã€è¯•é¢˜ç±»åˆ«ã€é¢˜å‹ä¿¡æ¯ã€è¯•é¢˜ä¿¡æ¯ã€è¯•å·ä¿¡æ¯ã€æˆç»©ä¿¡æ¯ã€ä¸ªäººä¿¡æ¯ã€ä¿®æ”¹å¯†ç ã€é€€å‡ºç™»å½•ï¼›ç”¨æˆ·ï¼šé¦–é¡µã€æ–°é—»èµ„è®¯ã€å…¬å‘Šä¿¡æ¯ã€è¯•é¢˜ç±»åˆ«ã€é¢˜å‹ä¿¡æ¯ã€è¯•é¢˜ä¿¡æ¯ã€è¯•å·ä¿¡æ¯ã€æˆç»©ä¿¡æ¯ã€ä¸ªäººä¿¡æ¯ã€ä¿®æ”¹å¯†ç ã€é€€å‡ºç™»å½•ç­‰åŠŸèƒ½ã€‚é€šè¿‡è¿™äº›åŠŸèƒ½æ¨¡å—çš„è®¾è®¡ï¼ŒåŸºæœ¬ä¸Šå®ç°äº†æ•´ä¸ªè¯¾ç¨‹ä¿¡æ¯ç®¡ç†çš„è¿‡ç¨‹ã€‚
å…·ä½“åœ¨ç³»ç»Ÿè®¾è®¡ä¸Šï¼Œé‡‡ç”¨äº†B/Sçš„ç»“æ„ï¼ŒåŒæ—¶ï¼Œä¹Ÿä½¿ç”¨javaæŠ€æœ¯åœ¨åŠ¨æ€é¡µé¢ä¸Šè¿›è¡Œäº†è®¾è®¡ï¼Œåå°ä¸Šé‡‡ç”¨Mysqlæ•°æ®åº“ï¼Œæ˜¯ä¸€ä¸ªéå¸¸ä¼˜ç§€çš„åœ¨çº¿ç­”é¢˜ç³»ç»Ÿã€‚
äºŒã€ç³»ç»Ÿè®¾è®¡ 2.1è½¯ä»¶åŠŸèƒ½æ¨¡å—è®¾è®¡ ç³»ç»Ÿæ¶æ„å›¾å±äºç³»ç»Ÿè®¾è®¡é˜¶æ®µï¼Œç³»ç»Ÿæ¶æ„å›¾åªæ˜¯è¿™ä¸ªé˜¶æ®µä¸€ä¸ªäº§ç‰©ï¼Œç³»ç»Ÿçš„æ€»ä½“æ¶æ„å†³å®šäº†æ•´ä¸ªç³»ç»Ÿçš„æ¨¡å¼ï¼Œæ˜¯ç³»ç»Ÿçš„åŸºç¡€ã€‚åœ¨çº¿ç­”é¢˜ç³»ç»Ÿçš„æ•´ä½“ç»“æ„è®¾è®¡å¦‚å›¾4-2æ‰€ç¤ºã€‚
2.2æ•°æ®åº“è®¾è®¡ æœ¬ç³»ç»Ÿçš„E-Rå›¾å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
1ã€è¯•é¢˜ä¿¡æ¯ç®¡ç†å®ä½“å›¾å¦‚å›¾4-3æ‰€ç¤ºï¼š
2ã€è¯•å·ä¿¡æ¯ç®¡ç†å®ä½“å›¾å¦‚å›¾4-4æ‰€ç¤ºï¼š
ä¸‰ã€ç³»ç»Ÿé¡¹ç›®éƒ¨åˆ†æˆªå›¾ 3.1ç”¨æˆ·ç®¡ç†åŠŸèƒ½ ç”¨æˆ·è¿›å…¥ç³»ç»Ÿå¯ä»¥å¯¹é¦–é¡µã€æ–°é—»èµ„è®¯ã€å…¬å‘Šä¿¡æ¯ã€è¯•é¢˜ç±»åˆ«ã€é¢˜å‹ä¿¡æ¯ã€è¯•é¢˜ä¿¡æ¯ã€è¯•å·ä¿¡æ¯ã€æˆç»©ä¿¡æ¯ã€ä¸ªäººä¿¡æ¯ã€ä¿®æ”¹å¯†ç ã€é€€å‡ºç™»å½•ç­‰åŠŸèƒ½è¿›è¡Œæ“ä½œã€‚ç¨‹åºæ•ˆæœå›¾å¦‚ä¸‹å›¾5-9æ‰€ç¤ºï¼š
3.2ç®¡ç†å‘˜åŠŸèƒ½æ¨¡å— 2.1 ç®¡ç†å‘˜åŠŸèƒ½
ç®¡ç†å‘˜å¯¹ç™»å½•åå°åå¯ä»¥å¯¹é¦–é¡µã€ç®¡ç†å‘˜ä¿¡æ¯ã€ç”¨æˆ·ä¿¡æ¯ã€æ–°é—»èµ„è®¯ã€å…¬å‘Šä¿¡æ¯ã€è¯•é¢˜ç±»åˆ«ã€é¢˜å‹ä¿¡æ¯ã€è¯•é¢˜ä¿¡æ¯ã€è¯•å·ä¿¡æ¯ã€æˆç»©ä¿¡æ¯ã€ä¸ªäººä¿¡æ¯ã€ä¿®æ”¹å¯†ç ã€é€€å‡ºç™»å½•ç­‰å†…å®¹è¿›è¡Œç›¸å…³æ“ä½œã€‚ç¨‹åºæˆæ•ˆå›¾å¦‚ä¸‹å›¾5-2æ‰€ç¤º:
å››ã€è®ºæ–‡ç›®å½• 1 æ¦‚è¿° 1
1.1è¯¾é¢˜èƒŒæ™¯åŠæ„ä¹‰ 1
1.2 å›½å†…å¤–ç ”ç©¶ç°çŠ¶ 1
1.3 æœ¬è¯¾é¢˜ä¸»è¦å·¥ä½œ 2
2 ç³»ç»Ÿå¼€å‘ç¯å¢ƒ 3
2.1 javaæŠ€æœ¯ 3
2.2 Mysqlæ•°æ®åº“ 3
2.3 B/Sç»“æ„ 4
3 ç³»ç»Ÿåˆ†æ 5
3.1 å¯è¡Œæ€§åˆ†æ 5
3.1.1 æŠ€æœ¯å¯è¡Œæ€§ 5
3.1.2æ“ä½œå¯è¡Œæ€§ 5
3.1.3 ç»æµå¯è¡Œæ€§ 5
3.1.4 æ³•å¾‹å¯è¡Œæ€§ 6" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/19d68f089da4a7de095332d9444d06e6/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-05-16T15:03:13+08:00" />
<meta property="article:modified_time" content="2023-05-16T15:03:13+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ITå­¦ä¹ è€…åšå®¢" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ITå­¦ä¹ è€…åšå®¢</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">(åŸºäºmysqlçš„javaæ¯•ä¸šè®¾è®¡)åœ¨çº¿ç­”é¢˜ç³»ç»Ÿ(é™„æºç &#43;è®ºæ–‡)</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><strong>å¤§å®¶å¥½ï¼æˆ‘æ˜¯èŒåœºç¨‹åºçŒ¿ï¼Œæ„Ÿè°¢æ‚¨é˜…è¯»æœ¬æ–‡ï¼Œæ¬¢è¿ä¸€é”®ä¸‰è¿å“¦ã€‚</strong></p> 
<blockquote> 
 <p>ğŸ’å½“å‰ä¸“æ ï¼š<a href="https://blog.csdn.net/2301_76953549/category_12286090.html">Javaæ¯•ä¸šè®¾è®¡</a></p> 
</blockquote> 
<p>ç²¾å½©ä¸“æ æ¨èğŸ‘‡ğŸ»ğŸ‘‡ğŸ»ğŸ‘‡ğŸ»</p> 
<blockquote> 
 <p>ğŸ‘‰ğŸ€ <a href="https://blog.csdn.net/2301_76953549/category_12293087.html">å®‰å“appæ¯•ä¸šè®¾è®¡</a><br> ğŸ‘‰ğŸŒ<a href="https://blog.csdn.net/2301_76953549/category_12297414.html">å¾®ä¿¡å°ç¨‹åºæ¯•ä¸šè®¾è®¡</a></p> 
</blockquote> 
<p></p> 
<div class="toc"> 
 <h4>ç›®å½•</h4> 
 <ul><li><a href="#_10" rel="nofollow">ä¸€ã€é¡¹ç›®ç®€ä»‹</a></li><li><a href="#_14" rel="nofollow">äºŒã€ç³»ç»Ÿè®¾è®¡</a></li><li><ul><li><a href="#21_16" rel="nofollow">2.1è½¯ä»¶åŠŸèƒ½æ¨¡å—è®¾è®¡</a></li><li><a href="#22_27" rel="nofollow">2.2æ•°æ®åº“è®¾è®¡</a></li></ul> 
  </li><li><a href="#_37" rel="nofollow">ä¸‰ã€ç³»ç»Ÿé¡¹ç›®éƒ¨åˆ†æˆªå›¾</a></li><li><ul><li><a href="#31_39" rel="nofollow">3.1ç”¨æˆ·ç®¡ç†åŠŸèƒ½</a></li><li><a href="#32_43" rel="nofollow">3.2ç®¡ç†å‘˜åŠŸèƒ½æ¨¡å—</a></li></ul> 
  </li><li><a href="#_49" rel="nofollow">å››ã€è®ºæ–‡ç›®å½•</a></li><li><a href="#_91" rel="nofollow">äº”ã€éƒ¨åˆ†æ ¸å¿ƒä»£ç </a></li><li><ul><li><a href="#41__93" rel="nofollow">4.1 ç”¨æˆ·éƒ¨åˆ†</a></li></ul> 
  </li><li><a href="#_323" rel="nofollow">è·å–æºç æˆ–è®ºæ–‡</a></li></ul> 
</div> 
<p></p> 
<h2><a id="_10"></a>ä¸€ã€é¡¹ç›®ç®€ä»‹</h2> 
<p>è®ºæ–‡ä¸»è¦æ˜¯å¯¹åœ¨çº¿ç­”é¢˜ç³»ç»Ÿè¿›è¡Œäº†ä»‹ç»ï¼ŒåŒ…æ‹¬ç ”ç©¶çš„ç°çŠ¶ï¼Œè¿˜æœ‰æ¶‰åŠçš„å¼€å‘èƒŒæ™¯ï¼Œç„¶åè¿˜å¯¹ç³»ç»Ÿçš„è®¾è®¡ç›®æ ‡è¿›è¡Œäº†è®ºè¿°ï¼Œè¿˜æœ‰ç³»ç»Ÿçš„éœ€æ±‚ï¼Œä»¥åŠæ•´ä¸ªçš„è®¾è®¡æ–¹æ¡ˆï¼Œå¯¹ç³»ç»Ÿçš„è®¾è®¡ä»¥åŠå®ç°ï¼Œä¹Ÿéƒ½è®ºè¿°çš„æ¯”è¾ƒç»†è‡´ï¼Œæœ€åå¯¹åœ¨çº¿ç­”é¢˜ç³»ç»Ÿè¿›è¡Œäº†ä¸€äº›å…·ä½“æµ‹è¯•ã€‚<br> æœ¬æ–‡ä»¥javaä¸ºå¼€å‘æŠ€æœ¯ï¼Œå®ç°äº†ä¸€ä¸ªåœ¨çº¿ç­”é¢˜ç³»ç»Ÿã€‚åœ¨çº¿ç­”é¢˜ç³»ç»Ÿçš„ä¸»è¦ä½¿ç”¨è€…åˆ†ä¸ºç®¡ç†å‘˜ã€ç”¨æˆ·ï¼›ç®¡ç†å‘˜ï¼šé¦–é¡µã€ç®¡ç†å‘˜ä¿¡æ¯ã€ç”¨æˆ·ä¿¡æ¯ã€æ–°é—»èµ„è®¯ã€å…¬å‘Šä¿¡æ¯ã€è¯•é¢˜ç±»åˆ«ã€é¢˜å‹ä¿¡æ¯ã€è¯•é¢˜ä¿¡æ¯ã€è¯•å·ä¿¡æ¯ã€æˆç»©ä¿¡æ¯ã€ä¸ªäººä¿¡æ¯ã€ä¿®æ”¹å¯†ç ã€é€€å‡ºç™»å½•ï¼›ç”¨æˆ·ï¼šé¦–é¡µã€æ–°é—»èµ„è®¯ã€å…¬å‘Šä¿¡æ¯ã€è¯•é¢˜ç±»åˆ«ã€é¢˜å‹ä¿¡æ¯ã€è¯•é¢˜ä¿¡æ¯ã€è¯•å·ä¿¡æ¯ã€æˆç»©ä¿¡æ¯ã€ä¸ªäººä¿¡æ¯ã€ä¿®æ”¹å¯†ç ã€é€€å‡ºç™»å½•ç­‰åŠŸèƒ½ã€‚é€šè¿‡è¿™äº›åŠŸèƒ½æ¨¡å—çš„è®¾è®¡ï¼ŒåŸºæœ¬ä¸Šå®ç°äº†æ•´ä¸ªè¯¾ç¨‹ä¿¡æ¯ç®¡ç†çš„è¿‡ç¨‹ã€‚<br> å…·ä½“åœ¨ç³»ç»Ÿè®¾è®¡ä¸Šï¼Œé‡‡ç”¨äº†B/Sçš„ç»“æ„ï¼ŒåŒæ—¶ï¼Œä¹Ÿä½¿ç”¨javaæŠ€æœ¯åœ¨åŠ¨æ€é¡µé¢ä¸Šè¿›è¡Œäº†è®¾è®¡ï¼Œåå°ä¸Šé‡‡ç”¨Mysqlæ•°æ®åº“ï¼Œæ˜¯ä¸€ä¸ªéå¸¸ä¼˜ç§€çš„åœ¨çº¿ç­”é¢˜ç³»ç»Ÿã€‚</p> 
<h2><a id="_14"></a>äºŒã€ç³»ç»Ÿè®¾è®¡</h2> 
<h3><a id="21_16"></a>2.1è½¯ä»¶åŠŸèƒ½æ¨¡å—è®¾è®¡</h3> 
<p>ç³»ç»Ÿæ¶æ„å›¾å±äºç³»ç»Ÿè®¾è®¡é˜¶æ®µï¼Œç³»ç»Ÿæ¶æ„å›¾åªæ˜¯è¿™ä¸ªé˜¶æ®µä¸€ä¸ªäº§ç‰©ï¼Œç³»ç»Ÿçš„æ€»ä½“æ¶æ„å†³å®šäº†æ•´ä¸ªç³»ç»Ÿçš„æ¨¡å¼ï¼Œæ˜¯ç³»ç»Ÿçš„åŸºç¡€ã€‚åœ¨çº¿ç­”é¢˜ç³»ç»Ÿçš„æ•´ä½“ç»“æ„è®¾è®¡å¦‚å›¾4-2æ‰€ç¤ºã€‚<br> <img src="https://images2.imgbox.com/11/1e/Kd0k3LGY_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h3><a id="22_27"></a>2.2æ•°æ®åº“è®¾è®¡</h3> 
<p>æœ¬ç³»ç»Ÿçš„E-Rå›¾å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š<br> 1ã€è¯•é¢˜ä¿¡æ¯ç®¡ç†å®ä½“å›¾å¦‚å›¾4-3æ‰€ç¤ºï¼š<img src="https://images2.imgbox.com/51/5e/QSpLGqZr_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>2ã€è¯•å·ä¿¡æ¯ç®¡ç†å®ä½“å›¾å¦‚å›¾4-4æ‰€ç¤ºï¼š<img src="https://images2.imgbox.com/29/86/qb692bZ6_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h2><a id="_37"></a>ä¸‰ã€ç³»ç»Ÿé¡¹ç›®éƒ¨åˆ†æˆªå›¾</h2> 
<h3><a id="31_39"></a>3.1ç”¨æˆ·ç®¡ç†åŠŸèƒ½</h3> 
<p>ç”¨æˆ·è¿›å…¥ç³»ç»Ÿå¯ä»¥å¯¹é¦–é¡µã€æ–°é—»èµ„è®¯ã€å…¬å‘Šä¿¡æ¯ã€è¯•é¢˜ç±»åˆ«ã€é¢˜å‹ä¿¡æ¯ã€è¯•é¢˜ä¿¡æ¯ã€è¯•å·ä¿¡æ¯ã€æˆç»©ä¿¡æ¯ã€ä¸ªäººä¿¡æ¯ã€ä¿®æ”¹å¯†ç ã€é€€å‡ºç™»å½•ç­‰åŠŸèƒ½è¿›è¡Œæ“ä½œã€‚ç¨‹åºæ•ˆæœå›¾å¦‚ä¸‹å›¾5-9æ‰€ç¤ºï¼š<img src="https://images2.imgbox.com/de/5d/Tuq3ETQz_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h3><a id="32_43"></a>3.2ç®¡ç†å‘˜åŠŸèƒ½æ¨¡å—</h3> 
<p>2.1 ç®¡ç†å‘˜åŠŸèƒ½<br> ç®¡ç†å‘˜å¯¹ç™»å½•åå°åå¯ä»¥å¯¹é¦–é¡µã€ç®¡ç†å‘˜ä¿¡æ¯ã€ç”¨æˆ·ä¿¡æ¯ã€æ–°é—»èµ„è®¯ã€å…¬å‘Šä¿¡æ¯ã€è¯•é¢˜ç±»åˆ«ã€é¢˜å‹ä¿¡æ¯ã€è¯•é¢˜ä¿¡æ¯ã€è¯•å·ä¿¡æ¯ã€æˆç»©ä¿¡æ¯ã€ä¸ªäººä¿¡æ¯ã€ä¿®æ”¹å¯†ç ã€é€€å‡ºç™»å½•ç­‰å†…å®¹è¿›è¡Œç›¸å…³æ“ä½œã€‚ç¨‹åºæˆæ•ˆå›¾å¦‚ä¸‹å›¾5-2æ‰€ç¤º:<img src="https://images2.imgbox.com/35/33/57RDcUe4_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h2><a id="_49"></a>å››ã€è®ºæ–‡ç›®å½•</h2> 
<p>1 æ¦‚è¿° 1<br> 1.1è¯¾é¢˜èƒŒæ™¯åŠæ„ä¹‰ 1<br> 1.2 å›½å†…å¤–ç ”ç©¶ç°çŠ¶ 1<br> 1.3 æœ¬è¯¾é¢˜ä¸»è¦å·¥ä½œ 2<br> 2 ç³»ç»Ÿå¼€å‘ç¯å¢ƒ 3<br> 2.1 javaæŠ€æœ¯ 3<br> 2.2 Mysqlæ•°æ®åº“ 3<br> 2.3 B/Sç»“æ„ 4<br> 3 ç³»ç»Ÿåˆ†æ 5<br> 3.1 å¯è¡Œæ€§åˆ†æ 5<br> 3.1.1 æŠ€æœ¯å¯è¡Œæ€§ 5<br> 3.1.2æ“ä½œå¯è¡Œæ€§ 5<br> 3.1.3 ç»æµå¯è¡Œæ€§ 5<br> 3.1.4 æ³•å¾‹å¯è¡Œæ€§ 6<br> 3.2ç³»ç»Ÿæµç¨‹åˆ†æ 6<br> 3.2.1ç³»ç»Ÿå¼€å‘æµç¨‹ 6<br> 3.2.2 ç”¨æˆ·ç™»å½•æµç¨‹ 7<br> 3.2.3 ç³»ç»Ÿæ“ä½œæµç¨‹ 7<br> 3.2.4 æ·»åŠ ä¿¡æ¯æµç¨‹ 8<br> 3.2.5 ä¿®æ”¹ä¿¡æ¯æµç¨‹ 9<br> 3.2.6 åˆ é™¤ä¿¡æ¯æµç¨‹ 9<br> 3.3ç³»ç»Ÿç”¨ä¾‹åˆ†æ 10<br> 3.3.1ç®¡ç†å‘˜ç”¨ä¾‹å›¾ 10<br> 3.3.2ç”¨æˆ·ç”¨ä¾‹å›¾ 10<br> 4 ç³»ç»Ÿè®¾è®¡ 11<br> 4.1 ç³»ç»Ÿæ¦‚è¿° 11<br> 4.2 ç³»ç»Ÿç»“æ„è®¾è®¡ 12<br> 4.3æ•°æ®åº“è®¾è®¡ 13<br> 4.3.1 æ•°æ®åº“è®¾è®¡åŸåˆ™ 13<br> 4.3.2 æ•°æ®åº“å®ä½“ 13<br> 4.3.3 æ•°æ®åº“è¡¨è®¾è®¡ 14<br> 5ç³»ç»Ÿç•Œé¢å®ç° 17<br> 5.1 ç™»å½• 17<br> 5.2 ç®¡ç†å‘˜åŠŸèƒ½æ¨¡å— 17<br> 6ç³»ç»Ÿæµ‹è¯• 22<br> 6.1ç³»ç»Ÿæµ‹è¯•çš„æ„ä¹‰ 22<br> 6.2 æµ‹è¯•æ–¹æ³• 23<br> 6.3æµ‹è¯•åˆ†æ 23<br> ç»“ è®º 24<br> è‡´ è°¢ 25<br> å‚è€ƒæ–‡çŒ® 26</p> 
<h2><a id="_91"></a>äº”ã€éƒ¨åˆ†æ ¸å¿ƒä»£ç </h2> 
<h3><a id="41__93"></a>4.1 ç”¨æˆ·éƒ¨åˆ†</h3> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>controller</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">cn<span class="token punctuation">.</span>hutool<span class="token punctuation">.</span>core<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">StrUtil</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">cn<span class="token punctuation">.</span>hutool<span class="token punctuation">.</span>crypto<span class="token punctuation">.</span></span><span class="token class-name">SecureUtil</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">cn<span class="token punctuation">.</span>hutool<span class="token punctuation">.</span>json<span class="token punctuation">.</span></span><span class="token class-name">JSONArray</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">cn<span class="token punctuation">.</span>hutool<span class="token punctuation">.</span>json<span class="token punctuation">.</span></span><span class="token class-name">JSONObject</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">cn<span class="token punctuation">.</span>hutool<span class="token punctuation">.</span>setting<span class="token punctuation">.</span>dialect<span class="token punctuation">.</span></span><span class="token class-name">Props</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>common<span class="token punctuation">.</span></span><span class="token class-name">Result</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>common<span class="token punctuation">.</span></span><span class="token class-name">ResultCode</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>entity<span class="token punctuation">.</span></span><span class="token class-name">Account</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>entity<span class="token punctuation">.</span></span><span class="token class-name">AuthorityInfo</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>exception<span class="token punctuation">.</span></span><span class="token class-name">CustomException</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>entity<span class="token punctuation">.</span></span><span class="token class-name">AdminInfo</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>entity<span class="token punctuation">.</span></span><span class="token class-name">UserInfo</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>service<span class="token punctuation">.</span></span><span class="token class-name">AdminInfoService</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>service<span class="token punctuation">.</span></span><span class="token class-name">UserInfoService</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span></span><span class="token class-name">BeanUtils</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Resource</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">cn<span class="token punctuation">.</span>hutool<span class="token punctuation">.</span>json<span class="token punctuation">.</span></span><span class="token class-name">JSONUtil</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>stream<span class="token punctuation">.</span></span><span class="token class-name">Collectors</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AccountController</span> <span class="token punctuation">{<!-- --></span>

	<span class="token annotation punctuation">@Resource</span>
	<span class="token keyword">private</span> <span class="token class-name">AdminInfoService</span> adminInfoService<span class="token punctuation">;</span>
	<span class="token annotation punctuation">@Resource</span>
	<span class="token keyword">private</span> <span class="token class-name">UserInfoService</span> userInfoService<span class="token punctuation">;</span>


    <span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">"/login"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">Result</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Account</span><span class="token punctuation">&gt;</span></span> <span class="token function">login</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">Account</span> account<span class="token punctuation">,</span> <span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">StrUtil</span><span class="token punctuation">.</span><span class="token function">isBlank</span><span class="token punctuation">(</span>account<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token class-name">StrUtil</span><span class="token punctuation">.</span><span class="token function">isBlank</span><span class="token punctuation">(</span>account<span class="token punctuation">.</span><span class="token function">getPassword</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">||</span> account<span class="token punctuation">.</span><span class="token function">getLevel</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">CustomException</span><span class="token punctuation">(</span><span class="token class-name">ResultCode</span><span class="token punctuation">.</span>PARAM_LOST_ERROR<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">Integer</span> level <span class="token operator">=</span> account<span class="token punctuation">.</span><span class="token function">getLevel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Account</span> login <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Account</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">==</span> level<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			login <span class="token operator">=</span> adminInfoService<span class="token punctuation">.</span><span class="token function">login</span><span class="token punctuation">(</span>account<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> account<span class="token punctuation">.</span><span class="token function">getPassword</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">==</span> level<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			login <span class="token operator">=</span> userInfoService<span class="token punctuation">.</span><span class="token function">login</span><span class="token punctuation">(</span>account<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> account<span class="token punctuation">.</span><span class="token function">getPassword</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

        request<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"user"</span><span class="token punctuation">,</span> login<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token class-name">Result</span><span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span>login<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">"/register"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">Result</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Account</span><span class="token punctuation">&gt;</span></span> <span class="token function">register</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">Account</span> account<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">Integer</span> level <span class="token operator">=</span> account<span class="token punctuation">.</span><span class="token function">getLevel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Account</span> login <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Account</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">==</span> level<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token class-name">AdminInfo</span> info <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AdminInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token class-name">BeanUtils</span><span class="token punctuation">.</span><span class="token function">copyProperties</span><span class="token punctuation">(</span>account<span class="token punctuation">,</span> info<span class="token punctuation">)</span><span class="token punctuation">;</span>
			login <span class="token operator">=</span> adminInfoService<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>info<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">==</span> level<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token class-name">UserInfo</span> info <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UserInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token class-name">BeanUtils</span><span class="token punctuation">.</span><span class="token function">copyProperties</span><span class="token punctuation">(</span>account<span class="token punctuation">,</span> info<span class="token punctuation">)</span><span class="token punctuation">;</span>
			login <span class="token operator">=</span> userInfoService<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>info<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

        <span class="token keyword">return</span> <span class="token class-name">Result</span><span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span>login<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/logout"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">Result</span> <span class="token function">logout</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        request<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"user"</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token class-name">Result</span><span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/auth"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">Result</span> <span class="token function">getAuth</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">Object</span> user <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"user"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>user <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> <span class="token class-name">Result</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"401"</span><span class="token punctuation">,</span> <span class="token string">"æœªç™»å½•"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token class-name">Result</span><span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/getAccountInfo"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">Result</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> <span class="token function">getAccountInfo</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">Account</span> account <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Account</span><span class="token punctuation">)</span> request<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"user"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>account <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> <span class="token class-name">Result</span><span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">Integer</span> level <span class="token operator">=</span> account<span class="token punctuation">.</span><span class="token function">getLevel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">==</span> level<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> <span class="token class-name">Result</span><span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span>adminInfoService<span class="token punctuation">.</span><span class="token function">findById</span><span class="token punctuation">(</span>account<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">==</span> level<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> <span class="token class-name">Result</span><span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span>userInfoService<span class="token punctuation">.</span><span class="token function">findById</span><span class="token punctuation">(</span>account<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

        <span class="token keyword">return</span> <span class="token class-name">Result</span><span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/getSession"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">Result</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Map</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token function">getSession</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">Account</span> account <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Account</span><span class="token punctuation">)</span> request<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"user"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>account <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> <span class="token class-name">Result</span><span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">,</span> account<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token class-name">Result</span><span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/getAuthority"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">Result</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">AuthorityInfo</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token function">getAuthorityInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">String</span> authority <span class="token operator">=</span> <span class="token function">getProperties</span><span class="token punctuation">(</span><span class="token string">"authority.info"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">AuthorityInfo</span><span class="token punctuation">&gt;</span></span> authorityInfoList <span class="token operator">=</span> <span class="token class-name">JSONUtil</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token class-name">JSONUtil</span><span class="token punctuation">.</span><span class="token function">parseArray</span><span class="token punctuation">(</span>authority<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">AuthorityInfo</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token class-name">Result</span><span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span>authorityInfoList<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
    * è·å–å½“å‰ç”¨æˆ·æ‰€èƒ½çœ‹åˆ°çš„æ¨¡å—ä¿¡æ¯
    * @param request
    * @return
    */</span>
    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/authority"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">Result</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token function">getAuthorityInfo</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">Account</span> user <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Account</span><span class="token punctuation">)</span> request<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"user"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>user <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> <span class="token class-name">Result</span><span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">JSONArray</span> objects <span class="token operator">=</span> <span class="token class-name">JSONUtil</span><span class="token punctuation">.</span><span class="token function">parseArray</span><span class="token punctuation">(</span><span class="token function">getProperties</span><span class="token punctuation">(</span><span class="token string">"authority.info"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Object</span> object <span class="token operator">:</span> objects<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token class-name">JSONObject</span> jsonObject <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">JSONObject</span><span class="token punctuation">)</span> object<span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>user<span class="token punctuation">.</span><span class="token function">getLevel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>jsonObject<span class="token punctuation">.</span><span class="token function">getInt</span><span class="token punctuation">(</span><span class="token string">"level"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token class-name">JSONArray</span> array <span class="token operator">=</span> <span class="token class-name">JSONUtil</span><span class="token punctuation">.</span><span class="token function">parseArray</span><span class="token punctuation">(</span>jsonObject<span class="token punctuation">.</span><span class="token function">getStr</span><span class="token punctuation">(</span><span class="token string">"models"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> modelIdList <span class="token operator">=</span> array<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>o <span class="token operator">-&gt;</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token class-name">JSONObject</span> obj <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">JSONObject</span><span class="token punctuation">)</span> o<span class="token punctuation">;</span>
                    <span class="token keyword">return</span> obj<span class="token punctuation">.</span><span class="token function">getInt</span><span class="token punctuation">(</span><span class="token string">"modelId"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span> <span class="token class-name">Result</span><span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span>modelIdList<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token class-name">Result</span><span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/permission/{modelId}"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">Result</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token function">getPermission</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span> <span class="token class-name">Integer</span> modelId<span class="token punctuation">,</span> <span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">AuthorityInfo</span><span class="token punctuation">&gt;</span></span> authorityInfoList <span class="token operator">=</span> <span class="token class-name">JSONUtil</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token class-name">JSONUtil</span><span class="token punctuation">.</span><span class="token function">parseArray</span><span class="token punctuation">(</span><span class="token function">getProperties</span><span class="token punctuation">(</span><span class="token string">"authority.info"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">AuthorityInfo</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Account</span> user <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Account</span><span class="token punctuation">)</span> request<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"user"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>user <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> <span class="token class-name">Result</span><span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">Optional</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">AuthorityInfo</span><span class="token punctuation">&gt;</span></span> optional <span class="token operator">=</span> authorityInfoList<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>x <span class="token operator">-&gt;</span> x<span class="token punctuation">.</span><span class="token function">getLevel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span><span class="token function">getLevel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">findFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>optional<span class="token punctuation">.</span><span class="token function">isPresent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token class-name">Optional</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">AuthorityInfo<span class="token punctuation">.</span>Model</span><span class="token punctuation">&gt;</span></span> firstOption <span class="token operator">=</span> optional<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getModels</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>x <span class="token operator">-&gt;</span> x<span class="token punctuation">.</span><span class="token function">getModelId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>modelId<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">findFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>firstOption<span class="token punctuation">.</span><span class="token function">isPresent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> info <span class="token operator">=</span> firstOption<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getOperation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span> <span class="token class-name">Result</span><span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span>info<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token class-name">Result</span><span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@PutMapping</span><span class="token punctuation">(</span><span class="token string">"/updatePassword"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">Result</span> <span class="token function">updatePassword</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">Account</span> info<span class="token punctuation">,</span> <span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">Account</span> account <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Account</span><span class="token punctuation">)</span> request<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"user"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>account <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> <span class="token class-name">Result</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token class-name">ResultCode</span><span class="token punctuation">.</span>USER_NOT_EXIST_ERROR<span class="token punctuation">.</span>code<span class="token punctuation">,</span> <span class="token class-name">ResultCode</span><span class="token punctuation">.</span>USER_NOT_EXIST_ERROR<span class="token punctuation">.</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">String</span> oldPassword <span class="token operator">=</span> <span class="token class-name">SecureUtil</span><span class="token punctuation">.</span><span class="token function">md5</span><span class="token punctuation">(</span>info<span class="token punctuation">.</span><span class="token function">getPassword</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>oldPassword<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>account<span class="token punctuation">.</span><span class="token function">getPassword</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> <span class="token class-name">Result</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token class-name">ResultCode</span><span class="token punctuation">.</span>PARAM_PASSWORD_ERROR<span class="token punctuation">.</span>code<span class="token punctuation">,</span> <span class="token class-name">ResultCode</span><span class="token punctuation">.</span>PARAM_PASSWORD_ERROR<span class="token punctuation">.</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        info<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span><span class="token class-name">SecureUtil</span><span class="token punctuation">.</span><span class="token function">md5</span><span class="token punctuation">(</span>info<span class="token punctuation">.</span><span class="token function">getNewPassword</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Integer</span> level <span class="token operator">=</span> account<span class="token punctuation">.</span><span class="token function">getLevel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">==</span> level<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token class-name">AdminInfo</span> adminInfo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AdminInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token class-name">BeanUtils</span><span class="token punctuation">.</span><span class="token function">copyProperties</span><span class="token punctuation">(</span>info<span class="token punctuation">,</span> adminInfo<span class="token punctuation">)</span><span class="token punctuation">;</span>
			adminInfoService<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>adminInfo<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">==</span> level<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token class-name">UserInfo</span> userInfo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UserInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token class-name">BeanUtils</span><span class="token punctuation">.</span><span class="token function">copyProperties</span><span class="token punctuation">(</span>info<span class="token punctuation">,</span> userInfo<span class="token punctuation">)</span><span class="token punctuation">;</span>
			userInfoService<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>userInfo<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

        info<span class="token punctuation">.</span><span class="token function">setLevel</span><span class="token punctuation">(</span>level<span class="token punctuation">)</span><span class="token punctuation">;</span>
        info<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span>account<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// æ¸…ç©ºsessionï¼Œè®©ç”¨æˆ·é‡æ–°ç™»å½•</span>
        request<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"user"</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token class-name">Result</span><span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">"/resetPassword"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">Result</span> <span class="token function">resetPassword</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">Account</span> account<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">Integer</span> level <span class="token operator">=</span> account<span class="token punctuation">.</span><span class="token function">getLevel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">==</span> level<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token class-name">AdminInfo</span> info <span class="token operator">=</span> adminInfoService<span class="token punctuation">.</span><span class="token function">findByUserName</span><span class="token punctuation">(</span>account<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>info <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
				<span class="token keyword">return</span> <span class="token class-name">Result</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token class-name">ResultCode</span><span class="token punctuation">.</span>USER_NOT_EXIST_ERROR<span class="token punctuation">.</span>code<span class="token punctuation">,</span> <span class="token class-name">ResultCode</span><span class="token punctuation">.</span>USER_NOT_EXIST_ERROR<span class="token punctuation">.</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			info<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span><span class="token class-name">SecureUtil</span><span class="token punctuation">.</span><span class="token function">md5</span><span class="token punctuation">(</span><span class="token string">"123456"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			adminInfoService<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>info<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">==</span> level<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token class-name">UserInfo</span> info <span class="token operator">=</span> userInfoService<span class="token punctuation">.</span><span class="token function">findByUserName</span><span class="token punctuation">(</span>account<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>info <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
				<span class="token keyword">return</span> <span class="token class-name">Result</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token class-name">ResultCode</span><span class="token punctuation">.</span>USER_NOT_EXIST_ERROR<span class="token punctuation">.</span>code<span class="token punctuation">,</span> <span class="token class-name">ResultCode</span><span class="token punctuation">.</span>USER_NOT_EXIST_ERROR<span class="token punctuation">.</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			info<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span><span class="token class-name">SecureUtil</span><span class="token punctuation">.</span><span class="token function">md5</span><span class="token punctuation">(</span><span class="token string">"123456"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			userInfoService<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>info<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

        <span class="token keyword">return</span> <span class="token class-name">Result</span><span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> <span class="token function">getProperties</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">Props</span> props <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Props</span><span class="token punctuation">(</span><span class="token string">"classpath:config.properties"</span><span class="token punctuation">,</span> <span class="token string">"UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> props<span class="token punctuation">.</span><span class="token function">getStr</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<h2><a id="_323"></a>è·å–æºç æˆ–è®ºæ–‡</h2> 
<p>å¦‚éœ€å¯¹åº”çš„æºç ï¼Œå¯ä»¥è¯„è®ºæˆ–è€…ç§ä¿¡éƒ½å¯ä»¥ã€‚</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/93351567bf71fcdc2917a4626acfb69d/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">é¢è¯•ç»å†æ•´ç†|æŒç»­å››ä¸ªæœˆé¢è¯•19å®¶å…¬å¸ï¼Œæ”¶è·8å®¶offerï¼Œé¢è¯•æ€»ç»“</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/10740eb2837c738aaa55cc13e470db82/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">ä»€ä¹ˆæ˜¯DMAä¸é›¶æ‹·è´</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ITå­¦ä¹ è€…åšå®¢.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>