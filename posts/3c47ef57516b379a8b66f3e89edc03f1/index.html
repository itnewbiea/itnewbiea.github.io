<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>关于“Python”的核心知识点整理大全51 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="关于“Python”的核心知识点整理大全51" />
<meta property="og:description" content="目录
​编辑
第 18 章
Django入门
18.1 建立项目
18.1.1 制定规范
18.1.2 建立虚拟环境
18.1.3 安装 virtualenv
注意
注意
18.1.4 激活虚拟环境
注意
18.1.5 安装 Django
18.1.6 在 Django 中创建项目
注意
18.1.7 创建数据库
18.1.8 查看项目
注意
18.2 创建应用程序
18.2.1 定义模型
models.py
往期快速传送门👆（在文章最后）：
感谢大家的支持！欢迎订阅收藏！专栏将持续更新！
第 18 章 Django入门 18.1 建立项目 建立项目时，首先需要以规范的方式对项目进行描述，再建立虚拟环境，以便在其中创建项目。
18.1.1 制定规范 完整的规范详细说明了项目的目标，阐述了项目的功能，并讨论了项目的外观和用户界面。 与任何良好的项目规划和商业计划书一样，规范应突出重点，帮助避免项目偏离轨道。这里不会 制定完整的项目规划，而只列出一些明确的目标，以突出开发的重点。我们制定的规范如下：
我们要编写一个名为“学习笔记”的Web应用程序，让用户能够记录感兴趣的主 题，并在学习每个主题的过程中添加日志条目。“学习笔记”的主页对这个网站进行描 述，并邀请用户注册或登录。用户登录后，就可创建新主题、添加新条目以及阅读既 有的条目。学习新的主题时，记录学到的知识可帮助跟踪和复习这些知识。优秀的应用程序让这个记录 过程简单易行。
18.1.2 建立虚拟环境 要使用Django，首先需要建立一个虚拟工作环境。虚拟环境是系统的一个位置，你可以在其 中安装包，并将其与其他Python包隔离。将项目的库与其他项目分离是有益的，且为了在第20章 将“学习笔记”部署到服务器，这也是必须的。
为项目新建一个目录，将其命名为learning_log，再在终端中切换到这个目录，并创建一个虚 拟环境。如果你使用的是Python 3，可使用如下命令来创建虚拟环境：
learning_log$ python -m venv ll_env learning_log$ 这里运行了模块venv，并使用它来创建一个名为ll_env的虚拟环境。如果这样做管用，请跳 到后面的18." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/3c47ef57516b379a8b66f3e89edc03f1/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-12-31T00:00:00+08:00" />
<meta property="article:modified_time" content="2023-12-31T00:00:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">关于“Python”的核心知识点整理大全51</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/ef/10/h11cV5aW_o.gif"></p> 
<p id="main-toc"><strong>目录</strong></p> 
<p id="-toc" style="margin-left:0px;"></p> 
<p id="%E2%80%8B%E7%BC%96%E8%BE%91-toc" style="margin-left:0px;"><a href="#%E2%80%8B%E7%BC%96%E8%BE%91" rel="nofollow">​编辑</a></p> 
<p id="%E7%AC%AC%2018%20%E7%AB%A0-toc" style="margin-left:0px;"><a href="#%E7%AC%AC%2018%20%E7%AB%A0" rel="nofollow">第 18 章</a></p> 
<p id="Django%E5%85%A5%E9%97%A8-toc" style="margin-left:0px;"><a href="#Django%E5%85%A5%E9%97%A8" rel="nofollow">Django入门</a></p> 
<p id="18.1%20%E5%BB%BA%E7%AB%8B%E9%A1%B9%E7%9B%AE-toc" style="margin-left:40px;"><a href="#18.1%20%E5%BB%BA%E7%AB%8B%E9%A1%B9%E7%9B%AE" rel="nofollow">18.1 建立项目</a></p> 
<p id="18.1.1%20%E5%88%B6%E5%AE%9A%E8%A7%84%E8%8C%83-toc" style="margin-left:80px;"><a href="#18.1.1%20%E5%88%B6%E5%AE%9A%E8%A7%84%E8%8C%83" rel="nofollow">18.1.1 制定规范</a></p> 
<p id="18.1.2%20%E5%BB%BA%E7%AB%8B%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83-toc" style="margin-left:80px;"><a href="#18.1.2%20%E5%BB%BA%E7%AB%8B%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83" rel="nofollow">18.1.2 建立虚拟环境</a></p> 
<p id="18.1.3%20%E5%AE%89%E8%A3%85%20virtualenv-toc" style="margin-left:80px;"><a href="#18.1.3%20%E5%AE%89%E8%A3%85%20virtualenv" rel="nofollow">18.1.3 安装 virtualenv</a></p> 
<p id="%E6%B3%A8%E6%84%8F-toc" style="margin-left:40px;"><a href="#%E6%B3%A8%E6%84%8F" rel="nofollow">注意</a></p> 
<p id="%E6%B3%A8%E6%84%8F-toc" style="margin-left:40px;"><a href="#%E6%B3%A8%E6%84%8F" rel="nofollow">注意</a></p> 
<p id="18.1.4%20%E6%BF%80%E6%B4%BB%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83-toc" style="margin-left:80px;"><a href="#18.1.4%20%E6%BF%80%E6%B4%BB%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83" rel="nofollow">18.1.4 激活虚拟环境</a></p> 
<p id="%E6%B3%A8%E6%84%8F-toc" style="margin-left:40px;"><a href="#%E6%B3%A8%E6%84%8F" rel="nofollow">注意</a></p> 
<p id="18.1.5%20%E5%AE%89%E8%A3%85%20Django-toc" style="margin-left:80px;"><a href="#18.1.5%20%E5%AE%89%E8%A3%85%20Django" rel="nofollow">18.1.5 安装 Django</a></p> 
<p id="18.1.6%20%E5%9C%A8%20Django%20%E4%B8%AD%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE-toc" style="margin-left:80px;"><a href="#18.1.6%20%E5%9C%A8%20Django%20%E4%B8%AD%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE" rel="nofollow">18.1.6 在 Django 中创建项目</a></p> 
<p id="%E6%B3%A8%E6%84%8F-toc" style="margin-left:40px;"><a href="#%E6%B3%A8%E6%84%8F" rel="nofollow">注意</a></p> 
<p id="18.1.7%20%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93-toc" style="margin-left:80px;"><a href="#18.1.7%20%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93" rel="nofollow">18.1.7 创建数据库</a></p> 
<p id="18.1.8%20%E6%9F%A5%E7%9C%8B%E9%A1%B9%E7%9B%AE-toc" style="margin-left:80px;"><a href="#18.1.8%20%E6%9F%A5%E7%9C%8B%E9%A1%B9%E7%9B%AE" rel="nofollow">18.1.8 查看项目</a></p> 
<p id="%E6%B3%A8%E6%84%8F-toc" style="margin-left:40px;"><a href="#%E6%B3%A8%E6%84%8F" rel="nofollow">注意</a></p> 
<p id="18.2%20%E5%88%9B%E5%BB%BA%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F-toc" style="margin-left:40px;"><a href="#18.2%20%E5%88%9B%E5%BB%BA%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F" rel="nofollow">18.2 创建应用程序</a></p> 
<p id="18.2.1%20%E5%AE%9A%E4%B9%89%E6%A8%A1%E5%9E%8B-toc" style="margin-left:80px;"><a href="#18.2.1%20%E5%AE%9A%E4%B9%89%E6%A8%A1%E5%9E%8B" rel="nofollow">18.2.1 定义模型</a></p> 
<p id="models.py-toc" style="margin-left:120px;"><a href="#models.py" rel="nofollow">models.py</a></p> 
<p id="%E5%BE%80%E6%9C%9F%E5%BF%AB%E9%80%9F%E4%BC%A0%E9%80%81%E9%97%A8%F0%9F%91%86%EF%BC%88%E5%9C%A8%E6%96%87%E7%AB%A0%E6%9C%80%E5%90%8E%EF%BC%89%EF%BC%9A-toc" style="margin-left:0px;"><a href="#%E5%BE%80%E6%9C%9F%E5%BF%AB%E9%80%9F%E4%BC%A0%E9%80%81%E9%97%A8%F0%9F%91%86%EF%BC%88%E5%9C%A8%E6%96%87%E7%AB%A0%E6%9C%80%E5%90%8E%EF%BC%89%EF%BC%9A" rel="nofollow">往期快速传送门👆（在文章最后）：</a></p> 
<p id="%E6%84%9F%E8%B0%A2%E5%A4%A7%E5%AE%B6%E7%9A%84%E6%94%AF%E6%8C%81%EF%BC%81%E6%AC%A2%E8%BF%8E%E8%AE%A2%E9%98%85%E6%94%B6%E8%97%8F%EF%BC%81%E4%B8%93%E6%A0%8F%E5%B0%86%E6%8C%81%E7%BB%AD%E6%9B%B4%E6%96%B0%EF%BC%81-toc" style="margin-left:0px;"><a href="#%E6%84%9F%E8%B0%A2%E5%A4%A7%E5%AE%B6%E7%9A%84%E6%94%AF%E6%8C%81%EF%BC%81%E6%AC%A2%E8%BF%8E%E8%AE%A2%E9%98%85%E6%94%B6%E8%97%8F%EF%BC%81%E4%B8%93%E6%A0%8F%E5%B0%86%E6%8C%81%E7%BB%AD%E6%9B%B4%E6%96%B0%EF%BC%81" rel="nofollow">感谢大家的支持！欢迎订阅收藏！专栏将持续更新！</a></p> 
<hr id="hr-toc"> 
<p></p> 
<h2 id="%E2%80%8B%E7%BC%96%E8%BE%91" style="text-align:center;"><img alt="" height="234" src="https://images2.imgbox.com/31/52/XBtl3mU8_o.png" width="373"></h2> 
<h2 id="%E7%AC%AC%2018%20%E7%AB%A0" style="text-align:center;">第 18 章</h2> 
<h2 id="Django%E5%85%A5%E9%97%A8" style="text-align:center;">Django入门</h2> 
<h3 id="18.1%20%E5%BB%BA%E7%AB%8B%E9%A1%B9%E7%9B%AE" style="text-align:center;">18.1 建立项目</h3> 
<blockquote> 
 <p style="text-align:center;">建立项目时，首先需要以规范的方式对项目进行描述，再建立虚拟环境，以便在其中创建项目。</p> 
</blockquote> 
<h4 id="18.1.1%20%E5%88%B6%E5%AE%9A%E8%A7%84%E8%8C%83" style="text-align:center;">18.1.1 制定规范</h4> 
<blockquote> 
 <p style="text-align:center;">完整的规范详细说明了项目的目标，阐述了项目的功能，并讨论了项目的外观和用户界面。 与任何良好的项目规划和商业计划书一样，规范应突出重点，帮助避免项目偏离轨道。这里不会 制定完整的项目规划，而只列出一些明确的目标，以突出开发的重点。我们制定的规范如下：</p> 
</blockquote> 
<p style="text-align:center;">我们要编写一个名为“学习笔记”的Web应用程序，让用户能够记录感兴趣的主 题，并在学习每个主题的过程中添加日志条目。“学习笔记”的主页对这个网站进行描 述，并邀请用户注册或登录。用户登录后，就可创建新主题、添加新条目以及阅读既 有的条目。学习新的主题时，记录学到的知识可帮助跟踪和复习这些知识。优秀的应用程序让这个记录 过程简单易行。</p> 
<h4 id="18.1.2%20%E5%BB%BA%E7%AB%8B%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83" style="text-align:center;">18.1.2 建立<strong>虚拟环境</strong></h4> 
<blockquote> 
 <p style="text-align:center;">要使用Django，首先需要建立一个虚拟工作环境。虚拟环境是系统的一个位置，你可以在其 中安装包，并将其与其他Python包隔离。将项目的库与其他项目分离是有益的，且为了在第20章 将“学习笔记”部署到服务器，这也是必须的。</p> 
 <p style="text-align:center;"></p> 
 <p style="text-align:center;">为项目新建一个目录，将其命名为learning_log，再在终端中切换到这个目录，并创建一个虚 拟环境。如果你使用的是Python 3，可使用如下命令来创建虚拟环境：</p> 
</blockquote> 
<pre><code class="language-python">learning_log$ python -m venv ll_env
learning_log$</code></pre> 
<blockquote> 
 <p style="text-align:center;">这里运行了模块venv，并使用它来创建一个名为ll_env的虚拟环境。如果这样做管用，请跳 到后面的18.1.4节；如果不管用，请阅读18.1.3节。</p> 
</blockquote> 
<h4 id="18.1.3%20%E5%AE%89%E8%A3%85%20virtualenv" style="text-align:center;">18.1.3 安装 virtualenv</h4> 
<pre><code class="language-python">$ pip install --user virtualenv</code></pre> 
<blockquote> 
 <p style="text-align:center;">别忘了，对于这个命令，你可能需要使用稍微不同的版本（如果你没有使用过pip，请参阅 12.2.1节）。</p> 
</blockquote> 
<hr> 
<h3 id="%E6%B3%A8%E6%84%8F" style="text-align:center;">注意</h3> 
<p style="text-align:center;">如果你使用的是Linux系统，且上面的做法不管用，可使用系统的包管理器来安装 virtualenv。例如，要在Ubuntu系统中安装virtualenv，可使用命令sudo apt-get install python-virtualenv。</p> 
<hr> 
<blockquote> 
 <p style="text-align:center;">在终端中切换到目录learning_log，并像下面这样创建一个虚拟环境：</p> 
</blockquote> 
<pre><code class="language-python">learning_log$ virtualenv ll_env
New python executable in ll_env/bin/python
Installing setuptools, pip...done.
learning_log$ </code></pre> 
<hr> 
<h3 style="text-align:center;">注意</h3> 
<p style="text-align:center;">如果你的系统安装了多个Python版本，需要指定virtualenv使用的版本。例如，命令 virtualenv ll_env --python=python3创建一个使用Python 3的虚拟环境。</p> 
<hr> 
<h4 id="18.1.4%20%E6%BF%80%E6%B4%BB%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83" style="text-align:center;">18.1.4 激活虚拟环境</h4> 
<blockquote> 
 <p style="text-align:center;">建立虚拟环境后，需要使用下面的命令激活它：</p> 
</blockquote> 
<pre><code class="language-python">learning_log$ source ll_env/bin/activate
1 (ll_env)learning_log$</code></pre> 
<blockquote> 
 <p style="text-align:center;">这个命令运行ll_env/bin中的脚本activate。环境处于活动状态时，环境名将包含在括号内，如 处所示。在这种情况下，你可以在环境中安装包，并使用已安装的包。你在ll_env中安装的包 仅在该环境处于活动状态时才可用。</p> 
</blockquote> 
<hr> 
<h3 style="text-align:center;">注意</h3> 
<p style="text-align:center;">如果你使用的是Windows系统，请使用命令ll_env\Scripts\activate（不包含source）来 激活这个虚拟环境。</p> 
<hr> 
<blockquote> 
 <p style="text-align:center;">要停止使用虚拟环境，可执行命令deactivate：</p> 
</blockquote> 
<pre><code class="language-python">(ll_env)learning_log$ deactivate
learning_log$ </code></pre> 
<blockquote> 
 <p style="text-align:center;">如果关闭运行虚拟环境的终端，虚拟环境也将不再处于活动状态。</p> 
</blockquote> 
<h4 id="18.1.5%20%E5%AE%89%E8%A3%85%20Django" style="text-align:center;">18.1.5 安装 Django</h4> 
<blockquote> 
 <p style="text-align:center;">创建并激活虚拟环境后，就可安装Django了</p> 
</blockquote> 
<pre><code class="language-python">(ll_env)learning_log$ pip install Django
Installing collected packages: Django
Successfully installed Django
Cleaning up...
(ll_env)learning_log$</code></pre> 
<blockquote> 
 <p style="text-align:center;">由于我们是在虚拟环境中工作，因此在所有的系统中，安装Django的命令都相同：不需要指 定标志--user，也无需使用python -m pip install package_name这样较长的命令。 别忘了，Django仅在虚拟环境处于活动状态时才可用。</p> 
</blockquote> 
<h4 id="18.1.6%20%E5%9C%A8%20Django%20%E4%B8%AD%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE" style="text-align:center;">18.1.6 在 Django 中创建项目</h4> 
<blockquote> 
 <p style="text-align:center;">在依然处于活动的虚拟环境的情况下（ll_env包含在括号内），执行如下命令来新建一个项目：</p> 
</blockquote> 
<pre><code class="language-python">1 (ll_env)learning_log$ django-admin.py startproject learning_log .
2 (ll_env)learning_log$ ls
learning_log ll_env manage.py
3 (ll_env)learning_log$ ls learning_log
__init__.py settings.py urls.py wsgi.py</code></pre> 
<blockquote> 
 <p style="text-align:center;">处的命令让Django新建一个名为learning_log的项目。这个命令末尾的句点让新项目使用合 适的目录结构，这样开发完成后可轻松地将应用程序部署到服务器。</p> 
</blockquote> 
<hr> 
<h3 style="text-align:center;">注意</h3> 
<p style="text-align:center;">千万别忘了这个句点，否则部署应用程序时将遭遇一些配置问题。如果忘记了这个句点， 就将创建的文件和文件夹删除（ll_env除外），再重新运行这个命令。</p> 
<hr> 
<blockquote> 
 <p style="text-align:center;">在1处，运行了命令ls（在Windows系统上应为dir），结果表明Django新建了一个名为 learning_log的目录。它还创建了一个名为manage.py的文件，这是一个简单的程序，它接受命令 并将其交给Django的相关部分去运行。我们将使用这些命令来管理诸如使用数据库和运行服务器 等任务。</p> 
 <p style="text-align:center;">目录learning_log包含4个文件（见3），其中最重要的是settings.py、urls.py和wsgi.py。文件 settings.py指定Django如何与你的系统交互以及如何管理项目。在开发项目的过程中，我们将修 改其中一些设置，并添加一些设置。文件urls.py告诉Django应创建哪些网页来响应浏览器请求。 文件wsgi.py帮助Django提供它创建的文件，这个文件名是web server gateway interface（Web服务 器网关接口）的首字母缩写。</p> 
</blockquote> 
<h4 id="18.1.7%20%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93" style="text-align:center;">18.1.7 创建数据库</h4> 
<blockquote> 
 <p style="text-align:center;">Django将大部分与项目相关的信息都存储在数据库中，因此我们需要创建一个供Django使 用的数据库。为给项目“学习笔记”创建数据库，请在处于活动虚拟环境中的情况下执行下面 的命令：</p> 
</blockquote> 
<pre><code class="language-python">(ll_env)learning_log$ python manage.py migrate
1 Operations to perform:
 Synchronize unmigrated apps: messages, staticfiles
 Apply all migrations: contenttypes, sessions, auth, admin
 --snip--
 Applying sessions.0001_initial... OK
2 (ll_env)learning_log$ ls
db.sqlite3 learning_log ll_env manage.py</code></pre> 
<blockquote> 
 <p style="text-align:center;">我们将修改数据库称为迁移数据库。首次执行命令migrate时，将让Django确保数据库与项 目的当前状态匹配。在使用SQLite（后面将更详细地介绍）的新项目中首次执行这个命令时， Django将新建一个数据库。在1处，Django指出它将创建必要的数据库表，用于存储我们将在这 个项目（Synchronize unmigrated apps，同步未迁移的应用程序）中使用的信息，再确保数据库结 构与当前代码（Apply all migrations，应用所有的迁移）匹配。</p> 
 <p style="text-align:center;"></p> 
 <p style="text-align:center;">在2处，我们运行了命令ls，其输出表明Django又创建了一个文件——db.sqlite3。SQLite是 一种使用单个文件的数据库，是编写简单应用程序的理想选择，因为它让你不用太关注数据库管 理的问题。</p> 
</blockquote> 
<h4 id="18.1.8%20%E6%9F%A5%E7%9C%8B%E9%A1%B9%E7%9B%AE" style="text-align:center;">18.1.8 查看项目</h4> 
<blockquote> 
 <p style="text-align:center;">下面来核实Django是否正确地创建了项目。为此，可执行命令runserver，如下所示</p> 
</blockquote> 
<pre><code class="language-python">(ll_env)learning_log$ python manage.py runserver
Performing system checks...
1 System check identified no issues (0 silenced).
July 15, 2015 - 06:23:51
2 Django version 1.8.4, using settings 'learning_log.settings'
3 Starting development server at http://127.0.0.1:8000/
Quit the server with CONTROL-C. </code></pre> 
<blockquote> 
 <p style="text-align:center;">Django启动一个服务器，让你能够查看系统中的项目，了解它们的工作情况。当你在浏览器 中输入URL以请求网页时，该Django服务器将进行响应：生成合适的网页，并将其发送给浏览器。 在1处，Django通过检查确认正确地创建了项目；在2处，它指出了使用的Django版本以及 当前使用的设置文件的名称；在3处，它指出了项目的URL。URL http://127.0.0.1:8000/表明项目 将在你的计算机（即localhost）的端口8000上侦听请求。localhost是一种只处理当前系统发出的 请求，而不允许其他任何人查看你正在开发的网页的服务器。 现在打开一款Web浏览器，并输入URL：http://localhost:8000/；如果这不管用，请输入 http://127.0.0.1:8000/。你将看到类似于图18-1所示的页面，这个页面是Django创建的，让你知道 到目前为止一切正常。现在暂时不要关闭这个服务器。若要关闭这个服务器，按Ctrl + C即可。</p> 
</blockquote> 
<p style="text-align:center;"><img alt="" height="408" src="https://images2.imgbox.com/a5/fc/eHk7m6xZ_o.png" width="849"></p> 
<hr> 
<h3 style="text-align:center;">注意</h3> 
<p style="text-align:center;">如果出现错误消息“That port is already in use”（指定端口已被占用），请执行命令python manage.py runserver 8001，让Diango使用另一个端口；如果这个端口也不可用，请不断 执行上述命令，并逐渐增大其中的端口号，直到找到可用的端口。</p> 
<hr> 
<h3 id="18.2%20%E5%88%9B%E5%BB%BA%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F" style="text-align:center;">18.2 创建应用程序</h3> 
<blockquote> 
 <p style="text-align:center;">Django项目由一系列应用程序组成，它们协同工作，让项目成为一个整体。我们暂时只创建 一个应用程序，它将完成项目的大部分工作。在第19章，我们将再添加一个管理用户账户的应用 程序。</p> 
 <p style="text-align:center;"></p> 
 <p style="text-align:center;">当前，在前面打开的终端窗口中应该还运行着runserver。请再打开一个终端窗口（或标签 页），并切换到manage.py所在的目录。激活该虚拟环境，再执行命令startapp：</p> 
</blockquote> 
<pre><code class="language-python">learning_log$ source ll_env/bin/activate
(ll_env)learning_log$ python manage.py startapp learning_logs
1 (ll_env)learning_log$ ls
db.sqlite3 learning_log learning_logs ll_env manage.py
2 (ll_env)learning_log$ ls learning_logs/
admin.py __init__.py migrations models.py tests.py views.py</code></pre> 
<blockquote> 
 <p style="text-align:center;">命令startapp appname让Django建立创建应用程序所需的基础设施。如果现在查看项目目录， 将看到其中新增了一个文件夹learning_logs（见1）。打开这个文件夹，看看Django都创建了什么 （见2）。其中最重要的文件是models.py、admin.py和views.py。我们将使用models.py来定义我们 要在应用程序中管理的数据。admin.py和views.py将在稍后介绍。</p> 
</blockquote> 
<h4 id="18.2.1%20%E5%AE%9A%E4%B9%89%E6%A8%A1%E5%9E%8B" style="text-align:center;">18.2.1 定义模型</h4> 
<blockquote> 
 <p style="text-align:center;">我们来想想涉及的数据。每位用户都需要在学习笔记中创建很多主题。用户输入的每个条目 都与特定主题相关联，这些条目将以文本的方式显示。我们还需要存储每个条目的时间戳，以便 能够告诉用户各个条目都是什么时候创建的。 打开文件models.py，看看它当前包含哪些内容：</p> 
 <p style="text-align:center;"></p> 
 <h5 id="models.py" style="text-align:center;">models.py</h5> 
</blockquote> 
<pre><code class="language-python">from django.db import models
# 在这里创建模型</code></pre> 
<blockquote> 
 <p style="text-align:center;">这为我们导入了模块models，还让我们创建自己的模型。模型告诉Django如何处理应用程序 中存储的数据。在代码层面，模型就是一个类，就像前面讨论的每个类一样，包含属性和方法。 下面是表示用户将要存储的主题的模型：</p> 
</blockquote> 
<pre><code class="language-python">from django.db import models
class Topic(models.Model):
 """用户学习的主题"""
1 text = models.CharField(max_length=200)
2 date_added = models.DateTimeField(auto_now_add=True)
3 def __str__(self):
 """返回模型的字符串表示"""
 return self.text </code></pre> 
<blockquote> 
 <p style="text-align:center;">我们创建了一个名为Topic的类，它继承了Model——Django中一个定义了模型基本功能的 类。Topic类只有两个属性：text和date_added。 属性text是一个CharField——由字符或文本组成的数据（见）。需要存储少量的文本，如 名称、标题或城市时，可使用CharField。定义CharField属性时，必须告诉Django该在数据库中 预留多少空间。在这里，我们将max_length设置成了200（即200个字符），这对存储大多数主题 名来说足够了。 属性date_added是一个DateTimeField——记录日期和时间的数据（见1）。我们传递了实参 auto_add_now=True，每当用户创建新主题时，这都让Django将这个属性自动设置成当前日期和 时间。</p> 
</blockquote> 
<hr> 
<p style="text-align:center;">注意</p> 
<p style="text-align:center;">要获悉可在模型中使用的各种字段，请参阅Django Model Field Reference（Django模型字 段参考），其网址为https://docs.djangoproject.com/en/1.8/ref/models/fields/。就当前而言， 你无需全面了解其中的所有内容，但自己开发应用程序时，这些内容会提供极大的帮助。</p> 
<hr> 
<p style="text-align:center;"><a href="https://blog.csdn.net/lzy302810/article/details/135153641?spm=1001.2014.3001.5502" title="关于“Python”的核心知识点整理大全37-CSDN博客">关于“Python”的核心知识点整理大全37-CSDN博客</a></p> 
<p style="text-align:center;"><a href="https://blog.csdn.net/lzy302810/article/details/135043856?spm=1001.2014.3001.5502" title="关于“Python”的核心知识点整理大全25-CSDN博客">关于“Python”的核心知识点整理大全25-CSDN博客</a></p> 
<p style="text-align:center;"><a href="https://blog.csdn.net/lzy302810/article/details/134917938?spm=1001.2014.3001.5502" title="关于“Python”的核心知识点整理大全12-CSDN博客">关于“Python”的核心知识点整理大全12-CSDN博客</a></p> 
<h2 id="%E5%BE%80%E6%9C%9F%E5%BF%AB%E9%80%9F%E4%BC%A0%E9%80%81%E9%97%A8%F0%9F%91%86%EF%BC%88%E5%9C%A8%E6%96%87%E7%AB%A0%E6%9C%80%E5%90%8E%EF%BC%89%EF%BC%9A" style="text-align:center;"><strong>往期快速传送门👆（在文章最后）：</strong></h2> 
<h2 id="%E6%84%9F%E8%B0%A2%E5%A4%A7%E5%AE%B6%E7%9A%84%E6%94%AF%E6%8C%81%EF%BC%81%E6%AC%A2%E8%BF%8E%E8%AE%A2%E9%98%85%E6%94%B6%E8%97%8F%EF%BC%81%E4%B8%93%E6%A0%8F%E5%B0%86%E6%8C%81%E7%BB%AD%E6%9B%B4%E6%96%B0%EF%BC%81" style="text-align:center;"><a name="t8"></a><a name="t23"></a><a name="t9"></a><a name="t10"></a><a name="t16"></a><strong><a name="t13"></a><a name="t11"></a>感谢大家的支持！欢迎订阅收藏！专栏将持续更新！</strong></h2>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e1148f7bc885e4e55a2bc7afb8610025/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">FPGA和DSP的区别</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/9bd2d0c8e3b423c9cd6170b535aa1ce6/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">SpringMVC之文件上传和下载</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>