<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>记录下StableDiffusion的webui启动参数（cmd_args.py） - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="记录下StableDiffusion的webui启动参数（cmd_args.py）" />
<meta property="og:description" content=" webui启动参数 这些启动参数是从modules/cmd_args.py文件中翻译的 参数含义-f允许以root身份运行；在webui之外实现–update-all-extensionslaunch.py参数：启动程序时下载所有扩展的更新–skip-python-version-checklaunch.py参数：不检查python版本–skip-torch-cuda-testlaunch.py参数：不检查CUDA是否能够正常工作–reinstall-xformerslaunch.py参数：安装适当版本的xformer，即使您已经安装了某个版本–reinstall-torchlaunch.py参数：即使已经安装了相应版本的torch，也要安装该版本–update-checklaunch.py参数：chck用于启动时的更新–testslaunch.py参数：在指定的目录中运行测试–no-testslaunch.py参数：即使指定了–tests选项，也不要运行测试–skip-installlaunch.py参数：跳过包的安装–data-dir存储所有用户数据的基本路径–config构造模型的配置路径–ckpt稳定扩散模型的检查点路径；如果指定，则该检查点将添加到检查点列表中并加载–ckpt-dir具有稳定扩散检查点的目录路径–vae-dir包含VAE文件的目录的路径–gfpgan-dirGFPAGAN目录–gfpgan-modelGFPAGAN模型文件名–no-half不要将模型切换为16位浮点–no-half-vae不要将VAE模型切换为16位浮点–no-progressbar-hiding不要在gradio UI中隐藏进度条（我们隐藏它是因为如果浏览器中有硬件加速，它会减慢ML）–max-batch-countUI的最大批计数值–embeddings-dir用于文本反转的embeddings目录（默认值：embeddings）–textual-inversion-templates-dir具有文本反转模板的目录–hypernetwork-dir超网络目录–localizations-dir本地化目录–allow-code允许从webui执行自定义脚本–medvram实现稳定的扩散模型优化，为低VRM使用率牺牲一点速度–lowvram实现稳定的扩散模型优化，以牺牲大量速度实现极低的VRM使用–lowram将稳定的扩散检查点权重加载到VRAM而不是RAM–always-batch-cond-uncond使用–medvram或–lowvram禁用启用的cond/uncod批处理以节省内存–unload-gfpgan什么都不做–precision以此精度进行评估–upcast-sampling上行采样。没有效果——没有一半。通常会产生类似的结果——没有一半在使用较少内存的情况下具有更好的性能–share对gradio使用share=True，并通过其网站访问UI–ngrokngrok-authtoken，gradio的替代方案–share–ngrok-regionngrok应该启动的区域–enable-insecure-extension-access启用扩展选项卡，而不考虑其他选项–codeformer-models-path包含代码形成器模型文件的目录的路径–gfpgan-models-path带有GFPAGAN模型文件的目录路径–esrgan-models-path带有ESRGAN模型文件的目录的路径–bsrgan-models-path包含BSRGAN模型文件的目录的路径–realesrgan-models-path带有RealESRGAN模型文件的目录的路径–clip-models-path包含CLIP模型文件的目录的路径–xformers为交叉关注层启用xformer–force-enable-xformers为交叉关注层启用xformer，而不管检查代码是否认为您可以运行它；如果此操作失败，请不要生成错误报告–xformers-flash-attention启用具有Flash Attention的xformer以提高再现性（仅支持SD2.x或变体）–deepdanbooru什么都不做–opt-split-attentionforce实现了Doggett的跨注意力层优化。默认情况下，火炬棍打开–opt-sub-quad-attention实现内存高效的次二次交叉注意层优化–sub-quad-q-chunk-size查询块大小用于次二次交叉关注层优化–sub-quad-kv-chunk-sizekv块大小用于次二次交叉注意层优化使用–sub-quad-chunk-threshold使用分块的次二次交叉关注层优化的VRAM阈值的百分比–opt-split-attention-invokeaiforce支持InvokeAI的跨注意力层优化。默认情况下，当cuda不可用时，它处于打开状态–opt-split-attention-v1启用旧版本的分散注意力优化，该优化不会消耗它能找到的所有VRAM–opt-sdp-attention实现缩放点积交叉关注层优化；需要PyTorch 2*–opt-sdp-no-mem-attention实现缩放点积跨关注层优化，无需内存高效关注，使图像生成具有确定性；需要PyTorch 2*–disable-opt-split-attention强制禁用跨注意力层优化–disable-nan-check不要检查生成的图像/潜在空间是否具有nan；适用于在CI中不带检查点的情况下运行–use-cpu使用CPU作为指定模块的torch–listen以0.0.0.0作为服务器名称启动gradio，允许响应网络请求–port使用给定的服务器端口启动gradio，对于＜1024的端口，您需要root/admin权限，如果可用，则默认为7860–show-negative-prompt什么都不做–ui-config-file用于ui配置的文件名–hide-ui-dir-config从webui隐藏目录配置–freeze-settings禁用编辑设置–ui-settings-file用于ui设置的文件名–gradio-debug使用–debug选项启动gradio–gradio-auth将gradio身份验证设置为“username:password”；或逗号分隔倍数，如“u1:p1，u2:p2，u3:p3”–gradio-auth-path设置gradio身份验证文件路径ex.“/path/to/auth/file”与–gradio auth相同的身份验证格式–gradio-img2img-tool什么都不做–gradio-inpaint-tool什么都不做–opt-channelslast改变内存类型以稳定扩散到最后一个通道–styles-file用于样式的文件名–autolaunch启动时在系统的默认浏览器中打开webui URL–theme启动带有浅色或深色主题的用户界面–use-textbox-seed在UI中使用种子文本框（没有向上/向下，但可以输入长种子）–disable-console-progressbars不要将进度条输出到控制台–enable-console-prompts使用txt2img和img2img生成时，将提示打印到控制台–vae-path用作VAE的检查点；设置此参数将禁用与VAE相关的所有设置–disable-safe-unpickle禁用检查pytorch模型中的恶意代码–api使用api=True与webui一起启动api（仅对api使用–nowebui）–api-auth设置API的身份验证，如“用户名：密码”；或逗号分隔倍数，如“u1:p1，u2:p2，u3:p3“–api-log使用api-log=True启用所有api请求的日志记录–nowebui使用api=True启动api而不是webui–ui-debug-mode不加载模型以快速启动UI–device-id选择要使用的默认CUDA设备（之前可能需要导出CUDA_VISIBLE_DEVICES=0,1等）–administrator管理员权限–cors-allow-origins以逗号分隔列表的形式允许的CORS原点（无空格）–cors-allow-origins-regex单个正则表达式形式的允许CORS原点–tls-keyfile部分启用TLS，需要–TLS证书文件才能完全运行 " />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/85c553924a6995b9b5d404fd96e2ffb7/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-10-03T21:53:30+08:00" />
<meta property="article:modified_time" content="2023-10-03T21:53:30+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">记录下StableDiffusion的webui启动参数（cmd_args.py）</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="webui_0"></a>webui启动参数</h2> 
<ul><li>这些启动参数是从modules/cmd_args.py文件中翻译的</li></ul> 
<table><thead><tr><th>参数</th><th>含义</th></tr></thead><tbody><tr><td>-f</td><td>允许以root身份运行；在webui之外实现</td></tr><tr><td>–update-all-extensions</td><td>launch.py参数：启动程序时下载所有扩展的更新</td></tr><tr><td>–skip-python-version-check</td><td>launch.py参数：不检查python版本</td></tr><tr><td>–skip-torch-cuda-test</td><td>launch.py参数：不检查CUDA是否能够正常工作</td></tr><tr><td>–reinstall-xformers</td><td>launch.py参数：安装适当版本的xformer，即使您已经安装了某个版本</td></tr><tr><td>–reinstall-torch</td><td>launch.py参数：即使已经安装了相应版本的torch，也要安装该版本</td></tr><tr><td>–update-check</td><td>launch.py参数：chck用于启动时的更新</td></tr><tr><td>–tests</td><td>launch.py参数：在指定的目录中运行测试</td></tr><tr><td>–no-tests</td><td>launch.py参数：即使指定了–tests选项，也不要运行测试</td></tr><tr><td>–skip-install</td><td>launch.py参数：跳过包的安装</td></tr><tr><td>–data-dir</td><td>存储所有用户数据的基本路径</td></tr><tr><td>–config</td><td>构造模型的配置路径</td></tr><tr><td>–ckpt</td><td>稳定扩散模型的检查点路径；如果指定，则该检查点将添加到检查点列表中并加载</td></tr><tr><td>–ckpt-dir</td><td>具有稳定扩散检查点的目录路径</td></tr><tr><td>–vae-dir</td><td>包含VAE文件的目录的路径</td></tr><tr><td>–gfpgan-dir</td><td>GFPAGAN目录</td></tr><tr><td>–gfpgan-model</td><td>GFPAGAN模型文件名</td></tr><tr><td>–no-half</td><td>不要将模型切换为16位浮点</td></tr><tr><td>–no-half-vae</td><td>不要将VAE模型切换为16位浮点</td></tr><tr><td>–no-progressbar-hiding</td><td>不要在gradio UI中隐藏进度条（我们隐藏它是因为如果浏览器中有硬件加速，它会减慢ML）</td></tr><tr><td>–max-batch-count</td><td>UI的最大批计数值</td></tr><tr><td>–embeddings-dir</td><td>用于文本反转的embeddings目录（默认值：embeddings）</td></tr><tr><td>–textual-inversion-templates-dir</td><td>具有文本反转模板的目录</td></tr><tr><td>–hypernetwork-dir</td><td>超网络目录</td></tr><tr><td>–localizations-dir</td><td>本地化目录</td></tr><tr><td>–allow-code</td><td>允许从webui执行自定义脚本</td></tr><tr><td>–medvram</td><td>实现稳定的扩散模型优化，为低VRM使用率牺牲一点速度</td></tr><tr><td>–lowvram</td><td>实现稳定的扩散模型优化，以牺牲大量速度实现极低的VRM使用</td></tr><tr><td>–lowram</td><td>将稳定的扩散检查点权重加载到VRAM而不是RAM</td></tr><tr><td>–always-batch-cond-uncond</td><td>使用–medvram或–lowvram禁用启用的cond/uncod批处理以节省内存</td></tr><tr><td>–unload-gfpgan</td><td>什么都不做</td></tr><tr><td>–precision</td><td>以此精度进行评估</td></tr><tr><td>–upcast-sampling</td><td>上行采样。没有效果——没有一半。通常会产生类似的结果——没有一半在使用较少内存的情况下具有更好的性能</td></tr><tr><td>–share</td><td>对gradio使用share=True，并通过其网站访问UI</td></tr><tr><td>–ngrok</td><td>ngrok-authtoken，gradio的替代方案–share</td></tr><tr><td>–ngrok-region</td><td>ngrok应该启动的区域</td></tr><tr><td>–enable-insecure-extension-access</td><td>启用扩展选项卡，而不考虑其他选项</td></tr><tr><td>–codeformer-models-path</td><td>包含代码形成器模型文件的目录的路径</td></tr><tr><td>–gfpgan-models-path</td><td>带有GFPAGAN模型文件的目录路径</td></tr><tr><td>–esrgan-models-path</td><td>带有ESRGAN模型文件的目录的路径</td></tr><tr><td>–bsrgan-models-path</td><td>包含BSRGAN模型文件的目录的路径</td></tr><tr><td>–realesrgan-models-path</td><td>带有RealESRGAN模型文件的目录的路径</td></tr><tr><td>–clip-models-path</td><td>包含CLIP模型文件的目录的路径</td></tr><tr><td>–xformers</td><td>为交叉关注层启用xformer</td></tr><tr><td>–force-enable-xformers</td><td>为交叉关注层启用xformer，而不管检查代码是否认为您可以运行它；如果此操作失败，请不要生成错误报告</td></tr><tr><td>–xformers-flash-attention</td><td>启用具有Flash Attention的xformer以提高再现性（仅支持SD2.x或变体）</td></tr><tr><td>–deepdanbooru</td><td>什么都不做</td></tr><tr><td>–opt-split-attention</td><td>force实现了Doggett的跨注意力层优化。默认情况下，火炬棍打开</td></tr><tr><td>–opt-sub-quad-attention</td><td>实现内存高效的次二次交叉注意层优化</td></tr><tr><td>–sub-quad-q-chunk-size</td><td>查询块大小用于次二次交叉关注层优化</td></tr><tr><td>–sub-quad-kv-chunk-size</td><td>kv块大小用于次二次交叉注意层优化使用</td></tr><tr><td>–sub-quad-chunk-threshold</td><td>使用分块的次二次交叉关注层优化的VRAM阈值的百分比</td></tr><tr><td>–opt-split-attention-invokeai</td><td>force支持InvokeAI的跨注意力层优化。默认情况下，当cuda不可用时，它处于打开状态</td></tr><tr><td>–opt-split-attention-v1</td><td>启用旧版本的分散注意力优化，该优化不会消耗它能找到的所有VRAM</td></tr><tr><td>–opt-sdp-attention</td><td>实现缩放点积交叉关注层优化；需要PyTorch 2*</td></tr><tr><td>–opt-sdp-no-mem-attention</td><td>实现缩放点积跨关注层优化，无需内存高效关注，使图像生成具有确定性；需要PyTorch 2*</td></tr><tr><td>–disable-opt-split-attention</td><td>强制禁用跨注意力层优化</td></tr><tr><td>–disable-nan-check</td><td>不要检查生成的图像/潜在空间是否具有nan；适用于在CI中不带检查点的情况下运行</td></tr><tr><td>–use-cpu</td><td>使用CPU作为指定模块的torch</td></tr><tr><td>–listen</td><td>以0.0.0.0作为服务器名称启动gradio，允许响应网络请求</td></tr><tr><td>–port</td><td>使用给定的服务器端口启动gradio，对于＜1024的端口，您需要root/admin权限，如果可用，则默认为7860</td></tr><tr><td>–show-negative-prompt</td><td>什么都不做</td></tr><tr><td>–ui-config-file</td><td>用于ui配置的文件名</td></tr><tr><td>–hide-ui-dir-config</td><td>从webui隐藏目录配置</td></tr><tr><td>–freeze-settings</td><td>禁用编辑设置</td></tr><tr><td>–ui-settings-file</td><td>用于ui设置的文件名</td></tr><tr><td>–gradio-debug</td><td>使用–debug选项启动gradio</td></tr><tr><td>–gradio-auth</td><td>将gradio身份验证设置为“username:password”；或逗号分隔倍数，如“u1:p1，u2:p2，u3:p3”</td></tr><tr><td>–gradio-auth-path</td><td>设置gradio身份验证文件路径ex.“/path/to/auth/file”与–gradio auth相同的身份验证格式</td></tr><tr><td>–gradio-img2img-tool</td><td>什么都不做</td></tr><tr><td>–gradio-inpaint-tool</td><td>什么都不做</td></tr><tr><td>–opt-channelslast</td><td>改变内存类型以稳定扩散到最后一个通道</td></tr><tr><td>–styles-file</td><td>用于样式的文件名</td></tr><tr><td>–autolaunch</td><td>启动时在系统的默认浏览器中打开webui URL</td></tr><tr><td>–theme</td><td>启动带有浅色或深色主题的用户界面</td></tr><tr><td>–use-textbox-seed</td><td>在UI中使用种子文本框（没有向上/向下，但可以输入长种子）</td></tr><tr><td>–disable-console-progressbars</td><td>不要将进度条输出到控制台</td></tr><tr><td>–enable-console-prompts</td><td>使用txt2img和img2img生成时，将提示打印到控制台</td></tr><tr><td>–vae-path</td><td>用作VAE的检查点；设置此参数将禁用与VAE相关的所有设置</td></tr><tr><td>–disable-safe-unpickle</td><td>禁用检查pytorch模型中的恶意代码</td></tr><tr><td>–api</td><td>使用api=True与webui一起启动api（仅对api使用–nowebui）</td></tr><tr><td>–api-auth</td><td>设置API的身份验证，如“用户名：密码”；或逗号分隔倍数，如“u1:p1，u2:p2，u3:p3“</td></tr><tr><td>–api-log</td><td>使用api-log=True启用所有api请求的日志记录</td></tr><tr><td>–nowebui</td><td>使用api=True启动api而不是webui</td></tr><tr><td>–ui-debug-mode</td><td>不加载模型以快速启动UI</td></tr><tr><td>–device-id</td><td>选择要使用的默认CUDA设备（之前可能需要导出CUDA_VISIBLE_DEVICES=0,1等）</td></tr><tr><td>–administrator</td><td>管理员权限</td></tr><tr><td>–cors-allow-origins</td><td>以逗号分隔列表的形式允许的CORS原点（无空格）</td></tr><tr><td>–cors-allow-origins-regex</td><td>单个正则表达式形式的允许CORS原点</td></tr><tr><td>–tls-keyfile</td><td>部分启用TLS，需要–TLS证书文件才能完全运行</td></tr></tbody></table>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/267a65528bd117dce7e3c72477c7e9c0/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">关于Git Clone时候遇到的超时问题</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/633111b8626e8333f051ce9652926a97/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【Python爬虫---js逆向】Js逆向之网易云音乐</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>