<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Supermicro服务器的重装Centos系统体验 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Supermicro服务器的重装Centos系统体验" />
<meta property="og:description" content="背景 我是一穷二白啥也不懂，从师兄那里接手的服务器。之前一直安装显卡驱动出毛病，主要原因是升级了一下所有文件，这个升级以后不能乱用，
首次接触linux系统，第一次终于安装了显卡驱动，但是重启后图形界面打不开，原因是Nvidia驱动默认安装OpenGL,而OpenGL与GNOME桌面冲突,所以桌面崩了。所以安装的时候要不安装OpenGL后,桌面确实起来了. //sh NVIDIA*.run --no-opengl-files
第二次安装显卡驱动安装成功了，但是在装cuda时不小心把显卡驱动也一同安装上了，导致桌面又崩了，删了驱动重新安装显卡驱动，但是这次不知道怎么的，怎么也装不上驱动，大概率原因是没删除干净之前的显卡驱动。最后只好重装一下系统。顺便换个低版本centos7.7。
制作U盘 这是物理机重装系统，不管怎么样都是和重装window大同小异。都是第一步制作u盘。
首先准备一个16g的u盘，最好把之前的u盘数据备份好。（因为在刻录时会格式化你的u盘）
下载centos系统，最好是在官网，但是太慢，国内的镜像网站完美解决：http://mirrors.aliyun.com/centos/ 选择想要的版本，选择好版本，一定要点开isos文件，选择x86（毕竟因特尔的玩意，没得选，如果你的不是因特尔的我也不知道怎么选）。
下载刻录的工具：各种各样的都有，这里使用一种常见的：https://cn.ultraiso.net/软通碟，当然还有Win32DiskImage刻录工具，进去这个网站，会推荐给你好多免费的刻录工具。
打开软通碟，烧录进去下载好的系统。
双击打开
2.文件 —— 打开 ——找到你下载好的系统
3.启动 ——写入硬盘映像
U盘制作完成。 服务器bios设置u盘启动 这是一个坑爹的玩意，只能说每个机子都有自己独特的设置方式，我这台是超微服务器，并不是网上所说的是在boot界面设置u盘启动，乖乖！打开一堆usb选项，直接懵了，并没有找到Boot Device Priority选项，也可能是是菜不会设置。
也不是直接快捷方式F12直接u盘启动，而是先按Del进去bios界面，然后exit推出，按F12，直接u盘启动。（我也不知道为什么）
u盘启动安装 进入此画面，看到提示说按 tab键，进入设置。
修改这个命令为vmlinuz initrd=initrd.img linux add quiet
注意quiet前面是空格，不是_ 拍照的时候光标在那里没有注意
回车
**注意：**这里本来应该直接会显示几个盘的名称以及里边的类型，但是我的并没有这样，而是上面的界面。可以输入指令。
输入指令：ls /dev |grep sd。可以得到现在的盘
dracut:/# ls /dev |grep sd sda sda1 sda2 sdb sdb3 sdc sdc4 #重启服务器 darcut:/# reboot sda表示第一块硬盘，sdb表示第二块硬盘，以此类推。sdc4就是所插入的u盘。之后输入指令进行重启。
再次进入以下画面
将命令修改为vmlinuz initrd=initrd.img inst.stage2=hd:/dev/sdc4 quiet
回车
图形centos安装界面 以下就是虚拟机安装的步骤了，网上老多了。
参考 https://blog.csdn.net/qq_28189423/article/details/82216620?ops_request_misc=&amp;request_id=&amp;biz_id=102&amp;utm_term=%E8%B6%85%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%87%8D%E8%A3%85centos%E7%B3%BB%E7%BB%9F&amp;utm_medium=distribute.pc_search_result.none-task-blog-2allsobaiduweb~default-5-82216620" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/48a4cc58a6fe1fa49043d57b4290e25d/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-07-04T20:48:37+08:00" />
<meta property="article:modified_time" content="2020-07-04T20:48:37+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Supermicro服务器的重装Centos系统体验</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="_0"></a>背景</h3> 
<p>我是一穷二白啥也不懂，从师兄那里接手的服务器。之前一直安装显卡驱动出毛病，主要原因是升级了一下所有文件，这个升级以后不能乱用，</p> 
<p>首次接触linux系统，第一次终于安装了显卡驱动，但是重启后图形界面打不开，原因是<strong>Nvidia驱动默认安装OpenGL,而OpenGL与GNOME桌面冲突,所以桌面崩了</strong>。所以安装的时候要不安装OpenGL后,桌面确实起来了. //sh NVIDIA*.run --no-opengl-files</p> 
<p>第二次安装显卡驱动安装成功了，但是在装cuda时不小心把显卡驱动也一同安装上了，导致桌面又崩了，删了驱动重新安装显卡驱动，但是这次不知道怎么的，<strong>怎么也装不上驱动，大概率原因是没删除干净之前的显卡驱动</strong>。最后只好重装一下系统。顺便换个低版本centos7.7。</p> 
<h3><a id="U_7"></a>制作U盘</h3> 
<p>这是物理机重装系统，不管怎么样都是和重装window大同小异。都是第一步制作u盘。</p> 
<p>首先准备一个16g的u盘，最好把之前的u盘数据备份好。（因为在刻录时会格式化你的u盘）</p> 
<p>下载centos系统，最好是在官网，但是太慢，国内的镜像网站完美解决：<a href="http://mirrors.aliyun.com/centos/" rel="nofollow">http://mirrors.aliyun.com/centos/</a> 选择想要的版本，选择好版本，一定要点开isos文件，选择x86（毕竟因特尔的玩意，没得选，如果你的不是因特尔的我也不知道怎么选）。</p> 
<p>下载刻录的工具：各种各样的都有，这里使用一种常见的：<a rel="nofollow">https://cn.ultraiso.net/</a>软通碟，当然还有Win32DiskImage刻录工具，进去这个网站，会推荐给你好多免费的刻录工具。</p> 
<p>打开软通碟，烧录进去下载好的系统。</p> 
<ol><li>双击打开<br> <img src="https://images2.imgbox.com/cf/7f/P32LMHSL_o.png" alt=""><br> 2.文件 —— 打开 ——找到你下载好的系统<br> <img src="https://images2.imgbox.com/48/ed/bSuMcjO3_o.png" alt="在这里插入图片描述"><br> 3.启动 ——写入硬盘映像<br> <img src="https://images2.imgbox.com/1b/ee/YGCuZ7md_o.png" alt="在这里插入图片描述"><br> U盘制作完成。</li></ol> 
<h3><a id="biosu_25"></a>服务器bios设置u盘启动</h3> 
<p>这是一个坑爹的玩意，只能说每个机子都有自己独特的设置方式，我这台是超微服务器，并不是网上所说的是在boot界面设置u盘启动，乖乖！打开一堆usb选项，直接懵了，并没有找到Boot Device Priority选项，也可能是是菜不会设置。</p> 
<p>也不是直接快捷方式F12直接u盘启动，<strong>而是先按Del进去bios界面，然后exit推出，按F12，直接u盘启动。</strong>（我也不知道为什么）</p> 
<h3><a id="u_29"></a>u盘启动安装</h3> 
<p><img src="https://images2.imgbox.com/c7/c0/PFmsTL4X_o.png" alt="在这里插入图片描述"><br> 进入此画面，看到提示说按 tab键，进入设置。<img src="https://images2.imgbox.com/4d/71/swlkA6Oj_o.png" alt="图1"><br> 修改这个命令为vmlinuz initrd=initrd.img linux add quiet<img src="https://images2.imgbox.com/f6/ba/r2lXAixw_o.png" alt="在这里插入图片描述"><br> 注意quiet前面是空格，不是_ 拍照的时候光标在那里没有注意<br> 回车<br> <img src="https://images2.imgbox.com/1d/89/tihG2R94_o.png" alt="在这里插入图片描述"></p> 
<p>**注意：**这里本来应该直接会显示几个盘的名称以及里边的类型，但是我的并没有这样，而是上面的界面。可以输入指令。</p> 
<p>输入指令：ls /dev |grep sd。可以得到现在的盘</p> 
<pre><code>
dracut:/# ls /dev |grep sd

sda

sda1

sda2

sdb

sdb3

sdc

sdc4

#重启服务器

darcut:/# reboot

</code></pre> 
<p>sda表示第一块硬盘，sdb表示第二块硬盘，以此类推。sdc4就是所插入的u盘。之后输入指令进行重启。</p> 
<p>再次进入以下画面<img src="https://images2.imgbox.com/1d/10/zktvU23W_o.png" alt="在这里插入图片描述"></p> 
<p>将命令修改为vmlinuz initrd=initrd.img inst.stage2=hd:/dev/sdc4 quiet</p> 
<p>回车<br> <img src="https://images2.imgbox.com/9b/fd/JJEfFE0c_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="centos_71"></a>图形centos安装界面</h3> 
<p>以下就是虚拟机安装的步骤了，网上老多了。</p> 
<h3><a id="_74"></a>参考</h3> 
<p><a href="https://blog.csdn.net/qq_28189423/article/details/82216620?ops_request_misc=&amp;request_id=&amp;biz_id=102&amp;utm_term=%E8%B6%85%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%87%8D%E8%A3%85centos%E7%B3%BB%E7%BB%9F&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduweb~default-5-82216620">https://blog.csdn.net/qq_28189423/article/details/82216620?ops_request_misc=&amp;request_id=&amp;biz_id=102&amp;utm_term=%E8%B6%85%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%87%8D%E8%A3%85centos%E7%B3%BB%E7%BB%9F&amp;utm_medium=distribute.pc_search_result.none-task-blog-2<sub>all</sub>sobaiduweb~default-5-82216620</a></p> 
<p><a href="https://blog.csdn.net/aes2644/article/details/101253291?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-1.nonecase&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-1.nonecase">https://blog.csdn.net/aes2644/article/details/101253291?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-1.nonecase&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-1.nonecase</a></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/13d8ca97a473ead3685f73252b640da4/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">远程电脑不能复制文件</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/afc1688e389e144124cec8dba74d4bfd/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">如何在不花一分钱的情况下精通Lockdown的Python</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>