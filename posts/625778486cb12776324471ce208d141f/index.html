<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【HBase】——安装部署 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【HBase】——安装部署" />
<meta property="og:description" content="1 规划&amp;前提 Zookeeper 、HDFS 正常部署规划如下 2 解压并重命名 cd /opt/software/ tar -zxvf hbase-2.4.11-bin.tar.gz -C /opt/module/ cd /opt/module mv hbase-2.4.11/ hbase 3 修改配置文件 3.1 hbase-env.sh #!/usr/bin/env bash # #/** # * Licensed to the Apache Software Foundation (ASF) under one # * or more contributor license agreements. See the NOTICE file # * distributed with this work for additional information # * regarding copyright ownership. The ASF licenses this file # * to you under the Apache License, Version 2." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/625778486cb12776324471ce208d141f/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-12-27T09:36:52+08:00" />
<meta property="article:modified_time" content="2023-12-27T09:36:52+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【HBase】——安装部署</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-dracula">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="1__0"></a>1 规划&amp;前提</h2> 
<ol><li>Zookeeper 、HDFS 正常部署</li><li>规划如下<img src="https://images2.imgbox.com/57/26/ragAVfUO_o.png" alt="在这里插入图片描述"></li></ol> 
<h2><a id="2__3"></a>2 解压并重命名</h2> 
<pre><code class="prism language-powershell">cd <span class="token operator">/</span>opt/software/
tar <span class="token operator">-</span>zxvf hbase-2<span class="token punctuation">.</span>4<span class="token punctuation">.</span>11-bin<span class="token punctuation">.</span>tar<span class="token punctuation">.</span>gz <span class="token operator">-</span>C <span class="token operator">/</span>opt/module/
cd <span class="token operator">/</span>opt/module
<span class="token function">mv</span> hbase-2<span class="token punctuation">.</span>4<span class="token punctuation">.</span>11/ hbase
</code></pre> 
<h2><a id="3__12"></a>3 修改配置文件</h2> 
<h3><a id="31_hbaseenvsh_13"></a>3.1 hbase-env.sh</h3> 
<pre><code class="prism language-powershell">
<span class="token comment">#!/usr/bin/env bash</span>
<span class="token comment">#</span>
<span class="token comment">#/**</span>
<span class="token comment"># * Licensed to the Apache Software Foundation (ASF) under one</span>
<span class="token comment"># * or more contributor license agreements.  See the NOTICE file</span>
<span class="token comment"># * distributed with this work for additional information</span>
<span class="token comment"># * regarding copyright ownership.  The ASF licenses this file</span>
<span class="token comment"># * to you under the Apache License, Version 2.0 (the</span>
<span class="token comment"># * "License"); you may not use this file except in compliance</span>
<span class="token comment"># * with the License.  You may obtain a copy of the License at</span>
<span class="token comment"># *</span>
<span class="token comment"># *     http://www.apache.org/licenses/LICENSE-2.0</span>
<span class="token comment"># *</span>
<span class="token comment"># * Unless required by applicable law or agreed to in writing, software</span>
<span class="token comment"># * distributed under the License is distributed on an "AS IS" BASIS,</span>
<span class="token comment"># * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span>
<span class="token comment"># * See the License for the specific language governing permissions and</span>
<span class="token comment"># * limitations under the License.</span>
<span class="token comment"># */</span>

<span class="token comment"># Set environment variables here.</span>

<span class="token comment"># This script sets variables multiple times over the course of starting an hbase process,</span>
<span class="token comment"># so try to keep things idempotent unless you want to take an even deeper look</span>
<span class="token comment"># into the startup scripts (bin/hbase, etc.)</span>

<span class="token comment"># The java implementation to use.  Java 1.8+ required.</span>
<span class="token comment"># export JAVA_HOME=/usr/java/jdk1.8.0/</span>

<span class="token comment"># Extra Java CLASSPATH elements.  Optional.</span>
<span class="token comment"># export HBASE_CLASSPATH=</span>

<span class="token comment"># The maximum amount of heap to use. Default is left to JVM default.</span>
<span class="token comment"># export HBASE_HEAPSIZE=1G</span>

<span class="token comment"># Uncomment below if you intend to use off heap cache. For example, to allocate 8G of </span>
<span class="token comment"># offheap, set the value to "8G".</span>
<span class="token comment"># export HBASE_OFFHEAPSIZE=1G</span>

<span class="token comment"># Extra Java runtime options.</span>
<span class="token comment"># Default settings are applied according to the detected JVM version. Override these default</span>
<span class="token comment"># settings by specifying a value here. For more details on possible settings,</span>
<span class="token comment"># see http://hbase.apache.org/book.html#_jvm_tuning</span>
<span class="token comment"># export HBASE_OPTS</span>

<span class="token comment"># Uncomment one of the below three options to enable java garbage collection logging for the server-side processes.</span>

<span class="token comment"># This enables basic gc logging to the .out file.</span>
<span class="token comment"># export SERVER_GC_OPTS="-verbose:gc -XX:+PrintGCDetails -XX:+PrintGCDateStamps"</span>

<span class="token comment"># This enables basic gc logging to its own file.</span>
<span class="token comment"># If FILE-PATH is not replaced, the log file(.gc) would still be generated in the HBASE_LOG_DIR .</span>
<span class="token comment"># export SERVER_GC_OPTS="-verbose:gc -XX:+PrintGCDetails -XX:+PrintGCDateStamps -Xloggc:&lt;FILE-PATH&gt;"</span>

<span class="token comment"># This enables basic GC logging to its own file with automatic log rolling. Only applies to jdk 1.6.0_34+ and 1.7.0_2+.</span>
<span class="token comment"># If FILE-PATH is not replaced, the log file(.gc) would still be generated in the HBASE_LOG_DIR .</span>
<span class="token comment"># export SERVER_GC_OPTS="-verbose:gc -XX:+PrintGCDetails -XX:+PrintGCDateStamps -Xloggc:&lt;FILE-PATH&gt; -XX:+UseGCLogFileRotation -XX:NumberOfGCLogFiles=1 -XX:GCLogFileSize=512M"</span>

<span class="token comment"># Uncomment one of the below three options to enable java garbage collection logging for the client processes.</span>

<span class="token comment"># This enables basic gc logging to the .out file.</span>
<span class="token comment"># export CLIENT_GC_OPTS="-verbose:gc -XX:+PrintGCDetails -XX:+PrintGCDateStamps"</span>

<span class="token comment"># This enables basic gc logging to its own file.</span>
<span class="token comment"># If FILE-PATH is not replaced, the log file(.gc) would still be generated in the HBASE_LOG_DIR .</span>
<span class="token comment"># export CLIENT_GC_OPTS="-verbose:gc -XX:+PrintGCDetails -XX:+PrintGCDateStamps -Xloggc:&lt;FILE-PATH&gt;"</span>

<span class="token comment"># This enables basic GC logging to its own file with automatic log rolling. Only applies to jdk 1.6.0_34+ and 1.7.0_2+.</span>
<span class="token comment"># If FILE-PATH is not replaced, the log file(.gc) would still be generated in the HBASE_LOG_DIR .</span>
<span class="token comment"># export CLIENT_GC_OPTS="-verbose:gc -XX:+PrintGCDetails -XX:+PrintGCDateStamps -Xloggc:&lt;FILE-PATH&gt; -XX:+UseGCLogFileRotation -XX:NumberOfGCLogFiles=1 -XX:GCLogFileSize=512M"</span>

<span class="token comment"># See the package documentation for org.apache.hadoop.hbase.io.hfile for other configurations</span>
<span class="token comment"># needed setting up off-heap block caching. </span>

<span class="token comment"># Uncomment and adjust to enable JMX exporting</span>
<span class="token comment"># See jmxremote.password and jmxremote.access in $JRE_HOME/lib/management to configure remote password access.</span>
<span class="token comment"># More details at: http://java.sun.com/javase/6/docs/technotes/guides/management/agent.html</span>
<span class="token comment"># NOTE: HBase provides an alternative JMX implementation to fix the random ports issue, please see JMX</span>
<span class="token comment"># section in HBase Reference Guide for instructions.</span>

<span class="token comment"># export HBASE_JMX_BASE="-Dcom.sun.management.jmxremote.ssl=false -Dcom.sun.management.jmxremote.authenticate=false"</span>
<span class="token comment"># export HBASE_MASTER_OPTS="$HBASE_MASTER_OPTS $HBASE_JMX_BASE -Dcom.sun.management.jmxremote.port=10101"</span>
<span class="token comment"># export HBASE_REGIONSERVER_OPTS="$HBASE_REGIONSERVER_OPTS $HBASE_JMX_BASE -Dcom.sun.management.jmxremote.port=10102"</span>
<span class="token comment"># export HBASE_THRIFT_OPTS="$HBASE_THRIFT_OPTS $HBASE_JMX_BASE -Dcom.sun.management.jmxremote.port=10103"</span>
<span class="token comment"># export HBASE_ZOOKEEPER_OPTS="$HBASE_ZOOKEEPER_OPTS $HBASE_JMX_BASE -Dcom.sun.management.jmxremote.port=10104"</span>
<span class="token comment"># export HBASE_REST_OPTS="$HBASE_REST_OPTS $HBASE_JMX_BASE -Dcom.sun.management.jmxremote.port=10105"</span>

<span class="token comment"># File naming hosts on which HRegionServers will run.  $HBASE_HOME/conf/regionservers by default.</span>
<span class="token comment"># export HBASE_REGIONSERVERS=${HBASE_HOME}/conf/regionservers</span>

<span class="token comment"># Uncomment and adjust to keep all the Region Server pages mapped to be memory resident</span>
<span class="token comment">#HBASE_REGIONSERVER_MLOCK=true</span>
<span class="token comment">#HBASE_REGIONSERVER_UID="hbase"</span>

<span class="token comment"># File naming hosts on which backup HMaster will run.  $HBASE_HOME/conf/backup-masters by default.</span>
<span class="token comment"># export HBASE_BACKUP_MASTERS=${HBASE_HOME}/conf/backup-masters</span>

<span class="token comment"># Extra ssh options.  Empty by default.</span>
<span class="token comment"># export HBASE_SSH_OPTS="-o ConnectTimeout=1 -o SendEnv=HBASE_CONF_DIR"</span>

<span class="token comment"># Where log files are stored.  $HBASE_HOME/logs by default.</span>
<span class="token comment"># export HBASE_LOG_DIR=${HBASE_HOME}/logs</span>

<span class="token comment"># Enable remote JDWP debugging of major HBase processes. Meant for Core Developers </span>
<span class="token comment"># export HBASE_MASTER_OPTS="$HBASE_MASTER_OPTS -Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=8070"</span>
<span class="token comment"># export HBASE_REGIONSERVER_OPTS="$HBASE_REGIONSERVER_OPTS -Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=8071"</span>
<span class="token comment"># export HBASE_THRIFT_OPTS="$HBASE_THRIFT_OPTS -Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=8072"</span>
<span class="token comment"># export HBASE_ZOOKEEPER_OPTS="$HBASE_ZOOKEEPER_OPTS -Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=8073"</span>
<span class="token comment"># export HBASE_REST_OPTS="$HBASE_REST_OPTS -Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=8074"</span>

<span class="token comment"># A string representing this instance of hbase. $USER by default.</span>
<span class="token comment"># export HBASE_IDENT_STRING=$USER</span>

<span class="token comment"># The scheduling priority for daemon processes.  See 'man nice'.</span>
<span class="token comment"># export HBASE_NICENESS=10</span>

<span class="token comment"># The directory where pid files are stored. /tmp by default.</span>
<span class="token comment"># export HBASE_PID_DIR=/var/hadoop/pids</span>

<span class="token comment"># Seconds to sleep between slave commands.  Unset by default.  This</span>
<span class="token comment"># can be useful in large clusters, where, e.g., slave rsyncs can</span>
<span class="token comment"># otherwise arrive faster than the master can service them.</span>
<span class="token comment"># export HBASE_SLAVE_SLEEP=0.1</span>

<span class="token comment"># Tell HBase whether it should manage it's own instance of ZooKeeper or not.</span>
export HBASE_MANAGES_ZK=false

<span class="token comment"># The default log rolling policy is RFA, where the log file is rolled as per the size defined for the </span>
<span class="token comment"># RFA appender. Please refer to the log4j.properties file to see more details on this appender.</span>
<span class="token comment"># In case one needs to do log rolling on a date change, one should set the environment property</span>
<span class="token comment"># HBASE_ROOT_LOGGER to "&lt;DESIRED_LOG LEVEL&gt;,DRFA".</span>
<span class="token comment"># For example:</span>
<span class="token comment"># HBASE_ROOT_LOGGER=INFO,DRFA</span>
<span class="token comment"># The reason for changing default to RFA is to avoid the boundary case of filling out disk space as </span>
<span class="token comment"># DRFA doesn't put any cap on the log size. Please refer to HBase-5655 for more context.</span>

<span class="token comment"># Tell HBase whether it should include Hadoop's lib when start up,</span>
<span class="token comment"># the default value is false,means that includes Hadoop's lib.</span>
<span class="token comment"># export HBASE_DISABLE_HADOOP_CLASSPATH_LOOKUP="true"</span>

<span class="token comment"># Override text processing tools for use by these launch scripts.</span>
<span class="token comment"># export GREP="${GREP-grep}"</span>
<span class="token comment"># export SED="${SED-sed}"</span>
</code></pre> 
<h3><a id="33_hbasesitexml_163"></a>3.3 hbase-site.xml</h3> 
<pre><code class="prism language-powershell">
&lt;?xml version=<span class="token string">"1.0"</span>?&gt;
&lt;?xml-stylesheet <span class="token function">type</span>=<span class="token string">"text/xsl"</span> href=<span class="token string">"configuration.xsl"</span>?&gt;
&lt;<span class="token operator">!</span><span class="token operator">--</span>
<span class="token operator">/</span><span class="token operator">*</span>
 <span class="token operator">*</span> Licensed to the Apache Software Foundation <span class="token punctuation">(</span>ASF<span class="token punctuation">)</span> under one
 <span class="token operator">*</span> or more contributor license agreements<span class="token punctuation">.</span>  See the NOTICE file
 <span class="token operator">*</span> distributed with this work <span class="token keyword">for</span> additional information
 <span class="token operator">*</span> regarding copyright ownership<span class="token punctuation">.</span>  The ASF licenses this file
 <span class="token operator">*</span> to you under the Apache License<span class="token punctuation">,</span> Version 2<span class="token punctuation">.</span>0 <span class="token punctuation">(</span>the
 <span class="token operator">*</span> <span class="token string">"License"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> you may not use this file except in compliance
 <span class="token operator">*</span> with the License<span class="token punctuation">.</span>  You may obtain a <span class="token function">copy</span> of the License at
 <span class="token operator">*</span>
 <span class="token operator">*</span>     http:<span class="token operator">/</span><span class="token operator">/</span>www<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>org/licenses/LICENSE-2<span class="token punctuation">.</span>0
 <span class="token operator">*</span>
 <span class="token operator">*</span> Unless required by applicable law or agreed to in writing<span class="token punctuation">,</span> software
 <span class="token operator">*</span> distributed under the License is distributed on an <span class="token string">"AS IS"</span> BASIS<span class="token punctuation">,</span>
 <span class="token operator">*</span> WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND<span class="token punctuation">,</span> either express or implied<span class="token punctuation">.</span>
 <span class="token operator">*</span> See the License <span class="token keyword">for</span> the specific language governing permissions and
 <span class="token operator">*</span> limitations under the License<span class="token punctuation">.</span>
 <span class="token operator">*</span><span class="token operator">/</span>
<span class="token operator">--</span>&gt;
&lt;configuration&gt;
  &lt;<span class="token operator">!</span><span class="token operator">--</span>
    The following properties are <span class="token function">set</span> <span class="token keyword">for</span> running HBase as a single <span class="token keyword">process</span> on a
    developer workstation<span class="token punctuation">.</span> With this configuration<span class="token punctuation">,</span> HBase is running in
    <span class="token string">"stand-alone"</span> mode and without a distributed file system<span class="token punctuation">.</span> In this mode<span class="token punctuation">,</span> and
    without further configuration<span class="token punctuation">,</span> HBase and ZooKeeper <span class="token keyword">data</span> are stored on the
    local filesystem<span class="token punctuation">,</span> in a path under the value configured <span class="token keyword">for</span> `hbase<span class="token punctuation">.</span>tmp<span class="token punctuation">.</span><span class="token function">dir</span>`<span class="token punctuation">.</span>
    This value is overridden <span class="token keyword">from</span> its default value of `<span class="token operator">/</span>tmp` because many
    systems clean `<span class="token operator">/</span>tmp` on a regular basis<span class="token punctuation">.</span> Instead<span class="token punctuation">,</span> it points to a path within
    this HBase installation directory<span class="token punctuation">.</span>

    Running against the `LocalFileSystem`<span class="token punctuation">,</span> as opposed to a distributed
    filesystem<span class="token punctuation">,</span> runs the risk of <span class="token keyword">data</span> integrity issues and <span class="token keyword">data</span> loss<span class="token punctuation">.</span> Normally
    HBase will refuse to run in such an environment<span class="token punctuation">.</span> Setting
    `hbase<span class="token punctuation">.</span>unsafe<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>capability<span class="token punctuation">.</span>enforce` to `false` overrides this behavior<span class="token punctuation">,</span>
    permitting operation<span class="token punctuation">.</span> This configuration is <span class="token keyword">for</span> the developer workstation
    only and __should not be used in production!__

    See also https:<span class="token operator">/</span><span class="token operator">/</span>hbase<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>org/book<span class="token punctuation">.</span>html<span class="token comment">#standalone_dist</span>
  <span class="token operator">--</span>&gt;
  &lt;property&gt;
    &lt;name&gt;hbase<span class="token punctuation">.</span>cluster<span class="token punctuation">.</span>distributed&lt;<span class="token operator">/</span>name&gt;
    &lt;value&gt;true&lt;<span class="token operator">/</span>value&gt;
  &lt;<span class="token operator">/</span>property&gt;
  &lt;<span class="token operator">!</span><span class="token operator">--</span> &lt;property&gt;
    &lt;name&gt;hbase<span class="token punctuation">.</span>tmp<span class="token punctuation">.</span><span class="token function">dir</span>&lt;<span class="token operator">/</span>name&gt;
    &lt;value&gt;<span class="token punctuation">.</span><span class="token operator">/</span>tmp&lt;<span class="token operator">/</span>value&gt;
  &lt;<span class="token operator">/</span>property&gt;
  &lt;property&gt;
    &lt;name&gt;hbase<span class="token punctuation">.</span>unsafe<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>capability<span class="token punctuation">.</span>enforce&lt;<span class="token operator">/</span>name&gt;
    &lt;value&gt;false&lt;<span class="token operator">/</span>value&gt;
  &lt;<span class="token operator">/</span>property&gt; <span class="token operator">--</span>&gt;
  &lt;property&gt;
    &lt;name&gt;hbase<span class="token punctuation">.</span>zookeeper<span class="token punctuation">.</span>quorum&lt;<span class="token operator">/</span>name&gt;
    &lt;value&gt;hadoop102<span class="token punctuation">,</span>hadoop103<span class="token punctuation">,</span>hadoop104&lt;<span class="token operator">/</span>value&gt;
  &lt;<span class="token operator">/</span>property&gt;
  &lt;property&gt;
    &lt;name&gt;hbase<span class="token punctuation">.</span>rootdir&lt;<span class="token operator">/</span>name&gt;
    &lt;value&gt;hdfs:<span class="token operator">/</span><span class="token operator">/</span>hadoop102:8020/hbase&lt;<span class="token operator">/</span>value&gt;
  &lt;<span class="token operator">/</span>property&gt;
&lt;<span class="token operator">/</span>configuration&gt;
</code></pre> 
<h3><a id="33_zoocfg_231"></a>3.3 zoo.cfg</h3> 
<p>修改zookeeper默认数据存放位置，防止tmp路径 将文件清除</p> 
<pre><code class="prism language-powershell">
<span class="token comment"># The number of milliseconds of each tick</span>
tickTime=2000
<span class="token comment"># The number of ticks that the initial</span>
<span class="token comment"># synchronization phase can take</span>
initLimit=10
<span class="token comment"># The number of ticks that can pass between</span>
<span class="token comment"># sending a request and getting an acknowledgement</span>
syncLimit=5
<span class="token comment"># the directory where the snapshot is stored.</span>
<span class="token comment"># do not use /tmp for storage, /tmp here is just</span>
<span class="token comment"># example sakes.</span>
<span class="token comment"># dataDir=/tmp/zookeeper</span>
dataDir=<span class="token operator">/</span>opt/module/zookeeper-3<span class="token punctuation">.</span>5<span class="token punctuation">.</span>7/zkData
<span class="token comment"># the port at which the clients will connect</span>
clientPort=2181
<span class="token comment"># the maximum number of client connections.</span>
<span class="token comment"># increase this if you need to handle more clients</span>
<span class="token comment">#maxClientCnxns=60</span>
<span class="token comment">#</span>
<span class="token comment"># Be sure to read the maintenance section of the</span>
<span class="token comment"># administrator guide before turning on autopurge.</span>
<span class="token comment">#</span>
<span class="token comment"># http://zookeeper.apache.org/doc/current/zookeeperAdmin.html#sc_maintenance</span>
<span class="token comment">#</span>
<span class="token comment"># The number of snapshots to retain in dataDir</span>
<span class="token comment">#autopurge.snapRetainCount=3</span>
<span class="token comment"># Purge task interval in hours</span>
<span class="token comment"># Set to "0" to disable auto purge feature</span>
<span class="token comment">#autopurge.purgeInterval=1</span>
</code></pre> 
<h3><a id="34_regionservers_267"></a>3.4 regionservers</h3> 
<pre><code class="prism language-powershell">hadoop102
hadoop103
hadoop104
</code></pre> 
<h3><a id="35_backupmasters_275"></a>3.5 backup-masters</h3> 
<pre><code class="prism language-powershell"><span class="token function">echo</span> <span class="token string">"hadoop103"</span> &gt; <span class="token operator">/</span>opt/module/hbase/conf/<span class="token function">backup-masters</span>
</code></pre> 
<h2><a id="4_hadoophbase_jar__281"></a>4 修改hadoop和hbase jar 冲突问题</h2> 
<pre><code class="prism language-powershell"><span class="token operator">/</span>opt/module/hbase/lib/client-facing-thirdparty
<span class="token function">rm</span> <span class="token operator">-</span>f slf4j-reload4j-1<span class="token punctuation">.</span>7<span class="token punctuation">.</span>33<span class="token punctuation">.</span>jar
</code></pre> 
<h2><a id="5__288"></a>5 分发安装包到其他服务器</h2> 
<pre><code class="prism language-powershell"> sh xsync <span class="token operator">/</span>opt/module/hbase/
</code></pre> 
<h2><a id="6__294"></a>6 添加环境变量</h2> 
<p>在三台server 分别添加</p> 
<pre><code class="prism language-powershell">vim  <span class="token operator">/</span>etc/profile<span class="token punctuation">.</span>d/my_env<span class="token punctuation">.</span>sh
</code></pre> 
<pre><code class="prism language-powershell"><span class="token comment">#HBASE_HOME</span>
export HBASE_HOME=<span class="token operator">/</span>opt/module/hbase
export PATH=<span class="token variable">$PATH</span>:<span class="token variable">$HBASE_HOME</span><span class="token operator">/</span>bin
</code></pre> 
<pre><code class="prism language-powershell">source <span class="token operator">/</span>etc/profile
</code></pre> 
<h2><a id="7__311"></a>7 启动停止脚本</h2> 
<pre><code class="prism language-powershell"><span class="token comment">#!/bin/bash</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> $<span class="token comment"># -lt 1 ]; then</span>
    <span class="token function">echo</span> <span class="token string">"No Args Input..."</span>
    <span class="token keyword">exit</span>
fi

case <span class="token variable">$1</span> in
<span class="token string">"start"</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token function">echo</span> <span class="token string">"----------------- HBase start -----------------"</span>
        nohup sh <span class="token operator">/</span>opt/module/hbase/bin/<span class="token function">start-hbase</span><span class="token punctuation">.</span>sh  &gt;&gt; <span class="token operator">/</span>opt/module/hbase/logs/<span class="token function">start-hbase</span><span class="token punctuation">.</span>out 2&gt;&amp;1 &amp;    <span class="token punctuation">}</span>
    <span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token string">"stop"</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
         <span class="token function">echo</span> <span class="token string">"----------------- HBase stop -----------------"</span>
        nohup sh <span class="token operator">/</span>opt/module/hbase/bin/<span class="token function">stop-hbase</span><span class="token punctuation">.</span>sh  &gt;&gt; <span class="token operator">/</span>opt/module/hbase/logs/<span class="token function">stop-hbase</span><span class="token punctuation">.</span>out 2&gt;&amp;1 &amp;
    <span class="token punctuation">}</span>
    <span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token operator">*</span><span class="token punctuation">)</span>
    <span class="token function">echo</span> <span class="token string">"Input Args Error..."</span>
    <span class="token punctuation">;</span><span class="token punctuation">;</span>
esac
</code></pre> 
<h2><a id="8_web_339"></a>8 web页面</h2> 
<p>Master</p> 
<pre><code class="prism language-powershell">http:<span class="token operator">/</span><span class="token operator">/</span>hadoop102:16010/master-status
</code></pre> 
<p>Backup Master</p> 
<pre><code class="prism language-powershell">http:<span class="token operator">/</span><span class="token operator">/</span>hadoop103:16010/master-status
</code></pre>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/d0d48cd7fed9d96c7e1082c16cf2de7c/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">探究element-ui 2.15.8中＜el-input＞的keydown事件无效问题</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/4785b9ee235de3d476b9290a934a6e0b/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">在 Android 手机上从SD 卡恢复数据的 6 个有效应用程序</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>