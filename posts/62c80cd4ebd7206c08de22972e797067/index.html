<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>oracle v.,Oracle VARRAY - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="oracle v.,Oracle VARRAY" />
<meta property="og:description" content="Oracle VARRAY
The SQL Anywhere 16 - Oracle ODBC driver supports the use of Oracle VARRAY in stored procedures. Using VARRAY in upload scripts
(upload_insert, upload_update, and upload_delete) that are written in stored procedures may improve performance of the MobiLink
server, compared with upload scripts written in stored procedures that do not use VARRAY. Simple SQL statements such as INSERT,
UPDATE and DELETE without stored procedures usually offer the best performance." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/62c80cd4ebd7206c08de22972e797067/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-04-08T13:46:08+08:00" />
<meta property="article:modified_time" content="2021-04-08T13:46:08+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">oracle v.,Oracle VARRAY</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div style="font-size:16px;"> 
 <p>Oracle VARRAY</p> 
 <p>The SQL Anywhere 16 - Oracle ODBC driver supports the use of Oracle VARRAY in stored procedures. Using VARRAY in upload scripts</p> 
 <p>(upload_insert, upload_update, and upload_delete) that are written in stored procedures may improve performance of the MobiLink</p> 
 <p>server, compared with upload scripts written in stored procedures that do not use VARRAY. Simple SQL statements such as INSERT,</p> 
 <p>UPDATE and DELETE without stored procedures usually offer the best performance. However using stored procedures, including</p> 
 <p>the VARRAY technique, provides an opportunity to apply business logic that the simple statements do not.</p> 
 <p>The following is a simple example that uses VARRAY:</p> 
 <p>Create a table called my_table that contains 3 columns.</p> 
 <p>create table my_table ( pk integer primary key, c1 number(20), c2 varchar2(4000) )</p> 
 <p>Create user-defined collection types using VARRAYs.</p> 
 <p>create type my_integer is varray(100) of integer;</p> 
 <p>create type my_number is varray(100) of number(20);</p> 
 <p>create type my_varchar is varray(100) of varchar2(8000);</p> 
 <p>my_varchar is defined as a VARRAY that contains 100 elements and each element is a data type of varchar2 and width of 8000.</p> 
 <p>The width is required to be twice as big as that specified for my_table.</p> 
 <p>Create stored procedures for insert.</p> 
 <p>create or replace procedure my_insert_proc( pk_v my_integer, c1_v my_number, c2_v my_varchar )</p> 
 <p>is</p> 
 <p>c2_value my_varchar;</p> 
 <p>begin</p> 
 <p>c2_value := c2_v; -- Work around an Oracle bug</p> 
 <p>FORALL i in 1 .. pk_v.COUNT</p> 
 <p>insert into my_table ( pk, c1, c2 ) values( pk_v(i), c1_v(i), c2_value(i) );</p> 
 <p>end;</p> 
 <p>The following restrictions apply when using VARRAY in stored procedures:</p> 
 <p>The ODBC data source must have the Enable Microsoft distributed transactions checkbox cleared.</p> 
 <p>BLOB and CLOB VARRAYs are not supported.</p> 
 <p>If VARRAY is a data type of CHAR, VARCHAR, NCHAR or NVARCHAR, the user-defined VARRAY type must be twice as big as the length</p> 
 <p>specified for the table column.</p> 
 <p>The number of rows in the VARRAY that are sent by the MobiLink server to the Oracle consolidated database is set by the -s</p> 
 <p>option, not the size of the VARRAY declared in the VARRAY type. The -s option must not be bigger than the smallest VARRAY</p> 
 <p>type size in use by synchronization scripts. If it is bigger, the MobiLink server issues an error. See -s mlsrv16 option.</p> 
</div>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/4e99e36d642162526fe35951bf8c0067/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">在iframe下存储不上cookie，nginx配置iframe和主窗体同源</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/377168a55d47f2abb97d3c9277ac416e/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">C#中linq表达式用法的归纳总结(上)</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>