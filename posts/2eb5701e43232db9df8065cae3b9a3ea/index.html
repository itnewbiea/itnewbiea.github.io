<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>第七章 用函数实现模块化程序设计 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="第七章 用函数实现模块化程序设计" />
<meta property="og:description" content="7.1 为什么要用函数 函数就是功能。每一个函数用来实现一个特定的功能。函数的名字应反映其代表的功能。
一个C程序可由一个主函数和若干个其他函数构成。由主函数调用其他函数，其他函数也可以互相调用。同一个函数可以被一个或多个函数调用任意多次。
除了可以使用库函数外，有的部门还编写一批本领域或本单位常用到的专用函数，供本领域或本单位的人员使用。在程序设计中要善于利用函数，以减少重复编写程序段的工作量，也更便于实现模块化的程序设计。
＃include &lt;stdio.h&gt; int main() {void print_star();//声明print_star函数 void print_message(); //声明print_message函数 print_star();//调用print_star函数 print_message();//调用print_message函数 print_star();//调用print_star函数 return 0; } void print_star()//定义print_star函数 {printf(&#34;******************\n&#34;);} void print_message() //定义print_message函数 {printf(&#34;How do you do!\n&#34;);} 程序分析：
print_star和print_message都是用户自定义的函数名，分别用来输出一排&#34;*“和一行文字信息。在定义这两个函数时指定函数的类型为void，意为函数无类型，即无函数值，也就是说，执行这两个函数后不会把任何值带回main函数。
在程序中，定义print_star和print_message函数的位置是在main函数的后面，在这种情况下，应当在main函数之前或main函数中的开头部分，对以上两个函数进行&#34;声明”。函数声明的作用是把有关函数的信息(函数名，函数类型，函数参数的个数与类型)通知编译系统，以便在编译系统对程序进行编译时，在进行到main函数调用print_star( )和print_message( )时并知道它们是函数而不是变量或其他对象。此外，还对调用函数的正确性进行检查(如类型，函数名，参数个数，参数类型等是否正确)。
7.2 怎样定义函数 C语言要求，在程序中用到的所有函数，必须&#34;先定义，后使用&#34;。
定义函数应包括以下几个内容：
指定函数的名字，以便以后按名调用。指定函数的类型，即函数返回值的类型。指定函数的参数的名字和类型，以便在调用函数时向它们传递数据。对无参函数不需要这项。指定函数应当完成什么操作，即函数的功能。这是最重要的，是在函数体中解决的。 定义函数的方法
定义无参函数
类型名 函数名( )
{
函数体
}
或
类型名 函数名(void)
{
函数体
}
函数体包括声明部分和语句部分。定义有参函数
类型名 函数名(形式参数表列)
{
函数体
}
函数体包括声明部分和语句部分。 int max(int x,int y) { int z; //声明部分 z=x&gt;y?" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/2eb5701e43232db9df8065cae3b9a3ea/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-11-21T15:29:10+08:00" />
<meta property="article:modified_time" content="2020-11-21T15:29:10+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">第七章 用函数实现模块化程序设计</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="71__0"></a>7.1 为什么要用函数</h3> 
<p>函数就是功能。每一个函数用来实现一个特定的功能。函数的名字应反映其代表的功能。</p> 
<p>一个C程序可由一个主函数和若干个其他函数构成。由主函数调用其他函数，其他函数也可以互相调用。同一个函数可以被一个或多个函数调用任意多次。</p> 
<p>除了可以使用库函数外，有的部门还编写一批本领域或本单位常用到的专用函数，供本领域或本单位的人员使用。在程序设计中要善于利用函数，以减少重复编写程序段的工作量，也更便于实现模块化的程序设计。</p> 
<pre><code class="prism language-java">＃include <span class="token generics function"><span class="token punctuation">&lt;</span>stdio<span class="token punctuation">.</span>h<span class="token punctuation">&gt;</span></span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span><span class="token keyword">void</span> <span class="token function">print_star</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//声明print_star函数</span>
<span class="token keyword">void</span> <span class="token function">print_message</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//声明print_message函数</span>
<span class="token function">print_star</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//调用print_star函数</span>
<span class="token function">print_message</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//调用print_message函数</span>
<span class="token function">print_star</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//调用print_star函数</span>
<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">print_star</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">//定义print_star函数</span>
<span class="token punctuation">{<!-- --></span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"******************\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">print_message</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">//定义print_message函数</span>
<span class="token punctuation">{<!-- --></span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"How do you do!\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
</code></pre> 
<p>程序分析：<br> print_star和print_message都是用户自定义的函数名，分别用来输出一排"*“和一行文字信息。在定义这两个函数时指定函数的类型为void，意为函数无类型，即无函数值，也就是说，执行这两个函数后不会把任何值带回main函数。<br> 在程序中，定义print_star和print_message函数的位置是在main函数的后面，在这种情况下，应当在main函数之前或main函数中的开头部分，对以上两个函数进行"声明”。函数声明的作用是把有关函数的信息(函数名，函数类型，函数参数的个数与类型)通知编译系统，以便在编译系统对程序进行编译时，在进行到main函数调用print_star( )和print_message( )时并知道它们是函数而不是变量或其他对象。此外，还对调用函数的正确性进行检查(如类型，函数名，参数个数，参数类型等是否正确)。</p> 
<h3><a id="72__29"></a>7.2 怎样定义函数</h3> 
<p>C语言要求，在程序中用到的所有函数，必须"先定义，后使用"。</p> 
<p>定义函数应包括以下几个内容：</p> 
<ol><li>指定函数的名字，以便以后按名调用。</li><li>指定函数的类型，即函数返回值的类型。</li><li>指定函数的参数的名字和类型，以便在调用函数时向它们传递数据。对无参函数不需要这项。</li><li>指定函数应当完成什么操作，即函数的功能。这是最重要的，是在函数体中解决的。</li></ol> 
<p><strong>定义函数的方法</strong></p> 
<ol><li><strong>定义无参函数</strong><br> 类型名 函数名( )<br> {<!-- --><br> 函数体<br> }<br> 或<br> 类型名 函数名(void)<br> {<!-- --><br> 函数体<br> }<br> 函数体包括声明部分和语句部分。</li><li><strong>定义有参函数</strong><br> 类型名 函数名(形式参数表列)<br> {<!-- --><br> 函数体<br> }<br> 函数体包括声明部分和语句部分。</li></ol> 
<pre><code class="prism language-java"><span class="token keyword">int</span> <span class="token function">max</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span><span class="token keyword">int</span> y<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">int</span> z<span class="token punctuation">;</span>  <span class="token comment">//声明部分</span>
z<span class="token operator">=</span>x<span class="token operator">&gt;</span>y<span class="token operator">?</span>x<span class="token operator">:</span>y<span class="token punctuation">;</span>  <span class="token comment">//执行语句部分</span>
<span class="token keyword">return</span><span class="token punctuation">(</span>z<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//将z的值作为函数返回值带回到主调函数，max=z</span>
<span class="token punctuation">}</span>
</code></pre> 
<ol start="3"><li><strong>定义空函数</strong><br> 类型名 函数名( ) { }<br> 在编写程序的开始阶段，可以在将来准备扩充功能的地方写上一个空函数(函数名取将来采用的实际函数名)，只是这些函数暂时还未编写好，先用空函数占一个位置，等以后扩充程序功能时用一个编好的函数代替它。这样做，程序的结构清楚，可读性好，以后扩充新功能方便，对程序结构影响不大。空函数在程序设计中常常是有用的。</li></ol> 
<h3><a id="73__70"></a>7.3 调用函数</h3> 
<p><strong>函数调用的形式</strong><br> 函数名(实参表列)</p> 
<p>如果是调用无参函数，则"实参表列"可以没有，但括号不能省略。如果实参表列包含多个实参，则各参数间用逗号隔开。</p> 
<ol><li>函数调用语句 <code>printf_star( )</code></li><li>函数表达式 <code>c=max(a,b);</code></li><li>函数参数：函数调用作为另一个函数调用的实参。<br> <code>m=max(a,max(b,c));</code><br> <code>printf("%d",max(a,b));</code></li></ol> 
<p><strong>函数调用时的数据传递</strong></p> 
<p><em>1.形式参数和实际参数</em><br> 在定义函数时函数名后面括号中的变量名称为"形式参数"，在主调函数中调用一个函数时，函数名后面括号中的参数称为"实际参数"。实际参数可以是常量、变量或表达式。但要求它们有确定的值。</p> 
<p><em>2.实参和形参间的数据传递</em><br> <mark>实参的值传递给形参</mark><br> <strong>实参和形参的类型应相同或赋值兼容。如果不同，则按不同类型数值的赋值规则进行转换。字符型与int型可以互相通用。</strong></p> 
<p><em>输入两个整数，要求输出其中值较大者。要求用函数来找到大数。</em></p> 
<pre><code class="prism language-java">#include <span class="token generics function"><span class="token punctuation">&lt;</span>stdio<span class="token punctuation">.</span>h<span class="token punctuation">&gt;</span></span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">int</span> <span class="token function">max</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span><span class="token keyword">int</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//对max函数的声明</span>
<span class="token keyword">int</span> a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"please enter two integer numbers:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d,%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>a<span class="token punctuation">,</span><span class="token operator">&amp;</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//输入两个整数</span>
c<span class="token operator">=</span><span class="token function">max</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//调用max函数，有两个实参。大数赋给变量c</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"max is %d\n"</span><span class="token punctuation">,</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//输出大数c</span>
<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">max</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span><span class="token keyword">int</span> y<span class="token punctuation">)</span><span class="token comment">//定义max函数，有两个参数</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">int</span> z<span class="token punctuation">;</span><span class="token comment">//定义临时变量z</span>
z<span class="token operator">=</span>x<span class="token operator">&gt;</span>y<span class="token operator">?</span>x<span class="token operator">:</span>y<span class="token punctuation">;</span><span class="token comment">//把x和y中的大者赋给z</span>
<span class="token keyword">return</span> <span class="token punctuation">(</span>z<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//把z作为max函数的值带回main函数</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><strong>函数调用的过程</strong><br> (1)在定义函数中指定的形参，在未出现函数调用时，它们并不占内存中的存储单元。在发生函数调用时，函数max的形参才被临时分配内存单元。<br> (2)<mark>将实参的值传递给对应形参，单向传递。</mark> 因为实参和形参在内存中占有不同的存储单元，实参无法得到形参的值。<br> (3)在执行max函数期间，由于形参已经有值，就可以利用形参进行有关的运算。<br> (4)<mark>通过return语句将函数值带回到主调函数。应当注意返回值的类型与函数类型一致。如果函数不需要返回值，则不需要return语句。这时函数的类型应定义为void类型。</mark><br> (5)调用结束，形参单元被释放。注意：实参单元仍保留并维持原值。这是因为实参与形参是两个不同的存储单元。</p> 
<p><strong>函数的返回值</strong><br> (1)<mark>函数的返回值是通过函数中的return语句获得的。</mark> 如果需要从被调用函数带回一个函数值(供主调函数使用)，被调用函数中必须包含return语句。如果不需要从被调用函数带回函数值可以不要return语句。</p> 
<p>一个函数中可以有一个以上的return语句，执行到哪一个return语句，哪一个return语句就起作用。return语句后面的括号可以不要，如"return z;"与"return (z);"等价。return后面的值可以是一个表达式。</p> 
<pre><code class="prism language-java"><span class="token function">max</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span><span class="token keyword">int</span> y<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">return</span><span class="token punctuation">(</span>x<span class="token operator">&gt;</span>y<span class="token operator">?</span>x<span class="token operator">:</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>这样的函数体更简短，只用一个return语句就把求值和返回都解决了。<br> (2)函数值的类型。既然函数有返回值，这个值应该属于某一个确定的类型，<mark>应当在定义函数时指定函数值的类型。</mark><br> <code>int max(float x,float y)</code><br> <code>char letter(char c1,char c2)</code><br> (3)<mark>在定义函数时指定的函数类型一般应该和return语句中的表达式类型一致。函数类型决定返回值的类型。</mark><br> (4)对于不带回值的函数，应当用定义函数为"void类型"(或称"空类型")。此时在函数体中不得出现return语句。</p> 
<h3><a id="74__138"></a>7.4 对被调用函数的声明和函数原型</h3> 
<p>在一个函数中调用另一个函数需具备的条件：<br> (1)被调用函数必须是已定义的函数(库函数或用户自己定义的函数)。<br> (2)如果使用库函数，应在本文件开头用#include指令将调用有关库函数时所需用到的信息"包含"到本文件中来。stdio.h文件中包含了输入输出库函数的声明，使用数学库中的函数应该用#include &lt;math.h&gt;<br> (3)如果使用用户自己定义的函数，而该函数的位置在调用它的函数(即主调函数)的后面(在同一个文件中)，应该在主调函数中对被调用函数作声明。</p> 
<pre><code class="prism language-java">#include <span class="token generics function"><span class="token punctuation">&lt;</span>stdio<span class="token punctuation">.</span>h<span class="token punctuation">&gt;</span></span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">float</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">float</span> x<span class="token punctuation">,</span><span class="token keyword">float</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//对add函数作声明</span>
<span class="token keyword">float</span> a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Please enter a and b:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%f,%f"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>a<span class="token punctuation">,</span><span class="token operator">&amp;</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
c<span class="token operator">=</span><span class="token function">add</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//调用add函数</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"sum is %f\n"</span><span class="token punctuation">,</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">float</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">float</span> x<span class="token punctuation">,</span><span class="token keyword">float</span> y<span class="token punctuation">)</span><span class="token comment">//定义add函数</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">float</span> z<span class="token punctuation">;</span>
z<span class="token operator">=</span>x<span class="token operator">+</span>y<span class="token punctuation">;</span>
<span class="token keyword">return</span> <span class="token punctuation">(</span>z<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//把变量z的值作为函数返回值</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>说明：函数的首行(即函数首部)称为函数原型。简单地照写已定义的函数原型，再加一个分号，就成了函数的"声明"。使用函数原型作声明是C的一个重要特点，能减少编写程序时可能出现的错误。实际上，在函数声明中的形参名可以省写，而只写形参的类型。编译系统只关心和检查参数个数和参数类型，而不检查参数名，因为在调用函数时只要求保证实参类型与形参类型一致，而不必考虑形参名是什么。因此在函数声明中形参名可写可不写，形参名是什么都无所谓。但写形参名只须照抄函数首部就可以了，不易出错，而且用了有意义的参数名有利于理解程序。</p> 
<p>注意：对函数的"定义"和"声明"不是同一回事。函数的定义是指对函数功能的确立，包括指定函数名、函数值类型、形参及其类型以及函数题体等，它是一个完整的、独立的函数单位。而函数的声明的作用则是把函数的名字、函数类型以及形参的类型、个数和顺序通知编译系统，以便在调用该函数时系统按此进行对照检查(例如函数名是否正确，实参与形参的类型和个数是否一致)，它不包含函数体。</p> 
<p>由于在文件的开头(在函数的外部)已对要调用的函数进行了声明(这些称为"外部的声明")，因此在程序编时，编译系统已从外部声明中知道了函数的有关信息，所以不必在主调函数中再重复进行声明。写在所有函数前面的外部声明在整个文件范围中有效。</p> 
<h3><a id="75__171"></a>7.5 函数的嵌套调用</h3> 
<p>C语言的函数定义是互相平行、独立的，也就是说在定义函数时，一个函数内不能再定义另一个函数，即不能嵌套定义，但可以嵌套调用函数，即在调用一个函数的过程中，又调用另一个函数。</p> 
<p><em>输入4个整数，找出其中最大的数。用函数的嵌套调用来处理。</em></p> 
<pre><code class="prism language-java">#include <span class="token generics function"><span class="token punctuation">&lt;</span>stdio<span class="token punctuation">.</span>h<span class="token punctuation">&gt;</span></span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span><span class="token keyword">int</span> <span class="token function">max4</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span><span class="token keyword">int</span> b<span class="token punctuation">,</span><span class="token keyword">int</span> c<span class="token punctuation">,</span>intd<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">,</span>d<span class="token punctuation">,</span>max<span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Please enter 4 interger numbers:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d %d %d %d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>a<span class="token punctuation">,</span><span class="token operator">&amp;</span>b<span class="token punctuation">,</span><span class="token operator">&amp;</span>c<span class="token punctuation">,</span><span class="token operator">&amp;</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span>
max<span class="token operator">=</span><span class="token function">max4</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">,</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"max=%d\n"</span><span class="token punctuation">,</span>max<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">max4</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span><span class="token keyword">int</span> b<span class="token punctuation">,</span><span class="token keyword">int</span> c<span class="token punctuation">,</span><span class="token keyword">int</span> d<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span><span class="token keyword">int</span> <span class="token function">max2</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span><span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> m<span class="token punctuation">;</span>
m<span class="token operator">=</span><span class="token function">max2</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
m<span class="token operator">=</span><span class="token function">max2</span><span class="token punctuation">(</span>m<span class="token punctuation">,</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
m<span class="token operator">=</span><span class="token function">max2</span><span class="token punctuation">(</span>m<span class="token punctuation">,</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> <span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">max2</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span><span class="token keyword">int</span> b<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span><span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token operator">&gt;=</span>b<span class="token punctuation">)</span>
   <span class="token keyword">return</span> a<span class="token punctuation">;</span>
 <span class="token keyword">else</span>
   <span class="token keyword">return</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>程序改进：<br> (1)可以将max2函数的函数体改为只用一个return语句，返回一个条件表达式的值：<br> <code>int max(int x,int b) {return(a&gt;=b?a:b);}</code><br> (2)在max4函数中，3个调用max2的语句可以用以下一行代替：<br> <code>m=max2(max2(max2(a,b),c),d);</code><br> //把函数调用作为函数参数<br> 甚至可以取消变量m，max4函数可写成：</p> 
<pre><code class="prism language-java"><span class="token keyword">int</span> <span class="token function">max4</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span><span class="token keyword">int</span> b<span class="token punctuation">,</span><span class="token keyword">int</span> c<span class="token punctuation">,</span><span class="token keyword">int</span> d<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">int</span> <span class="token function">max2</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span><span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> <span class="token function">max2</span><span class="token punctuation">(</span><span class="token function">max2</span><span class="token punctuation">(</span><span class="token function">max2</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">,</span>c<span class="token punctuation">)</span><span class="token punctuation">,</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="76__221"></a>7.6 函数的递归调用</h3> 
<p><strong>在调用一个函数的过程中又出现直接或间接地调用该函数本身，称为函数的递归调用。</strong></p> 
<p><em>有5个学生坐在一起，第5个学生比第4个学生大两岁，第4个学生比第3个学生大两岁，第3个学生比第2个学生大两岁，第2个学生比第1个学生大两岁，第1个学生是10岁，请问第5个学生多大？</em></p> 
<pre><code class="prism language-java"><span class="token keyword">int</span> <span class="token function">age</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span>  <span class="token comment">//求年龄的递归函数</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">int</span> c<span class="token punctuation">;</span>  <span class="token comment">//用c作为存放函数返回值的变量</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>n<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span>
  c<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">;</span>
<span class="token keyword">else</span>
  c<span class="token operator">=</span><span class="token function">age</span><span class="token punctuation">(</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">;</span>
<span class="token keyword">return</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
用一个主函数调用age函数，求得第<span class="token number">5</span>个学生的年龄
#include <span class="token generics function"><span class="token punctuation">&lt;</span>stdio<span class="token punctuation">.</span>h<span class="token punctuation">&gt;</span></span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span><span class="token keyword">int</span> <span class="token function">age</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//对age函数的声明</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"NO.5,age:%d\n"</span><span class="token punctuation">,</span><span class="token function">age</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">age</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span>  <span class="token comment">//定义递归函数</span>
<span class="token punctuation">{<!-- --></span><span class="token keyword">int</span> c<span class="token punctuation">;</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>n<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span>
  c<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">;</span>
<span class="token keyword">else</span>
  c<span class="token operator">=</span><span class="token function">age</span><span class="token punctuation">(</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">;</span>
<span class="token keyword">return</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//返回年龄</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>age函数共被调用5次，其中age(5)是main函数调用的，其余4次是在age函数中调用自己的，即递归调用4次。</p> 
<p><em>用递归方法求n!</em></p> 
<pre><code class="prism language-java">#include <span class="token generics function"><span class="token punctuation">&lt;</span>stdio<span class="token punctuation">.</span>h<span class="token punctuation">&gt;</span></span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">int</span> <span class="token function">fac</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//fac函数声明</span>
<span class="token keyword">int</span> n<span class="token punctuation">;</span>
<span class="token keyword">int</span> y<span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"input an integer number:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
y<span class="token operator">=</span><span class="token function">fac</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d!=%d\n"</span><span class="token punctuation">,</span>n<span class="token punctuation">,</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">fac</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">int</span> f<span class="token punctuation">;</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>n<span class="token operator">&lt;</span><span class="token number">0</span><span class="token punctuation">)</span>
  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"n&lt;0,data error!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>n<span class="token operator">==</span><span class="token number">0</span><span class="token operator">||</span>n<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span>
  f<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">else</span> f<span class="token operator">=</span><span class="token function">fac</span><span class="token punctuation">(</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span>n<span class="token punctuation">;</span>
<span class="token keyword">return</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>注意：程序中的变量是int型，如果用Visual C++等多数C编译系统为int型数据分配4个字节，能表示的最大数为2147483647，当n=12时，运行正常。如果输入13，企图求13的阶乘，是得不到预期结果的，因为求出的结果超过了int型数据的最大值。可将f，y和fac函数定义为float或double型。</p> 
<h3><a id="77__282"></a>7.7 数组作为函数参数</h3> 
<p><mark>数组元素的作用与变量相当，一般来说，凡是变量可以出现的地方，都可以用数组元素代替。</mark> 因此，数组元素也可以用作函数实参，其用法与变量相同，向形参传递数组元素的值。此外，数组名也可以作实参和形参，传递的是数组第一个元素的地址(首地址)。</p> 
<p><strong>数组元素作函数实参</strong></p> 
<p><mark>数组元素可以用作函数实参，但是不能用作形参。</mark> 因为形参是在函数被调用时临时分配存储单元的，不可能为一个数组元素单独分配存储单元(数组是一个整体，在内存中占连续的一段存储单元)。在用数组元素作函数实参时，把实参的值传给形参，是 <strong>“值传递”</strong> 方式。数据传递的方向是<strong>从实参传到形参，单向传递</strong> 。</p> 
<p><em>输入10个数，要求输出其中值最大的元素和该数是第几个数。</em></p> 
<pre><code class="prism language-java">#include <span class="token generics function"><span class="token punctuation">&lt;</span>stdio<span class="token punctuation">.</span>h<span class="token punctuation">&gt;</span></span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">int</span> <span class="token function">max</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span><span class="token keyword">int</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">,</span>m<span class="token punctuation">,</span>n<span class="token punctuation">,</span>i<span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"enter 10integer numbers:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">10</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
  <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span>m<span class="token operator">=</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>n<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">10</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">max</span><span class="token punctuation">(</span>m<span class="token punctuation">,</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">&gt;</span>m<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">{<!-- --></span>
    m<span class="token operator">=</span><span class="token function">max</span><span class="token punctuation">(</span>m<span class="token punctuation">,</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    n<span class="token operator">=</span>i<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"The largest number is %d\nit is the %dth number.\n"</span><span class="token punctuation">,</span>m<span class="token punctuation">,</span>n<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">max</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span><span class="token keyword">int</span> y<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">return</span><span class="token punctuation">(</span>x<span class="token operator">&gt;</span>y<span class="token operator">?</span>x<span class="token operator">:</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><strong>一维数组名作函数参数</strong></p> 
<p><mark>除了可以用数组元素作为函数参数外，还可以用数组名作函数参数(包括实参和形参)。</mark></p> 
<p>注意：<mark>用数组元素做实参时，向形参变量传递的是数组元素的值，而用数组名作函数实参时，向形参(数组名或指针变量)传递的是数组首元素的地址。</mark></p> 
<p><em>有一个一维数组score，内存放10个学生成绩，求平均成绩。</em></p> 
<pre><code class="prism language-java">#include <span class="token generics function"><span class="token punctuation">&lt;</span>stdio<span class="token punctuation">.</span>h<span class="token punctuation">&gt;</span></span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span><span class="token keyword">float</span> <span class="token function">average</span><span class="token punctuation">(</span><span class="token keyword">float</span> array<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">float</span> score<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">,</span>aver<span class="token punctuation">;</span>
<span class="token keyword">int</span> i<span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"input 10 scores:\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">10</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
  <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%f"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>score<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
aver<span class="token operator">=</span><span class="token function">average</span><span class="token punctuation">(</span>score<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"average score is %5.2f\n"</span><span class="token punctuation">,</span>aaver<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">float</span> <span class="token function">average</span><span class="token punctuation">(</span><span class="token keyword">float</span> array<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">int</span> i<span class="token punctuation">;</span>
<span class="token keyword">float</span> aver<span class="token punctuation">,</span>sum<span class="token operator">=</span>array<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">10</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
  sum<span class="token operator">=</span>sum<span class="token operator">+</span>array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
aver<span class="token operator">=</span>sum<span class="token operator">/</span><span class="token number">10</span><span class="token punctuation">;</span>
<span class="token keyword">return</span><span class="token punctuation">(</span>aver<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>程序分析：<br> (1)用数组名做函数参数，应该在主调函数和被调用函数分别定义数组，例中array是形参数组名，score是实参数组名，分别在其所在函数中定义，不能只在一方定义。<br> (2)实参数组与形参数组类型应一致(今都为float型)，如不一致，结果将出错。<br> (3)在定义average函数时，声明形参数组的大小为10，但在实际上，指定其大小是不起任何作用的，因为C语言编译系统并不检查行形参数组大小，只是将实参数组的首元素的地址传给形参数组名。形参数组名获得了实参数组的首元素的地址，前已说明，数组名代表数组的首元素的地址，因此，可以认为，形参数组首元素(array[0])和实参数组首元素(score[0])具有同一地址，它们共占同一存储单元，score[n]和array[n]指的是同一单元，具有相同的值。也就是说，形参数组中各元素的值如发生变化会使实参数组元素的值同时发生变化。<br> (4)形参数组可以不指定大小，在定义数组时在时数组名后面跟一个空的方括号。<br> <code>float average(float array[ ])</code><br> 效果是相同的。</p> 
<p><em>有两个班级分别有35名和30名学生，调用一个average函数，分别求这两个班的学生的平均成绩。</em></p> 
<pre><code class="prism language-java">#include <span class="token generics function"><span class="token punctuation">&lt;</span>stdio<span class="token punctuation">.</span>h<span class="token punctuation">&gt;</span></span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span><span class="token keyword">float</span> <span class="token function">average</span><span class="token punctuation">(</span><span class="token keyword">float</span> array<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">int</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">float</span> score1<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token number">98.5</span><span class="token punctuation">,</span><span class="token number">97</span><span class="token punctuation">,</span><span class="token number">91.5</span><span class="token punctuation">,</span><span class="token number">60</span><span class="token punctuation">,</span><span class="token number">55</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">float</span> score2<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token number">67.5</span><span class="token punctuation">,</span><span class="token number">89.5</span><span class="token punctuation">,</span><span class="token number">99</span><span class="token punctuation">,</span><span class="token number">69.5</span><span class="token punctuation">,</span><span class="token number">77</span><span class="token punctuation">,</span><span class="token number">89.5</span><span class="token punctuation">,</span><span class="token number">76.5</span><span class="token punctuation">,</span><span class="token number">54</span><span class="token punctuation">,</span><span class="token number">60</span><span class="token punctuation">,</span><span class="token number">99.5</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"The average of class A is %6.2f\n"</span><span class="token punctuation">,</span><span class="token function">average</span><span class="token punctuation">(</span>score1<span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"The average of class B is %6.2f\n"</span><span class="token punctuation">,</span><span class="token function">average</span><span class="token punctuation">(</span>score2<span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">float</span> <span class="token function">average</span><span class="token punctuation">(</span><span class="token keyword">float</span> array<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">int</span> n<span class="token punctuation">)</span>
<span class="token comment">//定义average函数，未指定形参数组长度</span>
<span class="token punctuation">{<!-- --></span><span class="token keyword">int</span> i<span class="token punctuation">;</span>
<span class="token keyword">float</span> aver<span class="token punctuation">,</span>sum<span class="token operator">=</span>array<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
  sum<span class="token operator">=</span>sum<span class="token operator">+</span>array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
aver<span class="token operator">=</span>sum<span class="token operator">/</span>n<span class="token punctuation">;</span>
<span class="token keyword">return</span><span class="token punctuation">(</span>aver<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><em>用选择法对数组中10个整数按由小到大排序</em><br> <img src="https://images2.imgbox.com/55/0d/qmHJYvfV_o.jpg" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-java">#include <span class="token generics function"><span class="token punctuation">&lt;</span>stdio<span class="token punctuation">.</span>h<span class="token punctuation">&gt;</span></span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">void</span> <span class="token function">sort</span><span class="token punctuation">(</span><span class="token keyword">int</span> array<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">int</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">,</span>i<span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"enter array:\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">10</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
  <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">sort</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//调用sort函数，a为数组名，大小为10</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"The sorted array:\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">10</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">sort</span><span class="token punctuation">(</span><span class="token keyword">int</span> array<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">int</span> n<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span><span class="token keyword">int</span> i<span class="token punctuation">,</span>j<span class="token punctuation">,</span>k<span class="token punctuation">,</span>t<span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
  <span class="token punctuation">{<!-- --></span>k<span class="token operator">=</span>i<span class="token punctuation">;</span>
  <span class="token keyword">for</span><span class="token punctuation">(</span>j<span class="token operator">=</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>array<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">&lt;</span>array<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">)</span>
      k<span class="token operator">=</span>j<span class="token punctuation">;</span>
  t<span class="token operator">=</span>array<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">;</span>
  array<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token operator">=</span>array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
  array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>t<span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><strong>多维数组名作函数参数</strong></p> 
<p>可以用多维数组名作为函数的实参和形参，在被调用函数中对形参数组定义时可以指定每一维的大小，也可以省略第一维的大小说明。但是不能把第二维以及其他高维的大小说明省略。例如：<code>int array[3][10];</code>或<code>int array[ ][10];</code>二者都合法而且等价。<br> 在第二维大小相同的前提下，形参数组的第一维可以与实参数组不同。例如，实参数组定义为<code>int score[ ][10];</code>而形参数组定义为<code>int array[ ][10];</code>或<code>int array[8][10];</code>这时形参数组和实数组组都是由相同类型和大小的一维数组组成的。C语言编译系统不检查第一维的大小。</p> 
<p><em>有一个3×4的矩阵，求所有元素中的最大值</em></p> 
<pre><code class="prism language-java">#include <span class="token generics function"><span class="token punctuation">&lt;</span>stdio<span class="token punctuation">.</span>h<span class="token punctuation">&gt;</span></span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span><span class="token keyword">int</span> <span class="token function">max_value</span><span class="token punctuation">(</span><span class="token keyword">int</span> array<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{<!-- --></span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{<!-- --></span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">17</span><span class="token punctuation">,</span><span class="token number">34</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span>"Max value is <span class="token operator">%</span>d\nn<span class="token punctuation">,</span><span class="token function">max_value</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">Max_value</span><span class="token punctuation">(</span><span class="token keyword">int</span> array<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span><span class="token keyword">int</span> i<span class="token punctuation">,</span>j<span class="token punctuation">,</span>max<span class="token punctuation">;</span>
max<span class="token operator">=</span>array<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">3</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>  
  <span class="token keyword">for</span><span class="token punctuation">(</span>j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span><span class="token number">4</span><span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span>    
    <span class="token keyword">if</span><span class="token punctuation">(</span>array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">&gt;</span>max<span class="token punctuation">)</span>max<span class="token operator">=</span>array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">return</span><span class="token punctuation">(</span>max<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="78__439"></a>7.8 局部变量和全局变量</h3> 
<p>定义变量可能有三种情况：<br> (1)在函数的开头定义：局部变量<br> (2)在函数内的复合语句内定义：局部变量<br> (3)在函数的外部定义：全局变量</p> 
<p><strong>局部变量</strong></p> 
<p>说明：</p> 
<ol><li>主函数中定义的变量也只在主函数中有效，并不因为在主函数中定义而在整个文件或程序中有效。主函数也不能使用其他函数中定义的变量。</li><li>不同函数中可以使用同名的变量，他们代表不同的对象，互不干扰。</li><li>形式参数也是局部变量。</li><li>在一个函数内部，可以在复合语句中定义变量，这些变量只在本复合语句中有效，这种复合语句也称为"分程序"或"程序块"。离开本复合语句，这些变量就无效，系统会把它们占用的内存单元释放。</li></ol> 
<p><strong>全局变量</strong></p> 
<p><mark>全局变量和局部变量同名，以局部为准，局部大于全局。</mark> (不是真的局部变量，而是形参，它们的值是由实参传给形参的。)</p> 
<h3><a id="79__459"></a>7.9 变量的存储方式和生存期</h3> 
<p><strong>动态存储方式于静态存储方式</strong></p> 
<p>静态存储方式是指在程序运行期间由系统分配固定的存储空间的方式，而动态存储方式则是在程序运行期间根据需要进行动态的分配存储空间的方式。</p> 
<p>数据分别存放在静态存储区和动态存储区中。全局变量全部存放在静态存储区中，在程序开始执行时给全局变量分配存储区，程序执行完毕就释放。在执行过程中它们占据固定的存储单元，而不是动态地进行分配和释放。</p> 
<p>在动态存储区中存放以下数据：<br> ①函数形式参数。在调用函数时给形参分配存储空间。<br> ②函数中定义的没有用关键字static声明的变量，即自动变量。<br> ③函数调用时的现场保护和返回地址等。</p> 
<p>对以上这些数据，在函数调用开始时分配动态存储空间，函数结束时释放这些空间。在程序执行过程中，这种分配和释放是动态的，如果在一个程序中两次调用同一函数，而在此函数中定义了局部变量，在两次调用时分配给这些局部变量的存储空间的地址可能是不相同的。</p> 
<p><strong>局部变量的存储类别</strong></p> 
<p>C的存储类别包括4种：自动的(auto)，静态的(static)，寄存器的(register)，外部的(extern)。根据变量的存储类别，可以知道变量的作用域和生存期。</p> 
<ol><li> <p>自动变量(auto变量)<br> 函数中的局部变量，如果不专门为static(静态)存储类别，都是动态地分配存储空间的，数据存储在动态存储区中。函数中的形参和在函数中定义的局部变量(包括在复合语句中定义的局部变量)，都属于此类。在调用该函数时，系统会给这些变量分配存储空间，在函数调用结束时就自动释放这些存储空间。因此这类局部变量称为自动变量。自动变量用关键词auto作存储类别的声明。实际上，关键字auto可以省略，不写auto则隐含指定为"自动存储类别"，它属于动态存储方式。程序中大多数变量属于自动变量。</p> </li><li> <p>静态局部变量(static局部变量)<br> 有时希望函数中的局部变量的值在函数调用结束后不消失而继续保留原值，即其占用的存储单元不释放，在下一次再调用该函数时，该变量已有值(就是上一次函数调用结束时的值)。这时就应该指定该局部变量为"静态局部变量"，用关键字static进行声明。<br> <img src="https://images2.imgbox.com/fc/f3/4tvKOZkF_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/52/1b/h7tV9HGW_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/81/ac/11fJZpfv_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/d7/7f/AR7IzYVh_o.jpg" alt="在这里插入图片描述"></p> </li></ol> 
<p><img src="https://images2.imgbox.com/33/5b/yxRPuXKv_o.png" alt="在这里插入图片描述"></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/91bd41f6510777e9f6591fb1be84b6a4/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">mysql 多表联合查询_数据库 | MySQL多表查询综合练习及答案</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/cb35cc0e3c44e2b46f0fb3f220a19ccd/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">docker image存储路径_云原生存储详解：容器存储与 K8s 存储卷</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>