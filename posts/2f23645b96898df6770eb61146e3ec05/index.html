<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>安装Docker Engine之二：Linux系统-Debian、RHEL、SLES、Fedora - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="安装Docker Engine之二：Linux系统-Debian、RHEL、SLES、Fedora" />
<meta property="og:description" content="Debian 内核版本
Debian Bookworm 12 (stable)Debian Bullseye 11 (oldstable) 卸载老版本 for pkg in docker.io docker-doc docker-compose podman-docker containerd runc; do sudo apt-get remove $pkg; done sudo apt-get purge docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin docker-ce-rootless-extras sudo rm -rf /var/lib/docker sudo rm -rf /var/lib/containerd 配置apt仓库 sudo apt-get update sudo apt-get install ca-certificates curl gnupg sudo install -m 0755 -d /etc/apt/keyrings curl -fsSL https://download.docker.com/linux/debian/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg sudo chmod a&#43;r /etc/apt/keyrings/docker." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/2f23645b96898df6770eb61146e3ec05/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-07-19T12:03:12+08:00" />
<meta property="article:modified_time" content="2023-07-19T12:03:12+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">安装Docker Engine之二：Linux系统-Debian、RHEL、SLES、Fedora</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="Debian_0"></a>Debian</h3> 
<p>内核版本</p> 
<ul><li>Debian Bookworm 12 (stable)</li><li>Debian Bullseye 11 (oldstable)</li></ul> 
<ol><li>卸载老版本</li></ol> 
<pre><code>for pkg in docker.io docker-doc docker-compose podman-docker containerd runc; do sudo apt-get remove $pkg; done
sudo apt-get purge docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin docker-ce-rootless-extras
sudo rm -rf /var/lib/docker
sudo rm -rf /var/lib/containerd
</code></pre> 
<ol start="2"><li>配置apt仓库</li></ol> 
<pre><code>sudo apt-get update
sudo apt-get install ca-certificates curl gnupg

sudo install -m 0755 -d /etc/apt/keyrings
curl -fsSL https://download.docker.com/linux/debian/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg
sudo chmod a+r /etc/apt/keyrings/docker.gpg

echo \
  "deb [arch="$(dpkg --print-architecture)" signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/debian \
  "$(. /etc/os-release &amp;&amp; echo "$VERSION_CODENAME")" stable" | \
  sudo tee /etc/apt/sources.list.d/docker.list &gt; /dev/null
</code></pre> 
<ol start="3"><li> <p>安装指定版本的Docker Engine</p> 
  <ol><li>更新apt仓库索引</li></ol> <pre><code>sudo apt-get update
</code></pre> 
  <ol start="2"><li>列出docker版本号</li></ol> <pre><code>apt-cache madison docker-ce | awk '{ print $3 }'
</code></pre> 
  <ol start="3"><li>安装指定版本</li></ol> <pre><code>VERSION_STRING=5:24.0.0-1~debian.11~bullseye
sudo apt-get install docker-ce=$VERSION_STRING docker-ce-cli=$VERSION_STRING containerd.io docker-buildx-plugin docker-compose-plugin
</code></pre> 
  <ol start="4"><li>启动docker</li></ol> <pre><code>sudo service docker start
</code></pre> 
  <ol start="5"><li>运行docker容器</li></ol> <pre><code>sudo docker run hello-world
</code></pre> </li></ol> 
<h3><a id="RHEL_53"></a>RHEL</h3> 
<p>内核版本：</p> 
<ul><li>RHEL 7 on s390x (IBM Z)</li><li>RHEL 8 on s390x (IBM Z)</li><li>RHEL 9 on s390x (IBM Z)</li></ul> 
<ol><li>卸载老版本</li></ol> 
<pre><code>sudo yum remove docker \
                  docker-client \
                  docker-client-latest \
                  docker-common \
                  docker-latest \
                  docker-latest-logrotate \
                  docker-logrotate \
                  docker-engine \
                  podman \
                  runc

sudo rm -rf /var/lib/docker
sudo rm -rf /var/lib/containerd
</code></pre> 
<ol start="2"><li>配置仓库</li></ol> 
<pre><code>sudo yum install -y yum-utils
sudo yum-config-manager --add-repo https://download.docker.com/linux/rhel/docker-ce.repo
</code></pre> 
<ol start="3"><li>列出docker版本</li></ol> 
<pre><code>yum list docker-ce --showduplicates | sort -r
</code></pre> 
<ol start="4"><li>安装指定版本</li></ol> 
<pre><code>VERSION_STRING=docker-ce-3:24.0.0-1.el8
sudo yum install docker-ce-&lt;VERSION_STRING&gt; docker-ce-cli-&lt;VERSION_STRING&gt; containerd.io docker-buildx-plugin docker-compose-plugin
</code></pre> 
<ol start="5"><li>启动docker</li></ol> 
<pre><code>sudo systemctl start docker
</code></pre> 
<ol start="6"><li>运行hello-world容器</li></ol> 
<pre><code>sudo docker run hello-world
</code></pre> 
<h3><a id="SLES_99"></a>SLES</h3> 
<p>内核版本</p> 
<ul><li>SLES 15-SP3 on s390x (IBM Z)</li><li>SLES 15-SP4 on s390x (IBM Z)</li></ul> 
<ol><li>根据内核版本配置OpenSUSE SELinux仓库<br> SLES 15-SP3</li></ol> 
<pre><code>opensuse_repo="https://download.opensuse.org/repositories/security:SELinux/SLE_15_SP3/security:SELinux.repo"
sudo zypper addrepo $opensuse_repo
</code></pre> 
<p>SLES 15-SP4</p> 
<pre><code>opensuse_repo="https://download.opensuse.org/repositories/security:SELinux/15.4/security:SELinux.repo"
sudo zypper addrepo $opensuse_repo
</code></pre> 
<ol start="2"><li>卸载老版本</li></ol> 
<pre><code>sudo zypper remove docker \
                  docker-client \
                  docker-client-latest \
                  docker-common \
                  docker-latest \
                  docker-latest-logrotate \
                  docker-logrotate \
                  docker-engine \
                  runc

sudo rm -rf /var/lib/docker
sudo rm -rf /var/lib/containerd
</code></pre> 
<ol start="3"><li>配置仓库</li></ol> 
<pre><code>sudo zypper addrepo https://download.docker.com/linux/sles/docker-ce.repo
</code></pre> 
<ol start="4"><li>列出docker版本</li></ol> 
<pre><code>sudo zypper search -s --match-exact docker-ce | sort -r
</code></pre> 
<ol start="5"><li>安装指定版本（VERSION_STRING的格式 “docker-ce-” + $版本列表中的第二列）</li></ol> 
<pre><code>VERSION_STRING=docker-ce-3:24.0.0
sudo zypper install docker-ce-&lt;VERSION_STRING&gt; docker-ce-cli-&lt;VERSION_STRING&gt; containerd.io docker-buildx-plugin docker-compose-plugin
</code></pre> 
<ol start="6"><li>启动docker</li></ol> 
<pre><code>sudo systemctl start docker
</code></pre> 
<ol start="7"><li>运行hello-world容器</li></ol> 
<pre><code>sudo docker run hello-world
</code></pre> 
<h3><a id="Fedora_156"></a>Fedora</h3> 
<p>内核版本</p> 
<ul><li>Fedora 37</li><li>Fedora 38</li></ul> 
<ol><li>卸载老版本</li></ol> 
<pre><code>sudo dnf remove docker \
                  docker-client \
                  docker-client-latest \
                  docker-common \
                  docker-latest \
                  docker-latest-logrotate \
                  docker-logrotate \
                  docker-selinux \
                  docker-engine-selinux \
                  docker-engine

sudo rm -rf /var/lib/docker
sudo rm -rf /var/lib/containerd
</code></pre> 
<ol start="2"><li>配置仓库</li></ol> 
<pre><code>sudo dnf -y install dnf-plugins-core
sudo dnf config-manager --add-repo https://download.docker.com/linux/fedora/docker-ce.repo
</code></pre> 
<ol start="3"><li>列出docker版本</li></ol> 
<pre><code>dnf list docker-ce --showduplicates | sort -r
</code></pre> 
<ol start="4"><li>安装指定版本（VERSION_STRING的格式 “docker-ce-” + $版本列表中的第二列）</li></ol> 
<pre><code>VERSION_STRING=docker-ce-3:24.0.0-1.fc37
sudo dnf -y install docker-ce-&lt;VERSION_STRING&gt; docker-ce-cli-&lt;VERSION_STRING&gt; containerd.io docker-buildx-plugin docker-compose-plugin
</code></pre> 
<ol start="5"><li>启动docker</li></ol> 
<pre><code>sudo systemctl start docker
</code></pre> 
<ol start="6"><li>运行hello-world容器</li></ol> 
<pre><code>sudo docker run hello-world
</code></pre>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/245ce28bb86bb3c363470e9c3fcd3e57/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">js - CommonJs和ES6 module的使用和区别</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/cf824f0fc1cc066078594d945cecd312/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">IDEA &#43; AI，一天开发一个系统！</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>