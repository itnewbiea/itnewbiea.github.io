<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Qt stylesheet border-color属性，QFontMetrics Class - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Qt stylesheet border-color属性，QFontMetrics Class" />
<meta property="og:description" content="一、border-color
border-color 属性设置四条边框的颜色。此属性可设置 1 到 4 种颜色。
border-color 属性是一个简写属性，可设置一个元素的所有边框中可见部分的颜色，或者为 4 个边分别设置不同的颜色。请看下面的例子：
border-color:red green blue pink; 上边框是红色右边框是绿色下边框是蓝色左边框是粉色 border-color:red green blue; 上边框是红色右边框和左边框是绿色下边框是蓝色 border-color:dotted red green; 上边框和下边框是红色右边框和左边框是绿色 border-color:red; 都为红色边框 二、QTextEdit文字修改行距
QTextDocument *doc = ui-&gt;textEdit_label-&gt;document(); QTextCursor textcursor = ui-&gt;textEdit_label-&gt;textCursor(); for(QTextBlock it = doc-&gt;begin(); it !=doc-&gt;end();it = it.next()) { QTextBlockFormat tbf = it.blockFormat(); tbf.setLineHeight(lineSpacing,QTextBlockFormat::LineDistanceHeight); textcursor.setPosition(it.position()); textcursor.setBlockFormat(tbf); ui-&gt;textEdit_label-&gt;setTextCursor(textcursor); } 三、想要根据文字字数，适配控件背景长度，所以需要计算字符串个数，以及单个字符宽度
如果程序不支持中文，需要设置编码
QTextCodec *codec = QTextCodec::codecForName(&#34;System&#34;); //获取系统编码 QTextCodec::setCodecForLocale(codec); QTextCodec::setCodecForCStrings(codec); QTextCodec::setCodecForTr(codec); int tlength = msg.toLocal8Bit().length();//计算英文字符数
msg=&#34;中&#34; tlength = 2" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/13fc83847e74dd302fbd71a84c41caaf/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-01-30T17:02:04+08:00" />
<meta property="article:modified_time" content="2020-01-30T17:02:04+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Qt stylesheet border-color属性，QFontMetrics Class</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>一、border-color</p> 
<p>border-color 属性设置四条边框的颜色。此属性可设置 1 到 4 种颜色。</p> 
<p>border-color 属性是一个简写属性，可设置一个元素的所有边框中可见部分的颜色，或者为 4 个边分别设置不同的颜色。请看下面的例子：</p> 
<pre class="has"><code class="language-html">border-color:red green blue pink;</code></pre> 
<ul><li>上边框是红色</li><li>右边框是绿色</li><li>下边框是蓝色</li><li>左边框是粉色</li></ul> 
<pre class="has"><code class="language-html">border-color:red green blue;</code></pre> 
<ul><li>上边框是红色</li><li>右边框和左边框是绿色</li><li>下边框是蓝色</li></ul> 
<pre class="has"><code class="language-html">border-color:dotted red green;</code></pre> 
<ul><li>上边框和下边框是红色</li><li>右边框和左边框是绿色</li></ul> 
<pre class="has"><code class="language-html">border-color:red;</code></pre> 
<ul><li>都为红色边框</li></ul> 
<p>二、QTextEdit文字修改行距</p> 
<pre class="has"><code>QTextDocument *doc =  ui-&gt;textEdit_label-&gt;document();
QTextCursor textcursor = ui-&gt;textEdit_label-&gt;textCursor();
for(QTextBlock it = doc-&gt;begin(); it !=doc-&gt;end();it = it.next())
{
    QTextBlockFormat tbf = it.blockFormat();
    tbf.setLineHeight(lineSpacing,QTextBlockFormat::LineDistanceHeight);
    textcursor.setPosition(it.position());
    textcursor.setBlockFormat(tbf);
    ui-&gt;textEdit_label-&gt;setTextCursor(textcursor);
}</code></pre> 
<p>三、想要根据文字字数，适配控件背景长度，所以需要计算字符串个数，以及单个字符宽度</p> 
<p>如果程序不支持中文，需要设置编码</p> 
<pre class="has"><code>QTextCodec *codec = QTextCodec::codecForName("System"); //获取系统编码
QTextCodec::setCodecForLocale(codec);
QTextCodec::setCodecForCStrings(codec);
QTextCodec::setCodecForTr(codec);</code></pre> 
<p>int tlength = msg.toLocal8Bit().length();//计算英文字符数</p> 
<p>msg="中"  tlength = 2</p> 
<p>msg="Qt" tlength = 2</p> 
<p>四、Qt 中获取字体的像素高度和宽度</p> 
<pre class="has"><code>QLabel::fontMetrics().width(QString s): 获取字符串s的总像素宽度。</code></pre> 
<blockquote> 
 <p>int QFontMetrics::width ( const QString &amp; text, int len = -1 ) const</p> 
 <p>Returns the width in pixels of the first len characters of text. If len is negative (the default), the entire string is used.Note that this value is not equal to boundingRect().width(); boundingRect() returns a rectangle describing the pixels this string will cover whereas width() returns the distance to where the next string should be drawn.</p> 
 <p>See also boundingRect().</p> 
 <p>返回文本的第一个len字符的宽度（以像素为单位）。如果“len”为负（默认值），则使用整个字符串。<br> 请注意，该值不是等于boundingrect（）。width（）；boundingrect（）返回一个矩形，描述该字符串将覆盖的像素，而width（）返回应绘制下一个字符串的距离。<br> 另请参见boundingrect（）。</p> 
</blockquote> 
<pre class="has"><code>QLabel::fontMetrics().height(): 获取字体的高度。</code></pre> 
<blockquote> 
 <p>int QFontMetrics::height () const<br> Returns the height of the font.</p> 
 <p>This is always equal to ascent()+descent()+1 (the 1 is for the base line).</p> 
 <p>See also leading() and lineSpacing().</p> 
</blockquote> 
<pre class="has"><code>QLabel::fontMetrics().lineSpacing(): 获取字体的高度，包括文字的实际宽度和行距。</code></pre> 
<blockquote> 
 <p>int QFontMetrics::lineSpacing () const<br> Returns the distance from one base line to the next.</p> 
 <p>This value is always equal to leading()+height().</p> 
 <p>See also height() and leading().</p> 
</blockquote> 
<pre class="has"><code>QLabel::fontMetrics().leading(): 行间距</code></pre> 
<blockquote> 
 <p>int QFontMetrics::leading () const<br> Returns the leading of the font.This is the natural inter-line spacing.</p> 
 <p>See also height() and lineSpacing().</p> 
</blockquote> 
<p> </p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/a72d8a4ca7a7e4637cefc70e4ba0b248/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">工具类</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/e5dffba9bbd0203d7e26ed99794644ec/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">计量经济学笔记1</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>