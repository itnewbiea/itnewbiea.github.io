<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>vue 路由守卫 解析 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="vue 路由守卫 解析" />
<meta property="og:description" content="路由守卫：保护路由的安全。控制路由跳转权限。路由跳转有两种方式：1 、&lt;router-link&gt;方式，2、编程式跳转。路由守卫：控制路由在符合某种条件下才能完成跳转。
一、全局路由守卫 全局，所有的路由，此时需要找路由器router，可以是在src/router/index.js文件中，也可以是在main.js中，亦或者是在与某个引入了src/router/index.js文件暴露的router的perssion.js文件中（需要在main.js中引入），借助beforeEach()/afterEach()实现
1. 全局前置路由守卫 前置，在路由切换之前判断，不符合条件则不跳转。在初始化的时候调用，在路由切换的时候调用
// to：要去的路由，from：当前路由，next：触发跳转
router.beforeEach((to, from, next) =&gt; {
...逻辑
next()
}
2.全局后置路由守卫 后置，在跳转之后判断，不管符不符合，路由都会跳转，浏览器地址栏都会变化，多用于跳转后修改页签标题等。
// to：要去的路由，from：当前路由
router.afterEach((to, from) =&gt; {
...逻辑
}
二、独享路由守卫 某一个路由单独享有的路由守卫，需要在配置路由的地方，添加beforeEnter函数，只有前置，没有后置
{ name: &#39;home&#39;, path: &#39;/home&#39;, component: () =&gt; import(&#39;@/views/home/Home), meta: { isAuth: true, title: &#39;首页&#39; }, beforeEnter: (to, from, next) =&gt; { /*... //逻辑 if(to.meta.isAuth){ if(条件){ next() } else { alert(&#39;暂无权限查看&#39;) } } else{ next() } */ } } 三、组件内路由守卫 组件内的路由守卫，属于data，methods等的同等级配置选项" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/25bcf7db1f37af0ea26cabf484c5756b/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-09-05T09:49:18+08:00" />
<meta property="article:modified_time" content="2022-09-05T09:49:18+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">vue 路由守卫 解析</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>路由守卫：保护路由的安全。控制路由跳转权限。路由跳转有两种方式：1 、&lt;router-link&gt;方式，2、编程式跳转。路由守卫：控制路由在符合某种条件下才能完成跳转。</p> 
<h3>一、全局路由守卫</h3> 
<p>全局，所有的路由，此时需要找<span style="color:#fe2c24;"><span style="background-color:#fefcd8;">路由器router</span></span>，可以是在<strong>src/router/index.js</strong>文件中，也可以是在<strong>main.js</strong>中，亦或者是在与某个引入了src/router/index.js文件暴露的router的<strong>perssion.js</strong>文件中（需要在main.js中引入），借助beforeEach()/afterEach()实现</p> 
<h4>1. 全局前置路由守卫</h4> 
<p>前置，在路由切换之前判断，不符合条件则不跳转。在初始化的时候调用，在路由切换的时候调用</p> 
<blockquote> 
 <p>// to：要去的路由，from：当前路由，next：触发跳转</p> 
 <p>router.beforeEach((to, from, next) =&gt; {<!-- --></p> 
 <p>        ...逻辑</p> 
 <p>        next()</p> 
 <p>}</p> 
</blockquote> 
<h4>2.全局后置路由守卫</h4> 
<p>后置，在跳转之后判断，不管符不符合，路由都会跳转，浏览器地址栏都会变化，多用于跳转后修改页签标题等。</p> 
<blockquote> 
 <p>// to：要去的路由，from：当前路由</p> 
 <p>router.afterEach((to, from) =&gt; {<!-- --></p> 
 <p>        ...逻辑</p> 
 <p>}</p> 
</blockquote> 
<h3>二、独享路由守卫</h3> 
<p>某一个路由单独享有的路由守卫，需要在配置路由的地方，添加beforeEnter函数，只有前置，没有后置</p> 
<pre><code>{
    name: 'home',
    path: '/home',
    component: () =&gt; import('@/views/home/Home),
    meta: { isAuth: true, title: '首页' },
    beforeEnter: (to, from, next) =&gt; {        
        /*... //逻辑
        if(to.meta.isAuth){
            if(条件){
                next()
            }
            else {
                alert('暂无权限查看')
            }
        }
        else{
            next()
        }
        */
    }
}</code></pre> 
<h3>三、组件内路由守卫</h3> 
<p>组件内的路由守卫，属于data，methods等的同等级配置选项</p> 
<pre><code>// 通过路由规则进入该组件时被调用
// 不可以访问组件实例 `this`
beforeRouteEnter(to, from, next){
    console.log('beforeRouteEnter', to. from)
    next()
}

// 在当前路由改变，但是该组件被复用时调用
// 如 /foo/:id，在 /foo/1 和 /foo/2 之间跳转的时候
// 可以访问组件实例 `this`
beforeRouteUpdate(to, from, next){
    console.log('beforeRouteEnter', to. from)
    next()
}

// 通过路由规则离开该组件时被调用，跳转结束，而是离开该组件
// 可以访问组件实例 `this`
beforeRouteLeave(to, from, next){
    console.log('beforeRouteEnter', to. from)
    next()
}</code></pre> 
<p></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/870c1647d03dd2b83e8edf5600fb984c/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Android的JSON解析（上）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/326005ea23b8dd08c6b42923bcc32ab9/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">SpringCloud Feign 远程调用（史上最详细讲解）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>