<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>C语言扫雷完整版——长文 详细分享 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="C语言扫雷完整版——长文 详细分享" />
<meta property="og:description" content="文章目录 一.游戏玩法和基本思路介绍二.游戏实现和步骤介绍1.准备阶段步骤讲解步骤代码 2.设计和初始化棋盘步骤讲解步骤代码 3.打印棋盘步骤讲解步骤代码 4.布置雷步骤讲解步骤代码 5.排雷前菜获取周边地雷数获取周边地雷数代码步骤完整代码 6.递归拓展安全区域步骤讲解步骤代码 三.完整代码game.hgame.ctest.c 一.游戏玩法和基本思路介绍 首先是关于游戏玩法：输入坐标进行排雷，如果所输入坐标不是雷，那么就会告诉我们周围8个格子中地雷的总数。如果周围8个格子都没有地雷，那就自动扩大安全区域。效果如下。而如果能够成功排完全部地雷，那就胜利
二.游戏实现和步骤介绍 1.准备阶段 步骤讲解 游戏开始之前，我们需要简略地制作一下游戏封面，效果图如下这个功能的实现并不复杂，直接上代码
步骤代码 void menu() { printf(&#34;*****************************\n&#34;); printf(&#34;****** 扫雷 *****\n&#34;); printf(&#34;****** 1.play *****\n&#34;); printf(&#34;****** 0.exit *****\n&#34;); printf(&#34;*****************************\n&#34;); } int main() { int input = 0; do { menu(); //菜单函数 scanf(&#34;%d&#34;, &amp;input); switch (input) { case 1: game(); break; case 0: printf(&#34;退出游戏\n&#34;); break; default :printf(&#34;输入数值无效\n&#34;); break; } } while (input); //输入1则进入游戏，输入0则直接退出，否则便会一直循环 } 2.设计和初始化棋盘 步骤讲解 1.首先我们需要设计像下面这样9×9的棋盘，并且我们需要一个棋盘来记录地图上地雷的位置信息，另一个棋盘是专门给用户游玩的棋盘，也就是展示棋盘。
2.其次，考虑到我们需要实现统计周围地雷数量的函数，而当统计的位置在地图的边角的时候，统计起来就会很麻烦，也许要分情况，也许会越界访问。
3.为了解决2问题，我们可以考虑直接将棋盘扩大一圈，也就是11*11。但是！我们的主要功能都是在两个棋盘的9×9区域实现的
所以我们先设计一些常量，并定义上述两个棋盘" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/62468d5a64bcc24fc37edd185539602e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-02-17T21:19:27+08:00" />
<meta property="article:modified_time" content="2022-02-17T21:19:27+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">C语言扫雷完整版——长文 详细分享</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-dracula">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#_2" rel="nofollow">一.游戏玩法和基本思路介绍</a></li><li><a href="#_7" rel="nofollow">二.游戏实现和步骤介绍</a></li><li><ul><li><a href="#1_8" rel="nofollow">1.准备阶段</a></li><li><ul><li><a href="#_9" rel="nofollow">步骤讲解</a></li><li><a href="#_11" rel="nofollow">步骤代码</a></li></ul> 
   </li><li><a href="#2_43" rel="nofollow">2.设计和初始化棋盘</a></li><li><ul><li><a href="#_44" rel="nofollow">步骤讲解</a></li><li><a href="#_74" rel="nofollow">步骤代码</a></li></ul> 
   </li><li><a href="#3_93" rel="nofollow">3.打印棋盘</a></li><li><ul><li><a href="#_94" rel="nofollow">步骤讲解</a></li><li><a href="#_99" rel="nofollow">步骤代码</a></li></ul> 
   </li><li><a href="#4_124" rel="nofollow">4.布置雷</a></li><li><ul><li><a href="#_125" rel="nofollow">步骤讲解</a></li><li><a href="#_133" rel="nofollow">步骤代码</a></li></ul> 
   </li><li><a href="#5_151" rel="nofollow">5.排雷</a></li><li><ul><li><a href="#_152" rel="nofollow">前菜</a></li><li><a href="#_175" rel="nofollow">获取周边地雷数</a></li><li><a href="#_180" rel="nofollow">获取周边地雷数代码</a></li><li><a href="#_197" rel="nofollow">步骤完整代码</a></li></ul> 
   </li><li><a href="#6_258" rel="nofollow">6.递归拓展安全区域</a></li><li><ul><li><a href="#_259" rel="nofollow">步骤讲解</a></li><li><a href="#_266" rel="nofollow">步骤代码</a></li></ul> 
  </li></ul> 
  </li><li><a href="#_303" rel="nofollow">三.完整代码</a></li><li><ul><li><a href="#gameh_304" rel="nofollow">game.h</a></li><li><a href="#gamec_340" rel="nofollow">game.c</a></li><li><a href="#testc_494" rel="nofollow">test.c</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="_2"></a>一.游戏玩法和基本思路介绍</h2> 
<p>首先是关于游戏玩法：输入坐标进行排雷，如果所输入坐标不是雷，那么就会告诉我们周围8个格子中地雷的总数。如果周围8个格子都没有地雷，那就自动扩大安全区域。效果如下。而如果能够成功排完全部地雷，那就胜利<br> <img src="https://images2.imgbox.com/04/2b/LNw5pnVQ_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_7"></a>二.游戏实现和步骤介绍</h2> 
<h3><a id="1_8"></a>1.准备阶段</h3> 
<h4><a id="_9"></a>步骤讲解</h4> 
<p>游戏开始之前，我们需要简略地制作一下游戏封面，效果图如下<img src="https://images2.imgbox.com/44/d8/qgpIbrSZ_o.png" alt="在这里插入图片描述">这个功能的实现并不复杂，直接上代码</p> 
<h4><a id="_11"></a>步骤代码</h4> 
<pre><code class="prism language-c"><span class="token keyword">void</span> <span class="token function">menu</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"*****************************\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"******       扫雷       *****\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"******       1.play     *****\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"******       0.exit     *****\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"*****************************\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> input <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">do</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">menu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//菜单函数</span>
		<span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>input<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">switch</span> <span class="token punctuation">(</span>input<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">case</span> <span class="token number">1</span><span class="token operator">:</span> <span class="token function">game</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">break</span><span class="token punctuation">;</span>
			<span class="token keyword">case</span> <span class="token number">0</span><span class="token operator">:</span>
				<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"退出游戏\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">break</span><span class="token punctuation">;</span>
			<span class="token keyword">default</span> <span class="token operator">:</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"输入数值无效\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span> <span class="token keyword">while</span> <span class="token punctuation">(</span>input<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//输入1则进入游戏，输入0则直接退出，否则便会一直循环</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="2_43"></a>2.设计和初始化棋盘</h3> 
<h4><a id="_44"></a>步骤讲解</h4> 
<p><strong>1</strong>.首先我们需要设计像下面这样9×9的棋盘，并且我们<strong>需要一个棋盘来记录地图上地雷的位置信息，另一个棋盘是专门给用户游玩的棋盘</strong>，也就是展示棋盘。</p> 
<p><strong>2</strong>.其次，考虑到我们需要<strong>实现统计周围地雷数量的函数</strong>，而当统计的位置在<strong>地图的边角</strong>的时候，统计起来就会很麻烦，也许要分情况，也许会越界访问。<br> <img src="https://images2.imgbox.com/07/5c/BAcmIKxt_o.png" alt="在这里插入图片描述"><strong>3</strong>.为了解决2问题，我们可以考虑直接将棋盘扩大一圈，也就是11*11。<strong>但是</strong>！我们的主要功能都是在两个棋盘的9×9区域实现的</p> 
<p>所以我们先设计一些常量，并定义上述两个棋盘</p> 
<pre><code class="prism language-c"><span class="token comment">//11×11</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">ROWS</span> <span class="token expression"><span class="token number">11</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">COLS</span> <span class="token expression"><span class="token number">11</span></span></span>
<span class="token comment">//9×9</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">ROW</span> <span class="token expression"><span class="token number">9</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">COL</span> <span class="token expression"><span class="token number">9</span></span></span>

<span class="token keyword">char</span> mine<span class="token punctuation">[</span>ROWS<span class="token punctuation">]</span><span class="token punctuation">[</span>COLS<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>   <span class="token comment">//扫雷信息的棋盘</span>
<span class="token keyword">char</span> show<span class="token punctuation">[</span>ROWS<span class="token punctuation">]</span><span class="token punctuation">[</span>COLS<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>   <span class="token comment">//展示棋盘，即游戏棋盘</span>
</code></pre> 
<p>诶那这完事之后，我们就要开始对这两个棋盘动手动脚了（初始化）</p> 
<p><strong>4</strong>.首先我们先初始化一下扫雷信息的棋盘(mine数组)，为了再次方便后续统计周围区域地雷数量，我们可以<strong>把字符1表示有地雷</strong>，而<strong>字符0表示没有地雷</strong>，这样子的话，<strong>周围有多少个字符1，就能够代表有多少个地雷</strong>，所以我们只需要<strong>两个循环把他全部初始化成字符0即可</strong></p> 
<p><strong>5</strong>.然后就轮到了展示棋盘(show数组)，因为是展示给用户看的，所以我们全部初始化成星号 * 就行，也就是<strong>两个循环全部初始化成星号</strong>。</p> 
<p><strong>6</strong>.这时候眼尖的小伙伴就发现了，这<strong>两个棋盘的初始化都是两个循环直接全部赋值成某个字符</strong>，那么我们就可以直接把这个字符当做<strong>参数</strong>传入函数，这样就能<strong>一个函数初始化两个棋盘</strong><br> <img src="https://images2.imgbox.com/b8/2f/IMzJCRTW_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_74"></a>步骤代码</h4> 
<pre><code class="prism language-c"><span class="token comment">//函数实现</span>
<span class="token keyword">void</span> <span class="token function">InitBoard</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">(</span><span class="token operator">*</span>arr<span class="token punctuation">)</span><span class="token punctuation">[</span>COLS<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">int</span> row<span class="token punctuation">,</span><span class="token keyword">int</span> col<span class="token punctuation">,</span><span class="token keyword">char</span> set<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span><span class="token comment">//                                  11      11     </span>
	<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> row<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>   <span class="token comment">//11×11的棋盘一起初始化</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span>j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> col<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> set<span class="token punctuation">;</span>  <span class="token comment">//这个set就是我们想要初始化的字符</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//函数体</span>
<span class="token function">InitBoard</span><span class="token punctuation">(</span>mine<span class="token punctuation">,</span> ROWS<span class="token punctuation">,</span> COLS<span class="token punctuation">,</span> <span class="token string">'0'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//初始化棋盘</span>
<span class="token function">InitBoard</span><span class="token punctuation">(</span>show<span class="token punctuation">,</span> ROWS<span class="token punctuation">,</span> COLS<span class="token punctuation">,</span> <span class="token string">'*'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h3><a id="3_93"></a>3.打印棋盘</h3> 
<h4><a id="_94"></a>步骤讲解</h4> 
<p><strong>1</strong>.由于是要给用户玩的，所以我们在打印的时候打印中间9×9的棋盘就可以。</p> 
<p><strong>2</strong>.其次，为了后续用户方便输入坐标，我们还需要在棋盘上打印一下行和列。效果如下<br> <img src="https://images2.imgbox.com/f3/87/VTeAut0e_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_99"></a>步骤代码</h4> 
<pre><code class="prism language-c"><span class="token keyword">void</span> <span class="token function">ShowBoard</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token punctuation">(</span><span class="token operator">*</span>arr<span class="token punctuation">)</span><span class="token punctuation">[</span>COLS<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">int</span> row<span class="token punctuation">,</span><span class="token keyword">int</span> col<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span><span class="token comment">//                                   9       9</span>
	<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token comment">//打印列的序号</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> col<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> row<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//打印棋盘的行的序号</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span>j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> col<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token comment">//打印星号*</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%c "</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="4_124"></a>4.布置雷</h3> 
<h4><a id="_125"></a>步骤讲解</h4> 
<p><strong>1</strong>.接下来我们就要对mine数组(地雷信息数组)放点地雷进去了，我们先定义一个常量来表示我们要安放的地雷数量</p> 
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">MINE_NUM</span>  <span class="token expression"><span class="token number">10</span> </span><span class="token comment">//雷的个数</span></span>
</code></pre> 
<p><strong>2</strong>.然后我们就要将这些地雷<strong>随机</strong>放到9×9的棋盘中，我们可以整个while循环，定义一个conut=MINE_NUM，然后每放一个地雷，conut就减一</p> 
<h4><a id="_133"></a>步骤代码</h4> 
<pre><code class="prism language-c"><span class="token keyword">void</span> <span class="token function">SetMine</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">(</span><span class="token operator">*</span>arr<span class="token punctuation">)</span><span class="token punctuation">[</span>COLS<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> row<span class="token punctuation">,</span> <span class="token keyword">int</span> col<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span> <span class="token comment">//                                9        9</span>
	<span class="token function">srand</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//随机布置雷</span>
	<span class="token keyword">int</span> count <span class="token operator">=</span> MINE_NUM<span class="token punctuation">;</span>   <span class="token comment">//要布置的雷的数量</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>count<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span><span class="token comment">//                   9</span>
		<span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> ROW <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>  
		<span class="token keyword">int</span> y <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> COL <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'0'</span><span class="token punctuation">)</span>    <span class="token comment">//如果是字符0，代表没有地雷，让他变成字符1即可</span>
		<span class="token punctuation">{<!-- --></span>
			arr<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'1'</span><span class="token punctuation">;</span>
			count<span class="token operator">--</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="5_151"></a>5.排雷</h3> 
<h4><a id="_152"></a>前菜</h4> 
<p><strong>1</strong>.前菜：既然是扫雷，那就会有胜利的时候，也就是我们要实现胜利的功能，我们可以定义一个全局变量<code>int win = 0;</code>来表示我们<strong>安全区域的个数</strong>，那么就会有：win+雷的总个数=总格子数（81），而我们不断排雷的过程就是个循环。 所以我们可以先得出这个<strong>框架</strong></p> 
<pre><code class="prism language-c"><span class="token keyword">void</span> <span class="token function">ClearMine</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">(</span><span class="token operator">*</span>mine<span class="token punctuation">)</span><span class="token punctuation">[</span>COLS<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token operator">*</span>show<span class="token punctuation">)</span><span class="token punctuation">[</span>COLS<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> row<span class="token punctuation">,</span> <span class="token keyword">int</span> col<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span> <span class="token comment">//这一步是在9×9的棋盘中操作的                             9        9</span>
	<span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> sum <span class="token operator">=</span> ROW <span class="token operator">*</span> COL<span class="token punctuation">;</span><span class="token comment">//总格子数81</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>win <span class="token operator">+</span> MINE_NUM <span class="token operator">&lt;</span> sum<span class="token punctuation">)</span>   <span class="token comment">//如果雷的数量和没踩到雷的数量=81,那就胜利</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"请输入扫雷坐标(x,y)\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>x<span class="token punctuation">,</span> <span class="token operator">&amp;</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
		……
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><strong>2</strong>.而用户输入的坐标需要<strong>判断合法性</strong> <code>if ((x &gt;= 1 &amp;&amp; x &lt;= row) &amp;&amp; (y &gt;= 1 &amp;&amp; y &lt;= col))</code></p> 
<p><strong>3</strong>.如果输入的坐标是雷（字符1），也就简单了，打印一句游戏结束，就直接return</p> 
<p><strong>4</strong>.相反，如果不是雷，我们就要获取周围地雷数量，并更新展示棋盘(show)。</p> 
<h4><a id="_175"></a>获取周边地雷数</h4> 
<p><strong>5</strong>.为了获取<strong>坐标所在九宫格的地雷数量</strong>，我们一个循环就可以实现，我们定义<code>int cnt=0;</code>来统计雷的数量，由于坐标本身不是雷(即字符0)，所以我们循环只需要<code>cnt+=mine[x][y]-'0'</code> 即完成任务。</p> 
<p><strong>6</strong>.得到周围地雷数量后我们还要同步更新show[x][y]</p> 
<h4><a id="_180"></a>获取周边地雷数代码</h4> 
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">GetAroundNum</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">(</span><span class="token operator">*</span>mine<span class="token punctuation">)</span><span class="token punctuation">[</span>COLS<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> cnt <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> x <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> x <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span>j <span class="token operator">=</span> y <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> y <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			cnt <span class="token operator">+=</span> mine<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token string">'0'</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> cnt<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_197"></a>步骤完整代码</h4> 
<pre><code class="prism language-c"><span class="token keyword">void</span> <span class="token function">ClearMine</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">(</span><span class="token operator">*</span>mine<span class="token punctuation">)</span><span class="token punctuation">[</span>COLS<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token operator">*</span>show<span class="token punctuation">)</span><span class="token punctuation">[</span>COLS<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> row<span class="token punctuation">,</span> <span class="token keyword">int</span> col<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span> <span class="token comment">//是在9×9的棋盘上操作的                                  9        9</span>
	<span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> sum <span class="token operator">=</span> ROW <span class="token operator">*</span> COL<span class="token punctuation">;</span><span class="token comment">//总格子数</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>win <span class="token operator">+</span> MINE_NUM <span class="token operator">&lt;</span> sum<span class="token punctuation">)</span>   <span class="token comment">//如果雷的数量和没踩到雷的数量=81,那就胜利</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"请输入扫雷坐标(x,y)\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>x<span class="token punctuation">,</span> <span class="token operator">&amp;</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>x <span class="token operator">&gt;=</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> x <span class="token operator">&lt;=</span> row<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>y <span class="token operator">&gt;=</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> y <span class="token operator">&lt;=</span> col<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//坐标合法</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>mine<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'1'</span><span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"踩雷！\n游戏结束！\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token comment">/*ShowBoard(mine, row, col);
				system("pause");
				system("cls");锦上添花部分，可加可不加*/</span>
				<span class="token keyword">return</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">else</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token keyword">int</span> num <span class="token operator">=</span> <span class="token function">GetAroundNum</span><span class="token punctuation">(</span>mine<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//得到周边地雷数量</span>
				win<span class="token operator">++</span><span class="token punctuation">;</span>  <span class="token comment">//是安全区域，win++</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span>num<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token comment">//如果周围的地雷数量为0</span>
				<span class="token punctuation">{<!-- --></span>
					<span class="token function">Expand</span><span class="token punctuation">(</span>mine<span class="token punctuation">,</span> show<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//那就开始拓展，下面有详讲</span>
				<span class="token punctuation">}</span>
				<span class="token keyword">else</span>
				<span class="token punctuation">{<!-- --></span>
					show<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">=</span> num <span class="token operator">+</span> <span class="token string">'0'</span><span class="token punctuation">;</span>  <span class="token comment">//更新show数组</span>
				<span class="token punctuation">}</span>
				<span class="token function">ShowBoard</span><span class="token punctuation">(</span>show<span class="token punctuation">,</span> row<span class="token punctuation">,</span> col<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"坐标输入值非法\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"排雷成功！\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//如果能够完成这个循环，那就排雷成功</span>
	<span class="token comment">/*system("pause");
	system("cls");可加可不加*/</span>
<span class="token punctuation">}</span>
<span class="token comment">//获得周围地雷个数</span>
<span class="token keyword">int</span> <span class="token function">GetAroundNum</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">(</span><span class="token operator">*</span>mine<span class="token punctuation">)</span><span class="token punctuation">[</span>COLS<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span><span class="token comment">//                                    x和y即坐标</span>
	<span class="token keyword">int</span> cnt <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> x <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> x <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span>j <span class="token operator">=</span> y <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> y <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			cnt <span class="token operator">+=</span> mine<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token string">'0'</span><span class="token punctuation">;</span> <span class="token comment">//减去'0'得到整数</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> cnt<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="6_258"></a>6.递归拓展安全区域</h3> 
<h4><a id="_259"></a>步骤讲解</h4> 
<p><strong>1</strong>.如果周围存在地雷，那就让show[x][y]等于<strong>地雷数量对应的字符</strong>即可（比如周围有3个雷，就要让show[x][y]=‘3’，实现方法也很简单，让3+‘0’就好）</p> 
<p><strong>2</strong>.如果周围没有地雷，那就要让周围8个地雷都做一次GetAroundNum(获得周围地雷个数)的动作。</p> 
<p><strong>3</strong>.得到周围地雷个数后，再判断是否为0，不是0，那就直接更新show[x][y]，是0，那就这个坐标周围8个再进行一次GetAroundNum(获取周围地雷个数)……以此类推，根据1,2步骤循环即可</p> 
<h4><a id="_266"></a>步骤代码</h4> 
<pre><code class="prism language-c"><span class="token keyword">void</span> <span class="token function">Expand</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">(</span><span class="token operator">*</span>mine<span class="token punctuation">)</span><span class="token punctuation">[</span>COLS<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token operator">*</span>show<span class="token punctuation">)</span><span class="token punctuation">[</span>COLS<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;</span> <span class="token number">1</span> <span class="token operator">||</span> x<span class="token operator">&gt;</span><span class="token number">9</span> <span class="token operator">||</span> y <span class="token operator">&lt;</span> <span class="token number">1</span> <span class="token operator">||</span> y<span class="token operator">&gt;</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token comment">//判断坐标合理性</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>show<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token string">'*'</span><span class="token punctuation">)</span>   <span class="token comment">//如果已经被排查了</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">int</span> num <span class="token operator">=</span> <span class="token function">GetAroundNum</span><span class="token punctuation">(</span>mine<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//周围雷的数量</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>num <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span>  <span class="token comment">//如果不是零，直接更新数量就行</span>
	<span class="token punctuation">{<!-- --></span>
		show<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">=</span> num <span class="token operator">+</span> <span class="token string">'0'</span><span class="token punctuation">;</span>
		win<span class="token operator">++</span><span class="token punctuation">;</span>  <span class="token comment">//安全区域++</span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">else</span>   <span class="token comment">//如果是0</span>
	<span class="token punctuation">{<!-- --></span>
		show<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">'0'</span><span class="token punctuation">;</span>   <span class="token comment">//此处还要更新</span>
		win<span class="token operator">++</span><span class="token punctuation">;</span>  <span class="token comment">//安全区域++</span>
		<span class="token comment">//周围8个都要递归</span>
		<span class="token function">Expand</span><span class="token punctuation">(</span>mine<span class="token punctuation">,</span> show<span class="token punctuation">,</span> x <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> y <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">Expand</span><span class="token punctuation">(</span>mine<span class="token punctuation">,</span> show<span class="token punctuation">,</span> x <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">Expand</span><span class="token punctuation">(</span>mine<span class="token punctuation">,</span> show<span class="token punctuation">,</span> x <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> y<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">Expand</span><span class="token punctuation">(</span>mine<span class="token punctuation">,</span> show<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">Expand</span><span class="token punctuation">(</span>mine<span class="token punctuation">,</span> show<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">Expand</span><span class="token punctuation">(</span>mine<span class="token punctuation">,</span> show<span class="token punctuation">,</span> x <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> y <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">Expand</span><span class="token punctuation">(</span>mine<span class="token punctuation">,</span> show<span class="token punctuation">,</span> x <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">Expand</span><span class="token punctuation">(</span>mine<span class="token punctuation">,</span> show<span class="token punctuation">,</span> x <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> y<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="_303"></a>三.完整代码</h2> 
<h3><a id="gameh_304"></a>game.h</h3> 
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">_CRT_SECURE_NO_WARNINGS</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdlib.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;time.h&gt;</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">ROWS</span> <span class="token expression"><span class="token number">11</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">COLS</span> <span class="token expression"><span class="token number">11</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">ROW</span> <span class="token expression"><span class="token number">9</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">COL</span> <span class="token expression"><span class="token number">9</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">MINE_NUM</span>  <span class="token expression"><span class="token number">10</span> </span><span class="token comment">//雷的个数</span></span>

<span class="token comment">//棋盘</span>
<span class="token keyword">void</span> <span class="token function">menu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//初始化棋盘</span>
<span class="token keyword">void</span> <span class="token function">InitBoard</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token punctuation">(</span><span class="token operator">*</span>arr<span class="token punctuation">)</span><span class="token punctuation">[</span>COLS<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">int</span> row<span class="token punctuation">,</span><span class="token keyword">int</span> col<span class="token punctuation">,</span><span class="token keyword">char</span> set<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//展示棋盘</span>
<span class="token keyword">void</span> <span class="token function">ShowBoard</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">(</span><span class="token operator">*</span>arr<span class="token punctuation">)</span><span class="token punctuation">[</span>COLS<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> row<span class="token punctuation">,</span> <span class="token keyword">int</span> col<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//布置雷</span>
<span class="token keyword">void</span> <span class="token function">SetMine</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">(</span><span class="token operator">*</span>arr<span class="token punctuation">)</span><span class="token punctuation">[</span>COLS<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> row<span class="token punctuation">,</span> <span class="token keyword">int</span> col<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//排雷</span>
<span class="token keyword">void</span> <span class="token function">ClearMine</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token punctuation">(</span><span class="token operator">*</span>mine<span class="token punctuation">)</span><span class="token punctuation">[</span>COLS<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">char</span><span class="token punctuation">(</span><span class="token operator">*</span>show<span class="token punctuation">)</span><span class="token punctuation">[</span>COLS<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">int</span> row<span class="token punctuation">,</span><span class="token keyword">int</span> col<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//得出周围雷的数量</span>
<span class="token keyword">int</span> <span class="token function">GetAroundNum</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">(</span><span class="token operator">*</span>mine<span class="token punctuation">)</span><span class="token punctuation">[</span>COLS<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//拓展周围是不是雷的区域</span>
<span class="token keyword">void</span> <span class="token function">Expand</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">(</span><span class="token operator">*</span>mine<span class="token punctuation">)</span><span class="token punctuation">[</span>COLS<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token operator">*</span>show<span class="token punctuation">)</span><span class="token punctuation">[</span>COLS<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre> 
<h3><a id="gamec_340"></a>game.c</h3> 
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">"game.h"</span></span>

<span class="token keyword">int</span> win <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//表示不是雷的数量</span>

<span class="token keyword">void</span> <span class="token function">menu</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"*****************************\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"******       扫雷       *****\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"******       1.play     *****\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"******       0.exit     *****\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"*****************************\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">InitBoard</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">(</span><span class="token operator">*</span>arr<span class="token punctuation">)</span><span class="token punctuation">[</span>COLS<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">int</span> row<span class="token punctuation">,</span><span class="token keyword">int</span> col<span class="token punctuation">,</span><span class="token keyword">char</span> set<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> row<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span>j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> col<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> set<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">ShowBoard</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token punctuation">(</span><span class="token operator">*</span>arr<span class="token punctuation">)</span><span class="token punctuation">[</span>COLS<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">int</span> row<span class="token punctuation">,</span><span class="token keyword">int</span> col<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"----------------扫雷----------------\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> col<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> row<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//打印棋盘的行和列序号</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span>j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> col<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%c "</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">SetMine</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">(</span><span class="token operator">*</span>arr<span class="token punctuation">)</span><span class="token punctuation">[</span>COLS<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> row<span class="token punctuation">,</span> <span class="token keyword">int</span> col<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">srand</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//随机布置雷</span>
	<span class="token keyword">int</span> count <span class="token operator">=</span> MINE_NUM<span class="token punctuation">;</span>   <span class="token comment">//雷的数量</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>count<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> ROW <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
		<span class="token keyword">int</span> y <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> COL <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'0'</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			arr<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'1'</span><span class="token punctuation">;</span>
			count<span class="token operator">--</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">ClearMine</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">(</span><span class="token operator">*</span>mine<span class="token punctuation">)</span><span class="token punctuation">[</span>COLS<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token operator">*</span>show<span class="token punctuation">)</span><span class="token punctuation">[</span>COLS<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> row<span class="token punctuation">,</span> <span class="token keyword">int</span> col<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> sum <span class="token operator">=</span> ROW <span class="token operator">*</span> COL<span class="token punctuation">;</span><span class="token comment">//总格子数</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>win <span class="token operator">+</span> MINE_NUM <span class="token operator">&lt;</span> sum<span class="token punctuation">)</span>   <span class="token comment">//如果雷的数量和没踩到雷的数量=81,那就胜利</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"请输入扫雷坐标(x,y)\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>x<span class="token punctuation">,</span> <span class="token operator">&amp;</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>x <span class="token operator">&gt;=</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> x <span class="token operator">&lt;=</span> row<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>y <span class="token operator">&gt;=</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> y <span class="token operator">&lt;=</span> col<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//坐标合法</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>mine<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'1'</span><span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"踩雷！\n游戏结束！\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token function">ShowBoard</span><span class="token punctuation">(</span>mine<span class="token punctuation">,</span> row<span class="token punctuation">,</span> col<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token function">system</span><span class="token punctuation">(</span><span class="token string">"pause"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token function">system</span><span class="token punctuation">(</span><span class="token string">"cls"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">return</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">else</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token comment">//递归</span>
				<span class="token keyword">int</span> num <span class="token operator">=</span> <span class="token function">GetAroundNum</span><span class="token punctuation">(</span>mine<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
				win<span class="token operator">++</span><span class="token punctuation">;</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span>num<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token comment">//如果周围的地雷数量为0</span>
				<span class="token punctuation">{<!-- --></span>
					<span class="token function">Expand</span><span class="token punctuation">(</span>mine<span class="token punctuation">,</span> show<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//那就开始拓展</span>
				<span class="token punctuation">}</span>
				<span class="token keyword">else</span>
				<span class="token punctuation">{<!-- --></span>
					show<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">=</span> num <span class="token operator">+</span> <span class="token string">'0'</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
				<span class="token function">ShowBoard</span><span class="token punctuation">(</span>show<span class="token punctuation">,</span> row<span class="token punctuation">,</span> col<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"坐标输入值非法\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"排雷成功！\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">system</span><span class="token punctuation">(</span><span class="token string">"pause"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">system</span><span class="token punctuation">(</span><span class="token string">"cls"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">GetAroundNum</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">(</span><span class="token operator">*</span>mine<span class="token punctuation">)</span><span class="token punctuation">[</span>COLS<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> cnt <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> x <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> x <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span>j <span class="token operator">=</span> y <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> y <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			cnt <span class="token operator">+=</span> mine<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token string">'0'</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> cnt<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">Expand</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">(</span><span class="token operator">*</span>mine<span class="token punctuation">)</span><span class="token punctuation">[</span>COLS<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token operator">*</span>show<span class="token punctuation">)</span><span class="token punctuation">[</span>COLS<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;</span> <span class="token number">1</span> <span class="token operator">||</span> x<span class="token operator">&gt;</span><span class="token number">9</span> <span class="token operator">||</span> y <span class="token operator">&lt;</span> <span class="token number">1</span> <span class="token operator">||</span> y<span class="token operator">&gt;</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token comment">//判断坐标合理性</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>show<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token string">'*'</span><span class="token punctuation">)</span>   <span class="token comment">//如果已经被排查了</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">int</span> num <span class="token operator">=</span> <span class="token function">GetAroundNum</span><span class="token punctuation">(</span>mine<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//周围雷的数量</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>num <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span>  <span class="token comment">//如果不是零，直接写出周围的数字就行</span>
	<span class="token punctuation">{<!-- --></span>
		show<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">=</span> num <span class="token operator">+</span> <span class="token string">'0'</span><span class="token punctuation">;</span>
		win<span class="token operator">++</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">else</span>
	<span class="token punctuation">{<!-- --></span>
		show<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">'0'</span><span class="token punctuation">;</span>
		win<span class="token operator">++</span><span class="token punctuation">;</span>
		<span class="token function">Expand</span><span class="token punctuation">(</span>mine<span class="token punctuation">,</span> show<span class="token punctuation">,</span> x <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> y <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">Expand</span><span class="token punctuation">(</span>mine<span class="token punctuation">,</span> show<span class="token punctuation">,</span> x <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">Expand</span><span class="token punctuation">(</span>mine<span class="token punctuation">,</span> show<span class="token punctuation">,</span> x <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> y<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">Expand</span><span class="token punctuation">(</span>mine<span class="token punctuation">,</span> show<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">Expand</span><span class="token punctuation">(</span>mine<span class="token punctuation">,</span> show<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">Expand</span><span class="token punctuation">(</span>mine<span class="token punctuation">,</span> show<span class="token punctuation">,</span> x <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> y <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">Expand</span><span class="token punctuation">(</span>mine<span class="token punctuation">,</span> show<span class="token punctuation">,</span> x <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">Expand</span><span class="token punctuation">(</span>mine<span class="token punctuation">,</span> show<span class="token punctuation">,</span> x <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> y<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="testc_494"></a>test.c</h3> 
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">"game.h"</span></span>

<span class="token keyword">void</span> <span class="token function">game</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">char</span> mine<span class="token punctuation">[</span>ROWS<span class="token punctuation">]</span><span class="token punctuation">[</span>COLS<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>   <span class="token comment">//扫雷信息的棋盘</span>
	<span class="token keyword">char</span> show<span class="token punctuation">[</span>ROWS<span class="token punctuation">]</span><span class="token punctuation">[</span>COLS<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>   <span class="token comment">//展示棋盘，即游戏棋盘</span>
	<span class="token function">InitBoard</span><span class="token punctuation">(</span>mine<span class="token punctuation">,</span> ROWS<span class="token punctuation">,</span> COLS<span class="token punctuation">,</span> <span class="token string">'0'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//初始化棋盘</span>
	<span class="token function">InitBoard</span><span class="token punctuation">(</span>show<span class="token punctuation">,</span> ROWS<span class="token punctuation">,</span> COLS<span class="token punctuation">,</span> <span class="token string">'*'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">SetMine</span><span class="token punctuation">(</span>mine<span class="token punctuation">,</span>ROW<span class="token punctuation">,</span>COL<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//布置雷</span>
	<span class="token function">ShowBoard</span><span class="token punctuation">(</span>mine<span class="token punctuation">,</span> ROW<span class="token punctuation">,</span> COL<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//展示棋盘</span>
	<span class="token function">ShowBoard</span><span class="token punctuation">(</span>show<span class="token punctuation">,</span> ROW<span class="token punctuation">,</span> COL<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//ShowBoard(mine, ROW, COL);  //展示棋盘</span>
	<span class="token function">ClearMine</span><span class="token punctuation">(</span>mine<span class="token punctuation">,</span> show<span class="token punctuation">,</span> ROW<span class="token punctuation">,</span> COL<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//排雷</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> input <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">do</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">menu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>input<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">switch</span> <span class="token punctuation">(</span>input<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">case</span> <span class="token number">1</span><span class="token operator">:</span> <span class="token function">game</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">break</span><span class="token punctuation">;</span>
			<span class="token keyword">case</span> <span class="token number">0</span><span class="token operator">:</span>
				<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"退出游戏\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span> <span class="token keyword">while</span> <span class="token punctuation">(</span>input<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/022e48248db347575bda59e5d404e2b5/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Ubuntu系统全盘备份（亲测可用）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/179825272740a312238a37bcd491677e/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【中级—，BAT面试&amp;高级进阶</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>