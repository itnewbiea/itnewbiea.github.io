<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Vue Echarts 多折线图只有一条X轴（合并X轴数据并去重排序） - 附完整示例 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Vue Echarts 多折线图只有一条X轴（合并X轴数据并去重排序） - 附完整示例" />
<meta property="og:description" content="echarts：一个基于 JavaScript 的开源可视化图表库。
目录
效果
一、介绍
1、官方文档：Apache ECharts
2、官方示例
二、准备工作
1、安装依赖包
2、示例版本 三、使用步骤
1、在单页面引入 &#39; echarts &#39;
2、指定容器并设置容器宽高
3、数据处理（关键点）
四、完整示例
tips
效果 一、介绍 1、官方文档：Apache ECharts Apache EChartsApache ECharts，一款基于JavaScript的数据可视化图表库，提供直观，生动，可交互，可个性化定制的数据可视化图表。https://echarts.apache.org/zh/index.html
2、官方示例 二、准备工作 1、安装依赖包 npm install echarts --save 2、示例版本 &#34;echarts&#34;: &#34;^5.4.2&#34;, 三、使用步骤 1、在单页面引入 &#39; echarts &#39; import * as echarts from &#34;echarts&#34;; 注：上面的代码会引入 ECharts 中所有的图表和组件，如果你不想引入所有组件，也可以使用 ECharts 提供的按需引入的接口来打包必须的组件。详见官方文档：在项目中引入 ECharts - 入门篇 - Handbook - Apache ECharts
2、指定容器并设置容器宽高 &lt;template&gt; &lt;div id=&#34;main&#34;&gt;&lt;/div&gt; &lt;/template&gt; &lt;script&gt; import * as echarts from &#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/a643eeb5bf3c322741e29410ea1f152b/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-12-26T09:54:26+08:00" />
<meta property="article:modified_time" content="2023-12-26T09:54:26+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Vue Echarts 多折线图只有一条X轴（合并X轴数据并去重排序） - 附完整示例</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <blockquote> 
 <p><strong> echarts：</strong>一个基于 JavaScript 的开源可视化图表库。</p> 
</blockquote> 
<p id="main-toc"><strong>目录</strong></p> 
<p id="-toc" style="margin-left:40px;"></p> 
<p id="%E6%95%88%E6%9E%9C-toc" style="margin-left:40px;"><a href="#%E6%95%88%E6%9E%9C" rel="nofollow">效果</a></p> 
<p id="%E4%B8%80%E3%80%81%E4%BB%8B%E7%BB%8D-toc" style="margin-left:40px;"><a href="#%E4%B8%80%E3%80%81%E4%BB%8B%E7%BB%8D" rel="nofollow">一、介绍</a></p> 
<p id="%C2%A01%E3%80%81%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3%EF%BC%9AApache%20ECharts-toc" style="margin-left:80px;"><a href="#%C2%A01%E3%80%81%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3%EF%BC%9AApache%20ECharts" rel="nofollow"> 1、官方文档：Apache ECharts</a></p> 
<p id="2%E3%80%81%E5%AE%98%E6%96%B9%E7%A4%BA%E4%BE%8B-toc" style="margin-left:80px;"><a href="#2%E3%80%81%E5%AE%98%E6%96%B9%E7%A4%BA%E4%BE%8B" rel="nofollow">2、官方示例</a></p> 
<p id="%E4%BA%8C%E3%80%81%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C-toc" style="margin-left:40px;"><a href="#%E4%BA%8C%E3%80%81%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C" rel="nofollow">二、准备工作</a></p> 
<p id="1%E3%80%81%E5%AE%89%E8%A3%85%E4%BE%9D%E8%B5%96%E5%8C%85-toc" style="margin-left:80px;"><a href="#1%E3%80%81%E5%AE%89%E8%A3%85%E4%BE%9D%E8%B5%96%E5%8C%85" rel="nofollow">1、安装依赖包</a></p> 
<p id="%C2%A02%E3%80%81%E7%A4%BA%E4%BE%8B%E7%89%88%E6%9C%AC%C2%A0-toc" style="margin-left:80px;"><a href="#%C2%A02%E3%80%81%E7%A4%BA%E4%BE%8B%E7%89%88%E6%9C%AC%C2%A0" rel="nofollow"> 2、示例版本 </a></p> 
<p id="%E4%B8%89%E3%80%81%E4%BD%BF%E7%94%A8%E6%AD%A5%E9%AA%A4-toc" style="margin-left:40px;"><a href="#%E4%B8%89%E3%80%81%E4%BD%BF%E7%94%A8%E6%AD%A5%E9%AA%A4" rel="nofollow">三、使用步骤</a></p> 
<p id="1%E3%80%81%E5%9C%A8%E5%8D%95%E9%A1%B5%E9%9D%A2%E5%BC%95%E5%85%A5%20'%20echarts%20'-toc" style="margin-left:80px;"><a href="#1%E3%80%81%E5%9C%A8%E5%8D%95%E9%A1%B5%E9%9D%A2%E5%BC%95%E5%85%A5%20'%20rel=">1、在单页面引入 ' echarts '</a></p> 
<p id="2%E3%80%81%E6%8C%87%E5%AE%9A%E5%AE%B9%E5%99%A8%E5%B9%B6%E8%AE%BE%E7%BD%AE%E5%AE%B9%E5%99%A8%E5%AE%BD%E9%AB%98-toc" style="margin-left:80px;"><a href="#2%E3%80%81%E6%8C%87%E5%AE%9A%E5%AE%B9%E5%99%A8%E5%B9%B6%E8%AE%BE%E7%BD%AE%E5%AE%B9%E5%99%A8%E5%AE%BD%E9%AB%98" rel="nofollow">2、指定容器并设置容器宽高</a></p> 
<p id="3%E3%80%81%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%EF%BC%88%E5%85%B3%E9%94%AE%E7%82%B9%EF%BC%89-toc" style="margin-left:80px;"><a href="#3%E3%80%81%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%EF%BC%88%E5%85%B3%E9%94%AE%E7%82%B9%EF%BC%89" rel="nofollow">3、数据处理（关键点）</a></p> 
<p id="%E5%9B%9B%E3%80%81%E5%AE%8C%E6%95%B4%E7%A4%BA%E4%BE%8B-toc" style="margin-left:40px;"><a href="#%E5%9B%9B%E3%80%81%E5%AE%8C%E6%95%B4%E7%A4%BA%E4%BE%8B" rel="nofollow">四、完整示例</a></p> 
<p id="tips-toc" style="margin-left:40px;"><a href="#tips" rel="nofollow">tips</a></p> 
<hr id="hr-toc"> 
<p></p> 
<h3 id="%E6%95%88%E6%9E%9C"><span style="color:#fe2c24;">效果</span></h3> 
<p><img alt="" height="481" src="https://images2.imgbox.com/6e/27/aSJz78r7_o.png" width="875"></p> 
<p></p> 
<h3 id="%E4%B8%80%E3%80%81%E4%BB%8B%E7%BB%8D">一、介绍</h3> 
<h4 id="%C2%A01%E3%80%81%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3%EF%BC%9AApache%20ECharts"> 1、官方文档：<a href="https://echarts.apache.org/zh/index.html" rel="nofollow" title="Apache ECharts">Apache ECharts</a></h4> 
<p><a href="https://echarts.apache.org/zh/index.html" rel="nofollow" title="Apache EChartsApache ECharts，一款基于JavaScript的数据可视化图表库，提供直观，生动，可交互，可个性化定制的数据可视化图表。https://echarts.apache.org/zh/index.html">Apache EChartsApache ECharts，一款基于JavaScript的数据可视化图表库，提供直观，生动，可交互，可个性化定制的数据可视化图表。https://echarts.apache.org/zh/index.html</a></p> 
<h4 id="2%E3%80%81%E5%AE%98%E6%96%B9%E7%A4%BA%E4%BE%8B">2、官方示例</h4> 
<p><img alt="" height="953" src="https://images2.imgbox.com/b9/76/x137UfOV_o.png" width="1200"></p> 
<p></p> 
<h3 id="%E4%BA%8C%E3%80%81%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C"><strong>二、准备工作</strong></h3> 
<h4 id="1%E3%80%81%E5%AE%89%E8%A3%85%E4%BE%9D%E8%B5%96%E5%8C%85">1、安装依赖包</h4> 
<pre><code>npm install echarts --save</code></pre> 
<h4 id="%C2%A02%E3%80%81%E7%A4%BA%E4%BE%8B%E7%89%88%E6%9C%AC%C2%A0"> 2、示例版本 </h4> 
<pre><code>"echarts": "^5.4.2",</code></pre> 
<p></p> 
<h3 id="%E4%B8%89%E3%80%81%E4%BD%BF%E7%94%A8%E6%AD%A5%E9%AA%A4">三、使用步骤</h3> 
<h4 id="1%E3%80%81%E5%9C%A8%E5%8D%95%E9%A1%B5%E9%9D%A2%E5%BC%95%E5%85%A5%20'%20echarts%20'">1、在单页面引入 ' echarts '</h4> 
<pre><code>import * as echarts from "echarts";</code></pre> 
<p>注：上面的代码会引入 ECharts 中所有的图表和组件，如果你不想引入所有组件，也可以使用 ECharts 提供的按需引入的接口来打包必须的组件。详见官方文档：<a href="https://echarts.apache.org/handbook/zh/basics/import" rel="nofollow" title="在项目中引入 ECharts - 入门篇 - Handbook - Apache ECharts">在项目中引入 ECharts - 入门篇 - Handbook - Apache ECharts</a></p> 
<h4 id="2%E3%80%81%E6%8C%87%E5%AE%9A%E5%AE%B9%E5%99%A8%E5%B9%B6%E8%AE%BE%E7%BD%AE%E5%AE%B9%E5%99%A8%E5%AE%BD%E9%AB%98">2、指定容器并设置容器宽高</h4> 
<pre><code>&lt;template&gt;
  &lt;div id="main"&gt;&lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
  import * as echarts from "echarts";
  export default {
    name: "mutiYAxis",
    data() {
      return {
     
      };
    },
    methods: {
      initChart() {
        let data = this.data
        let chartDom = document.getElementById("main");
        let myChart = echarts.init(chartDom);
        let option;

        ...详见完整示例   
      },
    },
  };
&lt;/script&gt;

&lt;style scoped&gt;
  #main {
    width: 1000px;
    height: 500px;
  }
&lt;/style&gt;</code></pre> 
<h4 id="3%E3%80%81%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%EF%BC%88%E5%85%B3%E9%94%AE%E7%82%B9%EF%BC%89">3、数据处理（关键点）</h4> 
<pre><code>      let xAxisData = [];
      let series = [];
      let index = 1;
      let seriesNames = [];
      let seriesUnit = [];
      let yAxis = [];
      let timeData = [];

      data.sort(this.sortByLength);
      data.forEach((_series, i) =&gt; {
        let _yAxis = [];
        let arrEle = [];
        let nameUnit = '';
        _series.unit ? (nameUnit = '(' + _series.unit + ')') : (nameUnit = '');
        _series.dataList.forEach((item) =&gt; {
          let { value, time } = item;
          timeData.push(time);
          arrEle = [time, value];
          _yAxis.push(arrEle);
        });

        seriesNames.push(_series.seriesName);
        seriesUnit.push(_series.unit);
        if (yAxis.length &lt; 2) {
          yAxis.push({
            name: _series.seriesName + nameUnit,
            nameTextStyle: {
              fontSize: 14,
              fontcolor: '#fff',
              fontWeight: 'bolder',
            },
            splitLine: {
              show: false
            },
            axisLabel: {
              formatter: '{value} ',
            },
          });
        }
        let _item = {
          name: _series.seriesName,
          type: 'line',
          smooth: true,
          showAllSymbol: false,
          symbol: 'emptyCircle',
          data: _yAxis,
          connectNulls: true,
        };
        if (index == 2) {
          _item.yAxisIndex = 1;
        }

        series.push(_item);
        index++;
      });

      xAxisData = this.sortByTime(timeData);</code></pre> 
<p><span style="color:#4da8ee;">注：部分方法的完整版在完整示例展示</span></p> 
<p></p> 
<h3 id="%E5%9B%9B%E3%80%81%E5%AE%8C%E6%95%B4%E7%A4%BA%E4%BE%8B"><span style="color:#fe2c24;">四、完整示例</span></h3> 
<pre><code>&lt;template&gt;
  &lt;div class="multipleDiscounting"&gt;
    &lt;div id="main"&gt;&lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;
&lt;script&gt;
import * as echarts from "echarts";
export default {
  name: "multipleDiscounting",
  data() {
    return {
      dataArr: [
        {
          seriesName: "折现一",
          unit: '',
          dataList: [
            {
              value: 0,
              time: "2023-12-05 01:32:00"
            },
            {
              value: 0,
              time: "2023-12-05 02:06:50"
            },
            {
              value: 0,
              time: "2023-12-05 07:13:56"
            },
            {
              value: 11.5,
              time: "2023-12-05 07:56:06"
            },
            {
              value: 36.3,
              time: "2023-12-05 10:18:12"
            },
            {
              value: 51.8,
              time: "2023-12-05 12:34:49"
            },
            {
              value: 21.9,
              time: "2023-12-05 14:36:05"
            },
            {
              value: 24.2,
              time: "2023-12-05 15:40:00"
            },
            {
              value: 13.7,
              time: "2023-12-05 16:36:22"
            },
            {
              value: 0,
              time: "2023-12-05 17:14:31"
            },
          ],
        },
        {
          seriesName: "折现二",
          unit: '',
          dataList: [
            {
              value: 0,
              time: "2023-12-05 00:28:16"
            },
            {
              value: 0,
              time: "2023-12-05 00:31:56"
            },
            {
              value: 0,
              time: "2023-12-05 02:10:56"
            },
            {
              value: 0,
              time: "2023-12-05 02:21:56"
            },
            {
              value: 0,
              time: "2023-12-05 06:50:22"
            },
            {
              value: 36.6,
              time: "2023-12-05 10:39:55"
            },
            {
              value: 34.1,
              time: "2023-12-05 10:50:55"
            },
            {
              value: 50.2,
              time: "2023-12-05 12:00:36"
            },
            {
              value: 25.9,
              time: "2023-12-05 14:36:05"
            },
            {
              value: 22.1,
              time: "2023-12-05 14:37:33"
            },
            {
              value: 24.9,
              time: "2023-12-05 15:50:10"
            },
            {
              value: 12.1,
              time: "2023-12-05 16:56:11"
            },
            {
              value: 9.3,
              time: "2023-12-05 17:15:59"
            }
          ],
        },
      ]
    };
  },
  mounted() {
    this.$nextTick(() =&gt; {
      this.initChart(this.dataArr);
    });
  },
  methods: {
    initChart(data) {
      let chartDom = document.getElementById("main");
      let myChart = echarts.init(chartDom);
      let option;

      let xAxisData = [];
      let series = [];
      let index = 1;
      let seriesNames = [];
      let seriesUnit = [];
      let yAxis = [];
      let timeData = [];

      data.sort(this.sortByLength);
      data.forEach((_series, i) =&gt; {
        let _yAxis = [];
        let arrEle = [];
        let nameUnit = '';
        _series.unit ? (nameUnit = '(' + _series.unit + ')') : (nameUnit = '');
        _series.dataList.forEach((item) =&gt; {
          let { value, time } = item;
          timeData.push(time);
          arrEle = [time, value];
          _yAxis.push(arrEle);
        });

        seriesNames.push(_series.seriesName);
        seriesUnit.push(_series.unit);
        if (yAxis.length &lt; 2) {
          yAxis.push({
            name: _series.seriesName + nameUnit,
            nameTextStyle: {
              fontSize: 14,
              fontcolor: '#fff',
              fontWeight: 'bolder',
            },
            splitLine: {
              show: false
            },
            axisLabel: {
              formatter: '{value} ',
            },
          });
        }
        let _item = {
          name: _series.seriesName,
          type: 'line',
          smooth: true,
          showAllSymbol: false,
          symbol: 'emptyCircle',
          data: _yAxis,
          connectNulls: true,
        };
        if (index == 2) {
          _item.yAxisIndex = 1;
        }

        series.push(_item);
        index++;
      });

      xAxisData = this.sortByTime(timeData);

      option = {
        grid: {
          containLabel: true,
        },
        tooltip: {
          trigger: 'axis',
          borderRadius: 4,
          formatter: function (params) {
            let result = params[0].axisValueLabel;
            let unit = '';
            for (let i = 0; i &lt; params.length; i++) {
              seriesUnit[i] ? (unit = seriesUnit[i]) : (unit = '');
              let param = params[i];
              result += '&lt;br/&gt;' + param.marker + param.seriesName + '  ' + param.value + unit;
            }
            return result;
          },
        },
        legend: {
          type: 'scroll',
          width: '90%',
          data: seriesNames,
        },
        calculable: true,
        xAxis: [
          {
            type: 'category',
            boundaryGap: false,
            data: xAxisData,
          },
        ],
        yAxis,
        dataZoom: [
          {
            type: 'inside',
          },
        ],
        series,
      };

      option &amp;&amp; myChart.setOption(option);
    },
    // 根据 dataList.length 从大到小排序
    sortByLength(a, b) {
      return b.dataList.length - a.dataList.length;
    },
    // 根据 日期时间 去重 从小到大排序
    sortByTime(arr) {
      return [...new Set(arr)].map((item) =&gt; new Date(item)).sort((a, b) =&gt; a.getTime() - b.getTime()).map((time) =&gt; this.timeFormatConversion(time));
    },
    // 时间格式转换
    timeFormatConversion(chinaStandard) {
      let date = new Date(chinaStandard);
      let Y = date.getFullYear();
      let M = (date.getMonth() + 1).toString().padStart(2, '0');
      let D = date.getDate().toString().padStart(2, '0');
      let h = date.getHours().toString().padStart(2, '0');
      let m = date.getMinutes().toString().padStart(2, '0');
      let s = date.getSeconds().toString().padStart(2, '0');
      return `${Y}-${M}-${D} ${h}:${m}:${s}`;
    },
  },
};
&lt;/script&gt;

&lt;style lang="less" scoped&gt;
#main {
  width: 1000px;
  height: 500px;
}
&lt;/style&gt;
</code></pre> 
<p></p> 
<h3 id="tips"><span style="color:#fe2c24;">tips</span></h3> 
<p>1、X轴的数据一定要合并去重并排序</p> 
<p>2、series的数据格式一定是数组嵌套数组</p> 
<p></p> 
<p></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/3a82f3257edce254ca42bd884465c980/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Microsoft刷题记录</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/d627169adf0f619e2e4392c6d944ed6f/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Electron &#43; Vue 项目从零创建，不使用 vue-electron-template</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>