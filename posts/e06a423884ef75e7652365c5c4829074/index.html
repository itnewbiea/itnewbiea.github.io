<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>无线网络数据传输的相关知识 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="无线网络数据传输的相关知识" />
<meta property="og:description" content="关键单位 子载波、物理资源块（PRB）之间的关系详情见LTE中物理资源块的进一步认识
帧
数据发送流程 消息-》信源编码-》信道编码-》调制-》多天线发射信号-》无线信道-》多天线接收信号-》解调-》信道译码-》信源译码-》消息
调制之前或解调之后的信号，称为“基带信号”，一般都在低频范围内，这时候每个波形承载的信息量越大，其数据带宽越宽；
经过调制之后的信号称为“频带信号”，其中数据带宽没有发生改变，只是信号更容易在线路中传送。
对于一次传输，接收端在解调解码之后，如何判断这次接收到的数据是正确的还是错误的呢?
一种常用的方法，就是在原有信息比特的基础上添加一些额外的比特，使得这些额外的比特还原有比特之间有某种联系，满足某种规则，通过这样方式进行校验。
常用的校验方式有很多、奇偶校验、循环冗余校验CRC。在LTE里，上下行数据传输采用的检查纠错方式是HARQ
LTE是集中控制式系统，所有管理功能都集中在网络侧，更具体的是集中在基站侧，终端用户根据基站的安排来相应的行动，用户需要参考基站的时间轴和基站达成一致。因此需要对网络侧无线帧时间轴进行了解，
传统的通信需要依赖于电磁信号波形的完整性来携带信息，对于越来越广泛使用的数字通信系统过来说，传递信息不是完全靠电磁波形来携带信息的，也就不需要接收端知道接收到的电磁波信号的精确形式。
对于数字通信系统，不管怎么设计信号，采用什么调制解码方式和复用思想，数据的解调基本上可以认为是接收端对接收到的信号的采样，需要知道对通信有用的特征量是如何变化的，比如说功率。
两种数据帧结构 FDD 频分双工，又叫全双工，需要两个独立的信道，一个用来向下传送，一个用来向上传送，中间存在一个保护频道防止干扰。GSM（2G）、CDMA（2.5G）、CDMA2000（中国电信部署的 3G）、WCDMA（中国联通部署的 3G） 系统都是典型的 FDD 系统。
FDD 必须使用成对的收发频率。在支持以语音为代表的对称业务时能充分利用上下行的频谱，但在进行以 IP 为代表非对称的数据交换业务时，频谱的利用率则大为降低，约为对称业务时的 60%。
TDD 时分双工，又叫半双工，只需要一个信道，因为发射机和接收机不会同时操作，他们之间不会产生干扰。TD-SCDMA（中国移动部署的 3G）就是典型的 TDD 系统。
TDD 则不需要成对的频率，通信网络可根据实际情况灵活地变换信道上下行的切换点，能有效地提高系统传输不对称业务时的频谱利用率。
下面的这个图表示的是TDD上下行无线帧配置
两者之间的区别 虽然看上去 TDD 和 FDD 区别很大，但是从整个系统来说，FD-LTE 和 TD-LTE 的区别很小。EPC 完全一样，E-UTRAN 接口协议上也绝大部分都是相同的。TDD 和 FDD，区别就在于物理层（Physical Layer，PHY），即无线帧的区别。
在 LTE 里，无论是 FDD 还是 TDD，它的时间基本单位都是采样周期 Ts，值固定等于：32.55ns。无线帧也是数据传输的载体单位，长度为 10ms。
注意，数据帧是由 0、1 构成的，通过比特来传输数据。而无线帧则是由无线电波构成的，由无线电波来传输数据。
https://blog.csdn.net/Jmilk/article/details/103510462这篇博客上详细介绍了
FDD帧的结构，一个无线帧分为10个子帧，每个子帧又分为2个时隙，每个时隙又由7个Symbol组成，Symbol可以理解为持续一段时间的信号
TDD帧的结构，一个无线帧可以分为10个长度为1ms的子帧作为数据调度和传输的单位（TTI），其中子帧1和子帧6可配置为特殊子帧，该子帧包含三个特殊时隙DwPTS，GP 和 UpPTS。
这篇博客介绍了5G/4G：空口帧结构之帧、子帧、时隙、符号、RB。
该标准规定最小可分配频率单元由12个子载波组成，称为物力资源块（PRB）。因此SCS越小PRB越窄。
时隙是数据调度的最小单位
需要上下行时隙、帧配比，由于上下行配比主要由上下行业务，覆盖决定，建议全网配比一致。不同市场的帧配比建议应根据运营商的业务、策略、建网要求等综合决定
数据传输 上行数据传输 上行和数据传输的相关物理信道有两个" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/e06a423884ef75e7652365c5c4829074/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-05-31T15:00:40+08:00" />
<meta property="article:modified_time" content="2021-05-31T15:00:40+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">无线网络数据传输的相关知识</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2>关键单位</h2> 
<p>子载波、物理资源块（PRB）之间的关系详情见<a href="https://blog.csdn.net/CodeSavior/article/details/104753031/">LTE中物理资源块的进一步认识</a></p> 
<p>帧</p> 
<h2>数据发送流程</h2> 
<p>消息-》信源编码-》信道编码-》调制-》多天线发射信号-》无线信道-》多天线接收信号-》解调-》信道译码-》信源译码-》消息</p> 
<p>调制之前或解调之后的信号，称为“<strong>基带信号</strong>”，一般都在低频范围内，这时候每个波形承载的信息量越大，其数据带宽越宽；</p> 
<p>经过调制之后的信号称为“<strong>频带信号</strong>”，其中数据带宽没有发生改变，只是信号更容易在线路中传送。</p> 
<p>对于一次传输，接收端在解调解码之后，如何判断这次接收到的数据是正确的还是错误的呢?<br> 一种常用的方法，就是在原有信息比特的基础上添加一些额外的比特，使得这些额外的比特还原有比特之间有某种联系，满足某种规则，通过这样方式进行校验。<br> 常用的校验方式有很多、奇偶校验、循环冗余校验CRC。在LTE里，上下行数据传输采用的检查纠错方式是HARQ</p> 
<p>LTE是集中控制式系统，所有管理功能都集中在网络侧，更具体的是集中在基站侧，终端用户根据基站的安排来相应的行动，用户需要参考基站的时间轴和基站达成一致。因此需要对网络侧无线帧时间轴进行了解，</p> 
<p>传统的通信需要依赖于电磁信号波形的完整性来携带信息，对于越来越广泛使用的数字通信系统过来说，传递信息不是完全靠电磁波形来携带信息的，也就不需要接收端知道接收到的电磁波信号的精确形式。</p> 
<p>对于数字通信系统，不管怎么设计信号，采用什么调制解码方式和复用思想，数据的解调基本上可以认为是接收端对接收到的信号的采样，需要知道对通信有用的特征量是如何变化的，比如说功率。</p> 
<h2>两种数据帧结构</h2> 
<h3>FDD</h3> 
<p>频分双工，又叫全双工，需要两个独立的信道，一个用来向下传送，一个用来向上传送，中间存在一个保护频道防止干扰。GSM（2G）、CDMA（2.5G）、CDMA2000（中国电信部署的 3G）、WCDMA（中国联通部署的 3G） 系统都是典型的 FDD 系统。</p> 
<p>FDD 必须使用成对的收发频率。在支持以语音为代表的对称业务时能充分利用上下行的频谱，但在进行以 IP 为代表非对称的数据交换业务时，频谱的利用率则大为降低，约为对称业务时的 60%。</p> 
<p><img alt="" height="361" src="https://images2.imgbox.com/07/22/qA86FtE3_o.png" width="554"></p> 
<h3>TDD</h3> 
<p>时分双工，又叫半双工，只需要一个信道，因为发射机和接收机不会同时操作，他们之间不会产生干扰。TD-SCDMA（中国移动部署的 3G）就是典型的 TDD 系统。</p> 
<p>TDD 则不需要成对的频率，通信网络可根据实际情况灵活地变换信道上下行的切换点，能有效地提高系统传输不对称业务时的频谱利用率。</p> 
<p><img alt="" height="403" src="https://images2.imgbox.com/b4/92/Pvnw7LkX_o.png" width="619"></p> 
<p>下面的这个图表示的是TDD上下行无线帧配置</p> 
<p><img alt="" height="339" src="https://images2.imgbox.com/01/14/e5xKKluR_o.png" width="610"></p> 
<h3>两者之间的区别</h3> 
<p>虽然看上去 TDD 和 FDD 区别很大，但是从整个系统来说，FD-LTE 和 TD-LTE 的区别很小。EPC 完全一样，E-UTRAN 接口协议上也绝大部分都是相同的。<strong>TDD 和 FDD，区别就在于物理层（Physical Layer，PHY），即无线帧的区别</strong>。</p> 
<p><img alt="" height="312" src="https://images2.imgbox.com/15/da/73ZIVUHA_o.png" width="518"></p> 
<p>在 LTE 里，无论是 FDD 还是 TDD，它的时间基本单位都是采样周期 Ts，值固定等于：32.55ns。无线帧也是数据传输的载体单位，长度为 10ms。</p> 
<blockquote> 
 <p>注意，数据帧是由 0、1 构成的，通过比特来传输数据。而无线帧则是由无线电波构成的，由无线电波来传输数据。</p> 
</blockquote> 
<p><a href="https://blog.csdn.net/Jmilk/article/details/103510462">https://blog.csdn.net/Jmilk/article/details/103510462</a>这篇博客上详细介绍了</p> 
<p>FDD帧的结构，一个无线帧分为10个子帧，每个子帧又分为2个时隙，每个时隙又由7个Symbol组成，Symbol可以理解为持续一段时间的信号</p> 
<p>TDD帧的结构，一个无线帧可以分为10个长度为1ms的子帧作为数据调度和传输的单位（TTI），其中子帧1和子帧6可配置为特殊子帧，该子帧包含三个特殊时隙DwPTS，GP 和 UpPTS。</p> 
<p><img alt="" height="401" src="https://images2.imgbox.com/66/e5/LSNrsPl8_o.png" width="570"></p> 
<p>这篇博客介绍了<a href="https://blog.csdn.net/u010202588/article/details/96022278?utm_medium=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromMachineLearnPai2~default-1.baidujs&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromMachineLearnPai2~default-1.baidujs">5G/4G：空口帧结构之帧、子帧、时隙、符号、RB。</a></p> 
<p><img alt="" height="165" src="https://images2.imgbox.com/81/97/o2tWZ3lz_o.png" width="738"></p> 
<p><img alt="" height="575" src="https://images2.imgbox.com/4f/7a/kIL4Jbmu_o.png" width="625"></p> 
<p>该标准规定最小可分配频率单元由12个子载波组成，称为物力资源块（PRB）。因此SCS越小PRB越窄。</p> 
<p><img alt="" height="110" src="https://images2.imgbox.com/49/eb/I907P6H7_o.png" width="614"></p> 
<p><img alt="" height="932" src="https://images2.imgbox.com/a0/60/9YYZn4w9_o.png" width="849"></p> 
<p><img alt="" height="456" src="https://images2.imgbox.com/c6/df/5YsV0Qr1_o.png" width="770"></p> 
<p><em><strong>时隙是数据调度的最小单位</strong></em></p> 
<p>需要上下行时隙、帧配比，由于上下行配比主要由上下行业务，覆盖决定，建议全网配比一致。不同市场的帧配比建议应根据运营商的业务、策略、建网要求等综合决定</p> 
<p><img alt="" height="341" src="https://images2.imgbox.com/18/5a/gn1NTReK_o.png" width="650"></p> 
<h2>数据传输</h2> 
<h3>上行数据传输</h3> 
<p>上行和数据传输的相关物理信道有两个</p> 
<ul><li>PUCCH物理上行控制信道</li><li>PUSCH物理上行共享信道</li></ul> 
<p>在上行方向终端根据下行的PDCCH调度信息，进行上行数据的发送，由于无线传输和设备处理都需要时间，下行的PDCCH和上行的PUSCH之间存在时延。对于FDD模式，这个时延固定为4ms，四个子帧，对于TDD模式时延和上下行时隙的比例有关。</p> 
<p>上行重传请求FDD仍然为n+4的关系，TDD需要上下行配比相关，<br> 上行数据重传和下行不同，上行数据重传采用同步方式，每个PUSCH的前一次传输和下一次重传的位置关系是预先定义好的，对于FDD来说，前一次传输发生在上行子帧n，那么下一次重传确定发生在n+8上。上行之所以需要同步重传，是一位用户不能随便决定在那个位置发起传输，他的上下行时频西苑需要基站分配，如果用户自行确定会发生碰撞。<br> 终端在接入基站之前首先要通知接站并请求资源。在LTE中，这个过程是通过随机接入信道PRACH完成的，<br> 由于上行信道和向下行信道的同步方式不一样，这更加坚定了我们要进行单向时延测量的决心。<br> LTE 采用15kHZ固定的子载波间隔，而5G采用子载波间隔可以配置为15kHZ、30khz、60khz<br> 子载波间隔成倍的增加，符号长度成倍缩短，NR的调度周期相应缩短为1ms、0.5ms、0.25ms。</p> 
<p>上行同步机制，上行所有用户的数据信道到达接收基站的时间需要同步，用户之间才能保证正交，用户需要知道自己到达基站的传播时延t，提前时间t发送数据，这样才能保证OFDM对齐，这个时延是由基站测量的，主要过程如下，用户终端发送一个信号，基站根据这个信号测量用户终端到基站的传播时延，基站将这个时延通过下行链路传输给终端。用户通过物理随机接入信道PRACH与基站进行连接。</p> 
<p><img alt="" height="665" src="https://images2.imgbox.com/53/fb/YbIvZmWW_o.png" width="773"></p> 
<p>5G采用了上行免授权技术，用户上行调度方式可以分为动态调度方式和基于资源预留的免授权调度方式。基于动态调度方式，用户每次发送上行数据都需要先通过SR向基站申请上行资源，这个过程信令需要多次交互，耗时长，</p> 
<h3>下行数据传输</h3> 
<p>在下行方向上，在长度为1ms的子帧结构中，1~3个符号传送协调调度信息（PDCCH）剩余的符号传送数据信息（PDSCH）。调度信息和对应的数据信息可以位于同一个子帧内。在下行数据接收的时候，终端不断检测PDCCH和所携带的调度信息，发现某个协调信息属于自己，则按照协调调度信息，接收属于自己的数据。</p> 
<p>下行数据重传：如果某个用户接受错误，会反馈给基站NACK，基站会重传这个错误的包。下行重传采用的是异步重传的方式，即基站在获取前一次NACK之后再发起重传的下行子帧位置是不固定的，基站自行确定，但有一个限制，即最大HARQ进程数，当挂起的进程个数已经达到最大，基站必须重传某个传输错误的包，而不能发起新的数据包初传。如果没有这个限制，因为没有正确处理的数据包，用户周航段需要缓存这些数据包以便多次传输合并译码，所以会要求终端有很大的缓存空间，另一方面一个进程被挂起太久，会导致时延大。下行重传不是固定位置，用户如何知道下行子帧上的PDSCH是初传还是重传？有相应的编号进行标记。</p> 
<p>下行同步机制，由于不同用户相对于基站位置不同，信息到达的时间也有所不同，手机要想接收基站发送的数据，必须知道基站发送的信号到达手机时各个OFDM符号的起始位置是怎样的，正常想到同步大家可能想到的是GPS信号同步，但是通过GPS可以知道信号在几点发出，还是不知道到达会在什么时候，一种可行的办法是基站发送的信号里面会携带特殊的信号作为标记，手机接收到了这个信号就知道OFDM符号的起始位置了。基站会周期性的发送这个标记信号。这个特殊的标记对于LTE系统来说就是同步信道，分为主同步信道（PSCH）和辅同步信道（SSCH）</p> 
<p>UE侧有一个HARQ实体，用户管理一系列并行的HARQ进程，，每一个进程由其进程号来标识，</p> 
<p>PDSCH处理</p> 
<p><img alt="" height="714" src="https://images2.imgbox.com/0c/6d/8KfXV77p_o.png" width="750"></p> 
<p> </p> 
<p> </p> 
<h2>重传机制</h2> 
<p>LTE中存在两种级别的重传机制：</p> 
<p>MAC层的HARQ和RLC层的ARQ</p> 
<h2>时延关系</h2> 
<p>由以下几个部分组成<br> 终端和基站的数据包信令处理时间<br> 资源请求调度与反馈时延<br> 有些业务是以下行业务为主的有些是以上行业务为主，不同业务采用的数据帧结构配置也不同，例如由于5G面向eMBB场景主要是以下行业务为主，帧结构配置上行时隙占空比较少且分散，因此考虑利用FDD的上下行时隙连续的特点，可以有效避免TDD特有的等待时延TNR_TDD，达到降低时延的效果。</p> 
<p>URLLC使用了误码率极低的编码技术，可以忽略重传的时延影响，</p> 
<p>无线空口时延分析可以通过QXDM或者其他测试工具进行抓log分析。 </p> 
<p>LTE 无线网络中的三个重要指标RSRP、SINR、负荷，这些指标应该和网络时延有很强的相关性。</p> 
<p><img alt="" height="806" src="https://images2.imgbox.com/98/67/Kf7Kqxz9_o.png" width="1200"><br>  </p> 
<p> </p> 
<p><br>  </p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/9cc011feb241da81691a5d55672c237b/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">node.js之HTTP模块</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/eb39aaf4ac696eac08ec9ed9a75615f7/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">QT：只允许在自定义标题栏中鼠标拖动控制窗口位置</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>