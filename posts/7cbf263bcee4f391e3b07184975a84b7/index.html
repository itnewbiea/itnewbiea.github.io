<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【附源码】使用python&#43;pygame开发消消乐游戏 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【附源码】使用python&#43;pygame开发消消乐游戏" />
<meta property="og:description" content="使用python&#43;pygame开发消消乐游戏附完整源码 消消乐小游戏相信大家都玩过，大人小孩都喜欢玩的一款小游戏，那么基于程序是如何实现的呢？今天带大家，用python&#43;pygame来实现一下这个花里胡哨的消消乐小游戏功能，感兴趣的朋友一起看看吧
目录 一、环境要求二、游戏简介三、完整开发流程 1、项目主结构2、详细配置3、消消乐所有图形加载4、随机生成初始布局、相邻消除、自动下落5、随机初始化消消乐的主图内容 四、如何启动游戏呢？ 1、使用开发工具IDE启动2、命令行启动 效果是这样的 ↓ ↓ ↓
一、环境要求 windows系统，python3.6&#43; pip21&#43;
开发环境搭建地址
一起来学pygame吧 游戏开发30例（开篇词）——环境搭建&#43;游戏效果展示
安装游戏依赖模块
pip install pygame
二、游戏简介 消消乐应该大家都玩过，或者看过。这个花里胡哨的小游戏
用python的pygame来实现，很简单。
今天带大家，用Python来实现一下这个花里胡哨的小游戏。
三、完整开发流程 1、项目主结构 首先，先整理一下项目的主结构，其实看一下主结构，基本就清晰了
12345678910111213modules：相关定义的Python类位置``——game.py:主模块`` res：存放引用到的图片、音频等等``——audios:音频资源``——imgs:图片资源``——fonts：字体`` cfg.py：为主配置文件`` xxls.py：主程序文件`` requirements.txt：需要引入的python依赖包 2、详细配置 cfg.py
配置文件中，需要引入os模块，并且配置打开游戏的屏幕大小。
1234567891011121314&#39;&#39;&#39;主配置文件&#39;&#39;&#39;``import os`` &#39;&#39;&#39;屏幕设置大小&#39;&#39;&#39;`` SCREENSIZE ``= (``700`` , ``700``)``&#39;&#39;&#39;元素尺寸&#39;&#39;&#39;`` NUMGRID ``= 8`` GRIDSIZE ``= 64`` XMARGIN ``= (SCREENSIZE[``0`` ] ``- GRIDSIZE ``* NUMGRID) ``/``/ 2`` YMARGIN ``= (SCREENSIZE[``1`` ] ``- GRIDSIZE ``* NUMGRID) ``/``/ 2``&#39;&#39;&#39;获取根目录&#39;&#39;&#39;`` ROOTDIR ``= os." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/7cbf263bcee4f391e3b07184975a84b7/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-05T16:17:33+08:00" />
<meta property="article:modified_time" content="2024-01-05T16:17:33+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【附源码】使用python&#43;pygame开发消消乐游戏</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atelier-sulphurpool-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="pythonpygame_0"></a>使用python+pygame开发消消乐游戏附完整源码</h2> 
<p>消消乐小游戏相信大家都玩过，大人小孩都喜欢玩的一款小游戏，那么基于程序是如何实现的呢？今天带大家，用python+pygame来实现一下这个花里胡哨的消消乐小游戏功能，感兴趣的朋友一起看看吧</p> 
<h6><a id="_7"></a>目录</h6> 
<ul><li><a href="http://www.jb51.net/article/214615.htm#_label0" rel="nofollow">一、环境要求</a></li><li><a href="http://www.jb51.net/article/214615.htm#_label1" rel="nofollow">二、游戏简介</a></li><li><a href="http://www.jb51.net/article/214615.htm#_label2" rel="nofollow">三、完整开发流程</a></li><li> 
  <ul><li><a href="http://www.jb51.net/article/214615.htm#_lab2_2_0" rel="nofollow">1、项目主结构</a></li><li><a href="http://www.jb51.net/article/214615.htm#_lab2_2_1" rel="nofollow">2、详细配置</a></li><li><a href="http://www.jb51.net/article/214615.htm#_lab2_2_2" rel="nofollow">3、消消乐所有图形加载</a></li><li><a href="http://www.jb51.net/article/214615.htm#_lab2_2_3" rel="nofollow">4、随机生成初始布局、相邻消除、自动下落</a></li><li><a href="http://www.jb51.net/article/214615.htm#_lab2_2_4" rel="nofollow">5、随机初始化消消乐的主图内容</a></li></ul> </li><li><a href="http://www.jb51.net/article/214615.htm#_label3" rel="nofollow">四、如何启动游戏呢？</a></li><li> 
  <ul><li><a href="http://www.jb51.net/article/214615.htm#_lab2_3_5" rel="nofollow">1、使用开发工具IDE启动</a></li><li><a href="http://www.jb51.net/article/214615.htm#_lab2_3_6" rel="nofollow">2、命令行启动</a></li></ul> </li></ul> 
<p>效果是这样的 ↓ ↓ ↓</p> 
<p><img src="https://images2.imgbox.com/5a/62/ttWjyGqF_o.gif" alt=""></p> 
<p><a href="" rel="nofollow"></a></p> 
<h3><a id="_27"></a>一、环境要求</h3> 
<blockquote> 
 <p>windows系统，python3.6+ pip21+</p> 
</blockquote> 
<p><strong>开发环境搭建地址</strong></p> 
<p>一起来学pygame吧 游戏开发30例（开篇词）——环境搭建+游戏效果展示</p> 
<blockquote> 
 <p>安装游戏依赖模块<br> pip install pygame</p> 
</blockquote> 
<p><a href="" rel="nofollow"></a></p> 
<h3><a id="_40"></a>二、游戏简介</h3> 
<p>消消乐应该大家都玩过，或者看过。这个花里胡哨的小游戏</p> 
<p>用python的pygame来实现，很简单。</p> 
<p>今天带大家，用Python来实现一下这个花里胡哨的小游戏。</p> 
<p><a href="" rel="nofollow"></a></p> 
<h3><a id="_50"></a>三、完整开发流程</h3> 
<p><a href="" rel="nofollow"></a></p> 
<h4><a id="1_54"></a>1、项目主结构</h4> 
<p>首先，先整理一下项目的主结构，其实看一下主结构，基本就清晰了</p> 
<table><thead><tr><th>12345678910111213</th><th><code>modules：相关定义的Python类位置``——game.py:主模块`` </code> <code>res：存放引用到的图片、音频等等``——audios:音频资源``——imgs:图片资源``——fonts：字体`` </code> <code>cfg.py：为主配置文件`` </code> <code>xxls.py：主程序文件`` </code> <code>requirements.txt：需要引入的python依赖包</code></th></tr></thead></table> 
<p><img src="https://images2.imgbox.com/29/cc/werqyDmi_o.png" alt=""></p> 
<p><a href="" rel="nofollow"></a></p> 
<h4><a id="2_65"></a>2、详细配置</h4> 
<p><strong>cfg.py</strong></p> 
<p>配置文件中，需要引入os模块，并且配置打开游戏的屏幕大小。</p> 
<table><thead><tr><th>1234567891011121314</th><th><code>'''主配置文件'''``import</code> <code>os`` </code> <code>'''屏幕设置大小'''`` SCREENSIZE ``=</code> <code>(``700`` , ``700``)``'''元素尺寸'''`` NUMGRID ``=</code> <code>8`` GRIDSIZE ``=</code> <code>64`` XMARGIN ``=</code> <code>(SCREENSIZE[``0`` ] ``-</code> <code> GRIDSIZE ``*</code> <code> NUMGRID) ``/``/</code> <code>2`` YMARGIN ``=</code> <code>(SCREENSIZE[``1`` ] ``-</code> <code> GRIDSIZE ``*</code> <code> NUMGRID) ``/``/</code> <code>2``'''获取根目录'''`` ROOTDIR ``=</code> <code>os.getcwd()``'''FPS'''`` FPS ``=</code> <code>30</code></th></tr></thead></table> 
<p><a href="" rel="nofollow"></a></p> 
<h4><a id="3_76"></a>3、消消乐所有图形加载</h4> 
<p><strong>game.py：第一部分</strong></p> 
<p>把整个项目放在一整个game.py模块下了，把这个代码文件拆开解读一下。</p> 
<p>拼图精灵类：首先通过配置文件中，获取方块精灵的路径，加载到游戏里。</p> 
<p>定义move()移动模块的函数，这个移动比较简单。模块之间，只有相邻的可以相互移动。</p> 
<pre><code>
'''
Function:
    主游戏
'''
import sys
import time
import random
import pygame
  
  
'''拼图精灵类'''
class pacerSprite(pygame.sprite.Sprite):
    def __init__(self, img_path, size, position, downlen, **kwargs):
        pygame.sprite.Sprite.__init__(self)
        self.image = pygame.image.load(img_path)
        self.image = pygame.transform.smoothscale(self.image, size)
        self.rect = self.image.get_rect()
        self.rect.left, self.rect.top = position
        self.downlen = downlen
        self.target_x = position[0]
        self.target_y = position[1] + downlen
        self.type = img_path.split('/')[-1].split('.')[0]
        self.fixed = False
        self.speed_x = 9
        self.speed_y = 9
        self.direction = 'down'
    def move(self):
                #下移
        if self.direction == 'down':
            self.rect.top = min(self.target_y, self.rect.top+self.speed_y)
            if self.target_y == self.rect.top:
                self.fixed = True
                #上移
        elif self.direction == 'up':
            self.rect.top = max(self.target_y, self.rect.top-self.speed_y)
            if self.target_y == self.rect.top:
                self.fixed = True
                #左移
        elif self.direction == 'left':
            self.rect.left = max(self.target_x, self.rect.left-self.speed_x)
            if self.target_x == self.rect.left:
                self.fixed = True
                #右移
        elif self.direction == 'right':
            self.rect.left = min(self.target_x, self.rect.left+self.speed_x)
            if self.target_x == self.rect.left:
                self.fixed = True
    '''获取当前坐标'''
    def getPosition(self):
        return self.rect.left, self.rect.top
    '''设置星星坐标'''
    def setPosition(self, position):
        self.rect.left, self.rect.top = position

</code></pre> 
<h4><a id="4_144"></a>4、随机生成初始布局、相邻消除、自动下落</h4> 
<p><strong>game.py 第二部分</strong></p> 
<p>设置游戏主窗口启动的标题，设置启动游戏的主方法。</p> 
<pre><code>'''主游戏类'''
class pacerGame():
    def __init__(self, screen, sounds, font, pacer_imgs, cfg, **kwargs):
        self.info = 'pacer'
        self.screen = screen
        self.sounds = sounds
        self.font = font
        self.pacer_imgs = pacer_imgs
        self.cfg = cfg
        self.reset()
    '''开始游戏'''
    def start(self):
        clock = pygame.time.Clock()
        # 遍历整个游戏界面更新位置
        overall_moving = True
        # 指定某些对象个体更新位置
        individual_moving = False
        # 定义一些必要的变量
        pacer_selected_xy = None
        pacer_selected_xy2 = None
        swap_again = False
        add_score = 0
        add_score_showtimes = 10
        time_pre = int(time.time())
        # 游戏主循环
        while True:
            for event in pygame.event.get():
                if event.type == pygame.QUIT or (event.type == pygame.KEYUP and event.key == pygame.K_ESCAPE):
                    pygame.quit()
                    sys.exit()
                elif event.type == pygame.MOUSEBUTTONUP:
                    if (not overall_moving) and (not individual_moving) and (not add_score):
                        position = pygame.mouse.get_pos()
                        if pacer_selected_xy is None:
                            pacer_selected_xy = self.checkSelected(position)
                        else:
                            pacer_selected_xy2 = self.checkSelected(position)
                            if pacer_selected_xy2:
                                if self.swappacer(pacer_selected_xy, pacer_selected_xy2):
                                    individual_moving = True
                                    swap_again = False
                                else:
                                    pacer_selected_xy = None
            if overall_moving:
                overall_moving = not self.droppacers(0, 0)
                # 移动一次可能可以拼出多个3连块
                if not overall_moving:
                    res_match = self.isMatch()
                    add_score = self.removeMatched(res_match)
                    if add_score &gt; 0:
                        overall_moving = True
            if individual_moving:
                pacer1 = self.getpacerByPos(*pacer_selected_xy)
                pacer2 = self.getpacerByPos(*pacer_selected_xy2)
                pacer1.move()
                pacer2.move()
                if pacer1.fixed and pacer2.fixed:
                    res_match = self.isMatch()
                    if res_match[0] == 0 and not swap_again:
                        swap_again = True
                        self.swappacer(pacer_selected_xy, pacer_selected_xy2)
                        self.sounds['mismatch'].play()
                    else:
                        add_score = self.removeMatched(res_match)
                        overall_moving = True
                        individual_moving = False
                        pacer_selected_xy = None
                        pacer_selected_xy2 = None
            self.screen.fill((135, 206, 235))
            self.drawGrids()
            self.pacers_group.draw(self.screen)
            if pacer_selected_xy:
                self.drawBlock(self.getpacerByPos(*pacer_selected_xy).rect)
            if add_score:
                if add_score_showtimes == 10:
                    random.choice(self.sounds['match']).play()
                self.drawAddScore(add_score)
                add_score_showtimes -= 1
                if add_score_showtimes &lt; 1:
                    add_score_showtimes = 10
                    add_score = 0
            self.remaining_time -= (int(time.time()) - time_pre)
            time_pre = int(time.time())
            self.showRemainingTime()
            self.drawScore()
            if self.remaining_time &lt;= 0:
                return self.score
            pygame.display.update()
            clock.tick(self.cfg.FPS)
</code></pre> 
<h4><a id="5_242"></a>5、随机初始化消消乐的主图内容</h4> 
<p><strong>game.py 第三部分</strong></p> 
<p>详细注释，都写在代码里了。大家一定要看一遍，不要跑起来，就不管了哦</p> 
<pre><code>'''初始化'''
    def reset(self):
        # 随机生成各个块(即初始化游戏地图各个元素)
        while True:
            self.all_pacers = []
            self.pacers_group = pygame.sprite.Group()
            for x in range(self.cfg.NUMGRID):
                self.all_pacers.append([])
                for y in range(self.cfg.NUMGRID):
                    pacer = pacerSprite(img_path=random.choice(self.pacer_imgs), size=(self.cfg.GRIDSIZE, self.cfg.GRIDSIZE), position=[self.cfg.XMARGIN+x*self.cfg.GRIDSIZE, self.cfg.YMARGIN+y*self.cfg.GRIDSIZE-self.cfg.NUMGRID*self.cfg.GRIDSIZE], downlen=self.cfg.NUMGRID*self.cfg.GRIDSIZE)
                    self.all_pacers[x].append(pacer)
                    self.pacers_group.add(pacer)
            if self.isMatch()[0] == 0:
                break
        # 得分
        self.score = 0
        # 拼出一个的奖励
        self.reward = 10
        # 时间
        self.remaining_time = 300
    '''显示剩余时间'''
    def showRemainingTime(self):
        remaining_time_render = self.font.render('CountDown: %ss' % str(self.remaining_time), 1, (85, 65, 0))
        rect = remaining_time_render.get_rect()
        rect.left, rect.top = (self.cfg.SCREENSIZE[0]-201, 6)
        self.screen.blit(remaining_time_render, rect)
    '''显示得分'''
    def drawScore(self):
        score_render = self.font.render('SCORE:'+str(self.score), 1, (85, 65, 0))
        rect = score_render.get_rect()
        rect.left, rect.top = (10, 6)
        self.screen.blit(score_render, rect)
    '''显示加分'''
    def drawAddScore(self, add_score):
        score_render = self.font.render('+'+str(add_score), 1, (255, 100, 100))
        rect = score_render.get_rect()
        rect.left, rect.top = (250, 250)
        self.screen.blit(score_render, rect)
    '''生成新的拼图块'''
    def generateNewpacers(self, res_match):
        if res_match[0] == 1:
            start = res_match[2]
            while start &gt; -2:
                for each in [res_match[1], res_match[1]+1, res_match[1]+2]:
                    pacer = self.getpacerByPos(*[each, start])
                    if start == res_match[2]:
                        self.pacers_group.remove(pacer)
                        self.all_pacers[each][start] = None
                    elif start &gt;= 0:
                        pacer.target_y += self.cfg.GRIDSIZE
                        pacer.fixed = False
                        pacer.direction = 'down'
                        self.all_pacers[each][start+1] = pacer
                    else:
                        pacer = pacerSprite(img_path=random.choice(self.pacer_imgs), size=(self.cfg.GRIDSIZE, self.cfg.GRIDSIZE), position=[self.cfg.XMARGIN+each*self.cfg.GRIDSIZE, self.cfg.YMARGIN-self.cfg.GRIDSIZE], downlen=self.cfg.GRIDSIZE)
                        self.pacers_group.add(pacer)
                        self.all_pacers[each][start+1] = pacer
                start -= 1
        elif res_match[0] == 2:
            start = res_match[2]
            while start &gt; -4:
                if start == res_match[2]:
                    for each in range(0, 3):
                        pacer = self.getpacerByPos(*[res_match[1], start+each])
                        self.pacers_group.remove(pacer)
                        self.all_pacers[res_match[1]][start+each] = None
                elif start &gt;= 0:
                    pacer = self.getpacerByPos(*[res_match[1], start])
                    pacer.target_y += self.cfg.GRIDSIZE * 3
                    pacer.fixed = False
                    pacer.direction = 'down'
                    self.all_pacers[res_match[1]][start+3] = pacer
                else:
                    pacer = pacerSprite(img_path=random.choice(self.pacer_imgs), size=(self.cfg.GRIDSIZE, self.cfg.GRIDSIZE), position=[self.cfg.XMARGIN+res_match[1]*self.cfg.GRIDSIZE, self.cfg.YMARGIN+start*self.cfg.GRIDSIZE], downlen=self.cfg.GRIDSIZE*3)
                    self.pacers_group.add(pacer)
                    self.all_pacers[res_match[1]][start+3] = pacer
                start -= 1
    '''移除匹配的pacer'''
    def removeMatched(self, res_match):
        if res_match[0] &gt; 0:
            self.generateNewpacers(res_match)
            self.score += self.reward
            return self.reward
        return 0
    '''游戏界面的网格绘制'''
    def drawGrids(self):
        for x in range(self.cfg.NUMGRID):
            for y in range(self.cfg.NUMGRID):
                rect = pygame.Rect((self.cfg.XMARGIN+x*self.cfg.GRIDSIZE, self.cfg.YMARGIN+y*self.cfg.GRIDSIZE, self.cfg.GRIDSIZE, self.cfg.GRIDSIZE))
                self.drawBlock(rect, color=(0, 0, 255), size=1)
    '''画矩形block框'''
    def drawBlock(self, block, color=(255, 0, 255), size=4):
        pygame.draw.rect(self.screen, color, block, size)
    '''下落特效'''
    def droppacers(self, x, y):
        if not self.getpacerByPos(x, y).fixed:
            self.getpacerByPos(x, y).move()
        if x &lt; self.cfg.NUMGRID - 1:
            x += 1
            return self.droppacers(x, y)
        elif y &lt; self.cfg.NUMGRID - 1:
            x = 0
            y += 1
            return self.droppacers(x, y)
        else:
            return self.isFull()
    '''是否每个位置都有拼图块了'''
    def isFull(self):
        for x in range(self.cfg.NUMGRID):
            for y in range(self.cfg.NUMGRID):
                if not self.getpacerByPos(x, y).fixed:
                    return False
        return True
    '''检查有无拼图块被选中'''
    def checkSelected(self, position):
        for x in range(self.cfg.NUMGRID):
            for y in range(self.cfg.NUMGRID):
                if self.getpacerByPos(x, y).rect.collidepoint(*position):
                    return [x, y]
        return None
    '''是否有连续一样的三个块(无--返回0/水平--返回1/竖直--返回2)'''
    def isMatch(self):
        for x in range(self.cfg.NUMGRID):
            for y in range(self.cfg.NUMGRID):
                if x + 2 &lt; self.cfg.NUMGRID:
                    if self.getpacerByPos(x, y).type == self.getpacerByPos(x+1, y).type == self.getpacerByPos(x+2, y).type:
                        return [1, x, y]
                if y + 2 &lt; self.cfg.NUMGRID:
                    if self.getpacerByPos(x, y).type == self.getpacerByPos(x, y+1).type == self.getpacerByPos(x, y+2).type:
                        return [2, x, y]
        return [0, x, y]
    '''根据坐标获取对应位置的拼图对象'''
    def getpacerByPos(self, x, y):
        return self.all_pacers[x][y]
    '''交换拼图'''
    def swappacer(self, pacer1_pos, pacer2_pos):
        margin = pacer1_pos[0] - pacer2_pos[0] + pacer1_pos[1] - pacer2_pos[1]
        if abs(margin) != 1:
            return False
        pacer1 = self.getpacerByPos(*pacer1_pos)
        pacer2 = self.getpacerByPos(*pacer2_pos)
        if pacer1_pos[0] - pacer2_pos[0] == 1:
            pacer1.direction = 'left'
            pacer2.direction = 'right'
        elif pacer1_pos[0] - pacer2_pos[0] == -1:
            pacer2.direction = 'left'
            pacer1.direction = 'right'
        elif pacer1_pos[1] - pacer2_pos[1] == 1:
            pacer1.direction = 'up'
            pacer2.direction = 'down'
        elif pacer1_pos[1] - pacer2_pos[1] == -1:
            pacer2.direction = 'up'
            pacer1.direction = 'down'
        pacer1.target_x = pacer2.rect.left
        pacer1.target_y = pacer2.rect.top
        pacer1.fixed = False
        pacer2.target_x = pacer1.rect.left
        pacer2.target_y = pacer1.rect.top
        pacer2.fixed = False
        self.all_pacers[pacer2_pos[0]][pacer2_pos[1]] = pacer1
        self.all_pacers[pacer1_pos[0]][pacer1_pos[1]] = pacer2
        return True
    '''信息显示'''
    def __repr__(self):
        return self.info
</code></pre> 
<p>5、资源相关</p> 
<p>包括游戏背景音频、图片和字体设计</p> 
<blockquote> 
 <p>res主资源目录</p> 
 <p>audios：加载游戏背景音乐</p> 
 <p>fonts：记分牌相关字体</p> 
 <p>imgs：这里存放的是我们的各种小星星的图形，是关键了的哦。如果这个加载不了，</p> 
 <p>我们的消消乐 就没有任何图形了</p> 
</blockquote> 
<p>6、启动主程序</p> 
<p><strong>xxls.py</strong></p> 
<p>在主程序中，通过读取配置文件，引入项目资源：包括图片、音频等，并从我们的modules里引入所有我们的模块。</p> 
<pre><code>'''
Function:
    消消乐
'''
import os
import sys
import cfg
import pygame
from modules import *
  
  
'''主程序'''
def main():
    pygame.init()
    screen = pygame.display.set_mode(cfg.SCREENSIZE)
    pygame.display.set_caption('hacklex')
    # 加载背景音乐
    pygame.mixer.init()
    pygame.mixer.music.load(os.path.join(cfg.ROOTDIR, "res/audios/bg.mp3"))
    pygame.mixer.music.set_volume(0.6)
    pygame.mixer.music.play(-1)
    # 加载音效
    sounds = {}
    sounds['mismatch'] = pygame.mixer.Sound(os.path.join(cfg.ROOTDIR, 'res/audios/badswap.wav'))
    sounds['match'] = []
    for i in range(6):
        sounds['match'].append(pygame.mixer.Sound(os.path.join(cfg.ROOTDIR, 'res/audios/match%s.wav' % i)))
  
    # 字体显示
    font = pygame.font.Font(os.path.join(cfg.ROOTDIR, 'res/font/font.TTF'), 25)
    # 星星
    pacer_imgs = []
    for i in range(1, 8):
        pacer_imgs.append(os.path.join(cfg.ROOTDIR, 'res/imgs/pacer%s.png' % i))
    # 循环
    game = pacerGame(screen, sounds, font, pacer_imgs, cfg)
    while True:
        score = game.start()
        flag = False
        # 给出选择，玩家选择重玩或者退出
        while True:
            for event in pygame.event.get():
                if event.type == pygame.QUIT or (event.type == pygame.KEYUP and event.key == pygame.K_ESCAPE):
                    pygame.quit()
                    sys.exit()
                elif event.type == pygame.KEYUP and event.key == pygame.K_r:
                    flag = True
            if flag:
                break
            screen.fill((136, 207, 236))
            text0 = 'Final score: %s' % score
            text1 = 'Press &lt;R&gt; to restart the game.'
            text2 = 'Press &lt;Esc&gt; to quit the game.'
            y = 150
            for idx, text in enumerate([text0, text1, text2]):
                text_render = font.render(text, 1, (85, 65, 0))
                rect = text_render.get_rect()
                if idx == 0:
                    rect.left, rect.top = (223, y)
                elif idx == 1:
                    rect.left, rect.top = (133.5, y)
                else:
                    rect.left, rect.top = (126.5, y)
                y += 99
                screen.blit(text_render, rect)
            pygame.display.update()
        game.reset()
  
  
'''游戏运行'''
if __name__ == '__main__':
    main()
</code></pre> 
<h3><a id="_511"></a>四、如何启动游戏呢？</h3> 
<p><a href="" rel="nofollow"></a></p> 
<h4><a id="1IDE_515"></a>1、使用开发工具IDE启动</h4> 
<p>如果的开发工具IDE的环境</p> 
<p>例如：VScode、sublimeText、notepad+</p> 
<p>pycharm什么的配置了Python环境</p> 
<p>可以直接在工具中，运行该游戏。</p> 
<p><a href="" rel="nofollow"></a></p> 
<h4><a id="2_527"></a>2、命令行启动</h4> 
<p>如下图所示</p> 
<p><img src="https://images2.imgbox.com/63/49/9ZhLSqhA_o.gif" alt=""></p> 
<p>以上就是使用python开发消消乐游戏流程分析，附完整源码的详细内容。</p> 
<p>如果你对Python感兴趣，想要学习python，这里给大家分享一份<strong>Python全套学习资料</strong>，都是我自己学习时整理的，希望可以帮到你，一起加油！</p> 
<p>😝有需要的小伙伴，可以<mark>V扫描下方二维码免费领取</mark>🆓</p> 
<p>​<img src="https://images2.imgbox.com/94/0f/5Bb7CDSp_o.jpg"></p> 
<h3><a id="1_545"></a>1️⃣零基础入门</h3> 
<h4><a id="__547"></a>① 学习路线</h4> 
<p>对于从来没有接触过Python的同学，我们帮你准备了详细的<strong>学习成长路线图</strong>。可以说是<strong>最科学最系统的学习路线</strong>，你可以按照上面的知识点去找对应的学习资源，保证自己学得较为全面。<br> <img src="https://images2.imgbox.com/46/70/CX22Coex_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="__552"></a>② 路线对应学习视频</h4> 
<p>还有很多适合0基础入门的学习视频，有了这些视频，轻轻松松上手Python~<br> <img src="https://images2.imgbox.com/58/9d/GBSdupQw_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_557"></a>③练习题</h4> 
<p>每节视频课后，都有对应的练习题哦，可以检验学习成果哈哈！<br> <img src="https://images2.imgbox.com/51/9b/4WOsStBG_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="2Python_562"></a><strong>2️⃣国内外Python书籍、文档</strong></h3> 
<h4><a id="__564"></a>① 文档和书籍资料</h4> 
<p><img src="https://images2.imgbox.com/3a/82/jX7eM8O4_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="3Python_568"></a>3️⃣Python工具包+项目源码合集</h3> 
<h4><a id="Python_570"></a>①Python工具包</h4> 
<p>学习Python常用的开发软件都在这里了！每个都有详细的安装教程，保证你可以安装成功哦！<br> <img src="https://images2.imgbox.com/b5/74/gNvbKwB4_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="Python_575"></a>②Python实战案例</h4> 
<p>光学理论是没用的，要学会跟着一起敲代码，动手实操，才能将自己的所学运用到实际当中去，这时候可以搞点实战案例来学习。<strong>100+实战案例源码等你来拿！</strong><br> <img src="https://images2.imgbox.com/cc/dc/GiZQkz7K_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="Python_580"></a>③Python小游戏源码</h4> 
<p>如果觉得上面的实战案例有点枯燥，可以试试自己用Python编写小游戏，让你的学习过程中增添一点趣味！<br> <img src="https://images2.imgbox.com/ad/83/R07DaCJi_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="4Python_585"></a>4️⃣Python面试题</h3> 
<p>我们学会了Python之后，有了技能就可以出去找工作啦！下面这些面试题是都来自阿里、腾讯、字节等一线互联网大厂，并且有阿里大佬给出了权威的解答，刷完这一套面试资料相信大家都能找到满意的工作。<br> <img src="https://images2.imgbox.com/e7/75/d79Szune_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/af/a6/nM1rAu7T_o.png" alt="在这里插入图片描述"></p> 
<p>上述所有资料 ⚡️ ，朋友们如果有需要的，可以扫描下方👇👇👇二维码免费领取🆓<br> ​<img src="https://images2.imgbox.com/21/29/ZIfU8wDj_o.jpg"></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/5dfe3b3715945c2da3acf581edc21299/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Python快速入门教程</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/1b356ca0a578eec235311cf1eb776166/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">leetcode 93. 复原 IP 地址</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>