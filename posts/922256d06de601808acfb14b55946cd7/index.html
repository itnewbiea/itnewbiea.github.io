<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>正则匹配yyyy-mm-dd以及数字千分位详解 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="正则匹配yyyy-mm-dd以及数字千分位详解" />
<meta property="og:description" content="正则匹配yyyy-mm-dd以及数字千分位详解 一、yyyy-mm-dd1.被400整除，前两位是4的倍数，后两位是02.被4整除不能被100整除3.四位随机4.月&#43;日表示： yyyy-mm-dd答案为：二、数字千分位 一、yyyy-mm-dd 年：0000-9999 月：00-12
日：1、3、5、7、8、10、12 31-天 4、6、9、11 30-天 2 28-天 闰年29-天
我们分成三部分：
1部分是闰年-能被400整除 2月包括29天
2部分是闰年能被4整除但不能被100整除 2月包括29天
3部分是平年
1.被400整除，前两位是4的倍数，后两位是0 先看4的倍数：00不算
找规律
04 24 44
08 28 48
12 32 52
16 36 56
20 40 60 。。。。。。
可以看出个位及十位都是有规律的 0[48],1[26],2[048],3[26]
表达成正则为：/(0[48]|[2468][048]|[1357][26])00/ 不包含00
2.被4整除不能被100整除 100能被4整除，所以前两位可以是任何数,只要后面是4的倍数就行
可表示为：
/(\d\d(0[48]|[2468][048]|[1357][26]))/
3.四位随机 可表示为：
/\d{4}/
4.月&#43;日表示： 1、3、5、7、8、10、12 ：/(0[13578]|1[02])-(0[1-9]|1\d|2\d|31)/
4、6、9、11：/(0[469]|11)-(0[1-9]|1\d|2\d|30)/
2-28天：/02-(0[1-9]|1\d|2[0-8])/
2-29天：/02-(0[1-9]|1\d|2\d)/ （闰月）
合并表示：
润：
/((0[13578]|1[02])-(0[1-9]|1\d|2\d|31)|(0[469]|11)-(0[1-9]|1\d|2\d|30)|02-(0[1-9]|1\d|2\d))/
^润：
/(0[13578]|1[02])-(0[1-9]|1\d|2\d|31)|(0[469]|11)-(0[1-9]|1\d|2\d|30)|02-(0[1-9]|1\d|2[0-8])/
若不包含^与&amp;的话
合并的答案为：
400 &#43; 4 ^100 &#43; ^润(闰年的年用|合一起，月是一样的)" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/922256d06de601808acfb14b55946cd7/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-04-30T09:21:18+08:00" />
<meta property="article:modified_time" content="2022-04-30T09:21:18+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">正则匹配yyyy-mm-dd以及数字千分位详解</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>正则匹配yyyy-mm-dd以及数字千分位详解 </h4> 
 <ul><li><ul><li><a href="#yyyymmdd_1" rel="nofollow">一、yyyy-mm-dd</a></li><li><a href="#140040_11" rel="nofollow">1.被400整除，前两位是4的倍数，后两位是0</a></li><li><a href="#24100_23" rel="nofollow">2.被4整除不能被100整除</a></li><li><a href="#3_29" rel="nofollow">3.四位随机</a></li><li><a href="#4_33" rel="nofollow">4.月+日表示：</a></li></ul> 
  </li><li><a href="#yyyymmdd_58" rel="nofollow">yyyy-mm-dd答案为：</a></li><li><ul><li><a href="#_69" rel="nofollow">二、数字千分位</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h3><a id="yyyymmdd_1"></a>一、yyyy-mm-dd</h3> 
<p>年：0000-9999 月：00-12<br> 日：1、3、5、7、8、10、12 31-天 4、6、9、11 30-天 2 28-天 闰年29-天<br> 我们分成三部分：<br> 1部分是闰年-能被400整除 2月包括29天<br> 2部分是闰年能被4整除但不能被100整除 2月包括29天<br> 3部分是平年</p> 
<h3><a id="140040_11"></a>1.被400整除，前两位是4的倍数，后两位是0</h3> 
<p>先看4的倍数：00不算<br> 找规律<br> 04 24 44<br> 08 28 48<br> 12 32 52<br> 16 36 56<br> 20 40 60 。。。。。。<br> 可以看出个位及十位都是有规律的 0[48],1[26],2[048],3[26]<br> 表达成正则为：/(0[48]|[2468][048]|[1357][26])00/ 不包含00</p> 
<h3><a id="24100_23"></a>2.被4整除不能被100整除</h3> 
<p>100能被4整除，所以前两位可以是任何数,只要后面是4的倍数就行<br> 可表示为：<br> /(\d\d(0[48]|[2468][048]|[1357][26]))/</p> 
<h3><a id="3_29"></a>3.四位随机</h3> 
<p>可表示为：<br> /\d{4}/</p> 
<h3><a id="4_33"></a>4.月+日表示：</h3> 
<p>1、3、5、7、8、10、12 ：/(0[13578]|1[02])-(0[1-9]|1\d|2\d|31)/<br> 4、6、9、11：/(0[469]|11)-(0[1-9]|1\d|2\d|30)/<br> 2-28天：/02-(0[1-9]|1\d|2[0-8])/<br> 2-29天：/02-(0[1-9]|1\d|2\d)/ （闰月）<br> 合并表示：<br> 润：<br> /((0[13578]|1[02])-(0[1-9]|1\d|2\d|31)|(0[469]|11)-(0[1-9]|1\d|2\d|30)|02-(0[1-9]|1\d|2\d))/<br> ^润：<br> /(0[13578]|1[02])-(0[1-9]|1\d|2\d|31)|(0[469]|11)-(0[1-9]|1\d|2\d|30)|02-(0[1-9]|1\d|2[0-8])/<br> 若不包含^与&amp;的话<br> 合并的答案为：<br> 400 + 4 ^100 + ^润(闰年的年用|合一起，月是一样的)<br> /(<br> (((0[48]|[2468][048]|[1357][26])00 | \d\d(0[48]|[2468][048]|[1357][26]))-((0[13578]|1[02])-(0[1-9]|1\d|2\d|31)<br> |(0[469]|11)-(0[1-9]|1\d|2\d|30)|02-(0[1-9]|1\d|2\d))<br> |\d{4}-(0[13578]|1[02])-(0[1-9]|1\d|2\d|31)|(0[469]|11)-(0[1-9]|1\d|2\d|30)|02-(0[1-9]|1\d|2[0-8])<br> )/g<br> 去掉空格：<br> /(((0[48]|[2468][048]|[1357][26])00|\d\d(0[48]|[2468][048]|[1357][26]))-((0[13578]|1[02])-(0[1-9]|1\d|2\d|31)|(0[469]|11)-(0[1-9]|1\d|2\d|30)|02-(0[1-9]|1\d|2\d))|\d{4}-(0[13578]|1[02])-(0[1-9]|1\d|2\d|31)|(0[469]|11)-(0[1-9]|1\d|2\d|30)|02-(0[1-9]|1\d|2[0-8]))/g<br> 除//g外总长度为<strong>246</strong>个字符</p> 
<p>其实到这里还可以优化正则，再想想，闰年不就比平年多了一天，多了哪一天？</p> 
<h2><a id="yyyymmdd_58"></a>yyyy-mm-dd答案为：</h2> 
<p>/(<br> ((0[48]|[2468][048]|[1357][26])00|\d\d(0[48]|[2468][048]|[1357][26]))<br> -02-29<br> |<br> \d{4}-(0[13578]|1[02])-(0[1-9]|1\d|2\d|31)|(0[469]|11)-(0[1-9]|1\d|2\d|30)|02-(0[1-9]|1\d|2[0-8])<br> )/g<br> 去掉空格：<br> /(((0[48]|[2468][048]|[1357][26])00|\d\d(0[48]|[2468][048]|[1357][26]))-02-29|\d{4}-(0[13578]|1[02])-(0[1-9]|1\d|2\d|31)|(0[469]|11)-(0[1-9]|1\d|2\d|30)|02-(0[1-9]|1\d|2[0-8]))/g<br> 除//g外总长度为<strong>167</strong>个字符</p> 
<h3><a id="_69"></a>二、数字千分位</h3> 
<p>此题目我以前在自学网课时遇到过，当时老师说这是一些大厂的面试题，老师讲过后还留有一些印象，所以答起来有思路。<br> 审题：1234567890 1.234.567.890<br> 以前的解题思路是变数组、翻转、插入.、再翻转、变字符串<br> 现在的解题思路是：从前往后看，后数3的倍数位前面加一.<br> 正向预查(?=)是个好东西，它可以提前检测但不会匹配出来！具体看：<br> <a href="https://blog.csdn.net/u013908207/article/details/20472827">正向预查与反向预查</a><br> （正向预查内是不会被匹配出来的，其实就是在边界往后看，匹配的是边界，?=后跟着的是匹配条件）</p> 
<p>利用replace以及匹配的回溯引用$1。。。进行替换<br> replace函数第一个参数可以写正则表达式，replace第二个参数可以传字符串或者回调函数，利用$1。。。$9可以匹配到的匹配的值，可用match或在回调打印arguments。<br> <img src="https://images2.imgbox.com/90/76/Dm3ojDza_o.png" alt="在这里插入图片描述"></p> 
<p>可理解为参数1+条件g，参数2回调函数循环匹配该正则<br> 解题：<br> 正向预查内部预查三位，0或多位，而且最后面跟着结束符<br> /(\d{3})<em><span class="katex--inline">KaTeX parse error: Undefined control sequence: \d at position 15: / 加上正向预查 /(?=(\̲d̲{3})*</span>)/<br> 加上边界，以3位数为边界，前面要是2、1、0位则不匹配<br> /\d{3}(?=(\d{3})</em><span class="katex--inline">KaTeX parse error: Undefined control sequence: \d at position 58: …数循环匹配，正则可表示为： /\̲d̲{3}(?=(\d{3})*</span>)/g<br> ‘121123324113’.replace(/\d{3}(?=(\d{3})*$)/g, ($1)=&gt;‘.’+$1)<br> 到这里可以发现3的倍数位字符串，数首位也被匹配出来了<br> <img src="https://images2.imgbox.com/c7/f5/WPWLF0vH_o.png" alt="在这里插入图片描述"></p> 
<p>因为是非起始，所以不能由起始开始匹配<br> 所以最终答案是：<br> /(?!^)\d{3}(?=(\d{3})*$)/g</p> 
<p>‘1131231201’.replace(/(?!^)\d{3}(?=(\d{3})*$)/g, ($1)=&gt;‘.’+$1)<br> 前端小白一枚，由于公司培训出题，答题后自我感觉良好，所以发出来请各位大佬指正</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/7efd86c629ea993930baa95d91866b31/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">＜img＞ 的 title 和 alt 有什么区别</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/d74869bc074657381687a1b06e3f0594/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Lamp——mysql组复制协议（全同步机制）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>