<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>C语言结构体相关知识 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="C语言结构体相关知识" />
<meta property="og:description" content="本文的编译环境为 Visual Studio 2022
结构体 何为结构体？结构体变量声明全局声明局部声明隐式声明结构体重命名 结构体变量的四种初始化方式结构成员访问操作符结构体自引用结构体传参结构体内存对齐对齐规则内存对齐的意义 何为结构体？ 结构体是一种自定义类型，是多种数据类型的集合。它和数组很像，不过数组里面是存储单一类型的成员变量集合，而结构体里面可以放整形，浮点型，字符型，数组，指针等一系列不同数据类型的成员变量。
struct是定义结构体类型的关键字，下面这个就是结构体的基本形式：
struct S//(结构体名字可以自己定义) { //成员列表 int age; char name[20] ; float score; short class; }student;//变量列表 结构体变量声明 全局声明 声明一个全局的结构体变量 student，全局有效。
struct S { int age; char name[20]; float score; short class; }student; int main() { return 0; } 局部声明 声明一个局部的结构体变量 student,只在mian函数里有效。
int main() { struct S { int age; char name[20]; float score; int class; }student; return 0; } 隐式声明 结构体的隐式声明就是把结构体的名字给省略不写，但造成的后果就是结构体只能声明一次。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/cfd8b2aa448f9033a354962c1c8d0981/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-10-02T12:12:49+08:00" />
<meta property="article:modified_time" content="2023-10-02T12:12:49+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">C语言结构体相关知识</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>本文的编译环境为 Visual Studio 2022<br> </p> 
<div class="toc"> 
 <h4>结构体</h4> 
 <ul><li><a href="#_2" rel="nofollow">何为结构体？</a></li><li><a href="#_17" rel="nofollow">结构体变量声明</a></li><li><ul><li><a href="#_18" rel="nofollow">全局声明</a></li><li><a href="#_35" rel="nofollow">局部声明</a></li><li><a href="#_50" rel="nofollow">隐式声明</a></li><li><a href="#_66" rel="nofollow">结构体重命名</a></li></ul> 
  </li><li><a href="#_100" rel="nofollow">结构体变量的四种初始化方式</a></li><li><a href="#_169" rel="nofollow">结构成员访问操作符</a></li><li><a href="#_199" rel="nofollow">结构体自引用</a></li><li><a href="#_218" rel="nofollow">结构体传参</a></li><li><a href="#_247" rel="nofollow">结构体内存对齐</a></li><li><ul><li><a href="#_249" rel="nofollow">对齐规则</a></li><li><a href="#_256" rel="nofollow">内存对齐的意义</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="_2"></a>何为结构体？</h2> 
<p>结构体是一种自定义类型，是多种数据类型的集合。它和数组很像，不过数组里面是存储单一类型的成员变量集合，而结构体里面可以放整形，浮点型，字符型，数组，指针等一系列不同数据类型的成员变量。<br> struct是定义结构体类型的关键字，下面这个就是结构体的基本形式：</p> 
<pre><code class="prism language-c"><span class="token keyword">struct</span> <span class="token class-name">S</span><span class="token comment">//(结构体名字可以自己定义)</span>
<span class="token punctuation">{<!-- --></span>
  <span class="token comment">//成员列表</span>
	<span class="token keyword">int</span> age<span class="token punctuation">;</span>
	<span class="token keyword">char</span> name<span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">]</span> <span class="token punctuation">;</span>
	<span class="token keyword">float</span> score<span class="token punctuation">;</span>
	<span class="token keyword">short</span> class<span class="token punctuation">;</span> 
<span class="token punctuation">}</span>student<span class="token punctuation">;</span><span class="token comment">//变量列表</span>
</code></pre> 
<h2><a id="_17"></a>结构体变量声明</h2> 
<h3><a id="_18"></a>全局声明</h3> 
<p>声明一个全局的结构体变量 student，全局有效。</p> 
<pre><code class="prism language-c"><span class="token keyword">struct</span> <span class="token class-name">S</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> age<span class="token punctuation">;</span>
	<span class="token keyword">char</span> name<span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">float</span> score<span class="token punctuation">;</span>
	<span class="token keyword">short</span> class<span class="token punctuation">;</span>
<span class="token punctuation">}</span>student<span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="_35"></a>局部声明</h3> 
<p>声明一个局部的结构体变量 student,只在mian函数里有效。</p> 
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">struct</span> <span class="token class-name">S</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">int</span> age<span class="token punctuation">;</span>
		<span class="token keyword">char</span> name<span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token keyword">float</span> score<span class="token punctuation">;</span>
		<span class="token keyword">int</span> class<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>student<span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="_50"></a>隐式声明</h3> 
<p>结构体的隐式声明就是把结构体的名字给省略不写，但造成的后果就是结构体只能声明一次。</p> 
<pre><code class="prism language-c"><span class="token keyword">struct</span> <span class="token comment">//省略了结构体名</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> age<span class="token punctuation">;</span>
	<span class="token keyword">char</span> name<span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">float</span> score<span class="token punctuation">;</span>
	<span class="token keyword">int</span> class<span class="token punctuation">;</span>
<span class="token punctuation">}</span>student<span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="_66"></a>结构体重命名</h3> 
<p>结构体因为也是一种数据类型，所以自然也可以使用typedef，对其进行重命名,此时变量列表这里的student就变成了struct S的另一个名字，而不再是结构体变量。</p> 
<pre><code class="prism language-c"><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">S</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> age<span class="token punctuation">;</span>
	<span class="token keyword">char</span> name<span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">float</span> score<span class="token punctuation">;</span>
	<span class="token keyword">int</span> class<span class="token punctuation">;</span>
<span class="token punctuation">}</span>student<span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>大多的情况下为了简洁就把会把结构体变量名给省略，这样也是可行的。</p> 
<pre><code class="prism language-c"><span class="token keyword">typedef</span> <span class="token keyword">struct</span> 
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> age<span class="token punctuation">;</span>
	<span class="token keyword">char</span> name<span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">float</span> score<span class="token punctuation">;</span>
	<span class="token keyword">int</span> class<span class="token punctuation">;</span>
<span class="token punctuation">}</span>student<span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="_100"></a>结构体变量的四种初始化方式</h2> 
<p>一：</p> 
<pre><code class="prism language-c"><span class="token keyword">struct</span>  <span class="token class-name">S</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> age<span class="token punctuation">;</span>
	<span class="token keyword">char</span> name<span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">float</span> score<span class="token punctuation">;</span>
	<span class="token keyword">int</span> class<span class="token punctuation">;</span>
<span class="token punctuation">}</span>student <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">10</span><span class="token punctuation">,</span><span class="token string">"lisi"</span><span class="token punctuation">,</span><span class="token number">66.5</span><span class="token punctuation">,</span><span class="token number">208</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>二：</p> 
<pre><code class="prism language-c"><span class="token keyword">struct</span>  <span class="token class-name">S</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> age<span class="token punctuation">;</span>
	<span class="token keyword">char</span> name<span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">float</span> score<span class="token punctuation">;</span>
	<span class="token keyword">int</span> class<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">struct</span>  <span class="token class-name">S</span> student <span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token number">10</span><span class="token punctuation">,</span><span class="token string">"lisi"</span><span class="token punctuation">,</span><span class="token number">66.5</span><span class="token punctuation">,</span><span class="token number">208</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>三：</p> 
<pre><code class="prism language-c"><span class="token keyword">struct</span>  <span class="token class-name">S</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> age<span class="token punctuation">;</span>
	<span class="token keyword">char</span> name<span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">float</span> score<span class="token punctuation">;</span>
	<span class="token keyword">int</span> class<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">struct</span>  <span class="token class-name">S</span> student <span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">.</span>age<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token punctuation">.</span>score<span class="token operator">=</span><span class="token number">66.5</span><span class="token punctuation">,</span><span class="token punctuation">.</span>name<span class="token operator">=</span><span class="token string">"lisi"</span><span class="token punctuation">,</span><span class="token punctuation">.</span>class<span class="token operator">=</span><span class="token number">208</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>四：</p> 
<pre><code class="prism language-c"><span class="token keyword">struct</span>  <span class="token class-name">S</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> age<span class="token punctuation">;</span>
	<span class="token keyword">char</span> name<span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">float</span> score<span class="token punctuation">;</span>
	<span class="token keyword">int</span> class<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">struct</span>  <span class="token class-name">S</span> student<span class="token punctuation">;</span>
	student<span class="token punctuation">.</span>score <span class="token operator">=</span> <span class="token number">66.5</span><span class="token punctuation">;</span>
	student<span class="token punctuation">.</span>class <span class="token operator">=</span> <span class="token number">208</span><span class="token punctuation">;</span>
	student<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
	student<span class="token punctuation">.</span>name<span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">]</span> <span class="token operator">=</span><span class="token string">"lisi"</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="_169"></a>结构成员访问操作符</h2> 
<p>结构体变量.成员变量名<br> 结构体指针—&gt;成员变量名</p> 
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string.h&gt;</span></span>
<span class="token keyword">struct</span>  <span class="token class-name">S</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> age<span class="token punctuation">;</span>
	<span class="token keyword">char</span> name<span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">float</span> score<span class="token punctuation">;</span>
	<span class="token keyword">int</span> class<span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">struct</span>  <span class="token class-name">S</span> student<span class="token punctuation">;</span>
	<span class="token keyword">struct</span>  <span class="token class-name">S</span> <span class="token operator">*</span>p<span class="token operator">=</span><span class="token operator">&amp;</span>student<span class="token punctuation">;</span>
	p<span class="token operator">-&gt;</span>age <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
	p<span class="token operator">-&gt;</span>class <span class="token operator">=</span> <span class="token number">208</span><span class="token punctuation">;</span>
	<span class="token comment">//p-&gt;name = "lisi";//不能这样赋值</span>
	<span class="token function">strcpy</span><span class="token punctuation">(</span>p<span class="token operator">-&gt;</span>name<span class="token punctuation">,</span> <span class="token string">"lisi"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	p<span class="token operator">-&gt;</span>score <span class="token operator">=</span> <span class="token number">66.5</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s %d\n"</span><span class="token punctuation">,</span> p<span class="token operator">-&gt;</span>name<span class="token punctuation">,</span> p<span class="token operator">-&gt;</span>class<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">strcpy</span><span class="token punctuation">(</span>student<span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token string">"zhangsan"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	student<span class="token punctuation">.</span>class <span class="token operator">=</span> <span class="token number">315</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s %d\n"</span><span class="token punctuation">,</span> student<span class="token punctuation">.</span>name<span class="token punctuation">,</span> student<span class="token punctuation">.</span>class<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="_199"></a>结构体自引用</h2> 
<p>结构体的变量列表里，可以存放各种数据类型的成员变量，那是不是也可以存放结构体变量呢，答案是肯定的，不过有一定的注意事项。</p> 
<pre><code class="prism language-c"><span class="token keyword">struct</span>  <span class="token class-name">S</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> age<span class="token punctuation">;</span>
	<span class="token keyword">struct</span> <span class="token class-name">S</span> next<span class="token punctuation">;</span>
<span class="token punctuation">}</span>student  <span class="token punctuation">;</span>
</code></pre> 
<p>上面的这段自引用代码是不行的在编译的过程中会保错，因为无法求的这个结构体所占内存的大小。</p> 
<pre><code class="prism language-c"><span class="token keyword">struct</span>  <span class="token class-name">S</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> age<span class="token punctuation">;</span>
	<span class="token keyword">struct</span> <span class="token class-name">S</span> <span class="token operator">*</span>next<span class="token punctuation">;</span>
<span class="token punctuation">}</span>student  <span class="token punctuation">;</span>
</code></pre> 
<p>这样是可以的，指针的大小是固定的它只占4或8个字节。</p> 
<h2><a id="_218"></a>结构体传参</h2> 
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token keyword">struct</span>  <span class="token class-name">S</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> height<span class="token punctuation">;</span>
	<span class="token keyword">int</span> age<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">//传值</span>
<span class="token keyword">void</span> <span class="token function">print1</span><span class="token punctuation">(</span><span class="token keyword">struct</span> <span class="token class-name">S</span> ps<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> ps<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//传址</span>
<span class="token keyword">void</span> <span class="token function">print2</span><span class="token punctuation">(</span><span class="token keyword">struct</span> <span class="token class-name">S</span><span class="token operator">*</span> ps<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> ps<span class="token operator">-&gt;</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">struct</span>  <span class="token class-name">S</span> man <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">175</span><span class="token punctuation">,</span><span class="token punctuation">{<!-- --></span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">23</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">656</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token function">print1</span><span class="token punctuation">(</span>man<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//传值</span>
	<span class="token function">print2</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>man<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//传址</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>在结构体传参的时候推荐首选传址，因为传参的话，参数是会进行压栈操作的，会有一定的时间和空间的开销，要是传递的结构体过大，会导致参数在压栈是的系统开销较大，会导致系统性能下降。</p> 
<h2><a id="_247"></a>结构体内存对齐</h2> 
<p>在学会，怎么使用结构图后，我们还要学会怎么计算结构体的⼤⼩，这也是一个重要的知识点。</p> 
<h3><a id="_249"></a>对齐规则</h3> 
<p>1： 结构体的第⼀个成员对⻬到相对结构体变量起始位置偏移量为0的地址处<br> 2： 其他成员变量要对⻬到某个数字（对⻬数）的整数倍的地址处。<br> 对⻬数 = 编译器默认的⼀个对⻬数 与 该成员变量⼤⼩的较⼩值。<br> VS中默认的值为8<br> 3.：结构体总⼤⼩为最⼤对⻬数（结构体中每个成员变量都有⼀个对⻬数，所有对⻬数中最⼤的）的整数倍。<br> 4.：如果嵌套了结构体的情况，嵌套的结构体成员对⻬到⾃⼰的成员中最⼤对⻬数的整数倍处，结构体的整体⼤⼩就是所有最⼤对⻬数（含嵌套结构体中成员的对⻬数）的整数倍。</p> 
<h3><a id="_256"></a>内存对齐的意义</h3> 
<p>在C语言中存在内存对齐，主要是为了满足硬件的要求和提高数据访问的效率。具体来说，C语言中存在内存对齐的原因包括以下几点：</p> 
<ol><li>硬件要求：一些处理器对于特定类型的指令或数据有对齐的要求。未对齐的数据访问可能会导致硬件异常或错误。为了保证程序在不同的硬件平台上都能正常运行，C语言引入了内存对齐规则，使得数据满足硬件的对齐要求。</li><li>访问效率：现代计算机体系结构通常以字（word）为基本单位进行数据的读取和写入。当数据在内存中对齐时，CPU 可以一次性读取或写入与字宽度相符合的数据，这样可以提高数据访问的效率。相反，如果数据未对齐，CPU 可能需要多次访问内存来获取或写入数据，这降低了访问效率。</li><li>数据结构组织：在C语言中，我们可以使用结构体（struct）或联合体（union）来组织数据。为了提高存储空间的利用率和访问效率，C编译器会在结构体或联合体的成员之间插入填充字节，使得每个成员的起始地址都满足特定的对齐要求。<br> 总而言之，C语言中存在内存对齐的目的是为了满足硬件要求，提高数据访问效率和存储空间的利用率。编译器会根据特定的对齐规则对数据进行对齐处理，以便在不同的硬件平台上保证程序的正确性和性能。</li></ol>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/5a716c161948a2a980226e0be65261d7/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">人工智能和图搜索</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/3d531171c4864ee19fed59bd111a4ed2/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">win11用vmware 15.5pro虚拟机一开机直接蓝屏，以及 VMware Authorization Service服务重启的完美解决</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>