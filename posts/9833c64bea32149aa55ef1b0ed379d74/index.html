<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【计算机视觉】角点检测（Harris、SIFT） - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【计算机视觉】角点检测（Harris、SIFT）" />
<meta property="og:description" content="Harris 角点指的是窗口延任意方向移动，都有很大变化量的点。
用数学公式表示为：
E(u,v)反映的移动后窗口的差异，w(x,y)为每个像素的点权值，I(x&#43;u,y&#43;v)是移动的像素值，I(x,y)是移动前的像素值。
将E(u,v)进行泰勒展开，直接建立E(u,v)和u,v的联系
最终：
M称为二阶矩矩阵（second moment matrix）
若 互不影响：
假设 ：
只有在u方向上变化是E才会变，因此只有 都不为0时(x,y)才是角点。
若 相关可以通过正交化变成前面的形式：
就反映了点在某个方向上的变化率，之后当都很大时，该点才是角点。
为了减少计算可以用R来判定是否为角点
SIFT Harris角点检测不具有尺度不变性，窗口大小不同，响应的结果也不同。
所谓的尺度不变性，指的是提取器能够对不同的尺度下的同一个点，有比较大的响应值。
接下来，介绍的SIFT就是具有尺度不变性的特征提取算法。
在边缘提取的时候，用高斯一阶导对信号进行卷积，响应值最大的就是边界。
如果用高斯二阶导对信号进行卷积，0点就是边界点（二阶导等于0的点，对应一阶导的极值点）如果用高斯二阶导在不同的信号上进行卷积，当信号宽度与高斯滤波核匹配的时候，就能得到绝对值最大的信号，这样就建立了尺度和滤波核之间的联系。
用不同的Laplacian对同一个信号进行卷积的时候，随着的增大，响应值会越来越不明显。
因为作为分母，越来越大，卷积后的信号值就会越来越小 ，对于一阶偏导需要对卷积后的信号补偿，对于二阶偏导需要对卷积后的信息补偿 ，将响应值固定在一个尺度上。
补偿之后，就能用反映尺度
二维Laplacian高斯卷积核如下图所示：
当半径值正好与Laplacian为0的值匹配上的时候，响应值最大
假设这个圆是二进制的，简单来说就是找到一个合适的laplacian卷积核，卷积之后使得laplacian卷积核中小于0的部分权值为0，laplacian大于0的部分权值为1。
找到合适的laplacian卷积核，它的与信号半径有对应关系
SIFT使用的是DoG模版（两个高斯模版的差分），拥有和Laplacian类似的特性
一般而言，随着的增大，窗口也会变大，Laplacian每一次都会在原图进行卷积，卷积的成本就会增大。而DoG是利用高斯卷积核来做的，可以通过对较小的卷积核卷积得到较大的卷积核，减小卷积成本。
在找合适的尺度空间的时候，会进行非极大值抑制，只有当该点是27（上下两个尺度18个，当前尺度9个）个领接点中的极值时，认为该点为特征点，因此，有效DoG 个数为S时，总共的DoG个数为S&#43;2(首尾不能构成三个尺度空间)。
每一个Octave表示对GuassianSpace缩小1/2后卷积，当我们需要更大的尺度的时候，需要跟大的sigma，意味着更大的卷积核更多的计算。SIFT算法中，将这样操作可以转换为，将图像缩小1/2，得到结果后将响应的sigma放大2倍，这样减少了计算的同时也得到了更大的尺度空间。
K的取值同样也很讲究， ，s为有效DoG个数。
K这样取值的好处是，对应高斯空间来说，只要将倒数第三图下采样2倍就能得到下一个Octave的第一个图，对于DoG空间来说，当前最后一个有效DoG的sigma与下一个Octave的第一个有效DoG的sigma是连续的（如图所示）" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/9833c64bea32149aa55ef1b0ed379d74/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-12-28T21:40:02+08:00" />
<meta property="article:modified_time" content="2023-12-28T21:40:02+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【计算机视觉】角点检测（Harris、SIFT）</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2>Harris</h2> 
<p>角点指的是窗口延任意方向移动，都有很大变化量的点。</p> 
<p><img alt="" height="529" src="https://images2.imgbox.com/82/e5/93EEbbE3_o.png" width="1200"></p> 
<p>用数学公式表示为：</p> 
<p><img alt="" height="97" src="https://images2.imgbox.com/61/85/CProMcIN_o.png" width="583"></p> 
<p>E(u,v)反映的移动后窗口的差异，w(x,y)为每个像素的点权值，I(x+u,y+v)是移动的像素值，I(x,y)是移动前的像素值。</p> 
<p><img alt="" height="491" src="https://images2.imgbox.com/16/bc/EeUXdijW_o.png" width="1130"></p> 
<p>将E(u,v)进行泰勒展开，直接建立E(u,v)和u,v的联系</p> 
<p><img alt="" height="101" src="https://images2.imgbox.com/50/a5/BSSfvP4v_o.png" width="760"></p> 
<p><img alt="" height="513" src="https://images2.imgbox.com/c8/d0/0Td97Pfu_o.png" width="907"></p> 
<p>最终：</p> 
<p><img alt="" height="242" src="https://images2.imgbox.com/89/09/QQjit0ht_o.png" width="703"></p> 
<p>M称为二阶矩矩阵（second moment matrix）</p> 
<p>若 <img alt="I_x,I_y" src="https://images2.imgbox.com/e7/6e/9bQSCQ9T_o.png"> 互不影响：</p> 
<p><img alt="M=\begin{bmatrix} \lambda _1 &amp; 0\\0 &amp; \lambda_2 \end{bmatrix}" src="https://images2.imgbox.com/af/02/YxWQh72O_o.png"></p> 
<p>假设 <img alt="\lambda 2 = 0" class="mathcode" src="https://images2.imgbox.com/d2/de/eYyaqGNk_o.png">：</p> 
<p><img alt="" height="75" src="https://images2.imgbox.com/a0/79/fMg2dys7_o.png" width="428"></p> 
<p>只有在u方向上变化是E才会变，因此只有 <img alt="\lambda 1, \lambda 2" class="mathcode" src="https://images2.imgbox.com/65/73/LTf4OT2I_o.png"> 都不为0时(x,y)才是角点。</p> 
<p>若<img alt="I_x,I_y" src="https://images2.imgbox.com/e1/09/p6EvtDZ3_o.png"> 相关可以通过正交化变成前面的形式：</p> 
<p><img alt="M = \begin{bmatrix} a &amp;c \\c &amp; d \end{bmatrix}= R^{-1}\begin{bmatrix} \lambda_1 &amp;0 \\ 0&amp;\lambda_2 \end{bmatrix}R= R^{T}\begin{bmatrix} \lambda_1 &amp;0 \\ 0&amp;\lambda_2 \end{bmatrix}R" src="https://images2.imgbox.com/73/10/Lm2OCgXG_o.png"></p> 
<p><img alt="\lambda_1,\lambda_2" src="https://images2.imgbox.com/a2/03/T6VTFSCL_o.png">就反映了点在某个方向上的变化率，之后当<img alt="\lambda_1,\lambda_2" src="https://images2.imgbox.com/e6/ab/xcNsPTVE_o.png">都很大时，该点才是角点。</p> 
<p><img alt="" height="698" src="https://images2.imgbox.com/c2/53/WPQ05Sjd_o.png" width="1135"></p> 
<p>为了减少计算可以用R来判定是否为角点</p> 
<p><img alt="" height="732" src="https://images2.imgbox.com/de/f9/EjQrzq5d_o.png" width="1184"></p> 
<h2>SIFT</h2> 
<p>Harris角点检测不具有尺度不变性，窗口大小不同，响应的结果也不同。</p> 
<p><img alt="" height="493" src="https://images2.imgbox.com/fd/60/LmXKKM3I_o.png" width="879"></p> 
<p>所谓的尺度不变性，指的是提取器能够对不同的尺度下的同一个点，有比较大的响应值。</p> 
<p><img alt="" height="486" src="https://images2.imgbox.com/5d/1c/DGHXeI7O_o.png" width="882"></p> 
<p>接下来，介绍的SIFT就是具有尺度不变性的特征提取算法。</p> 
<p></p> 
<p>在边缘提取的时候，用高斯一阶导对信号进行卷积，响应值最大的就是边界。<img alt="" height="658" src="https://images2.imgbox.com/ec/f7/44HjBtO4_o.png" width="1200"></p> 
<p>如果用高斯二阶导对信号进行卷积，0点就是边界点（二阶导等于0的点，对应一阶导的极值点）<img alt="" height="688" src="https://images2.imgbox.com/82/69/CZmhFx4B_o.png" width="1200">如果用高斯二阶导在不同的信号上进行卷积，当信号宽度与高斯滤波核匹配的时候，就能得到绝对值最大的信号，这样就建立了尺度和滤波核之间的联系。<img alt="" height="406" src="https://images2.imgbox.com/8d/2c/nM8ZpBWK_o.png" width="1200"></p> 
<p>用不同的Laplacian对同一个信号进行卷积的时候，随着<img alt="\sigma" src="https://images2.imgbox.com/8c/e9/eusfPVtA_o.png">的增大，响应值会越来越不明显。<img alt="" height="435" src="https://images2.imgbox.com/19/5d/am4eRehc_o.png" width="1200"></p> 
<p>因为<img alt="\sigma" src="https://images2.imgbox.com/bd/37/YqwQFnL2_o.png">作为分母，<img alt="\sigma" src="https://images2.imgbox.com/c1/e1/Upu1UbC0_o.png">越来越大，卷积后的信号值就会越来越小 ，对于一阶偏导需要对卷积后的信号补偿<img alt="\sigma" src="https://images2.imgbox.com/56/96/RzR0m6Zw_o.png">，对于二阶偏导需要对卷积后的信息补偿<img alt="\sigma ^2" src="https://images2.imgbox.com/95/60/rYeetZPJ_o.png"> ，将响应值固定在一个尺度上。</p> 
<p><img alt="" height="495" src="https://images2.imgbox.com/28/bd/u9Dgb1St_o.png" width="786"></p> 
<p>补偿之后，就能用<img alt="\sigma" src="https://images2.imgbox.com/ec/86/acL6Ag2i_o.png">反映尺度<img alt="" height="717" src="https://images2.imgbox.com/d9/29/jQLBGcgr_o.png" width="1200"></p> 
<p>二维Laplacian高斯卷积核如下图所示：<img alt="" height="604" src="https://images2.imgbox.com/1a/d0/4MqhKnw1_o.png" width="1069"></p> 
<p>当半径值正好与Laplacian为0的值匹配上的时候，响应值最大<img alt="" height="303" src="https://images2.imgbox.com/c3/eb/AqhYyahg_o.png" width="894"></p> 
<p>假设这个圆是二进制的，简单来说就是找到一个合适的laplacian卷积核，卷积之后使得laplacian卷积核中小于0的部分权值为0，laplacian大于0的部分权值为1。<img alt="" height="389" src="https://images2.imgbox.com/2a/42/tH6J3czP_o.png" width="1200"></p> 
<p>找到合适的laplacian卷积核，它的<img alt="\sigma" class="mathcode" src="https://images2.imgbox.com/30/c9/06U0KFoa_o.png">与信号半径有对应关系</p> 
<p><img alt="" height="131" src="https://images2.imgbox.com/e7/e9/RotaToGE_o.png" width="1033"></p> 
<p>SIFT使用的是DoG模版（两个高斯模版的差分），拥有和Laplacian类似的特性</p> 
<p><img alt="" height="391" src="https://images2.imgbox.com/4d/7c/YeUMRd9W_o.png" width="1080"></p> 
<p>一般而言，随着<img alt="\sigma" src="https://images2.imgbox.com/2c/0d/FIqNFUNg_o.png">的增大，窗口也会变大，Laplacian每一次都会在原图进行卷积，卷积的成本就会增大。而DoG是利用高斯卷积核来做的，可以通过对较小<img alt="\sigma" src="https://images2.imgbox.com/90/26/EcVb8pKV_o.png">的卷积核卷积得到较大<img alt="\sigma" src="https://images2.imgbox.com/0a/2e/l8IoDcGE_o.png">的卷积核，减小卷积成本。</p> 
<p><img alt="" height="357" src="https://images2.imgbox.com/62/ca/iPmbDZ5W_o.png" width="1171"></p> 
<p><img alt="" height="568" src="https://images2.imgbox.com/e0/5e/0rYRMvme_o.png" width="1149"></p> 
<p>在找合适的尺度空间的时候，会进行非极大值抑制，只有当该点是27（上下两个尺度18个，当前尺度9个）个领接点中的极值时，认为该点为特征点，因此，有效DoG 个数为S时，总共的DoG个数为S+2(首尾不能构成三个尺度空间)。</p> 
<p><img alt="" height="409" src="https://images2.imgbox.com/45/aa/0KazvkLd_o.png" width="529"></p> 
<p>每一个Octave表示对GuassianSpace缩小1/2后卷积，当我们需要更大的尺度的时候，需要跟大的sigma，意味着更大的卷积核更多的计算。SIFT算法中，将这样操作可以转换为，将图像缩小1/2，得到结果后将响应的sigma放大2倍，这样减少了计算的同时也得到了更大的尺度空间。</p> 
<p><img alt="" height="688" src="https://images2.imgbox.com/4f/e2/a9HeVusP_o.png" width="1200"></p> 
<p>K的取值同样也很讲究，<img alt="k=2^{1/s}" class="mathcode" src="https://images2.imgbox.com/e3/0a/4AWjTPWl_o.png"> ，s为有效DoG个数。</p> 
<p>K这样取值的好处是，对应高斯空间来说，只要将倒数第三图下采样2倍就能得到下一个Octave的第一个图，对于DoG空间来说，当前最后一个有效DoG的sigma与下一个Octave的第一个有效DoG的sigma是连续的（如图所示）</p> 
<p><img alt="" height="639" src="https://images2.imgbox.com/0e/ad/c3K2TMkZ_o.png" width="1200"></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/6784b544c036e64f5ae861c3a65a6238/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">案例237:基于微信小程序的医院挂号预约系统</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/fad5e145be86c140cb0a90569933d0e9/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">在Oracle数据库中，你可以使用LENGTH和LENGTHB函数来判断一个字符串是否包含中文。</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>