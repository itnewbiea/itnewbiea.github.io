<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>CommonJS模块和ES6模块的区别 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="CommonJS模块和ES6模块的区别" />
<meta property="og:description" content="CommonJS
1.对于基本数据类型，属于复制。即会被模块缓存。同时，在另一个模块可以对该模块输出的变量重新赋值。
2.对于复杂数据类型，属于浅拷贝。由于两个模块引用的对象指向同一个内存空间，因此对该模块的值做修改时会影响另一个模块。
3.当使用require命令加载某个模块时，就会运行整个模块的代码。
4.当使用require命令加载同一个模块时，不会再执行该模块，而是取到缓存之中的值。也就是说，CommonJS模块无论加载多少次，都只会在第一次加载时运行一次，以后再加载，就返回第一次运行的结果，除非手动清除系统缓存。
5.循环加载时，属于加载时执行。即脚本代码在require的时候，就会全部执行。一旦出现某个模块被&#34;循环加载&#34;，就只输出已经执行的部分，还未执行的部分不会输出。
ES6模块
1.ES6模块中的值属于【动态只读引用】。
2.对于只读来说，即不允许修改引入变量的值，import的变量是只读的，不论是基本数据类型还是复杂数据类型。当模块遇到import命令时，就会生成一个只读引用。等到脚本真正执行时，再根据这个只读引用，到被加载的那个模块里面去取值。
3.对于动态来说，原始值发生变化，import加载的值也会发生变化。不论是基本数据类型还是复杂数据类型。
4.循环加载时，ES6模块是动态引用。只要两个模块之间存在某个引用，代码就能够执行。
上面说了一些重要区别。现在举一些例子来说明每一点吧
CommonJS
对于基本数据类型，属于复制。即会被模块缓存。同时，在另一个模块可以对该模块输出的变量重新赋值。
// b.js let count = 1 let plusCount = () =&gt; { count&#43;&#43; } setTimeout(() =&gt; { console.log(&#39;b.js-1&#39;, count) }, 1000) module.exports = { count, plusCount } // a.js let mod = require(&#39;./b.js&#39;) console.log(&#39;a.js-1&#39;, mod.count) mod.plusCount() console.log(&#39;a.js-2&#39;, mod.count) setTimeout(() =&gt; { mod.count = 3 console.log(&#39;a.js-3&#39;, mod.count) }, 2000) node a.js a.js-1 1 a.js-2 1 b.js-1 2 // 1秒后 a." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/9ba2823b1eb8cf18d0fb02e743c18d78/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-08-19T16:43:23+08:00" />
<meta property="article:modified_time" content="2019-08-19T16:43:23+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">CommonJS模块和ES6模块的区别</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night-eighties">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><strong>CommonJS</strong><br> 1.对于基本数据类型，属于复制。即会被模块缓存。同时，在另一个模块可以对该模块输出的变量重新赋值。<br> 2.对于复杂数据类型，属于浅拷贝。由于两个模块引用的对象指向同一个内存空间，因此对该模块的值做修改时会影响另一个模块。<br> 3.当使用require命令加载某个模块时，就会运行整个模块的代码。<br> 4.当使用require命令加载同一个模块时，不会再执行该模块，而是取到缓存之中的值。也就是说，CommonJS模块无论加载多少次，都只会在第一次加载时运行一次，以后再加载，就返回第一次运行的结果，除非手动清除系统缓存。<br> 5.循环加载时，属于加载时执行。即脚本代码在require的时候，就会全部执行。一旦出现某个模块被"循环加载"，就只输出已经执行的部分，还未执行的部分不会输出。<br> <strong>ES6模块</strong><br> 1.ES6模块中的值属于【动态只读引用】。<br> 2.对于只读来说，即不允许修改引入变量的值，import的变量是只读的，不论是基本数据类型还是复杂数据类型。当模块遇到import命令时，就会生成一个只读引用。等到脚本真正执行时，再根据这个只读引用，到被加载的那个模块里面去取值。<br> 3.对于动态来说，原始值发生变化，import加载的值也会发生变化。不论是基本数据类型还是复杂数据类型。<br> 4.循环加载时，ES6模块是动态引用。只要两个模块之间存在某个引用，代码就能够执行。<br> 上面说了一些重要区别。现在举一些例子来说明每一点吧</p> 
<p><strong>CommonJS</strong><br> 对于基本数据类型，属于复制。即会被模块缓存。同时，在另一个模块可以对该模块输出的变量重新赋值。</p> 
<pre><code class="prism language-js"><span class="token comment">// b.js</span>
<span class="token keyword">let</span> count <span class="token operator">=</span> <span class="token number">1</span>
<span class="token keyword">let</span> <span class="token function-variable function">plusCount</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
  count<span class="token operator">++</span>
<span class="token punctuation">}</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'b.js-1'</span><span class="token punctuation">,</span> count<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
  count<span class="token punctuation">,</span>
  plusCount
<span class="token punctuation">}</span>

<span class="token comment">// a.js</span>
<span class="token keyword">let</span> mod <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./b.js'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'a.js-1'</span><span class="token punctuation">,</span> mod<span class="token punctuation">.</span>count<span class="token punctuation">)</span>
mod<span class="token punctuation">.</span><span class="token function">plusCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'a.js-2'</span><span class="token punctuation">,</span> mod<span class="token punctuation">.</span>count<span class="token punctuation">)</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    mod<span class="token punctuation">.</span>count <span class="token operator">=</span> <span class="token number">3</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'a.js-3'</span><span class="token punctuation">,</span> mod<span class="token punctuation">.</span>count<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span>

node a<span class="token punctuation">.</span>js
a<span class="token punctuation">.</span>js<span class="token operator">-</span><span class="token number">1</span> <span class="token number">1</span>
a<span class="token punctuation">.</span>js<span class="token operator">-</span><span class="token number">2</span> <span class="token number">1</span>
b<span class="token punctuation">.</span>js<span class="token operator">-</span><span class="token number">1</span> <span class="token number">2</span>  <span class="token comment">// 1秒后</span>
a<span class="token punctuation">.</span>js<span class="token operator">-</span><span class="token number">3</span> <span class="token number">3</span>  <span class="token comment">// 2秒后</span>
</code></pre> 
<p>以上代码可以看出，b模块export的count变量，是一个复制行为。在plusCount方法调用之后，a模块中的count不受影响。同时，可以在b模块中更改a模块中的值。如果希望能够同步代码，可以export出去一个getter。</p> 
<pre><code class="prism language-js"><span class="token comment">// 其他代码相同</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">get</span> <span class="token function">count</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> count
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plusCount
<span class="token punctuation">}</span>

node a<span class="token punctuation">.</span>js
a<span class="token punctuation">.</span>js<span class="token operator">-</span><span class="token number">1</span> <span class="token number">1</span>
a<span class="token punctuation">.</span>js<span class="token operator">-</span><span class="token number">2</span> <span class="token number">1</span>
b<span class="token punctuation">.</span>js<span class="token operator">-</span><span class="token number">1</span> <span class="token number">2</span>  <span class="token comment">// 1秒后</span>
a<span class="token punctuation">.</span>js<span class="token operator">-</span><span class="token number">3</span> <span class="token number">2</span>  <span class="token comment">// 2秒后， 由于没有定义setter，因此无法对值进行设置。所以还是返回2`</span>
</code></pre> 
<p>1.对于复杂数据类型，属于浅拷贝。由于两个模块引用的对象指向同一个内存空间，因此对该模块的值做修改时会影响另一个模块。</p> 
<pre><code class="prism language-js"><span class="token comment">// b.js</span>
<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
  count<span class="token punctuation">:</span> <span class="token number">1</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> <span class="token function-variable function">plusCount</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
  obj<span class="token punctuation">.</span>count<span class="token operator">++</span>
<span class="token punctuation">}</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'b.js-1'</span><span class="token punctuation">,</span> obj<span class="token punctuation">.</span>count<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'b.js-2'</span><span class="token punctuation">,</span> obj<span class="token punctuation">.</span>count<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
  obj<span class="token punctuation">,</span>
  plusCount
<span class="token punctuation">}</span>

<span class="token comment">// a.js</span>
<span class="token keyword">var</span> mod <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./b.js'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'a.js-1'</span><span class="token punctuation">,</span> mod<span class="token punctuation">.</span>obj<span class="token punctuation">.</span>count<span class="token punctuation">)</span>
mod<span class="token punctuation">.</span><span class="token function">plusCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'a.js-2'</span><span class="token punctuation">,</span> mod<span class="token punctuation">.</span>obj<span class="token punctuation">.</span>count<span class="token punctuation">)</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
  mod<span class="token punctuation">.</span>obj<span class="token punctuation">.</span>count <span class="token operator">=</span> <span class="token number">3</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'a.js-3'</span><span class="token punctuation">,</span> mod<span class="token punctuation">.</span>obj<span class="token punctuation">.</span>count<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span>

node a<span class="token punctuation">.</span>js
a<span class="token punctuation">.</span>js<span class="token operator">-</span><span class="token number">1</span> <span class="token number">1</span>
a<span class="token punctuation">.</span>js<span class="token operator">-</span><span class="token number">2</span> <span class="token number">2</span>
b<span class="token punctuation">.</span>js<span class="token operator">-</span><span class="token number">1</span> <span class="token number">2</span>
a<span class="token punctuation">.</span>js<span class="token operator">-</span><span class="token number">3</span> <span class="token number">3</span>
b<span class="token punctuation">.</span>js<span class="token operator">-</span><span class="token number">2</span> <span class="token number">3</span>
</code></pre> 
<p>2.以上代码可以看出，对于对象来说属于浅拷贝。当执行a模块时，首先打印obj.count的值为1，然后通过plusCount方法，再次打印时为2。接着在a模块修改count的值为3，此时在b模块的值也为3。</p> 
<p>3.当使用require命令加载某个模块时，就会运行整个模块的代码。</p> 
<p>4.当使用require命令加载同一个模块时，不会再执行该模块，而是取到缓存之中的值。也就是说，CommonJS模块无论加载多少次，都只会在第一次加载时运行一次，以后再加载，就返回第一次运行的结果，除非手动清除系统缓存。</p> 
<p>5.循环加载时，属于加载时执行。即脚本代码在require的时候，就会全部执行。一旦出现某个模块被"循环加载"，就只输出已经执行的部分，还未执行的部分不会输出。</p> 
<pre><code class="prism language-js"><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span>可以使用同一个例子说明

<span class="token comment">// b.js</span>
exports<span class="token punctuation">.</span>done <span class="token operator">=</span> <span class="token boolean">false</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./a.js'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'b.js-1'</span><span class="token punctuation">,</span> a<span class="token punctuation">.</span>done<span class="token punctuation">)</span>
exports<span class="token punctuation">.</span>done <span class="token operator">=</span> <span class="token boolean">true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'b.js-2'</span><span class="token punctuation">,</span> <span class="token string">'执行完毕'</span><span class="token punctuation">)</span>

<span class="token comment">// a.js</span>
exports<span class="token punctuation">.</span>done <span class="token operator">=</span> <span class="token boolean">false</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./b.js'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'a.js-1'</span><span class="token punctuation">,</span> b<span class="token punctuation">.</span>done<span class="token punctuation">)</span>
exports<span class="token punctuation">.</span>done <span class="token operator">=</span> <span class="token boolean">true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'a.js-2'</span><span class="token punctuation">,</span> <span class="token string">'执行完毕'</span><span class="token punctuation">)</span>

<span class="token comment">// c.js</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./a.js'</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./b.js'</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'c.js-1'</span><span class="token punctuation">,</span> <span class="token string">'执行完毕'</span><span class="token punctuation">,</span> a<span class="token punctuation">.</span>done<span class="token punctuation">,</span> b<span class="token punctuation">.</span>done<span class="token punctuation">)</span>

node c<span class="token punctuation">.</span>js
b<span class="token punctuation">.</span>js<span class="token operator">-</span><span class="token number">1</span> <span class="token boolean">false</span>
b<span class="token punctuation">.</span>js<span class="token operator">-</span><span class="token number">2</span> 执行完毕
a<span class="token punctuation">.</span>js<span class="token operator">-</span><span class="token number">1</span> <span class="token boolean">true</span>
a<span class="token punctuation">.</span>js<span class="token operator">-</span><span class="token number">2</span> 执行完毕
c<span class="token punctuation">.</span>js<span class="token operator">-</span><span class="token number">1</span> 执行完毕 <span class="token boolean">true</span> <span class="token boolean">true</span>
</code></pre> 
<p>仔细说明一下整个过程。</p> 
<p>1.在Node.js中执行c模块。此时遇到require关键字，执行a.js中所有代码。<br> 2.在a模块中exports之后，通过require引入了b模块，执行b模块的代码。<br> 3.在b模块中exports之后，又require引入了a模块，此时执行a模块的代码。<br> 4.a模块只执行exports.done = false这条语句。<br> 5.回到b模块，打印b.js-1, exports, b.js-2。b模块执行完毕。<br> 6.回到a模块，接着打印a.js-1, exports, b.js-2。a模块执行完毕<br> 7.回到c模块，接着执行require，需要引入b模块。由于在a模块中已经引入过了，所以直接就可以输出值了。<br> 8.结束。<br> 从以上结果和分析过程可以看出，当遇到require命令时，会执行对应的模块代码。当循环引用时，有可能只输出某模块代码的一部分。当引用同一个模块时，不会再次加载，而是获取缓存。</p> 
<p><strong>ES6模块</strong><br> 1.es6模块中的值属于【动态只读引用】。只说明一下复杂数据类型。<br> 2.对于只读来说，即不允许修改引入变量的值，import的变量是只读的，不论是基本数据类型还是复杂数据类型。当模块遇到import命令时，就会生成一个只读引用。等到脚本真正执行时，再根据这个只读引用，到被加载的那个模块里面去取值。<br> 3.对于动态来说，原始值发生变化，import加载的值也会发生变化。不论是基本数据类型还是复杂数据类型。</p> 
<pre><code class="prism language-js"><span class="token comment">// b.js</span>
<span class="token keyword">export</span> <span class="token keyword">let</span> counter <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
  count<span class="token punctuation">:</span> <span class="token number">1</span>
<span class="token punctuation">}</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'b.js-1'</span><span class="token punctuation">,</span> counter<span class="token punctuation">.</span>count<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>

<span class="token comment">// a.js</span>
<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> counter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./b.js'</span>
counter <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'a.js-1'</span><span class="token punctuation">,</span> counter<span class="token punctuation">)</span>

<span class="token comment">// Syntax Error: "counter" is read-only</span>
</code></pre> 
<p>虽然不能将counter重新赋值一个新的对象，但是可以给对象添加属性和方法。此时不会报错。这种行为类型与关键字const的用法。</p> 
<pre><code class="prism language-js"><span class="token comment">// a.js</span>
<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> counter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./b.js'</span>
counter<span class="token punctuation">.</span>count<span class="token operator">++</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>counter<span class="token punctuation">)</span>

<span class="token comment">// 2</span>
</code></pre> 
<p>1.循环加载时，ES6模块是动态引用。只要两个模块之间存在某个引用，代码就能够执行。</p> 
<pre><code class="prism language-js"><span class="token comment">// b.js</span>
<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span>foo<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./a.js'</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'bar'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0.5</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// a.js</span>
<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span>bar<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./b.js'</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'执行完毕'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

babel<span class="token operator">-</span>node a<span class="token punctuation">.</span>js
foo
bar
执行完毕

<span class="token comment">// 执行结果也有可能是</span>
foo
bar
foo
bar
执行完毕
执行完毕
</code></pre> 
<p>由于在两个模块之间都存在引用。因此能够正常执行。</p> 
<p>以上以上。对ES6 module和CommonJSmodule有不了解的同学可以参考一下以下的文章哈</p> 
<p><a href="https://www.cnblogs.com/unclekeith/p/7137047.html" rel="nofollow">ES6 module</a></p> 
<p><a href="http://es6.ruanyifeng.com/#docs/module" rel="nofollow">module的语法</a></p> 
<p><a href="http://es6.ruanyifeng.com/#docs/module-loader" rel="nofollow">module的加载实现</a></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/02fdc0348de5a4c35cc8df13e8e572aa/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">iOS 12.4 越狱 unc0ver 已经支持</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/800290e572c264e8042b5ccb610c3e87/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">请求报错net::ERR_ABORTED 404 (Not Found)，并且报跨域</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>