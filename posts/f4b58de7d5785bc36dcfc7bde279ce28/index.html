<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Serverless 2021 最新调查报告 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Serverless 2021 最新调查报告" />
<meta property="og:description" content="数据更新于 2021年 5月，数据来源于国外 DATADOG 的调查报告
近两年以来 Serverless 已经获得了极大的关注，从云原生初创公司到大型公司。借助于 Serverless，开发团队可以更专注得将想法推向市场化，只需为他们的使用量付费即可，不必关心相关基础设施。
在这份调查报告中，我们调查了数千家公司运行的数百万个函数，以了解 Serverless 在生产环境中的实际使用情况。
其中 Serverless 应用场景广泛，从短任务到面向用户的应用程序。AWS Lambda 是最成熟，使用最广泛的 Faas 产品，同时也可以看到 Azure Functions 和 Google Cloud Functions 的使用率也增长惊人。当前 Serverless 的生态系统已经不局限于 Faas，还包括其他数十种服务，可以帮助开发者更快得构建应用。四分之一的 Amazon CloudFront( CDN 产品)用户已经接受了 Serverless 边缘计算，同时也有不少组织开始利用 AWS Step Functions 用来管理各种分布式应用。
Lambda 函数的调用频率是两年前的 3.5 倍 AWS Lambda 通过构建高度可扩展的应用程序使开发人员可以更快地进行创新，无需担心基础设施。如今，团队不仅在试验 Serverless 产品，而且 将其作为其软件系统的关键部分。事实上，我们的研究表明，自 2019 年以来一直在使用 Lambda 的公司已经显著增加了 Lambda 的使用率。平均而言，在 2021年初，函数每天被调用的频率是两年前的 3.5 倍。此外，在同一组 Lambda 用户中，每个组织的 Lambda 函数 平均每天运行 900 小时。
Azure Functions 和 Google Cloud Functions 势头强劲 AWS Lambda 率先发起了 Serverless 热潮，但并不是唯一的游戏参与者。Azure Functions 和 Google Cloud Functions 在各自的云平台中的使用率都在增长。在过去的一年中，运行 Azure Functions 的 Azure 的组织的份额从 20% 攀升至 36%。在 Google Cloud 上，近四分之一的组织现在使用 Cloud Functions。尽管 Cloud Functions 是推出的三个 FaaS 产品中的最后一个，但 Serverless 在 Google Cloud 中并不是一个新概念——云平台早在 2008 年就推出了 Google App Engine，这是它的第一个完全无服务器的计算服务。但今天，我们看到了势头的转变转向谷歌较新的无服务器产品，即 Cloud Functions 和 Cloud Run。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/f4b58de7d5785bc36dcfc7bde279ce28/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-08-28T23:33:00+08:00" />
<meta property="article:modified_time" content="2021-08-28T23:33:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Serverless 2021 最新调查报告</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <blockquote> 
 <p>数据更新于 2021年 5月，数据来源于国外 DATADOG 的调查报告</p> 
</blockquote> 
<p>近两年以来 <code>Serverless</code> 已经获得了极大的关注，从云原生初创公司到大型公司。借助于 <code>Serverless</code>，开发团队可以更专注得将想法推向市场化，只需为他们的使用量付费即可，不必关心相关基础设施。</p> 
<p>在这份调查报告中，我们调查了数千家公司运行的数百万个函数，以了解 <code>Serverless</code> 在生产环境中的实际使用情况。</p> 
<p>其中 <code>Serverless</code> 应用场景广泛，从短任务到面向用户的应用程序。<code>AWS Lambda</code> 是最成熟，使用最广泛的 <code>Faas</code> 产品，同时也可以看到 <code>Azure Functions</code> 和 <code>Google Cloud Functions</code> 的使用率也增长惊人。当前 <code>Serverless</code> 的生态系统已经不局限于 <code>Faas</code>，还包括其他数十种服务，可以帮助开发者更快得构建应用。四分之一的 <code>Amazon CloudFront</code>( <code>CDN</code> 产品)用户已经接受了 <code>Serverless</code> 边缘计算，同时也有不少组织开始利用 <code>AWS Step Functions</code> 用来管理各种分布式应用。</p> 
<p><img src="https://images2.imgbox.com/10/cd/KPANWXA0_o.png" alt="图片"></p> 
<h4><a id="Lambda__35__12"></a>Lambda 函数的调用频率是两年前的 3.5 倍</h4> 
<p><code>AWS Lambda</code> 通过构建高度可扩展的应用程序使开发人员可以更快地进行创新，无需担心基础设施。如今，团队不仅在试验 <code>Serverless</code> 产品，而且 将其作为其软件系统的关键部分。事实上，我们的研究表明，自 2019 年以来一直在使用 <code>Lambda</code> 的公司已经显著增加了 <code>Lambda</code> 的使用率。平均而言，在 2021年初，函数每天被调用的频率是两年前的 3.5 倍。此外，在同一组 <code>Lambda</code> 用户中，每个组织的 <code>Lambda</code> 函数 平均每天运行 900 小时。</p> 
<p><img src="https://images2.imgbox.com/6e/38/PdsCGy7i_o.png" alt="图片"></p> 
<p><img src="https://images2.imgbox.com/6f/60/T5tMm1Mn_o.png" alt="图片"></p> 
<h4><a id="Azure_Functions__Google_Cloud_Functions__20"></a><code>Azure Functions</code> 和 <code>Google Cloud Functions</code> 势头强劲</h4> 
<p><code>AWS Lambda</code> 率先发起了 <code>Serverless</code> 热潮，但并不是唯一的游戏参与者。<code>Azure Functions</code> 和 <code>Google Cloud Functions</code> 在各自的云平台中的使用率都在增长。在过去的一年中，运行 <code>Azure Functions</code> 的 <code>Azure</code> 的组织的份额从 <code>20%</code> 攀升至 <code>36%</code>。在 <code>Google Cloud</code> 上，近四分之一的组织现在使用 <code>Cloud Functions</code>。尽管 <code>Cloud Functions</code> 是推出的三个 <code>FaaS</code> 产品中的最后一个，但 <code>Serverless</code> 在 <code>Google Cloud</code> 中并不是一个新概念——云平台早在 2008 年就推出了 <code>Google App Engine</code>，这是它的第一个完全无服务器的计算服务。但今天，我们看到了势头的转变转向谷歌较新的无服务器产品，即 <code>Cloud Functions</code> 和 <code>Cloud Run</code>。</p> 
<p><img src="https://images2.imgbox.com/2d/5c/DvFOZtJV_o.png" alt="图片"></p> 
<p><img src="https://images2.imgbox.com/e4/59/JTjfK3BX_o.png" alt="图片"></p> 
<h4><a id="_Lambda__28"></a>现在的 Lambda 调用的持续时间比去年短很多</h4> 
<p><code>Lambda</code> 越来越多地用于为需要低延迟的、面向客户的应用程序提供支持。2020 年，<code>Lambda</code> 调用时长的中位数仅用了 60 毫秒——大约是前一年的一半。一种可能的解释是，越来越多的组织正在遵循 <code>Lambda</code> 最佳实践优化代码，代码逻辑高度专注于特定的工作负载，这有助于缩短调用的持续时间。我们还注意到延迟分布的尾部很长，这表明 <code>Lambda</code> 不仅支持短期工作，而且还支持计算密集型用例。</p> 
<p><img src="https://images2.imgbox.com/7f/52/JRmcVRyN_o.png" alt="图片"></p> 
<p><img src="https://images2.imgbox.com/fb/6e/U3XcVv2M_o.png" alt="图片"></p> 
<h4><a id="Step_Functions__Web__36"></a>Step Functions 提供从 Web 应用程序到数据通道的连接</h4> 
<p>使用 <code>AWS Step Functions</code> ，开发人员能够构建涉及多个 <code>Lambda</code> 函数和 AWS 服务的事件驱动工作流。在这些工作流中，<code>Step Functions</code> 涵盖错误处理、重试、超时和其他应用程序逻辑，这有助于在 <code>Serverless</code> 应用程序扩展时降低操作复杂性。我们的研究表明，平均 <code>Step Functions</code> 工作流包含 4 个 <code>Lambda</code> 函数，而且这个数字正逐年增长。</p> 
<p><code>Step Functions</code> 提供两种类型的工作流：标准的 (<code>Standard</code>) 和快速的 (<code>Express</code>)。我们注意到超过 <code>40%</code> 的工作流在一分钟内执行，这表明组织很可能使用快速 (<code>Express</code>) 工作流来支持大容量事件处理工作负载。但是，尽管许多工作流执行得很快，但还是有些工作流会运行一天多。事实上，最长的 <code>Step Function</code> 工作流运行时间超过一周。例如，<code>Step Functions</code> 工作流可以包括在 <code>Amazon ECS</code> 或 EC2 实例上运行的活动工作线程，这意味着它们的执行时间可以长于 Lambda 函数，毕竟 Lambda 函数的超时时间为 15 分钟。这使 Step Functions 能够支持大量用例，从延迟敏感应用（如 Web 请求处理）到复杂、长时间运行的任务（如大数据处理作业）。</p> 
<p><img src="https://images2.imgbox.com/31/86/Ei27q82p_o.png" alt="图片"></p> 
<p><img src="https://images2.imgbox.com/7c/39/DRNs6UMx_o.png" alt="图片"></p> 
<h4><a id="_CloudFront_AWS_CDN__Serverless__46"></a>四分之一的 CloudFront (AWS CDN) 用户已接受 Serverless 边缘计算</h4> 
<p>边缘计算由于能快速地就近处理数据引起了广泛的关注。如今，四分之一的使用 <code>Amazon CloudFront</code> 的组织正在利用 <code>Lambda@Edge</code> 为其全球用户提供更加个性化的体验。例如，<code>Lambda@Edge</code> 可以根据用户特征（例如设备类型）动态转换图像，或为不同版本的 <code>Web</code> 应用程序提供 <code>A/B</code> 测试。</p> 
<p><img src="https://images2.imgbox.com/34/d5/LB0q2lGQ_o.png" alt="图片"></p> 
<p>通过利用 <code>CloudFront</code> 的边缘站点网络，<code>Lambda@Edge</code> 能够在更接近用户的地方执行计算，而无需重新修改源站服务器的配置。我们的数据显示，<code>67%</code> 的 <code>Lambda@Edge</code> 函数在 <code>20</code> 毫秒内运行，这表明无服务器边缘计算具有巨大的潜力，可以以最小的开销应对延迟敏感的应用程序。随着这项技术的成熟，相信越来越多的人会利用边缘 <code>Serverless</code> 改善他们的应用体验。</p> 
<p><img src="https://images2.imgbox.com/97/78/KzE68k8l_o.png" alt="图片"></p> 
<p><img src="https://images2.imgbox.com/7f/2f/CpdMllsR_o.png" alt="图片"></p> 
<h4><a id="_Serverless__58"></a>使用 Serverless 的组织在预留函数并发量上花费超支</h4> 
<p>当 <code>Lambda</code> 函数在一段时间不活动后被调用时，它会经历短暂的执行延迟，称为冷启动。对于需要毫秒级响应时间的应用程序，冷启动可能无法启动。2019 年底，<code>AWS</code> 引入了预置并发量，通过保持执行环境初始化并准备好响应请求来帮助 <code>Lambda</code> 用户降低冷启动时间。</p> 
<p>根据我们的数据，为 <code>Lambda</code> 函数配置合适的预置并发量，仍然是用户面临的挑战。超过一半的函数使用不到 80% 的预置并发量。同时，超过 40% 的函数使用了它们的全部预置并发量，这意味着它们可能仍然会遇到冷启动，需要更多的预置并发量。<code>Application Auto Scaling</code> 提供了一种解决这些问题的方法，允许用户根据利用率自动扩展预置并发量。</p> 
<p><img src="https://images2.imgbox.com/df/8b/HK8HBY47_o.png" alt="图片"></p> 
<p>我们还看到，配置预置并发量的场景主要是 <code>Java</code> 和 <code>.NET Core</code> 函数，由于这些运行时的固有特性，这些函数的启动时间通常比 <code>Python</code> 或 <code>Node.js</code> 慢。例如，<code>Java</code> 需要初始化其虚拟机 (<code>JVM</code>) 并将大量类加载到内存中，然后才能执行用户代码。</p> 
<p><img src="https://images2.imgbox.com/ab/c3/8JvrnS6u_o.png" alt="图片"></p> 
<h4><a id="Serverless_Framework__AWS_CloudFormationAWS__Lambda__70"></a>Serverless Framework 是使用 AWS CloudFormation（AWS 应用编排服务）部署 Lambda 应用程序的主要方式</h4> 
<p>随着 Serverless 应用数量的递增，手动部署 Lambda 函数和其他资源将会变得越来越麻烦。AWS CloudFormation 允许开发人员在集合（称为堆栈）中预置 AWS 基础设施和第三方资源。并且它也是 AWS 云开发工具包 (CDK)、AWS Serverless 应用程序模型 (SAM) 和Serverless Framework等框架的底层部署机制。</p> 
<p>在这些工具中，开源的 <code>Serverless Framework</code> <code>[https://github.com/serverless/serverless]</code>是迄今为止最受欢迎的——如今，超过 <code>90%</code> 的组织都在使用它，这些组织使用 <code>AWS CloudFormation</code> 管理其 <code>Serverless</code> 资源。除了 <code>Serverless Framework</code>，<code>19%</code> 的组织使用 <code>vanilla CloudFormation</code>，<code>18%</code> 使用 <code>AWS CDK</code>，<code>13%</code> 使用 <code>AWS SAM</code>。请注意，由于每个组织可能使用多个部署工具，因此这些值加起来超过 <code>100%</code>。</p> 
<p><img src="https://images2.imgbox.com/9f/af/MpAUi8e8_o.png" alt="图片"></p> 
<p>在 <code>Serverless</code> 应用程序中使用的 <code>CloudFormation</code> 堆栈中，<code>65%</code> 仅包含一个 <code>Lambda</code> 函数。此外，超过一半的函数（<code>57%</code>）未使用 <code>CloudFormation</code> 部署。这表明，许多组织仍处于使用自动化部署和 <code>Serverless</code> 工作流的早期阶段。但是，正如 <code>Kubernetes</code> 和 <code>Amazon Elastic Container Service</code> (<code>ECS</code>) 等容器编排平台对于管理大量容器变得越来越重要一样，预计基础设施即代码工具（应用编排类服务）在大规模部署 <code>Serverless</code> 应用程序方面将扮演更重要的角色。</p> 
<p><img src="https://images2.imgbox.com/ce/5a/swx57TcE_o.png" alt="图片"></p> 
<p><img src="https://images2.imgbox.com/36/28/VtbpSauv_o.png" alt="图片"></p> 
<h4><a id="Python__Lambda__84"></a>Python 是最流行的 Lambda 运行时，尤其是在大型环境中</h4> 
<p>自 2018 年以来，<code>Lambda</code> 已提供了对六种运行时的支持：<code>Node.js</code>、<code>Python</code>、<code>Java</code>、<code>Go</code>、.<code>NET Core</code> 和 <code>Ruby</code>。然而，<code>Python</code> 和 <code>Node.js</code> 仍然在 Lambda 用户中占据主导地位，占函数总数的 90%。所有部署的 Lambda 中有 58% 运行 Python（比一年前上升 11 个百分点），另有 31% 运行 Node.js（与去年相比下降 8 个百分点）。</p> 
<p><img src="https://images2.imgbox.com/e3/44/q6PCDf5x_o.png" alt="图片"></p> 
<p>当我们检查按环境大小划分的运行时使用情况时，出现了一个有趣的趋势：虽然 <code>Node.js</code>在小型 <code>AWS</code> 环境中超越 <code>Python</code>，但随着环境规模的增长，<code>Python</code> 变得越来越流行。在使用 <code>AWS</code> 服务最多的组织中，<code>Python</code> 的使用频率是 <code>Node.js</code> 的四倍。</p> 
<p><img src="https://images2.imgbox.com/ba/30/WwvZNDZr_o.png" alt="图片"></p> 
<p>截至 2021 年 3 月，最受欢迎的 <code>runtime</code> 依次是：</p> 
<ul><li> <p><code>Python 3.x</code></p> </li><li> <p><code>Node.js 12</code></p> </li><li> <p><code>Node.js 10</code></p> </li><li> <p><code>Python 2.7</code></p> </li><li> <p><code>Java 8</code></p> </li><li> <p><code>Go 1.x</code></p> </li><li> <p><code>.NET Core 2.1</code></p> </li><li> <p><code>.NET Core 3.1</code></p> </li></ul> 
<p>在用 <code>Python</code> 编写的函数中，超过 <code>90%</code> 使用 <code>Python 3</code>，其中 <code>Python 3.8</code> 是最受欢迎的版本。随着用户越来越多地迁移到 <code>Python 3</code>，<code>Python 2.7</code> 比一年前下降了 <code>25</code> 个百分点。<code>AWS</code> 已宣布计划在 2021 年 5 月放弃对 <code>Node.js 10</code> 的支持，因此我们预计 <code>Node.js 12</code> 和新增的 <code>Node.js 14</code> 的使用量也会增加。尽管 <code>Java 11</code> 自 2019 年末就已经开始支持了，但是 <code>Java 8</code> 在 <code>Lambda</code> 用户中的受欢迎程度是 <code>Java 11</code> 的五倍之多。</p> 
<p>原文：https://www.datadoghq.com/state-of-serverless/</p> 
<p>翻译：zhaojizhuang</p> 
<p><strong>关注公众号：Knative，了解更多 Serverless 、Knative，云原生相关资讯</strong></p> 
<blockquote> 
 <p>关注公众号，回复 “<strong>进群</strong>”，即可进群与众多云原生 Serverless 技术大佬探讨技术，探讨人生。</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/00/e8/ZSG3R9Xi_o.png" alt="Knative"></p> 
<p><strong>Knative</strong></p> 
<p>定期发布 Knative 最新资讯，汇集 云原生 &amp; Serverless 技术最全内容，用户最佳落地实践。关注 Knative 趋势，更关注你落地实践中的遇到的困惑和问题。</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/551d3de3884ddd056e27ab509ea71ada/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Type-c PD QC AFC取电芯片 快充芯片LDR6328S</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/67877ec086da1cfa3408ee17597ddb38/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">SpringBoot 之使用 Jackson 统一配置日期格式</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>