<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>在matlab中对hsv进行均匀量化和非均匀量化 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="在matlab中对hsv进行均匀量化和非均匀量化" />
<meta property="og:description" content="首先，进行非均匀量化，H,S,V三通道分别量化为16,4,4级，返回一个向量。量化依据如下表：
function vec = getHsvHist(Image) [M,N,O] = size(Image); if O~= 3 error(&#39;3 components are needed for histogram&#39;); end [h,s,v] = rgb2hsv(Image); H = h; S = s; V = v; h = h*360; %将hsv空间非等间隔量化： % h量化成16级； % s量化成4级； % v量化成4级； for i = 1:M for j = 1:N if h(i,j)&lt;=15||h(i,j)&gt;345 H(i,j) = 0; end if h(i,j)&lt;=25&amp;&amp;h(i,j)&gt;15 H(i,j) = 1; end if h(i,j)&lt;=45&amp;&amp;h(i,j)&gt;25 H(i,j) = 2; end if h(i,j)&lt;=55&amp;&amp;h(i,j)&gt;45 H(i,j) = 3; end if h(i,j)&lt;=80&amp;&amp;h(i,j)&gt;55 H(i,j) = 4; end if h(i,j)&lt;=108&amp;&amp;h(i,j)&gt;80 H(i,j) = 5; end if h(i,j)&lt;=140&amp;&amp;h(i,j)&gt;108 H(i,j) = 6; end if h(i,j)&lt;=165&amp;&amp;h(i,j)&gt;140 H(i,j) = 7; end if h(i,j)&lt;=190&amp;&amp;h(i,j)&gt;165 H(i,j) = 8; end if h(i,j)&lt;=220&amp;&amp;h(i,j)&gt;190 H(i,j) = 9; end if h(i,j)&lt;=255&amp;&amp;h(i,j)&gt;220 H(i,j) = 10; end if h(i,j)&lt;=275&amp;&amp;h(i,j)&gt;255 H(i,j) = 11; end if h(i,j)&lt;=290&amp;&amp;h(i,j)&gt;275 H(i,j) = 12; end if h(i,j)&lt;=316&amp;&amp;h(i,j)&gt;290 H(i,j) = 13; end if h(i,j)&lt;=330&amp;&amp;h(i,j)&gt;316 H(i,j) = 14; end if h(i,j)&lt;=345&amp;&amp;h(i,j)&gt;330 H(i,j) = 15; end end end for i = 1:M for j = 1:N if s(i,j)&lt;=0." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/210d041e63fd6a35f4cf1b74b3f13f20/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-12-28T12:38:40+08:00" />
<meta property="article:modified_time" content="2023-12-28T12:38:40+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">在matlab中对hsv进行均匀量化和非均匀量化</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>首先，进行非均匀量化，H,S,V三通道分别量化为16,4,4级，返回一个向量。量化依据如下表：</p> 
<p></p> 
<p class="img-center"><img alt="" height="338" src="https://images2.imgbox.com/68/49/KONz4xBh_o.jpg" width="492"></p> 
<pre><code>function vec = getHsvHist(Image)
[M,N,O] = size(Image);
if O~= 3
    error('3 components are needed for histogram');
end
[h,s,v] = rgb2hsv(Image);
H = h; S = s; V = v;
h = h*360;

%将hsv空间非等间隔量化：
%  h量化成16级；
%  s量化成4级；
%  v量化成4级；
for i = 1:M
    for j = 1:N
        if h(i,j)&lt;=15||h(i,j)&gt;345
            H(i,j) = 0;
        end
        if h(i,j)&lt;=25&amp;&amp;h(i,j)&gt;15
            H(i,j) = 1;
        end
        if h(i,j)&lt;=45&amp;&amp;h(i,j)&gt;25
            H(i,j) = 2;
        end
        if h(i,j)&lt;=55&amp;&amp;h(i,j)&gt;45
            H(i,j) = 3;
        end
        if h(i,j)&lt;=80&amp;&amp;h(i,j)&gt;55
            H(i,j) = 4;
        end
        if h(i,j)&lt;=108&amp;&amp;h(i,j)&gt;80
            H(i,j) = 5;
        end
        if h(i,j)&lt;=140&amp;&amp;h(i,j)&gt;108
            H(i,j) = 6;
        end
        if h(i,j)&lt;=165&amp;&amp;h(i,j)&gt;140
            H(i,j) = 7;
        end
        if h(i,j)&lt;=190&amp;&amp;h(i,j)&gt;165
            H(i,j) = 8;
        end
        if h(i,j)&lt;=220&amp;&amp;h(i,j)&gt;190
            H(i,j) = 9;
        end
        if h(i,j)&lt;=255&amp;&amp;h(i,j)&gt;220
            H(i,j) = 10;
        end
        if h(i,j)&lt;=275&amp;&amp;h(i,j)&gt;255
            H(i,j) = 11;
        end
        if h(i,j)&lt;=290&amp;&amp;h(i,j)&gt;275
            H(i,j) = 12;
        end
        if h(i,j)&lt;=316&amp;&amp;h(i,j)&gt;290
            H(i,j) = 13;
        end
        if h(i,j)&lt;=330&amp;&amp;h(i,j)&gt;316
            H(i,j) = 14;
        end
        if h(i,j)&lt;=345&amp;&amp;h(i,j)&gt;330
            H(i,j) = 15;
        end
    end
end
for i = 1:M
    for j = 1:N
        if s(i,j)&lt;=0.15&amp;&amp;s(i,j)&gt;0
            S(i,j) = 0;
        end
        if s(i,j)&lt;=0.4&amp;&amp;s(i,j)&gt;0.15
            S(i,j) = 1;
        end
        if s(i,j)&lt;=0.75&amp;&amp;s(i,j)&gt;0.4
            S(i,j) = 2;
        end
        if s(i,j)&lt;=1&amp;&amp;s(i,j)&gt;0.75
            S(i,j) = 3;
        end
    end
end
for i = 1:M
    for j = 1:N
        if v(i,j)&lt;=0.15&amp;&amp;v(i,j)&gt;0
            V(i,j) = 0;
        end
        if v(i,j)&lt;=0.4&amp;&amp;v(i,j)&gt;0.15
            V(i,j) = 1;
        end
        if v(i,j)&lt;=0.75&amp;&amp;v(i,j)&gt;0.4
            V(i,j) = 2;
        end
        if v(i,j)&lt;=1&amp;&amp;v(i,j)&gt;0.75
            V(i,j) = 3;
        end
    end
end

%将三个颜色分量合成为一维特征向量：L = H*Qs*Qv+S*Qv+v；Qs,Qv分别是S和V的量化级数, L取值范围[0,255]
%取Qs = 4; Qv = 4
L=zeros(M,N);
for  i = 1:M
    for j = 1:N
        L(i,j) = H(i,j)*16+S(i,j)*4+V(i,j);
    end
end
%计算L的直方图
Hist=zeros(1,256);
for i = 0:255
    Hist(i+1) = size(find(L==i),1);
end
vec=Hist';</code></pre> 
<p></p> 
<p>接着，进行均匀量化，H,S,V三通道分别量化为16,4,4级，返回一个向量。</p> 
<pre><code>function  vec= hsvHist(Image)
[M,N,O] = size(Image);
if O~= 3
    error('3 components are needed for histogram');
end
H_BITS = 4; S_BITS =2; V_BITS = 2;
hsv = uint8(255*rgb2hsv(Image));
%均匀量化
% bitshift(24,-3) 表示24除以2的3次方
H=bitshift(hsv(:,:,1),-(8-H_BITS));
S=bitshift(hsv(:,:,2),-(8-S_BITS));
V=bitshift(hsv(:,:,3),-(8-V_BITS));

%%
%先进行合成，然后再统计
L=zeros(M,N);
for i=1:M
    for j=1:N
        L(i,j)=16*H(i,j)+4*S(i,j)+V(i,j);
    end
end
%计算L的直方图
Hist=zeros(1,256);
for i = 0:255
    Hist(i+1) = size(find(L==i),1);
end
vec=Hist';
end</code></pre> 
<p><a class="link-info" href="https://www.codedown123.com/53595.html" rel="nofollow" title="利用matlab实现对于图像的hsv颜色特征提取">利用matlab实现对于图像的hsv颜色特征提取</a></p> 
<p>以lena图像进行比较：</p> 
<pre><code>clc;clear;close all;
rgb=imread('d:/pic/lena.jpg');
h1=getHsvHist(rgb);
h2=hsvHist(rgb);
figure,
subplot(211),bar(h1),title('hsv非均匀量化直方图');
subplot(212),bar(h2),title('hsv均匀量化直方图');</code></pre> 
<p></p> 
<p class="img-center"><img alt="" height="411" src="https://images2.imgbox.com/ec/50/G4ucHM5l_o.jpg" width="515"></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/182cc2d0481f5913e6dd8bfc73de92dd/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">基于element ui封装table组件</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/fec56794433e269d05ad6db5f32f70da/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">12.28</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>