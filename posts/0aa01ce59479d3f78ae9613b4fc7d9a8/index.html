<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Elasticsearch常用配置及性能参数 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Elasticsearch常用配置及性能参数" />
<meta property="og:description" content="cluster.name: estest 集群名称
node.name: “testanya” 节点名称
node.master: false 是否主节点
node.data: true 是否存储数据
index.store.type: niofs 读写文件方式 index.cache.field.type: soft 缓存类型
bootstrap.mlockall: true 禁用swap
gateway.type: local 本地存储
gateway.recover_after_nodes: 3 3个数据节点开始恢复
gateway.recover_after_time: 5m 5分钟后开始恢复数据
gateway.expected_nodes: 4 4个es节点开始恢复
cluster.routing.allocation.node_initial_primaries_recoveries:8 并发恢复分片数 cluster.routing.allocation.node_concurrent_recoveries:2 同时recovery并发数
indices.recovery.max_bytes_per_sec: 250mb 数据在节点间传输最大带宽 indices.recovery.concurrent_streams: 8 同时读取数据文件流线程
discovery.zen.ping.multicast.enabled: false 禁用多播 discovery.zen.ping.unicast.hosts:[“192.168.169.11:9300”, “192.168.169.12:9300”]
discovery.zen.fd.ping_interval: 10s 节点间存活检测间隔 discovery.zen.fd.ping_timeout: 120s 存活超时时间 discovery.zen.fd.ping_retries: 6 存活超时重试次数
http.cors.enabled: true 使用监控
index.analysis.analyzer.ik.type:”ik” ik分词
thread pool setting
threadpool.index.type: fixed 写索引线程池类型 threadpool.index.size: 64 线程池大小（建议2~3倍cpu数） threadpool." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/0aa01ce59479d3f78ae9613b4fc7d9a8/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2016-09-11T15:38:00+08:00" />
<meta property="article:modified_time" content="2016-09-11T15:38:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Elasticsearch常用配置及性能参数</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div id="cnblogs_post_body" class="blogpost-body"> 
 <p>cluster.name: estest   集群名称<br>node.name: “testanya”  节点名称</p> 
 <p>node.master: false  是否主节点<br>node.data: true   是否存储数据</p> 
 <p>index.store.type: niofs 读写文件方式 <br>index.cache.field.type: soft 缓存类型</p> 
 <p>bootstrap.mlockall: true 禁用swap</p> 
 <p>gateway.type: local 本地存储</p> 
 <p>gateway.recover_after_nodes: 3 3个数据节点开始恢复</p> 
 <p>gateway.recover_after_time: 5m 5分钟后开始恢复数据</p> 
 <p>gateway.expected_nodes: 4 4个es节点开始恢复</p> 
 <p>cluster.routing.allocation.node_initial_primaries_recoveries:8 并发恢复分片数 <br>cluster.routing.allocation.node_concurrent_recoveries:2 同时recovery并发数</p> 
 <p>indices.recovery.max_bytes_per_sec: 250mb 数据在节点间传输最大带宽 <br>indices.recovery.concurrent_streams: 8 同时读取数据文件流线程</p> 
 <p>discovery.zen.ping.multicast.enabled: false 禁用多播 <br>discovery.zen.ping.unicast.hosts:[“192.168.169.11:9300”, “192.168.169.12:9300”]</p> 
 <p>discovery.zen.fd.ping_interval: 10s 节点间存活检测间隔 <br>discovery.zen.fd.ping_timeout: 120s 存活超时时间 <br>discovery.zen.fd.ping_retries: 6 存活超时重试次数</p> 
 <p>http.cors.enabled: true 使用监控</p> 
 <p>index.analysis.analyzer.ik.type:”ik” ik分词</p> 
 <p>thread pool setting</p> 
 <p>threadpool.index.type: fixed 写索引线程池类型 <br>threadpool.index.size: 64 线程池大小（建议2~3倍cpu数） <br>threadpool.index.queue_size: 1000 队列大小</p> 
 <p>threadpool.search.size: 64 搜索线程池大小 <br>threadpool.search.type: fixed 搜索线程池类型 <br>threadpool.search.queue_size: 1000 队列大小</p> 
 <p>threadpool.get.type: fixed 取数据线程池类型 <br>threadpool.get.size: 32 取数据线程池大小 <br>threadpool.get.queue_size: 1000 队列大小</p> 
 <p>threadpool.bulk.type: fixed 批量请求线程池类型 <br>threadpool.bulk.size: 32 批量请求线程池大小 <br>threadpool.bulk.queue_size: 1000 队列大小</p> 
 <p>threadpool.flush.type: fixed 刷磁盘线程池类型 <br>threadpool.flush.size: 32 刷磁盘线程池大小 <br>threadpool.flush.queue_size: 1000 队列大小</p> 
 <p>indices.store.throttle.type: merge <br>indices.store.throttle.type: none 写磁盘类型 <br>indices.store.throttle.max_bytes_per_sec:500mb 写磁盘最大带宽</p> 
 <p>index.merge.scheduler.max_thread_count: 8 索引merge最大线程数 <br>index.translog.flush_threshold_size:600MB 刷新translog文件阀值</p> 
 <p>cluster.routing.allocation.node_initial_primaries_recoveries:8 并发恢复分片数 <br>cluster.routing.allocation.node_concurrent_recoveries:2 同时recovery并发数</p> 
 <p>使用bulk API 增加入库速度 <br>初次索引的时候，把 replica 设置为 0 <br>增大 threadpool.index.queue_size 1000 <br>增大 indices.memory.index_buffer_size: 20% <br>index.translog.durability: async –这个可以异步写硬盘，增大写的速度 <br>增大 index.translog.flush_threshold_size: 600MB <br>增大 index.translog.flush_threshold_ops: 500000</p> 
 <div class="cnblogs_code"> 
  <pre>curl -XPOST <span style="color:#800000;">'</span><span style="color:#800000;">127.0.0.1:9200/_cluster/settings</span><span style="color:#800000;">'</span> -d <span style="color:#800000;">'</span><span style="color:#800000;">{<!-- --></span>
    <span style="color:#800000;">"</span><span style="color:#800000;">transient</span><span style="color:#800000;">"</span><span style="color:#000000;"> : 
        {
          </span><span style="color:#800000;">"</span><span style="color:#800000;">index.indexing.slowlog.threshold.index.warn</span><span style="color:#800000;">"</span>: <span style="color:#800000;">"</span><span style="color:#800000;">10s</span><span style="color:#800000;">"</span><span style="color:#000000;">,
            </span><span style="color:#800000;">"</span><span style="color:#800000;">index.indexing.slowlog.threshold.index.info</span><span style="color:#800000;">"</span>: <span style="color:#800000;">"</span><span style="color:#800000;">5s</span><span style="color:#800000;">"</span><span style="color:#000000;">,
            </span><span style="color:#800000;">"</span><span style="color:#800000;">index.indexing.slowlog.threshold.index.debug</span><span style="color:#800000;">"</span>: <span style="color:#800000;">"</span><span style="color:#800000;">2s</span><span style="color:#800000;">"</span><span style="color:#000000;">,
            </span><span style="color:#800000;">"</span><span style="color:#800000;">index.indexing.slowlog.threshold.index.trace</span><span style="color:#800000;">"</span>: <span style="color:#800000;">"</span><span style="color:#800000;">500ms</span><span style="color:#800000;">"</span><span style="color:#000000;">,
            </span><span style="color:#800000;">"</span><span style="color:#800000;">index.indexing.slowlog.level</span><span style="color:#800000;">"</span>: <span style="color:#800000;">"</span><span style="color:#800000;">info</span><span style="color:#800000;">"</span><span style="color:#000000;">,
            </span><span style="color:#800000;">"</span><span style="color:#800000;">index.indexing.slowlog.source</span><span style="color:#800000;">"</span>: <span style="color:#800000;">"</span><span style="color:#800000;">1000</span><span style="color:#800000;">"</span><span style="color:#000000;">,
            </span><span style="color:#800000;">"</span><span style="color:#800000;">indices.memory.index_buffer_size</span><span style="color:#800000;">"</span>: <span style="color:#800000;">"</span><span style="color:#800000;">20%</span><span style="color:#800000;">"</span><span style="color:#000000;">
        }

}</span><span style="color:#800000;">'</span></pre> 
 </div> 
 <div class="cnblogs_code"> 
  <pre>curl -XPOST <span style="color:#800000;">'</span><span style="color:#800000;">127.0.0.1:9200/_cluster/settings</span><span style="color:#800000;">'</span> -d <span style="color:#800000;">'</span><span style="color:#800000;">{<!-- --></span>
    <span style="color:#800000;">"</span><span style="color:#800000;">transient</span><span style="color:#800000;">"</span><span style="color:#000000;"> : 
        {
          </span><span style="color:#800000;">"</span><span style="color:#800000;">index.search.slowlog.threshold.query.warn</span><span style="color:#800000;">"</span>: <span style="color:#800000;">"</span><span style="color:#800000;">10s</span><span style="color:#800000;">"</span><span style="color:#000000;">,
        </span><span style="color:#800000;">"</span><span style="color:#800000;">index.search.slowlog.threshold.query.info</span><span style="color:#800000;">"</span>: <span style="color:#800000;">"</span><span style="color:#800000;">5s</span><span style="color:#800000;">"</span><span style="color:#000000;">,
        </span><span style="color:#800000;">"</span><span style="color:#800000;">index.search.slowlog.threshold.query.debug</span><span style="color:#800000;">"</span>: <span style="color:#800000;">"</span><span style="color:#800000;">2s</span><span style="color:#800000;">"</span><span style="color:#000000;">,
        </span><span style="color:#800000;">"</span><span style="color:#800000;">index.search.slowlog.threshold.query.trace</span><span style="color:#800000;">"</span>: <span style="color:#800000;">"</span><span style="color:#800000;">500ms</span><span style="color:#800000;">"</span><span style="color:#000000;">,
        </span><span style="color:#800000;">"</span><span style="color:#800000;">index.search.slowlog.threshold.fetch.warn</span><span style="color:#800000;">"</span>: <span style="color:#800000;">"</span><span style="color:#800000;">1s</span><span style="color:#800000;">"</span><span style="color:#000000;">,
        </span><span style="color:#800000;">"</span><span style="color:#800000;">index.search.slowlog.threshold.fetch.info</span><span style="color:#800000;">"</span>: <span style="color:#800000;">"</span><span style="color:#800000;">800ms</span><span style="color:#800000;">"</span><span style="color:#000000;">,
        </span><span style="color:#800000;">"</span><span style="color:#800000;">index.search.slowlog.threshold.fetch.debug</span><span style="color:#800000;">"</span>: <span style="color:#800000;">"</span><span style="color:#800000;">500ms</span><span style="color:#800000;">"</span><span style="color:#000000;">,
        </span><span style="color:#800000;">"</span><span style="color:#800000;">index.search.slowlog.threshold.fetch.trace</span><span style="color:#800000;">"</span>: <span style="color:#800000;">"</span><span style="color:#800000;">200ms</span><span style="color:#800000;">"</span><span style="color:#000000;">
        }

}</span><span style="color:#800000;">'</span></pre> 
 </div> 
 <p>–节点下线时，把所有后缀为 -2的从集群中排除</p> 
 <div class="cnblogs_code"> 
  <pre>curl -XPUT   http:<span style="color:#008000;">//</span><span style="color:#008000;">127.0.0.1:9200/_cluster/settings</span>
{ <span style="color:#800000;">"</span><span style="color:#800000;">transient</span><span style="color:#800000;">"</span><span style="color:#000000;"> : 
      {<!-- --></span><span style="color:#800000;">"</span><span style="color:#800000;">cluster.routing.allocation.enable</span><span style="color:#800000;">"</span> : <span style="color:#800000;">"</span><span style="color:#800000;">all</span><span style="color:#800000;">"</span>,            <span style="color:#800000;">"</span><span style="color:#800000;">cluster.routing.allocation.exclude._name</span><span style="color:#800000;">"</span>:<span style="color:#800000;">"</span><span style="color:#800000;">.*-2</span><span style="color:#800000;">"</span><span style="color:#000000;">}
  }</span></pre> 
 </div> 
 <div class="cnblogs_code"> 
  <pre>curl -XPUT ip:<span style="color:#800080;">9200</span>/_cluster/settings -<span style="color:#000000;">d
</span><span style="color:#800000;">'</span><span style="color:#800000;">{<!-- --></span>
    <span style="color:#800000;">"</span><span style="color:#800000;">transient</span><span style="color:#800000;">"</span><span style="color:#000000;">: {
        </span><span style="color:#800000;">"</span><span style="color:#800000;">logger.discover</span><span style="color:#800000;">"</span>: <span style="color:#800000;">"</span><span style="color:#800000;">DEBUG</span><span style="color:#800000;">"</span><span style="color:#000000;"> 
    }
    </span><span style="color:#800000;">"</span><span style="color:#800000;">persistent</span><span style="color:#800000;">"</span><span style="color:#000000;">: {
        </span><span style="color:#800000;">"</span><span style="color:#800000;">discovery.zen.minimum_master_nodes</span><span style="color:#800000;">"</span>: <span style="color:#800080;">2</span><span style="color:#000000;">
    }
}</span><span style="color:#800000;">'</span></pre> 
 </div> 
 <p>—批量指定节点下线</p> 
 <div class="cnblogs_code"> 
  <pre>curl -XPUT <span style="color:#800080;">127.0</span>.<span style="color:#800080;">0.1</span>:<span style="color:#800080;">9200</span>/_cluster/settings -d <span style="color:#800000;">'</span><span style="color:#800000;">{<!-- --></span>
    <span style="color:#800000;">"</span><span style="color:#800000;">transient</span><span style="color:#800000;">"</span><span style="color:#000000;">: {
        </span><span style="color:#800000;">"</span><span style="color:#800000;">cluster.routing.allocation.exclude._name</span><span style="color:#800000;">"</span>: <span style="color:#800000;">"</span><span style="color:#800000;">atest11-2,atest12-2,anatest13-2,antest14-2</span><span style="color:#800000;">"</span><span style="color:#000000;"> 
    }

}</span><span style="color:#800000;">'</span></pre> 
 </div> 
 <div class="cnblogs_code"> 
  <pre>curl -XPUT <span style="color:#800080;">127.0</span>.<span style="color:#800080;">0.1</span>:<span style="color:#800080;">9200</span>/_cluster/settings -d <span style="color:#800000;">'</span><span style="color:#800000;">{<!-- --></span>
    <span style="color:#800000;">"</span><span style="color:#800000;">transient</span><span style="color:#800000;">"</span><span style="color:#000000;">: {
        </span><span style="color:#800000;">"</span><span style="color:#800000;">cluster.routing.allocation.exclude._name</span><span style="color:#800000;">"</span>: <span style="color:#800000;">"</span><span style="color:#800000;">test_aa73_2,test_aa73</span><span style="color:#800000;">"</span><span style="color:#000000;"> 
    }

}</span><span style="color:#800000;">'</span></pre> 
 </div> 
 <div class="cnblogs_code"> 
  <pre>curl -XPUT <span style="color:#800080;">127.0</span>.<span style="color:#800080;">0.1</span>:<span style="color:#800080;">9200</span>/_cluster/settings -d <span style="color:#800000;">'</span><span style="color:#800000;">{<!-- --></span>
    <span style="color:#800000;">"</span><span style="color:#800000;">transient</span><span style="color:#800000;">"</span><span style="color:#000000;">: {
        </span><span style="color:#800000;">"</span><span style="color:#800000;">cluster.routing.allocation.exclude._name</span><span style="color:#800000;">"</span>: <span style="color:#800000;">""</span><span style="color:#000000;"> 
    }

}</span><span style="color:#800000;">'</span></pre> 
 </div> 
 <div class="cnblogs_code"> 
  <pre>curl -XPUT <span style="color:#800080;">127.0</span>.<span style="color:#800080;">0.1</span>:<span style="color:#800080;">9200</span>/_cluster/settings -d <span style="color:#800000;">'</span><span style="color:#800000;">{<!-- --></span>
    <span style="color:#800000;">"</span><span style="color:#800000;">transient</span><span style="color:#800000;">"</span><span style="color:#000000;">: {
        </span><span style="color:#800000;">"</span><span style="color:#800000;">cluster.routing.allocation.cluster_concurrent_rebalance</span><span style="color:#800000;">"</span>: <span style="color:#800080;">10</span><span style="color:#000000;">
    }

}</span><span style="color:#800000;">'</span></pre> 
 </div> 
 <div class="cnblogs_code"> 
  <pre>curl -XPUT <span style="color:#800080;">127.0</span>.<span style="color:#800080;">0.1</span>:<span style="color:#800080;">9200</span>/_cluster/settings -d <span style="color:#800000;">'</span><span style="color:#800000;">{<!-- --></span>
    <span style="color:#800000;">"</span><span style="color:#800000;">transient</span><span style="color:#800000;">"</span><span style="color:#000000;">: {
        </span><span style="color:#800000;">"</span><span style="color:#800000;">indices.store.throttle.type</span><span style="color:#800000;">"</span>: <span style="color:#800000;">"</span><span style="color:#800000;">none</span><span style="color:#800000;">"</span><span style="color:#000000;">,
         </span><span style="color:#800000;">"</span><span style="color:#800000;">index.store.type</span><span style="color:#800000;">"</span>: <span style="color:#800000;">"</span><span style="color:#800000;">niofs</span><span style="color:#800000;">"</span><span style="color:#000000;">,
         </span><span style="color:#800000;">"</span><span style="color:#800000;">index.cache.field.type</span><span style="color:#800000;">"</span>: <span style="color:#800000;">"</span><span style="color:#800000;">soft</span><span style="color:#800000;">"</span><span style="color:#000000;">,
         </span><span style="color:#800000;">"</span><span style="color:#800000;">indices.store.throttle.max_bytes_per_sec</span><span style="color:#800000;">"</span>: <span style="color:#800000;">"</span><span style="color:#800000;">500mb</span><span style="color:#800000;">"</span><span style="color:#000000;">,
          </span><span style="color:#800000;">"</span><span style="color:#800000;">index.translog.flush_threshold_size</span><span style="color:#800000;">"</span>: <span style="color:#800000;">"</span><span style="color:#800000;">600MB</span><span style="color:#800000;">"</span><span style="color:#000000;">,
         </span><span style="color:#800000;">"</span><span style="color:#800000;">threadpool.flush.type</span><span style="color:#800000;">"</span>: <span style="color:#800000;">"</span><span style="color:#800000;">fixed</span><span style="color:#800000;">"</span><span style="color:#000000;">,
        </span><span style="color:#800000;">"</span><span style="color:#800000;">threadpool.flush.size</span><span style="color:#800000;">"</span>: <span style="color:#800080;">32</span><span style="color:#000000;">,
       </span><span style="color:#800000;">"</span><span style="color:#800000;">threadpool.flush.queue_size</span><span style="color:#800000;">"</span>: <span style="color:#800080;">1000</span><span style="color:#000000;">
    }

}</span><span style="color:#800000;">'</span></pre> 
 </div> 
 <div class="cnblogs_code"> 
  <pre>curl -XPUT <span style="color:#800080;">127.0</span>.<span style="color:#800080;">0.1</span>:<span style="color:#800080;">9200</span>/_cluster/settings -d <span style="color:#800000;">'</span><span style="color:#800000;">{<!-- --></span>
    <span style="color:#800000;">"</span><span style="color:#800000;">transient</span><span style="color:#800000;">"</span><span style="color:#000000;">: {
        </span><span style="color:#800000;">"</span><span style="color:#800000;">index.indexing.slowlog.level</span><span style="color:#800000;">"</span>: <span style="color:#800000;">"</span><span style="color:#800000;">warn</span><span style="color:#800000;">"</span><span style="color:#000000;"> 
    }

}</span><span style="color:#800000;">'</span></pre> 
 </div> 
 <div class="cnblogs_code"> 
  <pre>curl -XGET <span style="color:#800080;">127.0</span>.<span style="color:#800080;">0.1</span>:<span style="color:#800080;">9200</span>/_cluster/health?level=<span style="color:#000000;">shards

curl </span>-XGET <span style="color:#800080;">127.0</span>.<span style="color:#800080;">0.1</span>:<span style="color:#800080;">9200</span>/_cluster/settings?<span style="color:#000000;">pretty

curl </span>-XGET <span style="color:#800080;">127.0</span>.<span style="color:#800080;">0.1</span>:<span style="color:#800080;">9200</span>/_cluster/pending_tasks?<span style="color:#000000;">pretty

curl </span>-XGET <span style="color:#800080;">127.0</span>.<span style="color:#800080;">0.1</span>:<span style="color:#800080;">9200</span>/_cat/<span style="color:#000000;">aliases

curl </span>-XGET <span style="color:#800080;">127.0</span>.<span style="color:#800080;">0.1</span>:<span style="color:#800080;">9200</span>/_cat/<span style="color:#000000;">plugins

curl </span>-XGET <span style="color:#800080;">127.0</span>.<span style="color:#800080;">0.1</span>:<span style="color:#800080;">9200</span>/_cat/<span style="color:#000000;">nodes

</span>/_cat/<span style="color:#000000;">allocation 
</span>/_cat/<span style="color:#000000;">shards 
</span>/_cat/shards/<span style="color:#000000;">{index} 
</span>/_cat/<span style="color:#000000;">master 
</span>/_cat/<span style="color:#000000;">nodes 
</span>/_cat/<span style="color:#000000;">indices 
</span>/_cat/indices/<span style="color:#000000;">{index} 
</span>/_cat/<span style="color:#000000;">segments 
</span>/_cat/segments/<span style="color:#000000;">{index} 
</span>/_cat/<span style="color:#000000;">count 
</span>/_cat/count/<span style="color:#000000;">{index} 
</span>/_cat/<span style="color:#000000;">recovery 
</span>/_cat/recovery/<span style="color:#000000;">{index} 
</span>/_cat/<span style="color:#000000;">health 
</span>/_cat/<span style="color:#000000;">pending_tasks 
</span>/_cat/<span style="color:#000000;">aliases 
</span>/_cat/aliases/<span style="color:#000000;">{alias} 
</span>/_cat/<span style="color:#000000;">thread_pool 
</span>/_cat/<span style="color:#000000;">plugins 
</span>/_cat/<span style="color:#000000;">fielddata 
</span>/_cat/fielddata/{fields}</pre> 
 </div> 
 <div class="cnblogs_code"> 
  <pre><span style="color:#000000;">shard的移动
curl </span>-XPOST <span style="color:#800000;">'</span><span style="color:#800000;">localhost:9200/_cluster/reroute</span><span style="color:#800000;">'</span> -d <span style="color:#800000;">'</span><span style="color:#800000;">{<!-- --></span>
    <span style="color:#800000;">"</span><span style="color:#800000;">commands</span><span style="color:#800000;">"</span><span style="color:#000000;"> : [ {
        </span><span style="color:#800000;">"</span><span style="color:#800000;">move</span><span style="color:#800000;">"</span><span style="color:#000000;"> :
            {
              </span><span style="color:#800000;">"</span><span style="color:#800000;">index</span><span style="color:#800000;">"</span> : <span style="color:#800000;">"</span><span style="color:#800000;">test_aa_20160529</span><span style="color:#800000;">"</span>, <span style="color:#800000;">"</span><span style="color:#800000;">shard</span><span style="color:#800000;">"</span> : <span style="color:#800080;">4</span><span style="color:#000000;">,
              </span><span style="color:#800000;">"</span><span style="color:#800000;">from_node</span><span style="color:#800000;">"</span> : <span style="color:#800000;">"</span><span style="color:#800000;">node1</span><span style="color:#800000;">"</span>, <span style="color:#800000;">"</span><span style="color:#800000;">to_node</span><span style="color:#800000;">"</span> : <span style="color:#800000;">"</span><span style="color:#800000;">node2</span><span style="color:#800000;">"</span><span style="color:#000000;">
            }
        },
        {
          </span><span style="color:#800000;">"</span><span style="color:#800000;">allocate</span><span style="color:#800000;">"</span><span style="color:#000000;"> : {
              </span><span style="color:#800000;">"</span><span style="color:#800000;">index</span><span style="color:#800000;">"</span> : <span style="color:#800000;">"</span><span style="color:#800000;">test</span><span style="color:#800000;">"</span>, <span style="color:#800000;">"</span><span style="color:#800000;">shard</span><span style="color:#800000;">"</span> : <span style="color:#800080;">1</span>, <span style="color:#800000;">"</span><span style="color:#800000;">node</span><span style="color:#800000;">"</span> : <span style="color:#800000;">"</span><span style="color:#800000;">node3</span><span style="color:#800000;">"</span><span style="color:#000000;">
          }
        }
    ]
}</span><span style="color:#800000;">'</span></pre> 
 </div> 
 <div class="cnblogs_code"> 
  <pre>curl -XPUT <span style="color:#800080;">127.0</span>.<span style="color:#800080;">0.1</span>:<span style="color:#800080;">9200</span>/_cluster/settings -d <span style="color:#800000;">'
</span><span style="color:#000000;">{
  </span><span style="color:#800000;">"</span><span style="color:#800000;">transient</span><span style="color:#800000;">"</span><span style="color:#000000;">: {
    </span><span style="color:#800000;">"</span><span style="color:#800000;">logger.indices.recovery</span><span style="color:#800000;">"</span>: <span style="color:#800000;">"</span><span style="color:#800000;">DEBUG</span><span style="color:#800000;">"</span><span style="color:#000000;">
  }
}</span><span style="color:#800000;">'</span></pre> 
 </div> 
 <div class="cnblogs_code"> 
  <pre>curl -XPUT <span style="color:#800080;">127.0</span>.<span style="color:#800080;">0.1</span>:<span style="color:#800080;">9200</span>/_cluster/settings -d <span style="color:#800000;">'
</span><span style="color:#000000;">{
  </span><span style="color:#800000;">"</span><span style="color:#800000;">transient</span><span style="color:#800000;">"</span><span style="color:#000000;">: {
    </span><span style="color:#800000;">"</span><span style="color:#800000;">cluster.routing.allocation.node_initial_primaries_recoveries</span><span style="color:#800000;">"</span>: <span style="color:#800000;">"</span><span style="color:#800000;">100</span><span style="color:#800000;">"</span><span style="color:#000000;"> 
  }
}</span><span style="color:#800000;">'</span></pre> 
 </div> 
 <div class="cnblogs_code"> 
  <pre>curl -XPOST <span style="color:#800000;">'</span><span style="color:#800000;">127.0.0.1:9200/_cluster/settings</span><span style="color:#800000;">'</span> -d <span style="color:#800000;">'</span><span style="color:#800000;">{<!-- --></span>
    <span style="color:#800000;">"</span><span style="color:#800000;">transient</span><span style="color:#800000;">"</span><span style="color:#000000;"> : 
        {
            </span><span style="color:#800000;">"</span><span style="color:#800000;">indices.memory.index_buffer_size</span><span style="color:#800000;">"</span>: <span style="color:#800000;">"</span><span style="color:#800000;">20%</span><span style="color:#800000;">"</span><span style="color:#000000;">
        }

}</span><span style="color:#800000;">'</span></pre> 
 </div> 
 <div class="cnblogs_code"> 
  <pre>curl -XPOST <span style="color:#800000;">'</span><span style="color:#800000;">127.0.0.1:9200/_cluster/settings</span><span style="color:#800000;">'</span> -d <span style="color:#800000;">'</span><span style="color:#800000;">{<!-- --></span>
    <span style="color:#800000;">"</span><span style="color:#800000;">transient</span><span style="color:#800000;">"</span><span style="color:#000000;"> : 
        {
          </span><span style="color:#800000;">"</span><span style="color:#800000;">index.indexing.slowlog.level</span><span style="color:#800000;">"</span> :   <span style="color:#800000;">"</span><span style="color:#800000;">info</span><span style="color:#800000;">"</span><span style="color:#000000;"> 
        }

}</span><span style="color:#800000;">'<br></span></pre> 
 </div> 
</div> 
<p>转载于:https://www.cnblogs.com/kaynet/p/5861926.html</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e28cd3242c455803135eb648e91a6aae/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Java设计模式—组合模式</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/44374af9d776abdb3f5850b00d714893/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">P问题、NP问题、NPC问题（NP完全问题）、NPH问题和多项式时间复杂度</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>