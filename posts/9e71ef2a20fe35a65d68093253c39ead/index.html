<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>前端（二十五）——前端实现 OCR 图文识别的详细步骤与示例代码 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="前端（二十五）——前端实现 OCR 图文识别的详细步骤与示例代码" />
<meta property="og:description" content="😁博主：小猫娃来啦
😁文章核心：前端实现 OCR 图文识别的详细步骤与示例代码
文章目录 OCR技术的介绍第一步：确定使用的 OCR API第二步：创建前端界面第三步：添加图像上传功能第四步：发送识别请求和处理识别结果第五步：完善代码添加注释结论附录 OCR技术的介绍 什么是OCR？
它是一种将印刷体和手体文字转换为可编辑和可搜索的电子文本的技术。OCR通过将图像或扫描文件中的文字识别并转录成机器可读的文本格式，从而实现自动化的文字识别和提取。OCR技术可以应用于各种场景，包括文字文档的扫描与转录、数字化图书馆、自动化数据录入、机器翻译、自动化表单填写等。OCR技术可以极大地提高处理文档和数据的效率，使得文字信息更容易访问和利用。
在现代应用程序中，OCR（Optical Character Recognition）技术被广泛应用于将图像转换为可编辑的文本数据。本文将详细介绍如何在前端实现 OCR 图文识别功能，并提供了相应的代码示例。无论你是一个前端开发新手还是有经验的开发者，本文将以简洁明了的步骤帮助你实现这一功能。
第一步：确定使用的 OCR API 这一步需要根据你选择的 OCR API 来进行相应的准备工作。每个 OCR API 都有相应的文档和示例代码，你需要注册账户并获取 API 密钥。
OCR API 概述和选择：
OCR API 是一种提供图像文本识别功能的服务。它能够将包含文本的图像转换为可编辑的文本数据。在选择 OCR API 之前，你可以了解各个 OCR API 的功能、支持的图像类型、识别准确度、速度、文档和使用案例等方面的信息。
常用 OCR API 的比较和推荐：
一些常用的 OCR API 包括 Google Cloud Vision API、Microsoft Azure OCR API、Tencent OCR API 等。在选择 OCR API 时，你可以考虑其可靠性、易用性、性能、定价和适用场景。
注册和获取 API 密钥的步骤：
为了使用 OCR API，你需要注册一个账户，并获取 API 密钥。通常，在 OCR API 提供商的官方网站上，你可以找到注册页面并完成注册。一旦注册成功，你会获得一个 API 密钥，用于身份验证和向 OCR API 发送识别请求。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/9e71ef2a20fe35a65d68093253c39ead/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-10-30T08:11:46+08:00" />
<meta property="article:modified_time" content="2023-10-30T08:11:46+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">前端（二十五）——前端实现 OCR 图文识别的详细步骤与示例代码</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><img src="https://images2.imgbox.com/ba/2b/RqAT55Th_o.gif" alt="在这里插入图片描述"></p> 
<p>😁博主：小猫娃来啦<br> 😁文章核心：<strong>前端实现 OCR 图文识别的详细步骤与示例代码</strong></p> 
<p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#OCR_8" rel="nofollow">OCR技术的介绍</a></li><li><a href="#_OCR_API_20" rel="nofollow">第一步：确定使用的 OCR API</a></li><li><a href="#_33" rel="nofollow">第二步：创建前端界面</a></li><li><a href="#_80" rel="nofollow">第三步：添加图像上传功能</a></li><li><a href="#_159" rel="nofollow">第四步：发送识别请求和处理识别结果</a></li><li><a href="#_213" rel="nofollow">第五步：完善代码添加注释</a></li><li><a href="#_233" rel="nofollow">结论</a></li><li><a href="#_242" rel="nofollow">附录</a></li></ul> 
</div> 
<p></p> 
<h2><a id="OCR_8"></a>OCR技术的介绍</h2> 
<p>什么是OCR？</p> 
<p>它是一种将印刷体和手体文字转换为可编辑和可搜索的电子文本的技术。OCR通过将图像或扫描文件中的文字识别并转录成机器可读的文本格式，从而实现自动化的文字识别和提取。OCR技术可以应用于各种场景，包括文字文档的扫描与转录、数字化图书馆、自动化数据录入、机器翻译、自动化表单填写等。OCR技术可以极大地提高处理文档和数据的效率，使得文字信息更容易访问和利用。</p> 
<p>在现代应用程序中，OCR（Optical Character Recognition）技术被广泛应用于将图像转换为可编辑的文本数据。本文将详细介绍如何在前端实现 OCR 图文识别功能，并提供了相应的代码示例。无论你是一个前端开发新手还是有经验的开发者，本文将以简洁明了的步骤帮助你实现这一功能。</p> 
<hr> 
<h2><a id="_OCR_API_20"></a>第一步：确定使用的 OCR API</h2> 
<p>这一步需要根据你选择的 OCR API 来进行相应的准备工作。每个 OCR API 都有相应的文档和示例代码，你需要注册账户并获取 API 密钥。</p> 
<ul><li> <p>OCR API 概述和选择：<br> OCR API 是一种提供图像文本识别功能的服务。它能够将包含文本的图像转换为可编辑的文本数据。在选择 OCR API 之前，你可以了解各个 OCR API 的功能、支持的图像类型、识别准确度、速度、文档和使用案例等方面的信息。</p> </li><li> <p>常用 OCR API 的比较和推荐：<br> 一些常用的 OCR API 包括 Google Cloud Vision API、Microsoft Azure OCR API、Tencent OCR API 等。在选择 OCR API 时，你可以考虑其可靠性、易用性、性能、定价和适用场景。</p> </li><li> <p>注册和获取 API 密钥的步骤：<br> 为了使用 OCR API，你需要注册一个账户，并获取 API 密钥。通常，在 OCR API 提供商的官方网站上，你可以找到注册页面并完成注册。一旦注册成功，你会获得一个 API 密钥，用于身份验证和向 OCR API 发送识别请求。</p> </li></ul> 
<hr> 
<h2><a id="_33"></a>第二步：创建前端界面</h2> 
<p>创建一个基本的 HTML 文件，添加一个上传图像按钮和一个用于显示识别结果的区域。</p> 
<ul><li> <p>基本的 HTML 结构：<br> 在 HTML 文件中，创建一个初始结构，包括标题、按钮和结果显示区域。可以使用基本的 HTML 元素如 <code>&lt;h1&gt;</code>、<code>&lt;input&gt;</code>、<code>&lt;button&gt;</code> 和 <code>&lt;div&gt;</code>。</p> </li><li> <p>创建图像上传按钮和显示结果的区域：<br> 在 HTML 文件中添加一个用于图像上传的按钮和一个用于显示识别结果的区域。你可以使用 <code>&lt;input type="file"&gt;</code> 元素来实现图像选择和上传的功能，通过给它一个唯一的 id 来对应 JavaScript 中的操作。<br> 本回答由gpt.tool00.com代为生成，请认准本站。<br> 以下是一个详细说明和示例代码：</p> </li></ul> 
<pre><code class="prism language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>OCR 图文识别<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>OCR 图文识别<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>file<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>imageFile<span class="token punctuation">"</span></span> <span class="token attr-name">accept</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>image/*<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token special-attr"><span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value javascript language-javascript"><span class="token function">uploadImage</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>上传图像<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>识别结果：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>result<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
        <span class="token comment">// ... 后续代码省略 ...</span>

        <span class="token keyword">function</span> <span class="token function">uploadImage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">const</span> fileInput <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'imageFile'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">const</span> selectedFile <span class="token operator">=</span> fileInput<span class="token punctuation">.</span>files<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

            <span class="token comment">// ... 后续代码省略 ...</span>
        <span class="token punctuation">}</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>在这个示例中，我们创建了一个简单的 HTML 页面，包括一个标题为 “OCR 图文识别” 的 <code>&lt;h1&gt;</code> 元素，一个用于图像上传的 <code>&lt;input type="file"&gt;</code> 元素，一个上传按钮和一个用于显示识别结果的 <code>&lt;div&gt;</code> 元素。你可以根据自己的需要自定义页面的外观和布局。</p> 
<p>请注意，为了让 JavaScript 代码能够访问和操作 HTML 元素，我们为输入和按钮元素分配了唯一的 id，以便在 JavaScript 中进行选择和操作。在 JavaScript 代码的后续部分，你可以根据这些唯一的 id 来获取元素，并添加事件处理程序来响应用户的操作。</p> 
<hr> 
<h2><a id="_80"></a>第三步：添加图像上传功能</h2> 
<p>在这个步骤中，我们将为图像上传按钮添加事件监听器，以便获取用户上传的图像文件，并将其发送给 OCR API 进行识别。</p> 
<ul><li> <p>获取文件输入并监听变化：<br> 使用 <code>document.getElementById()</code> 方法获取代表图像文件输入的元素，通过为其添加 <code>onchange</code> 事件监听器，当用户选择图像文件时，可以触发相应的操作。</p> </li><li> <p>使用 FileReader 读取图像文件内容：<br> 在事件处理程序中，实例化 <code>FileReader</code> 对象，并使用 <code>readAsDataURL()</code> 方法来读取图像文件的内容。这将把图像文件转换为数据 URL，以便后续上传。</p> </li><li> <p>上传图像文件至 OCR API：<br> 在准备好图像文件的数据 URL 后，你可以创建一个 <code>FormData</code> 对象，并使用 <code>append()</code> 方法将图像文件添加到 FormData 中。然后，你需要将这个 FormData 作为请求的主体，使用 Fetch API 或 AJAX 发送 POST 请求给 OCR API 的识别端点，以实现上传图像及相关请求。</p> </li></ul> 
<pre><code class="prism language-javascript"><span class="token comment">// 获取文件输入并监听变化</span>
<span class="token keyword">const</span> fileInput <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'imageFile'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
fileInput<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'change'</span><span class="token punctuation">,</span> handleFileUpload<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">handleFileUpload</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">const</span> file <span class="token operator">=</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>files<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token comment">// 使用 FileReader 读取图像文件内容</span>
    <span class="token keyword">const</span> reader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileReader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    reader<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">const</span> imageDataURL <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>result<span class="token punctuation">;</span>

        <span class="token comment">// 上传图像文件至 OCR API</span>
        <span class="token function">uploadImageToOCR</span><span class="token punctuation">(</span>imageDataURL<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    reader<span class="token punctuation">.</span><span class="token function">readAsDataURL</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">uploadImageToOCR</span><span class="token punctuation">(</span><span class="token parameter">imageDataURL</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">const</span> apiUrl <span class="token operator">=</span> <span class="token string">'OCR_API_URL'</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> apiKey <span class="token operator">=</span> <span class="token string">'API_KEY'</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> formData <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FormData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    formData<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'image'</span><span class="token punctuation">,</span> imageDataURL<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">fetch</span><span class="token punctuation">(</span>apiUrl<span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">'POST'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
            <span class="token string-property property">'Authorization'</span><span class="token operator">:</span> <span class="token string">'Bearer '</span> <span class="token operator">+</span> apiKey
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">body</span><span class="token operator">:</span> formData
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=&gt;</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">data</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 处理 OCR API 的响应结果</span>
        <span class="token function">handleOCRResponse</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'识别请求出错:'</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">handleOCRResponse</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">const</span> resultDiv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'result'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>data <span class="token operator">&amp;&amp;</span> data<span class="token punctuation">.</span>text<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        resultDiv<span class="token punctuation">.</span>textContent <span class="token operator">=</span> data<span class="token punctuation">.</span>text<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
        resultDiv<span class="token punctuation">.</span>textContent <span class="token operator">=</span> <span class="token string">'未能识别文本。'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>解析一手，首先我们使用 <code>document.getElementById()</code> 方法获取代表图像文件输入的元素，然后为其添加 <code>change</code> 事件监听器，当用户选择图像文件时，可以触发 <code>handleFileUpload</code> 函数。</p> 
<p>在 <code>handleFileUpload</code> 函数中，通过 <code>FileReader</code> 对象，将图像文件转换为数据 URL。然后调用 <code>uploadImageToOCR</code> 函数，将图像文件上传到 OCR API 的识别端点。</p> 
<p>在 <code>uploadImageToOCR</code> 函数中，创建 <code>FormData</code> 对象，将图像文件数据 URL 添加到其中。使用 Fetch API 发送 POST 请求给 OCR API 的识别端点，并在响应返回后，调用 <code>handleOCRResponse</code> 函数处理识别结果。</p> 
<p>最后，在 <code>handleOCRResponse</code> 函数中，根据 OCR API 的响应结果，将识别的文本内容显示在页面的结果区域中。</p> 
<p>请根据您的实际情况，将示例代码中的 <code>OCR_API_URL</code> 和 <code>API_KEY</code> 替换为正确的 OCR API 的识别端点 URL 和 API 密钥。</p> 
<hr> 
<h2><a id="_159"></a>第四步：发送识别请求和处理识别结果</h2> 
<p>在这一步中，我们将发送识别请求给 OCR API 的识别端点，并根据返回的识别结果对前端界面进行更新。</p> 
<ul><li> <p>使用 Fetch API 或 AJAX 发送 POST 请求：<br> 使用 Fetch API 或 AJAX 发送 POST 请求给 OCR API 的识别端点。在请求的头部中，需要设置身份验证，比如在请求头部中添加 Bearer token 或设置 API 密钥等，以便识别端点识别你的请求。</p> </li><li> <p>在请求标头中包含 API 密钥进行身份验证：<br> 根据你选择的 OCR API 的要求，在请求的头部中包含 API 密钥或其他身份验证信息，以便进行识别请求。</p> </li><li> <p>解析 OCR API 的响应并更新前端界面：<br> 在获取到 OCR API 的响应后，解析其中的识别结果，并将识别结果更新到前端界面中的相应区域。根据 OCR API 的响应结构，可能需要对返回的 JSON 数据进行解析，提取出识别的文本内容并显示在界面上。如果响应中没有识别结果或出现错误，可以提供适当的错误信息或显示默认文本。</p> </li></ul> 
<p>接下来，我们演示一下如何使用Fetch API发送OCR识别请求并更新前端界面：</p> 
<pre><code class="prism language-javascript"><span class="token comment">// 发送OCR识别请求</span>
<span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">'https://ocr-api.com/recognize'</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">'POST'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token string-property property">'Authorization'</span><span class="token operator">:</span> <span class="token string">'Bearer your_token_here'</span><span class="token punctuation">,</span>
    <span class="token string-property property">'Content-Type'</span><span class="token operator">:</span> <span class="token string">'application/json'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">body</span><span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">image</span><span class="token operator">:</span> <span class="token string">'your_image_data_here'</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=&gt;</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 将响应解析为JSON格式</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">data</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 处理识别结果并更新前端界面</span>
    <span class="token keyword">const</span> recognizedText <span class="token operator">=</span> data<span class="token punctuation">.</span>recognizedText<span class="token punctuation">;</span> <span class="token comment">// 假设识别结果为recognizedText字段</span>

    <span class="token comment">// 更新前端界面的识别区域</span>
    <span class="token keyword">const</span> recognitionArea <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'recognitionArea'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    recognitionArea<span class="token punctuation">.</span>textContent <span class="token operator">=</span> recognizedText<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 处理错误情况并提供适当的反馈</span>
    console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'OCR识别请求出错:'</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 在界面上显示错误信息或设置默认文本</span>
    <span class="token keyword">const</span> recognitionArea <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'recognitionArea'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    recognitionArea<span class="token punctuation">.</span>textContent <span class="token operator">=</span> <span class="token string">'识别失败，请重试。'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>请根据实际情况修改代码中的URL、请求头、身份验证方式和更新界面的元素ID，以便与你使用的OCR API相对应。</p> 
<hr> 
<h2><a id="_213"></a>第五步：完善代码添加注释</h2> 
<p>在前端实现 OCR 图文识别功能的过程中，还有一些细节需要注意和优化，同时还可以添加适当的注释以方便代码的阅读和理解。</p> 
<ul><li> <p>添加错误处理和提示信息：<br> 在代码中，你可以添加适当的错误处理来处理可能发生的错误情况，例如上传失败、识别结果为空等。可以在界面上显示错误信息或者使用控制台打印错误信息，以帮助调试和错误排查。</p> </li><li> <p>注释代码，以便理解每个步骤的实现细节：<br> 在代码中添加注释，解释每个关键步骤的实现细节和目的。这将有助于你和其他人理解代码的功能和逻辑。</p> </li><li> <p>代码格式化和命名规范：<br> 格式化和命名规范有助于代码的可读性和维护性。确保代码缩进正确，使用一致的命名规范，以及遵循最佳实践和语言的约定。</p> </li><li> <p>代码优化和可扩展性：<br> 考虑代码的性能和可扩展性。你可以优化代码以提高执行效率，并采用模块的设计和组织代码，以便于扩展和维护。</p> </li></ul> 
<p>完成这些细节和优化后，你的前端 OCR 图文识别功能将更加完善和可靠。</p> 
<hr> 
<h2><a id="_233"></a>结论</h2> 
<p>通过本文的步骤和示例代码，你可以轻松地在前端实现 OCR 图文识别功能。这样的功能在很多场景中都非常有用，例如扫描文档、图像搜索、自动化数据录入等。希望本文能为你提供帮助，并激发你的创造力，进一步发展和优化这个基础功能。</p> 
<p>个人会使用腾讯云的OCR：<br> <img src="https://images2.imgbox.com/cb/ac/WjdIEEzZ_o.png" alt="在这里插入图片描述"></p> 
<hr> 
<h2><a id="_242"></a>附录</h2> 
<ul><li>示例代码</li></ul> 
<pre><code class="prism language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>OCR 图文识别<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>OCR 图文识别<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>file<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>imageFile<span class="token punctuation">"</span></span> <span class="token attr-name">accept</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>image/*<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token special-attr"><span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value javascript language-javascript"><span class="token function">uploadImage</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>上传图像<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>识别结果：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>result<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
        <span class="token keyword">function</span> <span class="token function">uploadImage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">const</span> fileInput <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'imageFile'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">const</span> selectedFile <span class="token operator">=</span> fileInput<span class="token punctuation">.</span>files<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

            <span class="token keyword">const</span> reader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileReader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            reader<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">const</span> fileData <span class="token operator">=</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>result<span class="token punctuation">;</span>

                <span class="token comment">// TODO: 发送图像文件给 OCR API 的识别端点</span>
                <span class="token keyword">const</span> apiUrl <span class="token operator">=</span> <span class="token string">'OCR_API_URL'</span><span class="token punctuation">;</span>
                <span class="token keyword">const</span> apiKey <span class="token operator">=</span> <span class="token string">'API_KEY'</span><span class="token punctuation">;</span>

                <span class="token keyword">const</span> formData <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FormData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                formData<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'image'</span><span class="token punctuation">,</span> fileData<span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token comment">// 使用 Fetch API 或 AJAX 发送 POST 请求</span>
                <span class="token function">fetch</span><span class="token punctuation">(</span>apiUrl<span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">'POST'</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                        <span class="token string-property property">'Authorization'</span><span class="token operator">:</span> <span class="token string">'Bearer '</span> <span class="token operator">+</span> apiKey
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">body</span><span class="token operator">:</span> formData
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=&gt;</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">data</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token keyword">const</span> resultDiv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'result'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>data <span class="token operator">&amp;&amp;</span> data<span class="token punctuation">.</span>text<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                        resultDiv<span class="token punctuation">.</span>textContent <span class="token operator">=</span> data<span class="token punctuation">.</span>text<span class="token punctuation">;</span>
                    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
                        resultDiv<span class="token punctuation">.</span>textContent <span class="token operator">=</span> <span class="token string">'未能识别文本。'</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
                    console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'识别请求出错:'</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">;</span>
            reader<span class="token punctuation">.</span><span class="token function">readAsDataURL</span><span class="token punctuation">(</span>selectedFile<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>在这个示例中，请注意将 <code>OCR_API_URL</code> 和 <code>API_KEY</code> 替换为实际使用的 OCR API 的识别端点 URL 和 API 密钥。</p> 
<p>这个示例代码通过 JavaScript 为图像文件输入添加了 <code>onchange</code> 事件监听器，并在事件处理程序中使用 <code>FileReader</code> 对象读取图像文件内容，然后将图像文件数据发送到 OCR API 的识别端点。</p> 
<p>一旦获取到 OCR API 的响应，代码将解析返回的 JSON 数据，并将识别结果更新到页面上的结果区域。</p> 
<ul><li>引用的 OCR API 官方文档链接</li></ul> 
<p>由于有多个 OCR API 供选择，每个 API 提供商都有自己的官方文档。以下是常见的几个 OCR API 提供商的官方文档链接，你可以根据你选择的 OCR API 进一步探索和获取相关信息：</p> 
<ol><li><a href="https://cloud.google.comision/docs/ocr" rel="nofollow">谷歌云 API</a></li><li><a href="https://docs.microsoft.com/azure/cognitive-services/computer-vision/concept-recognizing-text" rel="nofollow">微软 OCR 服务</a></li><li><a href="https://cloud.tencent.com/document/product/866/17715" rel="nofollow">腾讯OCR API</a></li></ol> 
<p>这些链接提供进入 OCR API 官方文档的入口，你可以在相关文档中到更详细的信息，包括 API 的用法、支持的功能、请求和响应的格式等。</p> 
<p><img src="https://images2.imgbox.com/48/f5/Oijtk5KS_o.gif" alt="在这里插入图片描述"></p> 
<hr>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/3fbc0866e69eb2a6fbec5fb188ad6653/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">使用CMake构建Qt程序</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/99f1a3297d0180ada255dc6de0589f3e/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">vue3中动态设置网页图标</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>