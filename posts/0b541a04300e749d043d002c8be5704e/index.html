<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Java集合(2)HashSet - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Java集合(2)HashSet" />
<meta property="og:description" content="HashSet是Set接口的典型实现，大多数时候使用Set的集合是就是使用这个实现类，hashSet按Hash算法来存储集合中的元素的，因此具有很好的存取和查找性能。此类实现 Set 接口，由哈希表（实际上是一个 HashMap 实例）支持。它不保证 set 的迭代顺序；特别是它不保证该顺序恒久不变。此类允许使用 null 元素。如果多个线程同时访问一个哈希 set，而其中至少一个线程修改了该 set，那么它必须 保持外部同步。这通常是通过对自然封装该 set 的对象执行同步操作来完成的。如果不存在这样的对象，则应该使用 Collections.synchronizedSet 方法来“包装” set。最好在创建时完成这一操作，以防止对该 set 进行意外的不同步访问。
注意：如果需要把某个类的对象保存到HashSet集合中，重写这个类的equals()方法和hsahCode()方法时，应该尽量保证两个对象通过equals()方法比较返回true时，他们的hashCode方法返回值也相等。
当向HashSet中添加可变对象时，必须十分小心，如果修改HashSet集合中的对象，有可能导致该对象与集合中的对象相等，从而导致HashSet无法准确的访问该对象。
class R{
intcount;
publicR(int count){
this.count=count;
}
publicString toString(){
return&#34;R[count:&#34;&#43;count&#43;&#34;]&#34;;
}
publicboolean equals(Object obj){
if(this==obj){
returntrue;
}
if(obj!=null&amp;&amp;obj.getClass()==R.class){
Rr=(R)obj;
returnthis.count==r.count;
}
returnfalse;
}
publicint hashCode(){
returnthis.count;
}
}
public class HashSetTest2 {
publicstatic void main(String[] args) {
HashSeths=new HashSet();
hs.add(newR(5));
hs.add(newR(-3));
hs.add(newR(9));
hs.add(newR(-2));
System.out.println(hs);
Iteratorit=hs.iterator();
//取出第一个元素
Rfirst=(R)it.next();
//将第一个元素和第二个元素相等" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/0b541a04300e749d043d002c8be5704e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2017-07-02T20:21:27+08:00" />
<meta property="article:modified_time" content="2017-07-02T20:21:27+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Java集合(2)HashSet</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>HashSet是Set接口的典型实现，大多数时候使用Set的集合是就是使用这个实现类，hashSet按Hash算法来存储集合中的元素的，因此具有很好的存取和查找性能。此类实现 Set 接口，由哈希表（实际上是一个 HashMap 实例）支持。它不保证 set 的迭代顺序；特别是它不保证该顺序恒久不变。此类允许使用 null 元素。如果多个线程同时访问一个哈希 set，而其中至少一个线程修改了该 set，那么它必须 保持外部同步。这通常是通过对自然封装该 set 的对象执行同步操作来完成的。如果不存在这样的对象，则应该使用 Collections.synchronizedSet 方法来“包装” set。最好在创建时完成这一操作，以防止对该 set 进行意外的不同步访问。</p> 
<p>注意：如果需要把某个类的对象保存到HashSet集合中，重写这个类的equals()方法和hsahCode()方法时，应该尽量保证两个对象通过equals()方法比较返回true时，他们的hashCode方法返回值也相等。</p> 
<p>当向HashSet中添加可变对象时，必须十分小心，如果修改HashSet集合中的对象，有可能导致该对象与集合中的对象相等，从而导致HashSet无法准确的访问该对象。</p> 
<p>class R{<!-- --></p> 
<p>       intcount;</p> 
<p>       publicR(int count){<!-- --></p> 
<p>              this.count=count;</p> 
<p>       }</p> 
<p>       publicString toString(){<!-- --></p> 
<p>              return"R[count:"+count+"]";</p> 
<p>       }</p> 
<p>       publicboolean equals(Object obj){<!-- --></p> 
<p>              if(this==obj){<!-- --></p> 
<p>                     returntrue;</p> 
<p>              }</p> 
<p>              if(obj!=null&amp;&amp;obj.getClass()==R.class){<!-- --></p> 
<p>                     Rr=(R)obj;</p> 
<p>                     returnthis.count==r.count;</p> 
<p>              }</p> 
<p>              returnfalse;</p> 
<p>       }</p> 
<p>       publicint hashCode(){<!-- --></p> 
<p>              returnthis.count;</p> 
<p>       }</p> 
<p>}</p> 
<p>public class HashSetTest2 {<!-- --></p> 
<p>       publicstatic void main(String[] args) {<!-- --></p> 
<p>              HashSeths=new HashSet();</p> 
<p>              hs.add(newR(5));</p> 
<p>              hs.add(newR(-3));</p> 
<p>              hs.add(newR(9));</p> 
<p>              hs.add(newR(-2));</p> 
<p>              System.out.println(hs);</p> 
<p>              Iteratorit=hs.iterator();</p> 
<p>              //取出第一个元素</p> 
<p>              Rfirst=(R)it.next();</p> 
<p>              //将第一个元素和第二个元素相等</p> 
<p>              first.count=-3;</p> 
<p>              System.out.println(hs);</p> 
<p>              hs.remove(newR(-3));</p> 
<p>              System.out.println(hs);</p> 
<p>              System.out.println(hs.contains(-3));</p> 
<p>              System.out.println(hs.contains(-2));</p> 
<p>       }</p> 
<p>       </p> 
<p>}</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/abcc537ba7923f22851c2926d00b0be6/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">java集合（1）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/e4e541286e23550c044566e5be22239f/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">微软分段推出电子墨水白板应用程序</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>