<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>memset函数 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="memset函数" />
<meta property="og:description" content="1.使用memset函数要加上头文件#include &lt;string.h&gt;或#include &lt;memory.h&gt;
2.memset是计算机中C/C&#43;&#43;语言函数。将s所指向的某一块内存中的前n个 字节的内容全部设置为ch指定的ASCII值， 第一个值为指定的内存地址，块的大小由第三个参数指定，这个函数通常为新申请的内存做初始化工作， 其返回值为指向s的指针。
3.void *memset(void *s, int ch, size_t n);
函数解释：将s中前n个字节 （typedef unsigned int size_t ）用 ch 替换并返回 s 。
memset：作用是在一段内存块中填充某个给定的值，它是对较大的结构体或数组进行清零操作的一种最快方法。 它主要作用是对char类型数组做初始化工作，对int类型数组只能做将所有元素赋值为0的操作。
4。例如：
#include &lt;iostream&gt;
#include &lt;string.h&gt;
using namespace std;
int main()
{
char a[5];
memset(a,&#39;4&#39;,5);//第三个参数“5”表示数组大小
for(int i=0;i&lt;5;i&#43;&#43;)
cout&lt;&lt;a[i]&lt;&lt;&#39; &#39;;
return 0;
}
输出结果为：4 4 4 4 4
#include &lt;iostream&gt;
#include &lt;string.h&gt;
using namespace std;
int main()
{
int a[5];
memset(a,0,5*sizeof(int));//此处的第三个参数则不能直接写上5，要写成5*sizeof(int)
for(int i=0;i&lt;5;i&#43;&#43;)
cout&lt;&lt;a[i]&lt;&lt;&#39; &#39;;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/c0ab4c99e243d64712239f9c6a46ec6c/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2016-03-15T20:42:11+08:00" />
<meta property="article:modified_time" content="2016-03-15T20:42:11+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">memset函数</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>1.使用memset函数要加上头文件#include &lt;string.h&gt;或#include &lt;memory.h&gt;</p> 
<p>2.<span style="color:#333333;">memset是计算机中C/C++语言函数。将s所指向的某一块内存中的前n个 </span><a href="http://baike.baidu.com/view/60408.htm" rel="nofollow">字节</a><span style="color:#333333;">的内容全部设置为ch指定的</span><a href="http://baike.baidu.com/view/15482.htm" rel="nofollow">ASCII</a><span style="color:#333333;">值， 第一个值为指定的内存地址，块的大小由第三个参数指定，这个函数通常为新申请的内存做初始化工作， 其返回值为指向s的</span><a href="http://baike.baidu.com/view/159417.htm" rel="nofollow">指针</a><span style="color:#333333;">。</span></p> 
<p><span style="color:#333333;">3.void *memset(void *s, int ch, </span><a href="http://baike.baidu.com/view/3236587.htm" rel="nofollow">size_t</a><span style="color:#333333;"> n);</span></p> 
<p> </p> 
<p>函数解释：将s中前n个字节 （typedef unsigned int size_t ）用 ch 替换并返回 s 。</p> 
<p>memset：作用是在一段内存块中填充某个给定的值，它是对较大的<a href="http://baike.baidu.com/view/204974.htm" rel="nofollow">结构体</a>或<a href="http://baike.baidu.com/view/209670.htm" rel="nofollow">数组</a>进行清零操作的一种最快方法。<span style="color:#333333;">    它主要作用是对char类型数组做初始化工作，<span style="color:#333333;">对int类型数组只能做将所有元素赋值为0的操作。</span></span></p> 
<p><span style="color:#333333;"><span style="color:#333333;">4。例如：</span></span></p> 
<p><span style="color:#333333;"><span style="color:#333333;">#include &lt;iostream&gt;<br> #include &lt;string.h&gt;<br> using namespace std;<br> int main()<br> {<!-- --><br> char a[5];<br> memset(a,'4',5);//第三个参数“5”表示数组大小<br> for(int i=0;i&lt;5;i++)<br>   cout&lt;&lt;a[i]&lt;&lt;' ';<br> return 0;<br> }</span></span></p> 
<p><span style="color:#333333;"><span style="color:#333333;">输出结果为：4 4 4 4 4</span></span></p> 
<p><span style="color:#333333;"><span style="color:#333333;">#include &lt;iostream&gt;<br> #include &lt;string.h&gt;<br> using namespace std;<br> int main()<br> {<!-- --><br> int a[5];<br> memset(a,0,5*sizeof(int));//此处的<span style="color:#333333;">第三个参数则不能直接写上5，要写成<span style="color:#333333;">5*sizeof(int)</span></span><br> for(int i=0;i&lt;5;i++)<br>   cout&lt;&lt;a[i]&lt;&lt;' ';<br> return 0;<br> }</span></span></p> 
<p><span style="color:#333333;"><span style="color:#333333;"><span style="color:#333333;">输出结果为：0 0 0 0 0</span></span></span></p> 
<p><span style="color:#333333;"><span style="color:#333333;"><span style="color:#333333;">#include &lt;iostream&gt;<br> #include &lt;string.h&gt;<br> using namespace std;<br> int main()<br> {<!-- --><br> int a[5];<br> memset(a,1,5*sizeof(int));//此处将上面第二个参数0改为1<br> for(int i=0;i&lt;5;i++)<br>   cout&lt;&lt;a[i]&lt;&lt;' ';<br> return 0;<br> }</span></span></span></p> 
<p><span style="color:#333333;"><span style="color:#333333;"><span style="color:#333333;">输出结果：16843009 16843009 16843009 16843009 16843009（显然不对）</span></span></span></p> 
<p>解释：</p> 
<p>因为第一个程序的数组a是<a href="http://baike.baidu.com/view/263416.htm" rel="nofollow">字符</a>型的，字符型占据内存大小是1Byte，而memset函数也是以<a href="http://baike.baidu.com/view/60408.htm" rel="nofollow">字节</a>为单位进行赋值的，所以你输出没有问题。而第三个程序a是整型的，使用 memset还是按字节赋值，这样赋值完以后，每个数组元素的值实际上是0x01010101即十进制的16843009。</p> 
<p>如果用memset(a,1,5)，就是对a指向的内存的5个字节进行赋值，每个都用数1去填充，转为二进制后，1就是00000001，占一个字节。一个int元素是4字节，合一起是0000 0001,0000 0001,0000 0001,0000 0001，转化成十六进制就是0x01010101，就等于16843009，就完成了对一个int元素的赋值了。</p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/3b55c8e9167c19d2f52159951b0e6886/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">博客开张</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b6d113eb3a200809f5644e9bde38d930/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">定制lager的输出</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>