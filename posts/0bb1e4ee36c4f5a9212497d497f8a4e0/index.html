<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Java 的浅拷贝与深拷贝详解 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Java 的浅拷贝与深拷贝详解" />
<meta property="og:description" content=" 先讲一讲Java 中equals() 和==的区别 1. 基本数据类型(byte,short,char,int,long,float,double,boolean) 双等号（==）和 equals ,比较的是他们的值。
2. 类 当使用==比较的是两个对象的内存地址
当时用equals比较的也是内存地址 ，因为Object类中的equals方法就是用==比较的
什么是浅拷贝？什么是深拷贝？ 一般对于类而言 深拷贝： 对基本数据类型进行值传递，对引用数据类型，创建一个新的，对其进行赋值。（两个指针指向不同的内存单元） 浅拷贝：对基本数据类型进行值传递，对引用数据类型进行引用(类似C 中的指针，等于两个指针指向同一个内存单元) ​ 比如:
​ 当使用浅拷贝中的clone
​ 测试结果如下，f1与f2中的成员变量并不相等。
​ 所以说如果要深拷贝必须将所有的成员变量都进行clone
在写浅拷贝和深拷贝之前，还需要了解Java中的Clone
可以看到如果类没有实现Cloneable接口就会报错，如果实现了就调用 internalClone() ， internalClone() 这个方法会返回一个这个类的一个新实例。
所以说如果一个类需要调用Clone()， 那么这个了类需要实现Cloneable 接口
Cloneable 接口 只起到一个标识作用，表明这个类需要用到Clone()方法。
如何进行浅拷贝？如何进行深拷贝 浅拷贝 ​ 如图中的clone()方法 ，这就实现了浅拷贝
​ 首先，这个类中有一个名为SonObject的子类。并且FatherObject 实现了Cloneable接口，并且Clone() 方法调用了Object中的Clone（）方法。
深拷贝 ​ 实现浅拷贝有两种方法，一种是利用Object中的Clone() ，一种是将类序列化然后再反序列化.
​
1. 利用Object中的clone() ​	图中实现了深拷贝的clone 2. 先序列化，反序列化 网络上的列子挺多的，这里就不详细描述。 " />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/0bb1e4ee36c4f5a9212497d497f8a4e0/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-09-11T22:37:49+08:00" />
<meta property="article:modified_time" content="2020-09-11T22:37:49+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Java 的浅拷贝与深拷贝详解</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h4><a id="Java_equals__2"></a>先讲一讲Java 中equals() 和==的区别</h4> 
<h6><a id="1_byteshortcharintlongfloatdoubleboolean_4"></a>1. 基本数据类型(byte,short,char,int,long,float,double,boolean)</h6> 
<p>双等号（==）和 equals ,比较的是他们的值。</p> 
<h6><a id="2__11"></a>2. 类</h6> 
<p>当使用==比较的是两个对象的内存地址</p> 
<p>当时用equals比较的也是内存地址 ，因为Object类中的equals方法就是用==比较的</p> 
<p><img src="https://images2.imgbox.com/3f/23/veuudMDj_o.png" alt="在这里插入图片描述"></p> 
<hr> 
<h4><a id="_25"></a>什么是浅拷贝？什么是深拷贝？</h4> 
<h6><a id="_27"></a>一般对于类而言</h6> 
<h6><a id="__29"></a>深拷贝： 对基本数据类型进行值传递，对引用数据类型，创建一个新的，对其进行赋值。（两个指针指向不同的内存单元）</h6> 
<h6><a id="C__33"></a>浅拷贝：对基本数据类型进行值传递，对引用数据类型进行引用(类似C 中的指针，等于两个指针指向同一个内存单元)</h6> 
<p>​ 比如:</p> 
<p>​ 当使用浅拷贝中的clone<br> <img src="https://images2.imgbox.com/e3/eb/hNFwJwnc_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/b7/36/IJmU0hwc_o.png" alt="在这里插入图片描述"></p> 
<p>​ 测试结果如下，f1与f2中的成员变量并不相等。</p> 
<p><img src="https://images2.imgbox.com/be/9f/Dtv57h20_o.png" alt="在这里插入图片描述"></p> 
<p>​ 所以说如果要深拷贝必须将所有的成员变量都进行clone</p> 
<p>在写浅拷贝和深拷贝之前，还需要了解Java中的Clone</p> 
<p><img src="https://images2.imgbox.com/3e/28/xfwBrFqr_o.png" alt="在这里插入图片描述"></p> 
<p>可以看到如果类没有实现Cloneable接口就会报错，如果实现了就调用 internalClone() ， internalClone() 这个方法会返回一个这个类的一个新实例。</p> 
<p>所以说如果一个类需要调用Clone()， 那么这个了类需要实现Cloneable 接口<br> <img src="https://images2.imgbox.com/c7/4a/k6fA7NoI_o.png" alt="在这里插入图片描述"></p> 
<p>Cloneable 接口 只起到一个标识作用，表明这个类需要用到Clone()方法。</p> 
<h4><a id="_78"></a>如何进行浅拷贝？如何进行深拷贝</h4> 
<h6><a id="_86"></a>浅拷贝</h6> 
<p>​ 如图中的clone()方法 ，这就实现了浅拷贝</p> 
<p>​ 首先，这个类中有一个名为SonObject的子类。并且FatherObject 实现了Cloneable接口，并且Clone() 方法调用了Object中的Clone（）方法。</p> 
<h6><a id="_96"></a>深拷贝</h6> 
<p>​ 实现浅拷贝有两种方法，一种是利用Object中的Clone() ，一种是将类序列化然后再反序列化.</p> 
<p>​</p> 
<h6><a id="1_Objectclone_102"></a>1. 利用Object中的clone()</h6> 
<pre><code>​	图中实现了深拷贝的clone
</code></pre> 
<p><img src="https://images2.imgbox.com/98/bd/a15Bwqnd_o.png" alt="在这里插入图片描述"></p> 
<h6><a id="2__108"></a>2. 先序列化，反序列化</h6> 
<pre><code>   网络上的列子挺多的，这里就不详细描述。
</code></pre>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/d464b002868791401343e2fdbe7200e0/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Redis主从复制（八）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/49f776413e6b7d3251117344190ca28e/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Web低危漏洞之缺少“X-XSS-Protection“头的处理方法</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>