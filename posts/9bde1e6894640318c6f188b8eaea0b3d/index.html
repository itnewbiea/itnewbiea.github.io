<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>shell 练习题  1-10 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="shell 练习题  1-10" />
<meta property="og:description" content="shell 练习题 1-10
1-10题
1、判断用户名文件的行数是否大于25，如果大于25，提示 row above 25. 一行实现
2、截取系统一分钟的平均负载，只取整数部分
3、截取 ip 地址
4、统计连接状态 established 和 listen 的数量
5、判断用户名文件是否是20行，如果是，输出ok
6、统计 logfile 中每个IP的访问量有多少。
7、继续上一题，找出访问量超过15的IP
8、统计所有进程占用的内存大小，并计算总和。
9、删除文件前五行包含字母的行
10、bash for循环打印下面这句话中字母数不大于6的单词。
Bash also interprets a number of multi-characteroptions.
题目来自阿铭论坛 http://ask.apelearn.com/explore/category-65 答案都有自己去写，当然作为新手难免有考虑不周的地方，如有发现，欢迎指正。
1-10答案
1、if [ `wc -l /etc/passwd |awk &#39;{print $1}&#39;` -gt 25 ]; then echo &#34;rowabove 25&#34;; fi
2、uptime |awk &#39;{print $(NF-2)}&#39; |cut -d. -f1 3、ifconfig |head -n2 |grep Mask|awk &#39;{print $2}&#39;|awk -F &#39;:&#39; &#39;{print $2}&#39;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/9bde1e6894640318c6f188b8eaea0b3d/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2017-05-14T19:49:54+08:00" />
<meta property="article:modified_time" content="2017-05-14T19:49:54+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">shell 练习题  1-10</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div style="color:rgb(85,85,85); font-family:'microsoft yahei'; font-size:15px; line-height:35px"> 
 <p align="left"> </p> 
 <p align="left"><strong><a target="_blank" href="http://blog.csdn.net/cityzenoldwang/article/details/69663194" rel="noopener noreferrer"><span style="color:black">shell </span><span style="color:black">练习题</span><span style="color:black"> 1-10</span></a></strong></p> 
 <p align="left"><strong><span style="color:#555555">1-10</span><span style="color:#555555">题</span></strong></p> 
 <p align="left"><span style="color:#555555">1</span><span style="color:#555555">、判断用户名文件的行数是否大于</span><span style="color:#555555">25</span><span style="color:#555555">，如果大于</span><span style="color:#555555">25</span><span style="color:#555555">，提示</span><span style="color:#555555"> row above 25.  </span><span style="color:#555555">一行实现</span></p> 
 <p align="left"><span style="color:#555555">2</span><span style="color:#555555">、截取系统一分钟的平均负载，只取整数部分</span></p> 
 <p align="left"><span style="color:#555555">3</span><span style="color:#555555">、截取</span><span style="color:#555555"> ip </span><span style="color:#555555">地址</span></p> 
 <p align="left"><span style="color:#555555">4</span><span style="color:#555555">、统计连接状态</span><span style="color:#555555"> established </span><span style="color:#555555">和</span><span style="color:#555555"> listen </span> <span style="color:#555555">的数量</span></p> 
 <p align="left"><span style="color:#555555">5</span><span style="color:#555555">、判断用户名文件是否是</span><span style="color:#555555">20</span><span style="color:#555555">行，如果是，输出</span><span style="color:#555555">ok</span></p> 
 <p align="left"><span style="color:#555555">6</span><span style="color:#555555">、统计</span><span style="color:#555555"> logfile </span><span style="color:#555555">中每个</span><span style="color:#555555">IP</span><span style="color:#555555">的访问量有多少。</span></p> 
 <p align="left"><span style="color:#555555">7</span><span style="color:#555555">、继续上一题，找出访问量超过</span><span style="color:#555555">15</span><span style="color:#555555">的</span><span style="color:#555555">IP</span></p> 
 <p align="left"><span style="color:#555555">8</span><span style="color:#555555">、统计所有进程占用的内存大小，并计算总和。</span></p> 
 <p align="left"><span style="color:#555555">9</span><span style="color:#555555">、删除文件前五行包含字母的行</span></p> 
 <p align="left"><span style="color:#555555">10</span><span style="color:#555555">、</span><span style="color:#555555">bash for</span><span style="color:#555555">循环打印下面这句话中字母数不大于</span><span style="color:#555555">6</span><span style="color:#555555">的单词。</span><span style="color:#555555"><br>        Bash also interprets a number of multi-characteroptions.</span></p> 
 <p align="left"><span style="color:#555555"> </span></p> 
 <p align="left"><span style="color:#555555"> </span></p> 
 <p align="left"><span style="color:#555555">题目来自阿铭论坛</span><span style="color:#555555"> http://ask.apelearn.com/explore/category-65 </span></p> 
 <p align="left"><span style="color:#555555">答案都有自己去写，当然作为新手难免有考虑不周的地方，如有发现，欢迎指正。</span></p> 
 <p align="left"><span style="color:#555555"> </span></p> 
 <p align="left"><span style="color:#555555"> </span></p> 
 <p align="left"><span style="color:#555555"> </span></p> 
 <p align="left"><span style="color:#555555"> </span></p> 
 <p align="left"><strong><span style="color:#555555">1-10</span><span style="color:#555555">答案</span></strong></p> 
 <p align="left"><span style="color:#555555">1</span><span style="color:#555555">、</span><span style="color:#555555">if [ `wc -l /etc/passwd |awk '{print $1}'` -gt 25 ]; then echo "rowabove 25"; fi</span></p> 
 <p align="left"><span style="color:#555555"> </span></p> 
 <p align="left"><span style="color:#555555">2</span><span style="color:#555555">、</span><span style="color:#555555">uptime |awk '{print $(NF-2)}' |cut -d. -f1 </span></p> 
 <p align="left"><span style="color:#555555"> </span></p> 
 <p align="left"><span style="color:#555555">3</span><span style="color:#555555">、</span><span style="color:#555555">ifconfig |head -n2 |grep Mask|awk '{print $2}'|awk -F ':' '{print $2}'</span></p> 
 <p align="left"><span style="color:#555555"> </span></p> 
 <p align="left"><span style="color:#555555">4</span><span style="color:#555555">、</span><span style="color:#555555">netstat -an |awk '/^tcp/ {print $6}'| sort | uniq -c</span></p> 
 <p align="left"><span style="color:#555555">   netstat -an |awk '/^tcp/ {s[$6]++}; END {for (a in s) printa, s[a]}'</span></p> 
 <p align="left"><span style="color:#555555">   netstat -an |awk '/^tcp/ {M[$6]++}; END {for (b in M) printb, M[b]}'</span></p> 
 <p align="left" style="background:rgb(251,250,248)"><span style="color:#333333">$6</span><span style="color:#333333">定义一个变量内容，代表</span><span style="color:#333333">$6</span><span style="color:#333333">的值或内容，后面的</span><span style="color:#333333">a</span><span style="color:#333333">就代表</span><span style="color:#333333">$6</span><span style="color:#333333">实际的变量内容</span></p> 
 <p align="left" style="background:rgb(251,250,248)"><span style="color:#333333">s </span><span style="color:#333333">代表一个变量，内容是</span><span style="color:#333333"> $6 </span><span style="color:#333333">里面的不同的行，</span><span style="color:#333333">s[a]</span><span style="color:#333333">代表统计变量结果，</span><span style="color:#333333">a in s </span><span style="color:#333333">声明变量内容和变量</span></p> 
 <p align="left" style="background:rgb(251,250,248)"><span style="color:#333333">S1=S1+1</span></p> 
 <p align="left" style="background:rgb(251,250,248)"><span style="color:#333333">s </span><span style="color:#333333">和</span><span style="color:#333333"> a </span> <span style="color:#333333">可以随便替换，保证格式正确即可。</span></p> 
 <p align="left"><span style="color:#555555"> </span></p> 
 <p align="left"><span style="color:#555555">5</span><span style="color:#555555">、</span><span style="color:#555555">if [ `wc -l /etc/passwd |awk '{print $1}'` -gt 20 ] ; then echo ok; fi</span></p> 
 <p align="left"><span style="color:#555555">   if [ `wc -l /etc/passwd |awk '{print $1}'` == 20 ] ; thenecho ok; fi</span></p> 
 <p align="left"><span style="color:#555555"> </span></p> 
 <p align="left"><span style="color:#555555">6</span><span style="color:#555555">、</span><span style="color:#555555">awk '{print $1}' | sort| uniq -c |sort -rn </span></p> 
 <p align="left" style="background:rgb(251,250,248)"><span style="color:#333333">第一个</span><span style="color:#333333"> sort </span><span style="color:#333333">的目的是重新排序，为</span><span style="color:#333333">uniq -c </span><span style="color:#333333">做准备，</span><span style="color:#333333">sort -rn </span><span style="color:#333333">的目的是按访问量从大到小进行排序</span></p> 
 <p align="left"><span style="color:#555555"> </span></p> 
 <p align="left"><span style="color:#555555">7</span><span style="color:#555555">、</span><span style="color:#555555">awk '{print $1}' | sort| uniq -c |sort -rn | awk '$1 &gt;= 15'</span></p> 
 <p align="left"><span style="color:#555555"> </span></p> 
 <p align="left"><span style="color:#555555">8</span><span style="color:#555555">、</span><span style="color:#555555">ps aux |awk '{(sum=sum+$6)}; END{print sum}'</span></p> 
 <p align="left"><span style="color:#555555">   ps aux |awk '{print $6}' |grep -v RSS | awk '{sum+=$1}; END{print sum}'</span></p> 
 <p align="left" style="background:rgb(251,250,248)"><span style="color:#333333">#! /bin/bash</span></p> 
 <p align="left" style="background:rgb(251,250,248)"><span style="color:#333333">sum=0</span></p> 
 <p align="left" style="background:rgb(251,250,248)"><span style="color:#333333">for mem in `ps aux | awk '{print $6}' |grep -v 'RSS'`</span></p> 
 <p align="left" style="background:rgb(251,250,248)"><span style="color:#333333">do</span></p> 
 <p align="left" style="background:rgb(251,250,248)"><span style="color:#333333">    sum=$[$sum+$mem]</span></p> 
 <p align="left" style="background:rgb(251,250,248)"><span style="color:#333333">done</span></p> 
 <p align="left" style="background:rgb(251,250,248)"><span style="color:#333333">echo "The total memeory is: "$sum</span></p> 
 <p align="left" style="background:rgb(251,250,248)"><span style="color:#333333"> </span></p> 
 <p align="left"><span style="color:#555555"> </span></p> 
 <p align="left"><span style="color:#555555">9</span><span style="color:#555555">、</span><span style="color:#555555">head -n5 | sed '/[a-Z]/d' </span></p> 
 <p align="left"><span style="color:#555555"> </span></p> 
 <p align="left"><span style="color:#555555">10</span><span style="color:#555555">、</span></p> 
 <p align="left" style="background:rgb(251,250,248)"><span style="color:#333333">for i in Bash also interprets a numberof multi-character options</span></p> 
 <p align="left" style="background:rgb(251,250,248)"><span style="color:#333333">do</span></p> 
 <p align="left" style="background:rgb(251,250,248)"><span style="color:#333333">n=`echo $i |wc -m`</span></p> 
 <p align="left" style="background:rgb(251,250,248)"><span style="color:#333333">if [ ! $n -gt 6 ]</span></p> 
 <p align="left" style="background:rgb(251,250,248)"><span style="color:#333333">then</span></p> 
 <p align="left" style="background:rgb(251,250,248)"><span style="color:#333333">    echo $i</span></p> 
 <p align="left" style="background:rgb(251,250,248)"><span style="color:#333333">fi</span></p> 
 <p align="left" style="background:rgb(251,250,248)"><span style="color:#333333">done</span></p> 
 <p align="left"><span style="color:#555555">for s in Bash also interprets a number of multi-character options; don=`echo $s|wc -c`; if [ ! $n -gt 6 ]; then echo $s;fi; done</span></p> 
 <p> </p> 
 <br> 
</div>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/bf0084fd88da731e54794a4020b5c481/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">手把手 教你 打造 Win 10 好用终端（媲美Mac）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/f5fdc640d0bfe8cc4e9eee153333482b/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">zabbix 自定义脚本</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>