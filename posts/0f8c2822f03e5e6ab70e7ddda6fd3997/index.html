<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>这就是你日日夜夜想要的docker！！！---------Docker常规操作--端口映射、数据卷管理 以及容器互联 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="这就是你日日夜夜想要的docker！！！---------Docker常规操作--端口映射、数据卷管理 以及容器互联" />
<meta property="og:description" content="文章目录 一、端口映射1、-P随机端口2、映射指定一个端口3、映射指定多个端口4、映射到指定端口的指定地址5、映射到指定端口的任意地址6、查看端口映射情况 二、数据卷与数据卷容器1、挂载宿主系统（数据卷）2、数据卷容器操作 三、容器互联1、--link 通过虚链路连接2、通过中转网卡连接 一、端口映射 在启动容器的时候，如果不指定对应的参数，在容器外部是无法通过网络来访问容器内部的网络应用和服务的。
当容器中运行一些网络应用，要让外部访问这些应用时，可以通过-p或-P参数来指定端口映射。当使用-P(大写P)标记时，Docker会随机映射一个端口到内部容器开放的网络端口
1、-P随机端口 通过docker ps命令查看具体端口映射
[root@localhost opt]# docker run -d --name nginx_1 -P nginx:latest 64a061f37a4948d4b8b4dc28d3b0c0b51ceb65e1aef98b36cbc063af69352e85 [root@localhost opt]# docker ps -a CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 64a061f37a49 nginx:latest &#34;/docker-entrypoint.…&#34; 9 seconds ago Up 8 seconds 0.0.0.0:32769-&gt;80/tcp nginx_1 91781d90ed6d nginx &#34;/docker-entrypoint.…&#34; 26 minutes ago Created nostalgic_kilby 通过浏览器访问本机ip地址加映射的端口 就能访问到容器内的nginx
[root@localhost opt]# docker logs nginx_1 &#39;查看nginx_1容器的日志信息&#39; /docker-entrypoint.sh: /docker-entrypoint.d/ is not empty, will attempt to perform configuration /docker-entrypoint." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/0f8c2822f03e5e6ab70e7ddda6fd3997/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-09-20T23:29:12+08:00" />
<meta property="article:modified_time" content="2020-09-20T23:29:12+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">这就是你日日夜夜想要的docker！！！---------Docker常规操作--端口映射、数据卷管理 以及容器互联</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#_2" rel="nofollow">一、端口映射</a></li><li><ul><li><a href="#1P_5" rel="nofollow">1、-P随机端口</a></li><li><a href="#2_47" rel="nofollow">2、映射指定一个端口</a></li><li><a href="#3_62" rel="nofollow">3、映射指定多个端口</a></li><li><a href="#4_78" rel="nofollow">4、映射到指定端口的指定地址</a></li><li><a href="#5_93" rel="nofollow">5、映射到指定端口的任意地址</a></li><li><a href="#6_109" rel="nofollow">6、查看端口映射情况</a></li></ul> 
  </li><li><a href="#_126" rel="nofollow">二、数据卷与数据卷容器</a></li><li><ul><li><a href="#1_138" rel="nofollow">1、挂载宿主系统（数据卷）</a></li><li><a href="#2_162" rel="nofollow">2、数据卷容器操作</a></li></ul> 
  </li><li><a href="#_214" rel="nofollow">三、容器互联</a></li><li><ul><li><a href="#1link__215" rel="nofollow">1、--link 通过虚链路连接</a></li><li><a href="#2_238" rel="nofollow">2、通过中转网卡连接</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="_2"></a>一、端口映射</h2> 
<p>在启动容器的时候，如果不指定对应的参数，在容器外部是无法通过网络来访问容器内部的网络应用和服务的。<br> 　　当容器中运行一些网络应用，要让外部访问这些应用时，可以通过-p或-P参数来指定端口映射。当使用-P(大写P)标记时，Docker会随机映射一个端口到内部容器开放的网络端口</p> 
<h3><a id="1P_5"></a>1、-P随机端口</h3> 
<p>通过docker ps命令查看具体端口映射</p> 
<pre><code class="prism language-handlebars"><span class="token brackets"><span class="token punctuation">[</span><span class="token variable">root@localhost opt</span><span class="token punctuation">]</span></span><span class="token punctuation">#</span> <span class="token variable">docker</span> <span class="token variable">run</span> <span class="token variable">-d</span> <span class="token variable">--name</span> <span class="token variable">nginx_1</span> <span class="token variable">-P</span> <span class="token variable">nginx:latest</span>
<span class="token number">64</span><span class="token variable">a061f37a4948d4b8b4dc28d3b0c0b51ceb65e1aef98b36cbc063af69352e85</span>
<span class="token brackets"><span class="token punctuation">[</span><span class="token variable">root@localhost opt</span><span class="token punctuation">]</span></span><span class="token punctuation">#</span> <span class="token variable">docker</span> <span class="token variable">ps</span> <span class="token variable">-a</span>
<span class="token variable">CONTAINER</span> <span class="token variable">ID</span>        <span class="token variable">IMAGE</span>               <span class="token variable">COMMAND</span>                  <span class="token variable">CREATED</span>             <span class="token variable">STATUS</span>              <span class="token variable">PORTS</span>                   <span class="token variable">NAMES</span>
<span class="token number">64</span><span class="token variable">a061f37a49</span>        <span class="token variable">nginx:latest</span>        <span class="token string">"/docker-entrypoint.…"</span>   <span class="token number">9</span> <span class="token variable">seconds</span> <span class="token variable">ago</span>       <span class="token variable">Up</span> <span class="token number">8</span> <span class="token variable">seconds</span>        <span class="token number">0.0</span><span class="token number">.0</span><span class="token number">.0</span><span class="token variable">:</span><span class="token number">32769</span><span class="token variable">-</span><span class="token punctuation">&gt;</span><span class="token number">80</span><span class="token block keyword">/tcp</span>   <span class="token variable">nginx_1</span>
<span class="token number">91781</span><span class="token variable">d90ed6d</span>        <span class="token variable">nginx</span>               <span class="token string">"/docker-entrypoint.…"</span>   <span class="token number">26</span> <span class="token variable">minutes</span> <span class="token variable">ago</span>      <span class="token variable">Created</span>                                     <span class="token variable">nostalgic_kilby</span>
</code></pre> 
<p>通过浏览器访问本机ip地址加映射的端口 就能访问到容器内的nginx<br> <img src="https://images2.imgbox.com/6d/75/ws0Rejiy_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-handlebars"><span class="token brackets"><span class="token punctuation">[</span><span class="token variable">root@localhost opt</span><span class="token punctuation">]</span></span><span class="token punctuation">#</span> <span class="token variable">docker</span> <span class="token variable">logs</span> <span class="token variable">nginx_1</span>   <span class="token string">'查看nginx_1容器的日志信息'</span>
<span class="token block keyword">/docker-entrypoint.sh:</span> <span class="token block keyword">/docker-entrypoint.d/</span> <span class="token variable">is</span> <span class="token variable">not</span> <span class="token variable">empty</span><span class="token punctuation">,</span> <span class="token variable">will</span> <span class="token variable">attempt</span> <span class="token variable">to</span> <span class="token variable">perform</span> <span class="token variable">configuration</span>
<span class="token punctuation">/</span><span class="token variable">docker-entrypoint</span><span class="token punctuation">.</span><span class="token variable">sh:</span> <span class="token variable">Looking</span> <span class="token variable">for</span> <span class="token variable">shell</span> <span class="token variable">scripts</span> <span class="token variable">in</span> <span class="token punctuation">/</span><span class="token variable">docker-entrypoint</span><span class="token punctuation">.</span><span class="token variable">d</span><span class="token punctuation">/</span>
<span class="token punctuation">/</span><span class="token variable">docker-entrypoint</span><span class="token punctuation">.</span><span class="token variable">sh:</span> <span class="token variable">Launching</span> <span class="token punctuation">/</span><span class="token variable">docker-entrypoint</span><span class="token punctuation">.</span><span class="token variable">d</span><span class="token punctuation">/</span><span class="token number">10</span><span class="token variable">-listen-on-ipv6-by-default</span><span class="token punctuation">.</span><span class="token variable">sh</span>
<span class="token number">10</span><span class="token variable">-listen-on-ipv6-by-default</span><span class="token punctuation">.</span><span class="token variable">sh:</span> <span class="token variable">Getting</span> <span class="token variable">the</span> <span class="token variable">checksum</span> <span class="token variable">of</span> <span class="token punctuation">/</span><span class="token variable">etc</span><span class="token punctuation">/</span><span class="token variable">nginx</span><span class="token punctuation">/</span><span class="token variable">conf</span><span class="token punctuation">.</span><span class="token variable">d</span><span class="token punctuation">/</span><span class="token variable">default</span><span class="token punctuation">.</span><span class="token variable">conf</span>
<span class="token number">10</span><span class="token variable">-listen-on-ipv6-by-default</span><span class="token punctuation">.</span><span class="token variable">sh:</span> <span class="token variable">Enabled</span> <span class="token variable">listen</span> <span class="token variable">on</span> <span class="token variable">IPv6</span> <span class="token variable">in</span> <span class="token punctuation">/</span><span class="token variable">etc</span><span class="token punctuation">/</span><span class="token variable">nginx</span><span class="token punctuation">/</span><span class="token variable">conf</span><span class="token punctuation">.</span><span class="token variable">d</span><span class="token punctuation">/</span><span class="token variable">default</span><span class="token punctuation">.</span><span class="token variable">conf</span>
<span class="token punctuation">/</span><span class="token variable">docker-entrypoint</span><span class="token punctuation">.</span><span class="token variable">sh:</span> <span class="token variable">Launching</span> <span class="token punctuation">/</span><span class="token variable">docker-entrypoint</span><span class="token punctuation">.</span><span class="token variable">d</span><span class="token punctuation">/</span><span class="token number">20</span><span class="token variable">-envsubst-on-templates</span><span class="token punctuation">.</span><span class="token variable">sh</span>
<span class="token punctuation">/</span><span class="token variable">docker-entrypoint</span><span class="token punctuation">.</span><span class="token variable">sh:</span> <span class="token variable">Configuration</span> <span class="token variable">complete</span><span class="token punctuation">;</span> <span class="token variable">ready</span> <span class="token variable">for</span> <span class="token variable">start</span> <span class="token variable">up</span>
<span class="token number">192.168</span><span class="token number">.110</span><span class="token number">.1</span> <span class="token variable">-</span> <span class="token variable">-</span> <span class="token punctuation">[</span><span class="token number">20</span><span class="token block keyword">/Sep/</span><span class="token number">2020</span><span class="token variable">:</span><span class="token number">11</span><span class="token variable">:</span><span class="token number">27</span><span class="token variable">:</span><span class="token number">41</span> <span class="token punctuation">+</span><span class="token number">0000</span><span class="token punctuation">]</span> <span class="token string">"GET / HTTP/1.1"</span> <span class="token number">200</span> <span class="token number">612</span> <span class="token string">"-"</span> <span class="token string">"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/85.0.4183.83 Safari/537.36"</span> <span class="token string">"-"</span>
<span class="token number">2020</span><span class="token punctuation">/</span><span class="token number">09</span><span class="token punctuation">/</span><span class="token number">20</span> <span class="token number">11</span><span class="token variable">:</span><span class="token number">27</span><span class="token variable">:</span><span class="token number">41</span> <span class="token brackets"><span class="token punctuation">[</span><span class="token variable">error</span><span class="token punctuation">]</span></span> <span class="token number">28</span><span class="token punctuation">#</span><span class="token number">28</span><span class="token variable">:</span> <span class="token punctuation">*</span><span class="token number">1</span> <span class="token variable">open</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token string">"/usr/share/nginx/html/favicon.ico"</span> <span class="token variable">failed</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token variable">:</span> <span class="token variable">No</span> <span class="token variable">such</span> <span class="token variable">file</span> <span class="token variable">or</span> <span class="token variable">directory</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token variable">client:</span> <span class="token number">192.168</span><span class="token number">.110</span><span class="token number">.1</span><span class="token punctuation">,</span> <span class="token variable">server:</span> <span class="token variable">localhost</span><span class="token punctuation">,</span> <span class="token variable">request:</span> <span class="token string">"GET /favicon.ico HTTP/1.1"</span><span class="token punctuation">,</span> <span class="token variable">host:</span> <span class="token string">"192.168.110.133:32769"</span><span class="token punctuation">,</span> <span class="token variable">referrer:</span> <span class="token string">"http://192.168.110.133:32769/"</span>
<span class="token number">192.168</span><span class="token number">.110</span><span class="token number">.1</span> <span class="token variable">-</span> <span class="token variable">-</span> <span class="token punctuation">[</span><span class="token number">20</span><span class="token block keyword">/Sep/</span><span class="token number">2020</span><span class="token variable">:</span><span class="token number">11</span><span class="token variable">:</span><span class="token number">27</span><span class="token variable">:</span><span class="token number">41</span> <span class="token punctuation">+</span><span class="token number">0000</span><span class="token punctuation">]</span> <span class="token string">"GET /favicon.ico HTTP/1.1"</span> <span class="token number">404</span> <span class="token number">555</span> <span class="token string">"http://192.168.110.133:32769/"</span> <span class="token string">"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/85.0.4183.83 Safari/537.36"</span> <span class="token string">"-"</span>
<span class="token brackets"><span class="token punctuation">[</span><span class="token variable">root@localhost opt</span><span class="token punctuation">]</span></span><span class="token punctuation">#</span> <span class="token variable">docker</span> <span class="token variable">logs</span> <span class="token variable">nginx_1</span> 
<span class="token punctuation">/</span><span class="token variable">docker-entrypoint</span><span class="token punctuation">.</span><span class="token variable">sh:</span> <span class="token punctuation">/</span><span class="token variable">docker-entrypoint</span><span class="token punctuation">.</span><span class="token variable">d</span><span class="token punctuation">/</span> <span class="token variable">is</span> <span class="token variable">not</span> <span class="token variable">empty</span><span class="token punctuation">,</span> <span class="token variable">will</span> <span class="token variable">attempt</span> <span class="token variable">to</span> <span class="token variable">perform</span> <span class="token variable">configuration</span>
<span class="token punctuation">/</span><span class="token variable">docker-entrypoint</span><span class="token punctuation">.</span><span class="token variable">sh:</span> <span class="token variable">Looking</span> <span class="token variable">for</span> <span class="token variable">shell</span> <span class="token variable">scripts</span> <span class="token variable">in</span> <span class="token punctuation">/</span><span class="token variable">docker-entrypoint</span><span class="token punctuation">.</span><span class="token variable">d</span><span class="token punctuation">/</span>
<span class="token punctuation">/</span><span class="token variable">docker-entrypoint</span><span class="token punctuation">.</span><span class="token variable">sh:</span> <span class="token variable">Launching</span> <span class="token punctuation">/</span><span class="token variable">docker-entrypoint</span><span class="token punctuation">.</span><span class="token variable">d</span><span class="token punctuation">/</span><span class="token number">10</span><span class="token variable">-listen-on-ipv6-by-default</span><span class="token punctuation">.</span><span class="token variable">sh</span>
<span class="token number">10</span><span class="token variable">-listen-on-ipv6-by-default</span><span class="token punctuation">.</span><span class="token variable">sh:</span> <span class="token variable">Getting</span> <span class="token variable">the</span> <span class="token variable">checksum</span> <span class="token variable">of</span> <span class="token punctuation">/</span><span class="token variable">etc</span><span class="token punctuation">/</span><span class="token variable">nginx</span><span class="token punctuation">/</span><span class="token variable">conf</span><span class="token punctuation">.</span><span class="token variable">d</span><span class="token punctuation">/</span><span class="token variable">default</span><span class="token punctuation">.</span><span class="token variable">conf</span>
<span class="token number">10</span><span class="token variable">-listen-on-ipv6-by-default</span><span class="token punctuation">.</span><span class="token variable">sh:</span> <span class="token variable">Enabled</span> <span class="token variable">listen</span> <span class="token variable">on</span> <span class="token variable">IPv6</span> <span class="token variable">in</span> <span class="token punctuation">/</span><span class="token variable">etc</span><span class="token punctuation">/</span><span class="token variable">nginx</span><span class="token punctuation">/</span><span class="token variable">conf</span><span class="token punctuation">.</span><span class="token variable">d</span><span class="token punctuation">/</span><span class="token variable">default</span><span class="token punctuation">.</span><span class="token variable">conf</span>
<span class="token punctuation">/</span><span class="token variable">docker-entrypoint</span><span class="token punctuation">.</span><span class="token variable">sh:</span> <span class="token variable">Launching</span> <span class="token punctuation">/</span><span class="token variable">docker-entrypoint</span><span class="token punctuation">.</span><span class="token variable">d</span><span class="token punctuation">/</span><span class="token number">20</span><span class="token variable">-envsubst-on-templates</span><span class="token punctuation">.</span><span class="token variable">sh</span>
<span class="token punctuation">/</span><span class="token variable">docker-entrypoint</span><span class="token punctuation">.</span><span class="token variable">sh:</span> <span class="token variable">Configuration</span> <span class="token variable">complete</span><span class="token punctuation">;</span> <span class="token variable">ready</span> <span class="token variable">for</span> <span class="token variable">start</span> <span class="token variable">up</span>
<span class="token number">192.168</span><span class="token number">.110</span><span class="token number">.1</span> <span class="token variable">-</span> <span class="token variable">-</span> <span class="token punctuation">[</span><span class="token number">20</span><span class="token block keyword">/Sep/</span><span class="token number">2020</span><span class="token variable">:</span><span class="token number">11</span><span class="token variable">:</span><span class="token number">27</span><span class="token variable">:</span><span class="token number">41</span> <span class="token punctuation">+</span><span class="token number">0000</span><span class="token punctuation">]</span> <span class="token string">"GET / HTTP/1.1"</span> <span class="token number">200</span> <span class="token number">612</span> <span class="token string">"-"</span> <span class="token string">"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/85.0.4183.83 Safari/537.36"</span> <span class="token string">"-"</span>
<span class="token number">2020</span><span class="token punctuation">/</span><span class="token number">09</span><span class="token punctuation">/</span><span class="token number">20</span> <span class="token number">11</span><span class="token variable">:</span><span class="token number">27</span><span class="token variable">:</span><span class="token number">41</span> <span class="token brackets"><span class="token punctuation">[</span><span class="token variable">error</span><span class="token punctuation">]</span></span> <span class="token number">28</span><span class="token punctuation">#</span><span class="token number">28</span><span class="token variable">:</span> <span class="token punctuation">*</span><span class="token number">1</span> <span class="token variable">open</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token string">"/usr/share/nginx/html/favicon.ico"</span> <span class="token variable">failed</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token variable">:</span> <span class="token variable">No</span> <span class="token variable">such</span> <span class="token variable">file</span> <span class="token variable">or</span> <span class="token variable">directory</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token variable">client:</span> <span class="token number">192.168</span><span class="token number">.110</span><span class="token number">.1</span><span class="token punctuation">,</span> <span class="token variable">server:</span> <span class="token variable">localhost</span><span class="token punctuation">,</span> <span class="token variable">request:</span> <span class="token string">"GET /favicon.ico HTTP/1.1"</span><span class="token punctuation">,</span> <span class="token variable">host:</span> <span class="token string">"192.168.110.133:32769"</span><span class="token punctuation">,</span> <span class="token variable">referrer:</span> <span class="token string">"http://192.168.110.133:32769/"</span>
<span class="token number">192.168</span><span class="token number">.110</span><span class="token number">.1</span> <span class="token variable">-</span> <span class="token variable">-</span> <span class="token punctuation">[</span><span class="token number">20</span><span class="token block keyword">/Sep/</span><span class="token number">2020</span><span class="token variable">:</span><span class="token number">11</span><span class="token variable">:</span><span class="token number">27</span><span class="token variable">:</span><span class="token number">41</span> <span class="token punctuation">+</span><span class="token number">0000</span><span class="token punctuation">]</span> <span class="token string">"GET /favicon.ico HTTP/1.1"</span> <span class="token number">404</span> <span class="token number">555</span> <span class="token string">"http://192.168.110.133:32769/"</span> <span class="token string">"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/85.0.4183.83 Safari/537.36"</span> <span class="token string">"-"</span>
<span class="token brackets"><span class="token punctuation">[</span><span class="token variable">root@localhost opt</span><span class="token punctuation">]</span></span><span class="token punctuation">#</span> 
</code></pre> 
<p><img src="https://images2.imgbox.com/09/38/10bmHzZK_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="2_47"></a>2、映射指定一个端口</h3> 
<pre><code class="prism language-handlebars"><span class="token brackets"><span class="token punctuation">[</span><span class="token variable">root@localhost opt</span><span class="token punctuation">]</span></span><span class="token punctuation">#</span> <span class="token variable">docker</span> <span class="token variable">run</span> <span class="token variable">-itd</span> <span class="token variable">-p</span> <span class="token number">5000</span><span class="token variable">:</span><span class="token number">80</span> <span class="token variable">--name</span> <span class="token variable">nginx_2</span> <span class="token variable">nginx:latest</span> 
<span class="token variable">c6209375b508a67cbaae20b93e140e24a233b9a5a9a4b97db386782a769214f4</span>
<span class="token brackets"><span class="token punctuation">[</span><span class="token variable">root@localhost opt</span><span class="token punctuation">]</span></span><span class="token punctuation">#</span> <span class="token variable">docker</span> <span class="token variable">ps</span> <span class="token variable">-a</span>
<span class="token variable">CONTAINER</span> <span class="token variable">ID</span>        <span class="token variable">IMAGE</span>               <span class="token variable">COMMAND</span>                  <span class="token variable">CREATED</span>              <span class="token variable">STATUS</span>              <span class="token variable">PORTS</span>                   <span class="token variable">NAMES</span>
<span class="token variable">c6209375b508</span>        <span class="token variable">nginx:latest</span>        <span class="token string">"/docker-entrypoint.…"</span>   <span class="token variable">About</span> <span class="token variable">a</span> <span class="token variable">minute</span> <span class="token variable">ago</span>   <span class="token variable">Up</span> <span class="token variable">About</span> <span class="token variable">a</span> <span class="token variable">minute</span>   <span class="token number">0.0</span><span class="token number">.0</span><span class="token number">.0</span><span class="token variable">:</span><span class="token number">5000</span><span class="token variable">-</span><span class="token punctuation">&gt;</span><span class="token number">80</span><span class="token block keyword">/tcp</span>    <span class="token variable">nginx_2</span>
<span class="token number">64</span><span class="token variable">a061f37a49</span>        <span class="token variable">nginx:latest</span>        <span class="token string">"/docker-entrypoint.…"</span>   <span class="token number">18</span> <span class="token variable">minutes</span> <span class="token variable">ago</span>       <span class="token variable">Up</span> <span class="token number">18</span> <span class="token variable">minutes</span>       <span class="token number">0.0</span><span class="token number">.0</span><span class="token number">.0</span><span class="token variable">:</span><span class="token number">32769</span><span class="token variable">-</span><span class="token punctuation">&gt;</span><span class="token number">80</span><span class="token block keyword">/tcp</span>   <span class="token variable">nginx_1</span>
<span class="token number">91781</span><span class="token variable">d90ed6d</span>        <span class="token variable">nginx</span>               <span class="token string">"/docker-entrypoint.…"</span>   <span class="token number">44</span> <span class="token variable">minutes</span> <span class="token variable">ago</span>       <span class="token variable">Created</span>                                     <span class="token variable">nostalgic_kilby</span>
<span class="token brackets"><span class="token punctuation">[</span><span class="token variable">root@localhost opt</span><span class="token punctuation">]</span></span><span class="token punctuation">#</span> 
</code></pre> 
<p><img src="https://images2.imgbox.com/b4/16/dnBGXOSN_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="3_62"></a>3、映射指定多个端口</h3> 
<pre><code class="prism language-handlebars"><span class="token brackets"><span class="token punctuation">[</span><span class="token variable">root@localhost opt</span><span class="token punctuation">]</span></span><span class="token punctuation">#</span> <span class="token variable">docker</span> <span class="token variable">run</span> <span class="token variable">-itd</span> <span class="token variable">-p</span> <span class="token number">3000</span><span class="token variable">:</span><span class="token number">80</span> <span class="token variable">-p</span> <span class="token number">4000</span><span class="token variable">:</span><span class="token number">80</span> <span class="token variable">--name</span> <span class="token variable">nginx_3</span> <span class="token variable">nginx:latest</span> 
<span class="token variable">a242202d9061d83191e63c9b602f9b35927fb81008a1b82f0c9a2e203f51552d</span>
<span class="token brackets"><span class="token punctuation">[</span><span class="token variable">root@localhost opt</span><span class="token punctuation">]</span></span><span class="token punctuation">#</span> <span class="token variable">docker</span> <span class="token variable">ps</span> <span class="token variable">-a</span>
<span class="token variable">CONTAINER</span> <span class="token variable">ID</span>        <span class="token variable">IMAGE</span>               <span class="token variable">COMMAND</span>                  <span class="token variable">CREATED</span>             <span class="token variable">STATUS</span>              <span class="token variable">PORTS</span>                                        <span class="token variable">NAMES</span>
<span class="token variable">a242202d9061</span>        <span class="token variable">nginx:latest</span>        <span class="token string">"/docker-entrypoint.…"</span>   <span class="token number">4</span> <span class="token variable">seconds</span> <span class="token variable">ago</span>       <span class="token variable">Up</span> <span class="token number">3</span> <span class="token variable">seconds</span>        <span class="token number">0.0</span><span class="token number">.0</span><span class="token number">.0</span><span class="token variable">:</span><span class="token number">3000</span><span class="token variable">-</span><span class="token punctuation">&gt;</span><span class="token number">80</span><span class="token block keyword">/tcp,</span> <span class="token number">0.0</span><span class="token number">.0</span><span class="token number">.0</span><span class="token variable">:</span><span class="token number">4000</span><span class="token variable">-</span><span class="token punctuation">&gt;</span><span class="token number">80</span><span class="token block keyword">/tcp</span>   <span class="token variable">nginx_3</span>
<span class="token variable">c6209375b508</span>        <span class="token variable">nginx:latest</span>        <span class="token string">"/docker-entrypoint.…"</span>   <span class="token number">6</span> <span class="token variable">minutes</span> <span class="token variable">ago</span>       <span class="token variable">Up</span> <span class="token number">6</span> <span class="token variable">minutes</span>        <span class="token number">0.0</span><span class="token number">.0</span><span class="token number">.0</span><span class="token variable">:</span><span class="token number">5000</span><span class="token variable">-</span><span class="token punctuation">&gt;</span><span class="token number">80</span><span class="token block keyword">/tcp</span>                         <span class="token variable">nginx_2</span>
<span class="token number">64</span><span class="token variable">a061f37a49</span>        <span class="token variable">nginx:latest</span>        <span class="token string">"/docker-entrypoint.…"</span>   <span class="token number">23</span> <span class="token variable">minutes</span> <span class="token variable">ago</span>      <span class="token variable">Up</span> <span class="token number">23</span> <span class="token variable">minutes</span>       <span class="token number">0.0</span><span class="token number">.0</span><span class="token number">.0</span><span class="token variable">:</span><span class="token number">32769</span><span class="token variable">-</span><span class="token punctuation">&gt;</span><span class="token number">80</span><span class="token block keyword">/tcp</span>                        <span class="token variable">nginx_1</span>
<span class="token number">91781</span><span class="token variable">d90ed6d</span>        <span class="token variable">nginx</span>               <span class="token string">"/docker-entrypoint.…"</span>   <span class="token number">49</span> <span class="token variable">minutes</span> <span class="token variable">ago</span>      <span class="token variable">Created</span>                                                          <span class="token variable">nostalgic_kilby</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/ca/c7/3f5hSwqb_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/c7/be/Uzbl7DPj_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="4_78"></a>4、映射到指定端口的指定地址</h3> 
<pre><code class="prism language-handlebars"><span class="token brackets"><span class="token punctuation">[</span><span class="token variable">root@localhost opt</span><span class="token punctuation">]</span></span><span class="token punctuation">#</span> <span class="token variable">docker</span> <span class="token variable">run</span> <span class="token variable">-itd</span> <span class="token variable">-p</span> <span class="token number">192.168</span><span class="token number">.110</span><span class="token number">.133</span><span class="token variable">:</span><span class="token number">1000</span><span class="token variable">:</span><span class="token number">80</span> <span class="token variable">--name</span> <span class="token variable">nginx_4</span> <span class="token variable">nginx:latest</span> 
<span class="token number">66</span><span class="token variable">a3161186e3f573a8ed55fa4abb974ceefcdca389330c9f8823bd4f0daaa102</span>
<span class="token brackets"><span class="token punctuation">[</span><span class="token variable">root@localhost opt</span><span class="token punctuation">]</span></span><span class="token punctuation">#</span> <span class="token variable">docker</span> <span class="token variable">ps</span> <span class="token variable">-a</span>
<span class="token variable">CONTAINER</span> <span class="token variable">ID</span>        <span class="token variable">IMAGE</span>               <span class="token variable">COMMAND</span>                  <span class="token variable">CREATED</span>             <span class="token variable">STATUS</span>              <span class="token variable">PORTS</span>                                        <span class="token variable">NAMES</span>
<span class="token number">66</span><span class="token variable">a3161186e3</span>        <span class="token variable">nginx:latest</span>        <span class="token string">"/docker-entrypoint.…"</span>   <span class="token number">10</span> <span class="token variable">seconds</span> <span class="token variable">ago</span>      <span class="token variable">Up</span> <span class="token number">8</span> <span class="token variable">seconds</span>        <span class="token number">192.168</span><span class="token number">.110</span><span class="token number">.133</span><span class="token variable">:</span><span class="token number">1000</span><span class="token variable">-</span><span class="token punctuation">&gt;</span><span class="token number">80</span><span class="token block keyword">/tcp</span>                 <span class="token variable">nginx_4</span>
<span class="token variable">a242202d9061</span>        <span class="token variable">nginx:latest</span>        <span class="token string">"/docker-entrypoint.…"</span>   <span class="token number">13</span> <span class="token variable">minutes</span> <span class="token variable">ago</span>      <span class="token variable">Up</span> <span class="token number">13</span> <span class="token variable">minutes</span>       <span class="token number">0.0</span><span class="token number">.0</span><span class="token number">.0</span><span class="token variable">:</span><span class="token number">3000</span><span class="token variable">-</span><span class="token punctuation">&gt;</span><span class="token number">80</span><span class="token block keyword">/tcp,</span> <span class="token number">0.0</span><span class="token number">.0</span><span class="token number">.0</span><span class="token variable">:</span><span class="token number">4000</span><span class="token variable">-</span><span class="token punctuation">&gt;</span><span class="token number">80</span><span class="token block keyword">/tcp</span>   <span class="token variable">nginx_3</span>
<span class="token variable">c6209375b508</span>        <span class="token variable">nginx:latest</span>        <span class="token string">"/docker-entrypoint.…"</span>   <span class="token number">20</span> <span class="token variable">minutes</span> <span class="token variable">ago</span>      <span class="token variable">Up</span> <span class="token number">20</span> <span class="token variable">minutes</span>       <span class="token number">0.0</span><span class="token number">.0</span><span class="token number">.0</span><span class="token variable">:</span><span class="token number">5000</span><span class="token variable">-</span><span class="token punctuation">&gt;</span><span class="token number">80</span><span class="token block keyword">/tcp</span>                         <span class="token variable">nginx_2</span>
<span class="token number">64</span><span class="token variable">a061f37a49</span>        <span class="token variable">nginx:latest</span>        <span class="token string">"/docker-entrypoint.…"</span>   <span class="token number">37</span> <span class="token variable">minutes</span> <span class="token variable">ago</span>      <span class="token variable">Up</span> <span class="token number">37</span> <span class="token variable">minutes</span>       <span class="token number">0.0</span><span class="token number">.0</span><span class="token number">.0</span><span class="token variable">:</span><span class="token number">32769</span><span class="token variable">-</span><span class="token punctuation">&gt;</span><span class="token number">80</span><span class="token block keyword">/tcp</span>                        <span class="token variable">nginx_1</span>
<span class="token number">91781</span><span class="token variable">d90ed6d</span>        <span class="token variable">nginx</span>               <span class="token string">"/docker-entrypoint.…"</span>   <span class="token variable">About</span> <span class="token variable">an</span> <span class="token variable">hour</span> <span class="token variable">ago</span>   <span class="token variable">Created</span>                                                          <span class="token variable">nostalgic_kilby</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/74/4b/5Yw3Y3k6_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="5_93"></a>5、映射到指定端口的任意地址</h3> 
<p>使用IP::ContainerPort格式绑定本机的任意端口到容器的指定端口</p> 
<pre><code class="prism language-handlebars"><span class="token brackets"><span class="token punctuation">[</span><span class="token variable">root@localhost opt</span><span class="token punctuation">]</span></span><span class="token punctuation">#</span> <span class="token variable">docker</span> <span class="token variable">run</span> <span class="token variable">-itd</span> <span class="token variable">-p</span> <span class="token number">192.168</span><span class="token number">.110</span><span class="token number">.133</span><span class="token variable">::</span><span class="token number">80</span> <span class="token variable">--name</span> <span class="token variable">nginx_5</span> <span class="token variable">nginx:latest</span> 
<span class="token number">3</span><span class="token variable">f4c88cce0fbf1b10629066c24d97a3a706cff319e6f64cf88455ef19eb96514</span>
<span class="token brackets"><span class="token punctuation">[</span><span class="token variable">root@localhost opt</span><span class="token punctuation">]</span></span><span class="token punctuation">#</span> <span class="token variable">docker</span> <span class="token variable">ps</span> <span class="token variable">-a</span>
<span class="token variable">CONTAINER</span> <span class="token variable">ID</span>        <span class="token variable">IMAGE</span>               <span class="token variable">COMMAND</span>                  <span class="token variable">CREATED</span>             <span class="token variable">STATUS</span>              <span class="token variable">PORTS</span>                                        <span class="token variable">NAMES</span>
<span class="token number">3</span><span class="token variable">f4c88cce0fb</span>        <span class="token variable">nginx:latest</span>        <span class="token string">"/docker-entrypoint.…"</span>   <span class="token number">9</span> <span class="token variable">seconds</span> <span class="token variable">ago</span>       <span class="token variable">Up</span> <span class="token number">8</span> <span class="token variable">seconds</span>        <span class="token number">192.168</span><span class="token number">.110</span><span class="token number">.133</span><span class="token variable">:</span><span class="token number">32768</span><span class="token variable">-</span><span class="token punctuation">&gt;</span><span class="token number">80</span><span class="token block keyword">/tcp</span>                <span class="token variable">nginx_5</span>
<span class="token number">66</span><span class="token variable">a3161186e3</span>        <span class="token variable">nginx:latest</span>        <span class="token string">"/docker-entrypoint.…"</span>   <span class="token number">6</span> <span class="token variable">minutes</span> <span class="token variable">ago</span>       <span class="token variable">Up</span> <span class="token number">6</span> <span class="token variable">minutes</span>        <span class="token number">192.168</span><span class="token number">.110</span><span class="token number">.133</span><span class="token variable">:</span><span class="token number">1000</span><span class="token variable">-</span><span class="token punctuation">&gt;</span><span class="token number">80</span><span class="token block keyword">/tcp</span>                 <span class="token variable">nginx_4</span>
<span class="token variable">a242202d9061</span>        <span class="token variable">nginx:latest</span>        <span class="token string">"/docker-entrypoint.…"</span>   <span class="token number">20</span> <span class="token variable">minutes</span> <span class="token variable">ago</span>      <span class="token variable">Up</span> <span class="token number">20</span> <span class="token variable">minutes</span>       <span class="token number">0.0</span><span class="token number">.0</span><span class="token number">.0</span><span class="token variable">:</span><span class="token number">3000</span><span class="token variable">-</span><span class="token punctuation">&gt;</span><span class="token number">80</span><span class="token block keyword">/tcp,</span> <span class="token number">0.0</span><span class="token number">.0</span><span class="token number">.0</span><span class="token variable">:</span><span class="token number">4000</span><span class="token variable">-</span><span class="token punctuation">&gt;</span><span class="token number">80</span><span class="token block keyword">/tcp</span>   <span class="token variable">nginx_3</span>
<span class="token variable">c6209375b508</span>        <span class="token variable">nginx:latest</span>        <span class="token string">"/docker-entrypoint.…"</span>   <span class="token number">26</span> <span class="token variable">minutes</span> <span class="token variable">ago</span>      <span class="token variable">Up</span> <span class="token number">26</span> <span class="token variable">minutes</span>       <span class="token number">0.0</span><span class="token number">.0</span><span class="token number">.0</span><span class="token variable">:</span><span class="token number">5000</span><span class="token variable">-</span><span class="token punctuation">&gt;</span><span class="token number">80</span><span class="token block keyword">/tcp</span>                         <span class="token variable">nginx_2</span>
<span class="token number">64</span><span class="token variable">a061f37a49</span>        <span class="token variable">nginx:latest</span>        <span class="token string">"/docker-entrypoint.…"</span>   <span class="token number">43</span> <span class="token variable">minutes</span> <span class="token variable">ago</span>      <span class="token variable">Up</span> <span class="token number">43</span> <span class="token variable">minutes</span>       <span class="token number">0.0</span><span class="token number">.0</span><span class="token number">.0</span><span class="token variable">:</span><span class="token number">32769</span><span class="token variable">-</span><span class="token punctuation">&gt;</span><span class="token number">80</span><span class="token block keyword">/tcp</span>                        <span class="token variable">nginx_1</span>
<span class="token number">91781</span><span class="token variable">d90ed6d</span>        <span class="token variable">nginx</span>               <span class="token string">"/docker-entrypoint.…"</span>   <span class="token variable">About</span> <span class="token variable">an</span> <span class="token variable">hour</span> <span class="token variable">ago</span>   <span class="token variable">Created</span>                                                          <span class="token variable">nostalgic_kilby</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/f5/81/V9PPamfm_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="6_109"></a>6、查看端口映射情况</h3> 
<pre><code class="prism language-handlebars"><span class="token brackets"><span class="token punctuation">[</span><span class="token variable">root@localhost opt</span><span class="token punctuation">]</span></span><span class="token punctuation">#</span> <span class="token variable">docker</span> <span class="token variable">port</span> <span class="token variable">nginx_1</span>
<span class="token number">80</span><span class="token block keyword">/tcp</span> <span class="token variable">-</span><span class="token punctuation">&gt;</span> <span class="token number">0.0</span><span class="token number">.0</span><span class="token number">.0</span><span class="token variable">:</span><span class="token number">32769</span>
<span class="token brackets"><span class="token punctuation">[</span><span class="token variable">root@localhost opt</span><span class="token punctuation">]</span></span><span class="token punctuation">#</span> <span class="token variable">docker</span> <span class="token variable">port</span> <span class="token variable">nginx_2</span>
<span class="token number">80</span><span class="token block keyword">/tcp</span> <span class="token variable">-</span><span class="token punctuation">&gt;</span> <span class="token number">0.0</span><span class="token number">.0</span><span class="token number">.0</span><span class="token variable">:</span><span class="token number">5000</span>
<span class="token brackets"><span class="token punctuation">[</span><span class="token variable">root@localhost opt</span><span class="token punctuation">]</span></span><span class="token punctuation">#</span> <span class="token variable">docker</span> <span class="token variable">port</span> <span class="token variable">nginx_3</span>
<span class="token number">80</span><span class="token block keyword">/tcp</span> <span class="token variable">-</span><span class="token punctuation">&gt;</span> <span class="token number">0.0</span><span class="token number">.0</span><span class="token number">.0</span><span class="token variable">:</span><span class="token number">4000</span>
<span class="token number">80</span><span class="token block keyword">/tcp</span> <span class="token variable">-</span><span class="token punctuation">&gt;</span> <span class="token number">0.0</span><span class="token number">.0</span><span class="token number">.0</span><span class="token variable">:</span><span class="token number">3000</span>
<span class="token brackets"><span class="token punctuation">[</span><span class="token variable">root@localhost opt</span><span class="token punctuation">]</span></span><span class="token punctuation">#</span> <span class="token variable">docker</span> <span class="token variable">port</span> <span class="token variable">nginx_4</span>
<span class="token number">80</span><span class="token block keyword">/tcp</span> <span class="token variable">-</span><span class="token punctuation">&gt;</span> <span class="token number">192.168</span><span class="token number">.110</span><span class="token number">.133</span><span class="token variable">:</span><span class="token number">1000</span>
<span class="token brackets"><span class="token punctuation">[</span><span class="token variable">root@localhost opt</span><span class="token punctuation">]</span></span><span class="token punctuation">#</span> <span class="token variable">docker</span> <span class="token variable">port</span> <span class="token variable">nginx_5</span>
<span class="token number">80</span><span class="token block keyword">/tcp</span> <span class="token variable">-</span><span class="token punctuation">&gt;</span> <span class="token number">192.168</span><span class="token number">.110</span><span class="token number">.133</span><span class="token variable">:</span><span class="token number">32768</span>
</code></pre> 
<h2><a id="_126"></a>二、数据卷与数据卷容器</h2> 
<p>使用容器时会产生一些日志或其他文件，或是我们需要把容器内的数据进行备份，甚至多个容器之间进行数据共享，这样就会涉及容器的数据管理操作。<br> 容器中管理数据主要有两种方式：</p> 
<ul><li>数据卷：挂载宿主系统的存储空间</li><li>数据卷容器：挂载容器的存储空间</li></ul> 
<p>如果用户需要在容器之间共享一些持续更新的数据，最简单的方式是使用数据卷容器，数据卷容器其实是一个普通的容器，专门用来提供数据卷供其它容器挂载</p> 
<p>原理图如下<br> <img src="https://images2.imgbox.com/dd/97/fRyj2g2G_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="1_138"></a>1、挂载宿主系统（数据卷）</h3> 
<p>-v 指定宿主机目录：docker目录<br> –name 指定名称<br> -itd 打开标准型输入，新开一个虚拟tty 后台运行<br> centos：7 指定镜像<br> /bin/bash 指定bash环境</p> 
<pre><code class="prism language-handlebars"><span class="token brackets"><span class="token punctuation">[</span><span class="token variable">root@localhost test</span><span class="token punctuation">]</span></span><span class="token punctuation">#</span> <span class="token variable">docker</span> <span class="token variable">run</span>  <span class="token variable">-v</span> <span class="token punctuation">/</span><span class="token variable">opt</span><span class="token punctuation">/</span><span class="token variable">test:</span><span class="token punctuation">/</span><span class="token variable">data1</span> <span class="token variable">--name</span> <span class="token variable">web</span> <span class="token variable">-itd</span>  <span class="token variable">centos:</span><span class="token number">7</span> <span class="token block keyword">/bin/bash</span>
<span class="token variable">f2acf3b3c54331ca763e0b64f4e269fe3a09028c94229dbd23e0d865919644ff</span>
<span class="token brackets"><span class="token punctuation">[</span><span class="token variable">root@localhost test</span><span class="token punctuation">]</span></span><span class="token punctuation">#</span> <span class="token variable">docker</span> <span class="token variable">ps</span> <span class="token variable">-a</span>
<span class="token variable">CONTAINER</span> <span class="token variable">ID</span>        <span class="token variable">IMAGE</span>               <span class="token variable">COMMAND</span>                  <span class="token variable">CREATED</span>             <span class="token variable">STATUS</span>                     <span class="token variable">PORTS</span>               <span class="token variable">NAMES</span>
<span class="token variable">f2acf3b3c543</span>        <span class="token variable">centos:</span><span class="token number">7</span>            <span class="token string">"/docker-entrypoint.…"</span>   <span class="token number">12</span> <span class="token variable">seconds</span> <span class="token variable">ago</span>      <span class="token variable">Up</span> <span class="token number">11</span> <span class="token variable">seconds</span>              <span class="token number">80</span><span class="token block keyword">/tcp</span>              <span class="token variable">web</span>
<span class="token variable">eae6d77f4772</span>        <span class="token variable">centos:</span><span class="token number">7</span>            <span class="token string">"/docker-entrypoint.…"</span>   <span class="token number">4</span> <span class="token variable">minutes</span> <span class="token variable">ago</span>       <span class="token variable">Exited</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token number">4</span> <span class="token variable">minutes</span> <span class="token variable">ago</span>                       <span class="token variable">web1</span>

<span class="token brackets"><span class="token punctuation">[</span><span class="token variable">root@localhost opt</span><span class="token punctuation">]</span></span><span class="token punctuation">#</span> <span class="token variable">cd</span> <span class="token punctuation">/</span><span class="token variable">opt</span><span class="token punctuation">/</span><span class="token variable">test</span><span class="token punctuation">/</span>    <span class="token string">'进入到宿主机上创建文件 '</span>
<span class="token brackets"><span class="token punctuation">[</span><span class="token variable">root@localhost test</span><span class="token punctuation">]</span></span><span class="token punctuation">#</span> <span class="token variable">touch</span> <span class="token variable">dog</span> 
<span class="token brackets"><span class="token punctuation">[</span><span class="token variable">root@localhost test</span><span class="token punctuation">]</span></span><span class="token punctuation">#</span> <span class="token variable">docker</span> <span class="token variable">exec</span> <span class="token variable">-it</span> <span class="token variable">f2</span> <span class="token punctuation">/</span><span class="token variable">bin</span><span class="token punctuation">/</span><span class="token variable">bash</span>    <span class="token string">'进入到docker查看同步情况  f2是缩写  ps-a 查看id号  id号的前两位  '</span>
<span class="token variable">root</span><span class="token punctuation">@</span><span class="token variable">f2acf3b3c543:</span><span class="token punctuation">/</span><span class="token punctuation">#</span> <span class="token variable">ls</span> 
<span class="token variable">bin</span>  <span class="token variable">boot</span>  <span class="token variable">data1</span>  <span class="token variable">dev</span>  <span class="token variable">docker-entrypoint</span><span class="token punctuation">.</span><span class="token variable">d</span>  <span class="token variable">docker-entrypoint</span><span class="token punctuation">.</span><span class="token variable">sh</span>  <span class="token variable">etc</span>  <span class="token variable">home</span>  <span class="token variable">lib</span>  <span class="token variable">lib64</span>  <span class="token variable">media</span>	<span class="token variable">mnt</span>  <span class="token variable">opt</span>  <span class="token variable">proc</span>	<span class="token variable">root</span>  <span class="token variable">run</span>  <span class="token variable">sbin</span>  <span class="token variable">srv</span>  <span class="token variable">sys</span>  <span class="token variable">tmp</span>	<span class="token variable">usr</span>  <span class="token variable">var</span>
<span class="token variable">root</span><span class="token punctuation">@</span><span class="token variable">f2acf3b3c543:</span><span class="token punctuation">/</span><span class="token punctuation">#</span> <span class="token variable">cd</span> <span class="token variable">data1</span><span class="token punctuation">/</span>
<span class="token variable">root</span><span class="token punctuation">@</span><span class="token variable">f2acf3b3c543:</span><span class="token punctuation">/</span><span class="token variable">data1</span><span class="token punctuation">#</span> <span class="token variable">ls</span>
<span class="token variable">dog</span>
</code></pre> 
<h3><a id="2_162"></a>2、数据卷容器操作</h3> 
<p>首先创建一个docker 并共享两个目录创建挂载点 data1和data2</p> 
<pre><code class="prism language-handlebars"><span class="token brackets"><span class="token punctuation">[</span><span class="token variable">root@localhost opt</span><span class="token punctuation">]</span></span><span class="token punctuation">#</span> <span class="token variable">docker</span> <span class="token variable">run</span> <span class="token variable">-v</span> <span class="token punctuation">/</span><span class="token variable">data1</span> <span class="token variable">-v</span> <span class="token punctuation">/</span><span class="token variable">data2</span> <span class="token variable">-itd</span> <span class="token variable">--name</span> <span class="token variable">test01</span> <span class="token variable">centos:</span><span class="token number">7</span> <span class="token block keyword">/bin/bash</span>
<span class="token number">886</span><span class="token variable">ad4041f028d96f78ea031283c635c1ba78a1b472e84fbc210b1618ffdf141</span>
<span class="token brackets"><span class="token punctuation">[</span><span class="token variable">root@localhost opt</span><span class="token punctuation">]</span></span><span class="token punctuation">#</span> <span class="token variable">docker</span> <span class="token variable">ps</span> <span class="token variable">-a</span>
<span class="token variable">CONTAINER</span> <span class="token variable">ID</span>        <span class="token variable">IMAGE</span>               <span class="token variable">COMMAND</span>                  <span class="token variable">CREATED</span>             <span class="token variable">STATUS</span>              <span class="token variable">PORTS</span>               <span class="token variable">NAMES</span>
<span class="token number">886</span><span class="token variable">ad4041f02</span>        <span class="token variable">centos:</span><span class="token number">7</span>            <span class="token string">"/docker-entrypoint.…"</span>   <span class="token number">9</span> <span class="token variable">seconds</span> <span class="token variable">ago</span>       <span class="token variable">Up</span> <span class="token number">8</span> <span class="token variable">seconds</span>        <span class="token number">80</span><span class="token block keyword">/tcp</span>              <span class="token variable">test01</span>
<span class="token brackets"><span class="token punctuation">[</span><span class="token variable">root@localhost opt</span><span class="token punctuation">]</span></span><span class="token punctuation">#</span> <span class="token variable">docker</span> <span class="token variable">exec</span> <span class="token variable">-it</span> <span class="token number">886</span> <span class="token block keyword">/bin/bash</span>   <span class="token string">'进入到docker中查看共享目录是否存在'</span>
<span class="token variable">root</span><span class="token punctuation">@</span><span class="token number">886</span><span class="token variable">ad4041f02:</span><span class="token punctuation">/</span><span class="token punctuation">#</span> <span class="token variable">ls</span>
<span class="token variable">bin</span>   <span class="token variable">data1</span>  <span class="token variable">dev</span>		  <span class="token variable">docker-entrypoint</span><span class="token punctuation">.</span><span class="token variable">sh</span>	<span class="token variable">home</span>  <span class="token variable">lib64</span>  <span class="token variable">mnt</span>  <span class="token variable">proc</span>	<span class="token variable">run</span>   <span class="token variable">srv</span>  <span class="token variable">tmp</span>	<span class="token variable">var</span>
<span class="token variable">boot</span>  <span class="token variable">data2</span>  <span class="token variable">docker-entrypoint</span><span class="token punctuation">.</span><span class="token variable">d</span>  <span class="token variable">etc</span>			<span class="token variable">lib</span>   <span class="token variable">media</span>  <span class="token variable">opt</span>  <span class="token variable">root</span>	<span class="token variable">sbin</span>  <span class="token variable">sys</span>  <span class="token variable">usr</span>
<span class="token variable">root</span><span class="token punctuation">@</span><span class="token number">886</span><span class="token variable">ad4041f02:</span><span class="token punctuation">/</span><span class="token punctuation">#</span> 
</code></pre> 
<p>对docker test01的挂载电data进行远程挂载</p> 
<pre><code class="prism language-handlebars"><span class="token brackets"><span class="token punctuation">[</span><span class="token variable">root@localhost opt</span><span class="token punctuation">]</span></span><span class="token punctuation">#</span> <span class="token variable">docker</span> <span class="token variable">run</span> <span class="token variable">-itd</span> <span class="token variable">--volumes-from</span> <span class="token variable">test01</span> <span class="token variable">--name</span> <span class="token variable">test02</span> <span class="token variable">centos:</span><span class="token number">7</span> <span class="token block keyword">/bin/bash</span>
<span class="token number">3161</span><span class="token variable">a893a34899e1b660e5b93a1bd1f268b825c19503f9eac91c803c067c2746</span>
<span class="token brackets"><span class="token punctuation">[</span><span class="token variable">root@localhost opt</span><span class="token punctuation">]</span></span><span class="token punctuation">#</span> <span class="token variable">docker</span> <span class="token variable">ps</span> <span class="token variable">-a</span>
<span class="token variable">CONTAINER</span> <span class="token variable">ID</span>        <span class="token variable">IMAGE</span>               <span class="token variable">COMMAND</span>                  <span class="token variable">CREATED</span>             <span class="token variable">STATUS</span>              <span class="token variable">PORTS</span>               <span class="token variable">NAMES</span>
<span class="token number">3161</span><span class="token variable">a893a348</span>        <span class="token variable">centos:</span><span class="token number">7</span>            <span class="token string">"/docker-entrypoint.…"</span>   <span class="token number">24</span> <span class="token variable">seconds</span> <span class="token variable">ago</span>      <span class="token variable">Up</span> <span class="token number">23</span> <span class="token variable">seconds</span>       <span class="token number">80</span><span class="token block keyword">/tcp</span>              <span class="token variable">test02</span>
<span class="token number">886</span><span class="token variable">ad4041f02</span>        <span class="token variable">centos:</span><span class="token number">7</span>            <span class="token string">"/docker-entrypoint.…"</span>   <span class="token number">2</span> <span class="token variable">minutes</span> <span class="token variable">ago</span>       <span class="token variable">Up</span> <span class="token number">2</span> <span class="token variable">minutes</span>        <span class="token number">80</span><span class="token block keyword">/tcp</span>              <span class="token variable">test01</span>
</code></pre> 
<p>进入到test1创建文件 观察test2内时候也进行同步生成了</p> 
<pre><code class="prism language-handlebars"><span class="token brackets"><span class="token punctuation">[</span><span class="token variable">root@localhost opt</span><span class="token punctuation">]</span></span><span class="token punctuation">#</span> <span class="token variable">docker</span> <span class="token variable">exec</span> <span class="token variable">-it</span> <span class="token number">316</span> <span class="token block keyword">/bin/bash</span>
<span class="token variable">root</span><span class="token punctuation">@</span><span class="token number">3161</span><span class="token variable">a893a348:</span><span class="token punctuation">/</span><span class="token punctuation">#</span> <span class="token variable">ls</span>
<span class="token variable">bin</span>   <span class="token variable">data1</span>  <span class="token variable">dev</span>		  <span class="token variable">docker-entrypoint</span><span class="token punctuation">.</span><span class="token variable">sh</span>	<span class="token variable">home</span>  <span class="token variable">lib64</span>  <span class="token variable">mnt</span>  <span class="token variable">proc</span>	<span class="token variable">run</span>   <span class="token variable">srv</span>  <span class="token variable">tmp</span>	<span class="token variable">var</span>
<span class="token variable">boot</span>  <span class="token variable">data2</span>  <span class="token variable">docker-entrypoint</span><span class="token punctuation">.</span><span class="token variable">d</span>  <span class="token variable">etc</span>			<span class="token variable">lib</span>   <span class="token variable">media</span>  <span class="token variable">opt</span>  <span class="token variable">root</span>	<span class="token variable">sbin</span>  <span class="token variable">sys</span>  <span class="token variable">usr</span>
<span class="token variable">root</span><span class="token punctuation">@</span><span class="token number">3161</span><span class="token variable">a893a348:</span><span class="token punctuation">/</span><span class="token punctuation">#</span> <span class="token variable">cd</span> <span class="token variable">data1</span>
<span class="token variable">root</span><span class="token punctuation">@</span><span class="token number">3161</span><span class="token variable">a893a348:</span><span class="token punctuation">/</span><span class="token variable">data1</span><span class="token punctuation">#</span> <span class="token variable">ls</span>
<span class="token variable">root</span><span class="token punctuation">@</span><span class="token number">3161</span><span class="token variable">a893a348:</span><span class="token punctuation">/</span><span class="token variable">data1</span><span class="token punctuation">#</span> <span class="token variable">touch</span> <span class="token number">111</span>
<span class="token variable">root</span><span class="token punctuation">@</span><span class="token number">3161</span><span class="token variable">a893a348:</span><span class="token punctuation">/</span><span class="token variable">data1</span><span class="token punctuation">#</span> <span class="token variable">cd</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token variable">bash:</span> <span class="token variable">cd</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token variable">:</span> <span class="token variable">command</span> <span class="token variable">not</span> <span class="token variable">found</span>
<span class="token variable">root</span><span class="token punctuation">@</span><span class="token number">3161</span><span class="token variable">a893a348:</span><span class="token punctuation">/</span><span class="token variable">data1</span><span class="token punctuation">#</span> <span class="token variable">cd</span> <span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token variable">root</span><span class="token punctuation">@</span><span class="token number">3161</span><span class="token variable">a893a348:</span><span class="token punctuation">/</span><span class="token punctuation">#</span> <span class="token variable">cd</span> <span class="token variable">data2</span>
<span class="token variable">root</span><span class="token punctuation">@</span><span class="token number">3161</span><span class="token variable">a893a348:</span><span class="token punctuation">/</span><span class="token variable">data2</span><span class="token punctuation">#</span> <span class="token variable">ls</span>
<span class="token variable">root</span><span class="token punctuation">@</span><span class="token number">3161</span><span class="token variable">a893a348:</span><span class="token punctuation">/</span><span class="token variable">data2</span><span class="token punctuation">#</span> <span class="token variable">touch</span> <span class="token number">222</span>
<span class="token variable">root</span><span class="token punctuation">@</span><span class="token number">3161</span><span class="token variable">a893a348:</span><span class="token punctuation">/</span><span class="token variable">data2</span><span class="token punctuation">#</span> <span class="token variable">exit</span>
<span class="token variable">exit</span>
</code></pre> 
<p>进入到test02中查看是否同步</p> 
<pre><code class="prism language-handlebars"><span class="token brackets"><span class="token punctuation">[</span><span class="token variable">root@localhost opt</span><span class="token punctuation">]</span></span><span class="token punctuation">#</span> <span class="token variable">docker</span> <span class="token variable">exec</span> <span class="token variable">-it</span> <span class="token number">886</span> <span class="token block keyword">/bin/bash</span>
<span class="token variable">root</span><span class="token punctuation">@</span><span class="token number">886</span><span class="token variable">ad4041f02:</span><span class="token punctuation">/</span><span class="token punctuation">#</span> <span class="token variable">ls</span>
<span class="token variable">bin</span>  <span class="token variable">boot</span>  <span class="token variable">data1</span>  <span class="token variable">data2</span>  <span class="token variable">dev</span>  <span class="token variable">docker-entrypoint</span><span class="token punctuation">.</span><span class="token variable">d</span>  <span class="token variable">docker-entrypoint</span><span class="token punctuation">.</span><span class="token variable">sh</span>  <span class="token variable">etc</span>  <span class="token variable">home</span>  <span class="token variable">lib</span>  <span class="token variable">lib64</span>	<span class="token variable">media</span>  <span class="token variable">mnt</span>  <span class="token variable">opt</span>  <span class="token variable">proc</span>  <span class="token variable">root</span>  <span class="token variable">run</span>  <span class="token variable">sbin</span>	<span class="token variable">srv</span>  <span class="token variable">sys</span>  <span class="token variable">tmp</span>  <span class="token variable">usr</span>  <span class="token variable">var</span>
<span class="token variable">root</span><span class="token punctuation">@</span><span class="token number">886</span><span class="token variable">ad4041f02:</span><span class="token punctuation">/</span><span class="token punctuation">#</span> <span class="token variable">ls</span> <span class="token variable">data1</span>
<span class="token number">111</span>
<span class="token variable">root</span><span class="token punctuation">@</span><span class="token number">886</span><span class="token variable">ad4041f02:</span><span class="token punctuation">/</span><span class="token punctuation">#</span> <span class="token variable">ls</span> <span class="token variable">data2</span>
<span class="token number">222</span>
<span class="token variable">root</span><span class="token punctuation">@</span><span class="token number">886</span><span class="token variable">ad4041f02:</span><span class="token punctuation">/</span><span class="token punctuation">#</span> 
</code></pre> 
<h2><a id="_214"></a>三、容器互联</h2> 
<h3><a id="1link__215"></a>1、–link 通过虚链路连接</h3> 
<p>–link 两个容器通过映射的端口进行互联</p> 
<pre><code class="prism language-handlebars"><span class="token brackets"><span class="token punctuation">[</span><span class="token variable">root@localhost opt</span><span class="token punctuation">]</span></span><span class="token punctuation">#</span> <span class="token variable">docker</span> <span class="token variable">run</span> <span class="token variable">-itd</span> <span class="token variable">-P</span> <span class="token variable">--name</span> <span class="token variable">test01</span> <span class="token variable">centos:</span><span class="token number">7</span> <span class="token block keyword">/bin/bash</span>
<span class="token variable">b55327c3ae74296a81304ae4563e3da54d66409ce322bb2d8223bc59882eef8f</span>
<span class="token brackets"><span class="token punctuation">[</span><span class="token variable">root@localhost opt</span><span class="token punctuation">]</span></span><span class="token punctuation">#</span> <span class="token variable">docker</span> <span class="token variable">run</span> <span class="token variable">-itd</span> <span class="token variable">-P</span> <span class="token variable">--name</span> <span class="token variable">test02</span> <span class="token variable">--link</span> <span class="token variable">test01</span> <span class="token variable">centos:</span><span class="token number">7</span> <span class="token block keyword">/bin/bash</span>
<span class="token number">57582</span><span class="token variable">aa8724545f55f14973b6c9c06c89a96cc835dea1148050de8c298a12c3a</span>

<span class="token brackets"><span class="token punctuation">[</span><span class="token variable">root@localhost opt</span><span class="token punctuation">]</span></span><span class="token punctuation">#</span> <span class="token variable">docker</span> <span class="token variable">ps</span> <span class="token variable">-a</span>
<span class="token variable">CONTAINER</span> <span class="token variable">ID</span>        <span class="token variable">IMAGE</span>               <span class="token variable">COMMAND</span>                  <span class="token variable">CREATED</span>             <span class="token variable">STATUS</span>           
<span class="token number">57582</span><span class="token variable">aa87245</span>        <span class="token variable">centos:</span><span class="token number">7</span>            <span class="token string">"/docker-entrypoint.…"</span>   <span class="token number">26</span> <span class="token variable">seconds</span> <span class="token variable">ago</span>      <span class="token variable">Up</span> <span class="token number">26</span> <span class="token variable">seconds</span>    
<span class="token variable">b55327c3ae74</span>        <span class="token variable">centos:</span><span class="token number">7</span>            <span class="token string">"/docker-entrypoint.…"</span>   <span class="token number">45</span> <span class="token variable">seconds</span> <span class="token variable">ago</span>      <span class="token variable">Up</span> <span class="token number">45</span> <span class="token variable">seconds</span>    
<span class="token brackets"><span class="token punctuation">[</span><span class="token variable">root@localhost opt</span><span class="token punctuation">]</span></span><span class="token punctuation">#</span> <span class="token variable">docker</span> <span class="token variable">exec</span> <span class="token variable">-it</span> <span class="token number">57</span> <span class="token block keyword">/bin/bash</span>   <span class="token string">'进入到test02内ping  test01'</span>
<span class="token variable">root</span><span class="token punctuation">@</span><span class="token number">57582</span><span class="token variable">aa87245:</span><span class="token punctuation">/</span><span class="token punctuation">#</span> <span class="token variable">ping</span> <span class="token variable">test01</span>
<span class="token variable">PING</span> <span class="token variable">test001</span> <span class="token punctuation">(</span><span class="token number">172.17</span><span class="token number">.0</span><span class="token number">.5</span><span class="token punctuation">)</span> <span class="token number">56</span><span class="token punctuation">(</span><span class="token number">84</span><span class="token punctuation">)</span> <span class="token variable">bytes</span> <span class="token variable">of</span> <span class="token variable">data</span><span class="token punctuation">.</span>
<span class="token number">64</span> <span class="token variable">bytes</span> <span class="token variable">from</span> <span class="token variable">test001</span> <span class="token punctuation">(</span><span class="token number">172.17</span><span class="token number">.0</span><span class="token number">.5</span><span class="token punctuation">)</span><span class="token variable">:</span> <span class="token variable">icmp_seq</span><span class="token punctuation">=</span><span class="token number">1</span> <span class="token variable">ttl</span><span class="token punctuation">=</span><span class="token number">64</span> <span class="token variable">time</span><span class="token punctuation">=</span><span class="token number">0.177</span> <span class="token variable">ms</span>
<span class="token number">64</span> <span class="token variable">bytes</span> <span class="token variable">from</span> <span class="token variable">test001</span> <span class="token punctuation">(</span><span class="token number">172.17</span><span class="token number">.0</span><span class="token number">.5</span><span class="token punctuation">)</span><span class="token variable">:</span> <span class="token variable">icmp_seq</span><span class="token punctuation">=</span><span class="token number">2</span> <span class="token variable">ttl</span><span class="token punctuation">=</span><span class="token number">64</span> <span class="token variable">time</span><span class="token punctuation">=</span><span class="token number">0.147</span> <span class="token variable">ms</span>
<span class="token number">64</span> <span class="token variable">bytes</span> <span class="token variable">from</span> <span class="token variable">test001</span> <span class="token punctuation">(</span><span class="token number">172.17</span><span class="token number">.0</span><span class="token number">.5</span><span class="token punctuation">)</span><span class="token variable">:</span> <span class="token variable">icmp_seq</span><span class="token punctuation">=</span><span class="token number">3</span> <span class="token variable">ttl</span><span class="token punctuation">=</span><span class="token number">64</span> <span class="token variable">time</span><span class="token punctuation">=</span><span class="token number">0.157</span> <span class="token variable">ms</span>
<span class="token number">64</span> <span class="token variable">bytes</span> <span class="token variable">from</span> <span class="token variable">test001</span> <span class="token punctuation">(</span><span class="token number">172.17</span><span class="token number">.0</span><span class="token number">.5</span><span class="token punctuation">)</span><span class="token variable">:</span> <span class="token variable">icmp_seq</span><span class="token punctuation">=</span><span class="token number">4</span> <span class="token variable">ttl</span><span class="token punctuation">=</span><span class="token number">64</span> <span class="token variable">time</span><span class="token punctuation">=</span><span class="token number">0.202</span> <span class="token variable">ms</span>
</code></pre> 
<p>对于容器A和容器B之间使用–link连接，必须先启动其中一个容器，比如容器A，然后在启动容器B时，将其连接到容器A。这样，就可以在容器B中使用网络别名连接容器A了。</p> 
<h3><a id="2_238"></a>2、通过中转网卡连接</h3> 
<p>推荐使用这个方式。<br> 默认网络中的link是静态的，不允许链接容器重启，而自定义网络下的link是动态的，支持链接容器重启（以及IP变化）<br> 因此，使用–link时链接的容器，在默认网络中必须提前创建好，而自定义网络下不必预先建好。使用网络别名后，不管容器ip地址如何变化，都可以根据别名进行连接。<br> 而且这种方式可以使得多个容器互联</p> 
<pre><code class="prism language-handlebars"><span class="token brackets"><span class="token punctuation">[</span><span class="token variable">root@localhost ~</span><span class="token punctuation">]</span></span><span class="token punctuation">#</span> <span class="token variable">docker</span> <span class="token variable">network</span> <span class="token variable">create</span> <span class="token variable">mynet</span>   <span class="token string">'首先在主机上创建一个网络'</span>
<span class="token brackets"><span class="token punctuation">[</span><span class="token variable">root@localhost ~</span><span class="token punctuation">]</span></span><span class="token punctuation">#</span> <span class="token variable">ifconfig</span>     <span class="token string">'查看新创建的网卡'</span>
<span class="token variable">br-</span><span class="token number">3</span><span class="token variable">b261b710b8a:</span> <span class="token variable">flags</span><span class="token punctuation">=</span><span class="token number">4099</span><span class="token punctuation">&lt;</span><span class="token variable">UP</span><span class="token punctuation">,</span><span class="token variable">BROADCAST</span><span class="token punctuation">,</span><span class="token variable">MULTICAST</span><span class="token punctuation">&gt;</span>  <span class="token variable">mtu</span> <span class="token number">1500</span>
        <span class="token variable">inet</span> <span class="token number">172.18</span><span class="token number">.0</span><span class="token number">.1</span>  <span class="token variable">netmask</span> <span class="token number">255.255</span><span class="token number">.0</span><span class="token number">.0</span>  <span class="token variable">broadcast</span> <span class="token number">172.18</span><span class="token number">.255</span><span class="token number">.255</span>
        <span class="token variable">ether</span> <span class="token number">02</span><span class="token variable">:</span><span class="token number">42</span><span class="token variable">:</span><span class="token number">0</span><span class="token variable">a:</span><span class="token number">1</span><span class="token variable">e:</span><span class="token number">3</span><span class="token variable">b:a3</span>  <span class="token variable">txqueuelen</span> <span class="token number">0</span>  <span class="token punctuation">(</span><span class="token variable">Ethernet</span><span class="token punctuation">)</span>
        <span class="token variable">RX</span> <span class="token variable">packets</span> <span class="token number">88</span>  <span class="token variable">bytes</span> <span class="token number">7680</span> <span class="token punctuation">(</span><span class="token number">7.5</span> <span class="token variable">KiB</span><span class="token punctuation">)</span>
        <span class="token variable">RX</span> <span class="token variable">errors</span> <span class="token number">0</span>  <span class="token variable">dropped</span> <span class="token number">0</span>  <span class="token variable">overruns</span> <span class="token number">0</span>  <span class="token variable">frame</span> <span class="token number">0</span>
        <span class="token variable">TX</span> <span class="token variable">packets</span> <span class="token number">88</span>  <span class="token variable">bytes</span> <span class="token number">7680</span> <span class="token punctuation">(</span><span class="token number">7.5</span> <span class="token variable">KiB</span><span class="token punctuation">)</span>
        <span class="token variable">TX</span> <span class="token variable">errors</span> <span class="token number">0</span>  <span class="token variable">dropped</span> <span class="token number">0</span> <span class="token variable">overruns</span> <span class="token number">0</span>  <span class="token variable">carrier</span> <span class="token number">0</span>  <span class="token variable">collisions</span> <span class="token number">0</span>
</code></pre> 
<p>–network mynet表示使用mynet网络<br> –network-alias centos1表示该容器运行时，使用的网络别名为centos1。（网络别名的作用类似hostname，不管容器IP如何变化，都可以使用同一个别名。<br> –name 表示此容器的别名<br> -itd 表示后台运行 打开一个虚拟终端 打开标准型输入</p> 
<pre><code class="prism language-handlebars"><span class="token brackets"><span class="token punctuation">[</span><span class="token variable">root@localhost docker</span><span class="token punctuation">]</span></span><span class="token punctuation">#</span> <span class="token variable">docker</span> <span class="token variable">run</span> <span class="token variable">-itd</span> <span class="token variable">--name</span> <span class="token variable">centos1</span> <span class="token variable">--network</span> <span class="token variable">mynet</span> <span class="token variable">--network-alias</span> <span class="token variable">centos1</span>  <span class="token variable">centos</span> <span class="token punctuation">/</span><span class="token variable">bin</span><span class="token punctuation">/</span><span class="token variable">bash</span>
<span class="token number">1</span><span class="token variable">d2ff212498c05769b180e32e7277c25b1f23d868a3edc6a99524f7106414aad</span>
<span class="token brackets"><span class="token punctuation">[</span><span class="token variable">root@localhost docker</span><span class="token punctuation">]</span></span><span class="token punctuation">#</span> <span class="token variable">docker</span> <span class="token variable">run</span> <span class="token variable">-itd</span> <span class="token variable">--name</span> <span class="token variable">centos2</span> <span class="token variable">--network</span> <span class="token variable">mynet</span> <span class="token variable">--network-alias</span> <span class="token variable">centos2</span>  <span class="token variable">centos</span> <span class="token punctuation">/</span><span class="token variable">bin</span><span class="token punctuation">/</span><span class="token variable">bash</span>
<span class="token number">2</span><span class="token variable">ed5fab1c899a2f2170294c94dd8db8582052ac37d8f06f16e79b7e601599e75</span>
</code></pre> 
<p>进入到centos1进行验证</p> 
<pre><code class="prism language-handlebars"><span class="token brackets"><span class="token punctuation">[</span><span class="token variable">root@localhost docker</span><span class="token punctuation">]</span></span><span class="token punctuation">#</span> <span class="token variable">docker</span> <span class="token variable">exec</span> <span class="token variable">-it</span> <span class="token variable">centos1</span> <span class="token punctuation">/</span><span class="token variable">bin</span><span class="token punctuation">/</span><span class="token variable">bash</span>

<span class="token punctuation">[</span><span class="token variable">root</span><span class="token punctuation">@</span><span class="token number">1</span><span class="token variable">d2ff212498c</span> <span class="token punctuation">/</span><span class="token punctuation">]</span><span class="token punctuation">#</span> <span class="token variable">exit</span>
<span class="token variable">exit</span>
<span class="token brackets"><span class="token punctuation">[</span><span class="token variable">root@localhost docker</span><span class="token punctuation">]</span></span><span class="token punctuation">#</span> <span class="token variable">docker</span> <span class="token variable">exec</span> <span class="token variable">-it</span> <span class="token variable">centos2</span> <span class="token punctuation">/</span><span class="token variable">bin</span><span class="token punctuation">/</span><span class="token variable">bash</span>
<span class="token punctuation">[</span><span class="token variable">root</span><span class="token punctuation">@</span><span class="token number">2</span><span class="token variable">ed5fab1c899</span> <span class="token punctuation">/</span><span class="token punctuation">]</span><span class="token punctuation">#</span> <span class="token variable">ping</span> <span class="token variable">centos1</span>
<span class="token variable">PING</span> <span class="token variable">centos1</span> <span class="token punctuation">(</span><span class="token number">172.18</span><span class="token number">.0</span><span class="token number">.2</span><span class="token punctuation">)</span> <span class="token number">56</span><span class="token punctuation">(</span><span class="token number">84</span><span class="token punctuation">)</span> <span class="token variable">bytes</span> <span class="token variable">of</span> <span class="token variable">data</span><span class="token punctuation">.</span>
<span class="token number">64</span> <span class="token variable">bytes</span> <span class="token variable">from</span> <span class="token variable">centos1</span><span class="token punctuation">.</span><span class="token variable">mynet</span> <span class="token punctuation">(</span><span class="token number">172.18</span><span class="token number">.0</span><span class="token number">.2</span><span class="token punctuation">)</span><span class="token variable">:</span> <span class="token variable">icmp_seq</span><span class="token punctuation">=</span><span class="token number">1</span> <span class="token variable">ttl</span><span class="token punctuation">=</span><span class="token number">64</span> <span class="token variable">time</span><span class="token punctuation">=</span><span class="token number">0.105</span> <span class="token variable">ms</span>
<span class="token number">64</span> <span class="token variable">bytes</span> <span class="token variable">from</span> <span class="token variable">centos1</span><span class="token punctuation">.</span><span class="token variable">mynet</span> <span class="token punctuation">(</span><span class="token number">172.18</span><span class="token number">.0</span><span class="token number">.2</span><span class="token punctuation">)</span><span class="token variable">:</span> <span class="token variable">icmp_seq</span><span class="token punctuation">=</span><span class="token number">2</span> <span class="token variable">ttl</span><span class="token punctuation">=</span><span class="token number">64</span> <span class="token variable">time</span><span class="token punctuation">=</span><span class="token number">0.091</span> <span class="token variable">ms</span>
<span class="token punctuation">^</span><span class="token variable">C</span>
<span class="token variable">---</span> <span class="token variable">centos1</span> <span class="token variable">ping</span> <span class="token variable">statistics</span> <span class="token variable">---</span>
<span class="token number">2</span> <span class="token variable">packets</span> <span class="token variable">transmitted</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token variable">received</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">%</span> <span class="token variable">packet</span> <span class="token variable">loss</span><span class="token punctuation">,</span> <span class="token variable">time</span> <span class="token number">2</span><span class="token variable">ms</span>
<span class="token variable">rtt</span> <span class="token variable">min</span><span class="token punctuation">/</span><span class="token variable">avg</span><span class="token punctuation">/</span><span class="token variable">max</span><span class="token punctuation">/</span><span class="token variable">mdev</span> <span class="token punctuation">=</span> <span class="token number">0.091</span><span class="token punctuation">/</span><span class="token number">0.098</span><span class="token punctuation">/</span><span class="token number">0.105</span><span class="token punctuation">/</span><span class="token number">0.007</span> <span class="token variable">ms</span>
<span class="token punctuation">[</span><span class="token variable">root</span><span class="token punctuation">@</span><span class="token number">2</span><span class="token variable">ed5fab1c899</span> <span class="token punctuation">/</span><span class="token punctuation">]</span><span class="token punctuation">#</span> <span class="token variable">exit</span>        
<span class="token variable">exit</span>
</code></pre> 
<p>进入到centos2中进行验证</p> 
<pre><code class="prism language-handlebars"><span class="token brackets"><span class="token punctuation">[</span><span class="token variable">root@localhost docker</span><span class="token punctuation">]</span></span><span class="token punctuation">#</span> <span class="token variable">docker</span> <span class="token variable">exec</span> <span class="token variable">-it</span> <span class="token variable">centos1</span> <span class="token punctuation">/</span><span class="token variable">bin</span><span class="token punctuation">/</span><span class="token variable">bash</span>
<span class="token punctuation">[</span><span class="token variable">root</span><span class="token punctuation">@</span><span class="token number">1</span><span class="token variable">d2ff212498c</span> <span class="token punctuation">/</span><span class="token punctuation">]</span><span class="token punctuation">#</span> <span class="token variable">ping</span> <span class="token variable">centos2</span>
<span class="token variable">PING</span> <span class="token variable">centos2</span> <span class="token punctuation">(</span><span class="token number">172.18</span><span class="token number">.0</span><span class="token number">.3</span><span class="token punctuation">)</span> <span class="token number">56</span><span class="token punctuation">(</span><span class="token number">84</span><span class="token punctuation">)</span> <span class="token variable">bytes</span> <span class="token variable">of</span> <span class="token variable">data</span><span class="token punctuation">.</span>
<span class="token number">64</span> <span class="token variable">bytes</span> <span class="token variable">from</span> <span class="token variable">centos2</span><span class="token punctuation">.</span><span class="token variable">mynet</span> <span class="token punctuation">(</span><span class="token number">172.18</span><span class="token number">.0</span><span class="token number">.3</span><span class="token punctuation">)</span><span class="token variable">:</span> <span class="token variable">icmp_seq</span><span class="token punctuation">=</span><span class="token number">1</span> <span class="token variable">ttl</span><span class="token punctuation">=</span><span class="token number">64</span> <span class="token variable">time</span><span class="token punctuation">=</span><span class="token number">0.085</span> <span class="token variable">ms</span>
<span class="token number">64</span> <span class="token variable">bytes</span> <span class="token variable">from</span> <span class="token variable">centos2</span><span class="token punctuation">.</span><span class="token variable">mynet</span> <span class="token punctuation">(</span><span class="token number">172.18</span><span class="token number">.0</span><span class="token number">.3</span><span class="token punctuation">)</span><span class="token variable">:</span> <span class="token variable">icmp_seq</span><span class="token punctuation">=</span><span class="token number">2</span> <span class="token variable">ttl</span><span class="token punctuation">=</span><span class="token number">64</span> <span class="token variable">time</span><span class="token punctuation">=</span><span class="token number">0.098</span> <span class="token variable">ms</span>
<span class="token number">64</span> <span class="token variable">bytes</span> <span class="token variable">from</span> <span class="token variable">centos2</span><span class="token punctuation">.</span><span class="token variable">mynet</span> <span class="token punctuation">(</span><span class="token number">172.18</span><span class="token number">.0</span><span class="token number">.3</span><span class="token punctuation">)</span><span class="token variable">:</span> <span class="token variable">icmp_seq</span><span class="token punctuation">=</span><span class="token number">3</span> <span class="token variable">ttl</span><span class="token punctuation">=</span><span class="token number">64</span> <span class="token variable">time</span><span class="token punctuation">=</span><span class="token number">0.085</span> <span class="token variable">ms</span>
<span class="token punctuation">^</span><span class="token variable">C</span>
<span class="token variable">---</span> <span class="token variable">centos2</span> <span class="token variable">ping</span> <span class="token variable">statistics</span> <span class="token variable">---</span>
<span class="token number">3</span> <span class="token variable">packets</span> <span class="token variable">transmitted</span><span class="token punctuation">,</span> <span class="token number">3</span> <span class="token variable">received</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">%</span> <span class="token variable">packet</span> <span class="token variable">loss</span><span class="token punctuation">,</span> <span class="token variable">time</span> <span class="token number">3</span><span class="token variable">ms</span>
<span class="token variable">rtt</span> <span class="token variable">min</span><span class="token punctuation">/</span><span class="token variable">avg</span><span class="token punctuation">/</span><span class="token variable">max</span><span class="token punctuation">/</span><span class="token variable">mdev</span> <span class="token punctuation">=</span> <span class="token number">0.085</span><span class="token punctuation">/</span><span class="token number">0.089</span><span class="token punctuation">/</span><span class="token number">0.098</span><span class="token punctuation">/</span><span class="token number">0.009</span> <span class="token variable">ms</span>
<span class="token punctuation">[</span><span class="token variable">root</span><span class="token punctuation">@</span><span class="token number">1</span><span class="token variable">d2ff212498c</span> <span class="token punctuation">/</span><span class="token punctuation">]</span><span class="token punctuation">#</span> 
</code></pre>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/201b83396a568c1334a726ff067057b4/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">status code = 404, status message = [Not Found]</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/2b7da11e9909c3381ad644138e3cb095/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Python爬虫超详细讲解（零基础入门，老年人都看的懂）！</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>