<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>51单片机八路抢答器proteus仿真 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="51单片机八路抢答器proteus仿真" />
<meta property="og:description" content="﻿﻿ 51单片机八路抢答器
由于51单片机小板，按键比较少，还有一些功能上的缺陷，所以说无法完成八路抢答器，所以我们用proteus仿真，代码与实验结果如下:
/********************************
Function: 八路抢答器
Date: Sep 20,2017
By:Third Group Bolanche L
**************************/
#include&lt;reg52.h&gt;
#define uint unsigned int
#define uchar unsigned char
uchar code table[]={0x3f,0x06,0x5b,0x4f,0x66,0x6d,0x7d,0x07,0x7f,0x6f}; sbit Start=P3^7;
sbit Indecator=P3^6; //指示灯
sbit Interrupt=P3^3; //中断1
sbit KEY1=P2^0; //第一位LED
sbit KEY2=P2^1;
sbit KEY3=P2^2;
sbit KEY4=P2^3;
sbit KEY5=P2^4;
sbit KEY6=P2^5;
sbit KEY7=P2^6;
sbit KEY8=P2^7;
uchar n; //声明全局无符号字符变量n
//延时毫秒
void delayms(uint c)
{
uchar a,b;
for(;c&gt;0;c--)
for(a=142;a&gt;0;a--)
for(b=2;b&gt;0;b--);
}
//数码管显示
void SMG_dis(uchar m)" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/f8814c8b2b2b1ad474e75d5c16694391/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2017-09-22T20:52:44+08:00" />
<meta property="article:modified_time" content="2017-09-22T20:52:44+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">51单片机八路抢答器proteus仿真</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div style="top:0px">
  ﻿﻿ 
</div> 
<p><span style="font-family:宋体; font-size:14px"><br> </span></p> 
<p align="center" style="margin:0cm 0cm 0pt; text-align:center"><span style="font-size:14px"><span style="font-family:Calibri"><span lang="EN-US">51</span></span><span style="font-family:宋体">单片机八路抢答器</span></span></p> 
<p><span style="font-family:宋体; font-size:14px"></span><span style="font-size:14px"><span style="font-family:宋体">由于</span><span style="font-family:Calibri"><span lang="EN-US">51</span></span><span style="font-family:宋体">单片机小板，按键比较少，还有一些功能上的缺陷，所以说无法完成八路抢答器，所以我们用</span><span style="font-family:Calibri"><span lang="EN-US">proteus</span></span><span style="font-family:宋体">仿真，代码与实验结果如下</span><span lang="EN-US"><span style="font-family:Calibri">:</span></span></span></p> 
<p><span style="font-family:宋体; font-size:14px"></span>/********************************<br> Function:  八路抢答器<br> Date:  Sep 20,2017<br> By:Third  Group Bolanche L<br> **************************/<br> #include&lt;reg52.h&gt;<br> #define uint unsigned int<br> #define uchar unsigned char<br> uchar code table[]={0x3f,0x06,0x5b,0x4f,0x66,0x6d,0x7d,0x07,0x7f,0x6f}; <br> sbit Start=P3^7;<br> sbit Indecator=P3^6; //指示灯<br> sbit Interrupt=P3^3;  //中断1<br> sbit KEY1=P2^0;    //第一位LED<br> sbit KEY2=P2^1;<br> sbit KEY3=P2^2;<br> sbit KEY4=P2^3;<br> sbit KEY5=P2^4;<br> sbit KEY6=P2^5;<br> sbit KEY7=P2^6;<br> sbit KEY8=P2^7;<br>  uchar  n;   //声明全局无符号字符变量n<br>  //延时毫秒<br> void delayms(uint c)<br> {<!-- --><br>      uchar a,b;<br>   for(;c&gt;0;c--)<br>    for(a=142;a&gt;0;a--)<br>       for(b=2;b&gt;0;b--);<br> }<br> //数码管显示<br> void SMG_dis(uchar m)<br> {<!-- --><br>    P0=table[m] ;<br>  //delayms(20);<br> }<br> //LED亮<br> void LED_DIS(uchar i)<br> {<!-- --><br>    P1 |=(1&lt;&lt;(i-1));   //将第i个LED点亮<br> }<br> //按键扫描,返回值为被按下的那个按键，每按下一个按键触发一次中断<br> char KEY_Scan(void)<br> {<!-- --><br>    if(KEY1==0)<br>    {<!-- --><br>      delayms(20); //消抖<br>   if(KEY1==0)<br>   {<!-- --><br>      Interrupt=1; //中断1口赋高电平<br>   delayms(20);<br>      Interrupt=0;<br>      n=1;<br>   }<br>    }<br>    if(KEY2==0)<br>    {<!-- --><br>       delayms(20);<br>    if(KEY2==0)<br>    {<!-- --><br>      Interrupt=1;<br>   delayms(20);<br>      Interrupt=0;<br>      n=2;<br>    }<br>  }<br>   if(KEY3==0)<br>     {<!-- --><br>       delayms(20);<br>    if(KEY3==0)<br>    {<!-- --><br>      Interrupt=1;<br>   delayms(20);<br>      Interrupt=0;<br>      n=3;<br>    }<br>   }<br>    if(KEY4==0)<br>    {<!-- --><br>       delayms(20);<br>    if(KEY4==0)<br>    {<!-- --><br>      Interrupt=1;<br>   delayms(20);<br>      Interrupt=0;<br>      n = 4;<br>    }<br>  }<br>     if(KEY5==0)<br>     {<!-- --><br>       delayms(20);<br>    if(KEY5==0)<br>    {<!-- --><br>      Interrupt=1;<br>   delayms(20);<br>      Interrupt=0;<br>      n = 5;<br>    }<br>  }<br>  if(KEY6==0)<br>    {<!-- --><br>       delayms(20);<br>    if(KEY6==0)<br>    {<!-- --><br>      Interrupt=1;<br>   delayms(20);<br>      Interrupt=0;<br>      n = 6;<br>    }<br>  }<br>    if(KEY7==0)<br>    {<!-- --><br>       delayms(20);<br>    if(KEY7==0)<br>    {<!-- --><br>      Interrupt=1;<br>   delayms(20);<br>      Interrupt=0;<br>      n = 7;<br>    }<br>      <br>  }<br>  if(KEY8==0)<br>     {<!-- --><br>       delayms(20);<br>    if(KEY8==0)<br>    {<!-- --><br>      Interrupt=1;<br>   delayms(20);<br>      Interrupt=0;<br>      n = 8;<br>    }    <br>  }<br>     return n;<br> }<br> void INT_1() interrupt  2<br> {<!-- --><br>    EX1=0;<br>    delayms(20);    //消抖<br>    EX1=1; <br>    LED_DIS(n);<br>    SMG_dis(n);<br>    Indecator=0;<br>    delayms(20);<br>    P1=0x00;  //关闭抢答人指示灯<br>    <br>  }<br>  void main()<br> {<!-- --><br>     EX1=1; //开启外部中断1    <br>  IT1=1;  //开启下降沿触发  <br>  EA=1;  //开启总中断  <br>  P1=0x00; // 点亮第一位小灯   <br>  P0=0x00;  //  关闭数码管<br>  Indecator=0;  //关闭指示灯<br>  Interrupt=1;<br>  while(1)<br>  {<!-- --><br>     if(Start==0)<br>     {<!-- --><br>        delayms(20);<br>     if(Start==0)<br>       Indecator=1;   //主持人按下开始按键，指示灯亮<br>     }<br>     n=KEY_Scan();//扫描哪一个按键被按下，并触发中断<br>  }  <br> </p> 
<p><br> </p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e14fb9c4a7f9dfa563515f0e8649cae9/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">从0开始的Vue全栈项目（仿网易云音乐App）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/e54213897e4b5492fce979a739521e75/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">关于VS2015重新卸载后再次安装不能重新指定安装目录</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>