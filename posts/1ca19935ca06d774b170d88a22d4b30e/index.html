<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>学习笔记一：ArcGIS for Javascript 添加图层 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="学习笔记一：ArcGIS for Javascript 添加图层" />
<meta property="og:description" content="目录 前言理论知识AMD和Legacy 添加图层功能实现完整代码显示效果 前言 因工作原因在学习ArcGIS编程开发，但遗忘问题比较严重，一是因各种原因难以做到持续不断的学习，而有些代码间隔两三天再来用会出现各种问题；二是学了后面忘记前面，在有源码的情况能看懂，但没有源码自己写不出来或者写出来了各种bug，又得重新学习。因此希望以博客方式来记录和积累自己的学习。
本文原本需要实现的功能是：通过输入图层链接的方式动态添加图层。目前本文仅实现了在代码内进行矢量图层添加，后续将逐步完善功能和内容。
理论知识 AMD和Legacy 无论是AMD Module Require或是Legacy Module Require，其作用都是模块引用，通过require方法实现代码的模块化加载，便于代码的编写和维护。主要区别在于引入模块的方式差异，从而导致了在使用和写法上存在差异。在ArcGIS API for JavaScript官网（本文基于API 3.28版本）上同时提供了两者写法的范例，如下图。
两种方法中，Legacy Module Require是较老的传统写法，AMD是目前常用方法及官方推荐写法。如果是基于比较老的项目，很大可能会用到Legacy Module Require方法，但目前网上能找的范例比较少。
以实现简单地图功能为例，两种方式分别如下：
AMD方式：
require([ &#34;esri/map&#34; ], function(Map) { var map = new Map(&#34;map&#34;, {basemap:&#34;topo&#34; }); }); Legacy方式：
dojo.require(&#34;esri.map&#34;); function init() { var map = new esri.Map(&#34;map&#34;,{basemap:&#34;topo&#34; }); } dojo.addOnLoad(init); 添加图层功能实现 核心部分：
&lt;script type=&#34;text/javascript&#34;&gt; require([ &#34;esri/map&#34;, &#34;esri/layers/ArcGISDynamicMapServiceLayer&#34; ],function(Map,ArcGISDynamicMapServiceLayer){ var map = new Map(&#34;map&#34;,{ basemap:&#34;topo&#34;, center:[-100,45], zoom:3 }); var DynamicLayer = new ArcGISDynamicMapServiceLayer(&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/1ca19935ca06d774b170d88a22d4b30e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-04-25T18:29:42+08:00" />
<meta property="article:modified_time" content="2019-04-25T18:29:42+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">学习笔记一：ArcGIS for Javascript 添加图层</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>目录</h4> 
 <ul><li><a href="#_1" rel="nofollow">前言</a></li><li><a href="#_5" rel="nofollow">理论知识</a></li><li><ul><li><a href="#AMDLegacy_6" rel="nofollow">AMD和Legacy</a></li></ul> 
  </li><li><a href="#_33" rel="nofollow">添加图层功能实现</a></li><li><ul><li><a href="#_52" rel="nofollow">完整代码</a></li><li><a href="#_97" rel="nofollow">显示效果</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="_1"></a>前言</h2> 
<p>因工作原因在学习ArcGIS编程开发，但遗忘问题比较严重，一是因各种原因难以做到持续不断的学习，而有些代码间隔两三天再来用会出现各种问题；二是学了后面忘记前面，在有源码的情况能看懂，但没有源码自己写不出来或者写出来了各种bug，又得重新学习。因此希望以博客方式来记录和积累自己的学习。</p> 
<p>本文原本需要实现的功能是：通过输入图层链接的方式动态添加图层。目前本文仅实现了在代码内进行矢量图层添加，后续将逐步完善功能和内容。</p> 
<h2><a id="_5"></a>理论知识</h2> 
<h3><a id="AMDLegacy_6"></a>AMD和Legacy</h3> 
<p>无论是AMD Module Require或是Legacy Module Require，其作用都是模块引用，通过require方法实现代码的模块化加载，便于代码的编写和维护。主要区别在于引入模块的方式差异，从而导致了在使用和写法上存在差异。在ArcGIS API for JavaScript官网（本文基于API 3.28版本）上同时提供了两者写法的范例，如下图。<br> <img src="https://images2.imgbox.com/4e/f1/JKw0nktt_o.jpg" alt="官网提供两种写法的范例"><br> 两种方法中，Legacy Module Require是较老的传统写法，AMD是目前常用方法及官方推荐写法。如果是基于比较老的项目，很大可能会用到Legacy Module Require方法，但目前网上能找的范例比较少。</p> 
<p><strong>以实现简单地图功能为例</strong>，两种方式分别如下：<br> <strong>AMD方式：</strong></p> 
<pre><code>require([
	"esri/map"
	], function(Map) {
		var map = new Map("map", {basemap:"topo" });
});
</code></pre> 
<p><strong>Legacy方式：</strong></p> 
<pre><code>dojo.require("esri.map");
function init()
{
	var map = new esri.Map("map",{basemap:"topo" });
}
dojo.addOnLoad(init);
</code></pre> 
<h2><a id="_33"></a>添加图层功能实现</h2> 
<p><strong>核心部分：</strong></p> 
<pre><code>&lt;script type="text/javascript"&gt;
	require([
		"esri/map",
		"esri/layers/ArcGISDynamicMapServiceLayer"
		],function(Map,ArcGISDynamicMapServiceLayer){
		var map = new Map("map",{
			basemap:"topo",
			center:[-100,45],
			zoom:3
		});
		var DynamicLayer = new ArcGISDynamicMapServiceLayer("https://sampleserver6.arcgisonline.com/arcgis/rest/services/Census/MapServer");
		map.addLayer(DynamicLayer);
	});
&lt;/script&gt;
</code></pre> 
<h3><a id="_52"></a>完整代码</h3> 
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
	&lt;meta charset="UTF-8"&gt;
	&lt;title&gt;ArcGISMap&lt;/title&gt;
	&lt;link rel="stylesheet" href="https://js.arcgis.com/3.28/esri/css/esri.css"&gt;
	&lt;script src="https://js.arcgis.com/3.28/"&gt;&lt;/script&gt;
	
	&lt;style type="text/css"&gt;
		html,body{
			height: 100%;
			padding: 0;
			margin: 0;
		}
		#map{
			height: 600px;
			width: 800px;
			margin: 0
			padding:0;
		}
	&lt;/style&gt;

&lt;/head&gt;
&lt;body class="claro"&gt;
	&lt;div id="map"&gt;&lt;/div&gt;

	&lt;script type="text/javascript"&gt;
		require(["esri/map","esri/layers/ArcGISDynamicMapServiceLayer"],
			function(Map,ArcGISDynamicMapServiceLayer){
			var map = new Map("map",{
				basemap:"topo",
				center:[-100,45],
				zoom:3
			});
				var DynamicLayer = new ArcGISDynamicMapServiceLayer("https://sampleserver6.arcgisonline.com/arcgis/rest/services/Census/MapServer");
				map.addLayer(DynamicLayer);
		});

	&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre> 
<h3><a id="_97"></a>显示效果</h3> 
<p><img src="https://images2.imgbox.com/3f/f8/ftC63Cbs_o.jpg" alt="显示效果入图片描述"><br> 显示效果</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/8764e04d3c5dad079e9caa10e90d81f2/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Linux安装VMware Tools</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/64f9c596de0c19830ba02efd8ec6be35/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">java身份证号码验证是否有效，校验是否成年</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>