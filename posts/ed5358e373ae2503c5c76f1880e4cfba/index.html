<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Android Studio使用Git提交、分支、切换、合并 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Android Studio使用Git提交、分支、切换、合并" />
<meta property="og:description" content="GitLab平台创建新项目 首先到Git托管平台上创建一个空的项目，公司使用的Git托管平台是GitLab，所以先到GitLab上面创建一个项目：
点击右上角的加号按钮，打开创建页面，输入项目名称、描述、选择项目的路径，点击create，会创建一个新的空项目出来, 在GitLab上面进入刚创建的项目查看，可以看到GitLab为我们列出了常用的Git命令:
由于是首次创建项目是空的，所以我们本地先提交一个工程代码上去
先找一个目录执行：git clone git@gitlab.xxx.com:xxx/DemoProject.git拉取远程仓库
这里使用的是windows平台的客户端（gitforwindows），在git bash中输入命令会克隆下来一个空目录到本地
然后我们用Android Studio创建一个工程项目：
将创建的工程文件复制到刚才clone下来的仓库目录里，或者在AS创建项目的时候项目路径选择刚才clone下来的目录
由于是第一次提交，我们需要打开根目录下.gitignore文件忽略一些不必要的文件如build、.idea、iml等, 在.gitignore文件中输入下面内容并保存：
*.iml .gradle /.idea /local.properties /.idea/libraries /.idea/modules.xml /.idea/workspace.xml .DS_Store /build /captures .externalNativeBuild 同样在工程下面的每个module目录下面也有一个.gitignore文件，我们在其中输入下面内容并保存：
*.iml /build 然后在该目录下依次执行下面命令：
git add . git commit -m &#34;添加项目文件&#34; git push 这样项目就被提交到远程仓库了，其他人就可以从仓库上clone这个工程的代码
AS中clone远程仓库 我们重新打开AS，选择checkout刚才的提交项目：
在弹出框中输入远程仓库的地址，点击clone即可。当然你可以用命令先clone到文件夹，再从AS中File菜单选择open该目录也可以。
提交代码 AS中的更新和提交基本上都是在工具栏上的这两个按钮，提交代码点击右边的按钮，只不过在AS中提交代码到Git比Svn要多一步push操作。
由于项目没有变动所以提交会提交没有东西可以提交，我们先创建一个类，创建完毕会弹出下面的弹窗：
注意这里一定要勾选Remember, don&#39;t ask again, 不然后面新添加的文件你都得手动右键Git菜单去add，勾选之后新创建的文件就会自动被执行add操作。然后我们再修改一个原有的类，完了点击提交按钮：
在弹窗中会列出有变动的文件（包括新增的、修改的、删除的），输入提交日志点击commit, 注意Git到这一步只是提交到本地仓库，并没有提交到远程Git服务器。
这时在AS的Version Control面板中可以看到提交日志记录以及提交的文件：
接下来就是执行push操作，如果以前用惯了SVN的话可能会经常忘记最后一步的push操作：
或者直接在commit的时候点击commit按钮旁边的三角下来选择Commit and Push也可以进行push操作：
提交成功之后AS右下角会有个类似Toast的弹窗提示，并且这时我们再查看AS的Version Control面板中可以看到刚才的提交日志旁边的标签符合会有一点不一样，多了一个origin表示到这一步的改动已经提交到服务端。
这时到浏览器上去查看Gitlab上面的工程也能看到刚刚的提交日志
一般在进行提交操作之前，最好先执行update操作，因为有可能别人提交了代码跟你的有冲突。
创建分支 AS中创建分支可以直接点击右下角的底部工具栏点击Git:master选择New Branch
或者在右键选择Git-Repository-Branches也行
在弹出的弹窗中输入分支名称：
点击OK就会创建新的本地分支，注意这个弹窗有一个Checkout branch复选框，默认是勾上的，这意味着创建完该分支的同时AS会将当前工程切换到该分支下，如果你只是想创建一个新的分支并不想切换到该分支，还是打算留在当前分支的话，那么就不要勾选这个就可以了。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/ed5358e373ae2503c5c76f1880e4cfba/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-12-31T18:07:36+08:00" />
<meta property="article:modified_time" content="2023-12-31T18:07:36+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Android Studio使用Git提交、分支、切换、合并</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="font_colorblackGitLabfont_0"></a><font color="black">GitLab平台创建新项目</font></h2> 
<p><font color="black">首先到Git托管平台上创建一个空的项目，公司使用的Git托管平台是GitLab，所以先到GitLab上面创建一个项目：</font><br> <img src="https://images2.imgbox.com/30/44/t5W35TlM_o.png" alt="在这里插入图片描述"><br> <font color="black">点击右上角的加号按钮，打开创建页面，输入项目名称、描述、选择项目的路径，点击create，会创建一个新的空项目出来, 在GitLab上面进入刚创建的项目查看，可以看到GitLab为我们列出了常用的Git命令:</font><br> <img src="https://images2.imgbox.com/25/61/dbLSIZS1_o.png" alt="在这里插入图片描述"><br> <font color="black">由于是首次创建项目是空的，所以我们本地先提交一个工程代码上去</font><br> <font color="black">先找一个目录执行：<code>git clone git@gitlab.xxx.com:xxx/DemoProject.git</code>拉取远程仓库</font><br> <img src="https://images2.imgbox.com/7d/f0/j22D9XY4_o.png" alt="在这里插入图片描述"><br> <font color="black">这里使用的是windows平台的客户端（<a href="https://gitforwindows.org/" rel="nofollow">gitforwindows</a>），在git bash中输入命令会克隆下来一个空目录到本地</font><br> <img src="https://images2.imgbox.com/36/f2/3Jm0J625_o.png" alt="在这里插入图片描述"><br> <font color="black">然后我们用Android Studio创建一个工程项目：</font><br> <img src="https://images2.imgbox.com/f3/ee/1NERGqMA_o.png" alt="在这里插入图片描述"><br> <font color="black">将创建的工程文件复制到刚才clone下来的仓库目录里，或者在AS创建项目的时候项目路径选择刚才clone下来的目录</font><br> <img src="https://images2.imgbox.com/e5/73/WdcA0V3E_o.png" alt="在这里插入图片描述"><br> <font color="black">由于是第一次提交，我们需要打开根目录下<code>.gitignore</code>文件忽略一些不必要的文件如build、.idea、iml等, 在<code>.gitignore</code>文件中输入下面内容并保存：</font></p> 
<pre><code class="prism language-java"><span class="token operator">*</span><span class="token punctuation">.</span>iml
<span class="token punctuation">.</span>gradle
<span class="token operator">/</span><span class="token punctuation">.</span>idea
<span class="token operator">/</span>local<span class="token punctuation">.</span>properties
<span class="token operator">/</span><span class="token punctuation">.</span>idea<span class="token operator">/</span>libraries
<span class="token operator">/</span><span class="token punctuation">.</span>idea<span class="token operator">/</span>modules<span class="token punctuation">.</span>xml
<span class="token operator">/</span><span class="token punctuation">.</span>idea<span class="token operator">/</span><span class="token class-name"><span class="token namespace">workspace<span class="token punctuation">.</span>xml
<span class="token punctuation">.</span></span>DS_Store</span>
<span class="token operator">/</span>build
<span class="token operator">/</span>captures
<span class="token punctuation">.</span>externalNativeBuild
</code></pre> 
<p><font color="black">同样在工程下面的每个module目录下面也有一个<code>.gitignore</code>文件，我们在其中输入下面内容并保存：</font></p> 
<pre><code class="prism language-java"><span class="token operator">*</span><span class="token punctuation">.</span>iml
<span class="token operator">/</span>build
</code></pre> 
<p><font color="black">然后在该目录下依次执行下面命令：</font></p> 
<pre><code class="prism language-java">git add <span class="token punctuation">.</span>
git commit <span class="token operator">-</span>m <span class="token string">"添加项目文件"</span>
git push
</code></pre> 
<p><font color="black">这样项目就被提交到远程仓库了，其他人就可以从仓库上clone这个工程的代码</font></p> 
<h2><a id="font_colorblackASclonefont_44"></a><font color="black">AS中clone远程仓库</font></h2> 
<p><font color="black">我们重新打开AS，选择checkout刚才的提交项目：</font><br> <img src="https://images2.imgbox.com/dc/3b/2H47qvaZ_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/d7/0c/6uyyXSLF_o.png" alt="在这里插入图片描述"><br> <font color="black">在弹出框中输入远程仓库的地址，点击clone即可。当然你可以用命令先clone到文件夹，再从AS中File菜单选择open该目录也可以。</font></p> 
<h2><a id="font_colorblackfont_51"></a><font color="black">提交代码</font></h2> 
<p><img src="https://images2.imgbox.com/02/1f/JMaacTPD_o.png" alt="在这里插入图片描述"><br> <font color="black">AS中的更新和提交基本上都是在工具栏上的这两个按钮，提交代码点击右边的按钮，只不过在AS中提交代码到<code>Git</code>比<code>Svn</code>要多一步<code>push</code>操作。</font></p> 
<p><font color="black">由于项目没有变动所以提交会提交没有东西可以提交，我们先创建一个类，创建完毕会弹出下面的弹窗：</font><br> <img src="https://images2.imgbox.com/42/cb/gclHio9o_o.png" alt="在这里插入图片描述"><br> <font color="black">注意这里一定要勾选<code>Remember, don't ask again</code>, 不然后面新添加的文件你都得手动右键Git菜单去<code>add</code>，勾选之后新创建的文件就会自动被执行<code>add</code>操作。然后我们再修改一个原有的类，完了点击提交按钮：</font><br> <img src="https://images2.imgbox.com/78/ac/ZCNNdzUW_o.png" alt="在这里插入图片描述"><br> <font color="black">在弹窗中会列出有变动的文件（包括新增的、修改的、删除的），输入提交日志点击commit, 注意Git到这一步只是提交到本地仓库，并没有提交到远程Git服务器。</font></p> 
<p><font color="black">这时在AS的<code>Version Control</code>面板中可以看到提交日志记录以及提交的文件：</font><br> <img src="https://images2.imgbox.com/c8/f1/15zg4e0h_o.png" alt="在这里插入图片描述"><br> <font color="black">接下来就是执行push操作，如果以前用惯了SVN的话可能会经常忘记最后一步的push操作：</font><br> <img src="https://images2.imgbox.com/57/3f/FQy2bMT6_o.png" alt="在这里插入图片描述"><br> <font color="black">或者直接在commit的时候点击commit按钮旁边的三角下来选择<code>Commit and Push</code>也可以进行push操作：</font><br> <img src="https://images2.imgbox.com/4e/f9/TVzXhGjG_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/93/b4/zuzOYe2k_o.png" alt="在这里插入图片描述"><br> <font color="black">提交成功之后AS右下角会有个类似Toast的弹窗提示，并且这时我们再查看AS的<code>Version Control</code>面板中可以看到刚才的提交日志旁边的标签符合会有一点不一样，多了一个<code>origin</code>表示到这一步的改动已经提交到服务端。</font></p> 
<p><font color="black">这时到浏览器上去查看Gitlab上面的工程也能看到刚刚的提交日志</font><br> <img src="https://images2.imgbox.com/4d/73/oCH0Oi25_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/69/e0/8vO1muAV_o.png" alt="在这里插入图片描述"><br> <font color="black">一般在进行提交操作之前，最好先执行update操作，因为有可能别人提交了代码跟你的有冲突。</font></p> 
<h2><a id="font_colorblackfont_75"></a><font color="black">创建分支</font></h2> 
<p><font color="black">AS中创建分支可以直接点击右下角的底部工具栏点击Git:master选择<code>New Branch</code></font><br> <img src="https://images2.imgbox.com/80/0a/a5i3bXzN_o.png" alt="在这里插入图片描述"></p> 
<p><font color="black">或者在右键选择<code>Git-Repository-Branches</code>也行</font><img src="https://images2.imgbox.com/53/64/H65tuRza_o.png" alt="在这里插入图片描述"><br> <font color="black">在弹出的弹窗中输入分支名称：</font><br> <img src="https://images2.imgbox.com/5a/e3/U9cnoRVV_o.png" alt="在这里插入图片描述"><br> <font color="black">点击OK就会创建新的本地分支，注意这个弹窗有一个<code>Checkout branch</code>复选框，默认是勾上的，这意味着创建完该分支的同时AS会将当前工程切换到该分支下，如果你只是想创建一个新的分支并不想切换到该分支，还是打算留在当前分支的话，那么就不要勾选这个就可以了。</font></p> 
<p><font color="black">创建完毕后我们再次点击底部的按钮查看分支：</font><br> <img src="https://images2.imgbox.com/91/78/4CxLTsiF_o.png" alt="在这里插入图片描述"><br> <font color="black">可以看到新创建的分支只是存在于<code>Local Branches</code>当中，<code>Local Branches</code>现在有三个分支，其中前面带有一个箭头符号的表示AS当前所处的分支，而在<code>Remote Branches</code>当中是只有<code>master</code>分支。</font></p> 
<p><font color="black">那怎么把本地分支提交到远程仓库呢，很简单，在当前分支下再执行一遍<code>commit</code>、<code>push</code>操作就可以了，提交完成后，我们再次查看分支情况：</font><br> <img src="https://images2.imgbox.com/9a/40/LUr1GsB3_o.png" alt="在这里插入图片描述"><br> <font color="black">这时在<code>Remote Branches</code>当中多了一个<code>origin/develop</code>分支，表示已经提交成功了，同时我们到<code>Version Control</code>面板中去看一下也会发现区别标志：</font><br> <img src="https://images2.imgbox.com/d1/4f/fgc1CyEK_o.png" alt="在这里插入图片描述"><br> <font color="black">我们在浏览器中看一下GitLab上的分支情况，可以看到确实多了一个分支：</font><br> <img src="https://images2.imgbox.com/08/8c/bnXOtX8Y_o.png" alt="在这里插入图片描述"><br> <font color="black">上面是在AS中创建的分支，当然你也可以直接在浏览器中创建：</font><br> <img src="https://images2.imgbox.com/ab/02/VCruLSnl_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/fa/2c/i9z5ikQS_o.png" alt="在这里插入图片描述"><br> <font color="black">这样创建完毕会直接在服务端生成新的分支：</font><br> <img src="https://images2.imgbox.com/95/dc/FOCXvHJt_o.png" alt="在这里插入图片描述"><br> <font color="black">我们可以在AS中看一下此时的分支情况（需要先执行一下update操作）：</font><br> <img src="https://images2.imgbox.com/5c/b6/s5HYj5bD_o.png" alt="在这里插入图片描述"><br> <font color="black">可以看到在<code>Remote Branches</code>当中分支多了一个<code>origin/zhaoyun</code>分支</font></p> 
<h2><a id="font_colorblackfont_102"></a><font color="black">切换分支</font></h2> 
<h3><a id="font_colorblackfont_103"></a><font color="black"><strong>切换本地分支</strong></font></h3> 
<p><font color="black">切换本地分支很简单，在<code>Local Branches</code>当中选择要切换的本地分支，然后执行<code>CheckOut</code>就可以：</font><br> <img src="https://images2.imgbox.com/40/5c/zSWVfScq_o.png" alt="在这里插入图片描述"><br> <font color="black">这个菜单里除了<code>CheckOut</code>还可以<code>CheckOut as New Branch</code>即在当前分支的基础上再创建一个新分支。</font></p> 
<p><font color="black">切换完分支后底部会显示当前分支的名字：</font><br> <img src="https://images2.imgbox.com/8c/c0/zOqnam0X_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="font_colorblackfont_111"></a><font color="black"><strong>切换远程分支</strong></font></h3> 
<p><font color="black">切换远程分支可以在<code>Remote Branches</code>当中选择一个想要切换的远程分支进行<code>CheckOut</code></font><br> <img src="https://images2.imgbox.com/c4/fb/vm0WcM6J_o.png" alt="在这里插入图片描述"><br> <font color="black">切换完成以后当前工作空间就会切换到该分支并且在<code>Local Branches</code>当中多了名为zhaoyun的分支：</font><br> <img src="https://images2.imgbox.com/c9/34/prc4UAy1_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/2d/f8/TRhc4xet_o.png" alt="在这里插入图片描述"><br> <font color="black">当然这里在切换远程分支时最好选一个本地没有的对应的远程分支，如果你选了一个本地已有的分支，比如这里选<code>develop</code>, 弹出的弹窗就会提示该分支已存在：</font><br> <img src="https://images2.imgbox.com/1f/54/ecnPzdWX_o.png" alt="在这里插入图片描述"><br> <font color="black">当然你如果改一个名字也是可以再check出来一个的：</font><br> <img src="https://images2.imgbox.com/db/6e/AAVdCTWx_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/1c/b4/C7oGguKh_o.png" alt="在这里插入图片描述"><br> <font color="black">这样本地就会存在两个对应远程develop的本地分支，这两个分支可以分开开发互不影响。</font></p> 
<h2><a id="font_colorblackfont_125"></a><font color="black">合并分支代码</font></h2> 
<h3><a id="font_colorblackfont_126"></a><font color="black"><strong>合并本地分支代码</strong></font></h3> 
<p><font color="black">这种情况下一般是你自己在本地check了好几个远程分支的本地分支，然后自己想要合并不同的分支代码，在<code>Local Branches</code>当中选择要合并的本地分支执行<code>Merge</code>操作即可，比如现在是<code>master</code>本地分支，我要合并<code>develop</code>的本地分支：</font><br> <img src="https://images2.imgbox.com/4f/b6/MfTjrul0_o.png" alt="在这里插入图片描述"><br> <font color="black">合并后只是在本地进行了代码合并，如果想要在远程仓库也合并，需要在合并之后当前分支执行<code>commit</code>和<code>push</code>操作。</font></p> 
<h3><a id="font_colorblackfont_132"></a><font color="black"><strong>合并本地分支冲突</strong></font></h3> 
<p><font color="black">两个本地分支合并以后，如果没有冲突，并且被合并以后的代码没有被commit, 这时他们会共用相同的工作空间共用一份代码，修改代码的时候，所有merge过的本地分支代码都会被修改。</font></p> 
<p><font color="black">假如这时你commit了其中一个分支的修改的代码，那么再切换分支的时候，不同分支的代码就又会分隔开来。</font></p> 
<p><font color="black">假如这时你commit了其中一个本地分支的代码后又修改了代码，那么再次进行checkout另一个分支的时候，可能会发生冲突：</font><br> <img src="https://images2.imgbox.com/32/4e/lscOujK8_o.png" alt="在这里插入图片描述"></p> 
<p><font color="black">我们点击Smart Checkout按钮，会弹出冲突合并的弹窗：</font><br> <img src="https://images2.imgbox.com/ce/f8/hfvzvEFZ_o.png" alt="在这里插入图片描述"><br> <font color="black">点击merger按钮：</font><br> <img src="https://images2.imgbox.com/37/77/XonmEV28_o.png" alt="在这里插入图片描述"><br> <font color="black">这个弹窗当中左边的框中是当前本地分支的尚未进行commit的代码，右边的框中是要checkout的目标分支的本地代码，而中间的框是最终合并的结果，你可以点击左右两边的 <code>x</code> 或者 <code>&gt;&gt;</code> 来选择保留或者舍弃某一边的代码。点击<code>Apply</code>按钮会保留merge的结果，如果你点击了关闭弹窗，则冲突会被保留到代码当中：</font><br> <img src="https://images2.imgbox.com/f3/2e/YSj5Nb3h_o.png" alt="在这里插入图片描述"></p> 
<p><font color="black">这时即便你手动删除了冲突的代码，当你再次尝试切换分支的时候，依然会提示你冲突未解决：</font><br> <img src="https://images2.imgbox.com/16/51/RnLlGbvs_o.png" alt="在这里插入图片描述"></p> 
<p><font color="black">点击提示中resolve，可以看到又会弹出刚才的merge弹窗：</font><br> <img src="https://images2.imgbox.com/e7/4f/e6hb3TeW_o.png" alt="在这里插入图片描述"><br> <font color="black">保证冲突被解决后AS才会进行分支切换</font></p> 
<h3><a id="font_colorblackfont_155"></a><font color="black"><strong>本地分支合并远程分支</strong></font></h3> 
<p><font color="black">这种情况最常见，一般是多人开发，别人开的分支提交了代码之后，你的本地分支想去合并它提交的代码。</font></p> 
<p><font color="black">操作跟合并本地分支一样，直接在<code>Remote Branches</code>当中选择要合并的本地分支执行<code>Merge</code>操作即可：</font><br> <img src="https://images2.imgbox.com/7a/9f/WmxhfCxy_o.png" alt="在这里插入图片描述"><br> <font color="black">合并之后不要忘了把合并的结果执行<code>push</code>操作</font></p> 
<h3><a id="font_colorblackfont_163"></a><font color="black"><strong>合并远程分支冲突</strong></font></h3> 
<p><font color="black">如果在本地分支合并远程分支的过程中出现冲突，AS会自动弹出合并冲突的弹窗：</font><br> <img src="https://images2.imgbox.com/d2/57/j5YIChXP_o.png" alt="在这里插入图片描述"><br> <font color="black">点击Merge按钮会弹出下面的弹窗：</font><br> <img src="https://images2.imgbox.com/8d/6d/hLmQ5d3c_o.png" alt="在这里插入图片描述"><br> <font color="black">这个弹窗当中左边的框中是当前本地分支的代码，右边的框中是要merge的目标分支的远程代码，而中间的框是最终合并的结果，你可以点击左右两边的 <code>x</code> 或者 <code>&gt;&gt;</code> 来选择保留或者舍弃某一边的代码，当然为了保险有的时候还是需要仔细检查后手动去复制修改，以免误操作导致代码丢失错乱。注意，点击<code>Apply</code>按钮才会保留merge的结果，如果你点击了关闭弹窗，则不会做任何改变。</font></p> 
<h3><a id="font_colorblackfont_172"></a><font color="black"><strong>远程分支合并远程分支</strong></font></h3> 
<p><font color="black">这个AS中没有找到对应的操作菜单，只能在服务端进行了，打开浏览器在GitLab上选择Merge Requests—New Merge Request:</font><br> <img src="https://images2.imgbox.com/06/2c/FuHejvOj_o.png" alt="在这里插入图片描述"><br> <font color="black">这里会让你选择从哪个分支合并到哪个分支：</font></p> 
<p><img src="https://images2.imgbox.com/66/01/CgQfcJ1W_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/ff/b7/P75B4CVh_o.png" alt="在这里插入图片描述"><br> <font color="black">确认好后点击按钮继续：</font><br> <img src="https://images2.imgbox.com/ab/62/rguHQtvC_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/86/5a/hasi7UFs_o.png" alt="在这里插入图片描述"><br> <font color="black">最终会生成一个merger请求，我们点击下面的Accept Merge Request按钮才会真正的执行Merge操作：</font><br> <img src="https://images2.imgbox.com/26/b9/RlTvqYRI_o.png" alt="在这里插入图片描述"><br> <font color="black">Merge成功会有下面的提示，同时去commit history里也能看到提交记录</font><br> <img src="https://images2.imgbox.com/9a/d8/sgo3kgcY_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="font_colorblackfont_187"></a><font color="black"><strong>删除分支</strong></font></h2> 
<p><font color="black">AS可以选择删除本地分支和远程分支：</font><br> <img src="https://images2.imgbox.com/11/fb/8gH9s1fA_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/72/e2/YaNBXz3e_o.png" alt="在这里插入图片描述"><br> <font color="black">删除远程分支可能需要权限，删除分支后代码就没有了，所以一定谨慎。</font></p> 
<h2><a id="font_colorblackfont_194"></a><font color="black"><strong>更新代码</strong></font></h2> 
<p><font color="black">更新代码有两种方式，第一种是前面提到的直接点击工具栏上的更新按钮：</font><br> <img src="https://images2.imgbox.com/dc/82/FFuagZjd_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/7a/af/2cmccn8Y_o.png" alt="在这里插入图片描述"><br> <font color="black">弹出的弹窗中会有一些选择项，如果你是单人单个分支开发的话，用默认的就可以，默认是更新的当前分支的代码。如果是多人开发的话，可以选择merge，这样如果别人有提交代码跟你的冲突的时候AS会自动弹出merge弹窗。</font></p> 
<p><font color="black">另一种更新代码的方式可以在右键菜单中选择Git–&gt;Repository–&gt;Pull：</font><br> <img src="https://images2.imgbox.com/48/75/7KElCw2y_o.png" alt="在这里插入图片描述"><br> <font color="black">这时会弹出下面的弹窗：</font></p> 
<p><img src="https://images2.imgbox.com/ca/43/XXzyLFXk_o.png" alt="在这里插入图片描述"><br> <font color="black">可以看到这里pull操作不仅可以选择当前分支，还可以选择服务器的其他远程分支进行一并Pull，如果有冲突的话，AS会自动弹出前面合并冲突的merge弹窗进行merge操作。</font></p> 
<h2><a id="font_colorblackfont_207"></a><font color="black"><strong>回退本地分支代码到某个版本</strong></font></h2> 
<p><font color="black">可以在<code>Version Control</code>面板的Log记录列表中选择某一条你想要回退的记录，然后右键<code>Revert</code>:</font><br> <img src="https://images2.imgbox.com/8e/0d/xQWu5Ajj_o.png" alt="在这里插入图片描述"><br> <font color="black">这步操作将会把你当前本地分支的代码和你选中的那条提交记录对应状态的代码进行合并操作，当然如果此时有冲突，AS依然会弹出merge弹窗。</font></p> 
<p><font color="black">或者，你也可以选择<code>Reset Current Branch to Here</code>:</font><br> <img src="https://images2.imgbox.com/08/90/NBBBNoOx_o.png" alt="在这里插入图片描述"><br> <font color="black">这个操作会弹出下面的弹窗：</font><br> <img src="https://images2.imgbox.com/08/0b/opVoBsc1_o.png" alt="在这里插入图片描述"><br> <font color="black">这里有几种选择模式：Soft、Mixed、Hard、Keep，不同的模式含义也不同：</font></p> 
<table><thead><tr><th align="left">Reset模式</th><th align="left">含义</th></tr></thead><tbody><tr><td align="left"><strong>Soft</strong></td><td align="left">当前的代码文件不会发生任何变化，只是提交的记录指针会恢复到该次记录，下次提交时的变化将会是该次记录之后的所有变化</td></tr><tr><td align="left"><strong>Mixed</strong></td><td align="left">当前的代码文件不会发生任何变化，提交记录指针会移动到该次记录，下次提交时的变化将会是当前代码基于该次记录之上的变化</td></tr><tr><td align="left"><strong>Hard</strong></td><td align="left">该操作会将本地的工作区缓存区完全重置为选中的记录状态，当前任何代码的改动都会丢失</td></tr><tr><td align="left"><strong>Keep</strong></td><td align="left">该操作会将本地的工作区缓存区完全重置为选中的记录状态，但是当前代码的改动任然会被保留下来</td></tr></tbody></table> 
<p><font color="black">假如提交记录以及当前代码的状态如下：</font><br> <img src="https://images2.imgbox.com/96/b8/59rS4Mhn_o.png" alt="在这里插入图片描述"><br> <font color="black">那么此时我们选择第三次commit进行Reset不同模式的情况如下：</font><br> <img src="https://images2.imgbox.com/7b/6f/Yw86TPte_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/2e/c0/ZUIpHXFx_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/56/f9/M6QuWQSB_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/14/68/k49Mx9Pw_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="font_colorblackTagfont_232"></a><font color="black"><strong>根据Tag检出代码</strong></font></h2> 
<p><font color="black">除了分支管理代码以外，我们也可以通过Tag来管理代码，Tag可以理解为某次提交的时刻打一个标记，一般用于比较重要的里程碑，例如你可以用它来进行发布版本的管理。</font></p> 
<p><font color="black">首先创建一个Tag:</font><br> <img src="https://images2.imgbox.com/cf/35/ItuEZ7Ev_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/42/6c/P9z9Qc73_o.png" alt="在这里插入图片描述"><br> <font color="black">这里弹窗中填写Tag名称与Tag信息，点击Create Tag即可创建本地标签。其中Commit可填写以前某次提交记录的id，表示在该次提交上打Tag，如果不填表示Tag打在最新提交的commit上。</font></p> 
<p><font color="black">创建完Tag后，需要将Tag推送到远程分支：</font><br> <img src="https://images2.imgbox.com/0d/3a/X3hbKGu7_o.png" alt="在这里插入图片描述"><br> <font color="black">这里的弹窗中勾选Push Tags即可，Push之后我们可以在GitLab浏览器上看到刚刚提交的Tag：</font><br> <img src="https://images2.imgbox.com/5e/5b/HhX30Dtg_o.png" alt="在这里插入图片描述"><br> <font color="black">然后我们可以根据Tag检出代码了：</font></p> 
<p><img src="https://images2.imgbox.com/28/0a/xLkYF1Ai_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/7a/be/25X906cj_o.png" alt="在这里插入图片描述"><br> <font color="black">这样检出代码以后，你会发现当前不处于任何分支：</font><br> <img src="https://images2.imgbox.com/6e/8e/PUiLWh2D_o.png" alt="在这里插入图片描述"><br> <font color="black">此时工程文件处于一个没有名字的分支，如果你修改了代码后进行Push操作会发现处于<code>Detached HEAD</code>状态无法进行Push：</font><br> <img src="https://images2.imgbox.com/cf/ab/BUQhijC1_o.png" alt="在这里插入图片描述"><br> <font color="black">这是因为 Tag 相当于是一个快照，是不能更改它的代码的, 如果要在 Tag 检出的代码的基础上做修改，你需要创建一个新的branch：<code>git checkout -b branch_name tag_name</code>，这个操作在AS中无法通过菜单按钮完成，只能通过命令行执行：</font><br> <img src="https://images2.imgbox.com/cf/8a/raHYI8Yn_o.png" alt="在这里插入图片描述"><br> <font color="black">执行完成后再回到AS中看一下：</font><br> <img src="https://images2.imgbox.com/dc/f2/bjLLBkny_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/49/3e/jPT0HeAQ_o.png" alt="在这里插入图片描述"><br> <font color="black">可以看到我们的分支终于有了名字，这时就可以正常提交了，剩下的操作就跟之前的操作一样。其实最终还是将当前代码作为一个新的分支进行管理了，但这个只是本地分支，并不会在远程服务器创建新的分支，这样好处是可以避免创建过多的远程分支。</font></p> 
<p><font color="black">前面提到创建Tag时不填commit是为最新的一次commit打标记，如果我想为某一次打标记呢，有个便捷的方法，就是在Version Control的日志面板中选中某一条记录，然后右键执行New Tag: </font><br> <img src="https://images2.imgbox.com/2f/ab/6SNIVL0t_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/b7/a2/CUv0lJ3y_o.png" alt="在这里插入图片描述"><br> <font color="black">弹出框中输入tag名称即可，然后同样进行Push 操作（不过这样创建的tag好像并不会在远程服务器端存在？），之后可以同前面操作一样去检出这个tag作为一个新的分支使用。</font></p> 
<h2><a id="font_colorblack_Revision_Number____font_265"></a><font color="black"><strong>通过 Revision Number ( 版本号 ) 检出代码</strong></font></h2> 
<p><font color="black">这个操作几乎跟tag检出过程一样，不过我们不需要先创建Revision Number，每次commit的时候Git都会生成一个id这个就是Revision Number，我们可以在Version Control的日志面板中选中某条提交记录，然后右键选择Copy Revision Number:</font><br> <img src="https://images2.imgbox.com/33/ab/255nrhgy_o.png" alt="在这里插入图片描述"><br> <font color="black">这样就能获得该次提交的id版本号，然后选择去CheckOut这个版本号的代码：</font><br> <img src="https://images2.imgbox.com/21/51/sFfmmdCK_o.png" alt="在这里插入图片描述"><br> <font color="black">在弹出框中黏贴刚才Copy的版本号：</font><br> <img src="https://images2.imgbox.com/13/48/yIEVu8cV_o.png" alt="在这里插入图片描述"><br> <font color="black">然后就能检出这个版本号的代码了，不过检出之后也会处于<code>Detached HEAD</code>状态无法进行Push状态，同样我们需要通过命令执行<code>git checkout -b branch_name commit_id</code> 来创建一个新的branch，其中<code>commit_id</code>就是刚才 Copy 的 Revision Number。</font></p> 
<p><font color="black">感觉这个好像比Tag更加方便一点</font></p> 
<h2><a id="font_colorblack_Gitlabfont_279"></a><font color="black"> <strong>补充Gitlab命令拉取分支的三种方式：</strong></font></h2> 
<p><font color="black"> 1. 直接执行命令<code>git clone -b branch_name branch.git</code> branch_name是分支名字</font></p> 
<p><font color="black"> 2. 可以先<code>clone master.git</code> 到本地， cd到项目目录，然后执行<code>git checkout -b dev origin/branch_name</code>, branch_name是分支名字</font></p> 
<p><font color="black"> 3. 可以先<code>clone master.git</code>到本地， cd到项目目录，然后使用命令 <code>git branch -r #</code> 查看远程分支 或 <code>git branch -a #</code> 查看所有分支, 会显示:</font><br> <img src="https://images2.imgbox.com/56/3a/vdWp9gcK_o.png" alt="在这里插入图片描述"><br> <font color="black"> 然后直接 <code>git checkout origin/branch_name</code>即可</font></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/29b75ba7ec8e1f99880bf71ee6fc1800/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">提取 PE 文件的各种信息</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/666588bdd613541d5425aa446e0bfe85/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Git 常用命令知识笔记</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>