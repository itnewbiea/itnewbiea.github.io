<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【Windows】搭建Emby媒体库服务器，实现无公网IP远程访问 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【Windows】搭建Emby媒体库服务器，实现无公网IP远程访问" />
<meta property="og:description" content="文章目录 1.前言2. Emby网站搭建2.1. Emby下载和安装2.2 Emby网页测试 3. 本地网页发布3.1 注册并安装cpolar内网穿透3.2 Cpolar云端设置3.3 Cpolar内网穿透本地设置 4.公网访问测试5.结语 1.前言 在现代五花八门的网络应用场景中，观看视频绝对是主力应用场景之一，加上移动网络技术的发展，随时随地看视频已经成为基本需求。不过，随着资本向视频应用的集中，想要看视频就必须先充会员，这让笔者很是郁闷，于是产生了自建影音云盘的想法，期间也尝试了多种影音服务器。今天，笔者就为大家介绍，如何在Windows系统中，使用Cpolar内网穿透&#43;Emby，搭建自己的私人影音平台。
2. Emby网站搭建 作为国外玩家推崇的影音平台三剑客之一的Emby，拥有漂亮的软件界面（虽然笔者感觉和jellyfin很像）和强大功能，并且能够支持多种操作系统（Windows、MacOS、Linux、Android等等），最重要的是，它以.exe形式安装部署，省去了部署网页运行环境的麻烦。
2.1. Emby下载和安装 正如前面所提到的，Emby的安装很简单，只要登录Emby的官网emby.media，点击页面上方的download按钮，就能进入软件下载页面。在下载页面，我们选择对应操作系统的emby软件下载即可（笔者下载的是Windows X64版本）。
Emby软件是以压缩包形式下载，下载完成后将其解压到本地电脑。根据Emby官网的安装指引，我们在解压后的Emby文件夹的system文件夹下，找到名为EmbyServer.exe的文件，双击执行安装。
在双击EmbyServer.exe文件后，Windows可能会弹出防火墙安全警告，我们只要允许其访问互联网即可。
只要很短时间，Emby就会安装完成。软件安装完成后，会在Windows任务栏右下角的系统托盘处生成一个绿色的Emby图标。右键单击这个图标，并点选弹出菜单的Emby Premiere选项，就能进入本地Emby服务器的设置页面。
Emby的设置页面平平无奇，都是常规的“界面语言”、“本地媒体文件存放位置”、“管理员信息”之类。此处笔者就不过多冗述。
2.2 Emby网页测试 完成本地Emby服务器的设置后，Emby软件会转入登录页面（如没有跳转，可以在浏览器地址栏输入localhost:8096/Web），此处只要输入设置时输入的登录名，就能登录Emby Server主页面。
此时的Emby Server就在本地8096端口输出，接下来我们只需要使用cpolar内网穿透，为本地8096端口建立一条内网穿透数据隧道，就能在公共互联网上，访问到本地（局域网内）电脑上的Emby Server页面。
3. 本地网页发布 3.1 注册并安装cpolar内网穿透 cpolar内网穿透工具：https://www.cpolar.com/
完成Emby Server在本地电脑的安装后，就可以转入cpolar内网穿透工具的安装。与Emby Server的安装一样，cpolar的安装注册同样简单易行。我们可以直接在cpolar的官网页面找到下载按钮。
笔者使用的是Windows操作系统，因此选择Windows版本进行下载。
Cpolar下载完成后，将下载的文件解压，双击解压后的.msi文件，就能自动执行安装程序，接着一路点击Next就能完成安装。
cpolar会为每个用户创建独立的数据隧道，并通过用户密码和token码保证每位用户的数据安全，因此在使用cpolar之前，需要进行注册登录。在cpolar官网注册新用户的过程也非常简单，只要在cpolar主页右上角点击“用户注册”按钮，并在注册页面填入必要信息，就能完成注册。
完成了Emby Server和cpolar内网穿透程序的安装，接着我们就可以使用cpolar，创建一个能够连接本地测试页面的公共互联网地址，让我们能在有限范围对的支付页面进行测试。
3.2 Cpolar云端设置 由于笔者想要能随时访问到自己的私人影音云盘，不想每天进行重连设置（cpolar免费版设置的内网穿透数据隧道每24小时就会重置一次），因此将cpolar升级至vip版，以获得长期稳定存在的内网穿透数据隧道。如果是cpolar免费版或只是临时创建数据隧道，可以直接在cpolar客户端进行设置而不必在cpolar云端进行设置。
为创建能够长期稳定存续的内网穿透数据隧道，我们先登录cpolar的官网，在用户主页面左侧找到预留按钮，并点击进入cpolar的数据隧道预留页面。在这里生成一个公共互联网地址（可以理解为数据隧道的入口），由于此时这个地址没有连接本地的软件输出端口，因此也可以看做是空白的数据隧道。
在预留页面，可以看到很多种可保留的数据隧道，这里我们选择保留二级子域名栏位。
在“保留二级子域名”栏位，需要进行几项信息的简单设置，即：
地区：服务器所在区域，就近选择即可）二级域名：会最终出现在生成的公共互联网地址中，作为网络地址的标识之一）描述：可以看做这条数据隧道的描述，能够与其他隧道区分开即可）。 完成这几项设置后，就可以点击右侧的保留按钮，将这条数据隧道保留下来。
当然，如果这条数据隧道不打算再使用，还可以点击右侧的“x”将其轻松删除，节约宝贵的隧道名额。
3.3 Cpolar内网穿透本地设置 完成cpolar云端的设置，建立内网穿透数据隧道的入口后，我们回到本地的cpolar客户端，将云端生成的空白数据隧道与本地eEmby server页面连接起来，让我们能在公共互联网上访问到本地的测试页面。
在本地打开并登录cpolar客户端（可以在浏览器中输入localhost:9200直接访问，也可以在开始菜单中点击cpolar客户端的快捷方式）。
点击客户端主界面左侧隧道管理项下的创建隧道按钮，进入本地隧道创建页面（如果要创建没24小时重置地址的临时数据隧道，可直接在此进行设置，不必再cpolar官网设置空白数据隧道）。
在这个页面，同样需要进行几项信息设置，这些信息设置包括：
隧道名称：可以看做cpolar本地的隧道信息注释，方便我们分辨不用隧道的用途即可；协议：Emby server是网页形式输出，因此选择http协议；本地地址：本地地址即为本地网站的输出端口号，Emby server网页端口为8096，因此这里也填入8096；域名类型：在这个例子中，我们已经在cpolar云端预留了二级子域名的数据隧道，因此勾选“二级子域名”（如果预留的是自定义域名，则勾选自定义域名）;在下一行Sub Domain栏中填入预留的二级子域名，这里填入“Embyserverweb”。如果打算创建临时数据隧道，则直接勾选“随机域名”，由cpolar客户端自行生成网络地址；地区：与cpolar云端预留的信息一样，我们依照实际使用地填写即可； 完成这些设置后，就可以点击页面下方的创建按钮，将cpolar云端的空白数据隧道与本地的Emby server页面连接起来，即创建了可以在公共互联网访问本地Emby server的数据隧道。
我们可以在隧道管理项下的隧道列表页面中，对这条数据隧道进行管理，包括开启、关闭或删除这条隧道，也可以点击“编辑”按钮，最这条数据隧道的信息进行修改。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/4a72aab0d012c4f8e367e9a05388522c/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-12-01T10:09:22+08:00" />
<meta property="article:modified_time" content="2023-12-01T10:09:22+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【Windows】搭建Emby媒体库服务器，实现无公网IP远程访问</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#1_2" rel="nofollow">1.前言</a></li><li><a href="#2_Emby_6" rel="nofollow">2. Emby网站搭建</a></li><li><ul><li><a href="#21_Emby_10" rel="nofollow">2.1. Emby下载和安装</a></li><li><a href="#22_Emby_38" rel="nofollow">2.2 Emby网页测试</a></li></ul> 
  </li><li><a href="#3__48" rel="nofollow">3. 本地网页发布</a></li><li><ul><li><a href="#31_cpolar_50" rel="nofollow">3.1 注册并安装cpolar内网穿透</a></li><li><a href="#32_Cpolar_76" rel="nofollow">3.2 Cpolar云端设置</a></li><li><a href="#33_Cpolar_102" rel="nofollow">3.3 Cpolar内网穿透本地设置</a></li></ul> 
  </li><li><a href="#4_129" rel="nofollow">4.公网访问测试</a></li><li><a href="#5_137" rel="nofollow">5.结语</a></li></ul> 
</div> 
<p></p> 
<h2><a id="1_2"></a>1.前言</h2> 
<p>在现代五花八门的网络应用场景中，观看视频绝对是主力应用场景之一，加上移动网络技术的发展，随时随地看视频已经成为基本需求。不过，随着资本向视频应用的集中，想要看视频就必须先充会员，这让笔者很是郁闷，于是产生了自建影音云盘的想法，期间也尝试了多种影音服务器。今天，笔者就为大家介绍，如何在Windows系统中，使用Cpolar内网穿透+Emby，搭建自己的私人影音平台。</p> 
<h2><a id="2_Emby_6"></a>2. Emby网站搭建</h2> 
<p>作为国外玩家推崇的影音平台三剑客之一的Emby，拥有漂亮的软件界面（虽然笔者感觉和jellyfin很像）和强大功能，并且能够支持多种操作系统（Windows、MacOS、Linux、Android等等），最重要的是，它以<code>.exe</code>形式安装部署，省去了部署网页运行环境的麻烦。</p> 
<h3><a id="21_Emby_10"></a>2.1. Emby下载和安装</h3> 
<p>正如前面所提到的，Emby的安装很简单，只要登录Emby的官网<code>emby.media</code>，点击页面上方的<code>download</code>按钮，就能进入软件下载页面。在下载页面，我们选择对应操作系统的emby软件下载即可（笔者下载的是Windows X64版本）。</p> 
<p><img src="https://images2.imgbox.com/69/57/vpJTMHni_o.png" alt="20230426091901"></p> 
<p><img src="https://images2.imgbox.com/b5/24/J6hI95es_o.png" alt="20230426091902"></p> 
<p><img src="https://images2.imgbox.com/9e/98/1Da9c9Uk_o.png" alt="20230426091903"></p> 
<p><img src="https://images2.imgbox.com/0e/9e/g0xj6KSX_o.png" alt="20230426091904"></p> 
<p>Emby软件是以压缩包形式下载，下载完成后将其解压到本地电脑。根据Emby官网的安装指引，我们在解压后的Emby文件夹的system文件夹下，找到名为<code>EmbyServer.exe</code>的文件，双击执行安装。</p> 
<p>在双击EmbyServer.exe文件后，Windows可能会弹出防火墙安全警告，我们只要允许其访问互联网即可。</p> 
<p><img src="https://images2.imgbox.com/b4/ee/8jlvpMPQ_o.png" alt="20230426091905"></p> 
<p><img src="https://images2.imgbox.com/be/5d/P6v96Njh_o.png" alt="20230426091906"></p> 
<p>只要很短时间，Emby就会安装完成。软件安装完成后，会在Windows任务栏右下角的系统托盘处生成一个绿色的Emby图标。右键单击这个图标，并点选弹出菜单的<code>Emby Premiere</code>选项，就能进入本地Emby服务器的设置页面。</p> 
<p><img src="https://images2.imgbox.com/7e/b3/3PPnkdTW_o.png" alt="20230426091907"></p> 
<p>Emby的设置页面平平无奇，都是常规的“界面语言”、“本地媒体文件存放位置”、“管理员信息”之类。此处笔者就不过多冗述。</p> 
<p><img src="https://images2.imgbox.com/9e/b4/Rtfmurbn_o.png" alt="20230426091908"></p> 
<h3><a id="22_Emby_38"></a>2.2 Emby网页测试</h3> 
<p>完成本地Emby服务器的设置后，Emby软件会转入登录页面（如没有跳转，可以在浏览器地址栏输入localhost:8096/Web），此处只要输入设置时输入的登录名，就能登录Emby Server主页面。</p> 
<p><img src="https://images2.imgbox.com/e7/85/cAoRlp5B_o.png" alt="20230426091909"></p> 
<p><img src="https://images2.imgbox.com/4c/97/VfQgcJK4_o.png" alt="20230426091910"></p> 
<p>此时的Emby Server就在本地<code>8096端口</code>输出，接下来我们只需要使用cpolar内网穿透，为本地8096端口建立一条内网穿透数据隧道，就能在公共互联网上，访问到本地（局域网内）电脑上的Emby Server页面。</p> 
<h2><a id="3__48"></a>3. 本地网页发布</h2> 
<h3><a id="31_cpolar_50"></a>3.1 注册并安装cpolar内网穿透</h3> 
<blockquote> 
 <p>cpolar内网穿透工具：<a href="https://www.cpolar.com/" rel="nofollow">https://www.cpolar.com/</a></p> 
</blockquote> 
<p>完成Emby Server在本地电脑的安装后，就可以转入cpolar内网穿透工具的安装。与Emby Server的安装一样，cpolar的安装注册同样简单易行。我们可以直接在cpolar的官网页面找到<code>下载</code>按钮。</p> 
<p><img src="https://images2.imgbox.com/74/27/TfMtnrhz_o.png" alt="20230426091911"></p> 
<p>笔者使用的是Windows操作系统，因此选择Windows版本进行下载。</p> 
<p><img src="https://images2.imgbox.com/d3/88/dWI5c47E_o.png" alt="20230426091912"></p> 
<p>Cpolar下载完成后，将下载的文件解压，双击解压后的<code>.msi</code>文件，就能自动执行安装程序，接着一路点击<code>Next</code>就能完成安装。</p> 
<p><img src="https://images2.imgbox.com/a2/82/TOtJQxJF_o.png" alt="20230426091913"></p> 
<p><img src="https://images2.imgbox.com/71/f7/SSgAJ7RB_o.png" alt="20230426091914"></p> 
<p>cpolar会为每个用户创建独立的数据隧道，并通过用户密码和token码保证每位用户的数据安全，因此在使用cpolar之前，需要进行注册登录。在cpolar官网注册新用户的过程也非常简单，只要在cpolar主页右上角点击“用户注册”按钮，并在注册页面填入必要信息，就能完成注册。</p> 
<p><img src="https://images2.imgbox.com/9d/32/T7pFjYNx_o.png" alt="20230426091915"></p> 
<p><img src="https://images2.imgbox.com/17/c9/mshAaFl1_o.png" alt="20230426091916"></p> 
<p>完成了Emby Server和cpolar内网穿透程序的安装，接着我们就可以使用cpolar，创建一个能够连接本地测试页面的公共互联网地址，让我们能在有限范围对的支付页面进行测试。</p> 
<h3><a id="32_Cpolar_76"></a>3.2 Cpolar云端设置</h3> 
<p>由于笔者想要能随时访问到自己的私人影音云盘，不想每天进行重连设置（cpolar免费版设置的内网穿透数据隧道每24小时就会重置一次），因此将cpolar升级至vip版，以获得长期稳定存在的内网穿透数据隧道。如果是cpolar免费版或只是临时创建数据隧道，可以直接在cpolar客户端进行设置而不必在cpolar云端进行设置。</p> 
<p>为创建能够长期稳定存续的内网穿透数据隧道，我们先登录cpolar的官网，在用户主页面左侧找到<code>预留</code>按钮，并点击进入cpolar的数据隧道预留页面。在这里生成一个公共互联网地址（可以理解为数据隧道的入口），由于此时这个地址没有连接本地的软件输出端口，因此也可以看做是空白的数据隧道。</p> 
<p><img src="https://images2.imgbox.com/9d/13/LXNe6peJ_o.png" alt="20230426091917"></p> 
<p>在预留页面，可以看到很多种可保留的数据隧道，这里我们选择<code>保留二级子域名</code>栏位。</p> 
<p><img src="https://images2.imgbox.com/ac/d0/63KG1x0s_o.png" alt="20230426091918"></p> 
<p>在“保留二级子域名”栏位，需要进行几项信息的简单设置，即：</p> 
<ul><li>地区：服务器所在区域，就近选择即可）</li><li>二级域名：会最终出现在生成的公共互联网地址中，作为网络地址的标识之一）</li><li>描述：可以看做这条数据隧道的描述，能够与其他隧道区分开即可）。</li></ul> 
<p>完成这几项设置后，就可以点击右侧的<code>保留</code>按钮，将这条数据隧道保留下来。</p> 
<p><img src="https://images2.imgbox.com/91/3b/B1R5Srtu_o.png" alt="20230426091919"></p> 
<p>当然，如果这条数据隧道不打算再使用，还可以点击右侧的“x”将其轻松删除，节约宝贵的隧道名额。</p> 
<p><img src="https://images2.imgbox.com/db/78/jcFqFAnB_o.png" alt="20230426091920"></p> 
<h3><a id="33_Cpolar_102"></a>3.3 Cpolar内网穿透本地设置</h3> 
<p>完成cpolar云端的设置，建立内网穿透数据隧道的入口后，我们回到本地的cpolar客户端，将云端生成的空白数据隧道与本地eEmby server页面连接起来，让我们能在公共互联网上访问到本地的测试页面。</p> 
<p>在本地打开并登录cpolar客户端（可以在浏览器中输入<code>localhost:9200</code>直接访问，也可以在开始菜单中点击cpolar客户端的快捷方式）。</p> 
<p><img src="https://images2.imgbox.com/86/66/yaTl09gt_o.png" alt="20230426091921"></p> 
<p>点击客户端主界面左侧<code>隧道管理</code>项下的<code>创建隧道</code>按钮，进入本地隧道创建页面（如果要创建没24小时重置地址的临时数据隧道，可直接在此进行设置，不必再cpolar官网设置空白数据隧道）。</p> 
<p>在这个页面，同样需要进行几项信息设置，这些信息设置包括：</p> 
<ol><li><code>隧道名称</code>：可以看做cpolar本地的隧道信息注释，方便我们分辨不用隧道的用途即可；</li><li><code>协议</code>：Emby server是网页形式输出，因此选择http协议；</li><li><code>本地地址</code>：本地地址即为本地网站的输出端口号，Emby server网页端口为8096，因此这里也填入8096；</li><li><code>域名类型</code>：在这个例子中，我们已经在cpolar云端预留了二级子域名的数据隧道，因此勾选“二级子域名”（如果预留的是自定义域名，则勾选自定义域名）;</li><li>在下一行<code>Sub Domain</code>栏中填入预留的二级子域名，这里填入“Embyserverweb”。如果打算创建临时数据隧道，则直接勾选“随机域名”，由cpolar客户端自行生成网络地址；</li><li><code>地区</code>：与cpolar云端预留的信息一样，我们依照实际使用地填写即可；</li></ol> 
<p><img src="https://images2.imgbox.com/60/78/ZDFhvzAF_o.png" alt="20230426091922"></p> 
<p>完成这些设置后，就可以点击页面下方的<code>创建</code>按钮，将cpolar云端的空白数据隧道与本地的Emby server页面连接起来，即创建了可以在公共互联网访问本地Emby server的数据隧道。</p> 
<p>我们可以在<code>隧道管理</code>项下的<code>隧道列表</code>页面中，对这条数据隧道进行管理，包括开启、关闭或删除这条隧道，也可以点击“编辑”按钮，最这条数据隧道的信息进行修改。</p> 
<p><img src="https://images2.imgbox.com/e7/62/QmRxNM5Q_o.png" alt="20230426091923"></p> 
<h2><a id="4_129"></a>4.公网访问测试</h2> 
<p>最后，我们点击左侧<code>状态</code>项下的<code>在线隧道列表</code>按钮，就能找到Emby Server页面的公共互联网地址，将这个地址粘贴到浏览器中，就能看到本地电脑上安装的Emby登录页面。</p> 
<p><img src="https://images2.imgbox.com/81/54/Oh5lKnHA_o.png" alt="20230426091924"></p> 
<p><img src="https://images2.imgbox.com/08/47/AilHNGXH_o.png" alt="20230426091925"></p> 
<h2><a id="5_137"></a>5.结语</h2> 
<p>到这里，我们就成功的使用cpolar+Emby搭建了专属于我们自己的私人影音库，让我们能随时随地访问到本地电脑上的影音资源。当然，搭建个人影音云盘只是cpolar应用场景的一个方面，我们还能使用其他网页或软件与cpolar配合，构建出其他应用场景，让我们的生活工作更加方便。</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/a852c8ecf69b284802b6eb73d906c581/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">@Param作用</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/550f9b10af7e8f86c22bd56a70438924/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">@Param和parameterType参数</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>