<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>30个极简python代码(demo） - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="30个极简python代码(demo）" />
<meta property="og:description" content="https://blog.csdn.net/weixin_45912307/article/details/108529670
30个极简python代码(demo） 1重复元素判定
以下方法可以检查给定列表是不是存在重复元素，它会使用 set() 函数来移除所有重复元素。
def all_unique(lst): return len(lst)== len(set(lst)) x = [1,1,2,2,3,2,3,4,5,6] y = [1,2,3,4,5] all_unique(x) # False all_unique(y) # True 2字符元素组成判定
检查两个字符串的组成元素是不是一样的。
from collections import Counter def anagram(first, second): return Counter(first) == Counter(second) anagram(&#34;abcd3&#34;, &#34;3acdb&#34;) # True 3内存占用
import sys variable = 30 print(sys.getsizeof(variable)) # 24 4字节占用
下面的代码块可以检查字符串占用的字节数。
def byte_size(string): return(len(string.encode(&#39;utf-8&#39;))) byte_size(&#39;&#39;) # 4 byte_size(&#39;Hello World&#39;) # 11 5打印 N 次字符串
该代码块不需要循环语句就能打印 N 次字符串。
n = 2 s =&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/52a9797fa41aad22310c2bf7cdaa67b7/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-09-11T11:03:03+08:00" />
<meta property="article:modified_time" content="2020-09-11T11:03:03+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">30个极简python代码(demo）</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><a href="https://blog.csdn.net/weixin_45912307/article/details/108529670">https://blog.csdn.net/weixin_45912307/article/details/108529670</a></p> 
<h3><a id="30pythondemo_1"></a>30个极简python代码(demo）</h3> 
<p><strong>1重复元素判定</strong><br> 以下方法可以检查给定列表是不是存在重复元素，它会使用 set() 函数来移除所有重复元素。</p> 
<pre><code>def all_unique(lst):
	return len(lst)== len(set(lst))
x = [1,1,2,2,3,2,3,4,5,6]
y = [1,2,3,4,5]
all_unique(x) # False
all_unique(y) # True
</code></pre> 
<p><strong>2字符元素组成判定</strong><br> 检查两个字符串的组成元素是不是一样的。</p> 
<pre><code>from collections import Counter
def anagram(first, second):
	return Counter(first) == Counter(second)
anagram("abcd3", "3acdb") # True
</code></pre> 
<p><strong>3内存占用</strong></p> 
<pre><code>import sys
variable = 30
print(sys.getsizeof(variable)) # 24
</code></pre> 
<p><strong>4字节占用</strong><br> 下面的代码块可以检查字符串占用的字节数。</p> 
<pre><code>def byte_size(string):
    return(len(string.encode('utf-8')))
    byte_size('') # 4
byte_size('Hello World') # 11
</code></pre> 
<p><strong>5打印 N 次字符串</strong><br> 该代码块不需要循环语句就能打印 N 次字符串。</p> 
<pre><code>n = 2
s ="Programming"
print(s * n)
# ProgrammingProgramming
</code></pre> 
<p><strong>6 大写第一个字母</strong><br> 以下代码块会使用 title() 方法，从而大写字符串中每一个单词的首字母。</p> 
<pre><code>s = "programming is awesome"
print(s.title())
# Programming Is Awesome
</code></pre> 
<p><strong>7分块</strong><br> 给定具体的大小，定义一个函数以按照这个大小切割列表。</p> 
<pre><code>from math import ceil
def chunk(lst, size):
    return list(
            map(lambda x: lst[x * size:x * size + size],
            list(range(0, ceil(len(lst) / size)))))
chunk([1,2,3,4,5],2)
# [[1,2],[3,4],5]
</code></pre> 
<p><strong>8压缩</strong><br> 这个方法可以将布尔型的值去掉，例如（False，None，0，“”），它使用 filter() 函数。</p> 
<pre><code>def compact(lst):
    return list(filter(bool, lst))
compact([0, 1, False, 2, '', 3, 'a', 's', 34])
# [ 1, 2, 3, 'a', 's', 34 ]
</code></pre> 
<p><strong>9解包</strong><br> 如下代码段可以将打包好的成对列表解开成两组不同的元组。</p> 
<pre><code>array = [['a', 'b'], ['c', 'd'], ['e', 'f']]
transposed = zip(*array)
print(transposed)
# [('a', 'c', 'e'), ('b', 'd', 'f')]
</code></pre> 
<p><strong>10 链式对比</strong><br> 我们可以在一行代码中使用不同的运算符对比多个不同的元素。</p> 
<pre><code>a = 3
print( 2 &lt; a &lt; 8) # True
print(1 == a &lt; 2) # False
</code></pre> 
<p><strong>11 逗号连接</strong><br> 下面的代码可以将列表连接成单个字符串，且每一个元素间的分隔方式设置为了逗号。</p> 
<pre><code>hobbies = ["basketball", "football", "swimming"]
print("My hobbies are: " + ", ".join(hobbies))
# My hobbies are: basketball, football, swimming
</code></pre> 
<p><strong>12 元音统计</strong><br> 以下方法将统计字符串中的元音 (‘a’, ‘e’, ‘i’, ‘o’, ‘u’) 的个数，它是通过正则表达式做的。</p> 
<pre><code>import re
def count_vowels(str):
	return len(len(re.findall(r'[aeiou]', str, re.IGNORECASE)))
count_vowels('foobar') # 3
count_vowels('gym') # 0
</code></pre> 
<p><strong>13 首字母小写</strong><br> 如下方法将令给定字符串的第一个字符统一为小写。</p> 
<pre><code>def decapitalize(string):
	return str[:1].lower() + str[1:]
decapitalize('FooBar') # 'fooBar'
decapitalize('FooBar') # 'fooBar'
</code></pre> 
<p><strong>14 展开列表</strong><br> 该方法将通过递归的方式将列表的嵌套展开为单个列表。</p> 
<pre><code>def spread(arg):
	ret = []
	for i in arg:
		if isinstance(i, list):
			ret.extend(i)
		else:
			ret.append(i)
	return ret
def deep_flatten(lst):
	result = []
	result.extend(spread
				(list(map(lambda x: deep_flatten(x) if type(x) == list else x, lst)))
				)
	return result
deep_flatten([1, [2], [[3], 4], 5]) # [1,2,3,4,5]
</code></pre> 
<p><strong>15 列表的差</strong><br> 该方法将返回第一个列表的元素，其不在第二个列表内。如果同时要反馈第二个列表独有的元素，还需要加一句 set_b.difference(set_a)。</p> 
<pre><code>def difference(a, b):
	set_a = set(a)
	set_b = set(b)
	comparison = set_a.difference(set_b)
	return list(comparison)
difference([1,2,3], [1,2,4]) # [3]
</code></pre> 
<p><strong>16 通过函数取差</strong><br> 如下方法首先会应用一个给定的函数，然后再返回应用函数后结果有差别的列表元素。</p> 
<pre><code>from math import floor
def difference_by(a, b, fn):
	b = set(map(fn, b))
	return [item for item in a if fn(item) not in b]
difference_by([2.1, 1.2], [2.3, 3.4],floor) # [1.2]
difference_by([{ 'x': 2 }, { 'x': 1 }], [{ 'x': 1 }], lambda v : v['x'])
# [ { x: 2 } ]
</code></pre> 
<p><strong>17 链式函数调用</strong><br> 你可以在一行代码内调用多个函数。</p> 
<pre><code>def add(a, b):
	return a + b
def subtract(a, b):
	return a - b
a, b = 4, 5
print((subtract if a &gt; b else add)(a, b)) # 9
</code></pre> 
<p><strong>18 检查重复项</strong><br> 如下代码将检查两个列表是不是有重复项。</p> 
<pre><code>def has_duplicates(lst):
	return len(lst) != len(set(lst))
x = [1,2,3,4,5,5]
y = [1,2,3,4,5]
has_duplicates(x) # True
has_duplicates(y) # False
</code></pre> 
<p><strong>19 合并两个字典</strong><br> 下面的方法将用于合并两个字典。</p> 
<pre><code>def merge_two_dicts(a, b):
	c = a.copy() # make a copy of a
	c.update(b) # modify keys and values of a with the once from b
	return c
a={'x':1,'y':2}
b={'y':3,'z':4}
print(merge_two_dicts(a,b))
#{'y':3,'x':1,'z':4}
</code></pre> 
<p>在 Python 3.5 或更高版本中，我们也可以用以下方式合并字典：</p> 
<pre><code>def merge_dictionaries(a, b)：
	return {**a, **b}
a = { 'x': 1, 'y': 2}
b = { 'y': 3, 'z': 4}
print(merge_dictionaries(a, b))
# {'y': 3, 'x': 1, 'z': 4}
</code></pre> 
<p>20 将两个列表转化为字典<br> 如下方法将会把两个列表转化为单个字典。</p> 
<pre><code>def to_dictionary(keys, values):
    return dict(zip(keys, values))
keys = ["a", "b", "c"]
values = [2, 3, 4]
print(to_dictionary(keys, values))
#{'a': 2, 'c': 4, 'b': 3}
</code></pre> 
<p><strong>21使用枚举</strong><br> 常用 For 循环来遍历某个列表，同样也能枚举列表的索引与值。</p> 
<pre><code>list = ["a", "b", "c", "d"]
for index, element in enumerate(list):
    print("Value", element, "Index ", index, )
# ('Value', 'a', 'Index ', 0)
# ('Value', 'b', 'Index ', 1)
#('Value', 'c', 'Index ', 2)
# ('Value', 'd', 'Index ', 3)
</code></pre> 
<p><strong>22 执行时间</strong><br> 如下代码块可以用来计算执行特定代码所花费的时间。</p> 
<pre><code>import time
start_time = time.time()
a = 1
b = 2
c = a + b
print(c) #3
end_time = time.time()
total_time = end_time - start_time
print("Time: ", total_time)
# ('Time: ', 1.1205673217773438e-05)
</code></pre> 
<p><strong>23 Try…else</strong><br> 在使用 try/except 语句的时也可以加一个 else 子句，如果没有触发错误的话，这个子句就会被运行。</p> 
<pre><code>try:
    2*3
except TypeError:
    print("An exception was raised")
else:
    print("Thank God, no exceptions were raised.")
#Thank God, no exceptions were raised.
</code></pre> 
<p><strong>24 元素频率</strong><br> 下面的方法会根据元素频率取列表中最常见的元素。</p> 
<pre><code>def most_frequent(list):
	return max(set(list), key = list.count)
list = [1,2,1,2,3,2,1,4,2]
most_frequent(list)
</code></pre> 
<p><strong>25回文序列</strong><br> 以下方法会检查给定的字符串是不是回文序列，它首先会把所有字母转化为小写，并移除非英文字母符号。最后，它会对比字符串与反向字符串是否相等，相等则表示为回文序列。</p> 
<pre><code>from re import sub
def palindrome(string):
	s = sub('[\W_]', '', string.lower())
	return s == s[::-1]
palindrome('taco cat') # True
</code></pre> 
<p><strong>26不使用 if-else 的计算子</strong><br> 这一段代码可以不使用条件语句就实现加减乘除、求幂操作，它通过字典这一数据结构实现：</p> 
<pre><code>import operator
action = {
"+": operator.add,
"-": operator.sub,
"/": operator.truediv,
"*": operator.mul,
"**": pow
}
print(action['-'](50, 25)) # 25
</code></pre> 
<p><strong>27 Shuffle</strong><br> 该算法会打乱列表元素的顺序，它主要会通过 Fisher-Yates 算法对新列表进行排序：</p> 
<pre><code>from copy import deepcopy
from random import randint
def shuffle(lst):
	temp_lst = deepcopy(lst)
	m = len(temp_lst)
	while (m):
		m -= 1
		i = randint(0, m)
		temp_lst[m], temp_lst[i] = temp_lst[i], temp_lst[m]
	return temp_lst
foo = [1,2,3]
shuffle(foo) # [2,3,1] , foo = [1,2,3]
</code></pre> 
<p><strong>28 展开列表</strong><br> 将列表内的所有元素，包括子列表，都展开成一个列表。</p> 
<pre><code>def spread(arg):
	ret = []
	for i in arg:
		if isinstance(i, list):
			ret.extend(i)
		else:
			ret.append(i)
	return ret
spread([1,2,3,[4,5,6],[7],8,9]) # [1,2,3,4,5,6,7,8,9]
</code></pre> 
<p><strong>29 交换值</strong><br> 不需要额外的操作就能交换两个变量的值。</p> 
<pre><code>def swap(a, b):
	return b, a
a, b = -1, 14
swap(a, b) # (14, -1)
spread([1,2,3,[4,5,6],[7],8,9]) # [1,2,3,4,5,6,7,8,9]
</code></pre> 
<p><strong>30字典默认值</strong><br> 通过 Key 取对应的 Value 值，可以通过以下方式设置默认值。如果 get() 方法没有设置默认值，那么如果遇到不存在的 Key，则会返回 None。</p> 
<pre><code>d = {'a': 1, 'b': 2}
print(d.get('c', 3)) # 3
</code></pre>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/0179e0138e1775a97b8fc0711da6cf1d/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">C#可以自由移动和伸缩的TextBox</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/57b5fe4a6485e2f88000351a7cd057db/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">事件相机 Event Camera 论文汇总（总是在持续更新中的汇总）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>