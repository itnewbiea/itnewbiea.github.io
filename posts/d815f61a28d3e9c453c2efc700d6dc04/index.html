<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>javascript history对象详解 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="javascript history对象详解" />
<meta property="og:description" content="前面的话
history对象保存着用户上网的历史记录，从窗口被打开的那一刻算起。由于安全方面的考虑，开发人员无法得到用户浏览器的URL，但借由用户访问过的页面列表，可以在不知道实际URL的情况下实现后退和前进。本文将详细介绍BOM中的history对象
length
history.length属性保存着历史记录的URL数量。初始时，该值为1。如果当前窗口先后访问了三个网址，history.length属性等于3
由于IE10&#43;浏览器在初始时返回2，存在兼容性问题，所以该值并不常用
? 1 2 history.length // 初始时，该值为1 history.length // 访问三个网址后，该值为3 跳转方法
history对象提供了一系列方法，允许在浏览历史之间移动，包括go()、back()和forward()
【go()】
使用go()方法可以在用户的历史记录中任意跳转。这个方法接收一个参数，表示向后或向前跳转的页面数的一个整数值。负数表示向后跳转(类似于后退按钮)，正数表示向前跳转(类似于前进按钮)
? 1 2 3 4 5 6 //后退一页 history.go(-1) //前进一页 history.go(1); //前进两页 history.go(2); go()方法无参数时，相当于history.go(0)，可以刷新当前页面
? 1 2 3 4 //刷新当前页面 history.go(); //刷新当前页面 history.go(0); 【back()】
back()方法用于模仿浏览器的后退按钮，相当于history.go(-1)
【forward()】
forward()方法用于模仿浏览器的前进按钮，相当于history.go(1)
? 1 2 3 4 //后退一页 history.back() //前进一页 history.forward() 如果移动的位置超出了访问历史的边界，以上三个方法并不报错，而是静默失败
[注意]使用历史记录时，页面通常从浏览器缓存之中加载，而不是重新要求服务器发送新的网页
增改记录
HTML5为history对象添加了两个新方法，history.pushState()和history.replaceState()，用来在浏览历史中添加和修改记录。state属性用来保存记录对象，而popstate事件用来监听history对象的变化
[注意]IE9-浏览器不支持
【pushState()】
history.pushState()方法向浏览器历史添加了一个状态。pushState()方法带有三个参数：一个状态对象、一个标题(现在被忽略了)以及一个可选的URL地址
history.pushState(state, title, url);
state object —— 状态对象是一个由pushState()方法创建的、与历史纪录相关的javascript对象。当用户定向到一个新的状态时，会触发popstate事件。事件的state属性包含了历史纪录的state对象。如果不需要这个对象，此处可以填null
title —— 新页面的标题，但是所有浏览器目前都忽略这个值，因此这里可以填null" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/d815f61a28d3e9c453c2efc700d6dc04/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-02-24T11:13:48+08:00" />
<meta property="article:modified_time" content="2018-02-24T11:13:48+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">javascript history对象详解</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p style="margin-bottom:0px;padding-top:5px;padding-bottom:5px;font-size:14px;line-height:30px;color:rgb(34,34,34);font-family:tahoma, arial, 'Microsoft YaHei';text-align:left;background-color:rgb(255,255,255);"><strong>前面的话</strong></p> 
<p style="margin-bottom:0px;padding-top:5px;padding-bottom:5px;font-size:14px;line-height:30px;color:rgb(34,34,34);font-family:tahoma, arial, 'Microsoft YaHei';text-align:left;background-color:rgb(255,255,255);">history对象保存着用户上网的历史记录，从窗口被打开的那一刻算起。由于安全方面的考虑，开发人员无法得到用户浏览器的URL，但借由用户访问过的页面列表，可以在不知道实际URL的情况下实现后退和前进。本文将详细介绍BOM中的history对象</p> 
<p style="margin-bottom:0px;padding-top:5px;padding-bottom:5px;font-size:14px;line-height:30px;color:rgb(34,34,34);font-family:tahoma, arial, 'Microsoft YaHei';text-align:left;background-color:rgb(255,255,255);"><strong>length</strong></p> 
<p style="margin-bottom:0px;padding-top:5px;padding-bottom:5px;font-size:14px;line-height:30px;color:rgb(34,34,34);font-family:tahoma, arial, 'Microsoft YaHei';text-align:left;background-color:rgb(255,255,255);">history.length属性保存着历史记录的URL数量。初始时，该值为1。如果当前窗口先后访问了三个网址，history.length属性等于3</p> 
<p style="margin-bottom:0px;padding-top:5px;padding-bottom:5px;font-size:14px;line-height:30px;color:rgb(34,34,34);font-family:tahoma, arial, 'Microsoft YaHei';text-align:left;background-color:rgb(255,255,255);">由于IE10+浏览器在初始时返回2，存在兼容性问题，所以该值并不常用</p> 
<div class="jb51code" style="margin:0px;padding:0px;line-height:25.2px;font-size:14px;width:660px;clear:both;text-align:left;color:rgb(34,34,34);font-family:tahoma, arial, 'Microsoft YaHei';background-color:rgb(255,255,255);"> 
 <div style="margin:0px;padding:0px;line-height:25.2px;"> 
  <div class="syntaxhighlighter js" style="padding:0px;width:643px;line-height:25.2px;margin:1em 0px;"> 
   <div class="toolbar" style="line-height:13.2px;margin:0px;padding:0px;background:rgb(108,226,108);border:none;float:none;height:11px;vertical-align:baseline;width:11px;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#FFFFFF;"> 
    <span style="line-height:25.2px;"><a href="http://www.jb51.net/article/105062.htm#" rel="nofollow" class="toolbar_item command_help help" style="color:rgb(0,102,153);background:none;border:0px;float:none;height:auto;line-height:1.1em;margin:0px;padding:1px 0px 0px;text-align:center;vertical-align:baseline;width:auto;min-height:auto;">?</a></span> 
   </div> 
   <table border="0" cellpadding="0" cellspacing="0" style="border-spacing:0px;border:1px solid rgb(204,204,204);margin-top:.54em;text-align:center;width:643px;clear:both;background:none;float:none;height:auto;line-height:1.1em;margin-right:0px;margin-bottom:0px;margin-left:0px;padding:0px;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;font-size:1em;min-height:auto;"><tbody style="background:none;float:none;height:auto;line-height:1.1em;margin:0px;padding:0px;text-align:left;vertical-align:baseline;width:auto;font-size:1em;min-height:auto;"><tr style="background:none;border-top:0px;float:none;height:auto;line-height:1.1em;margin:0px;padding:0px;vertical-align:baseline;width:auto;font-size:1em;min-height:auto;"><td class="gutter" style="padding:.2em .46em;border-color:rgb(204,204,204);margin:0px;background:none;float:none;height:auto;line-height:1.1em;vertical-align:baseline;width:auto;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;font-size:1em;min-height:auto;color:rgb(175,175,175);"> 
       <div class="line number1 index0 alt2" style="line-height:15.4px;margin:0px;padding:0px .5em 0px 1em;background-image:none;border-width:0px 3px 0px 0px;border-right-style:solid;border-right-color:rgb(108,226,108);float:none;height:auto;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">
         1 
       </div> 
       <div class="line number2 index1 alt1" style="line-height:15.4px;margin:0px;padding:0px .5em 0px 1em;background-image:none;border-width:0px 3px 0px 0px;border-right-style:solid;border-right-color:rgb(108,226,108);float:none;height:auto;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">
         2 
       </div></td><td class="code" style="padding:.2em .46em;border-color:rgb(204,204,204);width:611px;margin:0px;background:none;float:none;height:auto;line-height:1.1em;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;font-size:1em;min-height:auto;"> 
       <div class="container" style="line-height:15.4px;margin:0px;padding:0px;background:none;border:0px;float:none;height:auto;vertical-align:baseline;width:auto;min-height:auto;"> 
        <div class="line number1 index0 alt2" style="line-height:15.4px;margin:0px;padding:0px 1em;background-image:none;border:0px;float:none;height:auto;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;"> 
         <code class="js plain" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#000000;">history.length </code> 
         <code class="js comments" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:rgb(0,130,0);">// 初始时，该值为1</code> 
        </div> 
        <div class="line number2 index1 alt1" style="line-height:15.4px;margin:0px;padding:0px 1em;background-image:none;border:0px;float:none;height:auto;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;"> 
         <code class="js plain" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#000000;">history.length </code> 
         <code class="js comments" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:rgb(0,130,0);">// 访问三个网址后，该值为3</code> 
        </div> 
       </div></td></tr></tbody></table> 
  </div> 
 </div> 
</div> 
<p style="margin-bottom:0px;padding-top:5px;padding-bottom:5px;font-size:14px;line-height:30px;color:rgb(34,34,34);font-family:tahoma, arial, 'Microsoft YaHei';text-align:left;background-color:rgb(255,255,255);"><strong>跳转方法</strong></p> 
<p style="margin-bottom:0px;padding-top:5px;padding-bottom:5px;font-size:14px;line-height:30px;color:rgb(34,34,34);font-family:tahoma, arial, 'Microsoft YaHei';text-align:left;background-color:rgb(255,255,255);">history对象提供了一系列方法，允许在浏览历史之间移动，包括go()、back()和forward()</p> 
<p style="margin-bottom:0px;padding-top:5px;padding-bottom:5px;font-size:14px;line-height:30px;color:rgb(34,34,34);font-family:tahoma, arial, 'Microsoft YaHei';text-align:left;background-color:rgb(255,255,255);"><span style="line-height:25.2px;color:rgb(0,0,255);"><strong>【go()】</strong></span></p> 
<p style="margin-bottom:0px;padding-top:5px;padding-bottom:5px;font-size:14px;line-height:30px;color:rgb(34,34,34);font-family:tahoma, arial, 'Microsoft YaHei';text-align:left;background-color:rgb(255,255,255);">使用go()方法可以在用户的历史记录中任意跳转。这个方法接收一个参数，表示向后或向前跳转的页面数的一个整数值。负数表示向后跳转(类似于后退按钮)，正数表示向前跳转(类似于前进按钮)</p> 
<div class="jb51code" style="margin:0px;padding:0px;line-height:25.2px;font-size:14px;width:660px;clear:both;text-align:left;color:rgb(34,34,34);font-family:tahoma, arial, 'Microsoft YaHei';background-color:rgb(255,255,255);"> 
 <div style="margin:0px;padding:0px;line-height:25.2px;"> 
  <div class="syntaxhighlighter js" style="padding:0px;width:643px;line-height:25.2px;margin:1em 0px;"> 
   <div class="toolbar" style="line-height:13.2px;margin:0px;padding:0px;background:rgb(108,226,108);border:none;float:none;height:11px;vertical-align:baseline;width:11px;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#FFFFFF;"> 
    <span style="line-height:25.2px;"><a href="http://www.jb51.net/article/105062.htm#" rel="nofollow" class="toolbar_item command_help help" style="color:rgb(0,102,153);background:none;border:0px;float:none;height:auto;line-height:1.1em;margin:0px;padding:1px 0px 0px;text-align:center;vertical-align:baseline;width:auto;min-height:auto;">?</a></span> 
   </div> 
   <table border="0" cellpadding="0" cellspacing="0" style="border-spacing:0px;border:1px solid rgb(204,204,204);margin-top:.54em;text-align:center;width:643px;clear:both;background:none;float:none;height:auto;line-height:1.1em;margin-right:0px;margin-bottom:0px;margin-left:0px;padding:0px;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;font-size:1em;min-height:auto;"><tbody style="background:none;float:none;height:auto;line-height:1.1em;margin:0px;padding:0px;text-align:left;vertical-align:baseline;width:auto;font-size:1em;min-height:auto;"><tr style="background:none;border-top:0px;float:none;height:auto;line-height:1.1em;margin:0px;padding:0px;vertical-align:baseline;width:auto;font-size:1em;min-height:auto;"><td class="gutter" style="padding:.2em .46em;border-color:rgb(204,204,204);margin:0px;background:none;float:none;height:auto;line-height:1.1em;vertical-align:baseline;width:auto;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;font-size:1em;min-height:auto;color:rgb(175,175,175);"> 
       <div class="line number1 index0 alt2" style="line-height:15.4px;margin:0px;padding:0px .5em 0px 1em;background-image:none;border-width:0px 3px 0px 0px;border-right-style:solid;border-right-color:rgb(108,226,108);float:none;height:auto;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">
         1 
       </div> 
       <div class="line number2 index1 alt1" style="line-height:15.4px;margin:0px;padding:0px .5em 0px 1em;background-image:none;border-width:0px 3px 0px 0px;border-right-style:solid;border-right-color:rgb(108,226,108);float:none;height:auto;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">
         2 
       </div> 
       <div class="line number3 index2 alt2" style="line-height:15.4px;margin:0px;padding:0px .5em 0px 1em;background-image:none;border-width:0px 3px 0px 0px;border-right-style:solid;border-right-color:rgb(108,226,108);float:none;height:auto;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">
         3 
       </div> 
       <div class="line number4 index3 alt1" style="line-height:15.4px;margin:0px;padding:0px .5em 0px 1em;background-image:none;border-width:0px 3px 0px 0px;border-right-style:solid;border-right-color:rgb(108,226,108);float:none;height:auto;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">
         4 
       </div> 
       <div class="line number5 index4 alt2" style="line-height:15.4px;margin:0px;padding:0px .5em 0px 1em;background-image:none;border-width:0px 3px 0px 0px;border-right-style:solid;border-right-color:rgb(108,226,108);float:none;height:auto;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">
         5 
       </div> 
       <div class="line number6 index5 alt1" style="line-height:15.4px;margin:0px;padding:0px .5em 0px 1em;background-image:none;border-width:0px 3px 0px 0px;border-right-style:solid;border-right-color:rgb(108,226,108);float:none;height:auto;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">
         6 
       </div></td><td class="code" style="padding:.2em .46em;border-color:rgb(204,204,204);width:611px;margin:0px;background:none;float:none;height:auto;line-height:1.1em;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;font-size:1em;min-height:auto;"> 
       <div class="container" style="line-height:15.4px;margin:0px;padding:0px;background:none;border:0px;float:none;height:auto;vertical-align:baseline;width:auto;min-height:auto;"> 
        <div class="line number1 index0 alt2" style="line-height:15.4px;margin:0px;padding:0px 1em;background-image:none;border:0px;float:none;height:auto;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;"> 
         <code class="js comments" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:rgb(0,130,0);">//后退一页</code> 
        </div> 
        <div class="line number2 index1 alt1" style="line-height:15.4px;margin:0px;padding:0px 1em;background-image:none;border:0px;float:none;height:auto;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;"> 
         <code class="js plain" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#000000;">history.go(-1)</code> 
        </div> 
        <div class="line number3 index2 alt2" style="line-height:15.4px;margin:0px;padding:0px 1em;background-image:none;border:0px;float:none;height:auto;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;"> 
         <code class="js comments" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:rgb(0,130,0);">//前进一页</code> 
        </div> 
        <div class="line number4 index3 alt1" style="line-height:15.4px;margin:0px;padding:0px 1em;background-image:none;border:0px;float:none;height:auto;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;"> 
         <code class="js plain" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#000000;">history.go(1);</code> 
        </div> 
        <div class="line number5 index4 alt2" style="line-height:15.4px;margin:0px;padding:0px 1em;background-image:none;border:0px;float:none;height:auto;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;"> 
         <code class="js comments" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:rgb(0,130,0);">//前进两页</code> 
        </div> 
        <div class="line number6 index5 alt1" style="line-height:15.4px;margin:0px;padding:0px 1em;background-image:none;border:0px;float:none;height:auto;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;"> 
         <code class="js plain" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#000000;">history.go(2);</code> 
        </div> 
       </div></td></tr></tbody></table> 
  </div> 
 </div> 
</div> 
<p style="margin-bottom:0px;padding-top:5px;padding-bottom:5px;font-size:14px;line-height:30px;color:rgb(34,34,34);font-family:tahoma, arial, 'Microsoft YaHei';text-align:left;background-color:rgb(255,255,255);">go()方法无参数时，相当于history.go(0)，可以刷新当前页面</p> 
<div class="jb51code" style="margin:0px;padding:0px;line-height:25.2px;font-size:14px;width:660px;clear:both;text-align:left;color:rgb(34,34,34);font-family:tahoma, arial, 'Microsoft YaHei';background-color:rgb(255,255,255);"> 
 <div style="margin:0px;padding:0px;line-height:25.2px;"> 
  <div class="syntaxhighlighter js" style="padding:0px;width:643px;line-height:25.2px;margin:1em 0px;"> 
   <div class="toolbar" style="line-height:13.2px;margin:0px;padding:0px;background:rgb(108,226,108);border:none;float:none;height:11px;vertical-align:baseline;width:11px;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#FFFFFF;"> 
    <span style="line-height:25.2px;"><a href="http://www.jb51.net/article/105062.htm#" rel="nofollow" class="toolbar_item command_help help" style="color:rgb(0,102,153);background:none;border:0px;float:none;height:auto;line-height:1.1em;margin:0px;padding:1px 0px 0px;text-align:center;vertical-align:baseline;width:auto;min-height:auto;">?</a></span> 
   </div> 
   <table border="0" cellpadding="0" cellspacing="0" style="border-spacing:0px;border:1px solid rgb(204,204,204);margin-top:.54em;text-align:center;width:643px;clear:both;background:none;float:none;height:auto;line-height:1.1em;margin-right:0px;margin-bottom:0px;margin-left:0px;padding:0px;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;font-size:1em;min-height:auto;"><tbody style="background:none;float:none;height:auto;line-height:1.1em;margin:0px;padding:0px;text-align:left;vertical-align:baseline;width:auto;font-size:1em;min-height:auto;"><tr style="background:none;border-top:0px;float:none;height:auto;line-height:1.1em;margin:0px;padding:0px;vertical-align:baseline;width:auto;font-size:1em;min-height:auto;"><td class="gutter" style="padding:.2em .46em;border-color:rgb(204,204,204);margin:0px;background:none;float:none;height:auto;line-height:1.1em;vertical-align:baseline;width:auto;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;font-size:1em;min-height:auto;color:rgb(175,175,175);"> 
       <div class="line number1 index0 alt2" style="line-height:15.4px;margin:0px;padding:0px .5em 0px 1em;background-image:none;border-width:0px 3px 0px 0px;border-right-style:solid;border-right-color:rgb(108,226,108);float:none;height:auto;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">
         1 
       </div> 
       <div class="line number2 index1 alt1" style="line-height:15.4px;margin:0px;padding:0px .5em 0px 1em;background-image:none;border-width:0px 3px 0px 0px;border-right-style:solid;border-right-color:rgb(108,226,108);float:none;height:auto;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">
         2 
       </div> 
       <div class="line number3 index2 alt2" style="line-height:15.4px;margin:0px;padding:0px .5em 0px 1em;background-image:none;border-width:0px 3px 0px 0px;border-right-style:solid;border-right-color:rgb(108,226,108);float:none;height:auto;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">
         3 
       </div> 
       <div class="line number4 index3 alt1" style="line-height:15.4px;margin:0px;padding:0px .5em 0px 1em;background-image:none;border-width:0px 3px 0px 0px;border-right-style:solid;border-right-color:rgb(108,226,108);float:none;height:auto;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">
         4 
       </div></td><td class="code" style="padding:.2em .46em;border-color:rgb(204,204,204);width:611px;margin:0px;background:none;float:none;height:auto;line-height:1.1em;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;font-size:1em;min-height:auto;"> 
       <div class="container" style="line-height:15.4px;margin:0px;padding:0px;background:none;border:0px;float:none;height:auto;vertical-align:baseline;width:auto;min-height:auto;"> 
        <div class="line number1 index0 alt2" style="line-height:15.4px;margin:0px;padding:0px 1em;background-image:none;border:0px;float:none;height:auto;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;"> 
         <code class="js comments" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:rgb(0,130,0);">//刷新当前页面</code> 
        </div> 
        <div class="line number2 index1 alt1" style="line-height:15.4px;margin:0px;padding:0px 1em;background-image:none;border:0px;float:none;height:auto;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;"> 
         <code class="js plain" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#000000;">history.go();</code> 
        </div> 
        <div class="line number3 index2 alt2" style="line-height:15.4px;margin:0px;padding:0px 1em;background-image:none;border:0px;float:none;height:auto;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;"> 
         <code class="js comments" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:rgb(0,130,0);">//刷新当前页面</code> 
        </div> 
        <div class="line number4 index3 alt1" style="line-height:15.4px;margin:0px;padding:0px 1em;background-image:none;border:0px;float:none;height:auto;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;"> 
         <code class="js plain" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#000000;">history.go(0);</code> 
        </div> 
       </div></td></tr></tbody></table> 
  </div> 
 </div> 
</div> 
<p style="margin-bottom:0px;padding-top:5px;padding-bottom:5px;font-size:14px;line-height:30px;color:rgb(34,34,34);font-family:tahoma, arial, 'Microsoft YaHei';text-align:left;background-color:rgb(255,255,255);"><span style="line-height:25.2px;color:rgb(0,0,255);"><strong>【back()】</strong></span></p> 
<p style="margin-bottom:0px;padding-top:5px;padding-bottom:5px;font-size:14px;line-height:30px;color:rgb(34,34,34);font-family:tahoma, arial, 'Microsoft YaHei';text-align:left;background-color:rgb(255,255,255);">back()方法用于模仿浏览器的后退按钮，相当于history.go(-1)</p> 
<p style="margin-bottom:0px;padding-top:5px;padding-bottom:5px;font-size:14px;line-height:30px;color:rgb(34,34,34);font-family:tahoma, arial, 'Microsoft YaHei';text-align:left;background-color:rgb(255,255,255);"><span style="line-height:25.2px;color:rgb(0,0,255);"><strong>【forward()】</strong></span></p> 
<p style="margin-bottom:0px;padding-top:5px;padding-bottom:5px;font-size:14px;line-height:30px;color:rgb(34,34,34);font-family:tahoma, arial, 'Microsoft YaHei';text-align:left;background-color:rgb(255,255,255);">forward()方法用于模仿浏览器的前进按钮，相当于history.go(1)</p> 
<div class="jb51code" style="margin:0px;padding:0px;line-height:25.2px;font-size:14px;width:660px;clear:both;text-align:left;color:rgb(34,34,34);font-family:tahoma, arial, 'Microsoft YaHei';background-color:rgb(255,255,255);"> 
 <div style="margin:0px;padding:0px;line-height:25.2px;"> 
  <div class="syntaxhighlighter js" style="padding:0px;width:643px;line-height:25.2px;margin:1em 0px;"> 
   <div class="toolbar" style="line-height:13.2px;margin:0px;padding:0px;background:rgb(108,226,108);border:none;float:none;height:11px;vertical-align:baseline;width:11px;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#FFFFFF;"> 
    <span style="line-height:25.2px;"><a href="http://www.jb51.net/article/105062.htm#" rel="nofollow" class="toolbar_item command_help help" style="color:rgb(0,102,153);background:none;border:0px;float:none;height:auto;line-height:1.1em;margin:0px;padding:1px 0px 0px;text-align:center;vertical-align:baseline;width:auto;min-height:auto;">?</a></span> 
   </div> 
   <table border="0" cellpadding="0" cellspacing="0" style="border-spacing:0px;border:1px solid rgb(204,204,204);margin-top:.54em;text-align:center;width:643px;clear:both;background:none;float:none;height:auto;line-height:1.1em;margin-right:0px;margin-bottom:0px;margin-left:0px;padding:0px;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;font-size:1em;min-height:auto;"><tbody style="background:none;float:none;height:auto;line-height:1.1em;margin:0px;padding:0px;text-align:left;vertical-align:baseline;width:auto;font-size:1em;min-height:auto;"><tr style="background:none;border-top:0px;float:none;height:auto;line-height:1.1em;margin:0px;padding:0px;vertical-align:baseline;width:auto;font-size:1em;min-height:auto;"><td class="gutter" style="padding:.2em .46em;border-color:rgb(204,204,204);margin:0px;background:none;float:none;height:auto;line-height:1.1em;vertical-align:baseline;width:auto;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;font-size:1em;min-height:auto;color:rgb(175,175,175);"> 
       <div class="line number1 index0 alt2" style="line-height:15.4px;margin:0px;padding:0px .5em 0px 1em;background-image:none;border-width:0px 3px 0px 0px;border-right-style:solid;border-right-color:rgb(108,226,108);float:none;height:auto;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">
         1 
       </div> 
       <div class="line number2 index1 alt1" style="line-height:15.4px;margin:0px;padding:0px .5em 0px 1em;background-image:none;border-width:0px 3px 0px 0px;border-right-style:solid;border-right-color:rgb(108,226,108);float:none;height:auto;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">
         2 
       </div> 
       <div class="line number3 index2 alt2" style="line-height:15.4px;margin:0px;padding:0px .5em 0px 1em;background-image:none;border-width:0px 3px 0px 0px;border-right-style:solid;border-right-color:rgb(108,226,108);float:none;height:auto;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">
         3 
       </div> 
       <div class="line number4 index3 alt1" style="line-height:15.4px;margin:0px;padding:0px .5em 0px 1em;background-image:none;border-width:0px 3px 0px 0px;border-right-style:solid;border-right-color:rgb(108,226,108);float:none;height:auto;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">
         4 
       </div></td><td class="code" style="padding:.2em .46em;border-color:rgb(204,204,204);width:611px;margin:0px;background:none;float:none;height:auto;line-height:1.1em;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;font-size:1em;min-height:auto;"> 
       <div class="container" style="line-height:15.4px;margin:0px;padding:0px;background:none;border:0px;float:none;height:auto;vertical-align:baseline;width:auto;min-height:auto;"> 
        <div class="line number1 index0 alt2" style="line-height:15.4px;margin:0px;padding:0px 1em;background-image:none;border:0px;float:none;height:auto;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;"> 
         <code class="js comments" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:rgb(0,130,0);">//后退一页</code> 
        </div> 
        <div class="line number2 index1 alt1" style="line-height:15.4px;margin:0px;padding:0px 1em;background-image:none;border:0px;float:none;height:auto;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;"> 
         <code class="js plain" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#000000;">history.back()</code> 
        </div> 
        <div class="line number3 index2 alt2" style="line-height:15.4px;margin:0px;padding:0px 1em;background-image:none;border:0px;float:none;height:auto;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;"> 
         <code class="js comments" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:rgb(0,130,0);">//前进一页</code> 
        </div> 
        <div class="line number4 index3 alt1" style="line-height:15.4px;margin:0px;padding:0px 1em;background-image:none;border:0px;float:none;height:auto;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;"> 
         <code class="js plain" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#000000;">history.forward()</code> 
        </div> 
       </div></td></tr></tbody></table> 
  </div> 
 </div> 
</div> 
<p style="margin-bottom:0px;padding-top:5px;padding-bottom:5px;font-size:14px;line-height:30px;color:rgb(34,34,34);font-family:tahoma, arial, 'Microsoft YaHei';text-align:left;background-color:rgb(255,255,255);">如果移动的位置超出了访问历史的边界，以上三个方法并不报错，而是静默失败</p> 
<p style="margin-bottom:0px;padding-top:5px;padding-bottom:5px;font-size:14px;line-height:30px;color:rgb(34,34,34);font-family:tahoma, arial, 'Microsoft YaHei';text-align:left;background-color:rgb(255,255,255);"><span style="line-height:25.2px;color:rgb(255,0,0);"><strong>[注意]</strong></span>使用历史记录时，页面通常从浏览器缓存之中加载，而不是重新要求服务器发送新的网页</p> 
<p style="margin-bottom:0px;padding-top:5px;padding-bottom:5px;font-size:14px;line-height:30px;color:rgb(34,34,34);font-family:tahoma, arial, 'Microsoft YaHei';text-align:left;background-color:rgb(255,255,255);"><strong>增改记录</strong></p> 
<p style="margin-bottom:0px;padding-top:5px;padding-bottom:5px;font-size:14px;line-height:30px;color:rgb(34,34,34);font-family:tahoma, arial, 'Microsoft YaHei';text-align:left;background-color:rgb(255,255,255);">HTML5为history对象添加了两个新方法，history.pushState()和history.replaceState()，用来在浏览历史中添加和修改记录。state属性用来保存记录对象，而popstate事件用来监听history对象的变化</p> 
<p style="margin-bottom:0px;padding-top:5px;padding-bottom:5px;font-size:14px;line-height:30px;color:rgb(34,34,34);font-family:tahoma, arial, 'Microsoft YaHei';text-align:left;background-color:rgb(255,255,255);"><span style="line-height:25.2px;color:rgb(255,0,0);"><strong>[注意]</strong></span>IE9-浏览器不支持</p> 
<p style="margin-bottom:0px;padding-top:5px;padding-bottom:5px;font-size:14px;line-height:30px;color:rgb(34,34,34);font-family:tahoma, arial, 'Microsoft YaHei';text-align:left;background-color:rgb(255,255,255);"><span style="line-height:25.2px;color:rgb(0,0,255);"><strong>【pushState()】</strong></span></p> 
<p style="margin-bottom:0px;padding-top:5px;padding-bottom:5px;font-size:14px;line-height:30px;color:rgb(34,34,34);font-family:tahoma, arial, 'Microsoft YaHei';text-align:left;background-color:rgb(255,255,255);">history.pushState()方法向浏览器历史添加了一个状态。pushState()方法带有三个参数：一个状态对象、一个标题(现在被忽略了)以及一个可选的URL地址</p> 
<p style="margin-bottom:0px;padding-top:5px;padding-bottom:5px;font-size:14px;line-height:30px;color:rgb(34,34,34);font-family:tahoma, arial, 'Microsoft YaHei';text-align:left;background-color:rgb(255,255,255);"><code style="margin:3px auto 0px;padding:2px 4px;font-style:inherit;font-weight:inherit;width:640px;line-height:1.5;clear:both;border:1px solid rgb(204,204,204);font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;">history.pushState(state, title, url);</code></p> 
<p style="margin-bottom:0px;padding-top:5px;padding-bottom:5px;font-size:14px;line-height:30px;color:rgb(34,34,34);font-family:tahoma, arial, 'Microsoft YaHei';text-align:left;background-color:rgb(255,255,255);">state object —— 状态对象是一个由pushState()方法创建的、与历史纪录相关的javascript对象。当用户定向到一个新的状态时，会触发popstate事件。事件的state属性包含了历史纪录的state对象。如果不需要这个对象，此处可以填null</p> 
<p style="margin-bottom:0px;padding-top:5px;padding-bottom:5px;font-size:14px;line-height:30px;color:rgb(34,34,34);font-family:tahoma, arial, 'Microsoft YaHei';text-align:left;background-color:rgb(255,255,255);">title —— 新页面的标题，但是所有浏览器目前都忽略这个值，因此这里可以填null</p> 
<p style="margin-bottom:0px;padding-top:5px;padding-bottom:5px;font-size:14px;line-height:30px;color:rgb(34,34,34);font-family:tahoma, arial, 'Microsoft YaHei';text-align:left;background-color:rgb(255,255,255);">URL —— 这个参数提供了新历史纪录的地址。新URL必须和当前URL在同一个域，否则，pushState()将丢出异常。这个参数可选，如果它没有被特别标注，会被设置为文档的当前URL</p> 
<p style="margin-bottom:0px;padding-top:5px;padding-bottom:5px;font-size:14px;line-height:30px;color:rgb(34,34,34);font-family:tahoma, arial, 'Microsoft YaHei';text-align:left;background-color:rgb(255,255,255);">假定当前网址是example.com/1.html，使用pushState方法在浏览记录(history对象)中添加一个新记录</p> 
<div class="jb51code" style="margin:0px;padding:0px;line-height:25.2px;font-size:14px;width:660px;clear:both;text-align:left;color:rgb(34,34,34);font-family:tahoma, arial, 'Microsoft YaHei';background-color:rgb(255,255,255);"> 
 <div style="margin:0px;padding:0px;line-height:25.2px;"> 
  <div class="syntaxhighlighter js" style="padding:0px;width:643px;line-height:25.2px;margin:1em 0px;"> 
   <div class="toolbar" style="line-height:13.2px;margin:0px;padding:0px;background:rgb(108,226,108);border:none;float:none;height:11px;vertical-align:baseline;width:11px;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#FFFFFF;"> 
    <span style="line-height:25.2px;"><a href="http://www.jb51.net/article/105062.htm#" rel="nofollow" class="toolbar_item command_help help" style="color:rgb(0,102,153);background:none;border:0px;float:none;height:auto;line-height:1.1em;margin:0px;padding:1px 0px 0px;text-align:center;vertical-align:baseline;width:auto;min-height:auto;">?</a></span> 
   </div> 
   <table border="0" cellpadding="0" cellspacing="0" style="border-spacing:0px;border:1px solid rgb(204,204,204);margin-top:.54em;text-align:center;width:643px;clear:both;background:none;float:none;height:auto;line-height:1.1em;margin-right:0px;margin-bottom:0px;margin-left:0px;padding:0px;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;font-size:1em;min-height:auto;"><tbody style="background:none;float:none;height:auto;line-height:1.1em;margin:0px;padding:0px;text-align:left;vertical-align:baseline;width:auto;font-size:1em;min-height:auto;"><tr style="background:none;border-top:0px;float:none;height:auto;line-height:1.1em;margin:0px;padding:0px;vertical-align:baseline;width:auto;font-size:1em;min-height:auto;"><td class="gutter" style="padding:.2em .46em;border-color:rgb(204,204,204);margin:0px;background:none;float:none;height:auto;line-height:1.1em;vertical-align:baseline;width:auto;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;font-size:1em;min-height:auto;color:rgb(175,175,175);"> 
       <div class="line number1 index0 alt2" style="line-height:15.4px;margin:0px;padding:0px .5em 0px 1em;background-image:none;border-width:0px 3px 0px 0px;border-right-style:solid;border-right-color:rgb(108,226,108);float:none;height:auto;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">
         1 
       </div> 
       <div class="line number2 index1 alt1" style="line-height:15.4px;margin:0px;padding:0px .5em 0px 1em;background-image:none;border-width:0px 3px 0px 0px;border-right-style:solid;border-right-color:rgb(108,226,108);float:none;height:auto;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">
         2 
       </div></td><td class="code" style="padding:.2em .46em;border-color:rgb(204,204,204);width:611px;margin:0px;background:none;float:none;height:auto;line-height:1.1em;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;font-size:1em;min-height:auto;"> 
       <div class="container" style="line-height:15.4px;margin:0px;padding:0px;background:none;border:0px;float:none;height:auto;vertical-align:baseline;width:auto;min-height:auto;"> 
        <div class="line number1 index0 alt2" style="line-height:15.4px;margin:0px;padding:0px 1em;background-image:none;border:0px;float:none;height:auto;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;"> 
         <code class="js keyword" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;font-weight:bold;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:rgb(0,102,153);">var</code> 
         <code class="js plain" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#000000;">stateObj = { foo: </code> 
         <code class="js string" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#0000FF;">'bar'</code> 
         <code class="js plain" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#000000;">};</code> 
        </div> 
        <div class="line number2 index1 alt1" style="line-height:15.4px;margin:0px;padding:0px 1em;background-image:none;border:0px;float:none;height:auto;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;"> 
         <code class="js plain" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#000000;">history.pushState(stateObj, </code> 
         <code class="js string" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#0000FF;">'page 2'</code> 
         <code class="js plain" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#000000;">, </code> 
         <code class="js string" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#0000FF;">'2.html'</code> 
         <code class="js plain" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#000000;">);</code> 
        </div> 
       </div></td></tr></tbody></table> 
  </div> 
 </div> 
</div> 
<p style="margin-bottom:0px;padding-top:5px;padding-bottom:5px;font-size:14px;line-height:30px;color:rgb(34,34,34);font-family:tahoma, arial, 'Microsoft YaHei';text-align:left;background-color:rgb(255,255,255);">添加上面这个新记录后，浏览器地址栏立刻显示example.com/2.html，但并不会跳转到2.html，甚至也不会检查2.html是否存在，它只是成为浏览历史中的最新记录。假如这时访问了google.com，然后点击了倒退按钮，页面的url将显示2.html，但是内容还是原来的1.html。再点击一次倒退按钮，url将显示1.html，内容不变</p> 
<p style="margin-bottom:0px;padding-top:5px;padding-bottom:5px;font-size:14px;line-height:30px;color:rgb(34,34,34);font-family:tahoma, arial, 'Microsoft YaHei';text-align:left;background-color:rgb(255,255,255);">总之，pushState方法不会触发页面刷新，只是导致history对象发生变化，地址栏的显示地址发生变化</p> 
<p style="margin-bottom:0px;padding-top:5px;padding-bottom:5px;font-size:14px;line-height:30px;color:rgb(34,34,34);font-family:tahoma, arial, 'Microsoft YaHei';text-align:left;background-color:rgb(255,255,255);">如果pushState的url参数，设置了一个新的锚点值(即hash)，并不会触发hashchange事件，，即使新的URL和旧的只在hash上有区别</p> 
<p style="margin-bottom:0px;padding-top:5px;padding-bottom:5px;font-size:14px;line-height:30px;color:rgb(34,34,34);font-family:tahoma, arial, 'Microsoft YaHei';text-align:left;background-color:rgb(255,255,255);">如果设置了一个跨域网址，则会报错。这样设计的目的是，防止恶意代码让用户以为他们是在另一个网站上</p> 
<div class="jb51code" style="margin:0px;padding:0px;line-height:25.2px;font-size:14px;width:660px;clear:both;text-align:left;color:rgb(34,34,34);font-family:tahoma, arial, 'Microsoft YaHei';background-color:rgb(255,255,255);"> 
 <div style="margin:0px;padding:0px;line-height:25.2px;"> 
  <div class="syntaxhighlighter js" style="padding:0px;width:643px;line-height:25.2px;margin:1em 0px;"> 
   <div class="toolbar" style="line-height:13.2px;margin:0px;padding:0px;background:rgb(108,226,108);border:none;float:none;height:11px;vertical-align:baseline;width:11px;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#FFFFFF;"> 
    <span style="line-height:25.2px;"><a href="http://www.jb51.net/article/105062.htm#" rel="nofollow" class="toolbar_item command_help help" style="color:rgb(0,102,153);background:none;border:0px;float:none;height:auto;line-height:1.1em;margin:0px;padding:1px 0px 0px;text-align:center;vertical-align:baseline;width:auto;min-height:auto;">?</a></span> 
   </div> 
   <table border="0" cellpadding="0" cellspacing="0" style="border-spacing:0px;border:1px solid rgb(204,204,204);margin-top:.54em;text-align:center;width:643px;clear:both;background:none;float:none;height:auto;line-height:1.1em;margin-right:0px;margin-bottom:0px;margin-left:0px;padding:0px;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;font-size:1em;min-height:auto;"><tbody style="background:none;float:none;height:auto;line-height:1.1em;margin:0px;padding:0px;text-align:left;vertical-align:baseline;width:auto;font-size:1em;min-height:auto;"><tr style="background:none;border-top:0px;float:none;height:auto;line-height:1.1em;margin:0px;padding:0px;vertical-align:baseline;width:auto;font-size:1em;min-height:auto;"><td class="gutter" style="padding:.2em .46em;border-color:rgb(204,204,204);margin:0px;background:none;float:none;height:auto;line-height:1.1em;vertical-align:baseline;width:auto;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;font-size:1em;min-height:auto;color:rgb(175,175,175);"> 
       <div class="line number1 index0 alt2" style="line-height:15.4px;margin:0px;padding:0px .5em 0px 1em;background-image:none;border-width:0px 3px 0px 0px;border-right-style:solid;border-right-color:rgb(108,226,108);float:none;height:auto;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">
         1 
       </div> 
       <div class="line number2 index1 alt1" style="line-height:15.4px;margin:0px;padding:0px .5em 0px 1em;background-image:none;border-width:0px 3px 0px 0px;border-right-style:solid;border-right-color:rgb(108,226,108);float:none;height:auto;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">
         2 
       </div></td><td class="code" style="padding:.2em .46em;border-color:rgb(204,204,204);width:611px;margin:0px;background:none;float:none;height:auto;line-height:1.1em;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;font-size:1em;min-height:auto;"> 
       <div class="container" style="line-height:15.4px;margin:0px;padding:0px;background:none;border:0px;float:none;height:auto;vertical-align:baseline;width:auto;min-height:auto;"> 
        <div class="line number1 index0 alt2" style="line-height:15.4px;margin:0px;padding:0px 1em;background-image:none;border:0px;float:none;height:auto;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;"> 
         <code class="js comments" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:rgb(0,130,0);">// 报错</code> 
        </div> 
        <div class="line number2 index1 alt1" style="line-height:15.4px;margin:0px;padding:0px 1em;background-image:none;border:0px;float:none;height:auto;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;"> 
         <code class="js plain" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#000000;">history.pushState(</code> 
         <code class="js keyword" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;font-weight:bold;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:rgb(0,102,153);">null</code> 
         <code class="js plain" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#000000;">, </code> 
         <code class="js keyword" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;font-weight:bold;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:rgb(0,102,153);">null</code> 
         <code class="js plain" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#000000;">, </code> 
         <code class="js string" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#0000FF;">'<a href="https://twitter.com/hello" rel="nofollow" style="color:rgb(0,102,153);background:none;border:0px;float:none;height:auto;line-height:1.1em;margin:0px;padding:0px;vertical-align:baseline;width:auto;min-height:auto;">https://twitter.com/hello</a>'</code> 
         <code class="js plain" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#000000;">);</code> 
        </div> 
       </div></td></tr></tbody></table> 
  </div> 
 </div> 
</div> 
<p style="margin-bottom:0px;padding-top:5px;padding-bottom:5px;font-size:14px;line-height:30px;color:rgb(34,34,34);font-family:tahoma, arial, 'Microsoft YaHei';text-align:left;background-color:rgb(255,255,255);"><span style="line-height:25.2px;color:rgb(0,0,255);"><strong>【replaceState()】</strong></span></p> 
<p style="margin-bottom:0px;padding-top:5px;padding-bottom:5px;font-size:14px;line-height:30px;color:rgb(34,34,34);font-family:tahoma, arial, 'Microsoft YaHei';text-align:left;background-color:rgb(255,255,255);">history.replaceState方法的参数与pushState方法一模一样，不同之处在于replaceState()方法会修改当前历史记录条目而并非创建新的条目</p> 
<p style="margin-bottom:0px;padding-top:5px;padding-bottom:5px;font-size:14px;line-height:30px;color:rgb(34,34,34);font-family:tahoma, arial, 'Microsoft YaHei';text-align:left;background-color:rgb(255,255,255);">假定当前网页是example.com/example.html</p> 
<div class="jb51code" style="margin:0px;padding:0px;line-height:25.2px;font-size:14px;width:660px;clear:both;text-align:left;color:rgb(34,34,34);font-family:tahoma, arial, 'Microsoft YaHei';background-color:rgb(255,255,255);"> 
 <div style="margin:0px;padding:0px;line-height:25.2px;"> 
  <div class="syntaxhighlighter js" style="padding:0px;width:643px;line-height:25.2px;margin:1em 0px;"> 
   <div class="toolbar" style="line-height:13.2px;margin:0px;padding:0px;background:rgb(108,226,108);border:none;float:none;height:11px;vertical-align:baseline;width:11px;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#FFFFFF;"> 
    <span style="line-height:25.2px;"><a href="http://www.jb51.net/article/105062.htm#" rel="nofollow" class="toolbar_item command_help help" style="color:rgb(0,102,153);background:none;border:0px;float:none;height:auto;line-height:1.1em;margin:0px;padding:1px 0px 0px;text-align:center;vertical-align:baseline;width:auto;min-height:auto;">?</a></span> 
   </div> 
   <table border="0" cellpadding="0" cellspacing="0" style="border-spacing:0px;border:1px solid rgb(204,204,204);margin-top:.54em;text-align:center;width:643px;clear:both;background:none;float:none;height:auto;line-height:1.1em;margin-right:0px;margin-bottom:0px;margin-left:0px;padding:0px;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;font-size:1em;min-height:auto;"><tbody style="background:none;float:none;height:auto;line-height:1.1em;margin:0px;padding:0px;text-align:left;vertical-align:baseline;width:auto;font-size:1em;min-height:auto;"><tr style="background:none;border-top:0px;float:none;height:auto;line-height:1.1em;margin:0px;padding:0px;vertical-align:baseline;width:auto;font-size:1em;min-height:auto;"><td class="gutter" style="padding:.2em .46em;border-color:rgb(204,204,204);margin:0px;background:none;float:none;height:auto;line-height:1.1em;vertical-align:baseline;width:auto;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;font-size:1em;min-height:auto;color:rgb(175,175,175);"> 
       <div class="line number1 index0 alt2" style="line-height:15.4px;margin:0px;padding:0px .5em 0px 1em;background-image:none;border-width:0px 3px 0px 0px;border-right-style:solid;border-right-color:rgb(108,226,108);float:none;height:auto;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">
         1 
       </div> 
       <div class="line number2 index1 alt1" style="line-height:15.4px;margin:0px;padding:0px .5em 0px 1em;background-image:none;border-width:0px 3px 0px 0px;border-right-style:solid;border-right-color:rgb(108,226,108);float:none;height:auto;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">
         2 
       </div> 
       <div class="line number3 index2 alt2" style="line-height:15.4px;margin:0px;padding:0px .5em 0px 1em;background-image:none;border-width:0px 3px 0px 0px;border-right-style:solid;border-right-color:rgb(108,226,108);float:none;height:auto;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">
         3 
       </div> 
       <div class="line number4 index3 alt1" style="line-height:15.4px;margin:0px;padding:0px .5em 0px 1em;background-image:none;border-width:0px 3px 0px 0px;border-right-style:solid;border-right-color:rgb(108,226,108);float:none;height:auto;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">
         4 
       </div> 
       <div class="line number5 index4 alt2" style="line-height:15.4px;margin:0px;padding:0px .5em 0px 1em;background-image:none;border-width:0px 3px 0px 0px;border-right-style:solid;border-right-color:rgb(108,226,108);float:none;height:auto;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">
         5 
       </div> 
       <div class="line number6 index5 alt1" style="line-height:15.4px;margin:0px;padding:0px .5em 0px 1em;background-image:none;border-width:0px 3px 0px 0px;border-right-style:solid;border-right-color:rgb(108,226,108);float:none;height:auto;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">
         6 
       </div> 
       <div class="line number7 index6 alt2" style="line-height:15.4px;margin:0px;padding:0px .5em 0px 1em;background-image:none;border-width:0px 3px 0px 0px;border-right-style:solid;border-right-color:rgb(108,226,108);float:none;height:auto;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">
         7 
       </div> 
       <div class="line number8 index7 alt1" style="line-height:15.4px;margin:0px;padding:0px .5em 0px 1em;background-image:none;border-width:0px 3px 0px 0px;border-right-style:solid;border-right-color:rgb(108,226,108);float:none;height:auto;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">
         8 
       </div> 
       <div class="line number9 index8 alt2" style="line-height:15.4px;margin:0px;padding:0px .5em 0px 1em;background-image:none;border-width:0px 3px 0px 0px;border-right-style:solid;border-right-color:rgb(108,226,108);float:none;height:auto;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">
         9 
       </div></td><td class="code" style="padding:.2em .46em;border-color:rgb(204,204,204);width:611px;margin:0px;background:none;float:none;height:auto;line-height:1.1em;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;font-size:1em;min-height:auto;"> 
       <div class="container" style="line-height:15.4px;margin:0px;padding:0px;background:none;border:0px;float:none;height:auto;vertical-align:baseline;width:auto;min-height:auto;"> 
        <div class="line number1 index0 alt2" style="line-height:15.4px;margin:0px;padding:0px 1em;background-image:none;border:0px;float:none;height:auto;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;"> 
         <code class="js plain" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#000000;">history.pushState({page: 1}, </code> 
         <code class="js string" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#0000FF;">'title 1'</code> 
         <code class="js plain" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#000000;">, </code> 
         <code class="js string" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#0000FF;">'?page=1'</code> 
         <code class="js plain" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#000000;">);</code> 
        </div> 
        <div class="line number2 index1 alt1" style="line-height:15.4px;margin:0px;padding:0px 1em;background-image:none;border:0px;float:none;height:auto;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;"> 
         <code class="js plain" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#000000;">history.pushState({page: 2}, </code> 
         <code class="js string" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#0000FF;">'title 2'</code> 
         <code class="js plain" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#000000;">, </code> 
         <code class="js string" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#0000FF;">'?page=2'</code> 
         <code class="js plain" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#000000;">);</code> 
        </div> 
        <div class="line number3 index2 alt2" style="line-height:15.4px;margin:0px;padding:0px 1em;background-image:none;border:0px;float:none;height:auto;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;"> 
         <code class="js plain" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#000000;">history.replaceState({page: 3}, </code> 
         <code class="js string" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#0000FF;">'title 3'</code> 
         <code class="js plain" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#000000;">, </code> 
         <code class="js string" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#0000FF;">'?page=3'</code> 
         <code class="js plain" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#000000;">);</code> 
        </div> 
        <div class="line number4 index3 alt1" style="line-height:15.4px;margin:0px;padding:0px 1em;background-image:none;border:0px;float:none;height:auto;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;"> 
         <code class="js plain" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#000000;">history.back()</code> 
        </div> 
        <div class="line number5 index4 alt2" style="line-height:15.4px;margin:0px;padding:0px 1em;background-image:none;border:0px;float:none;height:auto;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;"> 
         <code class="js comments" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:rgb(0,130,0);">// url显示为<a href="http://example.com/example.html?page=1" rel="nofollow" style="color:rgb(0,102,153);background:none;border:0px;float:none;height:auto;line-height:1.1em;margin:0px;padding:0px;vertical-align:baseline;width:auto;min-height:auto;">http://example.com/example.html?page=1</a></code> 
        </div> 
        <div class="line number6 index5 alt1" style="line-height:15.4px;margin:0px;padding:0px 1em;background-image:none;border:0px;float:none;height:auto;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;"> 
         <code class="js plain" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#000000;">history.back()</code> 
        </div> 
        <div class="line number7 index6 alt2" style="line-height:15.4px;margin:0px;padding:0px 1em;background-image:none;border:0px;float:none;height:auto;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;"> 
         <code class="js comments" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:rgb(0,130,0);">// url显示为<a href="http://example.com/example.html" rel="nofollow" style="color:rgb(0,102,153);background:none;border:0px;float:none;height:auto;line-height:1.1em;margin:0px;padding:0px;vertical-align:baseline;width:auto;min-height:auto;">http://example.com/example.html</a></code> 
        </div> 
        <div class="line number8 index7 alt1" style="line-height:15.4px;margin:0px;padding:0px 1em;background-image:none;border:0px;float:none;height:auto;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;"> 
         <code class="js plain" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#000000;">history.go(2)</code> 
        </div> 
        <div class="line number9 index8 alt2" style="line-height:15.4px;margin:0px;padding:0px 1em;background-image:none;border:0px;float:none;height:auto;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;"> 
         <code class="js comments" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:rgb(0,130,0);">// url显示为<a href="http://example.com/example.html?page=3" rel="nofollow" style="color:rgb(0,102,153);background:none;border:0px;float:none;height:auto;line-height:1.1em;margin:0px;padding:0px;vertical-align:baseline;width:auto;min-height:auto;">http://example.com/example.html?page=3</a></code> 
        </div> 
       </div></td></tr></tbody></table> 
  </div> 
 </div> 
</div> 
<p style="margin-bottom:0px;padding-top:5px;padding-bottom:5px;font-size:14px;line-height:30px;color:rgb(34,34,34);font-family:tahoma, arial, 'Microsoft YaHei';text-align:left;background-color:rgb(255,255,255);"><span style="line-height:25.2px;color:rgb(0,0,255);"><strong>【state】</strong></span></p> 
<p style="margin-bottom:0px;padding-top:5px;padding-bottom:5px;font-size:14px;line-height:30px;color:rgb(34,34,34);font-family:tahoma, arial, 'Microsoft YaHei';text-align:left;background-color:rgb(255,255,255);">history.state属性返回当前页面的state对象</p> 
<div class="jb51code" style="margin:0px;padding:0px;line-height:25.2px;font-size:14px;width:660px;clear:both;text-align:left;color:rgb(34,34,34);font-family:tahoma, arial, 'Microsoft YaHei';background-color:rgb(255,255,255);"> 
 <div style="margin:0px;padding:0px;line-height:25.2px;"> 
  <div class="syntaxhighlighter js" style="padding:0px;width:643px;line-height:25.2px;margin:1em 0px;"> 
   <div class="toolbar" style="line-height:13.2px;margin:0px;padding:0px;background:rgb(108,226,108);border:none;float:none;height:11px;vertical-align:baseline;width:11px;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#FFFFFF;"> 
    <span style="line-height:25.2px;"><a href="http://www.jb51.net/article/105062.htm#" rel="nofollow" class="toolbar_item command_help help" style="color:rgb(0,102,153);background:none;border:0px;float:none;height:auto;line-height:1.1em;margin:0px;padding:1px 0px 0px;text-align:center;vertical-align:baseline;width:auto;min-height:auto;">?</a></span> 
   </div> 
   <table border="0" cellpadding="0" cellspacing="0" style="border-spacing:0px;border:1px solid rgb(204,204,204);margin-top:.54em;text-align:center;width:643px;clear:both;background:none;float:none;height:auto;line-height:1.1em;margin-right:0px;margin-bottom:0px;margin-left:0px;padding:0px;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;font-size:1em;min-height:auto;"><tbody style="background:none;float:none;height:auto;line-height:1.1em;margin:0px;padding:0px;text-align:left;vertical-align:baseline;width:auto;font-size:1em;min-height:auto;"><tr style="background:none;border-top:0px;float:none;height:auto;line-height:1.1em;margin:0px;padding:0px;vertical-align:baseline;width:auto;font-size:1em;min-height:auto;"><td class="gutter" style="padding:.2em .46em;border-color:rgb(204,204,204);margin:0px;background:none;float:none;height:auto;line-height:1.1em;vertical-align:baseline;width:auto;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;font-size:1em;min-height:auto;color:rgb(175,175,175);"> 
       <div class="line number1 index0 alt2" style="line-height:15.4px;margin:0px;padding:0px .5em 0px 1em;background-image:none;border-width:0px 3px 0px 0px;border-right-style:solid;border-right-color:rgb(108,226,108);float:none;height:auto;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">
         1 
       </div> 
       <div class="line number2 index1 alt1" style="line-height:15.4px;margin:0px;padding:0px .5em 0px 1em;background-image:none;border-width:0px 3px 0px 0px;border-right-style:solid;border-right-color:rgb(108,226,108);float:none;height:auto;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">
         2 
       </div></td><td class="code" style="padding:.2em .46em;border-color:rgb(204,204,204);width:611px;margin:0px;background:none;float:none;height:auto;line-height:1.1em;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;font-size:1em;min-height:auto;"> 
       <div class="container" style="line-height:15.4px;margin:0px;padding:0px;background:none;border:0px;float:none;height:auto;vertical-align:baseline;width:auto;min-height:auto;"> 
        <div class="line number1 index0 alt2" style="line-height:15.4px;margin:0px;padding:0px 1em;background-image:none;border:0px;float:none;height:auto;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;"> 
         <code class="js plain" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#000000;">history.pushState({page: 1}, </code> 
         <code class="js string" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#0000FF;">'title 1'</code> 
         <code class="js plain" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#000000;">, </code> 
         <code class="js string" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#0000FF;">'?page=1'</code> 
         <code class="js plain" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#000000;">);</code> 
        </div> 
        <div class="line number2 index1 alt1" style="line-height:15.4px;margin:0px;padding:0px 1em;background-image:none;border:0px;float:none;height:auto;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;"> 
         <code class="js plain" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#000000;">history.state</code> 
         <code class="js comments" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:rgb(0,130,0);">// { page: 1 }</code> 
        </div> 
       </div></td></tr></tbody></table> 
  </div> 
 </div> 
</div> 
<p style="margin-bottom:0px;padding-top:5px;padding-bottom:5px;font-size:14px;line-height:30px;color:rgb(34,34,34);font-family:tahoma, arial, 'Microsoft YaHei';text-align:left;background-color:rgb(255,255,255);"><span style="line-height:25.2px;color:rgb(0,0,255);"><strong>【popstate事件】</strong></span></p> 
<p style="margin-bottom:0px;padding-top:5px;padding-bottom:5px;font-size:14px;line-height:30px;color:rgb(34,34,34);font-family:tahoma, arial, 'Microsoft YaHei';text-align:left;background-color:rgb(255,255,255);">每当同一个文档的浏览历史(即history对象)出现变化时，就会触发popstate事件</p> 
<p style="margin-bottom:0px;padding-top:5px;padding-bottom:5px;font-size:14px;line-height:30px;color:rgb(34,34,34);font-family:tahoma, arial, 'Microsoft YaHei';text-align:left;background-color:rgb(255,255,255);">需要注意的是，仅仅调用pushState方法或replaceState方法，并不会触发该事件，只有用户点击浏览器倒退按钮和前进按钮，或者使用javascript调用back()、forward()、go()方法时才会触发。另外，该事件只针对同一个文档，如果浏览历史的切换，导致加载不同的文档，该事件也不会触发</p> 
<p style="margin-bottom:0px;padding-top:5px;padding-bottom:5px;font-size:14px;line-height:30px;color:rgb(34,34,34);font-family:tahoma, arial, 'Microsoft YaHei';text-align:left;background-color:rgb(255,255,255);">使用的时候，可以为popstate事件指定回调函数。这个回调函数的参数是一个event事件对象，它的state属性指向pushState和replaceState方法为当前URL所提供的状态对象(即这两个方法的第一个参数)</p> 
<div class="jb51code" style="margin:0px;padding:0px;line-height:25.2px;font-size:14px;width:660px;clear:both;text-align:left;color:rgb(34,34,34);font-family:tahoma, arial, 'Microsoft YaHei';background-color:rgb(255,255,255);"> 
 <div style="margin:0px;padding:0px;line-height:25.2px;"> 
  <div class="syntaxhighlighter js" style="padding:0px;width:643px;line-height:25.2px;margin:1em 0px;"> 
   <div class="toolbar" style="line-height:13.2px;margin:0px;padding:0px;background:rgb(108,226,108);border:none;float:none;height:11px;vertical-align:baseline;width:11px;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#FFFFFF;"> 
    <span style="line-height:25.2px;"><a href="http://www.jb51.net/article/105062.htm#" rel="nofollow" class="toolbar_item command_help help" style="color:rgb(0,102,153);background:none;border:0px;float:none;height:auto;line-height:1.1em;margin:0px;padding:1px 0px 0px;text-align:center;vertical-align:baseline;width:auto;min-height:auto;">?</a></span> 
   </div> 
   <table border="0" cellpadding="0" cellspacing="0" style="border-spacing:0px;border:1px solid rgb(204,204,204);margin-top:.54em;text-align:center;width:643px;clear:both;background:none;float:none;height:auto;line-height:1.1em;margin-right:0px;margin-bottom:0px;margin-left:0px;padding:0px;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;font-size:1em;min-height:auto;"><tbody style="background:none;float:none;height:auto;line-height:1.1em;margin:0px;padding:0px;text-align:left;vertical-align:baseline;width:auto;font-size:1em;min-height:auto;"><tr style="background:none;border-top:0px;float:none;height:auto;line-height:1.1em;margin:0px;padding:0px;vertical-align:baseline;width:auto;font-size:1em;min-height:auto;"><td class="gutter" style="padding:.2em .46em;border-color:rgb(204,204,204);margin:0px;background:none;float:none;height:auto;line-height:1.1em;vertical-align:baseline;width:auto;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;font-size:1em;min-height:auto;color:rgb(175,175,175);"> 
       <div class="line number1 index0 alt2" style="line-height:15.4px;margin:0px;padding:0px .5em 0px 1em;background-image:none;border-width:0px 3px 0px 0px;border-right-style:solid;border-right-color:rgb(108,226,108);float:none;height:auto;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">
         1 
       </div> 
       <div class="line number2 index1 alt1" style="line-height:15.4px;margin:0px;padding:0px .5em 0px 1em;background-image:none;border-width:0px 3px 0px 0px;border-right-style:solid;border-right-color:rgb(108,226,108);float:none;height:auto;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">
         2 
       </div> 
       <div class="line number3 index2 alt2" style="line-height:15.4px;margin:0px;padding:0px .5em 0px 1em;background-image:none;border-width:0px 3px 0px 0px;border-right-style:solid;border-right-color:rgb(108,226,108);float:none;height:auto;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">
         3 
       </div> 
       <div class="line number4 index3 alt1" style="line-height:15.4px;margin:0px;padding:0px .5em 0px 1em;background-image:none;border-width:0px 3px 0px 0px;border-right-style:solid;border-right-color:rgb(108,226,108);float:none;height:auto;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">
         4 
       </div></td><td class="code" style="padding:.2em .46em;border-color:rgb(204,204,204);width:611px;margin:0px;background:none;float:none;height:auto;line-height:1.1em;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;font-size:1em;min-height:auto;"> 
       <div class="container" style="line-height:15.4px;margin:0px;padding:0px;background:none;border:0px;float:none;height:auto;vertical-align:baseline;width:auto;min-height:auto;"> 
        <div class="line number1 index0 alt2" style="line-height:15.4px;margin:0px;padding:0px 1em;background-image:none;border:0px;float:none;height:auto;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;"> 
         <code class="js plain" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#000000;">window.onpopstate = </code> 
         <code class="js keyword" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;font-weight:bold;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:rgb(0,102,153);">function</code> 
         <code class="js plain" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#000000;">(event) {<!-- --></code> 
        </div> 
        <div class="line number2 index1 alt1" style="line-height:15.4px;margin:0px;padding:0px 1em;background-image:none;border:0px;float:none;height:auto;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;"> 
         <code class="js spaces" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;"> </code> 
         <code class="js plain" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#000000;">console.log(</code> 
         <code class="js string" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#0000FF;">'location: '</code> 
         <code class="js plain" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#000000;">+ document.location);</code> 
        </div> 
        <div class="line number3 index2 alt2" style="line-height:15.4px;margin:0px;padding:0px 1em;background-image:none;border:0px;float:none;height:auto;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;"> 
         <code class="js spaces" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;"> </code> 
         <code class="js plain" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#000000;">console.log(</code> 
         <code class="js string" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#0000FF;">'state: '</code> 
         <code class="js plain" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#000000;">+ JSON.stringify(event.state));</code> 
        </div> 
        <div class="line number4 index3 alt1" style="line-height:15.4px;margin:0px;padding:0px 1em;background-image:none;border:0px;float:none;height:auto;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;"> 
         <code class="js plain" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#000000;">};　　</code> 
        </div> 
       </div></td></tr></tbody></table> 
  </div> 
 </div> 
</div> 
<p style="margin-bottom:0px;padding-top:5px;padding-bottom:5px;font-size:14px;line-height:30px;color:rgb(34,34,34);font-family:tahoma, arial, 'Microsoft YaHei';text-align:left;background-color:rgb(255,255,255);">上面代码中的event.state，就是通过pushState和replaceState方法，为当前URL绑定的state对象</p> 
<p style="margin-bottom:0px;padding-top:5px;padding-bottom:5px;font-size:14px;line-height:30px;color:rgb(34,34,34);font-family:tahoma, arial, 'Microsoft YaHei';text-align:left;background-color:rgb(255,255,255);">这个state对象也可以直接通过history对象读取</p> 
<p style="margin-bottom:0px;padding-top:5px;padding-bottom:5px;font-size:14px;line-height:30px;color:rgb(34,34,34);font-family:tahoma, arial, 'Microsoft YaHei';text-align:left;background-color:rgb(255,255,255);"><code style="margin:3px auto 0px;padding:2px 4px;font-style:inherit;font-weight:inherit;width:640px;line-height:1.5;clear:both;border:1px solid rgb(204,204,204);font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;">var currentState = history.state;</code></p> 
<p style="margin-bottom:0px;padding-top:5px;padding-bottom:5px;font-size:14px;line-height:30px;color:rgb(34,34,34);font-family:tahoma, arial, 'Microsoft YaHei';text-align:left;background-color:rgb(255,255,255);"><strong>往返缓存</strong></p> 
<p style="margin-bottom:0px;padding-top:5px;padding-bottom:5px;font-size:14px;line-height:30px;color:rgb(34,34,34);font-family:tahoma, arial, 'Microsoft YaHei';text-align:left;background-color:rgb(255,255,255);">默认情况下，浏览器会在当前会话(session)缓存页面，当用户点击“前进”或“后退”按钮时，浏览器就会从缓存中加载页面</p> 
<p style="margin-bottom:0px;padding-top:5px;padding-bottom:5px;font-size:14px;line-height:30px;color:rgb(34,34,34);font-family:tahoma, arial, 'Microsoft YaHei';text-align:left;background-color:rgb(255,255,255);">浏览器有一个特性叫“往返缓存”(back-forward cache或bfcache)，可以在用户使用浏览器的“后退”和“前进”按钮时加快页面的转换速度。这个缓存中不仅保存着页面数据，还保存了DOM和javascript的状态；实际上是将整个页面都保存在了内存里。如果页面位于bfcache中，那么再次打开该页面时就不会触发load事件</p> 
<p style="margin-bottom:0px;padding-top:5px;padding-bottom:5px;font-size:14px;line-height:30px;color:rgb(34,34,34);font-family:tahoma, arial, 'Microsoft YaHei';text-align:left;background-color:rgb(255,255,255);"><span style="line-height:25.2px;color:rgb(255,0,0);"><strong>[注意]</strong></span>IE10-浏览器不支持</p> 
<p style="margin-bottom:0px;padding-top:5px;padding-bottom:5px;font-size:14px;line-height:30px;color:rgb(34,34,34);font-family:tahoma, arial, 'Microsoft YaHei';text-align:left;background-color:rgb(255,255,255);"><span style="line-height:25.2px;color:rgb(0,0,255);"><strong>【pageshow】</strong></span></p> 
<p style="margin-bottom:0px;padding-top:5px;padding-bottom:5px;font-size:14px;line-height:30px;color:rgb(34,34,34);font-family:tahoma, arial, 'Microsoft YaHei';text-align:left;background-color:rgb(255,255,255);">pageshow事件在页面加载时触发，包括第一次加载和从缓存加载两种情况。如果要指定页面每次加载(不管是不是从浏览器缓存)时都运行的代码，可以放在这个事件的监听函数</p> 
<p style="margin-bottom:0px;padding-top:5px;padding-bottom:5px;font-size:14px;line-height:30px;color:rgb(34,34,34);font-family:tahoma, arial, 'Microsoft YaHei';text-align:left;background-color:rgb(255,255,255);">第一次加载时，它的触发顺序排在load事件后面。从缓存加载时，load事件不会触发，因为网页在缓存中的样子通常是load事件的监听函数运行后的样子，所以不必重复执行。同理，如果是从缓存中加载页面，网页内初始化的JavaScript脚本(比如DOMContentLoaded事件的监听函数)也不会执行</p> 
<p style="margin-bottom:0px;padding-top:5px;padding-bottom:5px;font-size:14px;line-height:30px;color:rgb(34,34,34);font-family:tahoma, arial, 'Microsoft YaHei';text-align:left;background-color:rgb(255,255,255);"><span style="line-height:25.2px;color:rgb(255,0,0);"><strong>[注意]</strong></span>虽然这个事件的目标是document，但必须将其事件处理程序添加到window</p> 
<p style="margin-bottom:0px;padding-top:5px;padding-bottom:5px;font-size:14px;line-height:30px;color:rgb(34,34,34);font-family:tahoma, arial, 'Microsoft YaHei';text-align:left;background-color:rgb(255,255,255);">pageshow事件有一个persisted属性，返回一个布尔值。页面第一次加载时或没有从缓存加载时，这个属性是false；当页面从缓存加载时，这个属性是true</p> 
<div class="jb51code" style="margin:0px;padding:0px;line-height:25.2px;font-size:14px;width:660px;clear:both;text-align:left;color:rgb(34,34,34);font-family:tahoma, arial, 'Microsoft YaHei';background-color:rgb(255,255,255);"> 
 <div style="margin:0px;padding:0px;line-height:25.2px;"> 
  <div class="syntaxhighlighter js" style="padding:0px;width:643px;line-height:25.2px;margin:1em 0px;"> 
   <div class="toolbar" style="line-height:13.2px;margin:0px;padding:0px;background:rgb(108,226,108);border:none;float:none;height:11px;vertical-align:baseline;width:11px;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#FFFFFF;"> 
    <span style="line-height:25.2px;"><a href="http://www.jb51.net/article/105062.htm#" rel="nofollow" class="toolbar_item command_help help" style="color:rgb(0,102,153);background:none;border:0px;float:none;height:auto;line-height:1.1em;margin:0px;padding:1px 0px 0px;text-align:center;vertical-align:baseline;width:auto;min-height:auto;">?</a></span> 
   </div> 
   <table border="0" cellpadding="0" cellspacing="0" style="border-spacing:0px;border:1px solid rgb(204,204,204);margin-top:.54em;text-align:center;width:643px;clear:both;background:none;float:none;height:auto;line-height:1.1em;margin-right:0px;margin-bottom:0px;margin-left:0px;padding:0px;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;font-size:1em;min-height:auto;"><tbody style="background:none;float:none;height:auto;line-height:1.1em;margin:0px;padding:0px;text-align:left;vertical-align:baseline;width:auto;font-size:1em;min-height:auto;"><tr style="background:none;border-top:0px;float:none;height:auto;line-height:1.1em;margin:0px;padding:0px;vertical-align:baseline;width:auto;font-size:1em;min-height:auto;"><td class="gutter" style="padding:.2em .46em;border-color:rgb(204,204,204);margin:0px;background:none;float:none;height:auto;line-height:1.1em;vertical-align:baseline;width:auto;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;font-size:1em;min-height:auto;color:rgb(175,175,175);"> 
       <div class="line number1 index0 alt2" style="line-height:15.4px;margin:0px;padding:0px .5em 0px 1em;background-image:none;border-width:0px 3px 0px 0px;border-right-style:solid;border-right-color:rgb(108,226,108);float:none;height:auto;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">
         1 
       </div> 
       <div class="line number2 index1 alt1" style="line-height:15.4px;margin:0px;padding:0px .5em 0px 1em;background-image:none;border-width:0px 3px 0px 0px;border-right-style:solid;border-right-color:rgb(108,226,108);float:none;height:auto;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">
         2 
       </div> 
       <div class="line number3 index2 alt2" style="line-height:15.4px;margin:0px;padding:0px .5em 0px 1em;background-image:none;border-width:0px 3px 0px 0px;border-right-style:solid;border-right-color:rgb(108,226,108);float:none;height:auto;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">
         3 
       </div> 
       <div class="line number4 index3 alt1" style="line-height:15.4px;margin:0px;padding:0px .5em 0px 1em;background-image:none;border-width:0px 3px 0px 0px;border-right-style:solid;border-right-color:rgb(108,226,108);float:none;height:auto;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">
         4 
       </div> 
       <div class="line number5 index4 alt2" style="line-height:15.4px;margin:0px;padding:0px .5em 0px 1em;background-image:none;border-width:0px 3px 0px 0px;border-right-style:solid;border-right-color:rgb(108,226,108);float:none;height:auto;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">
         5 
       </div> 
       <div class="line number6 index5 alt1" style="line-height:15.4px;margin:0px;padding:0px .5em 0px 1em;background-image:none;border-width:0px 3px 0px 0px;border-right-style:solid;border-right-color:rgb(108,226,108);float:none;height:auto;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">
         6 
       </div> 
       <div class="line number7 index6 alt2" style="line-height:15.4px;margin:0px;padding:0px .5em 0px 1em;background-image:none;border-width:0px 3px 0px 0px;border-right-style:solid;border-right-color:rgb(108,226,108);float:none;height:auto;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">
         7 
       </div> 
       <div class="line number8 index7 alt1" style="line-height:15.4px;margin:0px;padding:0px .5em 0px 1em;background-image:none;border-width:0px 3px 0px 0px;border-right-style:solid;border-right-color:rgb(108,226,108);float:none;height:auto;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">
         8 
       </div> 
       <div class="line number9 index8 alt2" style="line-height:15.4px;margin:0px;padding:0px .5em 0px 1em;background-image:none;border-width:0px 3px 0px 0px;border-right-style:solid;border-right-color:rgb(108,226,108);float:none;height:auto;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">
         9 
       </div> 
       <div class="line number10 index9 alt1" style="line-height:15.4px;margin:0px;padding:0px .5em 0px 1em;background-image:none;border-width:0px 3px 0px 0px;border-right-style:solid;border-right-color:rgb(108,226,108);float:none;height:auto;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">
         10 
       </div> 
       <div class="line number11 index10 alt2" style="line-height:15.4px;margin:0px;padding:0px .5em 0px 1em;background-image:none;border-width:0px 3px 0px 0px;border-right-style:solid;border-right-color:rgb(108,226,108);float:none;height:auto;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">
         11 
       </div></td><td class="code" style="padding:.2em .46em;border-color:rgb(204,204,204);width:603px;margin:0px;background:none;float:none;height:auto;line-height:1.1em;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;font-size:1em;min-height:auto;"> 
       <div class="container" style="line-height:15.4px;margin:0px;padding:0px;background:none;border:0px;float:none;height:auto;vertical-align:baseline;width:auto;min-height:auto;"> 
        <div class="line number1 index0 alt2" style="line-height:15.4px;margin:0px;padding:0px 1em;background-image:none;border:0px;float:none;height:auto;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;"> 
         <code class="js plain" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#000000;">(</code> 
         <code class="js keyword" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;font-weight:bold;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:rgb(0,102,153);">function</code> 
         <code class="js plain" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#000000;">(){<!-- --></code> 
        </div> 
        <div class="line number2 index1 alt1" style="line-height:15.4px;margin:0px;padding:0px 1em;background-image:none;border:0px;float:none;height:auto;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;"> 
         <code class="js spaces" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;"> </code> 
         <code class="js keyword" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;font-weight:bold;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:rgb(0,102,153);">var</code> 
         <code class="js plain" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#000000;">showCount = 0;</code> 
        </div> 
        <div class="line number3 index2 alt2" style="line-height:15.4px;margin:0px;padding:0px 1em;background-image:none;border:0px;float:none;height:auto;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;"> 
         <code class="js spaces" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;"> </code> 
         <code class="js plain" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#000000;">window.onload = </code> 
         <code class="js keyword" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;font-weight:bold;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:rgb(0,102,153);">function</code> 
         <code class="js plain" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#000000;">(){<!-- --></code> 
        </div> 
        <div class="line number4 index3 alt1" style="line-height:15.4px;margin:0px;padding:0px 1em;background-image:none;border:0px;float:none;height:auto;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;"> 
         <code class="js spaces" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;">  </code> 
         <code class="js plain" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#000000;">console.log(</code> 
         <code class="js string" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#0000FF;">'loaded'</code> 
         <code class="js plain" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#000000;">);</code> 
        </div> 
        <div class="line number5 index4 alt2" style="line-height:15.4px;margin:0px;padding:0px 1em;background-image:none;border:0px;float:none;height:auto;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;"> 
         <code class="js spaces" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;"> </code> 
         <code class="js plain" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#000000;">}</code> 
        </div> 
        <div class="line number6 index5 alt1" style="line-height:15.4px;margin:0px;padding:0px 1em;background-image:none;border:0px;float:none;height:auto;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;"> 
         <code class="js spaces" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;"> </code> 
         <code class="js plain" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#000000;">window.onpageshow = </code> 
         <code class="js keyword" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;font-weight:bold;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:rgb(0,102,153);">function</code> 
         <code class="js plain" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#000000;">(e){<!-- --></code> 
        </div> 
        <div class="line number7 index6 alt2" style="line-height:15.4px;margin:0px;padding:0px 1em;background-image:none;border:0px;float:none;height:auto;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;"> 
         <code class="js spaces" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;">  </code> 
         <code class="js plain" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#000000;">e = e || event;</code> 
        </div> 
        <div class="line number8 index7 alt1" style="line-height:15.4px;margin:0px;padding:0px 1em;background-image:none;border:0px;float:none;height:auto;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;"> 
         <code class="js spaces" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;">  </code> 
         <code class="js plain" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#000000;">showCount ++;</code> 
        </div> 
        <div class="line number9 index8 alt2" style="line-height:15.4px;margin:0px;padding:0px 1em;background-image:none;border:0px;float:none;height:auto;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;"> 
         <code class="js spaces" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;">  </code> 
         <code class="js plain" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#000000;">console.log(e.persisted,showCount + </code> 
         <code class="js string" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#0000FF;">'times'</code> 
         <code class="js plain" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#000000;">);</code> 
        </div> 
        <div class="line number10 index9 alt1" style="line-height:15.4px;margin:0px;padding:0px 1em;background-image:none;border:0px;float:none;height:auto;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;"> 
         <code class="js spaces" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;"> </code> 
         <code class="js plain" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#000000;">}</code> 
        </div> 
        <div class="line number11 index10 alt2" style="line-height:15.4px;margin:0px;padding:0px 1em;background-image:none;border:0px;float:none;height:auto;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;"> 
         <code class="js plain" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#000000;">})();</code> 
        </div> 
       </div></td></tr></tbody></table> 
  </div> 
 </div> 
</div> 
<p style="margin-bottom:0px;padding-top:5px;padding-bottom:5px;font-size:14px;line-height:30px;color:rgb(34,34,34);font-family:tahoma, arial, 'Microsoft YaHei';text-align:left;background-color:rgb(255,255,255);"><span style="line-height:25.2px;color:rgb(255,0,0);"><strong>[注意]</strong></span>上面的例子使用了私有作用域，以防止变量showCount进入全局作用域。如果单击了浏览器的“刷新”按钮，那么showCount的值就会被重置为0，因为页面已经完全重新加载了</p> 
<p style="margin-bottom:0px;padding-top:5px;padding-bottom:5px;font-size:14px;line-height:30px;color:rgb(34,34,34);font-family:tahoma, arial, 'Microsoft YaHei';text-align:left;background-color:rgb(255,255,255);"><span style="line-height:25.2px;color:rgb(0,0,255);"><strong>【pagehide】</strong></span></p> 
<p style="margin-bottom:0px;padding-top:5px;padding-bottom:5px;font-size:14px;line-height:30px;color:rgb(34,34,34);font-family:tahoma, arial, 'Microsoft YaHei';text-align:left;background-color:rgb(255,255,255);">与pageshow事件对应的是pagehide事件，该事件会在浏览器卸载页面的时候触发，而且是在unload事件之前触发。与pageshow事件一样，pagehide在document上面触发，但其事件处理程序必须要添加到window对象</p> 
<p style="margin-bottom:0px;padding-top:5px;padding-bottom:5px;font-size:14px;line-height:30px;color:rgb(34,34,34);font-family:tahoma, arial, 'Microsoft YaHei';text-align:left;background-color:rgb(255,255,255);"><span style="line-height:25.2px;color:rgb(255,0,0);"><strong>[注意]</strong></span>指定了onunload事件处理程序的页面会被自动排除在bfcache之外，即使事件处理程序是空的。原因在于，onunload最常用于撤销在onload中所执行的操作，而跳过onload后再次显示页面很可能就会导致页面不正常</p> 
<p style="margin-bottom:0px;padding-top:5px;padding-bottom:5px;font-size:14px;line-height:30px;color:rgb(34,34,34);font-family:tahoma, arial, 'Microsoft YaHei';text-align:left;background-color:rgb(255,255,255);">pagehide事件的event对象也包含persisted属性，不过其用途稍有不同。如果页面是从bfcache中加载的，那么persisted的值就是true；如果页面在卸载之后会被保存在bfcache中，那么persisted的值也会被设置为true。因此，当第一次触发pageshow时，persisted的值一定是false，而在第一次触发pagehide时，persisted就会变成true(除非页面不会被保存在bfcache中)</p> 
<div class="jb51code" style="margin:0px;padding:0px;line-height:25.2px;font-size:14px;width:660px;clear:both;text-align:left;color:rgb(34,34,34);font-family:tahoma, arial, 'Microsoft YaHei';background-color:rgb(255,255,255);"> 
 <div style="margin:0px;padding:0px;line-height:25.2px;"> 
  <div class="syntaxhighlighter js" style="padding:0px;width:643px;line-height:25.2px;margin:1em 0px;"> 
   <div class="toolbar" style="line-height:13.2px;margin:0px;padding:0px;background:rgb(108,226,108);border:none;float:none;height:11px;vertical-align:baseline;width:11px;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#FFFFFF;"> 
    <span style="line-height:25.2px;"><a href="http://www.jb51.net/article/105062.htm#" rel="nofollow" class="toolbar_item command_help help" style="color:rgb(0,102,153);background:none;border:0px;float:none;height:auto;line-height:1.1em;margin:0px;padding:1px 0px 0px;text-align:center;vertical-align:baseline;width:auto;min-height:auto;">?</a></span> 
   </div> 
   <table border="0" cellpadding="0" cellspacing="0" style="border-spacing:0px;border:1px solid rgb(204,204,204);margin-top:.54em;text-align:center;width:643px;clear:both;background:none;float:none;height:auto;line-height:1.1em;margin-right:0px;margin-bottom:0px;margin-left:0px;padding:0px;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;font-size:1em;min-height:auto;"><tbody style="background:none;float:none;height:auto;line-height:1.1em;margin:0px;padding:0px;text-align:left;vertical-align:baseline;width:auto;font-size:1em;min-height:auto;"><tr style="background:none;border-top:0px;float:none;height:auto;line-height:1.1em;margin:0px;padding:0px;vertical-align:baseline;width:auto;font-size:1em;min-height:auto;"><td class="gutter" style="padding:.2em .46em;border-color:rgb(204,204,204);margin:0px;background:none;float:none;height:auto;line-height:1.1em;vertical-align:baseline;width:auto;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;font-size:1em;min-height:auto;color:rgb(175,175,175);"> 
       <div class="line number1 index0 alt2" style="line-height:15.4px;margin:0px;padding:0px .5em 0px 1em;background-image:none;border-width:0px 3px 0px 0px;border-right-style:solid;border-right-color:rgb(108,226,108);float:none;height:auto;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">
         1 
       </div> 
       <div class="line number2 index1 alt1" style="line-height:15.4px;margin:0px;padding:0px .5em 0px 1em;background-image:none;border-width:0px 3px 0px 0px;border-right-style:solid;border-right-color:rgb(108,226,108);float:none;height:auto;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">
         2 
       </div> 
       <div class="line number3 index2 alt2" style="line-height:15.4px;margin:0px;padding:0px .5em 0px 1em;background-image:none;border-width:0px 3px 0px 0px;border-right-style:solid;border-right-color:rgb(108,226,108);float:none;height:auto;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">
         3 
       </div> 
       <div class="line number4 index3 alt1" style="line-height:15.4px;margin:0px;padding:0px .5em 0px 1em;background-image:none;border-width:0px 3px 0px 0px;border-right-style:solid;border-right-color:rgb(108,226,108);float:none;height:auto;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">
         4 
       </div></td><td class="code" style="padding:.2em .46em;border-color:rgb(204,204,204);width:611px;margin:0px;background:none;float:none;height:auto;line-height:1.1em;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;font-size:1em;min-height:auto;"> 
       <div class="container" style="line-height:15.4px;margin:0px;padding:0px;background:none;border:0px;float:none;height:auto;vertical-align:baseline;width:auto;min-height:auto;"> 
        <div class="line number1 index0 alt2" style="line-height:15.4px;margin:0px;padding:0px 1em;background-image:none;border:0px;float:none;height:auto;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;"> 
         <code class="js plain" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#000000;">window.onpagehide = </code> 
         <code class="js keyword" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;font-weight:bold;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:rgb(0,102,153);">function</code> 
         <code class="js plain" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#000000;">(e){<!-- --></code> 
        </div> 
        <div class="line number2 index1 alt1" style="line-height:15.4px;margin:0px;padding:0px 1em;background-image:none;border:0px;float:none;height:auto;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;"> 
         <code class="js spaces" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;"> </code> 
         <code class="js plain" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#000000;">e = e || event;</code> 
        </div> 
        <div class="line number3 index2 alt2" style="line-height:15.4px;margin:0px;padding:0px 1em;background-image:none;border:0px;float:none;height:auto;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;"> 
         <code class="js spaces" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;"> </code> 
         <code class="js plain" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#000000;">console.log(e.persisted);</code> 
        </div> 
        <div class="line number4 index3 alt1" style="line-height:15.4px;margin:0px;padding:0px 1em;background-image:none;border:0px;float:none;height:auto;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;"> 
         <code class="js plain" style="margin:3px auto 0px;padding:0px 0px 0px 5px;background:rgb(255,255,255);border-left:3px solid rgb(108,226,108);width:640px;font-size:14px;clear:both;border-top:0px;border-right:0px;border-bottom:0px;float:none;height:auto;vertical-align:baseline;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;min-height:auto;color:#000000;">}</code> 
        </div> 
       </div></td></tr></tbody></table> 
  </div> 
 </div> 
</div>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/787354ad490f9943cd4210fd3a26907c/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">关于shell脚本的基础</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/3f44cf4e616ff10d66c28a82e596a635/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Spark使用小窍门</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>