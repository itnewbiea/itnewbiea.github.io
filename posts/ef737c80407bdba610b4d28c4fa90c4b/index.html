<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>org.springframework.beans.factor… - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="org.springframework.beans.factor…" />
<meta property="og:description" content="遇到报错，应该先看错误最后面缺啥类：如报错消息所示，其实是缺乏aopalliance： Exception in thread &#34;main&#34; org.springframework.beans.factory.CannotLoadBeanClassException: Error loading class [aop.aspect.SleepHelper] for bean with name &#39;sleepHelper&#39; defined in class path resource [configuration/beans.xml]: problem with class file or dependent class; nested exception is java.lang.NoClassDefFoundError: org/aopalliance/aop/Advice at org.springframework.beans.factory.support.AbstractBeanFactory.resolveBeanClass(AbstractBeanFactory. at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory. at org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory. at org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory. at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory. at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext. at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext. at org.springframework.context.support.ClassPathXmlApplicationContext.(ClassPathXmlApplicationContext. at org.springframework.context.support.ClassPathXmlApplicationContext.(ClassPathXmlApplicationContext. at Main.MainClass.main(MainClass. Caused by: java.lang.NoClassDefFoundError: org/aopalliance/aop/Advice at at at at at at at at java.security.AccessController.doPrivileged(Native Method) at at at sun." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/ef737c80407bdba610b4d28c4fa90c4b/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2017-04-21T10:52:10+08:00" />
<meta property="article:modified_time" content="2017-04-21T10:52:10+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">org.springframework.beans.factor…</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div id="sina_keyword_ad_area2" class="articalContent   newfont_family"> 
 <div> 
  <div> 
   <font style="font-size: 14px;">遇到报错，应该先看错误最后面缺啥类：如报错消息所示，其实是缺乏<font color="#FF0000"><b>aopalliance</b></font>：</font> 
  </div> 
  <div> 
   <font style="font-size: 14px;"><br></font> 
  </div> 
  <div> 
   <font style="font-size: 10px;">Exception in thread "main" org.springframework.beans.factory.<b><font color="#ED1C24">CannotLoadBeanClassExcep<wbr></wbr>tion</font></b>: Error loading class [aop.aspect.SleepHelper] for bean with name 'sleepHelper' defined in class path resource [configuration/beans.xml]: problem with class file or dependent class; nested exception is java.lang.NoClassDefFoundError: <font color="#FF0000"><b>org/aopalliance/aop/Advice</b></font></font> 
  </div> 
  <div> 
   <font style="font-size: 10px;">at org.springframework.beans.factory.support.AbstractBeanFactory.resolveBeanClass(AbstractBeanFactory.</font> 
  </div> 
  <div> 
   <font style="font-size: 10px;">at org.springframework.beans.factory.support.AbstractAutowireCapableB<wbr></wbr>eanFactory.predictBeanType(AbstractAutowireCapableB<wbr></wbr>eanFactory.</font> 
  </div> 
  <div> 
   <font style="font-size: 10px;">at org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.</font> 
  </div> 
  <div> 
   <font style="font-size: 10px;">at org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.</font> 
  </div> 
  <div> 
   <font style="font-size: 10px;">at org.springframework.beans.factory.support.DefaultListableBeanFacto<wbr></wbr>ry.preInstantiateSingletons<wbr></wbr>(DefaultListableBeanFacto<wbr></wbr>ry.</font> 
  </div> 
  <div> 
   <font style="font-size: 10px;">at org.springframework.context.support.AbstractApplicationConte<wbr></wbr>xt.finishBeanFactoryInitial<wbr></wbr>ization(AbstractApplicationConte<wbr></wbr>xt.</font> 
  </div> 
  <div> 
   <font style="font-size: 10px;">at org.springframework.context.support.AbstractApplicationConte<wbr></wbr>xt.refresh(AbstractApplicationConte<wbr></wbr>xt.</font> 
  </div> 
  <div> 
   <font style="font-size: 10px;">at org.springframework.context.support.ClassPathXmlApplicationC<wbr></wbr>ontext.(ClassPathXmlApplicationC<wbr></wbr>ontext.</font> 
  </div> 
  <div> 
   <font style="font-size: 10px;">at org.springframework.context.support.ClassPathXmlApplicationC<wbr></wbr>ontext.(ClassPathXmlApplicationC<wbr></wbr>ontext.</font> 
  </div> 
  <div> 
   <font style="font-size: 10px;">at Main.MainClass.main(MainClass.</font> 
  </div> 
  <div> 
   <font style="font-size: 10px;">Caused by: java.lang.NoClassDefFoundError: org/aopalliance/aop/Advice</font> 
  </div> 
  <div> 
   <font style="font-size: 10px;">at </font> 
  </div> 
  <div> 
   <font style="font-size: 10px;">at </font> 
  </div> 
  <div> 
   <font style="font-size: 10px;">at </font> 
  </div> 
  <div> 
   <font style="font-size: 10px;">at </font> 
  </div> 
  <div> 
   <font style="font-size: 10px;">at </font> 
  </div> 
  <div> 
   <font style="font-size: 10px;">at </font> 
  </div> 
  <div> 
   <font style="font-size: 10px;">at </font> 
  </div> 
  <div> 
   <font style="font-size: 10px;">at java.security.AccessController.doPrivileged(Native Method)</font> 
  </div> 
  <div> 
   <font style="font-size: 10px;">at </font> 
  </div> 
  <div> 
   <font style="font-size: 10px;">at </font> 
  </div> 
  <div> 
   <font style="font-size: 10px;">at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.</font> 
  </div> 
  <div> 
   <font style="font-size: 10px;">at </font> 
  </div> 
  <div> 
   <font style="font-size: 10px;">at </font> 
  </div> 
  <div> 
   <font style="font-size: 10px;">at </font> 
  </div> 
  <div> 
   <font style="font-size: 10px;">at </font> 
  </div> 
  <div> 
   <font style="font-size: 10px;">at </font> 
  </div> 
  <div> 
   <font style="font-size: 10px;">at </font> 
  </div> 
  <div> 
   <font style="font-size: 10px;">at </font> 
  </div> 
  <div> 
   <font style="font-size: 10px;">at </font> 
  </div> 
  <div> 
   <font style="font-size: 10px;">at java.security.AccessController.doPrivileged(Native Method)</font> 
  </div> 
  <div> 
   <font style="font-size: 10px;">at </font> 
  </div> 
  <div> 
   <font style="font-size: 10px;">at </font> 
  </div> 
  <div> 
   <font style="font-size: 10px;">at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.</font> 
  </div> 
  <div> 
   <font style="font-size: 10px;">at </font> 
  </div> 
  <div> 
   <font style="font-size: 10px;">at </font> 
  </div> 
  <div> 
   <font style="font-size: 10px;">at </font> 
  </div> 
  <div> 
   <font style="font-size: 10px;">at </font> 
  </div> 
  <div> 
   <font style="font-size: 10px;">at </font> 
  </div> 
  <div> 
   <font style="font-size: 10px;">at </font> 
  </div> 
  <div> 
   <font style="font-size: 10px;">at </font> 
  </div> 
  <div> 
   <font style="font-size: 10px;">at </font> 
  </div> 
  <div> 
   <font style="font-size: 10px;">at java.security.AccessController.doPrivileged(Native Method)</font> 
  </div> 
  <div> 
   <font style="font-size: 10px;">at </font> 
  </div> 
  <div> 
   <font style="font-size: 10px;">at </font> 
  </div> 
  <div> 
   <font style="font-size: 10px;">at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.</font> 
  </div> 
  <div> 
   <font style="font-size: 10px;">at </font> 
  </div> 
  <div> 
   <font style="font-size: 10px;">at org.springframework.util.ClassUtils.forName(ClassUtils.</font> 
  </div> 
  <div> 
   <font style="font-size: 10px;">at org.springframework.beans.factory.support.AbstractBeanDefinition.resolveBeanClass(AbstractBeanDefinition.</font> 
  </div> 
  <div> 
   <font style="font-size: 10px;">at org.springframework.beans.factory.support.AbstractBeanFactory.doResolveBeanClass(AbstractBeanFactory.</font> 
  </div> 
  <div> 
   <font style="font-size: 10px;">at org.springframework.beans.factory.support.AbstractBeanFactory.resolveBeanClass(AbstractBeanFactory.</font> 
  </div> 
  <div> 
   <font style="font-size: 10px;">... 9 more</font> 
  </div> 
  <div> 
   <font style="font-size: 10px;">Caused by: java.lang.ClassNotFoundException: org.aopalliance.aop.Advice</font> 
  </div> 
  <div> 
   <font style="font-size: 10px;">at </font> 
  </div> 
  <div> 
   <font style="font-size: 10px;">at </font> 
  </div> 
  <div> 
   <font style="font-size: 10px;">at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.</font> 
  </div> 
  <div> 
   <font style="font-size: 10px;">at </font> 
  </div> 
  <div> 
   <font style="font-size: 10px;">... 49 more</font> 
  </div> 
 </div> 
 <div> 
  <br> 
 </div> 
 <div>
   　　一开始比较难发现，总以为是自己写的类或者路径没有对应上。其实并不是，由于使用了Spring托管类，所以需要那个jar文件。而Spring4却没包含这个包，似乎是一个外部开发的包，所以需要下载下来添加到库里。其实这个错误，我在Netbeans里是使用清理构建后，查看错误消息后才知道的。 
 </div> 
 <div> 
  <br> 
 </div> 
 <div> 
  <font style="font-size: 10px;">错误: 无法访问Advice</font> 
 </div> 
 <div> 
  <font style="font-size: 10px;">public class SleepHelper implements MethodBeforeAdvice,AfterReturningAdvice{<!-- --></font> 
 </div> 
 <div> 
  <span style="font-size: 10px;">找不到org.aopalliance.aop.Advice的类文件</span> 
 </div> 
 <div> 
  <br> 
 </div> 
 <div>
   　　导入正确的包后，就没有问题了。 
 </div> 
 <div> 
  <br> 
 </div> 
 <div> 
  <br> 
 </div> 
</div>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/3c50c97fd1305f3635fb2bb34c7c3a83/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">MySQL中的锁（表锁、行锁，共享锁，排它锁，间隙锁）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/8f9d260b483e800044d68430b7d50fcc/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">交换机堆叠和集群配置与管理——1</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>