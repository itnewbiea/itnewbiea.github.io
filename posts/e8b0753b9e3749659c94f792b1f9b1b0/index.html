<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>内网穿透的应用-开源表格工具APITable本地部署结合内网穿透实现公网访问 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="内网穿透的应用-开源表格工具APITable本地部署结合内网穿透实现公网访问" />
<meta property="og:description" content="文章目录 前言1. 部署APITable2. cpolar的安装和注册3. 配置APITable公网访问地址4. 固定APITable公网地址 前言 vika维格表作为新一代数据生产力平台，是一款面向 API 的智能多维表格。它将复杂的可视化数据库、电子表格、实时在线协同、低代码开发技术四合为一，就连一行代码都不懂的普通职员都能轻松上手获得 IT 能力，从而极大降低企业数字化成本。如果你正在寻找快捷可定制的业务系统、安全可靠的可视化数据库、高效协同的办公工具，那么vika维格表能满足你的丰富想象。
结合cpolar内网穿透，可以让你一键拥有自己的多维表格平台，并实时进行公网远程访问，可以私有化部署、代码修改，自主掌控数据并灵活定制你所需要的。
1. 部署APITable 安装环境：
安装docker和docker-compose v2
建议使用4核CPU/8GB RAM或更多
一个bash shell,安装curl等基本实用程序
本机arm64(mac芯片)容器映像尚未准备就绪，可能会导致性能不佳。
要使用 docker compose 安装 apitable，请打开终端并运行以下命令：
curl https://apitable.github.io/install.sh | bash 根据您的环境，您可能需要等待几分钟才能启动所有服务。
然后在浏览器中打开 http://localhost:80 以访问它。
还提供基于 pm2 的多合一映像用于演示或测试目的（不建议用于企业或生产用途）：
sudo docker run -d -v ${PWD}/.data:/apitable -p 80:80 --name apitable apitable/all-in-one:lates 安装完成后，然后在浏览器中输入localhost:80，打开网页，显示成功进入到APITable的登录界面，输入账号密码即可登录。
2. cpolar的安装和注册 完成APITable的部署后，就可以安装cpolar。要在ubuntu系统上安装cpolar，可以使用简便的一键安装脚本进行安装。只要在ubuntu的命令行界面输入以下命令，就可以自动执行安装程序（需要注意的是，可能有的ubuntu版本没有安装curl工具，因此最好先执行命令“sudo aptinstall curl”安装curl工具）。
curl -L https://www.cpolar.com/static/downloads/install-release-cpolar.sh | sudo bash Cpolar安装完成后，就可以再输入命令“systemctl start cpolar”，启动cpolar。
systemctl start cpolar 当然，我们也可以不使用systemctl级别命令，而是输入“cpolar version”" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/e8b0753b9e3749659c94f792b1f9b1b0/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-12-28T15:02:03+08:00" />
<meta property="article:modified_time" content="2023-12-28T15:02:03+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">内网穿透的应用-开源表格工具APITable本地部署结合内网穿透实现公网访问</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><ul><li><a href="#_2" rel="nofollow">前言</a></li><li><a href="#1_APITable_12" rel="nofollow">1. 部署APITable</a></li><li><a href="#2_cpolar_56" rel="nofollow">2. cpolar的安装和注册</a></li><li><a href="#3_APITable_124" rel="nofollow">3. 配置APITable公网访问地址</a></li><li><a href="#4_APITable_148" rel="nofollow">4. 固定APITable公网地址</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h3><a id="_2"></a>前言</h3> 
<p>vika维格表作为新一代数据生产力平台，是一款面向 API 的智能多维表格。它将复杂的可视化数据库、电子表格、实时在线协同、低代码开发技术四合为一，就连一行代码都不懂的普通职员都能轻松上手获得 IT 能力，从而极大降低企业数字化成本。如果你正在寻找快捷可定制的业务系统、安全可靠的可视化数据库、高效协同的办公工具，那么vika维格表能满足你的丰富想象。</p> 
<p>结合<a href="www.cpolar.com" rel="nofollow">cpolar内网穿透</a>，可以让你一键拥有自己的多维表格平台，并实时进行公网远程访问，可以私有化部署、代码修改，自主掌控数据并灵活定制你所需要的。</p> 
<p><img src="https://images2.imgbox.com/4b/43/R9kD2Pvg_o.png" alt="The ultimate open-source alternative to Airtable, surpassing all others -  APITable"></p> 
<h3><a id="1_APITable_12"></a>1. 部署APITable</h3> 
<p><strong>安装环境：</strong></p> 
<ul><li> <p>安装docker和docker-compose v2</p> </li><li> <p>建议使用4核CPU/8GB RAM或更多</p> </li><li> <p>一个bash shell,安装curl等基本实用程序</p> </li><li> <p>本机arm64(mac芯片)容器映像尚未准备就绪，可能会导致性能不佳。</p> </li></ul> 
<p><strong>要使用 docker compose 安装 apitable，请打开终端并运行以下命令：</strong></p> 
<pre><code>curl https://apitable.github.io/install.sh | bash
</code></pre> 
<p><img src="https://images2.imgbox.com/4a/38/MIaQqViY_o.png" alt="c075197a3bfa9fc8e5de11948ec48f8"></p> 
<p>根据您的环境，您可能需要等待几分钟才能启动所有服务。</p> 
<p><img src="https://images2.imgbox.com/d9/12/EInhJYqx_o.png" alt="image-20231101132129379"></p> 
<p>然后在浏览器中打开 <a href="http://localhost/" rel="nofollow">http://localhost:80</a> 以访问它。</p> 
<p>还提供基于 <a href="https://pm2.keymetrics.io/" rel="nofollow">pm2</a> 的多合一映像用于演示或测试目的（不建议用于企业或生产用途）：</p> 
<pre><code>sudo docker run -d -v ${PWD}/.data:/apitable -p 80:80 --name apitable apitable/all-in-one:lates
</code></pre> 
<p>安装完成后，然后在浏览器中输入<code>localhost:80</code>，打开网页，显示成功进入到APITable的登录界面，输入账号密码即可登录。</p> 
<p><img src="https://images2.imgbox.com/d4/53/OHdJYrsg_o.png" alt="image-20231101132620325"></p> 
<h3><a id="2_cpolar_56"></a>2. cpolar的安装和注册</h3> 
<p>完成APITable的部署后，就可以安装<a href="www.cpolar.com" rel="nofollow">cpolar</a>。要在ubuntu系统上安装cpolar，可以使用简便的一键安装脚本进行安装。只要在ubuntu的命令行界面输入以下命令，就可以自动执行安装程序（需要注意的是，可能有的ubuntu版本没有安装curl工具，因此最好先执行命令“sudo aptinstall curl”安装curl工具）。</p> 
<pre><code>curl -L https://www.cpolar.com/static/downloads/install-release-cpolar.sh | sudo bash
</code></pre> 
<p><img src="https://images2.imgbox.com/6e/bf/dKwzdaIq_o.png" alt="image-20231101135326088"></p> 
<p>Cpolar安装完成后，就可以再输入命令“systemctl start cpolar”，启动cpolar。</p> 
<pre><code>systemctl start cpolar
</code></pre> 
<p><img src="https://images2.imgbox.com/c1/19/G2OUX35i_o.png" alt="1dea9c95be75fa5bbf9401eabc1b741"></p> 
<p>当然，我们也可以不使用systemctl级别命令，而是输入“cpolar version”</p> 
<pre><code>cpolar version
</code></pre> 
<p>查询本地cpolar的版本号，只要能显示出版本信息，就说明cpolar安装完成。</p> 
<p><img src="https://images2.imgbox.com/fb/6f/fED8GP9W_o.png" alt="cced0680cde4be99c23458b0b445d75"></p> 
<p>为保证cpolar能在ubuntu系统上长期运行，以此保证数据隧道的稳定存续，最好将cpolar添加进ubuntu开机自启列表。只要在ubuntu的命令行界面，输入命令“sudo systemctl status cpolar”，就能将cpolar添加进自启列表中。</p> 
<pre><code>sudo systemctl status cpolar
</code></pre> 
<p><img src="https://images2.imgbox.com/a0/fb/7Dh9AsfA_o.png" alt="91dfd2231f70c9f12e373ce21b2682a"></p> 
<p>为保证每位用户的数据安全，并为每位客户创建单独的数据隧道，cpolar以用户密码和token码进行用户验证，因此我们在使用cpolar之前，需要进行用户注册。注册过程非常简单，只要在cpolar主页右上角点击“用户注册”，在注册页面填入必要信息，就能完成注册。</p> 
<p><img src="https://images2.imgbox.com/2a/b9/hyQF3GeD_o.jpg" alt=""></p> 
<p><img src="https://images2.imgbox.com/a6/36/M98hMnpN_o.jpg" alt=""></p> 
<p>完成cpolar用户注册后，我们就可以使用每位用户唯一的token码，激活cpolar的客户端。只要在cpolar官网登录后，就可以在“验证”页面（或是“连接您的账户”窗口），找到用户唯一的token码。</p> 
<p><img src="https://images2.imgbox.com/0a/37/d0JlBI8T_o.jpg" alt=""></p> 
<p>将这个token码复制粘贴到ubuntu的命令行界面，cpolar客户端就会将这个token码写入本地cpolar.yml文件中（token码激活只需要进行一次即可），以此作为用户数据隧道的识别信息。具体命令格式为“cpolar authtoken 用户唯一的token码”。</p> 
<pre><code>cpolar authtoken tokeb码
</code></pre> 
<p><img src="https://images2.imgbox.com/b7/99/uhlFZikV_o.png" alt="image-20231101140759655"></p> 
<p>cpolar安装成功后，在外部浏览器上访问9200端口，浏览器地址栏输入<strong>localhost:9200</strong>，使用cpolar账号登录，登录后即可看到cpolar web 配置界面，结下来在web 管理界面配置即可。</p> 
<p><img src="https://images2.imgbox.com/6e/86/HvrvQjyk_o.png" alt="image-20231101141520453"></p> 
<h3><a id="3_APITable_124"></a>3. 配置APITable公网访问地址</h3> 
<p>点击左侧仪表盘的隧道管理——创建隧道，创建一个APITable的公网地址隧道!</p> 
<ul><li>隧道名称：可自定义命名，注意不要与已有的隧道名称重复</li><li>协议：选择http</li><li>本地地址：80</li><li>域名类型：免费选择随机域名</li><li>地区：选择China Top</li></ul> 
<p>点击<code>创建</code></p> 
<p><img src="https://images2.imgbox.com/3e/fd/21egtEHj_o.png" alt="image-20231101142057150"></p> 
<p>隧道创建成功后，点击左侧的状态——在线隧道列表，查看所生成的公网访问地址，有两种访问方式，一种是http 和https</p> 
<p><img src="https://images2.imgbox.com/09/60/FXyy96VM_o.png" alt="image-20231101142348479"></p> 
<p>使用上面的cpolar https公网地址，在任意设备的浏览器进行访问，即可成功看到APITable登录界面，这样一个公网地址且可以远程访问就创建好了，使用了cpolar的公网域名，无需自己购买云服务器，即可发布到公网进行远程访问 !(新地址访问，可能需要重新登陆)</p> 
<p><img src="https://images2.imgbox.com/67/98/qlc1sJ88_o.png" alt="image-20231101142550350"></p> 
<h3><a id="4_APITable_148"></a>4. 固定APITable公网地址</h3> 
<p>由于以上使用cpolar所创建的隧道使用的是随机公网地址，24小时内会随机变化，不利于长期远程访问。因此我们可以为其配置二级子域名，该地址为固定地址，不会随机变化【ps：cpolar.cn已备案】</p> 
<blockquote> 
 <p>注意需要将cpolar套餐升级至基础套餐或以上，且每个套餐对应的带宽不一样。【cpolar.cn已备案】</p> 
</blockquote> 
<p><a href="https://dashboard.cpolar.com/" rel="nofollow">登录cpolar官网</a>，点击左侧的预留，选择保留二级子域名，设置一个二级子域名名称，点击保留，保留成功后复制保留的二级子域名名称</p> 
<p><img src="https://images2.imgbox.com/09/e2/Qw35nVIt_o.png" alt="image-20231101143257945"></p> 
<p>保留成功后复制保留成功的二级子域名的名称</p> 
<p><img src="https://images2.imgbox.com/90/47/90Ud0V4d_o.png" alt="image-20231101143317186"></p> 
<p>返回登录cpolar web UI管理界面，点击左侧仪表盘的隧道管理——隧道列表，找到所要配置的隧道，点击右侧的编辑</p> 
<p><img src="https://images2.imgbox.com/fa/17/S1VU4d0D_o.png" alt="image-20231101143021765"></p> 
<p>修改隧道信息，将保留成功的二级子域名配置到隧道中</p> 
<ul><li>域名类型：选择二级子域名</li><li>Sub Domain：填写保留成功的二级子域名</li></ul> 
<p>点击<code>更新</code>(注意，点击一次更新即可，不需要重复提交)</p> 
<p><img src="https://images2.imgbox.com/0f/ab/lwcByieh_o.png" alt="image-20231101143416746"></p> 
<p>更新完成后，打开在线隧道列表，此时可以看到公网地址已经发生变化，地址名称也变成了固定的二级子域名名称的域名</p> 
<p><img src="https://images2.imgbox.com/7f/31/QZ1EnzBE_o.png" alt="image-20231101143607814"></p> 
<p>最后，我们使用固定的公网地址访问，可以看到访问成功，这样一个固定且永久不变的公网地址就设置好了，随时随地都可以公网远程访问APITable开源多维表格及数据库分析！</p> 
<p><img src="https://images2.imgbox.com/ce/91/pJlO4Mhj_o.png" alt="image-20231101144418868"></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/1a5393f3a31fa3957a130178c8a8977a/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">算法进阶——求二叉树的层序遍历</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/6d5e59816eecb56f22995c88e7a596d8/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Ubuntu 22.04 安装ftp实现与windows文件互传</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>