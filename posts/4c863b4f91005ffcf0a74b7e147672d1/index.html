<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>è¿˜åœ¨ç”¨ System.currentTimeMillis() ç»Ÿè®¡ä»£ç è€—æ—¶ï¼Ÿå¤ª Low å•¦ - ITå­¦ä¹ è€…åšå®¢</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="è¿˜åœ¨ç”¨ System.currentTimeMillis() ç»Ÿè®¡ä»£ç è€—æ—¶ï¼Ÿå¤ª Low å•¦" />
<meta property="og:description" content="1ã€èƒŒæ™¯ æœ‰æ—¶æˆ‘ä»¬åœ¨åšå¼€å‘çš„æ—¶å€™éœ€è¦è®°å½•æ¯ä¸ªä»»åŠ¡æ‰§è¡Œæ—¶é—´ï¼Œæˆ–è€…è®°å½•ä¸€æ®µä»£ç æ‰§è¡Œæ—¶é—´ï¼Œæœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯æ‰“å°å½“å‰æ—¶é—´ä¸æ‰§è¡Œå®Œæ—¶é—´çš„å·®å€¼ï¼Œç„¶åè¿™æ ·å¦‚æœæ‰§è¡Œå¤§é‡æµ‹è¯•çš„è¯å°±å¾ˆéº»çƒ¦ï¼Œå¹¶ä¸”ä¸ç›´è§‚ï¼Œå¦‚æœæƒ³å¯¹æ‰§è¡Œçš„æ—¶é—´åšè¿›ä¸€æ­¥æ§åˆ¶ï¼Œåˆ™éœ€è¦åœ¨ç¨‹åºä¸­å¾ˆå¤šåœ°æ–¹ä¿®æ”¹ï¼Œç›®å‰spring-frameworkæä¾›äº†ä¸€ä¸ªStopWatchç±»å¯ä»¥åšç±»ä¼¼ä»»åŠ¡æ‰§è¡Œæ—¶é—´æ§åˆ¶ï¼Œä¹Ÿå°±æ˜¯å°è£…äº†ä¸€ä¸ªå¯¹å¼€å§‹æ—¶é—´ï¼Œç»“æŸæ—¶é—´è®°å½•å·¥å…·
2ã€ç¤ºä¾‹ æˆ‘ä»¬æ¥çœ‹å‡ ä¸ªç¤ºä¾‹
ç»Ÿè®¡è¾“å‡ºæ€»è€—æ—¶
import org.springframework.util.StopWatch; public class SpringStopWatchExample { public static void main (String[] args) throws InterruptedException { StopWatch sw = new StopWatch(); sw.start(); //long task simulation Thread.sleep(1000); sw.stop(); System.out.println(sw.getTotalTimeMillis()); } } è¾“å‡º
1013 è¾“å‡ºæœ€åä¸€ä¸ªä»»åŠ¡çš„è€—æ—¶
public class SpringStopWatchExample2 { public static void main (String[] args) throws InterruptedException { StopWatch sw = new StopWatch(); sw.start(&#34;A&#34;);//setting a task name //long task simulation Thread.sleep(1000); sw.stop(); System.out.println(sw.getLastTaskTimeMillis()); } } è¾“å‡º
1009 ä»¥ä¼˜é›…çš„æ ¼å¼æ‰“å‡ºæ‰€æœ‰ä»»åŠ¡çš„è€—æ—¶ä»¥åŠå æ¯”" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/4c863b4f91005ffcf0a74b7e147672d1/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-05T18:09:50+08:00" />
<meta property="article:modified_time" content="2024-01-05T18:09:50+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ITå­¦ä¹ è€…åšå®¢" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ITå­¦ä¹ è€…åšå®¢</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">è¿˜åœ¨ç”¨ System.currentTimeMillis() ç»Ÿè®¡ä»£ç è€—æ—¶ï¼Ÿå¤ª Low å•¦</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="1_0"></a>1ã€èƒŒæ™¯</h3> 
<p>æœ‰æ—¶æˆ‘ä»¬åœ¨åšå¼€å‘çš„æ—¶å€™éœ€è¦è®°å½•æ¯ä¸ªä»»åŠ¡æ‰§è¡Œæ—¶é—´ï¼Œæˆ–è€…è®°å½•ä¸€æ®µä»£ç æ‰§è¡Œæ—¶é—´ï¼Œæœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯æ‰“å°å½“å‰æ—¶é—´ä¸æ‰§è¡Œå®Œæ—¶é—´çš„å·®å€¼ï¼Œç„¶åè¿™æ ·å¦‚æœæ‰§è¡Œå¤§é‡æµ‹è¯•çš„è¯å°±å¾ˆéº»çƒ¦ï¼Œå¹¶ä¸”ä¸ç›´è§‚ï¼Œå¦‚æœæƒ³å¯¹æ‰§è¡Œçš„æ—¶é—´åšè¿›ä¸€æ­¥æ§åˆ¶ï¼Œåˆ™éœ€è¦åœ¨ç¨‹åºä¸­å¾ˆå¤šåœ°æ–¹ä¿®æ”¹ï¼Œç›®å‰spring-frameworkæä¾›äº†ä¸€ä¸ªStopWatchç±»å¯ä»¥åšç±»ä¼¼ä»»åŠ¡æ‰§è¡Œæ—¶é—´æ§åˆ¶ï¼Œä¹Ÿå°±æ˜¯å°è£…äº†ä¸€ä¸ªå¯¹å¼€å§‹æ—¶é—´ï¼Œç»“æŸæ—¶é—´è®°å½•å·¥å…·</p> 
<h3><a id="2_3"></a>2ã€ç¤ºä¾‹</h3> 
<p>æˆ‘ä»¬æ¥çœ‹å‡ ä¸ªç¤ºä¾‹</p> 
<p><strong>ç»Ÿè®¡è¾“å‡ºæ€»è€—æ—¶</strong></p> 
<pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">StopWatch</span></span><span class="token punctuation">;</span>
 
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SpringStopWatchExample</span> <span class="token punctuation">{<!-- --></span>
 
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> main <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">InterruptedException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">StopWatch</span> sw <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StopWatch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        sw<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//long task simulation</span>
        <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        sw<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>sw<span class="token punctuation">.</span><span class="token function">getTotalTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>è¾“å‡º</p> 
<pre><code class="prism language-java"><span class="token number">1013</span>
</code></pre> 
<p><strong>è¾“å‡ºæœ€åä¸€ä¸ªä»»åŠ¡çš„è€—æ—¶</strong></p> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SpringStopWatchExample2</span> <span class="token punctuation">{<!-- --></span>
 
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> main <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">InterruptedException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">StopWatch</span> sw <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StopWatch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        sw<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token string">"A"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//setting a task name</span>
        <span class="token comment">//long task simulation</span>
        <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        sw<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>sw<span class="token punctuation">.</span><span class="token function">getLastTaskTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>è¾“å‡º</p> 
<pre><code class="prism language-java"><span class="token number">1009</span>
</code></pre> 
<p><strong>ä»¥ä¼˜é›…çš„æ ¼å¼æ‰“å‡ºæ‰€æœ‰ä»»åŠ¡çš„è€—æ—¶ä»¥åŠå æ¯”</strong></p> 
<pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">StopWatch</span></span><span class="token punctuation">;</span>
 
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SpringStopWatchExample3</span> <span class="token punctuation">{<!-- --></span>
 
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> main <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">InterruptedException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">StopWatch</span> sw <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StopWatch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        sw<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token string">"A"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        sw<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        sw<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token string">"B"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        sw<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        sw<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token string">"C"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        sw<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>sw<span class="token punctuation">.</span><span class="token function">prettyPrint</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>è¾“å‡º</p> 
<pre><code class="prism language-java"><span class="token class-name">StopWatch</span> ''<span class="token operator">:</span> running time <span class="token punctuation">(</span>millis<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">1031</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
ms     <span class="token operator">%</span>     <span class="token class-name">Task</span> name
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
<span class="token number">00514</span>  <span class="token number">050</span><span class="token operator">%</span>  <span class="token class-name">A</span>
<span class="token number">00302</span>  <span class="token number">029</span><span class="token operator">%</span>  <span class="token class-name">B</span>
<span class="token number">00215</span>  <span class="token number">021</span><span class="token operator">%</span>  <span class="token class-name">C</span>
</code></pre> 
<p><strong>åºåˆ—æœåŠ¡è¾“å‡ºè€—æ—¶ä¿¡æ¯</strong></p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token keyword">long</span> <span class="token function">nextSeq</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token class-name">StopWatch</span> watch <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StopWatch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    watch<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token string">"å•åºåˆ—è·å–æ€»æ¶ˆè€—"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">long</span> sequence <span class="token operator">=</span> generator<span class="token punctuation">.</span><span class="token function">generateId</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    watch<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>watch<span class="token punctuation">.</span><span class="token function">prettyPrint</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> sequence<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="3_100"></a>3ã€æ›´å¤šç”¨æ³•</h3> 
<p><strong>ä¸åŒçš„æ‰“å°ç»“æœ</strong></p> 
<ol><li>getTotalTimeSeconds() è·å–æ€»è€—æ—¶ç§’ï¼ŒåŒæ—¶ä¹Ÿæœ‰è·å–æ¯«ç§’çš„æ–¹æ³•</li><li>prettyPrint() ä¼˜é›…çš„æ ¼å¼æ‰“å°ç»“æœï¼Œè¡¨æ ¼å½¢å¼</li><li>shortSummary() è¿”å›ç®€çŸ­çš„æ€»è€—æ—¶æè¿°</li><li>getTaskCount() è¿”å›ç»Ÿè®¡æ—¶é—´ä»»åŠ¡çš„æ•°é‡</li><li>getLastTaskInfo().getTaskName() è¿”å›æœ€åä¸€ä¸ªä»»åŠ¡TaskInfoå¯¹è±¡çš„åç§°</li></ol> 
<h3><a id="4_109"></a>4ã€æ€»ç»“</h3> 
<p>ä»¥åæˆ‘ä»¬ç»Ÿè®¡ä»£ç æ‰§è¡Œæ•ˆç‡å»ºè®®å¤§å®¶éƒ½ä½¿ç”¨è¿™ä¸ªå·¥å…·æ¥è¿›è¡Œè¾“å‡ºï¼Œä¸éœ€è¦åœ¨starttimeã€endtimeå†ç›¸å‡è®¡ç®—ï¼Œç”¨ä¼˜é›…çš„æ–¹å¼æ¥å®Œæˆè¿™ä»¶äº‹æƒ…ã€‚</p> 
<blockquote> 
 <center> 
  <font color="#0099ff"> å¥½äº†åˆ°è¿™æˆ‘ä»¬çš„æ•™ç¨‹ä¹Ÿç»“æŸäº†ğŸ˜‰ </font> 
  <br> 
  <b> <font color="#0099ff" size="4">å¸Œæœ›ä»¥ä¸Šæ–¹æ³•å¯ä»¥å¸®åˆ°æ‚¨ï¼Œç¥æ‚¨å·¥ä½œæ„‰å¿«ï¼ğŸ’–</font><br><br> <b><font size="5">ğŸ‘‡</font></b><br> <font color="#F77567">å¯¹æ‚¨æœ‰å¸®åŠ©çš„è¯è®°ç‚¹èµå¾—æ”¶è—å“¦ï¼ğŸ‘</font></b> 
  <br> 
  <b><font color="#0099ff" size="4">æˆ‘æ˜¯ <font color="#F77567">æ²ç¦¹ </font> ä¸€ä¸ªåœ¨äº’è”ç½‘æ‘¸çˆ¬æ»šæ‰“çš„å·¥å…·äºº ğŸ˜›</font></b> 
 </center> 
</blockquote>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e069e16f23747fe0538362c165e89080/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">AOPï¼ˆé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼‰çš„åŸºæœ¬æ¦‚å¿µå’ŒåŸç†</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/effe7d9cafbf84112f370e2f3d72ed59/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">MySQLä¸­FLUSH TABLESå‘½ä»¤è¯­æ³•</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ITå­¦ä¹ è€…åšå®¢.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>