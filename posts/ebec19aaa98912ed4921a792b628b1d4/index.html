<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>C&#43;17 新特性 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="C&#43;17 新特性" />
<meta property="og:description" content="#include &lt;any&gt; #include &lt;iostream&gt; #include &lt;string&gt; #include &lt;vector&gt; #include &lt;algorithm&gt; using namespace std; struct Point { int x; int y; }; Point func() { return {1, 2}; } template &lt;typename ... Ts&gt; auto sum(Ts ... ts) { return (ts &#43; ...); } int main() { // c&#43;&#43;17 类型自动推导 vector a = {1, 2, 3}; // 结构化绑定, pair, array, struct pair b(1, 2.3f); auto&amp;&amp; [i, j] = b; i = 2; cout &lt;&lt; b." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/ebec19aaa98912ed4921a792b628b1d4/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-05-25T22:03:10+08:00" />
<meta property="article:modified_time" content="2022-05-25T22:03:10+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">C&#43;17 新特性</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <pre><code>#include &lt;any&gt;
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;

 using namespace std;

 struct Point {
     int x;
     int y;
 };

 Point func() {
     return {1, 2};
 }

 template &lt;typename ... Ts&gt;
 auto sum(Ts ... ts) {
     return (ts + ...);
 }

 int main()
 {
     // c++17 类型自动推导
     vector a = {1, 2, 3};


     // 结构化绑定, pair, array, struct
     pair b(1, 2.3f);
     auto&amp;&amp; [i, j] = b;
     i = 2;
     cout &lt;&lt; b.first &lt;&lt; endl; // 2

     int array[3] = {1, 2, 3};
     const auto&amp; [x, y, z] = array;
     cout &lt;&lt; x &lt;&lt; " " &lt;&lt; y &lt;&lt; " " &lt;&lt; z &lt;&lt; endl;  // 1, 2, 3

     const auto&amp; [m, n] = func();
     cout &lt;&lt; m &lt;&lt; " " &lt;&lt; n &lt;&lt; std::endl;  // 1, 2


     // if-switch语句初始化
     // if (init; condition)
//     int a = GetValue();
//     if (a &lt; 101) {
//         cout &lt;&lt; a;
//     }
     if (int a = 100; a &lt; 101) {
         cout &lt;&lt; a &lt;&lt; std::endl;  // 100
     }

     string str = "Hi World";
     if (auto [pos, _] = pair(str.find("Hi"), str.size()); pos != string::npos) {
         std::cout &lt;&lt; pos &lt;&lt; std::endl;  // 0
     }


     // 折叠表达式
     any any_varibale {sum(1, 2, 3, 4, 5)};
     cout &lt;&lt; any_varibale.type().name() &lt;&lt; " " &lt;&lt; std::any_cast&lt;int&gt;(any_varibale) &lt;&lt; endl;  // 15

     std::string d{"hello "};
     std::string e{"world"};
     cout &lt;&lt; sum(d, e) &lt;&lt; endl;  // hello world


     // std::any
     any_varibale = 1;
     cout &lt;&lt; any_varibale.type().name() &lt;&lt; " " &lt;&lt; std::any_cast&lt;int&gt;(any_varibale) &lt;&lt; endl;
     any_varibale = 2.2f;
     cout &lt;&lt; any_varibale.type().name() &lt;&lt; " " &lt;&lt; std::any_cast&lt;float&gt;(any_varibale) &lt;&lt; endl;
     any_varibale = std::string("123");
     cout &lt;&lt; any_varibale.type().name() &lt;&lt; " " &lt;&lt; std::any_cast&lt;std::string&gt;(any_varibale) &lt;&lt; endl;
 }
</code></pre> 
<pre><code>// namespace 嵌套
namespace A {
    namespace B {
        namespace C {
            void func();
        }
    }
}

namespace A::B::C {
    void func();)
}


  // inline variable in Header file "example.h":
 #ifndef EXAMPLE_H
#define EXAMPLE_H
 
#include &lt;atomic&gt;
 
// function included in multiple source files must be inline
inline int sum(int a, int b)
{
    return a + b;
}
 
// variable with external linkage included in multiple source files must be inline
inline std::atomic&lt;int&gt; counter(0);
 
#endif


// as_const可以将左值转成const类型, 比如用于lambda参数


// std::optional

// std::from_chars, std::to_chars
</code></pre> 
<p><a href="https://zhuanlan.zhihu.com/p/165640868" rel="nofollow">C++17新特性</a></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/95710d395fcf9949b76bc0b336c57afd/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">element UI 表格做下滑滚动效果，请求接口数据</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/1bcd241c618a385231ede124b2d7c317/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【rt-thread难点指南】以太网配置</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>