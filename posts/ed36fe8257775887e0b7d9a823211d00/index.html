<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>php数据接收转文件工具 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="php数据接收转文件工具" />
<meta property="og:description" content="本文是php中间件工具,作用是接收数据参数形成文件,文件作用给大家任意发挥. 提醒大家,这个文件需要做web工具访问的,配置也给大家弄好了. &lt;?php error_reporting(0); ini_set(&#39;magic_quotes_gpc&#39;, 0); if(PHP_VERSION &gt; &#39;5.1&#39;) @date_default_timezone_set(&#39;PRC&#39;); $mtime = explode(&#39; &#39;, microtime()); $starttime = $mtime[1] &#43; $mtime[0]; define(&#39;APP_DEBUG&#39;, FALSE); define(&#39;IN_APP&#39;, TRUE); define(&#39;APP_ROOT&#39;, dirname(__FILE__).&#39;/&#39;); define(&#39;APP_DATADIR&#39;, dirname(dirname(__FILE__)).&#39;/data/&#39;); define(&#39;MAGIC_QUOTES_GPC&#39;, ini_get(&#39;magic_quotes_gpc&#39;)); unset($GLOBALS, $_ENV, $HTTP_GET_VARS, $HTTP_POST_VARS, $HTTP_COOKIE_VARS, $HTTP_SERVER_VARS, $HTTP_ENV_VARS); $_GET = daddslashes($_GET, 1, TRUE); $_POST = daddslashes($_POST, 1, TRUE); $_COOKIE = daddslashes($_COOKIE, 1, TRUE); $_SERVER = daddslashes($_SERVER); $_FILES = daddslashes($_FILES); $_REQUEST = daddslashes($_REQUEST, 1, TRUE); $game_id = getgpc(&#39;game_id&#39;); $host_name = getgpc(&#39;host_name&#39;); $time = getgpc(&#39;time&#39;); $file_core = getgpc(&#39;file_core&#39;); //$game_id_int = intval($game_id); $game_id = $game_id == NULL ?" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/ed36fe8257775887e0b7d9a823211d00/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-08-15T10:18:20+08:00" />
<meta property="article:modified_time" content="2023-08-15T10:18:20+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">php数据接收转文件工具</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h4><a id="php_0"></a>本文是php中间件工具,作用是接收数据参数形成文件,文件作用给大家任意发挥.</h4> 
<h4><a id="web_1"></a>提醒大家,这个文件需要做web工具访问的,配置也给大家弄好了.</h4> 
<pre><code class="prism language-javascript"><span class="token operator">&lt;</span><span class="token operator">?</span>php
<span class="token function">error_reporting</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">ini_set</span><span class="token punctuation">(</span><span class="token string">'magic_quotes_gpc'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">PHP_VERSION</span> <span class="token operator">&gt;</span> <span class="token string">'5.1'</span><span class="token punctuation">)</span> @<span class="token function">date_default_timezone_set</span><span class="token punctuation">(</span><span class="token string">'PRC'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

$mtime      <span class="token operator">=</span> <span class="token function">explode</span><span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">,</span> <span class="token function">microtime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
$starttime  <span class="token operator">=</span> $mtime<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> $mtime<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token function">define</span><span class="token punctuation">(</span><span class="token string">'APP_DEBUG'</span><span class="token punctuation">,</span> <span class="token constant">FALSE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">define</span><span class="token punctuation">(</span><span class="token string">'IN_APP'</span><span class="token punctuation">,</span> <span class="token constant">TRUE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">define</span><span class="token punctuation">(</span><span class="token string">'APP_ROOT'</span><span class="token punctuation">,</span> <span class="token function">dirname</span><span class="token punctuation">(</span>__FILE__<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token string">'/'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">define</span><span class="token punctuation">(</span><span class="token string">'APP_DATADIR'</span><span class="token punctuation">,</span> <span class="token function">dirname</span><span class="token punctuation">(</span><span class="token function">dirname</span><span class="token punctuation">(</span>__FILE__<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token string">'/data/'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">define</span><span class="token punctuation">(</span><span class="token string">'MAGIC_QUOTES_GPC'</span><span class="token punctuation">,</span> <span class="token function">ini_get</span><span class="token punctuation">(</span><span class="token string">'magic_quotes_gpc'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">unset</span><span class="token punctuation">(</span>$<span class="token constant">GLOBALS</span><span class="token punctuation">,</span> $_ENV<span class="token punctuation">,</span> $<span class="token constant">HTTP_GET_VARS</span><span class="token punctuation">,</span> $<span class="token constant">HTTP_POST_VARS</span><span class="token punctuation">,</span> $<span class="token constant">HTTP_COOKIE_VARS</span><span class="token punctuation">,</span> $<span class="token constant">HTTP_SERVER_VARS</span><span class="token punctuation">,</span> $<span class="token constant">HTTP_ENV_VARS</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

$_GET           <span class="token operator">=</span> <span class="token function">daddslashes</span><span class="token punctuation">(</span>$_GET<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token constant">TRUE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
$_POST          <span class="token operator">=</span> <span class="token function">daddslashes</span><span class="token punctuation">(</span>$_POST<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token constant">TRUE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
$_COOKIE        <span class="token operator">=</span> <span class="token function">daddslashes</span><span class="token punctuation">(</span>$_COOKIE<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token constant">TRUE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
$_SERVER        <span class="token operator">=</span> <span class="token function">daddslashes</span><span class="token punctuation">(</span>$_SERVER<span class="token punctuation">)</span><span class="token punctuation">;</span>
$_FILES         <span class="token operator">=</span> <span class="token function">daddslashes</span><span class="token punctuation">(</span>$_FILES<span class="token punctuation">)</span><span class="token punctuation">;</span>
$_REQUEST       <span class="token operator">=</span> <span class="token function">daddslashes</span><span class="token punctuation">(</span>$_REQUEST<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token constant">TRUE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

$game_id                <span class="token operator">=</span> <span class="token function">getgpc</span><span class="token punctuation">(</span><span class="token string">'game_id'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
$host_name              <span class="token operator">=</span> <span class="token function">getgpc</span><span class="token punctuation">(</span><span class="token string">'host_name'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
$time                   <span class="token operator">=</span> <span class="token function">getgpc</span><span class="token punctuation">(</span><span class="token string">'time'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
$file_core              <span class="token operator">=</span> <span class="token function">getgpc</span><span class="token punctuation">(</span><span class="token string">'file_core'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//$game_id_int = intval($game_id);</span>

$game_id <span class="token operator">=</span> $game_id <span class="token operator">==</span> <span class="token constant">NULL</span> <span class="token operator">?</span> <span class="token string">''</span> <span class="token operator">:</span> $game_id<span class="token punctuation">;</span>
$host_name <span class="token operator">=</span> $host_name <span class="token operator">==</span> <span class="token constant">NULL</span> <span class="token operator">?</span> <span class="token string">''</span> <span class="token operator">:</span> $host_name<span class="token punctuation">;</span>
$time <span class="token operator">=</span> $time <span class="token operator">==</span> <span class="token constant">NULL</span> <span class="token operator">?</span> <span class="token string">''</span> <span class="token operator">:</span> $time<span class="token punctuation">;</span>
$file_core <span class="token operator">=</span> $file_core <span class="token operator">==</span> <span class="token constant">NULL</span> <span class="token operator">?</span> <span class="token string">''</span> <span class="token operator">:</span> $file_core<span class="token punctuation">;</span>

$log_string <span class="token operator">=</span> <span class="token string">'{'</span><span class="token punctuation">.</span>$game_id <span class="token punctuation">.</span> <span class="token string">' | '</span> <span class="token punctuation">.</span> $host_name <span class="token punctuation">.</span> <span class="token string">' | '</span> <span class="token punctuation">.</span> $time <span class="token punctuation">.</span><span class="token string">' | '</span><span class="token punctuation">.</span>$file_core<span class="token punctuation">.</span><span class="token string">'}, '</span><span class="token punctuation">;</span>
<span class="token function">file_put_contents</span><span class="token punctuation">(</span><span class="token string">"/data/mail/log_file/run_log.txt"</span><span class="token punctuation">,</span> $log_string<span class="token punctuation">.</span><span class="token string">"\n"</span><span class="token punctuation">,</span> <span class="token constant">FILE_APPEND</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
$date_string<span class="token operator">=</span><span class="token function">date</span><span class="token punctuation">(</span><span class="token string">"y_m_d"</span><span class="token punctuation">,</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
$report_file_name<span class="token operator">=</span><span class="token string">'/data/mail/log_file/'</span><span class="token punctuation">.</span>$game_id<span class="token punctuation">.</span><span class="token string">'_alarm.txt'</span><span class="token punctuation">;</span>
<span class="token function">file_put_contents</span><span class="token punctuation">(</span>$report_file_name<span class="token punctuation">,</span> $log_string<span class="token punctuation">.</span><span class="token string">"\n"</span><span class="token punctuation">,</span> <span class="token constant">FILE_APPEND</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
exit<span class="token punctuation">;</span>
$mtime <span class="token operator">=</span> <span class="token function">explode</span><span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">,</span> <span class="token function">microtime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
$endtime <span class="token operator">=</span> $mtime<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> $mtime<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">APP_DEBUG</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token function">getgpc</span><span class="token punctuation">(</span><span class="token string">'inajax'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
        echo <span class="token string">'&lt;script&gt;document.getElementById(\'debug_time\').innerHTML = \''</span><span class="token punctuation">.</span><span class="token function">number_format</span><span class="token punctuation">(</span>$endtime <span class="token operator">-</span> $starttime<span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token string">'\'&lt;/script&gt;'</span><span class="token punctuation">.</span><span class="token string">"\n"</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">daddslashes</span><span class="token punctuation">(</span><span class="token parameter">$string<span class="token punctuation">,</span> $force <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> $strip <span class="token operator">=</span> <span class="token constant">FALSE</span></span><span class="token punctuation">)</span> 
<span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token constant">MAGIC_QUOTES_GPC</span> <span class="token operator">||</span> $force<span class="token punctuation">)</span> 
        <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">is_array</span><span class="token punctuation">(</span>$string<span class="token punctuation">)</span><span class="token punctuation">)</span> 
                <span class="token punctuation">{<!-- --></span>
                        <span class="token function">foreach</span><span class="token punctuation">(</span>$string <span class="token keyword">as</span> <span class="token parameter">$key</span> <span class="token operator">=&gt;</span> $val<span class="token punctuation">)</span> 
                        <span class="token punctuation">{<!-- --></span>
                                $string<span class="token punctuation">[</span>$key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">daddslashes</span><span class="token punctuation">(</span>$val<span class="token punctuation">,</span> $force<span class="token punctuation">,</span> $strip<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token punctuation">}</span>
                <span class="token punctuation">}</span> 
                <span class="token keyword">else</span> 
                <span class="token punctuation">{<!-- --></span>
                        $string <span class="token operator">=</span> <span class="token function">addslashes</span><span class="token punctuation">(</span>$strip <span class="token operator">?</span> <span class="token function">stripslashes</span><span class="token punctuation">(</span>$string<span class="token punctuation">)</span> <span class="token operator">:</span> $string<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> $string<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">getgpc</span><span class="token punctuation">(</span>$k<span class="token punctuation">,</span> $t<span class="token operator">=</span><span class="token string">'R'</span><span class="token punctuation">)</span> 
<span class="token punctuation">{<!-- --></span>
        <span class="token keyword">switch</span><span class="token punctuation">(</span>$t<span class="token punctuation">)</span> 
        <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">case</span> <span class="token string">'P'</span><span class="token operator">:</span> $<span class="token keyword">var</span> <span class="token operator">=</span> <span class="token operator">&amp;</span>$_POST<span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
                <span class="token keyword">case</span> <span class="token string">'G'</span><span class="token operator">:</span> $<span class="token keyword">var</span> <span class="token operator">=</span> <span class="token operator">&amp;</span>$_GET<span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
                <span class="token keyword">case</span> <span class="token string">'C'</span><span class="token operator">:</span> $<span class="token keyword">var</span> <span class="token operator">=</span> <span class="token operator">&amp;</span>$_COOKIE<span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
                <span class="token keyword">case</span> <span class="token string">'R'</span><span class="token operator">:</span> $<span class="token keyword">var</span> <span class="token operator">=</span> <span class="token operator">&amp;</span>$_REQUEST<span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token function">isset</span><span class="token punctuation">(</span>$<span class="token keyword">var</span><span class="token punctuation">[</span>$k<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token punctuation">(</span><span class="token function">is_array</span><span class="token punctuation">(</span>$<span class="token keyword">var</span><span class="token punctuation">[</span>$k<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">?</span> $<span class="token keyword">var</span><span class="token punctuation">[</span>$k<span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token function">trim</span><span class="token punctuation">(</span>$<span class="token keyword">var</span><span class="token punctuation">[</span>$k<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">debuglog</span><span class="token punctuation">(</span>$action<span class="token punctuation">,</span> $extra <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">)</span> 
<span class="token punctuation">{<!-- --></span>
    $time <span class="token operator">=</span> <span class="token function">time</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        $logfile <span class="token operator">=</span> <span class="token constant">APP_DATADIR</span><span class="token punctuation">.</span><span class="token string">'/logs/'</span><span class="token punctuation">.</span>$action<span class="token punctuation">.</span><span class="token string">'.php'</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>@<span class="token function">filesize</span><span class="token punctuation">(</span>$logfile<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">2048000</span><span class="token punctuation">)</span> 
        <span class="token punctuation">{<!-- --></span>
                <span class="token constant">PHP_VERSION</span> <span class="token operator">&lt;</span> <span class="token string">'4.2.0'</span> <span class="token operator">&amp;&amp;</span> <span class="token function">mt_srand</span><span class="token punctuation">(</span><span class="token punctuation">(</span>double<span class="token punctuation">)</span><span class="token function">microtime</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">1000000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                $hash <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
                $chars <span class="token operator">=</span> <span class="token string">'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789abcdefghijklmnopqrstuvwxyz'</span><span class="token punctuation">;</span>
                <span class="token keyword">for</span><span class="token punctuation">(</span>$i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> $i <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">;</span> $i<span class="token operator">++</span><span class="token punctuation">)</span> 
                <span class="token punctuation">{<!-- --></span>
                        $hash <span class="token punctuation">.</span><span class="token operator">=</span> $chars<span class="token punctuation">[</span><span class="token function">mt_rand</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">61</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                @<span class="token function">rename</span><span class="token punctuation">(</span>$logfile<span class="token punctuation">,</span> <span class="token constant">SITE_ROOT</span><span class="token punctuation">.</span><span class="token string">'./logs/'</span><span class="token punctuation">.</span>$action<span class="token punctuation">.</span><span class="token string">'_'</span><span class="token punctuation">.</span>$hash<span class="token punctuation">.</span><span class="token string">'.php'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>$fp <span class="token operator">=</span> @<span class="token function">fopen</span><span class="token punctuation">(</span>$logfile<span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> 
        <span class="token punctuation">{<!-- --></span>
                @<span class="token function">flock</span><span class="token punctuation">(</span>$fp<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                $timestamp<span class="token operator">=</span><span class="token function">date</span><span class="token punctuation">(</span><span class="token string">"y-m-d H:i:s"</span><span class="token punctuation">,</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                @<span class="token function">fwrite</span><span class="token punctuation">(</span>$fp<span class="token punctuation">,</span>$timestamp<span class="token punctuation">.</span><span class="token function">str_replace</span><span class="token punctuation">(</span><span class="token function">array</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token function">var_export</span><span class="token punctuation">(</span>$extra<span class="token punctuation">,</span> <span class="token constant">TRUE</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                @<span class="token function">fclose</span><span class="token punctuation">(</span>$fp<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">?</span><span class="token operator">&gt;</span>
</code></pre> 
<h5><a id="web_108"></a>web配置工具</h5> 
<pre><code class="prism language-javascript">server
<span class="token punctuation">{<!-- --></span>
    listen 端口<span class="token punctuation">;</span>
    root  路径<span class="token punctuation">;</span>
    index <span class="token operator">*</span><span class="token punctuation">.</span>php index<span class="token punctuation">.</span>html index<span class="token punctuation">.</span>htm<span class="token punctuation">;</span>
    
    location <span class="token operator">~</span> <span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">.</span>php$ 
    <span class="token punctuation">{<!-- --></span>
       fastcgi_pass   <span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token operator">:</span><span class="token number">9000</span><span class="token punctuation">;</span>
       fastcgi_param  <span class="token constant">SCRIPT_FILENAME</span> $document_root$fastcgi_script_name<span class="token punctuation">;</span>
       #fastcgi_index  index<span class="token punctuation">.</span>php<span class="token punctuation">;</span>
       fastcgi_read_timeout <span class="token number">300</span><span class="token punctuation">;</span>
       #include        fastcgi<span class="token punctuation">.</span>conf<span class="token punctuation">;</span>
       include        fastcgi_params<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
     
    error_page <span class="token number">404</span> <span class="token operator">/</span>40x<span class="token punctuation">.</span>html<span class="token punctuation">;</span>
    error_page <span class="token number">500</span> <span class="token number">502</span> <span class="token number">503</span> <span class="token number">504</span> <span class="token operator">/</span>50x<span class="token punctuation">.</span>html<span class="token punctuation">;</span>
    location <span class="token operator">=</span> <span class="token operator">/</span>50x<span class="token punctuation">.</span>html 
    <span class="token punctuation">{<!-- --></span>
       root <span class="token operator">/</span>usr<span class="token operator">/</span>share<span class="token operator">/</span>nginx<span class="token operator">/</span>html<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    location <span class="token operator">=</span> <span class="token operator">/</span>40x<span class="token punctuation">.</span>html 
    <span class="token punctuation">{<!-- --></span>
       root <span class="token operator">/</span>usr<span class="token operator">/</span>share<span class="token operator">/</span>nginx<span class="token operator">/</span>html<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    access_log <span class="token operator">...</span><span class="token punctuation">.</span>_access<span class="token punctuation">.</span>log  main<span class="token punctuation">;</span>
    error_log  <span class="token operator">...</span><span class="token punctuation">.</span>_error<span class="token punctuation">.</span>log  error<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/abce72e76c0d35ff3f58d9f8da3aa96a/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">shell端口分配计算代码</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/c54a807ec67059f860edb6ab53900c34/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">python爬虫——爬取天气预报信息</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>