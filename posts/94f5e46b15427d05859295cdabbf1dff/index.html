<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>DataBinding 与 ListView 、RecyclerView 实现数据双向绑定 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="DataBinding 与 ListView 、RecyclerView 实现数据双向绑定" />
<meta property="og:description" content="ListView 布局较简单两个Button 一个ListView
&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt; &lt;LinearLayout xmlns:android=&#34;http://schemas.android.com/apk/res/android&#34; xmlns:tools=&#34;http://schemas.android.com/tools&#34; android:layout_width=&#34;match_parent&#34; android:layout_height=&#34;match_parent&#34; android:orientation=&#34;vertical&#34; &gt; &lt;LinearLayout android:layout_width=&#34;match_parent&#34; android:layout_height=&#34;wrap_content&#34; android:orientation=&#34;horizontal&#34;&gt; &lt;Button android:id=&#34;@&#43;id/btn_add&#34; android:layout_width=&#34;wrap_content&#34; android:layout_height=&#34;wrap_content&#34; android:text=&#34;添加数据&#34; /&gt; &lt;Button android:id=&#34;@&#43;id/btn_update&#34; android:layout_width=&#34;wrap_content&#34; android:layout_height=&#34;wrap_content&#34; android:text=&#34;修改数据&#34; /&gt; &lt;/LinearLayout&gt; &lt;ListView android:id=&#34;@&#43;id/list_view&#34; android:layout_width=&#34;match_parent&#34; android:layout_height=&#34;match_parent&#34;&gt; &lt;/ListView&gt; &lt;/LinearLayout&gt; Student对象
public class Student { public ObservableField&lt;String&gt; name = new ObservableField&lt;&gt;(); public ObservableInt age = new ObservableInt(); public ObservableBoolean isBoy = new ObservableBoolean(); public Student(String name,int age,boolean isBoy){ this.name.set(name); this.age.set(age); this.isBoy.set(isBoy); } } item_student_layout." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/94f5e46b15427d05859295cdabbf1dff/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-01-25T16:08:37+08:00" />
<meta property="article:modified_time" content="2018-01-25T16:08:37+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">DataBinding 与 ListView 、RecyclerView 实现数据双向绑定</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3 id="listview">ListView</h3> 
<p>布局较简单两个Button 一个ListView</p> 
<pre class="prettyprint"><code class=" hljs xml"><span class="hljs-pi">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">LinearLayout
</span>    <span class="hljs-attribute">xmlns:android</span>=<span class="hljs-value">"http://schemas.android.com/apk/res/android"</span>
    <span class="hljs-attribute">xmlns:tools</span>=<span class="hljs-value">"http://schemas.android.com/tools"</span>
    <span class="hljs-attribute">android:layout_width</span>=<span class="hljs-value">"match_parent"</span>
    <span class="hljs-attribute">android:layout_height</span>=<span class="hljs-value">"match_parent"</span>
    <span class="hljs-attribute">android:orientation</span>=<span class="hljs-value">"vertical"</span>
    &gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">LinearLayout
</span>        <span class="hljs-attribute">android:layout_width</span>=<span class="hljs-value">"match_parent"</span>
        <span class="hljs-attribute">android:layout_height</span>=<span class="hljs-value">"wrap_content"</span>
        <span class="hljs-attribute">android:orientation</span>=<span class="hljs-value">"horizontal"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">Button
</span>            <span class="hljs-attribute">android:id</span>=<span class="hljs-value">"@+id/btn_add"</span>
            <span class="hljs-attribute">android:layout_width</span>=<span class="hljs-value">"wrap_content"</span>
            <span class="hljs-attribute">android:layout_height</span>=<span class="hljs-value">"wrap_content"</span>
            <span class="hljs-attribute">android:text</span>=<span class="hljs-value">"添加数据"</span>
            /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">Button
</span>            <span class="hljs-attribute">android:id</span>=<span class="hljs-value">"@+id/btn_update"</span>
            <span class="hljs-attribute">android:layout_width</span>=<span class="hljs-value">"wrap_content"</span>
            <span class="hljs-attribute">android:layout_height</span>=<span class="hljs-value">"wrap_content"</span>
            <span class="hljs-attribute">android:text</span>=<span class="hljs-value">"修改数据"</span>
            /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">LinearLayout</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-title">ListView
</span>        <span class="hljs-attribute">android:id</span>=<span class="hljs-value">"@+id/list_view"</span>
        <span class="hljs-attribute">android:layout_width</span>=<span class="hljs-value">"match_parent"</span>
        <span class="hljs-attribute">android:layout_height</span>=<span class="hljs-value">"match_parent"</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">ListView</span>&gt;</span>

<span class="hljs-tag">&lt;/<span class="hljs-title">LinearLayout</span>&gt;</span></code></pre> 
<p>Student对象</p> 
<pre class="prettyprint"><code class=" hljs cs"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> Student {
    <span class="hljs-keyword">public</span> ObservableField&lt;String&gt; name = <span class="hljs-keyword">new</span> ObservableField&lt;&gt;();
    <span class="hljs-keyword">public</span> ObservableInt age = <span class="hljs-keyword">new</span> ObservableInt();
    <span class="hljs-keyword">public</span> ObservableBoolean isBoy = <span class="hljs-keyword">new</span> ObservableBoolean();
    <span class="hljs-keyword">public</span> <span class="hljs-title">Student</span>(String name,<span class="hljs-keyword">int</span> age,boolean isBoy){
        <span class="hljs-keyword">this</span>.name.<span class="hljs-keyword">set</span>(name);
        <span class="hljs-keyword">this</span>.age.<span class="hljs-keyword">set</span>(age);
        <span class="hljs-keyword">this</span>.isBoy.<span class="hljs-keyword">set</span>(isBoy);
    }
}</code></pre> 
<p>item_student_layout.xml 内容</p> 
<pre class="prettyprint"><code class=" hljs xml"><span class="hljs-pi">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">layout</span> <span class="hljs-attribute">xmlns:android</span>=<span class="hljs-value">"http://schemas.android.com/apk/res/android"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">data</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">variable
</span>            <span class="hljs-attribute">name</span>=<span class="hljs-value">"student"</span>
            <span class="hljs-attribute">type</span>=<span class="hljs-value">"com.example.databinding.Student"</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">data</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">LinearLayout
</span>        <span class="hljs-attribute">android:orientation</span>=<span class="hljs-value">"horizontal"</span>
        <span class="hljs-attribute">android:layout_width</span>=<span class="hljs-value">"match_parent"</span>
        <span class="hljs-attribute">android:layout_height</span>=<span class="hljs-value">"wrap_content"</span>
        <span class="hljs-attribute">android:padding</span>=<span class="hljs-value">"5dp"</span>
        &gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">TextView</span> <span class="hljs-attribute">android:layout_width</span>=<span class="hljs-value">"0dp"</span>
                  <span class="hljs-attribute">android:layout_height</span>=<span class="hljs-value">"wrap_content"</span>
                  <span class="hljs-attribute">android:layout_weight</span>=<span class="hljs-value">"1"</span>
                  <span class="hljs-attribute">android:textColor</span>=<span class="hljs-value">"@color/colorBlack"</span>
                  <span class="hljs-attribute">android:text</span>=<span class="hljs-value">"@{student.name}"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">TextView</span> <span class="hljs-attribute">android:layout_width</span>=<span class="hljs-value">"0dp"</span>
                  <span class="hljs-attribute">android:layout_weight</span>=<span class="hljs-value">"1"</span>
                  <span class="hljs-attribute">android:layout_height</span>=<span class="hljs-value">"wrap_content"</span>
                  <span class="hljs-attribute">android:textColor</span>=<span class="hljs-value">"@color/colorBlack"</span>
                  <span class="hljs-attribute">android:text</span>=<span class="hljs-value">'@{"" +student.age}'</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">TextView</span> <span class="hljs-attribute">android:layout_width</span>=<span class="hljs-value">"0dp"</span>
                  <span class="hljs-attribute">android:layout_weight</span>=<span class="hljs-value">"1"</span>
                  <span class="hljs-attribute">android:layout_height</span>=<span class="hljs-value">"wrap_content"</span>
                  <span class="hljs-attribute">android:textColor</span>=<span class="hljs-value">"@color/colorBlack"</span>
                  <span class="hljs-attribute">android:text</span>=<span class="hljs-value">'@{student.isBoy?"男":"女"}'</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">LinearLayout</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">layout</span>&gt;</span></code></pre> 
<p>StudentAdapter </p> 
<pre class="prettyprint"><code class=" hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">StudentAdapter</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">BaseAdapter</span> {<!-- --></span>
    <span class="hljs-keyword">private</span> List&lt;Student&gt; studentList;
    <span class="hljs-keyword">private</span> Context context;
    <span class="hljs-keyword">public</span> <span class="hljs-title">StudentAdapter</span>(Context context, List&lt;Student&gt; studentList) {
        <span class="hljs-keyword">this</span>.studentList = studentList ;
        <span class="hljs-keyword">this</span>.context = context ;
    }

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getCount</span>() {
        <span class="hljs-keyword">return</span> studentList.size();
    }

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> Student <span class="hljs-title">getItem</span>(<span class="hljs-keyword">int</span> position) {
        <span class="hljs-keyword">return</span> studentList.get(position);
    }

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">long</span> <span class="hljs-title">getItemId</span>(<span class="hljs-keyword">int</span> position) {
        <span class="hljs-keyword">return</span> position;
    }

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> View <span class="hljs-title">getView</span>(<span class="hljs-keyword">int</span> position, View convertView, ViewGroup parent) {
        ItemStudentLayoutBinding itemStudentLayoutBinding = <span class="hljs-keyword">null</span>;
        <span class="hljs-keyword">if</span> (convertView == <span class="hljs-keyword">null</span>){
            itemStudentLayoutBinding = DataBindingUtil.inflate(LayoutInflater.from(context),R.layout.item_student_layout,parent,<span class="hljs-keyword">false</span>);
            convertView = itemStudentLayoutBinding.getRoot();
        }<span class="hljs-keyword">else</span> {
            itemStudentLayoutBinding = DataBindingUtil.getBinding(convertView);
        }
        itemStudentLayoutBinding.setStudent(studentList.get(position));

        <span class="hljs-keyword">return</span> itemStudentLayoutBinding.getRoot();
    }
}</code></pre> 
<p>Adapter中加载布局，官方文档给的很明确 <br> <img src="https://images2.imgbox.com/c5/0d/X521D5Mr_o.png" alt="adapter.png" title=""></p> 
<p>Avtivity中代码</p> 
<pre class="prettyprint"><code class=" hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ListViewActivity</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AppCompatActivity</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">View</span>.<span class="hljs-title">OnClickListener</span> {<!-- --></span>

    <span class="hljs-keyword">private</span> ListView mListView;
    <span class="hljs-keyword">private</span> List&lt;Student&gt; mStudentList;
    <span class="hljs-keyword">private</span> StudentAdapter mStudentAdapter;
    <span class="hljs-keyword">private</span> Button mAddButton;
    <span class="hljs-keyword">private</span> Button mUpdateButton;

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onCreate</span>(Bundle savedInstanceState) {
        <span class="hljs-keyword">super</span>.onCreate(savedInstanceState);
        setContentView(R.layout.activity_list_view);

        mListView = (ListView) findViewById(R.id.list_view);
        mAddButton = (Button) findViewById(R.id.btn_add);
        mUpdateButton = (Button) findViewById(R.id.btn_update);

        mAddButton.setOnClickListener(<span class="hljs-keyword">this</span>);
        mUpdateButton.setOnClickListener(<span class="hljs-keyword">this</span>);

        initData();

    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">initData</span>() {
        mStudentList = <span class="hljs-keyword">new</span> ArrayList&lt;&gt;();
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span> ; i &lt; <span class="hljs-number">5</span> ; i++){
            Student student = <span class="hljs-keyword">new</span> Student(<span class="hljs-string">"小老虎"</span>,<span class="hljs-number">18</span>,<span class="hljs-keyword">true</span>);
            mStudentList.add(student);
        }
        mStudentAdapter = <span class="hljs-keyword">new</span> StudentAdapter(getApplicationContext(), mStudentList);
        mListView.setAdapter(mStudentAdapter);
    }

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onClick</span>(View v) {
        <span class="hljs-keyword">switch</span> (v.getId()){
            <span class="hljs-keyword">case</span> R.id.btn_add:
                Student student = <span class="hljs-keyword">new</span> Student(<span class="hljs-string">"青蛙"</span>,<span class="hljs-number">28</span>,<span class="hljs-keyword">false</span>);
                mStudentList.add(student);
                mStudentAdapter.notifyDataSetChanged();
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> R.id.btn_update:
                mStudentList.get(<span class="hljs-number">0</span>).name.set(<span class="hljs-string">"河马呱呱叫"</span>);
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">default</span>:
                <span class="hljs-keyword">break</span>;
        }
    }
}</code></pre> 
<p>初始化数据没什么好说的。 <br> 添加按钮中添加Student对象并刷新ListView <br> 修改按钮中 修改Student集合中的第一个Student对象的名字为 河马呱呱叫 。 <br> 效果如下。 <br> <img src="https://images2.imgbox.com/55/0d/xvaDLLtG_o.gif" alt="list.gif" title=""></p> 
<h3 id="recyclerview">RecyclerView</h3> 
<p>界面不变，只是将ListView布局改为RecyclerView 。当然得依赖design包</p> 
<pre class="prettyprint"><code class=" hljs xml"><span class="hljs-pi">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">LinearLayout
</span>    <span class="hljs-attribute">xmlns:android</span>=<span class="hljs-value">"http://schemas.android.com/apk/res/android"</span>
    <span class="hljs-attribute">xmlns:tools</span>=<span class="hljs-value">"http://schemas.android.com/tools"</span>
    <span class="hljs-attribute">android:layout_width</span>=<span class="hljs-value">"match_parent"</span>
    <span class="hljs-attribute">android:layout_height</span>=<span class="hljs-value">"match_parent"</span>
    <span class="hljs-attribute">android:orientation</span>=<span class="hljs-value">"vertical"</span>
   &gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">LinearLayout
</span>        <span class="hljs-attribute">android:layout_width</span>=<span class="hljs-value">"match_parent"</span>
        <span class="hljs-attribute">android:layout_height</span>=<span class="hljs-value">"wrap_content"</span>
        <span class="hljs-attribute">android:orientation</span>=<span class="hljs-value">"horizontal"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">Button
</span>            <span class="hljs-attribute">android:id</span>=<span class="hljs-value">"@+id/btn_add"</span>
            <span class="hljs-attribute">android:layout_width</span>=<span class="hljs-value">"wrap_content"</span>
            <span class="hljs-attribute">android:layout_height</span>=<span class="hljs-value">"wrap_content"</span>
            <span class="hljs-attribute">android:text</span>=<span class="hljs-value">"添加数据"</span>
            /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">Button
</span>            <span class="hljs-attribute">android:id</span>=<span class="hljs-value">"@+id/btn_update"</span>
            <span class="hljs-attribute">android:layout_width</span>=<span class="hljs-value">"wrap_content"</span>
            <span class="hljs-attribute">android:layout_height</span>=<span class="hljs-value">"wrap_content"</span>
            <span class="hljs-attribute">android:text</span>=<span class="hljs-value">"修改数据"</span>
            /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">LinearLayout</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">android.support.v7.widget.RecyclerView
</span>        <span class="hljs-attribute">android:id</span>=<span class="hljs-value">"@+id/recycler_view"</span>
        <span class="hljs-attribute">android:layout_width</span>=<span class="hljs-value">"match_parent"</span>
        <span class="hljs-attribute">android:layout_height</span>=<span class="hljs-value">"match_parent"</span>&gt;</span>

    <span class="hljs-tag">&lt;/<span class="hljs-title">android.support.v7.widget.RecyclerView</span>&gt;</span>

<span class="hljs-tag">&lt;/<span class="hljs-title">LinearLayout</span>&gt;</span>
</code></pre> 
<p>RecyclerAdapter</p> 
<pre class="prettyprint"><code class=" hljs axapta"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">RecyclerAdapter</span> <span class="hljs-inheritance"><span class="hljs-keyword">extends</span></span> <span class="hljs-title">RecyclerView</span>.<span class="hljs-title">Adapter</span>&lt;<span class="hljs-title">RecyclerAdapter</span>.<span class="hljs-title">ViewHolder</span>&gt; {<!-- --></span>
    <span class="hljs-keyword">private</span> List&lt;Student&gt; studentList;
    <span class="hljs-keyword">private</span> Context context;
    <span class="hljs-keyword">public</span> RecyclerAdapter(Context context,List&lt;Student&gt; studentList) {
        <span class="hljs-keyword">this</span>.studentList = studentList ;
        <span class="hljs-keyword">this</span>.context = context ;
    }

    @Override
    <span class="hljs-keyword">public</span> ViewHolder onCreateViewHolder(ViewGroup parent, <span class="hljs-keyword">int</span> viewType) {
        ItemStudentLayoutBinding binding = DataBindingUtil.inflate(LayoutInflater.from(context), R.layout.item_student_layout, parent, <span class="hljs-keyword">false</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> ViewHolder(binding);
    }

    @Override
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> onBindViewHolder(ViewHolder holder, <span class="hljs-keyword">int</span> position) {
        holder.binding.setStudent(studentList.get(position));
        holder.binding.executePendingBindings();
    }


    @Override
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> getItemCount() {
        <span class="hljs-keyword">return</span> studentList.size();
    }

    <span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ViewHolder</span> <span class="hljs-inheritance"><span class="hljs-keyword">extends</span></span> <span class="hljs-title">RecyclerView</span>.<span class="hljs-title">ViewHolder</span>{<!-- --></span>

        <span class="hljs-keyword">public</span> ItemStudentLayoutBinding binding;

        <span class="hljs-keyword">public</span> ViewHolder(ItemStudentLayoutBinding binding) {
            <span class="hljs-keyword">super</span>(binding.getRoot());
            <span class="hljs-keyword">this</span>.binding = binding;
        }
    }
}</code></pre> 
<p>Activity </p> 
<pre class="prettyprint"><code class=" hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">RecyclerViewActivity</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AppCompatActivity</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">View</span>.<span class="hljs-title">OnClickListener</span> {<!-- --></span>

    <span class="hljs-keyword">private</span> RecyclerView mRecyclerView;
    <span class="hljs-keyword">private</span> Button mAddButton;
    <span class="hljs-keyword">private</span> Button mUpdateButton;
    <span class="hljs-keyword">private</span> RecyclerAdapter mRecyclerAdapter;
    <span class="hljs-keyword">private</span> List&lt;Student&gt; mStudentList;

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onCreate</span>(Bundle savedInstanceState) {
        <span class="hljs-keyword">super</span>.onCreate(savedInstanceState);
        setContentView(R.layout.activity_recycle_view);

        mRecyclerView = (RecyclerView) findViewById(R.id.recycler_view);

        LinearLayoutManager layoutManager = <span class="hljs-keyword">new</span> LinearLayoutManager(getApplicationContext());
        layoutManager.setOrientation(LinearLayoutManager.VERTICAL);
        mRecyclerView.setLayoutManager(layoutManager);

        mAddButton = (Button) findViewById(R.id.btn_add);
        mUpdateButton = (Button) findViewById(R.id.btn_update);
        mAddButton.setOnClickListener(<span class="hljs-keyword">this</span>);
        mUpdateButton.setOnClickListener(<span class="hljs-keyword">this</span>);
        initData();
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">initData</span>() {
        mStudentList = <span class="hljs-keyword">new</span> ArrayList&lt;&gt;();
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span> ; i &lt; <span class="hljs-number">5</span> ; i++){
            Student student = <span class="hljs-keyword">new</span> Student(<span class="hljs-string">"小老虎"</span>,<span class="hljs-number">18</span>,<span class="hljs-keyword">true</span>);
            mStudentList.add(student);
        }
        mRecyclerAdapter = <span class="hljs-keyword">new</span> RecyclerAdapter(getApplicationContext(), mStudentList);

        mRecyclerView.setAdapter(mRecyclerAdapter);
    }

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onClick</span>(View v) {
        <span class="hljs-keyword">switch</span> (v.getId()){
            <span class="hljs-keyword">case</span> R.id.btn_add:
                Student student = <span class="hljs-keyword">new</span> Student(<span class="hljs-string">"青蛙"</span>,<span class="hljs-number">28</span>,<span class="hljs-keyword">false</span>);
                mStudentList.add(student);
                mRecyclerAdapter.notifyDataSetChanged();
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> R.id.btn_update:
                mStudentList.get(<span class="hljs-number">0</span>).name.set(<span class="hljs-string">"河马呱呱叫"</span>);
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">default</span>:
                <span class="hljs-keyword">break</span>;
        }
    }
}</code></pre> 
<p>运行之后和ListView效果一样。只是Adapter中写法不同。 <br> <img src="https://images2.imgbox.com/71/77/zZqOYM2o_o.gif" alt="recycler.gif" title=""></p> 
<p>欢迎关注Android小菜菜公众号 <br> <img src="https://images2.imgbox.com/41/f2/B1BWIyv1_o.jpg" alt="这里写图片描述" title=""></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/fca23c1cf3dd0280177617ede08f59d0/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">L2、L3网络传输</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/2a6c5456c7d556cfc17835cea440da3f/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">selenium总结</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>