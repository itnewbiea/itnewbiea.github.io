<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Linux遇到Aborted (core dumped) - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Linux遇到Aborted (core dumped)" />
<meta property="og:description" content="1、问题描述 或出现：
2、关于Core Dump的分析 2.1 什么是Core Dump Core的意思是内存, Dump的意思是扔出来, 堆出来。在开发（或使用）一个程序时，有时程序莫名其妙的down了, 却没有任何的提示(有时候会提示core dumped)。虽然系统没事，但我们下次仍可能遇到相同的问题。这时候可以查看一下有没有形如core.PID的core文件生成，这个文件便是操作系统把程序down掉时的内存内容扔出来生成的，让我们或是 debugger 做为参考。这个动作就叫作 core dump。core dump又叫核心转储, 当程序运行过程中发生异常, 程序异常退出时, 由操作系统把程序当前的内存状况存储在一个core文件中, 叫core dump。简而言之，进程异常终止，进程用户空间的数据就会被写到磁盘。 2.2 为何有时程序Down了，却没生成 Core文件。 有时候程序down了, 不像编译错误一样会提示到文件一行，而是没有任何信息。一种办法是用gdb的step（linux下调试工具gdb是很强大的调试器）, 一步一步寻找，但要step一个上万行的代码让人难以想象。 我们还有更好的办法，这就是core file。但是core文件却没有生成，这是因为core.PID的core文件的生成跟你当前系统的环境设置有关系，系统默认core文件的大小为0（注意core file size (blocks, -c) 0 这行，这表示的是分配给core文件的长度（单位为字节，一个块的大小要分系统而定了），为0肯定是不得行的，那就修改之）
则需要用ulimit命令查看和修改core文件的大小，使用ulimit -a查看大小，使用 ulimit -c unlimited表示对core文件不做限制 或 使用ulimit -c 1024 对core文件分配1024个字节。
然后再运行程序便成生成core.PID的core文件（core文件生成的位置一般和运行程序的路径相同, 文件名一般为core.进程号）。 2.3 如何使用core文件? 发生core dump之后，使用gdb查看core文件的内容, 以定位文件中引发core dump的行，在在Linux下，查看core文件中的出错堆栈信息有二种方式，使用：gdb -c core.pid program_name或gdb [program_name] [core.pid]可以进入gdb模式：
在进入gdb后输入where并回车，就可以指出是在哪一行被Down掉，在哪个函数内，由谁调用等等。在进入gdb后输入 bt，用bt命令查看backtrace以检查发生程序运行到哪里，来定位core dump的文件-&gt;行。 3、多种示例 3.1 batch_size过大导致的 Aborted(core dumped)
3.2 线程被谋杀， 被谋杀者所在线程会抛出一个异常 Cancellation &amp; C&#43;&#43; Exception" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/d9b60c5092caf03c856c6a00afa6e73e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-01-02T19:49:02+08:00" />
<meta property="article:modified_time" content="2021-01-02T19:49:02+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Linux遇到Aborted (core dumped)</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-dracula">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="1_0"></a>1、问题描述</h3> 
<p><img src="https://images2.imgbox.com/e7/7b/8OrgxDPE_o.png" alt="在这里插入图片描述"><br> 或出现：<br> <img src="https://images2.imgbox.com/69/71/aMzhHwWc_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="2Core_Dump_6"></a>2、关于Core Dump的分析</h3> 
<h4><a id="21_Core_Dump_7"></a>2.1 什么是Core Dump</h4> 
<ul><li>Core的意思是<code>内存</code>, Dump的意思是<code>扔出来, 堆出来</code>。在开发（或使用）一个程序时，有时程序莫名其妙的down了, 却没有任何的提示(有时候会提示core dumped)。虽然系统没事，但我们下次仍可能遇到相同的问题。这时候可以查看一下有没有形如<code>core.PID</code>的core文件生成，这个文件便是操作系统把程序down掉时的内存内容扔出来生成的，让我们或是 debugger 做为参考。这个动作就叫作 core dump。</li><li><code>core dump又叫核心转储, 当程序运行过程中发生异常, 程序异常退出时, 由操作系统把程序当前的内存状况存储在一个core文件中, 叫core dump</code>。简而言之，<code>进程异常终止，进程用户空间的数据就会被写到磁盘</code>。</li></ul> 
<h4><a id="22_Down_Core_12"></a>2.2 为何有时程序Down了，却没生成 Core文件。</h4> 
<ul><li>有时候程序down了, 不像编译错误一样会提示到文件一行，而是没有任何信息。一种办法是用gdb的step（<code>linux下调试工具gdb是很强大的调试器</code>）, 一步一步寻找，但要step一个上万行的代码让人难以想象。 我们还有更好的办法，这就是core file。</li><li>但是core文件却没有生成，这是因为<code>core.PID</code>的core文件的生成跟你当前系统的环境设置有关系，系统默认core文件的大小为0（<code>注意core file size (blocks, -c) 0 这行，这表示的是分配给core文件的长度（单位为字节，一个块的大小要分系统而定了），为0肯定是不得行的，那就修改之</code>）<br> <img src="https://images2.imgbox.com/bb/98/1AtX6vqh_o.png" alt="在这里插入图片描述"></li><li>则需要用ulimit命令查看和修改core文件的大小，使用<code>ulimit -a</code>查看大小，使用 <code>ulimit -c unlimited</code>表示对core文件不做限制 或 使用<code>ulimit -c 1024</code> 对core文件分配1024个字节。<br> <img src="https://images2.imgbox.com/2f/11/nyZcTxcH_o.png" alt="在这里插入图片描述"></li><li>然后再运行程序便成生成<code>core.PID</code>的core文件（<strong>core文件生成的位置一般和运行程序的路径相同, 文件名一般为core.进程号</strong>）。</li></ul> 
<h4><a id="23_core_20"></a>2.3 如何使用core文件?</h4> 
<p>发生core dump之后，使用gdb查看core文件的内容, 以定位文件中引发core dump的行，在在Linux下，查看core文件中的出错堆栈信息有二种方式，使用：<code>gdb -c core.pid program_name</code>或<code>gdb [program_name] [core.pid]</code>可以进入gdb模式：</p> 
<ul><li>在进入gdb后输入<code>where</code>并回车，就可以指出是在哪一行被Down掉，在哪个函数内，由谁调用等等。</li><li>在进入gdb后输入 bt，用bt命令查看backtrace以检查发生程序运行到哪里，来定位core dump的文件-&gt;行。</li></ul> 
<h3><a id="3_25"></a>3、多种示例</h3> 
<h4><a id="31_batch_size_26"></a>3.1 batch_size过大导致的</h4> 
<p><a href="https://blog.csdn.net/handsomeandge/article/details/107252893">Aborted(core dumped)</a></p> 
<h4><a id="32___29"></a>3.2 线程被谋杀， 被谋杀者所在线程会抛出一个异常</h4> 
<p><a href="https://blog.csdn.net/qq_35091353/article/details/112114243">Cancellation &amp; C++ Exception</a></p> 
<h4><a id="33__pure_virtual_method_called_terminate_called_without_an_active_exception_httpsyangfanblogcsdnnetarticledetails104910118_32"></a>3.3 <a href="https://yangfan.blog.csdn.net/article/details/104910118" rel="nofollow">关于 pure virtual method called terminate called without an active exception 解决方案</a></h4> 
<p>对于多线程的程序，这个错误的主要原因是当前对象已经被销毁或者正在被销毁，但是其又在被调用，导致了冲突。</p> 
<h4><a id="34_pure_virtual_method_calledhttpsblogcsdnnetfreedomchengarticledetails42173517_35"></a>3.4 <a href="https://blog.csdn.net/freedomcheng/article/details/42173517">pure virtual method called</a></h4> 
<blockquote> 
 <p>记录一个编写多线程程序时遇到的运行时错误：pure virtual method called</p> 
 <p>起因是写了一个多线程基类，里面有一个纯虚函数run,子类继承了这个run，重点就在纯虚函数上，因为是在基类中构造时创建的线程，线程创建后直接运行run函数，而这时子类尚未构造，所以run函数此时依旧是纯虚函数，就会出现pure virtual method called这个错误而终止运行，感谢http://bbs.csdn.net/topics/340224117这个帖子里的大神们</p> 
</blockquote> 
<p>参考1：<a href="https://blog.csdn.net/hdusunny44/article/details/6053843">什么是Core Dump?</a><br> 参考2：<a href="https://blog.csdn.net/peiyao456/article/details/70045195">Segmentation fault (core dumped)的解决办法</a><br> 参考3：<a href="https://blog.csdn.net/yam_killer/article/details/7970163">关于Segmentation fault (core dumped)几个简单问题</a><br> 参考4：<a href="https://blog.csdn.net/yygydjkthh/article/details/7470671">关于core文件</a><br> 参考5：<a href="https://blog.csdn.net/andylei777/article/details/102506241">ubuntu查看core dumped的详细错误原因</a></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/32a20e02132cae6c8750cf2bb4175eaf/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">无向图</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/9390e020058ed06e816ebbf8a05cca47/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">大一微积分笔记整理_期末来了，请收下这筐学霸笔记！</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>