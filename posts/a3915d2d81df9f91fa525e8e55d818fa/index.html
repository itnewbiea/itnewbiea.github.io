<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>3.Linux文件管理和 I/O 重定向 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="3.Linux文件管理和 I/O 重定向" />
<meta property="og:description" content="Linux文件管理和 I/O 重定向 Linux文件系统目录结构 常见目录说明： /：根目录，一般根目录下只存放目录，在Linux下有且只有一个根目录。所有的东西都是从这里开始。当你在终端里输入“/home”，你其实是在告诉电脑，先从/（根目录）开始，再进入到home目录。
/bin: /usr/bin: 可执行二进制文件的目录，如常用的命令ls、tar、mv、cat等。
/boot：放置linux系统启动时用到的一些文件，如Linux的内核文件：/boot/vmlinuz，系统引导管理器：/boot/grub。
/dev：存放linux系统下的设备文件，访问该目录下某个文件，相当于访问某个设备，常用的是挂载光驱 mount /dev/cdrom /mnt。
/etc：系统配置文件存放的目录，不建议在此目录下存放可执行文件，重要的配置文件有 /etc/inittab、/etc/fstab、/etc/init.d、/etc/X11、/etc/sysconfig、/etc/xinetd.d。
/home：系统默认的用户家目录，新增用户账号时，用户的家目录都存放在此目录下，表示当前用户的家目录，edu 表示用户 edu 的家目录。
/lib: /usr/lib: /usr/local/lib：系统使用的函数库的目录，程序在执行过程中，需要调用一些额外的参数时需要函数库的协助。
/lost&#43;fount：系统异常产生错误时，会将一些遗失的片段放置于此目录下。
/mnt: /media：光盘默认挂载点，通常光盘挂载于 /mnt/cdrom 下，也不一定，可以选择任意位置进行挂载。
/opt：给主机额外安装软件所摆放的目录。
/proc：此目录的数据都在内存中，如系统核心，外部设备，网络状态，由于数据都存放于内存中，所以不占用磁盘空间，比较重要的目录有 /proc/cpuinfo、/proc/interrupts、/proc/dma、/proc/ioports、/proc/net/* 等。
/root：系统管理员root的家目录。
/sbin: /usr/sbin: /usr/local/sbin：放置系统管理员使用的可执行命令，如fdisk、shutdown、mount 等。与 /bin 不同的是，这几个目录是给系统管理员 root使用的命令，一般用户只能&#34;查看&#34;而不能设置和使用。
/tmp：一般用户或正在执行的程序临时存放文件的目录，任何人都可以访问，重要数据不可放置在此目录下。
/srv：服务启动之后需要访问的数据目录，如 www 服务需要访问的网页数据存放在 /srv/www 内。
/usr：应用程序存放目录，/usr/bin 存放应用程序，/usr/share 存放共享数据，/usr/lib 存放不能直接运行的，却是许多程序运行所必需的一些函数库文件。/usr/local: 存放软件升级包。/usr/share/doc: 系统说明文件存放目录。/usr/share/man: 程序说明文件存放目录。
/var：放置系统执行过程中经常变化的文件，如随时更改的日志文件 /var/log，/var/log/message：所有的登录文件存放目录，/var/spool/mail：邮件存放的目录，/var/run:程序或服务启动后，其PID存放在该目录下。
说明：
文件和目录被组织成一个单根倒置树结构文件系统从根目录下开始，用“/”表示根文件系统(rootfs): root filesystem标准Linux文件系统（如: ext4)，文件名称大小写敏感，例如:MAIL, Mail, mail, mAilL以 . 开头的文件为隐藏文件路径分割的 /文件名最长255个字节包括路径在内文件名称最长4095个字节蓝色–&gt; 目录 绿色–&gt;可执行文件 红色–&gt;压缩文件 浅蓝色–&gt;链接文件 灰色–&gt;其它文件每个文件都有两类相关数据：元数据：metdata，即属性，数据：data，即文件内容。 Linux下的文件类型 - 普通文件 d 目录文件directory | 符号1链接文件link b 块设备block c 字符设备character p 管道文件pipe s 套接字文件socket 范例： [root@Centos7 ~]# ls -l /run/ -rw-r--r-- 1 root root 4 Aug 10 13:25 acpid." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/a3915d2d81df9f91fa525e8e55d818fa/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-09-15T11:36:31+08:00" />
<meta property="article:modified_time" content="2022-09-15T11:36:31+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">3.Linux文件管理和 I/O 重定向</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="Linux_IO__0"></a>Linux文件管理和 I/O 重定向</h2> 
<h3><a id="Linux_2"></a>Linux文件系统目录结构</h3> 
<h4><a id="_3"></a>常见目录说明：</h4> 
<p><img src="https://images2.imgbox.com/d5/90/j8Uof0e8_o.png" alt="Linux的目录结构"></p> 
<ul><li> <p>/：根目录，一般根目录下只存放目录，在Linux下有且只有一个根目录。所有的东西都是从这里开始。当你在终端里输入“/home”，你其实是在告诉电脑，先从/（根目录）开始，再进入到home目录。</p> </li><li> <p>/bin: /usr/bin: 可执行二进制文件的目录，如常用的命令ls、tar、mv、cat等。</p> </li><li> <p>/boot：放置linux系统启动时用到的一些文件，如Linux的内核文件：/boot/vmlinuz，系统引导管理器：/boot/grub。</p> </li><li> <p>/dev：存放linux系统下的设备文件，访问该目录下某个文件，相当于访问某个设备，常用的是挂载光驱 mount /dev/cdrom /mnt。</p> </li><li> <p>/etc：系统配置文件存放的目录，不建议在此目录下存放可执行文件，重要的配置文件有 /etc/inittab、/etc/fstab、/etc/init.d、/etc/X11、/etc/sysconfig、/etc/xinetd.d。</p> </li><li> <p>/home：系统默认的用户家目录，新增用户账号时，用户的家目录都存放在此目录下，表示当前用户的家目录，edu 表示用户 edu 的家目录。</p> </li><li> <p>/lib: /usr/lib: /usr/local/lib：系统使用的函数库的目录，程序在执行过程中，需要调用一些额外的参数时需要函数库的协助。</p> </li><li> <p>/lost+fount：系统异常产生错误时，会将一些遗失的片段放置于此目录下。</p> </li><li> <p>/mnt: /media：光盘默认挂载点，通常光盘挂载于 /mnt/cdrom 下，也不一定，可以选择任意位置进行挂载。</p> </li><li> <p>/opt：给主机额外安装软件所摆放的目录。</p> </li><li> <p>/proc：此目录的数据都在内存中，如系统核心，外部设备，网络状态，由于数据都存放于内存中，所以不占用磁盘空间，比较重要的目录有 /proc/cpuinfo、/proc/interrupts、/proc/dma、/proc/ioports、/proc/net/* 等。</p> </li><li> <p>/root：系统管理员root的家目录。</p> </li><li> <p>/sbin: /usr/sbin: /usr/local/sbin：放置系统管理员使用的可执行命令，如fdisk、shutdown、mount 等。与 /bin 不同的是，这几个目录是给系统管理员 root使用的命令，一般用户只能"查看"而不能设置和使用。</p> </li><li> <p>/tmp：一般用户或正在执行的程序临时存放文件的目录，任何人都可以访问，重要数据不可放置在此目录下。</p> </li><li> <p>/srv：服务启动之后需要访问的数据目录，如 www 服务需要访问的网页数据存放在 /srv/www 内。</p> </li><li> <p>/usr：应用程序存放目录，/usr/bin 存放应用程序，/usr/share 存放共享数据，/usr/lib 存放不能直接运行的，却是许多程序运行所必需的一些函数库文件。/usr/local: 存放软件升级包。/usr/share/doc: 系统说明文件存放目录。/usr/share/man: 程序说明文件存放目录。</p> </li><li> <p>/var：放置系统执行过程中经常变化的文件，如随时更改的日志文件 /var/log，/var/log/message：所有的登录文件存放目录，/var/spool/mail：邮件存放的目录，/var/run:程序或服务启动后，其PID存放在该目录下。</p> </li></ul> 
<p><strong>说明：</strong></p> 
<ul><li>文件和目录被组织成一个单根倒置树结构</li><li>文件系统从根目录下开始，用“/”表示</li><li>根文件系统(rootfs): root filesystem</li><li>标准Linux文件系统（如: ext4)，文件名称大小写敏感，例如:MAIL, Mail, mail, mAilL</li><li>以 . 开头的文件为隐藏文件</li><li>路径分割的 /</li><li>文件名最长255个字节</li><li>包括路径在内文件名称最长4095个字节</li><li>蓝色–&gt; 目录 绿色–&gt;可执行文件 红色–&gt;压缩文件 浅蓝色–&gt;链接文件 灰色–&gt;其它文件</li><li>每个文件都有两类相关数据：元数据：metdata，即属性，数据：data，即文件内容。</li></ul> 
<h4><a id="Linux_54"></a>Linux下的文件类型</h4> 
<pre><code class="prism language-HTTP">-  普通文件
d  目录文件directory
|  符号1链接文件link
b  块设备block
c  字符设备character
p  管道文件pipe
s  套接字文件socket
</code></pre> 
<h5><a id="_66"></a><strong>范例：</strong></h5> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>root@Centos7 ~<span class="token punctuation">]</span><span class="token comment"># ls -l /run/</span>
-rw-r--r--  <span class="token number">1</span> root root              <span class="token number">4</span> Aug <span class="token number">10</span> <span class="token number">13</span>:25 acpid.pid
srw-rw-rw-  <span class="token number">1</span> root root              <span class="token number">0</span> Aug <span class="token number">10</span> <span class="token number">13</span>:25 acpid.socket
-rw-r--r--  <span class="token number">1</span> root root              <span class="token number">5</span> Aug <span class="token number">10</span> <span class="token number">13</span>:27 atd.pid
-rw-r--r--  <span class="token number">1</span> root root              <span class="token number">5</span> Aug <span class="token number">10</span> <span class="token number">13</span>:26 crond.pid
----------  <span class="token number">1</span> root root              <span class="token number">0</span> Aug <span class="token number">10</span> <span class="token number">13</span>:25 cron.reboot
drwx------  <span class="token number">2</span> root root             <span class="token number">40</span> Aug <span class="token number">10</span> <span class="token number">13</span>:25 cryptsetup
drwxr-xr-x  <span class="token number">2</span> root root             <span class="token number">60</span> Aug <span class="token number">10</span> <span class="token number">13</span>:25 dbus
-rw-r--r--  <span class="token number">1</span> root root              <span class="token number">4</span> Aug <span class="token number">10</span> <span class="token number">13</span>:25 dhclient-eth0.pid
prw-------  <span class="token number">1</span> root root              <span class="token number">0</span> Aug <span class="token number">10</span> <span class="token number">13</span>:25 dmeventd-client
prw-------  <span class="token number">1</span> root root              <span class="token number">0</span> Aug <span class="token number">10</span> <span class="token number">13</span>:25 dmeventd-server
-rw-------  <span class="token number">1</span> root root              <span class="token number">0</span> Aug <span class="token number">10</span> <span class="token number">17</span>:01 ebtables.lock
drwxr-xr-x  <span class="token number">2</span> root root             <span class="token number">40</span> Aug <span class="token number">10</span> <span class="token number">13</span>:25 faillock
-rw-r--r--  <span class="token number">1</span> root root              <span class="token number">5</span> Aug <span class="token number">10</span> <span class="token number">13</span>:26 lvmetad.pid
drwxr-xr-x  <span class="token number">2</span> root root             <span class="token number">40</span> Aug <span class="token number">10</span> <span class="token number">13</span>:25 <span class="token function">mount</span>
drwxr-xr-x  <span class="token number">2</span> root root             <span class="token number">40</span> Aug <span class="token number">10</span> <span class="token number">13</span>:25 setrans
-rw-r--r--  <span class="token number">1</span> root root              <span class="token number">5</span> Aug <span class="token number">10</span> <span class="token number">13</span>:25 sshd.pid
-rw-r--r--  <span class="token number">1</span> root root              <span class="token number">5</span> Aug <span class="token number">10</span> <span class="token number">13</span>:26 stargate.tencentyun.pid
drwx--x--x  <span class="token number">3</span> root root             <span class="token number">60</span> Aug <span class="token number">10</span> <span class="token number">13</span>:25 <span class="token function">sudo</span>
-rw-------  <span class="token number">1</span> root root              <span class="token number">4</span> Aug <span class="token number">10</span> <span class="token number">13</span>:26 syslogd.pid
drwxr-xr-x <span class="token number">17</span> root root            <span class="token number">440</span> Aug <span class="token number">10</span> <span class="token number">17</span>:01 systemd
-rw-r--r--  <span class="token number">1</span> root root              <span class="token number">4</span> Aug <span class="token number">10</span> <span class="token number">13</span>:25 tat_agent.pid
drwxr-xr-x  <span class="token number">2</span> root root             <span class="token number">60</span> Aug <span class="token number">10</span> <span class="token number">13</span>:25 tmpfiles.d
drwxr-xr-x  <span class="token number">3</span> root root             <span class="token number">60</span> Sep  <span class="token number">7</span> <span class="token number">20</span>:50 user
-rw-rw-r--  <span class="token number">1</span> root utmp           <span class="token number">2304</span> Sep <span class="token number">14</span> <span class="token number">21</span>:07 utmp
-rw-------  <span class="token number">1</span> root root              <span class="token number">0</span> Aug <span class="token number">10</span> <span class="token number">13</span>:26 xtables.lock
drwxr-xr-x  <span class="token number">3</span> root root             <span class="token number">60</span> Aug <span class="token number">10</span> <span class="token number">13</span>:26 ydeyes
-rw-r--r--  <span class="token number">1</span> root root              <span class="token number">0</span> Aug <span class="token number">10</span> <span class="token number">13</span>:25 YDLive.pid
-rw-r--r--  <span class="token number">1</span> root root              <span class="token number">4</span> Aug <span class="token number">10</span> <span class="token number">13</span>:26 YDService.pid
</code></pre> 
<h3><a id="_100"></a>文件操作命令</h3> 
<h4><a id="_102"></a>显示当前工作目录</h4> 
<p>每个shell和系统进程都有一个当前的工作目录 CWD：current work directory</p> 
<p>显示当前shell CWD的绝对路径</p> 
<p>pwd命令：printing working directory</p> 
<ul><li>-P 显示真实物理路径</li><li>-L 显示链接路径（默认）</li></ul> 
<p><strong>范例：</strong></p> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>root@Centos7 ~<span class="token punctuation">]</span><span class="token comment"># cd /opt/</span>
<span class="token punctuation">[</span>root@Centos7 opt<span class="token punctuation">]</span><span class="token comment"># pwd</span>
/opt
<span class="token punctuation">[</span>root@Centos7 opt<span class="token punctuation">]</span><span class="token comment"># pwd -P</span>
/opt
<span class="token punctuation">[</span>root@Centos7 opt<span class="token punctuation">]</span><span class="token comment"># cd /bin/</span>
<span class="token punctuation">[</span>root@Centos7 bin<span class="token punctuation">]</span><span class="token comment"># pwd</span>
/bin
<span class="token punctuation">[</span>root@Centos7 bin<span class="token punctuation">]</span><span class="token comment"># pwd -P</span>
/usr/bin
<span class="token punctuation">[</span>root@Centos7 bin<span class="token punctuation">]</span><span class="token comment"># </span>
</code></pre> 
<h4><a id="_129"></a>绝对和相对路径</h4> 
<ul><li> <p>绝对路径</p> <p>以正斜杠 / 即根目录开始</p> <p>完整的文件的位置路径</p> <p>可用于任何想指定一个文件名的时候</p> </li><li> <p>相对路径</p> <p>不以任何斜杠开始</p> <p>一般情况下，是指相对于当前工作目录的路径，特殊场景下，是相于某目录的位置可以作为一个简短的形式指定一个文件名</p> </li></ul> 
<p>基名：</p> 
<h4><a id="_198"></a>用户目录</h4> 
<p>位于/home/user,称之为用户的工作目录或家目录。表示方式：</p> 
<pre><code class="prism language-bash">/home/user
~
</code></pre> 
<p>从 / 目录开始描述的路径为<strong>绝对路径</strong>，如：</p> 
<pre><code class="prism language-bash"><span class="token builtin class-name">cd</span> /home
<span class="token function">ls</span> /usr
</code></pre> 
<p>从当前位置开始描述的路径为<strong>相对路径</strong>，如：</p> 
<pre><code class="prism language-bash"><span class="token builtin class-name">cd</span> <span class="token punctuation">..</span>/<span class="token punctuation">..</span>/
<span class="token function">ls</span> abc/def
</code></pre> 
<p>每个目录下都有**.和…**</p> 
<p>. 表示当前目录</p> 
<p>… 表示上一级目录，即父目录</p> 
<p>根目录下的.和…都表示当前目录</p> 
<table><thead><tr><th align="center"><strong>文件的颜色</strong></th><th align="center">含义</th></tr></thead><tbody><tr><td align="center">蓝色</td><td align="center">目录</td></tr><tr><td align="center">绿色</td><td align="center">可执行文件</td></tr><tr><td align="center">红色</td><td align="center">压缩文件</td></tr><tr><td align="center">浅蓝色</td><td align="center">链接文件</td></tr><tr><td align="center">灰色</td><td align="center">其他文件</td></tr></tbody></table> 
<h4><a id="_237"></a>软硬链接</h4> 
<h5><a id="hard_239"></a>硬链接（hard）</h5> 
<p>硬链接本质是给一个文件起个新名称，实质是同一个文件。</p> 
<p>硬链接特性</p> 
<ul><li>创建硬链接会对对应的目录中增加额外的记录项以引用文件</li><li>对应于同一个文件系统上一个物理文件</li><li>每个目录引用相同的inode号</li><li>创建时链接数递增</li><li>删除文件时：rm命令递减计数的链接，文件要存在，至少有一个链接数，当链接数为零时，该文件被删除</li><li>不能跨驱动器或分区</li><li>不支持对目录创建硬链接</li></ul> 
<p>格式：</p> 
<pre><code class="prism language-bash"><span class="token function">ln</span> filename <span class="token punctuation">[</span>linkname<span class="token punctuation">]</span>
</code></pre> 
<h5><a id="_259"></a>软链接</h5> 
<p>一个符号链接指向另一个文件，就像windows中快捷方式，软链接文件和原文件本质上不是同一个文件软链接特点。</p> 
<ul><li>一个符号链接的内容是它引用文件的名称</li><li>可以对目录创建软链接</li><li>可以跨分区的文件实现</li><li>指向的是另一个文件的路径;其大小为指向的路径字符串的长度;不增加或减少目标文件inode的引用计数</li><li>在创建软链接时,如果源文件使用相对路径，是相对于软链接文件的路径，而非相对于当前工作目录,但是软链接的路径如果是相对路径,则是相对于当前工作目录</li></ul> 
<p>格式：</p> 
<pre><code class="prism language-bash"><span class="token function">ln</span> -s filename <span class="token punctuation">[</span>linkname<span class="token punctuation">]</span>
</code></pre> 
<p>范例：</p> 
<pre><code class="prism language-shell"><span class="token comment"># 绝对路径</span>
<span class="token function">ln</span> -s /date/dir /data/dirlink
<span class="token comment"># 相对路径</span>
<span class="token builtin class-name">cd</span> /data
<span class="token function">ln</span> -s <span class="token punctuation">..</span>/data/dir /root/dirlink
<span class="token function">rm</span> -rf /data/dirlink <span class="token comment">#删除软连接本身不会，删除源目录内容</span>
<span class="token function">rm</span> -rf /data/dirlink <span class="token comment">#删除硬链接目录的文件，不会删除链接文件</span>

<span class="token comment"># 查看链接文件指向的原文件</span>
readlink /data/dirlink
</code></pre> 
<h5><a id="_290"></a>硬链接和软链接的区别</h5> 
<ol><li> <p>本质：</p> <p>硬链接：本质是同一个文件</p> <p>软连接：本质不是同一个文件</p> </li><li> <p>inode</p> <p>硬链接：相同</p> <p>软链接：不相同</p> </li><li> <p>文件夹</p> <p>硬链接：不支持</p> <p>软链接：支持</p> </li><li> <p>相对路径</p> <p>硬链接：原始文件相对路径是相对于当前工作目录</p> <p>软链接：原始文件的相对路径是相对于链接文件的相对路径</p> </li><li> <p>文件类型</p> <p>硬链接：和源文件相同</p> <p>软链接：源文件的路径的长度</p> </li></ol> 
<h4><a id="IO_322"></a>IO重定向和管道</h4> 
<h5><a id="_324"></a>标准输入和输出</h5> 
<p>程序：指令 + 数据</p> 
<p>读入数据：input</p> 
<p>输出数据：Output</p> 
<p>打开的文件都有一个fd：fine descriptor（文件描述符）</p> 
<p>Linux给程序提供三种 I/O 设备</p> 
<ul><li> <p>标准输入（STDIN）：-0 默认接受来自终端窗口的输入</p> </li><li> <p>标准输出（STDOUT）：-1 默认输出到终端窗口</p> </li><li> <p>标准错误（STDERR）： -2 默认输出到终端窗口</p> </li></ul> 
<p>实例：文件描述符</p> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>root@ouou ~<span class="token punctuation">]</span><span class="token comment"># ls /opt/</span>
b  containerd  mellanox  rh
<span class="token punctuation">[</span>root@ouou ~<span class="token punctuation">]</span><span class="token comment"># ls /opt/aaha*</span>
ls: cannot access /opt/aaha*: No such <span class="token function">file</span> or directory
</code></pre> 
<h5><a id="IO_redirect_350"></a>I/O重定向 redirect</h5> 
<p>I/O重定向：将默认的输入，输出或错误对应的设备改变，指向新的目标。</p> 
<h5><a id="_354"></a>标准输出和错误重新定向</h5> 
<p>STDOUT和STDERR可以被重定向到指定文件，而非默认的当前终端。</p> 
<p>格式：</p> 
<pre><code class="prism language-shell">命令 操作符号  文件名
</code></pre> 
<h6><a id="_364"></a>支持的操作符号包括：</h6> 
<pre><code>1&gt; 或 &gt;     把标准输入重定向到文件
2&gt;          把标准输出重定向到文件
&amp;&gt;          把标准输入和输出都重定向
</code></pre> 
<p>以上如果文件已存在，文件内容会被覆盖</p> 
<pre><code class="prism language-bash"><span class="token builtin class-name">set</span> -c 禁止将内容覆盖已有文件，但可追加， 利用 <span class="token operator">&gt;|</span> 仍可强制覆盖。
<span class="token builtin class-name">set</span> +c 允许覆盖，默认。
</code></pre> 
<p><strong>追加</strong></p> 
<pre><code class="prism language-bash"><span class="token operator">&gt;&gt;</span> 可以在原有内容基础上，追加内容
把输出和错误重新定向追加到文件

<span class="token operator">&gt;&gt;</span> 追加标准输出重定向至文件
<span class="token number">2</span> <span class="token operator">&gt;&gt;</span> 追加标准错误重定向至文件
</code></pre> 
<p><strong>标准输出和错误各自定向至不同位置</strong></p> 
<pre><code class="prism language-bash">COMMAND <span class="token operator">&gt;</span> /path/to/file.out <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span> /path/toerror.out
</code></pre> 
<p><strong>合并标准输入和错误输出为同一个数据流进行重定向</strong></p> 
<p>&amp;&gt; 覆盖重定向</p> 
<p>&amp;&gt;&gt; 追加重定向</p> 
<p>COMMAND &gt; /path/to/file.out 2&gt;&amp;1 (顺序很重要)</p> 
<p>COMMAND &gt;&gt; /path/to/file.out 2&amp;1</p> 
<p><strong>合并多个程序</strong></p> 
<p>（CMD1；CMD2…）或者{CMD1;CMD2;…;}合并多个程序的STDOUT</p> 
<p>范例：</p> 
<pre><code class="prism language-bash"><span class="token function">ls</span> <span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span> /opt/test
</code></pre> 
<p>范例：标准错误重定向</p> 
<pre><code class="prism language-bash"><span class="token function">rm</span> /data/f1.log <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span> /data/all.log
</code></pre> 
<p>范例：清除大文件</p> 
<pre><code class="prism language-bash"><span class="token function">cat</span> /dev/null <span class="token operator">&gt;</span> /data/file.log
<span class="token operator">&gt;</span> /data/file.log
</code></pre> 
<p>范例：分别重定向</p> 
<pre><code class="prism language-bash"><span class="token function">ls</span> /data /xxx <span class="token operator">&gt;</span> stdout.log <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span> stderr.log
</code></pre>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ba5fb7e476f6447bbfbbbb10f383fc49/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">设置走马灯效果滚动条</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/ba5f6d8fb44a03d6cafcb2ebba300d76/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">mysql 分别按月、日、周进行分组查询</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>