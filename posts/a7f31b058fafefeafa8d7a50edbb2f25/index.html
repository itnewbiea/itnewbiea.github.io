<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>centos安装rocketmq - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="centos安装rocketmq" />
<meta property="og:description" content="centos安装rocketmq 1 下载rocketmq二进制包2 解压二进制包3 修改broker.conf4 修改runbroker.sh和runserver.sh的JVM参数5 启动NameServer和Broker6 安装rockermq dashboard(可视化控制台) 1 下载rocketmq二进制包 点击rocketmq二进制包下载地址，下载完成之后通过ftp工具上传到云服务器
2 解压二进制包 unzip rocketmq-all-5.1.0-bin-release.zip 3 修改broker.conf vi rocketmq-all-5.1.0-bin-release/conf/broker.conf # nameServer地址，如果有多个nameServer用分号分割 namesrvAddr=你的ip地址:9876 # 当前broker监听的IP brokerIP1:你的ip地址 esc :wq 保存退出
4 修改runbroker.sh和runserver.sh的JVM参数 vi rocketmq-all-5.1.0-bin-release/bin/runbroker.sh 设置-Xms256m -Xmx256m（根据服务器内存大小设置）
vi rocketmq-all-5.1.0-bin-release/bin/runserver.sh 设置-Xms256m -Xmx256m -Xmn200m（根据服务器内存大小设置）
5 启动NameServer和Broker ！！前提，已安装Java运行环境
如未安装Java环境
yum install -y java-1.8.0-openjdk 进入解压好的文件夹 cd rocketmq-all-5.1.0-bin-release/ 启动NameServer nohup sh bin/mqnamesrv &amp; 如遇到如下图情况
直接输入如下命令
cat nohup.out 查看nohup.out文件，若如下图，则NameServer启动成功
启动broker nohup sh bin/mqbroker -n localhost:9876 --enable-proxy &amp; 6 安装rockermq dashboard(可视化控制台) 点击rockermq dashboard源码下载地址，下载完成之后通过ftp工具上传到云服务器" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/a7f31b058fafefeafa8d7a50edbb2f25/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-03-04T01:45:46+08:00" />
<meta property="article:modified_time" content="2023-03-04T01:45:46+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">centos安装rocketmq</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-github-gist">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>centos安装rocketmq</h4> 
 <ul><li><a href="#1_rocketmq_1" rel="nofollow">1 下载rocketmq二进制包</a></li><li><a href="#2__4" rel="nofollow">2 解压二进制包</a></li><li><a href="#3_brokerconf_9" rel="nofollow">3 修改broker.conf</a></li><li><a href="#4_runbrokershrunservershJVM_23" rel="nofollow">4 修改runbroker.sh和runserver.sh的JVM参数</a></li><li><a href="#5_NameServerBroker_36" rel="nofollow">5 启动NameServer和Broker</a></li><li><a href="#6_rockermq_dashboard_69" rel="nofollow">6 安装rockermq dashboard(可视化控制台)</a></li></ul> 
</div> 
<p></p> 
<h2><a id="1_rocketmq_1"></a>1 下载rocketmq二进制包</h2> 
<p>点击<a href="https://dist.apache.org/repos/dist/release/rocketmq/5.1.0/rocketmq-all-5.1.0-bin-release.zip" rel="nofollow">rocketmq二进制包下载地址</a>，下载完成之后通过ftp工具上传到云服务器<br> <img src="https://images2.imgbox.com/8c/5e/rCde1qSB_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="2__4"></a>2 解压二进制包</h2> 
<pre><code class="prism language-bash"><span class="token function">unzip</span> rocketmq-all-5.1.0-bin-release.zip 
</code></pre> 
<h2><a id="3_brokerconf_9"></a>3 修改broker.conf</h2> 
<pre><code class="prism language-bash"> <span class="token function">vi</span> rocketmq-all-5.1.0-bin-release/conf/broker.conf 
</code></pre> 
<pre><code class="prism language-bash"><span class="token comment"># nameServer地址，如果有多个nameServer用分号分割</span>
<span class="token assign-left variable">namesrvAddr</span><span class="token operator">=</span>你的ip地址:9876
<span class="token comment"># 当前broker监听的IP</span>
brokerIP1:你的ip地址
</code></pre> 
<p><img src="https://images2.imgbox.com/f4/10/XpFWAfCi_o.png" alt="在这里插入图片描述"><br> esc :wq 保存退出</p> 
<h2><a id="4_runbrokershrunservershJVM_23"></a>4 修改runbroker.sh和runserver.sh的JVM参数</h2> 
<pre><code class="prism language-bash"><span class="token function">vi</span> rocketmq-all-5.1.0-bin-release/bin/runbroker.sh
</code></pre> 
<p>设置-Xms256m -Xmx256m（根据服务器内存大小设置）<br> <img src="https://images2.imgbox.com/59/5e/PSfRCk60_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-bash"><span class="token function">vi</span> rocketmq-all-5.1.0-bin-release/bin/runserver.sh
</code></pre> 
<p>设置-Xms256m -Xmx256m -Xmn200m（根据服务器内存大小设置）<br> <img src="https://images2.imgbox.com/3c/a2/ITAqvZ05_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="5_NameServerBroker_36"></a>5 启动NameServer和Broker</h2> 
<p>！！前提，已安装Java运行环境<br> 如未安装Java环境</p> 
<pre><code class="prism language-bash">yum <span class="token function">install</span> <span class="token parameter variable">-y</span> java-1.8.0-openjdk
</code></pre> 
<ol><li>进入解压好的文件夹</li></ol> 
<pre><code class="prism language-bash"><span class="token builtin class-name">cd</span> rocketmq-all-5.1.0-bin-release/
</code></pre> 
<ol start="2"><li>启动NameServer</li></ol> 
<pre><code class="prism language-bash"><span class="token function">nohup</span> <span class="token function">sh</span> bin/mqnamesrv <span class="token operator">&amp;</span>
</code></pre> 
<p>如遇到如下图情况<br> <img src="https://images2.imgbox.com/c4/41/bdqDRAJV_o.png" alt="在这里插入图片描述"><br> 直接输入如下命令</p> 
<pre><code class="prism language-bash"><span class="token function">cat</span> nohup.out
</code></pre> 
<p>查看nohup.out文件，若如下图，则NameServer启动成功<br> <img src="https://images2.imgbox.com/7c/18/pxlSczF4_o.png" alt="在这里插入图片描述"></p> 
<ol start="3"><li>启动broker</li></ol> 
<pre><code class="prism language-bash"><span class="token function">nohup</span> <span class="token function">sh</span> bin/mqbroker <span class="token parameter variable">-n</span> localhost:9876 --enable-proxy <span class="token operator">&amp;</span>
</code></pre> 
<h2><a id="6_rockermq_dashboard_69"></a>6 安装rockermq dashboard(可视化控制台)</h2> 
<p>点击<a href="https://github.com/apache/rocketmq-dashboard/archive/refs/tags/rocketmq-dashboard-1.0.0.tar.gz">rockermq dashboard源码下载地址</a>，下载完成之后通过ftp工具上传到云服务器</p> 
<ol><li>解压</li></ol> 
<pre><code class="prism language-bash"><span class="token function">tar</span> <span class="token parameter variable">-zxvf</span> rocketmq-dashboard-rocketmq-dashboard-1.0.0.tar.gz 
</code></pre> 
<ol start="2"><li>安装maven</li></ol> 
<pre><code class="prism language-bash"><span class="token comment">#配置源</span>
<span class="token function">wget</span> http://repos.fedorapeople.org/repos/dchen/apache-maven/epel-apache-maven.repo <span class="token parameter variable">-O</span> /etc/yum.repos.d/epel-apache-maven.repo
<span class="token comment">#安装</span>
yum <span class="token parameter variable">-y</span> <span class="token function">install</span> apache-maven
<span class="token comment">#查看版本</span>
mvn <span class="token parameter variable">-version</span>
</code></pre> 
<p>配置阿里云镜像</p> 
<pre><code class="prism language-bash"><span class="token function">vi</span> /etc/maven/settings.xml
</code></pre> 
<pre><code class="prism language-bash"><span class="token operator">&lt;</span>mirror<span class="token operator">&gt;</span>
   <span class="token operator">&lt;</span>id<span class="token operator">&gt;</span>alimaven<span class="token operator">&lt;</span>/id<span class="token operator">&gt;</span>
   <span class="token operator">&lt;</span>name<span class="token operator">&gt;</span>aliyun maven<span class="token operator">&lt;</span>/name<span class="token operator">&gt;</span>
   <span class="token operator">&lt;</span>url<span class="token operator">&gt;</span>https://maven.aliyun.com/repository/public<span class="token operator">&lt;</span>/url<span class="token operator">&gt;</span>
   <span class="token operator">&lt;</span>mirrorOf<span class="token operator">&gt;</span>central<span class="token operator">&lt;</span>/mirrorOf<span class="token operator">&gt;</span>
 <span class="token operator">&lt;</span>/mirror<span class="token operator">&gt;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/01/c6/8ZVLfP4L_o.png" alt="在这里插入图片描述"><br> 保存退出</p> 
<ol start="3"><li>切换至源码目录，编译rocketmq-dashboard</li></ol> 
<pre><code class="prism language-bash">mvn clean package <span class="token parameter variable">-Dmaven.test.skip</span><span class="token operator">=</span>true
</code></pre> 
<ol start="4"><li>切换至源码目录，编译rocketmq-dashboard<br> <img src="https://images2.imgbox.com/97/2a/6Xz5Eiqj_o.png" alt="在这里插入图片描述"></li><li>运行rocketmq-dashboard</li></ol> 
<pre><code class="prism language-bash"><span class="token function">nohup</span> <span class="token function">java</span> <span class="token parameter variable">-jar</span> target/rocketmq-dashboard-1.0.0.jar <span class="token parameter variable">--rocketmq.config.namesrvAddr</span><span class="token operator">=</span>localhost:9876 <span class="token parameter variable">--server.port</span><span class="token operator">=</span><span class="token number">9999</span> <span class="token operator">&amp;</span>
</code></pre> 
<p>rocketmq.config.namesrvAddr NameServer地址<br> server.port 端口号</p> 
<p>访问ip:server.port<br> <img src="https://images2.imgbox.com/c0/fa/XG1utWyw_o.png" alt="![在这里插入图片描述](https://img-blog.csdnimg.cn/666e9df5bc3d4904ae75f043eeb965b0.png"><br> over</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/7ad542d1b5d3ca277a5e570a17e990ad/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Zookeeper集群安装与配置</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/0a0558f24fcd6e2059558def59562369/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">sql-labs靶场练习</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>