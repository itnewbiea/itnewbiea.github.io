<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>VUE element UI 结合Spring Boot 的 Spring Data Jpa进行分页查询并且按id字段进行动态正序逆序排序 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="VUE element UI 结合Spring Boot 的 Spring Data Jpa进行分页查询并且按id字段进行动态正序逆序排序" />
<meta property="og:description" content="这不仅仅是前端查出全部数据，然后做假分页和排序，而是结合SpringData Jpa 以及其封装的进行真分页以及排序后查询，每次只从数据库动态获取指定条数和指定页码的数据,解决了全表查询数据量太大的问题。
首先是前端Vue的部分
写一个table加pagination并且绑定必要的方法
&lt;div class=&#34;elshowtablediv&#34;&gt; &lt;div&gt; &lt;el-table class=&#34;eltable1&#34; :data=&#34;UsertableData&#34; :header-cell-style=&#34;{background:&#39;#F2F9FF&#39;, &#39;text-align&#39;:&#39;center&#39;}&#34; :cell-style=&#34;{&#39;text-align&#39;:&#39;center&#39;}&#34; @sort-change=&#34;changeUsertableSort&#34; style=&#34;width: 85vw&#34; border&gt; &lt;el-table-column prop=&#34;id&#34; label=&#34;编号&#34; width=&#34;180&#34; :sortable=&#34;&#39;custom&#39;&#34;&gt; &lt;/el-table-column&gt; &lt;el-table-column prop=&#34;username&#34; label=&#34;姓名&#34; width=&#34;180&#34;&gt; &lt;/el-table-column&gt; &lt;el-table-column prop=&#34;usernumber&#34; label=&#34;账号&#34;&gt; &lt;/el-table-column&gt; &lt;el-table-column prop=&#34;password&#34; label=&#34;密码&#34;&gt; &lt;/el-table-column&gt; &lt;el-table-column prop=&#34;userrole&#34; label=&#34;身份类型&#34;&gt; &lt;/el-table-column&gt; &lt;el-table-column label=&#34;操作&#34; width=&#34;150&#34;&gt; &lt;template slot-scope=&#34;scope&#34;&gt; &lt;el-button circle size=&#34;mini&#34; type=&#34;primary&#34; icon=&#34;el-icon-edit&#34; @click=&#34;handleEdit(scope.row)&#34;&gt;&lt;/el-button&gt; &lt;el-button circle size=&#34;mini&#34; type=&#34;danger&#34; icon=&#34;el-icon-delete&#34; @click=&#34;handleDelete(scope.row)&#34;&gt;&lt;/el-button&gt; &lt;/template&gt; &lt;/el-table-column&gt; &lt;/el-table&gt; &lt;/div&gt; &lt;div class=&#34;divpagenation&#34;&gt; &lt;el-pagination background @size-change=&#34;handleSizeChange&#34; @current-change=&#34;handleCurrentChange&#34; :current-page=&#34;currentPage4&#34; :page-sizes=&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/db39fa45d9639ee33b32d0381644d5a7/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-09-09T20:55:04+08:00" />
<meta property="article:modified_time" content="2020-09-09T20:55:04+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">VUE element UI 结合Spring Boot 的 Spring Data Jpa进行分页查询并且按id字段进行动态正序逆序排序</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><strong>这不仅仅是前端查出全部数据，然后做假分页和排序，而是结合SpringData Jpa 以及其封装的进行真分页以及排序后查询，每次只从数据库动态获取指定条数和指定页码的数据,解决了全表查询数据量太大的问题。</strong></p> 
<p><strong>首先是前端Vue的部分</strong></p> 
<p><strong>写一个table加pagination并且绑定必要的方法</strong></p> 
<pre><code class="prism language-java"><span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"elshowtablediv"</span><span class="token operator">&gt;</span>
            <span class="token generics function"><span class="token punctuation">&lt;</span>div<span class="token punctuation">&gt;</span></span>
                <span class="token operator">&lt;</span>el<span class="token operator">-</span>table
                        <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"eltable1"</span>
                        <span class="token operator">:</span>data<span class="token operator">=</span><span class="token string">"UsertableData"</span>
                        <span class="token operator">:</span>header<span class="token operator">-</span>cell<span class="token operator">-</span>style<span class="token operator">=</span><span class="token string">"{background:'#F2F9FF', 'text-align':'center'}"</span>
                        <span class="token operator">:</span>cell<span class="token operator">-</span>style<span class="token operator">=</span><span class="token string">"{'text-align':'center'}"</span>
                        <span class="token annotation punctuation">@sort</span><span class="token operator">-</span>change<span class="token operator">=</span><span class="token string">"changeUsertableSort"</span>
                        style<span class="token operator">=</span><span class="token string">"width: 85vw"</span>
                        border<span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column
                            prop<span class="token operator">=</span><span class="token string">"id"</span>
                            label<span class="token operator">=</span><span class="token string">"编号"</span>
                            width<span class="token operator">=</span><span class="token string">"180"</span>
                            <span class="token operator">:</span>sortable<span class="token operator">=</span><span class="token string">"'custom'"</span><span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column<span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column
                            prop<span class="token operator">=</span><span class="token string">"username"</span>
                            label<span class="token operator">=</span><span class="token string">"姓名"</span>
                            width<span class="token operator">=</span><span class="token string">"180"</span><span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column<span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column
                            prop<span class="token operator">=</span><span class="token string">"usernumber"</span>
                            label<span class="token operator">=</span><span class="token string">"账号"</span><span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column<span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column
                            prop<span class="token operator">=</span><span class="token string">"password"</span>
                            label<span class="token operator">=</span><span class="token string">"密码"</span><span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column<span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column
                            prop<span class="token operator">=</span><span class="token string">"userrole"</span>
                            label<span class="token operator">=</span><span class="token string">"身份类型"</span><span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column<span class="token operator">&gt;</span>

                    <span class="token operator">&lt;</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column label<span class="token operator">=</span><span class="token string">"操作"</span> width<span class="token operator">=</span><span class="token string">"150"</span><span class="token operator">&gt;</span>
                        <span class="token operator">&lt;</span>template slot<span class="token operator">-</span>scope<span class="token operator">=</span><span class="token string">"scope"</span><span class="token operator">&gt;</span>
                            <span class="token operator">&lt;</span>el<span class="token operator">-</span>button
                                    circle
                                    size<span class="token operator">=</span><span class="token string">"mini"</span>
                                    type<span class="token operator">=</span><span class="token string">"primary"</span>
                                    icon<span class="token operator">=</span><span class="token string">"el-icon-edit"</span>
                                    <span class="token annotation punctuation">@click</span><span class="token operator">=</span><span class="token string">"handleEdit(scope.row)"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">&gt;</span>
                            <span class="token operator">&lt;</span>el<span class="token operator">-</span>button
                                    circle
                                    size<span class="token operator">=</span><span class="token string">"mini"</span>
                                    type<span class="token operator">=</span><span class="token string">"danger"</span>
                                    icon<span class="token operator">=</span><span class="token string">"el-icon-delete"</span>
                                    <span class="token annotation punctuation">@click</span><span class="token operator">=</span><span class="token string">"handleDelete(scope.row)"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">&gt;</span>
                        <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column<span class="token operator">&gt;</span>

                <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>table<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

            <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"divpagenation"</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>el<span class="token operator">-</span>pagination
                        background
                        <span class="token annotation punctuation">@size</span><span class="token operator">-</span>change<span class="token operator">=</span><span class="token string">"handleSizeChange"</span>
                        <span class="token annotation punctuation">@current</span><span class="token operator">-</span>change<span class="token operator">=</span><span class="token string">"handleCurrentChange"</span>
                        <span class="token operator">:</span>current<span class="token operator">-</span>page<span class="token operator">=</span><span class="token string">"currentPage4"</span>
                        <span class="token operator">:</span>page<span class="token operator">-</span>sizes<span class="token operator">=</span><span class="token string">"[9, 15, 20, 50]"</span>
                        <span class="token operator">:</span>page<span class="token operator">-</span>size<span class="token operator">=</span><span class="token string">"sortjsontableData.size"</span>
                        layout<span class="token operator">=</span><span class="token string">"total, sizes, prev, pager, next, jumper"</span>
                        <span class="token operator">:</span>total<span class="token operator">=</span><span class="token string">"total"</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>pagination<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</code></pre> 
<p><strong>数据定义以及所涉及到的js方法的部分</strong></p> 
<pre><code class="prism language-java">export <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
        name<span class="token operator">:</span> <span class="token string">"index1"</span><span class="token punctuation">,</span>
        <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
                total<span class="token operator">:</span> null<span class="token punctuation">,</span>
                <span class="token comment">// currentpagesize: null, // 每页显示多少条</span>
                <span class="token comment">// whichpage: 1, // 第几页</span>
                UsertableData<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 查询表的数据载体</span>
                currentPage4<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                
                <span class="token comment">// 正序逆序get请求提交的字段</span>
                sortjsontableData<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                    page<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 第几页</span>
                    size<span class="token operator">:</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token comment">// 每页显示多少条</span>
                    sortType<span class="token operator">:</span> <span class="token string">'ascending'</span><span class="token punctuation">,</span> <span class="token comment">//正序ascending逆序descending</span>
                    sortableFields<span class="token operator">:</span> <span class="token string">'id'</span><span class="token punctuation">,</span> <span class="token comment">//需要排序的字段</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>

        <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">const</span> _this <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
            <span class="token comment">// 默认每页九条数据，并且获取第一页的前9条</span>
            axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>api123<span class="token punctuation">.</span>baseURL <span class="token operator">+</span> <span class="token string">'/userfindAll/1/9'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>response <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">const</span> res <span class="token operator">=</span> response<span class="token punctuation">.</span>data<span class="token punctuation">;</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
                _this<span class="token punctuation">.</span>UsertableData <span class="token operator">=</span> res<span class="token punctuation">.</span>content<span class="token punctuation">;</span> <span class="token comment">//记录的内容</span>
                _this<span class="token punctuation">.</span>total <span class="token operator">=</span> res<span class="token punctuation">.</span>totalElements<span class="token punctuation">;</span> <span class="token comment">//总记录数</span>
                _this<span class="token punctuation">.</span>sortjsontableData<span class="token punctuation">.</span>size <span class="token operator">=</span> res<span class="token punctuation">.</span>size<span class="token punctuation">;</span> <span class="token comment">//每页条数</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        methods<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">//改变·每页显示的条数</span>
            <span class="token function">handleSizeChange</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token comment">// console.log(`每页 ${val} 条`);</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>sortjsontableData<span class="token punctuation">.</span>size <span class="token operator">=</span> val<span class="token punctuation">;</span> <span class="token comment">//赋值显示条数给处理分页handleCurrentChange()使用</span>
                <span class="token keyword">const</span> _this <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
                axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>api123<span class="token punctuation">.</span>baseURL <span class="token operator">+</span> <span class="token string">'/findandsortPageable/'</span><span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>sortjsontableData<span class="token punctuation">.</span>page<span class="token operator">+</span><span class="token string">'/'</span> <span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>sortjsontableData<span class="token punctuation">.</span>size<span class="token operator">+</span><span class="token string">'/'</span><span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>sortjsontableData<span class="token punctuation">.</span>sortType<span class="token operator">+</span><span class="token string">'/'</span><span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>sortjsontableData<span class="token punctuation">.</span>sortableFields<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>response <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token keyword">const</span> res <span class="token operator">=</span> response<span class="token punctuation">.</span>data<span class="token punctuation">;</span>
                    _this<span class="token punctuation">.</span>UsertableData <span class="token operator">=</span> res<span class="token punctuation">.</span>content<span class="token punctuation">;</span> <span class="token comment">//记录的内容</span>
                    <span class="token comment">// _this.total = res.totalElements; //总记录数</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token comment">// 处理分页</span>
            <span class="token function">handleCurrentChange</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token comment">// console.log(`当前页: ${val}`);</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>sortjsontableData<span class="token punctuation">.</span>page <span class="token operator">=</span> val<span class="token punctuation">;</span> <span class="token comment">//赋值第几页给处理当前页handleSizeChange()使用</span>
                <span class="token keyword">const</span> _this <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
                axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>api123<span class="token punctuation">.</span>baseURL <span class="token operator">+</span> <span class="token string">'/findandsortPageable/'</span><span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>sortjsontableData<span class="token punctuation">.</span>page<span class="token operator">+</span><span class="token string">'/'</span> <span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>sortjsontableData<span class="token punctuation">.</span>size<span class="token operator">+</span><span class="token string">'/'</span><span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>sortjsontableData<span class="token punctuation">.</span>sortType<span class="token operator">+</span><span class="token string">'/'</span><span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>sortjsontableData<span class="token punctuation">.</span>sortableFields<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>response <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token keyword">const</span> res <span class="token operator">=</span> response<span class="token punctuation">.</span>data<span class="token punctuation">;</span>
                    _this<span class="token punctuation">.</span>UsertableData <span class="token operator">=</span> res<span class="token punctuation">.</span>content<span class="token punctuation">;</span> <span class="token comment">//记录的内容</span>
                    <span class="token comment">// _this.total = res.totalElements; //总记录数</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>

            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            
            <span class="token comment">// 与后端通讯进行逆序排序</span>
            <span class="token function">changeUsertableSort</span><span class="token punctuation">(</span>column<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token comment">// this.$message.info(column);</span>
                <span class="token comment">// console.log("这是column对象"+column);</span>
                <span class="token comment">//获取字段名称和排序类型</span>
                <span class="token keyword">const</span> _this <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
                let columnName <span class="token operator">=</span> column<span class="token punctuation">.</span>prop<span class="token punctuation">;</span>
                let sortingType <span class="token operator">=</span> column<span class="token punctuation">.</span>order<span class="token punctuation">;</span>
                <span class="token comment">// this.sortjsontableData.page = this.whichpage;</span>
                <span class="token comment">// this.sortjsontableData.size = this.currentpagesize;</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>sortjsontableData<span class="token punctuation">.</span>sortType <span class="token operator">=</span> sortingType<span class="token punctuation">;</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>sortjsontableData<span class="token punctuation">.</span>sortableFields <span class="token operator">=</span> columnName<span class="token punctuation">;</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>$message<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"排序类型为："</span><span class="token operator">+</span>sortingType<span class="token operator">+</span><span class="token string">",排序列字段为:"</span><span class="token operator">+</span>columnName<span class="token punctuation">)</span><span class="token punctuation">;</span>

                axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>api123<span class="token punctuation">.</span>baseURL <span class="token operator">+</span> <span class="token string">'/findandsortPageable/'</span><span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>sortjsontableData<span class="token punctuation">.</span>page<span class="token operator">+</span><span class="token string">'/'</span> <span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>sortjsontableData<span class="token punctuation">.</span>size<span class="token operator">+</span><span class="token string">'/'</span><span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>sortjsontableData<span class="token punctuation">.</span>sortType<span class="token operator">+</span><span class="token string">'/'</span><span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>sortjsontableData<span class="token punctuation">.</span>sortableFields<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>response <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token comment">// '/userfindAll/' + this.whichpage + '/'+val+''</span>
                    <span class="token keyword">const</span> res <span class="token operator">=</span> response<span class="token punctuation">.</span>data<span class="token punctuation">;</span>
                    _this<span class="token punctuation">.</span>UsertableData <span class="token operator">=</span> res<span class="token punctuation">.</span>content<span class="token punctuation">;</span> <span class="token comment">//记录的内容</span>
                    <span class="token comment">// _this.total = res.totalElements; //总记录数</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>

            <span class="token punctuation">}</span>

        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre> 
<p><strong>这里用到的所有分页以及排序方法和相关的监听请参考elementui官方文档的解释</strong><br> <strong>地址附上:</strong><br> <a href="https://element.eleme.cn/#/zh-CN/component/table" rel="nofollow">排序点进去看table里面的排序部分即可</a><br> <a href="https://element.eleme.cn/#/zh-CN/component/pagination" rel="nofollow">分页点进去看pagination</a></p> 
<p><strong>后端SpringBoot部分代码</strong></p> 
<p>controller类中代码</p> 
<pre><code class="prism language-java"><span class="token keyword">import</span> com<span class="token punctuation">.</span>cmkjspringboot<span class="token punctuation">.</span>chemicalsystem<span class="token punctuation">.</span>dao<span class="token punctuation">.</span>UserDao<span class="token punctuation">;</span>
<span class="token keyword">import</span> com<span class="token punctuation">.</span>cmkjspringboot<span class="token punctuation">.</span>chemicalsystem<span class="token punctuation">.</span>entity<span class="token punctuation">.</span>User<span class="token punctuation">;</span>
<span class="token keyword">import</span> com<span class="token punctuation">.</span>cmkjspringboot<span class="token punctuation">.</span>chemicalsystem<span class="token punctuation">.</span>repository<span class="token punctuation">.</span>UserRepository<span class="token punctuation">;</span>
<span class="token keyword">import</span> com<span class="token punctuation">.</span>cmkjspringboot<span class="token punctuation">.</span>chemicalsystem<span class="token punctuation">.</span>service<span class="token punctuation">.</span>UserService<span class="token punctuation">;</span>
<span class="token keyword">import</span> org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span>Autowired<span class="token punctuation">;</span>
<span class="token keyword">import</span> org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>data<span class="token punctuation">.</span>domain<span class="token punctuation">.</span>Page<span class="token punctuation">;</span>
<span class="token keyword">import</span> org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>data<span class="token punctuation">.</span>domain<span class="token punctuation">.</span>PageRequest<span class="token punctuation">;</span>
<span class="token keyword">import</span> org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>data<span class="token punctuation">.</span>domain<span class="token punctuation">.</span>Pageable<span class="token punctuation">;</span>
<span class="token keyword">import</span> org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>data<span class="token punctuation">.</span>domain<span class="token punctuation">.</span>Sort<span class="token punctuation">;</span>
<span class="token keyword">import</span> org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span>*<span class="token punctuation">;</span>

<span class="token keyword">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>HashMap<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>List<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>Map<span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token keyword">static</span> org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>data<span class="token punctuation">.</span>domain<span class="token punctuation">.</span>Sort<span class="token punctuation">.</span>by<span class="token punctuation">;</span>

<span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserController</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> UserRepository userRepository<span class="token punctuation">;</span>
    
    <span class="token comment">//查询全部用户并分页返回(仅分页不排序)</span>
    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/userfindAll/{page}/{size}"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> Page<span class="token generics function"><span class="token punctuation">&lt;</span>User<span class="token punctuation">&gt;</span></span> <span class="token function">findAll</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"page"</span><span class="token punctuation">)</span> Integer page<span class="token punctuation">,</span> <span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"size"</span><span class="token punctuation">)</span> Integer size<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 使用Jpa封装好的page方法page-1是因为数组从0开始的前端传过来第1页实际上是数组的第0页</span>
        Pageable pageable <span class="token operator">=</span> PageRequest<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>page <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> size<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> userRepository<span class="token punctuation">.</span><span class="token function">findAll</span><span class="token punctuation">(</span>pageable<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//查询用户分页并且绑定id字段来进行正序逆序排序</span>
    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/findandsortPageable/{page}/{size}/{sortType}/{sortableFields}"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> Page<span class="token generics function"><span class="token punctuation">&lt;</span>User<span class="token punctuation">&gt;</span></span> <span class="token function">testPageable</span><span class="token punctuation">(</span>
            <span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"page"</span><span class="token punctuation">)</span> Integer page<span class="token punctuation">,</span> <span class="token comment">// 第几页</span>
            <span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"size"</span><span class="token punctuation">)</span> Integer size<span class="token punctuation">,</span> <span class="token comment">// 显示多少条</span>
            <span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"sortType"</span><span class="token punctuation">)</span> String sortType<span class="token punctuation">,</span> <span class="token comment">// 正序还是逆序</span>
            <span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"sortableFields"</span><span class="token punctuation">)</span> String sortableFields <span class="token comment">//需要按照哪一个字段域来排序</span>
    <span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"前端传来的配置sort"</span><span class="token operator">+</span>page<span class="token operator">+</span>size<span class="token operator">+</span>sortType<span class="token operator">+</span>sortableFields<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//判断排序类型及排序字段</span>
        Sort sort <span class="token operator">=</span> <span class="token string">"ascending"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>sortType<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token function">by</span><span class="token punctuation">(</span>Sort<span class="token punctuation">.</span>Direction<span class="token punctuation">.</span>ASC<span class="token punctuation">,</span> sortableFields<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">by</span><span class="token punctuation">(</span>Sort<span class="token punctuation">.</span>Direction<span class="token punctuation">.</span>DESC<span class="token punctuation">,</span> sortableFields<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//获取pageable</span>
        Pageable pageable <span class="token operator">=</span> PageRequest<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>page<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>size<span class="token punctuation">,</span>sort<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> userRepository<span class="token punctuation">.</span><span class="token function">findAll</span><span class="token punctuation">(</span>pageable<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

   
<span class="token punctuation">}</span>
</code></pre> 
<p>repository类代码，其实就只用写一个 extends 继承jpa类就行了 就一行代码</p> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">UserRepository</span> <span class="token keyword">extends</span> <span class="token class-name">JpaRepository</span><span class="token generics function"><span class="token punctuation">&lt;</span>User<span class="token punctuation">,</span> Integer<span class="token punctuation">&gt;</span></span> <span class="token punctuation">{<!-- --></span>
<span class="token punctuation">}</span>
</code></pre> 
<p>实现效果如下<br> 默认：<br> 第一页<br> <img src="https://images2.imgbox.com/bb/5e/pvGTOFPI_o.png" alt="在这里插入图片描述"><br> 最后一页<br> <img src="https://images2.imgbox.com/ad/af/0P3AG3bd_o.png" alt="在这里插入图片描述"></p> 
<p>逆序后<br> 第一页<br> <img src="https://images2.imgbox.com/4f/73/dGWBvbLN_o.png" alt="在这里插入图片描述"><br> 最后一页<br> <img src="https://images2.imgbox.com/af/3f/OgSOKzrS_o.png" alt="在这里插入图片描述"></p> 
<p><strong>有不懂或者我写的不妥的地方欢迎大家评论一起学习交流</strong></p> 
<p>完整的项目地址(github)<br> https://github.com/h03147/chemicaladminsystem</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/00b05d9be6efff40b2c51002c0d052f9/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Python OpenCV  实现yolo目标检测</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/fe6544508cb697ead27cc5d774e38472/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">设计模式之装饰模式</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>