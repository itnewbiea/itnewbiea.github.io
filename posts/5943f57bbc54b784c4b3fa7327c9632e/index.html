<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Linux_RPM解决安装包依赖关系方法 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Linux_RPM解决安装包依赖关系方法" />
<meta property="og:description" content="RPM基础 一.linux应用程序基础二.常见的软件包封装类型三.RPM包管理工具四.挂载、解挂载方法五.rpm命令的格式六.**查询已安装的RPM软件信息七.查询RPM软件包文件中的信息八.安装、升级、卸载、RPM软件包九.维护RPM数据十.导入验证公钥十一.解决安装包依赖关系方法 一.linux应用程序基础 应用程序与系统命令的关系
角色系统命令应用程序文件位置一般在/bin和sbin目录中或为shell内部命令通常在/usr/bin、/usr/sbin和/usr/local/bin、/usr/local/sbin目录中主要用途完成系统的基本管理工作，例如IP配置工具完成相对独立的其他辅助任务，例如网页浏览适用环境一般只在字符操作界面中运行根据实际需要，有此程序可在图形界面中运行运行格式一般包括命令字，命令选项和命令参数通常没有固定的执行格式，由程序开发者自行定义 典型应用程序的目录结构
文件类型保存目录说明普通可执行程序文件/usr/bin所有用户可执行服务器程序、管理程序文件/usr/sbin只有管理员能执行应用程序配置文件/etc通过rpm或yum方式安装的应用程序日志文件/var/log系统日志应用程序参考文档文件/usr/share/doc关于应用程序的参考文档等数据应用程序手册页文件/usr/share/man执行文件及配置文件的man手册页 二.常见的软件包封装类型 文件类型保存目录RPM软件包扩展名为&#34;.rpm&#34; ,适用于RHEL、CentOS等系统DEB软件包扩展名为&#34;.deb&#34;,适用于Ubuntu、Debian等系统源代码软件包一般为&#34;.tar.gz&#34;、&#34;.tar.bz2&#34;等格式的压缩包，包含程序的原始代码，需要编译安装附带安装程序的软件包软件包的扩展名不一以TarBall格式的居多，在软件包中会提供用于安装的可执行程序或者脚本文件。如install.sh、setup 等。 安装时只需运行安装文件就可以根据向导程序的提示完成安装操作 三.RPM包管理工具 1）RPM软件包管理器Red-Hat Package Manager
由Red Hat公司提出，被众多Linux发往行版所采用 建立统一的文件数据库 详细记录软件包安装、卸载、升级等变化信息 自动分析软件包依赖关系 2）RPM软件包
①软件素材参考：http://www.rpm.org ②一般命名格式 四.挂载、解挂载方法 挂载命令： mount /dev/cdrom /mnt
mnt :临时挂载的目录
1.查看光盘图标是否点亮
2.设置中，点击连接
3.df -h 查看挂载
[root@localhost ~]# df -h 文件系统 容量 已用 可用 已用% 挂载点 /dev/sda3 36G 4.7G 31G 14% / devtmpfs 978M 0 978M 0% /dev tmpfs 993M 0 993M 0% /dev/shm tmpfs 993M 9.0M 984M 1% /run tmpfs 993M 0 993M 0% /sys/fs/cgroup /dev/sda1 497M 151M 346M 31% /boot tmpfs 199M 12K 199M 1% /run/user/42 tmpfs 199M 0 199M 0% /run/user/0 [root@localhost ~]# 4." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/5943f57bbc54b784c4b3fa7327c9632e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-02-03T17:18:57+08:00" />
<meta property="article:modified_time" content="2021-02-03T17:18:57+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Linux_RPM解决安装包依赖关系方法</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-dracula">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>RPM基础</h4> 
 <ul><li><a href="#linux_1" rel="nofollow">一.linux应用程序基础</a></li><li><ul><li><a href="#_32" rel="nofollow">二.常见的软件包封装类型</a></li><li><ul><li><a href="#RPM_46" rel="nofollow">三.RPM包管理工具</a></li><li><ul><li><a href="#_60" rel="nofollow">四.挂载、解挂载方法</a></li><li><ul><li><a href="#rpm_96" rel="nofollow">五.rpm命令的格式</a></li><li><ul><li><a href="#RPM_105" rel="nofollow">六.**查询已安装的RPM软件信息</a></li><li><a href="#RPM_123" rel="nofollow">七.查询RPM软件包文件中的信息</a></li><li><a href="#RPM_134" rel="nofollow">八.安装、升级、卸载、RPM软件包</a></li><li><a href="#RPM_159" rel="nofollow">九.维护RPM数据</a></li><li><a href="#_165" rel="nofollow">十.导入验证公钥</a></li><li><a href="#_172" rel="nofollow">十一.解决安装包依赖关系方法</a></li></ul> 
     </li></ul> 
    </li></ul> 
   </li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="linux_1"></a>一.linux应用程序基础</h2> 
<p>应用程序与系统命令的关系</p> 
<table><thead><tr><th>角色</th><th>系统命令</th><th>应用程序</th></tr></thead><tbody><tr><td>文件位置</td><td>一般在/bin和sbin目录中或为shell内部命令</td><td>通常在/usr/bin、/usr/sbin和/usr/local/bin、/usr/local/sbin目录中</td></tr><tr><td>主要用途</td><td>完成系统的基本管理工作，例如IP配置工具</td><td>完成相对独立的其他辅助任务，例如网页浏览</td></tr><tr><td>适用环境</td><td>一般只在字符操作界面中运行</td><td>根据实际需要，有此程序可在图形界面中运行</td></tr><tr><td>运行格式</td><td>一般包括命令字，命令选项和命令参数</td><td>通常没有固定的执行格式，由程序开发者自行定义</td></tr></tbody></table> 
<p>典型应用程序的目录结构</p> 
<table><thead><tr><th>文件类型</th><th>保存目录</th><th>说明</th></tr></thead><tbody><tr><td>普通可执行程序文件</td><td>/usr/bin</td><td>所有用户可执行</td></tr><tr><td>服务器程序、管理程序文件</td><td>/usr/sbin</td><td>只有管理员能执行</td></tr><tr><td>应用程序配置文件</td><td>/etc</td><td>通过rpm或yum方式安装的应用程序</td></tr><tr><td>日志文件</td><td>/var/log</td><td>系统日志</td></tr><tr><td>应用程序参考文档文件</td><td>/usr/share/doc</td><td>关于应用程序的参考文档等数据</td></tr><tr><td>应用程序手册页文件</td><td>/usr/share/man</td><td>执行文件及配置文件的man手册页</td></tr></tbody></table> 
<h3><a id="_32"></a>二.常见的软件包封装类型</h3> 
<table><thead><tr><th>文件类型</th><th>保存目录</th></tr></thead><tbody><tr><td>RPM软件包</td><td>扩展名为".rpm" ,适用于RHEL、CentOS等系统</td></tr><tr><td>DEB软件包</td><td>扩展名为".deb",适用于Ubuntu、Debian等系统</td></tr><tr><td>源代码软件包</td><td>一般为".tar.gz"、".tar.bz2"等格式的压缩包，包含程序的原始代码，需要编译安装</td></tr><tr><td>附带安装程序的软件包</td><td>软件包的扩展名不一以TarBall格式的居多，在软件包中会提供用于安装的可执行程序或者脚本文件。如install.sh、setup 等。 安装时只需运行安装文件就可以根据向导程序的提示完成安装操作</td></tr></tbody></table> 
<h4><a id="RPM_46"></a>三.RPM包管理工具</h4> 
<p>1）RPM软件包管理器Red-Hat Package Manager</p> 
<pre><code>由Red Hat公司提出，被众多Linux发往行版所采用
建立统一的文件数据库
详细记录软件包安装、卸载、升级等变化信息
自动分析软件包依赖关系
</code></pre> 
<p>2）RPM软件包</p> 
<pre><code>①软件素材参考：http://www.rpm.org
 ②一般命名格式
</code></pre> 
<p><img src="https://images2.imgbox.com/1d/23/1a2Fs2xD_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="_60"></a>四.挂载、解挂载方法</h5> 
<p>挂载命令： mount /dev/cdrom /mnt<br> mnt :临时挂载的目录</p> 
<p>1.查看光盘图标是否点亮<br> <img src="https://images2.imgbox.com/26/15/fz52KgBc_o.png" alt="在这里插入图片描述">2.设置中，点击连接</p> 
<p><img src="https://images2.imgbox.com/6c/04/QfHYcmzm_o.png" alt="在这里插入图片描述"><br> 3.df -h 查看挂载</p> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@localhost ~]</span><span class="token comment"># df -h</span>
文件系统        容量  已用  可用 已用<span class="token operator">%</span> 挂载点
<span class="token operator">/</span>dev<span class="token operator">/</span>sda3        36G  4<span class="token punctuation">.</span>7G   31G   14<span class="token operator">%</span> <span class="token operator">/</span>
devtmpfs        978M     0  978M    0<span class="token operator">%</span> <span class="token operator">/</span>dev
tmpfs           993M     0  993M    0<span class="token operator">%</span> <span class="token operator">/</span>dev<span class="token operator">/</span>shm
tmpfs           993M  9<span class="token punctuation">.</span>0M  984M    1<span class="token operator">%</span> <span class="token operator">/</span>run
tmpfs           993M     0  993M    0<span class="token operator">%</span> <span class="token operator">/</span>sys<span class="token operator">/</span>fs<span class="token operator">/</span>cgroup
<span class="token operator">/</span>dev<span class="token operator">/</span>sda1       497M  151M  346M   31<span class="token operator">%</span> <span class="token operator">/</span>boot
tmpfs           199M   12K  199M    1<span class="token operator">%</span> <span class="token operator">/</span>run<span class="token operator">/</span>user<span class="token operator">/</span>42
tmpfs           199M     0  199M    0<span class="token operator">%</span> <span class="token operator">/</span>run<span class="token operator">/</span>user<span class="token operator">/</span>0
<span class="token namespace">[root@localhost ~]</span><span class="token comment"># </span>
</code></pre> 
<p>4.输入挂载命令：mount /dev/cdrom /mnt<br> 查看挂载命令：df -h</p> 
<p><img src="https://images2.imgbox.com/75/73/gZeqZ8iO_o.png" alt="在这里插入图片描述"><br> 5.解挂载<br> 命令：umount /mnt<br> mnt :为挂载点<br> <img src="https://images2.imgbox.com/74/fb/nTxm4eQg_o.png" alt="在这里插入图片描述"></p> 
<h6><a id="rpm_96"></a>五.rpm命令的格式</h6> 
<pre><code>rpm命令能够实现几乎所有对RPM软件包的管理功能
执行“man rpm”命令可以获得关于rpm命令的详细帮助信息
    rpm命令功能:
    查询、验证RPM软件包的相关信息
    安装、升级、卸载RPM软件包
    维护重建RPM数据库信息等综合管理操作
</code></pre> 
<h6><a id="RPM_105"></a>六.**查询已安装的RPM软件信息</h6> 
<pre><code>      rpm -q[子选项] [软件名]**
</code></pre> 
<table><thead><tr><th>rpm</th><th>-qi</th><th>软件名</th><th>显示已安装指定软件的详细信息</th></tr></thead><tbody><tr><td>rpm</td><td>-ql</td><td>软件名</td><td>显示已安装指定软件的文件列表</td></tr><tr><td>rpm</td><td>-qc</td><td>软件名</td><td>列出已安装指定软件的配置文件</td></tr><tr><td>rpm</td><td>-qd</td><td>软件名</td><td>列出已安装指定软件的软件包文档所在位置</td></tr><tr><td>rpm</td><td>-qR</td><td>软件名</td><td>列出已安装指定软件的依赖的软件包及文件</td></tr><tr><td>rpm</td><td>-qF</td><td>文件或目录</td><td>查询已安装的指定软件属于哪个安装包</td></tr><tr><td>rpm</td><td>-qa</td><td>软件名</td><td>显示当前系统中以rpm方式安装的所有软件列表</td></tr></tbody></table> 
<p>rpm -qa |grep -i postfix （邮箱软件） #查询软件postfix 是否已安装</p> 
<h6><a id="RPM_123"></a>七.查询RPM软件包文件中的信息</h6> 
<pre><code>  rpm -qp [子选项] rpm软件包
</code></pre> 
<p>查询未安装的RPM软件包文件中信息</p> 
<table><thead><tr><th>rpm</th><th>-qpi</th><th>rpm包 文件名</th><th>查询指定软件包的详细信息</th></tr></thead><tbody><tr><td>rpm</td><td>-qpl</td><td>rpm包 文件名</td><td>查询指定软件包的文件列表</td></tr><tr><td>rpm</td><td>-qpc</td><td>rpm包 文件名</td><td>查询指定软件包的配置文件</td></tr><tr><td>rpm</td><td>-qpd</td><td>rpm 包 文件名</td><td>查询指定软件包的软件包文档位置</td></tr></tbody></table> 
<h6><a id="RPM_134"></a>八.安装、升级、卸载、RPM软件包</h6> 
<pre><code>rpm [选项] RPM包文件
rpm -ivh RPM软件包
</code></pre> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@localhost Packages]</span><span class="token comment"># rpm -ivh zip-3.0-11.el7.x86_64.rpm </span>
警告：zip<span class="token operator">-</span>3<span class="token punctuation">.</span>0<span class="token operator">-</span>11<span class="token punctuation">.</span>el7<span class="token punctuation">.</span>x86_64<span class="token punctuation">.</span>rpm: 头V3 RSA<span class="token operator">/</span>SHA256 Signature<span class="token punctuation">,</span> 密钥 ID f4a80eb5: NOKEY
准备中<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                          <span class="token comment">################################# [100%]</span>
	软件包 zip<span class="token operator">-</span>3<span class="token punctuation">.</span>0<span class="token operator">-</span>11<span class="token punctuation">.</span>el7<span class="token punctuation">.</span>x86_64 已经安装
<span class="token namespace">[root@localhost Packages]</span><span class="token comment"># </span>
</code></pre> 
<p>常用选项：</p> 
<table><thead><tr><th>-i</th><th>安装一个新的RPM软件包</th></tr></thead><tbody><tr><td>-U</td><td>升级某个软件包，若未安装过，则进行安装</td></tr><tr><td>-F</td><td>升级某个软件包，若未安装过，则放弃安装</td></tr><tr><td>-h</td><td>在安装或升级软件包过程中，以“#”号显示安装进度</td></tr><tr><td>-v</td><td>显示软件安装过程中的详细信息</td></tr><tr><td>–force</td><td>强制安装某个软件包，比如要安装版本更旧的软件包</td></tr><tr><td>-e</td><td>卸载指定名称的软件包</td></tr><tr><td>–nodeps</td><td>在安装或升级、卸载一个软件包时，不检查与其他软件包的依赖关系</td></tr></tbody></table> 
<p><img src="https://images2.imgbox.com/69/e5/xbgmBOut_o.png" alt="在这里插入图片描述"></p> 
<h6><a id="RPM_159"></a>九.维护RPM数据</h6> 
<pre><code> 重建 RPM 数据库

  当 RPM 数据库发生损坏，可通过重建RPM数据库修复
  rpm --rebuilddb		或者		rpm --initdb
</code></pre> 
<h6><a id="_165"></a>十.导入验证公钥</h6> 
<p>在没有导入用于数字签名验证的公钥文件之前，安装光盘中的一部分RPM软件包时会报错。需要向 RPM数据库中导入位于光盘根目录下的公钥文件<br> mount /dev/sr0 /mnt/<br> rpm --import /mnt/RPM-GPG-KEY-CentOS-7</p> 
<p><img src="https://images2.imgbox.com/9e/77/xSu6pwNC_o.png" alt="在这里插入图片描述"></p> 
<h6><a id="_172"></a>十一.解决安装包依赖关系方法</h6> 
<p>1.安装有依赖关系的多个软件时：<br> 被依赖的软件包需要先安装，可同时多个.rpm包文件进行安装</p> 
<p>2.卸载有依赖关系的多个软件时：<br> 依赖其他程序的软件包需要卸载，可同时指定多个软件进行卸载</p> 
<p>3.忽略依赖关系<br> 结合“–nodeps"选项，但可能导致软件异常</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/b19ca04f3d6e970d1f5927dc3e6ffd71/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">CentOS7 yum install 安装最新版本 Apache httpd 并配置php</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/867e21c1992fa823c8707c71e023dfb3/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">基于STM32和freeRTOS智能门锁设计方案</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>