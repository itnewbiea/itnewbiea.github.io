<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>基于一款 wk2168芯片的串口扩展 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="基于一款 wk2168芯片的串口扩展" />
<meta property="og:description" content="串口扩展芯片应用介绍
一、 概述
随着嵌入式系统的功能越来越强大，搭载的外围设备也不断的增加，为了方便系统的集成，现在的外围设备通常都提供了标准的通信接口。在这些标准接口当中最常用的就是我们比较熟悉的串口。串口作为一种工业标准接口有他的先天优势所在，通信速率较高，通信距离也比较远，集成也很方面。目前通常的嵌入式系统的cpu通常只有2个串口最多也就4个左右，如果外围需要搭载的串口设备超过4个，这个时候，我们就不得不增加进行串口扩展。日前我了解到的一个功能强大的串口扩展芯片WK2168，他是成都为开微电子的最新串口扩展芯片，他们的官方网站提供了驱动源代码、电路设计原理图、封装库等，开发十分方便，下面我们就简单介绍一下wk2168的特性。
1、总体特性概述
支持多种主机接口：可以选择 UART，SPI，IIC或8位并口
低功耗设计，可以配置自动休眠，自动唤醒模式（uS 级唤醒）
宽工作电压设计，工作电压为2.5V～5V
精简的配置寄存器和控制字，操作简单可靠
提供工业级和商业级产品
高速CMOS工艺
2、主接口特性
2.1 UART主接口特性
主接口为标准的三线UART串口(RX,TX,GND),无需其它地址信号、控制信号线
波特率自适应技术
可选择的奇校验，偶校验和无校验模式
业界首创的不需地址线控制的串口扩展方式，通过芯片内置的协议处理器实现多串口扩展
UART主接口可以通过引脚设置为红外模式
2.2 SPI主接口特性
最高速度5M bit/s
仅支持SPI从模式
SPI模式0
2.3 IIC并口主接口特性
兼容IIC总线接口
最高速度400kbit/s
仅支持IIC从模式
2.4 8位并口主接口特性
标准8位MCU总线接口
命令和数据共用8位地址总线，通过A0(数据/控制)信号进行切换
子通道选择通过命令字控制和指示，无需额外的通道指示信号线
仅占用2个地址空间
3、子串口特性说明
子通道串口独立配置，高速、灵活：
每个子串口为全双工，每个子串口可以通过软件开启/关闭
波特率可以独立配置，波特率可以设置任意大小，子串口最高可以达到2M bps
每个子串口字符格式包括数据长度、停止位数、奇偶校验模式可以独立设置
完善的子串口状态查询功能
FIFO功能：
每个子串口具备独立的256级发送FIFO，发送FIFO触发点可按用户需求进行编程，设置任意大小的触点。
每个子串口具备独立的256接收FIFO，接收FIFO触发点可按用户需求进行编程，设置任意大小的触点。
软件FIFO使能和清空
FIFO状态和计数器输出
流量控制：
支持RTS、CTS的硬件自动流量控制
支持XON/XOFF的软件自动流量控制，XON/XOFF可编程字符自动发送/识别
RS-485功能：
RTS控制的自动RS-485收发控制。RTS信号可以实现默认电平设置。
RS-485网络地址自动识别功能
错误检测：
支持奇偶校验错误、数据帧错误、break错误及溢出错误检测
支持对接收FIFO每个字节的状态进行检测
每个子串口可以独立软件复位
内置符合SIR标准的IrDA红外收发编解码器，传输速度可达115.2K bit/s
4、丰富的中断系统
接收FIFO触点中断
接收FIFO超时中断
发送FIFO触点中断
发送FIFO空中断
CTS中断
RTS中断" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/2915ef7bbc201a0c01fd793aeb38bcee/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-06-21T14:15:00+08:00" />
<meta property="article:modified_time" content="2019-06-21T14:15:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">基于一款 wk2168芯片的串口扩展</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>串口扩展芯片应用介绍<br> 一、 概述<br> 随着嵌入式系统的功能越来越强大，搭载的外围设备也不断的增加，为了方便系统的集成，现在的外围设备通常都提供了标准的通信接口。在这些标准接口当中最常用的就是我们比较熟悉的串口。串口作为一种工业标准接口有他的先天优势所在，通信速率较高，通信距离也比较远，集成也很方面。目前通常的嵌入式系统的cpu通常只有2个串口最多也就4个左右，如果外围需要搭载的串口设备超过4个，这个时候，我们就不得不增加进行串口扩展。日前我了解到的一个功能强大的串口扩展芯片WK2168，他是成都为开微电子的最新串口扩展芯片，他们的官方网站提供了驱动源代码、电路设计原理图、封装库等，开发十分方便，下面我们就简单介绍一下wk2168的特性。<br> 1、总体特性概述<br> 支持多种主机接口：可以选择 UART，SPI，IIC或8位并口<br> 低功耗设计，可以配置自动休眠，自动唤醒模式（uS 级唤醒）<br> 宽工作电压设计，工作电压为2.5V～5V<br> 精简的配置寄存器和控制字，操作简单可靠<br> 提供工业级和商业级产品<br> 高速CMOS工艺</p> 
<p>2、主接口特性<br> 2.1 UART主接口特性<br> 主接口为标准的三线UART串口(RX,TX,GND),无需其它地址信号、控制信号线<br> 波特率自适应技术<br> 可选择的奇校验，偶校验和无校验模式<br> 业界首创的不需地址线控制的串口扩展方式，通过芯片内置的协议处理器实现多串口扩展<br> UART主接口可以通过引脚设置为红外模式<br> 2.2 SPI主接口特性<br> 最高速度5M bit/s<br> 仅支持SPI从模式<br> SPI模式0<br> 2.3 IIC并口主接口特性<br> 兼容IIC总线接口<br> 最高速度400kbit/s<br> 仅支持IIC从模式</p> 
<p>2.4 8位并口主接口特性<br> 标准8位MCU总线接口<br> 命令和数据共用8位地址总线，通过A0(数据/控制)信号进行切换<br> 子通道选择通过命令字控制和指示，无需额外的通道指示信号线<br> 仅占用2个地址空间</p> 
<p>3、子串口特性说明<br> 子通道串口独立配置，高速、灵活：<br> 每个子串口为全双工，每个子串口可以通过软件开启/关闭<br> 波特率可以独立配置，波特率可以设置任意大小，子串口最高可以达到2M bps<br> 每个子串口字符格式包括数据长度、停止位数、奇偶校验模式可以独立设置<br> 完善的子串口状态查询功能<br> FIFO功能：<br> 每个子串口具备独立的256级发送FIFO，发送FIFO触发点可按用户需求进行编程，设置任意大小的触点。<br> 每个子串口具备独立的256接收FIFO，接收FIFO触发点可按用户需求进行编程，设置任意大小的触点。<br> 软件FIFO使能和清空<br> FIFO状态和计数器输出<br> 流量控制：<br> 支持RTS、CTS的硬件自动流量控制<br> 支持XON/XOFF的软件自动流量控制，XON/XOFF可编程字符自动发送/识别<br> RS-485功能：<br> RTS控制的自动RS-485收发控制。RTS信号可以实现默认电平设置。<br> RS-485网络地址自动识别功能<br> 错误检测：<br> 支持奇偶校验错误、数据帧错误、break错误及溢出错误检测<br> 支持对接收FIFO每个字节的状态进行检测<br> 每个子串口可以独立软件复位<br> 内置符合SIR标准的IrDA红外收发编解码器，传输速度可达115.2K bit/s<br> 4、丰富的中断系统<br> 接收FIFO触点中断<br> 接收FIFO超时中断<br> 发送FIFO触点中断<br> 发送FIFO空中断<br> CTS中断<br> RTS中断<br> XOFF中断<br> 数据错误中断</p> 
<p>5、应用方案<br> 5.1 wk21在车载综合信息平台上的应用<br> 功能：车载综合信息平台是现代汽车通讯与导航产品的发展走势，这种平台将整合汽车通信和导航功能，成为一个可提供各种动态路况交通信息、汽车行驶信息，交通娱乐服务的综合汽车信息系统，可播放DVD/CD/MP3、接收电视、倒车监控、车载电话等<br> 系统构成</p> 
<p><img src="https://images2.imgbox.com/3b/b7/YKZk54BF_o.png" alt="在这里插入图片描述"></p> 
<p>车载导航产品嵌入式系统的硬件平台一般是以一颗通用的cpu为主，辅以图形加速芯片，存储芯片，外围接口芯片等，再接众多的外设模块构成，可选择的嵌入式操作系统有Wince，linux，VxWorks等，再加上导航引擎，电子地图和用户操作界面等组成。<br> Wk2xxx主接口可以是uart\spi.嵌入式平台通过uart或者spi同wk2xxx相连，wk2xxx可以扩展4个子串口分别连接GPS模块，倒车雷达模块，蓝牙模块，显示器。</p> 
<p>5.2 wk2xxx在工业PDA设计中的应用<br> 功能：<br> 工业PDA不同于普通的PDA，需要大量整合外部设备。最新的工业PDA需要内置读卡器（RFID/RFIC读卡器）、打印机以及条码扫描仪等，新的走势还需要在工艺PDA中加入无线通信的功能，如WLAN、CDMA/GPRS、蓝牙等移动通信功能。诸多的外设都是标准的异步串口通信接口，PDA一般选用ARM芯片作为主控CPU，ARM芯片自带的2到3个串口是远远不能满足连接众多外设的需求，采用WK2XXX系列uart可以方便的实现串口的扩展。<br> 系统架构：<br> <img src="https://images2.imgbox.com/2f/66/BDo2Cjuu_o.png" alt="在这里插入图片描述"></p> 
<p>该方案中，选用ARM9作为主CPU：<br> ARM9自带3个串口，串口钱用于初始程序的下载，以及PDA与PC等设备的通信接口。<br> 串口2设计成PDA的红外接口。串口3用于连接触摸屏的输入。那么选用spi接口的wk2xxx扩展4个串口。扩展出来的串口分别连接蓝牙模块，条码扫描/RFID读卡器，GSM/CDMA，串口打印头等</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/c22cb9deb547cdde226ca4af594f43b0/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">docker 拷贝文件失败</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/2b3d22d5e300fb0fb7db9afceb6e8ed8/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">element-ui弹出层置于遮罩层下面问题</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>