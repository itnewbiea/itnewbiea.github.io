<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>electron ant-design-vue 不能用_桌面端跨平台解决方案之Electron简介与快速上手 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="electron ant-design-vue 不能用_桌面端跨平台解决方案之Electron简介与快速上手" />
<meta property="og:description" content="本文涉及到的概念会很多，为了控制篇幅，这里更多的是抛砖引玉，更多资料需要大家到参考资料中自行补充相关知识概念。
Electron简介 Electron（最初名为Atom Shell）是GitHub开发的一个开源框架。它允许使用Node.js（作为后端）和Chromium[^chromium]（作为前端）完成桌面GUI应用程序的开发。Electron现已被多个开源Web应用程序用于前端与后端的开发，著名项目包括GitHub的Atom和微软的Visual Studio Code。
Electron是一个由GitHub开发的开源库，通过将Chromium和Node.js组合并使用HTML，CSS和JavaScript进行构建Mac，Windows，和Linux跨平台桌面应用程序.
这不意味着 Electron 是绑定了 GUI 库的 JavaScript。相反，Electron 使用 web 页面作为它的 GUI，所以你可以把它看作成一个被 JavaScript 控制的，精简版的 Chromium 浏览器。
Chromium 枫树浏览器是一个基于Chromium的Windows/Linux浏览器。新增了部分功能，如鼠标手势，链接拖动及IE标签。（最后一次更新于2013-08-29，基带版本27.0.1453.110[11]）世界之窗浏览器极速版（TheWorld Chrome版）搜狗高速浏览器：基于Chromium开发，同时加入了IE内核引擎。360浏览器极速版：基于Chromium开发，同时加入了IE内核引擎。猎豹浏览器：基于Chromium开发，同时加入了IE内核引擎。傲游浏览器：基于Chromium开发，同时加入了IE内核引擎。七星浏览器：基于Chromium开发，同时加入了IE核心引擎。外观和枫树浏览器类似。QQ浏览器：基于Chromium开发，针对IE内核优化。百度浏览器：基于Chromium开发。 Node.js Node.js 是一个基于 Chrome V8 引擎的 JavaScript 运行环境。 Node.js 使用了一个事件驱动、非阻塞式 I/O 的模型，使其轻量又高效。 Node.js 的包管理器 npm，是全球最大的开源库生态系统。
为什么选择 Electron Electron提供了一个Nodejs的运行时，专注于构建桌面应用，同时使用web页面来作为应用的GUI，你可以将其看作是一个由JavaScript控制的迷你版的Chromium浏览器。 够火（5w&#43; star）。Electron 的作者和 NW.js（原 node-webkit）是同一人，大家可以去知乎围观维护一个大型开源项目是怎样的体验？这个问题下作者的回答。官方也有 Electron 和 NW.js 的对比
作者先是在Intel工作开发维护node-webkit（后改名NW.js），之后加入GitHub开发Atom编辑器，编写了一个新的桌面应用框架，当时的名称叫做atom-shell，之后开源，而后改名Electron
Electron基础概念 主进程和渲染进程 Electron 中，入口是一个 js 文件，运行这个入口文件（通常会是 package.json 里的 main 脚本）的进程称作主进程，在主进程使用 BrowserWindow 模块可以创建并管理 web 页面，也就是应用的 GUI。
const {BrowserWindow} = require(&#39;electron&#39;) // 主进程创建web页面 let someWindow = new BrowserWindow(winOpts) // 加载本地的文件 someWindow." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/991c0b35c5f3ec110ebc5fae1367ddc8/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-11-11T17:10:46+08:00" />
<meta property="article:modified_time" content="2020-11-11T17:10:46+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">electron ant-design-vue 不能用_桌面端跨平台解决方案之Electron简介与快速上手</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div> 
 <p></p> 
 <div style="text-align:center;"> 
  <img src="https://images2.imgbox.com/b7/8e/vJGQwxJO_o.png" alt="77b7c8b14bd96808694baa253074f8f6.png"> 
 </div> 
 <p>本文涉及到的概念会很多，为了控制篇幅，这里更多的是抛砖引玉，更多资料需要大家到参考资料中自行补充相关知识概念。</p> 
 <h3>Electron简介</h3> 
 <p>Electron（最初名为Atom Shell）是GitHub开发的一个开源框架。它允许使用Node.js（作为后端）和Chromium[^chromium]（作为前端）完成桌面GUI应用程序的开发。Electron现已被多个开源Web应用程序用于前端与后端的开发，著名项目包括GitHub的Atom和微软的Visual Studio Code。</p> 
 <p>Electron是一个由GitHub开发的开源库，通过将Chromium和Node.js组合并使用HTML，CSS和JavaScript进行构建Mac，Windows，和Linux跨平台桌面应用程序.</p> 
 <p>这不意味着 Electron 是绑定了 GUI 库的 JavaScript。相反，Electron 使用 web 页面作为它的 GUI，所以你可以把它看作成一个被 JavaScript 控制的，精简版的 Chromium 浏览器。</p> 
 <h4>Chromium</h4> 
 <ul><li>枫树浏览器是一个基于Chromium的Windows/Linux浏览器。新增了部分功能，如鼠标手势，链接拖动及IE标签。（最后一次更新于2013-08-29，基带版本27.0.1453.110[11]）</li><li>世界之窗浏览器极速版（TheWorld Chrome版）</li><li>搜狗高速浏览器：基于Chromium开发，同时加入了IE内核引擎。</li><li>360浏览器极速版：基于Chromium开发，同时加入了IE内核引擎。</li><li>猎豹浏览器：基于Chromium开发，同时加入了IE内核引擎。</li><li>傲游浏览器：基于Chromium开发，同时加入了IE内核引擎。</li><li>七星浏览器：基于Chromium开发，同时加入了IE核心引擎。外观和枫树浏览器类似。</li><li>QQ浏览器：基于Chromium开发，针对IE内核优化。</li><li>百度浏览器：基于Chromium开发。</li></ul> 
 <h4>Node.js</h4> 
 <p>Node.js 是一个基于 Chrome V8 引擎的 JavaScript 运行环境。 </p> 
 <p>Node.js 使用了一个事件驱动、非阻塞式 I/O 的模型，使其轻量又高效。 </p> 
 <p>Node.js 的包管理器 npm，是全球最大的开源库生态系统。</p> 
 <h4>为什么选择 Electron</h4> 
 <blockquote>
   Electron提供了一个Nodejs的运行时，专注于构建桌面应用，同时使用web页面来作为应用的GUI，你可以将其看作是一个由JavaScript控制的迷你版的Chromium浏览器。 
 </blockquote> 
 <p>够火（5w+ star）。Electron 的作者和 NW.js（原 node-webkit）是同一人，大家可以去知乎围观维护一个大型开源项目是怎样的体验？这个问题下作者的回答。官方也有 Electron 和 NW.js 的对比</p> 
 <p>作者先是在Intel工作开发维护node-webkit（后改名NW.js），之后加入GitHub开发Atom编辑器，编写了一个新的桌面应用框架，当时的名称叫做atom-shell，之后开源，而后改名Electron</p> 
 <hr> 
 <h3>Electron基础概念</h3> 
 <h4>主进程和渲染进程</h4> 
 <p>Electron 中，入口是一个 js 文件，运行这个入口文件（通常会是 package.json 里的 main 脚本）的进程称作主进程，在主进程使用 BrowserWindow 模块可以创建并管理 web 页面，也就是应用的 GUI。</p> 
 <div class="has"> 
  <pre class="has"><code>const {BrowserWindow} = require('electron')
// 主进程创建web页面
let someWindow = new BrowserWindow(winOpts)
// 加载本地的文件
someWindow.loadURL('file://' + __dirname + '/index.html')</code></pre> 
 </div> 
 <p>在主进程创建的一个个web页面也都运行着自己的进程，即渲染进程，渲染进程各自独立，各自管理自己的页面，可以想象是浏览器一个个的 tab。</p> 
 <ul><li> 主进程 
   <ul><li>整体控制</li><li>全局快捷键</li><li>屏幕</li><li>窗口</li><li>菜单项</li><li>系统托盘</li><li>从主进程到渲染进程的异步通信</li><li>创建和控制视图</li><li>等等</li></ul></li><li> 渲染进程 
   <ul><li>页面渲染</li><li> webview标签</li><li>渲染进程与主进程通信</li><li>从渲染进程到主进程的异步通信</li><li>子窗口</li><li>捕获桌面资源</li></ul></li></ul> 
 <h4>进程间通信</h4> 
 <p>Web 页面因为安全限制，不能直接访问原生的GUI资源（比如dialog、电源监控），Electron 中也是一样，渲染进程如果想要进行原生的GUI操作，就必须和主进程通讯，请求相应的GUI操作</p> 
 <ul><li> ipcMain和ipcRenderer<code>// 渲染进程中 const {ipcRenderer} = require('electron') ipcRender.send('somemsg', data); ipcRender.on('replaymsg', (evt, otherData) =&gt; { console.log(otherData) }) // 主进程中 const {ipcMain} = require('electron') ipcMain.on('somemsg', (evt, data) =&gt; { console.log(data) evt.sender.send('replymsg', otherData); });</code></li><li> 直接在渲染进程使用remote模块，remote 模块可以直接获取主进程中的模块。这种方式其实是第一种方式的简化。<code>// 在渲染进程打开提示对话框 const {dialog} = require('electron').remote dialog.showMessageBox({ opts });</code></li><li> 主进程向渲染进程发送消息<code>this.webviewWindow.webContents.send('ping');</code></li><li> 渲染进程之间的通信<br> 如果数据不需要实时性，只是渲染进程之间数据的共享，那么使用官方的建议即可：How to share data between web pages?。如果要求实时性，需要配合前几种种方式实现。<code>// 主进程 // 两个窗口互相获取对方的窗口 id, 并发送给渲染进程 win1.webContents.send('distributeIds',{ win2Id : win2.id }); win2.webContents.send('distributeIds',{ win1Id : win1.id }); // 渲染进程 // 通过 id 得到窗口 remote.BrowserWindow.fromId(win2Id).webContents.send('someMsg', 'someThing');</code></li><li> Vue event bus<b>src/renderer/bus.js</b><br> ``` import Vue from 'vue'<br> export default new Vue() ```<b>src/renderer/tray.js</b><br> ``` import bus from './bus' import { remote } from 'electron'<br> const tray = new remote.Tray(remote.clipboard.readImage()) const menu = remote.Menu.buildFromTemplate([ { label: 'ping', click () { // Send event to Vue bus.$emit('ping') } } ])<br> tray.setToolTip('hello world') tray.setContextMenu(menu) ```<b>SomeComponent.vue</b><code>import bus from '@/bus' /* ... */ mounted () { bus.$on('ping', () =&gt; { // event logic console.log('pong') }) } /* ... */</code></li></ul> 
 <h4>简要总结下 Electron 的优缺点：</h4> 
 <p>优点：</p> 
 <ul><li>可以用 Web 前端技术开发跨平台的桌面客户端</li><li>可以从 Node 的生态获得极大的助力</li><li>文档丰富，社区活跃</li></ul> 
 <p>缺点：</p> 
 <ul><li>包大，因为集成了 chromium</li><li>不支持xp</li></ul> 
 <hr> 
 <h3>Electron Quick Start</h3> 
 <div class="has"> 
  <pre class="has"><code>git clone https://github.com/electron/electron-quick-start
cd electron-quick-start
npm install
npm start</code></pre> 
 </div> 
 <h4>打包发布</h4> 
 <ul><li> mac<code>electron-packager ./ --platform=mas --arch=x64</code></li></ul> 
 <hr> 
 <h3>Electron &amp; Vue全家桶 快速搭建</h3> 
 <div class="has"> 
  <pre class="has"><code># 安装 vue-cli 和 脚手架样板代码
npm install -g vue-cli
vue init simulatedgreg/electron-vue my-project

# 安装依赖并运行你的程序
cd my-project
yarn # 或者 npm install
yarn run dev # 或者 npm run dev</code></pre> 
 </div> 
 <p>vue-electron模板</p> 
 <hr> 
 <h3>技术栈</h3> 
 <h4>Vue</h4> 
 <p>Vue (读音 /vjuː/，类似于 view) 是一套用于构建用户界面的渐进式框架。与其它大型框架不同的是，Vue 被设计为可以自底向上逐层应用。Vue 的核心库只关注视图层，不仅易于上手，还便于与第三方库或既有项目整合。另一方面，当与现代化的工具链以及各种支持类库结合使用时，Vue 也完全能够为复杂的单页应用提供驱动。</p> 
 <ul><li><b>生命周期图示</b></li></ul> 
 <p></p> 
 <div style="text-align:center;"> 
  <img src="https://images2.imgbox.com/c3/48/7vaRolLo_o.png" alt="4f4812305934dab63d95efa76f584cc6.png"> 
 </div> 
 <h4>vuex</h4> 
 <p>Vuex 是一个专为 Vue.js 应用程序开发的状态管理模式。它采用集中式存储管理应用的所有组件的状态，并以相应的规则保证状态以一种可预测的方式发生变化。Vuex 也集成到 Vue 的官方调试工具 devtools extension，提供了诸如零配置的 time-travel 调试、状态快照导入导出等高级调试功能。</p> 
 <h4>axios</h4> 
 <p>axios 是一个基于Promise 用于浏览器和 nodejs 的 HTTP 客户端 </p> 
 <hr> 
 <h3>Demo演示</h3> 
 <p>运用Electron和一些开源Api做了一个简单的demo，可以查看币市行情，体验堪比原生般顺滑。</p> 
 <p></p> 
 <div style="text-align:center;"> 
  <img src="https://images2.imgbox.com/2a/fa/gtUBftTg_o.png" alt="668f5361f9ebc7a1462d581d69b06747.png"> 
 </div> 
 <h3>参考资料</h3> 
 <ul><li>Electron中文文档</li><li>Electron Api</li><li>vuejs 单文件组件.vue 文件</li><li>es2015/es6</li><li>Vue全家桶 
   <ul><li>vue</li><li>vuex</li><li>vue-router</li><li>axios</li></ul></li><li>组件库 
   <ul><li>element-ui</li><li>vue-carbon(可选)</li></ul></li></ul> 
 <ul><li>node-gyp </li><li>Node.js C++扩展开发</li></ul> 
 <h4>备注</h4> 
 <p>[^chromium]: Chromium是一个由Google主导开发的网页浏览器，以BSD许可证等多重自由版权发行并开放源代码。是Google为发展自家的浏览器Google Chrome而打开的项目，所以Chromium相当于Google Chrome的工程版或实验版（尽管Google Chrome本身也有β版），新功能会率先在Chromium上开放，待验证后才会应用在Google Chrome上，故Google Chrome的功能会相对落后但较稳定。</p> 
</div>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f89f7467ba8ebf32001eb59582aa85cd/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">idea项目和部署到tomcat上读取项目文件路径出现乱码，20%等问题的解决办法</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/147e782d39f7bdce3fd70396f670c2d9/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Android 实现首次开机启动wizardsetup程序</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>