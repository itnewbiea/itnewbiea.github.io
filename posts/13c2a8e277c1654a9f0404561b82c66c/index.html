<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>OpenCASCADE（OCC）x86环境的配置以及在MFC中的应用（初探） - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="OpenCASCADE（OCC）x86环境的配置以及在MFC中的应用（初探）" />
<meta property="og:description" content="一、Open cascade-7.6.0资源包的下载： Download - Open CASCADE Technology
Download - Open CASCADE Technology
下载解压后的文件夹包含一下内容（不包含build文件夹，这是我后来CMake的时候新建的！！！）：
二、三方库的下载 有些必需三方库（3rd party Components）的下载地址：3rd party Components | Open CASCADE Technology
因为我想在x86 环境下使用，所以下载的是32位的。
至此，下载了一共5个文件夹，这四个加上开始的open cascade-7.6.0。把他们整理在一个文件夹中，方便使用。我新建了一个文件夹名位 OCCT_32 ，把它们放在了这里面。
三、开始利用CMake配置并且编译生成我们需要的库 CMake的下载：Download | CMake
目前最新版本的cmake是3.25.0， 我下载的是cmake-3.24.2版本。
开始CMake之前，先在opencascade-7.6.0文件夹中新建一个空文件夹build ，方便我们存放CMake的内容。
接下来打开CMake软件，先把Grouped打上对号，方便看，不然有点密密麻麻：
点击左下方Configure，弹出新的界面，用来选择你使用VS的版本，和要配置的计算机位数，我选择的是32位（默认是32位）。
点击finish。出现一下内容。
首先操作USE里的内容：
将USE_VTK 和 USE_FREEIMAGE勾上（绿色箭头标的这两个）
接着操作INSTALL里的内容：
更改INSTALL_DIR目录(默认目录的话，需要用管理员身份打开VS2017，才能将编译好的文件安装到该目录下) 我在D盘下新建了一个名为OCCTxxxx86的文件夹，准备安装在这里。
接着操作BUILD：
在BUILD_SAMPLES_MFC上打上对号。
最后操作3RDPARTY（也就是三方工具库）
将这三部分进行添加之前下载的三方库路径：
1. 3RDPARTY_FREETYPE_DIR
解压后的freetype-2.5.5-vc14-32根路径即可：C:\Users\Administrator\Desktop\OCCT_32\freetype-2.5.5-vc14-32
2. 3RDPARTY_TCL_DIR
解压后的tcltk-86-32根路径即可： C:\Users\Administrator\Desktop\OCCT_32\tcltk-86-32
3. 3RDPARTY_TK_DIR
它和 3RDPARTY_TCL_DIR 的添加路径一样，即：C:\Users\Administrator\Desktop\OCCT_32\tcltk-86-32
点击Configure 还需要配置最后一些东西;
INSTALL里面的INSTALL_FREEIMAGE 和 INSTALL_VTK都不用勾选。
我们只添加它上面 3RDPARTY 里面的两个路径：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/13c2a8e277c1654a9f0404561b82c66c/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-11-13T20:45:12+08:00" />
<meta property="article:modified_time" content="2022-11-13T20:45:12+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">OpenCASCADE（OCC）x86环境的配置以及在MFC中的应用（初探）</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2><span style="color:#be191c;">一、Open cascade-7.6.0资源包的下载：</span></h2> 
<p><a href="https://dev.opencascade.org/release/previous#node-83367" rel="nofollow" title="Download - Open CASCADE Technology">Download - Open CASCADE Technology</a><br><br><br><img alt="" height="819" src="https://images2.imgbox.com/2b/66/39ACqU3V_o.png" width="1200"><a href="https://dev.opencascade.org/release/previous#node-83367" rel="nofollow" title="Download - Open CASCADE Technology">Download - Open CASCADE Technology</a></p> 
<p></p> 
<p>下载解压后的文件夹包含一下内容（<span style="color:#ed7976;">不包含build文件夹，这是我后来CMake的时候新建的！！！</span>）：</p> 
<p><img alt="" height="604" src="https://images2.imgbox.com/82/9c/QK7FGI16_o.png" width="763"></p> 
<p></p> 
<h2><span style="color:#be191c;">二、三方库的下载</span></h2> 
<p>有些必需三方库（3rd party Components）的下载地址：<a href="https://dev.opencascade.org/resources/download/3rd-party-components" rel="nofollow" title="3rd party Components | Open CASCADE Technology">3rd party Components | Open CASCADE Technology</a></p> 
<p></p> 
<p><img alt="" height="847" src="https://images2.imgbox.com/c4/46/d5aIIQd2_o.png" width="1200"></p> 
<p></p> 
<p>因为我想在x86 环境下使用，所以下载的是32位的。</p> 
<p>至此，下载了一共5个文件夹，这四个加上开始的open cascade-7.6.0。把他们整理在一个文件夹中，方便使用。我新建了一个文件夹名位  OCCT_32  ，把它们放在了这里面。</p> 
<p><img alt="" height="284" src="https://images2.imgbox.com/80/f3/1zKBRN9u_o.png" width="1036"></p> 
<p></p> 
<h2><span style="color:#be191c;">三、开始利用CMake配置并且编译生成我们需要的库</span></h2> 
<p>CMake的下载：<a href="https://cmake.org/download/" rel="nofollow" title="Download | CMake">Download | CMake</a></p> 
<p></p> 
<p><img alt="" height="722" src="https://images2.imgbox.com/bc/28/qMgLAD01_o.png" width="1103"></p> 
<p></p> 
<p>目前最新版本的cmake是3.25.0， 我下载的是cmake-3.24.2版本。</p> 
<p>开始CMake之前，先在opencascade-7.6.0文件夹中新建一个空文件夹build ，方便我们存放CMake的内容。</p> 
<p><img alt="" height="585" src="https://images2.imgbox.com/b4/c6/GyST8Dq8_o.png" width="695"></p> 
<p> 接下来打开CMake软件，先把Grouped打上对号，方便看，不然有点密密麻麻：</p> 
<p></p> 
<p><img alt="" height="714" src="https://images2.imgbox.com/8f/ea/FaHISEXg_o.png" width="1107"></p> 
<p> 点击左下方Configure，弹出新的界面，用来选择你使用VS的版本，和要配置的计算机位数，我选择的是32位（默认是32位）。</p> 
<p><img alt="" height="392" src="https://images2.imgbox.com/70/0a/GhEMbEKK_o.png" width="550"></p> 
<p>点击finish。出现一下内容。</p> 
<p><img alt="" height="390" src="https://images2.imgbox.com/a2/c6/xl8vxuwX_o.png" width="950"></p> 
<p> 首先操作USE里的内容：</p> 
<p><img alt="" height="301" src="https://images2.imgbox.com/6a/21/VCGXGSy6_o.png" width="790"></p> 
<p> 将USE_VTK 和 USE_FREEIMAGE勾上（绿色箭头标的这两个）</p> 
<p> 接着操作INSTALL里的内容：</p> 
<p><img alt="" height="413" src="https://images2.imgbox.com/37/4f/pLt27TJB_o.png" width="850"></p> 
<p> 更改INSTALL_DIR目录(默认目录的话，需要用管理员身份打开VS2017，才能将编译好的文件安装到该目录下)   我在D盘下新建了一个名为OCCTxxxx86的文件夹，准备安装在这里。</p> 
<p> 接着操作BUILD：</p> 
<p><img alt="" height="329" src="https://images2.imgbox.com/ac/e0/WCWqnNww_o.png" width="657"></p> 
<p> 在BUILD_SAMPLES_MFC上打上对号。</p> 
<p></p> 
<p>最后操作3RDPARTY（也就是三方工具库）</p> 
<p><img alt="" height="339" src="https://images2.imgbox.com/39/8f/EHnqRrcA_o.png" width="947"></p> 
<p> 将这三部分进行添加之前下载的三方库路径：</p> 
<p>1.   3RDPARTY_FREETYPE_DIR<br> 解压后的freetype-2.5.5-vc14-32根路径即可：C:\Users\Administrator\Desktop\OCCT_32\freetype-2.5.5-vc14-32</p> 
<p>2.    3RDPARTY_TCL_DIR</p> 
<p>解压后的tcltk-86-32根路径即可： C:\Users\Administrator\Desktop\OCCT_32\tcltk-86-32</p> 
<p> 3.    3RDPARTY_TK_DIR</p> 
<p>它和 3RDPARTY_TCL_DIR 的添加路径一样，即：C:\Users\Administrator\Desktop\OCCT_32\tcltk-86-32</p> 
<h4><span style="color:#1c7331;">点击Configure</span></h4> 
<p>还需要配置最后一些东西;</p> 
<p><img alt="" height="382" src="https://images2.imgbox.com/1e/0d/nxBpUZs8_o.png" width="967"></p> 
<p></p> 
<p>INSTALL里面的INSTALL_FREEIMAGE  和  INSTALL_VTK都不用勾选。</p> 
<p>我们只添加它上面 3RDPARTY 里面的两个路径：</p> 
<p><img alt="" height="316" src="https://images2.imgbox.com/96/dc/WaV7okoj_o.png" width="962"></p> 
<p> 1.    3RDPARTY_FREEIMAGE_DIR</p> 
<p>添加路径：C:\Users\Administrator\Desktop\OCCT_32\freeimage-3.17.0-vc14-32</p> 
<p>2.    3RDPARTY_VTK_DIR（<span style="color:#fe2c24;">具体到lib/cmake/vtk-6.1</span>）</p> 
<p>添加路径：C:\Users\Administrator\Desktop\OCCT_32\VTK-6.1.0-vc14-32\lib\cmake\vtk-6.1</p> 
<p></p> 
<h4><strong><span style="color:#1c7331;">到此完毕，再点击Configure，没问题，点击Generate。</span></strong></h4> 
<p><img alt="" height="309" src="https://images2.imgbox.com/ee/d0/LZDqv0mh_o.png" width="737"></p> 
<p> 可以了，点击 Open  Project，来到vs2017；</p> 
<p></p> 
<p>选择批生成；</p> 
<p><img alt="" height="1002" src="https://images2.imgbox.com/3a/50/73Jkw9mj_o.png" width="1200"></p> 
<p> <img alt="" height="467" src="https://images2.imgbox.com/bf/7a/Cy2vIXTe_o.png" width="719"></p> 
<p></p> 
<p><img alt="" height="472" src="https://images2.imgbox.com/ef/93/YMlUmsLN_o.png" width="715"></p> 
<p>  把这四个勾选上，生成，然后静静等待就可以了！！！</p> 
<p> 这个生成过程大概1小时左右。</p> 
<p></p> 
<p>完成后，再之前建立的build文件夹中就出现了一下文件：</p> 
<p><img alt="" height="653" src="https://images2.imgbox.com/0f/83/zlDMkJwJ_o.png" width="872"></p> 
<p> 头文件在inc中，库在win32的bin（.dll）和lib（.lib）中。</p> 
<p>这样就可以结合MFC进行使用了！！！！！</p> 
<p>在MFC中的应用转到之前x64的配置中（不管x86或者x64嵌入到mfc中的操作是一样的）：</p> 
<p><a href="https://blog.csdn.net/weixin_61900468/article/details/127502180?spm=1001.2014.3001.5502" title="OpenCASCADE(OCC) X64 在 MFC多文档中的应用案例（入门）_C++幼儿园中班小朋友的博客-CSDN博客">OpenCASCADE(OCC) X64 在 MFC多文档中的应用案例（入门）_C++幼儿园中班小朋友的博客-CSDN博客</a></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/13bdd78edc6b49a985e742fa1fa19588/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">JavaSE基础</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/3455563838fc30ac390caa23a736ac9a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Ribbon架构篇 - ZoneAvoidanceRule</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>