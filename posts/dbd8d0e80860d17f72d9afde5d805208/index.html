<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>利用NURBS曲线进行点云曲面拟合算法 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="利用NURBS曲线进行点云曲面拟合算法" />
<meta property="og:description" content="文章目录 介绍NURBS曲线C&#43;&#43;实现思路代码实现读取点云数据对点云进行预处理创建曲面模型将曲面模型转换为NURBS曲面 完整代码opennurbs.h说明vs2019安装OpenNURBS库编译OpenNURBS库 介绍 点云拟合曲面算法是将点云数据拟合成一个二次或高次曲面模型的算法。这种算法主要用于三维模型重建、计算机视觉、机器人感知、医学图像处理等领域。
常见的点云拟合曲面算法包括：
最小二乘法（Least Squares Method）：通过最小化点到曲面距离的平方和来拟合曲面模型。三角剖分算法（Triangulation-Based Method）：将点云构建成三角网格，再拟合成曲面模型。隐式曲面算法（Implicit Surface Method）：通过定义一个隐式函数来表示曲面，然后用点云数据来估计隐式函数的系数。基于贝叶斯学习的算法（Bayesian Learning-Based Method）：利用贝叶斯学习方法来拟合曲面模型，可以处理噪声和不确定性。深度学习算法（Deep Learning-Based Method）：通过深度学习算法来训练神经网络，实现点云到曲面的转换。
这些算法各有优缺点，选择合适的算法需要根据具体应用场景和要求。 NURBS曲线 Point cloud to NURBS是一种将点云数据拟合成NURBS曲面的软件，其点云拟合曲面算法是基于最小二乘法的。具体来说，该算法将点云数据视为一个离散的数据集，然后通过最小化点到曲面距离的平方和来拟合NURBS曲面模型，使得拟合曲面与原始点云数据的误差最小。该算法还可以通过调整参数来控制拟合曲面的精度和平滑度，以满足不同应用场景的需求。对于非常规形状的点云数据，该软件还提供了手动拟合曲面的功能，用户可以通过选取和编辑控制点来调整曲面模型，以达到更好的拟合效果。
C&#43;&#43;实现思路 在C&#43;&#43;中实现点云拟合曲面算法，可以使用最小二乘法来拟合曲面模型。具体步骤如下：
定义点云数据结构，包括点的坐标和法向量等信息。可以使用结构体或类来实现。
构建曲面模型，这里以二次曲面为例。二次曲面的一般式可以表示为：
F ( x , y ) = A x 2 &#43; B x y &#43; C y 2 &#43; D x &#43; E y &#43; F F(x,y) = Ax^{2} &#43; Bxy &#43; Cy^2 &#43; Dx &#43; Ey &#43; F F(x,y)=Ax2&#43;Bxy&#43;Cy2&#43;Dx&#43;Ey&#43;F
其中A、B、C、D、E、F为曲面的系数。
用最小二乘法来拟合曲面模型。最小二乘法的目标是最小化实际点云数据和拟合曲面之间的距离。具体来说，可以通过以下步骤来实现：
a. 选取一组控制点作为曲面的控制网格，然后根据这些控制点生成曲面网格。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/dbd8d0e80860d17f72d9afde5d805208/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-05-31T09:45:04+08:00" />
<meta property="article:modified_time" content="2023-05-31T09:45:04+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">利用NURBS曲线进行点云曲面拟合算法</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><ul><li><a href="#_1" rel="nofollow">介绍</a></li><li><a href="#NURBS_11" rel="nofollow">NURBS曲线</a></li><li><a href="#C_14" rel="nofollow">C++实现思路</a></li><li><a href="#_31" rel="nofollow">代码实现</a></li><li><ul><li><a href="#_33" rel="nofollow">读取点云数据</a></li><li><a href="#_40" rel="nofollow">对点云进行预处理</a></li><li><a href="#_57" rel="nofollow">创建曲面模型</a></li><li><a href="#NURBS_69" rel="nofollow">将曲面模型转换为NURBS曲面</a></li></ul> 
   </li><li><a href="#_106" rel="nofollow">完整代码</a></li><li><a href="#opennurbsh_178" rel="nofollow">opennurbs.h说明</a></li><li><ul><li><a href="#vs2019OpenNURBS_182" rel="nofollow">vs2019安装OpenNURBS库</a></li><li><a href="#OpenNURBS_204" rel="nofollow">编译OpenNURBS库</a></li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h3><a id="_1"></a>介绍</h3> 
<p>点云拟合曲面算法是将点云数据拟合成一个二次或高次曲面模型的算法。这种算法主要用于三维模型重建、计算机视觉、机器人感知、医学图像处理等领域。<br> 常见的点云拟合曲面算法包括：</p> 
<ol><li>最小二乘法（Least Squares Method）：通过最小化点到曲面距离的平方和来拟合曲面模型。</li><li>三角剖分算法（Triangulation-Based Method）：将点云构建成三角网格，再拟合成曲面模型。</li><li>隐式曲面算法（Implicit Surface Method）：通过定义一个隐式函数来表示曲面，然后用点云数据来估计隐式函数的系数。</li><li>基于贝叶斯学习的算法（Bayesian Learning-Based Method）：利用贝叶斯学习方法来拟合曲面模型，可以处理噪声和不确定性。</li><li>深度学习算法（Deep Learning-Based Method）：通过深度学习算法来训练神经网络，实现点云到曲面的转换。<br> 这些算法各有优缺点，选择合适的算法需要根据具体应用场景和要求。</li></ol> 
<h3><a id="NURBS_11"></a>NURBS曲线</h3> 
<p>Point cloud to NURBS是一种将点云数据拟合成NURBS曲面的软件，其点云拟合曲面算法是基于最小二乘法的。具体来说，该算法将点云数据视为一个离散的数据集，然后通过最小化点到曲面距离的平方和来拟合NURBS曲面模型，使得拟合曲面与原始点云数据的误差最小。该算法还可以通过调整参数来控制拟合曲面的精度和平滑度，以满足不同应用场景的需求。对于非常规形状的点云数据，该软件还提供了手动拟合曲面的功能，用户可以通过选取和编辑控制点来调整曲面模型，以达到更好的拟合效果。</p> 
<h3><a id="C_14"></a>C++实现思路</h3> 
<p>在C++中实现点云拟合曲面算法，可以使用最小二乘法来拟合曲面模型。具体步骤如下：</p> 
<ol><li> <p>定义点云数据结构，包括点的坐标和法向量等信息。可以使用结构体或类来实现。</p> </li><li> <p>构建曲面模型，这里以二次曲面为例。二次曲面的一般式可以表示为：<br> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
       
        
         
         
           F 
          
         
           ( 
          
         
           x 
          
         
           , 
          
         
           y 
          
         
           ) 
          
         
           = 
          
         
           A 
          
          
          
            x 
           
          
            2 
           
          
         
           + 
          
         
           B 
          
         
           x 
          
         
           y 
          
         
           + 
          
         
           C 
          
          
          
            y 
           
          
            2 
           
          
         
           + 
          
         
           D 
          
         
           x 
          
         
           + 
          
         
           E 
          
         
           y 
          
         
           + 
          
         
           F 
          
         
        
          F(x,y) = Ax^{2} + Bxy + Cy^2 + Dx + Ey + F 
         
        
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal" style="margin-right: 0.1389em;">F</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord mathnormal" style="margin-right: 0.0359em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.8974em; vertical-align: -0.0833em;"></span><span class="mord mathnormal">A</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8141em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.8778em; vertical-align: -0.1944em;"></span><span class="mord mathnormal" style="margin-right: 0.0502em;">B</span><span class="mord mathnormal">x</span><span class="mord mathnormal" style="margin-right: 0.0359em;">y</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1.0085em; vertical-align: -0.1944em;"></span><span class="mord mathnormal" style="margin-right: 0.0715em;">C</span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.0359em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8141em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.7667em; vertical-align: -0.0833em;"></span><span class="mord mathnormal" style="margin-right: 0.0278em;">D</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.8778em; vertical-align: -0.1944em;"></span><span class="mord mathnormal" style="margin-right: 0.0576em;">E</span><span class="mord mathnormal" style="margin-right: 0.0359em;">y</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.1389em;">F</span></span></span></span></span><br> 其中A、B、C、D、E、F为曲面的系数。</p> </li><li> <p>用最小二乘法来拟合曲面模型。最小二乘法的目标是最小化实际点云数据和拟合曲面之间的距离。具体来说，可以通过以下步骤来实现：<br> a. 选取一组控制点作为曲面的控制网格，然后根据这些控制点生成曲面网格。<br> b. 对于点云中的每个点，计算其到曲面的距离。<br> c. 通过最小化点到曲面距离的平方和来求得曲面系数。<br> d. 重复步骤b和c，直到拟合误差达到预设的精度要求。</p> </li><li> <p>将拟合后的曲面模型输出为NURBS格式或其他格式进行保存。<br> 以上是基本的实现步骤。当然，在具体实现时，还需要考虑一些细节问题，比如如何选择控制点、如何计算点到曲面的距离等等。此外，还可以根据具体需求和应用场景，对算法进行优化和改进，以提高拟合效果和运行效率。</p> </li></ol> 
<h3><a id="_31"></a>代码实现</h3> 
<p>实现点云拟合曲面算法参考以下步骤：</p> 
<h4><a id="_33"></a>读取点云数据</h4> 
<p>使用PCL库中的pcl::io::loadPCDFile函数读取点云数据，该函数的参数为点云数据文件的路径。读取后将点云数据存储在pcl::PointCloudpcl::PointXYZ::Ptr类型的指针中。</p> 
<pre><code class="prism language-cpp">pcl<span class="token double-colon punctuation">::</span>PointCloud<span class="token operator">&lt;</span>pcl<span class="token double-colon punctuation">::</span>PointXYZ<span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>Ptr <span class="token function">cloud</span><span class="token punctuation">(</span><span class="token keyword">new</span> pcl<span class="token double-colon punctuation">::</span>PointCloud<span class="token operator">&lt;</span>pcl<span class="token double-colon punctuation">::</span>PointXYZ<span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
pcl<span class="token double-colon punctuation">::</span>io<span class="token double-colon punctuation">::</span><span class="token generic-function"><span class="token function">loadPCDFile</span><span class="token generic class-name"><span class="token operator">&lt;</span>pcl<span class="token double-colon punctuation">::</span>PointXYZ<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">"cloud.pcd"</span><span class="token punctuation">,</span> <span class="token operator">*</span>cloud<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h4><a id="_40"></a>对点云进行预处理</h4> 
<p>预处理包括点云降采样和法向量估计。点云降采样可以使用PCL库中的pcl::VoxelGrid类实现，法向量估计可以使用PCL库中的pcl::NormalEstimation类实现。其中法向量估计的结果存储在pcl::PointCloudpcl::Normal::Ptr类型的指针中。</p> 
<pre><code class="prism language-cpp">pcl<span class="token double-colon punctuation">::</span>VoxelGrid<span class="token operator">&lt;</span>pcl<span class="token double-colon punctuation">::</span>PointXYZ<span class="token operator">&gt;</span> sor<span class="token punctuation">;</span>  <span class="token comment">// 创建一个降采样对象</span>
sor<span class="token punctuation">.</span><span class="token function">setInputCloud</span><span class="token punctuation">(</span>cloud<span class="token punctuation">)</span><span class="token punctuation">;</span>
sor<span class="token punctuation">.</span><span class="token function">setLeafSize</span><span class="token punctuation">(</span><span class="token number">0.01</span><span class="token punctuation">,</span> <span class="token number">0.01</span><span class="token punctuation">,</span> <span class="token number">0.01</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 设置降采样的尺寸</span>
sor<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token operator">*</span>cloud<span class="token punctuation">)</span><span class="token punctuation">;</span>
pcl<span class="token double-colon punctuation">::</span>NormalEstimation<span class="token operator">&lt;</span>pcl<span class="token double-colon punctuation">::</span>PointXYZ<span class="token punctuation">,</span> pcl<span class="token double-colon punctuation">::</span>Normal<span class="token operator">&gt;</span> ne<span class="token punctuation">;</span>  <span class="token comment">// 创建一个法向量估计对象</span>
pcl<span class="token double-colon punctuation">::</span>PointCloud<span class="token operator">&lt;</span>pcl<span class="token double-colon punctuation">::</span>Normal<span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>Ptr <span class="token function">normals</span><span class="token punctuation">(</span><span class="token keyword">new</span> pcl<span class="token double-colon punctuation">::</span>PointCloud<span class="token operator">&lt;</span>pcl<span class="token double-colon punctuation">::</span>Normal<span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
pcl<span class="token double-colon punctuation">::</span>search<span class="token double-colon punctuation">::</span>KdTree<span class="token operator">&lt;</span>pcl<span class="token double-colon punctuation">::</span>PointXYZ<span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>Ptr <span class="token function">tree</span><span class="token punctuation">(</span><span class="token keyword">new</span> pcl<span class="token double-colon punctuation">::</span>search<span class="token double-colon punctuation">::</span>KdTree<span class="token operator">&lt;</span>pcl<span class="token double-colon punctuation">::</span>PointXYZ<span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
tree<span class="token operator">-&gt;</span><span class="token function">setInputCloud</span><span class="token punctuation">(</span>cloud<span class="token punctuation">)</span><span class="token punctuation">;</span>
ne<span class="token punctuation">.</span><span class="token function">setInputCloud</span><span class="token punctuation">(</span>cloud<span class="token punctuation">)</span><span class="token punctuation">;</span>
ne<span class="token punctuation">.</span><span class="token function">setSearchMethod</span><span class="token punctuation">(</span>tree<span class="token punctuation">)</span><span class="token punctuation">;</span>
ne<span class="token punctuation">.</span><span class="token function">setKSearch</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ne<span class="token punctuation">.</span><span class="token function">compute</span><span class="token punctuation">(</span><span class="token operator">*</span>normals<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h4><a id="_57"></a>创建曲面模型</h4> 
<p>使用PCL库中的pcl::MovingLeastSquares类创建曲面模型，该类能够对点云进行平滑处理并拟合出曲面模型。其中，平滑处理的参数可以根据实际需求进行调整。曲面模型的结果存储在pcl::PointCloudpcl::PointXYZ::Ptr类型的指针中。</p> 
<pre><code class="prism language-cpp">pcl<span class="token double-colon punctuation">::</span>MovingLeastSquares<span class="token operator">&lt;</span>pcl<span class="token double-colon punctuation">::</span>PointXYZ<span class="token punctuation">,</span> pcl<span class="token double-colon punctuation">::</span>PointXYZ<span class="token operator">&gt;</span> mls<span class="token punctuation">;</span>  <span class="token comment">// 创建一个MovingLeastSquares对象</span>
mls<span class="token punctuation">.</span><span class="token function">setInputCloud</span><span class="token punctuation">(</span>cloud<span class="token punctuation">)</span><span class="token punctuation">;</span>
mls<span class="token punctuation">.</span><span class="token function">setPolynomialFit</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 设定是否拟合多项式曲面</span>
mls<span class="token punctuation">.</span><span class="token function">setPolynomialOrder</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 设定多项式曲面的阶数</span>
mls<span class="token punctuation">.</span><span class="token function">setSearchMethod</span><span class="token punctuation">(</span>tree<span class="token punctuation">)</span><span class="token punctuation">;</span>
mls<span class="token punctuation">.</span><span class="token function">setSearchRadius</span><span class="token punctuation">(</span><span class="token number">0.03</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 设定拟合半径</span>
mls<span class="token punctuation">.</span><span class="token function">process</span><span class="token punctuation">(</span><span class="token operator">*</span>cloud<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h4><a id="NURBS_69"></a>将曲面模型转换为NURBS曲面</h4> 
<p>使用OpenNURBS库将曲面模型转换为NURBS曲面。OpenNURBS是Rhino 3D软件的核心几何库，其提供了丰富的几何计算和NURBS曲面处理功能。将点云拟合曲面结果转换为NURBS曲面可以使用OpenNURBS库中的ON_NurbsSurface类实现。</p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"opennurbs.h"</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> ON<span class="token punctuation">;</span>
<span class="token comment">// 将点云拟合曲面转换为NURBS曲面</span>
ON_NurbsSurface <span class="token function">pclToNurbs</span><span class="token punctuation">(</span>pcl<span class="token double-colon punctuation">::</span>PointCloud<span class="token operator">&lt;</span>pcl<span class="token double-colon punctuation">::</span>PointXYZ<span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>Ptr cloud<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 创建NURBS曲面</span>
    ON_NurbsSurface nurbs<span class="token punctuation">;</span>
    nurbs<span class="token punctuation">.</span>m_dim <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>  <span class="token comment">// 维度设为3</span>
    <span class="token comment">// 将点云数据存储到NURBS曲面中</span>
    nurbs<span class="token punctuation">.</span>m_cv_count<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> cloud<span class="token operator">-&gt;</span>width<span class="token punctuation">;</span>
    nurbs<span class="token punctuation">.</span>m_cv_count<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> cloud<span class="token operator">-&gt;</span>height<span class="token punctuation">;</span>
    nurbs<span class="token punctuation">.</span>m_cv_stride<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
    nurbs<span class="token punctuation">.</span>m_cv_stride<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">3</span> <span class="token operator">*</span> nurbs<span class="token punctuation">.</span>m_cv_count<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    nurbs<span class="token punctuation">.</span>m_cv<span class="token punctuation">.</span><span class="token function">Resize</span><span class="token punctuation">(</span>nurbs<span class="token punctuation">.</span><span class="token function">CVSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> cloud<span class="token operator">-&gt;</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">double</span><span class="token operator">*</span> p <span class="token operator">=</span> nurbs<span class="token punctuation">.</span><span class="token function">CV</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        p<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> cloud<span class="token operator">-&gt;</span>points<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>x<span class="token punctuation">;</span>
        p<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> cloud<span class="token operator">-&gt;</span>points<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>y<span class="token punctuation">;</span>
        p<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> cloud<span class="token operator">-&gt;</span>points<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>z<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 设置NURBS曲面的属性</span>
    nurbs<span class="token punctuation">.</span>m_order<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
    nurbs<span class="token punctuation">.</span>m_order<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
    nurbs<span class="token punctuation">.</span>m_knot_capacity<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> nurbs<span class="token punctuation">.</span>m_cv_count<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> nurbs<span class="token punctuation">.</span>m_order<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    nurbs<span class="token punctuation">.</span>m_knot_capacity<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> nurbs<span class="token punctuation">.</span>m_cv_count<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> nurbs<span class="token punctuation">.</span>m_order<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    nurbs<span class="token punctuation">.</span>m_knot<span class="token punctuation">.</span><span class="token function">Resize</span><span class="token punctuation">(</span>nurbs<span class="token punctuation">.</span><span class="token function">KnotSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 生成NURBS曲面的节点</span>
    nurbs<span class="token punctuation">.</span><span class="token function">MakePeriodicUniformKnotVector</span><span class="token punctuation">(</span><span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// u方向</span>
    nurbs<span class="token punctuation">.</span><span class="token function">MakePeriodicUniformKnotVector</span><span class="token punctuation">(</span><span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// v方向</span>
    <span class="token keyword">return</span> nurbs<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="_106"></a>完整代码</h3> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;pcl/io/pcd_io.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;pcl/point_types.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;pcl/filters/voxel_grid.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;pcl/features/normal_3d.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;pcl/surface/mls.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"opennurbs.h"</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> ON<span class="token punctuation">;</span>
<span class="token comment">// 将点云拟合曲面转换为NURBS曲面</span>
ON_NurbsSurface <span class="token function">pclToNurbs</span><span class="token punctuation">(</span>pcl<span class="token double-colon punctuation">::</span>PointCloud<span class="token operator">&lt;</span>pcl<span class="token double-colon punctuation">::</span>PointXYZ<span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>Ptr cloud<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 创建NURBS曲面</span>
    ON_NurbsSurface nurbs<span class="token punctuation">;</span>
    nurbs<span class="token punctuation">.</span>m_dim <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>  <span class="token comment">// 维度设为3</span>
    <span class="token comment">// 将点云数据存储到NURBS曲面中</span>
    nurbs<span class="token punctuation">.</span>m_cv_count<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> cloud<span class="token operator">-&gt;</span>width<span class="token punctuation">;</span>
    nurbs<span class="token punctuation">.</span>m_cv_count<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> cloud<span class="token operator">-&gt;</span>height<span class="token punctuation">;</span>
    nurbs<span class="token punctuation">.</span>m_cv_stride<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
    nurbs<span class="token punctuation">.</span>m_cv_stride<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">3</span> <span class="token operator">*</span> nurbs<span class="token punctuation">.</span>m_cv_count<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    nurbs<span class="token punctuation">.</span>m_cv<span class="token punctuation">.</span><span class="token function">Resize</span><span class="token punctuation">(</span>nurbs<span class="token punctuation">.</span><span class="token function">CVSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> cloud<span class="token operator">-&gt;</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">double</span><span class="token operator">*</span> p <span class="token operator">=</span> nurbs<span class="token punctuation">.</span><span class="token function">CV</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        p<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> cloud<span class="token operator">-&gt;</span>points<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>x<span class="token punctuation">;</span>
        p<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> cloud<span class="token operator">-&gt;</span>points<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>y<span class="token punctuation">;</span>
        p<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> cloud<span class="token operator">-&gt;</span>points<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>z<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 设置NURBS曲面的属性</span>
    nurbs<span class="token punctuation">.</span>m_order<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
    nurbs<span class="token punctuation">.</span>m_order<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
    nurbs<span class="token punctuation">.</span>m_knot_capacity<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> nurbs<span class="token punctuation">.</span>m_cv_count<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> nurbs<span class="token punctuation">.</span>m_order<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    nurbs<span class="token punctuation">.</span>m_knot_capacity<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> nurbs<span class="token punctuation">.</span>m_cv_count<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> nurbs<span class="token punctuation">.</span>m_order<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    nurbs<span class="token punctuation">.</span>m_knot<span class="token punctuation">.</span><span class="token function">Resize</span><span class="token punctuation">(</span>nurbs<span class="token punctuation">.</span><span class="token function">KnotSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 生成NURBS曲面的节点</span>
    nurbs<span class="token punctuation">.</span><span class="token function">MakePeriodicUniformKnotVector</span><span class="token punctuation">(</span><span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// u方向</span>
    nurbs<span class="token punctuation">.</span><span class="token function">MakePeriodicUniformKnotVector</span><span class="token punctuation">(</span><span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// v方向</span>
    <span class="token keyword">return</span> nurbs<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span><span class="token operator">*</span> argv<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 读取点云数据</span>
    pcl<span class="token double-colon punctuation">::</span>PointCloud<span class="token operator">&lt;</span>pcl<span class="token double-colon punctuation">::</span>PointXYZ<span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>Ptr <span class="token function">cloud</span><span class="token punctuation">(</span><span class="token keyword">new</span> pcl<span class="token double-colon punctuation">::</span>PointCloud<span class="token operator">&lt;</span>pcl<span class="token double-colon punctuation">::</span>PointXYZ<span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    pcl<span class="token double-colon punctuation">::</span>io<span class="token double-colon punctuation">::</span><span class="token generic-function"><span class="token function">loadPCDFile</span><span class="token generic class-name"><span class="token operator">&lt;</span>pcl<span class="token double-colon punctuation">::</span>PointXYZ<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">"cloud.pcd"</span><span class="token punctuation">,</span> <span class="token operator">*</span>cloud<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 对点云进行预处理</span>
    pcl<span class="token double-colon punctuation">::</span>VoxelGrid<span class="token operator">&lt;</span>pcl<span class="token double-colon punctuation">::</span>PointXYZ<span class="token operator">&gt;</span> sor<span class="token punctuation">;</span>
    sor<span class="token punctuation">.</span><span class="token function">setInputCloud</span><span class="token punctuation">(</span>cloud<span class="token punctuation">)</span><span class="token punctuation">;</span>
    sor<span class="token punctuation">.</span><span class="token function">setLeafSize</span><span class="token punctuation">(</span><span class="token number">0.01</span><span class="token punctuation">,</span> <span class="token number">0.01</span><span class="token punctuation">,</span> <span class="token number">0.01</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    sor<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token operator">*</span>cloud<span class="token punctuation">)</span><span class="token punctuation">;</span>
    pcl<span class="token double-colon punctuation">::</span>NormalEstimation<span class="token operator">&lt;</span>pcl<span class="token double-colon punctuation">::</span>PointXYZ<span class="token punctuation">,</span> pcl<span class="token double-colon punctuation">::</span>Normal<span class="token operator">&gt;</span> ne<span class="token punctuation">;</span>
    pcl<span class="token double-colon punctuation">::</span>PointCloud<span class="token operator">&lt;</span>pcl<span class="token double-colon punctuation">::</span>Normal<span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>Ptr <span class="token function">normals</span><span class="token punctuation">(</span><span class="token keyword">new</span> pcl<span class="token double-colon punctuation">::</span>PointCloud<span class="token operator">&lt;</span>pcl<span class="token double-colon punctuation">::</span>Normal<span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    pcl<span class="token double-colon punctuation">::</span>search<span class="token double-colon punctuation">::</span>KdTree<span class="token operator">&lt;</span>pcl<span class="token double-colon punctuation">::</span>PointXYZ<span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>Ptr <span class="token function">tree</span><span class="token punctuation">(</span><span class="token keyword">new</span> pcl<span class="token double-colon punctuation">::</span>search<span class="token double-colon punctuation">::</span>KdTree<span class="token operator">&lt;</span>pcl<span class="token double-colon punctuation">::</span>PointXYZ<span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    tree<span class="token operator">-&gt;</span><span class="token function">setInputCloud</span><span class="token punctuation">(</span>cloud<span class="token punctuation">)</span><span class="token punctuation">;</span>
    ne<span class="token punctuation">.</span><span class="token function">setInputCloud</span><span class="token punctuation">(</span>cloud<span class="token punctuation">)</span><span class="token punctuation">;</span>
    ne<span class="token punctuation">.</span><span class="token function">setSearchMethod</span><span class="token punctuation">(</span>tree<span class="token punctuation">)</span><span class="token punctuation">;</span>
    ne<span class="token punctuation">.</span><span class="token function">setKSearch</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ne<span class="token punctuation">.</span><span class="token function">compute</span><span class="token punctuation">(</span><span class="token operator">*</span>normals<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 创建曲面模型</span>
    pcl<span class="token double-colon punctuation">::</span>MovingLeastSquares<span class="token operator">&lt;</span>pcl<span class="token double-colon punctuation">::</span>PointXYZ<span class="token punctuation">,</span> pcl<span class="token double-colon punctuation">::</span>PointXYZ<span class="token operator">&gt;</span> mls<span class="token punctuation">;</span>
    mls<span class="token punctuation">.</span><span class="token function">setInputCloud</span><span class="token punctuation">(</span>cloud<span class="token punctuation">)</span><span class="token punctuation">;</span>
    mls<span class="token punctuation">.</span><span class="token function">setPolynomialFit</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    mls<span class="token punctuation">.</span><span class="token function">setPolynomialOrder</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    mls<span class="token punctuation">.</span><span class="token function">setSearchMethod</span><span class="token punctuation">(</span>tree<span class="token punctuation">)</span><span class="token punctuation">;</span>
    mls<span class="token punctuation">.</span><span class="token function">setSearchRadius</span><span class="token punctuation">(</span><span class="token number">0.03</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    mls<span class="token punctuation">.</span><span class="token function">process</span><span class="token punctuation">(</span><span class="token operator">*</span>cloud<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 将曲面模型转换为NURBS曲面</span>
    ON_NurbsSurface nurbs <span class="token operator">=</span> <span class="token function">pclToNurbs</span><span class="token punctuation">(</span>cloud<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="opennurbsh_178"></a>opennurbs.h说明</h3> 
<p>opennurbs.h是OpenNURBS开源库的头文件，其中包含了用于3D几何建模和计算机辅助设计（CAD）的C++类和函数的声明。OpenNURBS是一个跨平台的库，可以在多个操作系统上运行，并支持各种CAD文件格式，如DWG、DXF和IGES等。开发人员可以使用OpenNURBS库来开发CAD软件、3D建模工具和其他与3D几何建模相关的应用程序。<br> 官网：<code>https://www.rhino3d.com/features/</code></p> 
<h4><a id="vs2019OpenNURBS_182"></a>vs2019安装OpenNURBS库</h4> 
<p>在GitHub上查找OpenNURBS的源代码，并从那里构建库。以下是在GitHub上获取OpenNURBS源代码的步骤：</p> 
<ol><li> <p>打开OpenNURBS的GitHub页面：https://github.com/mcneel/opennurbs</p> </li><li> <p>单击“Code”按钮，然后选择“Download ZIP”以下载源代码压缩包。</p> </li><li> <p>解压下载的压缩包。</p> </li><li> <p>打开Visual Studio，创建一个新的空白C++项目。</p> </li><li> <p>右键单击项目，选择“属性”。</p> </li><li> <p>在“属性页”中，展开“VC++目录”节点，选择“包含目录”选项，单击“编辑”按钮。</p> </li><li> <p>在“包含目录”对话框中，单击“新建”按钮，并指定OpenNURBS库头文件的路径（例如，可以使用源代码文件夹中的“opennurbs”文件夹）。<br> <img src="https://images2.imgbox.com/fc/69/u84ArnTW_o.png" alt="在这里插入图片描述"></p> </li><li> <p>返回“属性页”，展开“VC++目录”节点，选择“库目录”选项，单击“编辑”按钮。</p> </li><li> <p>在“库目录”对话框中，单击“新建”按钮，并指定OpenNURBS库文件的路径（例如，可以使用源代码文件夹中的“x64\Release”文件夹）。<br> <img src="https://images2.imgbox.com/1c/4f/mpyHk4eA_o.png" alt="在这里插入图片描述"></p> </li><li> <p>返回“属性页”，展开“链接器”节点，选择“输入”选项，单击“附加依赖项”属性。.右键点击我们的项目，选择属性，在链接器中把编译好的opennurbs静态链接库加入。先添加lib文件所在的文件夹，再添加所需要链接的具体的lib文件。<br> <img src="https://images2.imgbox.com/48/0e/Oin4hxLT_o.png" alt="在这里插入图片描述"></p> </li><li> <p>在“附加依赖项”属性中，添加OpenNURBS库文件的名称（例如“opennurbs_public_staticlib.lib”）。<br> <img src="https://images2.imgbox.com/5a/e1/aXN8tEPw_o.png" alt="在这里插入图片描述"></p> </li><li> <p>单击“确定”按钮关闭属性页。<br> VS2019项目已配置为使用OpenNURBS库。可以在代码中包含需要的头文件，然后编写代码来使用OpenNURBS中提供的类和函数。</p> </li></ol> 
<h4><a id="OpenNURBS_204"></a>编译OpenNURBS库</h4> 
<p>如果无法在OpenNURBS文件夹中找到“x64\Release”文件夹，是因为没有编译OpenNURBS库。在这种情况下，需要使用Visual Studio编译OpenNURBS库。以下是在Visual Studio中编译OpenNURBS库的步骤：</p> 
<ol><li>打开OpenNURBS的GitHub页面：https://github.com/mcneel/opennurbs</li><li>单击“Code”按钮，然后选择“Download ZIP”以下载源代码压缩包。</li><li>解压下载的压缩包。</li><li>在解压的文件中找到opennurbs_public.sln解决方案文件并打开，并选择平台和配置，然后点击opennurbs_public_staticlib右键生成：<br> <img src="https://images2.imgbox.com/12/a0/fvbS3pfi_o.png" alt="在这里插入图片描述"><br> 创建C++项目并使用OpenNURBS库：打开项目的stdafx.h文件，并添加以下代码：</li></ol> 
<pre><code class="prism language-bash">// defining OPENNURBS_PUBLIC_INSTALL_DIR enables automatic linking using pragmas
<span class="token comment">#define OPENNURBS_PUBLIC_INSTALL_DIR "&lt;MY_INSTALLPATH&gt;"</span>
// uncomment the next line <span class="token keyword">if</span> you want to use opennurbs as a DLL
//<span class="token comment">#define OPENNURBS_IMPORTS</span>
<span class="token comment">#include "&lt;MY_INSTALLPATH&gt;/opennurbs_public.h"</span>
</code></pre> 
<p>请将&lt;MY_INSTALLPATH&gt;替换为OpenNURBS库的安装路径，使用正斜杠作为目录分隔符。如果想要使用OpenNURBS作为DLL，请取消注释第三行的宏定义。<br> <img src="https://images2.imgbox.com/1b/44/ygxCjswp_o.png" alt="在这里插入图片描述"><br> 4. 编译C++项目并运行：<br> 现在，可以使用OpenNURBS库开发的C++项目了。编译项目并运行它，将自动链接到OpenNURBS库并使用其中的类和函数。<br> 此外，OpenNURBS库还提供了一些示例3dm文件，可以使用它们进行测试。这些示例文件可以在OpenNURBS库的代码仓库中找到。</p> 
<p>代码中就可以包含对应的头文件了，不会报错<br> <img src="https://images2.imgbox.com/87/6c/fheKlReO_o.png" alt="在这里插入图片描述"></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/bfdc7ff2b83ba1bf0849625907a063fc/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Conda config 报错 An HTTP error occurred when trying to retrieve this URL</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/671f75355693454643a75d7cae327365/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【测试报告】个人博客系统自动化测试报告</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>