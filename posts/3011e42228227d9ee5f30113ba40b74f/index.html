<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>配置FTP服务器实现用户的上传下载 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="配置FTP服务器实现用户的上传下载" />
<meta property="og:description" content=" 安装配置FTP服务 Windows Server 2008 R2系统中的FTP服务已经集成到了IIS 7.5的Web服务中，因此需要通过“服务器管理器”中的“添加角色向导”，在“Web服务器”角色中选择安装FTP服务器 FTP服务安装完成之后，可以通过“管理工具”中的“IIS管理器”对其进行配置管理。
系统默认并没有创建FTP站点，默认状态下，IIS管理器中只有一个Web站点，下面新建一个FTP站点 1、单击右侧“操作”面板中的“添加FTP站点”选项，启动“添加FTP站点”向导。
2、为站点起个名字，并制定FTP站点的主目录，我这里将“ftproot”作为FTP站点的主目录
3、指定站点的IP地址和端口号，由于尚未拥有SSL证书，因而将SSL设为“无”。
4、在“身份验证”中勾选“匿名”，即启用匿名身份验证。用时授权所有用户都具有读取权限。单击“完成”按钮，完成站点创建。
5、FTP站点添加完成后，用户即可使用指定的IP地址访问FTP服务器，格式为“ftp://FTP服务器的IP地址或计算机名”
下面对用户身份认证与权限进行设置，实现匿名用户只能下载，张三能下载上传，李四只能上传，要实现这个目的，可以通过配置“FTP身份验证”和“FTP授权规则”来实现 1、在“FTP身份验证”中要保证已经启用了“基本身份验证”
2、在“FTP授权规则”中指定允许访问的用户。这里的用户既可以使用本地用户，也可以使用域用户。例如，在FTP服务器上创建一个名为zhangsan的本地用户和名为lisi的本地用户，注意用户lisi没有读取权限，然后单击“添加允许规则”，为其分配读取和写入权限
3、设置好之后，在客户端进行测试。
客户端如果使用资源管理器或IE浏览器访问FTP站点，则自动使用匿名用户的身份访问站点。如果要切换用户，可以在窗口空白处右击，选择“登录”命令，就可以输入相应的用户进行身份验证。但是，登录后可以发现，无论是谁都没有写入权限。这是因为FTP服务器的权限设置是与NTFS权限结合起来的。所以，不仅要在IIS管理器中为指定用户分配权限，还需要对FTP站点主目录设置相应的NTFS权限。
4、对站点主目录进行NTFS权限设置，为zhangsan用户和lisi用户分配修改权限，再次用客户端进行测试
FTP不能上传的故障排错： ①检查ftp根目录文件夹的名是否正常（不能用汉字） ②文件夹的安全属性是否开启匿名用户的读写权限 ③删除文件夹，重新创建 FTP不能下载出现的最多情况： IE浏览器设置错误——解决方法：打开浏览器——工具——Internet选项—— 安全——本地internet——自定义——“下载”启用 " />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/3011e42228227d9ee5f30113ba40b74f/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-06-26T18:50:56+08:00" />
<meta property="article:modified_time" content="2019-06-26T18:50:56+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">配置FTP服务器实现用户的上传下载</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="FTP_0"></a>安装配置FTP服务</h2> 
<h3><a id="Windows_Server_2008_R2FTPIIS_75WebWebFTP_1"></a>Windows Server 2008 R2系统中的FTP服务已经集成到了IIS 7.5的Web服务中，因此需要通过“服务器管理器”中的“添加角色向导”，在“Web服务器”角色中选择安装FTP服务器</h3> 
<p>FTP服务安装完成之后，可以通过“管理工具”中的“IIS管理器”对其进行配置管理。<br> <img src="https://images2.imgbox.com/28/cd/RcdkA5vN_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="FTPIISWebFTP_4"></a>系统默认并没有创建FTP站点，默认状态下，IIS管理器中只有一个Web站点，下面新建一个FTP站点</h3> 
<p>1、单击右侧“操作”面板中的“添加FTP站点”选项，启动“添加FTP站点”向导。<br> <img src="https://images2.imgbox.com/34/1c/LEw4aEOr_o.png" alt="在这里插入图片描述"><br> 2、为站点起个名字，并制定FTP站点的主目录，我这里将“ftproot”作为FTP站点的主目录<br> <img src="https://images2.imgbox.com/62/f1/V3bH9Z3V_o.png" alt="在这里插入图片描述"><br> 3、指定站点的IP地址和端口号，由于尚未拥有SSL证书，因而将SSL设为“无”。<br> <img src="https://images2.imgbox.com/95/dc/0xzA1Kqv_o.png" alt="在这里插入图片描述"><br> 4、在“身份验证”中勾选“匿名”，即启用匿名身份验证。用时授权所有用户都具有读取权限。单击“完成”按钮，完成站点创建。<br> <img src="https://images2.imgbox.com/ec/83/chDZZKFP_o.png" alt="在这里插入图片描述"><br> 5、FTP站点添加完成后，用户即可使用指定的IP地址访问FTP服务器，格式为“<a href="ftp://FTP%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%9A%84IP%E5%9C%B0%E5%9D%80%E6%88%96%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%90%8D" rel="nofollow">ftp://FTP服务器的IP地址或计算机名</a>”<br> <img src="https://images2.imgbox.com/1f/c1/r8ZYJ2ka_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="FTPFTP_15"></a>下面对用户身份认证与权限进行设置，实现匿名用户只能下载，张三能下载上传，李四只能上传，要实现这个目的，可以通过配置“FTP身份验证”和“FTP授权规则”来实现</h3> 
<p>1、在“FTP身份验证”中要保证已经启用了“基本身份验证”<br> <img src="https://images2.imgbox.com/bd/76/4Ip2J5l9_o.png" alt="在这里插入图片描述"><br> 2、在“FTP授权规则”中指定允许访问的用户。这里的用户既可以使用本地用户，也可以使用域用户。例如，在FTP服务器上创建一个名为zhangsan的本地用户和名为lisi的本地用户，注意用户lisi没有读取权限，然后单击“添加允许规则”，为其分配读取和写入权限<br> <img src="https://images2.imgbox.com/1f/bf/KCz6560t_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/90/ba/vGP712Nt_o.png" alt="在这里插入图片描述"><br> 3、设置好之后，在客户端进行测试。<br> 客户端如果使用资源管理器或IE浏览器访问FTP站点，则自动使用匿名用户的身份访问站点。如果要切换用户，可以在窗口空白处右击，选择“登录”命令，就可以输入相应的用户进行身份验证。但是，登录后可以发现，无论是谁都没有写入权限。这是因为FTP服务器的权限设置是与NTFS权限结合起来的。所以，不仅要在IIS管理器中为指定用户分配权限，还需要对FTP站点主目录设置相应的NTFS权限。<br> <img src="https://images2.imgbox.com/f0/6e/2KO9azBm_o.png" alt="在这里插入图片描述"><br> 4、对站点主目录进行NTFS权限设置，为zhangsan用户和lisi用户分配修改权限，再次用客户端进行测试<br> <img src="https://images2.imgbox.com/c8/70/5bc7BAzw_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/90/20/giaixs0a_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="FTP_27"></a>FTP不能上传的故障排错：</h3> 
<pre><code>①检查ftp根目录文件夹的名是否正常（不能用汉字）
②文件夹的安全属性是否开启匿名用户的读写权限
③删除文件夹，重新创建
</code></pre> 
<h3><a id="FTP_31"></a>FTP不能下载出现的最多情况：</h3> 
<pre><code>IE浏览器设置错误——解决方法：打开浏览器——工具——Internet选项——
安全——本地internet——自定义——“下载”启用
</code></pre>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/76c80ba8eba07044f079dc681cd57e93/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">03 链表的删除：删除链表中与目标值相等的元素（Linked List 链表）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/734160de131cde631f3aec1c7f60bf63/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">DHCP服务的安装、配置与测试</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>