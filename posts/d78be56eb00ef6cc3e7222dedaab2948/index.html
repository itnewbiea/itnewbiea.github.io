<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>数字图像学习——双线性插值方法部分的讨论【个人详细推导】 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="数字图像学习——双线性插值方法部分的讨论【个人详细推导】" />
<meta property="og:description" content="写在前面：
虽然该部分内容属于基础中的基础，然而学习中会有“熟知≠真知”的情况，故决心写下笔记。本文着重对简单原理的详细推导，对你在免费文章和课程中不涉及的“坑”进行细致地数学剖析，结合自己做的图示，通过问题带动思考的引导方式系统地进行分情况讨论等……更加适合专业人士复习和初学者学习！
一、准备工作：
1.1认清几个事实：
(I).数字图像在计算机中是以矩阵形式储存，其行列下角标从0开始；
(II).矩阵中每个元素中储存对应数字图像中的像素值(可能不只一个通道)；
(III).矩阵中元素信息对应数字图像对应位置中的位置和像素值信息，却不包含实际图像中像素点本身大小。
(IV).将图像放置于坐标系中，y轴正方向向下，x轴正方向向右。
1.2提出几个设定：
(I).下述讨论中，为了便于理解，假设所有图像中的像素点均为边长1的正方形
(II).原图像尺寸(H=m, W=n)，原图像矩阵
(III).原图像中各点像素值(矩阵中元素值)与位置坐标满足映射
图 1 数字图像与对应矩阵图示
二、坐标变换讨论：
2.1 原图像、目标图像和插值点阵
设：目标图像尺寸(H=r, W=s), 图像矩阵
因此y方向(即H方向)变换比例为 ，
同理x方向(即W方向)变换比例为 。
那么在进行插值之前，我们就要试图找到图像B中各像素点与图像A中各像素点的“某种’位置’对应关系”，在此对应关系基础上，才可以应用插值算法。
那么位置对应关系如何建立？
我们很自然地认为只需要将B中像素坐标
即可得到 作为 的插值点并与A中相关的4个点进行插值运算得到像素值。
但是！请稍作思考，我们就会发现由于1.1(I)(即A、B矩阵中元素下角标规律)和1.2(I)的存在，图像尺寸之间的比例缩放与坐标换算之间存在差异，这种差异会导致我们的坐标按照③式变换后得到B的插值点阵 的坐标偏向左上角且与A于左上角对齐。这种“不对称”会给插值结果带来“不可接受”的偏差，因此我们需要消除。
那么，的坐标到底要如何做？
图 2 缩放前后数字图像与对应矩阵图示
图 3 图像B经比例变换后的点阵M与其矩阵图示
2.2几何中心的对齐
也许解决这个问题的思路之一就是“修正” 的坐标，方法就是对齐进行坐标平移变换使二者几何中心坐标相等，即所谓对齐。
那么，平移向量如何取？我们不妨以y轴方向(H方向)举例推导，x轴方向同理。
原图像几何中心坐标 ，
图像B的插值点阵 几何中心坐标 ，
无论向量直接对A、直接对B、直接对M或者对A、B同时平移，在数学上均可以推导出大家在很多文章中看到的“左右各 ”的形式，下面是直接对M平移的推导过程：
设：对M平移k个单位与A对齐，则根据④=⑤&#43;k式可以得，
将k值代回⑥到得，
看！我们成功得到的大家在资料中看到的⑦式同样形式的“左右各 ”结论。
但是，请注意！不要过度喜出望外，还记得我们仅仅是将“M几何中心坐标通过坐标平移变换与A的几何中心坐标重合”了么？
那么，M中其他坐标变换后的坐标表达式是什么呢？
2.3 关于插值矩阵中坐标的讨论【原创】
2.3.1 平移后插值点阵所对应矩阵坐标的取值范围
根据上一节知，我们对M中坐标进行平移变换，变换后得到新的插值点阵 ，则
图 4 点阵M经过坐标平移变换T的插值点阵与矩阵坐标图示
由于 ，我们可以得到y方向插值点阵 的坐标取值范围为" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/d78be56eb00ef6cc3e7222dedaab2948/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-12-03T19:20:08+08:00" />
<meta property="article:modified_time" content="2021-12-03T19:20:08+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">数字图像学习——双线性插值方法部分的讨论【个人详细推导】</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p style="margin-left:0;text-align:left;"><strong>写在前面：</strong></p> 
<p style="margin-left:0;text-align:left;">虽然该部分内容属于基础中的基础，然而学习中会有“熟知≠真知”的情况，故决心写下笔记。本文着重对简单原理的详细推导，对你在免费文章和课程中不涉及的“坑”进行细致地数学剖析，结合自己做的图示，通过问题带动思考的引导方式系统地进行分情况讨论等……更加适合专业人士复习和初学者学习！</p> 
<p style="margin-left:0;text-align:left;"><strong>一、准备工作：</strong></p> 
<p style="margin-left:0;text-align:left;"><strong><span style="color:#ed7d31;">1.1</span></strong><strong><span style="color:#ed7d31;">认清几个事实：</span></strong></p> 
<p style="margin-left:0;text-align:left;">       (I).数字图像在计算机中是以矩阵形式储存，其行列下角标从0开始；</p> 
<p style="margin-left:0;text-align:left;">       (II).矩阵中每个元素中储存对应数字图像中的像素值(可能不只一个通道)；</p> 
<p style="margin-left:0;text-align:left;">       (III).矩阵中元素信息对应数字图像对应位置中的位置和像素值信息，却不包含实际图像中像素点本身大小。</p> 
<p style="margin-left:0;text-align:left;">       (IV).将图像放置于坐标系中，y轴正方向向下，x轴正方向向右。</p> 
<p style="margin-left:0;text-align:left;"></p> 
<p style="margin-left:0;text-align:left;"><strong><span style="color:#ed7d31;">1.2</span></strong><strong><span style="color:#ed7d31;">提出几个设定：</span></strong></p> 
<p style="margin-left:0;text-align:left;">       (I).下述讨论中，为了便于理解，假设所有图像中的像素点均为边长1的正方形</p> 
<p style="margin-left:0;text-align:left;">(II).原图像尺寸(H=m, W=n)，原图像矩阵</p> 
<p style="margin-left:0px;text-align:center;"><img alt="" height="80" src="https://images2.imgbox.com/9f/53/zbsXqMNB_o.png" width="347"></p> 
<p style="margin-left:0px;text-align:right;"><img alt="" height="23" src="https://images2.imgbox.com/84/c6/1G535kN5_o.png" width="459"></p> 
<p style="margin-left:0;text-align:left;">       (III).原图像中各点像素值(矩阵中元素值)与位置坐标满足映射<img alt="" height="23" src="https://images2.imgbox.com/21/cd/gLVjwFo0_o.png" width="91"></p> 
<p style="text-align:center;"><img alt="" height="530" src="https://images2.imgbox.com/41/e4/lj1397zX_o.png" width="541"></p> 
<p style="margin-left:0;text-align:center;">图 1 <span style="color:#7f7f7f;">数字图像与对应矩阵图示</span></p> 
<p style="margin-left:0;text-align:left;"><strong>二、坐标变换讨论：</strong></p> 
<p style="margin-left:0;text-align:left;"><strong><span style="color:#ed7d31;">2.1 原图像、目标图像和插值点阵</span></strong></p> 
<p style="margin-left:0;text-align:left;">设：目标图像尺寸(H=r, W=s), 图像矩阵</p> 
<p style="margin-left:0px;text-align:center;"><img alt="" height="87" src="https://images2.imgbox.com/60/a4/tgTePqvK_o.png" width="317"></p> 
<p style="margin-left:0px;text-align:right;"><img alt="" height="23" src="https://images2.imgbox.com/e9/91/XPQiVcPO_o.png" width="450"></p> 
<p style="margin-left:0;text-align:left;">因此y方向(即H方向)变换比例为<img alt="" height="33" src="https://images2.imgbox.com/65/79/62Z3iQOu_o.png" width="117"> ，</p> 
<p style="margin-left:0;text-align:left;">同理x方向(即W方向)变换比例为<img alt="" height="33" src="https://images2.imgbox.com/ab/a5/TJbvwsZd_o.png" width="109"> 。</p> 
<p style="margin-left:0;text-align:left;">那么在进行插值之前，我们就要试图找到图像B中各像素点与图像A中各像素点的“某种’位置’对应关系”，在此对应关系基础上，才可以应用插值算法。</p> 
<p></p> 
<p style="margin-left:0;text-align:left;"><strong><span style="background-color:#ffff00;">那么位置对应关系如何建立？</span></strong></p> 
<p style="margin-left:0;text-align:left;">我们很自然地认为只需要将B中像素坐标</p> 
<p style="margin-left:0px;text-align:center;"><img alt="" height="68" src="https://images2.imgbox.com/46/e6/SSyYCZJ1_o.png" width="164"></p> 
<p style="margin-left:0;text-align:left;">即可得到<img alt="" height="21" src="https://images2.imgbox.com/a3/48/2ero71j1_o.png" width="79"> 作为<img alt="" height="21" src="https://images2.imgbox.com/85/82/B90eMrZg_o.png" width="57"> 的插值点并与A中相关的4个点进行插值运算得到像素值。</p> 
<p style="margin-left:0;text-align:left;">但是！请稍作思考，我们就会发现由于1.1(I)(即A、B矩阵中元素下角标规律)和1.2(I)的存在，图像尺寸之间的比例缩放与坐标换算之间存在差异，这种差异会导致我们的坐标按照③式变换后得到B的插值点阵<img alt="" height="21" src="https://images2.imgbox.com/2f/e1/B48WZdgi_o.png" width="37"> 的坐标偏向左上角且与A于左上角对齐。这种“不对称”会给插值结果带来“不可接受”的偏差，因此我们需要消除。</p> 
<p style="margin-left:0;text-align:left;"><strong><span style="background-color:#ffff00;">那么，</span></strong><img alt="" height="21" src="https://images2.imgbox.com/ea/ce/RffFXdep_o.png" width="36"><strong><span style="background-color:#ffff00;">的坐标到底要如何做？</span></strong></p> 
<p style="margin-left:0px;text-align:center;"><img alt="" height="530" src="https://images2.imgbox.com/22/17/vXXfDiuO_o.png" width="543"></p> 
<p style="text-align:center;"> 图 2 <span style="color:#7f7f7f;">缩放前后数字图像与对应矩阵图示</span></p> 
<p style="text-align:center;"><img alt="" height="530" src="https://images2.imgbox.com/60/c2/eOyA2LGP_o.png" width="542"></p> 
<p style="text-align:center;"> 图 3 <span style="color:#7f7f7f;">图像</span><span style="color:#7f7f7f;">B</span><span style="color:#7f7f7f;">经比例变换后的点阵</span><span style="color:#7f7f7f;">M</span><span style="color:#7f7f7f;">与其矩阵图示</span></p> 
<p style="margin-left:0;text-align:left;"><strong><span style="color:#ed7d31;">2.2</span></strong><strong><span style="color:#ed7d31;">几何中心的对齐</span></strong></p> 
<p style="margin-left:0;text-align:left;">也许解决这个问题的思路之一就是“修正”<img alt="" height="21" src="https://images2.imgbox.com/1c/93/trRFCdec_o.png" width="37"> 的坐标，方法就是对齐进行坐标平移变换使二者几何中心坐标相等，即所谓对齐。</p> 
<p style="margin-left:0;text-align:left;"><strong><span style="background-color:#ffff00;">那么，平移向量如何取？</span></strong>我们不妨以y轴方向(H方向)举例推导，x轴方向同理。</p> 
<p style="margin-left:0;text-align:left;">原图像几何中心坐标<img alt="" height="33" src="https://images2.imgbox.com/16/c4/TEUVrOIF_o.png" width="161"> ，</p> 
<p style="margin-left:0;text-align:left;">图像B的插值点阵<img alt="" height="21" src="https://images2.imgbox.com/6d/db/rgHc4tiz_o.png" width="37"> 几何中心坐标<img alt="" height="36" src="https://images2.imgbox.com/b6/bd/QsjJHoNm_o.png" width="329"> ，</p> 
<p style="margin-left:0;text-align:left;">无论向量直接对A、直接对B、直接对M或者对A、B同时平移，在数学上均可以推导出大家在很多文章中看到的“左右各<img alt="" height="29" src="https://images2.imgbox.com/15/3a/4QhlmzSq_o.png" width="23"> ”的形式，下面是直接对M平移的推导过程：</p> 
<p style="margin-left:0;text-align:left;"></p> 
<p style="margin-left:0;text-align:left;">设：对M平移k个单位与A对齐，则根据④=⑤+k式可以得，</p> 
<p style="margin-left:0px;text-align:center;"><img alt="" height="33" src="https://images2.imgbox.com/f7/45/hrtxbFzv_o.png" width="150"></p> 
<p></p> 
<p style="margin-left:0px;text-align:center;"><img alt="" height="39" src="https://images2.imgbox.com/fd/35/xt9GxBPL_o.png" width="228"></p> 
<p style="margin-left:0px;text-align:center;"><img alt="" height="39" src="https://images2.imgbox.com/f3/da/sD0OAt3d_o.png" width="228"></p> 
<p style="margin-left:0px;text-align:center;"><img alt="" height="39" src="https://images2.imgbox.com/5b/b6/PB1v1iqF_o.png" width="228"></p> 
<p style="margin-left:0px;text-align:center;"><img alt="" height="41" src="https://images2.imgbox.com/2b/e7/oixDbTzv_o.png" width="207"></p> 
<p style="margin-left:0px;text-align:center;"><img alt="" height="39" src="https://images2.imgbox.com/46/71/aXTVsn7K_o.png" width="207"></p> 
<p style="margin-left:0;text-align:left;">将k值代回⑥到得，</p> 
<p style="margin-left:0px;text-align:center;"><img alt="" height="39" src="https://images2.imgbox.com/78/b4/kSjoR83i_o.png" width="172"></p> 
<p style="margin-left:0px;text-align:center;"><img alt="" height="39" src="https://images2.imgbox.com/5d/a2/l0ZDl12d_o.png" width="172"></p> 
<p style="margin-left:0px;text-align:center;"><img alt="" height="39" src="https://images2.imgbox.com/4d/41/hRiMvZY8_o.png" width="205"></p> 
<p style="margin-left:0px;text-align:center;"><img alt="" height="40" src="https://images2.imgbox.com/9c/d9/WCrPYHB3_o.png" width="232"></p> 
<p style="margin-left:0;text-align:left;">看！我们成功得到的大家在资料中看到的⑦式同样形式的“左右各<img alt="" height="29" src="https://images2.imgbox.com/28/ac/FZvY1cx5_o.png" width="23"> ”结论。</p> 
<p style="margin-left:0;text-align:left;">但是，请注意！不要过度喜出望外，还记得我们仅仅是将“M几何中心坐标通过坐标平移变换与A的几何中心坐标重合”了么？</p> 
<p style="margin-left:0;text-align:left;"><strong><span style="background-color:#ffff00;">那么，M中其他坐标变换后的坐标表达式是什么呢？</span></strong></p> 
<p style="margin-left:0;text-align:left;"></p> 
<p style="margin-left:0;text-align:left;"><strong><span style="color:#ed7d31;">2.3</span></strong><strong><span style="color:#ed7d31;"> 关于插值矩阵中坐标的讨论【原创】</span></strong></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#0070c0;">2.3.1 </span><span style="color:#0070c0;">平移后插值点阵所对应矩阵坐标</span><img alt="" height="21" src="https://images2.imgbox.com/f4/0e/XaAasUdh_o.png" width="19"><span style="color:#0070c0;">的取值范围</span></p> 
<p style="margin-left:0;text-align:left;">根据上一节知，我们对M中坐标进行平移变换，变换后得到新的插值点阵<img alt="" height="21" src="https://images2.imgbox.com/95/56/rvFyp39I_o.png" width="31"> ，则</p> 
<p style="margin-left:0px;text-align:center;"><img alt="" height="39" src="https://images2.imgbox.com/32/c6/hCFBMO5H_o.png" width="159"></p> 
<p style="margin-left:0px;text-align:center;"><img alt="" height="39" src="https://images2.imgbox.com/93/4d/3S73eSA2_o.png" width="192"></p> 
<p style="text-align:center;"><img alt="" height="541" src="https://images2.imgbox.com/0d/43/yW2kgpIW_o.png" width="550"></p> 
<p style="text-align:center;"> 图 4 <span style="color:#7f7f7f;">点阵</span><span style="color:#7f7f7f;">M</span><span style="color:#7f7f7f;">经过坐标平移变换</span><span style="color:#7f7f7f;">T</span><span style="color:#7f7f7f;">的插值点阵与矩阵坐标图示</span></p> 
<p style="margin-left:0;text-align:left;">由于<img alt="" height="21" src="https://images2.imgbox.com/f9/15/EiQIjzrl_o.png" width="122"> ，我们可以得到y方向插值点阵<img alt="" height="21" src="https://images2.imgbox.com/16/b6/zLdP4S0P_o.png" width="31"> 的坐标取值范围为</p> 
<p style="margin-left:0px;text-align:center;"><a name="_Hlk89294116"></a><br><br><br><br><br><img alt="" height="39" src="https://images2.imgbox.com/c0/dc/cnTSuPjf_o.png" width="368"></p> 
<p style="margin-left:0px;text-align:center;"></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#0070c0;">2.3.2 </span><span style="color:#0070c0;">平移后插值点阵的矩阵坐标</span><em><span style="color:#0070c0;">yT</span></em><img alt="" height="21" src="https://images2.imgbox.com/d8/85/VQvSsoih_o.png" width="19"><span style="color:#0070c0;">的取值范围边界的分类讨论</span></p> 
<p style="margin-left:0;text-align:left;">       设：<img alt="" height="31" src="https://images2.imgbox.com/6b/7d/rEWE60iR_o.png" width="126"> ，<img alt="" height="31" src="https://images2.imgbox.com/15/0a/qaKjgIZi_o.png" width="234"> ,则<img alt="" height="21" src="https://images2.imgbox.com/91/0a/5nBjLnNZ_o.png" width="126"></p> 
<p style="margin-left:0;text-align:left;">(i)如果目标图像B相对原图像A是放大，则<img alt="" height="21" src="https://images2.imgbox.com/c0/f0/bZgq4ZOG_o.png" width="123"></p> 
<p style="margin-left:0px;text-align:center;"><img alt="" height="42" src="https://images2.imgbox.com/47/c7/72lAcMK9_o.png" width="366"></p> 
<p style="margin-left:0;text-align:left;">即<img alt="" height="32" src="https://images2.imgbox.com/00/57/jIkaYwX7_o.png" width="174"> 落在原图像“最小坐标”之外，它与落在原图像之内的点在进行双线性插值的时候算法上将会有差别。</p> 
<p style="margin-left:0;text-align:left;"><strong><span style="background-color:#ffff00;">P.S.</span></strong><strong><span style="background-color:#ffff00;">那么等价矩阵中只有最小值</span></strong><img alt="" height="22" src="https://images2.imgbox.com/9d/d2/238zFqMX_o.png" width="46"><strong><span style="background-color:#ffff00;">在原图像最小坐标之外么？</span></strong></p> 
<p style="margin-left:0;text-align:left;">我们来验证一下：设：<img alt="" height="21" src="https://images2.imgbox.com/58/00/KRAUYhm7_o.png" width="65"> ，令</p> 
<p style="margin-left:0px;text-align:center;"><img alt="" height="39" src="https://images2.imgbox.com/92/a2/o7vP9jPQ_o.png" width="323"></p> 
<p style="margin-left:0px;text-align:center;"><img alt="" height="40" src="https://images2.imgbox.com/23/32/PrqsqRgG_o.png" width="295"></p> 
<p style="margin-left:0px;text-align:center;"><img alt="" height="40" src="https://images2.imgbox.com/38/13/VxaQv3S6_o.png" width="203"></p> 
<p style="margin-left:0;text-align:left;">又</p> 
<p style="margin-left:0px;text-align:center;"><img alt="" height="21" src="https://images2.imgbox.com/47/17/SwGZIWtu_o.png" width="178"></p> 
<p style="margin-left:0;text-align:left;">翻译翻译就是：y轴负方向上有且仅有<img alt="" height="22" src="https://images2.imgbox.com/fd/94/fjJJmKwP_o.png" width="46"> 在原图像“最小坐标”之外。</p> 
<p style="margin-left:0;text-align:left;"></p> 
<p style="margin-left:0;text-align:left;">下面我们进行对上限取值范围的讨论：</p> 
<p style="margin-left:0px;text-align:center;"><img alt="" height="42" src="https://images2.imgbox.com/c3/6f/ai78v7Xh_o.png" width="426"></p> 
<p style="margin-left:0px;text-align:center;"><img alt="" height="42" src="https://images2.imgbox.com/ea/91/CCobsp16_o.png" width="505"></p> 
<p style="margin-left:0;text-align:left;">即<img alt="" height="32" src="https://images2.imgbox.com/cc/ad/VTse1mOn_o.png" width="247">  落在原图像“最大坐标”之外，它与落在原图像之内的点在进行双线性插值的时候算法上将会有差别。(此时要注意我们已经证明了插值点阵中的四个角点更加特殊)</p> 
<p style="margin-left:0;text-align:left;"><strong><span style="background-color:#ffff00;">P.S.</span></strong><strong><span style="background-color:#ffff00;">那么等价矩阵中只有最小值</span></strong><img alt="" height="22" src="https://images2.imgbox.com/d2/53/nOgaukfn_o.png" width="48"><strong><span style="background-color:#ffff00;">在原图像最大坐标之外么？</span></strong></p> 
<p style="margin-left:0;text-align:left;">我们来验证一下：设：<img alt="" height="21" src="https://images2.imgbox.com/51/42/HpC1mBpd_o.png" width="65"> ，令</p> 
<p style="margin-left:0px;text-align:center;"><img alt="" height="39" src="https://images2.imgbox.com/6c/69/tw9lcEHz_o.png" width="517"></p> 
<p style="margin-left:0px;text-align:center;"><img alt="" height="39" src="https://images2.imgbox.com/24/0d/mBDHbPNm_o.png" width="340"></p> 
<p style="margin-left:0px;text-align:center;"><img alt="" height="39" src="https://images2.imgbox.com/84/2f/pP24Grl5_o.png" width="119"></p> 
<p style="margin-left:0px;text-align:center;"><img alt="" height="39" src="https://images2.imgbox.com/22/a8/21NhEDtx_o.png" width="316"></p> 
<p style="margin-left:0;text-align:left;">又</p> 
<p style="margin-left:0px;text-align:center;"><img alt="" height="21" src="https://images2.imgbox.com/40/7a/dbU9xf6h_o.png" width="178"></p> 
<p style="margin-left:0;text-align:left;">翻译翻译就是：y轴正方向上有且仅有<img alt="" height="22" src="https://images2.imgbox.com/03/79/DFkikgV2_o.png" width="48"> 在原图像“最大坐标”之外。</p> 
<p style="margin-left:0;text-align:left;"></p> 
<p style="margin-left:0;text-align:left;">(ii)如果目标图像B相对原图像A是缩小，则<img alt="" height="21" src="https://images2.imgbox.com/ef/25/utSsnmv2_o.png" width="103"> (<span style="background-color:#d9d9d9;"><span style="color:#000000;">注意</span></span><span style="background-color:#d9d9d9;"><span style="color:#000000;">m&gt;</span></span><strong><span style="background-color:#d9d9d9;"><span style="color:#ff0000;">2</span></span></strong>)</p> 
<p style="margin-left:0px;text-align:center;"><img alt="" height="42" src="https://images2.imgbox.com/8b/13/WatkXRHp_o.png" width="432"></p> 
<p style="margin-left:0px;text-align:center;"><img alt="" height="22" src="https://images2.imgbox.com/e9/92/1Xqp6jk6_o.png" width="109"></p> 
<p style="margin-left:0;text-align:left;">即y轴负方向上<img alt="" height="22" src="https://images2.imgbox.com/6d/c4/JrBKnYkr_o.png" width="46"> 在原图像“最小坐标”之内。</p> 
<p style="margin-left:0;text-align:left;"></p> 
<p style="margin-left:0;text-align:left;">下面我们进行对上限取值范围的讨论：</p> 
<p style="margin-left:0px;text-align:center;"><img alt="" height="42" src="https://images2.imgbox.com/65/40/SDX9FIxT_o.png" width="464"></p> 
<p style="margin-left:0px;text-align:center;"><img alt="" height="42" src="https://images2.imgbox.com/b6/71/qK52XhM9_o.png" width="291"></p> 
<p style="margin-left:0;text-align:left;">即y轴正方向上<img alt="" height="22" src="https://images2.imgbox.com/0e/9c/OLn4YKKS_o.png" width="48"> 在原图像“最大坐标”之内。</p> 
<p style="margin-left:0;text-align:left;">其余情况，如变换比例为1或原图(H=W=2)缩小为新图(H=W=1)等情况不作讨论。</p> 
<p style="margin-left:0;text-align:left;">至此关于插值点阵<img alt="" height="21" src="https://images2.imgbox.com/76/62/O3YqP3V0_o.png" width="31"> 中矩阵坐标的讨论结束！</p> 
<p style="margin-left:0;text-align:left;"></p> 
<p style="margin-left:0;text-align:left;"><strong>三、双线性插值思路和方法讨论：</strong></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#ed7d31;">3.1 </span><span style="color:#ed7d31;">线性插值原理</span><span style="color:#ed7d31;">【二创】</span></p> 
<p style="margin-left:0;text-align:left;">(为了避免与前几章相关名词或符号相混淆，也为了更适合接下来的讨论，本人对线性插值介绍的一些名词和符号做了调整。)</p> 
<p style="margin-left:0;text-align:left;">设：平面直角坐标系中存在已知的两点坐标分别为<img alt="" height="21" src="https://images2.imgbox.com/d3/69/q3GYfRdw_o.png" width="69"> 和<img alt="" height="21" src="https://images2.imgbox.com/3b/e4/bbeCRPge_o.png" width="73"> (两点横纵坐标各不相等)，已知另外两个横坐标<img alt="" height="21" src="https://images2.imgbox.com/0e/f3/Wmsjoff4_o.png" width="55"></p> 
<p style="margin-left:0;text-align:left;">求：当<img alt="" height="21" src="https://images2.imgbox.com/6d/c7/nMzHqVqB_o.png" width="111"> 和<img alt="" height="21" src="https://images2.imgbox.com/49/2f/14ZUGLSr_o.png" width="117"> 在CD两点所在所确定的直线上时的坐标。</p> 
<p style="margin-left:0;text-align:left;">我们知道，如果点在直线上，那么该点坐标一定满足该直线方程。</p> 
<p style="margin-left:0;text-align:justify;">首先求该直线方程，根据点斜式可知：<img alt="" height="43" src="https://images2.imgbox.com/d5/7a/i9mvk3fF_o.png" width="269"></p> 
<p style="margin-left:0;text-align:left;">只需将<img alt="" height="21" src="https://images2.imgbox.com/ec/1d/tUxBvzIB_o.png" width="55"> 带入⑨式即可求得两点坐标。</p> 
<p style="margin-left:0px;text-align:center;"><img alt="" height="530" src="https://images2.imgbox.com/ee/78/e1ZyLdRO_o.png" width="543"></p> 
<p style="text-align:center;">图 5 <span style="color:#7f7f7f;">线性插值原理图示</span> </p> 
<p style="margin-left:0;text-align:left;"></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#ed7d31;">3.2 </span><span style="color:#ed7d31;">双线性插值原理</span><span style="color:#ed7d31;">【二创】</span></p> 
<p style="margin-left:0;text-align:left;">即使用3次线性插值，其中前两次插值所得到的点所确定的直线用于第三次插值。</p> 
<p style="margin-left:0;text-align:left;">已知原图像中点<img alt="" height="23" src="https://images2.imgbox.com/70/ef/EP3vr2O1_o.png" width="62"> 的像素值满足<img alt="" height="23" src="https://images2.imgbox.com/3a/12/zL3vEV3l_o.png" width="72"> ，那么图6中欲通过双线性插值得到点T的像素值，就需要先通过两次线性插值得到<img alt="" height="21" src="https://images2.imgbox.com/27/43/KWCqyrED_o.png" width="44"> 和<img alt="" height="21" src="https://images2.imgbox.com/ae/d7/zKR0sITL_o.png" width="46"> 的像素值，即</p> 
<p style="margin-left:0px;text-align:center;"><img alt="" height="50" src="https://images2.imgbox.com/11/81/Ui7Jt2FA_o.png" width="478"></p> 
<p style="margin-left:0px;text-align:center;"><img alt="" height="50" src="https://images2.imgbox.com/c6/e6/U4ffgQMt_o.png" width="454"></p> 
<p style="margin-left:0;text-align:left;">同理可得，</p> 
<p style="margin-left:0px;text-align:center;"><img alt="" height="50" src="https://images2.imgbox.com/fa/a2/8GMDAJk0_o.png" width="457"></p> 
<p></p> 
<p style="text-align:center;"><img alt="" height="530" src="https://images2.imgbox.com/4b/64/y7VJK3PV_o.png" width="466"></p> 
<p style="text-align:center;">图 6 <span style="color:#7f7f7f;">双线性插值过程图示</span> </p> 
<p style="margin-left:0;text-align:left;">则做第三次线性插值</p> 
<p style="margin-left:0px;text-align:center;"><img alt="" height="50" src="https://images2.imgbox.com/38/2c/JCcM8T19_o.png" width="473"></p> 
<p style="margin-left:0;text-align:left;">如果考虑实际情况，则有<img alt="" height="23" src="https://images2.imgbox.com/5e/d7/nvZOBAaQ_o.png" width="98"> 且<img alt="" height="23" src="https://images2.imgbox.com/f0/19/a8CU3OwW_o.png" width="105"> ，那么</p> 
<p style="margin-left:0px;text-align:center;"><img alt="" height="78" src="https://images2.imgbox.com/07/be/PQTx2w6t_o.png" width="523"></p> 
<p style="margin-left:0;text-align:left;">经过代入化简可以得到某些资料上的那个“四项式”(下述紫色部分式子)：</p> 
<p style="margin-left:0px;text-align:center;"><a name="_Hlk89694690" title=""></a><img alt="" height="24" src="https://images2.imgbox.com/c8/32/v6DBhLMK_o.png" width="368"></p> 
<p style="margin-left:0px;text-align:center;"><img alt="" height="24" src="https://images2.imgbox.com/11/85/rVWnXvd2_o.png" width="526"></p> 
<p style="margin-left:0px;text-align:center;"><img alt="" height="24" src="https://images2.imgbox.com/f2/a9/joFZnYli_o.png" width="511"></p> 
<p style="margin-left:0px;text-align:center;"><img alt="" height="24" src="https://images2.imgbox.com/5c/c7/P91ZvpHY_o.png" width="511"></p> 
<p style="margin-left:0px;text-align:center;"><img alt="" height="24" src="https://images2.imgbox.com/3e/c9/kydLfBcK_o.png" width="496"></p> 
<p>  </p> 
<p style="margin-left:0;text-align:left;"></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#ed7d31;">3.3</span><span style="color:#ed7d31;"> 双线性插值实际应用时对特殊情况的处理【原创】</span></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#0070c0;">情况一：比例为</span><span style="color:#0070c0;">1</span><span style="color:#0070c0;">的缩放</span></p> 
<p style="margin-left:0;text-align:left;">如果遇到图片缩放比例为1时，考虑功耗和代码运行效率等，虽然此时仍可以无障碍运行插值算法代码程序，但仍建议代码中在判定成功时，直接copy原图像直接输出。</p> 
<p style="margin-left:0;text-align:left;"><span style="color:#0070c0;">情况二：放大图像</span></p> 
<p style="margin-left:0;text-align:left;">从双线性插值原理我们不难得知，所有插值是假设使用“内插值”。虽然数学上我们同样可以使用4个点阵对点阵外一点使用“外插值”，但是在实际计算机处理大量数据时，其常常是采用循环语句进行批量处理，因此不可避免需要增加判断语句代码，对外插值情况编写单独算法。</p> 
<p style="margin-left:0;text-align:left;">例如2.3.2的结论，在图像放大时，等价点阵的最外层的一圈点的矩阵坐标在原图像矩阵坐标“外侧”。因此对于四个角上的点，我们需要单独以原图像对应的四角方格的4个点阵做外插值；而对于四条边上的点，则需要选取最临近的一个方格的4个点做外插值。</p> 
<p style="margin-left:0;text-align:left;"></p> 
<p style="margin-left:0;text-align:left;"><strong>四、总结：</strong></p> 
<p style="margin-left:0;text-align:left;"></p> 
<p style="margin-left:0;text-align:left;"><img alt="" height="21" src="https://images2.imgbox.com/21/cb/HO9LXyNf_o.png" width="31"> 无论百度或者知乎等关于“双线性插值”的介绍都集中于对基础数学原理的简单推导和“为什么要在等式两端<img alt="" height="29" src="https://images2.imgbox.com/2e/8d/9USQi5nD_o.png" width="7"> ”做简单推导。</p> 
<p style="margin-left:0;text-align:left;">而本笔记针对作业中实际问题作更加细致的讨论，所涉及到运用的知识为高中或者大一的数学知识，作图部分仅靠office家族即可完成。公式推导部分更加详细且整洁，图示信息更加丰富且易读。</p> 
<p style="margin-left:0;text-align:left;">本笔记并没有将得到的结论应用于代码实践中，原因在于：可实现算法的编程语言众多，如C++、Java或者python等不便于也没能力逐一展示。但通过上述几章的讨论，我们已经知道了当解释器报错或者输出结果不堪入目的时候，有可能就是我们的代码在处理数学结果上没有同样分类处理所造成的。</p> 
<p style="margin-left:0;text-align:left;">需要指出的是，不同人提出的处理方法各不相同，也有可能提出的新解决方法的同时也引入的新的问题。这就要求我们对不同解决方案之间评估风险，做出取舍……一切以“最适合”解决所面临的问题为最优先。</p> 
<p style="margin-left:0;text-align:left;">鉴于本笔记是在作者七次推导失败后形成的，相信一定仍存在漏洞，甚至是错误。请大家一定多提问题，对任何错误及时加以批评指正！</p> 
<p style="margin-left:0;text-align:left;">谢谢大家！希望大家永远支持原创！</p> 
<p style="margin-left:0;text-align:left;"></p> 
<p style="margin-left:0;text-align:center;"><strong>附录</strong></p> 
<p style="margin-left:0;text-align:left;">扩展阅读：（谨防标题党）</p> 
<p style="margin-left:0;text-align:left;">1、图像插值算法原理介绍：<a href="https://blog.51cto.com/u_14411234/3089890" rel="nofollow" title="图像插值算法原理介绍【图文】_小白学视觉_51CTO博客">图像插值算法原理介绍【图文】_小白学视觉_51CTO博客</a></p> 
<p style="margin-left:0;text-align:left;">2、如何理解双线性插值中图像坐标映射带0.5偏移：https://zhuanlan.zhihu.com/p/161457977</p> 
<p style="margin-left:0;text-align:left;">3、图像处理之双线性插值法：https://blog.csdn.net/qq_37577735/article/details/80041586</p> 
<p style="margin-left:0;text-align:left;">4、一篇文章为你讲透双线性插值：https://zhuanlan.zhihu.com/p/110754637</p> 
<p style="margin-left:0;text-align:left;">5、三十分钟理解：线性插值，双线性插值Bilinear Interpolation算法：https://blog.csdn.net/xbinworld/article/details/65660665/</p> 
<p style="margin-left:0;text-align:left;">6、双线性插值 Bilinear Interpolation：(英文)<br> https://blog.csdn.net/qq_33804792/article/details/117483210?utm_medium=distribute.pc_aggpage_search_result.none-task-blog-2~aggregatepage~first_rank_ecpm_v1~rank_v31_ecpm-1-117483210.pc_agg_new_rank&amp;utm_term=bilinear+interpolation&amp;spm=1000.2123.3001.4430</p> 
<p style="margin-left:0;text-align:left;"></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/29f46b076562f9397da6617a377d4541/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Java并发编程之AQS</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b0bf1d59c371f3094f8289b4dc816318/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【转】词嵌入的人话解释</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>