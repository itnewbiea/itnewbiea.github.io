<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>RedHat 7 安装HTTPD - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="RedHat 7 安装HTTPD" />
<meta property="og:description" content="1.查看操作系统版本 [root@aws srclib]# cat /etc/redhat-release Red Hat Enterprise Linux Server release 7.4 (Maipo) 2.首先安装apr,本例子是1.6.3版本 wget http://mirrors.cnnic.cn/apache/apr/apr-1.6.3.tar.gz 下载之后就是解压 tar -xzvf apr-1.6.3.tar.gz 进入apr目录，执行configure命令，该命令本例就一个参数 ，设置安装目录 cd /usr/local/src/apr-1.6.3
./configure --prefix=/usr/local/apr 配置好之后，执行make和make install make &amp;&amp; make install 3.安装 apr-util ，本例的版本是1.6.1 wget http://mirrors.cnnic.cn/apache/apr/apr-util-1.6.1.tar.bz2 在解压的时候有可能遇到报错： [root@aws src]# tar -jxvf apr-util-1.6.1.tar.bz2
tar (child): bzip2: Cannot exec: No such file or directory
tar (child): Error is not recoverable: exiting now
tar: Child returned status 2
tar: Error is not recoverable: exiting now 解决的办法是： yum -y install bzip2 接下来和安装apr一样，先运行configure命令 ." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/d45c53f24b4ef41d19910bd0d481a999/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-02-23T20:01:21+08:00" />
<meta property="article:modified_time" content="2018-02-23T20:01:21+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">RedHat 7 安装HTTPD</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div class="preview-main"> 
 <strong>1.查看操作系统版本</strong> 
 <br> 
 <br> 
 <div id="codeText" class="codeText"> 
  <ol start="1" class="dp-css none_number"><li> <span style="color:#000000;"><span style="color:#0000CC;">[</span>root<span style="color:#0000FF;">@</span><span style="color:#008080;">aws</span> srclib<span style="color:#0000CC;">]</span><span style="color:#0000CC;">#</span> cat <span style="color:#0000CC;">/</span>etc<span style="color:#0000CC;">/</span>redhat-release <br></span> </li><li> Red Hat Enterprise Linux Server release 7<span style="color:#0000CC;">.</span>4 <span style="color:#0000CC;">(</span>Maipo<span style="color:#0000CC;">)</span> </li></ol> 
 </div> 
 <strong>2.首先安装apr,本例子是1.6.3版本</strong> 
 <br> 
 <strong></strong> 
 <br> 
 <div class="codeText"> 
  <ol start="1" class="dp-css none_number"><li> <span style="color:#000000;">wget http:<span style="color:#0000CC;">/</span><span style="color:#0000CC;">/</span>mirrors<span style="color:#0000CC;">.</span>cnnic<span style="color:#0000CC;">.</span>cn<span style="color:#0000CC;">/</span>apache<span style="color:#0000CC;">/</span>apr<span style="color:#0000CC;">/</span>apr-1<span style="color:#0000CC;">.</span>6<span style="color:#0000CC;">.</span>3<span style="color:#0000CC;">.</span>tar<span style="color:#0000CC;">.</span>gz</span> </li></ol> 
 </div> 下载之后就是解压 
 <br> 
 <br> 
 <div class="codeText"> 
  <ol start="1" class="dp-css none_number"><li> <span style="color:#000000;">tar -xzvf apr-1<span style="color:#0000CC;">.</span>6<span style="color:#0000CC;">.</span>3<span style="color:#0000CC;">.</span>tar<span style="color:#0000CC;">.</span>gz</span> </li></ol> 
 </div> 进入apr目录，执行configure命令，该命令本例就一个参数 ，设置安装目录 
 <br> 
 <br> 
 <div class="codeText"> 
  <ol start="1" class="dp-css none_number"><li> <span style="color:#000000;">cd <span style="color:#0000CC;">/</span>usr<span style="color:#0000CC;">/</span>local<span style="color:#0000CC;">/</span>src<span style="color:#0000CC;">/</span>apr-1<span style="color:#0000CC;">.</span>6<span style="color:#0000CC;">.</span>3<br></span> </li><li> <span style="color:#0000CC;">.</span><span style="color:#0000CC;">/</span>configure --prefix<span style="color:#0000CC;">=</span><span style="color:#0000CC;">/</span>usr<span style="color:#0000CC;">/</span>local<span style="color:#0000CC;">/</span>apr </li></ol> 
 </div> 配置好之后，执行make和make install 
 <br> 
 <br> 
 <div class="codeText"> 
  <ol start="1" class="dp-css none_number"><li> <span style="color:#000000;">make <span style="color:#0000CC;">&amp;</span><span style="color:#0000CC;">&amp;</span> make install</span> </li></ol> 
 </div> 
 <strong>3.安装</strong> 
 <strong>apr-util</strong> 
 <strong>，本例的版本是1.6.1</strong> 
 <br> 
 <br> 
 <div class="codeText"> 
  <ol start="1" class="dp-css none_number"><li> <span style="color:#000000;">wget http:<span style="color:#0000CC;">/</span><span style="color:#0000CC;">/</span>mirrors<span style="color:#0000CC;">.</span>cnnic<span style="color:#0000CC;">.</span>cn<span style="color:#0000CC;">/</span>apache<span style="color:#0000CC;">/</span>apr<span style="color:#0000CC;">/</span>apr-util-1<span style="color:#0000CC;">.</span>6<span style="color:#0000CC;">.</span>1<span style="color:#0000CC;">.</span>tar<span style="color:#0000CC;">.</span>bz2</span> </li></ol> 
 </div> 在解压的时候有可能遇到报错： 
 <br> 
 <br> 
 <div class="codeText"> 
  <ol start="1" class="dp-css none_number"><li> <span style="color:#000000;"><span style="color:#0000CC;">[</span>root<span style="color:#0000FF;">@</span><span style="color:#008080;">aws</span> src<span style="color:#0000CC;">]</span><span style="color:#0000CC;">#</span> tar -jxvf apr-util-1<span style="color:#0000CC;">.</span>6<span style="color:#0000CC;">.</span>1<span style="color:#0000CC;">.</span>tar<span style="color:#0000CC;">.</span>bz2<br></span> </li><li> tar <span style="color:#0000CC;">(</span>child<span style="color:#0000CC;">)</span><span style="color:#0000CC;">:</span> bzip2: Cannot exec: No such file <span style="color:#FF0000;">or</span> directory<br></li><li> tar <span style="color:#0000CC;">(</span>child<span style="color:#0000CC;">)</span><span style="color:#0000CC;">:</span> Error <span style="color:#FF0000;">is</span> <span style="color:#FF0000;">not</span> recoverable: exiting <span style="color:#FF0000;">now</span><br></li><li> tar: Child returned status 2<br></li><li> tar: Error <span style="color:#FF0000;">is</span> <span style="color:#FF0000;">not</span> recoverable: exiting <span style="color:#FF0000;">now</span> </li></ol> 
 </div> 解决的办法是： 
 <br> 
 <br> 
 <div class="codeText"> 
  <ol start="1" class="dp-css none_number"><li> <span style="color:#000000;">yum <span style="color:#0000CC;">-</span>y install bzip2</span> </li></ol> 
 </div> 接下来和安装apr一样，先运行configure命令 
 <br> 
 <br> 
 <div class="codeText"> 
  <ol start="1" class="dp-css none_number"><li> <span style="color:#000000;"><span style="color:#0000CC;">.</span><span style="color:#0000CC;">/</span>configure --prefix<span style="color:#0000CC;">=</span><span style="color:#0000CC;">/</span>usr<span style="color:#0000CC;">/</span>local<span style="color:#0000CC;">/</span>apr-util --with-apr<span style="color:#0000CC;">=</span><span style="color:#0000CC;">/</span>usr<span style="color:#0000CC;">/</span>local<span style="color:#0000CC;">/</span>apr</span> </li></ol> 
 </div> 然后执行安装命令： 
 <br> 
 <br> 
 <div class="codeText"> 
  <ol start="1" class="dp-css none_number"><li> <span style="color:#000000;">make <span style="color:#0000CC;">&amp;</span><span style="color:#0000CC;">&amp;</span> make install</span> </li></ol> 
 </div> 在安装过程中可能遇到如下错误： 
 <br> 
 <br> 
 <div class="codeText"> 
  <ol start="1" class="dp-css none_number"><li> <span style="color:#000000;">pr_xml<span style="color:#0000CC;">.</span>lo <span style="color:#0000CC;">-</span>c xml/apr_xml<span style="color:#0000CC;">.</span>c &amp;&amp; touch xml/apr_xml<span style="color:#0000CC;">.</span>lo<br></span> </li><li> xml/apr_xml<span style="color:#0000CC;">.</span>c<span style="color:#0000CC;">:</span>35<span style="color:#0000CC;">:</span>19<span style="color:#0000CC;">:</span> fatal error<span style="color:#0000CC;">:</span> expat<span style="color:#0000CC;">.</span>h<span style="color:#0000CC;">:</span> No such file <span style="color:#0000FF;">or</span> directory<br></li><li>  #<span style="color:#FF0000;">include</span> <span style="color:#0000CC;">&lt;</span>expat<span style="color:#0000CC;">.</span>h<span style="color:#0000CC;">&gt;</span><br></li><li>                    ^<br></li><li> compilation terminated<span style="color:#0000CC;">.</span><br></li><li> make<span style="color:#0000CC;">[</span>1<span style="color:#0000CC;">]</span><span style="color:#0000CC;">:</span> <span style="color:#0000CC;">*</span><span style="color:#0000CC;">*</span><span style="color:#0000CC;">*</span> <span style="color:#0000CC;">[</span>xml/apr_xml<span style="color:#0000CC;">.</span>lo<span style="color:#0000CC;">]</span> Error 1<br></li><li> make<span style="color:#0000CC;">[</span>1<span style="color:#0000CC;">]</span><span style="color:#0000CC;">:</span> Leaving directory `/usr/<span style="color:#0000FF;">local</span><span style="color:#0000FF;">/</span>src/apr<span style="color:#0000CC;">-</span>util<span style="color:#0000CC;">-</span>1<span style="color:#0000CC;">.</span>6<span style="color:#0000CC;">.</span>1 </li></ol> 
 </div> 解决办法是安装expat库 
 <br> 
 <br> 
 <div class="codeText"> 
  <ol start="1" class="dp-css none_number"><li> <span style="color:#000000;">yum install expat<span style="color:#0000CC;">-</span>devel</span> </li></ol> 
 </div> 
 <strong>4.安装</strong> 
 <strong>httpd</strong> 
 <br> 
 <br> 本例用的是2.4.29的版本 
 <br> 
 <br> 
 <div class="codeText"> 
  <ol start="1" class="dp-css none_number"><li> <span style="color:#000000;">wget http<span style="color:#0000CC;">:</span><span style="color:#0000CC;">/</span><span style="color:#0000CC;">/</span>mirrors<span style="color:#0000CC;">.</span>cnnic<span style="color:#0000CC;">.</span>cn/apache/httpd/httpd<span style="color:#0000CC;">-</span>2<span style="color:#0000CC;">.</span>4<span style="color:#0000CC;">.</span>29<span style="color:#0000CC;">.</span>tar<span style="color:#0000CC;">.</span>gz</span> </li></ol> 
 </div> 同样下载后就是解压 
 <br> 
 <br> 
 <div class="codeText"> 
  <ol start="1" class="dp-css none_number"><li> <span style="color:#000000;">tar -xvzf httpd-2<span style="color:#0000CC;">.</span>4<span style="color:#0000CC;">.</span>29<span style="color:#0000CC;">.</span>tar<span style="color:#0000CC;">.</span>gz</span> </li></ol> 
 </div> 
 进入目录，执行configure命令 
 <br> 
 <br> 
 <div class="codeText"> 
  <ol start="1" class="dp-css none_number"><li> <span style="color:#000000;"><span style="color:#0000CC;">.</span><span style="color:#0000CC;">/</span>configure <span style="color:#0000CC;">-</span><span style="color:#0000CC;">-</span>prefix<span style="color:#0000CC;">=</span><span style="color:#0000CC;">/</span>usr/<span style="color:#0000FF;">local</span><span style="color:#0000FF;">/</span>apache2<span style="color:#0000CC;">.</span>4 <span style="color:#0000CC;">-</span><span style="color:#0000CC;">-</span>with<span style="color:#0000CC;">-</span>apr<span style="color:#0000CC;">=</span><span style="color:#0000CC;">/</span>usr/<span style="color:#0000FF;">local</span><span style="color:#0000FF;">/</span>apr <span style="color:#0000CC;">-</span><span style="color:#0000CC;">-</span>with<span style="color:#0000CC;">-</span>apr<span style="color:#0000CC;">-</span>util<span style="color:#0000CC;">=</span><span style="color:#0000CC;">/</span>usr/<span style="color:#0000FF;">local</span><span style="color:#0000FF;">/</span>apr<span style="color:#0000CC;">-</span>util <span style="color:#0000CC;">-</span><span style="color:#0000CC;">-</span>enable<span style="color:#0000CC;">-</span>so <span style="color:#0000CC;">-</span><span style="color:#0000CC;">-</span>enable<span style="color:#0000CC;">-</span>mods<span style="color:#0000CC;">-</span>shared<span style="color:#0000CC;">=</span>most <span style="color:#0000CC;">-</span><span style="color:#0000CC;">-</span>with<span style="color:#0000CC;">-</span>included<span style="color:#0000CC;">-</span>apr<br></span> </li><li> </li></ol> 
 </div> 
 <span style="color:#0000CC;font-family:Consolas, monospace;letter-spacing:.1px;">-</span> 
 <span style="color:#0000CC;font-family:Consolas, monospace;letter-spacing:.1px;">-</span> 
 <span style="font-family:Consolas, monospace;letter-spacing:.1px;">enable</span> 
 <span style="color:#0000CC;font-family:Consolas, monospace;letter-spacing:.1px;">-</span> 
 <span style="font-family:Consolas, monospace;letter-spacing:.1px;">so的意思是启用DSO，也就是把某些功能以模块（so）的形式展现出来</span> 
 <br> 
 <span style="color:#0000CC;font-family:Consolas, monospace;letter-spacing:.1px;">-</span> 
 <span style="color:#0000CC;font-family:Consolas, monospace;letter-spacing:.1px;">-</span> 
 <span style="font-family:Consolas, monospace;letter-spacing:.1px;">enable</span> 
 <span style="color:#0000CC;font-family:Consolas, monospace;letter-spacing:.1px;">-</span> 
 <span style="font-family:Consolas, monospace;letter-spacing:.1px;">mods</span> 
 <span style="color:#0000CC;font-family:Consolas, monospace;letter-spacing:.1px;">-</span> 
 <span style="font-family:Consolas, monospace;letter-spacing:.1px;">shared</span> 
 <span style="color:#0000CC;font-family:Consolas, monospace;letter-spacing:.1px;">=</span> 
 <span style="font-family:Consolas, monospace;letter-spacing:.1px;">most表示以共享的方式安装大多数功能模块，安装后会在modules目录下面看到。<br></span> 
 <br> 如果遇到下面的报错： 
 <br> 
 <br> 
 <div class="codeText"> 
  <ol start="1" class="dp-css none_number"><li> <span style="color:#000000;"></span>checking <span style="letter-spacing:.1px;color:#0000FF;">for</span><span style="color:#5C5C5C;letter-spacing:.1px;"> gcc option </span><span style="letter-spacing:.1px;color:#0000FF;">to</span><span style="color:#5C5C5C;letter-spacing:.1px;"> accept ISO C99</span><span style="letter-spacing:.1px;color:#0000CC;">.</span><span style="letter-spacing:.1px;color:#0000CC;">.</span><span style="letter-spacing:.1px;color:#0000CC;">.</span><span style="color:#5C5C5C;letter-spacing:.1px;"> -std</span><span style="letter-spacing:.1px;color:#0000CC;">=</span><span style="color:#5C5C5C;letter-spacing:.1px;">gnu99</span> </li><li> checking <span style="color:#0000FF;">for</span> pcre-config<span style="color:#0000CC;">.</span><span style="color:#0000CC;">.</span><span style="color:#0000CC;">.</span> false<br></li><li> configure: error: pcre-config <span style="color:#0000FF;">for</span> libpcre <span style="color:#FF0000;">not</span> found<span style="color:#0000CC;">.</span> PCRE <span style="color:#FF0000;">is</span> required <span style="color:#FF0000;">and</span> available <span style="color:#0000FF;">from</span> http:<span style="color:#0000CC;">/</span><span style="color:#0000CC;">/</span>pcre<span style="color:#0000CC;">.</span>org<span style="color:#0000CC;">/</span> </li></ol> 
 </div> 解决办法是： 
 <br> 
 <br> 
 <div class="codeText"> 
  <ol start="1" class="dp-css none_number"><li> <span style="color:#000000;">yum install <span style="color:#0000CC;">-</span>y pcre pcre<span style="color:#0000CC;">-</span>devel</span> </li></ol> 
 </div> 最后编译和安装 
 <br> 
 <br> 
 <div class="codeText"> 
  <ol start="1" class="dp-css none_number"><li> <span style="color:#000000;">make<br></span> </li><li> make install </li></ol> 
 </div> 
 <span style="color:#E53333;">以上两个步骤都可以用命令echo $?来检查是否执行成功。</span> 
 <br> 
 <br> 在make的时候可能会报错如下： 
 <br> 
 <br> 
 <div class="codeText"> 
  <ol start="1" class="dp-css none_number"><li> <span style="color:#000000;">/usr/<span style="color:#0000FF;">local</span><span style="color:#0000FF;">/</span>apr<span style="color:#0000CC;">-</span>util/lib/libaprutil<span style="color:#0000CC;">-</span>1<span style="color:#0000CC;">.</span>so<span style="color:#0000CC;">:</span> undefined reference to `XML_GetErrorCode<span style="color:#FF00FF;">'<br></span></span> </li><li> /usr/local/apr-util/lib/libaprutil-1.so: undefined reference to `XML_SetEntityDeclHandler'<br></li><li> /usr/<span style="color:#0000FF;">local</span><span style="color:#0000FF;">/</span>apr<span style="color:#0000CC;">-</span>util/lib/libaprutil<span style="color:#0000CC;">-</span>1<span style="color:#0000CC;">.</span>so<span style="color:#0000CC;">:</span> undefined reference to `XML_ParserCreate<span style="color:#FF00FF;">'<br></span> </li><li> /usr/local/apr-util/lib/libaprutil-1.so: undefined reference to `XML_SetCharacterDataHandler'<br></li><li> /usr/<span style="color:#0000FF;">local</span><span style="color:#0000FF;">/</span>apr<span style="color:#0000CC;">-</span>util/lib/libaprutil<span style="color:#0000CC;">-</span>1<span style="color:#0000CC;">.</span>so<span style="color:#0000CC;">:</span> undefined reference to `XML_ParserFree<span style="color:#FF00FF;">'<br></span> </li><li> /usr/local/apr-util/lib/libaprutil-1.so: undefined reference to `XML_SetUserData'<br></li><li> /usr/<span style="color:#0000FF;">local</span><span style="color:#0000FF;">/</span>apr<span style="color:#0000CC;">-</span>util/lib/libaprutil<span style="color:#0000CC;">-</span>1<span style="color:#0000CC;">.</span>so<span style="color:#0000CC;">:</span> undefined reference to `XML_StopParser<span style="color:#FF00FF;">'<br></span> </li><li> /usr/local/apr-util/lib/libaprutil-1.so: undefined reference to `XML_Parse'<br></li><li> /usr/<span style="color:#0000FF;">local</span><span style="color:#0000FF;">/</span>apr<span style="color:#0000CC;">-</span>util/lib/libaprutil<span style="color:#0000CC;">-</span>1<span style="color:#0000CC;">.</span>so<span style="color:#0000CC;">:</span> undefined reference to `XML_ErrorString<span style="color:#FF00FF;">'<br></span> </li><li> /usr/local/apr-util/lib/libaprutil-1.so: undefined reference to `XML_SetElementHandler'<br></li><li> collect2<span style="color:#0000CC;">:</span> error<span style="color:#0000CC;">:</span> ld returned 1 exit status<br></li><li> make<span style="color:#0000CC;">[</span>2<span style="color:#0000CC;">]</span><span style="color:#0000CC;">:</span> <span style="color:#0000CC;">*</span><span style="color:#0000CC;">*</span><span style="color:#0000CC;">*</span> <span style="color:#0000CC;">[</span>htpasswd<span style="color:#0000CC;">]</span> Error 1<br></li><li> make<span style="color:#0000CC;">[</span>2<span style="color:#0000CC;">]</span><span style="color:#0000CC;">:</span> Leaving directory `/usr/<span style="color:#0000FF;">local</span><span style="color:#0000FF;">/</span>src/httpd<span style="color:#0000CC;">-</span>2<span style="color:#0000CC;">.</span>4<span style="color:#0000CC;">.</span>29/support<span style="color:#FF00FF;">'<br></span> </li><li> make[1]: *** [all-recursive] Error 1<br></li><li> make[1]: Leaving directory `/usr/local/src/httpd-2.4.29/support'<br></li><li> make<span style="color:#0000CC;">:</span> <span style="color:#0000CC;">*</span><span style="color:#0000CC;">*</span><span style="color:#0000CC;">*</span> <span style="color:#0000CC;">[</span>all<span style="color:#0000CC;">-</span>recursive<span style="color:#0000CC;">]</span> Error 1 </li></ol> 
 </div> 解决办法是： 
 <br> 
 <br> 
 <div class="codeText"> 
  <ol start="1" class="dp-css none_number"><li> <span style="color:#000000;">cp <span style="color:#0000CC;">-</span><span style="color:#FF0000;">rf</span> /usr/<span style="color:#0000FF;">local</span><span style="color:#0000FF;">/</span>src/apr<span style="color:#0000CC;">-</span>1<span style="color:#0000CC;">.</span>6<span style="color:#0000CC;">.</span>3 /usr/<span style="color:#0000FF;">local</span><span style="color:#0000FF;">/</span>src/httpd<span style="color:#0000CC;">-</span>2<span style="color:#0000CC;">.</span>4<span style="color:#0000CC;">.</span>29/srclib/apr<br></span> </li><li> cp <span style="letter-spacing:.1px;color:#0000CC;">-</span><span style="letter-spacing:.1px;color:#FF0000;">rf</span><span style="color:#5C5C5C;letter-spacing:.1px;"> /usr/</span><span style="letter-spacing:.1px;color:#0000FF;">local</span><span style="letter-spacing:.1px;color:#0000FF;">/</span><span style="color:#5C5C5C;letter-spacing:.1px;">src/apr</span><span style="letter-spacing:.1px;color:#0000CC;">-</span><span style="color:#5C5C5C;letter-spacing:.1px;">util</span><span style="letter-spacing:.1px;color:#0000CC;">-</span><span style="color:#5C5C5C;letter-spacing:.1px;">1</span><span style="letter-spacing:.1px;color:#0000CC;">.</span><span style="color:#5C5C5C;letter-spacing:.1px;">6</span><span style="letter-spacing:.1px;color:#0000CC;">.</span><span style="color:#5C5C5C;letter-spacing:.1px;">1 /usr/</span><span style="letter-spacing:.1px;color:#0000FF;">local</span><span style="letter-spacing:.1px;color:#0000FF;">/</span><span style="color:#5C5C5C;letter-spacing:.1px;">src/httpd</span><span style="letter-spacing:.1px;color:#0000CC;">-</span><span style="color:#5C5C5C;letter-spacing:.1px;">2</span><span style="letter-spacing:.1px;color:#0000CC;">.</span><span style="color:#5C5C5C;letter-spacing:.1px;">4</span><span style="letter-spacing:.1px;color:#0000CC;">.</span><span style="color:#5C5C5C;letter-spacing:.1px;">29/srclib/apr</span><span style="letter-spacing:.1px;color:#0000CC;">-</span><span style="color:#5C5C5C;letter-spacing:.1px;">util</span> </li></ol> 
 </div> 
 <br> 
 <strong>5.至此httpd就安装完成了<br><br></strong>可以用下面的命令查看安装了那些模块: 
 <br> 
 <br> 
 <div class="codeText"> 
  <ol start="1" class="dp-css none_number"><li> <span style="color:#000000;"><span style="color:#0000CC;">[</span>root@aws srclib<span style="color:#0000CC;">]</span><span style="color:#0000CC;">#</span> /usr/<span style="color:#0000FF;">local</span><span style="color:#0000FF;">/</span>apache2<span style="color:#0000CC;">.</span>4/bin/apachectl <span style="color:#0000CC;">-</span>M<br></span> </li><li> Loaded Modules<span style="color:#0000CC;">:</span><br></li><li>  core_module <span style="color:#0000CC;">(</span>static<span style="color:#0000CC;">)</span><br></li><li>  so_module <span style="color:#0000CC;">(</span>static<span style="color:#0000CC;">)</span><br></li><li>  http_module <span style="color:#0000CC;">(</span>static<span style="color:#0000CC;">)</span><br></li><li>  mpm_event_module <span style="color:#0000CC;">(</span>static<span style="color:#0000CC;">)</span><br></li><li>  authn_file_module <span style="color:#0000CC;">(</span>shared<span style="color:#0000CC;">)</span><br></li><li>  authn_core_module <span style="color:#0000CC;">(</span>shared<span style="color:#0000CC;">)</span><br></li><li>  authz_host_module <span style="color:#0000CC;">(</span>shared<span style="color:#0000CC;">)</span><br></li><li>  authz_groupfile_module <span style="color:#0000CC;">(</span>shared<span style="color:#0000CC;">)</span><br></li><li>  authz_user_module <span style="color:#0000CC;">(</span>shared<span style="color:#0000CC;">)</span><br></li><li>  authz_core_module <span style="color:#0000CC;">(</span>shared<span style="color:#0000CC;">)</span><br></li><li>  access_compat_module <span style="color:#0000CC;">(</span>shared<span style="color:#0000CC;">)</span><br></li><li>  auth_basic_module <span style="color:#0000CC;">(</span>shared<span style="color:#0000CC;">)</span><br></li><li>  reqtimeout_module <span style="color:#0000CC;">(</span>shared<span style="color:#0000CC;">)</span><br></li><li>  filter_module <span style="color:#0000CC;">(</span>shared<span style="color:#0000CC;">)</span><br></li><li>  mime_module <span style="color:#0000CC;">(</span>shared<span style="color:#0000CC;">)</span><br></li><li>  log_config_module <span style="color:#0000CC;">(</span>shared<span style="color:#0000CC;">)</span><br></li><li>  env_module <span style="color:#0000CC;">(</span>shared<span style="color:#0000CC;">)</span><br></li><li>  headers_module <span style="color:#0000CC;">(</span>shared<span style="color:#0000CC;">)</span><br></li><li>  setenvif_module <span style="color:#0000CC;">(</span>shared<span style="color:#0000CC;">)</span><br></li><li>  version_module <span style="color:#0000CC;">(</span>shared<span style="color:#0000CC;">)</span><br></li><li>  unixd_module <span style="color:#0000CC;">(</span>shared<span style="color:#0000CC;">)</span><br></li><li>  status_module <span style="color:#0000CC;">(</span>shared<span style="color:#0000CC;">)</span><br></li><li>  autoindex_module <span style="color:#0000CC;">(</span>shared<span style="color:#0000CC;">)</span><br></li><li>  dir_module <span style="color:#0000CC;">(</span>shared<span style="color:#0000CC;">)</span><br></li><li>  alias_module <span style="color:#0000CC;">(</span>shared<span style="color:#0000CC;">)</span><br></li><li>  php5_module <span style="color:#0000CC;">(</span>shared<span style="color:#0000CC;">)</span> </li></ol> 
 </div> 其中带有shared字样的，表示该模块为动态共享模块；static为静态模块。 
 <br> 
 <br> 动态和静态的区别是静态模块直接和主程序（/usr/local/apache2.4/bin/httpd）绑定在一起，我们是看不到的；而动态的模块都是一个个独立存在的文件，也就是modules目录下的.so文件 
 <br> 
 <br> 
 <strong>6.配置httpd支持php<br></strong> 
 <br> a.编辑httpd.conf文件（/usr/local/apache2.4/conf/httpd.conf），搜索ServerName，把ServerName www.example.com:80前面的#去掉 
 <br> 
 <br> b.找到如下内容 
 <br> 
 <div class="codeText"> 
  <ol start="1" class="dp-css none_number"><li> <span style="color:#000000;"><span style="color:#0000CC;">&lt;</span>Directory /<span style="color:#0000CC;">&gt;</span><br></span> </li><li>     AllowOverride none<br></li><li>     Require all denied<br></li><li> <span style="color:#0000CC;">&lt;</span><span style="color:#0000CC;">/</span>Directory<span style="color:#0000CC;">&gt;</span><br></li><li> 修改为<br></li><li> <span style="color:#0000CC;">&lt;</span>Directory /<span style="color:#0000CC;">&gt;</span><br></li><li>     AllowOverride none<br></li><li>     Require all granted<br></li><li> <span style="color:#0000CC;">&lt;</span><span style="color:#0000CC;">/</span>Directory<span style="color:#0000CC;">&gt;</span> </li></ol> 
 </div> c.再搜索下面这一行 
 <br> 
 <br> 
 <div class="codeText"> 
  <ol start="1" class="dp-css none_number"><li> <span style="color:#000000;">AddType application/x<span style="color:#0000CC;">-</span>gzip <span style="color:#0000CC;">.</span>gz <span style="color:#0000CC;">.</span>tgz<br></span> </li><li> 在上面这行下面添加<br></li><li> AddType application/x<span style="color:#0000CC;">-</span>httpd<span style="color:#0000CC;">-</span>php <span style="color:#0000CC;">.</span>php </li></ol> 
 </div> d.找到下面这一段 
 <br> 
 <br> 
 <div class="codeText"> 
  <ol start="1" class="dp-css none_number"><li> <span style="color:#000000;"><span style="color:#0000CC;">&lt;</span>IfModule dir_module<span style="color:#0000CC;">&gt;</span><br></span> </li><li>    DirectoryIndex index<span style="color:#0000CC;">.</span>html<br></li><li> <span style="color:#0000CC;">&lt;</span><span style="color:#0000CC;">/</span>IfModule<span style="color:#0000CC;">&gt;</span><br></li><li> 修改为<br></li><li> <span style="color:#0000CC;">&lt;</span>IfModule dir_module<span style="color:#0000CC;">&gt;</span><br></li><li>    DirectoryIndex index<span style="color:#0000CC;">.</span>html index<span style="color:#0000CC;">.</span>php<br></li><li> <span style="color:#0000CC;">&lt;</span><span style="color:#0000CC;">/</span>IfModule<span style="color:#0000CC;">&gt;</span> </li></ol> 
 </div> 
 <strong>7.启动之前检查配置文件是否正确，出现Syntax OK，说明没有问题</strong> 
 <br> 
 <br> 
 <div class="codeText"> 
  <ol start="1" class="dp-css none_number"><li> <span style="color:#000000;"><span style="color:#0000CC;">[</span>root@aws php<span style="color:#0000CC;">-</span>5<span style="color:#0000CC;">.</span>6<span style="color:#0000CC;">.</span>30<span style="color:#0000CC;">]</span><span style="color:#0000CC;">#</span> /usr/<span style="color:#0000FF;">local</span><span style="color:#0000FF;">/</span>apache2<span style="color:#0000CC;">.</span>4/bin/apachectl <span style="color:#0000CC;">-</span>t<br></span> </li><li> Syntax OK<br></li><li> </li></ol> 
 </div> 
 <strong>8.启动httpd的命令如下：</strong> 
 <br> 
 <br> 
 <div class="codeText"> 
  <ol start="1" class="dp-css none_number"><li> <span style="color:#000000;"><span style="color:#0000CC;">/</span>usr<span style="color:#0000CC;">/</span>local<span style="color:#0000CC;">/</span>apache2<span style="color:#0000CC;">.</span>4<span style="color:#0000CC;">/</span><span style="color:#FF0000;">bin</span><span style="color:#0000CC;">/</span>apachectl start</span> </li></ol> 
 </div> 
 <strong>9.查看是否启动的命令如下：</strong> 
 <br> 
 <br> 
 <div class="codeText"> 
  <ol start="1" class="dp-css none_number"><li> <span style="color:#000000;"><span style="color:#0000CC;">[</span>root<span style="color:#0000FF;">@</span><span style="color:#008080;">aws</span> srclib<span style="color:#0000CC;">]</span><span style="color:#0000CC;">#</span> netstat -lnp <span style="color:#0000CC;">|</span> grep httpd<br></span> </li><li> tcp6 0 0 :::80 :::<span style="color:#0000CC;">*</span> LISTEN 30298<span style="color:#0000CC;">/</span>httpd </li></ol> 
 </div> 
 <strong>10.做个简单测试，出现It works说明测试成功</strong> 
 <br> 
 <br> 
 <div class="codeText"> 
  <ol start="1" class="dp-css none_number"><li> <span style="color:#000000;"><span style="color:#0000CC;">[</span>root<span style="color:#0000FF;">@</span><span style="color:#008080;">aws</span> srclib<span style="color:#0000CC;">]</span><span style="color:#0000CC;">#</span> curl localhost<br></span> </li><li> <span style="color:#0000CC;">&lt;</span>html<span style="color:#0000CC;">&gt;</span><span style="color:#0000CC;">&lt;</span>body<span style="color:#0000CC;">&gt;</span><span style="color:#0000CC;">&lt;</span>h1<span style="color:#0000CC;">&gt;</span>It works!<span style="color:#0000CC;">&lt;</span><span style="color:#0000CC;">/</span>h1<span style="color:#0000CC;">&gt;</span><span style="color:#0000CC;">&lt;</span><span style="color:#0000CC;">/</span>body<span style="color:#0000CC;">&gt;</span><span style="color:#0000CC;">&lt;</span><span style="color:#0000CC;">/</span>html<span style="color:#0000CC;">&gt;</span> </li></ol> 
 </div> 
 <br> 
 <span style="font-family:'宋体', Arial;color:#E53333;">欢迎访问我的另一篇文章，RedHat 7 安装PHP</span> 
 <br style="color:#666666;font-family:'宋体', Arial;"> 
 <span style="font-family:'宋体', Arial;color:#E53333;"></span> 
 <br style="color:#666666;font-family:'宋体', Arial;"> 
 <span style="font-family:'宋体', Arial;color:#E53333;"></span> 
 <span style="font-family:'宋体', Arial;color:#E53333;">http://blog.itpub.net/20893244/viewspace-2151185/</span> 
 <br> 
 <br> 
 <br> 
 <br> 
 <br> 
 <br> 
 <p style="clear:both;"></p> 
 <p class="translate"> 来自 “ ITPUB博客 ” ，链接：http://blog.itpub.net/20893244/viewspace-2151184/，如需转载，请注明出处，否则将追究法律责任。 </p> 
</div> 
<p>转载于:http://blog.itpub.net/20893244/viewspace-2151184/</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/2f7ffd8ff2960ffe4a7995fc6650767e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">vue element-ui的$notify注意点</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/787354ad490f9943cd4210fd3a26907c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">关于shell脚本的基础</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>