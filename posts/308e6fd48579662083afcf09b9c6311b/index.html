<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>JDBC（1）四大对象 原理和操作步骤 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="JDBC（1）四大对象 原理和操作步骤" />
<meta property="og:description" content="一、JDBC概述 为什么要使用ＪＤＢＣ？ JDBC:java database connectivity SUN公司提供的一套操作数据库的标准规范。 JDBC与数据库驱动的关系：接口与实现的关系。 JDBC规范（掌握四个核心对象）： DriverManager:用于注册驱动 Connection: 表示与数据库创建的连接 Statement: 操作数据库sql语句的对象 ResultSet: 结果集或一张虚拟表 开发一个JDBC程序的准备工作： &gt; JDBC规范在哪里： JDK中： java.sql.*; javax.sql.*; &gt; 数据库厂商提供的驱动：jar文件 *.jar 一定变成奶瓶才可用~~~ 二、开发一个JDBC程序（重要） 实现查询数据库中的数据显示在java的控制台中 1、创建数据库表，并向表中添加测试数据 create database day06; use day06; create table users( id int primary key auto_increment, name varchar(40), password varchar(40), email varchar(60), birthday date )character set utf8 collate utf8_general_ci; insert into users(name,password,email,birthday) values(&#39;zs&#39;,&#39;123456&#39;,&#39;zs@sina.com&#39;,&#39;1980-12-04&#39;); insert into users(name,password,email,birthday) values(&#39;lisi&#39;,&#39;123456&#39;,&#39;lisi@sina.com&#39;,&#39;1981-12-04&#39;); insert into users(name,password,email,birthday) values(&#39;wangwu&#39;,&#39;123456&#39;,&#39;wangwu@sina.com&#39;,&#39;1979-12-04&#39;); 2、创建java project项目，添加数据库驱动（*.jar）
3、实现JDBC操作 //1、注册驱动 //2、创建连接 //3、得到执行sql语句的Statement对象 //4、执行sql语句，并返回结果 //5、处理结果 //6 关闭资源 三、JDBC常用的类和接口详解 1、java." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/308e6fd48579662083afcf09b9c6311b/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2017-12-26T19:32:43+08:00" />
<meta property="article:modified_time" content="2017-12-26T19:32:43+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">JDBC（1）四大对象 原理和操作步骤</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <span style="font-size:18px;"><strong>一、JDBC概述</strong></span> 
<br> 
<br>为什么要使用ＪＤＢＣ？ 
<br> 
<br>JDBC:java database connectivity SUN公司提供的一套操作数据库的标准规范。 
<br>JDBC与数据库驱动的关系：接口与实现的关系。 
<br> 
<img src="https://images2.imgbox.com/0e/63/cvjmdr8w_o.png" alt=""> 
<br>JDBC规范（掌握四个核心对象）： 
<br>DriverManager:用于注册驱动 
<br>Connection: 表示与数据库创建的连接 
<br>Statement: 操作数据库sql语句的对象 
<br>ResultSet: 结果集或一张虚拟表 
<br> 
<br> 
<img src="https://images2.imgbox.com/d7/c6/17Yo0XzT_o.png" alt=""> 
<br> 
<br> 
<strong>开发一个JDBC程序的准备工作：</strong> 
<br>&gt; JDBC规范在哪里： 
<br>JDK中： 
<br>java.sql.*; 
<br>javax.sql.*; 
<br>&gt; 数据库厂商提供的驱动：jar文件 
<br>*.jar 一定变成奶瓶才可用~~~ 
<br> 
<br> 
<p><span style="font-size:14px;"><img src="https://images2.imgbox.com/94/85/6lBxTrfP_o.png" alt=""><br></span></p> 
<p><br></p> 
<p><br></p> 
<p><br><span style="font-size:14px;"></span></p> 
<strong><span style="font-size:14px;">二、开发一个JDBC程序（重要）</span></strong> 
<br>实现查询数据库中的数据显示在java的控制台中 
<br> 
<br> 
<strong>1、创建数据库表，并向表中添加测试数据</strong> 
<br>create database day06; 
<br>use day06; 
<br> 
<br>create table users( 
<br>id int primary key auto_increment, 
<br>name varchar(40), 
<br>password varchar(40), 
<br>email varchar(60), 
<br>birthday date 
<br>)character set utf8 collate utf8_general_ci; 
<br> 
<br>insert into users(name,password,email,birthday) values('zs','123456','zs@sina.com','1980-12-04'); 
<br>insert into users(name,password,email,birthday) values('lisi','123456','lisi@sina.com','1981-12-04'); 
<br>insert into users(name,password,email,birthday) values('wangwu','123456','wangwu@sina.com','1979-12-04'); 
<br> 
<img src="https://images2.imgbox.com/5a/cd/D2tIHpH6_o.png" alt=""> 
<br> 
<br> 
<strong>2、创建java project项目，添加数据库驱动（*.jar）<br><br>3、实现JDBC操作</strong> 
<br>//1、注册驱动 
<br>//2、创建连接 
<br>//3、得到执行sql语句的Statement对象 
<br>//4、执行sql语句，并返回结果 
<br>//5、处理结果 
<br>//6 关闭资源 
<br> 
<br> 
<img src="https://images2.imgbox.com/41/87/MArHju7p_o.png" alt="" width="907" height="373"> 
<br> 
<span style="font-size:14px;"><br><strong>三、JDBC常用的类和接口详解</strong></span> 
<br> 
<strong><span style="font-size:14px;">1、java.sql.DriverManager类 : 创建连接</span><br><br><span style="font-size:14px;">a、注册驱动</span></strong> 
<br>DriverManager.registerDriver(new com.mysql.jdbc.Driver());不建议使用 
<br>原因有2个： 
<br>&gt; 导致驱动被注册2次。com.mysql.jdbc.Driver()中也有com.mysql.jdbc.Driver()； 
<br> 
<p>&gt; 强烈依赖数据库的驱动jar</p> 
<p><br></p>解决办法： 
<br> 
<p>Class.forName("com.mysql.jdbc.Driver"); 反射机制</p> 
<p><br></p> 
<strong><span style="font-size:14px;">b、与数据库建立连接</span></strong> 
<br>最常用第一种方法： 
<br>1. static Connection getConnection(String url, String user, String password) 
<br>试图建立到给定数据库 URL 的连接。 
<br> 
<br>getConnection ("jdbc:mysql://localhost:3306/day06", "root", "root"); 
<br> 
<br>URL:SUN公司与数据库厂商之间的一种协议。 
<br>jdbc:mysql://localhost:3306/day06 
<br>协议 子协议 IP :端口号 数据库 
<br>mysql: jdbc:mysql://localhost:3306/day14 或者 jdbc:mysql:///day14（默认本机连接） 
<br>oracle: jdbc:oracle:thin:@localhost:1521:sid 
<br> 
<br>2. 
<br>Properties info = new Properties();//要参考数据库文档 
<br>info.setProperty("user", "root"); 
<br>info.setProperty("password","root"); 
<br> 
<br> 
<p>getConnection(String url, Properties info) <br></p> 
<p><br></p>3. 
<br>getConnection(String url) 
<br>DriverManager.getConnection("jdbc:mysql://localhost:3306/day14?user=root&amp;password=root"); 
<br> 
<br> 
<strong><span style="font-size:14px;">2、java.sql.Connection接口：一个连接</span></strong> 
<br>接口的实现在数据库驱动中。所有与数据库交互都是基于连接对象的。 
<br> 
<br>Statement createStatement(); //创建操作sql语句的对象 
<br> 
<br> 
<strong><span style="font-size:14px;">3、java.sql.Statement接口: 操作sql语句，并返回相应结果的对象（小货车）</span></strong> 
<br>接口的实现在数据库驱动中。用于执行静态 SQL 语句并返回它所生成结果的对象。 
<br>1. ResultSet executeQuery(String sql) 根据查询语句返回结果集。只能执行select语句。 
<br>2. int executeUpdate(String sql) 根据执行的DML（insert update delete）语句，返回受影响的行数。0为失败。 
<br> 
<p>3. boolean execute(String sql) 此方法可以执行任意sql语句。返回boolean值，表示是否返回ResultSet结果集。仅当执行select语句，且有返回结果时返回true, 其它语句都返回false;</p> 
<p><br></p> 
<strong><span style="font-size:14px;">4、java.sql.ResultSet接口: 结果集（客户端存表数据的对象）</span></strong> 
<br>a、封装结果集的。 
<br>提供一个游标，默认游标指向结果集第一行之前。（即列名） 
<br>调用一次next()，游标向下移动一行。 
<br>提供一些get方法。 
<br> 
<br>封装数据的方法 
<br>Object getObject(int columnIndex); 根据序号取值，索引从1开始 
<br>Object getObject(String ColomnName); 根据列名取值。 
<br> 
<br>将 结果集 中的数据封装到javaBean中 
<br> 
<br> 
<span style="font-size:12px;">java的数据类型与数据库中的类型的关系</span> 
<br>byte tityint 
<br>short smallint 
<br>int int 
<br>long bigint 
<br>float float 
<br>double double 
<br>String char varchar 
<br>Date date 
<br> 
<br> 
<br>boolean next() 将光标从当前位置向下移动一行 
<br>int getInt(int colIndex) 以int形式获取ResultSet结果集当前行指定列号值 
<br>int getInt(String colLabel) 以int形式获取ResultSet结果集当前行指定列名值 
<br>float getFloat(int colIndex) 以float形式获取ResultSet结果集当前行指定列号值 
<br>float getFloat(String colLabel) 以float形式获取ResultSet结果集当前行指定列名值 
<br>String getString(int colIndex) 以String 形式获取ResultSet结果集当前行指定列号值 
<br>String getString(String colLabel) 以String形式获取ResultSet结果集当前行指定列名值 
<br>Date getDate(int columnIndex); 
<br>Date getDate(String columnName); 
<br>void close() 关闭ResultSet 对象 
<br> 
<br> 
<br> 
<br> 
<br> 
<br>b、可移动游标的方法 
<br>boolean next()：将光标从当前位置向前移一行。 
<br>boolean previous() ： 将光标移动到此 ResultSet 对象的上一行。 
<br>boolean absolute(int row) 参数是当前行的索引，从1开始 
<br>根据行的索引定位移动的指定索引行。 
<br>void afterLast() 
<br>将光标移动到末尾，正好位于最后一行之后。 
<br>void beforeFirst() 
<br>将光标移动到开头，正好位于第一行之前。 
<br> 
<strong><span style="font-size:14px;"><br>5、释放资源 </span></strong> 
<br>资源有限，要正确关闭。 
<br> 
<br> 
<img src="https://images2.imgbox.com/5c/33/n7Kl4pda_o.png" alt=""> 
<br>最后xxx=null;为了方便垃圾回收~ 
<br> 
<img src="https://images2.imgbox.com/d6/39/VbGIopZp_o.png" alt=""> 
<br> 
<span style="font-size:18px;"><br></span> 
<br> 
<br> 
<span style="font-size:18px;"><img src="https://images2.imgbox.com/13/7e/3JHf3vVe_o.png" alt=""><br></span> 
<br> 
<br> 
<br> 
<br>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ca188fc9f27397b54ec53c21bcb6699c/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">GoJS炫酷的流程图效果</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/820b28daec0b151ccf4c4f1c45866d98/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">登录事件</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>