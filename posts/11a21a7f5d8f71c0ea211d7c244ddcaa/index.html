<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>HttpRunner学习总结—TestSuite 参数化（parameterze及debugtalk.py） - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="HttpRunner学习总结—TestSuite 参数化（parameterze及debugtalk.py）" />
<meta property="og:description" content=" HttpRunner的参数化 通常有三种
1.在YAML/JSON中指定参数：适合参数列表比较小的情况，好处是简单
2.内置parameterze（P） 函数引用CSV文件：适合数据量较大的情况，需提前准备CSV文件
3.调用debugtalk.py中自定义的函数生成参数列表：最灵活，需要动态生成参数时可选择此方式
第一个不用说了
第二个：先新建一个文件夹用来保存测试数据，叫data
新建一个csv文件，准备好测试数据，参数，参数 以这种格式存入
然后新建测试用例集 ，调用用例 以及读取csv中的数据赋值
使用参数的语法${P(数据文件相对路径)}
P是内置函数，parameterze的简称
config: name: 用例集-调用csv testcases: - name: 登录 testcase: testcases/test_login_fa.yml parameters: username-password: ${P(data/data.csv)} 写完后，hrun 执行，查看结果
第三点：
在debugtalk中先定义一个方法，确认测试通过后
def get_account(num): # 生成测试账号 accounts=[] for i in range(1,num&#43;1): accounts.append({&#39;username&#39;:&#39;1876710500%s&#39;%i,&#39;password&#39;:&#39;Aa1234567!&#39;}) return accounts if __name__==&#39;__main__&#39;: print(get_account(8)) 用例集中调用写好的函数，生成8条数据登录，执行后查看报告
config: name: 引用函数参数化 testcases: - name: 登录 testcase: testcases/test_login_se.yml parameters: username-password: ${get_account(8)} " />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/11a21a7f5d8f71c0ea211d7c244ddcaa/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-01-15T12:53:33+08:00" />
<meta property="article:modified_time" content="2022-01-15T12:53:33+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">HttpRunner学习总结—TestSuite 参数化（parameterze及debugtalk.py）</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>HttpRunner的参数化 通常有三种</p> 
<p>1.在YAML/JSON中指定参数：适合参数列表比较小的情况，好处是简单</p> 
<p>2.内置parameterze（P） 函数引用CSV文件：适合数据量较大的情况，需提前准备CSV文件</p> 
<p>3.调用debugtalk.py中自定义的函数生成参数列表：最灵活，需要动态生成参数时可选择此方式</p> 
<p> 第一个不用说了</p> 
<p>第二个：先新建一个文件夹用来保存测试数据，叫data</p> 
<p>新建一个csv文件，准备好测试数据，参数，参数  以这种格式存入</p> 
<p><img alt="" height="218" src="https://images2.imgbox.com/d3/2f/r5Hrdp4K_o.png" width="387"></p> 
<p> 然后新建测试用例集 ，调用用例 以及读取csv中的数据赋值</p> 
<p>使用参数的语法${P(数据文件相对路径)}</p> 
<p>P是内置函数，parameterze的简称</p> 
<pre><code>config:
    name: 用例集-调用csv

testcases:
  -
    name: 登录
    testcase: testcases/test_login_fa.yml
    parameters:
        username-password: ${P(data/data.csv)}</code></pre> 
<p>写完后，hrun 执行，查看结果<img alt="" height="897" src="https://images2.imgbox.com/7f/eb/146EKlWe_o.png" width="1064"></p> 
<p> 第三点：</p> 
<p>在debugtalk中先定义一个方法，确认测试通过后</p> 
<pre><code>def get_account(num):
    # 生成测试账号
    accounts=[]
    for i in range(1,num+1):
        accounts.append({'username':'1876710500%s'%i,'password':'Aa1234567!'})

    return accounts
 
if __name__=='__main__':
    print(get_account(8))</code></pre> 
<p><img alt="" height="522" src="https://images2.imgbox.com/3d/c8/MKXowCfM_o.png" width="1200"></p> 
<p> 用例集中调用写好的函数，生成8条数据登录，执行后查看报告</p> 
<pre><code>config: 
  name: 引用函数参数化

testcases:
-
    name: 登录
    testcase: testcases/test_login_se.yml
    parameters:
        username-password: ${get_account(8)}
</code></pre> 
<p><img alt="" height="937" src="https://images2.imgbox.com/17/b6/AV2BocQZ_o.png" width="1200"></p> 
<p></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/4324f7594115c82fdc6b2bf3bc20b5cf/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">2022年最新版phpstorm配置docker xdebug</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/00d660de7534ff1cc30d9fa85b7c481d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">vue中怎么写一个目录</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>