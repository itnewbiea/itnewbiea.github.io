<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>关于this - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="关于this" />
<meta property="og:description" content="参考阮一峰老师对于this的原理理解
一：this的定义 在严格模式下和非严格模式下，this的在全局中会有差别
来自阮一峰老师对于this的由来的理解
由于函数可以在不同的运行环境中运行，所以需要一种机制，能够在函数的内部获取当前运行环境，因此this就出现来，this的设计目的就是为了在函数的内部，指代函数当前的运行环境
所以在绝大多数的情况下，函数当前的运行环境决定了this的值
例如：
var obj = { foo: function () { console.log(this.bar) }, bar: 1 }; var foo = obj.foo; var bar = 2; obj.foo() // 1 foo() // 2 对于obj.foo()来说，是通过obj这个对象来找到foo()，所以foo()的运行环境obj对象，因此this的值就是Obj对象对于foo()来说，foo()函数的运行环境是window，因此this的值就是window 二：绑定规则 根据不同的使用场合，this有不同的值，主要分为下面几种情况：
默认绑定隐式绑定new绑定显示绑定 1. 默认绑定 默认绑定的意思就是，当函数独立执行，不作为一个对象的方法调用时，this绑定到全局对象中，但在严格模式下，this会绑定到undefined
function foo () { console.log(this); // 在浏览器中通常指向 window 对象 } foo(); 2. 隐式绑定 当函数作为对象的方法调用时，this 绑定到调用该方法的对象
var obj = { foo: function () { console.log(this) }, bar: 1 }; var foo = obj." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/d88d3715882598f46422f392380a38d4/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-09-11T22:00:55+08:00" />
<meta property="article:modified_time" content="2023-09-11T22:00:55+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">关于this</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-github-gist">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><img src="https://images2.imgbox.com/16/93/yj4PCsEr_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>参考<code>阮一峰</code>老师对于this的原理理解</p> 
</blockquote> 
<h3><a id="this_9"></a>一：this的定义</h3> 
<p>在<code>严格模式下</code>和<code>非严格模式下</code>，<code>this</code>的在全局中会有差别</p> 
<p>来自<code>阮一峰</code>老师对于this的由来的理解</p> 
<blockquote> 
 <p>由于函数可以在不同的运行环境中运行，所以需要一种机制，能够在函数的内部获取当前运行环境，因此this就出现来，<code>this</code>的设计目的就是为了在函数的内部，指代函数当前的运行环境</p> 
</blockquote> 
<p>所以在绝大多数的情况下，函数当前的<code>运行环境</code>决定了<code>this</code>的值</p> 
<p>例如：</p> 
<pre><code class="prism language-js">   <span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
      <span class="token function-variable function">foo</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>bar<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">bar</span><span class="token operator">:</span> <span class="token number">1</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">var</span> foo <span class="token operator">=</span> obj<span class="token punctuation">.</span>foo<span class="token punctuation">;</span>
    <span class="token keyword">var</span> bar <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>

    obj<span class="token punctuation">.</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 1</span>
    <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 2</span>
</code></pre> 
<ul><li>对于<code>obj.foo()</code>来说，是通过<code>obj</code>这个对象来找到<code>foo()</code>，所以<code>foo()</code>的运行环境<code>obj</code>对象，因此<code>this</code>的值就是Obj对象</li><li>对于<code>foo()</code>来说，foo()函数的运行环境是window，因此this的值就是window</li><li><img src="https://images2.imgbox.com/f4/f5/TbbBio2V_o.png" alt="image-20230911205503092"></li></ul> 
<h3><a id="_40"></a>二：绑定规则</h3> 
<p>根据不同的使用场合，<code>this</code>有不同的值，主要分为下面几种情况：</p> 
<ul><li>默认绑定</li><li>隐式绑定</li><li>new绑定</li><li>显示绑定</li></ul> 
<h4><a id="1__49"></a>1. 默认绑定</h4> 
<blockquote> 
 <p>默认绑定的意思就是，当函数独立执行，不作为一个对象的方法调用时，<code>this</code>绑定到全局对象中，但在严格模式下，<code>this</code>会绑定到undefined</p> 
</blockquote> 
<pre><code class="prism language-js">    <span class="token keyword">function</span> <span class="token function">foo</span> <span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 在浏览器中通常指向 window 对象</span>
    <span class="token punctuation">}</span>

    <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h4><a id="2__64"></a>2. 隐式绑定</h4> 
<blockquote> 
 <p>当函数作为对象的方法调用时，<code>this</code> 绑定到调用该方法的对象</p> 
</blockquote> 
<pre><code class="prism language-js">    <span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
      <span class="token function-variable function">foo</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">bar</span><span class="token operator">:</span> <span class="token number">1</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">var</span> foo <span class="token operator">=</span> obj<span class="token punctuation">.</span>foo<span class="token punctuation">;</span>

    obj<span class="token punctuation">.</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 1</span>
</code></pre> 
<p><code>这个函数中包含多个对象，尽管这个函数是被最外层的对象所调用，</code>this<code>指向的也只是它上一级的对象</code></p> 
<pre><code class="prism language-js">    <span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function-variable function">foo</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">bar</span><span class="token operator">:</span> <span class="token number">1</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>


    <span class="token keyword">var</span> foo <span class="token operator">=</span> obj<span class="token punctuation">.</span>foo<span class="token punctuation">;</span>
    <span class="token keyword">var</span> bar <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>

    obj<span class="token punctuation">.</span>a<span class="token punctuation">.</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
</code></pre> 
<blockquote> 
 <p>foo执行的环境是a对象，所以this指向a对象</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/88/bd/6yfNLTjf_o.png" alt="image-20230911210131323"></p> 
<p>再例如：</p> 
<pre><code class="prism language-js">    <span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">bar</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token function-variable function">foo</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>bar<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//2</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>			<span class="token comment">//window</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">var</span> bar <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> fn <span class="token operator">=</span> obj<span class="token punctuation">.</span>a<span class="token punctuation">.</span>foo	
    <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre> 
<ul><li> <p>在该代码中，定义了一个变量<code>fn</code>，被将其赋值为<code>obj.a.foo</code>，这意味着<code>fn</code>现在引用了，obj对象中，a属性的foo方法。</p> </li><li> <p>最后调用<code>fn（）</code>，执行<code>foo()</code>函数</p> </li><li> <p>将<code>obj.a.foo</code>复制给<code>fn</code>，只是将<code>foo</code>函数的引用复制给了<code>fn</code>，但并没有立即执行。所以<code>fn</code>只是函数的引用，它的上下文还是跟<code>obj.a.foo</code>相关</p> </li><li> <p>但是当调用<code>fn()</code>时，这才是真正执行<code>foo</code>函数的时候，但由于<code>fn</code>是在全局上下文中调用的，JS将函数上下文<code>this</code>赋值为window</p> </li></ul> 
<h4><a id="3__130"></a>3. 显示绑定</h4> 
<blockquote> 
 <p>使用 <code>call()</code>、<code>apply()</code> 或 <code>bind()</code> 方法显式地指定函数的 <code>this</code> 值。</p> 
</blockquote> 
<pre><code class="prism language-js">    <span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
      <span class="token function-variable function">foo</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>bar<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">bar</span><span class="token operator">:</span> <span class="token number">1</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">var</span> obj2 <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">bar</span><span class="token operator">:</span> <span class="token number">100</span>
    <span class="token punctuation">}</span>

    obj<span class="token punctuation">.</span><span class="token function">foo</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj2<span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/e2/f2/Gc1TiVS8_o.png" alt="image-20230911212217170"></p> 
<h4><a id="4_new__151"></a>4. new 绑定</h4> 
<blockquote> 
 <p>当函数用作构造函数（使用 <code>new</code> 关键字创建对象）时，<code>this</code> 绑定到新创建的对象。</p> 
</blockquote> 
<pre><code class="prism language-js">    <span class="token keyword">function</span> <span class="token function">fn</span> <span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>bar <span class="token operator">=</span> <span class="token number">1</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>bar<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<ul><li>通过<code>new</code>关键字改变了this的执行，指向了<code>obj</code></li></ul> 
<p><code>当函数返回一个对象</code></p> 
<pre><code class="prism language-js">    <span class="token keyword">function</span> <span class="token function">fn</span> <span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>bar <span class="token operator">=</span> <span class="token number">1</span>
      <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">bar</span><span class="token operator">:</span> <span class="token number">10</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>bar<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<ul><li>当函数返回一个对象时，通过new关键字将this指向改变指向返回的对象，不指向obj 
  <ul><li><img src="https://images2.imgbox.com/ce/91/cwIU8uSs_o.png" alt="image-20230911212816249"></li></ul> </li></ul> 
<p><code>当返回一些简单类型时候</code></p> 
<pre><code class="prism language-js">    <span class="token keyword">function</span> <span class="token function">fn</span> <span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>bar <span class="token operator">=</span> <span class="token number">1</span>
      <span class="token keyword">return</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>bar<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<ul><li>this还是指向obj</li></ul> 
<p><code>返回null</code></p> 
<pre><code class="prism language-js">    <span class="token keyword">function</span> <span class="token function">fn</span> <span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>bar <span class="token operator">=</span> <span class="token number">1</span>
      <span class="token keyword">return</span> <span class="token keyword">null</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>bar<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<ul><li>虽然null是object类型</li><li>但是还是指向obj</li></ul> 
<h3><a id="_224"></a>三：箭头函数</h3> 
<blockquote> 
 <p>JS中箭头函数与普通函数在<code>this</code>上有着重要的不同。</p> 
 <p>箭头函数<code>this</code>的绑定是在箭头函数创建的时候就确定的好的，是静态<code>this</code>绑定，它没有自己的上下文，它会捕获最近的普通函数的<code>this</code>值</p> 
 <p>普通函数<code>this</code>值取决于，函数是如何被调用的，是根据调用方式<code>动态</code>确定的</p> 
</blockquote> 
<p><code>在全局上下文中</code></p> 
<pre><code class="prism language-js">    <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span>
    <span class="token keyword">const</span> <span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
    <span class="token punctuation">{<!-- --></span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/ca/e8/dBHDXY8e_o.png" alt="image-20230911214426329"></p> 
<ul><li><code>fn</code>箭头函数会自动捕获最近的最近的普通函数上下文，通常是<code>全局对象window</code></li></ul> 
<p><code>在对象方法中</code></p> 
<pre><code class="prism language-js">    <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">10</span>
    <span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token function-variable function">fn</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
      <span class="token punctuation">{<!-- --></span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    obj<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/9f/5c/6ihFVqyC_o.png" alt="image-20230911214641724"></p> 
<ul><li><code>fn</code>箭头函数的this值不取决于被调用时动态绑定，而是在静态创建时候，与最近最近的普通函数上下文<code>this</code>值一致</li><li><code>fn</code>箭头函数最近最近的普通函数上下文是window全局</li><li>因此<code>this</code>指向window</li></ul> 
<p><code>作为事件回调</code></p> 
<pre><code class="prism language-html">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btn<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>点击<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<pre><code class="prism language-js">
    <span class="token keyword">const</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'btn'</span><span class="token punctuation">)</span>
    <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">10</span>
    <span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token function-variable function">fn</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
      <span class="token punctuation">{<!-- --></span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">// 10</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> obj<span class="token punctuation">.</span>fn<span class="token punctuation">)</span>
</code></pre> 
<ul><li>点击按钮输出还是10</li><li>箭头函数作为回调函数时，其 <code>this</code> 绑定通常与定义它的上下文相同。</li></ul> 
<h3><a id="_298"></a>四：优先级</h3> 
<h4><a id="1__VS__300"></a>1. 隐式绑定 VS 显示绑定</h4> 
<pre><code class="prism language-js"><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token literal-property property">foo</span><span class="token operator">:</span> foo
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> obj2 <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token literal-property property">foo</span><span class="token operator">:</span> foo
<span class="token punctuation">}</span><span class="token punctuation">;</span>

obj1<span class="token punctuation">.</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
obj2<span class="token punctuation">.</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span>

obj1<span class="token punctuation">.</span><span class="token function">foo</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span> obj2 <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span>
obj2<span class="token punctuation">.</span><span class="token function">foo</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span> obj1 <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
</code></pre> 
<ul><li>显示绑定优先级要高于隐式绑定</li></ul> 
<h4><a id="2_new_VS__328"></a>2. new绑定 VS 显示绑定</h4> 
<pre><code class="prism language-js"><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> alice <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">"Alice"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"Bob"</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> boundGreet <span class="token operator">=</span> <span class="token function">greet</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> aliceWithBinding <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">boundGreet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 使用 new 绑定，this 绑定到新对象 aliceWithBinding</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>aliceWithBinding<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出: undefined，因为 new 绑定覆盖了显式绑定</span>

</code></pre> 
<ul><li><code>new</code> 绑定的优先级更高。当使用 <code>new</code> 关键字创建对象实例时，它会覆盖之前的显式绑定</li></ul>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e9c4c476cbf33e29e6c1c2523b09866c/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">hive常用函数</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/84b9b71a3d185b8aa1babb2f21453326/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">《android ScrollView嵌套RecycleView滑动禁止》</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>