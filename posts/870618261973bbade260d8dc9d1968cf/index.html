<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Linux查看GPU显卡/CPU内存/硬盘信息 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Linux查看GPU显卡/CPU内存/硬盘信息" />
<meta property="og:description" content="显卡信息命令/CPU内存/硬盘 1.显卡2、CPU内存3、硬盘 1.显卡 nvidia-smi
nvidia-smi（显示一次当前GPU占用情况）
nvidia-smi -l（每秒刷新一次并显示）
watch -n 5 nvidia-smi （其中，5表示每隔6秒刷新一次终端的显示结果）
表头释义：
Fan：显示风扇转速，数值在0到100%之间，是计算机的期望转速，如果计算机不是通过风扇冷却或者风扇坏了，显示出来就是N/A；
Temp：显卡内部的温度，单位是摄氏度；
Perf：表征性能状态，从P0到P12，P0表示最大性能，P12表示状态最小性能；
Pwr：能耗表示；
Bus-Id：涉及GPU总线的相关信息；
Disp.A：是Display Active的意思，表示GPU的显示是否初始化；
Memory Usage：显存的使用率；
Volatile GPU-Util：浮动的GPU利用率；
Compute M：计算模式；
下边的Processes显示每块GPU上每个进程所使用的显存情况。
GPU：编号
Fan：风扇转速，在0到100%之间变动，这里是42%
Name：显卡名，这里是TITAN X
Temp：显卡温度，这里是69摄氏度
Perf：性能状态，从P0到P12，P0性能最大，P12最小
Persistence-M：持续模式的状态开关，该模式耗能大，但是启动新GPU应用时比较快，这里是off
Pwr：能耗
Bus-Id：涉及GPU总线的东西
Disp.A：表示GPU的显示是否初始化
Memory-Usage：现存使用率，这里已经快满了
GPU-Util：GPU利用率
Compute M.：计算模式
参考查看Linux服务器内存、CPU、显卡、硬盘使用情况，链接：https://www.jianshu.com/p/0aed4feba213
https://www.cnblogs.com/wsnan/p/11769838.html
CUDA版本
1.查看当前安装的版本（nvcc -V）
系统自带：通过nvcc(NVIDIA Cuda compiler driver)命令可查看本机安装的CUDA版本:nvcc -V
nvcc -V查看的是系统自带的cuda的版本。
虚拟环境中：要看虚拟环境中的版本，查看pip包或者要导入pytorch和tensorflow库进行测试 pytorch中：print(torch.__version__)和tensorflow中：conda list | grep cuda直接在终端里，打开相应环境，进行查看
2.查看能支持的最高CUDA版本（nvidia-smi）
通过nvidia-smi 命令可查看本机的Nvidia显卡驱动信息，以及该驱动支持的最高的CUDA版本。nvidia-smi，例如下面的CUDA Version就是我的电脑上面能够安装的最高版本的CUDA，并且该版本号是向下支持的，可以安装低于该版本号的所有CUDA套件 释放显卡内存
在Ubuntu运行代码的时候，有时会出现代码退出了，显存依然在占用的情况。
1、#批量清理显卡中残留进程：(批量包含其他信息时不行，要用/dev/nvidia*设置成指定哪个进行批量kill如：/dev/nvidia0) sudo fuser -v /dev/nvidia* |awk &#39;{for(i=1;i&lt;=NF;i&#43;&#43;)print &#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/870618261973bbade260d8dc9d1968cf/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-08-12T22:01:36+08:00" />
<meta property="article:modified_time" content="2023-08-12T22:01:36+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Linux查看GPU显卡/CPU内存/硬盘信息</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>显卡信息命令/CPU内存/硬盘</h4> 
 <ul><li><ul><li><a href="#1_1" rel="nofollow">1.显卡</a></li><li><a href="#2CPU_68" rel="nofollow">2、CPU内存</a></li><li><a href="#3_76" rel="nofollow">3、硬盘</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h3><a id="1_1"></a>1.显卡</h3> 
<p>nvidia-smi<br> nvidia-smi（显示一次当前GPU占用情况）<br> nvidia-smi -l（每秒刷新一次并显示）<br> watch -n 5 nvidia-smi （其中，5表示每隔6秒刷新一次终端的显示结果）</p> 
<p>表头释义：<br> Fan：显示风扇转速，数值在0到100%之间，是计算机的期望转速，如果计算机不是通过风扇冷却或者风扇坏了，显示出来就是N/A；<br> Temp：显卡内部的温度，单位是摄氏度；<br> Perf：表征性能状态，从P0到P12，P0表示最大性能，P12表示状态最小性能；<br> Pwr：能耗表示；<br> Bus-Id：涉及GPU总线的相关信息；<br> Disp.A：是Display Active的意思，表示GPU的显示是否初始化；<br> Memory Usage：显存的使用率；<br> Volatile GPU-Util：浮动的GPU利用率；<br> Compute M：计算模式；<br> 下边的Processes显示每块GPU上每个进程所使用的显存情况。<br> <img src="https://images2.imgbox.com/4c/b4/fqn3K5ct_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/9e/2b/9bFHdyMH_o.png" alt="在这里插入图片描述"></p> 
<p>GPU：编号<br> Fan：风扇转速，在0到100%之间变动，这里是42%<br> Name：显卡名，这里是TITAN X<br> Temp：显卡温度，这里是69摄氏度<br> Perf：性能状态，从P0到P12，P0性能最大，P12最小<br> Persistence-M：持续模式的状态开关，该模式耗能大，但是启动新GPU应用时比较快，这里是off<br> Pwr：能耗<br> Bus-Id：涉及GPU总线的东西<br> Disp.A：表示GPU的显示是否初始化<br> Memory-Usage：现存使用率，这里已经快满了<br> GPU-Util：GPU利用率<br> Compute M.：计算模式</p> 
<p>参考查看Linux服务器内存、CPU、显卡、硬盘使用情况，链接：https://www.jianshu.com/p/0aed4feba213<br> https://www.cnblogs.com/wsnan/p/11769838.html</p> 
<ul><li>CUDA版本<br> 1.查看当前安装的版本（nvcc -V）<br> 系统自带：通过nvcc(NVIDIA Cuda compiler driver)命令可查看本机安装的CUDA版本:nvcc -V<br> nvcc -V查看的是系统自带的cuda的版本。<br> 虚拟环境中：要看虚拟环境中的版本，查看pip包或者要导入pytorch和tensorflow库进行测试 <code>pytorch中：print(torch.__version__)和tensorflow中：conda list | grep cuda直接在终端里，打开相应环境，进行查看</code><br> 2.查看能支持的最高CUDA版本（nvidia-smi）<br> 通过nvidia-smi 命令可查看本机的Nvidia显卡驱动信息，以及该驱动支持的最高的CUDA版本。nvidia-smi，例如下面的CUDA Version就是我的电脑上面能够安装的最高版本的CUDA，并且该版本号是向下支持的，可以安装低于该版本号的所有CUDA套件</li></ul> 
<p>释放显卡内存<br> 在Ubuntu运行代码的时候，有时会出现代码退出了，显存依然在占用的情况。</p> 
<pre><code class="prism language-python"><span class="token number">1</span>、<span class="token comment">#批量清理显卡中残留进程：(批量包含其他信息时不行，要用/dev/nvidia*设置成指定哪个进行批量kill如：/dev/nvidia0)</span>
sudo fuser <span class="token operator">-</span>v <span class="token operator">/</span>dev<span class="token operator">/</span>nvidia<span class="token operator">*</span> <span class="token operator">|</span>awk <span class="token string">'{for(i=1;i&lt;=NF;i++)print "kill -9 " $i;}'</span> <span class="token operator">|</span> sudo sh

<span class="token comment">#或</span>
lsof <span class="token operator">/</span>dev<span class="token operator">/</span>nvidia<span class="token operator">*</span> <span class="token operator">|</span> awk <span class="token string">'{print $2}'</span> <span class="token operator">|</span> xargs <span class="token operator">-</span>I <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span> kill <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>

<span class="token comment">#或</span>
fuser <span class="token operator">-</span>v <span class="token operator">/</span>dev<span class="token operator">/</span>nvidia<span class="token operator">*</span> <span class="token operator">|</span> awk <span class="token string">'{print $0}'</span> <span class="token operator">|</span>  xargs kill <span class="token operator">-</span><span class="token number">9</span>

<span class="token number">2</span>、手动
apt<span class="token operator">-</span>get install psmisc
<span class="token comment">#查找占用GPU资源的PID</span>
fuser <span class="token operator">-</span>v <span class="token operator">/</span>dev<span class="token operator">/</span>nvidia<span class="token operator">*</span>
<span class="token comment"># 解除显存占用</span>
kill <span class="token operator">-</span><span class="token number">9</span> <span class="token operator">**</span><span class="token operator">*</span><span class="token punctuation">(</span>PID<span class="token punctuation">)</span>  
</code></pre> 
<h3><a id="2CPU_68"></a>2、CPU内存</h3> 
<ol><li>查看cup使用率、内存<br> （1）top<br> （2）htop<br> $ sudo apt-get install htop<br> $ htop<br> （3）free命令<br> free命令可以显示Linux系统中空闲的、已用的物理内存及swap内存,及被内核使用的buffer。在Linux系统监控的工具中，free命令是最经常使用的命令之一。</li></ol> 
<h3><a id="3_76"></a>3、硬盘</h3> 
<p>（1）df命令<br> （2）df -h命令，df命令直接执行的效果不好，不能以mb或者gb的形式显示磁盘容量。为了以人性化显示，可以在后面加-h参数，h是human-reading的第一个字母，可以理解为人类能读的格式。<br> （3）查看分区：sudo fdisk -l</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/83388a58c9c60cc6f29891b7c5dc2c09/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">c&#43;&#43; cpp cmake opencv 深度学习模型 推理 前向部署 代码示例示意</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/ba94ef4d5347003b710206e493340d7a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">JSON序列化</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>