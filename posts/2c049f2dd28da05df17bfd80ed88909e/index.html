<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Unity开发过程中的一些小知识点 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Unity开发过程中的一些小知识点" />
<meta property="og:description" content="1、如何查询挂载了指定脚本的游戏物体
可以直接在Hierarchy面板上，搜索想要找的脚本名
2、如何将Unity生成的多个相同游戏物体获得序号
可以使用Unity的API Transform.GetSiblingIndex() 实现。
Transform.GetSiblingIndex() ================================== gameobject.id=Transform.GetSiblingIndex() 含义：获得同级索引
将生成的游戏物体放在同一的父级对象下，通过该API即可获取这些游戏图在同级层视图上的位置(按Hierarchy窗口中顺序进行排序)。
3、在Unity中如何获得系统时间并输出
这里需要注意YYYYMMDD_HHMMSS的含义
它表示一种日期和时间的格式
YYYY：表示四位数的年份，比如2024年
MM：表示两位数的月份，比如12月
DD：表示两位数的日期，比如23日
HH：表示小时，比如6小时
MM：表示分钟，比如45分钟
SS：表示秒钟，比如12秒
string date = $&#34;{ System.DateTime.Now:yyyy/MM/dd_HH/mm/ss}&#34; ; string date2 = System.DateTime.Now.ToString(&#34;yyyy/MM/dd_HH/mm/ss&#34;); 4、如何用C#做出年/月/日这样种有斜杆的日期显示
1、可以使用C#中Substring()方法
Substring(int i ，int j) i表示从第i位的索引号开始截取 j表示截取的数量 注意：字符串的索引值是从0开始的 作用：从字符串中截取指定开始位置和指定长度的字符串
public void GetDateButton2() { string date = $&#34;{ System.DateTime.Now:yyyyMMdd_HHmmss}&#34;; string datetext = date.Substring(0,8);//截取从索引值第0位开始的后八位字符 string timetext = date.Substring(9,6);//截取从索引值第9位开始的后六位字符 SetDate(ref datetext); SetTime(ref timetext); DateText.text = datetext &#43; &#34;_&#34; &#43; timetext; } public void SetDate(ref string date) { date = date." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/2c049f2dd28da05df17bfd80ed88909e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-12-21T10:54:39+08:00" />
<meta property="article:modified_time" content="2023-12-21T10:54:39+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Unity开发过程中的一些小知识点</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><strong>1、如何查询挂载了指定脚本的游戏物体</strong><br> <img src="https://images2.imgbox.com/f0/ea/BKKwOHSb_o.png" alt="在这里插入图片描述"><br> 可以直接在Hierarchy面板上，搜索想要找的脚本名</p> 
<p><strong>2、如何将Unity生成的多个相同游戏物体获得序号</strong></p> 
<p>可以使用Unity的API <mark>Transform.GetSiblingIndex()</mark> 实现。</p> 
<pre><code class="prism language-csharp">Transform<span class="token punctuation">.</span><span class="token function">GetSiblingIndex</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span>
gameobject<span class="token punctuation">.</span>id<span class="token operator">=</span>Transform<span class="token punctuation">.</span><span class="token function">GetSiblingIndex</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p>含义：获得同级索引</p> 
<p>将生成的游戏物体放在同一的父级对象下，通过该API即可获取这些游戏图在同级层视图上的位置(按Hierarchy窗口中顺序进行排序)。</p> 
<p><strong>3、在Unity中如何获得系统时间并输出</strong></p> 
<p>这里需要注意YYYYMMDD_HHMMSS的含义<br> 它表示一种日期和时间的格式</p> 
<p>YYYY：表示四位数的年份，比如2024年<br> MM：表示两位数的月份，比如12月<br> DD：表示两位数的日期，比如23日</p> 
<p>HH：表示小时，比如6小时<br> MM：表示分钟，比如45分钟<br> SS：表示秒钟，比如12秒</p> 
<pre><code class="prism language-csharp"> <span class="token class-name"><span class="token keyword">string</span></span> date <span class="token operator">=</span> <span class="token interpolation-string"><span class="token string">$"</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span><span class="token expression language-csharp"> System<span class="token punctuation">.</span>DateTime<span class="token punctuation">.</span>Now</span><span class="token format-string"><span class="token punctuation">:</span>yyyy/MM/dd_HH/mm/ss</span><span class="token punctuation">}</span></span><span class="token string">"</span></span> <span class="token punctuation">;</span>
 <span class="token class-name"><span class="token keyword">string</span></span> date2 <span class="token operator">=</span> System<span class="token punctuation">.</span>DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token string">"yyyy/MM/dd_HH/mm/ss"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p><strong>4、如何用C#做出<mark>年/月/日</mark>这样种有斜杆的日期显示</strong></p> 
<p>1、可以使用C#中Substring()方法</p> 
<pre><code class="prism language-csharp"><span class="token function">Substring</span><span class="token punctuation">(</span><span class="token keyword">int</span> i ，<span class="token class-name"><span class="token keyword">int</span></span> j<span class="token punctuation">)</span>
i表示从第i位的索引号开始截取 
j表示截取的数量
注意：字符串的索引值是从<span class="token number">0</span>开始的
</code></pre> 
<p>作用：从字符串中截取指定开始位置和指定长度的字符串</p> 
<pre><code class="prism language-csharp"> <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">GetDateButton2</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token class-name"><span class="token keyword">string</span></span> date <span class="token operator">=</span> <span class="token interpolation-string"><span class="token string">$"</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span><span class="token expression language-csharp"> System<span class="token punctuation">.</span>DateTime<span class="token punctuation">.</span>Now</span><span class="token format-string"><span class="token punctuation">:</span>yyyyMMdd_HHmmss</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">;</span>

        <span class="token class-name"><span class="token keyword">string</span></span> datetext <span class="token operator">=</span> date<span class="token punctuation">.</span><span class="token function">Substring</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//截取从索引值第0位开始的后八位字符</span>

        <span class="token class-name"><span class="token keyword">string</span></span> timetext <span class="token operator">=</span> date<span class="token punctuation">.</span><span class="token function">Substring</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//截取从索引值第9位开始的后六位字符</span>

        <span class="token function">SetDate</span><span class="token punctuation">(</span><span class="token keyword">ref</span> datetext<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">SetTime</span><span class="token punctuation">(</span><span class="token keyword">ref</span> timetext<span class="token punctuation">)</span><span class="token punctuation">;</span>

        DateText<span class="token punctuation">.</span>text <span class="token operator">=</span> datetext <span class="token operator">+</span> <span class="token string">"_"</span> <span class="token operator">+</span> timetext<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">SetDate</span><span class="token punctuation">(</span><span class="token keyword">ref</span> <span class="token class-name"><span class="token keyword">string</span></span> date<span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        date <span class="token operator">=</span> date<span class="token punctuation">.</span><span class="token function">Insert</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">"/"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        date <span class="token operator">=</span> date<span class="token punctuation">.</span><span class="token function">Insert</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token string">"/"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">SetTime</span><span class="token punctuation">(</span><span class="token keyword">ref</span> <span class="token class-name"><span class="token keyword">string</span></span> time<span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        time <span class="token operator">=</span> time<span class="token punctuation">.</span><span class="token function">Insert</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">":"</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>
        time <span class="token operator">=</span> time<span class="token punctuation">.</span><span class="token function">Insert</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token string">":"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre> 
<p>使用SubString()方法还可以用于截取字符串做判断，可以做一些像是敏感词这样的功能</p> 
<p>2、直接通过YYYYMMDD_HHMMSS进行格式化</p> 
<pre><code class="prism language-csharp">yyyy<span class="token operator">/</span>MM<span class="token operator">/</span>dd_HH<span class="token operator">/</span>mm<span class="token operator">/</span>ss
</code></pre> 
<p><strong>4、在Unity中的Inspector层实现按钮的颜色控制</strong></p> 
<pre><code class="prism language-csharp"> <span class="token comment">//颜色拾取器，第一个参数控制是否显示透明通道，第二参数控制是否使用HDR</span>
    <span class="token punctuation">[</span><span class="token function">Header</span><span class="token punctuation">(</span><span class="token string">"按钮"</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token class-name">Button</span> button<span class="token punctuation">;</span>

    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">ColorUsage</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token class-name">Color</span> color1<span class="token punctuation">;</span>

    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">ColorUsage</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token class-name">Color</span> color2<span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Update</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        button<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">GetComponent</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Image<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>color <span class="token operator">=</span> color1<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre> 
<p><strong>5、如何在Unity当中实现两点连线</strong><br> 可以使用Unity当中LineRenderer组件完成画线的功能</p> 
<p>1、LineRenderer是Unity提供的一个用于画线的组件，可以用于在场景中绘制线段</p> 
<p>用处：<br> 1、绘制攻击范围<br> 2、武器红外线<br> 3、距离计算</p> 
<p>2、LineRenderer的使用<br> 相关参数<br> 1、Loop——是否终点起始自动相连<br> 2、Positions——线段的点<br> …</p> 
<p><strong>6、关于一些MonoBehavior的知识点</strong><br> 1、继承类MonoBehavior类的脚本只能挂载，不能new<br> 想要生成相关的类</p> 
<p>2、继承类MonoBehavior的脚本可以在一个对象上挂多个</p> 
<p>3、继承MonoBehavior类可以再次被继承，遵循面向对象继承多态的规则</p> 
<p>基于上述规则，因此一个游戏物体会有两个相关的类，一个负责处理数据，一个负责挂载在物体上负责View显示</p> 
<p><strong>7、Unity中的localPosition和Position的区别</strong><br> 1、localPosition是相对于父对象的坐标。如果改变游戏对象的localPosition，它将移动到相对于父对象的新位置，如果该物体没有父对象，则它的localPosition与Position相同。<br> 2、Position是世界空间中的绝对坐标。当改变一个游戏对象的Position，无论是否有父对象，都将在全局坐标系中的移动到新位置。</p> 
<p><strong>8、UI卡顿优化原理与实践</strong><br> 1、Unity为了性能优化会合并Canvas下所有元素<br> 2、如果把所有面板放在一个Canvas中，会造成重绘<br> Canvas优化要点<br> 1、一个Canvas下的所有UI元素都是合在一个Mesh中的，过大的Mesh在更新时开销很大<br> 2、一般建议每个较复杂的UI界面，都自成一个Canvas(可以是子Canvas)，在UI界面很复杂时，甚至要划分更多的子Canvas<br> 3、动静分离<br> 4、Canvas又不能细分的太多，因为会导致DrawCall的上升<br> 5、把一个面板的UI资源放在一个图集里<br> 6、背景大图不要和小图放在一个图集里</p> 
<p>Overdraw(GPU)<br> 造成GPU性能瓶颈的主要原因<br> 1、复杂的vertext或pixel shader计算<br> overdraw：<br> 光栅化阶段的填充像素过多<br> 在UGUI中使用Alpha=0的不可见Image参与Raycast，譬如在屏幕空白处点击的响应，然而这些元素虽然在屏幕上不可见，但依然参与了绘制</p> 
<p>UGUI其他优化要点<br> 1、不处理点击的物体不要挂GraphicsRaycaster<br> 2、少用LayoutGroup或者Content Size Fitter<br> 用户操作——重绘——消耗大量计算时间<br> 写算法自己算<br> 3、Layout原理：<br> 遍历SetDirty对象会消耗性能</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/b9bdbc8fedfe43b5142350945b17796e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">河道漂浮物监测识别摄像机</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/ca32edfd1eb1f963edbf335570e5e587/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">[U in keyof T]?: T[U] extends {} ? PowerPartial＜T[U]＞ : T[U]；</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>