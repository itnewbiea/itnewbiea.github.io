<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Redis-安装、配置和修改配置文件、以及在Ubuntu和CentOS上设置Redis服务的开机启动和防火墙设置，以及客户端连接。 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Redis-安装、配置和修改配置文件、以及在Ubuntu和CentOS上设置Redis服务的开机启动和防火墙设置，以及客户端连接。" />
<meta property="og:description" content="目录
1. Redis简介
2. 离线安装
2.1 准备工作
2.2 解压、安装
2.3 修改配置文件
2.4 redis服务与关闭
2.5 redis服务的开机启动
2.5.1 Ubuntu上的配置
2.5.2 centos上的配置
3. 在线安装
4. 设置防火墙
5. 客户端连接
1. Redis简介 Redis 是完全开源免费的，遵守BSD协议，内存中的数据结构存储系统，它可以用作数据库、缓存和消息中间件。
特点：
支持数据的持久化，可以将内存中的数据保存到硬盘，在重启后再次加载使用。
支持的数据结构丰富，String，list，set， zset， hash等等。
支持数据备份，master-slave模式进行数据备份。
优势：
性能高，Redis能读的速度是110000次/s,写的速度是81000次/s。
数据类型丰富
原子性，redis中所有操作都是原子的，并且多个操作也支持原子性
丰富的特性，如通知，key过期等。
2. 离线安装 说明：该例的示例步骤基于ubuntu16版本。
2.1 准备工作 在离线安装redis前先安装两个软件，gcc和make，为方便安装可以先将用户切换到root下（使用 su 命令，需要输入root的密码）
1）安装gcc
apt-get install gcc 2）安装make
apt-get install make 关于gcc和make
GCC（GNU Compiler Collection，GNU编译器套件），是由 GNU 开发的编程语言编译器。它是以GPL许可证所发行的自由软件，也是 GNU计划的关键部分。GCC是Linux下重要的编译工具。
make工具的定义是通过编写的makefile脚本文件描述整个工程的编译、链接规则；通过脚本文件，对于复杂的工程也可以只通过一个命令就完成整个编译过程。类似于java中的maven
3）下载redis5，本例下载到了/home/lise目录下。
wget http://download.redis.io/releases/redis-5.0.3.tar.gz 注： wget简介" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/65c0f74804d7275b4ba7ad9e151bba5c/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-11-29T18:37:58+08:00" />
<meta property="article:modified_time" content="2023-11-29T18:37:58+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Redis-安装、配置和修改配置文件、以及在Ubuntu和CentOS上设置Redis服务的开机启动和防火墙设置，以及客户端连接。</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><a name="790"></a></p> 
<p id="main-toc"><strong>目录</strong></p> 
<p id="1.%20Redis%E7%AE%80%E4%BB%8B-toc" style="margin-left:0px;"><a href="#1.%20Redis%E7%AE%80%E4%BB%8B" rel="nofollow">1. Redis简介</a></p> 
<p id="2.%20%E7%A6%BB%E7%BA%BF%E5%AE%89%E8%A3%85-toc" style="margin-left:0px;"><a href="#2.%20%E7%A6%BB%E7%BA%BF%E5%AE%89%E8%A3%85" rel="nofollow">2. 离线安装</a></p> 
<p id="2.1%20%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C-toc" style="margin-left:40px;"><a href="#2.1%20%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C" rel="nofollow">2.1 准备工作</a></p> 
<p id="2.2%20%E8%A7%A3%E5%8E%8B%E3%80%81%E5%AE%89%E8%A3%85-toc" style="margin-left:40px;"><a href="#2.2%20%E8%A7%A3%E5%8E%8B%E3%80%81%E5%AE%89%E8%A3%85" rel="nofollow">2.2 解压、安装</a></p> 
<p id="2.3%20%E4%BF%AE%E6%94%B9%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6-toc" style="margin-left:40px;"><a href="#2.3%20%E4%BF%AE%E6%94%B9%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6" rel="nofollow">2.3 修改配置文件</a></p> 
<p id="2.4%20redis%E6%9C%8D%E5%8A%A1%E4%B8%8E%E5%85%B3%E9%97%AD-toc" style="margin-left:40px;"><a href="#2.4%20redis%E6%9C%8D%E5%8A%A1%E4%B8%8E%E5%85%B3%E9%97%AD" rel="nofollow">2.4 redis服务与关闭</a></p> 
<p id="2.5%20redis%E6%9C%8D%E5%8A%A1%E7%9A%84%E5%BC%80%E6%9C%BA%E5%90%AF%E5%8A%A8-toc" style="margin-left:40px;"><a href="#2.5%20redis%E6%9C%8D%E5%8A%A1%E7%9A%84%E5%BC%80%E6%9C%BA%E5%90%AF%E5%8A%A8" rel="nofollow">2.5 redis服务的开机启动</a></p> 
<p id="2.5.1%20Ubuntu%E4%B8%8A%E7%9A%84%E9%85%8D%E7%BD%AE-toc" style="margin-left:80px;"><a href="#2.5.1%20Ubuntu%E4%B8%8A%E7%9A%84%E9%85%8D%E7%BD%AE" rel="nofollow">2.5.1 Ubuntu上的配置</a></p> 
<p id="2.5.2%20centos%E4%B8%8A%E7%9A%84%E9%85%8D%E7%BD%AE-toc" style="margin-left:80px;"><a href="#2.5.2%20centos%E4%B8%8A%E7%9A%84%E9%85%8D%E7%BD%AE" rel="nofollow">2.5.2 centos上的配置</a></p> 
<p id="3.%20%E5%9C%A8%E7%BA%BF%E5%AE%89%E8%A3%85-toc" style="margin-left:0px;"><a href="#3.%20%E5%9C%A8%E7%BA%BF%E5%AE%89%E8%A3%85" rel="nofollow">3. 在线安装</a></p> 
<p id="4.%20%E8%AE%BE%E7%BD%AE%E9%98%B2%E7%81%AB%E5%A2%99-toc" style="margin-left:0px;"><a href="#4.%20%E8%AE%BE%E7%BD%AE%E9%98%B2%E7%81%AB%E5%A2%99" rel="nofollow">4. 设置防火墙</a></p> 
<p id="5.%20%E5%AE%A2%E6%88%B7%E7%AB%AF%E8%BF%9E%E6%8E%A5-toc" style="margin-left:0px;"><a href="#5.%20%E5%AE%A2%E6%88%B7%E7%AB%AF%E8%BF%9E%E6%8E%A5" rel="nofollow">5. 客户端连接</a></p> 
<hr id="hr-toc"> 
<p></p> 
<p></p> 
<h2 id="1.%20Redis%E7%AE%80%E4%BB%8B">1. Redis简介</h2> 
<p>Redis 是完全开源免费的，遵守BSD协议，内存中的数据结构存储系统，它可以用作数据库、缓存和消息中间件。</p> 
<p>特点：<br> 支持数据的持久化，可以将内存中的数据保存到硬盘，在重启后再次加载使用。<br> 支持的数据结构丰富，String，list，set， zset， hash等等。<br> 支持数据备份，master-slave模式进行数据备份。</p> 
<p>优势：<br> 性能高，Redis能读的速度是110000次/s,写的速度是81000次/s。<br> 数据类型丰富<br> 原子性，redis中所有操作都是原子的，并且多个操作也支持原子性<br> 丰富的特性，如通知，key过期等。</p> 
<h2 id="2.%20%E7%A6%BB%E7%BA%BF%E5%AE%89%E8%A3%85">2. 离线安装</h2> 
<blockquote> 
 <p>说明：该例的示例步骤基于ubuntu16版本。</p> 
</blockquote> 
<h3 id="2.1%20%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C">2.1 准备工作</h3> 
<p>在离线安装redis前先安装两个软件，gcc和make，为方便安装可以先将用户切换到root下（使用 su 命令，需要输入root的密码）<br> 1）安装gcc</p> 
<pre><code>apt-get install gcc
</code></pre> 
<p>2）安装make</p> 
<pre><code>apt-get install make
</code></pre> 
<blockquote> 
 <p>关于gcc和make<br> GCC（GNU Compiler Collection，GNU编译器套件），是由 GNU 开发的编程语言编译器。它是以GPL许可证所发行的自由软件，也是 GNU计划的关键部分。GCC是Linux下重要的编译工具。<br> make工具的定义是通过编写的makefile脚本文件描述整个工程的编译、链接规则；通过脚本文件，对于复杂的工程也可以只通过一个命令就完成整个编译过程。类似于java中的maven</p> 
</blockquote> 
<p>3）下载redis5，本例下载到了/home/lise目录下。</p> 
<pre><code>wget http://download.redis.io/releases/redis-5.0.3.tar.gz
</code></pre> 
<blockquote> 
 <p>注： wget简介<br> wget是linux下常用的文件下载工具，wget支持http，https，ftp等协议，支持使用http代理。<br> wget有很多参数，常用的有一下几个：<br> -V --version 显示wget的版本<br> -o --output-file=file 将信息写入file，如果不提供默认以下载的文件作为文件名。<br> -v --verbose 详细输出，默认值<br> -t --tries=number 设置重试次数，0表示无限制</p> 
</blockquote> 
<h3 id="2.2%20%E8%A7%A3%E5%8E%8B%E3%80%81%E5%AE%89%E8%A3%85">2.2 解压、安装</h3> 
<p>1）在/usr/local目录下创建一个redis目录又来放置解压后的redis。</p> 
<pre><code>mkdir /usr/local/redis
</code></pre> 
<p>2）在本例中redis下载在/home/lisen目录，来到该目录执行解压</p> 
<pre><code>tar -zxvf redis-5.0.3.tar.gz  -C /usr/local/redis
</code></pre> 
<p>3）编译-安装(在/usr/local/redis/redis-5.0.3目录下执行)</p> 
<pre><code>#编译
make

#安装
make install
</code></pre> 
<p>编译成功的输出：</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/05/10/WfG20ZtF_o.png"></p> 
<p>安装完成时的输出：</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/86/8a/Vg24QJWh_o.png"></p> 
<p>可以查看编译完成的redis命令文件：</p> 
<pre><code>ls /usr/local/bin/redis*
</code></pre> 
<table><thead><tr><th>文件</th><th>作用</th></tr></thead><tbody><tr><td>/usr/local/bin/redis-benchmark</td><td>性能测试工具</td></tr><tr><td>/usr/local/bin/redis-check-aof</td><td>更新日志检查</td></tr><tr><td>/usr/local/bin/redis-check-dump</td><td>本地数据文件检查</td></tr><tr><td>/usr/local/bin/redis-cli</td><td>命令行操作工具</td></tr><tr><td>/usr/local/bin/redis-server</td><td>服务器程序</td></tr></tbody></table> 
<blockquote> 
 <p>在执行编译后，安装之前，可以选择性的执行make test，我们下载的一般都是release版本，该步骤是可选的（该步骤运行所有的单元测试代码，需要较长的时间），如果执行时报：You need tcl 8.5 or newer in order to run the Redis test，则需要先安装tcl，可以使用：<br> wget https://nchc.dl.sourceforge.net/project/tcl/Tcl/8.6.8/tcl8.6.8-src.tar.gz执行安装。</p> 
</blockquote> 
<h3 id="2.3%20%E4%BF%AE%E6%94%B9%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6">2.3 修改配置文件</h3> 
<pre><code> vim /usr/local/redis/redis-5.0.3/redis.conf
</code></pre> 
<p>配置文件需要做如下修改：</p> 
<ul><li>#bind 127.0.0.1 改行限制redis只能本机访问，需要注释掉</li><li>port 6379 设置redis的访问端口，一般保存为默认值6379即可</li><li>protected-mode no 关闭保护模式，如果开启则需要将可以访问redis的机器IP地址配置到bind属性中，同时为redis设置访问密码</li><li>daemonize yes 开启守护进程模式。在该模式下，redis会在后台运行，并将pid写入到redis.conf选项pidfile设置的文件中，此时redis将一直运行，除非手动kill该进程。</li><li>requirepass 123456 设置访问密码，如果protected-mode设置为yes，则必须设置密码</li><li>pidfile /var/run/redis_6379.pid，如果使用默认端口则保持默认值即可。</li><li>logfile /usr/local/redis/redis-5.0.3/redis_log.log 设置redis日志</li><li>dir redis位置，默认为./ 当前目录，保持默认值。</li></ul> 
<h3 id="2.4%20redis%E6%9C%8D%E5%8A%A1%E4%B8%8E%E5%85%B3%E9%97%AD">2.4 redis服务与关闭</h3> 
<p>1）启动<br> 安装成功后可以使用redis-server命令进行启动，改命令已经放入/usr/local/bin目录下，且该目录已经放入path环境变量，所以不必进入redis的安装目录也可以执行redis-server命令，在执行时为了使在/usr/local/redis/redis-5.0.3/redis.conf配置文件起效，需要作为启动参数提供。</p> 
<pre><code>redis-server  /usr/local/redis/redis-5.0.3/redis.conf
</code></pre> 
<blockquote> 
 <p>注意：为了能正常读取redis.conf配置文件，需要切换到root用户，或通过sudo命令启动。</p> 
</blockquote> 
<p>启动成功后可以通过如下命令查看：</p> 
<pre><code>ps -aux|grep redis
</code></pre> 
<p style="text-align:center;"> <img alt="" src="https://images2.imgbox.com/1d/3e/HOA2ry6X_o.png"></p> 
<p>2）关闭<br> 可以使用如下命令进行关闭</p> 
<pre><code>redis-cli shutdown      #未设置密码，直接关闭
redis-cli -a 密码  shutdown   #设置密码，在关闭时需要提供密码
</code></pre> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/16/ec/hmqGxWQJ_o.png"> </p> 
<h3 id="2.5%20redis%E6%9C%8D%E5%8A%A1%E7%9A%84%E5%BC%80%E6%9C%BA%E5%90%AF%E5%8A%A8">2.5 redis服务的开机启动</h3> 
<h4 id="2.5.1%20Ubuntu%E4%B8%8A%E7%9A%84%E9%85%8D%E7%BD%AE">2.5.1 Ubuntu上的配置</h4> 
<p>1）在设置开机启动之前先确定是否安装了sysv-rc-conf</p> 
<pre><code>dpkg -l | grep sysv-rc-conf
</code></pre> 
<p>如果没有安装则先安装该软件。</p> 
<blockquote> 
 <p>注：sysv-rc-conf 是功能强大的服务管理软件</p> 
</blockquote> 
<pre><code>apt-get install sysv-rc-conf
</code></pre> 
<p>安装完成后可以通过如下命令来启动该程序</p> 
<pre><code>sysv-rc-conf
</code></pre> 
<p>2）将启动脚本redis_init_script（位于安装目录下的utils目录下）复制到/etc/init.d下，重命名为redis-5.0.3</p> 
<pre><code>#将启动脚本拷贝到init.d目录
cp /usr/local/redis/redis-5.0.3/utils/redis_init_script /etc/init.d/

#进入init.d目录，重命名
cd /etc/init.d
mv redis_init_script redis-5.0.3
</code></pre> 
<blockquote> 
 <p>注： init.d目录即存放安装的服务的启动脚本</p> 
</blockquote> 
<p>3）使用vim编辑启动脚本</p> 
<pre><code>#进入/etc/init.d
cd /etc/init.d

vim redis-5.0.3

# 将CONF修改为安装目录下的redis.conf
REDISPORT=6379                               #redis端口
EXEC=/usr/local/bin/redis-server             #redis server目录
CLIEXEC=/usr/local/bin/redis-cli             #redis cli目录
PIDFILE=/var/run/redis_${REDISPORT}.pid      #PID文件目录 
#CONF="/etc/redis/${REDISPORT}.conf"          #启动配置文件目录
CONF=/usr/local/redis/redis-5.0.3/redis.conf
</code></pre> 
<p>4）使用sysv-rc-conf设置开机启动<br> 使用方法：<br> 操作界面十分简洁，你可以用鼠标点击，也可以用键盘方向键定位，用空格键选择，用Ctrl+N翻下一页，用Ctrl+P翻上一页，用Q退出。其中，“X”表示开启该服务。</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/73/3f/OBfFHXGt_o.png"></p> 
<p>5）如果启用了密码保护，则需要在启动脚本中做一些修改，否则在运行service redis-5.0.3 stop 时会报错。</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/57/6b/lMNnd1I1_o.png"></p> 
<blockquote> 
 <p>注: 将 $CLIEXEC -p REDISPORT shutdown 修改为 CLIEXEC -p $REDISPORT -a 密码 shutdown</p> 
</blockquote> 
<h4 id="2.5.2%20centos%E4%B8%8A%E7%9A%84%E9%85%8D%E7%BD%AE">2.5.2 centos上的配置</h4> 
<p>1） 在 usr/local/redis/redis-5.0.3 目录下，可以看到有utils目录</p> 
<pre><code>[root@localhost redis-5.0.3]# ls
00-RELEASENOTES  COPYING  Makefile   redis.conf       runtest-sentinel  tests
BUGS             deps     MANIFESTO  runtest          sentinel.conf     utils
CONTRIBUTING     INSTALL  README.md  runtest-cluster  src
[root@localhost redis-5.0.3]#
</code></pre> 
<p>2） 进入utils目录，并指向install_server.sh脚本</p> 
<pre><code>[root@localhost utils]# ./install_server.sh
Welcome to the redis service installer
This script will help you easily set up a running redis server

Please select the redis port for this instance: [6379]
Selecting default: 6379
Please select the redis config file name [/etc/redis/6379.conf] /usr/local/redis/redis-5.0.3/redis.conf
Please select the redis log file name [/var/log/redis_6379.log]
Selected default - /var/log/redis_6379.log
Please select the data directory for this instance [/var/lib/redis/6379]
Selected default - /var/lib/redis/6379
Please select the redis executable path [/usr/local/bin/redis-server]
Selected config:
Port           : 6379
Config file    : /usr/local/redis/redis-5.0.3/redis.conf
Log file       : /var/log/redis_6379.log
Data dir       : /var/lib/redis/6379
Executable     : /usr/local/bin/redis-server
Cli Executable : /usr/local/bin/redis-cli
Is this ok? Then press ENTER to go on or Ctrl-C to abort.
Copied /tmp/6379.conf =&gt; /etc/init.d/redis_6379
Installing service...
Successfully added to chkconfig!
Successfully added to runlevels 345!
/var/run/redis_6379.pid exists, process is already running or crashed
Installation successful!
</code></pre> 
<p>该命令是交互式的，需要交互式的输入port， redis.conf，log文件等。</p> 
<p>3）在/etc/init.d/目录下可以看到redis_6379这个自启动脚本</p> 
<pre><code>[root@localhost utils]# cd /etc/init.d
[root@localhost init.d]# ls
functions  netconsole  network  README  redis_6379  tomcat
[root@localhost init.d]#
./usr/local/redis/redis-5
</code></pre> 
<p>4） chkconfig --list命令查看</p> 
<pre><code>[root@localhost init.d]# chkconfig --list

注：该输出结果只显示 SysV 服务，并不包含
原生 systemd 服务。SysV 配置数据
可能被原生 systemd 配置覆盖。

      要列出 systemd 服务，请执行 'systemctl list-unit-files'。
      查看在具体 target 启用的服务请执行
      'systemctl list-dependencies [target]'。

netconsole      0:关    1:关    2:关    3:关    4:关    5:关    6:关
network         0:关    1:关    2:开    3:开    4:开    5:开    6:关
redis_6379      0:关    1:关    2:开    3:开    4:开    5:开    6:关
tomcat          0:关    1:关    2:开    3:开    4:开    5:开    6:开
[root@localhost init.d]#
</code></pre> 
<p>可以看到redis程序在2，3，4，5这四个等级下是开机自启动的</p> 
<h2 id="3.%20%E5%9C%A8%E7%BA%BF%E5%AE%89%E8%A3%85">3. 在线安装</h2> 
<p>在线安装比较简单，运行下面命令即可</p> 
<pre><code>apt-get install redis-server
</code></pre> 
<p>查看安装的位置</p> 
<pre><code>whereis redis
</code></pre> 
<p>修改redis.conf配置文件（/etc/redis/redis.conf），取消只能本地访问的限制即可。</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/d6/b7/fiLTw0Ww_o.png"></p> 
<p>查看安装的redis版本</p> 
<pre><code>redis-server -v
</code></pre> 
<blockquote> 
 <p>注：目前通过apt-get在线安装的redis-server版本为3.0.6，建议使用离线安装的方式安装 5.0.3版本。</p> 
</blockquote> 
<p>在centos中使用</p> 
<pre><code>yum install redis
</code></pre> 
<p>进行在线安装，如果现实未找到源，则可以先安装epel软件库，如果在执行安装</p> 
<pre><code>yum install -y epel-release

....
yum install redis
</code></pre> 
<blockquote> 
 <p>目前centos中在线安装的redis版本比较低，版本号大约是3.2.12</p> 
</blockquote> 
<p>自启：<br> 在/etc/init.d 目录下创建sh脚本如下：</p> 
<pre><code>##!/bin/bash

# chkconfig: 2345 10 90
# description: Start and Stop redis
 
PATH=/usr/local/bin:/sbin:/usr/bin:/bin
 
REDISPORT=6379 #实际环境而定
EXEC=/bin/redis-server #实际环境而定
REDIS_CLI=/bin/redis-cli #实际环境而定
 
PIDFILE=/var/run/redis.pid
CONF="/etc/redis.conf" #实际环境而定
 
case "$1" in
        start)
                if [ -f $PIDFILE ]
                then
                        echo "$PIDFILE exists, process is already running or crashed."
                else
                        echo "Starting Redis server..."
                        $EXEC $CONF
                fi
                if [ "$?"="0" ]
                then
                        echo "Redis is running..."
                fi
                ;;
        stop)
                if [ ! -f $PIDFILE ]
                then
                        echo "$PIDFILE exists, process is not running."
                else
                        PID=$(cat $PIDFILE)
                        echo "Stopping..."
                        $REDIS_CLI -p $REDISPORT SHUTDOWN
                        while [ -x $PIDFILE ]
                        do
                                echo "Waiting for Redis to shutdown..."
                                sleep 1
                        done
                        echo "Redis stopped"
                fi
                ;;
        restart|force-reload)
                ${0} stop
                ${0} start
                ;;
        *)
                echo "Usage: /etc/init.d/redis {start|stop|restart|force-reload}" &gt;&amp;2
                exit 1
esac
</code></pre> 
<p>设置权限：</p> 
<pre><code>chmod +x /etc/init.d/redis



# 尝试启动或停止redis
service redis start
service redis stop


# 开启服务自启动
chkconfig redis on
</code></pre> 
<h2 id="4.%20%E8%AE%BE%E7%BD%AE%E9%98%B2%E7%81%AB%E5%A2%99">4. 设置防火墙</h2> 
<p>如果服务器开启了防火墙，则需要将redis使用的端口号加入防火墙。</p> 
<pre><code>ufw allow 6379
</code></pre> 
<blockquote> 
 <p>注：<br> 开启防火墙 ufw enable<br> 禁用防火墙 ufw disable</p> 
</blockquote> 
<h2 id="5.%20%E5%AE%A2%E6%88%B7%E7%AB%AF%E8%BF%9E%E6%8E%A5">5. 客户端连接</h2> 
<p>1）redis-cli 连接</p> 
<pre><code>redis-cli -h 127.0.0.1 -p 6379  -a 密码   --raw
</code></pre> 
<blockquote> 
 <p>注：如果没有设置密码可以不带-a参数，--raw参数用于解决中文显示乱码问题。</p> 
</blockquote> 
<p>2） 使用RedisDesktopManager</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/43a1e50379d5b4efc5faf18b27067ef4/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">uni-app 自定义宫格布局</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/e7bae35d56c6c947ff4811e452d6ff96/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">PLECS: Analysis tools 分析工具，伯德图 Bode 分析</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>