<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>如何用Python进行股票预测，数据分析带你从小白开始 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="如何用Python进行股票预测，数据分析带你从小白开始" />
<meta property="og:description" content=" 在开始这个话题之前请先记住一句友情提醒：股市有风险，投资需谨慎
我们写这个文章并不是鼓励大家去入市，小编本人也不买股票。我们只是在探索Python在股票分析和预测上面能发挥什么样的作用！
对于和数据打交道的数据科学家来说，预测证券市场走势远比炒股本身来得更有趣。他们这样做的目的很大程度上不是为了获取物质回报，而是挑战自己！那么在这个起起伏伏，众多因素叠加的证券市场是否存在一种模型可以学习既定的模式至少让我们可以比那些商科毕业的操盘手厉害呢。
言归正传，做数据分析的流程都差不多：数据集的获取和加工、模型的选择和调参、算法编写。
说起数据分析自然离不开“三件套”：Numpy Pandas Matplotlib。我们这就开始我们的股票分析操作吧
环境配置：
代码部分：
导入相关的库并设置参数，这里我们选择特斯拉这支股票
加载数据：
我们获取从2001年开始到现在的股票历史数据
数据分析：
从生成的图中我们可以看到：从图一我们可以看到特斯拉股票在2020年以前变化不大，大概在2020年下半年开始突然暴涨。这个让我们很容易联想到新能源有兴趣或者关注的可以查看当年的新闻报道，也是在这一年特斯拉股票暴涨了743%，同时也让CEO马斯克身价飙涨了1000亿美元。图3的价格变动趋势图也证实了这一点。至于交易量和交易量变动表也是同样如此。这几个图在股票交易软件里面应该都能看得到，但是使用Python的好处是你可以把多只股票放在一起比较来看！
长期投资利润：
时间机器产生利润：
我们直接看结果
我们可以看到在不同的年份买入和卖出所获取利润情况（请注意这一假设的前提是我们有一台机器并且使用它 在我们确切知道股票价格什么时候会涨什么时候会跌的情况下 我们投资了所有的买入和卖出所产生的总利润）
基于模型预测的利润：
我们的思路是这样，我们设计一个模型它会比“长期投资的利润和最大程度设置时间机器的利润”给我们带来更好的结果。我们这样做的原因是因为我们希望确定股票最佳的买入和卖出点。我们绝对不是为了打败长期投资者，我们只是想尽可能的控制交易风险。
从这张图我们可以看到股票价格波动最剧烈的范围，这对于那些长期持有的人来说如果股票一直在上涨那自然无所谓，但是对于那些投资短线的人来说意味着这支股票有更大的操作空间，当然风险也更大！
通过调用我们所编写的类，我们可以看到股票实际变动、模型预测、置信区间之间的关系。这个可以方便我们更好的调整我们的模型进行预测。
股票评估预测：
通过上面的分析我们可以看到我们所采用的测试数据的绝对误差还是挺高的，让我们试着调整下参数以获得更好的测试数据结果
从结果上看我们可以看到，采用测试数据平均误差是$228.87而采用我们训练的模型所预测的数据平均误差是$52.24这意味着我们的训练的模型所产生的误差已经得到了很大的优化。此外我们也可以看到在预测股票价格上涨上面准确率为47.95%而在预测股票价格下跌上面的准确率为38.27%
在调整了参数得到的预测结果：
可以看到我们的模型预测的结果大部分都越来越准确，我们通过表格来直观的感受下。
预测类型模型一模型二预测和实际价格差$907.55$179.79平均错误$17.87 $451.56$108.10 $301.74上涨概率47.95%45.86%下跌概率38.27%40.34%实际值/置信区间80%0.00%2.37% 在我们不断的优化模型参数并经过一定量的训练之后我们的模型在涨跌趋势的预测上准确率可以进一步提升（有兴趣的可以联系小编获取代码研究几支股票试一试）
在实际测试中我们可以发现如果我们使用我们的模型推荐来买入/卖出 我们在去年可以获得大概23%的利润，实际上这个也是我们从长期投资中获得的回报。但是这个模型的意义在于减少持仓时间来最小化风险。而且股票的分析只是其中一块，最终我们要么通过人去实现买卖要么通过算法自动化帮我们去处理繁琐的买卖，而这正是编程所擅长的，至少在时间上有绝对的优势！
诚然我们用Python来对股票进行数据分析，实现预测和评估的目的主要是展示这种应用能力。就像在疫苗研发、芯片研发、机械制造等领域所能做的一样。都是为了更好的完成工作。
Python经验分享 学好 Python 不论是就业还是做副业赚钱都不错，但要学会 Python 还是要有一个学习规划。最后大家分享一份全套的 Python 学习资料，给那些想学习 Python 的小伙伴们一点帮助！
这份完整版的Python全套学习资料已经上传CSDN，朋友们如果需要可以微信扫描下方CSDN官方认证二维码免费领取【保证100%免费】 一、Python所有方向的学习路线 Python所有方向的技术点做的整理，形成各个领域的知识点汇总，它的用处就在于，你可以按照上面的知识点去找对应的学习资源，保证自己学得较为全面。
二、Python必备开发工具 三、Python视频合集 观看零基础学习视频，看视频学习是最快捷也是最有效果的方式，跟着视频中老师的思路，从基础到深入，还是很容易入门的。（文末领读者福利）
四、实战案例 光学理论是没用的，要学会跟着一起敲，要动手实操，才能将自己的所学运用到实际当中去，这时候可以搞点实战案例来学习。（文末领读者福利）
五、Python练习题 检查学习结果。
六、面试资料 我们学习Python必然是为了找到高薪的工作，下面这些面试题是来自阿里、腾讯、字节等一线互联网大厂最新的面试资料，并且有阿里大佬给出了权威的解答，刷完这一套面试资料相信大家都能找到满意的工作。 （文末领取哦）
这份完整版的Python全套学习资料已经上传CSDN，朋友们如果需要可以微信扫描下方CSDN官方认证二维码免费领取【保证100%免费】 " />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/c94c5d2e2d446af84f647fbc88da9db1/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-03-01T11:26:58+08:00" />
<meta property="article:modified_time" content="2023-03-01T11:26:58+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">如何用Python进行股票预测，数据分析带你从小白开始</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><img src="https://images2.imgbox.com/69/1b/dXGuEvW7_o.png" alt="在这里插入图片描述"></p> 
<p>在开始这个话题之前请先记住一句友情提醒：<strong>股市有风险，投资需谨慎</strong></p> 
<p>我们写这个文章并不是鼓励大家去入市，小编本人也不买股票。我们只是在探索Python在股票分析和预测上面能发挥什么样的作用！</p> 
<p>对于和数据打交道的数据科学家来说，预测证券市场走势远比炒股本身来得更有趣。他们这样做的目的很大程度上不是为了获取物质回报，而是挑战自己！那么在这个起起伏伏，众多因素叠加的证券市场是否存在一种模型可以学习既定的模式至少让我们可以比那些商科毕业的操盘手厉害呢。</p> 
<p>言归正传，做数据分析的流程都差不多：数据集的获取和加工、模型的选择和调参、算法编写。</p> 
<p><img src="https://images2.imgbox.com/5f/b7/m3zzpPkn_o.jpg" alt="图片"></p> 
<p>说起数据分析自然离不开“三件套”：Numpy Pandas Matplotlib。我们这就开始我们的股票分析操作吧</p> 
<p><strong>环境配置：</strong></p> 
<p><img src="https://images2.imgbox.com/51/c7/ZHIXJTAl_o.png" alt="图片"></p> 
<p><strong>代码部分：</strong></p> 
<p><img src="https://images2.imgbox.com/08/14/23NNhpMV_o.png" alt="图片"></p> 
<p>导入相关的库并设置参数，这里我们选择特斯拉这支股票</p> 
<p><strong>加载数据：</strong></p> 
<p><img src="https://images2.imgbox.com/f3/cb/Cte4cPLw_o.png" alt="图片"></p> 
<p>我们获取从2001年开始到现在的股票历史数据</p> 
<p><strong>数据分析：</strong></p> 
<p><img src="https://images2.imgbox.com/2d/06/85gabIfU_o.png" alt="图片"></p> 
<p>从生成的图中我们可以看到：从图一我们可以看到特斯拉股票在2020年以前变化不大，大概在2020年下半年开始突然暴涨。这个让我们很容易联想到新能源有兴趣或者关注的可以查看当年的新闻报道，也是在这一年特斯拉股票暴涨了743%，同时也让CEO马斯克身价飙涨了1000亿美元。图3的价格变动趋势图也证实了这一点。至于交易量和交易量变动表也是同样如此。这几个图在股票交易软件里面应该都能看得到，但是使用Python的好处是你可以把多只股票放在一起比较来看！</p> 
<p><strong>长期投资利润：</strong></p> 
<p><img src="https://images2.imgbox.com/00/38/8Wl9W4Kw_o.png" alt="图片"></p> 
<p><strong>时间机器产生利润：</strong></p> 
<p><img src="https://images2.imgbox.com/7d/8e/KRSWo8yA_o.png" alt="图片"></p> 
<p>我们直接看结果</p> 
<p><img src="https://images2.imgbox.com/1a/20/tDZTfx4b_o.png" alt="图片"></p> 
<p>我们可以看到在不同的年份买入和卖出所获取利润情况（请注意这一假设的前提是我们有一台机器并且使用它 在我们确切知道股票价格什么时候会涨什么时候会跌的情况下 我们投资了所有的买入和卖出所产生的总利润）</p> 
<p><img src="https://images2.imgbox.com/83/d0/MdTXhR2x_o.jpg" alt="图片"></p> 
<p><strong>基于模型预测的利润：</strong></p> 
<p>我们的思路是这样，我们设计一个模型它会比“长期投资的利润和最大程度设置时间机器的利润”给我们带来更好的结果。我们这样做的原因是因为我们希望确定股票最佳的买入和卖出点。我们绝对不是为了打败长期投资者，我们只是想尽可能的控制交易风险。</p> 
<p><img src="https://images2.imgbox.com/7e/f8/JPEOxoL5_o.png" alt="图片"></p> 
<p><img src="https://images2.imgbox.com/b9/64/AAs4H9eO_o.png" alt="图片"></p> 
<p>从这张图我们可以看到股票价格波动最剧烈的范围，这对于那些长期持有的人来说如果股票一直在上涨那自然无所谓，但是对于那些投资短线的人来说意味着这支股票有更大的操作空间，当然风险也更大！</p> 
<p><img src="https://images2.imgbox.com/e5/e7/fwdemHty_o.png" alt="图片"></p> 
<p>通过调用我们所编写的类，我们可以看到股票实际变动、模型预测、置信区间之间的关系。这个可以方便我们更好的调整我们的模型进行预测。</p> 
<p><strong>股票评估预测：</strong></p> 
<p>通过上面的分析我们可以看到我们所采用的测试数据的绝对误差还是挺高的，让我们试着调整下参数以获得更好的测试数据结果<img src="https://images2.imgbox.com/58/84/i38uAOzM_o.png" alt="图片"></p> 
<p>从结果上看我们可以看到，采用测试数据平均误差是$228.87而采用我们训练的模型所预测的数据平均误差是$52.24这意味着我们的训练的模型所产生的误差已经得到了很大的优化。此外我们也可以看到在预测股票价格上涨上面准确率为47.95%而在预测股票价格下跌上面的准确率为38.27%</p> 
<p><strong>在调整了参数得到的预测结果：</strong></p> 
<p><img src="https://images2.imgbox.com/e9/99/PTxesfSm_o.png" alt="图片"></p> 
<p><img src="https://images2.imgbox.com/46/c4/pqst2S1i_o.png" alt="图片"></p> 
<p>可以看到我们的模型预测的结果大部分都越来越准确，我们通过表格来直观的感受下。</p> 
<table><thead><tr><th>预测类型</th><th>模型一</th><th>模型二</th></tr></thead><tbody><tr><td>预测和实际价格差</td><td>$907.55</td><td>$179.79</td></tr><tr><td>平均错误</td><td>$17.87 $451.56</td><td>$108.10 $301.74</td></tr><tr><td>上涨概率</td><td>47.95%</td><td>45.86%</td></tr><tr><td>下跌概率</td><td>38.27%</td><td>40.34%</td></tr><tr><td>实际值/置信区间80%</td><td>0.00%</td><td>2.37%</td></tr></tbody></table> 
<p>在我们不断的优化模型参数并经过一定量的训练之后我们的模型在涨跌趋势的预测上准确率可以进一步提升（有兴趣的可以联系小编获取代码研究几支股票试一试）</p> 
<p>在实际测试中我们可以发现如果我们使用我们的模型推荐来买入/卖出 我们在去年可以获得大概23%的利润，实际上这个也是我们从长期投资中获得的回报。但是这个模型的意义在于减少持仓时间来最小化风险。而且股票的分析只是其中一块，最终我们要么通过人去实现买卖要么通过算法自动化帮我们去处理繁琐的买卖，而这正是编程所擅长的，至少在时间上有绝对的优势！</p> 
<p>诚然我们用Python来对股票进行数据分析，实现预测和评估的目的主要是展示这种应用能力。就像在疫苗研发、芯片研发、机械制造等领域所能做的一样。都是为了更好的完成工作。</p> 
<h3><a id="Python_146"></a>Python经验分享</h3> 
<p>学好 Python 不论是就业还是做副业赚钱都不错，但要学会 Python 还是要有一个学习规划。最后大家分享一份全套的 Python 学习资料，给那些想学习 Python 的小伙伴们一点帮助！</p> 
<h6><a id="PythonCSDNCSDN100_150"></a>这份完整版的Python全套学习资料已经上传CSDN，朋友们如果需要可以微信扫描下方CSDN官方认证二维码免费领取【<code>保证100%免费</code>】</h6> 
<p><img src="https://images2.imgbox.com/d2/c4/eqedZGnl_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="Python_154"></a>一、Python所有方向的学习路线</h4> 
<p>Python所有方向的技术点做的整理，形成各个领域的知识点汇总，它的用处就在于，你可以按照上面的知识点去找对应的学习资源，保证自己学得较为全面。<img src="https://images2.imgbox.com/ae/a9/e6bp2jaZ_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="Python_158"></a>二、Python必备开发工具</h4> 
<p><img src="https://images2.imgbox.com/fc/89/k87Wmk7d_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="Python_162"></a>三、Python视频合集</h4> 
<p>观看零基础学习视频，看视频学习是最快捷也是最有效果的方式，跟着视频中老师的思路，从基础到深入，还是很容易入门的。（<mark>文末领读者福利</mark>）<br> <img src="https://images2.imgbox.com/dd/3b/R6fDhSYc_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/e6/26/mCN9ZnXF_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_168"></a>四、实战案例</h4> 
<p>光学理论是没用的，要学会跟着一起敲，要动手实操，才能将自己的所学运用到实际当中去，这时候可以搞点实战案例来学习。（<mark>文末领读者福利</mark>）<br> <img src="https://images2.imgbox.com/74/85/l7kAGyUi_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="Python_173"></a>五、Python练习题</h4> 
<p>检查学习结果。<br> <img src="https://images2.imgbox.com/3b/83/qilm4Qsg_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_178"></a>六、面试资料</h4> 
<p>我们学习Python必然是为了找到高薪的工作，下面这些面试题是来自阿里、腾讯、字节等一线互联网大厂最新的面试资料，并且有阿里大佬给出了权威的解答，刷完这一套面试资料相信大家都能找到满意的工作。 （<mark>文末领取哦</mark>）<br> <img src="https://images2.imgbox.com/42/e4/RPzOjESW_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/da/f4/K8YPXx75_o.png" alt="在这里插入图片描述"></p> 
<h6><a id="PythonCSDNCSDN100_184"></a>这份完整版的Python全套学习资料已经上传CSDN，朋友们如果需要可以微信扫描下方CSDN官方认证二维码免费领取【<code>保证100%免费</code>】</h6> 
<p><img src="https://images2.imgbox.com/6e/b4/undK9UhG_o.png" alt="在这里插入图片描述"></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f55a5da74f765f7dd9f41e3b680ced16/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Hbase环境搭建</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/9a9450da111d744f17e85c16b2447737/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">解决vue3没有this造成的无法使用vue2</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>