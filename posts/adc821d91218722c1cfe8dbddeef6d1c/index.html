<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>BUUCTF-练习场-WEB-第一部分（8道） - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="BUUCTF-练习场-WEB-第一部分（8道）" />
<meta property="og:description" content="[极客大挑战 2019]EasySQL 1 payload：1&#39; or 1=1#
&#39;是闭合前面的查询语句，or 1=1恒成立，可以使用or句子绕过判断，#用于注释，注释后面的内容不再执行，所以该sql命令会返回表内所有内容，其实就是实现一个闭合查询，绕过判断，返回内容 [HCTF 2018]WarmUp F12查看源代码，发现注释中有一个source.php文件名称
访问这个文件，看到了源码,同时源码中还提及了一个hint.php的文件
访问hint.php，得到了flag所在的文件名
源码中有这样一段内容
如果有file值的传入，且file为字符串，而且通过了checkFile的验证，则将file文件包含，我们可以通过这个文件包含，回显ffffllllaaaagggg的内容。
注：include，包含并执行文件。被包含文件先按参数给出的路径寻找，如果没有给出目录(只有文件名)时则按照 include_path 指定的目录寻找。如果在 include_path 下没找到该文件则 include 最后才在调用脚本文件所在的目录和当前工作目录下寻找。如果最后仍未找到文件则include 结构会发出一条警告；这一点和 require 不同，require会发出一个致命错误。 那么，可以构造payload读取到文件，得到flag：
?file=source.php?../../../../../../../../../../../../ffffllllaaaagggg [极客大挑战 2019]Havefun 查看源代码，注释中包含一段源码，get传参，变量cat，当cat==dog时，回显Sys{cat_cat_cat}
那么，payload为：
?cat=dog //成功回显payload [ACTF2020 新生赛]Include 点击tips，发现url中file=flag.php,但是并没有回显flag
这里我们可以使用这样的payload格式去构造：
php://filter/read=convert.base64-encode/resource=xxx.php php://filter 是php中独有的一个协议，可以作为一个中间流来处理其他流，可以进行任意文件的读取。 resource=&lt;要过滤的数据流&gt; 指定了你要筛选过滤的数据流。 read=&lt;读链的筛选列表&gt;可以设定一个或多个过滤器名称，以管道符（|）分隔。 write=&lt;写链的筛选列表&gt; 可以设定一个或多个过滤器名称，以管道符（|）分隔。 &lt;；两个链的筛选列表&gt; 任何没有以 read= 或write=作前缀 的筛选器列表会视情况应用于读或写链。 php://filter与包含函数结合时，php://filter流会被当作php文件执行。所以我们一般对其进行编码，阻止其不执行，从而读取文件内容。 read=convert.base64-encode，用base64编码输出，不然会直接当做php代码执行，看不到源代码内容。 payload：
/?file=php://filter/read=convert.base64-encode/resource=flag.php 读取到了一段base64编码的字符串，将该字符串进行转码后，得到flag
[ACTF2020 新生赛]Exec 打开后是一个ping的功能，我们尝试用|进行命令拼接，发现ls命令可以直接执行，并且读取到根目录下的文件信息，在根目录下有一个flag文件
命令：|ls ../../../../../../../../../../../../../ 使用命令，直接读取flag文件内容，获得flag： |cat ../../../../../../../../../../../../../flag [强网杯 2019]随便注 sql注入了，先来判断一下字段数
1&#39; order by 1 # 和 1&#39; order by 2 # 可以正常回显 1&#39; order by 3 # 的时候报错，说明字段数为2 尝试union联合注入" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/adc821d91218722c1cfe8dbddeef6d1c/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-02-15T15:49:39+08:00" />
<meta property="article:modified_time" content="2023-02-15T15:49:39+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">BUUCTF-练习场-WEB-第一部分（8道）</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div class="kdocs-document"> 
 <h3 style="">[极客大挑战 2019]EasySQL 1</h3> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:884px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:67.8733%;height:0;"> 
    <img src="https://images2.imgbox.com/4f/20/98HC9Z37_o.png" style="margin-left:;display:block;width:884px;margin-top:-67.8733%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="">payload：<span class="kdocs-bold" style="font-weight:bold;">1' or 1=1#</span></p> 
 <blockquote class="kdocs-blockquote" style="">
   '是闭合前面的查询语句，or 1=1恒成立，可以使用or句子绕过判断，#用于注释，注释后面的内容不再执行，所以该sql命令会返回表内所有内容，其实就是实现一个闭合查询，绕过判断，返回内容 
 </blockquote> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:992px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:60.18145%;height:0;"> 
    <img src="https://images2.imgbox.com/15/49/uESblFHs_o.png" style="margin-left:;display:block;width:992px;margin-top:-60.18145%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style=""></p> 
 <h3 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">[HCTF 2018]WarmUp </span></h3> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:669px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:81.3154%;height:0;"> 
    <img src="https://images2.imgbox.com/89/9d/yZpgQoL6_o.png" style="margin-left:;display:block;width:669px;margin-top:-81.3154%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="">F12查看源代码，发现注释中有一个source.php文件名称</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:461px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:31.019522%;height:0;"> 
    <img src="https://images2.imgbox.com/b0/0f/5dNYw37q_o.png" style="margin-left:;display:block;width:461px;margin-top:-31.019522%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="">访问这个文件，看到了源码,同时源码中还提及了一个hint.php的文件</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:825px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:98.42425%;height:0;"> 
    <img src="https://images2.imgbox.com/52/07/fJXBeiGc_o.png" style="margin-left:;display:block;width:825px;margin-top:-98.42425%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="">访问hint.php，得到了flag所在的文件名</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:720px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:15.0%;height:0;"> 
    <img src="https://images2.imgbox.com/1a/b7/5IdCZrDu_o.png" style="margin-left:;display:block;width:720px;margin-top:-15.0%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="">源码中有这样一段内容</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:407px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:23.587223%;height:0;"> 
    <img src="https://images2.imgbox.com/de/88/EmO42vem_o.png" style="margin-left:;display:block;width:407px;margin-top:-23.587223%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="">如果有file值的传入，且file为字符串，而且通过了checkFile的验证，则将file文件包含，我们可以通过这个文件包含，回显ffffllllaaaagggg的内容。</p> 
 <blockquote class="kdocs-blockquote" style="">
   注：include，包含并执行文件。被包含文件先按参数给出的路径寻找，如果没有给出目录(只有文件名)时则按照 include_path 指定的目录寻找。如果在 include_path 下没找到该文件则 include 最后才在调用脚本文件所在的目录和当前工作目录下寻找。如果最后仍未找到文件则include 结构会发出一条警告；这一点和 require 不同，require会发出一个致命错误。 
 </blockquote> 
 <p style="">那么，可以构造payload读取到文件，得到flag：</p> 
 <pre class="kdocs-php"><code class="language-php">?file=source.php?../../../../../../../../../../../../ffffllllaaaagggg</code></pre> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1118px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:9.21288%;height:0;"> 
    <img src="https://images2.imgbox.com/9b/c6/eXfEHW81_o.png" style="margin-left:;display:block;width:1118px;margin-top:-9.21288%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style=""></p> 
 <h3 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">[极客大挑战 2019]Havefun</span></h3> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:320px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:102.5%;height:0;"> 
    <img src="https://images2.imgbox.com/7f/e4/Gh1Oxi1o_o.png" style="margin-left:;display:block;width:320px;margin-top:-102.5%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="">查看源代码，注释中包含一段源码，get传参，变量cat，当cat==dog时，回显Sys{cat_cat_cat}</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:458px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:58.733624%;height:0;"> 
    <img src="https://images2.imgbox.com/30/d3/01rdYtnd_o.png" style="margin-left:;display:block;width:458px;margin-top:-58.733624%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="">那么，payload为：</p> 
 <blockquote class="kdocs-blockquote" style="">
   ?cat=dog //成功回显payload 
 </blockquote> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:759px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:34.387352%;height:0;"> 
    <img src="https://images2.imgbox.com/62/70/MiEj9f0e_o.png" style="margin-left:;display:block;width:759px;margin-top:-34.387352%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style=""></p> 
 <h3 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">[ACTF2020 新生赛]Include</span></h3> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:631px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:12.836767%;height:0;"> 
    <img src="https://images2.imgbox.com/55/dd/AYQo9Bfg_o.png" style="margin-left:;display:block;width:631px;margin-top:-12.836767%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="">点击tips，发现url中file=flag.php,但是并没有回显flag</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:737px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:13.432836%;height:0;"> 
    <img src="https://images2.imgbox.com/c6/85/KfDKTUNJ_o.png" style="margin-left:;display:block;width:737px;margin-top:-13.432836%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="">这里我们可以使用这样的payload格式去构造：</p> 
 <blockquote class="kdocs-blockquote" style=""> 
  <span class="kdocs-fontSize" style="font-size:9pt;"><span class="kdocs-color" style="color:#C21C13;">php://filter/read=convert.base64-encode/resource=xxx.php</span></span> 
 </blockquote> 
 <blockquote class="kdocs-blockquote" style="">
   php://filter 是php中独有的一个协议，可以作为一个中间流来处理其他流，可以进行任意文件的读取。 
  <br>resource=&lt;要过滤的数据流&gt; 指定了你要筛选过滤的数据流。 
  <br>read=&lt;读链的筛选列表&gt;可以设定一个或多个过滤器名称，以管道符（|）分隔。 
  <br>write=&lt;写链的筛选列表&gt; 可以设定一个或多个过滤器名称，以管道符（|）分隔。 
  <br>&lt;；两个链的筛选列表&gt; 任何没有以 read= 或write=作前缀 的筛选器列表会视情况应用于读或写链。 
  <br>php://filter与包含函数结合时，php://filter流会被当作php文件执行。所以我们一般对其进行编码，阻止其不执行，从而读取文件内容。 
  <br>read=convert.base64-encode，用base64编码输出，不然会直接当做php代码执行，看不到源代码内容。 
 </blockquote> 
 <p style="">payload：</p> 
 <pre class="kdocs-php"><code class="language-php">/?file=php://filter/read=convert.base64-encode/resource=flag.php</code></pre> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1177px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:10.11045%;height:0;"> 
    <img src="https://images2.imgbox.com/32/f4/eMlvKoJA_o.png" style="margin-left:;display:block;width:1177px;margin-top:-10.11045%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="">读取到了一段base64编码的字符串，将该字符串进行转码后，得到flag</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:565px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:21.59292%;height:0;"> 
    <img src="https://images2.imgbox.com/30/56/lEasR81x_o.png" style="margin-left:;display:block;width:565px;margin-top:-21.59292%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style=""></p> 
 <h3 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">[ACTF2020 新生赛]Exec</span></h3> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:649px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:40.3698%;height:0;"> 
    <img src="https://images2.imgbox.com/cd/72/PJuCs3K9_o.png" style="margin-left:;display:block;width:649px;margin-top:-40.3698%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="">打开后是一个ping的功能，我们尝试用|进行命令拼接，发现ls命令可以直接执行，并且读取到根目录下的文件信息，在根目录下有一个flag文件</p> 
 <pre class="kdocs-php"><code class="language-php">命令：|ls ../../../../../../../../../../../../../</code></pre> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:377px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:129.44298%;height:0;"> 
    <img src="https://images2.imgbox.com/4f/2c/I7BPWr9p_o.png" style="margin-left:;display:block;width:377px;margin-top:-129.44298%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <blockquote class="kdocs-blockquote" style="">
   使用命令，直接读取flag文件内容，获得flag： 
  <br>|cat ../../../../../../../../../../../../../flag 
 </blockquote> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:523px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:47.609943%;height:0;"> 
    <img src="https://images2.imgbox.com/8e/65/C9w1i8bO_o.png" style="margin-left:;display:block;width:523px;margin-top:-47.609943%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style=""></p> 
 <h3 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">[强网杯 2019]随便注</span></h3> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:373px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:116.89008%;height:0;"> 
    <img src="https://images2.imgbox.com/de/e5/NylfecQh_o.png" style="margin-left:;display:block;width:373px;margin-top:-116.89008%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="">sql注入了，先来判断一下字段数</p> 
 <blockquote class="kdocs-blockquote" style="">
   1' order by 1 # 和 1' order by 2 # 可以正常回显 
  <br>1' order by 3 # 的时候报错，说明字段数为2 
 </blockquote> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:377px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:43.76658%;height:0;"> 
    <img src="https://images2.imgbox.com/4c/b6/SrCDvlyd_o.png" style="margin-left:;display:block;width:377px;margin-top:-43.76658%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="">尝试union联合注入</p> 
 <blockquote class="kdocs-blockquote" style="">
   1' union select 1,2# 
 </blockquote> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:584px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:26.19863%;height:0;"> 
    <img src="https://images2.imgbox.com/26/fc/pOC4aZN7_o.png" style="margin-left:;display:block;width:584px;margin-top:-26.19863%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="">发现提示select等命令被过滤掉了。。。。</p> 
 <p style="">使用一种新知识，堆叠注入：</p> 
 <blockquote class="kdocs-blockquote" style="">
   使用; 号注入多条SQL语句并执行，先爆库试一下： 
  <br> 
  <span class="kdocs-fontSize" style="font-size:9pt;">0'; show databases; #</span> 
 </blockquote> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:448px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:133.92857%;height:0;"> 
    <img src="https://images2.imgbox.com/54/65/eh0WUyH0_o.png" style="margin-left:;display:block;width:448px;margin-top:-133.92857%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="">可以使用，尝试回显出，当前数据库中的表</p> 
 <blockquote class="kdocs-blockquote" style=""> 
  <span class="kdocs-fontSize" style="font-size:9pt;">0'; show tables; #</span> 
 </blockquote> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:400px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:67.5%;height:0;"> 
    <img src="https://images2.imgbox.com/94/de/bgDAcIdg_o.png" style="margin-left:;display:block;width:400px;margin-top:-67.5%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="">查到两个表，分别是"1919810931114514"和"words"</p> 
 <p style="">查看表中字段名称：</p> 
 <blockquote class="kdocs-blockquote" style="">
   1'; show columns from words; # 
  <br>1'; show columns from `1919810931114514`; # 
  <br> 
  <span class="kdocs-color" style="background-color:#FBF5B3;color:#C21C13;">注意：当表名为数字时，要使用反引号将表名括起。</span> 
 </blockquote> 
 <p style="">words中没什么有用的字段名，在1919810931114514中，发现flag字段</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:380px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:117.89474%;height:0;"> 
    <img src="https://images2.imgbox.com/bd/69/Erp89vyB_o.png" style="margin-left:;display:block;width:380px;margin-top:-117.89474%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <blockquote class="kdocs-blockquote" style=""> 
  <span class="kdocs-color" style="background-color:#FBF5B3;">补充知识：</span> 
  <br> 
  <span class="kdocs-color" style="background-color:#FBF5B3;">show databases//列出服务器可访问的数据库</span> 
  <br> 
  <span class="kdocs-color" style="background-color:#FBF5B3;">show tables//显示该数据库内相关表的名称</span> 
  <br> 
  <span class="kdocs-color" style="background-color:#FBF5B3;">show columns from tablename；//显示表tablename的字段、字段类型、键值信息、是否可以用null、默认值及其他信息。</span> 
 </blockquote> 
 <p style="">到了读取flag内容的时候，犯了大难，查询其他师傅的wp，有三种方法适用，这里我只写两种（第三种看不明白）</p> 
 <p style="">方法一：</p> 
 <p style="text-align:null;">1，通过 rename 先把 words 表改名为word1。</p> 
 <p style="text-align:null;">2，把 1919810931114514 表的名字改为 words 。</p> 
 <p style="text-align:null;">3 ，给新 words 表添加新的列名 id 。</p> 
 <p style="text-align:null;">4，将 flag 改名为 data 。</p> 
 <blockquote class="kdocs-blockquote" style="">
   1'; rename table words to word1; rename table `1919810931114514` to words;alter table words add id int unsigned not Null auto_increment primary key; alter table words change flag data varchar(100); 
 </blockquote> 
 <p style="">提交查询，提交之后，再提交1查询时，回显flag字段中的内容。</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:441px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:39.229023%;height:0;"> 
    <img src="https://images2.imgbox.com/19/95/eqjtunag_o.png" style="margin-left:;display:block;width:441px;margin-top:-39.229023%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="">方法二：</p> 
 <p style="">由于select被过滤了，所以将select * from ` 1919810931114514` 进行十六进制编码，再构造payload。</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:614px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:121.498375%;height:0;"> 
    <img src="https://images2.imgbox.com/0b/4b/xxq16VrC_o.png" style="margin-left:;display:block;width:614px;margin-top:-121.498375%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <blockquote class="kdocs-blockquote" style="">
   select * from ` 1919810931114514`转换得到0x73656c656374202a2066726f6d20603139313938313039333131313435313460 
 </blockquote> 
 <p style="">payload：</p> 
 <blockquote class="kdocs-blockquote" style="text-align:left;">
   ;SeT@a=0x73656c656374202a2066726f6d20603139313938313039333131313435313460;prepare execsql from @a;execute execsql;# 
 </blockquote> 
 <p style="">知识点：</p> 
 <blockquote class="kdocs-blockquote" style="">
   prepare…from…是预处理语句，会进行编码转换。 
  <br>execute用来执行由SQLPrepare创建的SQL语句。 
  <br>SELECT可以在一条语句里对多个变量同时赋值,而SET只能一次对一个变量赋值。 
 </blockquote> 
 <p style=""></p> 
 <h3 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">[SUCTF 2019]EasySQL</span></h3> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:662px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:21.148037%;height:0;"> 
    <img src="https://images2.imgbox.com/67/51/SzHNsnq0_o.png" style="margin-left:;display:block;width:662px;margin-top:-21.148037%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="">sql注入，和上一题好像，堆叠注入爆一下库名</p> 
 <blockquote class="kdocs-blockquote" style=""> 
  <span class="kdocs-bold" style="font-weight:bold;">1;show databases;</span> 
 </blockquote> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1388px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:7.7089334%;height:0;"> 
    <img src="https://images2.imgbox.com/b6/e3/o9UC2b2r_o.png" style="margin-left:;display:block;width:1388px;margin-top:-7.7089334%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="">同样方法爆一下表名</p> 
 <blockquote class="kdocs-blockquote" style="">
   1;show tables; 
 </blockquote> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:486px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:22.427984%;height:0;"> 
    <img src="https://images2.imgbox.com/cd/f9/FcfqRa6c_o.png" style="margin-left:;display:block;width:486px;margin-top:-22.427984%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="">有个Flag表，看看Flag表中字段，回显nonono？，判断可能过滤了flag</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:459px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:30.718954%;height:0;"> 
    <img src="https://images2.imgbox.com/ee/21/SnqYaMoD_o.png" style="margin-left:;display:block;width:459px;margin-top:-30.718954%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="">接下来回顾一下最开始我们输入的非0数字和0与字母所回显的内容：非0数字回显1,0和字母不会回显任何内容</p> 
 <blockquote class="kdocs-blockquote" style="text-align:left;">
   这道题目需要我们去对后端语句进行猜解 
  <br>1、输入非零数字得到的回显1和输入其余字符得不到回显=&gt;来判断出内部的查询语句可能存在有|| 
  <br>2、也就是select 输入的数据||内置的一个列名 from 表名=&gt;即为 
  <br>后台语句为：select $post['query']||flag from Flag 
 </blockquote> 
 <p style="">当我们输入非零数字时才会会显出1，而0和其他全都无回显，猜测后端语句中有||操作符，只有我们输入非零数字才会满足||的逻辑为True从而进行回显的条件。也就是满足:select 输入的内容 || 一个列名 from 表名。（select 输入数据 || flag from Flag）</p> 
 <p style="">这里需要借用到：<span class="kdocs-color" style="background-color:#FBF5B3;">设置 sql_mode=PIPES_AS_CONCAT来转换操作符的作用。（sql_mode设置） </span></p> 
 <p style="">利用PIPES_AS_CONCAT令||起到连接符的作用。</p> 
 <p style="">构建payload：</p> 
 <blockquote class="kdocs-blockquote" style=""> 
  <span class="kdocs-color" style="background-color:#FBF5B3;color:#C21C13;">1;set sql_mode=PIPES_AS_CONCAT;select 1</span> 
 </blockquote> 
 <p style="">注：这里的逻辑是先把||转换为连接操作符，注意分号隔断了前面的命令，所以要再次添加select来进行查询，这里把1换成其他非零数字也一样会回显flag</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:625px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:17.119999%;height:0;"> 
    <img src="https://images2.imgbox.com/e0/1c/ZQdhfuPh_o.png" style="margin-left:;display:block;width:625px;margin-top:-17.119999%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="">还有一个非预期解 <span class="kdocs-color" style="background-color:#FBF5B3;color:#C21C13;">*,1 </span><span class="kdocs-color" style="color:#080F17;"> 可以直接得到flag</span></p> 
 <blockquote class="kdocs-blockquote" style="">
   后端语句是select 输入内容 || flag from Flag，输入*，1就相当于构造了 
  <br>select *，1 || flag from Flag 
  <br>这条语句执行起来相当于 
  <br>select *, 1 from Flag 
  <br>因为1||flag是个短路算法，直接输出1了 
  <br>select *和select 所有列的意义相同，那么我们构造的 
  <br>select *，1 || flag from Flag 就等同于 select *,1 from Flag 
 </blockquote> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:591px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:18.443316%;height:0;"> 
    <img src="https://images2.imgbox.com/85/39/1HqveGMJ_o.png" style="margin-left:;display:block;width:591px;margin-top:-18.443316%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style=""></p> 
 <h3 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">[GXYCTF2019]Ping Ping Ping</span></h3> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:677px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:15.509602%;height:0;"> 
    <img src="https://images2.imgbox.com/f3/db/PK3OuTdn_o.png" style="margin-left:;display:block;width:677px;margin-top:-15.509602%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="">看起来因该是命令执行了，给出一个/?ip=的提示，应该时get传参，变量名是ip了，尝试传个数字进去看看效果</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:703px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:14.935988%;height:0;"> 
    <img src="https://images2.imgbox.com/dc/a1/ROEQZ3mC_o.png" style="margin-left:;display:block;width:703px;margin-top:-14.935988%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="">看来是执行了ping命令，使用|组合命令进去执行看看</p> 
 <blockquote class="kdocs-blockquote" style="">
   /?ip=1|ls 
 </blockquote> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:692px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:18.063585%;height:0;"> 
    <img src="https://images2.imgbox.com/c4/68/u722d8wY_o.png" style="margin-left:;display:block;width:692px;margin-top:-18.063585%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="">成功读取到当前路径下有flag.php的文件,读取一下文件内容试试</p> 
 <blockquote class="kdocs-blockquote" style="">
   /?ip=1|cat%20flag.php 
 </blockquote> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:816px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:9.803922%;height:0;"> 
    <img src="https://images2.imgbox.com/50/e2/KgQ4hPH8_o.png" style="margin-left:;display:block;width:816px;margin-top:-9.803922%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="">嗯。。。过滤了空格，使用 $IFS$数字 来绕过空格过滤试试</p> 
 <blockquote class="kdocs-blockquote" style=""> 
  <span class="kdocs-fontSize" style="font-size:13pt;">/?ip=cat$IFS$9flag.php</span> 
 </blockquote> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:771px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:11.024644%;height:0;"> 
    <img src="https://images2.imgbox.com/c2/fa/jAkHA1E0_o.png" style="margin-left:;display:block;width:771px;margin-top:-11.024644%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="">嗯。。。是成功绕过了空格过滤，发现还过滤了flag，这里有两种思路：</p> 
 <p style="">方法一：</p> 
 <p style="">使用base64编码绕过</p> 
 <p style=""><span class="kdocs-fontSize" style="font-size:13pt;">把 cat$IFS$9flag.php 转换为base64编码</span></p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:371px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:73.85445%;height:0;"> 
    <img src="https://images2.imgbox.com/e5/65/YP5cDt6D_o.png" style="margin-left:;display:block;width:371px;margin-top:-73.85445%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <blockquote class="kdocs-blockquote" style="">
   payload： 
  <br>/?ip=1;echo$IFS$9Y2F0JElGUyQ5ZmxhZy5waHA=|base64$IFS$9-d|sh 
 </blockquote> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:923px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:31.63597%;height:0;"> 
    <img src="https://images2.imgbox.com/14/d3/cepLlr5I_o.png" style="margin-left:;display:block;width:923px;margin-top:-31.63597%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="">在返回的响应包或源代码注释中，可以看到flag</p> 
 <p style="">方法二：</p> 
 <p style="">变量拼接，我们想要执行<span class="kdocs-fontSize" style="font-size:13pt;">cat$IFS$9flag.php 但是flag被过滤了，我们可以将flag进行拆分</span></p> 
 <p style=""><span class="kdocs-fontSize" style="font-size:13pt;">payload：</span></p> 
 <blockquote class="kdocs-blockquote" style=""> 
  <span class="kdocs-fontSize" style="font-size:13pt;">/?ip=1;a=fl;b=ag;cat$IFS$9$a$b.php</span> 
 </blockquote> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:918px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:7.734205%;height:0;"> 
    <img src="https://images2.imgbox.com/ea/74/823mNeUQ_o.png" style="margin-left:;display:block;width:918px;margin-top:-7.734205%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="">过滤依旧，更换一下拼接方式，成功回显flag</p> 
 <p style="">payload：</p> 
 <blockquote class="kdocs-blockquote" style="text-align:left;"> 
  <span class="kdocs-fontSize" style="font-size:13pt;">/?ip=1;a=ag;cat$IFS$9fl$a.php</span> 
 </blockquote> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:869px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:31.87572%;height:0;"> 
    <img src="https://images2.imgbox.com/38/ec/6PcSmDfd_o.png" style="margin-left:;display:block;width:869px;margin-top:-31.87572%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style=""></p> 
</div>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/136239c7e45c6c0e9178b3557f646a98/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">接口自动化测试的概述及流程梳理~</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/ffa401fc9094e66bfa432c0bdcb84fee/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">利用飞书来实现信息存储和在线远程预览</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>