<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Java研学-Web 组件交互与作用域 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Java研学-Web 组件交互与作用域" />
<meta property="og:description" content="一 跳转与数据共享 Jsp 和 Servlet 责任分离,可实现数据获取，查询等重复功能的复用
① Servlet 去数据库中查找
② Servlet 把数据给 jsp
③ jsp 把数据响应给浏览器
二 转发重定向概述 1 作用 利用 JSP, Servlet 完成 web 组件的跳转，从一个组件跳到另一个组件
2 转发 ① 跳转位置
服务器端进行的组件(资源)的跳转
② 转发原理
转发是指由服务器端进行页面跳转
③ 转发方法
// request 对象与转发相关方法 request.getRequestDispatcher(&#34;/要跳转到的地址&#34;).forward(request, response); 3 重定向 ① 跳转位置
&amp;emsp浏览器端进行的页面(组件/资源)跳转
② 重定向原理
重定向是指由客户端进行页面跳转
③ 重定向方法
// response对象与重定向相关方法 response.sendRedirect(&#34;要跳转的地址&#34;) 4 转发重定向的区别 区别转发 forward重定向 redirect目录服务端的根目录：http://localhost:8080/项目地址/
跳转的 path 不用写项目路径(虚拟目录)浏览器的根目录(端口之后):http://localhost:8080
跳转 path 需加上项目路径(虚拟目录)地址栏地址栏不会发生变化，还是上一个地址会变化，显示新的地址跳转位置服务端 进行跳转浏览器端 跳转请求对象(域)请求域数据不会丢失，因为是同一个请求请求域数据会丢失，因为不是同一个请求WEB-INF下资源请求转发可以跳转到WEB-INF 下的资源重定向不可以跳转到 WEB-INF 下的资源跨域访问请求转发不可以跳转到其他域名或项目下的资源" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/1da380ee36362fa39fba3267371989bd/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-12-26T16:53:20+08:00" />
<meta property="article:modified_time" content="2023-12-26T16:53:20+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Java研学-Web 组件交互与作用域</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="__0"></a>一 跳转与数据共享</h2> 
<p>   Jsp 和 Servlet 责任分离,可实现数据获取，查询等重复功能的复用<br>   ① Servlet 去数据库中查找<br>   ② Servlet 把数据给 jsp<br>   ③ jsp 把数据响应给浏览器<br> <img src="https://images2.imgbox.com/43/7d/87zPZXiT_o.png" alt="数据流转"></p> 
<h2><a id="__6"></a>二 转发重定向概述</h2> 
<h4><a id="1__7"></a>1 作用</h4> 
<p>  利用 JSP, Servlet 完成 web 组件的跳转，从一个组件跳到另一个组件</p> 
<h4><a id="2__9"></a>2 转发</h4> 
<p>① 跳转位置<br>   服务器端进行的组件(资源)的跳转<br> ② 转发原理<br>   转发是指由服务器端进行页面跳转<br> <img src="https://images2.imgbox.com/9e/d8/9mYjjpIm_o.png" alt="转发原理"><br> ③ 转发方法</p> 
<pre><code class="prism language-java"><span class="token comment">// request 对象与转发相关方法</span>
request<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">"/要跳转到的地址"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h4><a id="3__20"></a>3 重定向</h4> 
<p>① 跳转位置<br>  &amp;emsp浏览器端进行的页面(组件/资源)跳转<br> ② 重定向原理<br>   重定向是指由客户端进行页面跳转<br> <img src="https://images2.imgbox.com/43/44/MrifCGLU_o.png" alt="重定向原理"><br> ③ 重定向方法</p> 
<pre><code class="prism language-java"><span class="token comment">// response对象与重定向相关方法</span>
response<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span><span class="token string">"要跳转的地址"</span><span class="token punctuation">)</span>
</code></pre> 
<h4><a id="4__31"></a>4 转发重定向的区别</h4> 
<table><thead><tr><th>区别</th><th>转发 forward</th><th>重定向 redirect</th></tr></thead><tbody><tr><td>目录</td><td>服务端的根目录：http://localhost:8080/项目地址/<br>跳转的 path 不用写项目路径(虚拟目录)</td><td>浏览器的根目录(端口之后):http://localhost:8080<br>跳转 path 需加上项目路径(虚拟目录)</td></tr><tr><td>地址栏</td><td>地址栏不会发生变化，还是上一个地址</td><td>会变化，显示新的地址</td></tr><tr><td>跳转位置</td><td>服务端 进行跳转</td><td>浏览器端 跳转</td></tr><tr><td>请求对象(域)</td><td>请求域数据不会丢失，因为是同一个请求</td><td>请求域数据会丢失，因为不是同一个请求</td></tr><tr><td>WEB-INF下资源</td><td>请求转发可以跳转到WEB-INF 下的资源</td><td>重定向不可以跳转到 WEB-INF 下的资源</td></tr><tr><td>跨域访问</td><td>请求转发不可以跳转到其他域名或项目下的资源<br>（例：http://www.baidu.com）</td><td>重定向可以跳转到其他域名或项目下的资源<br>（例：http://www.baidu.com）</td></tr></tbody></table> 
<h4><a id="5__40"></a>5 转发重定向演示</h4> 
<p>  创建两个Servlet通过转发重定向实现页面间的跳转<br> ① 一号Servlet</p> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>tj</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span>urlPatterns <span class="token operator">=</span> <span class="token string">"/that"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ThatServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">service</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span>
            <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">String</span> username <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 转发到 twoServlet</span>
        req<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">"/this"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 可以跳转到 WEB-INF 中</span>
        <span class="token comment">// req.getRequestDispatcher("/WEB-INF/index.jsp").forward(req,resp);</span>
        <span class="token comment">// 不能访问到别人的项目(外域)</span>
        <span class="token comment">//req.getRequestDispatcher("https://www.bilibili.com/").forward(req,resp);</span>
        <span class="token comment">// 重定向到 ThisServlet</span>
        <span class="token comment">//resp.sendRedirect("/untitled6/com/tj/ThisServlet");</span>
        <span class="token comment">// 不可以访问 WEB-INF 下的资源</span>
        <span class="token comment">// resp.sendRedirect("/WEB-INF/index.jsp");</span>
        <span class="token comment">// 可以访问其他项目(外域)</span>
        <span class="token comment">// resp.sendRedirect("https://www.bilibili.com/");</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"后面代码可以执行,但是无意义"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>② 二号Servlet</p> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>tj</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">PrintWriter</span></span><span class="token punctuation">;</span>
<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span>urlPatterns <span class="token operator">=</span> <span class="token string">"/this"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ThisServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">service</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span>
                <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 设置内容类型和编码</span>
        resp<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">"text/html;charset=utf-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 获得字符打印流</span>
        <span class="token class-name">PrintWriter</span> out <span class="token operator">=</span> resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"ThisServlet"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="6__99"></a>6 一些细节</h4> 
<p>① 使用转发可保留请求域中的数据，还可以跳转到 WEB-INF 目录中的页面（资源）<br> ② 使用重定向可访问其他项目(跨域)，但不能跳转到 WEB-INF 目录中的页面（资源）<br> ③ 重定向与转发的后续代码都会执行，但没有执行的意义，因为不管是转发还是重定向浏览器最终显示的都是跳转后页面的数据</p> 
<h2><a id="__103"></a>三 三大作用域</h2> 
<h4><a id="1__104"></a>1 作用</h4> 
<p>  用于 Servlet 之间数据共享的服务器内存区域，作用域结构是一个Map&lt;String, Object&gt;<br>   作用域范围：请求域–&gt;会话域–&gt;上下文域（由小到大）<br> <img src="https://images2.imgbox.com/f0/01/NpPbr3Nm_o.png" alt="作用域"></p> 
<h4><a id="2__108"></a>2 类型</h4> 
<table><thead><tr><th>作用域</th><th>类型</th><th>作用范围</th></tr></thead><tbody><tr><td>请求域</td><td>HttpServletRequest</td><td>只在同一次请求中起作用</td></tr><tr><td>会话域</td><td>HttpSession</td><td>同一个会话中起作用浏览器第1次访问服务器直到浏览器关闭的整个过程称为1次会话</td></tr><tr><td>上下文域</td><td>ServletContext</td><td>同一个应用中起作用服务器启动直到服务器关闭的整个过程都起作用</td></tr></tbody></table> 
<h4><a id="3__114"></a>3 方法</h4> 
<table><thead><tr><th>作用域有关的方法</th><th>作用</th></tr></thead><tbody><tr><td>Object getAttribute(“键”)</td><td>从中得到一个值</td></tr><tr><td>void setAttribute(“键”,Object数据)</td><td>向作用域中存储键值对数据</td></tr><tr><td>void removeAttribute(“键”)</td><td>删除作用域中的键值对数据</td></tr></tbody></table> 
<p>不同的作用域对象调用方法会对应操作不同的作用域数据</p> 
<h4><a id="4__122"></a>4 操作</h4> 
<p>  于 ThisServlet 存储键值到作用域中，转发至另一个 ThatServlet，从 ThatServlet中取出键值并且输出</p> 
<h6><a id="ThisServlet_124"></a>ThisServlet</h6> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>tj</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span>urlPatterns <span class="token operator">=</span> <span class="token string">"/this"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ThisServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">service</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span>
            <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 存储键值对到请求域</span>
        req<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">,</span> <span class="token string">"request"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 存储键值对到会话域</span>
        req<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">,</span> <span class="token string">"session"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 存储键值对到上下文域</span>
        req<span class="token punctuation">.</span><span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">,</span> <span class="token string">"servletContext"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 转发到second</span>
        req<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">"/that"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h6><a id="ThatServlet_149"></a>ThatServlet</h6> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>tj</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">PrintWriter</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span>urlPatterns <span class="token operator">=</span> <span class="token string">"/that"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ThatServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">service</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span>
            <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 设置内容类型和编码</span>
        resp<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">"text/html;charset=utf-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 获得字符打印流</span>
        <span class="token class-name">PrintWriter</span> out <span class="token operator">=</span> resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 从请求域中获取数据</span>
        <span class="token class-name">Object</span> reqName <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 从会话域中获取数据</span>
        <span class="token class-name">Object</span> sessionName <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 从上下文域中获取数据</span>
        <span class="token class-name">Object</span> appName <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"请求域数据："</span> <span class="token operator">+</span> reqName <span class="token operator">+</span> <span class="token string">"&lt;br&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"会话域数据："</span> <span class="token operator">+</span> sessionName <span class="token operator">+</span> <span class="token string">"&lt;br&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"上下文域数据："</span> <span class="token operator">+</span> appName <span class="token operator">+</span> <span class="token string">"&lt;br&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/a2e14ce89554a3080f60d9a3acdd0e26/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">cfa一级考生复习经验分享系列（十四）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/02f608ee30218532b4bb4d18b4d577d0/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">xxl-job使用笔记</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>