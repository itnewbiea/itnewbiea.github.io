<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>OAuth2.0到底是什么？看完你就明白了！ - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="OAuth2.0到底是什么？看完你就明白了！" />
<meta property="og:description" content="oauth2介绍 OAuth2是一种开放授权协议，是一种用于授权的规范。它提供了一种灵活的授权方式，允许用户在第三方应用中安全地授权访问其受保护的资源，而无需共享其用户名和密码。OAuth2协议定义了客户端如何请求授权、用户如何在客户端和应用之间进行授权，以及如何交换授权信息以获取Access Token。Access Token是第三方应用访问用户资源的凭证，具有一定的有效期限。OAuth2的引入解决了传统授权方式中存在的安全性和可维护性问题，使得用户可以更加灵活和安全地授权第三方应用访问其资源。
OAuth2协议常用的授权方式包括：
授权码模式（Authorization Code Flow）：这是OAuth2中最常用的授权方式，适用于Web应用。在这种模式下，用户在客户端上登录，客户端通过用户授权后获取Access Token。简化模式（Implicit Flow）：适用于基于浏览器的移动应用。在这种模式下，客户端通过浏览器重定向到用户进行授权，然后获取Access Token。密码模式（Resource Owner Password Flow）：适用于某些特殊场景下的桌面应用和服务器端应用。在这种模式下，用户直接在客户端上输入其用户名和密码，然后客户端通过这些信息获取Access Token。客户端凭证模式（Client Credentials Flow）：适用于机器对机器之间的通信。在这种模式下，客户端提供其Client ID和Client Secret获取Access Token，然后使用该Token访问受保护的资源。 授权码模式 OAuth2授权码模式是一种最完整、流程最严密的授权模式。它主要分为四个步骤：授权请求、用户授权、获取授权码、获取AccessToken。下面我们将通过图文、代码相互结合的方式来说明OAuth2授权码模式的整个流程。
1、客户端发送授权请求
客户端（Client）首先向资源服务器（Resource Server）发送授权请求，请求中需要包含以下信息：
响应类型（Response Type）：指定请求的类型为&#34;code&#34;。客户端ID（Client ID）：客户端的唯一标识符。回调URL（Redirect URL）：用户授权后，资源服务器将重定向回调URL，并将授权码作为参数传递给它。 示例代码：
GET /authorize?response_type=code&amp;client_id=CLIENT_ID&amp;redirect_uri=REDIRECT_URI HTTP/1.1 Host: server.example.com 2、用户授权
资源服务器收到请求后，会跳转到客户端的回调URL，并将授权码作为参数传递给它。此时，用户需要在客户端的页面上输入自己的用户名和密码进行认证。客户端将用户名和密码发送给资源服务器，资源服务器验证用户身份后，将根据客户端的请求，决定是否授权给客户端。
3、获取授权码
如果资源服务器成功验证了用户身份并授权给客户端，它会将授权码（Code）作为参数传递给客户端的回调URL。客户端收到授权码后，将其保存到本地。
示例代码：
http://example.com/callback#code=AUTHORIZATION_CODE&amp;state=STATE 4、获取AccessToken
客户端将授权码发送给授权服务器（Authorization Server），请求获取AccessToken。请求需要包含以下信息：
授权码（Code）：通过资源服务器获取的授权码。客户端ID（Client ID）：客户端的唯一标识符。客户端秘钥（Client Secret）：客户端的秘钥，用于加密请求。认证服务器URL（Token URL）：授权服务器的访问令牌（Access Token）URL。 示例代码：
POST /token HTTP/1.1 Host: server.example.com Content-Type: application/x-www-form-urlencoded code=AUTHORIZATION_CODE&amp;client_id=CLIENT_ID&amp;client_secret=CLIENT_SECRET&amp;grant_type=authorization_code&amp;redirect_uri=REDIRECT_URI 授权服务器收到请求后，将验证授权码的有效性，并生成一个Access Token返回给客户端。客户端收到Access Token后，就可以使用它来访问受保护的资源
简化模式 OAuth2简化模式是一种较为简单的授权模式，适用于公开的浏览器单页应用。相较于OAuth2授权码模式，简化模式少了获取code的步骤，是直接获取令牌token的。由于没有code安全保证，令牌容易因为被拦截窃听而泄露。
下面是OAuth2简化模式的详细步骤：
1、客户端发送授权请求
客户端（Client）向资源服务器（Resource Server）发送授权请求，请求中需要包含以下信息：
响应类型（Response Type）：指定请求的类型为&#34;token&#34;。客户端ID（Client ID）：客户端的唯一标识符。用户名（Username）：用户的用户名。密码（Password）：用户的密码。回调URL（Redirect URL）：用户授权后，资源服务器将重定向回调URL，并将令牌作为参数传递给它。 示例代码：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/aedbe1e4a50d9d4aa13af6d499dbde6d/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-06-30T09:32:46+08:00" />
<meta property="article:modified_time" content="2023-06-30T09:32:46+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">OAuth2.0到底是什么？看完你就明白了！</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2>oauth2介绍</h2> 
<p>OAuth2是一种开放授权协议，是一种用于授权的规范。它提供了一种灵活的授权方式，允许用户在第三方应用中安全地授权访问其受保护的资源，而无需共享其用户名和密码。OAuth2协议定义了客户端如何请求授权、用户如何在客户端和应用之间进行授权，以及如何交换授权信息以获取Access Token。Access Token是第三方应用访问用户资源的凭证，具有一定的有效期限。OAuth2的引入解决了传统授权方式中存在的安全性和可维护性问题，使得用户可以更加灵活和安全地授权第三方应用访问其资源。</p> 
<p>OAuth2协议常用的授权方式包括：</p> 
<ul><li>授权码模式（Authorization Code Flow）：这是OAuth2中最常用的授权方式，适用于Web应用。在这种模式下，用户在客户端上登录，客户端通过用户授权后获取Access Token。</li><li>简化模式（Implicit Flow）：适用于基于浏览器的移动应用。在这种模式下，客户端通过浏览器重定向到用户进行授权，然后获取Access Token。</li><li>密码模式（Resource Owner Password Flow）：适用于某些特殊场景下的桌面应用和服务器端应用。在这种模式下，用户直接在客户端上输入其用户名和密码，然后客户端通过这些信息获取Access Token。</li><li>客户端凭证模式（Client Credentials Flow）：适用于机器对机器之间的通信。在这种模式下，客户端提供其Client ID和Client Secret获取Access Token，然后使用该Token访问受保护的资源。</li></ul> 
<p></p> 
<h2>授权码模式</h2> 
<p>OAuth2授权码模式是一种最完整、流程最严密的授权模式。它主要分为四个步骤：授权请求、用户授权、获取授权码、获取AccessToken。下面我们将通过图文、代码相互结合的方式来说明OAuth2授权码模式的整个流程。</p> 
<p>1、客户端发送授权请求</p> 
<p>客户端（Client）首先向资源服务器（Resource Server）发送授权请求，请求中需要包含以下信息：</p> 
<ul><li>响应类型（Response Type）：指定请求的类型为"code"。</li><li>客户端ID（Client ID）：客户端的唯一标识符。</li><li>回调URL（Redirect URL）：用户授权后，资源服务器将重定向回调URL，并将授权码作为参数传递给它。</li></ul> 
<p>示例代码：</p> 
<pre><code>GET /authorize?response_type=code&amp;client_id=CLIENT_ID&amp;redirect_uri=REDIRECT_URI HTTP/1.1  
Host: server.example.com</code></pre> 
<p>2、用户授权</p> 
<p>资源服务器收到请求后，会跳转到客户端的回调URL，并将授权码作为参数传递给它。此时，用户需要在客户端的页面上输入自己的用户名和密码进行认证。客户端将用户名和密码发送给资源服务器，资源服务器验证用户身份后，将根据客户端的请求，决定是否授权给客户端。</p> 
<p>3、获取授权码</p> 
<p>如果资源服务器成功验证了用户身份并授权给客户端，它会将授权码（Code）作为参数传递给客户端的回调URL。客户端收到授权码后，将其保存到本地。</p> 
<p>示例代码：</p> 
<pre><code>http://example.com/callback#code=AUTHORIZATION_CODE&amp;state=STATE</code></pre> 
<p>4、获取AccessToken</p> 
<p>客户端将授权码发送给授权服务器（Authorization Server），请求获取AccessToken。请求需要包含以下信息：</p> 
<ul><li>授权码（Code）：通过资源服务器获取的授权码。</li><li>客户端ID（Client ID）：客户端的唯一标识符。</li><li>客户端秘钥（Client Secret）：客户端的秘钥，用于加密请求。</li><li>认证服务器URL（Token URL）：授权服务器的访问令牌（Access Token）URL。</li></ul> 
<p>示例代码：</p> 
<pre><code>POST /token HTTP/1.1  
Host: server.example.com  
Content-Type: application/x-www-form-urlencoded  
  
code=AUTHORIZATION_CODE&amp;client_id=CLIENT_ID&amp;client_secret=CLIENT_SECRET&amp;grant_type=authorization_code&amp;redirect_uri=REDIRECT_URI
</code></pre> 
<p>授权服务器收到请求后，将验证授权码的有效性，并生成一个Access Token返回给客户端。客户端收到Access Token后，就可以使用它来访问受保护的资源</p> 
<p></p> 
<h2>简化模式</h2> 
<p>OAuth2简化模式是一种较为简单的授权模式，适用于公开的浏览器单页应用。相较于OAuth2授权码模式，简化模式少了获取code的步骤，是直接获取令牌token的。由于没有code安全保证，令牌容易因为被拦截窃听而泄露。</p> 
<p>下面是OAuth2简化模式的详细步骤：</p> 
<p>1、客户端发送授权请求</p> 
<p>客户端（Client）向资源服务器（Resource Server）发送授权请求，请求中需要包含以下信息：</p> 
<ul><li>响应类型（Response Type）：指定请求的类型为"token"。</li><li>客户端ID（Client ID）：客户端的唯一标识符。</li><li>用户名（Username）：用户的用户名。</li><li>密码（Password）：用户的密码。</li><li>回调URL（Redirect URL）：用户授权后，资源服务器将重定向回调URL，并将令牌作为参数传递给它。</li></ul> 
<p>示例代码：</p> 
<pre><code>GET /authorize?response_type=token&amp;client_id=CLIENT_ID&amp;username=USERNAME&amp;password=PASSWORD&amp;redirect_uri=REDIRECT_URI HTTP/1.1  
Host: server.example.com</code></pre> 
<p>2、用户授权</p> 
<p>资源服务器收到请求后，会跳转到客户端的回调URL，并将令牌作为参数传递给它。客户端收到令牌后，将其保存到本地。</p> 
<p>3、获取AccessToken</p> 
<p>客户端将令牌发送给授权服务器（Authorization Server），请求获取AccessToken。请求需要包含以下信息：</p> 
<ul><li>令牌（Token）：通过资源服务器获取的令牌。</li><li>客户端ID（Client ID）：客户端的唯一标识符。</li><li>客户端秘钥（Client Secret）：客户端的秘钥，用于加密请求。</li><li>认证服务器URL（Token URL）：授权服务器的访问令牌（Access Token）URL。</li></ul> 
<p>示例代码：</p> 
<pre><code>POST /token HTTP/1.1  
Host: server.example.com  
Content-Type: application/x-www-form-urlencoded  
  
token=TOKEN&amp;client_id=CLIENT_ID&amp;client_secret=CLIENT_SECRET&amp;grant_type=password&amp;redirect_uri=REDIRECT_URI
</code></pre> 
<p>授权服务器收到请求后，将验证令牌的有效性，并生成一个Access Token返回给客户端。客户端收到Access Token后，就可以使用它来访问受保护的资源。</p> 
<p>需要注意的是，由于OAuth2简化模式直接在浏览器中传输密码，因此不建议在前端应用中使用。它适用于用户在第三方的客户端上登录，但需要保证客户端的安全性。</p> 
<p></p> 
<h2>密码模式</h2> 
<p>OAuth2密码模式是一种适用于客户端具有较高信任度的场景下的授权模式。它最大的特点是将用户名和密码直接提交给客户端，而不是通过认证服务器进行验证。这样做的优点是减少了服务器的负载，但缺点是用户的密码被客户端直接获取，存在一定的安全风险。</p> 
<p>下面是OAuth2密码模式的详细步骤：</p> 
<p>1、客户端发送授权请求</p> 
<p>客户端（Client）向资源服务器（Resource Server）发送授权请求，请求中需要包含以下信息：</p> 
<ul><li>响应类型（Response Type）：指定请求的类型为"token"。</li><li>客户端ID（Client ID）：客户端的唯一标识符。</li><li>用户名（Username）：用户的用户名。</li><li>密码（Password）：用户的密码。</li><li>回调URL（Redirect URL）：用户授权后，资源服务器将重定向回调URL，并将令牌作为参数传递给它。</li></ul> 
<p>示例代码：</p> 
<pre><code>GET /authorize?response_type=token&amp;client_id=CLIENT_ID&amp;username=USERNAME&amp;password=PASSWORD&amp;redirect_uri=REDIRECT_URI HTTP/1.1  
Host: server.example.com</code></pre> 
<p>2、获取AccessToken</p> 
<p>客户端将用户名和密码发送给授权服务器（Authorization Server），请求获取AccessToken。请求需要包含以下信息：</p> 
<ul><li>用户名（Username）：用户的用户名。</li><li>密码（Password）：用户的密码。</li><li>客户端ID（Client ID）：客户端的唯一标识符。</li><li>客户端秘钥（Client Secret）：客户端的秘钥，用于加密请求。</li><li>认证服务器URL（Token URL）：授权服务器的访问令牌（Access Token）URL。</li></ul> 
<p>示例代码：</p> 
<pre><code>POST /token HTTP/1.1  
Host: server.example.com  
Content-Type: application/x-www-form-urlencoded  
  
username=USERNAME&amp;password=PASSWORD&amp;client_id=CLIENT_ID&amp;client_secret=CLIENT_SECRET&amp;grant_type=password
</code></pre> 
<p>授权服务器收到请求后，将验证用户名和密码的有效性，并生成一个Access Token返回给客户端。客户端收到Access Token后，就可以使用它来访问受保护的资源。</p> 
<p>需要注意的是，由于OAuth2密码模式直接在浏览器中传输密码，因此不建议在前端应用中使用。它适用于用户在第三方的客户端上登录，但需要保证客户端的安全性。</p> 
<p></p> 
<h2>客户端凭证模式</h2> 
<p>OAuth2客户端凭证模式是一种适用于机器对机器之间的通信的授权模式。在这种模式下，客户端需要向授权服务器发送一个Client ID和Client Secret来获取Access Token，而用户认证信息并不需要。</p> 
<p>下面是OAuth2客户端凭证模式的详细步骤：</p> 
<p>1、客户端发送授权请求</p> 
<p>客户端（Client）向资源服务器（Resource Server）发送授权请求，请求中需要包含以下信息：</p> 
<ul><li>响应类型（Response Type）：指定请求的类型为"token"。</li><li>客户端ID（Client ID）：客户端的唯一标识符。</li><li>客户端秘钥（Client Secret）：客户端的秘钥，用于加密请求。</li><li>认证服务器URL（Token URL）：授权服务器的访问令牌（Access Token）URL。</li></ul> 
<p>示例代码：</p> 
<pre><code>GET /authorize?response_type=token&amp;client_id=CLIENT_ID&amp;client_secret=CLIENT_SECRET&amp;grant_type=client_credentials HTTP/1.1  
Host: server.example.com</code></pre> 
<p>2、获取AccessToken</p> 
<p>客户端将Client ID和Client Secret发送给授权服务器（Authorization Server），请求获取AccessToken。请求需要包含以下信息：</p> 
<ul><li>客户端ID（Client ID）：客户端的唯一标识符。</li><li>客户端秘钥（Client Secret）：客户端的秘钥，用于加密请求。</li><li>认证服务器URL（Token URL）：授权服务器的访问令牌（Access Token）URL。</li><li>授权类型（Grant Type）：指定请求的类型为"client_credentials"。</li></ul> 
<p>示例代码：</p> 
<pre><code>POST /token HTTP/1.1  
Host: server.example.com  
Content-Type: application/x-www-form-urlencoded  
  
client_id=CLIENT_ID&amp;client_secret=CLIENT_SECRET&amp;grant_type=client_credentials
</code></pre> 
<p>授权服务器收到请求后，将验证Client ID和Client Secret的有效性，并生成一个Access Token返回给客户端。客户端收到Access Token后，就可以使用它来访问受保护的资源。</p> 
<p>需要注意的是，由于OAuth2客户端凭证模式适用于机器对机器之间的通信，因此在实际应用中，需要保证客户端秘钥（Client Secret）的安全性，避免泄露。</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e717a09a178b2d7a8b7a90ba91421d1c/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">split()方法详解</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/48c161ee530e9d003d023df7bda16be1/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">交换机 – 华为CloudEngine S3735S配置入门喂饭级教程（仅用一根网线）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>