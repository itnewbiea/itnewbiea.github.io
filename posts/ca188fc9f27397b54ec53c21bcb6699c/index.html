<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>GoJS炫酷的流程图效果 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="GoJS炫酷的流程图效果" />
<meta property="og:description" content="最近公司要用到知识图谱，所以需要一个类似于流程图的UI来与后台交互，能够方便客户使用。 非常感谢懒得安分写的博客，给了我很大的帮助。 原文地址 http://www.cnblogs.com/landeanfen/p/7910530.html
为什么我要转载呢？ 因为我怕哪天博主把帖子删了。。。。 写在前面：我只是为了记代码，所以建议你们去看原文。。。
一、初次接触 GoJS简介
GoJS是一个功能丰富的JS库，在Web浏览器和平台上可实现自定义交互图和复杂的可视化效果，它用自定义模板和布局组件简化了节点、链接和分组等复杂的JS图表，给用户交互提供了许多先进的功能，如拖拽、复制、粘贴、文本编辑、工具提示、上下文菜单、自动布局、模板、数据绑定和模型、事务状态和撤销管理、调色板、概述、事件处理程序、命令和自定义操作的扩展工具系统。无需切换服务器和插件，GoJS就能实现用户互动并在浏览器中完全运行，呈现HTML5 Canvas元素或SVG，也不用服务器端请求。 GoJS不依赖于任何JS库或框架（例如bootstrap、jquery等），可与任何HTML或JS框架配合工作，甚至可以不用框架。
使用入门
（1） 文件引用
&lt;script src=&#34;gojs/go-debug_ok.js&#34;&gt;&lt;/script&gt; （2） 创建画布
&lt;div id=&#34;myDiagramDiv&#34; style=&#34;margin:auto;width:300px; height:300px; background-color:#ddd;&#34;&gt;&lt;/div&gt; 然后使用gojs的api初始化画布
//创建画布 var objGo = go.GraphObject.make; var myDiagram = objGo(go.Diagram, &#34;myDiagramDiv&#34;, { //模型图的中心位置所在坐标 initialContentAlignment: go.Spot.Center, //允许用户操作图表的时候使用Ctrl-Z撤销和Ctrl-Y重做快捷键 &#34;undoManager.isEnabled&#34;: true, //不运行用户改变图表的规模 allowZoom: false, //画布上面是否出现网格 &#34;grid.visible&#34;: true, //允许在画布上面双击的时候创建节点 &#34;clickCreatingTool.archetypeNodeData&#34;: { text: &#34;Node&#34; }, //允许使用ctrl&#43;c、ctrl&#43;v复制粘贴 &#34;commandHandler.copiesTree&#34;: true, //允许使用delete键删除节点 &#34;commandHandler.deletesTree&#34;: true, // dragging for both move and copy &#34;draggingTool.dragsTree&#34;: true, }); （3） 创建模型数据（Model）" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/ca188fc9f27397b54ec53c21bcb6699c/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2017-12-26T17:20:53+08:00" />
<meta property="article:modified_time" content="2017-12-26T17:20:53+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">GoJS炫酷的流程图效果</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>最近公司要用到知识图谱，所以需要一个类似于流程图的UI来与后台交互，能够方便客户使用。 <br> 非常感谢<strong>懒得安分</strong>写的博客，给了我很大的帮助。 <br> 原文地址 <code>http://www.cnblogs.com/landeanfen/p/7910530.html</code></p> 
<p>为什么我要转载呢？ <br> 因为我怕哪天博主把帖子删了。。。。 <br> <strong>写在前面</strong>：我只是为了记代码，所以建议你们去看原文。。。</p> 
<h3 id="一初次接触">一、初次接触</h3> 
<ul><li><p>GoJS简介</p> 
  <blockquote> 
   <p>GoJS是一个功能丰富的JS库，在Web浏览器和平台上可实现自定义交互图和复杂的可视化效果，它用自定义模板和布局组件简化了节点、链接和分组等复杂的JS图表，给用户交互提供了许多先进的功能，如拖拽、复制、粘贴、文本编辑、工具提示、上下文菜单、自动布局、模板、数据绑定和模型、事务状态和撤销管理、调色板、概述、事件处理程序、命令和自定义操作的扩展工具系统。无需切换服务器和插件，GoJS就能实现用户互动并在浏览器中完全运行，呈现HTML5 Canvas元素或SVG，也不用服务器端请求。 GoJS不依赖于任何JS库或框架（例如bootstrap、jquery等），可与任何HTML或JS框架配合工作，甚至可以不用框架。</p> 
  </blockquote></li><li><p>使用入门</p> <p>（1） 文件引用</p></li></ul> 
<pre class="prettyprint"><code class=" hljs xml"><span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"gojs/go-debug_ok.js"</span>&gt;</span><span class="javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span></code></pre> 
<p>（2） 创建画布</p> 
<pre class="prettyprint"><code class=" hljs applescript">&lt;<span class="hljs-keyword">div</span> <span class="hljs-property">id</span>=<span class="hljs-string">"myDiagramDiv"</span> style=<span class="hljs-string">"margin:auto;width:300px; height:300px; background-color:#ddd;"</span>&gt;&lt;/<span class="hljs-keyword">div</span>&gt;</code></pre> 
<p>然后使用gojs的api初始化画布</p> 
<pre class="prettyprint"><code class=" hljs go"><span class="hljs-comment">//创建画布</span>
        <span class="hljs-keyword">var</span> objGo = <span class="hljs-keyword">go</span>.GraphObject.<span class="hljs-built_in">make</span>;
        <span class="hljs-keyword">var</span> myDiagram = objGo(<span class="hljs-keyword">go</span>.Diagram, <span class="hljs-string">"myDiagramDiv"</span>,
            {
                <span class="hljs-comment">//模型图的中心位置所在坐标</span>
                initialContentAlignment: <span class="hljs-keyword">go</span>.Spot.Center,

                <span class="hljs-comment">//允许用户操作图表的时候使用Ctrl-Z撤销和Ctrl-Y重做快捷键</span>
                <span class="hljs-string">"undoManager.isEnabled"</span>: <span class="hljs-constant">true</span>,

                <span class="hljs-comment">//不运行用户改变图表的规模</span>
                allowZoom: <span class="hljs-constant">false</span>,

                <span class="hljs-comment">//画布上面是否出现网格</span>
                <span class="hljs-string">"grid.visible"</span>: <span class="hljs-constant">true</span>,

                <span class="hljs-comment">//允许在画布上面双击的时候创建节点</span>
                <span class="hljs-string">"clickCreatingTool.archetypeNodeData"</span>: { text: <span class="hljs-string">"Node"</span> },

                <span class="hljs-comment">//允许使用ctrl+c、ctrl+v复制粘贴</span>
                <span class="hljs-string">"commandHandler.copiesTree"</span>: <span class="hljs-constant">true</span>,  

                <span class="hljs-comment">//允许使用delete键删除节点</span>
                <span class="hljs-string">"commandHandler.deletesTree"</span>: <span class="hljs-constant">true</span>, 

                <span class="hljs-comment">// dragging for both move and copy</span>
                <span class="hljs-string">"draggingTool.dragsTree"</span>: <span class="hljs-constant">true</span>,  
            });</code></pre> 
<p>（3） 创建模型数据（Model）</p> 
<pre class="prettyprint"><code class=" hljs go"><span class="hljs-keyword">var</span> myModel = objGo(<span class="hljs-keyword">go</span>.Model);<span class="hljs-comment">//创建Model对象</span>
        <span class="hljs-comment">// model中的数据每一个js对象都代表着一个相应的模型图中的元素</span>
        myModel.nodeDataArray = [
            { key: <span class="hljs-string">"工厂"</span> },
            { key: <span class="hljs-string">"车间"</span> },
            { key: <span class="hljs-string">"工人"</span> },
            { key: <span class="hljs-string">"岗位"</span> },
        ];
        myDiagram.model = myModel; <span class="hljs-comment">//将模型数据绑定到画布图上</span></code></pre> 
<p>预览 <br> <img src="https://images2.imgbox.com/c2/35/w1LhaPrg_o.png" alt="这里写图片描述" title=""></p> 
<p>（4） 创建节点（Node）</p> 
<p>上面有了画布和节点数据，只是有了一个雏形，但是还没有任何的图形化效果。我们加入一些效果试试 <br> 在gojs里面给我们提供了几种模型节点的可选项：</p> 
<ul><li>Shape:形状——Rectangle（矩形）、RoundedRectangle（圆角矩形），Ellipse（椭圆形），Triangle（三角形），Diamond（菱形），Circle（圆形）等</li><li>TextBlock:文本域（可编辑）</li><li>Picture:图片</li><li>Panel:容器来保存其他Node的集合 <br> 默认的节点模型代码只是由一个TextBlock组件构建成 <br> 我们增加下面一段代码</li></ul> 
<pre class="prettyprint"><code class=" hljs go"> <span class="hljs-comment">// 定义一个简单的节点模板</span>
        myDiagram.nodeTemplate =
            objGo(<span class="hljs-keyword">go</span>.Node, <span class="hljs-string">"Horizontal"</span>,<span class="hljs-comment">//横向布局的面板</span>
                <span class="hljs-comment">// 节点淡蓝色背景</span>
                { background: <span class="hljs-string">"#44CCFF"</span> },
                objGo(<span class="hljs-keyword">go</span>.Shape,
                    <span class="hljs-string">"RoundedRectangle"</span>, <span class="hljs-comment">//定义形状，这是圆角矩形</span>
                    { <span class="hljs-comment">/* Shape的参数。宽高颜色等等*/</span>figure: <span class="hljs-string">"Club"</span>, width:<span class="hljs-number"> 40</span>, height:<span class="hljs-number"> 60</span>, margin:<span class="hljs-number"> 4</span>, fill: <span class="hljs-string">'red'</span> },
                    <span class="hljs-comment">// 绑定 Shape.figure属性为Node.data.fig的值，Model对象可以通过Node.data.fig 获取和设置Shape.figure（修改形状）</span>
                    <span class="hljs-built_in">new</span> <span class="hljs-keyword">go</span>.Binding(<span class="hljs-string">"figure"</span>, <span class="hljs-string">"fig"</span>), <span class="hljs-built_in">new</span> <span class="hljs-keyword">go</span>.Binding(<span class="hljs-string">'fill'</span>, <span class="hljs-string">'fill2'</span>)),
                objGo(<span class="hljs-keyword">go</span>.TextBlock,
                    <span class="hljs-string">"Default Text"</span>,  <span class="hljs-comment">// 默认文本</span>
                    <span class="hljs-comment">// 设置字体大小颜色以及边距</span>
                    { margin:<span class="hljs-number"> 12</span>, stroke: <span class="hljs-string">"white"</span>, font: <span class="hljs-string">"bold 16px sans-serif"</span> },
                    <span class="hljs-comment">//绑定TextBlock.text 属性为Node.data.name的值，Model对象可以通过Node.data.name获取和设置TextBlock.text</span>
                    <span class="hljs-built_in">new</span> <span class="hljs-keyword">go</span>.Binding(<span class="hljs-string">"text"</span>, <span class="hljs-string">"name"</span>))
            );

        <span class="hljs-keyword">var</span> myModel = objGo(<span class="hljs-keyword">go</span>.Model);<span class="hljs-comment">//创建Model对象</span>
        <span class="hljs-comment">// model中的数据每一个js对象都代表着一个相应的模型图中的元素</span>
        myModel.nodeDataArray = [
            { name: <span class="hljs-string">"工厂"</span>, fig: <span class="hljs-string">'YinYang'</span>, fill2: <span class="hljs-string">'blue'</span> },
            { name: <span class="hljs-string">"车间"</span>, fig: <span class="hljs-string">'Peace'</span>, fill2: <span class="hljs-string">'red'</span> },
            { name: <span class="hljs-string">"工人"</span>, fig: <span class="hljs-string">'NotAllowed'</span>, fill2: <span class="hljs-string">'green'</span> },
            { name: <span class="hljs-string">"岗位"</span>, fig: <span class="hljs-string">'Fragile'</span>, fill2: <span class="hljs-string">'yellow'</span> },
        ];
        myDiagram.model = myModel; <span class="hljs-comment">//将模型数据绑定到画布图上</span></code></pre> 
<p><strong>我们数据里面的属性会覆盖模板的原始属性，如果是新增的节点，由于没有自定义数据属性，所以呈现到界面上面的时候就是模板里面的原生样式！</strong></p> 
<p>（5） 节点连线 <br> 有了上面的基础，我们可以在画布上面画出我们想要的图形效果了，可是还没有连线。我们知道连线是建立在节点模型的上面的，于是乎我们的Model又分为了以下三种类型：</p> 
<ul><li>Model：最基本的（不带连线，如上面的例子）</li><li>GraphLinksModel ：高级点的动态连线图</li><li>TreeModel：树形图的模型（从例子看好像用的不多）</li></ul> 
<p>GraphLinksModel中为model.nodeDataArray提供model.linkDataArray为node节点连线保存数据模型信息，其实也是的一个JSON数组对象，每个线条都有两个属性 “to” 和 “from” 即Node节点的“key”值，两个属性代表两个key表示两个节点间的连线。</p> 
<p>我们上面已经写过最基本的Model的例子了，我们再来个带连线的Model的示例</p> 
<pre class="prettyprint"><code class=" hljs applescript">var myModel = objGo(go.GraphLinksModel);
        myModel.nodeDataArray =
            [
                { key: <span class="hljs-string">"aaa"</span> ,<span class="hljs-property">name</span>: <span class="hljs-string">"工厂"</span> },
                { key: <span class="hljs-string">"bbb"</span> ,<span class="hljs-property">name</span>: <span class="hljs-string">"车间"</span>},
                { key: <span class="hljs-string">"ccc"</span> ,<span class="hljs-property">name</span>: <span class="hljs-string">"车间"</span> }
            ];
        myModel.linkDataArray =
            [
                { <span class="hljs-keyword">from</span>: <span class="hljs-string">"aaa"</span>, <span class="hljs-keyword">to</span>: <span class="hljs-string">"bbb"</span> },
                { <span class="hljs-keyword">from</span>: <span class="hljs-string">"bbb"</span>, <span class="hljs-keyword">to</span>: <span class="hljs-string">"ccc"</span> }
            ];
        myDiagram.model = myModel;</code></pre> 
<p>效果如下 <br> <img src="https://images2.imgbox.com/db/5a/Ee8S0jj8_o.png" alt="这里写图片描述" title=""></p> 
<h3 id="二综合效果">二、综合效果</h3> 
<ul><li>自定义流程</li></ul> 
<pre class="prettyprint"><code class=" hljs xml"><span class="hljs-doctype">&lt;!DOCTYPE html&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">meta</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"viewport"</span> <span class="hljs-attribute">content</span>=<span class="hljs-value">"width=device-width, initial-scale=1"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">title</span>&gt;</span>Draggable Link<span class="hljs-tag">&lt;/<span class="hljs-title">title</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">meta</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"description"</span> <span class="hljs-attribute">content</span>=<span class="hljs-value">"Drag a link to reconnect it. Nodes have custom Adornments for selection, resizing, and reshaping."</span> /&gt;</span>
<span class="hljs-comment">&lt;!-- Copyright 1998-2017 by Northwoods Software Corporation. --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">meta</span> <span class="hljs-attribute">charset</span>=<span class="hljs-value">"UTF-8"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"../../gojs/go-debug.js"</span>&gt;</span><span class="javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"code"</span>&gt;</span><span class="javascript">
  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">init</span><span class="hljs-params">()</span> {<!-- --></span>
    <span class="hljs-keyword">if</span> (window.goSamples) goSamples();  <span class="hljs-comment">// init for these samples -- you don't need to call this</span>
    <span class="hljs-keyword">var</span> objGo = go.GraphObject.make;  <span class="hljs-comment">// for conciseness in defining templates</span>

    myDiagram =
      objGo(go.Diagram, <span class="hljs-string">"myDiagramDiv"</span>,  <span class="hljs-comment">// must name or refer to the DIV HTML element</span>
        {
          grid: objGo(go.Panel, <span class="hljs-string">"Grid"</span>,
                  objGo(go.Shape, <span class="hljs-string">"LineH"</span>, { stroke: <span class="hljs-string">"lightgray"</span>, strokeWidth: <span class="hljs-number">0.5</span> }),
                  objGo(go.Shape, <span class="hljs-string">"LineH"</span>, { stroke: <span class="hljs-string">"gray"</span>, strokeWidth: <span class="hljs-number">0.5</span>, interval: <span class="hljs-number">10</span> }),
                  objGo(go.Shape, <span class="hljs-string">"LineV"</span>, { stroke: <span class="hljs-string">"lightgray"</span>, strokeWidth: <span class="hljs-number">0.5</span> }),
                  objGo(go.Shape, <span class="hljs-string">"LineV"</span>, { stroke: <span class="hljs-string">"gray"</span>, strokeWidth: <span class="hljs-number">0.5</span>, interval: <span class="hljs-number">10</span> })
                ),
          allowDrop: <span class="hljs-literal">true</span>,  <span class="hljs-comment">// must be true to accept drops from the Palette</span>
          <span class="hljs-string">"draggingTool.dragsLink"</span>: <span class="hljs-literal">true</span>,
          <span class="hljs-string">"draggingTool.isGridSnapEnabled"</span>: <span class="hljs-literal">true</span>,
          <span class="hljs-string">"linkingTool.isUnconnectedLinkValid"</span>: <span class="hljs-literal">true</span>,
          <span class="hljs-string">"linkingTool.portGravity"</span>: <span class="hljs-number">20</span>,
          <span class="hljs-string">"relinkingTool.isUnconnectedLinkValid"</span>: <span class="hljs-literal">true</span>,
          <span class="hljs-string">"relinkingTool.portGravity"</span>: <span class="hljs-number">20</span>,
          <span class="hljs-string">"relinkingTool.fromHandleArchetype"</span>:
            objGo(go.Shape, <span class="hljs-string">"Diamond"</span>, { segmentIndex: <span class="hljs-number">0</span>, cursor: <span class="hljs-string">"pointer"</span>, desiredSize: <span class="hljs-keyword">new</span> go.Size(<span class="hljs-number">8</span>, <span class="hljs-number">8</span>), fill: <span class="hljs-string">"tomato"</span>, stroke: <span class="hljs-string">"darkred"</span> }),
          <span class="hljs-string">"relinkingTool.toHandleArchetype"</span>:
            objGo(go.Shape, <span class="hljs-string">"Diamond"</span>, { segmentIndex: -<span class="hljs-number">1</span>, cursor: <span class="hljs-string">"pointer"</span>, desiredSize: <span class="hljs-keyword">new</span> go.Size(<span class="hljs-number">8</span>, <span class="hljs-number">8</span>), fill: <span class="hljs-string">"darkred"</span>, stroke: <span class="hljs-string">"tomato"</span> }),
          <span class="hljs-string">"linkReshapingTool.handleArchetype"</span>:
            objGo(go.Shape, <span class="hljs-string">"Diamond"</span>, { desiredSize: <span class="hljs-keyword">new</span> go.Size(<span class="hljs-number">7</span>, <span class="hljs-number">7</span>), fill: <span class="hljs-string">"lightblue"</span>, stroke: <span class="hljs-string">"deepskyblue"</span> }),
          rotatingTool: objGo(TopRotatingTool),  <span class="hljs-comment">// defined below</span>
          <span class="hljs-string">"rotatingTool.snapAngleMultiple"</span>: <span class="hljs-number">15</span>,
          <span class="hljs-string">"rotatingTool.snapAngleEpsilon"</span>: <span class="hljs-number">15</span>,
          <span class="hljs-string">"undoManager.isEnabled"</span>: <span class="hljs-literal">true</span>
        });

    <span class="hljs-comment">// when the document is modified, add a "*" to the title and enable the "Save" button</span>
    myDiagram.addDiagramListener(<span class="hljs-string">"Modified"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> {<!-- --></span>
      <span class="hljs-keyword">var</span> button = document.getElementById(<span class="hljs-string">"SaveButton"</span>);
      <span class="hljs-keyword">if</span> (button) button.disabled = !myDiagram.isModified;
      <span class="hljs-keyword">var</span> idx = document.title.indexOf(<span class="hljs-string">"*"</span>);
      <span class="hljs-keyword">if</span> (myDiagram.isModified) {
        <span class="hljs-keyword">if</span> (idx &lt; <span class="hljs-number">0</span>) document.title += <span class="hljs-string">"*"</span>;
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">if</span> (idx &gt;= <span class="hljs-number">0</span>) document.title = document.title.substr(<span class="hljs-number">0</span>, idx);
      }
    });

    <span class="hljs-comment">// Define a function for creating a "port" that is normally transparent.</span>
    <span class="hljs-comment">// The "name" is used as the GraphObject.portId, the "spot" is used to control how links connect</span>
    <span class="hljs-comment">// and where the port is positioned on the node, and the boolean "output" and "input" arguments</span>
    <span class="hljs-comment">// control whether the user can draw links from or to the port.</span>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">makePort</span><span class="hljs-params">(name, spot, output, input)</span> {<!-- --></span>
      <span class="hljs-comment">// the port is basically just a small transparent square</span>
      <span class="hljs-keyword">return</span> objGo(go.Shape, <span class="hljs-string">"Circle"</span>,
               {
                  fill: <span class="hljs-literal">null</span>,  <span class="hljs-comment">// not seen, by default; set to a translucent gray by showSmallPorts, defined below</span>
                  stroke: <span class="hljs-literal">null</span>,
                  desiredSize: <span class="hljs-keyword">new</span> go.Size(<span class="hljs-number">7</span>, <span class="hljs-number">7</span>),
                  alignment: spot,  <span class="hljs-comment">// align the port on the main Shape</span>
                  alignmentFocus: spot,  <span class="hljs-comment">// just inside the Shape</span>
                  portId: name,  <span class="hljs-comment">// declare this object to be a "port"</span>
                  fromSpot: spot, toSpot: spot,  <span class="hljs-comment">// declare where links may connect at this port</span>
                  fromLinkable: output, toLinkable: input,  <span class="hljs-comment">// declare whether the user may draw links to/from here</span>
                  cursor: <span class="hljs-string">"pointer"</span>  <span class="hljs-comment">// show a different cursor to indicate potential link point</span>
               });
    }

    <span class="hljs-keyword">var</span> nodeSelectionAdornmentTemplate =
      objGo(go.Adornment, <span class="hljs-string">"Auto"</span>,
        objGo(go.Shape, { fill: <span class="hljs-literal">null</span>, stroke: <span class="hljs-string">"deepskyblue"</span>, strokeWidth: <span class="hljs-number">1.5</span>, strokeDashArray: [<span class="hljs-number">4</span>, <span class="hljs-number">2</span>] }),
        objGo(go.Placeholder)
      );

    <span class="hljs-keyword">var</span> nodeResizeAdornmentTemplate =
      objGo(go.Adornment, <span class="hljs-string">"Spot"</span>,
        { locationSpot: go.Spot.Right },
        objGo(go.Placeholder),
        objGo(go.Shape, { alignment: go.Spot.TopLeft, cursor: <span class="hljs-string">"nw-resize"</span>, desiredSize: <span class="hljs-keyword">new</span> go.Size(<span class="hljs-number">6</span>, <span class="hljs-number">6</span>), fill: <span class="hljs-string">"lightblue"</span>, stroke: <span class="hljs-string">"deepskyblue"</span> }),
        objGo(go.Shape, { alignment: go.Spot.Top, cursor: <span class="hljs-string">"n-resize"</span>, desiredSize: <span class="hljs-keyword">new</span> go.Size(<span class="hljs-number">6</span>, <span class="hljs-number">6</span>), fill: <span class="hljs-string">"lightblue"</span>, stroke: <span class="hljs-string">"deepskyblue"</span> }),
        objGo(go.Shape, { alignment: go.Spot.TopRight, cursor: <span class="hljs-string">"ne-resize"</span>, desiredSize: <span class="hljs-keyword">new</span> go.Size(<span class="hljs-number">6</span>, <span class="hljs-number">6</span>), fill: <span class="hljs-string">"lightblue"</span>, stroke: <span class="hljs-string">"deepskyblue"</span> }),

        objGo(go.Shape, { alignment: go.Spot.Left, cursor: <span class="hljs-string">"w-resize"</span>, desiredSize: <span class="hljs-keyword">new</span> go.Size(<span class="hljs-number">6</span>, <span class="hljs-number">6</span>), fill: <span class="hljs-string">"lightblue"</span>, stroke: <span class="hljs-string">"deepskyblue"</span> }),
        objGo(go.Shape, { alignment: go.Spot.Right, cursor: <span class="hljs-string">"e-resize"</span>, desiredSize: <span class="hljs-keyword">new</span> go.Size(<span class="hljs-number">6</span>, <span class="hljs-number">6</span>), fill: <span class="hljs-string">"lightblue"</span>, stroke: <span class="hljs-string">"deepskyblue"</span> }),

        objGo(go.Shape, { alignment: go.Spot.BottomLeft, cursor: <span class="hljs-string">"se-resize"</span>, desiredSize: <span class="hljs-keyword">new</span> go.Size(<span class="hljs-number">6</span>, <span class="hljs-number">6</span>), fill: <span class="hljs-string">"lightblue"</span>, stroke: <span class="hljs-string">"deepskyblue"</span> }),
        objGo(go.Shape, { alignment: go.Spot.Bottom, cursor: <span class="hljs-string">"s-resize"</span>, desiredSize: <span class="hljs-keyword">new</span> go.Size(<span class="hljs-number">6</span>, <span class="hljs-number">6</span>), fill: <span class="hljs-string">"lightblue"</span>, stroke: <span class="hljs-string">"deepskyblue"</span> }),
        objGo(go.Shape, { alignment: go.Spot.BottomRight, cursor: <span class="hljs-string">"sw-resize"</span>, desiredSize: <span class="hljs-keyword">new</span> go.Size(<span class="hljs-number">6</span>, <span class="hljs-number">6</span>), fill: <span class="hljs-string">"lightblue"</span>, stroke: <span class="hljs-string">"deepskyblue"</span> })
      );

    <span class="hljs-keyword">var</span> nodeRotateAdornmentTemplate =
      objGo(go.Adornment,
        { locationSpot: go.Spot.Center, locationObjectName: <span class="hljs-string">"CIRCLE"</span> },
        objGo(go.Shape, <span class="hljs-string">"Circle"</span>, { name: <span class="hljs-string">"CIRCLE"</span>, cursor: <span class="hljs-string">"pointer"</span>, desiredSize: <span class="hljs-keyword">new</span> go.Size(<span class="hljs-number">7</span>, <span class="hljs-number">7</span>), fill: <span class="hljs-string">"lightblue"</span>, stroke: <span class="hljs-string">"deepskyblue"</span> }),
        objGo(go.Shape, { geometryString: <span class="hljs-string">"M3.5 7 L3.5 30"</span>, isGeometryPositioned: <span class="hljs-literal">true</span>, stroke: <span class="hljs-string">"deepskyblue"</span>, strokeWidth: <span class="hljs-number">1.5</span>, strokeDashArray: [<span class="hljs-number">4</span>, <span class="hljs-number">2</span>] })
      );

    myDiagram.nodeTemplate =
      objGo(go.Node, <span class="hljs-string">"Spot"</span>,
        { locationSpot: go.Spot.Center },
        <span class="hljs-keyword">new</span> go.Binding(<span class="hljs-string">"location"</span>, <span class="hljs-string">"loc"</span>, go.Point.parse).makeTwoWay(go.Point.stringify),
        { selectable: <span class="hljs-literal">true</span>, selectionAdornmentTemplate: nodeSelectionAdornmentTemplate },
        { resizable: <span class="hljs-literal">true</span>, resizeObjectName: <span class="hljs-string">"PANEL"</span>, resizeAdornmentTemplate: nodeResizeAdornmentTemplate },
        { rotatable: <span class="hljs-literal">true</span>, rotateAdornmentTemplate: nodeRotateAdornmentTemplate },
        <span class="hljs-keyword">new</span> go.Binding(<span class="hljs-string">"angle"</span>).makeTwoWay(),
        <span class="hljs-comment">// the main object is a Panel that surrounds a TextBlock with a Shape</span>
        objGo(go.Panel, <span class="hljs-string">"Auto"</span>,
          { name: <span class="hljs-string">"PANEL"</span> },
          <span class="hljs-keyword">new</span> go.Binding(<span class="hljs-string">"desiredSize"</span>, <span class="hljs-string">"size"</span>, go.Size.parse).makeTwoWay(go.Size.stringify),
          objGo(go.Shape, <span class="hljs-string">"Rectangle"</span>,  <span class="hljs-comment">// default figure</span>
            {
              portId: <span class="hljs-string">""</span>, <span class="hljs-comment">// the default port: if no spot on link data, use closest side</span>
              fromLinkable: <span class="hljs-literal">true</span>, toLinkable: <span class="hljs-literal">true</span>, cursor: <span class="hljs-string">"pointer"</span>,
              fill: <span class="hljs-string">"white"</span>,  <span class="hljs-comment">// default color</span>
              strokeWidth: <span class="hljs-number">2</span>
            },
            <span class="hljs-keyword">new</span> go.Binding(<span class="hljs-string">"figure"</span>),
            <span class="hljs-keyword">new</span> go.Binding(<span class="hljs-string">"fill"</span>)),
          objGo(go.TextBlock,
            {
              font: <span class="hljs-string">"bold 11pt Helvetica, Arial, sans-serif"</span>,
              margin: <span class="hljs-number">8</span>,
              maxSize: <span class="hljs-keyword">new</span> go.Size(<span class="hljs-number">160</span>, <span class="hljs-literal">NaN</span>),
              wrap: go.TextBlock.WrapFit,
              editable: <span class="hljs-literal">true</span>
            },
            <span class="hljs-keyword">new</span> go.Binding(<span class="hljs-string">"text"</span>).makeTwoWay())
        ),
        <span class="hljs-comment">// four small named ports, one on each side:</span>
        makePort(<span class="hljs-string">"T"</span>, go.Spot.Top, <span class="hljs-literal">false</span>, <span class="hljs-literal">true</span>),
        makePort(<span class="hljs-string">"L"</span>, go.Spot.Left, <span class="hljs-literal">true</span>, <span class="hljs-literal">true</span>),
        makePort(<span class="hljs-string">"R"</span>, go.Spot.Right, <span class="hljs-literal">true</span>, <span class="hljs-literal">true</span>),
        makePort(<span class="hljs-string">"B"</span>, go.Spot.Bottom, <span class="hljs-literal">true</span>, <span class="hljs-literal">false</span>),
        { <span class="hljs-comment">// handle mouse enter/leave events to show/hide the ports</span>
          mouseEnter: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e, node)</span> {<!-- --></span> showSmallPorts(node, <span class="hljs-literal">true</span>); },
          mouseLeave: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e, node)</span> {<!-- --></span> showSmallPorts(node, <span class="hljs-literal">false</span>); }
        }
      );

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">showSmallPorts</span><span class="hljs-params">(node, show)</span> {<!-- --></span>
      node.ports.each(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(port)</span> {<!-- --></span>
        <span class="hljs-keyword">if</span> (port.portId !== <span class="hljs-string">""</span>) {  <span class="hljs-comment">// don't change the default port, which is the big shape</span>
          port.fill = show ? <span class="hljs-string">"rgba(0,0,0,.3)"</span> : <span class="hljs-literal">null</span>;
        }
      });
    }

    <span class="hljs-keyword">var</span> linkSelectionAdornmentTemplate =
      objGo(go.Adornment, <span class="hljs-string">"Link"</span>,
        objGo(go.Shape,
          <span class="hljs-comment">// isPanelMain declares that this Shape shares the Link.geometry</span>
          { isPanelMain: <span class="hljs-literal">true</span>, fill: <span class="hljs-literal">null</span>, stroke: <span class="hljs-string">"deepskyblue"</span>, strokeWidth: <span class="hljs-number">0</span> })  <span class="hljs-comment">// use selection object's strokeWidth</span>
      );

    myDiagram.linkTemplate =
      objGo(go.Link,  <span class="hljs-comment">// the whole link panel</span>
        { selectable: <span class="hljs-literal">true</span>, selectionAdornmentTemplate: linkSelectionAdornmentTemplate },
        { relinkableFrom: <span class="hljs-literal">true</span>, relinkableTo: <span class="hljs-literal">true</span>, reshapable: <span class="hljs-literal">true</span> },
        {
          routing: go.Link.AvoidsNodes,
          curve: go.Link.JumpOver,
          corner: <span class="hljs-number">5</span>,
          toShortLength: <span class="hljs-number">4</span>
        },
        <span class="hljs-keyword">new</span> go.Binding(<span class="hljs-string">"points"</span>).makeTwoWay(),
        objGo(go.Shape,  <span class="hljs-comment">// the link path shape</span>
          { isPanelMain: <span class="hljs-literal">true</span>, strokeWidth: <span class="hljs-number">2</span> }),
        objGo(go.Shape,  <span class="hljs-comment">// the arrowhead</span>
          { toArrow: <span class="hljs-string">"Standard"</span>, stroke: <span class="hljs-literal">null</span> }),
        objGo(go.Panel, <span class="hljs-string">"Auto"</span>,
          <span class="hljs-keyword">new</span> go.Binding(<span class="hljs-string">"visible"</span>, <span class="hljs-string">"isSelected"</span>).ofObject(),
          objGo(go.Shape, <span class="hljs-string">"RoundedRectangle"</span>,  <span class="hljs-comment">// the link shape</span>
            { fill: <span class="hljs-string">"#F8F8F8"</span>, stroke: <span class="hljs-literal">null</span> }),
          objGo(go.TextBlock,
            {
              textAlign: <span class="hljs-string">"center"</span>,
              font: <span class="hljs-string">"10pt helvetica, arial, sans-serif"</span>,
              stroke: <span class="hljs-string">"#919191"</span>,
              margin: <span class="hljs-number">2</span>,
              minSize: <span class="hljs-keyword">new</span> go.Size(<span class="hljs-number">10</span>, <span class="hljs-literal">NaN</span>),
              editable: <span class="hljs-literal">true</span>
            },
            <span class="hljs-keyword">new</span> go.Binding(<span class="hljs-string">"text"</span>).makeTwoWay())
        )
      );

    load();  <span class="hljs-comment">// load an initial diagram from some JSON text</span>

    <span class="hljs-comment">// initialize the Palette that is on the left side of the page</span>
    myPalette =
      objGo(go.Palette, <span class="hljs-string">"myPaletteDiv"</span>,  <span class="hljs-comment">// must name or refer to the DIV HTML element</span>
        {
          maxSelectionCount: <span class="hljs-number">1</span>,
          nodeTemplateMap: myDiagram.nodeTemplateMap,  <span class="hljs-comment">// share the templates used by myDiagram</span>
          linkTemplate: <span class="hljs-comment">// simplify the link template, just in this Palette</span>
            objGo(go.Link,
              { <span class="hljs-comment">// because the GridLayout.alignment is Location and the nodes have locationSpot == Spot.Center,</span>
                <span class="hljs-comment">// to line up the Link in the same manner we have to pretend the Link has the same location spot</span>
                locationSpot: go.Spot.Center,
                selectionAdornmentTemplate:
                  objGo(go.Adornment, <span class="hljs-string">"Link"</span>,
                    { locationSpot: go.Spot.Center },
                    objGo(go.Shape,
                      { isPanelMain: <span class="hljs-literal">true</span>, fill: <span class="hljs-literal">null</span>, stroke: <span class="hljs-string">"deepskyblue"</span>, strokeWidth: <span class="hljs-number">0</span> }),
                    objGo(go.Shape,  <span class="hljs-comment">// the arrowhead</span>
                      { toArrow: <span class="hljs-string">"Standard"</span>, stroke: <span class="hljs-literal">null</span> })
                  )
              },
              {
                routing: go.Link.AvoidsNodes,
                curve: go.Link.JumpOver,
                corner: <span class="hljs-number">5</span>,
                toShortLength: <span class="hljs-number">4</span>
              },
              <span class="hljs-keyword">new</span> go.Binding(<span class="hljs-string">"points"</span>),
              objGo(go.Shape,  <span class="hljs-comment">// the link path shape</span>
                { isPanelMain: <span class="hljs-literal">true</span>, strokeWidth: <span class="hljs-number">2</span> }),
              objGo(go.Shape,  <span class="hljs-comment">// the arrowhead</span>
                { toArrow: <span class="hljs-string">"Standard"</span>, stroke: <span class="hljs-literal">null</span> })
            ),
          model: <span class="hljs-keyword">new</span> go.GraphLinksModel([  <span class="hljs-comment">// specify the contents of the Palette</span>
            { text: <span class="hljs-string">"Start"</span>, figure: <span class="hljs-string">"Circle"</span>, fill: <span class="hljs-string">"#00AD5F"</span> },
            { text: <span class="hljs-string">"Step"</span> },
            { text: <span class="hljs-string">"DB"</span>, figure: <span class="hljs-string">"Database"</span>, fill: <span class="hljs-string">"lightgray"</span> },
            { text: <span class="hljs-string">"???"</span>, figure: <span class="hljs-string">"Diamond"</span>, fill: <span class="hljs-string">"lightskyblue"</span> },
            { text: <span class="hljs-string">"End"</span>, figure: <span class="hljs-string">"Circle"</span>, fill: <span class="hljs-string">"#CE0620"</span> },
            { text: <span class="hljs-string">"Comment"</span>, figure: <span class="hljs-string">"RoundedRectangle"</span>, fill: <span class="hljs-string">"lightyellow"</span> }
          ], [
            <span class="hljs-comment">// the Palette also has a disconnected Link, which the user can drag-and-drop</span>
            { points: <span class="hljs-keyword">new</span> go.List(go.Point).addAll([<span class="hljs-keyword">new</span> go.Point(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>), <span class="hljs-keyword">new</span> go.Point(<span class="hljs-number">30</span>, <span class="hljs-number">0</span>), <span class="hljs-keyword">new</span> go.Point(<span class="hljs-number">30</span>, <span class="hljs-number">40</span>), <span class="hljs-keyword">new</span> go.Point(<span class="hljs-number">60</span>, <span class="hljs-number">40</span>)]) }
          ])
        });
  }


  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">TopRotatingTool</span><span class="hljs-params">()</span> {<!-- --></span>
    go.RotatingTool.call(<span class="hljs-keyword">this</span>);
  }
  go.Diagram.inherit(TopRotatingTool, go.RotatingTool);

  <span class="hljs-comment">/** @override */</span>
  TopRotatingTool.prototype.updateAdornments = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(part)</span> {<!-- --></span>
    go.RotatingTool.prototype.updateAdornments.call(<span class="hljs-keyword">this</span>, part);
    <span class="hljs-keyword">var</span> adornment = part.findAdornment(<span class="hljs-string">"Rotating"</span>);
    <span class="hljs-keyword">if</span> (adornment !== <span class="hljs-literal">null</span>) {
      adornment.location = part.rotateObject.getDocumentPoint(<span class="hljs-keyword">new</span> go.Spot(<span class="hljs-number">0.5</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, -<span class="hljs-number">30</span>));  <span class="hljs-comment">// above middle top</span>
    }
  };

  <span class="hljs-comment">/** @override */</span>
  TopRotatingTool.prototype.rotate = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(newangle)</span> {<!-- --></span>
    go.RotatingTool.prototype.rotate.call(<span class="hljs-keyword">this</span>, newangle + <span class="hljs-number">90</span>);
  };
  <span class="hljs-comment">// end of TopRotatingTool class</span>


  <span class="hljs-comment">// Show the diagram's model in JSON format that the user may edit</span>
  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">save</span><span class="hljs-params">()</span> {<!-- --></span>
    saveDiagramProperties();  <span class="hljs-comment">// do this first, before writing to JSON</span>
    document.getElementById(<span class="hljs-string">"mySavedModel"</span>).value = myDiagram.model.toJson();
    myDiagram.isModified = <span class="hljs-literal">false</span>;
  }
  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">load</span><span class="hljs-params">()</span> {<!-- --></span>
    myDiagram.model = go.Model.fromJson(document.getElementById(<span class="hljs-string">"mySavedModel"</span>).value);
    loadDiagramProperties();  <span class="hljs-comment">// do this after the Model.modelData has been brought into memory</span>
  }

  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">saveDiagramProperties</span><span class="hljs-params">()</span> {<!-- --></span>
    myDiagram.model.modelData.position = go.Point.stringify(myDiagram.position);
  }
  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">loadDiagramProperties</span><span class="hljs-params">(e)</span> {<!-- --></span>
    <span class="hljs-comment">// set Diagram.initialPosition, not Diagram.position, to handle initialization side-effects</span>
    <span class="hljs-keyword">var</span> pos = myDiagram.model.modelData.position;
    <span class="hljs-keyword">if</span> (pos) myDiagram.initialPosition = go.Point.parse(pos);
  }
</span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">body</span> <span class="hljs-attribute">onload</span>=<span class="hljs-value">"init()"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"sample"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">style</span>=<span class="hljs-value">"width:100%; white-space:nowrap;"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">span</span> <span class="hljs-attribute">style</span>=<span class="hljs-value">"display: inline-block; vertical-align: top; width:105px"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"myPaletteDiv"</span> <span class="hljs-attribute">style</span>=<span class="hljs-value">"border: solid 1px black; height: 620px"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">span</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-title">span</span> <span class="hljs-attribute">style</span>=<span class="hljs-value">"display: inline-block; vertical-align: top; width:80%"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"myDiagramDiv"</span> <span class="hljs-attribute">style</span>=<span class="hljs-value">"border: solid 1px black; height: 620px"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">span</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">p</span>&gt;</span>
    This sample demonstrates the ability for the user to drag around a Link as if it were a Node.
    When either end of the link passes over a valid port, the port is highlighted.
  <span class="hljs-tag">&lt;/<span class="hljs-title">p</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">p</span>&gt;</span>
    The link-dragging functionality is enabled by setting some or all of the following properties:
    <span class="hljs-tag">&lt;<span class="hljs-title">a</span>&gt;</span>DraggingTool.dragsLink<span class="hljs-tag">&lt;/<span class="hljs-title">a</span>&gt;</span>, <span class="hljs-tag">&lt;<span class="hljs-title">a</span>&gt;</span>LinkingTool.isUnconnectedLinkValid<span class="hljs-tag">&lt;/<span class="hljs-title">a</span>&gt;</span>, and
    <span class="hljs-tag">&lt;<span class="hljs-title">a</span>&gt;</span>RelinkingTool.isUnconnectedLinkValid<span class="hljs-tag">&lt;/<span class="hljs-title">a</span>&gt;</span>.
  <span class="hljs-tag">&lt;/<span class="hljs-title">p</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">p</span>&gt;</span>
    Note that a Link is present in the <span class="hljs-tag">&lt;<span class="hljs-title">a</span>&gt;</span>Palette<span class="hljs-tag">&lt;/<span class="hljs-title">a</span>&gt;</span> so that it too can be dragged out and onto
    the main Diagram.  Because links are not automatically routed when either end is not connected
    with a Node, the route is provided explicitly when that Palette item is defined.
  <span class="hljs-tag">&lt;/<span class="hljs-title">p</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">p</span>&gt;</span>
    This also demonstrates several custom Adornments:
    <span class="hljs-tag">&lt;<span class="hljs-title">a</span>&gt;</span>Part.selectionAdornmentTemplate<span class="hljs-tag">&lt;/<span class="hljs-title">a</span>&gt;</span>, <span class="hljs-tag">&lt;<span class="hljs-title">a</span>&gt;</span>Part.resizeAdornmentTemplate<span class="hljs-tag">&lt;/<span class="hljs-title">a</span>&gt;</span>, and
    <span class="hljs-tag">&lt;<span class="hljs-title">a</span>&gt;</span>Part.rotateAdornmentTemplate<span class="hljs-tag">&lt;/<span class="hljs-title">a</span>&gt;</span>.
  <span class="hljs-tag">&lt;/<span class="hljs-title">p</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">p</span>&gt;</span>
    Finally this sample demonstrates saving and restoring the <span class="hljs-tag">&lt;<span class="hljs-title">a</span>&gt;</span>Diagram.position<span class="hljs-tag">&lt;/<span class="hljs-title">a</span>&gt;</span> as a property
    on the <span class="hljs-tag">&lt;<span class="hljs-title">a</span>&gt;</span>Model.modelData<span class="hljs-tag">&lt;/<span class="hljs-title">a</span>&gt;</span> object that is automatically saved and restored when calling <span class="hljs-tag">&lt;<span class="hljs-title">a</span>&gt;</span>Model.toJson<span class="hljs-tag">&lt;/<span class="hljs-title">a</span>&gt;</span>
    and <span class="hljs-tag">&lt;<span class="hljs-title">a</span>&gt;</span>Model.fromJson<span class="hljs-tag">&lt;/<span class="hljs-title">a</span>&gt;</span>.
  <span class="hljs-tag">&lt;/<span class="hljs-title">p</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">button</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"SaveButton"</span> <span class="hljs-attribute">onclick</span>=<span class="hljs-value">"save()"</span>&gt;</span>Save<span class="hljs-tag">&lt;/<span class="hljs-title">button</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">button</span> <span class="hljs-attribute">onclick</span>=<span class="hljs-value">"load()"</span>&gt;</span>Load<span class="hljs-tag">&lt;/<span class="hljs-title">button</span>&gt;</span>
      Diagram Model saved in JSON format:
    <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">textarea</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"mySavedModel"</span> <span class="hljs-attribute">style</span>=<span class="hljs-value">"width:100%;height:300px"</span>&gt;</span>
{ "class": "go.GraphLinksModel",
  "linkFromPortIdProperty": "fromPort",
  "linkToPortIdProperty": "toPort",
  "nodeDataArray": [
 ],
  "linkDataArray": [
 ]}
    <span class="hljs-tag">&lt;/<span class="hljs-title">textarea</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">html</span>&gt;</span>

自定义流程全部代码</code></pre> 
<ul><li>工业流程图</li></ul> 
<pre class="prettyprint"><code class=" hljs avrasm">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta name=<span class="hljs-string">"viewport"</span> content=<span class="hljs-string">"width=device-width, initial-scale=1"</span>&gt;
&lt;title&gt;Process Flow&lt;/title&gt;
&lt;meta name=<span class="hljs-string">"description"</span> content=<span class="hljs-string">"A simple process flow or SCADA diagram editor, simulating equipment monitoring and control."</span> /&gt;
&lt;!-- Copyright <span class="hljs-number">1998</span>-<span class="hljs-number">2017</span> by Northwoods Software Corporation. --&gt;
&lt;meta charset=<span class="hljs-string">"UTF-8"</span>&gt;
&lt;script src=<span class="hljs-string">"../../gojs/go-debug.js"</span>&gt;&lt;/script&gt;
&lt;script id=<span class="hljs-string">"code"</span>&gt;
  function init() {
    if (window<span class="hljs-preprocessor">.goSamples</span>) goSamples()<span class="hljs-comment">;  // init for these samples -- you don't need to call this</span>
    var $ = go<span class="hljs-preprocessor">.GraphObject</span><span class="hljs-preprocessor">.make</span><span class="hljs-comment">;  // for more concise visual tree definitions</span>

    myDiagram =
      $(go<span class="hljs-preprocessor">.Diagram</span>, <span class="hljs-string">"myDiagramDiv"</span>,
        {
          <span class="hljs-string">"grid.visible"</span>: true,
          <span class="hljs-string">"grid.gridCellSize"</span>: new go<span class="hljs-preprocessor">.Size</span>(<span class="hljs-number">30</span>, <span class="hljs-number">20</span>),
          <span class="hljs-string">"draggingTool.isGridSnapEnabled"</span>: true,
          <span class="hljs-string">"resizingTool.isGridSnapEnabled"</span>: true,
          <span class="hljs-string">"rotatingTool.snapAngleMultiple"</span>: <span class="hljs-number">90</span>,
          <span class="hljs-string">"rotatingTool.snapAngleEpsilon"</span>: <span class="hljs-number">45</span>,
          <span class="hljs-string">"undoManager.isEnabled"</span>: true
        })<span class="hljs-comment">;</span>

    // when the document is modified, <span class="hljs-keyword">add</span> a <span class="hljs-string">"*"</span> to the title <span class="hljs-keyword">and</span> enable the <span class="hljs-string">"Save"</span> button
    myDiagram<span class="hljs-preprocessor">.addDiagramListener</span>(<span class="hljs-string">"Modified"</span>, function(e) {
      var button = document<span class="hljs-preprocessor">.getElementById</span>(<span class="hljs-string">"SaveButton"</span>)<span class="hljs-comment">;</span>
      if (button) button<span class="hljs-preprocessor">.disabled</span> = !myDiagram<span class="hljs-preprocessor">.isModified</span><span class="hljs-comment">;</span>
      var idx = document<span class="hljs-preprocessor">.title</span><span class="hljs-preprocessor">.indexOf</span>(<span class="hljs-string">"*"</span>)<span class="hljs-comment">;</span>
      if (myDiagram<span class="hljs-preprocessor">.isModified</span>) {
        if (idx &lt; <span class="hljs-number">0</span>) document<span class="hljs-preprocessor">.title</span> += <span class="hljs-string">"*"</span><span class="hljs-comment">;</span>
      } else {
        if (idx &gt;= <span class="hljs-number">0</span>) document<span class="hljs-preprocessor">.title</span> = document<span class="hljs-preprocessor">.title</span><span class="hljs-preprocessor">.substr</span>(<span class="hljs-number">0</span>, idx)<span class="hljs-comment">;</span>
      }
    })<span class="hljs-comment">;</span>

    myDiagram<span class="hljs-preprocessor">.nodeTemplateMap</span><span class="hljs-preprocessor">.add</span>(<span class="hljs-string">"Process"</span>,
      $(go<span class="hljs-preprocessor">.Node</span>, <span class="hljs-string">"Auto"</span>,
        { locationSpot: new go<span class="hljs-preprocessor">.Spot</span>(<span class="hljs-number">0.5</span>, <span class="hljs-number">0.5</span>), locationObjectName: <span class="hljs-string">"SHAPE"</span>,
          resizable: true, resizeObjectName: <span class="hljs-string">"SHAPE"</span> },
        new go<span class="hljs-preprocessor">.Binding</span>(<span class="hljs-string">"location"</span>, <span class="hljs-string">"pos"</span>, go<span class="hljs-preprocessor">.Point</span><span class="hljs-preprocessor">.parse</span>)<span class="hljs-preprocessor">.makeTwoWay</span>(go<span class="hljs-preprocessor">.Point</span><span class="hljs-preprocessor">.stringify</span>),
        $(go<span class="hljs-preprocessor">.Shape</span>, <span class="hljs-string">"Cylinder1"</span>,
          { name: <span class="hljs-string">"SHAPE"</span>,
            strokeWidth: <span class="hljs-number">2</span>,
            fill: $(go<span class="hljs-preprocessor">.Brush</span>, <span class="hljs-string">"Linear"</span>,
                    { start: go<span class="hljs-preprocessor">.Spot</span><span class="hljs-preprocessor">.Left</span>, end: go<span class="hljs-preprocessor">.Spot</span><span class="hljs-preprocessor">.Right</span>,
                      <span class="hljs-number">0</span>: <span class="hljs-string">"gray"</span>, <span class="hljs-number">0.5</span>: <span class="hljs-string">"white"</span>, <span class="hljs-number">1</span>: <span class="hljs-string">"gray"</span> }),
            minSize: new go<span class="hljs-preprocessor">.Size</span>(<span class="hljs-number">50</span>, <span class="hljs-number">50</span>),
            portId: <span class="hljs-string">""</span>, fromSpot: go<span class="hljs-preprocessor">.Spot</span><span class="hljs-preprocessor">.AllSides</span>, toSpot: go<span class="hljs-preprocessor">.Spot</span><span class="hljs-preprocessor">.AllSides</span>
          },
          new go<span class="hljs-preprocessor">.Binding</span>(<span class="hljs-string">"desiredSize"</span>, <span class="hljs-string">"size"</span>, go<span class="hljs-preprocessor">.Size</span><span class="hljs-preprocessor">.parse</span>)<span class="hljs-preprocessor">.makeTwoWay</span>(go<span class="hljs-preprocessor">.Size</span><span class="hljs-preprocessor">.stringify</span>)),
        $(go<span class="hljs-preprocessor">.TextBlock</span>,
          { alignment: go<span class="hljs-preprocessor">.Spot</span><span class="hljs-preprocessor">.Center</span>, textAlign: <span class="hljs-string">"center"</span>, margin: <span class="hljs-number">5</span>,
            editable: true },
          new go<span class="hljs-preprocessor">.Binding</span>(<span class="hljs-string">"text"</span>)<span class="hljs-preprocessor">.makeTwoWay</span>())
      ))<span class="hljs-comment">;</span>

    myDiagram<span class="hljs-preprocessor">.nodeTemplateMap</span><span class="hljs-preprocessor">.add</span>(<span class="hljs-string">"Valve"</span>,
      $(go<span class="hljs-preprocessor">.Node</span>, <span class="hljs-string">"Vertical"</span>,
        { locationSpot: new go<span class="hljs-preprocessor">.Spot</span>(<span class="hljs-number">0.5</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, -<span class="hljs-number">21</span>), locationObjectName: <span class="hljs-string">"SHAPE"</span>,
          selectionObjectName: <span class="hljs-string">"SHAPE"</span>, rotatable: true },
        new go<span class="hljs-preprocessor">.Binding</span>(<span class="hljs-string">"angle"</span>)<span class="hljs-preprocessor">.makeTwoWay</span>(),
        new go<span class="hljs-preprocessor">.Binding</span>(<span class="hljs-string">"location"</span>, <span class="hljs-string">"pos"</span>, go<span class="hljs-preprocessor">.Point</span><span class="hljs-preprocessor">.parse</span>)<span class="hljs-preprocessor">.makeTwoWay</span>(go<span class="hljs-preprocessor">.Point</span><span class="hljs-preprocessor">.stringify</span>),
        $(go<span class="hljs-preprocessor">.TextBlock</span>,
          { alignment: go<span class="hljs-preprocessor">.Spot</span><span class="hljs-preprocessor">.Center</span>, textAlign: <span class="hljs-string">"center"</span>, margin: <span class="hljs-number">5</span>, editable: true },
          new go<span class="hljs-preprocessor">.Binding</span>(<span class="hljs-string">"text"</span>)<span class="hljs-preprocessor">.makeTwoWay</span>(),
          // keep the text upright, even when the whole node has been rotated upside down
          new go<span class="hljs-preprocessor">.Binding</span>(<span class="hljs-string">"angle"</span>, <span class="hljs-string">"angle"</span>, function(a) { return a === <span class="hljs-number">180</span> ? <span class="hljs-number">180</span> : <span class="hljs-number">0</span><span class="hljs-comment">; }).ofObject()),</span>
        $(go<span class="hljs-preprocessor">.Shape</span>,
          { name: <span class="hljs-string">"SHAPE"</span>,
            geometryString: <span class="hljs-string">"F1 M0 0 L40 20 40 0 0 20z M20 10 L20 30 M12 30 L28 30"</span>,
            strokeWidth: <span class="hljs-number">2</span>,
            fill: $(go<span class="hljs-preprocessor">.Brush</span>, <span class="hljs-string">"Linear"</span>, { <span class="hljs-number">0</span>: <span class="hljs-string">"gray"</span>, <span class="hljs-number">0.35</span>: <span class="hljs-string">"white"</span>, <span class="hljs-number">0.7</span>: <span class="hljs-string">"gray"</span> }),
            portId: <span class="hljs-string">""</span>, fromSpot: new go<span class="hljs-preprocessor">.Spot</span>(<span class="hljs-number">1</span>, <span class="hljs-number">0.35</span>), toSpot: new go<span class="hljs-preprocessor">.Spot</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0.35</span>) })
      ))<span class="hljs-comment">;</span>

    myDiagram<span class="hljs-preprocessor">.linkTemplate</span> =
      $(go<span class="hljs-preprocessor">.Link</span>,
        { routing: go<span class="hljs-preprocessor">.Link</span><span class="hljs-preprocessor">.AvoidsNodes</span>, curve: go<span class="hljs-preprocessor">.Link</span><span class="hljs-preprocessor">.JumpGap</span>, corner: <span class="hljs-number">10</span>, reshapable: true, toShortLength: <span class="hljs-number">7</span> },
        new go<span class="hljs-preprocessor">.Binding</span>(<span class="hljs-string">"points"</span>)<span class="hljs-preprocessor">.makeTwoWay</span>(),
        // mark each Shape to get the link geometry with isPanelMain: true
        $(go<span class="hljs-preprocessor">.Shape</span>, { isPanelMain: true, stroke: <span class="hljs-string">"black"</span>, strokeWidth: <span class="hljs-number">5</span> }),
        $(go<span class="hljs-preprocessor">.Shape</span>, { isPanelMain: true, stroke: <span class="hljs-string">"gray"</span>, strokeWidth: <span class="hljs-number">3</span> }),
        $(go<span class="hljs-preprocessor">.Shape</span>, { isPanelMain: true, stroke: <span class="hljs-string">"white"</span>, strokeWidth: <span class="hljs-number">1</span>, name: <span class="hljs-string">"PIPE"</span>, strokeDashArray: [<span class="hljs-number">10</span>, <span class="hljs-number">10</span>] }),
        $(go<span class="hljs-preprocessor">.Shape</span>, { toArrow: <span class="hljs-string">"Triangle"</span>, fill: <span class="hljs-string">"black"</span>, stroke: null })
      )<span class="hljs-comment">;</span>

    load()<span class="hljs-comment">;</span>

    loop()<span class="hljs-comment">;  // animate some flow through the pipes</span>
  }

  function loop() {
    var diagram = myDiagram<span class="hljs-comment">;</span>
    setTimeout(function() {
      var oldskips = diagram<span class="hljs-preprocessor">.skipsUndoManager</span><span class="hljs-comment">;</span>
      diagram<span class="hljs-preprocessor">.skipsUndoManager</span> = true<span class="hljs-comment">;</span>
      diagram<span class="hljs-preprocessor">.links</span><span class="hljs-preprocessor">.each</span>(function(link) {
          var shape = link<span class="hljs-preprocessor">.findObject</span>(<span class="hljs-string">"PIPE"</span>)<span class="hljs-comment">;</span>
          var off = shape<span class="hljs-preprocessor">.strokeDashOffset</span> - <span class="hljs-number">2</span><span class="hljs-comment">;</span>
          shape<span class="hljs-preprocessor">.strokeDashOffset</span> = (off &lt;= <span class="hljs-number">0</span>) ? <span class="hljs-number">20</span> : off<span class="hljs-comment">;</span>
        })<span class="hljs-comment">;</span>
      diagram<span class="hljs-preprocessor">.skipsUndoManager</span> = oldskips<span class="hljs-comment">;</span>
      loop()<span class="hljs-comment">;</span>
    }, <span class="hljs-number">100</span>)<span class="hljs-comment">;</span>
  }

  function save() {
    document<span class="hljs-preprocessor">.getElementById</span>(<span class="hljs-string">"mySavedModel"</span>)<span class="hljs-preprocessor">.value</span> = myDiagram<span class="hljs-preprocessor">.model</span><span class="hljs-preprocessor">.toJson</span>()<span class="hljs-comment">;</span>
    myDiagram<span class="hljs-preprocessor">.isModified</span> = false<span class="hljs-comment">;</span>
  }
  function load() {
    myDiagram<span class="hljs-preprocessor">.model</span> = go<span class="hljs-preprocessor">.Model</span><span class="hljs-preprocessor">.fromJson</span>(document<span class="hljs-preprocessor">.getElementById</span>(<span class="hljs-string">"mySavedModel"</span>)<span class="hljs-preprocessor">.value</span>)<span class="hljs-comment">;</span>
  }
&lt;/script&gt;

&lt;/head&gt;
&lt;body onload=<span class="hljs-string">"init()"</span>&gt;
&lt;div id=<span class="hljs-string">"sample"</span>&gt;
  &lt;div id=<span class="hljs-string">"myDiagramDiv"</span> style=<span class="hljs-string">"border: solid 1px black; width:100%; height:500px"</span>&gt;&lt;/div&gt;
  &lt;p&gt;
    A &lt;em&gt;process flow diagram&lt;/em&gt; is commonly used <span class="hljs-keyword">in</span> chemical <span class="hljs-keyword">and</span> process engineering to indicate the general flow of plant processes <span class="hljs-keyword">and</span> equipment.
    A simple SCADA diagram, with animation of the flow along the pipes, is implemented here.
  &lt;/p&gt;
  &lt;p&gt;
    The diagram displays the background grid layer by setting &lt;b&gt;grid<span class="hljs-preprocessor">.visible</span>&lt;/b&gt; to true,
    <span class="hljs-keyword">and</span> also allows snapping to the grid using &lt;a&gt;DraggingTool<span class="hljs-preprocessor">.isGridSnapEnabled</span>&lt;/a&gt;,
    &lt;a&gt;ResizingTool<span class="hljs-preprocessor">.isGridSnapEnabled</span>&lt;/a&gt;, <span class="hljs-keyword">and</span> &lt;a&gt;RotatingTool<span class="hljs-preprocessor">.snapAngleMultiple</span>&lt;/a&gt; alongside &lt;a&gt;RotatingTool<span class="hljs-preprocessor">.snapAngleEpsilon</span>&lt;/a&gt;.
  &lt;/p&gt;
  &lt;p&gt;
    The diagram also uses the &lt;b&gt;loop&lt;/b&gt; function to animate the links by adjusting the &lt;a&gt;Shape<span class="hljs-preprocessor">.strokeDashOffset</span>&lt;/a&gt; every <span class="hljs-number">100</span> ms.
  &lt;/p&gt;
  &lt;div&gt;
    &lt;div&gt;
      &lt;button id=<span class="hljs-string">"SaveButton"</span> onclick=<span class="hljs-string">"save()"</span>&gt;Save&lt;/button&gt;
      &lt;button onclick=<span class="hljs-string">"load()"</span>&gt;Load&lt;/button&gt;
      Diagram Model saved <span class="hljs-keyword">in</span> JSON format:
    &lt;/div&gt;
    &lt;textarea id=<span class="hljs-string">"mySavedModel"</span> style=<span class="hljs-string">"width:100%;height:300px"</span>&gt;
{ <span class="hljs-string">"class"</span>: <span class="hljs-string">"go.GraphLinksModel"</span>,
  <span class="hljs-string">"nodeDataArray"</span>: [
{<!-- --><span class="hljs-string">"key"</span>:<span class="hljs-string">"P1"</span>, <span class="hljs-string">"category"</span>:<span class="hljs-string">"Process"</span>, <span class="hljs-string">"pos"</span>:<span class="hljs-string">"150 120"</span>, <span class="hljs-string">"text"</span>:<span class="hljs-string">"Process"</span>},
{<!-- --><span class="hljs-string">"key"</span>:<span class="hljs-string">"P2"</span>, <span class="hljs-string">"category"</span>:<span class="hljs-string">"Process"</span>, <span class="hljs-string">"pos"</span>:<span class="hljs-string">"330 320"</span>, <span class="hljs-string">"text"</span>:<span class="hljs-string">"Tank"</span>},
{<!-- --><span class="hljs-string">"key"</span>:<span class="hljs-string">"V1"</span>, <span class="hljs-string">"category"</span>:<span class="hljs-string">"Valve"</span>, <span class="hljs-string">"pos"</span>:<span class="hljs-string">"270 120"</span>, <span class="hljs-string">"text"</span>:<span class="hljs-string">"V1"</span>},
{<!-- --><span class="hljs-string">"key"</span>:<span class="hljs-string">"P3"</span>, <span class="hljs-string">"category"</span>:<span class="hljs-string">"Process"</span>, <span class="hljs-string">"pos"</span>:<span class="hljs-string">"150 420"</span>, <span class="hljs-string">"text"</span>:<span class="hljs-string">"Pump"</span>},
{<!-- --><span class="hljs-string">"key"</span>:<span class="hljs-string">"V2"</span>, <span class="hljs-string">"category"</span>:<span class="hljs-string">"Valve"</span>, <span class="hljs-string">"pos"</span>:<span class="hljs-string">"150 280"</span>, <span class="hljs-string">"text"</span>:<span class="hljs-string">"VM"</span>, <span class="hljs-string">"angle"</span>:<span class="hljs-number">270</span>},
{<!-- --><span class="hljs-string">"key"</span>:<span class="hljs-string">"V3"</span>, <span class="hljs-string">"category"</span>:<span class="hljs-string">"Valve"</span>, <span class="hljs-string">"pos"</span>:<span class="hljs-string">"270 420"</span>, <span class="hljs-string">"text"</span>:<span class="hljs-string">"V2"</span>, <span class="hljs-string">"angle"</span>:<span class="hljs-number">180</span>},
{<!-- --><span class="hljs-string">"key"</span>:<span class="hljs-string">"P4"</span>, <span class="hljs-string">"category"</span>:<span class="hljs-string">"Process"</span>, <span class="hljs-string">"pos"</span>:<span class="hljs-string">"450 140"</span>, <span class="hljs-string">"text"</span>:<span class="hljs-string">"Reserve Tank"</span>},
{<!-- --><span class="hljs-string">"key"</span>:<span class="hljs-string">"V4"</span>, <span class="hljs-string">"category"</span>:<span class="hljs-string">"Valve"</span>, <span class="hljs-string">"pos"</span>:<span class="hljs-string">"390 60"</span>, <span class="hljs-string">"text"</span>:<span class="hljs-string">"VA"</span>},
{<!-- --><span class="hljs-string">"key"</span>:<span class="hljs-string">"V5"</span>, <span class="hljs-string">"category"</span>:<span class="hljs-string">"Valve"</span>, <span class="hljs-string">"pos"</span>:<span class="hljs-string">"450 260"</span>, <span class="hljs-string">"text"</span>:<span class="hljs-string">"VB"</span>, <span class="hljs-string">"angle"</span>:<span class="hljs-number">90</span>}
 ],
  <span class="hljs-string">"linkDataArray"</span>: [
{<!-- --><span class="hljs-string">"from"</span>:<span class="hljs-string">"P1"</span>, <span class="hljs-string">"to"</span>:<span class="hljs-string">"V1"</span>},
{<!-- --><span class="hljs-string">"from"</span>:<span class="hljs-string">"P3"</span>, <span class="hljs-string">"to"</span>:<span class="hljs-string">"V2"</span>},
{<!-- --><span class="hljs-string">"from"</span>:<span class="hljs-string">"V2"</span>, <span class="hljs-string">"to"</span>:<span class="hljs-string">"P1"</span>},
{<!-- --><span class="hljs-string">"from"</span>:<span class="hljs-string">"P2"</span>, <span class="hljs-string">"to"</span>:<span class="hljs-string">"V3"</span>},
{<!-- --><span class="hljs-string">"from"</span>:<span class="hljs-string">"V3"</span>, <span class="hljs-string">"to"</span>:<span class="hljs-string">"P3"</span>},
{<!-- --><span class="hljs-string">"from"</span>:<span class="hljs-string">"V1"</span>, <span class="hljs-string">"to"</span>:<span class="hljs-string">"V4"</span>},
{<!-- --><span class="hljs-string">"from"</span>:<span class="hljs-string">"V4"</span>, <span class="hljs-string">"to"</span>:<span class="hljs-string">"P4"</span>},
{<!-- --><span class="hljs-string">"from"</span>:<span class="hljs-string">"V1"</span>, <span class="hljs-string">"to"</span>:<span class="hljs-string">"P2"</span>},
{<!-- --><span class="hljs-string">"from"</span>:<span class="hljs-string">"P4"</span>, <span class="hljs-string">"to"</span>:<span class="hljs-string">"V5"</span>},
{<!-- --><span class="hljs-string">"from"</span>:<span class="hljs-string">"V5"</span>, <span class="hljs-string">"to"</span>:<span class="hljs-string">"P2"</span>}
 ]}
    &lt;/textarea&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;

工业流程图</code></pre> 
<h3 id="三最后">三、最后</h3> 
<p>强烈建议看<a href="http://www.cnblogs.com/landeanfen/p/7910530.html" rel="nofollow noopener noreferrer" target="_blank">原文</a> <br> 因为我只是为了记代码。。。。。</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/279e2debf9f92eb0701859c48888382e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Gitchat</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/308e6fd48579662083afcf09b9c6311b/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">JDBC（1）四大对象 原理和操作步骤</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>