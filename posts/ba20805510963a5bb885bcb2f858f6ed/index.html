<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>.vue文件引入子组件报错 (vue3&#43;typescript&#43;@vue/cli5&#43;系列问题总结) - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content=".vue文件引入子组件报错 (vue3&#43;typescript&#43;@vue/cli5&#43;系列问题总结)" />
<meta property="og:description" content=" 项目技术栈： 脚手架：@vue/cli 5.0.4 vue：vue 3.2.13 typescript：4.5.5 sass：1.32.7 sass-loader：12.0.0 背景： .vue文件组件中引入子组件报错(并不是所有的子组件都报错。编译不报错，不影响项目运行) 问题详情： 1、父组件中引入两个子组件，只有一个报错 错误信息： 文件“/Users/wangweizhang/client-h5-v2/src/components-pc/home/HomeBackground.vue.ts”不是模块。ts(2306) File &#39;/Users/wangweizhang/client-h5-v2/src/components-pc/home/HomeBackground.vue&#39; is not a module.Vetur(2306) HomeIndex.vue 2、于是我怀疑是d.ts文件中对ts中引入.vue结尾的配置出现了错误，排查了/src/shims-vue.d.ts类型声明文件。 并没有发现任何问题，百思不得其解。去社区看看相关人员是否有遇到此类情况，也没有查到。 3、产生了其他的思考： 那为什么只在个别组件引入的情况会报错呢？是否与子组件中编写的代码有关系呢？ 静下心来观察报错子组件中的代码，和报的错误信息。 HomeBackground.vue文件 HomeIndex.vue错误信息 为什么我引入的明明是.vue文件，报错信息是xxx.vue.ts不是模块呢？为什么下面的HomeContent.vue组件就能够正常引入不报错误呢？ 哎呀妈呀！观察发现HomeBackground.vue组件中，创建了一个空的script标签，并且告诉vuecli要是用ts语法解析和校验，那我此时 想，一定就是这个空带有ts声明的script标签的问题了。于是我带着足够的好奇心。 删除了script标签，错误真的消失了。 4、那么如果我的组件是有逻辑、有状态的组件呢，应该怎么解决这个问题呢？ 回答是：正常引入该有的api，至少实例化组件，并将其导出，这个问题则不复存在。 总结 对于这次报错，我的总结是： 如果被引入的组件是无逻辑的单文件组件(静态组件)不需要加上使用ts声明的script标签，直接编写静态模版和style就好如果需要写入逻辑，那么就应该初始化一个基础的组件，引入基础的api，并且导出一个vue实例 结尾 截止目前(2022-5-12)，typescript和vue3&#43;@vue/cli5.0.4是我在项目中的第一次体验。在这个过程中一定会遇到特别多对于初次体验 这套技术栈的问题，本人会一一记录下来，当作学习笔记。 如果这系列文章能够帮助到您，请关注，以免丢失链接。 " />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/ba20805510963a5bb885bcb2f858f6ed/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-05-15T18:17:00+08:00" />
<meta property="article:modified_time" content="2022-05-15T18:17:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">.vue文件引入子组件报错 (vue3&#43;typescript&#43;@vue/cli5&#43;系列问题总结)</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div id="cnblogs_post_body" class="blogpost-body blogpost-body-html" style="font-size: 16px;"> 
 <div id="pB2Q-1652609484467">
   项目技术栈： 
 </div> 
 <div>
   脚手架：@vue/cli 5.0.4 vue：vue 3.2.13 typescript：4.5.5 sass：1.32.7 sass-loader：12.0.0 
 </div> 
 <div id="Jnbt-1652609484480">
   背景： 
 </div> 
 <div>
   .vue文件组件中引入子组件报错(并不是所有的子组件都报错。编译不报错，不影响项目运行) 
 </div> 
 <div id="qAxd-1652609484486">
   问题详情： 
 </div> 
 <div id="FkrQ-1652609484488">
   1、父组件中引入两个子组件，只有一个报错 
 </div> 
 <div>
   错误信息： 
 </div> 
 <div> 
  <div>
    文件“/Users/wangweizhang/client-h5-v2/src/components-pc/home/HomeBackground.vue.ts”不是模块。ts(2306) 
  </div> 
 </div> 
 <div> 
  <div>
    File '/Users/wangweizhang/client-h5-v2/src/components-pc/home/HomeBackground.vue' is not a module.Vetur(2306) 
  </div> 
 </div> 
 <div>
   HomeIndex.vue 
 </div> 
 <div style="text-align: center;"> 
  <img src="https://images2.imgbox.com/0d/b2/6igjRBAZ_o.png" alt="0" width="794" height="358" style="outline: none;"> 
 </div> 
 <div id="L7ib-1652609484503">
   2、于是我怀疑是d.ts文件中对ts中引入.vue结尾的配置出现了错误，排查了/src/shims-vue.d.ts类型声明文件。 
 </div> 
 <div style="text-align: center;"> 
  <img src="https://images2.imgbox.com/8a/7e/ZcM1mTFe_o.png" alt="0" style="outline: none;"> 
 </div> 
 <div>
   并没有发现任何问题，百思不得其解。去社区看看相关人员是否有遇到此类情况，也没有查到。 
 </div> 
 <div id="B4X1-1652609484510">
   3、产生了其他的思考： 
 </div> 
 <div> 
  <ul><li>那为什么只在个别组件引入的情况会报错呢？</li><li>是否与子组件中编写的代码有关系呢？</li></ul> 
 </div> 
 <div>
   静下心来观察报错子组件中的代码，和报的错误信息。 
 </div> 
 <div>
   HomeBackground.vue文件 
 </div> 
 <div style="text-align: center;"> 
  <img src="https://images2.imgbox.com/89/56/NOYEKKTc_o.png" alt="0" style="outline: none;"> 
 </div> 
 <div>
   HomeIndex.vue错误信息 
 </div> 
 <div style="text-align: center;"> 
  <img src="https://images2.imgbox.com/be/f7/AyzbDnst_o.png" alt="0" width="781" height="78" style="outline: none;"> 
 </div> 
 <div> 
  <ul><li>为什么我引入的明明是.vue文件，报错信息是xxx.vue.ts不是模块呢？</li><li>为什么下面的HomeContent.vue组件就能够正常引入不报错误呢？</li></ul> 
 </div> 
 <div>
   哎呀妈呀！观察发现HomeBackground.vue组件中，创建了一个空的script标签，并且告诉vuecli要是用ts语法解析和校验，那我此时 
 </div> 
 <div>
   想，一定就是这个空带有ts声明的script标签的问题了。于是我带着足够的好奇心。 
 </div> 
 <div>
   删除了script标签，错误真的消失了。 
 </div> 
 <div style="text-align: center;"> 
  <img src="https://images2.imgbox.com/9b/b9/o3L5LAAf_o.png" alt="0" width="776" height="312" style="outline: none;"> 
 </div> 
 <div id="9ndA-1652609484538">
   4、那么如果我的组件是有逻辑、有状态的组件呢，应该怎么解决这个问题呢？ 
 </div> 
 <div>
   回答是：正常引入该有的api，至少实例化组件，并将其导出，这个问题则不复存在。 
 </div> 
 <div style="text-align: center;"> 
  <img src="https://images2.imgbox.com/5e/9f/4YdscsLN_o.png" alt="0" width="777" height="303" style="outline: none;"> 
 </div> 
 <div id="RwSZ-1652609484545">
   总结 
 </div> 
 <div>
   对于这次报错，我的总结是： 
 </div> 
 <div> 
  <ul><li>如果被引入的组件是无逻辑的单文件组件(静态组件)不需要加上使用ts声明的script标签，直接编写静态模版和style就好</li><li>如果需要写入逻辑，那么就应该初始化一个基础的组件，引入基础的api，并且导出一个vue实例</li></ul> 
 </div> 
 <div id="iwE7-1652609484555">
   结尾 
 </div> 
 <div>
   截止目前(2022-5-12)，typescript和vue3+@vue/cli5.0.4是我在项目中的第一次体验。在这个过程中一定会遇到特别多对于初次体验 
 </div> 
 <div>
   这套技术栈的问题，本人会一一记录下来，当作学习笔记。 
 </div> 
 <div>
   如果这系列文章能够帮助到您，请关注，以免丢失链接。 
 </div> 
</div>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/87e5fd9002ec9f34995bd3f5e2dbbb48/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">office2021官方正版镜像</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/87f64f5eb2dd38b42b9ea5d8928ce602/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">（未解决）main.ts中引入scss报错 (vue3&#43;typescript&#43;@vue/cli5&#43;系列问题总结)</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>