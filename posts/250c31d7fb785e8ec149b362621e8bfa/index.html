<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>webpack及babel配置 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="webpack及babel配置" />
<meta property="og:description" content="请先确认自己的电脑已经安装了 node 和 npm，没有安装的请先安装，以下操作需在安装了这两个的基础上操作
webpack配置 1. 创建一个空文件夹 2. 创建 package.json 文件- - -npm init。 使用编辑器打开该文件夹，此处我使用的编辑器为 vscode，再命令行输入命令‘npm init’，会出现一些选项，可以都直接回车，默认设置，全部回车完成后，会生成一个 “package.json” 文件。如下：
如果要更改信息可以直接在改文件中修改
如果希望 “package.json” 文件全部是默认设置，跳过提问信息，可以直接执行命令 ‘npm init -y’
eg:
3. 安装 webpack 相关 3个包：webpack、webpack-cli、webpack-dev-server 执行命令 “npm i webpack webpack-cli webpack-dev-server --save-dev”（这是项目安装，不是全局安装）
安装 webpack 有全局安装 和 项目安装 两种，
建议项目安装，因为可能有好几个项目，使用的 webpack包版本不同，
全局安装的话只有一个版本，不便开发，全局开发是 “npm i webpack -g” 这种 带 “-g” 的
项目安装就是每一个项目独立的 webpack包，方便
使用 npm 安装webpack、webpack-cli、webpack-dev-server 这3个包
i 是 install 的简写
–save-dev 的意思是将安装包记录到 package.json 文件中，开发环境下需安装（有开发环境和生产环境，开发环境是指本地开发时的环境，生产环境是指放到线上运行时的环境）" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/250c31d7fb785e8ec149b362621e8bfa/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-11-17T10:10:16+08:00" />
<meta property="article:modified_time" content="2021-11-17T10:10:16+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">webpack及babel配置</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>请先确认自己的电脑已经安装了 node 和 npm，没有安装的请先安装，以下操作需在安装了这两个的基础上操作</p> 
<h3><a id="webpack_2"></a>webpack配置</h3> 
<h4><a id="1__3"></a>1. 创建一个空文件夹</h4> 
<h4><a id="2__packagejson___npm_init_4"></a>2. 创建 package.json 文件- - -npm init。</h4> 
<p>使用编辑器打开该文件夹，此处我使用的编辑器为 vscode，再命令行输入命令‘npm init’，会出现一些选项，可以都直接回车，默认设置，全部回车完成后，会生成一个 “package.json” 文件。如下：</p> 
<p><img src="https://images2.imgbox.com/a6/b5/YSj46JNT_o.png" alt="image.png"></p> 
<p>如果要更改信息可以直接在改文件中修改<br> 如果希望 “package.json” 文件全部是默认设置，跳过提问信息，可以直接执行命令 ‘npm init -y’<br> eg:</p> 
<p><img src="https://images2.imgbox.com/ce/5c/7EkUzTCr_o.png" alt="image.png"></p> 
<h4><a id="3__webpack__3webpackwebpackcliwebpackdevserver_15"></a>3. 安装 webpack 相关 3个包：webpack、webpack-cli、webpack-dev-server</h4> 
<p>执行命令 “npm i webpack webpack-cli webpack-dev-server --save-dev”（这是项目安装，不是全局安装）<br> 安装 webpack 有全局安装 和 项目安装 两种，<br> 建议项目安装，因为可能有好几个项目，使用的 webpack包版本不同，<br> 全局安装的话只有一个版本，不便开发，全局开发是 “npm i webpack -g” 这种 带 “-g” 的<br> 项目安装就是每一个项目独立的 webpack包，方便<br> 使用 npm 安装webpack、webpack-cli、webpack-dev-server 这3个包<br> i 是 install 的简写<br> –save-dev 的意思是将安装包记录到 package.json 文件中，开发环境下需安装（有开发环境和生产环境，开发环境是指本地开发时的环境，生产环境是指放到线上运行时的环境）<br> 执行该命令后，<br> ① 会将安装这几个包记录到package.json 文件中<br> ② 并生成一个 “package-lock.json” 文件- - - 记录了安装包的具体版本号和包的一些依赖包信息<br> ③ 还会多出 “node_modules” 文件夹- - -通过 npm 安装的依赖包都在该文件夹下：</p> 
<p><img src="https://images2.imgbox.com/0b/80/cCpsXvtt_o.png" alt="image.png"></p> 
<h4><a id="4__js_31"></a>4. 创建入口 js文件</h4> 
<p>创建一个文件夹 命名为 “src”，该文件夹下新建一个文件 “index.js”，</p> 
<h4><a id="5__webpackconfigjs__34"></a>5. 根目录下创建 “webpack.config.js” 配置文件</h4> 
<p>创建文件“webpack.config.js” 后（注意:文件名固定这么写，不要写错了），文件添加一下配置：</p> 
<pre><code class="prism language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
  mode<span class="token operator">:</span> <span class="token string">'development'</span><span class="token punctuation">,</span> <span class="token comment">// 注明生产环境下</span>
  entry<span class="token operator">:</span> <span class="token string">'./src/index.js'</span> <span class="token comment">// 指定入口文件</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>可以到 webpack 官网上查看 webpack 的具体介绍和使用说明等<br> webpack中文文档：https://webpack.docschina.org/concepts/</p> 
<h4><a id="6__webpack__44"></a>6. 使用 webpack 进行打包</h4> 
<p>执行命令 “npx webpack”</p> 
<p>npx- - -在当前项目下执行执行命令 webpack，<br> 直接写命令 “webpack” 的话会报错，因为不是全局安装的 webpack，项目下安装的 webpack 要加上 “npx”<br> 会生成一个新的文件夹 “dist”，下面有一个文件 “main.js”- - -由 src 文件夹下的 “index.js” 打包生成的</p> 
<p><img src="https://images2.imgbox.com/a4/fa/ZRf1tJyD_o.png" alt="image.png"></p> 
<p>如果想要修改生成的文件名，可以在 “ webpack.config.js” 文件中添加配置- - -output：</p> 
<p><img src="https://images2.imgbox.com/e7/73/boBSRYKt_o.png" alt="image.png"></p> 
<p>没有设置 output (出口)，就会默认生成 main.js</p> 
<h4><a id="7_htmlwebpackplugin_html_58"></a>7. 安装插件"html-webpack-plugin"，处理 html文件</h4> 
<p>“npm i html-webpack-plugin -D”</p> 
<p>前面的都是处理 js文件的，不能处理其他格式文件，但是项目中不止有 js文件，还有 html文件，“html-webpack-plugin” 插件就是用来打包 html文件的<br> “-D” 是 “–save-dev” 的简写<br> 插件的安装和使用方法可以到 npm官网上进行详细查看：https://www.npmjs.com/</p> 
<p><img src="https://images2.imgbox.com/a8/d3/fvXH0j5T_o.png" alt="image.png"></p> 
<p>安装完成后在 “webpack.config.js” 引入使用：</p> 
<p><img src="https://images2.imgbox.com/7e/75/0DRXm6y2_o.png" alt="image.png"></p> 
<p>配置完成后，重新打包- - - “npx webpack”,或生成一个 “index.html” 文件，并自动将 js文件 加载到了 html文件中：</p> 
<p><img src="https://images2.imgbox.com/ed/b6/n5JF3SV0_o.png" alt="image.png"></p> 
<h4><a id="8__75"></a>8. 模板配置</h4> 
<p>如果想要根据自己创建的 html模板来生成打包后的 html文件，可以添加 模板 并配置如下：</p> 
<p><img src="https://images2.imgbox.com/29/ad/gN6HXPqD_o.png" alt="image.png"></p> 
<p>“template” 后面配置的模板路径<br> 添加模板和完后配置后，重新执行 “npx webpack” - - -进行打包，<br> 会生成根据模板形成的 html 文件：</p> 
<p><img src="https://images2.imgbox.com/f2/25/yYnrNBk6_o.png" alt="image.png"></p> 
<h4><a id="9__copywebpackplugin_86"></a>9. 如果有希望不要被打包的文件，安装插件 “copy-webpack-plugin”</h4> 
<p>“npm i copy-webpack-plugin -D”</p> 
<p>创建一个不希望被打包的文件夹 “static”，下面新建一个文件 “s.js”<br> “copy-webpack-plugin” 安装完后后，引入并添加配置：</p> 
<p><img src="https://images2.imgbox.com/f2/d5/qEBlvGln_o.png" alt="image.png"></p> 
<p>配置完后，重新执行 “npx webpack” 就会生成对应没有打包的的文件夹和文件如上图，文件不会被打包吗，跟源文件一样</p> 
<h4><a id="webpackconfigjs_96"></a>webpack.config.js示例</h4> 
<pre><code class="prism language-js"><span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'html-webpack-plugin'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> CopyPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'copy-webpack-plugin'</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
  mode<span class="token operator">:</span> <span class="token string">'development'</span><span class="token punctuation">,</span>
  entry<span class="token operator">:</span> <span class="token string">'./src/index.js'</span><span class="token punctuation">,</span>
  output<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    filename<span class="token operator">:</span> <span class="token string">'index.js'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
      template<span class="token operator">:</span> <span class="token string">'./src/index.html'</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{<!-- --></span> <span class="token keyword">from</span><span class="token operator">:</span> <span class="token string">"static"</span><span class="token punctuation">,</span> to<span class="token operator">:</span> <span class="token string">"staticTest"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="webpack_120"></a>webpack配置优化</h3> 
<h4><a id="1__121"></a>1. 拆分配置文件</h4> 
<p>根目录下创建文件夹 “build”，文件夹下添加：“webpack.base.config.js”、“webpack.dev.config.js”、“webpack.pro.config.js”、“webpack.config.js” 4个文件</p> 
<p>“webpack.base.config.js”- - -基础配置，不管是开发环境还是生产环境，都需要进行的配置</p> 
<p>“webpack.dev.config.js”- - -开发环境下需要进行的配置</p> 
<p>“webpack.pro.config.js”- - -生产环境下需要进行的配置</p> 
<p>“webpack.config.js”- - -总的，最后要使用的的配置文件</p> 
<h4><a id="2__133"></a>2. 配置文件添加配置代码</h4> 
<h5><a id="_webpackbaseconfigjs__134"></a>① “webpack.base.config.js” 配置：</h5> 
<p>将原来根目录下的 “webpack.config.js” 里面内容复制到 “webpack.base.config.js” 中，里面的 “mode: “development”” 删掉，原来根目录下的 “webpack.config.js” 也可以删掉，或者改个名字。如下：</p> 
<pre><code class="prism language-js"><span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'html-webpack-plugin'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> CopyPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'copy-webpack-plugin'</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
  entry<span class="token operator">:</span> <span class="token string">'./src/index.js'</span><span class="token punctuation">,</span>
  output<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    filename<span class="token operator">:</span> <span class="token string">'index.js'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
      template<span class="token operator">:</span> <span class="token string">'./src/index.html'</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{<!-- --></span> <span class="token keyword">from</span><span class="token operator">:</span> <span class="token string">"static"</span><span class="token punctuation">,</span> to<span class="token operator">:</span> <span class="token string">"staticTest"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> 
<h5><a id="_webpackdevconfigjs__160"></a>② “webpack.dev.config.js” 配置：</h5> 
<pre><code class="prism language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
  devtool<span class="token operator">:</span> <span class="token string">'eval-cheap-module-source-map'</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>以cheap模式进行 source-map 开发，提高效率</p> 
<h5><a id="_webpackproconfigjs__168"></a>③ “webpack.pro.config.js” 配置：</h5> 
<p>生产环境打包时，先要将之前的打包文件删除，然后重新打包，安装插件就可以不用每次手动删除。</p> 
<p>先安装插件“clean-webpack-plugin”- - -执行命令“npm i clean-webpack-plugin -D”，然后添加配置：</p> 
<pre><code class="prism language-js"><span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span> CleanWebpackPlugin <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'clean-webpack-plugin'</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CleanWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> 
<h5><a id="_webpackconfigjs__182"></a>④ “webpack.config.js” 配置：</h5> 
<p>先安装 “webpack-merge” 包- - -执行命令“npm i webpack-merge -D”<br> 安装完成后添加配置如下：</p> 
<pre><code class="prism language-js"><span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span> merge <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack-merge'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> baseConfig <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./webpack.base.config'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> devConfig <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./webpack.dev.config'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> proConfig <span class="token operator">=</span>  <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./webpack.pro.config'</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">env<span class="token punctuation">,</span> argv</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">const</span> config <span class="token operator">=</span> argv<span class="token punctuation">.</span>mode <span class="token operator">===</span> <span class="token string">'development'</span> <span class="token operator">?</span> devConfig <span class="token operator">:</span> proConfig  <span class="token comment">// 根据开发环境还是生产环境选择不同配置</span>
  <span class="token keyword">return</span> <span class="token function">merge</span><span class="token punctuation">(</span>baseConfig<span class="token punctuation">,</span> config<span class="token punctuation">)</span>  <span class="token comment">// 合并配置</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="3_packagejson__197"></a>3. package.json 文件添加启动命令</h4> 
<p>之前的 “package.json” 文件：</p> 
<pre><code class="prism language-json"><span class="token punctuation">{<!-- --></span>
  <span class="token string">"name"</span><span class="token operator">:</span> <span class="token string">"webpacktest"</span><span class="token punctuation">,</span>
  <span class="token string">"version"</span><span class="token operator">:</span> <span class="token string">"1.0.0"</span><span class="token punctuation">,</span>
  <span class="token string">"description"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
  <span class="token string">"main"</span><span class="token operator">:</span> <span class="token string">"index.js"</span><span class="token punctuation">,</span>
  <span class="token string">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token string">"test"</span><span class="token operator">:</span> <span class="token string">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">"author"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
  <span class="token string">"license"</span><span class="token operator">:</span> <span class="token string">"ISC"</span><span class="token punctuation">,</span>
  <span class="token string">"devDependencies"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token string">"clean-webpack-plugin"</span><span class="token operator">:</span> <span class="token string">"^4.0.0"</span><span class="token punctuation">,</span>
    <span class="token string">"copy-webpack-plugin"</span><span class="token operator">:</span> <span class="token string">"^9.1.0"</span><span class="token punctuation">,</span>
    <span class="token string">"html-webpack-plugin"</span><span class="token operator">:</span> <span class="token string">"^5.5.0"</span><span class="token punctuation">,</span>
    <span class="token string">"webpack"</span><span class="token operator">:</span> <span class="token string">"^5.64.1"</span><span class="token punctuation">,</span>
    <span class="token string">"webpack-cli"</span><span class="token operator">:</span> <span class="token string">"^4.9.1"</span><span class="token punctuation">,</span>
    <span class="token string">"webpack-dev-server"</span><span class="token operator">:</span> <span class="token string">"^4.5.0"</span><span class="token punctuation">,</span>
    <span class="token string">"webpack-merge"</span><span class="token operator">:</span> <span class="token string">"^5.8.0"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>在 ““scripts”” 下添加命令：</p> 
<pre><code class="prism language-json"><span class="token string">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token string">"start"</span><span class="token operator">:</span> <span class="token string">"webpack-dev-server --mode=development --config ./build/webpack.config.js"</span><span class="token punctuation">,</span>
    <span class="token string">"build"</span><span class="token operator">:</span> <span class="token string">"webpack --mode=production --config ./build/webpack.config.js"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> 
<p>即：</p> 
<pre><code class="prism language-json"><span class="token punctuation">{<!-- --></span>
  <span class="token string">"name"</span><span class="token operator">:</span> <span class="token string">"webpacktest"</span><span class="token punctuation">,</span>
  <span class="token string">"version"</span><span class="token operator">:</span> <span class="token string">"1.0.0"</span><span class="token punctuation">,</span>
  <span class="token string">"description"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
  <span class="token string">"main"</span><span class="token operator">:</span> <span class="token string">"index.js"</span><span class="token punctuation">,</span>
  <span class="token string">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token string">"start"</span><span class="token operator">:</span> <span class="token string">"webpack-dev-server --mode=development --config ./build/webpack.config.js"</span><span class="token punctuation">,</span>
    <span class="token string">"build"</span><span class="token operator">:</span> <span class="token string">"webpack --mode=production --config ./build/webpack.config.js"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">"author"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
  <span class="token string">"license"</span><span class="token operator">:</span> <span class="token string">"ISC"</span><span class="token punctuation">,</span>
  <span class="token string">"devDependencies"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token string">"clean-webpack-plugin"</span><span class="token operator">:</span> <span class="token string">"^4.0.0"</span><span class="token punctuation">,</span>
    <span class="token string">"copy-webpack-plugin"</span><span class="token operator">:</span> <span class="token string">"^9.1.0"</span><span class="token punctuation">,</span>
    <span class="token string">"html-webpack-plugin"</span><span class="token operator">:</span> <span class="token string">"^5.5.0"</span><span class="token punctuation">,</span>
    <span class="token string">"webpack"</span><span class="token operator">:</span> <span class="token string">"^5.64.1"</span><span class="token punctuation">,</span>
    <span class="token string">"webpack-cli"</span><span class="token operator">:</span> <span class="token string">"^4.9.1"</span><span class="token punctuation">,</span>
    <span class="token string">"webpack-dev-server"</span><span class="token operator">:</span> <span class="token string">"^4.5.0"</span><span class="token punctuation">,</span>
    <span class="token string">"webpack-merge"</span><span class="token operator">:</span> <span class="token string">"^5.8.0"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>在 “package.json” 中添加启动命令后，<br> 运行开发环境- - - 执行命令“npm run start”，<br> 开启服务，“run start” 表示执行上面 “scripts” 中定义的 “start” 后面的命令<br> webpack-dev-server 是开启开发环境下的服务器<br> –mode=development 将参数 mode 的值设置为 “development” ，“webpack.config.js”文件中得 argv.mode 会接收该mode的值</p> 
<p>执行“npm run start”将项目跑起来后，可以复制访问地址进行查看：</p> 
<p><img src="https://images2.imgbox.com/f0/88/YOjTlzqX_o.png" alt="image.png"></p> 
<p>开发环境下被打包编译后的文件：</p> 
<p><img src="https://images2.imgbox.com/01/e4/BVbWLRkL_o.png" alt="image.png"></p> 
<p>页面：</p> 
<p><img src="https://images2.imgbox.com/3f/f9/fIA5QT0I_o.png" alt="image.png"></p> 
<p>终止服务- - -“Ctrl + c”, 然后 “y” ，然后回车</p> 
<p>执行命令 “npm run build”- - - 生产环境，打包编译文件：</p> 
<p><img src="https://images2.imgbox.com/ce/61/tVonQCVQ_o.png" alt="image.png"></p> 
<p>打包后的html文件里的代码会成一行显示，减小文件大小</p> 
<h3><a id="babel_281"></a>babel配置</h3> 
<p>浏览器识别不了 ES5 以上的语法，ES2015-2010(ES6-ES11) 的识别不了</p> 
<p>安装 babel 可以将 ES6-ES11 的语法转换成浏览器可以识别的 es5 语法</p> 
<p>命令行输入 “npm install -D babel-loader @babel/core @babel/preset-env” 进行 babel相关包安装</p> 
<p>然后在 “webpack.base.config.js” 中添加 babel 相关配置：</p> 
<pre><code class="prism language-js">module<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{<!-- --></span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        exclude<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
          loader<span class="token operator">:</span> <span class="token string">'babel-loader'</span><span class="token punctuation">,</span>
          options<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
            presets<span class="token operator">:</span> <span class="token punctuation">[</span>
              <span class="token punctuation">[</span><span class="token string">'@babel/preset-env'</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> <span class="token string">"useBuiltIns"</span><span class="token operator">:</span> <span class="token string">"entry"</span> <span class="token punctuation">}</span><span class="token punctuation">]</span>
            <span class="token punctuation">]</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
</code></pre> 
<p>配置后 “webpack.base.config.js” 文件：</p> 
<pre><code class="prism language-js"><span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'html-webpack-plugin'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> CopyPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'copy-webpack-plugin'</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
  entry<span class="token operator">:</span> <span class="token string">'./src/index.js'</span><span class="token punctuation">,</span>
  output<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    filename<span class="token operator">:</span> <span class="token string">'index.js'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
      template<span class="token operator">:</span> <span class="token string">'./src/index.html'</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{<!-- --></span> <span class="token keyword">from</span><span class="token operator">:</span> <span class="token string">"static"</span><span class="token punctuation">,</span> to<span class="token operator">:</span> <span class="token string">"staticTest"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{<!-- --></span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        exclude<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
          loader<span class="token operator">:</span> <span class="token string">'babel-loader'</span><span class="token punctuation">,</span>
          options<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
            presets<span class="token operator">:</span> <span class="token punctuation">[</span>
              <span class="token punctuation">[</span><span class="token string">'@babel/preset-env'</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> <span class="token string">"useBuiltIns"</span><span class="token operator">:</span> <span class="token string">"entry"</span> <span class="token punctuation">}</span><span class="token punctuation">]</span>
            <span class="token punctuation">]</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>没有进行 babel 相关配置前：<br> 浏览器中 js 文件：</p> 
<p><img src="https://images2.imgbox.com/92/0e/9DvXGK3g_o.png" alt="image.png"></p> 
<p>进行了 babel 配置后，浏览器中 js 文件：</p> 
<p><img src="https://images2.imgbox.com/cc/a0/Szte607j_o.png" alt="image.png"></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/1c733267b4ce0ae3d1fd0da5f0fb532c/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">ARM 内存管理翻译笔记</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a6253fac74a014206c298f05558a2f02/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">C# Task和异步方法</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>