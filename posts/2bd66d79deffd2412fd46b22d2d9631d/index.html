<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>vscode连接远程服务器 &#43; Tensorflow2环境配置 &#43; 深度学习训练 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="vscode连接远程服务器 &#43; Tensorflow2环境配置 &#43; 深度学习训练" />
<meta property="og:description" content="参考：vscode连接远程服务器（傻瓜式教学）
配置服务器pytorch/TensorFlow环境&#43;远程连接vscode
在远程服务器安装anoconda并创建tensorflow-gpu环境并运行jupyter
【vscode连接远程服务器】 step 1：测试服务器连接
win&#43;R 进入 cmd，在命令行输入以下命令，并根据提示输入密码
ssh username@severIP # 用户名@服务器IP地址 step 2：安装 ssh 插件
打开 vscode，在左侧菜单栏的 Extensions 中搜索 remote - SSH 插件，点击 Install 安装
安装完成后，在左侧的菜单栏里会新增加一个 Remote Explorer
step 3：添加服务器连接
点击“&#43;”添加新的服务器连接，在提示框输入 ssh username@severIP， 回车，将其保存至配置文件 C:\Users\xxx\.ssh\config 中（若已有多个服务器，再次添加新的后，记得在 REMOTE 右边刷新一下）
step 4：连接服务器
右键想要连接的远程服务器，点击“Connect in Current Window...”，并根据提示输入密码
左下角显示连接成功
step 4：查看服务器文件
在左侧菜单栏的 Explorer 中点击 username [SSH: ip] 查看远程服务器目录下的文件
【Tensorflow2环境配置】 step 5：Anaconda 环境
连接成功后，在终端 TERMINAL 的右上角点击‘&#43;’打开一个新的终端
我拿到的服务器已经安装过了 minianaconda（教程可参考置顶的链接）
配置 conda 镜像源（参考：conda安装Tensorflow和pytorch经验）
conda config --set show_channel_urls yes conda config --add channels https://mirrors." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/2bd66d79deffd2412fd46b22d2d9631d/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-03-29T15:34:48+08:00" />
<meta property="article:modified_time" content="2023-03-29T15:34:48+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">vscode连接远程服务器 &#43; Tensorflow2环境配置 &#43; 深度学习训练</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div class="kdocs-document"> 
 <p style="text-align:left;">参考：<a class="kdocs-link" style="color:#0A6CFF;" href="https://blog.csdn.net/zhaxun/article/details/120568402" target="_blank" rel="noopener noreferrer">vscode连接远程服务器（傻瓜式教学）</a></p> 
 <p style="text-align:left;"><a class="kdocs-link" style="color:#0A6CFF;" href="https://blog.csdn.net/hcmdcyl/article/details/126789229?spm=1001.2014.3001.5506" target="_blank" rel="noopener noreferrer">配置服务器pytorch/TensorFlow环境+远程连接vscode</a></p> 
 <p style="text-align:left;"><a class="kdocs-link" style="color:#0A6CFF;" href="https://blog.csdn.net/qq_45737800/article/details/126242180?spm=1001.2014.3001.5506" target="_blank" rel="noopener noreferrer">在远程服务器安装anoconda并创建tensorflow-gpu环境并运行jupyter</a></p> 
 <p style="text-align:left;"></p> 
 <h4 style="text-align:left;">【vscode连接远程服务器】</h4> 
 <p style="text-align:left;"><span class="kdocs-fontSize" style="font-size:13pt;"><span class="kdocs-bold" style="font-weight:bold;">step 1：测试服务器连接</span></span></p> 
 <p style="text-align:left;">win+R 进入 cmd，在命令行输入以下命令，并根据提示输入密码</p> 
 <pre class="kdocs-plaintext"><code class="language-plaintext">ssh username@severIP  # 用户名@服务器IP地址</code></pre> 
 <p style="text-align:left;"></p> 
 <p style="text-align:left;"><span class="kdocs-fontSize" style="font-size:13pt;"><span class="kdocs-bold" style="font-weight:bold;">step 2：安装 ssh 插件</span></span></p> 
 <p style="text-align:left;">打开 vscode，在左侧菜单栏的 <span class="kdocs-color" style="background-color:#FBF5B3;"><span class="kdocs-bold" style="font-weight:bold;">Extensions</span></span> 中搜索 <span class="kdocs-color" style="background-color:#FBF5B3;"><span class="kdocs-bold" style="font-weight:bold;">remote - SSH</span></span> 插件，点击 Install 安装</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1796px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:34.465477%;height:0;"> 
    <img src="https://images2.imgbox.com/d0/de/g26uOMAh_o.png" style="margin-left:;display:block;width:1796px;margin-top:-34.465477%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">安装完成后，在左侧的菜单栏里会新增加一个 <span class="kdocs-color" style="background-color:#FBF5B3;"><span class="kdocs-bold" style="font-weight:bold;">Remote Explorer</span></span></p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1650px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:27.818182%;height:0;"> 
    <img src="https://images2.imgbox.com/4b/78/flI1bSGR_o.png" style="margin-left:;display:block;width:1650px;margin-top:-27.818182%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;"></p> 
 <p style="text-align:left;"><span class="kdocs-fontSize" style="font-size:13pt;"><span class="kdocs-bold" style="font-weight:bold;">step 3：添加服务器连接</span></span></p> 
 <p style="text-align:left;">点击“+”添加新的服务器连接，在提示框输入 <span class="kdocs-color" style="background-color:#FBF5B3;"><span class="kdocs-bold" style="font-weight:bold;">ssh username@severIP</span></span>， 回车，将其保存至<span class="kdocs-color" style="background-color:#FBF5B3;"><span class="kdocs-bold" style="font-weight:bold;">配置文件</span></span> <span class="kdocs-bold" style="font-weight:bold;"> </span><span class="kdocs-color" style="background-color:#FBF5B3;"><span class="kdocs-bold" style="font-weight:bold;">C:\Users\xxx\.ssh\config</span></span><span class="kdocs-bold" style="font-weight:bold;"> </span>中（若已有多个服务器，再次添加新的后，记得在 REMOTE 右边刷新一下）</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1649px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:26.50091%;height:0;"> 
    <img src="https://images2.imgbox.com/d8/57/YRizleZ4_o.png" style="margin-left:;display:block;width:1649px;margin-top:-26.50091%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;"></p> 
 <p style="text-align:left;"><span class="kdocs-fontSize" style="font-size:13pt;"><span class="kdocs-bold" style="font-weight:bold;">step 4：连接服务器</span></span></p> 
 <p style="text-align:left;">右键想要连接的远程服务器，点击“<span class="kdocs-color" style="background-color:#FBF5B3;"><span class="kdocs-bold" style="font-weight:bold;">Connect in Current Window...</span></span>”，并根据提示<span class="kdocs-color" style="background-color:#FBF5B3;"><span class="kdocs-bold" style="font-weight:bold;">输入密码</span></span></p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1622px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:25.585697%;height:0;"> 
    <img src="https://images2.imgbox.com/46/59/z5sJuE9c_o.png" style="margin-left:;display:block;width:1622px;margin-top:-25.585697%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;"><span class="kdocs-color" style="background-color:#FBF5B3;">左下角</span>显示连接成功</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1165px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:15.53648%;height:0;"> 
    <img src="https://images2.imgbox.com/ff/f3/jm4btfED_o.png" style="margin-left:;display:block;width:1165px;margin-top:-15.53648%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;"></p> 
 <p style="text-align:left;"><span class="kdocs-fontSize" style="font-size:13pt;"><span class="kdocs-bold" style="font-weight:bold;">step 4：查看服务器文件</span></span></p> 
 <p style="text-align:left;">在左侧菜单栏的 <span class="kdocs-color" style="background-color:#FBF5B3;"><span class="kdocs-bold" style="font-weight:bold;">Explorer</span></span> 中点击 <span class="kdocs-color" style="background-color:#FBF5B3;"><span class="kdocs-bold" style="font-weight:bold;">username [SSH: ip]</span></span> 查看远程服务器目录下的文件</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1557px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:40.141296%;height:0;"> 
    <img src="https://images2.imgbox.com/e6/de/4aVT5pdv_o.png" style="margin-left:;display:block;width:1557px;margin-top:-40.141296%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;"></p> 
 <h4 style="text-align:left;">【Tensorflow2环境配置】</h4> 
 <p style="text-align:left;"><span class="kdocs-fontSize" style="font-size:13pt;"><span class="kdocs-bold" style="font-weight:bold;">step 5：Anaconda 环境</span></span></p> 
 <p style="text-align:left;">连接成功后，在终端 <span class="kdocs-color" style="background-color:#FBF5B3;"><span class="kdocs-bold" style="font-weight:bold;">TERMINAL</span></span> 的右上角点击‘+’打开一个新的终端</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1916px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:21.764091%;height:0;"> 
    <img src="https://images2.imgbox.com/16/86/fBtT8RBs_o.png" style="margin-left:;display:block;width:1916px;margin-top:-21.764091%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">我拿到的服务器已经安装过了 <span class="kdocs-color" style="background-color:#FBF5B3;"><span class="kdocs-bold" style="font-weight:bold;">minianaconda</span></span>（教程可参考置顶的链接）</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1919px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:21.417404%;height:0;"> 
    <img src="https://images2.imgbox.com/33/34/VfQEdhGC_o.png" style="margin-left:;display:block;width:1919px;margin-top:-21.417404%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;"><span class="kdocs-color" style="background-color:#FBF5B3;">配置 conda 镜像源</span>（参考：<a class="kdocs-link" style="color:#0A6CFF;" href="https://blog.csdn.net/east_dong1/article/details/120742367" target="_blank" rel="noopener noreferrer">conda安装Tensorflow和pytorch经验</a>）</p> 
 <pre class="kdocs-python"><code class="language-python">conda config --set show_channel_urls yes
conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/
conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/
conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge/
conda config --add channels https://mirrors.bfsu.edu.cn/anaconda/pkgs/main
conda config --add channels https://mirrors.bfsu.edu.cn/anaconda/pkgs/free
conda config --show channels</code></pre> 
 <p style="text-align:left;">删除镜像等命令（参考：<a class="kdocs-link" style="color:#0A6CFF;" href="https://blog.csdn.net/qq_43391414/article/details/115071599" target="_blank" rel="noopener noreferrer">conda如何添加，删除镜像channel，管理虚拟环境，以及其他常见命令。</a>）</p> 
 <pre class="kdocs-python"><code class="language-python">conda config --remove channels https://pypi.tuna.tsinghua.edu.cn/anaconda/pkgs/free/</code></pre> 
 <p style="text-align:left;"></p> 
 <p style="text-align:left;"><span class="kdocs-fontSize" style="font-size:13pt;"><span class="kdocs-bold" style="font-weight:bold;">step 6：安装 Tensorflow2</span></span></p> 
 <p style="text-align:left;">（1）创建虚拟环境</p> 
 <pre class="kdocs-python"><code class="language-python">conda create -n tensorflow python=3.8</code></pre> 
 <p style="text-align:left;">（2）激活虚拟环境</p> 
 <pre class="kdocs-python"><code class="language-python">conda activate tensorflow</code></pre> 
 <p style="text-align:left;">（3）搜索可用镜像</p> 
 <pre class="kdocs-python"><code class="language-python">conda search tensorflow-gpu</code></pre> 
 <p style="text-align:left;">（4）直接用 <span class="kdocs-color" style="background-color:#FBF5B3;"><span class="kdocs-bold" style="font-weight:bold;">conda</span></span> 安装 <span class="kdocs-color" style="background-color:#FBF5B3;">Tensorflow2.6.0</span>（conda 会自动安装 cudnn、cudatoolkit）</p> 
 <pre class="kdocs-python"><code class="language-python">conda install tensorflow-gpu==2.6.0</code></pre> 
 <p style="text-align:left;">（5）测试 GPU 是否可用</p> 
 <pre class="kdocs-python"><code class="language-python">python
import tensorflow as tf
tf.test.is_gpu_available()</code></pre> 
 <p style="text-align:left;"></p> 
 <h4 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">【Tensorflow 环境配置问题汇总】</span></h4> 
 <p style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">【问题 1】我刚开始是用 pip 安装的 </span><span class="kdocs-color" style="background-color:#FBF5B3;"><span class="kdocs-bold" style="font-weight:bold;">Tensorflow2.10.0</span></span><span class="kdocs-bold" style="font-weight:bold;"> 版本，经历了各种报错。。。</span></p> 
 <pre class="kdocs-python"><code class="language-python">pip install tensorflow-gpu==2.10.0 -i https://pypi.tuna.tsinghua.edu.cn/simple/
conda install cudatoolkit==11.3.1
conda install cudnn=8.2.1</code></pre> 
 <p style="text-align:left;">import tensorflow as tf 报错信息</p> 
 <blockquote class="kdocs-blockquote" style="text-align:left;">
   2023-03-06 01:42:48.783815: I tensorflow/core/platform/cpu_feature_guard.cc:193] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operations: AVX2 AVX512F AVX512_VNNI FMA 
  <br>To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags. 
  <br>2023-03-06 01:42:48.936614: I tensorflow/core/util/util.cc:169] oneDNN custom operations are on. You may see slightly different numerical results due to floating-point round-off errors from different computation orders. To turn them off, set the environment variable `TF_ENABLE_ONEDNN_OPTS=0`. 
  <br>2023-03-06 01:42:48.942636: W tensorflow/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libcudart.so.11.0'; dlerror: libcudart.so.11.0: cannot open shared object file: No such file or directory 
  <br>2023-03-06 01:42:48.942659: I tensorflow/stream_executor/cuda/cudart_stub.cc:29] Ignore above cudart dlerror if you do not have a GPU set up on your machine. 
  <br>2023-03-06 01:42:48.969748: E tensorflow/stream_executor/cuda/cuda_blas.cc:2981] Unable to register cuBLAS factory: Attempting to register factory for plugin cuBLAS when one has already been registered 
  <br>2023-03-06 01:42:49.598911: W tensorflow/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libnvinfer.so.7'; dlerror: libnvinfer.so.7: cannot open shared object file: No such file or directory 
  <br>2023-03-06 01:42:49.598980: W tensorflow/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libnvinfer_plugin.so.7'; dlerror: libnvinfer_plugin.so.7: cannot open shared object file: No such file or directory 
  <br>2023-03-06 01:42:49.598988: W tensorflow/compiler/tf2tensorrt/utils/py_utils.cc:38] TF-TRT Warning: Cannot dlopen some TensorRT libraries. If you would like to use Nvidia GPU with TensorRT, please make sure the missing libraries mentioned above are installed properly. 
 </blockquote> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1389px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:32.397408%;height:0;"> 
    <img src="https://images2.imgbox.com/67/1c/7Wd64np6_o.png" style="margin-left:;display:block;width:1389px;margin-top:-32.397408%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">【解决办法】可参考这几篇文章：</p> 
 <p style="text-align:left;"><a class="kdocs-link" style="color:#0A6CFF;" href="https://blog.csdn.net/xr627/article/details/127581608" target="_blank" rel="noopener noreferrer">小白笔记[1]| 运行tf问题整理(持续完善)</a></p> 
 <p style="text-align:left;"><a class="kdocs-link" style="color:#0A6CFF;" href="https://blog.csdn.net/weixin_41194129/article/details/120215865" target="_blank" rel="noopener noreferrer">完美解决TensorFlow-gpu报错问题Could not load dynamic library ‘libnvinfer.so.6’ and ‘libcudart.so.11.0’</a></p> 
 <p style="text-align:left;">不要用 pip 安装（手动安装 cudatoolkit 和 cudnn），而是要用 conda 安装（自动安装 cudnn、cudatoolkit）</p> 
 <p style="text-align:left;"></p> 
 <p style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">【问题 2】我换成 conda 来安装后，直接在 tensorflow 导入部分就报错。。。</span></p> 
 <blockquote class="kdocs-blockquote" style="text-align:left;">
   ImportError: libflatbuffers.so.2: cannot open shared object file: No such file or directory 
 </blockquote> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1395px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:47.95699%;height:0;"> 
    <img src="https://images2.imgbox.com/07/c0/k6zqsHrd_o.png" style="margin-left:;display:block;width:1395px;margin-top:-47.95699%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">百度还没找到解决办法，大无语，遂放弃</p> 
 <p style="text-align:left;">我不得不放弃了 Tensorflow2.10.0，安装了 Tensorflow2.6.0，结果一次就成功了。。。</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1396px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:27.793697%;height:0;"> 
    <img src="https://images2.imgbox.com/5f/16/Irv5pXQS_o.png" style="margin-left:;display:block;width:1396px;margin-top:-27.793697%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">所有我前面配了两天的环境，就是全白瞎了呗。。。</p> 
 <p style="text-align:left;"></p> 
 <h4 style="text-align:left;">【在远程服务器上运行项目】</h4> 
 <p style="text-align:left;"><span class="kdocs-fontSize" style="font-size:13pt;"><span class="kdocs-bold" style="font-weight:bold;">step 1：将本地项目上传至远程服务器</span></span></p> 
 <p style="text-align:left;">（我这里使用的是 FileZilla，也可以使用 WinSCP、Xshell 等）</p> 
 <p style="text-align:left;">打开 FileZilla，在上方输入 <span class="kdocs-color" style="background-color:#FBF5B3;">主机、用户名、密码、端口</span>（22） 后，点击右侧的“<span class="kdocs-color" style="background-color:#FBF5B3;">快速连接</span>”</p> 
 <p style="text-align:left;"><span class="kdocs-color" style="background-color:#FBF5B3;">右侧</span>的“<span class="kdocs-color" style="background-color:#FBF5B3;"><span class="kdocs-bold" style="font-weight:bold;">远程站点</span></span>”会列出远程服务器的文件夹，在<span class="kdocs-color" style="background-color:#FBF5B3;">左侧</span>的“<span class="kdocs-color" style="background-color:#FBF5B3;"><span class="kdocs-bold" style="font-weight:bold;">本地站点</span></span>”中打开要传输的文件夹</p> 
 <p style="text-align:left;">将左侧<span class="kdocs-color" style="background-color:#FBF5B3;">本地文件夹</span>下要上传的文件，<span class="kdocs-color" style="background-color:#FBF5B3;"><span class="kdocs-bold" style="font-weight:bold;">拖拽</span></span>至右侧<span class="kdocs-color" style="background-color:#FBF5B3;">远程服务器的文件夹</span>下（右键可管理文件/文件夹）</p> 
 <p style="text-align:left;"><span class="kdocs-color" style="background-color:#FBF5B3;">最下方</span>会显示<span class="kdocs-color" style="background-color:#FBF5B3;">文件传输队列</span>，等待传输完成即可</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1182px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:80.11845%;height:0;"> 
    <img src="https://images2.imgbox.com/50/a8/NsHgeYJx_o.png" style="margin-left:;display:block;width:1182px;margin-top:-80.11845%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;"></p> 
 <p style="text-align:left;"><span class="kdocs-fontSize" style="font-size:13pt;"><span class="kdocs-bold" style="font-weight:bold;">step 2：查看服务器文件</span></span></p> 
 <p style="text-align:left;">在左侧菜单栏的 <span class="kdocs-color" style="background-color:#FBF5B3;"><span class="kdocs-bold" style="font-weight:bold;">Explorer</span></span> 中点击 <span class="kdocs-color" style="background-color:#FBF5B3;"><span class="kdocs-bold" style="font-weight:bold;">username [SSH: ip]</span></span> 查看当前远程服务器目录下的文件</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1557px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:40.141296%;height:0;"> 
    <img src="https://images2.imgbox.com/e7/b8/SnFSEbpg_o.png" style="margin-left:;display:block;width:1557px;margin-top:-40.141296%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;"></p> 
 <p style="text-align:left;"><span class="kdocs-fontSize" style="font-size:13pt;"><span class="kdocs-bold" style="font-weight:bold;">step 3：配置 python 解释器</span></span></p> 
 <p style="text-align:left;">使用 <span class="kdocs-color" style="background-color:#FBF5B3;"><span class="kdocs-bold" style="font-weight:bold;">Ctrl+Shift+P</span></span><span class="kdocs-bold" style="font-weight:bold;"> </span>打开命令面板，</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1763px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:25.69484%;height:0;"> 
    <img src="https://images2.imgbox.com/a7/36/lNLFoDuq_o.png" style="margin-left:;display:block;width:1763px;margin-top:-25.69484%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">输入 <span class="kdocs-color" style="background-color:#FBF5B3;"><span class="kdocs-bold" style="font-weight:bold;">&gt;Python: select Interpret</span></span>，选择配置好的 Tensorflow2 环境作为远程 python 解释器</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1343px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:18.76396%;height:0;"> 
    <img src="https://images2.imgbox.com/bb/d2/abXtsYiz_o.png" style="margin-left:;display:block;width:1343px;margin-top:-18.76396%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;"></p> 
 <p style="text-align:left;"><span class="kdocs-fontSize" style="font-size:13pt;"><span class="kdocs-bold" style="font-weight:bold;">step 4：运行/调试远程项目</span></span></p> 
 <p style="text-align:left;">（1）在左侧菜单栏中点击 <span class="kdocs-color" style="background-color:#FBF5B3;"><span class="kdocs-bold" style="font-weight:bold;">Run and Debug</span></span>，继续点击蓝色框中的 <span class="kdocs-color" style="background-color:#FBF5B3;"><span class="kdocs-bold" style="font-weight:bold;">Run and Debug</span></span><span class="kdocs-bold" style="font-weight:bold;"> </span>即可对当前文件进行运行/调试 </p> 
 <p style="text-align:left;">（项目代码中，在<span class="kdocs-color" style="background-color:#FBF5B3;">行号前单击</span>即可<span class="kdocs-color" style="background-color:#FBF5B3;">设置断点</span>）</p> 
 <p style="text-align:left;">（2）当前文件右上角点击 <span class="kdocs-color" style="background-color:#FBF5B3;"><span class="kdocs-bold" style="font-weight:bold;">Run/Debug Python File</span></span>，选择运行/调试当前文件</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1880px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:20.797873%;height:0;"> 
    <img src="https://images2.imgbox.com/29/d3/GdEdsAni_o.png" style="margin-left:;display:block;width:1880px;margin-top:-20.797873%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">本地和远端同步可参考：<a class="kdocs-link" style="color:#0A6CFF;" href="https://blog.csdn.net/yemazhuxing/article/details/128361276" target="_blank" rel="noopener noreferrer">VScode实现本地与远端同步开发的两种方式</a></p> 
 <p style="text-align:left;"></p> 
 <h4 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">【注：远程项目更改文件路径】</span></h4> 
 <p style="text-align:left;">从本地上传到远程服务器后，文件夹的层次结构发生了改变，因此可能需要改变文件路径</p> 
 <p style="text-align:left;">python os 文件路径参考：</p> 
 <p style="text-align:left;"><a class="kdocs-link" style="color:#0A6CFF;" href="https://blog.csdn.net/weixin_42297382/article/details/123026261" target="_blank" rel="noopener noreferrer">Python--OS 方法-获取文件对应路径</a></p> 
 <p style="text-align:left;"><a class="kdocs-link" style="color:#0A6CFF;" href="https://blog.csdn.net/bizarre07/article/details/128631524" target="_blank" rel="noopener noreferrer">python获取当前文件的目录与路径</a></p> 
 <p style="text-align:left;"></p> 
 <h4 style="text-align:left;">【清理远程服务器缓存】</h4> 
 <p style="text-align:left;">参考：<a class="kdocs-link" style="color:#0A6CFF;" href="https://zhuanlan.zhihu.com/p/517952601" rel="nofollow noopener noreferrer" target="_blank">记录：在Linux系统下清理GPU缓存</a></p> 
 <p style="text-align:left;">（1）使用 <span class="kdocs-color" style="background-color:#FBF5B3;"><span class="kdocs-bold" style="font-weight:bold;">nvidia-smi</span></span> 查看 gpu 使用情况</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:858px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:67.83217%;height:0;"> 
    <img src="https://images2.imgbox.com/41/2e/gPlCd37r_o.png" style="margin-left:;display:block;width:858px;margin-top:-67.83217%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">或者使用以下命令查看 GPU 上的进程占用</p> 
 <pre class="kdocs-python"><code class="language-python">fuser -v /dev/nvidia*</code></pre> 
 <p style="text-align:left;">（2）输入以下命令<span class="kdocs-color" style="background-color:#FBF5B3;"><span class="kdocs-bold" style="font-weight:bold;">清理进程</span></span>（PID 见上图，或见上行命令输出）</p> 
 <pre class="kdocs-python"><code class="language-python">kill -9 PID</code></pre> 
 <p style="text-align:left;"></p> 
 <h4 style="text-align:left;">【在远程服务器后台运行 python 程序】</h4> 
 <p style="">参考：<a class="kdocs-link" style="color:#0A6CFF;" href="https://blog.csdn.net/deepsea0716/article/details/73632226" target="_blank" rel="noopener noreferrer">python程序后台运行命令</a></p> 
 <p style=""><a class="kdocs-link" style="color:#0A6CFF;" href="https://blog.csdn.net/scarificed/article/details/125542707" target="_blank" rel="noopener noreferrer">Linux如何在后台一直运行python程序</a></p> 
 <p style="">当前终端挂掉后，远程服务器上的进程可能也会挂掉。。。</p> 
 <p style="">（1）输入以下命令<span class="kdocs-color" style="background-color:#FBF5B3;"><span class="kdocs-bold" style="font-weight:bold;">在后台运行 python 程序</span></span>（test.log 指定输出日志文件）</p> 
 <pre class="kdocs-python"><code class="language-python">nohup python main.py &gt; test.log &amp;</code></pre> 
 <p style=""><span class="kdocs-bold" style="font-weight:bold;">注意：</span><span class="kdocs-color" style="background-color:#FBF5B3;"><span class="kdocs-bold" style="font-weight:bold;">main.py</span></span><span class="kdocs-bold" style="font-weight:bold;"> 处一定要写全从根目录下的路径（main.py 直接在 /home/usr 根目录下）</span></p> 
 <p style="">（2）输入以下命令可以查看所有进程的状态</p> 
 <pre class="kdocs-python"><code class="language-python">ps aux |grep python</code></pre> 
 <p style="">每行每个参数的含义可参考：<a class="kdocs-link" style="color:#0A6CFF;" href="https://blog.csdn.net/observador/article/details/105345907" target="_blank" rel="noopener noreferrer">linux命令ps aux|grep 查看进程详解</a></p> 
 <p style=""><a class="kdocs-link" style="color:#0A6CFF;" href="https://blog.csdn.net/Rocky6688/article/details/107002803/" target="_blank" rel="noopener noreferrer">Linux_ps aux指令与grep指令配合管理进程</a> （其中第二列为 PID）</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1408px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:17.258524%;height:0;"> 
    <img src="https://images2.imgbox.com/dd/af/B8DSG2Mb_o.png" style="margin-left:;display:block;width:1408px;margin-top:-17.258524%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="">（3）结束进程</p> 
 <pre class="kdocs-python"><code class="language-python">kill -9 PID  // 强制杀死进程</code></pre> 
 <p style=""></p> 
 <h4 style="">【conda 打包环境】</h4> 
 <p style="">参考：<a class="kdocs-link" style="color:#0A6CFF;" href="https://zhuanlan.zhihu.com/p/540615230" rel="nofollow noopener noreferrer" target="_blank">Python | Conda pack 进行环境打包</a></p> 
 <p style=""><a class="kdocs-link" style="color:#0A6CFF;" href="https://blog.csdn.net/weixin_42398658/article/details/115111996" target="_blank" rel="noopener noreferrer">conda创建的环境，打包下载，然后在其他设备离线安装环境，python部署时需要依赖，通过conda一步解决依赖迁移问题</a></p> 
 <p style="">（1）安装 conda-pack </p> 
 <pre class="kdocs-python"><code class="language-python">conda install -c conda-forge conda-pack</code></pre> 
 <p style="">（2）将虚拟环境 env_name 打包为 env_name.tar.gz，打包好的环境就在<span class="kdocs-bold" style="font-weight:bold;">本文件夹</span>下（ <span class="kdocs-bold" style="font-weight:bold;">/home/usr </span>）</p> 
 <pre class="kdocs-python"><code class="language-python">conda pack -n env_name</code></pre> 
</div>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/564ad50082ad85f7394134a7f8077514/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Qt使用msvc编译器情况下，如何进行内存泄漏检测</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a9743aae200a1195db9bcf0e46a303d1/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Flutter完整开发实战详解(一、Dart语言和Flutter基础)</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>