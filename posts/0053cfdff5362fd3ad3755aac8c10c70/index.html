<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【填坑】ESP-IDF 环境安装常见报错信息和解决方案 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【填坑】ESP-IDF 环境安装常见报错信息和解决方案" />
<meta property="og:description" content="文章目录 Windows 平台 ESP-IDF 环境安装常见报错信息和解决方案一、install 时报错**Q1 ： 错误信息：Download failed 操作超时 或者 installation has failed with exit code -2****Q2 ： 错误信息：Download failed: an error occurred in the secure channel support****Q3 ： 错误信息：&#39;python&#39;：permission denied** 二、export.bat 时报错**Q1. 错误信息：&#39;.&#39; 不是内部或外部命令，也不是可运行的程序****Q2. 错误信息：File &#34;...\lib\subprocess.py&#34;, line 1207, in _execute_child startupinfo) FileNotFoundError: [WinError 2] The system cannot find the file specified** 三、idf.py build 时报错**Q1. 错误信息： idf.py 不是内部或外部命令，也不是可运行的程序****Q2. 错误信息： Windows requires an MSYS2 version of gcc on the PATH to build mconf-idf." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/0053cfdff5362fd3ad3755aac8c10c70/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-01-06T15:41:21+08:00" />
<meta property="article:modified_time" content="2021-01-06T15:41:21+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【填坑】ESP-IDF 环境安装常见报错信息和解决方案</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><ul><li><a href="#Windows__ESPIDF__2" rel="nofollow">Windows 平台 ESP-IDF 环境安装常见报错信息和解决方案</a></li><li><ul><li><a href="#install__3" rel="nofollow">一、install 时报错</a></li><li><ul><li><a href="#Q1__Download_failed___installation_has_failed_with_exit_code_2_5" rel="nofollow">**Q1 ： 错误信息：Download failed 操作超时 或者 installation has failed with exit code -2**</a></li><li><a href="#Q2__Download_failed_an_error_occurred_in_the_secure_channel_support_14" rel="nofollow">**Q2 ： 错误信息：Download failed: an error occurred in the secure channel support**</a></li><li><a href="#Q3__pythonpermission_denied_27" rel="nofollow">**Q3 ： 错误信息：'python'：permission denied**</a></li></ul> 
    </li><li><a href="#exportbat__33" rel="nofollow">二、export.bat 时报错</a></li><li><ul><li><a href="#Q1___34" rel="nofollow">**Q1. 错误信息：'.' 不是内部或外部命令，也不是可运行的程序**</a></li><li><a href="#Q2_File_libsubprocesspy_line_1207_in__execute_child_startupinfo_FileNotFoundError_WinError_2_The_system_cannot_find_the_file_specified_71" rel="nofollow">**Q2. 错误信息：File "...\lib\subprocess.py", line 1207, in _execute_child startupinfo) FileNotFoundError: [WinError 2] The system cannot find the file specified**</a></li></ul> 
    </li><li><a href="#idfpy_build__82" rel="nofollow">三、idf.py build 时报错</a></li><li><ul><li><a href="#Q1__idfpy___83" rel="nofollow">**Q1. 错误信息： idf.py 不是内部或外部命令，也不是可运行的程序**</a></li><li><a href="#Q2__Windows_requires_an_MSYS2_version_of_gcc_on_the_PATH_to_build_mconfidf_89" rel="nofollow">**Q2. 错误信息： Windows requires an MSYS2 version of gcc on the PATH to build mconf-idf.**</a></li></ul> 
   </li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h3><a id="Windows__ESPIDF__2"></a>Windows 平台 ESP-IDF 环境安装常见报错信息和解决方案</h3> 
<h4><a id="install__3"></a>一、install 时报错</h4> 
<h5><a id="Q1__Download_failed___installation_has_failed_with_exit_code_2_5"></a><strong>Q1 ： 错误信息：Download failed 操作超时 或者 installation has failed with exit code -2</strong></h5> 
<p><img src="https://images2.imgbox.com/fb/79/jaKiE2oW_o.png" alt="在这里插入图片描述"></p> 
<p><strong>A1：原因和解决方法：网络问题，请换个网络环境重试，如果实在下不下来，可参考以下链接手动安装</strong></p> 
<ul><li><a href="https://blog.csdn.net/espressif/article/details/112231658">如何使用 Gitee 快速搭建 ESP-IDF 开发环境（Windows 版本）</a></li></ul> 
<h5><a id="Q2__Download_failed_an_error_occurred_in_the_secure_channel_support_14"></a><strong>Q2 ： 错误信息：Download failed: an error occurred in the secure channel support</strong></h5> 
<p>一般在 Windows 7 比较老的版本出现<br> <img src="https://images2.imgbox.com/56/50/dicZzxyt_o.png" alt="在这里插入图片描述"></p> 
<p><strong>A2：原因和解决方法：下载工具问题，试用以下方法解决</strong></p> 
<p>方法一：手动下载安装 python 和 git，然后再试用该工具搭建</p> 
<p>方法二：全程手动搭建环境， <a href="https://blog.csdn.net/espressif/article/details/112231658">如何使用 Gitee 快速搭建 ESP-IDF 开发环境（Windows 版本）</a></p> 
<p>方法三：<a href="https://support.microsoft.com/en-gb/help/3140245/update-to-enable-tls-1-1-and-tls-1-2-as-default-secure-protocols-in-wi" rel="nofollow">更新Windows WinHTTP的默认安全协议为TLS 1.1和TLS 1.2</a></p> 
<h5><a id="Q3__pythonpermission_denied_27"></a><strong>Q3 ： 错误信息：‘python’：permission denied</strong></h5> 
<p><strong>A3：原因和解决方法：系统未安装 python 或 未添加 python 的环境变量</strong></p> 
<p><img src="https://images2.imgbox.com/72/4a/SsWrBz3c_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="exportbat__33"></a>二、export.bat 时报错</h4> 
<h5><a id="Q1___34"></a><strong>Q1. 错误信息：’.’ 不是内部或外部命令，也不是可运行的程序</strong></h5> 
<pre><code>&gt;C:\esp-idf&gt;. .\export.bat
'.' 不是内部或外部命令，也不是可运行的程序
或批处理文件。
</code></pre> 
<p><strong>A1.原因和解决方法： Windows 平台不需要加 <code>.</code> ，去掉即可</strong></p> 
<pre><code>C:\esp-idf&gt;.\export.bat
Setting IDF_PATH: C:\esp-idf

Adding ESP-IDF tools to PATH...
WARNING: directory for tool riscv-none-embed-gcc version riscv-none-embed-gcc-8.2.0 is present, but tool was not found
    C:\.espressif\tools\xtensa-esp32-elf\esp-2020r3-8.4.0\xtensa-esp32-elf\bin
    C:\.espressif\tools\xtensa-esp32s2-elf\esp-2020r3-8.4.0\xtensa-esp32s2-elf\bin
    C:\.espressif\tools\xtensa-esp32s3-elf\esp-2020r3-8.4.0\xtensa-esp32s3-elf\bin
    C:\.espressif\tools\esp32ulp-elf\2.28.51-esp-20191205\esp32ulp-elf-binutils\bin
    C:\.espressif\tools\esp32s2ulp-elf\2.28.51-esp-20191205\esp32s2ulp-elf-binutils\bin
    C:\.espressif\tools\cmake\3.16.4\bin
    C:\.espressif\tools\openocd-esp32\v0.10.0-esp32-20200709\openocd-esp32\bin
    C:\.espressif\tools\ninja\1.10.0\
    C:\.espressif\tools\idf-exe\1.0.1\
    C:\.espressif\tools\ccache\3.7\
    C:\.espressif\tools\dfu-util\0.9\dfu-util-0.9-win64
    C:\.espressif\python_env\idf4.3_py3.7_env\Scripts
    C:\esp-idf\tools

Checking if Python packages are up to date...
Python requirements from C:\esp-idf\requirements.txt are satisfied.

Done! You can now compile ESP-IDF projects.
Go to the project directory and run:

  idf.py build
</code></pre> 
<h5><a id="Q2_File_libsubprocesspy_line_1207_in__execute_child_startupinfo_FileNotFoundError_WinError_2_The_system_cannot_find_the_file_specified_71"></a><strong>Q2. 错误信息：File “…\lib\subprocess.py”, line 1207, in _execute_child startupinfo) FileNotFoundError: [WinError 2] The system cannot find the file specified</strong></h5> 
<p><img src="https://images2.imgbox.com/cf/1f/BhXOBtgi_o.png" alt="在这里插入图片描述"></p> 
<p><strong>A2.原因和解决方法：该问题是 git 安装时没有勾选添加环境变量</strong></p> 
<p>将 <code>C:\Program Files\Git\cmd</code> 添加到环境变量，具体路径按照 git 的安装位置确定</p> 
<p><img src="https://images2.imgbox.com/5b/6b/TcemqwTm_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="idfpy_build__82"></a>三、idf.py build 时报错</h4> 
<h5><a id="Q1__idfpy___83"></a><strong>Q1. 错误信息： idf.py 不是内部或外部命令，也不是可运行的程序</strong></h5> 
<p><strong>A1.原因和解决方法：每一个新开窗口都需要重新运行 export.bat 添加环境变量</strong></p> 
<p>查看：<a href="https://docs.espressif.com/projects/esp-idf/zh_CN/latest/esp32/get-started/index.html#get-started-set-up-env" rel="nofollow">设置环境变量 Set up the environment variables</a></p> 
<h5><a id="Q2__Windows_requires_an_MSYS2_version_of_gcc_on_the_PATH_to_build_mconfidf_89"></a><strong>Q2. 错误信息： Windows requires an MSYS2 version of gcc on the PATH to build mconf-idf.</strong></h5> 
<pre><code>$ idf.py build
Executing action: all (aliases: build)
Running cmake in directory c:\esp-idf\examples\get-started\hello_world\build
Executing "cmake -G Ninja -DPYTHON_DEPS_CHECKED=1 -DESP_PLATFORM=1 -DCCACHE_ENABLE=1 c:\esp-idf\examples\get-started\hell
o_world"...
-- Found Git: C:/Program Files/Git/mingw64/bin/git.exe (found version "2.30.0.windows.1")
CMake Error at C:/esp-idf/tools/cmake/kconfig.cmake:30 (message):
  Windows requires an MSYS2 version of gcc on the PATH to build mconf-idf.
  Consult the setup docs for ESP-IDF on Windows.
Call Stack (most recent call first):
  C:/esp-idf/tools/cmake/build.cmake:162 (__kconfig_init)
  C:/esp-idf/tools/cmake/idf.cmake:49 (__build_init)
  C:/esp-idf/tools/cmake/project.cmake:7 (include)
  CMakeLists.txt:5 (include)


-- Configuring incomplete, errors occurred!
cmake failed with exit code 1

</code></pre> 
<p><strong>A2.原因和解决方法：使用 installer 工具或者使用 install.sh 安装的 4.0+ 以上版本的 IDF，不支持在 MinGW 中编译，需要使用命令提示符 CMD 去编译</strong></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/df592ebe9fd6d0b01cebb684e5c9f805/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">图片标注工具Labelme-简明使用教程</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/5109cfb43a68cb887813223c9ef62894/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">RecyclerView内嵌套RecyclerView导致外层item点击不响应</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>