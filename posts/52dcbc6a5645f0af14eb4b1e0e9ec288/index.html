<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>SpringCloud系列一之微服务 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="SpringCloud系列一之微服务" />
<meta property="og:description" content=" SpringCloud系列一之微服务 微服务架构微服务的优劣为什么是SpringCloud?SpringCloud的简介组件实际用处 微服务架构 微服务架构是一种架构模式，它提倡将单一应用程序划分成一组小的服务，服务之间相互协调、互相配合，为用户提供最终价值。每个服务运行在其独立的进程中，服务和服务之间采用轻量级的通信机制相互沟通（通常是基于HTTP的Restful API).每个服务都围绕着具体的业务进行构建，并且能够被独立的部署到生产环境、类生产环境等。另外，应尽量避免统一的、集中的服务管理机制，对具体的一个服务而言，应根据业务上下文，选择合适的语言、工具对其进行构。----Martin Fowler（马丁·福勒）
微服务的优劣 优点：
每个服务足够内聚，足够小，可以聚焦指定业务功能。开发简单，开发效率提高。松耦合，无论在开发和部署时都是独立的。可以使用不同语言开发微服务。微服务可以灵活的集成自动化测试和自动化部署工具。 缺点：
开发人员要处理分布式系统的复杂性，比如网络延迟，分布式事务，异步消息等。多服务造成运维的压力增加。接口的规范要更加完善，因为从单体系统中的代码依赖变为服务间的通信依赖。服务间的通信成本，数据一致性等问题 为什么是SpringCloud? 比较著名的微服务架构：阿里的dubbo,当当的dubbox,netflix的Eureka等，那么我们为什么选择SpringCloud呢？
刚刚列举的框架只是针对微服务的某一类问题进行解决，而SpringCloud则是解决微服务架构综合性解决框架，比如服务治理，容错，负载均衡，网关，时间总线等
SpringCloud的简介 简述：
SpringCloud是基于SpringBoot实现的微服务架构开发工具，它为微服务架构中设计的配置管理，服务治理，断路器，智能路由，控制总线，分布式会话，集群管理，提供了一种简单的开发方式。
组件：
独挑大梁类(独自启动不需要依赖其它组件)
Eureka，服务注册中心，特性有失效剔除、服务保护。Dashboard，Hystrix仪表盘，监控集群模式和单点模式，其中集群模式需要收集器Turbine配合。Zuul，API服务网关，功能有路由分发和过滤。Config，分布式配置中心，支持本地仓库、SVN、Git、Jar包内配置等模式。 润物无声类(融合在每个微服务中、依赖其它组件并为其提供服务)
Ribbon，客户端负载均衡，特性有区域亲和、重试机制。Hystrix，客户端容错保护，特性有服务降级、服务熔断、请求缓存、请求合并、依赖隔离。Feign，声明式服务调用，本质上就是Ribbon&#43;Hystrix。Stream，消息驱动，有Sink、Source、Processor三种通道，特性有订阅发布、消费组、消息分区。Bus，消息总线，配合Config仓库修改的一种Stream实现。Sleuth，分布式服务追踪，需要搞清楚TraceID和SpanID以及抽样，如何与ELK整合。 组件实际用处 每个组件都不是平白无故的产生的，是为了解决某一特定的问题而存在。
Eureka和Ribbon，是最基础的组件，一个注册服务，一个消费服务。Hystrix为了优化Ribbon、防止整个微服务架构因为某个服务节点的问题导致崩溃，是个保险丝的作用。Dashboard给Hystrix统计和展示用的，而且监控服务节点的整体压力和健康情况。Turbine是集群收集器，服务于Dashboard的。Feign是方便我们程序员写更优美的代码的。Zuul是加在整个微服务最前沿的防火墙和代理器，隐藏微服务结点IP端口信息，加强安全保护的。Config是为了解决所有微服务各自维护各自的配置，设置一个统一的配置中心，方便修改配置的。Bus是因为config修改完配置后各个结点都要refresh才能生效实在太麻烦，所以交给bus来通知服务节点刷新配置的。Stream是为了简化研发人员对MQ使用的复杂度，弱化MQ的差异性，达到程序和MQ松耦合。Sleuth是因为单次请求在微服务节点中跳转无法追溯，解决任务链日志追踪问题的。 " />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/52dcbc6a5645f0af14eb4b1e0e9ec288/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-04-11T21:22:50+08:00" />
<meta property="article:modified_time" content="2019-04-11T21:22:50+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">SpringCloud系列一之微服务</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>SpringCloud系列一之微服务</h4> 
 <ul><li><ul><li><a href="#_1" rel="nofollow">微服务架构</a></li><li><a href="#_3" rel="nofollow">微服务的优劣</a></li><li><a href="#SpringCloud_16" rel="nofollow">为什么是SpringCloud?</a></li><li><a href="#SpringCloud_19" rel="nofollow">SpringCloud的简介</a></li><li><ul><li><a href="#_37" rel="nofollow">组件实际用处</a></li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h3><a id="_1"></a>微服务架构</h3> 
<p>微服务架构是一种架构模式，它提倡将<mark>单一应用程序划分成一组小的服务</mark>，服务之间相互协调、互相配合，为用户提供最终价值。每个服务运行在其<mark>独立的进程中</mark>，服务和服务之间采用<mark>轻量级的通信机制相互沟通</mark>（通常是基于HTTP的Restful API).每个服务都围绕着具体的业务进行构建，并且能够被独立的部署到生产环境、类生产环境等。另外，应尽量避免统一的、集中的服务管理机制，对具体的一个服务而言，应根据业务上下文，选择合适的语言、工具对其进行构。----Martin Fowler（马丁·福勒）</p> 
<h3><a id="_3"></a>微服务的优劣</h3> 
<p>优点：</p> 
<ol><li>每个服务足够内聚，足够小，可以聚焦指定业务功能。</li><li>开发简单，开发效率提高。</li><li>松耦合，无论在开发和部署时都是独立的。</li><li>可以使用不同语言开发微服务。</li><li>微服务可以灵活的集成自动化测试和自动化部署工具。</li></ol> 
<p>缺点：</p> 
<ol><li>开发人员要处理分布式系统的复杂性，比如网络延迟，分布式事务，异步消息等。</li><li>多服务造成运维的压力增加。</li><li>接口的规范要更加完善，因为从单体系统中的代码依赖变为服务间的通信依赖。</li><li>服务间的通信成本，数据一致性等问题</li></ol> 
<h3><a id="SpringCloud_16"></a>为什么是SpringCloud?</h3> 
<p>比较著名的微服务架构：阿里的dubbo,当当的dubbox,netflix的Eureka等，那么我们为什么选择SpringCloud呢？<br> 刚刚列举的框架只是针对微服务的某一类问题进行解决，而SpringCloud则是解决微服务架构综合性解决框架，比如服务治理，容错，负载均衡，网关，时间总线等</p> 
<h3><a id="SpringCloud_19"></a>SpringCloud的简介</h3> 
<p>简述：<br> SpringCloud是基于<mark>SpringBoot实现的微服务架构开发工具，它为微服务架构中设计的配置管理，服务治理，断路器，智能路由，控制总线，分布式会话，集群管理</mark>，提供了一种简单的开发方式。</p> 
<p>组件：</p> 
<ul><li> <p>独挑大梁类(独自启动不需要依赖其它组件)</p> 
  <ul><li>Eureka，服务注册中心，特性有失效剔除、服务保护。</li><li>Dashboard，Hystrix仪表盘，监控集群模式和单点模式，其中集群模式需要收集器Turbine配合。</li><li>Zuul，API服务网关，功能有路由分发和过滤。</li><li>Config，分布式配置中心，支持本地仓库、SVN、Git、Jar包内配置等模式。</li></ul> </li><li> <p>润物无声类(融合在每个微服务中、依赖其它组件并为其提供服务)</p> 
  <ul><li>Ribbon，客户端负载均衡，特性有区域亲和、重试机制。</li><li>Hystrix，客户端容错保护，特性有服务降级、服务熔断、请求缓存、请求合并、依赖隔离。</li><li>Feign，声明式服务调用，本质上就是Ribbon+Hystrix。</li><li>Stream，消息驱动，有Sink、Source、Processor三种通道，特性有订阅发布、消费组、消息分区。</li><li>Bus，消息总线，配合Config仓库修改的一种Stream实现。</li><li>Sleuth，分布式服务追踪，需要搞清楚TraceID和SpanID以及抽样，如何与ELK整合。</li></ul> </li></ul> 
<h4><a id="_37"></a>组件实际用处</h4> 
<p>每个组件都不是平白无故的产生的，是为了解决某一特定的问题而存在。</p> 
<ol><li>Eureka和Ribbon，是最基础的组件，一个注册服务，一个消费服务。</li><li>Hystrix为了优化Ribbon、防止整个微服务架构因为某个服务节点的问题导致崩溃，是个保险丝的作用。</li><li>Dashboard给Hystrix统计和展示用的，而且监控服务节点的整体压力和健康情况。</li><li>Turbine是集群收集器，服务于Dashboard的。</li><li>Feign是方便我们程序员写更优美的代码的。</li><li>Zuul是加在整个微服务最前沿的防火墙和代理器，隐藏微服务结点IP端口信息，加强安全保护的。</li><li>Config是为了解决所有微服务各自维护各自的配置，设置一个统一的配置中心，方便修改配置的。</li><li>Bus是因为config修改完配置后各个结点都要refresh才能生效实在太麻烦，所以交给bus来通知服务节点刷新配置的。</li><li>Stream是为了简化研发人员对MQ使用的复杂度，弱化MQ的差异性，达到程序和MQ松耦合。</li><li>Sleuth是因为单次请求在微服务节点中跳转无法追溯，解决任务链日志追踪问题的。</li></ol>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/293e9feb60e4740acc4fb92e1cd572bc/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">C#-Dapper查询mysql数据库可空的tinyint(1)报错：Error parsing column 11 (IsConvent=1 - SByte)指定类型转换无效</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/63303018755f08bf320e5382475239b5/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Kubernetes之（十三）ConfigMap和Secret</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>