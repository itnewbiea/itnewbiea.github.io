<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Protobuf-net3.2.8中的protogen.exe之使用 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Protobuf-net3.2.8中的protogen.exe之使用" />
<meta property="og:description" content="目录
protobuf是个好东西
遇到问题
顺便研究一下命令行程序如何调试
protobuf是个好东西 protobuf是一个轻量级的数据格式，相比json，它的数据量为json的1/3，且存储方式为2进制，并进行了压缩，序列化和反序列化更快，保密性更好，但易读性差，适用于在客户端与服务器通信消息传递，尤其是巨量信息时，我们需要学习它。
以下来自chatGPT的回答：
Protobuf（Protocol Buffers）是一种轻量级的数据序列化格式，它可以将结构化的数据转换为紧凑的二进制格式，从而实现高效的数据传输和存储。
下面是 Protobuf 数据量小的原因：
1. 二进制编码：与 XML 和 JSON 等其他数据序列化格式相比，Protobuf 使用二进制编码来表示数据。这意味着它不需要像文本格式那样使用大量的空格、换行符和标签来描述数据，从而减少了数据量的大小。
2. 数据压缩：Protobuf 可以将数据压缩成更小的二进制格式，以进一步减少数据传输和存储的大小。这个功能可以通过启用“压缩”选项来实现。
3. 无需额外的元数据：与 XML 和 JSON 不同，Protobuf 中不需要额外的元数据来描述数据。相反，它使用预定义的消息类型和字段来定义数据结构。这意味着 Protobuf 不需要为每个值添加标签和类型信息，从而减少了数据量的大小。
4. 代码生成：Protobuf 可以自动生成编解码器和相关的代码，这使得代码的体积非常小，而且不需要使用反射等机制。这些编解码器使用底层的二进制协议来快速地读取和写入数据。
因此，由于它使用二进制编码、数据压缩、无需额外的元数据和代码生成等技术，Protobuf 可以实现非常小的数据量，并且可以实现高效的数据传输和存储。
遇到问题 protogen.exe是一个Protobuf for .net的库，期中protogen.exe是一个命令行程序，在使用这个命令行程序时总是出错。我使用的是3.2.8版本。和1.x的命令行参数完全不一样了。
我们看上面的命令提示信息，根据这些信息，尝试了很多参数都是报错误，于是将源代码拉下来研究一下。
代码库地址为：
protobuf-net/protobuf-net： Protocol Buffers library for habitmatic .NET (github.com)
使用以下命令实现了将Person.proto转为Person.cs文件，并且Person.cs位于当前目录\cs
protogen Person.proto --csharp_out=&#34;cs&#34; 来看看1.x的命令这样用：1.x提示很清楚，3.x的提示让人无从下手
protogen -i:input.proto -o:output.cs 现在来对照之前的提示信息，我觉得正常人都想不到命令行参数要这么写（或许我水平有限），这算是一个坑吗？
顺便研究一下命令行程序如何调试 新建一个【调试参数配置】
args先使用空格分割，再用=分割，左边是参数右边是值
了解了命令行args的用法，以后工作工可能用得到。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/572c839ef15ccd3924cc129126ae4dd9/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-05-13T23:26:14+08:00" />
<meta property="article:modified_time" content="2023-05-13T23:26:14+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Protobuf-net3.2.8中的protogen.exe之使用</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="protobuf%E6%98%AF%E4%B8%AA%E5%A5%BD%E4%B8%9C%E8%A5%BF-toc" style="margin-left:40px;"><a href="#protobuf%E6%98%AF%E4%B8%AA%E5%A5%BD%E4%B8%9C%E8%A5%BF" rel="nofollow">protobuf是个好东西</a></p> 
<p id="%E9%81%87%E5%88%B0%E9%97%AE%E9%A2%98-toc" style="margin-left:40px;"><a href="#%E9%81%87%E5%88%B0%E9%97%AE%E9%A2%98" rel="nofollow">遇到问题</a></p> 
<p id="%E9%A1%BA%E4%BE%BF%E7%A0%94%E7%A9%B6%E4%B8%80%E4%B8%8B%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%A8%8B%E5%BA%8F%E5%A6%82%E4%BD%95%E8%B0%83%E8%AF%95-toc" style="margin-left:40px;"><a href="#%E9%A1%BA%E4%BE%BF%E7%A0%94%E7%A9%B6%E4%B8%80%E4%B8%8B%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%A8%8B%E5%BA%8F%E5%A6%82%E4%BD%95%E8%B0%83%E8%AF%95" rel="nofollow">顺便研究一下命令行程序如何调试</a></p> 
<hr id="hr-toc"> 
<p></p> 
<h3>protobuf是个好东西</h3> 
<p>protobuf是一个轻量级的数据格式，相比json，它的数据量为json的1/3，且存储方式为2进制，并进行了压缩，序列化和反序列化更快，保密性更好，但易读性差，适用于在客户端与服务器通信消息传递，尤其是巨量信息时，我们需要学习它。</p> 
<p>以下来自chatGPT的回答：</p> 
<p>Protobuf（Protocol Buffers）是一种轻量级的数据序列化格式，它可以将结构化的数据转换为紧凑的二进制格式，从而实现高效的数据传输和存储。</p> 
<p>下面是 Protobuf 数据量小的原因：</p> 
<p>1. 二进制编码：与 XML 和 JSON 等其他数据序列化格式相比，Protobuf 使用二进制编码来表示数据。这意味着它不需要像文本格式那样使用大量的空格、换行符和标签来描述数据，从而减少了数据量的大小。</p> 
<p>2. 数据压缩：Protobuf 可以将数据压缩成更小的二进制格式，以进一步减少数据传输和存储的大小。这个功能可以通过启用“压缩”选项来实现。</p> 
<p>3. 无需额外的元数据：与 XML 和 JSON 不同，Protobuf 中不需要额外的元数据来描述数据。相反，它使用预定义的消息类型和字段来定义数据结构。这意味着 Protobuf 不需要为每个值添加标签和类型信息，从而减少了数据量的大小。</p> 
<p>4. 代码生成：Protobuf 可以自动生成编解码器和相关的代码，这使得代码的体积非常小，而且不需要使用反射等机制。这些编解码器使用底层的二进制协议来快速地读取和写入数据。</p> 
<p>因此，由于它使用二进制编码、数据压缩、无需额外的元数据和代码生成等技术，Protobuf 可以实现非常小的数据量，并且可以实现高效的数据传输和存储。</p> 
<h3 id="%E9%81%87%E5%88%B0%E9%97%AE%E9%A2%98">遇到问题</h3> 
<p>protogen.exe是一个Protobuf for .net的库，期中protogen.exe是一个命令行程序，在使用这个命令行程序时总是出错。我使用的是3.2.8版本。和1.x的命令行参数完全不一样了。</p> 
<p><img alt="" height="532" src="https://images2.imgbox.com/0b/1c/dTm5A7BW_o.png" width="665"></p> 
<p> 我们看上面的命令提示信息，根据这些信息，尝试了很多参数都是报错误，于是将源代码拉下来研究一下。</p> 
<p> 代码库地址为：</p> 
<p><a href="https://github.com/protobuf-net/protobuf-net" title="protobuf-net/protobuf-net： Protocol Buffers library for habitmatic .NET (github.com)">protobuf-net/protobuf-net： Protocol Buffers library for habitmatic .NET (github.com)</a><br><br><br> 使用以下命令实现了将Person.proto转为Person.cs文件，并且Person.cs位于当前目录\cs</p> 
<pre><code>protogen Person.proto --csharp_out="cs"</code></pre> 
<p>来看看1.x的命令这样用：1.x提示很清楚，<span style="background-color:#ffd900;">3.x的提示让人无从下手</span></p> 
<pre><code>protogen -i:input.proto -o:output.cs</code></pre> 
<p>现在来对照之前的提示信息，我觉得<span style="background-color:#ffd900;">正常人</span>都想不到命令行参数要这么写（或许我水平有限），这算是一个坑吗？</p> 
<h3 id="%E9%A1%BA%E4%BE%BF%E7%A0%94%E7%A9%B6%E4%B8%80%E4%B8%8B%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%A8%8B%E5%BA%8F%E5%A6%82%E4%BD%95%E8%B0%83%E8%AF%95">顺便研究一下命令行程序如何调试</h3> 
<p>新建一个【调试参数配置】</p> 
<p><img alt="" height="274" src="https://images2.imgbox.com/b2/78/M5kT5Qth_o.png" width="678"></p> 
<p><img alt="" height="180" src="https://images2.imgbox.com/d4/a0/vxy6ZHoK_o.png" width="418"></p> 
<p>args先使用空格分割，再用=分割，左边是参数右边是值</p> 
<p><img alt="" height="168" src="https://images2.imgbox.com/cf/f6/ilXusXoQ_o.png" width="486"></p> 
<p><img alt="" height="192" src="https://images2.imgbox.com/86/a7/8Z0l4kuS_o.png" width="403"></p> 
<p> 了解了命令行args的用法，以后工作工可能用得到。</p> 
<p></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/dc06de035be6e4b490818042993372d3/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">2048小游戏（C语言实现）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/70a32736099a8eb04f9d0f02ec068f21/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【一文吃透归并排序】基本归并·原地归并·自然归并 C&#43;&#43;</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>