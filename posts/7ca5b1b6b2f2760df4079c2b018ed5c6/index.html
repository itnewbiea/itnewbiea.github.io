<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>C/C&#43;&#43; è¿æ¥è®¿é—® MySQLæ•°æ®åº“ - ITå­¦ä¹ è€…åšå®¢</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="C/C&#43;&#43; è¿æ¥è®¿é—® MySQLæ•°æ®åº“" />
<meta property="og:description" content="å‰é¢æˆ‘ä»¬å·²ç»è®²è¿°äº†MySQLçš„åŸºç¡€ä½¿ç”¨ï¼Œç°åœ¨æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹å¦‚ä½•ä½¿ç”¨è¯­è¨€æ¥æ“ä½œæ•°æ®åº“ã€‚åœ¨å®é™…å¼€å‘ä¸­ï¼Œè¯­è¨€è¿æ¥MySQLæ˜¯ä¸ºäº†èƒ½å¤Ÿåœ¨ç¼–ç¨‹è¯­è¨€ä¸­ä¸MySQLæ•°æ®åº“è¿›è¡Œäº¤äº’å’Œæ“ä½œã€‚å¤§éƒ¨åˆ†æƒ…å†µæˆ‘ä»¬éƒ½æ˜¯é€šè¿‡è¯­è¨€è¿æ¥MySQLï¼Œå»ºç«‹ä¸MySQLæ•°æ®åº“çš„è¿æ¥ï¼Œå¯ä»¥å‘MySQLæ•°æ®åº“å‘é€æ›´æ–°è¯·æ±‚ï¼Œå¦‚æ’å…¥ã€æ›´æ–°æˆ–åˆ é™¤æ•°æ®ã€‚æœ¬ç¯‡æ–‡ç« ä¸»è¦è®²è§£ä½¿ç”¨Cè¯­è¨€è¿æ¥MySQLæ•°æ®åº“ï¼Œå½“ç„¶åœ¨C&#43;&#43;ä¸­ä¹Ÿèƒ½å¤Ÿä½¿ç”¨ï¼Œå› ä¸ºC&#43;&#43;å…¼å®¹Cè¯­è¨€çš„ã€‚
æ–‡ç« ç›®å½•
ä¸€ã€è¿æ¥MySQL
1ã€1 MySQLå®˜ç½‘ä¸‹è½½åº“
1ã€2 å®‰è£…å¯¹åº”å¼€å‘åº“
äºŒã€MySQLæ¥å£ä»‹ç»
2ã€1 åˆ›å»ºå’Œé‡Šæ”¾ MYSQL å¯¹è±¡
2ã€2 è¿æ¥mysql
2ã€3 å‘é€sqlè¯­å¥
ğŸ™‹â€â™‚ï¸Â ä½œè€…ï¼š@GgggggtmÂ ğŸ™‹â€â™‚ï¸
ğŸ‘€Â ä¸“æ ï¼šMySQLÂ ğŸ‘€
ğŸ’¥Â æ ‡é¢˜ï¼šC/C&#43;&#43; è¿æ¥è®¿é—® MySQLğŸ’¥
â£ï¸Â å¯„è¯­ï¼šä¸å…¶å¿™ç€è¯‰è‹¦ï¼Œä¸å¦‚ä½å¤´èµ¶è·¯ï¼Œå¥‹è·¯å‰è¡Œï¼Œç»ˆå°†é‡åˆ°ä¸€ç•ªå¥½é£æ™¯Â â£ï¸Â ä¸€ã€è¿æ¥MySQL 1ã€1 MySQLå®˜ç½‘ä¸‹è½½åº“ è¦ä½¿ç”¨Cè¯­è¨€è¿æ¥mysqlï¼Œéœ€è¦ä½¿ç”¨mysqlå®˜ç½‘æä¾›çš„åº“ã€‚MySQLå®˜ç½‘ï¼šMySQLã€‚å¦‚ä¸‹å›¾ï¼š
ç„¶åç‚¹å‡»DOWNLOADSï¼Œå¦‚ä¸‹å›¾ï¼š
å¾€ä¸‹å¯»æ‰¾MySQL Community Downloadsï¼Œå¦‚ä¸‹å›¾ï¼š
å› ä¸ºæˆ‘ä»¬ä½¿ç”¨Cè¯­è¨€è¿æ¥MySQLï¼Œæ‰€ä»¥æŸ¥æ‰¾C APIï¼Œå¦‚ä¸‹å›¾ï¼š
ç„¶åç‚¹å‡»å¦‚ä¸‹å›¾ï¼š
æˆ‘ä¸ªäººæ‰€ç”¨çš„æ˜¯Linuxï¼Œæ‰€ä»¥é€‰æ‹©Linuxçš„å®‰è£…åŒ…ã€‚å¯æ ¹æ®è‡ªå·±çš„ç¯å¢ƒè¿›è¡Œé€‰æ‹©ï¼Œå¦‚ä¸‹å›¾ï¼š
å†æ¬¡é€‰æ‹©OSåˆé€‚çš„ç‰ˆæœ¬ï¼Œå¦‚ä¸‹å›¾ï¼š
å½“æˆ‘ä»¬ä¸‹è½½åï¼Œé‡‡ç”¨rz -Eçš„æ–¹æ³•å¯å°†å‹ç¼©åŒ…ä¼ è¾“åˆ°æˆ‘ä»¬çš„Linuxä¸Šã€‚ç„¶åå†ä½¿ç”¨ tar -xzfè¿›è¡Œè§£å‹å³å¯ã€‚è§£å‹åæˆ‘ä»¬å†çœ‹å…¶ä¸­çš„æ–‡ä»¶ï¼Œå¦‚ä¸‹å›¾ï¼š
å…¶ä¸­å¯¹æˆ‘ä»¬æœ‰ç”¨çš„å°±æ˜¯å¤´æ–‡ä»¶å’Œåº“å‡½æ•°äº†ã€‚å…·ä½“æ€ä¹ˆè¿›è¡Œä½¿ç”¨è¯¥å¤´æ–‡ä»¶å’Œåº“å‡½æ•°ï¼Œå¯ä»¥å‚ç…§æ–‡ç« ï¼šåŠ¨é™æ€åº“çš„åŸç†ä¸åˆ¶ä½œè¯¦è§£ã€‚è¿™é‡Œå°±ä¸å†è¿‡å¤šè§£é‡Šã€‚
ä½†æ˜¯æˆ‘ä»¬ä¹Ÿä¸å»ºè®®ä½¿ç”¨ä»¥ä¸Šæ–¹æ³•ï¼Œå› ä¸ºå…¶ä¸­å¯èƒ½ä¼šäº§ç”Ÿå…¼å®¹æ€§ç­‰é—®é¢˜ã€‚æˆ‘ä»¬æ¥ç€å¾€ä¸‹çœ‹ã€‚
1ã€2 å®‰è£…å¯¹åº”å¼€å‘åº“ å½“æˆ‘ä»¬å†Linuxå®‰è£…äº†mysqlçš„å¼€å‘ç¯å¢ƒæ—¶ï¼Œå°±ä¼šè‡ªåŠ¨ç»™æˆ‘ä»¬å®‰è£…å¯¹åº”çš„è¯­è¨€è¿æ¥mysql çš„å¤´æ–‡ä»¶ä¸åº“å‡½æ•°ã€‚æˆ‘ä»¬å¯ä»¥è¿›è¡ŒæŸ¥çœ‹ã€‚å…·ä½“æŸ¥çœ‹æ–¹æ³•å¦‚ä¸‹ï¼š
æŸ¥çœ‹å¤´æ–‡ä»¶ï¼šæŸ¥çœ‹å¯¹åº”çš„åº“ï¼š å¦‚æœä¸Šè¿°éƒ½èƒ½å¤ŸæŸ¥çœ‹åˆ°ï¼Œè¯æ˜å°±å·²ç»å®‰è£…äº†å¯¹åº”çš„å¼€å‘åº“ã€‚ä¸€èˆ¬æƒ…å†µä¸‹éƒ½æ˜¯æœ‰çš„ï¼Œå¦‚æœæ²¡æœ‰çš„è¯ï¼Œå¯ä»¥è¿›è¡Œè‡ªå·±å®‰è£…ï¼Œå¦‚ä¸‹å›¾ï¼š
æˆ‘è¿™é‡Œå·²ç»å®‰è£…è¿‡äº†ï¼Œæ‰€ä»¥æœ€åæ˜¾ç¤ºçš„æ˜¯Nothing to doã€‚ä¸‹é¢æˆ‘ä»¬æ¥éªŒè¯ä¸€ä¸‹çœ‹æ˜¯å¦å®‰è£…æˆåŠŸã€‚ä»£ç å¦‚ä¸‹ï¼š
#include &lt;iostream&gt; #include &lt;mysql/mysql.h&gt; int main() { printf(&#34;mysql client Version: %s\n&#34;, mysql_get_client_info()); return 0; } è¿è¡Œç»“æœå¦‚ä¸‹å›¾ï¼š" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/7ca5b1b6b2f2760df4079c2b018ed5c6/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-12-23T21:14:44+08:00" />
<meta property="article:modified_time" content="2023-12-23T21:14:44+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ITå­¦ä¹ è€…åšå®¢" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ITå­¦ä¹ è€…åšå®¢</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">C/C&#43;&#43; è¿æ¥è®¿é—® MySQLæ•°æ®åº“</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/13/12/CQdtdciX_o.gif">Â </p> 
<blockquote> 
 <p>Â  å‰é¢æˆ‘ä»¬å·²ç»è®²è¿°äº†MySQLçš„åŸºç¡€ä½¿ç”¨ï¼Œç°åœ¨æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹å¦‚ä½•ä½¿ç”¨è¯­è¨€æ¥æ“ä½œæ•°æ®åº“ã€‚åœ¨å®é™…å¼€å‘ä¸­ï¼Œè¯­è¨€è¿æ¥MySQLæ˜¯ä¸ºäº†èƒ½å¤Ÿåœ¨ç¼–ç¨‹è¯­è¨€ä¸­ä¸MySQLæ•°æ®åº“è¿›è¡Œäº¤äº’å’Œæ“ä½œã€‚å¤§éƒ¨åˆ†æƒ…å†µæˆ‘ä»¬éƒ½æ˜¯é€šè¿‡è¯­è¨€è¿æ¥MySQLï¼Œå»ºç«‹ä¸MySQLæ•°æ®åº“çš„è¿æ¥ï¼Œå¯ä»¥å‘MySQLæ•°æ®åº“å‘é€æ›´æ–°è¯·æ±‚ï¼Œå¦‚æ’å…¥ã€æ›´æ–°æˆ–åˆ é™¤æ•°æ®ã€‚<strong>æœ¬ç¯‡æ–‡ç« ä¸»è¦è®²è§£ä½¿ç”¨Cè¯­è¨€è¿æ¥MySQLæ•°æ®åº“ï¼Œå½“ç„¶åœ¨C++ä¸­ä¹Ÿèƒ½å¤Ÿä½¿ç”¨ï¼Œå› ä¸ºC++å…¼å®¹Cè¯­è¨€çš„</strong>ã€‚</p> 
</blockquote> 
<blockquote> 
 <p id="main-toc"><strong>æ–‡ç« ç›®å½•</strong></p> 
 <p id="%E4%B8%80%E3%80%81%E8%BF%9E%E6%8E%A5MySQL-toc" style="margin-left:0px;"><a href="#%E4%B8%80%E3%80%81%E8%BF%9E%E6%8E%A5MySQL" rel="nofollow">ä¸€ã€è¿æ¥MySQL</a></p> 
 <p id="1%E3%80%811%20MySQL%E5%AE%98%E7%BD%91%E4%B8%8B%E8%BD%BD%E5%BA%93-toc" style="margin-left:40px;"><a href="#1%E3%80%811%20MySQL%E5%AE%98%E7%BD%91%E4%B8%8B%E8%BD%BD%E5%BA%93" rel="nofollow">1ã€1 MySQLå®˜ç½‘ä¸‹è½½åº“</a></p> 
 <p id="1%E3%80%812%20%E5%AE%89%E8%A3%85%E5%AF%B9%E5%BA%94%E5%BC%80%E5%8F%91%E5%BA%93-toc" style="margin-left:40px;"><a href="#1%E3%80%812%20%E5%AE%89%E8%A3%85%E5%AF%B9%E5%BA%94%E5%BC%80%E5%8F%91%E5%BA%93" rel="nofollow">1ã€2 å®‰è£…å¯¹åº”å¼€å‘åº“</a></p> 
 <p id="%E4%BA%8C%E3%80%81MySQL%E6%8E%A5%E5%8F%A3%E4%BB%8B%E7%BB%8D-toc" style="margin-left:0px;"><a href="#%E4%BA%8C%E3%80%81MySQL%E6%8E%A5%E5%8F%A3%E4%BB%8B%E7%BB%8D" rel="nofollow">äºŒã€MySQLæ¥å£ä»‹ç»</a></p> 
 <p id="2%E3%80%811%20%E5%88%9B%E5%BB%BA%E5%92%8C%E9%87%8A%E6%94%BE%20MYSQL%20%E5%AF%B9%E8%B1%A1-toc" style="margin-left:40px;"><a href="#2%E3%80%811%20%E5%88%9B%E5%BB%BA%E5%92%8C%E9%87%8A%E6%94%BE%20MYSQL%20%E5%AF%B9%E8%B1%A1" rel="nofollow">2ã€1 åˆ›å»ºå’Œé‡Šæ”¾ MYSQL å¯¹è±¡</a></p> 
 <p id="2%E3%80%812%20%E8%BF%9E%E6%8E%A5mysql-toc" style="margin-left:40px;"><a href="#2%E3%80%812%20%E8%BF%9E%E6%8E%A5mysql" rel="nofollow">2ã€2 è¿æ¥mysql</a></p> 
 <p id="2%E3%80%813%20%E5%8F%91%E9%80%81sql%E8%AF%AD%E5%8F%A5-toc" style="margin-left:40px;"><a href="#2%E3%80%813%20%E5%8F%91%E9%80%81sql%E8%AF%AD%E5%8F%A5" rel="nofollow">2ã€3 å‘é€sqlè¯­å¥</a></p> 
 <hr id="hr-toc"> 
 <p><span style="color:#fe2c24;"><strong>ğŸ™‹â€â™‚ï¸Â ä½œè€…ï¼š@GgggggtmÂ ğŸ™‹â€â™‚ï¸</strong></span></p> 
 <p><span style="color:#fe2c24;"><strong>ğŸ‘€Â ä¸“æ ï¼šMySQLÂ  ğŸ‘€</strong></span></p> 
 <p><span style="color:#fe2c24;"><strong>ğŸ’¥Â æ ‡é¢˜ï¼šC/C++ è¿æ¥è®¿é—® MySQLğŸ’¥</strong></span></p> 
 <p><span style="color:#fe2c24;"><strong>Â â£ï¸Â å¯„è¯­ï¼šä¸å…¶å¿™ç€è¯‰è‹¦ï¼Œä¸å¦‚ä½å¤´èµ¶è·¯ï¼Œå¥‹è·¯å‰è¡Œï¼Œç»ˆå°†é‡åˆ°ä¸€ç•ªå¥½é£æ™¯Â â£ï¸</strong>Â </span></p> 
</blockquote> 
<h2 id="%E4%B8%80%E3%80%81%E8%BF%9E%E6%8E%A5MySQL">ä¸€ã€è¿æ¥MySQL</h2> 
<h3 id="1%E3%80%811%20MySQL%E5%AE%98%E7%BD%91%E4%B8%8B%E8%BD%BD%E5%BA%93">1ã€1 MySQLå®˜ç½‘ä¸‹è½½åº“</h3> 
<blockquote> 
 <p>Â Â <span style="color:#333333;">è¦ä½¿ç”¨</span><span style="color:#333333;">C</span><span style="color:#333333;">è¯­è¨€è¿æ¥</span><span style="color:#333333;">mysql</span><span style="color:#333333;">ï¼Œéœ€è¦ä½¿ç”¨</span><span style="color:#333333;">mysqlå®˜ç½‘æä¾›çš„åº“ã€‚MySQLå®˜ç½‘ï¼š</span><a href="https://www.mysql.com/cn/" rel="nofollow" title="MySQL">MySQL</a>ã€‚å¦‚ä¸‹å›¾ï¼š</p> 
 <p><img alt="" height="990" src="https://images2.imgbox.com/2d/49/pc1Be8O8_o.png" width="1200"></p> 
 <p>Â  ç„¶åç‚¹å‡»DOWNLOADSï¼Œå¦‚ä¸‹å›¾ï¼š</p> 
 <p><img alt="" height="647" src="https://images2.imgbox.com/eb/09/mFmaQLr8_o.png" width="1200"></p> 
 <p>Â  å¾€ä¸‹å¯»æ‰¾MySQL Community Downloadsï¼Œå¦‚ä¸‹å›¾ï¼š</p> 
 <p><img alt="" height="848" src="https://images2.imgbox.com/7b/12/YvflKr6Y_o.png" width="1200"></p> 
 <p>Â  å› ä¸ºæˆ‘ä»¬ä½¿ç”¨Cè¯­è¨€è¿æ¥MySQLï¼Œæ‰€ä»¥æŸ¥æ‰¾C APIï¼Œå¦‚ä¸‹å›¾ï¼š</p> 
 <p><img alt="" height="624" src="https://images2.imgbox.com/18/08/9NmFNoWG_o.png" width="1084"></p> 
 <p>Â  ç„¶åç‚¹å‡»å¦‚ä¸‹å›¾ï¼š</p> 
 <p><img alt="" height="477" src="https://images2.imgbox.com/05/8a/KqgTxMkS_o.png" width="862"></p> 
</blockquote> 
<blockquote> 
 <p>Â  æˆ‘ä¸ªäººæ‰€ç”¨çš„æ˜¯Linuxï¼Œæ‰€ä»¥é€‰æ‹©Linuxçš„å®‰è£…åŒ…ã€‚å¯æ ¹æ®è‡ªå·±çš„ç¯å¢ƒè¿›è¡Œé€‰æ‹©ï¼Œå¦‚ä¸‹å›¾ï¼š</p> 
 <p><img alt="" height="659" src="https://images2.imgbox.com/ea/80/j8dCuLLM_o.png" width="1133"></p> 
 <p>Â  å†æ¬¡é€‰æ‹©OSåˆé€‚çš„ç‰ˆæœ¬ï¼Œå¦‚ä¸‹å›¾ï¼š</p> 
 <p><img alt="" height="465" src="https://images2.imgbox.com/2e/9e/SnhkXDp2_o.png" width="1081"></p> 
 <p>Â  å½“æˆ‘ä»¬ä¸‹è½½åï¼Œé‡‡ç”¨rz -Eçš„æ–¹æ³•å¯å°†å‹ç¼©åŒ…ä¼ è¾“åˆ°æˆ‘ä»¬çš„Linuxä¸Šã€‚ç„¶åå†ä½¿ç”¨ tar -xzfè¿›è¡Œè§£å‹å³å¯ã€‚è§£å‹åæˆ‘ä»¬å†çœ‹å…¶ä¸­çš„æ–‡ä»¶ï¼Œå¦‚ä¸‹å›¾ï¼š</p> 
 <p><img alt="" height="261" src="https://images2.imgbox.com/99/91/xJOr1BAx_o.png" width="790"></p> 
 <p>Â  å…¶ä¸­å¯¹æˆ‘ä»¬æœ‰ç”¨çš„å°±æ˜¯å¤´æ–‡ä»¶å’Œåº“å‡½æ•°äº†ã€‚å…·ä½“æ€ä¹ˆè¿›è¡Œä½¿ç”¨è¯¥å¤´æ–‡ä»¶å’Œåº“å‡½æ•°ï¼Œå¯ä»¥å‚ç…§æ–‡ç« ï¼š<a href="https://blog.csdn.net/weixin_67596609/article/details/132334838" title="åŠ¨é™æ€åº“çš„åŸç†ä¸åˆ¶ä½œè¯¦è§£">åŠ¨é™æ€åº“çš„åŸç†ä¸åˆ¶ä½œè¯¦è§£</a>ã€‚è¿™é‡Œå°±ä¸å†è¿‡å¤šè§£é‡Šã€‚</p> 
 <p>Â  ä½†æ˜¯æˆ‘ä»¬ä¹Ÿä¸å»ºè®®ä½¿ç”¨ä»¥ä¸Šæ–¹æ³•ï¼Œå› ä¸ºå…¶ä¸­å¯èƒ½ä¼šäº§ç”Ÿå…¼å®¹æ€§ç­‰é—®é¢˜ã€‚æˆ‘ä»¬æ¥ç€å¾€ä¸‹çœ‹ã€‚</p> 
</blockquote> 
<h3 id="1%E3%80%812%20%E5%AE%89%E8%A3%85%E5%AF%B9%E5%BA%94%E5%BC%80%E5%8F%91%E5%BA%93">1ã€2 å®‰è£…å¯¹åº”å¼€å‘åº“</h3> 
<blockquote> 
 <p>Â  å½“æˆ‘ä»¬å†Linuxå®‰è£…äº†mysqlçš„å¼€å‘ç¯å¢ƒæ—¶ï¼Œå°±ä¼šè‡ªåŠ¨ç»™æˆ‘ä»¬å®‰è£…å¯¹åº”çš„è¯­è¨€è¿æ¥mysql çš„å¤´æ–‡ä»¶ä¸åº“å‡½æ•°ã€‚æˆ‘ä»¬å¯ä»¥è¿›è¡ŒæŸ¥çœ‹ã€‚å…·ä½“æŸ¥çœ‹æ–¹æ³•å¦‚ä¸‹ï¼š</p> 
 <ol><li>æŸ¥çœ‹å¤´æ–‡ä»¶ï¼š<img alt="" height="273" src="https://images2.imgbox.com/a2/1a/oFYGi19F_o.png" width="1200"></li><li>æŸ¥çœ‹å¯¹åº”çš„åº“ï¼š<img alt="" height="149" src="https://images2.imgbox.com/cb/72/9y7zmNY0_o.png" width="1200"></li></ol> 
 <p>Â  å¦‚æœä¸Šè¿°éƒ½èƒ½å¤ŸæŸ¥çœ‹åˆ°ï¼Œè¯æ˜å°±å·²ç»å®‰è£…äº†å¯¹åº”çš„å¼€å‘åº“ã€‚ä¸€èˆ¬æƒ…å†µä¸‹éƒ½æ˜¯æœ‰çš„ï¼Œå¦‚æœæ²¡æœ‰çš„è¯ï¼Œå¯ä»¥è¿›è¡Œè‡ªå·±å®‰è£…ï¼Œå¦‚ä¸‹å›¾ï¼š</p> 
 <p><img alt="" height="477" src="https://images2.imgbox.com/ff/ac/WScs6U2a_o.png" width="1200"></p> 
 <p>Â  æˆ‘è¿™é‡Œå·²ç»å®‰è£…è¿‡äº†ï¼Œæ‰€ä»¥æœ€åæ˜¾ç¤ºçš„æ˜¯Nothing to doã€‚ä¸‹é¢æˆ‘ä»¬æ¥éªŒè¯ä¸€ä¸‹çœ‹æ˜¯å¦å®‰è£…æˆåŠŸã€‚ä»£ç å¦‚ä¸‹ï¼š</p> 
 <pre><code class="language-cpp">#include &lt;iostream&gt;
#include &lt;mysql/mysql.h&gt;

int main()
{
    printf("mysql client Version: %s\n", mysql_get_client_info());
    return 0;
}</code></pre> 
 <p>Â  è¿è¡Œç»“æœå¦‚ä¸‹å›¾ï¼š</p> 
 <p><img alt="" height="157" src="https://images2.imgbox.com/74/1a/BS1qt7GG_o.png" width="541"></p> 
 <p>Â  åˆ°è¿™é‡Œå°±è¯æ˜å·²ç»å®‰è£…æˆåŠŸå¯¹åº”çš„å¼€å‘åº“äº†ï¼Œä¸”å¯ä»¥æ­£å¸¸ä½¿ç”¨äº†ã€‚è¿™é‡Œå†è¯´æ˜ä¸€ä¸‹ï¼š</p> 
 <ul><li>æˆ‘ä»¬å†åŒ…å«å¤´æ–‡ä»¶æ—¶ï¼Œåªéœ€è¦åŒ…å«mysql.hå³å¯ã€‚ä½†æ˜¯éœ€è¦æ·»åŠ ä¸Šå¯¹åº”çš„mysql/mysql.hã€‚å› ä¸ºg++ç¼–è¯‘å™¨åªä¼šå»includeè·¯å¾„ä¸‹å¯»æ‰¾ï¼Œè€Œæˆ‘ä»¬çš„å¤´æ–‡ä»¶åœ¨includeè·¯å¾„ä¸‹çš„mysqlæ–‡ä»¶å¤¹ä¸­ã€‚</li><li>mysql_get_client_info()å‡½æ•°å°±æ˜¯è¿‡å»è‡ªèº«ç‰ˆæœ¬ä¿¡æ¯çš„ä¸€ä¸ªå‡½æ•°ã€‚</li><li>æˆ‘ä»¬åœ¨ä½¿ç”¨g++è¿›è¡Œç¼–è¯‘æ—¶ï¼Œè¿˜éœ€è¦æŒ‡æ˜å¯¹åº”çš„åº“æ–‡ä»¶çš„æœç´¢è·¯å¾„å’Œæ‰€ä½¿ç”¨çš„åº“åç§°ã€‚g++ç¼–è¯‘å™¨åœ¨ç¼–è¯‘æ—¶ï¼Œåªä¼šå¯»æ‰¾C++ç›¸å…³çš„åº“å’Œç³»ç»Ÿè‡ªå¸¦çš„åº“ã€‚è€Œæˆ‘ä»¬è‡ªå·±å®‰è£…çš„éœ€è¦æŒ‡æ˜åº“çš„æœç´¢è·¯å¾„å’Œæ‰€ç”¨åˆ°çš„åº“åç§°ã€‚ç®€å•ç†è§£ï¼Œå°±æ˜¯å‘Šè¯‰g++ï¼Œæˆ‘ä»¬æ‰€ç”¨åˆ°çš„åº“çš„è·¯å¾„ã€‚ä»£ç å¦‚ä¸‹ï¼š <pre><code class="language-bash">g++ -o mytest mytest.cc -std=c++11 -L /lib64/mysql -lmysqlclient</code></pre> </li></ul> 
</blockquote> 
<h2 id="%E4%BA%8C%E3%80%81MySQL%E6%8E%A5%E5%8F%A3%E4%BB%8B%E7%BB%8D">äºŒã€MySQLæ¥å£ä»‹ç»</h2> 
<h3 id="2%E3%80%811%20%E5%88%9B%E5%BB%BA%E5%92%8C%E9%87%8A%E6%94%BE%20MYSQL%20%E5%AF%B9%E8%B1%A1">2ã€1 åˆ›å»ºå’Œé‡Šæ”¾ MYSQL å¯¹è±¡</h3> 
<blockquote> 
 <p>Â  å‡½æ•°åŸå‹ï¼š</p> 
 <pre><code class="language-cpp">MYSQL *mysql_init(MYSQL *mysql)
</code></pre> 
 <p>Â  <strong>è¯¥å‡½æ•°æ¥å—ä¸€ä¸ªMYSQLç±»å‹çš„æŒ‡é’ˆä½œä¸ºå‚æ•°ï¼Œä¸€èˆ¬æˆ‘ä»¬éƒ½è®¾ç½®ä¸ºNULL</strong>ã€‚<strong>å¹¶è¿”å›ä¸€ä¸ªMYSQLç±»å‹çš„æŒ‡é’ˆï¼Œè¿™ä¸ªæŒ‡é’ˆæŒ‡å‘åˆå§‹åŒ–åçš„MySQLè¿æ¥å¥æŸ„</strong>ã€‚</p> 
 <p>Â  å…·ä½“æ¥è¯´ï¼Œmysql_init()å‡½æ•°å®Œæˆä»¥ä¸‹å‡ ä¸ªä»»åŠ¡ï¼š</p> 
 <ol><li> <p>åˆ†é…å†…å­˜ç©ºé—´ï¼šå®ƒä¼šä¸ºMYSQLç»“æ„ä½“ç±»å‹çš„å˜é‡åˆ†é…è¶³å¤Ÿçš„å†…å­˜ç©ºé—´ã€‚MYSQLç»“æ„ä½“åŒ…å«äº†ä¸MySQLæœåŠ¡å™¨é€šä¿¡æ‰€éœ€çš„å„ç§ä¿¡æ¯å’ŒçŠ¶æ€ã€‚</p> </li><li> <p>åˆå§‹åŒ–ç»“æ„ä½“æˆå‘˜ï¼šå®ƒä¼šå°†MYSQLç»“æ„ä½“ä¸­çš„å„ä¸ªæˆå‘˜åˆå§‹åŒ–ä¸ºé»˜è®¤å€¼ã€‚è¿™äº›æˆå‘˜åŒ…æ‹¬è¿æ¥å±æ€§ã€é”™è¯¯ä¿¡æ¯ç­‰ã€‚</p> </li><li> <p>è¿”å›è¿æ¥å¥æŸ„ï¼šå®ƒä¼šè¿”å›æŒ‡å‘åˆå§‹åŒ–åçš„MYSQLç»“æ„ä½“çš„æŒ‡é’ˆï¼Œæˆ‘ä»¬å¯ä»¥å°†è¿™ä¸ªæŒ‡é’ˆä¿å­˜ä¸‹æ¥ï¼Œåœ¨åç»­çš„MySQLæ“ä½œä¸­ä½¿ç”¨ã€‚</p> </li></ol> 
 <p>Â  MYSQLç»“æ„ä½“ä¸­åŒ…å«äº†ä¼—å¤šå±æ€§ä¿¡æ¯ï¼Œå…·ä½“å¦‚ä¸‹ï¼š</p> 
 <pre><code class="language-cpp">typedef struct st_mysql {
	NET net;			/* Communication parameters */
    unsigned char	*connector_fd;		/* ConnectorFd for SSL */
    char *host,*user,*passwd,*unix_socket,*server_version,*host_info;
    char *info, *db;
    struct charset_info_st *charset;
    MYSQL_FIELD	*fields;
    MEM_ROOT field_alloc;
    my_ulonglong affected_rows;
    my_ulonglong insert_id;		/* id if insert on table with NEXTNR */
    my_ulonglong extra_info;		/* Not used */
    unsigned long thread_id;		/* Id for connection in server */
    unsigned long packet_length;
    unsigned int port;
    unsigned long client_flag,server_capabilities;
    unsigned int protocol_version;
    unsigned int field_count;
    unsigned int server_status;
    unsigned int server_language;
    unsigned int warning_count;
    struct st_mysql_options options;
    enum mysql_status status;
    my_bool	free_me;		/* If free in mysql_close */
    my_bool	reconnect;		/* set to 1 if automatic reconnect */

    /* session-wide random string */
    char scramble[SCRAMBLE_LENGTH+1];
    my_bool unused1;
    void *unused2, *unused3, *unused4, *unused5;

    LIST *stmts;                     /* list of all statements */
    const struct st_mysql_methods *methods;
    void *thd;
    /*
      Points to boolean flag in MYSQL_RES  or MYSQL_STMT. We set this flag
      from mysql_stmt_close if close had to cancel result set of this object.
    */
    my_bool *unbuffered_fetch_owner;
    /* needed for embedded server - no net buffer to store the 'info' */
    char *info_buffer;
    void *extension;
} MYSQL;
</code></pre> 
 <p>Â  éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œmysql_init()å‡½æ•°ä¸ä¼šåˆ›å»ºå®é™…çš„è¿æ¥ï¼›åªæ˜¯åˆå§‹åŒ–äº†ä¸€ä¸ªè¿æ¥å¥æŸ„ï¼Œæˆ‘ä»¬è¿˜éœ€è¦é€šè¿‡å…¶ä»–å‡½æ•°ï¼ˆå¦‚mysql_real_connect()ï¼‰æ¥å»ºç«‹ä¸MySQLæœåŠ¡å™¨çš„å®é™…è¿æ¥ã€‚åç»­ä¼šè¯¦ç»†è§£é‡Šã€‚</p> 
</blockquote> 
<blockquote> 
 <p>Â  åœ¨<strong>è¿æ¥ä½¿ç”¨å®Œæˆåï¼Œæˆ‘ä»¬è¿˜éœ€è¦é€šè¿‡mysql_close()å‡½æ•°å…³é—­è¿æ¥å¹¶é‡Šæ”¾å†…å­˜</strong>ã€‚å‡½æ•°åŸå‹å¦‚ä¸‹ï¼š</p> 
 <pre><code class="language-cpp">void mysql_close(MYSQL *connection);
</code></pre> 
 <p>å‚æ•°ï¼š</p> 
 <ul><li>connectionï¼šæŒ‡å‘ä¸€ä¸ªå·²ç»æ‰“å¼€çš„<code>MYSQL</code>å¯¹è±¡çš„æŒ‡é’ˆã€‚è¯¥å¯¹è±¡ä»£è¡¨ä¸MySQLæœåŠ¡å™¨çš„è¿æ¥ã€‚</li></ul> 
 <p>Â  è¯¥å‡½æ•°æ²¡æœ‰è¿”å›å€¼ã€‚æ³¨æ„äº‹é¡¹ï¼š</p> 
 <ol><li>åœ¨è°ƒç”¨mysql_closeä¹‹å‰ï¼Œç¡®ä¿å·²ç»å®Œæˆäº†ä¸æ•°æ®åº“çš„æ‰€æœ‰æ“ä½œï¼ŒåŒ…æ‹¬æŸ¥è¯¢å’Œäº‹åŠ¡ç­‰ã€‚</li><li>å…³é—­è¿æ¥åï¼Œå°†æ— æ³•å†ä½¿ç”¨è¯¥è¿æ¥å¯¹è±¡æ‰§è¡Œä»»ä½•æ“ä½œï¼Œé™¤éé‡æ–°ä½¿ç”¨mysql_real_connectå»ºç«‹æ–°çš„è¿æ¥ã€‚</li><li>å¯¹äºå¤šä¸ªçº¿ç¨‹åŒæ—¶å…±äº«ä¸€ä¸ªè¿æ¥å¯¹è±¡çš„æƒ…å†µï¼Œåº”è¯¥ç¡®ä¿åœ¨å¤šä¸ªçº¿ç¨‹ä¹‹é—´æ­£ç¡®åœ°åè°ƒå’ŒåŒæ­¥è¿æ¥çš„æ‰“å¼€å’Œå…³é—­æ“ä½œï¼Œä»¥é¿å…å‡ºç°ç«æ€æ¡ä»¶å’Œæ„å¤–é”™è¯¯ã€‚</li></ol> 
</blockquote> 
<h3 id="2%E3%80%812%20%E8%BF%9E%E6%8E%A5mysql">2ã€2 è¿æ¥mysql</h3> 
<blockquote> 
 <p><span style="color:#494949;">Â  åˆå§‹åŒ–å®Œæ¯•ä¹‹åï¼Œå¿…é¡»å…ˆé“¾æ¥æ•°æ®åº“ï¼Œåœ¨è¿›è¡Œåç»­æ“ä½œã€‚ï¼ˆmysqlç½‘ç»œéƒ¨åˆ†æ˜¯åŸºäºTCP/IPçš„ï¼‰Â </span></p> 
 <p><span style="color:#494949;">Â  <strong>å‡½æ•°åŸå‹ï¼š</strong></span></p> 
 <pre><code class="language-cpp">MYSQL *mysql_real_connect(MYSQL *mysql, const char *host,
    const char *user,
    const char *passwd,
    const char *db,
    unsigned int port,
    const char *unix_socket,
    unsigned long clientflag);</code></pre> 
 <p>Â <strong> å‚æ•°è¯´æ˜ï¼š</strong></p> 
 <ul><li><code>mysql</code>ï¼šä¸€ä¸ªé¢„å…ˆåˆ†é…å’Œåˆå§‹åŒ–çš„MYSQLå¯¹è±¡æŒ‡é’ˆã€‚è¯¥æŒ‡é’ˆç”¨äºä¿å­˜ä¸MySQLæœåŠ¡å™¨çš„è¿æ¥ç›¸å…³ä¿¡æ¯ã€‚</li><li><code>host</code>ï¼šMySQLæœåŠ¡å™¨çš„ä¸»æœºåæˆ–IPåœ°å€ã€‚</li><li><code>user</code>ï¼šè¿æ¥MySQLæœåŠ¡å™¨æ‰€ä½¿ç”¨çš„ç”¨æˆ·åã€‚</li><li><code>passwd</code>ï¼šè¿æ¥MySQLæœåŠ¡å™¨æ‰€ä½¿ç”¨çš„å¯†ç ã€‚</li><li><code>db</code>ï¼šè¿æ¥æˆåŠŸåè¦ä½¿ç”¨çš„é»˜è®¤æ•°æ®åº“åã€‚</li><li><code>port</code>ï¼šMySQLæœåŠ¡å™¨çš„ç«¯å£å·ã€‚</li><li><code>unix_socket</code>ï¼šUnixåŸŸå¥—æ¥å­—è·¯å¾„ï¼Œç”¨äºæœ¬åœ°è¿æ¥Unixç³»ç»Ÿä¸Šçš„MySQLæœåŠ¡å™¨ï¼Œä¸€èˆ¬æƒ…å†µéƒ½å±è®¾ç½®ä¸ºnullptrã€‚</li><li><code>client_flag</code>ï¼šå®¢æˆ·ç«¯æ ‡å¿—ä½ï¼Œç”¨äºæŒ‡å®šè¿æ¥é€‰é¡¹ã€‚</li></ul> 
 <p>Â  <strong>è¿”å›å€¼ï¼š</strong></p> 
 <ul><li>è¿æ¥æˆåŠŸæ—¶ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„MYSQLå¯¹è±¡æŒ‡é’ˆï¼Œè¯¥å¯¹è±¡ä¸ç¬¬ä¸€ä¸ªå‚æ•°çš„å€¼ç›¸åŒï¼Œç”¨äºåç»­çš„MySQLæ“ä½œã€‚</li><li>è¿æ¥å¤±è´¥æ—¶ï¼Œè¿”å›NULLï¼Œå¹¶é€šè¿‡è°ƒç”¨mysql_errno()å’Œmysql_error()å‡½æ•°è·å–é”™è¯¯ä»£ç å’Œé”™è¯¯ä¿¡æ¯ã€‚</li></ul> 
 <p><strong>Â  ä½¿ç”¨mysql_real_connectå‡½æ•°ï¼Œå¯ä»¥å®ç°ä»¥ä¸‹åŠŸèƒ½ï¼š</strong></p> 
 <ol><li>ä¸MySQLæœåŠ¡å™¨å»ºç«‹èµ·è¿æ¥ã€‚</li><li>æŒ‡å®šè¦è¿æ¥çš„æ•°æ®åº“ã€‚</li></ol> 
</blockquote> 
<blockquote> 
 <p>Â  æ¥ä¸‹æ¥æˆ‘ä»¬å°±æ¥çœ‹ä¸€ä¸ªå®é™…çš„è¿æ¥mysqlçš„ä¾‹å­ï¼Œä»£ç å¦‚ä¸‹ï¼šÂ </p> 
 <pre><code class="language-cpp">#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;cstdio&gt;
#include &lt;cstring&gt;
#include &lt;mysql/mysql.h&gt;

using namespace std;

const string Host = "127.0.0.1";
const string User = "gtm";
const string Passwd = "123654";
const string Db = "test";
unsigned int Port = 3306;

int main()
{
    MYSQL* my = mysql_init(NULL);
    if(my == nullptr)
    {
        cerr &lt;&lt; "mysql init error!" &lt;&lt; endl;
        exit(1);
    }
    cout &lt;&lt; "mysql init success!" &lt;&lt; endl;

    if(mysql_real_connect(my, Host.c_str(), User.c_str(), Passwd.c_str(), Db.c_str(), Port, nullptr, 0) ==nullptr)
    {
        cerr &lt;&lt; "mysql connect error!" &lt;&lt; endl;
        exit(2);
    }
    cout &lt;&lt; "mysql connect success!" &lt;&lt; endl;

    mysql_close(my);
    cout &lt;&lt; "mysql close success!" &lt;&lt; endl;    
    return 0;
}
</code></pre> 
 <p>Â  æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹è¿è¡Œç»“æœï¼Œå¦‚ä¸‹å›¾ï¼š</p> 
 <p><img alt="" height="295" src="https://images2.imgbox.com/a4/aa/6kaOqOYd_o.png" width="807"></p> 
</blockquote> 
<h3 id="2%E3%80%813%20%E5%8F%91%E9%80%81sql%E8%AF%AD%E5%8F%A5" style="background-color:transparent;">2ã€3 å‘é€sqlè¯­å¥</h3> 
<blockquote> 
 <p>Â  å‰é¢éƒ½æ˜¯å‡†å¤‡å·¥ä½œï¼Œç°åœ¨æˆ‘ä»¬å¯ä»¥å‘mysqlå‘é€sqlæŒ‡ä»¤äº†ã€‚å‡½æ•°åŸå‹ï¼š</p> 
 <pre><code class="language-cpp">int mysql_query(MYSQL *mysql, const char *query)</code></pre> 
 <p>Â  è¯¥å‡½æ•°æ¥å—ä¸¤ä¸ªå‚æ•°ï¼šä¸€ä¸ªæ˜¯MYSQLç»“æ„ä½“æŒ‡é’ˆï¼Œä»£è¡¨ä¸MySQLæœåŠ¡å™¨çš„è¿æ¥ï¼›å¦ä¸€ä¸ªæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æŒ‡é’ˆï¼Œä»£è¡¨è¦æ‰§è¡Œçš„SQLæŸ¥è¯¢è¯­å¥ã€‚</p> 
 <p>Â  å‡½æ•°è¿”å›ä¸€ä¸ªæ•´æ•°å€¼ï¼Œç”¨äºè¡¨ç¤ºæŸ¥è¯¢æ‰§è¡Œçš„ç»“æœã€‚å¦‚æœæ‰§è¡ŒæˆåŠŸï¼Œè¿”å›0ï¼›å¦‚æœæ‰§è¡Œå¤±è´¥ï¼Œè¿”å›éé›¶å€¼ï¼Œè¡¨ç¤ºå‡ºé”™çš„ç±»å‹ã€‚åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œå¯ä»¥é€šè¿‡è°ƒç”¨mysql_error()å‡½æ•°è·å–é”™è¯¯ä¿¡æ¯ã€‚</p> 
 <p>Â  ç¨å¾®æ€»ç»“ä¸€ä¸‹ï¼Œä½¿ç”¨mysql_query()å‡½æ•°æ‰§è¡ŒSQLæŸ¥è¯¢çš„ä¸€èˆ¬æ­¥éª¤å¦‚ä¸‹ï¼š</p> 
 <ol><li> <p>å»ºç«‹ä¸MySQLæœåŠ¡å™¨çš„è¿æ¥ï¼Œå¯ä»¥ä½¿ç”¨mysql_init()å‡½æ•°åˆå§‹åŒ–ä¸€ä¸ªMYSQLç»“æ„ä½“ï¼Œå¹¶é€šè¿‡mysql_real_connect()å‡½æ•°å»ºç«‹è¿æ¥ã€‚</p> </li><li> <p>æ„é€ è¦æ‰§è¡Œçš„SQLè¯­å¥ï¼Œä»¥å­—ç¬¦ä¸²å½¢å¼ä¼ é€’ç»™mysql_query()å‡½æ•°ã€‚</p> </li><li> <p>è°ƒç”¨mysql_query()å‡½æ•°æ‰§è¡ŒSQLè¯­å¥ã€‚</p> </li><li> <p>æ ¹æ®è¿”å›å€¼åˆ¤æ–­æŸ¥è¯¢æ‰§è¡Œç»“æœï¼Œå¦‚æœè¿”å›0ï¼Œåˆ™è¡¨ç¤ºæ‰§è¡ŒæˆåŠŸï¼›å¦‚æœè¿”å›éé›¶å€¼ï¼Œåˆ™è¡¨ç¤ºæ‰§è¡Œå¤±è´¥ã€‚</p> </li></ol> 
 <p>Â  æˆ‘ä»¬ç°åœ¨æŸ¥çœ‹ä¸€ä¸‹gtmç”¨æˆ·ä¸‹testæ•°æ®åº“ä¸­éƒ½æœ‰å“ªäº›è¡¨ï¼Œå¦‚ä¸‹å›¾ï¼š</p> 
 <p><img alt="" height="300" src="https://images2.imgbox.com/94/da/c8uuVWFf_o.png" width="271"></p> 
 <p>Â  teståº“æ­£å¼æˆ‘ä»¬æ‰€è¿æ¥çš„åº“ã€‚æˆ‘ä»¬ç°åœ¨é€šè¿‡mysql_queryå‡½æ•°å‘t1è¡¨ä¸­æ’å…¥æ•°æ®ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹t1è¡¨ä¸­ç°æœ‰çš„æ•°æ®ï¼Œå¦‚ä¸‹å›¾ï¼š</p> 
 <p><img alt="" height="300" src="https://images2.imgbox.com/90/a5/vDGzEkpW_o.png" width="368"></p> 
 <p>Â  æˆ‘ä»¬å†æ¥æ’å…¥æ•°æ®ï¼Œä»£ç å¦‚ä¸‹ï¼š</p> 
 <pre><code class="language-cpp">#include &lt;iostream&gt;
#include &lt;cstdlib&gt;
#include &lt;string&gt;
#include &lt;cstdio&gt;
#include &lt;cstring&gt;
#include &lt;mysql/mysql.h&gt;

using namespace std;

const string Host = "127.0.0.1";
const string User = "gtm";
const string Passwd = "gao520918";
const string Db = "test";
unsigned int Port = 3306;

int main()
{
    MYSQL* my = mysql_init(NULL);
    if(my == nullptr)
    {
        cerr &lt;&lt; "mysql init error!" &lt;&lt; endl;
        exit(1);
    }
    cout &lt;&lt; "mysql init success!" &lt;&lt; endl;
    if(mysql_real_connect(my, Host.c_str(), User.c_str(), Passwd.c_str(), Db.c_str(), Port, nullptr, 0) ==nullptr)
    {
        cerr &lt;&lt; "mysql connect error!" &lt;&lt; endl;
        exit(2);
    }
    cout &lt;&lt; "mysql connect success!" &lt;&lt; endl;
    const char* sql = "insert into t1 values(18,'xiaogao','ç”·')";
    int n = mysql_query(my, sql);
    if(n != 0)
    {
        cout &lt;&lt; "mysql query error!" &lt;&lt; endl;
        exit(3);
    }
    cout &lt;&lt; "mysql query success!" &lt;&lt; endl;
    mysql_close(my);
    cout &lt;&lt; "mysql close success!" &lt;&lt; endl;    
    return 0;
}
</code></pre> 
 <p>Â  æˆ‘ä»¬å†æ¥çœ‹æ’å…¥çš„ç»“æœï¼Œå¦‚ä¸‹å›¾ï¼š</p> 
 <p><img alt="" height="110" src="https://images2.imgbox.com/c3/d7/Mn59T5WF_o.png" width="601"></p> 
 <p>Â  é€šè¿‡ä¸Šå›¾å¯ä»¥çœ‹åˆ°ï¼Œè¿æ¥æˆåŠŸäº†ä½†æ˜¯ä¸‹è¾¾æŒ‡ä»¤å¤±è´¥äº†ã€‚æˆ‘ä»¬æ£€æŸ¥äº†è¯­æ³•å¹¶æ²¡æœ‰é”™è¯¯ï¼Œé‚£æ˜¯ä»€ä¹ˆåŸå› å‘¢ï¼Ÿæ³¨æ„ï¼šæˆ‘ä»¬ä½¿ç”¨çš„è¯­è¨€æ’å…¥æ•°æ®æ—¶ï¼Œè¿˜éœ€è¦è®¾ç½®å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ä¹‹é—´çš„å­—ç¬¦é›†ã€‚è®¾ç½®å­—ç¬¦é›†å‡½æ•°åŸå‹å¦‚ä¸‹ï¼š</p> 
 <pre><code class="language-cpp">int mysql_set_character_set(MYSQL *mysql, const char *charset)</code></pre> 
 <p>å‚æ•°è¯´æ˜ï¼š</p> 
 <ul><li><code>mysql</code>ï¼šå·²åˆå§‹åŒ–çš„MYSQLç»“æ„ä½“æŒ‡é’ˆï¼Œè¡¨ç¤ºä¸MySQLæœåŠ¡å™¨çš„è¿æ¥ã€‚</li><li><code>charset</code>ï¼šä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºè¦è®¾ç½®çš„å­—ç¬¦é›†åç§°ã€‚</li></ul> 
 <p>è¿”å›å€¼ï¼š</p> 
 <ul><li>è®¾ç½®æˆåŠŸè¿”å›0ï¼Œå¦åˆ™è¿”å›éé›¶å€¼ã€‚</li></ul> 
 <p>Â  æˆ‘ä»¬çŸ¥é“ï¼Œè¿œç«¯çš„mysqlçš„å­—ç¬¦é›†æ—¶utf8ï¼Œé‚£ä¹ˆåœ¨æ¥æ¥æˆåŠŸåè®¾ç½®ä¸€ä¸‹å­—ç¬¦é›†å³å¯ã€‚ä»£ç å¦‚ä¸‹ï¼š</p> 
 <pre><code class="language-cpp">mysql_set_character_set(my, "utf8");</code></pre> 
 <p>Â  æˆ‘ä»¬å†æ¬¡è¿›è¡Œæ’å…¥ï¼Œå¦‚ä¸‹å›¾ï¼š</p> 
 <p><img alt="" height="151" src="https://images2.imgbox.com/0e/b6/CfZogYkE_o.png" width="565"></p> 
 <p>Â  æˆ‘ä»¬çœ‹åˆ°ï¼Œç°åœ¨å°±å¯ä»¥æ’å…¥æˆåŠŸäº†ã€‚å†çœ‹ä¸€ä¸‹æ•°æ®æ˜¯å¦æ’å…¥åˆ°å¯¹åº”çš„è¡¨ä¸­ï¼Œå¦‚ä¸‹å›¾ï¼š</p> 
 <p><img alt="" height="300" src="https://images2.imgbox.com/db/bc/0YuAW0Hk_o.png" width="385"></p> 
 <p>Â  å…¶å®åˆ é™¤å’Œæ›´æ–°çš„sqlè¯­å¥éƒ½ä¸æ’å…¥è¯­å¥ç›¸åŒï¼Œç›´æ¥ä»¥å­—ç¬¦ä¸²å½¢å¼ä¼ é€’ç»™mysql_query()å‡½æ•°ã€‚ä½†æ˜¯æˆ‘ä»¬æƒ³æŸ¥è¯¢å‘¢ï¼ŸåŒæ—¶è¿˜éœ€è¦è·å–æŸ¥è¯¢ç»“æœè¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ</p> 
</blockquote> 
<blockquote> 
 <p>Â  mysql_store_resultÂ å‡½æ•°ç”¨äºå°†æŸ¥è¯¢ç»“æœä¿å­˜åœ¨ä¸€ä¸ªå®¢æˆ·ç«¯å¯è®¿é—®çš„ç¼“å†²åŒºä¸­ã€‚å®ƒç”¨äºå¤„ç†ä»æ•°æ®åº“ä¸­æ£€ç´¢çš„ç»“æœé›†ã€‚å‡½æ•°åŸå‹å¦‚ä¸‹ï¼š</p> 
 <pre><code class="language-cpp">MYSQL_RES* mysql_store_result(MYSQL *mysql);</code></pre> 
 <p>Â  <strong>å‚æ•°è¯´æ˜ï¼š</strong></p> 
 <ul><li><code>mysql</code>ï¼šä¸€ä¸ªæŒ‡å‘MYSQLç»“æ„ä½“çš„æŒ‡é’ˆï¼Œè¡¨ç¤ºä¸MySQLæœåŠ¡å™¨çš„è¿æ¥ã€‚</li></ul> 
 <p>Â <strong> è¿”å›å€¼ï¼š</strong></p> 
 <ul><li>æˆåŠŸæ—¶ï¼Œè¿”å›ä¸€ä¸ªæŒ‡å‘MYSQL_RESç»“æ„ä½“çš„æŒ‡é’ˆï¼Œè¡¨ç¤ºæŸ¥è¯¢ç»“æœé›†ã€‚</li><li>å¤±è´¥æ—¶ï¼Œè¿”å›NULLã€‚</li></ul> 
 <p>Â  ä½¿ç”¨mysql_store_resultå‡½æ•°çš„å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p> 
 <ol><li>åœ¨æ‰§è¡ŒæŸ¥è¯¢è¯­å¥åï¼Œè°ƒç”¨mysql_store_resultå‡½æ•°æ¥è·å–æŸ¥è¯¢ç»“æœé›†ã€‚</li><li>åˆ¤æ–­è¿”å›å€¼æ˜¯å¦ä¸ºNULLï¼Œå¦‚æœä¸ºNULLï¼Œåˆ™è¡¨ç¤ºæŸ¥è¯¢å‡ºé”™ã€‚</li><li>é€šè¿‡è¿”å›çš„MYSQL_RESæŒ‡é’ˆï¼Œå¯ä»¥ä½¿ç”¨å…¶ä»–å‡½æ•°æ¥è·å–å’Œå¤„ç†ç»“æœé›†çš„æ•°æ®ã€‚</li></ol> 
 <p>Â  MYSQL_RESå˜é‡ä¸­ä¿å­˜äº†æŸ¥è¯¢å¾—åˆ°çš„å„ç§ä¿¡æ¯ï¼Œå…¶ç±»å‹å®šä¹‰å¦‚ä¸‹ï¼š</p> 
 <pre><code class="language-cpp">typedef struct st_mysql_res {
	my_ulonglong  row_count;
	MYSQL_FIELD	*fields;
	MYSQL_DATA	*data;
	MYSQL_ROWS	*data_cursor;
	unsigned long *lengths;		/* column lengths of current row */
	MYSQL		*handle;		/* for unbuffered reads */
    const struct st_mysql_methods *methods;
    MYSQL_ROW	row;			/* If unbuffered read */
    MYSQL_ROW	current_row;		/* buffer to current row */
    MEM_ROOT	field_alloc;
    unsigned int	field_count, current_field;
    my_bool	eof;			/* Used by mysql_fetch_row */
    /* mysql_stmt_close() had to cancel this result */
    my_bool       unbuffered_fetch_cancelled;
    void *extension;
} MYSQL_RES;
</code></pre> 
 <p>Â  æˆ‘ä»¬çŸ¥é“æŸ¥è¯¢çš„ç»“æœä¼šä¿å­˜åœ¨MYSQL_RESå˜é‡ä¸­ï¼Œä½†æ˜¯æ€ä¹ˆæå–å…¶ä¸­çš„æ•°æ®å‘¢ï¼Ÿæˆ‘ä»¬çŸ¥é“åœ¨MySQLä¸­æŸ¥è¯¢çš„ç»“æœæ˜¯ä¸€å¼ äºŒç»´è¡¨ï¼Œå¦‚ä¸‹å›¾ï¼š</p> 
 <p><img alt="" height="300" src="https://images2.imgbox.com/d9/5c/uqjZZvaB_o.png" width="398"></p> 
 <p>Â  é‚£ä¹ˆæˆ‘ä»¬é¦–å…ˆè¦åšçš„å°±æ˜¯è·å–è¡¨ä¸­æ•°æ®çš„è¡Œæ•°å’Œåˆ—æ•°ã€‚å…¶å‡½æ•°åŸå‹å¦‚ä¸‹ï¼š</p> 
 <pre><code class="language-cpp">//è·å–æŸ¥è¯¢ç»“æœçš„è¡Œæ•°
my_ulonglong mysql_num_rows(MYSQL_RES *res);

//è·å–æŸ¥è¯¢ç»“æœçš„åˆ—æ•°
unsigned int mysql_num_fields(MYSQL_RES *res);</code></pre> 
 <ul><li>Â  mysql_num_fieldså‡½æ•°æ˜¯ä¸€ä¸ªç”¨äºè·å–ç»“æœé›†ä¸­å­—æ®µï¼ˆåˆ—ï¼‰çš„æ•°é‡çš„MySQLå‡½æ•°ã€‚å®ƒçš„ä½œç”¨æ˜¯è¿”å›ä¸€ä¸ªç»“æœé›†ä¸­å­—æ®µçš„æ•°é‡ï¼Œå¯ä»¥ç”¨äºç¡®å®šæŸ¥è¯¢ç»“æœé›†ä¸­æœ‰å¤šå°‘åˆ—ã€‚</li><li>Â Â mysql_num_fieldså‡½æ•°çš„è¿”å›å€¼æ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºç»“æœé›†ä¸­çš„å­—æ®µæ•°é‡ã€‚å¦‚æœå‘ç”Ÿé”™è¯¯æˆ–ç»“æœé›†ä¸ºç©ºï¼Œåˆ™è¿”å›0ã€‚</li><li>Â  mysql_num_rowså‡½æ•°æ˜¯ä¸€ä¸ªç”¨äºè·å–ç»“æœé›†ä¸­è¡Œçš„æ•°é‡çš„MySQLå‡½æ•°ã€‚å®ƒçš„ä½œç”¨æ˜¯è¿”å›ä¸€ä¸ªç»“æœé›†ä¸­è¡Œçš„æ•°é‡ï¼Œå¯ä»¥ç”¨äºç¡®å®šæŸ¥è¯¢ç»“æœé›†ä¸­æœ‰å¤šå°‘è¡Œæ•°æ®ã€‚</li><li>Â  mysql_num_rowså‡½æ•°çš„è¿”å›å€¼æ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºç»“æœé›†ä¸­çš„è¡Œæ•°é‡ã€‚å¦‚æœå‘ç”Ÿé”™è¯¯æˆ–ç»“æœé›†ä¸ºç©ºï¼Œåˆ™è¿”å›0ã€‚</li></ul> 
 <p>Â  è¿™ä¸¤ä¸ªå‡½æ•°çš„å‚æ•°å‡æ˜¯mysql_store_resultÂ å‡½æ•°çš„è¿”å›å€¼ã€‚ä¹Ÿå°±æ˜¯æˆ‘ä»¬æ‰€è·å–çš„æŸ¥è¯¢ç»“æœé›†ã€‚åªæœ‰è¡Œæ•°å’Œåˆ—æ•°ä¸å¤Ÿï¼Œæˆ‘ä»¬è¿˜éœ€è¦èƒ½å¤Ÿè·å–å…¶ä¸­çš„å†…å®¹ï¼Œæˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸ªå‡½æ•°ï¼Œå‡½æ•°åŸå‹å¦‚ä¸‹ï¼š</p> 
 <pre><code class="language-cpp">MYSQL_ROW mysql_fetch_row(MYSQL_RES *result);</code></pre> 
 <p>å‚æ•°è§£é‡Šï¼š</p> 
 <ul><li><code>result</code>ï¼š<code>MYSQL_RES</code>Â ç»“æ„ä½“æŒ‡é’ˆï¼Œè¡¨ç¤ºæŸ¥è¯¢ç»“æœé›†ã€‚</li></ul> 
 <p>è¿”å›å€¼ï¼š</p> 
 <ul><li><code>MYSQL_ROW</code>ï¼šç»“æœé›†ä¸­ä¸‹ä¸€è¡Œçš„æ•°æ®ï¼Œä»¥å­—ç¬¦ä¸²æ•°ç»„çš„å½¢å¼è¿”å›ã€‚å¦‚æœå·²ç»è¯»å–å®Œæ‰€æœ‰è¡Œï¼Œåˆ™è¿”å›NULLã€‚</li></ul> 
 <p>Â  å®é™…ä¸ŠMYSQL_ROWå°±æ˜¯ä¸€ä¸ªchar**çš„ç±»å‹ï¼Œå…¶ç±»å‹å®šä¹‰å¦‚ä¸‹ï¼š</p> 
 <pre><code class="language-cpp">typedef char **MYSQL_ROW;		/* return data as array of strings */</code></pre> 
 <p>Â Â mysql_fetch_rowå‡½æ•°ä¹Ÿå¾ˆåƒè¿­ä»£å™¨ï¼Œå½“æˆ‘ä»¬æŸ¥æ‰¾ä¸€è¡Œæ•°æ®åï¼Œmysql_fetch_rowä¼šè‡ªåŠ¨çš„å‘åç§»åŠ¨ä¸€è¡Œï¼Œå¹¶ä¸éœ€è¦ä½¿ç”¨è€…è‡ªå·±å»æ“ä½œå…³å¿ƒã€‚æ¥ä¸‹æ¥æˆ‘ä»¬çœ‹ä¸€ä¸ªæŸ¥è¯¢çš„å®ä¾‹ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š</p> 
 <pre><code class="language-cpp">#include &lt;iostream&gt;
#include &lt;cstdlib&gt;
#include &lt;string&gt;
#include &lt;cstdio&gt;
#include &lt;cstring&gt;
#include &lt;mysql/mysql.h&gt;

using namespace std;

const string Host = "127.0.0.1";
const string User = "gtm";
const string Passwd = "gao520918";
const string Db = "test";
unsigned int Port = 3306;

int main()
{
    MYSQL* my = mysql_init(NULL);
    if(my == nullptr)
    {
        cerr &lt;&lt; "mysql init error!" &lt;&lt; endl;
        exit(1);
    }
    cout &lt;&lt; "mysql init success!" &lt;&lt; endl;
    if(mysql_real_connect(my, Host.c_str(), User.c_str(), Passwd.c_str(), Db.c_str(), Port, nullptr, 0) ==nullptr)
    {
        cerr &lt;&lt; "mysql connect error!" &lt;&lt; endl;
        exit(2);
    }
    cout &lt;&lt; "mysql connect success!" &lt;&lt; endl;
    mysql_set_character_set(my, "utf8");
    const char* sql = "select * from t1";
    int n = mysql_query(my, sql);

    int n = mysql_query(my, sql);
    if(n != 0)
    {
        cout &lt;&lt; "mysql query error!" &lt;&lt; endl;
        exit(3);
    }
    cout &lt;&lt; "mysql query success!" &lt;&lt; endl;

    MYSQL_RES* res = mysql_store_result(my);
    int row = mysql_num_rows(res);
    int col = mysql_num_fields(res);

    for(int i = 0; i &lt; row; i++)
    {
        MYSQL_ROW line = mysql_fetch_row(res);
        for(int j = 0; j &lt; col; j++)
        {
            cout &lt;&lt; line[j] &lt;&lt; "\t";
        }
        cout &lt;&lt; endl;
    }
    mysql_free_result(res);
    mysql_close(my);
    cout &lt;&lt; "mysql close success!" &lt;&lt; endl;    
    return 0;
}</code></pre> 
 <p>Â  è¿è¡Œç»“æœå¦‚ä¸‹å›¾ï¼š</p> 
 <p><img alt="" height="300" src="https://images2.imgbox.com/fe/98/vqZQPd9S_o.png" width="498"></p> 
 <p>Â  ä½†æ˜¯ä¸Šè¿°è·å–è¡Œä¿¡æ¯ä¸­ï¼Œå¹¶æ²¡æœ‰è·å–åˆ°åˆ—çš„åå­—ã€‚çœ‹èµ·æ¥å¹¶ä¸å®Œæ•´ï¼Œæˆ‘ä»¬åœ¨çœ‹å¦‚ä¸‹å‡½æ•°ï¼š</p> 
 <pre><code class="language-cpp">MYSQL_FIELD* mysql_fetch_fields(MYSQL_RES *res);</code></pre> 
 <p>Â å‚æ•°ï¼š</p> 
 <ul><li><code>res</code>ï¼šä¸€ä¸ªæŒ‡å‘MYSQL_RESç±»å‹çš„ç»“æœé›†æŒ‡é’ˆã€‚è¯¥ç»“æœé›†é€šå¸¸é€šè¿‡è°ƒç”¨<code>mysql_store_result()</code>æˆ–<code>mysql_use_result()</code>å‡½æ•°ä»MySQLæœåŠ¡å™¨è·å¾—ã€‚</li></ul> 
 <p>Â  è¿”å›å€¼ï¼š</p> 
 <ul><li>å¦‚æœæˆåŠŸï¼Œè¿”å›ä¸€ä¸ªæŒ‡å‘MYSQL_FIELDç»“æ„ä½“æ•°ç»„çš„æŒ‡é’ˆï¼Œå…¶ä¸­æ¯ä¸ªå…ƒç´ ä»£è¡¨ç»“æœé›†çš„ä¸€ä¸ªå­—æ®µã€‚</li><li>å¦‚æœå¤±è´¥ï¼Œè¿”å›NULLã€‚</li></ul> 
 <p>Â  mysql_fetch_fieldså‡½æ•°è¿”å›ä¸€ä¸ªæŒ‡å‘MYSQL_FIELDç»“æ„ä½“æ•°ç»„çš„æŒ‡é’ˆã€‚MYSQL_FIELDç»“æ„ä½“åŒ…å«æ¯ä¸ªåˆ—ç›¸å…³å­—æ®µçš„è¯¦ç»†ä¿¡æ¯ï¼Œå¦‚å­—æ®µåã€å­—æ®µç±»å‹ã€å­—æ®µé•¿åº¦ç­‰ã€‚ç»“æ„ä½“å…·ä½“å†…å®¹å¦‚ä¸‹ï¼š</p> 
 <pre><code class="language-cpp">typedef struct st_mysql_field {
	char *name;                 /* Name of column */
	char *org_name;             /* Original column name, if an alias */
	char *table;                /* Table of column if column was a field */
	char *org_table;            /* Org table name, if table was an alias */
	char *db;                   /* Database for table */
	char *catalog;	      /* Catalog for table */
	char *def;                  /* Default value (set by mysql_list_fields) */
	unsigned long length;       /* Width of column (create length) */
	unsigned long max_length;   /* Max width for selected set */
	unsigned int name_length;
	unsigned int org_name_length;
	unsigned int table_length;
	unsigned int org_table_length;
	unsigned int db_length;
	unsigned int catalog_length;
	unsigned int def_length;
	unsigned int flags;         /* Div flags */
	unsigned int decimals;      /* Number of decimals in field */
	unsigned int charsetnr;     /* Character set */
	enum enum_field_types type; /* Type of field. See mysql_com.h for types */
	void *extension;
} MYSQL_FIELD;
</code></pre> 
 <p>Â  å…¶ç”¨æ³•ä¹Ÿç›¸å½“ç®€å•ï¼Œæˆ‘ä»¬è·å–åˆ°äº†åˆ—æ•°ï¼Œé‚£ä¹ˆå°±å¯ä»¥ç›´æ¥æ‰“å°å³å¯ï¼Œç”¨æ³•å¦‚ä¸‹ï¼š</p> 
 <pre><code class="language-cpp">    MYSQL_FIELD* fields = mysql_fetch_fields(res);
    for(int i = 0; i &lt; col; i++)
    {
        cout &lt;&lt; fields[i].name &lt;&lt; "\t\t";
    }
    cout &lt;&lt; endl;</code></pre> 
 <p>Â  æˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸‹è¿è¡Œç»“æœï¼Œå¦‚ä¸‹å›¾;</p> 
 <p><img alt="" height="406" src="https://images2.imgbox.com/db/50/LcjbLz7h_o.png" width="645"></p> 
</blockquote>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/a636c249c72fc064761f1de231733cd6/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">ä¸­æ±½ç ”å®ä¹ é¢è¯•</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/cdb08808a58898e6d9e7917bba4f72f9/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">ã€K8S in Actionã€‘æœåŠ¡ï¼šè®©å®¢æˆ·ç«¯å‘ç°pod å¹¶ä¸ä¹‹é€šä¿¡ï¼ˆ2ï¼‰</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ITå­¦ä¹ è€…åšå®¢.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>