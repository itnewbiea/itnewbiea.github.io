<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>浏览器特性与安全策略 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="浏览器特性与安全策略" />
<meta property="og:description" content="同源策略 同源策略规定：不同域的客户端脚本在没有明确授权的情况下，不能读写对象的资源。
同源和异源 不同域
协议不同(HTTP与HTTPS)域名不同(顶级域，www域和子域)端口不同(比如80端口和81端口) 同域
多了目录，符号协议，域名，端口都相同 网页授权 通过HTTP响应头返回字段设置的，设置字段如下：Access-Controll-Allow-Origin: http://www.demo.com
沙盒框架(Sandboxed frame) 是对常规&lt;iframe&gt;表现行为的扩展，它能让顶级页面对其嵌入的子页面及这些子页面的子资源设置一些额外的限制
通过&lt;iframe&gt;的参数实现限制
Allow-scripts ：是否允许执行javascript脚本，没有则不允许Allow-forms ： 是否允许使用form表单，没有则不允许Allow-top-navigation : 是否允许嵌入子页面控制顶级窗口的地址跳转，没有则不允许Allow-same-origin : 是否允许访问同源数据，没有则不允许 Flash安全沙箱 分为本地沙箱与远程沙箱类似同源策略，在同一域内的资源会被放到一个安全组下，称为安全沙箱Web站点通过crossdomain.xml文件配置可以提供允许的跨域访问本域上内容的权限(放置于站点根目录)
&lt;cross-domain-policy&gt; &lt;allow-access-form domain=&#34;.youku.com&#34; /&gt; &lt;/cross-domain-policy&gt; Cookie的安全策略 Domain 用于指定Cookie的有效域Path 用于指定Cookie的有效URL路径Secure 如果设置该属性，仅在HTTPS请求中提交CookieHttp 其实是HttpOnly, 如果设置该属性，客户端javascript无法获取Cookie的值 内容安全策略 (Content Security Polity, CSP) 通过编码在HTTP响应头中的指令来实施策略
Content-Security-Polity:script-src &#39;self&#39; https://baidu.comCSP的一些指令
default-src : 该指令在某种资源类型指定指令没有被定义的情况下制定了所有资源类型的加载策略(即默认的资源加载策略)script-src : 该指令指定了Web应用程序可以加载的脚本的域或URLobject-src : 该指令制定了Web应用程序可以加载的插件，如Falshstyle-src : 该指令制定了Web应用程序可以加载的CSS样式表的域或URLimg-src : 该指令指定了Web应用程序可以加载的图片的域或URLmedia-src : 该指令指定了Web应用程序可以加载的音视频的域或URL
frame-src : 该指令指定了Web应用程序可以加载的框架的域或URL
font-src : 该指令指定了Web应用程序可以加载的字体的域或URL
connect-src : 该指令指定了Web应用程序可以加载的像XHR, WebSockets, 以及EventSource等脚本接口的域或URL" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/55796b56f3cd591fc27c65ef80f98f0c/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-03-27T11:45:29+08:00" />
<meta property="article:modified_time" content="2018-03-27T11:45:29+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">浏览器特性与安全策略</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h4 id="同源策略">同源策略</h4> 
<p>同源策略规定：不同域的客户端脚本在没有明确授权的情况下，不能读写对象的资源。</p> 
<h4 id="同源和异源">同源和异源</h4> 
<p>不同域</p> 
<ul><li>协议不同(HTTP与HTTPS)</li><li>域名不同(顶级域，www域和子域)</li><li>端口不同(比如80端口和81端口)</li></ul> 
<p>同域</p> 
<ul><li>多了目录，符号协议，域名，端口都相同</li></ul> 
<h4 id="网页授权">网页授权</h4> 
<p>通过HTTP响应头返回字段设置的，设置字段如下：<code>Access-Controll-Allow-Origin: http://www.demo.com</code></p> 
<h4 id="沙盒框架sandboxed-frame">沙盒框架(Sandboxed frame)</h4> 
<ul><li><p>是对常规<code>&lt;iframe&gt;</code>表现行为的扩展，它能让顶级页面对其嵌入的子页面及这些子页面的子资源设置一些额外的限制</p></li><li><p>通过<code>&lt;iframe&gt;</code>的参数实现限制</p> 
  <ul><li><code>Allow-scripts</code> ：是否允许执行javascript脚本，没有则不允许</li><li><code>Allow-forms</code> ： 是否允许使用form表单，没有则不允许</li><li><code>Allow-top-navigation</code> : 是否允许嵌入子页面控制顶级窗口的地址跳转，没有则不允许</li><li><code>Allow-same-origin</code> : 是否允许访问同源数据，没有则不允许</li></ul></li></ul> 
<h4 id="flash安全沙箱">Flash安全沙箱</h4> 
<ul><li>分为本地沙箱与远程沙箱</li><li>类似同源策略，在同一域内的资源会被放到一个安全组下，称为安全沙箱</li><li><p>Web站点通过crossdomain.xml文件配置可以提供允许的跨域访问本域上内容的权限(放置于站点根目录)</p> <pre class="prettyprint"><code class=" hljs lasso"><span class="hljs-subst">&lt;</span>cross<span class="hljs-attribute">-domain</span><span class="hljs-attribute">-policy</span><span class="hljs-subst">&gt;</span>
 <span class="hljs-subst">&lt;</span>allow<span class="hljs-attribute">-access</span><span class="hljs-attribute">-form</span> domain<span class="hljs-subst">=</span><span class="hljs-string">".youku.com"</span> <span class="hljs-subst">/</span><span class="hljs-subst">&gt;</span>
<span class="hljs-subst">&lt;</span>/cross<span class="hljs-attribute">-domain</span><span class="hljs-attribute">-policy</span><span class="hljs-subst">&gt;</span>
</code></pre></li></ul> 
<h4 id="cookie的安全策略">Cookie的安全策略</h4> 
<ul><li><code>Domain</code> 用于指定Cookie的有效域</li><li><code>Path</code> 用于指定Cookie的有效URL路径</li><li><code>Secure</code> 如果设置该属性，仅在HTTPS请求中提交Cookie</li><li><code>Http</code> 其实是<code>HttpOnly</code>, 如果设置该属性，客户端javascript无法获取Cookie的值</li></ul> 
<h4 id="内容安全策略-content-security-polity-csp">内容安全策略 (Content Security Polity, CSP)</h4> 
<p>通过编码在HTTP响应头中的指令来实施策略</p> 
<ul><li><code>Content-Security-Polity:script-src 'self' https://baidu.com</code></li><li><p>CSP的一些指令</p> 
  <ul><li><code>default-src</code> : 该指令在某种资源类型指定指令没有被定义的情况下制定了所有资源类型的加载策略(即默认的资源加载策略)</li><li><code>script-src</code> : 该指令指定了Web应用程序可以加载的脚本的域或URL</li><li><code>object-src</code> : 该指令制定了Web应用程序可以加载的插件，如Falsh</li><li><code>style-src</code> : 该指令制定了Web应用程序可以加载的CSS样式表的域或URL</li><li><code>img-src</code> : 该指令指定了Web应用程序可以加载的图片的域或URL</li><li><p><code>media-src</code> : 该指令指定了Web应用程序可以加载的音视频的域或URL</p></li><li><p><code>frame-src</code> : 该指令指定了Web应用程序可以加载的框架的域或URL</p></li><li><p><code>font-src</code> : 该指令指定了Web应用程序可以加载的字体的域或URL</p></li><li><p><code>connect-src</code> : 该指令指定了Web应用程序可以加载的像XHR, WebSockets, 以及EventSource等脚本接口的域或URL</p></li><li><p><code>plugin-types</code> : 该指令指定了哪些MIME类型的插件可以被加载(浏览器支持度不够)</p></li><li><p><code>form-action</code> : 该指令指定了HTML表单可以提交的URLS(浏览器支持度不够)</p></li><li><p><code>reflected-xss</code> : 该指令告诉浏览器开启或关闭任何用于过滤或组织反射跨站脚本攻击的启发式算法，这相当于X-XSS-Protection响应头的效果(浏览器支持度不够)</p></li></ul></li></ul>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/30d14ee059d643557dad7eb83a93f352/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">MATLAB在信号与系统中的应用（3）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/56d03d5c9c0de1da779bdeb30189d7e7/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Java开发 — 将JavaWeb项目部署到Tomcat之后报错org.springframework.beans.factory.CannotLoadBean：Error loading class</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>