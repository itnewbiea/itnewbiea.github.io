<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>MongoDB用Navicat的基本sql操作 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="MongoDB用Navicat的基本sql操作" />
<meta property="og:description" content="常用命令 1.插入与查询
1.1 插入文档的语法格式：
db.集合名称.insert({JSON格式的数据})
db.bl_comment.insert({ commentContent: &#39;我是内容&#39;, commentUser: NumberInt(12345), commentBlog: &#39;123213141321&#39;, commentGoods: NumberInt(0), createTime: &#39;20200410&#39; }) 创建一个集合,相当于关系型数据中的表,并初始化每个字段对应的值,表名为:bl_comment
1.2 查询集合的语法格式：
db.集合名称.find()
1.3 查询commentContent是&#39;我是内容&#39;的数据
db.集合名称.find({commentContent: ‘我是内容’})
如果需要查询 _id 的值的话需要用 ObjectId(查询条件) 包起来才可以.
1.4 只查询一条
db.bl_comment.findOne({createTime: &#39;2020-04-10&#39;})
1.5 返回指定条数的记录
db.集合名称.find().limit(3)
2 修改与删除文档 修改文档的语法结构：
Db.集合名称.update(条件,修改后的数据)
如果我们想修改_id为1的记录，名称为张三，输入以下语句：
Db.集合名称.update({_Id:ObjectId(1)}, {name:’张三’})
执行后，我们会发现，这条文档除了name字段其它字段都不见了，为了解决这个问题，
我们需要使用修改器$set来实现，命令如下：
Db.集合名称.update({_Id:1}, {$set:{name:’张三’}})
删除文档的语法结构：
Db.集合名称.remove(条件)
以下语句可以将数据全部删除，请慎用
Db.集合名称.remove({})
3 统计条数 统计记录条件使用count()方法
Db.集合名称.count()
Db.集合名称.count(条件) 4 模糊查询 MongoDB的模糊查询是通过正则表达式的方式实现的。格式为：
/字符串/
比如标题中包含java的帖子
Db.集合名称.find(title:/java/)
比如查询以“张”开头的名字
Db.集合名称.find(name: /^张/)
5 大于 小于 不等于 包含 不包含 大于：$gt，小于$lt，大于等于$gte，小于等于$lte，不等于$ne，包含$in，不包含$nin" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/6dfce6bf32af040ad1b24b844ffcf68b/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-04-10T23:11:28+08:00" />
<meta property="article:modified_time" content="2020-04-10T23:11:28+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">MongoDB用Navicat的基本sql操作</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h4>                                                                 <strong><strong><strong>常用命令</strong></strong></strong></h4> 
<p><strong>1.插入与查询</strong></p> 
<p style="margin-left:0pt;"><strong>1.1 插入文档的语法格式：</strong></p> 
<p style="margin-left:0pt;">db.集合名称.insert({JSON格式的数据})</p> 
<pre><code class="language-cpp">db.bl_comment.insert({
commentContent: '我是内容',
commentUser: NumberInt(12345),
commentBlog: '123213141321',
commentGoods: NumberInt(0),
createTime: '20200410'
})</code></pre> 
<p>创建一个集合,相当于关系型数据中的表,并初始化每个字段对应的值,表名为:bl_comment</p> 
<p><img alt="" height="567" src="https://images2.imgbox.com/f1/55/JmO6llEy_o.png" width="1022"></p> 
<hr> 
<p style="margin-left:0pt;"><strong>1.2 查询集合的语法格式：</strong></p> 
<p style="margin-left:0pt;">db.集合名称.find()</p> 
<p style="margin-left:0pt;"><img alt="" height="335" src="https://images2.imgbox.com/fd/df/jYGpiU4u_o.png" width="768"></p> 
<hr> 
<p style="margin-left:0pt;"><strong>1.3 查询commentContent是'我是内容'的数据</strong></p> 
<p style="margin-left:0pt;">db.集合名称.find({commentContent: ‘我是内容’})</p> 
<p style="margin-left:0pt;"><img alt="" height="233" src="https://images2.imgbox.com/7d/36/mDseNPJD_o.png" width="766"></p> 
<p>如果需要查询 _id 的值的话需要用 ObjectId(查询条件)  包起来才可以.</p> 
<p><img alt="" height="158" src="https://images2.imgbox.com/5e/78/pe4ibhur_o.png" width="749"></p> 
<hr> 
<p> </p> 
<p style="margin-left:0pt;"><strong>1.4 只查询一条</strong></p> 
<p style="margin-left:0pt;">db.bl_comment.findOne({createTime: '2020-04-10'})</p> 
<p style="margin-left:0pt;"><img alt="" height="187" src="https://images2.imgbox.com/82/a6/IOPkMm0W_o.png" width="765"></p> 
<hr> 
<p style="margin-left:0pt;"><strong>1.5 返回指定条数的记录</strong></p> 
<p style="margin-left:0pt;">db.集合名称.find().limit(3)</p> 
<p style="margin-left:0pt;"><img alt="" height="239" src="https://images2.imgbox.com/3f/17/yCHedYEg_o.png" width="760"></p> 
<hr> 
<p> </p> 
<h3><strong><strong><strong>2 修改与删除文档 </strong></strong></strong></h3> 
<p style="margin-left:0pt;">修改文档的语法结构：</p> 
<p style="margin-left:0pt;">Db.集合名称.update(条件,修改后的数据)</p> 
<p style="margin-left:0pt;">如果我们想修改_id为1的记录，名称为张三，输入以下语句：</p> 
<p style="margin-left:0pt;">Db.集合名称.update({_Id:ObjectId(1)}, {name:’张三’})</p> 
<p style="margin-left:0pt;">执行后，我们会发现，这条文档除了name字段其它字段都不见了，为了解决这个问题，</p> 
<p style="margin-left:0pt;">我们需要使用修改器$set来实现，命令如下：</p> 
<p style="margin-left:0pt;">Db.集合名称.update({_Id:1}, {$set:{name:’张三’}})</p> 
<p style="margin-left:0pt;"> </p> 
<p style="margin-left:0pt;">删除文档的语法结构：</p> 
<p style="margin-left:0pt;">Db.集合名称.remove(条件)</p> 
<p style="margin-left:0pt;">以下语句可以将数据全部删除，请慎用</p> 
<p style="margin-left:0pt;">Db.集合名称.remove({})</p> 
<hr> 
<p> </p> 
<h3><strong><strong><strong>3 统计条数 </strong></strong></strong></h3> 
<p style="margin-left:0pt;">统计记录条件使用count()方法</p> 
<p style="margin-left:0pt;">Db.集合名称.count()</p> 
<p style="margin-left:0pt;">Db.集合名称.count(条件)  </p> 
<hr> 
<p> </p> 
<h3><strong><strong><strong>4 模糊查询 </strong></strong></strong></h3> 
<p style="margin-left:0pt;">MongoDB的模糊查询是通过正则表达式的方式实现的。格式为：</p> 
<p style="margin-left:0pt;">/字符串/</p> 
<p style="margin-left:0pt;">比如标题中包含java的帖子</p> 
<p style="margin-left:0pt;">Db.集合名称.find(title:/java/)</p> 
<p style="margin-left:0pt;">比如查询以“张”开头的名字</p> 
<p style="margin-left:0pt;">Db.集合名称.find(name: /^张/)</p> 
<hr> 
<p> </p> 
<h3><strong><strong><strong>5 大于 小于 不等于 包含 不包含</strong></strong></strong></h3> 
<p style="margin-left:0pt;">大于：$gt，小于$lt，大于等于$gte，小于等于$lte，不等于$ne，包含$in，不包含$nin</p> 
<p style="margin-left:0pt;">查询阅读数大于10的帖子</p> 
<p style="margin-left:0pt;">Db.集合名称.find({readNum:{$gt:10}})</p> 
<p style="margin-left:0pt;">查询评论集合中userid字段不包含1013和1014的文档</p> 
<p style="margin-left:0pt;">Db.集合名称.find({userId: {$nin:[‘1013’, ‘1014’]}})</p> 
<hr> 
<p> </p> 
<h3><strong><strong><strong>6 条件连接 </strong></strong></strong></h3> 
<p style="margin-left:0pt;">我们如果需要查询同时满足两个以上条件，需要使用$and操作符将条件进行关联。（相</p> 
<p style="margin-left:0pt;">当于SQL的and）</p> 
<p style="margin-left:0pt;">格式为：</p> 
<p style="margin-left:0pt;">$and:[ { },{ },{ } ]</p> 
<p style="margin-left:0pt;">示例：查询帖子集合中readNum大于等于1000 并且小于2000的文档</p> 
<p style="margin-left:0pt;">Db.集合名称.find( {$and: [ {readNum:{$gte:1000}}, {readNum:{$lte: 2000}} ]} )</p> 
<p style="margin-left:0pt;">如果两个以上条件之间是或者的关系，我们使用$or 用法和and相同</p> 
<p style="margin-left:0pt;">$or:[ { },{ },{ } ]  </p> 
<p style="margin-left:0pt;">列值增长</p> 
<p style="margin-left:0pt;">如果我们想实现对某列值在原有值的基础上进行增加或减少，可以使用$inc运算符来实现</p> 
<p style="margin-left:0pt;">Db.集合名称.update({_id:1}, {$inc:{readNum:NumberInt(2)}})</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/04487e6fdd8c41786a0d4f0e1d6fc721/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">JS实现：纵向表格，且可在当前行下方添加一行</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/168a17960551d6e68fdbd4d2705a2b11/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">易语言写到文件，文件的编码是utf-8，一般默认是ansi</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>