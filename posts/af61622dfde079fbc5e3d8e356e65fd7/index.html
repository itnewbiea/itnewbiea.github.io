<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>计算一张100px*100px的图片在内存中会占用多大内存 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="计算一张100px*100px的图片在内存中会占用多大内存" />
<meta property="og:description" content="在实际开发当中我们经常会忽视如题问题，只是知道图片越小越好，甚至根本不知道如何计算，今天笔者就抛砖引玉一把！
Android中一张图片（Bitmap）占用的内存主要和以下几个因数有关：图片长度，图片宽度，单位像素占用的字节数。 计算方法：一张图片（Bitmap）占用的内存=图片长度*图片宽度*单位像素占用的字节数 长度和宽度不用多做解释 ，单位是像素；关键是单位像素占用的字节数如何获得呢？ 这里不得不提一下Bitmap创建的API Bitmap bitmap = BitmapFactory.decodeResource(Resources res,int id, BitmapFactory.Options opts); 单位像素占用的字节数由其参数BitmapFactory.Options的inPreferredConfig变量决定,默认为Bitmap.Config.ARGB_8888 inPreferredConfig为Bitmap.Config类型， Bitmap.Config 类是个枚举类型，它可以为以下值 ALPHA_8Each pixel is stored as a single translucency (alpha) channel. This is very useful to efficiently store masks for instance. No color information is stored. With this configuration, each pixel requires 1 byte of memory.此时图片只有alpha值，没有RGB值，一个像素占用1个字节ARGB_4444This field is deprecated. Because of the poor quality of this configuration, it is advised to use ARGB_8888instead." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/af61622dfde079fbc5e3d8e356e65fd7/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2017-04-11T17:25:00+08:00" />
<meta property="article:modified_time" content="2017-04-11T17:25:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">计算一张100px*100px的图片在内存中会占用多大内存</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div id="cnblogs_post_body" class="blogpost-body"> 
 <p>  在实际开发当中我们经常会忽视如题问题，只是知道图片越小越好，甚至根本不知道如何计算，今天笔者就抛砖引玉一把！</p> 
 <div class="js-evernote-checked"> 
  <span class="js-evernote-checked">  Android中一张图片（Bitmap）占用的内存主要和以下几个因数有关：图片长度，图片宽度，单位像素占用的字节数。</span> 
 </div> 
 <div class="js-evernote-checked"> 
  <span class="js-evernote-checked">  计算方法：一张图片（Bitmap）占用的<span class="js-evernote-checked"><span class="js-evernote-checked">内存<span class="js-evernote-checked">=<span class="js-evernote-checked"><span class="js-evernote-checked">图片长度<span class="js-evernote-checked">*<span class="js-evernote-checked">图片宽度<span class="js-evernote-checked">*<span class="js-evernote-checked">单位<span class="js-evernote-checked"><span class="js-evernote-checked">像素占用的字节数</span></span></span></span></span></span></span></span></span></span></span></span> 
 </div> 
 <div class="js-evernote-checked">
   长度和宽度不用多做解释 ，单位是像素；关键是单位像素占用的字节数如何获得呢？ 
 </div> 
 <div class="js-evernote-checked">
   这里不得不提一下Bitmap创建的API 
 </div> 
 <div class="js-evernote-checked">
      Bitmap bitmap = BitmapFactory.decodeResource(Resources res,int id, 
  <a class="js-evernote-checked" href="http://developer.android.com/reference/android/graphics/BitmapFactory.Options.html#inScaled" rel="nofollow">BitmapFactory</a>.Options opts); 
 </div> 
 <div class="js-evernote-checked"> 
  <span class="js-evernote-checked"><span class="js-evernote-checked">  单位像素占用的字节数由其参数<a class="js-evernote-checked" href="http://developer.android.com/reference/android/graphics/BitmapFactory.Options.html#inScaled" rel="nofollow">BitmapFactory.Options</a><span class="js-evernote-checked">的<span class="js-evernote-checked">inPreferredConfig<span class="js-evernote-checked">变量决定,默认为Bitmap.Config.ARGB_8888</span></span></span></span></span> 
 </div> 
 <div class="js-evernote-checked"> 
  <div class="js-evernote-checked"> 
   <span class="js-evernote-checked">  inPreferredConfig为<a class="js-evernote-checked" href="http://developer.android.com/reference/android/graphics/Bitmap.Config.html" rel="nofollow">Bitmap.Config</a><span class="js-evernote-checked">类型，</span></span> 
  </div> 
  <div class="js-evernote-checked">
       
   <a class="js-evernote-checked" href="http://developer.android.com/reference/android/graphics/Bitmap.Config.html" rel="nofollow">Bitmap.Config</a> 
   <span class="js-evernote-checked">类<span class="js-evernote-checked">是个枚举类型，它可以为以下值</span></span> 
  </div> 
 </div> 
 <div class="js-evernote-checked"> 
  <table border="0"><tbody><tr><td>ALPHA_8</td><td>Each pixel is stored as a single translucency (alpha) channel. <br class="js-evernote-checked">This is very useful to efficiently store masks for instance. No color information is stored. With this configuration, each pixel requires 1 byte of memory.<br class="js-evernote-checked">此时图片只有alpha值，没有RGB值，一个像素占用1个字节</td></tr><tr><td>ARGB_4444</td><td><span class="js-evernote-checked">This field is deprecated. Because of the poor quality of this configuration, it is advised to use <code class="js-evernote-checked"><a class="js-evernote-checked" href="http://developer.android.com/reference/android/graphics/Bitmap.Config.html#ARGB_8888" rel="nofollow">ARGB_8888</a></code>instead.  <br class="js-evernote-checked">这种格式的图片，看起来质量太差，已经不推荐使用。<br class="js-evernote-checked">Each pixel is stored on 2 bytes. The three RGB color channels and the alpha channel (translucency) are stored with a 4 bits precision (16 possible values.) This configuration is mostly useful if the application needs to store translucency information but also needs to save memory. It is recommended to use ARGB_8888 instead of this configuration.<br class="js-evernote-checked"><span class="js-evernote-checked">一个像素占用2个字节，alpha(A)值，Red（R）值，Green(G)值，Blue（B）值各占4个bites,共16bites,即2个字节</span></span></td></tr><tr><td>ARGB_8888 </td><td>Each pixel is stored on 4 bytes. Each channel (RGB and alpha for translucency) is stored with 8 bits of precision (256 possible values.) This configuration is very flexible and offers the best quality. It should be used whenever possible<br class="js-evernote-checked"><span class="js-evernote-checked">一个像素占用4个字节，alpha(A)值，Red（R）值，Green(G)值，Blue（B）值各占8个bites,共32bites,即4个字节<br class="js-evernote-checked">这是一种高质量的图片格式，电脑上普通采用的格式。它也是Android手机上一个BitMap的默认格式。</span></td></tr><tr><td>RGB_565 </td><td>Each pixel is stored on 2 bytes and only the RGB channels are encoded: red is stored with 5 bits of precision (32 possible values), green is stored with 6 bits of precision (64 possible values) and blue is stored with 5 bits of precision. This configuration can produce slight visual artifacts depending on the configuration of the source. For instance, without dithering, the result might show a greenish tint. To get better results dithering should be applied. This configuration may be useful when using opaque bitmaps that do not require high color fidelity.<br class="js-evernote-checked"><span class="js-evernote-checked">一个像素占用2个字节，没有alpha(A)值，即不支持透明和半透明，Red（R）值<span class="js-evernote-checked">占5个bites <span class="js-evernote-checked">，Green(G)值<span class="js-evernote-checked">占6个bites  <span class="js-evernote-checked">，Blue（B）值占5个bites,共16bites,即2个字节.对于没有透明和半透明颜色的图片来说，该格式的图片能够达到比较的呈现效果，相对于ARGB_8888<span class="js-evernote-checked">来说也能减少一半的内存开销。因此它是一个不错的选择。另外我们通过android.content.res.Resources来取得一个张图片时，它也是以该格式来构建BitMap的.<br class="js-evernote-checked"><span class="js-evernote-checked">从<span class="js-evernote-checked">Android4.0<span class="js-evernote-checked">开始，该选项无效。即使设置为该值，系统任然会采用 <span class="js-evernote-checked">ARGB_8888<span class="js-evernote-checked">来构造图片</span></span></span></span></span></span></span></span></span></span></span></td></tr></tbody></table> 
 </div> 
 <div class="js-evernote-checked">
   所以一张100px*100px的图片在内存中占用的内存数为： 
 </div> 
 <div class="js-evernote-checked"> 
  <table border="0"><tbody><tr><td>图片格式</td><td>计算公式</td><td>占用内存大小</td></tr><tr><td>ALPHA_8</td><td>100*100</td><td>10000b</td></tr><tr><td>ARGB_4444</td><td>100*100*2</td><td>20000b</td></tr><tr><td>ARGB_8888</td><td>100*100*4</td><td>40000b</td></tr><tr><td>RGB_565</td><td>100*100*2</td><td>20000b</td></tr></tbody></table> 
 </div> 
 <div class="js-evernote-checked">
    综上就是今天笔者要分享的小知识，一般这样的问题面试官会问。你get到了吗？ 
 </div> 
 <p> </p> 
</div> 
<p>转载于:https://www.cnblogs.com/YuangPong/p/6694512.html</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/5afe9f3a27290439cc1fc4f3d12e500b/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Altium Designer 16 导线、焊盘报错 Clearance Constraint、Short-Circuit</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/1640a51ea4d8bf316225aeabd60972f7/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">EventBus3.0源码分析</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>