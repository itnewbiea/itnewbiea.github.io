<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Sphinx在Ubuntu与CtenOS中的安装方法 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Sphinx在Ubuntu与CtenOS中的安装方法" />
<meta property="og:description" content="简介
Sphinx是一个基于SQL的全文检索引擎，可以结合MySQL,PostgreSQL做全文搜索，它可以提供比数据库本身更专业的搜索功能，使得应用程序更容易实现专业化的全文检索。Sphinx特别为一些脚本语言设计搜索API接口，如PHP,Python,Perl,Ruby等，同时为MySQL也设计了一个存储引擎插件。
Sphinx 单一索引最大可包含1亿条记录，在1千万条记录情况下的查询速度为0.x秒（毫秒级）。Sphinx创建索引的速度为：创建100万条记录的索引只需 3～4分钟，创建1000万条记录的索引可以在50分钟内完成，而只包含最新10万条记录的增量索引，重建一次只需几十秒。
Sphinx的主要特性包括
高速索引 （在新款CPU上，近10 MB/秒）; 高速搜索 (2-4G的文本量中平均查询速度不到0.1秒); 高可用性 （单CPU上最大可支持100 GB的文本，100M文档）; 提供良好的相关性排名 支持分布式搜索； 提供文档摘要生成； 提供从MySQL内部的插件式存储引擎上搜索 支持布尔，短语， 和近义词查询； 支持每个文档多个全文检索域（默认最大32个）; 支持每个文档多属性； 支持断词； 支持单字节编码与UTF-8编码；
Ubuntu中安装
1，下载适合你服务器版本的Sphinx包，地址：http://sphinxsearch.com/downloads/release/
2，运行安装命令
1
2
3
4
$ sudo apt-get install mysql-client unixodbc libpq5 //安装所依赖的包
$ sudo dpkg -i sphinxsearch_2.2.11-dev-0ubuntu12~trusty_amd64.deb //安装.deb包
$ sudo service sphinxsearch start //启动Sphinx
start: Job is already running: sphinxsearch
3，安装完成，官方文档地址：http://sphinxsearch.com/docs/current.html#installing-debian
CtenOS中安装
1，下载适合你服务器版本的Sphinx包，地址：http://sphinxsearch.com/downloads/release/
2，运行安装命令
1
2
3
4
$ yum install postgresql-libs unixODBC //安装所依赖的包" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/27edd3642da8954820043aeeb460c79f/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-01-25T16:41:18+08:00" />
<meta property="article:modified_time" content="2022-01-25T16:41:18+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Sphinx在Ubuntu与CtenOS中的安装方法</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>简介</p> 
<p>  Sphinx是一个基于SQL的全文检索引擎，可以结合MySQL,PostgreSQL做全文搜索，它可以提供比数据库本身更专业的搜索功能，使得应用程序更容易实现专业化的全文检索。Sphinx特别为一些脚本语言设计搜索API接口，如PHP,Python,Perl,Ruby等，同时为MySQL也设计了一个存储引擎插件。</p> 
<p>  Sphinx 单一索引最大可包含1亿条记录，在1千万条记录情况下的查询速度为0.x秒（毫秒级）。Sphinx创建索引的速度为：创建100万条记录的索引只需 3～4分钟，创建1000万条记录的索引可以在50分钟内完成，而只包含最新10万条记录的增量索引，重建一次只需几十秒。</p> 
<p></p> 
<p>Sphinx的主要特性包括</p> 
<p>高速索引 （在新款CPU上，近10 MB/秒）; </p> 
<p>高速搜索 (2-4G的文本量中平均查询速度不到0.1秒); </p> 
<p>高可用性 （单CPU上最大可支持100 GB的文本，100M文档）; </p> 
<p>提供良好的相关性排名 支持分布式搜索； 提供文档摘要生成； </p> 
<p>提供从MySQL内部的插件式存储引擎上搜索 支持布尔，短语， 和近义词查询； 支持每个文档多个全文检索域（默认最大32个）; </p> 
<p>支持每个文档多属性； 支持断词； </p> 
<p>支持单字节编码与UTF-8编码；</p> 
<p></p> 
<p>Ubuntu中安装</p> 
<p>1，下载适合你服务器版本的Sphinx包，地址：http://sphinxsearch.com/downloads/release/</p> 
<p>2，运行安装命令</p> 
<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> <p>1</p> <p>2</p> <p>3</p> <p>4</p> </td><td> <p><code>$ sudo apt-get install mysql-client unixodbc libpq5 </code><code>//安装所依赖的包</code></p> <p><code>$ sudo dpkg -i sphinxsearch_2.2.11-dev-0ubuntu12~trusty_amd64.deb </code><code>//安装.deb包</code></p> <p><code>$ sudo service sphinxsearch start </code><code>//启动Sphinx</code></p> <p><code>start: Job is already running: sphinxsearch</code></p> </td></tr></tbody></table> 
<p>3，安装完成，官方文档地址：http://sphinxsearch.com/docs/current.html#installing-debian</p> 
<p></p> 
<p></p> 
<p>CtenOS中安装</p> 
<p>1，下载适合你服务器版本的Sphinx包，地址：http://sphinxsearch.com/downloads/release/</p> 
<p>2，运行安装命令</p> 
<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> <p>1</p> <p>2</p> <p>3</p> <p>4</p> </td><td> <p><code>$ yum install postgresql-libs unixODBC </code><code>//安装所依赖的包</code></p> <p><code>$ rpm -Uhv sphinx-2.2.1-1.rhel6.x86_64.rpm </code><code>//安装.rpm包</code></p> <p><code>$ service searchd start </code><code>//启动Sphinx</code></p> <p><code>start: Job is already running: sphinxsearch</code></p> </td></tr></tbody></table> 
<p>3，安装完成，官方文档地址：<a href="http://sphinxsearch.com/docs/current.html#installing-redhat" rel="nofollow" title="Sphinx | Open Source Search Server">Sphinx | Open Source Search Server</a></p> 
<p></p> 
<p>编译安装方法</p> 
<p>1，下载tar.gz源码包，地址：<a href="http://203.187.160.135:9011/sphinxsearch.com/c3pr90ntc0td/files/sphinx-2.2.11-release.tar.gz" rel="nofollow" title="http://203.187.160.135:9011/sphinxsearch.com/c3pr90ntc0td/files/sphinx-2.2.11-release.tar.gz">http://203.187.160.135:9011/sphinxsearch.com/c3pr90ntc0td/files/sphinx-2.2.11-release.tar.gz</a></p> 
<p>2，运行安装命令</p> 
<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> <p>1</p> <p>2</p> <p>3</p> <p>4</p> <p>5</p> <p>6</p> <p>7</p> <p>8</p> </td><td> <p><code>$ tar -xvf sphinx-2.2.11-release.tar.gz </code><code>//解压</code></p> <p><code>$ cd sphinx-2.2.11-release </code><code>//进入</code></p> <p><code>$ ./configure --prefix=/usr/local/sphinx22 --with-mysql=/usr/local/mysql_56 </code><code>//configure操作</code></p> <p><code>$ make</code></p> <p><code>$ make install</code></p> <p><code>Thank you </code><code>for</code> <code>choosing Sphinx!</code></p> <p><code>$ /usr/local/sphinx/bin/indexer --all  </code><code>//索引</code></p> <p><code>$ /usr/local/sphinx/bin/searchd </code><code>//启动服务</code></p> </td></tr></tbody></table> 
<p>注1：期间可以会因缺少依赖包而报错，可参考官方文档：<a href="http://sphinxsearch.com/docs/current.html#compiling-source-linux" rel="nofollow" title="Sphinx | Open Source Search Server">Sphinx | Open Source Search Server</a></p> 
<p>注2：如果服务器可用内存小于100M，请适当调整或重启在试</p> 
<p>注3：在make时如果出现undefined reference to libiconv的错,请参考 <a href="http://www.lvtao.net/database/sphinx-make-error.html" rel="nofollow" title="http://www.lvtao.net/database/sphinx-make-error.html">http://www.lvtao.net/database/sphinx-make-error.html</a> </p> 
<p></p> 
<p>查看Sphinx在系统中的进程</p> 
<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> <p>1</p> <p>2</p> <p>3</p> </td><td> <p><code>ps -ef | grep searchd</code></p> <p><code>root      1805     1  0 15:18 ?        00:00:00 /usr/bin/searchd --nodetach</code></p> <p><code>root      1822  1458  0 15:19 pts/0    00:00:00 grep --color=auto search</code></p> </td></tr></tbody></table> 
<p></p> 
<p>查看Sphinx的文件位置（适用于自动安装的软件包）</p> 
<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> <p>1</p> <p>2</p> </td><td> <p><code>whereis sphinxsearch</code></p> <p><code>sphinxsearch: /etc/sphinxsearch /usr/share/sphinxsearch</code></p> </td></tr></tbody></table> 
<p></p> 
<p>Sphinx相关文件说明</p> 
<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> <p>1</p> <p>2</p> </td><td> <p><code>/etc/sphinxsearch  </code><code>//配置文件路径</code></p> <p><code>/usr/share/sphinxsearch  </code><code>//api路径</code></p> </td></tr></tbody></table> 
<p></p> 
<p>安装成功之后，sphinx 会形成三个命令</p> 
<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> <p>1</p> <p>2</p> <p>3</p> <p>4</p> </td><td> <p><code>cd /usr/bin</code></p> <p><code>indexer </code><code>//创建索引命令</code></p> <p><code>searchd </code><code>//启动进程命令</code></p> <p><code>search </code><code>//命令行搜索命令</code></p> </td></tr></tbody></table>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/1d58d80946cba1f55a3c3f82f612d96a/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">element-ui中的table分页多选功能-记住上一页勾选数据</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/9094166701842070487dd60128b5618f/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">表格纵向表头展示</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>