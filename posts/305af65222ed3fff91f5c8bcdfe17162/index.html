<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>SNMP - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="SNMP" />
<meta property="og:description" content="SNMP 全称为simple network management protocol 中文为简单网络管理协议.
1简介功能
简单管理所有设备
①管理端需要获取被管理端的一个状态信息时，管理端就发送一个获取指令给被管理端，被管理端收到此指令后把管理端要获取的信息封装成报文后返回给管理端；
②当管理端需要修改被管理端上的一些配置参数时，管理端就发送一个修改指令给被管理端，被管理端收到后修改相应的配置，如果修改成功，则返回修改成功的信息给管理端，如果未修改成功，则返回相应的错误信息给管理端；
③如果被管理端自己知道自己发生了故障，那它就主动发生一个消息给管理端，说明自己哪里出现了故障。
2 snmp协议的版本
snmp v1(版本1)：有三个community认证, 分别是read-only( 只能获取信息 )、read-write( 能获取信息，也能发送控制指令 )、trap( agent主动联机nms );
snmp v2(版本2)：功能增强，但仍基于community的认证; 因此又称2c版本;
snmp v3(版本3)：这个版本认证加强，但少人用.
3 snmp的服务器NMS（管理端）
① snmp的服务器主要被人称为nms(network management station，网络管理工作站), 因为它可以用来收集各种信息;
②snmp的服务器并不一定需要监听某个端口，因为一般来说，都是服务器主动去向客户端要求获取一些信息; 当服务器有监听端口的时候，那就是客户需要主动发送信息给服务器。这时信息的交流的主动双向的。
③snmp服务器端可以做的操作( get, getnext, getbulk, set, getresponse )
4snmp的客户端AGENT（被管理端）
1snmp的客户端主要被人称为agent.
2snmp的客户端相对于其它客户端来讲比较特殊，因为它需要监听某个端口(netstat -tlunp，snmp客户端主要监听的是UDP161端口), 一般像ftp, http等服务都是服务器端才需要监听端口;
5 snmp的工作原理
snmp的nms通过指令向正在监听某个端口的客户( agent )发送查询、控制指令;
从上图中可知SNMP的由三部份组成，NMS、Agent、MIB。管理端(NMS)要想获取到监控数据时就向Agent(被监控端)发送get操作，Agent通过MIB库抓取到数据后就返还给NMS，如果是Agent主动向NMS发送信息，那就采用trap操作。
MIB：管理信息库
6 snmp的mib( snmp的mib是比较难理解的一个方面 );
1 snmp获取信息最终是靠oid来获取的，oid类似于ip。 ip区别主机，oid区别资源。
2 ip比较难记，于是产生了dns服务器. oid也比较难记，于是有了mib，mib维护着oid和名字之间的对应关系;
3 mib的文件主要存放在/usr/share/snmp/mibs/这个目录中，其中，mib2的名字为SNMPv2-MIB
ICMP ICMP网际控制报文协议 用来使主机或路由器报告差错情况和提供有关异常情况的报告。这样就可以更有效的转发IP数据报和提高交付成功的机会。 功能：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/305af65222ed3fff91f5c8bcdfe17162/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-07-11T15:49:12+08:00" />
<meta property="article:modified_time" content="2020-07-11T15:49:12+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">SNMP</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2><br><strong>SNMP</strong></h2> 
<p><strong>全称为simple network management protocol 中文为简单网络管理协议.</strong></p> 
<p><strong>1简介功能</strong></p> 
<p>简单管理所有设备</p> 
<p>①管理端需要获取被管理端的一个状态信息时，管理端就发送一个获取指令给被管理端，被管理端收到此指令后把管理端要获取的信息封装成报文后返回给管理端；</p> 
<p>②当管理端需要修改被管理端上的一些配置参数时，管理端就发送一个修改指令给被管理端，被管理端收到后修改相应的配置，如果修改成功，则返回修改成功的信息给管理端，如果未修改成功，则返回相应的错误信息给管理端；</p> 
<p>③如果被管理端自己知道自己发生了故障，那它就主动发生一个消息给管理端，说明自己哪里出现了故障。<br><br><br>  <strong>2 snmp协议的版本</strong><br><br>     <strong>snmp v1</strong>(版本1)：有三个community认证, 分别是read-only( 只能获取信息 )、read-write( 能获取信息，也能发送控制指令 )、trap( agent主动联机nms );<br><br>     <strong>snmp v2</strong>(版本2)：功能增强，但仍基于community的认证; 因此又称2c版本;<br><br>    <strong> snmp v3</strong>(版本3)：这个版本认证加强，但少人用.<br><br><strong>3 snmp的服务器NMS（管理端）</strong><br><br>     ① snmp的服务器主要<strong>被人称为nms</strong>(network management station，<strong>网络管理工作站</strong>), 因为它可以用来收集各种信息;<br><br>     ②snmp的服务器<strong>并不一定需要监听某个端口</strong>，因为一般来说，都是服务器主动去向客户端要求获取一些信息; 当服务器有监听端口的时候，那就是客户需要主动发送信息给服务器。这时信息的交流的主动双向的。<br><br>     ③snmp服务器端可以做的操作( get, getnext, getbulk, set, getresponse )<br><br><strong>4snmp的客户端AGENT（被管理端）</strong><br><br>     1snmp的客户端<strong>主要被人称为agent.</strong><br><br>     2snmp的客户端相对于其它客户端来讲比较特殊，因为<strong>它需要监听某个端口</strong>(netstat -tlunp，snmp客户端主要监听的是<strong>UDP161端口)</strong>, 一般像ftp, http等服务都是服务器端才需要监听端口;<br><br><strong>5 snmp的工作原理</strong><br><br>     snmp的nms通过指令向正在监听某个端口的客户( agent )发送查询、控制指令;<br><img alt="" height="438" src="https://images2.imgbox.com/59/c6/aZ8G8eRU_o.png" width="1080"><br>  <br> 从上图中可知SNMP的由三部份组成，NMS、Agent、MIB。管理端(NMS)要想获取到监控数据时就向Agent(被监控端)发送get操作，Agent通过MIB库抓取到数据后就返还给NMS，如果是Agent主动向NMS发送信息，那就采用trap操作。</p> 
<p><strong>MIB：管理信息库</strong><br><br><strong>6 snmp的mib( snmp的mib是比较难理解的一个方面 );</strong><br><br>     1 snmp获取信息最终是靠oid来获取的，oid类似于ip。 ip区别主机，oid区别资源。<br><br>     2 ip比较难记，于是产生了dns服务器. oid也比较难记，于是有了mib，mib维护着oid和名字之间的对应关系;<br><br>     3 mib的文件主要存放在/usr/share/snmp/mibs/这个目录中，其中，mib2的名字为SNMPv2-MIB</p> 
<h2>ICMP</h2> 
<p> </p> 
<p><strong>ICMP网际控制报文协议 </strong>用来使主机或路由器报告差错情况和提供有关异常情况的报告。这样就可以更有效的转发IP数据报和提高交付成功的机会。 <br><strong>功能</strong>：</p> 
<p>差错报告（通知ip包被丢弃的原因）</p> 
<p>确认ip包能否成功到达<br> 消息询问          <br> ICMP分为两大类，ICMP差错报告报文和ICMP询问报文。 <br><br> ICMP差错报告报文分为四类：终点不可达报文、时间超过报文、改变路由报文、参数问题报文。 <br><br> ICMP询问报文分为两类：回送请求和回送回答报文、时间戳请求和时间戳回答报文。</p> 
<p>ping命令用了哪种icmp？echo reply<br>  </p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/6b20cc75f6968fd848d23c0378065e85/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">生产环境内存泄露(Redirect)的问题排查分析过程</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/16fdf7b44037af5e9937f57303f9413b/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">服务提供者无法注册到nacos服务器</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>