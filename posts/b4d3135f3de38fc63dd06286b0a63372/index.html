<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Linux 部署 MinIO 分布式对象存储 &amp; 配置为 typora 图床 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Linux 部署 MinIO 分布式对象存储 &amp; 配置为 typora 图床" />
<meta property="og:description" content="前言 MinIO 是一款高性能的对象存储系统，它可以用于大规模的 AI/ML、数据湖和数据库工作负载。它的 API 与Amazon S3 云存储服务完全兼容，可以在任何云或本地基础设施上运行。MinIO 是开源软件，也提供商业许可和支持
MinIO 的特点有：
简单：MinIO 的安装和使用都非常简单，只需几分钟就可以搭建一个对象存储服务高性能：MinIO 是世界上最快的对象存储系统，可以在32个 NVMe 驱动器和 100Gbe 网络的集群上达到 325 GiB/s 的读取速度和 165 GiB/s 的写入速度Kubernetes原生：MinIO 支持所有主流的 Kubernetes 发行版，可以在公有云、私有云和边缘云上部署企业级：MinIO 提供了一系列的高级功能，如活动活动复制、对象锁定、桶和对象不变性、加密、自动化数据管理接口等 环境搭建 服务器 在腾讯云、阿里云等云厂商选购服务器，如果没有云服务器，也可以在电脑上安装虚拟机
虚拟机安装教程：在虚拟机 VMware 中安装 CentOs 7及使用 Xshell 进行连接
Docker 配置 Docker 环境：在 CentOs7 中安装宝塔面板和 Docker（包括MySQL，Redis）
部署 MinIO Docker 部署 使用容器启动 MinIO，如果没有镜像，会自动拉取镜像
MINIO_ACCESS_KEY 设置登录用户名（至少 3 位），MINIO_SECRET_KEY 设置登录密码（至少 8 位），自行修改（下面默认 admin/admin123）
-v /home/data:/data 即宿主机目录 /home/data 映射容器内目录 /data，同理 -v /home/config 为映射配置文件数据卷
docker run -p 9000:9000 -p 9001:9001 --name minio -d --restart=always \ -e &#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/b4d3135f3de38fc63dd06286b0a63372/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-10-09T12:15:16+08:00" />
<meta property="article:modified_time" content="2023-10-09T12:15:16+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Linux 部署 MinIO 分布式对象存储 &amp; 配置为 typora 图床</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="_0"></a>前言</h2> 
<p>MinIO 是一款高性能的对象存储系统，它可以用于大规模的 AI/ML、数据湖和数据库工作负载。它的 API 与Amazon S3 云存储服务完全兼容，可以在任何云或本地基础设施上运行。MinIO 是<strong>开源软件</strong>，也提供商业许可和支持</p> 
<p>MinIO 的特点有：</p> 
<ul><li><strong>简单</strong>：MinIO 的安装和使用都非常简单，只需几分钟就可以搭建一个对象存储服务</li><li><strong>高性能</strong>：MinIO 是世界上最快的对象存储系统，可以在32个 NVMe 驱动器和 100Gbe 网络的集群上达到 325 GiB/s 的读取速度和 165 GiB/s 的写入速度</li><li><strong>Kubernetes原生</strong>：MinIO 支持所有主流的 Kubernetes 发行版，可以在公有云、私有云和边缘云上部署</li><li><strong>企业级</strong>：MinIO 提供了一系列的高级功能，如活动活动复制、对象锁定、桶和对象不变性、加密、自动化数据管理接口等</li></ul> 
<h2><a id="_11"></a>环境搭建</h2> 
<h3><a id="_13"></a>服务器</h3> 
<p>在腾讯云、阿里云等云厂商选购服务器，如果没有云服务器，也可以在电脑上安装虚拟机</p> 
<p>虚拟机安装教程：<a href="https://blog.csdn.net/weixin_62726289/article/details/131272444">在虚拟机 VMware 中安装 CentOs 7及使用 Xshell 进行连接</a></p> 
<h3><a id="Docker_19"></a>Docker</h3> 
<p>配置 Docker 环境：<a href="https://blog.csdn.net/weixin_62726289/article/details/131276764">在 CentOs7 中安装宝塔面板和 Docker（包括MySQL，Redis）</a></p> 
<h2><a id="_MinIO_23"></a>部署 MinIO</h2> 
<h3><a id="Docker__25"></a>Docker 部署</h3> 
<p>使用容器启动 MinIO，如果没有镜像，会自动拉取镜像</p> 
<blockquote> 
 <p>MINIO_ACCESS_KEY 设置登录用户名（至少 3 位），MINIO_SECRET_KEY 设置登录密码（至少 8 位），自行修改（下面默认 admin/admin123）</p> 
 <p>-v /home/data:/data 即宿主机目录 /home/data 映射容器内目录 /data，同理 -v /home/config 为映射配置文件数据卷</p> 
</blockquote> 
<pre><code class="prism language-shell"><span class="token function">docker</span> run <span class="token parameter variable">-p</span> <span class="token number">9000</span>:9000 <span class="token parameter variable">-p</span> <span class="token number">9001</span>:9001 <span class="token parameter variable">--name</span> minio <span class="token parameter variable">-d</span> <span class="token parameter variable">--restart</span><span class="token operator">=</span>always <span class="token punctuation">\</span>
<span class="token parameter variable">-e</span> <span class="token string">"MINIO_ACCESS_KEY=admin"</span> <span class="token parameter variable">-e</span> <span class="token string">"MINIO_SECRET_KEY=admin123"</span> <span class="token punctuation">\</span>
<span class="token parameter variable">-v</span> /home/data:/data <span class="token parameter variable">-v</span> /home/config:/root/.minio minio/minio server <span class="token punctuation">\</span>
--console-address <span class="token string">":9000"</span> <span class="token parameter variable">--address</span> <span class="token string">":9001"</span> /data
</code></pre> 
<p><strong>如果无法访问，请检查防火墙是否开启，或者云服务的安全组是否开放 9000 和 9001 端口</strong></p> 
<p>相关命令：</p> 
<p>查看已开启的端口</p> 
<pre><code class="prism language-shell">firewall-cmd --list-ports
</code></pre> 
<p>开启指定端口（要重新加载防火墙）</p> 
<pre><code class="prism language-shell">firewall-cmd <span class="token parameter variable">--zone</span><span class="token operator">=</span>public --add-port<span class="token operator">=</span><span class="token number">9000</span>/tcp --add-port<span class="token operator">=</span><span class="token number">9001</span>/tcp <span class="token parameter variable">--permanent</span>
</code></pre> 
<p>重启防火墙</p> 
<pre><code class="prism language-shell">systemctl restart firewalld.service
</code></pre> 
<p>重新加载防火墙</p> 
<pre><code class="prism language-shell">firewall-cmd <span class="token parameter variable">--reload</span>
</code></pre> 
<h3><a id="_68"></a>访问</h3> 
<p>访问地址：http://&lt;你的服务器 ip&gt;:9000/</p> 
<p><img src="https://images2.imgbox.com/21/20/sEZc4giq_o.png" alt="image-20231009102034823"></p> 
<p>输入用户名和密码登录</p> 
<p><img src="https://images2.imgbox.com/f6/50/hncDtFSr_o.png" alt="image-20231009102202932"></p> 
<h3><a id="___78"></a>配置 &amp; 使用</h3> 
<h4><a id="_Bucket_80"></a>配置 Bucket</h4> 
<p>点击左侧 Buckets，点击 Create Bucket 新建</p> 
<p><img src="https://images2.imgbox.com/dd/5c/4fEZACp4_o.png" alt="image-20231009102448080"></p> 
<p>填写 Bucket Name，然后点击创建</p> 
<p><img src="https://images2.imgbox.com/d5/b0/QtQF94le_o.png" alt="image-20231009102601538"></p> 
<p>点击创建好的 Bucket</p> 
<p><img src="https://images2.imgbox.com/6b/52/l42DJLdp_o.png" alt="image-20231009102711873"></p> 
<p>找到 Anonymous，然后添加规则</p> 
<p><img src="https://images2.imgbox.com/66/34/H2hbYfMQ_o.png" alt="image-20231009102748778"></p> 
<p>添加前缀，同时修改权限为可读写，点击保存</p> 
<p><img src="https://images2.imgbox.com/ef/00/YNyVhtSN_o.png" alt="image-20231009102913466"></p> 
<p>左侧点击 Summary，找到 Access Policy，选择 public，然后 Set</p> 
<p><img src="https://images2.imgbox.com/dd/c5/DpFivqJL_o.png" alt="image-20231009103157926"></p> 
<h4><a id="_Access_Key_106"></a>配置 Access Key</h4> 
<p>左侧菜单找到 Access Key，点击 Create access key</p> 
<p><img src="https://images2.imgbox.com/6c/d4/hrueXiD8_o.png" alt=""></p> 
<p>复制两个 key，然后 Create</p> 
<p><img src="https://images2.imgbox.com/eb/3b/8eNktTkG_o.png" alt="image-20231009103517250"></p> 
<h4><a id="_typora__116"></a>配置 typora 图床</h4> 
<blockquote> 
 <p>先安装好 typora 和 picgo ，在文章最后有安装教程，</p> 
</blockquote> 
<p><strong>插件安装（二选一）</strong></p> 
<blockquote> 
 <p>如果插件安装失败，尝试重新安装 picgo</p> 
</blockquote> 
<ol><li> <p>插件设置中安装（推荐）<img src="https://images2.imgbox.com/8c/8a/MsmOhZY4_o.png" alt="image-20231009115314064"></p> </li><li> <p>下载插件安装</p> </li></ol> 
<blockquote> 
 <p>picgo-plugin-minio 地址：<a href="https://github.com/Herbertzz/picgo-plugin-minio">Herbertzz/picgo-plugin-minio (github.com)</a></p> 
</blockquote> 
<pre><code class="prism language-xhell"># 使用 git 克隆下俩
git clone https://github.com/Herbertzz/picgo-plugin-minio.git

# 如果下载不下来，更换为 githubfast 下载
git clone https://githubfast.com/Herbertzz/picgo-plugin-minio.git
</code></pre> 
<p>找一个文件夹，打开 cmd 下载</p> 
<blockquote> 
 <p>克隆下来后</p> 
 <p>cd picgo-plugin-minio</p> 
 <p>npm i</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/a9/76/VhLCZFIM_o.png" alt="image-20231009105001219"></p> 
<p>导入 picgo 插件，路径选择插件安装路径</p> 
<p><img src="https://images2.imgbox.com/f9/4e/rMBeiaYR_o.png" alt="image-20231009105257686"></p> 
<p><strong>配置 MinIO 图床</strong></p> 
<p>同时设置为默认图床</p> 
<p><img src="https://images2.imgbox.com/b6/01/0W0G6CKn_o.png" alt="image-20231009115607631"></p> 
<p>填写参数信息，然后点击确认</p> 
<p><img src="https://images2.imgbox.com/d6/75/bqfM2uno_o.png" alt="image-20231009120415844"></p> 
<p>在 typora 中验证</p> 
<p><img src="https://images2.imgbox.com/7b/ca/R7sU0BAN_o.png" alt="image-20231009121028381"></p> 
<p>在 minio 中查看</p> 
<p><img src="https://images2.imgbox.com/9a/0c/a9kLkor5_o.png" alt="image-20231009121054295"></p> 
<p><img src="https://images2.imgbox.com/d2/7e/pKtGjkZG_o.png" alt="image-20231009121110973"></p> 
<h2><a id="_172"></a>其他</h2> 
<p>使用 typora + picgo + 阿里云 OSS 实现 typora 图片上传（含 typora 和 picgo 安装包）</p> 
<p>地址：<a href="https://blog.csdn.net/weixin_62726289/article/details/133609585">typora + picgo + 对象存储 OSS_凉了的凉茶的博客-CSDN博客</a></p> 
<p>如果 MinIO 部署在云服务器上，可以搭建个人博客，作为图床使用，或者使用第三方对象存储，比如阿里云 OSS，不过要小心防盗刷</p> 
<p>博客搭建教程：<a href="https://blog.csdn.net/weixin_62726289/article/details/129930237">使用 hexo + 主题 butterfly + Github 搭建个人博客</a></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/068031c0bbe39337d55c70ae0291c986/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">vue3form循环校验</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/73dbebd1ef71ca87ba166c7ce878def8/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">2023-2024年云赛道模拟题库</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>