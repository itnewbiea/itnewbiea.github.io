<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>python核心阶段（七）—— 包＆模块以及虚拟环境 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="python核心阶段（七）—— 包＆模块以及虚拟环境" />
<meta property="og:description" content="1.包&amp;模块 概念解释 模块：为了使代码容易维护，可以将一组功能相关的代码写入一个单独的.py文件中，这
个.py文件就被称作一个模块
包： 包是指一个有层次的文件目录结构，它包含多个相关模块或子包；
它和目录的区别是会自动包含一个__init__.py的文件
库： 完成一定功能代码的集合，具体表现可以是一个模块，也可以是一个包 框架： 它是一个架构层面的概念，在实际中，通过一个框架，我们可以实现解决问题的
基本骨架，然后再对细节进行修改填充即可
作用：1）作为工具代码，供其他模块使用 2）对代码进行分解、封装，便于维护
3）防止同一模块内重复命名问题
2.分类 类别使用作用标准包/模块 自动安装，手动import导入
特例：内建包/模块（直接使用）
满足基本功能需求三方包/模块手动下载安装满足比较复杂的功能自定义包/模块自己定义 3.一般操作 3.1 包/模块的创建及基本信息 创建查看基本信息模块 直接创建.py文件
模块名称：去除.py后缀后的文件名
包名称：文件夹名
存放位置：import os print（os.__file__)
查看具体内容：dir（包/模块名称）
包 创建一个文件夹
在文件夹中创建一个__init__.py文件
作用：创建时自动执行文件中的代码
3.2 包/模块的导入 3.2.1 常规导入（import）
语法： import 模块名 或 import 包名.模块名 （可同时导入多个模块，用逗号隔开即可）
我们也可以通过as语句（import 模块名 as 别名）给模块起一个别名，可以简化名称
补充：1）调用时，需要指明包/模块的名称 模块名.xxx
2） 如果我们用import导入一个包，默认不会导入任何模块，我们可以通过设置__init__
让文件自动导入需要的模块
3.2.2 from语句导入 语法：from A import B [as C]
适用：只希望导入一个模块或者包的某一部分；或者从某个位置导入某些资源到当前位置
补充：1）A的范围必须大于B（B必须包含在A中） 包 &gt; 模块 &gt; 模块中的资源" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/f47289a80460ddc6a943547bd0191017/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-12-22T16:30:00+08:00" />
<meta property="article:modified_time" content="2023-12-22T16:30:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">python核心阶段（七）—— 包＆模块以及虚拟环境</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2>1.包&amp;模块 概念解释</h2> 
<blockquote> 
 <p><span style="color:#0d0016;">模块：</span>为了使代码容易维护，可以将一组功能相关的代码写入一个单独的.py文件中，这</p> 
 <p>           个<span style="background-color:#f9eda6;">.py文件</span>就被称作一个模块</p> 
</blockquote> 
<blockquote> 
 <p><span style="color:#0d0016;">包：    </span>包是指一个有层次的文件<span style="background-color:#f9eda6;">目录结构</span>，它包含多个相关模块或子包；</p> 
 <p>           它和目录的区别是会自动包含一个__init__.py的文件</p> 
</blockquote> 
<blockquote> 
 <p><span style="color:#0d0016;">库：</span>    <span style="background-color:#f9eda6;">完成一定功能代码的集合</span>，具体表现可以是一个模块，也可以是一个包 </p> 
</blockquote> 
<blockquote> 
 <p><span style="color:#0d0016;">框架：</span> 它是一个架构层面的概念，在实际中，通过一个框架，我们可以实现解决问题的</p> 
 <p>            <span style="background-color:#f9eda6;">基本骨架</span>，然后再对细节进行修改填充即可</p> 
</blockquote> 
<p></p> 
<ul><li>作用：<span style="color:#494949;">1）作为工具代码，供其他模块使用</span></li></ul> 
<p>                  2）对代码进行分解、封装，便于维护</p> 
<p>                  3）防止同一模块内重复命名问题</p> 
<p></p> 
<p></p> 
<h2>2.分类</h2> 
<table border="2" cellpadding="1" cellspacing="1" style="width:600px;"><thead><tr><th style="width:165px;">类别</th><th style="width:255px;">使用</th><th style="width:178px;">作用</th></tr></thead><tbody><tr><td style="width:165px;">标准包/模块</td><td style="width:255px;"> <p>自动安装，手动import导入</p> <p>特例：内建包/模块（直接使用）</p> </td><td style="width:178px;">满足基本功能需求</td></tr><tr><td style="width:165px;">三方包/模块</td><td style="width:255px;">手动下载安装</td><td style="width:178px;">满足比较复杂的功能</td></tr><tr><td style="width:165px;">自定义包/模块</td><td style="width:255px;">自己定义</td><td style="width:178px;"></td></tr></tbody></table> 
<p></p> 
<p></p> 
<h2>3.一般操作</h2> 
<h4> 3.1 包/模块的创建及基本信息</h4> 
<table border="2" cellpadding="1" cellspacing="1" style="width:600px;"><thead><tr><th style="width:102px;"></th><th style="width:244px;">创建</th><th style="width:252px;">查看基本信息</th></tr></thead><tbody><tr><td style="width:102px;">模块</td><td style="width:244px;"> <p></p> <p>直接创建.py文件</p> <p></p> </td><td colspan="1" rowspan="2" style="width:252px;"> <p>模块名称：去除.py后缀后的文件名<br> 包名称：文件夹名</p> <p></p> <p>存放位置：import os                                              print（os.__file__)</p> <p></p> <p>查看具体内容：dir（包/模块名称）</p> </td></tr><tr><td style="width:102px;">包</td><td style="width:244px;"> <p></p> <p>创建一个文件夹</p> <p>在文件夹中<span style="background-color:#f9eda6;">创建一个__init__.py文件</span></p> <p>作用：创建时自动执行文件中的代码</p> <p></p> </td></tr></tbody></table> 
<p></p> 
<h4> 3.2 包/模块的导入</h4> 
<p><strong>    3.2.1  常规导入（import）</strong></p> 
<p>      语法：  <span style="background-color:#f9eda6;">import 模块名  或   import 包名.模块名</span>      （可同时导入多个模块，用逗号隔开即可）</p> 
<p>                   我们也可以通过as语句（<span style="background-color:#fbd4d0;">import 模块名 as 别名</span>）给模块起一个别名，可以简化名称</p> 
<p>      补充：1）调用时，需要指明包/模块的名称  <span style="background-color:#fbd4d0;">模块名.xxx</span></p> 
<p>                 2） 如果我们用import导入一个包，默认不会导入任何模块，我们可以通过设置__init__</p> 
<p>                        让文件自动导入需要的模块</p> 
<p></p> 
<p><strong>    3.2.2  from语句导入</strong> </p> 
<p>       语法：<span style="background-color:#f9eda6;">from A import B [as C]</span></p> 
<p>       适用：只希望导入一个模块或者包的<span style="background-color:#f9eda6;">某一部分</span>；或者从某个位置导入某些资源到当前位置</p> 
<p>       补充：1）A的范围必须大于B（B必须包含在A中）           包  &gt;  模块  &gt;  模块中的资源</p> 
<p>                  2）必须要保证B部分的路径最简（面向关系原则：A必须可以“看到”B）</p> 
<p>                        包中只能看到模块，看不到具体资源，所以应该写  <span style="color:#1a439c;">from 包.模块 import 资源</span></p> 
<p></p> 
<p></p> 
<p><strong>    3.3.3  导入模块时的底层逻辑</strong></p> 
<p>      1. 在被导入的包对应的命名空间（内存区域）中，<span style="background-color:#f9eda6;">执行</span>被导入的包 / 模块中的<span style="background-color:#f9eda6;">所有代码</span></p> 
<p>      2. <span style="background-color:#f9eda6;">创建一个模块对象</span>，并将模块内所有顶层变量（非局部变量）以属性形式绑定在模块对象上</p> 
<p>         （这就是为什么调用这个模块中的资源需要用   模块名.函数名   因为它被包含在了对象中） </p> 
<p>      3. 在import的位置，<span style="background-color:#f9eda6;">引入import后面的变量名称到当前的命名空间</span>     </p> 
<figure class="image"> 
 <img alt="" height="344" src="https://images2.imgbox.com/c5/91/v0KY6YWO_o.jpg" width="715"> 
 <figcaption>
   导入模块时的底层逻辑 
 </figcaption> 
</figure> 
<p>        注：在第二次导入这个模块时，会直接执行第三步</p> 
<p></p> 
<p></p> 
<h2>4.虚拟环境</h2> 
<h4> 4.1 概念及适用场景</h4> 
<p>   虚拟环境主要是指一个<span style="background-color:#f9eda6;">完全独立</span>的局部python环境，它能完全模拟系统全局python环境的使用。                   </p> 
<p>   python环境 一般包含：python解释器、包管理工具等等</p> 
<figure class="image"> 
 <img alt="" height="320" src="https://images2.imgbox.com/f8/d6/9qvjl9dj_o.jpg" width="522"> 
 <figcaption>
   python真实环境 
 </figcaption> 
</figure> 
<figure class="image"> 
 <img alt="" height="318" src="https://images2.imgbox.com/86/1b/yHI9RSVR_o.jpg" width="517"> 
 <figcaption>
   python虚拟环境 
 </figcaption> 
</figure> 
<p></p> 
<p><strong>   适用场景：</strong></p> 
<blockquote> 
 <p>例如，当前有两个项目A、B，两个项目需要依赖同一个库，但是版本不同，而默认情况下，使用的是全局python环境，即：只能安装一个库版本</p> 
</blockquote> 
<p></p> 
<p><strong>    原理：</strong></p> 
<blockquote> 
 <p>       操作系统的环境变量可以为程序提供信息和做信息交换介质，而其中<span style="background-color:#f9eda6;">PATH环境变量</span>主要用于<span style="background-color:#f9eda6;">为操作系统和程序提供可执行文件的访问路径</span>，当我们在命令行中执行某个程序时，操作系统就会从 PATH 所提供的路径中逐个查找</p> 
 <p></p> 
 <p>        而虚拟环境正是运用了如此性质。在激活虚拟环境时，<span style="background-color:#f9eda6;">激活脚本会将当前命令行程序的</span><span style="background-color:#f9eda6;">PATH 修改为虚拟环境的</span>，这样执行命令就会在被修改的 PATH 中查找，从而避免了原本 PATH 可以找到的命令，从而实现了 Python 环境的隔离</p> 
</blockquote> 
<p></p> 
<p>     安装：</p> 
<p>               在python2中需要依赖一个三方包，pip install <strong>virtualenv</strong></p> 
<p><strong>               </strong>而在python3中，直接调用<span style="background-color:#f9eda6;">自带的标准库venv</span>即可</p> 
<p></p> 
<p></p> 
<h4><strong> 4.2 虚拟环境的使用方法 (cmd)</strong></h4> 
<ul><li>step1  创建一个局部的隔离的虚拟环境</li></ul> 
<p>      <strong>  <span style="color:#0d0016;">操作：</span></strong></p> 
<p><span style="color:#0d0016;">                    win + R 后输入cmd，打开命令提示符</span></p> 
<p><span style="color:#0d0016;">                    然后输入 <span style="background-color:#f9eda6;">python -m venv 虚拟环境文件名</span></span></p> 
<p><span style="color:#0d0016;">                 （这里 -m mod 是指将库模块作为脚本运行）</span></p> 
<blockquote> 
 <p>        venv中几个可能用得到的参数：</p> 
 <p>                    --without-pip: 不需要安装 pip，默认为安装</p> 
 <p>                    --clear：如果创建虚拟环境的目录已经有了其他虚拟环境，清楚重建</p> 
</blockquote> 
<p></p> 
<ul><li>step2  激活虚拟环境</li></ul> 
<p>               在cmd中输入   <span style="background-color:#f9eda6;">虚拟环境文件名 \ Scripts \ activate</span></p> 
<div class="img-center"> 
 <figure class="image"> 
  <img alt="" height="63" src="https://images2.imgbox.com/21/33/IqgowoSz_o.png" width="315"> 
  <figcaption>
    出现以上括号，说明已经成功激活虚拟环境 
  </figcaption> 
 </figure> 
</div> 
<p> </p> 
<ul><li>step3  使用虚拟环境 </li></ul> 
<p>              当我们激活虚拟环境之后，再进行pip install，就是安装到虚拟环境中了，更易于包的管理</p> 
<p>              <span style="background-color:#f9eda6;">若我们希望在pycharm或其他开发工具中使用，只需将解释器换为虚拟环境的解释器即可</span> </p> 
<p>              一般来说，路径为<span style="background-color:#f9eda6;"> C:\ Users \ 电脑名 \ 虚拟环境名 \ Scripts \ python.exe</span></p> 
<p></p> 
<ul><li>step4  退出虚拟环境 </li></ul> 
<p>              只需要执行 <code><span style="background-color:#f9eda6;">deactivate</span></code><span style="background-color:#f9eda6;"> </span>命令就行</p> 
<p></p> 
<ul><li> step5  删除虚拟环境</li></ul> 
<p>               找到对应虚拟文件的位置删除即可</p> 
<p></p> 
<p></p> 
<h4> 4.3 pycharm中虚拟环境的使用</h4> 
<p> 若已经在cmd中创建好虚拟环境，直接参考step3 使用即可</p> 
<p> 我们也可以直接在pycharm中创建虚拟环境</p> 
<figure class="image"> 
 <img alt="" height="441" src="https://images2.imgbox.com/33/b3/176RmEu1_o.jpg" width="705"> 
 <figcaption>
   pycharm中新建虚拟环境 
 </figcaption> 
</figure> 
<p></p> 
<p></p> 
<h4> 4.4 保存和复制虚拟环境 </h4> 
<ul><li>如何让别人使用和我们一样的虚拟环境？</li></ul> 
<p><strong>step1</strong>  激活虚拟环境 </p> 
<p><strong>step2 </strong> 输入   <span style="background-color:#f9eda6;">虚拟环境文件名 \ Scripts &gt; pip freeze</span>     </p> 
<p>                      作用：将我们安装过的包以requirements的格式输出</p> 
<p></p> 
<p><strong>step3</strong>  再在后面输入 <span style="background-color:#f9eda6;">&gt; requirements.txt</span>      以txt文件格式保存，并发送给别人</p> 
<p><strong>stpe4  </strong>在其他电脑配置的python环境中，</p> 
<p>                      输入 <span style="background-color:#f9eda6;">python环境文件名 \ Scripts &gt; pip install  -r  requirements.txt</span>       </p> 
<p>                      即可自动安装自己虚拟环境中已安装的包</p> 
<p></p> 
<p></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/4f46cf5d7cecfc2114781d34a5129a9f/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">开源公告｜tRPC-Java开发框架</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/051951c03c646741fb4fb5a0bc125e71/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">filebeat 处理日志切割问题</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>