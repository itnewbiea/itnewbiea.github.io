<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>React之react-hook-form使用 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="React之react-hook-form使用" />
<meta property="og:description" content="文章目录 一、react-hook-form介绍（1）安装（2）使用 一、react-hook-form介绍 React Hook Form是一个高性能、灵活、易拓展、易于使用的表单校验库，用于React Web＆Native的表单验证。
（1）安装 npm i react-hook-form or yarn add react-hook-form （2）使用 这是官方提供的使用方法：
from标签使用 import React from &#39;react&#39;; import { useForm } from &#39;react-hook-form&#39;; function App() { const { register, handleSubmit, errors } = useForm(); // initialise the hook const onSubmit = (data) =&gt; { console.log(data); }; return ( &lt;form onSubmit={handleSubmit(onSubmit)}&gt; &lt;input name=&#34;firstname&#34; ref={register} /&gt; {/* register an input */} &lt;input name=&#34;lastname&#34; ref={register({ required: true })} /&gt; {errors." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/7cbb10474746b7d60ae05ba758eb4649/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-08-06T14:53:09+08:00" />
<meta property="article:modified_time" content="2021-08-06T14:53:09+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">React之react-hook-form使用</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night-eighties">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#reacthookform_1" rel="nofollow">一、react-hook-form介绍</a></li><li><ul><li><a href="#1_4" rel="nofollow">（1）安装</a></li><li><a href="#2_10" rel="nofollow">（2）使用</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="reacthookform_1"></a>一、react-hook-form介绍</h2> 
<p>React Hook Form是一个高性能、灵活、易拓展、易于使用的表单校验库，用于React Web＆Native的表单验证。</p> 
<h3><a id="1_4"></a>（1）安装</h3> 
<pre><code class="prism language-js">npm i react<span class="token operator">-</span>hook<span class="token operator">-</span>form
or
yarn add react<span class="token operator">-</span>hook<span class="token operator">-</span>form
</code></pre> 
<h3><a id="2_10"></a>（2）使用</h3> 
<p>这是官方提供的使用方法：</p> 
<ol><li>from标签使用</li></ol> 
<pre><code class="prism language-js"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> useForm <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-hook-form'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span> register<span class="token punctuation">,</span> handleSubmit<span class="token punctuation">,</span> errors <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useForm</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// initialise the hook</span>
  <span class="token keyword">const</span> <span class="token function-variable function">onSubmit</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>form onSubmit<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token function">handleSubmit</span><span class="token punctuation">(</span>onSubmit<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>input name<span class="token operator">=</span><span class="token string">"firstname"</span> ref<span class="token operator">=</span><span class="token punctuation">{<!-- --></span>register<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span> <span class="token punctuation">{<!-- --></span><span class="token comment">/* register an input */</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span>input name<span class="token operator">=</span><span class="token string">"lastname"</span> ref<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token function">register</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> required<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token punctuation">{<!-- --></span>errors<span class="token punctuation">.</span>lastname <span class="token operator">&amp;&amp;</span> <span class="token string">'Last name is required.'</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span>input name<span class="token operator">=</span><span class="token string">"age"</span> ref<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token function">register</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> pattern<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\d+</span><span class="token regex-delimiter">/</span></span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token punctuation">{<!-- --></span>errors<span class="token punctuation">.</span>age <span class="token operator">&amp;&amp;</span> <span class="token string">'Please enter number for age.'</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">"submit"</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<ol start="2"><li>通过buttom控制<br> 下面是我写的一个函数，通过遍历数组进行显示对应的组件<br> 数组如下：</li></ol> 
<pre><code class="prism language-js"><span class="token punctuation">{<!-- --></span>
    <span class="token string">"version"</span><span class="token operator">:</span> <span class="token string">"2.0"</span><span class="token punctuation">,</span>
    <span class="token string">"actions"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token string">"text"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{<!-- --></span>
                    <span class="token string">"markdown"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                    <span class="token string">"value"</span><span class="token operator">:</span> <span class="token string">"**ceshi**"</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token string">"type"</span><span class="token operator">:</span> <span class="token string">"section"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token string">"type"</span><span class="token operator">:</span> <span class="token string">"divider"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token string">"text"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{<!-- --></span>
                    <span class="token string">"markdown"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                    <span class="token string">"value"</span><span class="token operator">:</span> <span class="token string">"ceshi1"</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token string">"type"</span><span class="token operator">:</span> <span class="token string">"section"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token string">"type"</span><span class="token operator">:</span> <span class="token string">"divider"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token string">"text"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{<!-- --></span>
                    <span class="token string">"markdown"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                    <span class="token string">"value"</span><span class="token operator">:</span> <span class="token string">"单行文本"</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token string">"type"</span><span class="token operator">:</span> <span class="token string">"section"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token string">"cate"</span><span class="token operator">:</span> <span class="token string">"text"</span><span class="token punctuation">,</span>
            <span class="token string">"min"</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
            <span class="token string">"type"</span><span class="token operator">:</span> <span class="token string">"input"</span><span class="token punctuation">,</span>
            <span class="token string">"required"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token string">"label"</span><span class="token operator">:</span> <span class="token string">"标签"</span><span class="token punctuation">,</span>
            <span class="token string">"desc_text"</span><span class="token operator">:</span> <span class="token string">"单行文本"</span><span class="token punctuation">,</span>
            <span class="token string">"max"</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
            <span class="token string">"placeholder"</span><span class="token operator">:</span> <span class="token string">"（若外发原因为其他，请填写）"</span><span class="token punctuation">,</span>
            <span class="token string">"name"</span><span class="token operator">:</span> <span class="token string">"other_reason"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token string">"text"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{<!-- --></span>
                    <span class="token string">"markdown"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                    <span class="token string">"value"</span><span class="token operator">:</span> <span class="token string">"多行文本"</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token string">"type"</span><span class="token operator">:</span> <span class="token string">"section"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token string">"cate"</span><span class="token operator">:</span> <span class="token string">"textarea"</span><span class="token punctuation">,</span>
            <span class="token string">"min"</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
            <span class="token string">"type"</span><span class="token operator">:</span> <span class="token string">"input"</span><span class="token punctuation">,</span>
            <span class="token string">"required"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
            <span class="token string">"label"</span><span class="token operator">:</span> <span class="token string">"标签"</span><span class="token punctuation">,</span>
            <span class="token string">"desc_text"</span><span class="token operator">:</span> <span class="token string">"多行文本"</span><span class="token punctuation">,</span>
            <span class="token string">"max"</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
            <span class="token string">"placeholder"</span><span class="token operator">:</span> <span class="token string">"（若外发原因为其他，请填写）"</span><span class="token punctuation">,</span>
            <span class="token string">"name"</span><span class="token operator">:</span> <span class="token string">"other_reason2"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token string">"type"</span><span class="token operator">:</span> <span class="token string">"divider"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token string">"text"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{<!-- --></span>
                    <span class="token string">"markdown"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                    <span class="token string">"value"</span><span class="token operator">:</span> <span class="token string">"单选"</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token string">"type"</span><span class="token operator">:</span> <span class="token string">"section"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token string">"name"</span><span class="token operator">:</span> <span class="token string">"wf_reason1"</span><span class="token punctuation">,</span>
            <span class="token string">"value"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token string">"个人或他人共享文件需要留存"</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token string">"desc_text"</span><span class="token operator">:</span> <span class="token string">"单选"</span><span class="token punctuation">,</span>
            <span class="token string">"type"</span><span class="token operator">:</span> <span class="token string">"select"</span><span class="token punctuation">,</span>
            <span class="token string">"options"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{<!-- --></span>
                    <span class="token string">"value"</span><span class="token operator">:</span> <span class="token string">"误操作"</span><span class="token punctuation">,</span>
                    <span class="token string">"label"</span><span class="token operator">:</span> <span class="token string">"误操作"</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
               
                <span class="token punctuation">{<!-- --></span>
                    <span class="token string">"value"</span><span class="token operator">:</span> <span class="token string">"其他"</span><span class="token punctuation">,</span>
                    <span class="token string">"label"</span><span class="token operator">:</span> <span class="token string">"其他"</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token string">"cate"</span><span class="token operator">:</span> <span class="token string">"radio"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token string">"text"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{<!-- --></span>
                    <span class="token string">"markdown"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                    <span class="token string">"value"</span><span class="token operator">:</span> <span class="token string">"下拉"</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token string">"type"</span><span class="token operator">:</span> <span class="token string">"section"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token string">"cate"</span><span class="token operator">:</span> <span class="token string">"select"</span><span class="token punctuation">,</span>
            <span class="token string">"filterable"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token string">"value"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token string">"个人或他人共享文件需要留存"</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token string">"desc_text"</span><span class="token operator">:</span> <span class="token string">"下拉"</span><span class="token punctuation">,</span>
            <span class="token string">"type"</span><span class="token operator">:</span> <span class="token string">"select"</span><span class="token punctuation">,</span>
            <span class="token string">"options"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{<!-- --></span>
                    <span class="token string">"value"</span><span class="token operator">:</span> <span class="token string">"误操作"</span><span class="token punctuation">,</span>
                    <span class="token string">"label"</span><span class="token operator">:</span> <span class="token string">"误操作"</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{<!-- --></span>
                    <span class="token string">"value"</span><span class="token operator">:</span> <span class="token string">"其他"</span><span class="token punctuation">,</span>
                    <span class="token string">"label"</span><span class="token operator">:</span> <span class="token string">"其他"</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token string">"name"</span><span class="token operator">:</span> <span class="token string">"wf_reason2"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token string">"text"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{<!-- --></span>
                    <span class="token string">"markdown"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                    <span class="token string">"value"</span><span class="token operator">:</span> <span class="token string">"多选"</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token string">"type"</span><span class="token operator">:</span> <span class="token string">"section"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token string">"name"</span><span class="token operator">:</span> <span class="token string">"wf_reason3"</span><span class="token punctuation">,</span>
            <span class="token string">"value"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token string">"个人或他人共享文件需要留存"</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token string">"desc_text"</span><span class="token operator">:</span> <span class="token string">"多选"</span><span class="token punctuation">,</span>
            <span class="token string">"type"</span><span class="token operator">:</span> <span class="token string">"select"</span><span class="token punctuation">,</span>
            <span class="token string">"options"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{<!-- --></span>
                    <span class="token string">"value"</span><span class="token operator">:</span> <span class="token string">"误操作"</span><span class="token punctuation">,</span>
                    <span class="token string">"label"</span><span class="token operator">:</span> <span class="token string">"误操作"</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{<!-- --></span>
                    <span class="token string">"value"</span><span class="token operator">:</span> <span class="token string">"其他"</span><span class="token punctuation">,</span>
                    <span class="token string">"label"</span><span class="token operator">:</span> <span class="token string">"其他"</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token string">"cate"</span><span class="token operator">:</span> <span class="token string">"checkbox"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token string">"text"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{<!-- --></span>
                    <span class="token string">"markdown"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                    <span class="token string">"value"</span><span class="token operator">:</span> <span class="token string">"申请加入群组：919 测试群"</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{<!-- --></span>
                    <span class="token string">"value"</span><span class="token operator">:</span> <span class="token string">"申请渠道：群名片"</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{<!-- --></span>
                    <span class="token string">"value"</span><span class="token operator">:</span> <span class="token string">"申请加入理由：无"</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token string">"type"</span><span class="token operator">:</span> <span class="token string">"section"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token string">"type"</span><span class="token operator">:</span> <span class="token string">"submit"</span><span class="token punctuation">,</span>
            <span class="token string">"children"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{<!-- --></span>
                    <span class="token string">"text"</span><span class="token operator">:</span> <span class="token string">"拒绝"</span><span class="token punctuation">,</span>
                    <span class="token string">"kind"</span><span class="token operator">:</span> <span class="token string">"normal"</span><span class="token punctuation">,</span>
                    <span class="token string">"name"</span><span class="token operator">:</span> <span class="token string">"ignore"</span><span class="token punctuation">,</span>
                    <span class="token string">"verify"</span><span class="token operator">:</span> <span class="token boolean">false</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{<!-- --></span>
                    <span class="token string">"text"</span><span class="token operator">:</span> <span class="token string">"签收"</span><span class="token punctuation">,</span>
                    <span class="token string">"kind"</span><span class="token operator">:</span> <span class="token string">"primary"</span><span class="token punctuation">,</span>
                    <span class="token string">"name"</span><span class="token operator">:</span> <span class="token string">"confirm"</span><span class="token punctuation">,</span>
                    <span class="token string">"verify"</span><span class="token operator">:</span> <span class="token boolean">true</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>通过type来控制显示的类型，有文本【纯文本，markdown】，下拉【下来，夺权，单选】，输入【input，textarea】，子类用cate来进行控制。<br> 下面是我写的函数，分别对组件进行了封装：</p> 
<pre><code class="prism language-js"><span class="token keyword">const</span> renderFormItem <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span>
    <span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">switch</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>type<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">case</span> <span class="token string">'divider'</span><span class="token operator">:</span>
          <span class="token keyword">return</span> <span class="token punctuation">(</span>
            <span class="token operator">&lt;</span>div key<span class="token operator">=</span><span class="token punctuation">{<!-- --></span>index<span class="token punctuation">}</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>div
                style<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span>
                  border<span class="token operator">:</span> <span class="token string">'solid 2px #999'</span><span class="token punctuation">,</span>
                  transform<span class="token operator">:</span> <span class="token string">'scaleY(0.2)'</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">}</span>
              <span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>WhiteSpace size<span class="token operator">=</span><span class="token string">"md"</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
          <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token string">'input'</span><span class="token operator">:</span>
          <span class="token keyword">return</span> <span class="token punctuation">(</span>
            <span class="token operator">&lt;</span>Controller
              key<span class="token operator">=</span><span class="token punctuation">{<!-- --></span>index<span class="token punctuation">}</span>
              name<span class="token operator">=</span><span class="token punctuation">{<!-- --></span>item<span class="token punctuation">.</span>name<span class="token punctuation">}</span>
              control<span class="token operator">=</span><span class="token punctuation">{<!-- --></span>control<span class="token punctuation">}</span>
              defaultValue<span class="token operator">=</span><span class="token punctuation">{<!-- --></span>item<span class="token punctuation">.</span>value<span class="token punctuation">}</span>
              rules<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span>
                required<span class="token operator">:</span> item<span class="token punctuation">.</span>required
                  <span class="token operator">?</span> <span class="token string">'【'</span> <span class="token operator">+</span> item<span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">'】输入项不能为空！'</span>
                  <span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                maxLength<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                  value<span class="token operator">:</span> item<span class="token punctuation">.</span>max<span class="token punctuation">,</span>
                  message<span class="token operator">:</span> <span class="token string">'输入不能超过'</span> <span class="token operator">+</span> item<span class="token punctuation">.</span>max <span class="token operator">+</span> <span class="token string">'个字符！'</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                minLength<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                  value<span class="token operator">:</span> item<span class="token punctuation">.</span>min<span class="token punctuation">,</span>
                  message<span class="token operator">:</span> <span class="token string">'输入不能小于'</span> <span class="token operator">+</span> item<span class="token punctuation">.</span>min <span class="token operator">+</span> <span class="token string">'个字符！'</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">}</span>
              render<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{<!-- --></span> field <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">return</span> <span class="token punctuation">(</span>
                  <span class="token operator">&lt;</span>InputComponent
                    cate<span class="token operator">=</span><span class="token punctuation">{<!-- --></span>item<span class="token punctuation">.</span>cate<span class="token punctuation">}</span>
                    name<span class="token operator">=</span><span class="token punctuation">{<!-- --></span>item<span class="token punctuation">.</span>name<span class="token punctuation">}</span>
                    label<span class="token operator">=</span><span class="token punctuation">{<!-- --></span>item<span class="token punctuation">.</span>label<span class="token punctuation">}</span>
                    desc_text<span class="token operator">=</span><span class="token punctuation">{<!-- --></span>item<span class="token punctuation">.</span>desc_text<span class="token punctuation">}</span>
                    placeholder<span class="token operator">=</span><span class="token punctuation">{<!-- --></span>item<span class="token punctuation">.</span>placeholder<span class="token punctuation">}</span>
                    value<span class="token operator">=</span><span class="token punctuation">{<!-- --></span>field<span class="token punctuation">.</span>value<span class="token punctuation">}</span>
                    max<span class="token operator">=</span><span class="token punctuation">{<!-- --></span>item<span class="token punctuation">.</span>max<span class="token punctuation">}</span>
                    min<span class="token operator">=</span><span class="token punctuation">{<!-- --></span>item<span class="token punctuation">.</span>min<span class="token punctuation">}</span>
                    onChange<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">(</span><span class="token parameter">e<span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
                      <span class="token keyword">return</span> field<span class="token punctuation">.</span><span class="token function">onChange</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span><span class="token punctuation">}</span>
                  <span class="token operator">/</span><span class="token operator">&gt;</span>
                <span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span><span class="token punctuation">}</span>
            <span class="token operator">/</span><span class="token operator">&gt;</span>
          <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token string">'select'</span><span class="token operator">:</span>
          <span class="token keyword">return</span> <span class="token punctuation">(</span>
            <span class="token operator">&lt;</span>Controller
              key<span class="token operator">=</span><span class="token punctuation">{<!-- --></span>index<span class="token punctuation">}</span>
              name<span class="token operator">=</span><span class="token punctuation">{<!-- --></span>item<span class="token punctuation">.</span>name<span class="token punctuation">}</span>
              control<span class="token operator">=</span><span class="token punctuation">{<!-- --></span>control<span class="token punctuation">}</span>
              defaultValue<span class="token operator">=</span><span class="token punctuation">{<!-- --></span>item<span class="token punctuation">.</span>cate <span class="token operator">===</span> <span class="token string">'radio'</span> <span class="token operator">?</span> <span class="token string">''</span> <span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
              rules<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span>
                required<span class="token operator">:</span> item<span class="token punctuation">.</span>required
                  <span class="token operator">?</span> <span class="token string">'【'</span> <span class="token operator">+</span> item<span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">'】选择项不能为空！'</span>
                  <span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">}</span>
              render<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{<!-- --></span> field <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">return</span> <span class="token punctuation">(</span>
                  <span class="token operator">&lt;</span>SelectComponent
                    name<span class="token operator">=</span><span class="token punctuation">{<!-- --></span>item<span class="token punctuation">.</span>name<span class="token punctuation">}</span>
                    cate<span class="token operator">=</span><span class="token punctuation">{<!-- --></span>item<span class="token punctuation">.</span>cate<span class="token punctuation">}</span>
                    options<span class="token operator">=</span><span class="token punctuation">{<!-- --></span>item<span class="token punctuation">.</span>options<span class="token punctuation">}</span>
                    value<span class="token operator">=</span><span class="token punctuation">{<!-- --></span>field<span class="token punctuation">.</span>value<span class="token punctuation">}</span>
                    onChange<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
                      <span class="token keyword">return</span> field<span class="token punctuation">.</span><span class="token function">onChange</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span><span class="token punctuation">}</span>
                  <span class="token operator">/</span><span class="token operator">&gt;</span>
                <span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span><span class="token punctuation">}</span>
            <span class="token operator">/</span><span class="token operator">&gt;</span>
          <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token string">'section'</span><span class="token operator">:</span>
          <span class="token keyword">return</span> <span class="token punctuation">(</span>
            <span class="token operator">&lt;</span>TextComponent key<span class="token operator">=</span><span class="token punctuation">{<!-- --></span>index<span class="token punctuation">}</span> text<span class="token operator">=</span><span class="token punctuation">{<!-- --></span>item<span class="token punctuation">.</span>text<span class="token punctuation">}</span><span class="token operator">&gt;</span>
              文本
            <span class="token operator">&lt;</span><span class="token operator">/</span>TextComponent<span class="token operator">&gt;</span>
          <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token string">'submit'</span><span class="token operator">:</span>
          <span class="token keyword">return</span> <span class="token punctuation">(</span>
            <span class="token operator">&lt;</span>ButtonComponent
              key<span class="token operator">=</span><span class="token punctuation">{<!-- --></span>index<span class="token punctuation">}</span>
              childrens<span class="token operator">=</span><span class="token punctuation">{<!-- --></span>item<span class="token punctuation">.</span>children<span class="token punctuation">}</span>
              type<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token string">'submit'</span><span class="token punctuation">}</span>
              onClick<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">(</span><span class="token parameter">action</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
                <span class="token function">handleSubmit</span><span class="token punctuation">(</span><span class="token function">onSubmit</span><span class="token punctuation">(</span>action<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span><span class="token punctuation">}</span>
            <span class="token operator">/</span><span class="token operator">&gt;</span>
          <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">default</span><span class="token operator">:</span>
          <span class="token keyword">return</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span>control<span class="token punctuation">,</span> handleSubmit<span class="token punctuation">,</span> onSubmit<span class="token punctuation">]</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>onsubmit函数</p> 
<pre><code class="prism language-js"> <span class="token keyword">const</span> onSubmit <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span>
    <span class="token punctuation">(</span><span class="token parameter">action<span class="token operator">:</span> string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token parameter">data<span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
      <span class="token comment">//可以拿到对应的数据</span>
       console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>action<span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>显示错误提示的函数：</p> 
<pre><code class="prism language-js">  <span class="token keyword">const</span> <span class="token function-variable function">rederError</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">item<span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">const</span> err_str <span class="token operator">=</span> errors<span class="token punctuation">[</span>item<span class="token punctuation">.</span>name<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>err_str<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">return</span> <span class="token operator">&lt;</span>span className<span class="token operator">=</span><span class="token punctuation">{<!-- --></span>styles<span class="token punctuation">[</span><span class="token string">'error-info'</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">{<!-- --></span>err_str<span class="token punctuation">.</span>message<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<p>页面主函数：</p> 
<pre><code class="prism language-js"><span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token punctuation">{<!-- --></span>styles<span class="token punctuation">[</span><span class="token string">'ueba-div'</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
      <span class="token punctuation">{<!-- --></span>loading <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>
        <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token punctuation">{<!-- --></span>styles<span class="token punctuation">[</span><span class="token string">'loading-div'</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>img
            src<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token string">'img/loading.gif'</span><span class="token punctuation">}</span>
            className<span class="token operator">=</span><span class="token punctuation">{<!-- --></span>styles<span class="token punctuation">[</span><span class="token string">'loading-div__img'</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
            alt<span class="token operator">=</span><span class="token string">""</span>
          <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token punctuation">)</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span>WingBlank<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
          <span class="token punctuation">{<!-- --></span>list<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> <span class="token punctuation">(</span>
              <span class="token operator">&lt;</span>div key<span class="token operator">=</span><span class="token punctuation">{<!-- --></span>index<span class="token punctuation">}</span><span class="token operator">&gt;</span>
                <span class="token punctuation">{<!-- --></span><span class="token function">renderUeba</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span> index<span class="token punctuation">)</span><span class="token punctuation">}</span>
                <span class="token punctuation">{<!-- --></span><span class="token function">rederError</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">}</span>
              <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>WingBlank<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</code></pre> 
<p>参考文章：<br> <a href="https://react-hook-form.com/api/usecontroller/controller/" rel="nofollow">https://react-hook-form.com/api/usecontroller/controller/</a><br> 上述只是个用法代码，下次准备写一版封装好的form组件</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/79f8073cb78f6fcd2f12ad0a0df2a123/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">ajax浏览器前进后退等功能,AJAX 网页保留浏览器前进后退等功能</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/0d89823d5b0996be307a9dd80b8fe532/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">为什么ajax反复被调用了,setInterval每次都会触发两次Ajax调用</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>