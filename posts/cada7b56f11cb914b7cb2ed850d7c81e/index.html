<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Python OpenCV使用带背景减法的 Haar 级联分类器的车辆和行人实时检测和分类 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Python OpenCV使用带背景减法的 Haar 级联分类器的车辆和行人实时检测和分类" />
<meta property="og:description" content="所提出系统的检测阶段主要是在输入图像上移动目标大小的窗口，并为图像的每个子部分计算类 Haar 特征。然后将此差异与将非对象与对象分开的学习阈值进行比较。
这种方法的最大优点是计算速度。由于使用 积分图像可以快速有效地生成网格的矩形子集中的值的总和，因此可以在恒定时间内计算出任何大小的类 Haar 特征（对于 2 个矩形特征大约需要 60 条微处理器指令） ）。
图 1 显示了一个示例视频的单帧。该图像包含行人作为对象。图 2 是使用 MOG2 背景减法后的输出快照。行人下方的灰色部分代表人的影子。
图 1 视频样本帧
作为提高性能的预处理步骤，在 OpenCV 库函数的帮助下使用 MOG2 执行背景减法。用于行人检测的 MOG2 减法结果如图 2 所示。
图 2 背景扣除后的结果
接下来，我们创建要检测的各种对象（目标对象）的 XML 文件，即公共汽车、汽车、双轮车和行人各有一个 XML 文件。参与创建的步骤
XML文件如下所示
涉及的各种过程的流程图
为了实现上述步骤，我们使用了一种称为 Haar 训练工具的特殊工具。该工具由用于创建 XML 文件的各种文件和文件夹组成，如下图所示。
第 1 步：正负图像集的收集 对于正图像数据集，一些图像是从视频中手动裁剪出来的，其余图像是从互联网上下载的。负片图像通过 ImageNet 下载并进行灰度处理，因为与彩色图像相比，这些图像的处理速度和性能既高又简单。然后将所有负图像放置在名为负的文件夹中，然后将所有正图像放置在训练工具文件夹的正文件夹中名为 rawdata 的文件夹中。
公共汽车、汽车、行人和两轮车的正面形象
放置在负片文件夹中的灰度负片图像
正图像是包含目标对象的图像，负图像是没有目标对象的图像。
第 2 步：创建 info.txt、bg.txt 和 Vector 文件
在这一步中，我们转到否定文件夹并单击批处理文件-create_list.bat。这反过来会创建一个文件 bg.txt，其中包含如下所示的负面图像的名称列表
接下来，我们创建 info.txt 文件，该文件告诉我们正图像中对象的确切位置、对象的数量、其 x 坐标、y 坐标等。为此，我们使用一个工具" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/cada7b56f11cb914b7cb2ed850d7c81e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-10-19T19:58:05+08:00" />
<meta property="article:modified_time" content="2021-10-19T19:58:05+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Python OpenCV使用带背景减法的 Haar 级联分类器的车辆和行人实时检测和分类</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p style="margin-left:.0001pt;text-align:center;"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#000000;">所提出系统的检测阶段主要是在输入图像上移动目标大小的窗口，并为图像的每个子部分计算类</span><span style="color:#000000;"> Haar </span><span style="color:#000000;">特征。然后将此差异与将非对象与对象分开的学习阈值进行比较。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#000000;">这种方法的最大优点是计算速度。由于使用</span>  <span style="color:#000000;">积分图像可以快速有效地生成网格的矩形子集中的值的总和，因此可以在恒定时间内计算出任何大小的类</span><span style="color:#000000;"> Haar </span><span style="color:#000000;">特征（对于</span><span style="color:#000000;"> 2 </span><span style="color:#000000;">个矩形特征大约需要</span><span style="color:#000000;"> 60 </span><span style="color:#000000;">条微处理器指令）</span> <span style="color:#000000;">）。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#000000;">图</span><span style="color:#000000;"> 1 </span><span style="color:#000000;">显示了一个示例视频的单帧。该图像包含行人作为对象。图</span><span style="color:#000000;"> 2 </span><span style="color:#000000;">是使用</span><span style="color:#000000;"> MOG2 </span><span style="color:#000000;">背景减法后的输出快照。行人下方的灰色部分代表人的影子。</span></p> 
<p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;"></span></p> 
<p style="margin-left:.0001pt;text-align:center;"> <span style="color:#000000;">图</span><span style="color:#000000;"> 1 </span><span style="color:#000000;">视频样本帧</span></p> 
<p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">作为提高性能的预处理步骤，在</span><span style="color:#000000;">   OpenCV </span><span style="color:#000000;">库函数的帮助下使用</span><span style="color:#000000;"> MOG2 </span><span style="color:#000000;">执行背景减法。用于行人检测的</span><span style="color:#000000;"> MOG2 </span><span style="color:#000000;">减法结果如图</span><span style="color:#000000;"> 2 </span><span style="color:#000000;">所示。</span></p> 
<p style="margin-left:.0001pt;text-align:left;"></p> 
<p style="margin-left:.0001pt;text-align:center;"><span style="color:#000000;"> </span></p> 
<p style="margin-left:.0001pt;text-align:center;"><span style="color:#000000;">图</span><span style="color:#000000;"> 2 </span><span style="color:#000000;">背景扣除后的结果</span></p> 
<p style="margin-left:.0001pt;text-align:left;"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#000000;">接下来，我们创建要检测的各种对象（目标对象）的</span><span style="color:#000000;"> XML </span><span style="color:#000000;">文件，即公共汽车、汽车、双轮车和行人各有一个</span><span style="color:#000000;"> XML </span><span style="color:#000000;">文件。参与创建的步骤</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#000000;">XML</span><span style="color:#000000;">文件如下所示</span></p> 
<p style="margin-left:.0001pt;text-align:left;"></p> 
<p style="margin-left:.0001pt;text-align:center;"><span style="color:#000000;"> </span></p> 
<p style="margin-left:.0001pt;text-align:center;"><span style="color:#000000;">涉及的各种过程的流程图</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#000000;">为了实现上述步骤，我们使用了一种称为</span><span style="color:#000000;"> Haar </span><span style="color:#000000;">训练工具的特殊工具。该工具由用于创建</span><span style="color:#000000;"> XML </span><span style="color:#000000;">文件的各种文件和文件夹组成，如下图所示。</span></p> 
<p style="margin-left:.0001pt;text-align:left;"></p> 
<p style="margin-left:.0001pt;text-align:right;"><span style="color:#000000;"> </span></p> 
<p style="margin-left:.0001pt;text-align:left;"></p> 
<p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">第</span><span style="color:#000000;"> 1 </span><span style="color:#000000;">步：正负图像集的收集</span> </p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#000000;">对于正图像数据集，一些图像是从视频中手动裁剪出来的，其余图像是从互联网上下载的。负片图像通过</span><span style="color:#000000;"> ImageNet </span><span style="color:#000000;">下载并进行灰度处理，因为与彩色图像相比，这些图像的处理速度和性能既高又简单。然后将所有负图像放置在名为负的文件夹中，然后将所有正图像放置在训练工具文件夹的正文件夹中名为</span><span style="color:#000000;"> rawdata </span><span style="color:#000000;">的文件夹中。</span></p> 
<p style="margin-left:.0001pt;text-align:right;"><span style="color:#000000;"> </span></p> 
<p style="margin-left:.0001pt;text-align:center;"><span style="color:#000000;">公共汽车、汽车、行人和两轮车的正面形象</span></p> 
<p style="margin-left:.0001pt;text-align:center;"></p> 
<p style="margin-left:.0001pt;text-align:right;"><span style="color:#000000;"> </span></p> 
<p style="margin-left:.0001pt;text-align:center;"><span style="color:#000000;">放置在负片文件夹中的灰度负片图像</span></p> 
<p style="margin-left:.0001pt;text-align:center;"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#000000;">正图像是包含目标对象的图像，负图像是没有目标对象的图像。</span></p> 
<p style="margin-left:.0001pt;text-align:left;"></p> 
<p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">第</span><span style="color:#000000;"> 2 </span><span style="color:#000000;">步：创建</span><span style="color:#000000;"> info.txt</span><span style="color:#000000;">、</span><span style="color:#000000;">bg.txt </span><span style="color:#000000;">和</span><span style="color:#000000;"> Vector </span><span style="color:#000000;">文件</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"> <span style="color:#000000;">在这一步中，我们转到否定文件夹并单击批处理文件</span><span style="color:#000000;">-create_list.bat</span><span style="color:#000000;">。这反过来会创建一个文件</span><span style="color:#000000;"> bg.txt</span><span style="color:#000000;">，其中包含如下所示的负面图像的名称列表</span></p> 
<p style="margin-left:.0001pt;text-align:left;"></p> 
<p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;"> </span></p> 
<p style="margin-left:.0001pt;text-align:left;"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#000000;">接下来，我们创建</span><span style="color:#000000;"> info.txt </span><span style="color:#000000;">文件，该文件告诉我们正图像中对象的确切位置、对象的数量、其</span><span style="color:#000000;"> x </span><span style="color:#000000;">坐标、</span><span style="color:#000000;">y </span><span style="color:#000000;">坐标等。为此，我们使用一个工具</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#000000;">称为</span><span style="color:#000000;"> objectmarker.exe</span></p> 
<p style="margin-left:.0001pt;text-align:left;"></p> 
<p style="margin-left:.0001pt;text-align:center;"><span style="color:#000000;"> </span></p> 
<p style="margin-left:.0001pt;text-align:left;"></p> 
<p style="margin-left:.0001pt;text-align:justify;"> <span style="color:#000000;">使用对象标记工具，我们在原始数据文件夹中给出的每个正图像中标记对象，方法是使用矩形框包围对象，然后按</span><span style="color:#000000;"> &lt;space&gt;</span><span style="color:#000000;">。如果我们在同一图像中有另一个对象，那么我们选择该对象并按</span><span style="color:#000000;"> &lt;space&gt;</span><span style="color:#000000;">。选择所有对象后，我们按</span><span style="color:#000000;"> &lt;enter&gt; </span><span style="color:#000000;">键转到下一张图像。然后在</span><span style="color:#000000;"> objectmarker.exe </span><span style="color:#000000;">中显示有关图像中检测到的对象的一行详细信息，如下图所示。</span></p> 
<p style="margin-left:.0001pt;text-align:center;"><span style="color:#000000;"> </span></p> 
<p style="margin-left:.0001pt;text-align:left;"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#000000;">在对</span><span style="color:#000000;"> rawdata </span><span style="color:#000000;">文件夹中的所有图像执行上述过程后，</span><span style="color:#000000;">objectmarker </span><span style="color:#000000;">工具将关闭并创建一个名为</span><span style="color:#000000;"> info.txt </span><span style="color:#000000;">的文件，如下所示，其中提供了有关正图像和在其中检测到的对象的详细信息。</span></p> 
<p style="margin-left:.0001pt;text-align:left;"></p> 
<p style="margin-left:.0001pt;text-align:center;"><span style="color:#000000;"> </span></p> 
<p style="margin-left:.0001pt;text-align:left;"></p> 
<p style="margin-left:.0001pt;text-align:justify;">  <span style="color:#000000;">例如，</span><span style="color:#000000;">  info.txt </span><span style="color:#000000;">中的</span><span style="color:#000000;">“rawdata/a1.bmp 1 32 97 236 236”</span><span style="color:#000000;">行表示名为</span><span style="color:#000000;">“a1.bmp”</span><span style="color:#000000;">的正图像存储在路径</span><span style="color:#000000;">“rawdata/a1.bmp”</span><span style="color:#000000;">中</span>  <span style="color:#000000;">有</span><span style="color:#000000;">1</span><span style="color:#000000;">个对象它，放置在给定的位置：</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#000000;">x </span><span style="color:#000000;">坐标</span><span style="color:#000000;"> = 32</span><span style="color:#000000;">，</span><span style="color:#000000;">y </span><span style="color:#000000;">坐标</span><span style="color:#000000;"> = 97</span><span style="color:#000000;">，宽度</span><span style="color:#000000;"> = 236</span><span style="color:#000000;">，高度</span><span style="color:#000000;"> = 236</span><span style="color:#000000;">。</span></p> 
<p style="margin-left:.0001pt;text-align:left;"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#000000;">接下来，我们为正图像创建了矢量文件。在</span>    <span style="color:#000000;">文件夹</span><span style="color:#000000;"> ..\training\ </span><span style="color:#000000;">中有一个名为</span><span style="color:#000000;"> samples_creation </span><span style="color:#000000;">的批处理文件。蝙蝠。</span><span style="color:#000000;">Bath </span><span style="color:#000000;">文件的内容如下所示。</span><span style="color:#000000;">createsamples.exe -info positive/info.txt</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#000000;"> –vec </span><span style="color:#000000;">向量</span><span style="color:#000000;">/objectvector.vec –num 200 -w 24 -h 24</span></p> 
<p style="margin-left:.0001pt;text-align:left;"></p> 
<p style="margin-left:.0001pt;text-align:left;"><u><span style="color:#000000;">主要参数：</span></u></p> 
<p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">-info positive/info.txt</span><span style="color:#000000;">正信息文件的路径</span>           </p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#000000;">-vec vector/objectvector.vec   </span><span style="color:#000000;">输出矢量文件的路径</span></p> 
<p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">-num 200 </span><span style="color:#000000;">要处理</span>                             <span style="color:#000000;">的正文件数</span> </p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#000000;">打包成矢量文件</span></p> 
<p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">-w 24</span><span style="color:#000000;">对象的宽度</span>                                    </p> 
<p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">-h 24</span><span style="color:#000000;">对象的高度</span>                                      </p> 
<p style="margin-left:.0001pt;text-align:left;"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#000000;">这个批处理文件加载</span><span style="color:#000000;"> info.txt </span><span style="color:#000000;">并将对象图像打包成一个矢量文件，名称为例如</span><span style="color:#000000;"> objectvector.vec </span><span style="color:#000000;">。运行批处理文件后，我们将在文件夹</span><span style="color:#000000;">..\training\vector </span><span style="color:#000000;">中得到文件</span><span style="color:#000000;">objectvector.vec</span><span style="color:#000000;">。</span></p> 
<p style="margin-left:.0001pt;text-align:left;"></p> 
<p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">第</span><span style="color:#000000;"> 4 </span><span style="color:#000000;">步：训练</span><span style="color:#000000;"> Haar </span><span style="color:#000000;">分类器</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"> <span style="color:#000000;">在</span>  <span style="color:#000000;">这个</span>  <span style="color:#000000;">步骤中，</span>  <span style="color:#000000;">我们</span>   <span style="color:#000000;">点击</span>  <span style="color:#000000;">了</span><span style="color:#000000;">  haartraining.exe  </span><span style="color:#000000;">文件</span>  <span style="color:#000000;">，其开始</span>   <span style="color:#000000;">的</span>  <span style="color:#000000;">哈尔</span>  <span style="color:#000000;">分类</span>  <span style="color:#000000;">培训。在</span>  <span style="color:#000000;">下面的</span>   <span style="color:#000000;">东西</span>  <span style="color:#000000;">已经在</span><span style="color:#000000;">haarTraining.bat</span><span style="color:#000000;">文件中设置。</span></p> 
<p style="margin-left:.0001pt;text-align:left;"></p> 
<p style="margin-left:.0001pt;text-align:right;"><span style="color:#000000;"> </span></p> 
<p style="margin-left:.0001pt;text-align:left;"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#000000;">bat </span><span style="color:#000000;">文件用于定义矢量文件的位置、负文件、使用的正负图像的数量</span><span style="color:#000000;"> - </span><span style="color:#000000;">此处均为</span><span style="color:#000000;"> 200</span><span style="color:#000000;">，分配给该训练程序的内存（以</span><span style="color:#000000;"> MB </span><span style="color:#000000;">为单位）</span><span style="color:#000000;">-</span><span style="color:#000000;">此处为</span><span style="color:#000000;"> 4096MB</span><span style="color:#000000;">、宽度和样本图像的高度</span><span style="color:#000000;"> - </span><span style="color:#000000;">此处为</span><span style="color:#000000;"> 24</span><span style="color:#000000;">，此处为</span><span style="color:#000000;"> 20 </span><span style="color:#000000;">的训练阶段数。此处</span><span style="color:#000000;"> - </span><span style="color:#000000;">数据级联表示路径并用于存储分类器的级联。</span></p> 
<p style="margin-left:.0001pt;text-align:left;"></p> 
<p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;">   <span style="color:#000000;">使用</span><span style="color:#000000;">haartraining.exe </span><span style="color:#000000;">时会出现上述屏幕。这里</span></p> 
<p style="margin-left:.0001pt;text-align:left;"></p> 
<p style="margin-left:.0001pt;text-align:left;"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#000000;">父节点：</span>  <span style="color:#000000;">定义当前训练过程中的阶段</span></p> 
<p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">N</span><span style="color:#000000;">：本阶段使用的特征数</span>                  </p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#000000;">%SMP</span><span style="color:#000000;">：样本百分比（用于此功能的样本百分比）</span>      </p> 
<p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">F</span><span style="color:#000000;">：</span><span style="color:#000000;">“+”</span><span style="color:#000000;">如果翻转（应用对称时）和</span><span style="color:#000000;">“-                    </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#000000;">”  </span><span style="color:#000000;">如果不是</span></p> 
<p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">ST.THR</span><span style="color:#000000;">：</span>        <span style="color:#000000;">阶段阈值</span></p> 
<p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">HR</span><span style="color:#000000;">：基于阶段阈值的命中率</span>               </p> 
<p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">FA</span><span style="color:#000000;">：基于阶段阈值的误报</span>                </p> 
<p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">经验值</span><span style="color:#000000;"> ERR</span><span style="color:#000000;">：强分类器的指数误差</span>            </p> 
<p style="margin-left:.0001pt;text-align:left;"></p> 
<p style="margin-left:.0001pt;text-align:left;"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#000000;">训练师在第</span><span style="color:#000000;">10</span><span style="color:#000000;">阶段的图像如下所示。在这里，我们观察到整体错误检测</span><span style="color:#000000;">/</span><span style="color:#000000;">警报（</span><span style="color:#000000;">FA</span><span style="color:#000000;">）已经减少，使用的特征没有增加，训练所需的时间也随着阶段的增加而增加。</span></p> 
<p style="margin-left:.0001pt;text-align:left;"></p> 
<p style="margin-left:.0001pt;text-align:right;"><span style="color:#000000;"> </span></p> 
<p style="margin-left:.0001pt;text-align:left;"></p> 
<p style="margin-left:.0001pt;text-align:left;"></p> 
<p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">第</span><span style="color:#000000;"> 5 </span><span style="color:#000000;">步：创建</span><span style="color:#000000;"> XML </span><span style="color:#000000;">文件</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"> <span style="color:#000000;">上述过程结束后，</span><span style="color:#000000;">cascades </span><span style="color:#000000;">文件夹加载了</span><span style="color:#000000;"> 0 </span><span style="color:#000000;">到</span><span style="color:#000000;"> N-1 </span><span style="color:#000000;">个文件夹，其中</span><span style="color:#000000;"> N </span><span style="color:#000000;">是我们在</span><span style="color:#000000;"> haarTraining.bat </span><span style="color:#000000;">文件中输入的阶段数。每个文件夹都包含一个名为</span><span style="color:#000000;"> AdaBoostCARTHaarClassifier.txt </span><span style="color:#000000;">的文件。现在我们将所有这些文件夹复制到</span><span style="color:#000000;">cascade2xml/data</span><span style="color:#000000;">文件夹，如下所示。</span></p> 
<p style="margin-left:.0001pt;text-align:center;"><span style="color:#000000;"> </span></p> 
<p style="margin-left:.0001pt;text-align:left;"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#000000;">现在我们应该将所有创建的阶段（分类器）合并到一个</span><span style="color:#000000;"> XML </span><span style="color:#000000;">文件中，这将是我们的最终文件，即</span><span style="color:#000000;">“</span><span style="color:#000000;">类</span><span style="color:#000000;"> Haar </span><span style="color:#000000;">分类器的级联</span><span style="color:#000000;">”</span><span style="color:#000000;">。然后我们将</span><span style="color:#000000;">convert.bat </span><span style="color:#000000;">文件设置为要创建的</span><span style="color:#000000;">xml </span><span style="color:#000000;">文件的名称、宽度和高度。然后我们通过单击</span><span style="color:#000000;"> haarconv.exe </span><span style="color:#000000;">创建</span><span style="color:#000000;"> XML </span><span style="color:#000000;">文件。之后我们将得到如下所示的</span><span style="color:#000000;"> myobjectdetector.xml </span><span style="color:#000000;">文件。</span></p> 
<p style="margin-left:.0001pt;text-align:left;"></p> 
<p style="margin-left:.0001pt;text-align:right;"><span style="color:#000000;"> </span></p> 
<p style="margin-left:.0001pt;text-align:left;"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#000000;">同样，我们为汽车、行人、两轮车等创建</span><span style="color:#000000;"> XML </span><span style="color:#000000;">文件。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#000000;">该</span>  <span style="color:#000000;">生成的</span><span style="color:#000000;">XML</span><span style="color:#000000;">文件，然后与级联分类器的命令处理的</span><span style="color:#000000;">OpenCV</span><span style="color:#000000;">，然后将每个帧被转换成灰度级作为彩色帧</span>  <span style="color:#000000;">降低了处理速度。</span></p> 
<p style="margin-left:.0001pt;text-align:left;"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#000000;">下一步涉及到</span>  <span style="color:#000000;">由</span><span style="color:#000000;">detectMultiScale</span><span style="color:#000000;">完成的物体检测，该命令的重要参数是比例因子，它在避免误检和漏检方面起着重要作用。尝试了各种比例因子的值，并为每个汽车、公共汽车、两轮车和行人检测选择最合适的一个，因此在检测到的对象上绘制矩形。</span></p> 
<p style="margin-left:.0001pt;text-align:left;"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#000000;">使用用于检测公共汽车、汽车、行人和两轮车等物体的各种</span><span style="color:#000000;"> xml </span><span style="color:#000000;">文件后获得的结果示例图像如下所示。</span></p> 
<p style="margin-left:.0001pt;text-align:left;"></p> 
<p style="margin-left:.0001pt;text-align:left;"></p> 
<p style="margin-left:.0001pt;text-align:center;"><span style="color:#000000;"> </span></p> 
<p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">总线检测</span></p> 
<p style="margin-left:.0001pt;text-align:left;"></p> 
<p style="margin-left:.0001pt;text-align:center;"><span style="color:#000000;"></span> </p> 
<p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">汽车检测</span></p> 
<p style="margin-left:.0001pt;text-align:center;"><span style="color:#000000;"></span> </p> 
<p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">两轮车检测</span></p> 
<p style="margin-left:.0001pt;text-align:center;"><span style="color:#000000;"></span> </p> 
<p style="margin-left:.0001pt;text-align:left;">  <span style="color:#000000;">行人检测</span></p> 
<p style="margin-left:.0001pt;text-align:right;"></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/b524788c1d57345637c1e9e0424f7731/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">iframe监听页面是否加载完成</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/817b74683e07e59c1acf050cc3d8c55e/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【易语言】组件复制的调用和事件响应使用方法</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>