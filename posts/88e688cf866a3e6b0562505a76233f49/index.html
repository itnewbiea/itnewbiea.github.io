<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>搭建一个双系统个人服务器 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="搭建一个双系统个人服务器" />
<meta property="og:description" content="搭建一个双系统个人服务器 0.前言一、双系统安装1.磁盘划分2.windows安装3.ubuntu安装 二、系统启动项美化：1. refind引导2. 美化 grub 界面 三、系统代理 0.前言 年后找了份工作，忙于适应新环境所以更新也减缓了，最近闲暇时间给个人电脑进行了整理和修缮，改造出了一台私人服务器，便于后续的学习和工作。
一、双系统安装 配置方面就无所谓了，主要是上层的系统和环境需要搭建。首先是双系统安装，硬盘方面是一个 1T m.2 固态用于安装 windows，一个 470G 固态用于安装ubuntu。
1.磁盘划分 将 1T 固态分成 EFI &#43; GPT 磁盘，EFI 大小 300M，用于存放windows 和 ubuntu 引导，GPT 磁盘用于存放 windows 系统的文件。
将 470G 固态分成 70G &#43; 400G 的GPT磁盘，不需要EFI引导分区。
2.windows安装 这部分没什么好说的，直接 windows 官方安装工具，安装到 1T 固态中即可。由于安装 win11 后的使用过程遇到些不知名的bug，所以最后安装的 win10 系统。
3.ubuntu安装 这部分安装的时候，搜索了一下相关示例，感觉教程都挺杂乱，所以就小记一下。目前很多教程都分出好多分区，什么 boot、swap、home、根分区 / 等等，这里就稍微解释一下。
从ubuntu下载镜像，使用 rufus 制作安装盘，安装步骤一搜一大把，这里就不赘述了。然后关于分区，首先是根分区 /，这个分区类似于 windows 下的系统盘，通常一些 Linux 内核文件及系统工具等存放在此。这里我分了 70G，建议最低不低于 30G，否则后续安装 pytorch、cuda 等大型工具以后很容易就满了，磁盘充足也可以相应扩大。
/home目录，这部分就相当于用户个人磁盘，将它单独分出来的目的是后续如果想重装ubuntu系统，直接安装在 / 目录即可，用户文件不会丢失。这里我将剩余的400G全部分配。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/88e688cf866a3e6b0562505a76233f49/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-03-27T16:08:56+08:00" />
<meta property="article:modified_time" content="2023-03-27T16:08:56+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">搭建一个双系统个人服务器</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>搭建一个双系统个人服务器</h4> 
 <ul><li><a href="#0_3" rel="nofollow">0.前言</a></li><li><a href="#_5" rel="nofollow">一、双系统安装</a></li><li><ul><li><a href="#1_7" rel="nofollow">1.磁盘划分</a></li><li><a href="#2windows_10" rel="nofollow">2.windows安装</a></li><li><a href="#3ubuntu_12" rel="nofollow">3.ubuntu安装</a></li></ul> 
  </li><li><a href="#_24" rel="nofollow">二、系统启动项</a></li><li><ul><li><a href="#_27" rel="nofollow">美化：</a></li><li><ul><li><a href="#1_refind_29" rel="nofollow">1. refind引导</a></li><li><a href="#2__grub__31" rel="nofollow">2. 美化 grub 界面</a></li></ul> 
  </li></ul> 
  </li><li><a href="#_33" rel="nofollow">三、系统代理</a></li></ul> 
</div> 
<p></p> 
<hr> 
<h2><a id="0_3"></a>0.前言</h2> 
<p>  年后找了份工作，忙于适应新环境所以更新也减缓了，最近闲暇时间给个人电脑进行了整理和修缮，改造出了一台私人服务器，便于后续的学习和工作。</p> 
<h2><a id="_5"></a>一、双系统安装</h2> 
<p>  配置方面就无所谓了，主要是上层的系统和环境需要搭建。首先是双系统安装，硬盘方面是一个 1T m.2 固态用于安装 windows，一个 470G 固态用于安装ubuntu。</p> 
<h3><a id="1_7"></a>1.磁盘划分</h3> 
<p>  将 1T 固态分成 EFI + GPT 磁盘，EFI 大小 300M，用于存放windows 和 ubuntu 引导，GPT 磁盘用于存放 windows 系统的文件。<br>   将 470G 固态分成 70G + 400G 的GPT磁盘，不需要EFI引导分区。</p> 
<h3><a id="2windows_10"></a>2.windows安装</h3> 
<p>  这部分没什么好说的，直接 windows 官方安装工具，安装到 1T 固态中即可。由于安装 win11 后的使用过程遇到些不知名的bug，所以最后安装的 win10 系统。</p> 
<h3><a id="3ubuntu_12"></a>3.ubuntu安装</h3> 
<p>  这部分安装的时候，搜索了一下相关示例，感觉教程都挺杂乱，所以就小记一下。目前很多教程都分出好多分区，什么 boot、swap、home、根分区 / 等等，这里就稍微解释一下。<br>   从ubuntu下载镜像，使用 rufus 制作安装盘，安装步骤一搜一大把，这里就不赘述了。然后关于分区，首先是<code>根分区 /</code>，这个分区类似于 windows 下的系统盘，通常一些 Linux 内核文件及系统工具等存放在此。这里我分了 70G，建议最低不低于 30G，否则后续安装 pytorch、cuda 等大型工具以后很容易就满了，磁盘充足也可以相应扩大。<br>   <code>/home</code>目录，这部分就相当于用户个人磁盘，将它单独分出来的目的是后续如果想重装ubuntu系统，直接安装在 / 目录即可，用户文件不会丢失。这里我将剩余的400G全部分配。<br>   <code>/swap</code>目录，这部分争议较大，有说分出大小为内存的两倍，有说随便分点就行的。这个分区可以理解为手机的虚拟内存，比如有的手机6G内存不够，会有个+3G虚拟内存的功能，将一部分存储空间作为内存使用。由于我的内存较充足，且系统装在固态中，频繁的读写会降低磁盘寿命，所以我就直接舍弃了这部分分区。如果是安装在vmware虚拟机，或者电脑硬件资源有限，交换分区可以分出合适的大小，4G - 8G 即可。<br>   最后是<code>/boot</code>分区，这部分就是存放系统引导的，由于我将 ubuntu 引导和 windows 引导放在一起，这部分也就不要了。如果有实际需求，分出 300M 左右大小就足够。<br> 磁盘格式（按以下顺序进行手动分区）：<br> 根目录 /：ext4，主分区，从磁盘起始位置，70G<br> 交换分区/swap（按照需求）：swap格式，逻辑分区，从磁盘起始位置<br> 引导分区/boot：ext4，逻辑分区，从磁盘起始位置，300M（可按照需求选择挂载到已有目录下）<br> /home：ext4，逻辑分区，从磁盘起始位置，剩余空间<br>   如果是安装在虚拟机，可以选择自动分区，也就是只创建一个根目录 /，将所有文件都存放在此目录下，因为虚拟机文件备份较简单。如果是安装独立系统，建议使用手动分区，数据安全最重要。</p> 
<h2><a id="_24"></a>二、系统启动项</h2> 
<p>  安装好双系统后，进入 bios 设置启动项顺序，如果将 windows 放在第一个，启动时通常没有选项，直接进入windows。所以将 ubuntu 放在第一项，这样启动时会进入 ubuntu 的 grub 引导，也就是下面这种黑白的。（图是搬运的，仅做示范）<br> <img src="https://images2.imgbox.com/b3/40/JHrIoBRP_o.png" alt="在这里插入图片描述" width="500" height="250"></p> 
<h3><a id="_27"></a>美化：</h3> 
<p>笔者使用了两种方法对这个界面进行美化，更换 refind 引导和美化 grub 界面。</p> 
<h4><a id="1_refind_29"></a>1. refind引导</h4> 
<p>  具体可以参考<a href="https://www.bilibili.com/video/BV1714y1c78z/?spm_id_from=333.788&amp;vd_source=7e038593bf4f40f52c4266b3dac41327" rel="nofollow">这个视频</a>，主要步骤为：①下载 refind 官方引导文件②github 下载 refind 美化主题包③修改 refind 引导的配置文件，将美化包引入使用。然后使用 deskginus 工具，设置新的引导项后重启即可。（注：这里还有个小坑，重启以后还是要修改 bios 引导项，将 refind 放在第一项，否则无法生效）</p> 
<h4><a id="2__grub__31"></a>2. 美化 grub 界面</h4> 
<p>  由于找到的几个 refind 美化包个人觉得都不大好看，感觉想上个世纪的风格，所以最后又找了找美化 grub 的方法。参考<a href="https://zhuanlan.zhihu.com/p/94331255?utm_id=0" rel="nofollow">这篇帖子</a>，从 gnome-look 下载相关的美化包，然后直接脚本安装即可。总体是比较简单的，因为之前设置了 ubuntu 为第一启动项，启动时会自动加载 grub 引导，所以只要对 grub 进行美化即可。并且这个网站上的美化包风格更现代一点，还是不错的。</p> 
<h2><a id="_33"></a>三、系统代理</h2> 
<p>  因为服务器需要经常访问 github，以及资源下载等，所以就搭了个系统 proxy。试过将之前的旁路由作为服务器的网络路由，不过有些网页还是会有一些转发丢包的现象，所以就直接在系统里搭了一个新的代理。<br>   在 windows 系统下使用Cla for win，订阅，生成 ymal 文件，然后拷贝到 linux 中，使用 Cla for Linux，配置文件可以直接用 win 中生成的，如果需要其他设置，可以使用 Cla 的 webui，总体还是比较方便的。将 ubuntu 的网络代理指向 Cla 就可以全局使用了。<br>   至此，服务器搭建完毕，之后看看找点小东西玩玩。</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/cb094f26dd41fc1082656eb6db521ed9/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">前端基础学习-vscode模拟acm模式（js）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/c8a064d79817bd19853151f906f93744/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Tensorflow 2 踩坑问题记录</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>