<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Dart设计模式之适配器模式 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Dart设计模式之适配器模式" />
<meta property="og:description" content="dart设计模式之适配器模式 适配器模式 模式分析 适配器模式（Adapter Pattern）是作为两个不兼容的接口之间的桥梁。这种类型的设计模式属于结构型模式，它结合了两个独立接口的功能。 这种模式涉及到一个单一的类，该类负责加入独立的或不兼容的接口功能。举个真实的例子，读卡器是作为内存卡和笔记本之间的适配器。您将内存卡插入读卡器，再将读卡器插入笔记本，这样就可以通过笔记本来读取内存卡。 我们通过下面的实例来演示适配器模式的使用。其中，音频播放器设备只能播放 mp3 文件，通过使用一个更高级的音频播放器来播放 vlc 和 mp4 文件。
模式难点 模式解决问题 主要解决在软件系统中，常常要将一些&#34;现存的对象&#34;放到新的环境中，而新环境要求的接口是现对象不能满足的。
优点 可以让任何两个没有关联的类一起运行。提高了类的复用。增加了类的透明度。灵活性好。 缺点 过多地使用适配器，会让系统非常零乱，不易整体进行把握。比如，明明看到调用的是 A 接口，其实内部被适配成了 B 接口的实现，一个系统如果太多出现这种情况，无异于一场灾难。因此如果不是很有必要，可以不使用适配器，而是直接对系统进行重构。 2.由于 JAVA 至多继承一个类，所以至多只能适配一个适配者类，而且目标类必须是抽象类。 模式应用场景 有动机地修改一个正常运行的系统的接口，这时应该考虑使用适配器模式。
模式代码 import &#39;run.dart&#39;; //官方媒体播放接口 abstract class MediaPlayer { void play(String audioType, String fileName); } //自定义媒体播放接口 abstract class AdvancedMediaPlayer { void playVlc(String fileName); void playMp4(String fileName); } //创建实现了 AdvancedMediaPlayer 接口的实体类。 class VlcPlayer implements AdvancedMediaPlayer { @override void playMp4(String fileName) {} @override void playVlc(String fileName) { print(&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/91715eefa483c35b72f13eb7fa931a16/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-12-18T07:30:00+08:00" />
<meta property="article:modified_time" content="2023-12-18T07:30:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Dart设计模式之适配器模式</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="dart_0"></a>dart设计模式之适配器模式</h2> 
<h4><a id="_4"></a><strong>适配器模式</strong></h4> 
<h5><a id="_6"></a><strong>模式分析</strong></h5> 
<p>适配器模式（Adapter Pattern）是作为两个不兼容的接口之间的桥梁。这种类型的设计模式属于结构型模式，它结合了两个独立接口的功能。 这种模式涉及到一个单一的类，该类负责加入独立的或不兼容的接口功能。举个真实的例子，读卡器是作为内存卡和笔记本之间的适配器。您将内存卡插入读卡器，再将读卡器插入笔记本，这样就可以通过笔记本来读取内存卡。 我们通过下面的实例来演示适配器模式的使用。其中，音频播放器设备只能播放 mp3 文件，通过使用一个更高级的音频播放器来播放 vlc 和 mp4 文件。</p> 
<h5><a id="_10"></a><strong>模式难点</strong></h5> 
<h5><a id="_12"></a><strong>模式解决问题</strong></h5> 
<p>主要解决在软件系统中，常常要将一些"现存的对象"放到新的环境中，而新环境要求的接口是现对象不能满足的。</p> 
<h5><a id="_16"></a><strong>优点</strong></h5> 
<ol><li>可以让任何两个没有关联的类一起运行。</li><li>提高了类的复用。</li><li>增加了类的透明度。</li><li>灵活性好。</li></ol> 
<h5><a id="_23"></a><strong>缺点</strong></h5> 
<ol><li>过多地使用适配器，会让系统非常零乱，不易整体进行把握。比如，明明看到调用的是 A 接口，其实内部被适配成了 B 接口的实现，一个系统如果太多出现这种情况，无异于一场灾难。因此如果不是很有必要，可以不使用适配器，而是直接对系统进行重构。 2.由于 JAVA 至多继承一个类，所以至多只能适配一个适配者类，而且目标类必须是抽象类。</li></ol> 
<h5><a id="_27"></a><strong>模式应用场景</strong></h5> 
<p>有动机地修改一个正常运行的系统的接口，这时应该考虑使用适配器模式。</p> 
<h5><a id="_31"></a><strong>模式代码</strong></h5> 
<pre><code class="prism language-javascript"><span class="token keyword">import</span> <span class="token string">'run.dart'</span><span class="token punctuation">;</span>

<span class="token comment">//官方媒体播放接口</span>
abstract <span class="token keyword">class</span> <span class="token class-name">MediaPlayer</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">void</span> <span class="token function">play</span><span class="token punctuation">(</span>String audioType<span class="token punctuation">,</span> String fileName<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//自定义媒体播放接口</span>
abstract <span class="token keyword">class</span> <span class="token class-name">AdvancedMediaPlayer</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">void</span> <span class="token function">playVlc</span><span class="token punctuation">(</span>String fileName<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">void</span> <span class="token function">playMp4</span><span class="token punctuation">(</span>String fileName<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//创建实现了 AdvancedMediaPlayer 接口的实体类。</span>
<span class="token keyword">class</span> <span class="token class-name">VlcPlayer</span> <span class="token keyword">implements</span> <span class="token class-name">AdvancedMediaPlayer</span> <span class="token punctuation">{<!-- --></span>
  @override
  <span class="token keyword">void</span> <span class="token function">playMp4</span><span class="token punctuation">(</span><span class="token parameter">String fileName</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>

  @override
  <span class="token keyword">void</span> <span class="token function">playVlc</span><span class="token punctuation">(</span><span class="token parameter">String fileName</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Playing vlc file. Name: "</span> <span class="token operator">+</span> fileName<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Mp4Player</span> <span class="token keyword">implements</span> <span class="token class-name">AdvancedMediaPlayer</span> <span class="token punctuation">{<!-- --></span>
  @override
  <span class="token keyword">void</span> <span class="token function">playVlc</span><span class="token punctuation">(</span><span class="token parameter">String fileName</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">//什么也不做</span>
  <span class="token punctuation">}</span>

  @override
  <span class="token keyword">void</span> <span class="token function">playMp4</span><span class="token punctuation">(</span><span class="token parameter">String fileName</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Playing mp4 file. Name: "</span> <span class="token operator">+</span> fileName<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 创建实现了 MediaPlayer 接口的适配器类。</span>
<span class="token keyword">class</span> <span class="token class-name">MediaAdapter</span> <span class="token keyword">implements</span> <span class="token class-name">MediaPlayer</span> <span class="token punctuation">{<!-- --></span>
  AdvancedMediaPlayer advancedMusicPlayer<span class="token punctuation">;</span>
  <span class="token function">MediaAdapter</span><span class="token punctuation">(</span><span class="token parameter">String audioType</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>audioType <span class="token operator">==</span> <span class="token string">"vlc"</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      advancedMusicPlayer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VlcPlayer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>audioType <span class="token operator">==</span> <span class="token string">"mp4"</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      advancedMusicPlayer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Mp4Player</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  @override
  <span class="token keyword">void</span> <span class="token function">play</span><span class="token punctuation">(</span><span class="token parameter">String audioType<span class="token punctuation">,</span> String fileName</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>audioType <span class="token operator">==</span> <span class="token string">"vlc"</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      advancedMusicPlayer<span class="token punctuation">.</span><span class="token function">playVlc</span><span class="token punctuation">(</span>fileName<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>audioType <span class="token operator">==</span> <span class="token string">"mp4"</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      advancedMusicPlayer<span class="token punctuation">.</span><span class="token function">playMp4</span><span class="token punctuation">(</span>fileName<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 创建实现了 MediaPlayer 接口的实体类。</span>
<span class="token keyword">class</span> <span class="token class-name">AudioPlayer</span> <span class="token keyword">implements</span> <span class="token class-name">MediaPlayer</span> <span class="token punctuation">{<!-- --></span>
  MediaAdapter mediaAdapter<span class="token punctuation">;</span>

  @override
  <span class="token keyword">void</span> <span class="token function">play</span><span class="token punctuation">(</span><span class="token parameter">String audioType<span class="token punctuation">,</span> String fileName</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">//播放 mp3 音乐文件的内置支持</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>audioType <span class="token operator">==</span> <span class="token string">"mp3"</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Playing mp3 file. Name: "</span> <span class="token operator">+</span> fileName<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//mediaAdapter 提供了播放其他文件格式的支持</span>
    <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>audioType <span class="token operator">==</span> <span class="token string">"vlc"</span> <span class="token operator">||</span> audioType <span class="token operator">==</span> <span class="token string">"mp4"</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      mediaAdapter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MediaAdapter</span><span class="token punctuation">(</span>audioType<span class="token punctuation">)</span><span class="token punctuation">;</span>
      mediaAdapter<span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span>audioType<span class="token punctuation">,</span> fileName<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
      <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Invalid media. "</span> <span class="token operator">+</span> audioType <span class="token operator">+</span> <span class="token string">" format not supported"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">RunAdapter</span> <span class="token keyword">implements</span> <span class="token class-name">Run</span> <span class="token punctuation">{<!-- --></span>
  @override
  <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    AudioPlayer audioPlayer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AudioPlayer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    audioPlayer<span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token string">"mp3"</span><span class="token punctuation">,</span> <span class="token string">"beyond the horizon.mp3"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    audioPlayer<span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token string">"mp4"</span><span class="token punctuation">,</span> <span class="token string">"alone.mp4"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    audioPlayer<span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token string">"vlc"</span><span class="token punctuation">,</span> <span class="token string">"far far away.vlc"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    audioPlayer<span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token string">"avi"</span><span class="token punctuation">,</span> <span class="token string">"mind me.avi"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  @override
  String name <span class="token operator">=</span> <span class="token string">"适配器模式"</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="_125"></a>最后</h3> 
<p>在这里为了方便大家系统的学习Flutter，这里特意联合了阿里P7架构师和谷歌技术团队共同整理了一份Flutter全家桶学习资料。</p> 
<p>内容概要：Flutter技术解析与实战、Flutter进阶学习笔记、Flutter入门与实战和Flutter完整开发实战详解。<br> 内容特点：条理清晰，含图像化表示更加易懂。</p> 
<p>由于文章内容比较多，篇幅有限，资料已经被整理成了PDF文档，有需要 Flutter技术解析与实战 完整文档的可扫描下方卡片免费获取！</p> 
<img src="https://images2.imgbox.com/cf/39/XgS0Lfbr_o.png"> 
<h3><a id="_137"></a>目录</h3> 
<p><img src="https://images2.imgbox.com/ab/0a/AjWHKDAZ_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="__Flutter___141"></a>第一章 为什么 Flutter 是跨平台开发 的终极之选</h4> 
<ul><li>01 这是为什么？</li><li>02 跨平台开发</li><li>03 什么是 Flutter</li><li>04 Flutter 的特性</li></ul> 
<p><img src="https://images2.imgbox.com/63/d2/Ru4mk3qO_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="__Windows__Flutter__150"></a>第二章 在 Windows 上搭建 Flutter 开发环境</h4> 
<ul><li>01 使用镜像</li><li>02 系统要求</li><li>03 获取 Flutter SDK</li><li>04 编辑器设置</li><li>05Android 设置</li></ul> 
<p><img src="https://images2.imgbox.com/f7/54/yKJyJkx3_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="__Flutter_App_160"></a>第三章 编写您的第一个 Flutter App</h4> 
<p><img src="https://images2.imgbox.com/9c/9a/RbyYzo8m_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_Flutter__166"></a>第四章 Flutter 开发环境搭建和调试</h4> 
<ul><li>1.开发环境的搭建</li><li>2.模拟器的安装与调试</li><li>3.开发环境的搭建</li><li>4.模拟器的安装与调试</li></ul> 
<p><img src="https://images2.imgbox.com/3a/50/a8MN7oQ1_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_Dart__175"></a>第五章 Dart 语法篇之基础语法(一)</h4> 
<p>一、Hello Dart<br> 二、数据类型<br> 三、变量和常量<br> 四、集合(List、Set、Map)<br> 五、流程控制<br> 六、运算符<br> 七、异常<br> 八、函数</p> 
<p><img src="https://images2.imgbox.com/f8/f8/whR9t5ys_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_Dart___188"></a>第六章 Dart 语法篇之集合的使用与源码 解析(二)</h4> 
<p>一、List<br> 二、Set<br> 三、Map<br> 四、Queue<br> 五、LinkedList<br> 六、HashMap<br> 七、Map、HashMap、LinkedHashMap、SplayTreeMap<br> 区别</p> 
<p>八、命名构造函数 from 和 of 的区别以及使用建议</p> 
<p><img src="https://images2.imgbox.com/30/69/RfXjCVBq_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_Dart___204"></a>第七章 Dart 语法篇之集合操作符函数与 源码分析(三)</h4> 
<ul><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled> List item</li></ul> 
<p><img src="https://images2.imgbox.com/be/f0/AcflTwFE_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_Dart__210"></a>第八章 Dart 语法篇之函数的使用(四)</h4> 
<p><img src="https://images2.imgbox.com/88/15/YXOvNuTg_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_Dart__214"></a>第九章 Dart 语法篇之面向对象基础(五)</h4> 
<p><img src="https://images2.imgbox.com/fa/dd/t7dBJxT0_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_Dart__Mixins_218"></a>第十章 Dart 语法篇之面向对象继承和 Mixins(六)</h4> 
<p><img src="https://images2.imgbox.com/20/3c/KNwMcHF6_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_Dart___222"></a>第十二章 Dart 语法篇之类型系统与泛型 (七)</h4> 
<p><img src="https://images2.imgbox.com/40/ec/anN29W04_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_Flutter__widget_226"></a>第十三章 Flutter 中的 widget</h4> 
<p><img src="https://images2.imgbox.com/14/ba/QS5VcbFE_o.png" alt="在这里插入图片描述"></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/25297ffab9070b79eea22a5cc49f37b8/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">vmware 17 提示 You do not have permission to enter a license key……的解决办法</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/3aa3f106a4310494dd2ac1ddafc3a244/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Dart设计模式之单例模式</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>