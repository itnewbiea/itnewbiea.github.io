<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>FFmpeg工具（三） --- ffplay常用命令 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="FFmpeg工具（三） --- ffplay常用命令" />
<meta property="og:description" content="在FFmpeg中通常使用ffplay作为播放器，其实ffplay同样也可作为很多音视频的图形化分析工具，通过ffplay可以看到视频图像的运动估计方向、音频数据的波形等，以下将介绍更多参数并举例说明。
可回顾FFmpeg中ffmpeg，ffprobe见以下链接。
FFmpeg工具（一） — ffmpeg视频处理命令行大全
FFmpeg工具（二） — ffprobe常用命令
FFmpeg工具（三） — ffplay常用命令
ffplay常用命令行参数 ffplay不仅仅是播放器，同时也是测试ffmpeg的codec引擎、format引擎，以及filter引擎的工具，并且还可以进行可视化的媒体参数分析。
1、查看详细的帮助信息
ffplay -help 以下展示ffplay基础帮助信息
参数说明x强制设置视频显示窗口的宽度y强制设置视频显示窗口的高度s设置视频显示的宽高fs强制全屏显示an屏蔽音频vn屏蔽视频sn屏蔽字幕ss根据设置的秒进行定位拖动t设置播放视频/音频的长度bytes设置定位拖动的策略，0为不可拖动，1为可拖动，-1为自动nodisp关闭图形化显示窗口f强制使用设置的格式进行解析window_title设置显示窗口的标题af设置音频的滤镜codec强制使用设置的codec进行解码autorotate自动旋转视频 2、从视频的30s开始播放，播放10s的文件，则用如下命令：
ffplay -ss 30 -t 10 input.mp4 3、自定义播放器窗口显示标题
ffplay -window_title &#34;hello world&#34; input.mp4 4、打开网络直播流
ffplay -window_title &#34;网络直播流&#34; rtmp://.... ffplay高级参数 ffplay高级参数如下表：
参数说明ast设置将要播放的音频流vst设置将要播放的视频流sst设置将要播放的字幕流stats输出多媒体播放状态fast非标准化规范的多媒体兼容优化sync音视频同步设置可根据音频时间、视频时间或者外部扩展时间进行参考autoexit多媒体播放完毕之后自动退出ffplay,ffplay默认完毕之后不退出播放器exitonkeydown当有按钮按下事件产生时退出ffplayexitonmousedown当有鼠标按下事件产生时退出ffplayloop设置多媒体文件循环播放的次数framedrop当cpu资源占用过高时，自动丢帧infbuf设置无极限的播放器buffer，这个选项常见于实时流媒体播放场景vf视频滤镜设置acodec强制使用设置的音频解码器vcodec强制使用设置的视频解码器scodec强制使用设置的字幕解码器 5、从20s播放一个视频，时长10s，播放完成自动退出ffplay，可以使用系统命令time查看命令运行时长：
time ffplay -winow_title &#34;hello&#34; -ss 20 -t 10 -autoexit input.mp4 6、播放视频时加载字幕文件，可以通过加载ASS或者SRT字幕文件来解决，下面列举一个加载SRT字幕的例子，首先编辑srt字幕文件，内容如下：
1 00:00:01.000 --&gt; 00:00:10.000 这是我 我是谁 2 00:00:10.001 --&gt; 00:00:20.000 我爱中国 3 00:00:20.001 --&gt; 00:00:30.000 为人民服务 然后通过filter将字幕文件加载到播放数据中，使用命令如下：
ffplay -window_title &#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/aa47993bdce2145f98ee743370e3d5a6/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-10-14T17:01:04+08:00" />
<meta property="article:modified_time" content="2020-10-14T17:01:04+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">FFmpeg工具（三） --- ffplay常用命令</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>在FFmpeg中通常使用ffplay作为播放器，其实ffplay同样也可作为很多音视频的图形化分析工具，通过ffplay可以看到视频图像的运动估计方向、音频数据的波形等，以下将介绍更多参数并举例说明。<br> 可回顾FFmpeg中ffmpeg，ffprobe见以下链接。<br> <a href="https://blog.csdn.net/weixin_39432879/article/details/108851039">FFmpeg工具（一） — ffmpeg视频处理命令行大全</a><br> <a href="https://blog.csdn.net/weixin_39432879/article/details/109058836">FFmpeg工具（二） — ffprobe常用命令</a><br> <a href="https://blog.csdn.net/weixin_39432879/article/details/109068602">FFmpeg工具（三） — ffplay常用命令</a></p> 
<h3><a id="ffplay_5"></a>ffplay常用命令行参数</h3> 
<p>ffplay不仅仅是播放器，同时也是测试ffmpeg的codec引擎、format引擎，以及filter引擎的工具，并且还可以进行可视化的媒体参数分析。<br> 1、查看详细的帮助信息</p> 
<pre><code>ffplay -help
</code></pre> 
<p>以下展示ffplay基础帮助信息</p> 
<table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td>x</td><td>强制设置视频显示窗口的宽度</td></tr><tr><td>y</td><td>强制设置视频显示窗口的高度</td></tr><tr><td>s</td><td>设置视频显示的宽高</td></tr><tr><td>fs</td><td>强制全屏显示</td></tr><tr><td>an</td><td>屏蔽音频</td></tr><tr><td>vn</td><td>屏蔽视频</td></tr><tr><td>sn</td><td>屏蔽字幕</td></tr><tr><td>ss</td><td>根据设置的秒进行定位拖动</td></tr><tr><td>t</td><td>设置播放视频/音频的长度</td></tr><tr><td>bytes</td><td>设置定位拖动的策略，0为不可拖动，1为可拖动，-1为自动</td></tr><tr><td>nodisp</td><td>关闭图形化显示窗口</td></tr><tr><td>f</td><td>强制使用设置的格式进行解析</td></tr><tr><td>window_title</td><td>设置显示窗口的标题</td></tr><tr><td>af</td><td>设置音频的滤镜</td></tr><tr><td>codec</td><td>强制使用设置的codec进行解码</td></tr><tr><td>autorotate</td><td>自动旋转视频</td></tr></tbody></table> 
<p>2、从视频的30s开始播放，播放10s的文件，则用如下命令：</p> 
<pre><code>ffplay -ss 30 -t 10 input.mp4
</code></pre> 
<p>3、自定义播放器窗口显示标题</p> 
<pre><code>ffplay -window_title "hello world" input.mp4
</code></pre> 
<p>4、打开网络直播流</p> 
<pre><code>ffplay -window_title "网络直播流"  rtmp://....
</code></pre> 
<h3><a id="ffplay_43"></a>ffplay高级参数</h3> 
<p>ffplay高级参数如下表：</p> 
<table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td>ast</td><td>设置将要播放的音频流</td></tr><tr><td>vst</td><td>设置将要播放的视频流</td></tr><tr><td>sst</td><td>设置将要播放的字幕流</td></tr><tr><td>stats</td><td>输出多媒体播放状态</td></tr><tr><td>fast</td><td>非标准化规范的多媒体兼容优化</td></tr><tr><td>sync</td><td>音视频同步设置可根据音频时间、视频时间或者外部扩展时间进行参考</td></tr><tr><td>autoexit</td><td>多媒体播放完毕之后自动退出ffplay,ffplay默认完毕之后不退出播放器</td></tr><tr><td>exitonkeydown</td><td>当有按钮按下事件产生时退出ffplay</td></tr><tr><td>exitonmousedown</td><td>当有鼠标按下事件产生时退出ffplay</td></tr><tr><td>loop</td><td>设置多媒体文件循环播放的次数</td></tr><tr><td>framedrop</td><td>当cpu资源占用过高时，自动丢帧</td></tr><tr><td>infbuf</td><td>设置无极限的播放器buffer，这个选项常见于实时流媒体播放场景</td></tr><tr><td>vf</td><td>视频滤镜设置</td></tr><tr><td>acodec</td><td>强制使用设置的音频解码器</td></tr><tr><td>vcodec</td><td>强制使用设置的视频解码器</td></tr><tr><td>scodec</td><td>强制使用设置的字幕解码器</td></tr></tbody></table> 
<p>5、从20s播放一个视频，时长10s，播放完成自动退出ffplay，可以使用系统命令time查看命令运行时长：</p> 
<pre><code>time ffplay -winow_title "hello" -ss 20 -t 10 -autoexit input.mp4
</code></pre> 
<p>6、播放视频时加载字幕文件，可以通过加载ASS或者SRT字幕文件来解决，下面列举一个加载SRT字幕的例子，首先编辑srt字幕文件，内容如下：</p> 
<pre><code>1
00:00:01.000 --&gt; 00:00:10.000
这是我 我是谁
2
00:00:10.001 --&gt; 00:00:20.000
我爱中国 
3
00:00:20.001 --&gt; 00:00:30.000
为人民服务
</code></pre> 
<p>然后通过filter将字幕文件加载到播放数据中，使用命令如下：</p> 
<pre><code>ffplay -window_title "字幕文件" -vf ‘subtitles=input.srt’ input.mp4
</code></pre> 
<h3><a id="ffplay_84"></a>ffplay的数据可视化分析应用</h3> 
<p>1、使用ffplay除了可以播放视频流媒体文件之外，还可以作为可视化的视频流媒体分析工具，例如播放音频文件时，如果不确定文件的声音是否正常，则可以直接使用ffplay播放音频文件，播放的说话其将会把解码后的音频数据以音频波形的形式显示出来，命令如下：</p> 
<pre><code>ffplay -showmode 1 output.mp3
</code></pre> 
<p>2、当播放视频时想要体验解码器是如何解码每个宏块的，可以使用如下命令：</p> 
<pre><code>ffplay -debug vis_mb_type -window_title "解码" -ss 20 -t 10 input.mp4
</code></pre> 
<p>3、通过ffplay查看B帧预测与P帧预测信息，希望将信息在窗口中显示出来，可使用如下命令：</p> 
<pre><code>ffplay -vismv pf input.mp4
</code></pre> 
<p>vismv参数是用来显示图像解码时的运动向量信息的，可以设置三种类型的运动向量信息显示，</p> 
<table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td>pf</td><td>P帧向前运动估计显示</td></tr><tr><td>bf</td><td>B帧向前运动估计显示</td></tr><tr><td>bb</td><td>B帧向后运动估计显示</td></tr></tbody></table> 
<p>这个vismv参数可以被替换掉，如果使用这个参数不行的话，可以使用codecview这个滤镜进行设置，比如下面这条命令来完成：</p> 
<pre><code>ffplay -flags2 +export_mvs -ss 10 input.mp4 -vf codecview=mv=pf
</code></pre>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/2cf918adeb73ec8afb04f01d06b31dba/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">iphone屏幕上的圆圈怎么设置_iphone怎么投屏到mac上 iphone投屏到mac方法【详解】...</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/2e09d5e1641e958ef5f9ae1c28858866/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【conda】解决 An HTTP error occurred when trying to retrieve this URL.问题</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>