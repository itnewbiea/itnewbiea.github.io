<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>adb 指令uninstall卸载android app 处理方法 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="adb 指令uninstall卸载android app 处理方法" />
<meta property="og:description" content="正常思路，想当然，两句指令搞定应该没啥毛病。
adb unstall ImageGrabber.apk adb install ImageGrabber.apk 问题来了，报错Unknown package: ImageGrabber.apk
Exception occurred while dumping: java.lang.IllegalArgumentException: Unknown package: ImageGrabber.apk at com.android.server.pm.Settings.isOrphaned(Settings.java:4134) at com.android.server.pm.PackageManagerService.isOrphaned(PackageManagerService.java:18256) at com.android.server.pm.PackageManagerService.deletePackage(PackageManagerService.java:15673) at com.android.server.pm.PackageInstallerService.uninstall(PackageInstallerService.java:888) at com.android.server.pm.PackageManagerShellCommand.runUninstall(PackageManagerShellCommand.java:792) at com.android.server.pm.PackageManagerShellCommand.onCommand(PackageManagerShellCommand.java:118) at android.os.ShellCommand.exec(ShellCommand.java:94) at com.android.server.pm.PackageManagerService.onShellCommand(PackageManagerService.java:18516) at android.os.Binder.shellCommand(Binder.java:468) at android.os.Binder.onTransact(Binder.java:367) at android.content.pm.IPackageManager$Stub.onTransact(IPackageManager.java:2387) at com.android.server.pm.PackageManagerService.onTransact(PackageManagerService.java:3147) at android.os.Binder.execTransact(Binder.java:565) 手机端根本不认识这个apk,解决办法：
将 ImageGrabber.apk整个文件解压,其中包含：AndroidManifest.xml，打开之后是乱码，别着急，需要反编译工具AXMLPrinter2.jar 给他翻译一下，将这两个文件放在同一个目录下，如D:\ImageGrabber
先命令行将目录设定为D:\ImageGrabber 然后再执行java -jar AXMLPrinter2.jar AndroidManifest.xml &gt; AndroidManifest.txt，前提是PC端装好了Java环境，特别是要注意设置好PC端的环境变量。
C:\Users\Antony WU&gt;d: D:\&gt;cd ImageGrabber D:\ImageGrabber&gt;java -jar AXMLPrinter2.jar AndroidManifest.xml &gt; AndroidManifest.txt 执行完成后，用notepad&#43;&#43;打开AndroidManifest.txt，其中第6行就是所要的答案了package=&#34;com.qualcomm.vr.callibrationtool&#34;
&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt; &lt;manifest xmlns:android=&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/38e8589fc95641bbb6bc28079da5e0a7/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-09-17T21:53:36+08:00" />
<meta property="article:modified_time" content="2018-09-17T21:53:36+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">adb 指令uninstall卸载android app 处理方法</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>正常思路，想当然，两句指令搞定应该没啥毛病。</p> 
<pre class="has"><code>adb unstall ImageGrabber.apk
adb install ImageGrabber.apk</code></pre> 
<p>问题来了，报错Unknown package: ImageGrabber.apk</p> 
<pre class="has"><code class="language-java">Exception occurred while dumping:
java.lang.IllegalArgumentException: Unknown package: ImageGrabber.apk
        at com.android.server.pm.Settings.isOrphaned(Settings.java:4134)
        at com.android.server.pm.PackageManagerService.isOrphaned(PackageManagerService.java:18256)
        at com.android.server.pm.PackageManagerService.deletePackage(PackageManagerService.java:15673)
        at com.android.server.pm.PackageInstallerService.uninstall(PackageInstallerService.java:888)
        at com.android.server.pm.PackageManagerShellCommand.runUninstall(PackageManagerShellCommand.java:792)
        at com.android.server.pm.PackageManagerShellCommand.onCommand(PackageManagerShellCommand.java:118)
        at android.os.ShellCommand.exec(ShellCommand.java:94)
        at com.android.server.pm.PackageManagerService.onShellCommand(PackageManagerService.java:18516)
        at android.os.Binder.shellCommand(Binder.java:468)
        at android.os.Binder.onTransact(Binder.java:367)
        at android.content.pm.IPackageManager$Stub.onTransact(IPackageManager.java:2387)
        at com.android.server.pm.PackageManagerService.onTransact(PackageManagerService.java:3147)
        at android.os.Binder.execTransact(Binder.java:565)</code></pre> 
<p>手机端根本不认识这个apk,解决办法：</p> 
<p>将 ImageGrabber.apk整个文件解压,其中包含：AndroidManifest.xml，打开之后是乱码，别着急，需要反编译工具AXMLPrinter2.jar 给他翻译一下，将这两个文件放在同一个目录下，如D:\ImageGrabber</p> 
<p>先命令行将目录设定为D:\ImageGrabber    然后再执行java -jar AXMLPrinter2.jar AndroidManifest.xml &gt; AndroidManifest.txt，前提是PC端装好了Java环境，特别是要注意设置好PC端的环境变量。</p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/e9/62/lotKb2l2_o.png"></p> 
<pre class="has"><code>C:\Users\Antony WU&gt;d:

D:\&gt;cd ImageGrabber

D:\ImageGrabber&gt;java -jar AXMLPrinter2.jar AndroidManifest.xml &gt; AndroidManifest.txt</code></pre> 
<p>执行完成后，用notepad++打开AndroidManifest.txt，其中第6行就是所要的答案了package="com.qualcomm.vr.callibrationtool"</p> 
<pre class="has"><code class="language-html">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;manifest
	xmlns:android="http://schemas.android.com/apk/res/android"
	android:versionCode="1"
	android:versionName="1.0"
	package="com.qualcomm.vr.callibrationtool"
	platformBuildVersionCode="25"
	platformBuildVersionName="7.1.1"
	&gt;
	&lt;uses-sdk
		android:minSdkVersion="15"
		android:targetSdkVersion="22"
		&gt;
	&lt;/uses-sdk&gt;
	&lt;uses-permission
		android:name="android.permission.CAMERA"
		&gt;
	&lt;/uses-permission&gt;
	&lt;uses-permission
		android:name="android.permission.WRITE_EXTERNAL_STORAGE"
		&gt;
	&lt;/uses-permission&gt;
	&lt;meta-data
		android:name="android.support.VERSION"
		android:value="25.3.0"
		&gt;
	&lt;/meta-data&gt;
	&lt;application
		android:theme="@7F0800A3"
		android:label="@7F060021"
		android:icon="@7F030000"
		android:debuggable="true"
		android:allowBackup="true"
		android:supportsRtl="true"
		android:roundIcon="@7F030001"
		&gt;
		&lt;activity
			android:name="com.qualcomm.vr.callibrationtool.CameraActivity"
			&gt;
			&lt;intent-filter
				&gt;
				&lt;action
					android:name="android.intent.action.MAIN"
					&gt;
				&lt;/action&gt;
				&lt;category
					android:name="android.intent.category.LAUNCHER"
					&gt;
				&lt;/category&gt;
			&lt;/intent-filter&gt;
		&lt;/activity&gt;
	&lt;/application&gt;
&lt;/manifest&gt;
</code></pre> 
<p>接下来就好搞了，做一个批处理文件，连接USB线或者设置手机端和PC端的wifi在同一局域网，点击后自动执行安装apk文件了，免去了手动安装的痛苦。</p> 
<pre class="has"><code>.\platform-tools\adb uninstall com.qualcomm.vr.callibrationtool

.\platform-tools\adb install  ImageGrabber.apk

pause</code></pre> 
<p>再高级一点就用c# winform做一个界面，可以把多个adb指令功能集成到一个界面里，实现PC端一键控制手机端adb各类指令。</p> 
<p>所涉及到的各工具下载地址如下：</p> 
<p><a href="https://download.csdn.net/download/ericwuhk/10672633">https://download.csdn.net/download/ericwuhk/10672633</a></p> 
<p>ref： <a href="https://blog.csdn.net/atggdsai/article/details/42131515">https://blog.csdn.net/atggdsai/article/details/42131515</a></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/4c8280fc9957fcd8cde35cdb6f6920ef/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">快速了解B&#43;树的插入、删除操作</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/50fb318f1eb625802f03b6b85c05990c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">es6 中forEach()的用法</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>