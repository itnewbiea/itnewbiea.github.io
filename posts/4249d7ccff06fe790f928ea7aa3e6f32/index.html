<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>语言/CPP {系统的东西} - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="语言/CPP {系统的东西}" />
<meta property="og:description" content="语言/CPP {系统的东西}
系统的宏/常量 __DATE__: &#34;Dec 19 2023&#34;
__TIME__: &#34;17:55:19&#34;;
__TIMESTAMP__: &#34;Tue Dec 19 17:55:11 2023&#34;;
__cplusplus: 201703: CPP语言的版本;
特殊语法 R&#34;()&#34; string s = &#34;a\nb&#34;; string会进行转义, 即这字符串的长度会是3 而不是4, 也就是 \n是一个字符;
假如你就是想要一个字符串 长度为4 内容为a \ n b, 那么麻烦一点 你可以手动的s[1] = &#39;\\&#39;;
有一个系统的工具 R&#34;()&#34; (他很特别, 既不是函数 也不是宏, 反正是个特殊的语法), 你通过string s = R&#34;(xxx)&#34;;那么xxx的内容 不会转义, 你写的是R&#34;(a\nb)&#34;, 那么 他就是4个字符;
@DELI;
系统的类/结构体 is_literal_type literal字面类型, 即他就是一个值/数据 , 没有函数 不是通常意义上的对象;
字面类型有: bool, char, int, long long, double, T *, T &amp;, T &amp;&amp;;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/4249d7ccff06fe790f928ea7aa3e6f32/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-12-19T17:59:19+08:00" />
<meta property="article:modified_time" content="2023-12-19T17:59:19+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">语言/CPP {系统的东西}</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>语言/CPP {系统的东西}</p> 
<h2><a id="_1"></a>系统的宏/常量</h2> 
<p><code>__DATE__: "Dec 19 2023"</code><br> <code>__TIME__: "17:55:19"</code>;<br> <code>__TIMESTAMP__: "Tue Dec 19 17:55:11 2023"</code>;</p> 
<p><code>__cplusplus: 201703</code>: CPP语言的版本;</p> 
<h2><a id="_8"></a>特殊语法</h2> 
<h4><a id="R_9"></a><code>R"()"</code></h4> 
<p><code>string s = "a\nb";</code> string会进行<em>转义</em>, 即这字符串的长度会是<code>3</code> 而不是<code>4</code>, 也就是 <code>\n</code>是一个字符;<br> 假如你就是想要一个字符串 长度为<code>4</code> 内容为<code>a \ n b</code>, 那么麻烦一点 你可以手动的<code>s[1] = '\\'</code>;</p> 
<p>有一个系统的工具 <code>R"()"</code> (他很特别, 既不是函数 也不是宏, 反正是个特殊的语法), 你通过<code>string s = R"(xxx)";</code>那么<code>xxx</code>的内容 不会转义, 你写的是<code>R"(a\nb)"</code>, 那么 他就是4个字符;</p> 
<p>@DELI;</p> 
<h2><a id="_17"></a>系统的类/结构体</h2> 
<h4><a id="is_literal_type_18"></a><code>is_literal_type</code></h4> 
<p><code>literal</code>字面类型, 即他就是一个<em>值/数据</em> , 没有函数 不是通常意义上的对象;</p> 
<p>字面类型有: <code>bool, char, int, long long, double, T *, T &amp;, T &amp;&amp;</code>;</p> 
<h4><a id="string_23"></a><code>string</code></h4> 
<h4><a id="vector_24"></a><code>vector</code></h4> 
<p>@DELI;</p> 
<p><em><code>erase</code></em></p> 
<pre><code>iterator erase( iterator _a);

iterator erase( iterator _beg, iterator _end);
</code></pre> 
<p><code>erase</code>会调用对象的析构函数 释放内存, 但不会改变<code>vector.capacity()</code>;</p> 
<pre><code>vector A{1, 2, 3, 4, 5};

auto iter = A.erase( A.begin() + 1); // 删除`2`
//&gt;&lt; 此时A为`1,3,4,5`, `iter`会指向被删元素的下个元素 即`3`;

auto iter = A.erase( A.begin() + 1, A.begin() + 3); // 删除`2,3`
//&gt;&lt; 此时A为`1,4,5`, `iter`会指向被删元素的下个元素 即`4`;
</code></pre> 
<p>@DELI;</p> 
<p><em><code>resize</code></em>;</p> 
<pre><code>void resize(size_type __new_size);
</code></pre> 
<pre><code>void resize( _n){
	if( _n &gt; .size()){
		if( _n &lt;= .capacity()){
			.size() = _n;
		}
		else{
			.capacity() = _n;
		}
	}
	else{
		.size() = _n;
		//&lt; Notice, `capacity()` is not changed;
	}
}
</code></pre> 
<p>@DELI;</p> 
<p><em><code>emplace_back</code></em>;</p> 
<p><code>void emplace_back(_Args&amp;&amp;... __args);</code><br> <code>.</code> 注意他的函数参数 完全不同于<code>push_back</code>, 他用的<em>可变长函数参数</em>, 即不管你这个vector里的元素是什么, 他永远都形如<code>emplace_back( a, b, c, d, ...)</code>这个样子;<br> <code>.</code> <code>vector&lt; T&gt; A</code>, 当你调用<code>A.emplace_back( a,b,c)</code>时 等价于往A里添加了一个 <code>T(a,b,c)</code>的对象 (前提是<em>T有形如这样的构造函数</em>);</p> 
<p><em>建议</em>:<br> 当元素是个<code>int, string, ...</code> 比较单一, 就使用<code>push_back</code>;<br> 否则, 比如元素是<code>pair, tuple</code>, 就使用<code>emplace_back</code>;</p> 
<pre><code>vector&lt; pair&lt; int, int&gt; &gt; v;

v.push_back( {1,2}); // @Mark_0
v.push_back( pair&lt;int,int&gt;(1,2)); // @Mark_1

v.emplace_back( 1, 2); // @Mark_2
</code></pre> 
<p><code>@Mark_0, @Mark_1</code> are the same, it causes two operations:<br> 0 Constructor-Function (i.e., produce a Temporary-Object);<br> 1 Copy/Move-Constructor-Function (the requirement of <code>push_back</code>);</p> 
<p><code>@Mark_2</code> has just one-operation: Constructor-Function (removed the second-step above);</p> 
<p>If you wanna add a Empty-Object to <code>vector&lt; T&gt; v</code>, you can use <code>v.emplace_back( )</code>;</p> 
<p>@DELI;</p> 
<h4><a id="is_same_103"></a><code>is_same</code></h4> 
<p>判断两个类型是否相同;<br> <code>bool ret = is_same&lt; int, int &amp;&gt;::value;</code></p> 
<p>@DELI;</p> 
<h4><a id="remove_reference_remove_reference_t_109"></a><code>remove_reference</code>, <code>remove_reference_t</code>;</h4> 
<p>去除掉一个类型的引用 (不管是左值引用<code>T&amp;</code> 还是右值引用<code>T&amp;&amp;</code>), 最终都会变成<code>T</code>;</p> 
<p><code>remove_reference&lt; int &amp;&gt;::type a = 123;</code></p> 
<p>一定一定要注意, 他是一个类! 你非常容易把后面的<code>::type</code>给忘掉<br> <code>.</code> 因此, 专门有个<code>remove_reference_t</code>, 你可以用<code>remove_reference_t&lt; int &amp;&gt; a = 123;</code></p> 
<h2><a id="_117"></a>系统的函数</h2> 
<h4><a id="unique_119"></a><code>unique</code></h4> 
<p>使用<code>unique</code>对数组去重的前提是: 数组已经排好序了 (升序降序都可以);<br> <code>.</code> 也就是, 在调用<code>unique</code>之前, 必须要有个<code>sort</code>函数的执行;</p> 
<pre><code>A = {1, 1, 2, 2, 3, 3};
B = {3, 3, 2, 2, 1, 1};

auto iter = unique( A.begin(), A.end());
//&gt;&lt; 此时A为{1,2,3,  2,3,3}, `iter - A.begin() = 3`;

auto iter = unique( B.begin(), B.end());
//&gt;&lt; 此时A为{3,2,1,  2,1,1}, `iter - B.begin() = 3`;
</code></pre> 
<p>假如有<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         k 
        
       
      
        k 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6944em;"></span><span class="mord mathnormal" style="margin-right: 0.0315em;">k</span></span></span></span></span>个不同的元素, 那么 这<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         k 
        
       
      
        k 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6944em;"></span><span class="mord mathnormal" style="margin-right: 0.0315em;">k</span></span></span></span></span>个不同元素 一定会在数组的开头<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         k 
        
       
      
        k 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6944em;"></span><span class="mord mathnormal" style="margin-right: 0.0315em;">k</span></span></span></span></span>的位置, <strong>而具体后面的元素是什么 这是未知的</strong>, 即<code>unique</code>不仅仅是会修改元素的位置, 还可能修改元素的值;</p> 
<h4><a id="accumulate_137"></a><code>accumulate</code></h4> 
<p><strong>Source-Code</strong></p> 
<pre><code>template&lt;typename _InputIterator, typename _Tp&gt;
_Tp accumulate(_InputIterator __first, _InputIterator __last, _Tp __init){
	for (; __first != __last; ++__first)
		__init = __init + *__first;
	return __init;
}
</code></pre> 
<p><strong>Example</strong></p> 
<pre><code>set&lt; int&gt; S;

auto sum = accumulate( S.begin(), S.end(), 0LL);
</code></pre> 
<h4><a id="count_count_if_160"></a><code>count</code>, <code>count_if</code></h4> 
<p><strong>Source-Code</strong></p> 
<pre><code>int count( Iter _beg, Iter _end, T _tar){
	int ans = 0;
	for( Iter i = _beg; i != _end; ++i){
		if( *i == _tar){ ++ ans;}
	}
	return ans;
}

int count_if( Iter _beg, Iter _end, Function _check){
	int ans = 0;
	for( Iter i = _beg; i != _end; ++i){
		if( _check( *i)){ ++ ans;}
	}
	return ans;
}
</code></pre> 
<p><strong>Example</strong></p> 
<pre><code>vector&lt; int&gt; A{ 1,2,3};
`count( A.begin(), A.end(), 3)` equals `1`;
`count_if( A.begin(), A.end(), []( auto _a)-&gt;bool{ return _a != 3;})` equals `2`;
</code></pre> 
<h4><a id="find_find_if_190"></a><code>find</code>, <code>find_if</code></h4> 
<p><strong>Source-Code</strong></p> 
<pre><code>Iter find( Iter _beg, Iter _end, T _tar){
	for( Iter i = _beg; i != _end; ++i){
		if( *i == _tar){ return i;}
	}
	return _end;
}

Iter find_if( Iter _beg, Iter _end, Function _check){
	for( Iter i = _beg; i != _end; ++i){
		if( _check( *i)){ return i;}
	}
	return _end;
}
</code></pre> 
<p><strong>Example</strong></p> 
<pre><code>vector&lt; int&gt; A{ 1, 1, 2, 2, 3, 3};
`find( A.begin(), A.end(), 3)` equals `A.begin() + 4`;
`find( A.begin(), A.begin() + 4, -1)` equals `A.begin() + 4`;
</code></pre> 
<h4><a id="nth_element_218"></a><code>nth_element</code></h4> 
<p><span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
          Source-Code 
        
       
      
        \text{ Source-Code} 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6944em;"></span><span class="mord text"><span class="mord"> Source-Code</span></span></span></span></span></span></p> 
<p><code>nth_element(_RAIter, _RAIter, _RAIter);</code><br> <code>nth_element(_RAIter, _RAIter, _RAIter, _Compare);</code><br> <code>.</code> <code>nth_element( ?, ?, ?)</code> equals to <code>nth_element( ?, ?, ?, less&lt;&gt;())</code>;</p> 
<p>@Delimiter</p> 
<p><span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
          Function 
        
       
      
        \text{ Function} 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord text"><span class="mord"> Function</span></span></span></span></span></span></p> 
<p><code>nth_element( v.begin(), v.begin() + k, v.end());</code><br> <code>.</code> 将前<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         k 
        
       
      
        k 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6944em;"></span><span class="mord mathnormal" style="margin-right: 0.0315em;">k</span></span></span></span></span>小的元素, 放到数组的开头; 比如<code>[4,6,5,3,2,1]</code> 如果<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         k 
        
       
         = 
        
       
         3 
        
       
      
        k=3 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6944em;"></span><span class="mord mathnormal" style="margin-right: 0.0315em;">k</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">3</span></span></span></span></span> 则最终数组可能为<code>[2,1,3, 5,4,6]</code> 次序不唯一, 但前<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         3 
        
       
      
        3 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">3</span></span></span></span></span>小的元素 肯定在最开头;</p> 
<pre><code>vector&lt; T&gt; v{ ...};
n = v.size();
k = [1, n-1];
@Define( S: the set of the smallest `k` elements in `v`);

nth_element( v.begin(), v.begin() + k, v.end());
. Now, `v[0,1,...,k-1]` would be `S` (the order of `v[0,1,...,k-1]` maybe not increasing);
</code></pre> 
<p>@Delimiter</p> 
<pre><code>vector&lt; int&gt; v{ 6, 4, 3, 5, 1, 2};

nth_element( v.begin(), v.begin() + 3, v.end());
. Which is equivalent to `nth_element( v.begin(), v.begin() + 3, v.end(), less&lt;&gt;())`;
. Now, `v = [2,1,3,  5,4,6]`;

nth_element( v.begin(), v.begin() + 3, v.end(), greater&lt;&gt;());
. Now, `v = [4,6,5,  2,3,1]`;
</code></pre>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/64883c2d8c0436a7a12e9ab34a10558a/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">分享200&#43;个关于AI的网站</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/83d9b642dbb1191f895d465635ee1c5b/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">案例073:基于微信小程序的智慧旅游平台开发</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>