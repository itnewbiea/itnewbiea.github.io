<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Keil C系列之编译器介绍（1） - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Keil C系列之编译器介绍（1）" />
<meta property="og:description" content="1 Cx51编译器的介绍 C编程语言是一种通用编程语言，它提供了代码效率、结构化编程元素和丰富的操作符集。C语言不是一门很大的语言，也不是为任何特定的应用领域而设计的。C语言的通用性和它的无限制相结合，使得C语言方便而有效地解决了各种各样的软件任务。与其他更专业的语言相比，使用c语言可以更容易、更有效地解决许多应用程序。 Cx51优化C编译器是C语言美国国家标准协会(nSI)标准的完整实现。Cx51编译器不是一个适用于os目标的通用C编译器。它是一个基础实现，致力于为8051微处理器生成极其快速和紧凑的代码。Cx5编译器为您提供了C语言编程的灵活性以及汇编语言的代码效率和速度。c语言本身不能执行通常需要操作系统干预的操作(例如输入和输出)。相反，这些功能是作为标准库的一部分提供的。因为这些函数与语言本身是分离的，所以c特别适合于生成可在各种平台上移植的代码。由于Cx51编译器是一个交叉编译器，因此C编程语言和标准库的某些方面被修改或增强，以解决嵌入式目标处理器的特性。 1）如下为介绍C语言的书籍：
The C Programming Language, Second Edition
Kernighan &amp; Ritchie
Prentice-Hall, Inc.
ISBN 0-13-110370-9
C: A Reference Manual, Second Edition
Harbison &amp; Steel
Prentice-Hall Software Series
ISBN 0-13-109810-1
C and the 8051: Programming and Multitasking
Schultz
P T R Prentice-Hall, Inc.
ISBN 0-13-753815-4
2）编译器支持的8051单片机及其衍生的器件
8051系列是发展最快的微控制器架构之一。目前有超过500种来自各种芯片供应商的器件变体可供选择。新的扩展8051芯片，如Phlips ocsMx架构，专门用于具有几兆字节代码和数据空间的大型应用程序。为了对8051内核衍生产品提供最佳支持，Keil提供了几个开发工具，如下表所示。一种新的输出文件格式(**OMF2**)允许直接支持多达16M的代码和数据空间。Cx51编译器是C51的一个变体，这是为新的飞利浦80C51MX架构设计的编译器。 2 程序编译 本章将讨论编译器指令的使用和如何进行C 源码的编译。将分为三部分内容进行介绍： 1、指示Cx51编译器生成 listing file 2、控制对象文件中包含的信息量。 3、指定优化级别和内存模型。 1）环境设置
如果使用命令行运行编译器，需要先配置好环境变量才能正常使用，配置内容如下：
2）命令提示符格式
C51 sourcefile 〚directives...〛 C51 @commandfile 或者 CX51 sourcefile 〚directives." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/d9981795da8a8af9e6f0eccbef040b53/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-01-09T11:05:29+08:00" />
<meta property="article:modified_time" content="2023-01-09T11:05:29+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Keil C系列之编译器介绍（1）</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="1_Cx51_0"></a>1 Cx51编译器的介绍</h3> 
<pre><code>  C编程语言是一种通用编程语言，它提供了代码效率、结构化编程元素和丰富的操作符集。C语言不是一门很大的语言，也不是为任何特定的应用领域而设计的。C语言的通用性和它的无限制相结合，使得C语言方便而有效地解决了各种各样的软件任务。与其他更专业的语言相比，使用c语言可以更容易、更有效地解决许多应用程序。
  Cx51优化C编译器是C语言美国国家标准协会(nSI)标准的完整实现。Cx51编译器不是一个适用于os目标的通用C编译器。它是一个基础实现，致力于为8051微处理器生成极其快速和紧凑的代码。Cx5编译器为您提供了C语言编程的灵活性以及汇编语言的代码效率和速度。c语言本身不能执行通常需要操作系统干预的操作(例如输入和输出)。相反，这些功能是作为标准库的一部分提供的。因为这些函数与语言本身是分离的，所以c特别适合于生成可在各种平台上移植的代码。由于Cx51编译器是一个交叉编译器，因此C编程语言和标准库的某些方面被修改或增强，以解决嵌入式目标处理器的特性。
</code></pre> 
<p><strong>1）如下为介绍C语言的书籍：</strong><br> <strong>The C Programming Language, Second Edition</strong><br> Kernighan &amp; Ritchie<br> Prentice-Hall, Inc.<br> ISBN 0-13-110370-9<br> <strong>C: A Reference Manual, Second Edition</strong><br> Harbison &amp; Steel<br> Prentice-Hall Software Series<br> ISBN 0-13-109810-1<br> <strong>C and the 8051: Programming and Multitasking</strong><br> Schultz<br> P T R Prentice-Hall, Inc.<br> ISBN 0-13-753815-4</p> 
<p><strong>2）编译器支持的8051单片机及其衍生的器件</strong></p> 
<pre><code>   8051系列是发展最快的微控制器架构之一。目前有超过500种来自各种芯片供应商的器件变体可供选择。新的扩展8051芯片，如Phlips ocsMx架构，专门用于具有几兆字节代码和数据空间的大型应用程序。为了对8051内核衍生产品提供最佳支持，Keil提供了几个开发工具，如下表所示。一种新的输出文件格式(**OMF2**)允许直接支持多达16M的代码和数据空间。Cx51编译器是C51的一个变体，这是为新的飞利浦80C51MX架构设计的编译器。
</code></pre> 
<p><img src="https://images2.imgbox.com/b4/8a/ApZOOirT_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="2__24"></a>2 程序编译</h3> 
<pre><code>本章将讨论编译器指令的使用和如何进行C 源码的编译。将分为三部分内容进行介绍：
1、指示Cx51编译器生成 listing file
2、控制对象文件中包含的信息量。
3、指定优化级别和内存模型。
</code></pre> 
<p><strong>1）环境设置</strong><br> 如果使用命令行运行编译器，需要先配置好环境变量才能正常使用，配置内容如下：<br> <img src="https://images2.imgbox.com/13/06/5oDAVd0m_o.png" alt="在这里插入图片描述"></p> 
<p><strong>2）命令提示符格式</strong></p> 
<pre><code class="prism language-c">C51 sourcefile 〚directives<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>〛
C51 @commandfile
或者
CX51 sourcefile 〚directives<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>〛
CX51 @commandfile

<span class="token operator">*</span><span class="token operator">*</span>sourcefile<span class="token operator">*</span><span class="token operator">*</span> Is the name of the source program you want to compile<span class="token punctuation">.</span> 
<span class="token operator">*</span><span class="token operator">*</span>directives<span class="token operator">*</span><span class="token operator">*</span> Are directives that control the operation of the compiler<span class="token punctuation">.</span> Refer to Directives <span class="token keyword">for</span> a detailed list of the available directives<span class="token punctuation">.</span> 
<span class="token operator">*</span><span class="token operator">*</span>commandfile<span class="token operator">*</span><span class="token operator">*</span> Is the name of a command input file that may contain the sourcefile and directives<span class="token punctuation">.</span> A commandfile is commonly used when the compiler command line is complex or exceeds the limits of the Windows command prompt<span class="token punctuation">.</span> The maximum size of the command input file is limited to <span class="token number">64</span>KB<span class="token punctuation">.</span> 

例如如下的编译指令：
C51 SAMPLE<span class="token punctuation">.</span>C DEBUG CODE PREPRINT
</code></pre> 
<p><strong>2）ERRORLEVEL</strong><br> 编译后，将检测到的错误和警告的数量输出到屏幕上。Cx51编译器设置ERRORLEVEL来指示编译的状态。取值如下表所示<br> <img src="https://images2.imgbox.com/ab/78/NAQpPLxV_o.png" alt="在这里插入图片描述"><br> ###编译后输出文件<br> 编译时需使用对应编译指令才能产生对应文件<br> <img src="https://images2.imgbox.com/96/6f/XOVCx2CD_o.png" alt="在这里插入图片描述"><br> <strong>Listing 文件</strong><br> 编译器清单文件包含大量关于编译过程的信息。它由许多部分组成，下面将按顺序描述每个部分它们出现在文件中。<br> <strong>Page Header</strong></p> 
<pre><code class="prism language-c">C51 COMPILER V7<span class="token punctuation">.</span><span class="token number">20</span>   MEASURE       <span class="token number">10</span><span class="token operator">/</span><span class="token number">01</span><span class="token operator">/</span><span class="token number">2004</span> <span class="token number">14</span><span class="token operator">:</span><span class="token number">05</span><span class="token operator">:</span><span class="token number">05</span> PAGE <span class="token number">1</span>
</code></pre> 
<p><strong>Command Line</strong></p> 
<pre><code class="prism language-c">C51 COMPILER V7<span class="token punctuation">.</span><span class="token number">20</span><span class="token punctuation">,</span> COMPILATION OF MODULE MEASURE
OBJECT MODULE PLACED IN Measure<span class="token punctuation">.</span>OBJ
COMPILER INVOKED BY<span class="token operator">:</span> C<span class="token operator">:</span>\Keil\C51\BIN\C51<span class="token punctuation">.</span>EXE Measure<span class="token punctuation">.</span>c <span class="token function">HOLD</span><span class="token punctuation">(</span><span class="token number">128</span><span class="token punctuation">,</span>
                     <span class="token operator">-</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token function">OPTIMIZE</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span>SPEED<span class="token punctuation">)</span> BROWSE DEBUG OBJECT
                     <span class="token operator">-</span>EXTEND CODE LISTINCLUDE SYMBOLS
</code></pre> 
<p><strong>Source Code</strong><br> 可以使用<strong>COND</strong>指令在源代码列表中包含所有条件代码(#if块中的代码)。<strong>NOCOND</strong>指令可用于从清单文件中排除未编译的条件代码块。也可以使用<strong>LISTINCLUDE</strong>指令在源代码列表中包含#include文件的内容。默认情况下，#include内容不会在清单文件中输出。</p> 
<pre><code class="prism language-c">  <span class="token number">53</span>          <span class="token keyword">char</span> code ERROR <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"\n*** ERROR: %s\n"</span><span class="token punctuation">;</span>
  <span class="token number">54</span>
  <span class="token number">55</span>          #define PERIOD     <span class="token operator">-</span><span class="token number">250</span>
  <span class="token number">56</span>          #define WRONGINDEX <span class="token number">0xffff</span>
  <span class="token number">57</span>
  <span class="token number">58</span>
  <span class="token number">59</span>          <span class="token comment">/* The following function is called from */</span>
  <span class="token number">60</span>          <span class="token comment">/* the interrupt service routine. */</span>
  <span class="token number">61</span>          <span class="token comment">/* Save current measurements in save_record */</span>
  <span class="token number">62</span>
  <span class="token number">63</span>
  <span class="token number">64</span>          #pragma <span class="token function">REGISTERBANK</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token number">65</span>
  <span class="token number">66</span>          <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">save_current_measurements</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token number">67</span>   <span class="token number">1</span>        save_record<span class="token punctuation">[</span>sindex<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> current<span class="token punctuation">;</span>
  <span class="token number">68</span>   <span class="token number">1</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>sindex <span class="token operator">==</span> SCNT<span class="token punctuation">)</span> sindex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token number">69</span>   <span class="token number">1</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>sindex <span class="token operator">==</span> savefirst<span class="token punctuation">)</span>  <span class="token punctuation">{<!-- --></span>
  <span class="token number">70</span>   <span class="token number">2</span>          <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">++</span>savefirst <span class="token operator">==</span> SCNT<span class="token punctuation">)</span>  savefirst <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token number">71</span>   <span class="token number">2</span>        <span class="token punctuation">}</span>
  <span class="token number">72</span>   <span class="token number">1</span>      <span class="token punctuation">}</span>
  <span class="token number">73</span>
  <span class="token number">74</span>
  <span class="token number">75</span>          <span class="token comment">/* Timer 0 interrupt service function */</span>
  <span class="token number">76</span>          <span class="token comment">/* executes each 250 usec @ 12 MHz Crystal Clock */</span>
  <span class="token number">77</span>
  <span class="token number">78</span>          <span class="token keyword">void</span> <span class="token function">timer0</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span> interrupt <span class="token number">1</span> using <span class="token number">1</span> <span class="token punctuation">{<!-- --></span>
  <span class="token number">79</span>   <span class="token number">1</span>
  <span class="token number">80</span>   <span class="token number">1</span>        <span class="token keyword">unsigned</span> <span class="token keyword">char</span> i<span class="token punctuation">;</span>
  <span class="token number">81</span>   <span class="token number">1</span>
  <span class="token number">82</span>   <span class="token number">1</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>measurement_interval<span class="token punctuation">)</span>  <span class="token punctuation">{<!-- --></span>
  <span class="token number">83</span>   <span class="token number">2</span>          <span class="token function">save_current_measurements</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token number">84</span>   <span class="token number">2</span>          measurement_interval <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token number">85</span>   <span class="token number">2</span>        <span class="token punctuation">}</span>
</code></pre> 
<p><strong>Assembly Listing</strong><br> 汇编清单包含编译器为c源代码生成的汇编代码。<strong>CODE</strong>指令可用于汇编代码列表输出。</p> 
<pre><code class="prism language-c">             <span class="token punctuation">;</span> FUNCTION <span class="token function">save_current_measurements</span> <span class="token punctuation">(</span>BEGIN<span class="token punctuation">)</span>
                                           <span class="token punctuation">;</span> SOURCE LINE # <span class="token number">66</span>
                                           <span class="token punctuation">;</span> SOURCE LINE # <span class="token number">67</span>
<span class="token number">0000</span> <span class="token number">0500</span>        R     INC     sindex<span class="token operator">+</span><span class="token number">01</span>H
<span class="token number">0002</span> E500        R     MOV     A<span class="token punctuation">,</span>sindex<span class="token operator">+</span><span class="token number">01</span>H
<span class="token number">0004</span> AE00        R     MOV     R6<span class="token punctuation">,</span>sindex
<span class="token number">0006</span> <span class="token number">7002</span>              JNZ     <span class="token operator">?</span>C0064
<span class="token number">0008</span> <span class="token number">0500</span>        R     INC     sindex
<span class="token number">000</span>A         <span class="token operator">?</span>C0064<span class="token operator">:</span>
<span class="token number">000</span>A <span class="token number">14</span>                DEC     A
<span class="token number">000</span>B FF                MOV     R7<span class="token punctuation">,</span>A
<span class="token number">000</span>C <span class="token number">120000</span>      R     LCALL   L<span class="token operator">?</span><span class="token number">0079</span>
<span class="token number">000F</span> A809              MOV     R0<span class="token punctuation">,</span>AR1
<span class="token number">0011</span> FC                MOV     R4<span class="token punctuation">,</span>A
<span class="token number">0012</span> <span class="token number">7</span>D01              MOV     R5<span class="token punctuation">,</span>#<span class="token number">01</span>H
<span class="token number">0014</span> <span class="token number">120000</span>      R     LCALL   L<span class="token operator">?</span><span class="token number">0077</span>
                                           <span class="token punctuation">;</span> SOURCE LINE # <span class="token number">68</span>
<span class="token number">0017</span> E500        R     MOV     A<span class="token punctuation">,</span>sindex<span class="token operator">+</span><span class="token number">01</span>H
<span class="token number">0019</span> B4E80A            CJNE    A<span class="token punctuation">,</span>#<span class="token number">0E8</span>H<span class="token punctuation">,</span><span class="token operator">?</span>C0001
<span class="token number">001</span>C E500        R     MOV     A<span class="token punctuation">,</span>sindex
<span class="token number">001</span>E B40205            CJNE    A<span class="token punctuation">,</span>#<span class="token number">02</span>H<span class="token punctuation">,</span><span class="token operator">?</span>C0001
<span class="token number">0021</span> E4                CLR     A
<span class="token number">0022</span> F500        R     MOV     sindex<span class="token punctuation">,</span>A
<span class="token number">0024</span> F500        R     MOV     sindex<span class="token operator">+</span><span class="token number">01</span>H<span class="token punctuation">,</span>A
<span class="token number">0026</span>         <span class="token operator">?</span>C0001<span class="token operator">:</span>
                                           <span class="token punctuation">;</span> SOURCE LINE # <span class="token number">69</span>
<span class="token number">0026</span> E500        R     MOV     A<span class="token punctuation">,</span>sindex<span class="token operator">+</span><span class="token number">01</span>H
<span class="token number">0028</span> B5001B      R     CJNE    A<span class="token punctuation">,</span>savefirst<span class="token operator">+</span><span class="token number">01</span>H<span class="token punctuation">,</span><span class="token operator">?</span>C0004
<span class="token number">002</span>B E500        R     MOV     A<span class="token punctuation">,</span>sindex
<span class="token number">002</span>D B50016      R     CJNE    A<span class="token punctuation">,</span>savefirst<span class="token punctuation">,</span><span class="token operator">?</span>C0004
</code></pre> 
<p><strong>Symbol Listing</strong><br> 符号清单包含编译后的源文件中有关程序符号的符号信息。包括符号名称、分类(SFR、structure、typedef、static、public、auto、extern)、内存空间、数据类型、偏移量和字节大小。<strong>SYMBOLS</strong>指令可用于符号列表输出。</p> 
<pre><code class="prism language-c">NAME                        CLASS   MSPACE  TYPE    OFFSET  SIZE
<span class="token operator">==</span><span class="token operator">==</span>                        <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>   <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span>  <span class="token operator">==</span><span class="token operator">==</span>    <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span>  <span class="token operator">==</span><span class="token operator">==</span>
P4 <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span>  SFR      DATA   U_CHAR   <span class="token number">00E8</span>H  <span class="token number">1</span>
P5 <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span>  SFR      DATA   U_CHAR   <span class="token number">00F</span><span class="token number">8</span>H  <span class="token number">1</span>
BD <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span>  ABSBIT   <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>  BIT      <span class="token number">00</span>DFH  <span class="token number">1</span>
current<span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span>  PUBLIC   DATA   STRUCT   <span class="token number">0000</span>H  <span class="token number">11</span>
ERROR<span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span>  PUBLIC   CODE   ARRAY    <span class="token number">0416</span>H  <span class="token number">16</span>
sindex <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span>  PUBLIC   DATA   U_INT    <span class="token number">000</span>BH  <span class="token number">2</span>
clock<span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span>  <span class="token operator">*</span> TAG <span class="token operator">*</span>  <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>  STRUCT   <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>  <span class="token number">5</span>
  hour <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span>  MEMBER   <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>  U_CHAR   <span class="token number">0000</span>H  <span class="token number">1</span>
  min<span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span>  MEMBER   <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>  U_CHAR   <span class="token number">0001</span>H  <span class="token number">1</span>
  sec<span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span>  MEMBER   <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>  U_CHAR   <span class="token number">0002</span>H  <span class="token number">1</span>
  msec <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span>  MEMBER   <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>  U_INT    <span class="token number">0003</span>H  <span class="token number">2</span>
<span class="token class-name">size_t</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span>  TYPEDEF  <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>  U_INT    <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>  <span class="token number">2</span>
menu <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span>  STATIC   CODE   ARRAY    <span class="token number">00</span>C7H  <span class="token number">847</span>
ADCON<span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span>  SFR      DATA   U_CHAR   <span class="token number">00</span>D8H  <span class="token number">1</span>
mdisplay <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span>  STATIC   DATA   BIT      <span class="token number">0001</span>H  <span class="token number">1</span>
interval <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span>  PUBLIC   DATA   STRUCT   <span class="token number">0014</span>H  <span class="token number">4</span>
interval <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span>  <span class="token operator">*</span> TAG <span class="token operator">*</span>  <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>  STRUCT   <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>  <span class="token number">4</span>
  min<span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span>  MEMBER   <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>  U_CHAR   <span class="token number">0000</span>H  <span class="token number">1</span>
  sec<span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span>  MEMBER   <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>  U_CHAR   <span class="token number">0001</span>H  <span class="token number">1</span>
  msec <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span>  MEMBER   <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>  U_INT    <span class="token number">0002</span>H  <span class="token number">2</span>
<span class="token class-name">wchar_t</span><span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span>  TYPEDEF  <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>  CHAR     <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>  <span class="token number">1</span>
_getkey<span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span>  EXTERN   CODE   PROC     <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>  <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
BSY<span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span>  ABSBIT   <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>  BIT      <span class="token number">00</span>DCH  <span class="token number">1</span>
_toupper <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span>  EXTERN   CODE   PROC     <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>  <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
_printf<span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span>  EXTERN   CODE   PROC     <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>  <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
_set_interval<span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span>  EXTERN   CODE   PROC     <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>  <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
_read_index<span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span>  STATIC   CODE   PROC     <span class="token number">0000</span>H  <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
  buffer <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span>  AUTO     DATA   PTR      <span class="token number">0000</span>H  <span class="token number">3</span>
  index<span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span>  AUTO     DATA   INT      <span class="token number">0003</span>H  <span class="token number">2</span>
  args <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span>  <span class="token operator">*</span> REG <span class="token operator">*</span>  DATA   U_CHAR   <span class="token number">0007</span>H  <span class="token number">1</span>
measurement_interval <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span>  STATIC   DATA   BIT      <span class="token number">0002</span>H  <span class="token number">1</span>
</code></pre> 
<p><strong>Module Information</strong><br> 模块信息提供了源文件定义的初始化和未初始化内存区域的大小。</p> 
<pre><code class="prism language-c">MODULE INFORMATION<span class="token operator">:</span>   STATIC OVERLAYABLE
   CODE SIZE        <span class="token operator">=</span>    <span class="token number">902</span>    <span class="token operator">--</span><span class="token operator">--</span>
   CONSTANT SIZE    <span class="token operator">=</span>   <span class="token number">1062</span>    <span class="token operator">--</span><span class="token operator">--</span>
   XDATA SIZE       <span class="token operator">=</span>   <span class="token number">8184</span>    <span class="token operator">--</span><span class="token operator">--</span>
   PDATA SIZE       <span class="token operator">=</span>   <span class="token operator">--</span><span class="token operator">--</span>    <span class="token operator">--</span><span class="token operator">--</span>
   DATA SIZE        <span class="token operator">=</span>     <span class="token number">24</span>       <span class="token number">8</span>
   IDATA SIZE       <span class="token operator">=</span>   <span class="token operator">--</span><span class="token operator">--</span>      <span class="token number">15</span>
   BIT SIZE         <span class="token operator">=</span>      <span class="token number">3</span>    <span class="token operator">--</span><span class="token operator">--</span>
END OF MODULE INFORMATION<span class="token punctuation">.</span>
</code></pre> 
<p><strong>Warnings and Errors</strong><br> 编译时遇到的问题可能会导致错误和/或警告，这些错误和/或警告会输出到屏幕和清单文件。有关错误和的详细信息，请参阅<strong>Error message</strong>。</p> 
<p><strong>Object (OBJ) File</strong><br> Object (OBJ)文件是C51编译器生成OMF51或OMF2对象格式的目标对象(. obj)文件，以响应各种C语言语句和其他指令。OBJECT指令指定了目标文件的名称（默认为该指令），而NOOBJECT指令抑制了目标文件的输出。目标文件不仅仅是为C源代码生成的程序集的二进制表示。它是一个特殊格式的文件，包含<strong>符号信息、目标代码、调试信息、库引用</strong>等数据记录。下面是存储在object文件中的一些细节。</p> 
<ul><li> <p>为全局变量预留内存。</p> </li><li> <p>公共符号(变量和函数)名称。</p> </li><li> <p>外部符号(变量和函数)引用。</p> </li><li> <p>要链接的库文件。</p> </li><li> <p>调试信息，以帮助同步源代码行与目标代码。</p> <pre><code> 存储在object文件中的大多数对象代码都不是绝对的。它可以被链接器定位到任何适当的地址。对外部变量和函数的引用由编译器设置为地址0。链接器固定所有引用。由于这些原因，编译器生成的目标代码不能按原样执行。它必须在执行之前被链接。对象文件中存储的细节级别使得模拟器(如Keil Vision Simulator)、调试器(如Keil uVision Target Debugger)和模拟器可以加载你的程序，并提供完整的符号、源级调试功能。
 请注意object文件提供了对原始源代码中行号的引用。它不包括原始源代码。源级调试要求调试器能够访问原始源代码。
</code></pre> </li></ul> 
<p><strong>Preprocessor (I) File</strong><br> 使用PREPRINT编译命令可以生成输出预处理文件。对预处理输出文件，常用于检查宏或者条件预处理是否正常<br> 如：</p> 
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name function">defIt</span><span class="token expression"><span class="token punctuation">(</span>x<span class="token punctuation">)</span>  <span class="token keyword">char</span> x<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> #x</span></span>

<span class="token keyword">void</span> <span class="token function">main</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
<span class="token function">defIt</span><span class="token punctuation">(</span>asdf<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
其生成的预处理输出文件为：
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">line</span> <span class="token expression"><span class="token number">1</span> </span><span class="token string">"main.c"</span> <span class="token expression"><span class="token operator">/</span><span class="token number">0</span></span></span>

 <span class="token keyword">void</span> <span class="token function">main</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
 <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">char</span> asdf<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"asdf"</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
</code></pre> 
<p><strong>Source (SRC) File</strong></p> 
<p>编译器可以从一个有效的C源文件生成一个汇编源文件(. src)。有关如何使用该指令的信息，请参阅SRC指令。<br> 创建汇编源文件有以下几个原因:</p> 
<ul><li>使用ASM和ENDASM指令将内联程序集添加到C函数中。</li><li>手动优化编译器的汇编输出。</li><li>正在用汇编代码编写一个例程，并希望在C中创建函数和参数的原型。</li></ul> 
<p>不管创建源文件的原因是什么，所需的步骤总是相同的:</p> 
<ol><li>创建一个C源文件。</li><li>添加任何必需的内联汇编指令。</li><li>使用SRC指令编译。</li><li>重命名. src文件，使其不会被原始C源代码的后续编译所覆盖(如果需要的话)。</li><li>对创建的汇编程序源文件进行更改。</li><li>使用汇编程序进行组装。<br> 请注意当使用SRC指令时，编译器输出一个汇编源文件(.SRC)。没有输出object (. ob)文件。一旦C源文件转换为汇编程序源文件，c符号和源级调试就不可用。</li></ol>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/8a4d652447a0f53d7731155bb19ee1e3/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">u盘格式化后数据能恢复吗？当然可以，5步恢复U盘数据</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/396eb12437420010f0db1689885d10ab/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Pytorch—模型微调（fine-tune）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>