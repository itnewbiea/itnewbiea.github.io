<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>SpringMVC之注解的使用 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="SpringMVC之注解的使用" />
<meta property="og:description" content="系列文章目录 提示：这里可以添加系列文章的所有文章的目录，目录需要自己手动添加
SpringMVC之注解的使用
提示：写完文章后，目录可以自动生成，如何生成可参考右边的帮助文档
文章目录 系列文章目录前言一、注解的使用@Controller@Controller@RequestParam@RequestHeader@CookieValue@SessionAttributes@ModelAttribute@PathVariable@PostMapping、@GetMapping、@PutMapping、@DeleteMapping@ResponseBody@RestController@RequestBody 总结 前言 提示：这里可以添加本文要记录的大概内容：
通过注解，我们可以在代码中轻松地标识和配置 SpringMVC 的组件，如控制器、视图、请求映射等。这种方式大大减少了冗余的配置文件，提高了开发效率。
在本博客中，我们将深入探讨 SpringMVC 中注解的使用。我们将了解注解的基本概念和工作原理，学习如何使用注解来创建控制器、处理请求和渲染视图。此外，我们还将探讨一些常见的注解，以及如何通过注解进行参数传递和验证。
无论是 SpringMVC 的新手还是有经验的开发者，本博客都将提供有价值的信息和实际示例，帮助你更好地理解和应用注解来简化你的 Web 开发工作。
提示：以下是本篇文章正文内容，下面案例可供参考
一、注解的使用 @Controller 作用：标记控制器，将控制器交给Spring容器管理。
位置：类上方
import org.springframework.stereotype.Controller; @Controller public class MyController { // 处理请求的方法 public void handleRequest(HttpServletRequest request, HttpServletResponse response) { // 在此编写请求处理逻辑 } } 在上述示例中，我们创建了一个名为MyController的类，并在其上添加了@Controller注解。这样，该类就被标记为一个 SpringMVC 控制器。
@Controller注解通常与@RequestMapping注解一起使用，来指定控制器处理的请求路径。
@Controller 作用：给控制器方法设置请求路径
位置：方法或类上方。用于类上，表示类中的所有控制器方法都是以该地址作为父路径。
属性：
value/path:请求路径method:指定请求方式params:规定必须发送的请求参数headers:规定请求必须包含的请求头 @Controller @RequestMapping(&#34;/c3&#34;) public class MyController3 { /* 访问路径为 /c3/annotation1 支持post和get请求 请求时必须带有age参数 请求时必须带有User-agent请求头 */ @RequestMapping(path = &#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/11ebfdf02314bacc37195a366a4d2594/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-12-22T14:32:39+08:00" />
<meta property="article:modified_time" content="2023-12-22T14:32:39+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">SpringMVC之注解的使用</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="_0"></a>系列文章目录</h2> 
<p><code> 提示：这里可以添加系列文章的所有文章的目录，目录需要自己手动添加</code><br> SpringMVC之注解的使用</p> 
<hr> 
<p><code>提示：写完文章后，目录可以自动生成，如何生成可参考右边的帮助文档</code></p> 
<p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#_0" rel="nofollow">系列文章目录</a></li><li><a href="#_12" rel="nofollow">前言</a></li><li><a href="#_23" rel="nofollow">一、注解的使用</a></li><li><ul><li><a href="#Controller_24" rel="nofollow">@Controller</a></li><li><a href="#Controller_40" rel="nofollow">@Controller</a></li><li><a href="#RequestParam_67" rel="nofollow">@RequestParam</a></li><li><a href="#RequestHeader_92" rel="nofollow">@RequestHeader</a></li><li><a href="#CookieValue_109" rel="nofollow">@CookieValue</a></li><li><a href="#SessionAttributes_127" rel="nofollow">@SessionAttributes</a></li><li><a href="#ModelAttribute_152" rel="nofollow">@ModelAttribute</a></li><li><a href="#PathVariable_192" rel="nofollow">@PathVariable</a></li><li><a href="#PostMappingGetMappingPutMappingDeleteMapping_217" rel="nofollow">@PostMapping、@GetMapping、@PutMapping、@DeleteMapping</a></li><li><a href="#ResponseBody_254" rel="nofollow">@ResponseBody</a></li><li><a href="#RestController_273" rel="nofollow">@RestController</a></li><li><a href="#RequestBody_290" rel="nofollow">@RequestBody</a></li></ul> 
  </li><li><a href="#_334" rel="nofollow">总结</a></li></ul> 
</div> 
<p></p> 
<hr> 
<h2><a id="_12"></a>前言</h2> 
<p><code>提示：这里可以添加本文要记录的大概内容：</code></p> 
<p>通过注解，我们可以在代码中轻松地标识和配置 SpringMVC 的组件，如控制器、视图、请求映射等。这种方式大大减少了冗余的配置文件，提高了开发效率。<br> 在本博客中，我们将深入探讨 SpringMVC 中注解的使用。我们将了解注解的基本概念和工作原理，学习如何使用注解来创建控制器、处理请求和渲染视图。此外，我们还将探讨一些常见的注解，以及如何通过注解进行参数传递和验证。<br> 无论是 SpringMVC 的新手还是有经验的开发者，本博客都将提供有价值的信息和实际示例，帮助你更好地理解和应用注解来简化你的 Web 开发工作。</p> 
<hr> 
<p><code>提示：以下是本篇文章正文内容，下面案例可供参考</code></p> 
<h2><a id="_23"></a>一、注解的使用</h2> 
<h3><a id="Controller_24"></a>@Controller</h3> 
<p>作用：标记控制器，将控制器交给Spring容器管理。<br> 位置：类上方</p> 
<pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Controller</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Controller</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyController</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 处理请求的方法</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">handleRequest</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 在此编写请求处理逻辑</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>在上述示例中，我们创建了一个名为MyController的类，并在其上添加了@Controller注解。这样，该类就被标记为一个 SpringMVC 控制器。<br> @Controller注解通常与@RequestMapping注解一起使用，来指定控制器处理的请求路径。</p> 
<h3><a id="Controller_40"></a>@Controller</h3> 
<p>作用：给控制器方法设置请求路径<br> 位置：方法或类上方。用于类上，表示类中的所有控制器方法都是以该地址作为父路径。<br> 属性：</p> 
<ul><li>value/path:请求路径</li><li>method:指定请求方式</li><li>params:规定必须发送的请求参数</li><li>headers:规定请求必须包含的请求头</li></ul> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@Controller</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/c3"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyController3</span> <span class="token punctuation">{<!-- --></span>
   <span class="token comment">/*
    访问路径为 /c3/annotation1
    支持post和get请求
    请求时必须带有age参数
    请求时必须带有User-agent请求头
   */</span>
  <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>path <span class="token operator">=</span> <span class="token string">"/my_path"</span><span class="token punctuation">,</span>method <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token class-name">RequestMethod</span><span class="token punctuation">.</span><span class="token constant">GET</span><span class="token punctuation">,</span><span class="token class-name">RequestMethod</span><span class="token punctuation">.</span><span class="token constant">POST</span><span class="token punctuation">}</span><span class="token punctuation">,</span>params <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token string">"age"</span><span class="token punctuation">}</span><span class="token punctuation">,</span>headers <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token string">"User-agent"</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">annotation1</span><span class="token punctuation">(</span><span class="token class-name">String</span> username<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">"index"</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>在上述示例中，我们使用@RequestMapping注解指定了控制器处理的根路径为"/my_path"，也就是说当用户在浏览器输入的是"/my_path"路径，则访问的方法就是annotation1。并且规定请求方法必须为GET方法，必须包含参数"age"，必须带有请求头"User-agent"。</p> 
<h3><a id="RequestParam_67"></a>@RequestParam</h3> 
<p>作用：在控制器方法中获取请求参数<br> 位置：方法参数前<br> 属性：</p> 
<ul><li>name：指定请求参数名称</li><li>defaultValue： 为参数设置默认值</li><li>required：设置是否是必须要传入的参数</li></ul> 
<pre><code class="prism language-java"><span class="token comment">/*
  定义请求的参数名为username，默认值为sxt，不是必须的参数
 */</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/annotation2"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">annotation2</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"username"</span><span class="token punctuation">,</span>defaultValue <span class="token operator">=</span> <span class="token string">"sxt"</span><span class="token punctuation">,</span>required <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token class-name">String</span> name<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
  <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token string">"index"</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> 
<p>特别注意，在以下场景中，使用@RequestParam注解是必要的：</p> 
<ul><li>强制请求参数存在：如果你的方法需要一个特定的请求参数才能正常工作，并且该参数是必需的，那么可以使用@RequestParam注解，并将required属性设置为true。这样可以确保在调用该方法时，请求中必须包含指定的参数，否则会抛出异常。</li><li>明确请求参数的名称：当请求参数的名称与方法参数的名称不一致时，可以使用@RequestParam注解来指定请求参数的名称。这样可以让 Spring Web 框架正确地将请求参数的值绑定到方法参数上。</li><li>处理默认值：如果你希望在请求参数不存在时为方法参数提供一个默认值，可以使用@RequestParam注解，并设置defaultValue属性。这样，当请求中没有提供该参数时，方法参数将使用默认值。</li><li>类型转换：如果请求参数的类型与方法参数的类型不匹配，并且你希望进行类型转换，可以使用@RequestParam注解，并提供相应的转换规则。这样，Spring Web 框架会在参数绑定时进行类型转换。<br> 总的来说，使用@RequestParam注解可以更好地控制请求参数的处理，确保方法的正确性和可靠性。但在一些简单的情况下，也可以根据参数的位置或名称来获取请求参数的值，而无需使用@RequestParam注解。</li></ul> 
<h3><a id="RequestHeader_92"></a>@RequestHeader</h3> 
<p>作用：在控制器方法中获取请求头数据<br> 位置：方法参数前</p> 
<pre><code class="prism language-java">
<span class="token annotation punctuation">@Controller</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyController</span> <span class="token punctuation">{<!-- --></span>
	<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/annotation3"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">handleRequest</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestHeader</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"My-Header"</span><span class="token punctuation">)</span> <span class="token class-name">String</span> headerValue<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 获取请求头 My-Header 的值并进行处理</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"请求头 My-Header 的值为："</span> <span class="token operator">+</span> headerValue<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>在上述示例中，我们在handleRequest方法的参数上使用@RequestHeader注解，指定了请求头的名称为My-Header。当有一个名为My-Header的请求头传递给该方法时，它会将该请求头的值绑定到方法参数headerValue上。<br> 注：@RequestParam注解主要用于获取请求参数（指问号后的参数，如url?a=1&amp;b=2），也可以用于获取请求头中的数据。而@RequestHeader是用来专门获取请求头的数据。</p> 
<h3><a id="CookieValue_109"></a>@CookieValue</h3> 
<p>作用：在控制器方法中获取Cookie数据<br> 位置：方法参数前</p> 
<pre><code class="prism language-java"><span class="token comment">/*
    获取User-Agent请求头
    获取JSESSIONID的Cookie值
   */</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/annotation4"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">annotation4</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestHeader</span><span class="token punctuation">(</span><span class="token string">"User-Agent"</span><span class="token punctuation">)</span> <span class="token class-name">String</span> userAgent<span class="token punctuation">,</span> <span class="token annotation punctuation">@CookieValue</span><span class="token punctuation">(</span><span class="token string">"JSESSIONID"</span><span class="token punctuation">)</span> <span class="token class-name">String</span> jSessionId<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
  <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>userAgent<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>jSessionId<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token string">"index"</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>在上述示例中，我们在处理方法的参数上使用@CookieValue注解，指定了 cookie 的名称为JSESSIONID。当有一个名为JSESSIONID的 cookie 传递给该方法时，它会将该 cookie 的值绑定到方法参数cookieValue上。<br> 通过使用@CookieValue注解，我们可以直接在方法参数上获取 cookie 的值，而无需在代码中手动解析 cookie。<br> @CookieValue注解还可以配置其他属性，如是否必填、默认值等，以满足更具体的需求。</p> 
<h3><a id="SessionAttributes_127"></a>@SessionAttributes</h3> 
<p>作用：将Model模型中的数据存到session域中<br> 位置：类上方</p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@Controller</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/c4"</span><span class="token punctuation">)</span>
<span class="token comment">// 将模型中的name数据保存到session中</span>
<span class="token annotation punctuation">@SessionAttributes</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyController4</span> <span class="token punctuation">{<!-- --></span>
  <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/t1"</span><span class="token punctuation">)</span>
  <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">t1</span><span class="token punctuation">(</span><span class="token class-name">Model</span> model<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token comment">// model中保存name数据</span>
    model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">,</span><span class="token string">"张三"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">"index"</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
  <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/t2"</span><span class="token punctuation">)</span>
  <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">t2</span><span class="token punctuation">(</span><span class="token class-name">HttpSession</span> session<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 从session中获取name数据</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>session<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">"index"</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<p>在上述示例中，@SessionAttributes作用在MyController4，那么只要保存在model模型里的数据都会保存在session域中，所以在t2方法中，可以直接获取"name"的值。</p> 
<h3><a id="ModelAttribute_152"></a>@ModelAttribute</h3> 
<p>作用1：设置指定方法在控制器其他方法前执行<br> 位置：方法上方</p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@Controller</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/c5"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyController5</span> <span class="token punctuation">{<!-- --></span>
  <span class="token annotation punctuation">@ModelAttribute</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">before</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"前置方法"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
  <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/t1"</span><span class="token punctuation">)</span>
  <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">t1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"t1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">"baizhan"</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
在上述示例中，因为before方法上有<span class="token annotation punctuation">@ModelAttribute</span>，所以放进入到<span class="token string">"/c5/.."</span>方法的时候，会优先执行before方法，再执行<span class="token string">"/c5/.."</span>。
</code></pre> 
<p>作用2：从Model模型中获取数据给参数赋值<br> 位置：方法参数前</p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@Controller</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/c6"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyController6</span> <span class="token punctuation">{<!-- --></span>
  <span class="token comment">// 前置方法向Model中设置数据</span>
  <span class="token annotation punctuation">@ModelAttribute</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">before</span><span class="token punctuation">(</span><span class="token class-name">Model</span> model<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">,</span><span class="token string">"张三"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
  <span class="token comment">// 该参数不是从请求中获取，而是从Model中获取</span>
  <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/t1"</span><span class="token punctuation">)</span>
  <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">t1</span><span class="token punctuation">(</span><span class="token annotation punctuation">@ModelAttribute</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span> <span class="token class-name">String</span> name<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">"baizhan"</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<p>在上述代码中，t1中的name属性的值来自model中，而model的值来自方法before中</p> 
<h3><a id="PathVariable_192"></a>@PathVariable</h3> 
<p>作用：在RESTful风格的URL中获取占位符的值<br> 位置：方法参数前<br> 属性：</p> 
<ul><li>value：获取哪个占位符的值作为参数值，如果占位符和参数名相同，可以省略该属性。</li></ul> 
<pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">PathVariable</span></span><span class="token punctuation">;</span>

<span class="token comment">// 在一个控制器方法上使用 @PathVariable 注解</span>
<span class="token comment">// 路径中的{id}表示占位符，最后会封装到方法的参数中使用</span>
<span class="token comment">// 如果占位符和参数名相同，可以省略@PathVariable的value属性</span>
<span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/users/{id}"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">User</span> <span class="token function">getUser</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Long</span> id<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 通过PathVariable 注解获取 URL 中的 id 值，并进行后续操作</span>
    <span class="token keyword">return</span> repository<span class="token punctuation">.</span><span class="token function">findById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>在上述示例中，@GetMapping(“/users/{id}”)注解将/users/{id}路径与该方法进行关联。@PathVariable(“id”)注解用于将 URL 中的{id}部分标记为路径变量。当调用/users/1这样的 URL 时，Spring 会将{id}的值解析为1，并将其传递给方法中的id参数。<br> 通过使用@PathVariable注解，你可以方便地在 Spring Web 应用中处理 URL 路径变量。<br> <em><strong>注</strong></em>：<br> 大家仔细一点可以看见，方法上面使用的是@GetMapping注解，而不是@RequestMapping注解。@PathVariable注解用于从 URL 路径中提取变量值，并将其传递给处理方法的参数。而@GetMapping、@PostMapping、@DeleteMapping和@PutMapping是 Spring Web 框架中的注解，用于定义不同类型的 HTTP 请求的映射。<br> 当我们使用这些注解时，可以方便地在处理方法中获取 URL 路径中的变量值，从而实现动态路由和参数传递。<br> 例如，假设有一个接口用于获取用户详细信息，其 URL 路径可能是/users/{id}。通过使用@GetMapping(“/users/{id}”)注解来映射这个路径，并使用@PathVariable(“id”)来提取{id}部分的值，我们可以在处理方法中获取到用户的 ID，并根据这个 ID 来查询和返回相应的用户详细信息。<br> 同样的道理，对于其他类型的 HTTP 请求（如 POST 请求用于创建新用户、DELETE 请求用于删除用户等），我们也可以使用类似的方式，通过注解和路径变量来提取和处理相应的参数。<br> 这样做的好处是，使得我们的代码更加简洁、易读，并且能够更好地与 URL 路径进行解耦。同时，也方便了在不同的请求类型和路径下进行统一的参数处理和路由管理。</p> 
<h3><a id="PostMappingGetMappingPutMappingDeleteMapping_217"></a>@PostMapping、@GetMapping、@PutMapping、@DeleteMapping</h3> 
<p>作用：简化设置请求方式的@RequestMapping写法</p> 
<ul><li>@PostMapping注解用于处理 POST 请求，通常用于创建资源。</li><li>@GetMapping注解用于处理 GET 请求，通常用于获取资源。</li><li>@GetMapping注解用于处理 GET 请求，通常用于获取资源。</li><li>@DeleteMapping注解用于处理 DELETE 请求，通常用于删除资源。</li></ul> 
<p>位置：方法上方。</p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyController</span> <span class="token punctuation">{<!-- --></span>

    <span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">"/myResource"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">createMyResource</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">MyResource</span> resource<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 创建资源的逻辑</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/myResource/{id}"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">MyResource</span> <span class="token function">getMyResource</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Long</span> id<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 获取资源的逻辑</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@PutMapping</span><span class="token punctuation">(</span><span class="token string">"/myResource/{id}"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">updateMyResource</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Long</span> id<span class="token punctuation">,</span> <span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">MyResource</span> resource<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 更新资源的逻辑</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@DeleteMapping</span><span class="token punctuation">(</span><span class="token string">"/myResource/{id}"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">deleteMyResource</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Long</span> id<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 删除资源的逻辑</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>在上述示例中，@PostMapping注解用于处理 POST 请求，将请求体的数据映射到MyResource对象，并调用createMyResource方法进行资源的创建。@GetMapping注解用于处理 GET 请求，通过路径变量{id}获取资源的 ID，并调用getMyResource方法获取资源。@PutMapping注解用于处理 PUT 请求，同样通过路径变量{id}获取资源的 ID，并将请求体的数据映射到MyResource对象，调用updateMyResource方法进行资源的更新。@DeleteMapping注解用于处理 DELETE 请求，通过路径变量{id}获取资源的 ID，并调用deleteMyResource方法删除资源。<br> 这些注解使得我们可以更加方便地定义不同请求类型的处理方法，并与 URL 路径进行解耦。同时，Spring Framework 会根据注解的信息自动生成相应的 HTTP 请求映射，从而简化了开发过程。</p> 
<h3><a id="ResponseBody_254"></a>@ResponseBody</h3> 
<p>作用：方法返回的对象转换为JSON格式，并将JSON数据直接写入到输出流中，使用此注解后不会再经过视图解析器。使用该注解可以处理Ajax请求。<br> 位置：方法上方或方法返回值前</p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyController</span> <span class="token punctuation">{<!-- --></span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/myResource"</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@ResponseBody</span>
    <span class="token keyword">public</span> <span class="token class-name">MyResource</span> <span class="token function">getMyResource</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 获取资源的逻辑</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">MyResource</span><span class="token punctuation">(</span><span class="token string">"Hello, World!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>在上述示例中，@GetMapping注解表示该方法处理 GET 请求，/myResource是请求的路径。@ResponseBody注解表示方法的返回值将直接作为 HTTP 响应的内容返回给客户端。<br> 当调用http://your-domain.com/myResource这样的 URL 时，客户端将接收到一个包含"Hello, World!"的响应。<br> 使用@ResponseBody注解可以方便地将复杂的数据对象作为 HTTP 响应的内容返回，而无需手动进行格式转换。同时，它也提供了一种简洁的方式来处理 RESTful 风格的 API 接口。</p> 
<h3><a id="RestController_273"></a>@RestController</h3> 
<p>作用：结合了@Controller和@ResponseBody注解的功能。使用@RestController注解的类会被视为一个控制器，其中的方法默认会被注解为@ResponseBody。这意味着，这些方法的返回值将直接作为 HTTP 响应的内容返回给客户端，而不需要额外的视图解析或模板渲染。总的来说就是，控制器类下的所有控制器方法都返回JSON格式数据且不进行跳转<br> 位置：类上方</p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyController</span> <span class="token punctuation">{<!-- --></span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/myResource"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getMyResource</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 获取资源的逻辑</span>
        <span class="token keyword">return</span> <span class="token string">"Hello, World!"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>在上述示例中，@GetMapping注解表示该方法处理 GET 请求，/myResource是请求的路径。方法的返回值将直接作为 HTTP 响应的内容返回给客户端。<br> 当调用http://your-domain.com/myResource这样的 URL 时，客户端将接收到一个包含"Hello, World!"的响应。<br> 使用@RestController注解可以使控制器的代码更加简洁和直观，同时也提供了一种便捷的方式来处理简单的 HTTP 请求和响应。如果你的控制器方法主要用于返回数据，而不需要复杂的视图渲染或模板逻辑，那么使用@RestController注解是一个不错的选择。</p> 
<h3><a id="RequestBody_290"></a>@RequestBody</h3> 
<p>作用：将请求中JSON格式的参数转为JAVA对象<br> 位置：写在方法参数前<br> Axios请求发送JSON格式的参数：</p> 
<pre><code class="prism language-javascript"><span class="token comment">// 导入 Axios 库</span>
<span class="token keyword">const</span> axios <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'axios'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 定义请求数据</span>
<span class="token keyword">const</span> resource <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'My Resource'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">description</span><span class="token operator">:</span> <span class="token string">'This is a description'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 发送 POST 请求</span>
axios<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/myResource'</span><span class="token punctuation">,</span> resource<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 处理响应数据</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 处理错误情况</span>
    console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>编写控制器：</p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyController</span> <span class="token punctuation">{<!-- --></span>

    <span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">"/myResource"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">createMyResource</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">MyResource</span> resource<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 创建资源的逻辑</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>在上述示例中，@PostMapping注解表示该方法处理 POST 请求，/myResource是请求的路径。@RequestBody注解修饰的MyResource参数将接收请求体的内容，并将其解析为MyResource对象。<br> 当调用http://your-domain.com/myResource这样的 URL 时，客户端可以将MyResource对象的 JSON 数据作为请求体的内容发送。Spring 会将请求体的内容解析为MyResource对象，并将其传递给方法。<br> 使用@RequestBody注解可以方便地处理请求体的数据，而无需手动解析和转换数据格式。同时，它也提供了一种简洁的方式来处理 POST 请求的参数。</p> 
<hr> 
<h2><a id="_334"></a>总结</h2> 
<p><code>提示：这里对文章进行总结：</code></p> 
<p>在 SpringMVC 框架中，注解是一种非常重要的配置方式，它可以帮助我们减少冗余的 XML 配置，提高开发效率。</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/8a98582e50791902667991ba5f34626c/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">yolov8添加ca注意力机制</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/1db0e6f03f77b7c50c6344e6e860f684/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Java中的Stream流收集器</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>