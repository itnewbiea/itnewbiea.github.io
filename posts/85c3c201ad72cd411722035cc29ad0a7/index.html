<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Windows10使用Linux功能（WSL） - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Windows10使用Linux功能（WSL）" />
<meta property="og:description" content="首先要按照WSL整个过程需要使用打开 PowerShell，并且用管理员模式打开
如果你版本足够的高在PowerShell中使用如下命令
C:\WINDOWS\system32&gt;wsl --install 我的不是所以要手工，原文是旧版 WSL 的手动安装步骤
步骤 1 - 启用Windows Subsystem For Linux（WSL） C:\WINDOWS\system32&gt;dism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart 步骤 2 - 检查是否符合WSL 2 的运行要求 :: 查看Win10版本号 C:\WINDOWS\system32&gt;winver :: 查看配置信息 C:\WINDOWS\system32&gt;wininfo32 :: 查看版本号 C:\WINDOWS\system32&gt;systeminfo | findstr Build OS ??: 10.0.18363 ?? Build 18363 C:\WINDOWS\system32&gt;systeminfo | find &#34;System Type&#34; 对于 x64 系统：版本 1903 或更高版本，内部版本为 18362 或更高版本。对于 ARM64 系统：版本 2004 或更高版本，内部版本为 19041 或更高版本。 如果运行的是 Windows 10 版本1903 或 1909，请在 Windows 菜单中打开“设置”，导航到“更新和安全性”，然后选择“检查更新”。 内部版本号必须是 18362." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/85c3c201ad72cd411722035cc29ad0a7/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-03-22T10:02:20+08:00" />
<meta property="article:modified_time" content="2023-03-22T10:02:20+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Windows10使用Linux功能（WSL）</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>首先要按照WSL整个过程需要使用打开 <strong>PowerShell</strong>，并且用管理员模式打开<br> 如果你版本足够的高在PowerShell中使用如下命令</p> 
<pre><code class="prism language-bash"> C:<span class="token punctuation">\</span>WINDOWS<span class="token punctuation">\</span>system3<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span>wsl --install
</code></pre> 
<p>我的不是所以要手工，原文是<a href="https://learn.microsoft.com/zh-cn/windows/wsl/install-manual" rel="nofollow">旧版 WSL 的手动安装步骤</a></p> 
<h4><a id="_1__Windows_Subsystem_For_LinuxWSL_7"></a>步骤 1 - 启用Windows Subsystem For Linux（WSL）</h4> 
<pre><code class="prism language-bash"> C:<span class="token punctuation">\</span>WINDOWS<span class="token punctuation">\</span>system3<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span>dism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart
</code></pre> 
<h4><a id="_2__WSL_2__11"></a>步骤 2 - 检查是否符合WSL 2 的运行要求</h4> 
<pre><code class="prism language-bash">:: 查看Win10版本号
 C:<span class="token punctuation">\</span>WINDOWS<span class="token punctuation">\</span>system3<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span>winver
:: 查看配置信息
 C:<span class="token punctuation">\</span>WINDOWS<span class="token punctuation">\</span>system3<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span>wininfo32
:: 查看版本号
 C:<span class="token punctuation">\</span>WINDOWS<span class="token punctuation">\</span>system3<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span>systeminfo <span class="token operator">|</span> findstr Build
 OS ??:          <span class="token number">10.0</span>.18363 ?? Build <span class="token number">18363</span>
 C:<span class="token punctuation">\</span>WINDOWS<span class="token punctuation">\</span>system3<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span>systeminfo <span class="token operator">|</span> <span class="token function">find</span> <span class="token string">"System Type"</span>
 
</code></pre> 
<ul><li>对于 x64 系统：版本 1903 或更高版本，内部版本为 18362 或更高版本。</li><li>对于 ARM64 系统：版本 2004 或更高版本，内部版本为 19041 或更高版本。</li></ul> 
<p>如果运行的是 Windows 10 版本1903 或 1909，请在 Windows 菜单中打开“设置”，导航到“更新和安全性”，然后选择“检查更新”。 内部版本号必须是 18362.1049+ 或 18363.1049+，次要内部版本号需要高于 .1049。</p> 
<h4><a id="_3___28"></a>步骤 3 - 启用虚拟机功能</h4> 
<pre><code class="prism language-bash">dism.exe /online /enable-feature /featurename:VirtualMachinePlatform /all /norestart
</code></pre> 
<p>重新启动计算机，以完成 WSL 安装并更新到 WSL 2</p> 
<h4><a id="_4___Linux__33"></a>步骤 4 - 下载 Linux 内核更新包</h4> 
<ul><li><a href="https://wslstorestorage.blob.core.windows.net/wslblob/wsl_update_x64.msi" rel="nofollow">适用于 x64 计算机的 WSL2 Linux 内核更新包</a></li></ul> 
<h4><a id="_5___WSL_2__35"></a>步骤 5 - 将 WSL 2 设置为默认版本</h4> 
<pre><code class="prism language-bash"> C:<span class="token punctuation">\</span>WINDOWS<span class="token punctuation">\</span>system3<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span>wsl --set-default-version <span class="token number">2</span>
</code></pre> 
<p>查看wsl版本情况</p> 
<pre><code class="prism language-bash"> C:<span class="token punctuation">\</span>WINDOWS<span class="token punctuation">\</span>system3<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span>wsl -l -v
</code></pre> 
<p>进入应用商店 下载 Windows Subsystem for Linux<br> <img src="https://images2.imgbox.com/3f/c7/nTC95dFp_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-bash">适用于 Linux 的 Windows 子系统没有已安装的分发。

使用 <span class="token string">'wsl.exe --list --online'</span> 列出可用的分发
并使用 <span class="token string">'wsl.exe --install &lt;Distro&gt;'</span> 进行安装。

也可以通过访问 Microsoft Store 安装分发：
https://aka.ms/wslstore
Error code: Wsl/Service/CreateInstance/GetDefaultDistro/WSL_E_DEFAULT_DISTRO_NOT_FOUND
按任意键继续<span class="token punctuation">..</span>.

</code></pre> 
<pre><code class="prism language-bash">PS C:<span class="token punctuation">\</span>WINDOWS<span class="token punctuation">\</span>system3<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span> wsl --list --online
以下是可安装的有效分发的列表。
使用 <span class="token string">'wsl.exe --install &lt;Distro&gt;'</span> 安装。

NAME                                   FRIENDLY NAME
Ubuntu                                 Ubuntu
Debian                                 Debian GNU/Linux
kali-linux                             Kali Linux Rolling
Ubuntu-18.04                           Ubuntu <span class="token number">18.04</span> LTS
Ubuntu-20.04                           Ubuntu <span class="token number">20.04</span> LTS
Ubuntu-22.04                           Ubuntu <span class="token number">22.04</span> LTS
OracleLinux_8_5                        Oracle Linux <span class="token number">8.5</span>
OracleLinux_7_9                        Oracle Linux <span class="token number">7.9</span>
SUSE-Linux-Enterprise-Server-15-SP4    SUSE Linux Enterprise Server <span class="token number">15</span> SP4
openSUSE-Leap-15.4                     openSUSE Leap <span class="token number">15.4</span>
openSUSE-Tumbleweed                    openSUSE Tumbleweed
PS C:<span class="token punctuation">\</span>WINDOWS<span class="token punctuation">\</span>system3<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span>wsl <span class="token function">install</span> Ubuntu-22.04
</code></pre> 
<p>成功了</p> 
<pre><code class="prism language-bash">To run a <span class="token builtin class-name">command</span> as administrator <span class="token punctuation">(</span>user <span class="token string">"root"</span><span class="token punctuation">)</span>, use <span class="token string">"sudo &lt;command&gt;"</span><span class="token builtin class-name">.</span>
See <span class="token string">"man sudo_root"</span> <span class="token keyword">for</span> details.

xuebo@DESKTOP-H0HC90J:~$ <span class="token function">cat</span> /proc/version
Linux version <span class="token number">5.15</span>.90.1-microsoft-standard-WSL2 <span class="token punctuation">(</span>oe-user@oe-host<span class="token punctuation">)</span> <span class="token punctuation">(</span>x86_64-msft-linux-gcc <span class="token punctuation">(</span>GCC<span class="token punctuation">)</span> <span class="token number">9.3</span>.0, GNU ld <span class="token punctuation">(</span>GNU Binutils<span class="token punctuation">)</span> <span class="token number">2.34</span>.0.20200220<span class="token punctuation">)</span> <span class="token comment">#1 SMP Fri Jan 27 02:56:13 UTC 2023</span>
xuebo@DESKTOP-H0HC90J:~$
</code></pre> 
<p>##以下是我遇到的坑</p> 
<h4><a id="0x800704cf_90"></a>解决微软应用商店报错误（0x800704cf）</h4> 
<p><img src="https://images2.imgbox.com/7c/1f/QiilKZHY_o.png" alt="在这里插入图片描述"><br> 先看看代理有问题没</p> 
<pre><code class="prism language-bash">C:<span class="token punctuation">\</span>WINDOWS<span class="token punctuation">\</span>system3<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span>netsh winhttp reset proxy
</code></pre> 
<p>看看服务有问题没<br> Windows键+R，</p> 
<ul><li>输入services.msc 进入本地服务管理，</li><li>重启 Microsoft Account Sign-in Assistant 服务，</li><li>之后 右键该服务 -属性-启动类型-自动，保存</li></ul> 
<h4><a id="_103"></a>版本无法更新如何处理</h4> 
<p><img src="https://images2.imgbox.com/d6/43/01bsZEFD_o.png" alt="在这里插入图片描述"><br> 安装 <a href="https://link.zhihu.com/?target=https://go.microsoft.com/fwlink/?LinkID=799445" rel="nofollow">windows 10 更新助手</a></p> 
<h4><a id="_106"></a>如何清理应用商店缓存？</h4> 
<ul><li>windows+R键输入“services.msc”,进入“服务”窗口，关闭Windows Update服务；</li><li>按照地址找到Softwaredistribution文件夹，C:\windows\SoftwareDistribution；</li><li>将该文件夹重新命名，例如SoftwareDistributionold； 重新将Windows</li><li>Update服务开启，系统会重新生成SoftwareDistribution文件夹。</li><li>重置应用商店:按下Windows+R键，“运行”中输入wsreset，确定。</li></ul> 
<p>windows+X 应用和功能<br> <img src="https://images2.imgbox.com/ed/c3/iX68Vita_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="PowerShellMicrosoft_Store_115"></a>通过PowerShell卸载Microsoft Store</h4> 
<p>如果上述解决方法均无法解决错误代码 0x80080204，请尝试卸载应用商店应用程序本身。 以下是使用 PowerShell 卸载 Store 应用程序的方法 –</p> 
<p>打开 Windows PowerShell admin 使用权。<br> 复制并粘贴下面的文本行，然后按 Enter –</p> 
<pre><code class="prism language-bash">C:<span class="token punctuation">\</span>WINDOWS<span class="token punctuation">\</span>system3<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span> Get-AppxPackage *windowsstore* <span class="token operator">|</span> Remove-AppxPackage
</code></pre> 
<p>接下来，执行以下代码——</p> 
<pre><code class="prism language-bash">C:<span class="token punctuation">\</span>WINDOWS<span class="token punctuation">\</span>system3<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span> Get-AppxPackage -allusers Microsoft.WindowsStore <span class="token operator">|</span> Foreach <span class="token punctuation">{<!-- --></span>Add-AppxPackage -DisableDevelopmentMode -Register <span class="token string">"<span class="token variable"><span class="token variable">$(</span>$_.InstallLocation<span class="token variable">)</span></span>AppXManifest.xml"</span><span class="token punctuation">}</span>
</code></pre> 
<p>PowerShell 将自动卸载 Store 应用程序，然后重新安装。</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/5431bb7488ecb6d3c3f5947714fd8e6c/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">vue3计算属性实现全选</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/3c0fc1af867839b5e61064ee5851b780/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">java.lang.IllegalArgumentException: baseUrl must end in /: http://xxx.xxx.com/cric</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>