<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>shell脚本练习大杂烩，总有一个案例是你需要的！ - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="shell脚本练习大杂烩，总有一个案例是你需要的！" />
<meta property="og:description" content="基础的练习 1.检查用户家目录中的 test.sh 文件是否存在，并且检查是否有执行权限2.用case语句解压根据输入的后缀名为 .tar.gz 或 .tar.bz2 的压缩包解压到 /opt 目录3.提示用户输入内容，使用if 语句判断输入的内容是否为整数,再判断输入的内容是奇数还是偶数。4.用if 语句判断主机是否存活5.用case语句在/etc/init.d/目录中写一个firewalld脚本，并加入到系统服务管理中6. 使用while循环用“*”号画出两个正反等腰三角形7. 根据RAMDON生成8位随机密码，包括数字和字母8. 如何将数组的内容进行反转？9. 如果ping测试一系列ip是否正常并记录延时超过3ms的ip？10. 如何将last的结果中，独立出账号，并且显示曾经登录过的账号？11. 如何显示/bin 下面任何以a为文件名开头的文件的详细数据？12. 如何显示/bin 下面，文件名为四个字符的文件？13. 编写shell脚本实现十进制转二进制14. 如何显示/bin 目录下 不是a-d开头的文件15. 如果想让用户登录后，显示欢迎信息，该怎么操作？16. 编写脚本：获取输入的字符串中数字、空格和特殊符号的数量17. 对输入的用户名进行判断是否存在 1.检查用户家目录中的 test.sh 文件是否存在，并且检查是否有执行权限 #!/bin/bash # 1.检查用户家目录中的test.sh文件是否存在，并且检查是否有执行权限 # anthor:cheng cd ~ if test -e test.sh; then echo 该文件存在！ if test -x test.sh; then echo 该文件有执行权限! else echo 该文件没有执行权限! fi else echo 该文件不存在！ fi 测试结果：
2.用case语句解压根据输入的后缀名为 .tar.gz 或 .tar.bz2 的压缩包解压到 /opt 目录 #!/bin/bash read -p &#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/2b9f9dd6c9f8ca8ce9caf9e510a652e7/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-05-14T01:08:17+08:00" />
<meta property="article:modified_time" content="2021-05-14T01:08:17+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">shell脚本练习大杂烩，总有一个案例是你需要的！</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>基础的练习</h4> 
 <ul><li><a href="#1_testsh__1" rel="nofollow">1.检查用户家目录中的 test.sh 文件是否存在，并且检查是否有执行权限</a></li><li><a href="#2case_targz__tarbz2__opt__22" rel="nofollow">2.用case语句解压根据输入的后缀名为 .tar.gz 或 .tar.bz2 的压缩包解压到 /opt 目录</a></li><li><a href="#3if__40" rel="nofollow">3.提示用户输入内容，使用if 语句判断输入的内容是否为整数,再判断输入的内容是奇数还是偶数。</a></li><li><a href="#4if__64" rel="nofollow">4.用if 语句判断主机是否存活</a></li><li><a href="#5caseetcinitdfirewalld_78" rel="nofollow">5.用case语句在/etc/init.d/目录中写一个firewalld脚本，并加入到系统服务管理中</a></li><li><a href="#6_while_105" rel="nofollow">6. 使用while循环用“*”号画出两个正反等腰三角形</a></li><li><a href="#7_RAMDON8_219" rel="nofollow">7. 根据RAMDON生成8位随机密码，包括数字和字母</a></li><li><a href="#8__236" rel="nofollow">8. 如何将数组的内容进行反转？</a></li><li><a href="#9_pingip3msip_259" rel="nofollow">9. 如果ping测试一系列ip是否正常并记录延时超过3ms的ip？</a></li><li><a href="#10_last_292" rel="nofollow">10. 如何将last的结果中，独立出账号，并且显示曾经登录过的账号？</a></li><li><a href="#11_bin_a_300" rel="nofollow">11. 如何显示/bin 下面任何以a为文件名开头的文件的详细数据？</a></li><li><a href="#12_bin__309" rel="nofollow">12. 如何显示/bin 下面，文件名为四个字符的文件？</a></li><li><a href="#13_shell_323" rel="nofollow">13. 编写shell脚本实现十进制转二进制</a></li><li><a href="#14_bin__ad_345" rel="nofollow">14. 如何显示/bin 目录下 不是a-d开头的文件</a></li><li><a href="#15__356" rel="nofollow">15. 如果想让用户登录后，显示欢迎信息，该怎么操作？</a></li><li><a href="#16__361" rel="nofollow">16. 编写脚本：获取输入的字符串中数字、空格和特殊符号的数量</a></li><li><a href="#17__396" rel="nofollow">17. 对输入的用户名进行判断是否存在</a></li></ul> 
</div> 
<p></p> 
<h2><a id="1_testsh__1"></a>1.检查用户家目录中的 test.sh 文件是否存在，并且检查是否有执行权限</h2> 
<pre><code class="prism language-shell"><span class="token shebang important">#!/bin/bash</span>
<span class="token comment"># 1.检查用户家目录中的test.sh文件是否存在，并且检查是否有执行权限</span>
<span class="token comment"># anthor:cheng</span>
<span class="token function">cd</span> ~
<span class="token keyword">if</span> <span class="token function">test</span> -e test.sh<span class="token punctuation">;</span> <span class="token keyword">then</span>
    <span class="token keyword">echo</span> 该文件存在！
    <span class="token keyword">if</span> <span class="token function">test</span> -x test.sh<span class="token punctuation">;</span> <span class="token keyword">then</span>
        <span class="token keyword">echo</span> 该文件有执行权限<span class="token operator">!</span>
    <span class="token keyword">else</span>
        <span class="token keyword">echo</span> 该文件没有执行权限<span class="token operator">!</span>
    <span class="token keyword">fi</span>
<span class="token keyword">else</span>
    <span class="token keyword">echo</span> 该文件不存在！  
<span class="token keyword">fi</span>
</code></pre> 
<p>测试结果：<br> <img src="https://images2.imgbox.com/35/d6/hWbBdiAA_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="2case_targz__tarbz2__opt__22"></a>2.用case语句解压根据输入的后缀名为 .tar.gz 或 .tar.bz2 的压缩包解压到 /opt 目录</h2> 
<pre><code class="prism language-shell"><span class="token shebang important">#!/bin/bash</span>
<span class="token function">read</span> -p <span class="token string">"请输入文件名"</span> filename
<span class="token keyword">case</span> <span class="token variable">$filename</span> <span class="token keyword">in</span> 
*.gz<span class="token punctuation">)</span>
  <span class="token function">tar</span> zxvf <span class="token variable">$filename</span> -C /opt
<span class="token punctuation">;</span><span class="token punctuation">;</span>
*.bz2<span class="token punctuation">)</span>
  <span class="token function">tar</span> jxvf <span class="token variable">$filename</span> -C /opt
<span class="token punctuation">;</span><span class="token punctuation">;</span>
*<span class="token punctuation">)</span>
  <span class="token keyword">echo</span> 格式错误
<span class="token punctuation">;</span><span class="token punctuation">;</span>
esac
</code></pre> 
<h2><a id="3if__40"></a>3.提示用户输入内容，使用if 语句判断输入的内容是否为整数,再判断输入的内容是奇数还是偶数。</h2> 
<pre><code class="prism language-shell"><span class="token shebang important">#!/bin/bash</span>
<span class="token function">read</span> -p <span class="token string">"请输入一个数: "</span> num

<span class="token keyword">let</span> <span class="token variable">$num</span>+1  <span class="token operator">&amp;</span><span class="token operator">&gt;</span> /dev/null
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$?</span> -eq 0 <span class="token punctuation">]</span>
<span class="token keyword">then</span>
	  <span class="token keyword">echo</span> 你输入的是整数！
	<span class="token keyword">if</span> <span class="token punctuation">[</span> $<span class="token punctuation">[</span> <span class="token variable">$num</span> % 2 <span class="token punctuation">]</span> -eq 0 <span class="token punctuation">]</span>
	<span class="token keyword">then</span>
	  <span class="token keyword">echo</span> 偶数
	<span class="token keyword">else</span>
	  <span class="token keyword">echo</span> 奇数
	<span class="token keyword">fi</span>
<span class="token keyword">else</span>
  <span class="token keyword">echo</span> 你输入的不是整数！
<span class="token keyword">fi</span>

</code></pre> 
<p><img src="https://images2.imgbox.com/d4/77/5wiaPziG_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="4if__64"></a>4.用if 语句判断主机是否存活</h2> 
<pre><code class="prism language-handlebars"><span class="token block keyword">#!/bin/bash</span>
<span class="token variable">if</span> <span class="token variable">ping</span> <span class="token variable">-c</span> <span class="token number">3</span> <span class="token variable">$</span><span class="token number">1</span> <span class="token punctuation">&amp;</span><span class="token punctuation">&gt;</span> <span class="token punctuation">/</span><span class="token variable">dev</span><span class="token punctuation">/</span><span class="token variable">null</span><span class="token punctuation">;</span> <span class="token variable">then</span> 
  <span class="token variable">echo</span> <span class="token variable">成功</span>
<span class="token variable">else</span>
  <span class="token variable">echo</span> <span class="token variable">失败</span>
<span class="token variable">fi</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/f8/e4/eA7rov1w_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="5caseetcinitdfirewalld_78"></a>5.用case语句在/etc/init.d/目录中写一个firewalld脚本，并加入到系统服务管理中</h2> 
<p>使能够使用 service firewalld start|stop|restart|status 来管理firewalld服务，<br> 要求如果命令选项不对，则提示 “用法: $0 {start|stop|status|restart}”。</p> 
<pre><code class="prism language-handlebars"><span class="token variable">read</span> <span class="token variable">-p</span> <span class="token string">"输入start|stop|status|restart:来管理防火墙： "</span> <span class="token variable">server</span>

<span class="token variable">case</span> <span class="token variable">$server</span> <span class="token variable">in</span>
<span class="token string">"start"</span><span class="token punctuation">)</span>
  <span class="token variable">systemctl</span> <span class="token variable">start</span> <span class="token variable">firewalld</span>
<span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token string">"stop"</span><span class="token punctuation">)</span>
  <span class="token variable">systemctl</span> <span class="token variable">stop</span> <span class="token variable">firewalld</span>
<span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token string">"status"</span><span class="token punctuation">)</span>
  <span class="token variable">systemctl</span> <span class="token variable">status</span> <span class="token variable">firewalld</span>
<span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token string">"reatart"</span><span class="token punctuation">)</span>
  <span class="token variable">systemctl</span> <span class="token variable">restart</span> <span class="token variable">firewalld</span>
<span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token punctuation">*</span><span class="token punctuation">)</span>
  <span class="token variable">echo</span><span class="token string">"用法$0{start|stop|status|restart}"</span>
<span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token variable">esac</span>

</code></pre> 
<p><img src="https://images2.imgbox.com/3d/45/vZ0nL1zD_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="6_while_105"></a>6. 使用while循环用“*”号画出两个正反等腰三角形</h2> 
<p>正三角形</p> 
<pre><code class="prism language-handlebars"><span class="token block keyword">#外围循环</span>
<span class="token variable">i</span><span class="token punctuation">=</span><span class="token number">10</span>
<span class="token variable">while</span>  <span class="token punctuation">[</span> <span class="token variable">$i</span> <span class="token variable">-gt</span> <span class="token number">0</span> <span class="token punctuation">]</span>
<span class="token variable">do</span>
   <span class="token variable">let</span> <span class="token variable">i--</span>
    
    <span class="token punctuation">#</span><span class="token variable">打印正三角形左边的空白区域</span>
    <span class="token variable">j</span><span class="token punctuation">=</span><span class="token number">0</span>
    <span class="token variable">while</span>  <span class="token brackets"><span class="token punctuation">[</span><span class="token variable"> $j -lt $i </span><span class="token punctuation">]</span></span>
    <span class="token variable">do</span>
         <span class="token variable">let</span> <span class="token variable">j</span><span class="token punctuation">+</span><span class="token punctuation">+</span>
         <span class="token variable">echo</span> <span class="token variable">-n</span> <span class="token string">" "</span>            
        
    <span class="token variable">done</span>

    <span class="token punctuation">#</span><span class="token variable">打印三角形的输出</span><span class="token punctuation">*</span><span class="token variable">号</span>
    <span class="token variable">k</span><span class="token punctuation">=</span><span class="token number">19</span>
    <span class="token variable">while</span>  <span class="token punctuation">[</span> <span class="token variable">$k</span> <span class="token variable">-gt</span> <span class="token variable">$</span><span class="token punctuation">[</span><span class="token variable">$i</span><span class="token punctuation">*</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token punctuation">]</span>
    <span class="token variable">do</span>
         <span class="token variable">let</span> <span class="token variable">k--</span>
         <span class="token variable">echo</span> <span class="token variable">-n</span> <span class="token string">"*"</span>
    <span class="token variable">done</span>


    <span class="token punctuation">#</span> <span class="token variable">外围循环的，用来输出换行的</span>
    <span class="token variable">echo</span> <span class="token string">""</span>
<span class="token variable">done</span>

</code></pre> 
<p><img src="https://images2.imgbox.com/26/ef/djBeMPhx_o.png" alt="在这里插入图片描述"></p> 
<p>倒等腰三角形</p> 
<pre><code class="prism language-shell"><span class="token comment">#外围循环</span>

i<span class="token operator">=</span>10
<span class="token keyword">while</span>  <span class="token punctuation">[</span> <span class="token variable">$i</span> -gt 0 <span class="token punctuation">]</span>
<span class="token keyword">do</span>
   <span class="token keyword">let</span> i--
    <span class="token comment">#打印三角形前面的输出空白区域</span>
    k<span class="token operator">=</span>10
    <span class="token keyword">while</span>  <span class="token punctuation">[</span> <span class="token variable">$k</span> -gt <span class="token variable">$i</span> <span class="token punctuation">]</span>
    <span class="token keyword">do</span>
         <span class="token keyword">let</span> k--
         <span class="token keyword">echo</span> -n <span class="token string">" "</span>
    <span class="token keyword">done</span>
    <span class="token comment">#打印正三角形左边的空白区域</span>
    j<span class="token operator">=</span>1
    <span class="token keyword">while</span>  <span class="token punctuation">[</span> <span class="token variable">$j</span> -lt $<span class="token punctuation">[</span><span class="token variable">$i*2</span><span class="token punctuation">]</span> <span class="token punctuation">]</span>
    <span class="token keyword">do</span>
         <span class="token keyword">let</span> j++
         <span class="token keyword">echo</span> -n <span class="token string">"*"</span>            
    <span class="token keyword">done</span>
    <span class="token comment"># 外围循环的，用来输出换行的</span>
    <span class="token keyword">echo</span> <span class="token string">""</span>
<span class="token keyword">done</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/8b/e6/A71ttYXm_o.png" alt="在这里插入图片描述"><br> 打印菱形</p> 
<pre><code class="prism language-shell"><span class="token comment">#外围循环</span>
i<span class="token operator">=</span>10
<span class="token keyword">while</span>  <span class="token punctuation">[</span> <span class="token variable">$i</span> -gt 0 <span class="token punctuation">]</span>
<span class="token keyword">do</span>
   <span class="token keyword">let</span> i--
    <span class="token comment">#打印正三角形左边的空白区域</span>
    j<span class="token operator">=</span>0
    <span class="token keyword">while</span>  <span class="token punctuation">[</span> <span class="token variable">$j</span> -lt <span class="token variable">$i</span> <span class="token punctuation">]</span>
    <span class="token keyword">do</span>
         <span class="token keyword">let</span> j++
         <span class="token keyword">echo</span> -n <span class="token string">" "</span>            
    <span class="token keyword">done</span>
    <span class="token comment">#打印三角形的输出*号</span>
    k<span class="token operator">=</span>19
    <span class="token keyword">while</span>  <span class="token punctuation">[</span> <span class="token variable">$k</span> -gt $<span class="token punctuation">[</span><span class="token variable">$i*2</span><span class="token punctuation">]</span> <span class="token punctuation">]</span>
    <span class="token keyword">do</span>
         <span class="token keyword">let</span> k--
         <span class="token keyword">echo</span> -n <span class="token string">"*"</span>
    <span class="token keyword">done</span>
    <span class="token comment"># 外围循环的，用来输出换行的</span>
    <span class="token keyword">echo</span> <span class="token string">""</span>
<span class="token keyword">done</span>
i<span class="token operator">=</span>10
<span class="token keyword">while</span>  <span class="token punctuation">[</span> <span class="token variable">$i</span> -gt 0 <span class="token punctuation">]</span>
<span class="token keyword">do</span>
   <span class="token keyword">let</span> i--
    <span class="token comment">#打印三角形前面的输出空白区域</span>
    k<span class="token operator">=</span>10
    <span class="token keyword">while</span>  <span class="token punctuation">[</span> <span class="token variable">$k</span> -gt <span class="token variable">$i</span> <span class="token punctuation">]</span>
    <span class="token keyword">do</span>
         <span class="token keyword">let</span> k--
         <span class="token keyword">echo</span> -n <span class="token string">" "</span>
    <span class="token keyword">done</span>
    <span class="token comment">#打印正三角形左边的空白区域</span>
    j<span class="token operator">=</span>1
    <span class="token keyword">while</span>  <span class="token punctuation">[</span> <span class="token variable">$j</span> -lt $<span class="token punctuation">[</span><span class="token variable">$i*2</span><span class="token punctuation">]</span> <span class="token punctuation">]</span>
    <span class="token keyword">do</span>
         <span class="token keyword">let</span> j++
         <span class="token keyword">echo</span> -n <span class="token string">"*"</span>            
    <span class="token keyword">done</span>
    <span class="token comment"># 外围循环的，用来输出换行的</span>
    <span class="token keyword">echo</span> <span class="token string">""</span>
<span class="token keyword">done</span>

</code></pre> 
<p><img src="https://images2.imgbox.com/52/c7/4C4ibmTL_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="7_RAMDON8_219"></a>7. 根据RAMDON生成8位随机密码，包括数字和字母</h2> 
<pre><code class="prism language-powershell"><span class="token comment"># 定义随机密码生成范围</span>
<span class="token function">rd</span>=<span class="token string">"qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLZXCVBNM0123456789"</span>
<span class="token keyword">for</span> i in $<span class="token punctuation">(</span>seq 1 8<span class="token punctuation">)</span> <span class="token comment"># 密码位数为8，所以需要循环8次</span>
<span class="token punctuation">{<!-- --></span>
    rd_num=$<span class="token punctuation">[</span><span class="token variable">$RANDOM</span><span class="token operator">%</span>$<span class="token punctuation">{<!-- --></span><span class="token comment">#rd}] # 随机数范围为1到字符串rd的长度</span>
    cipher<span class="token operator">+=</span>$<span class="token punctuation">{<!-- --></span><span class="token function">rd</span>:<span class="token variable">$rd_num</span>:1<span class="token punctuation">}</span> <span class="token comment"># 随机密码为每次循环出的字母追加</span>
<span class="token punctuation">}</span>
    <span class="token function">echo</span> <span class="token variable">$cipher</span> <span class="token comment"># 输出这个8位随机密码</span>
</code></pre> 
<p>测试结果：</p> 
<p><img src="https://images2.imgbox.com/d8/d6/Pm8A5Tk8_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="8__236"></a>8. 如何将数组的内容进行反转？</h2> 
<pre><code class="prism language-shell"><span class="token comment"># 定义数组随便，我这里按顺序方便对比</span>
array<span class="token operator">=</span><span class="token punctuation">(</span>a b c d e f g<span class="token punctuation">)</span>
<span class="token keyword">echo</span> <span class="token string">"反转之前的数组为： "</span> <span class="token variable">${array[*]}</span>

<span class="token comment"># 取出数组的长度</span>
lg<span class="token operator">=</span><span class="token variable">${#array[*]}</span>
<span class="token comment"># 使用循环，次数为长度的一般即可，因为反转是相互的</span>
<span class="token keyword">for</span> <span class="token variable"><span class="token punctuation">((</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>lg<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">))</span></span><span class="token punctuation">{<!-- --></span>
    <span class="token comment"># 每次反转的时候定义一个临时变量用来接受此次反转的第一个变量</span>
    temp<span class="token operator">=</span><span class="token variable">${array[$i]}</span>
    <span class="token comment"># 将此次反转操作时的最后一个变量赋予给此次反转的第一个</span>
    array<span class="token punctuation">[</span><span class="token variable">$i</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token variable">${array[$lg-$i-1]}</span>
    <span class="token comment"># 然后将临时变量接收的值赋予给此次反转的最后一个</span>
    array<span class="token punctuation">[</span><span class="token variable">$lg</span>-<span class="token variable">$i</span>-1<span class="token punctuation">]</span><span class="token operator">=</span><span class="token variable">$temp</span>
<span class="token punctuation">}</span>
<span class="token keyword">echo</span> <span class="token string">"反转之后的数组为： "</span> <span class="token variable">${array[*]}</span>

</code></pre> 
<p>测试结果：<br> <img src="https://images2.imgbox.com/7f/3f/riTxAh7T_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="9_pingip3msip_259"></a>9. 如果ping测试一系列ip是否正常并记录延时超过3ms的ip？</h2> 
<pre><code class="prism language-shell"><span class="token comment">#serverip内的主机ip如下：</span>
<span class="token punctuation">[</span>root@cheng0307 exercises<span class="token punctuation">]</span><span class="token comment"># cat serverip.txt </span>
192.168.80.80
192.168.80.1
192.168.80.77
192.168.80.78
baidu.com
</code></pre> 
<pre><code class="prism language-shell"><span class="token comment">#测试脚本如下：</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token variable"><span class="token variable">`</span><span class="token function">cat</span> /exercises/serverip.txt<span class="token variable">`</span></span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token function">ping</span> -c 1 -w 1 <span class="token variable">$i</span> <span class="token operator">&gt;</span> /dev/null
    <span class="token keyword">then</span>
        j<span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">ping</span> -c 1 -w 1 $i <span class="token operator">|</span> <span class="token function">sed</span> -n -r <span class="token string">'/time=/p'</span> <span class="token operator">|</span> <span class="token function">cut</span> -d <span class="token string">"="</span> -f 4 <span class="token operator">|</span> <span class="token function">cut</span> -d <span class="token string">"."</span> -f 1<span class="token variable">`</span></span>
            <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$j</span> -gt 1  <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>
                <span class="token keyword">echo</span> <span class="token string">"<span class="token variable">$i</span>的延迟超过1ms"</span>
            <span class="token keyword">else</span>
                <span class="token keyword">echo</span> <span class="token string">"<span class="token variable">$i</span>的网络正常"</span>
            <span class="token keyword">fi</span>
        <span class="token keyword">else</span>
            <span class="token keyword">echo</span> <span class="token string">"<span class="token variable">$i</span>不通"</span>       
    <span class="token keyword">fi</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>结果：<br> <img src="https://images2.imgbox.com/af/45/dHYZrYVU_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="10_last_292"></a>10. 如何将last的结果中，独立出账号，并且显示曾经登录过的账号？</h2> 
<pre><code class="prism language-powershell">last <span class="token punctuation">|</span> cut <span class="token operator">-</span>d <span class="token string">" "</span> <span class="token operator">-</span>f1 <span class="token punctuation">|</span> <span class="token function">sort</span> <span class="token punctuation">|</span> uniq					<span class="token comment">#方式一</span>
last <span class="token punctuation">|</span> awk <span class="token operator">-</span>F <span class="token string">" "</span> <span class="token string">'{print $1}'</span> <span class="token punctuation">|</span> <span class="token function">sort</span> <span class="token punctuation">|</span> uniq		<span class="token comment">#方式二	</span>
</code></pre> 
<p>结果：<br> <img src="https://images2.imgbox.com/e7/94/nh1eFHtQ_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="11_bin_a_300"></a>11. 如何显示/bin 下面任何以a为文件名开头的文件的详细数据？</h2> 
<pre><code class="prism language-powershell"> find <span class="token punctuation">.</span><span class="token operator">/</span> <span class="token operator">-</span><span class="token function">type</span> f <span class="token operator">-</span>name <span class="token string">"a*"</span> <span class="token operator">-</span>exec <span class="token function">ls</span> <span class="token operator">-</span>l <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span> \<span class="token punctuation">;</span>			<span class="token comment">#方法一</span>
 <span class="token function">ls</span> <span class="token operator">-</span>l <span class="token operator">/</span>bin<span class="token operator">/</span>a<span class="token operator">*</span> 											<span class="token comment">#方法二</span>
</code></pre> 
<p>结果：<br> <img src="https://images2.imgbox.com/05/ba/8oR42PDj_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/44/f7/sCDx7lC5_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="12_bin__309"></a>12. 如何显示/bin 下面，文件名为四个字符的文件？</h2> 
<pre><code class="prism language-powershell"><span class="token function">ls</span> <span class="token punctuation">|</span> grep <span class="token string">"^....$"</span>				<span class="token comment">#方法一</span>
<span class="token function">ls</span> <span class="token operator">/</span>bin<span class="token operator">/</span>????					<span class="token comment">#方法二</span>
</code></pre> 
<p>结果：<br> <img src="https://images2.imgbox.com/2e/e3/4kRa0Dmn_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/87/36/QoJrhtkq_o.png" alt="在这里插入图片描述"><br> 为了方便，统计一下查询结果的数量：<br> <img src="https://images2.imgbox.com/fc/09/EHckYAzk_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="13_shell_323"></a>13. 编写shell脚本实现十进制转二进制</h2> 
<pre><code class="prism language-shell"><span class="token comment"># 定义空字符，用于接受二进制数</span>
arr<span class="token operator">=</span><span class="token string">""</span>
<span class="token function">read</span> -p <span class="token string">"请输入一个数： "</span> n
<span class="token comment"># 使用不定循环while，当输入的数为0时结束循环</span>
<span class="token keyword">while</span> <span class="token punctuation">[</span> <span class="token variable">$n</span> -ne 0 <span class="token punctuation">]</span>
<span class="token keyword">do</span>
    y<span class="token operator">=</span>$<span class="token punctuation">[</span><span class="token variable">$n</span> % 2<span class="token punctuation">]</span>		<span class="token comment"># 变量y为每次余2的余数</span>
    n<span class="token operator">=</span>$<span class="token punctuation">[</span><span class="token variable">$n</span> / 2<span class="token punctuation">]</span>		<span class="token comment"># n每次除后重新赋予给自己</span>
    arr+<span class="token operator">=</span><span class="token variable">$y</span>			<span class="token comment"># 将每次得到的余数追加到字符串中</span>

<span class="token keyword">done</span>
    <span class="token keyword">echo</span>  -n <span class="token string">"二进制数为："</span>
    <span class="token keyword">echo</span> <span class="token variable">$arr</span> <span class="token operator">|</span> <span class="token function">rev</span>			<span class="token comment"># 将得到的字符串进行反转输出即可</span>

</code></pre> 
<p>结果：<br> <img src="https://images2.imgbox.com/e5/2f/sUdHTGr5_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="14_bin__ad_345"></a>14. 如何显示/bin 目录下 不是a-d开头的文件</h2> 
<pre><code class="prism language-handlebars"><span class="token variable">ls</span> <span class="token punctuation">/</span><span class="token variable">bin</span><span class="token punctuation">/</span> <span class="token punctuation">|</span> <span class="token variable">grep</span> <span class="token string">"^[^a-d]"</span>			<span class="token block keyword">#方法一</span>
<span class="token variable">ll</span> <span class="token punctuation">/</span><span class="token variable">bin</span><span class="token punctuation">/</span><span class="token brackets"><span class="token punctuation">[</span><span class="token variable">^a-d</span><span class="token punctuation">]</span></span><span class="token punctuation">*</span> 					<span class="token punctuation">#</span><span class="token variable">方法二</span>
</code></pre> 
<p>结果：<br> <img src="https://images2.imgbox.com/0d/f1/pnMU56qN_o.png" alt="在这里插入图片描述"><br> 统计一下数量，是一致的<br> <img src="https://images2.imgbox.com/b0/24/kb5U7JYm_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="15__356"></a>15. 如果想让用户登录后，显示欢迎信息，该怎么操作？</h2> 
<h2><a id="16__361"></a>16. 编写脚本：获取输入的字符串中数字、空格和特殊符号的数量</h2> 
<pre><code class="prism language-shell"><span class="token shebang important">#!/bin/bash</span>
<span class="token comment"># 测试字符串查找</span>
<span class="token comment"># anthor:cheng</span>
<span class="token comment"># 2021年 05月 24日 星期一 21:40:21 CST</span>

<span class="token function">read</span> -p <span class="token string">"输入字符串: "</span> i
cd<span class="token operator">=</span><span class="token variable">${#i}</span>		<span class="token comment"># 获取字符串的长度</span>
c<span class="token operator">=</span>0				<span class="token comment"># 数字的数量</span>
d<span class="token operator">=</span>0				<span class="token comment"># 字母的数量</span>
e<span class="token operator">=</span>0				<span class="token comment"># 特殊符号的数量</span>
<span class="token keyword">for</span><span class="token variable"><span class="token punctuation">((</span>a<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>a<span class="token operator">&lt;=</span>$cd<span class="token punctuation">;</span>a<span class="token operator">++</span><span class="token punctuation">))</span></span><span class="token punctuation">{<!-- --></span>			<span class="token comment"># 循环次数为输入字符串的长度</span>
    <span class="token keyword">echo</span> <span class="token variable">${i:$a:1}</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">"[0-9]"</span> <span class="token operator">&gt;&gt;</span> /dev/null		<span class="token comment"># 使用grep判断是否能匹配数字</span>
    <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$?</span> -eq 0 <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>
        <span class="token keyword">let</span> c++										<span class="token comment"># 可以匹配数字 c+1</span>
    <span class="token keyword">fi</span>
    <span class="token keyword">echo</span> <span class="token variable">${i:$a:1}</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">"[a-Z]"</span> <span class="token operator">&gt;&gt;</span> /dev/null		<span class="token comment"># 使用grep判断是否能匹配字母</span>
    <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$?</span> -eq 0 <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>
        <span class="token keyword">let</span> d++										<span class="token comment"># 可以匹配数字 d+1</span>
    <span class="token keyword">fi</span>
    <span class="token keyword">echo</span> <span class="token variable">${i:$a:1}</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">"[[:punct:]]"</span> <span class="token operator">&gt;&gt;</span> /dev/null	<span class="token comment"># 使用grep判断是否能匹配特殊符号</span>
    <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$?</span> -eq 0 <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>
        <span class="token keyword">let</span> e++										<span class="token comment"># 可以匹配数字 e+1</span>
    <span class="token keyword">fi</span>
<span class="token punctuation">}</span>
<span class="token keyword">echo</span> 数字个数为：<span class="token variable">$c</span>
<span class="token keyword">echo</span> 字母个数为：<span class="token variable">$d</span>
<span class="token keyword">echo</span> 符号个数为：<span class="token variable">$e</span>
<span class="token keyword">echo</span> 空格个数为：$<span class="token punctuation">[</span><span class="token variable">$cd</span>-<span class="token variable">$c</span>-<span class="token variable">$d</span>-<span class="token variable">$e</span><span class="token punctuation">]</span>			<span class="token comment"># 空格为总数量减其他三种</span>

</code></pre> 
<p>结果：<br> <img src="https://images2.imgbox.com/93/9a/WIN3C0WJ_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="17__396"></a>17. 对输入的用户名进行判断是否存在</h2> 
<p>方法一：</p> 
<pre><code class="prism language-handlebars"><span class="token variable">read</span> <span class="token variable">-p</span> <span class="token string">"请输入用户名： "</span> <span class="token variable">user</span>

<span class="token variable">if</span> <span class="token variable">id</span> <span class="token variable">$user</span> <span class="token punctuation">&amp;</span><span class="token punctuation">&gt;</span> <span class="token punctuation">/</span><span class="token variable">dev</span><span class="token punctuation">/</span><span class="token variable">null</span> <span class="token punctuation">;</span><span class="token variable">then</span>		<span class="token punctuation">#</span><span class="token variable">使用id进行判断，如何获取返回值$?</span>
    <span class="token variable">echo</span> <span class="token string">"用户存在！"</span>
<span class="token variable">else</span>
    <span class="token variable">echo</span> <span class="token string">"用户不存在"</span>
<span class="token variable">fi</span>

</code></pre> 
<p>结果：<br> <img src="https://images2.imgbox.com/fa/1d/J0Ey1vJ8_o.png" alt="在这里插入图片描述"><br> 方法二：</p> 
<pre><code class="prism language-shell"><span class="token function">read</span> -p <span class="token string">"输入用户名："</span> user

i<span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">cat</span> /etc/passwd <span class="token operator">|</span> <span class="token function">awk</span> -F <span class="token string">":"</span> <span class="token string">'{print <span class="token variable">$1</span>}'</span><span class="token variable">`</span></span>	<span class="token comment">#获取passwd所有行的第一个字段（用户名）</span>
<span class="token keyword">for</span> a <span class="token keyword">in</span> <span class="token variable">$i</span>		<span class="token comment">#将用户名进行循环遍历</span>
<span class="token keyword">do</span>
    <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$user</span> <span class="token operator">==</span> <span class="token variable">$a</span> <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>		<span class="token comment">#如何每一个进行对比</span>
        <span class="token keyword">echo</span> 存在
        <span class="token keyword">exit</span>		<span class="token comment"># 存在的话直接退出</span>
    <span class="token keyword">else</span>
        <span class="token keyword">continue</span>	<span class="token comment">#没有匹配到直接跳过</span>
    <span class="token keyword">fi</span>
<span class="token keyword">done</span>
    <span class="token keyword">echo</span> 不存在		<span class="token comment">#都没匹配到的话就会输出这一行</span>

</code></pre> 
<p>结果：<br> <img src="https://images2.imgbox.com/3d/4e/lscefUIj_o.png" alt="在这里插入图片描述"></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/b5f425638c268217617cea9114a1d5a4/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Node.js的EventEmitter</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/26a3f6e404c309d25fdc7760c28bdacc/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Linux开发板usb读卡器,【小技巧】用SD卡传文件到开发板就是这么简单！</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>