<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>/opt/MegaRAID/MegaCli/MegaCli64 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="/opt/MegaRAID/MegaCli/MegaCli64" />
<meta property="og:description" content="https://cheatography.com/richardjh/cheat-sheets/lsi-logic-megaraid/
要求和一般信息 DELL的PowerEdge RAID控制器（PERC）是一种特殊的LSI Logic SAS / SATA RAID控制器，因此名为MegaCli的LSI管理实用程序也适用于该控制器。对于PERC4和PERC3等较旧的控制器，请参考 http://linux.dell.com/storage.shtml（关键字DellMgr）。 MegaCli可用于Linux，DOS，Windows，Netware和Solaris。 您可以从LSI网站（搜索MegaRAID SAS）获得它，或在以下位置下载它： http : //www.lsi.com/support/downloads/megaraid/miscellaneous/linux/1.01.40_Linux_Cli.zip。 在ZIP文件中，您将找到一个包含MegaCli和MegaCli64二进制文件的RPM存档（将安装到/ opt / MegaRAID / MegaCli）。 MegaCli约定 适配器参数-aN 参数-aN（其中N是从零开始的数字或字符串ALL）指定PERC5 / i适配器ID。如果只有一个控制器，可以安全地使用ALL而不是特定的ID，但是建议您将ID用于所有更改RAID配置的操作。 物理驱动器参数-PhysDrv [E：S] 对于在一个或多个虚拟驱动器上运行的命令，将使用-PhysDrv [E：S]参数，其中E是驱动器所在的机柜设备ID，S是插槽号（从零开始）。您可以使用“ MegaCli -EncInfo -aALL”获取机柜设备ID。E：S语法还用于在创建新的RAID虚拟驱动器时指定物理驱动器（请参阅5）。 虚拟驱动器参数-Lx 参数-Lx用于指定虚拟驱动器（其中x是从零开始的数字或字符串all）。 收集信息 适配器信息 MegaCli -AdpAllInfo -aALL 配置信息 MegaCli -CfgDsply -aALL 活动信息 MegaCli -AdpEventLog -GetEvents -f events.log -aALL &amp;&amp; cat events.log 机箱信息 MegaCli -EncInfo -aALL 虚拟驱动器信息 MegaCli -LDInfo -Lall -aALL 物理驱动器列表 MegaCli -PDList -aALL 物理驱动器列表 MegaCli -PDInfo -PhysDrv [E：S] -aALL 备用电池信息 MegaCli -AdpBbuCmd -aALL 控制器管理 静音警报 MegaCli -AdpSetProp AlarmSilence -aALL 禁用闹钟 MegaCli -AdpSetProp AlarmDsbl -aALL 启用警报 MegaCli -AdpSetProp AlarmEnbl -aALL 虚拟驱动器管理 创建RAID 0、1、5驱动器 MegaCli -CfgLdAdd -r（0 | 1 | 5）[E：S，E：S，." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/8f7913fd2a38942980111b22742b81f0/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-05-08T12:01:05+08:00" />
<meta property="article:modified_time" content="2021-05-08T12:01:05+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">/opt/MegaRAID/MegaCli/MegaCli64</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><a href="https://cheatography.com/richardjh/cheat-sheets/lsi-logic-megaraid/" rel="nofollow">https://cheatography.com/richardjh/cheat-sheets/lsi-logic-megaraid/</a></p> 
<p> </p> 
<table><tbody><tr><td style="text-align:left;vertical-align:top;"> <h4 id="title_325_1276" style="margin-left:0px;"><span style="color:#f33b45;">要求和一般信息</span></h4> 
    <div id="block_325_1276"> 
     <table cellspacing="0" id="cheat_sheet_output_table" style="width:588px;"><tbody><tr><td style="text-align:left;"> 
         <div>
           DELL的PowerEdge RAID控制器（PERC）是一种特殊的LSI Logic SAS / SATA RAID控制器，因此名为MegaCli的LSI管理实用程序也适用于该控制器。对于PERC4和PERC3等较旧的控制器，请参考 
          <a href="http://linux.dell.com/storage.shtml" rel="nofollow">http://linux.dell.com/storage.shtml（</a>关键字DellMgr）。 
          <br> 
          <br> MegaCli可用于Linux，DOS，Windows，Netware和Solaris。 
          <br> 您可以从LSI网站（搜索MegaRAID SAS）获得它，或在以下位置下载它： 
          <a href="http://www.lsi.com/support/downloads/megaraid/miscellaneous/linux/1.01.40_Linux_Cli.zip." rel="nofollow">http</a> :  
          <a href="http://www.lsi.com/support/downloads/megaraid/miscellaneous/linux/1.01.40_Linux_Cli.zip." rel="nofollow">//www.lsi.com/support/downloads/megaraid/miscellaneous/linux/1.01.40_Linux_Cli.zip。</a> 
          <br> 
          <br> 在ZIP文件中，您将找到一个包含MegaCli和MegaCli64二进制文件的RPM存档（将安装到/ opt / MegaRAID / MegaCli）。 
         </div> </td></tr></tbody></table> 
    </div> <h4 id="title_325_1269" style="margin-left:0px;"><span style="color:#f33b45;">MegaCli约定</span></h4> 
    <div id="block_325_1269"> 
     <table cellspacing="0" style="width:372px;"><tbody><tr><td colspan="1" style="text-align:left;"> 
         <div>
           适配器参数-aN 
         </div> </td></tr><tr><td colspan="1" style="text-align:left;vertical-align:top;"> 
         <div>
           参数-aN（其中N是从零开始的数字或字符串ALL）指定PERC5 / i适配器ID。如果只有一个控制器，可以安全地使用ALL而不是特定的ID，但是建议您将ID用于所有更改RAID配置的操作。 
         </div> </td></tr><tr><td colspan="1" style="text-align:left;"> 
         <div>
           物理驱动器参数-PhysDrv [E：S] 
         </div> </td></tr><tr><td colspan="1" style="text-align:left;vertical-align:top;"> 
         <div>
           对于在一个或多个虚拟驱动器上运行的命令，将使用-PhysDrv [E：S]参数，其中E是驱动器所在的机柜设备ID，S是插槽号（从零开始）。您可以使用“ MegaCli -EncInfo -aALL”获取机柜设备ID。E：S语法还用于在创建新的RAID虚拟驱动器时指定物理驱动器（请参阅5）。 
         </div> </td></tr><tr><td colspan="1" style="text-align:left;"> 
         <div>
           虚拟驱动器参数-Lx 
         </div> </td></tr><tr><td colspan="1" style="text-align:left;vertical-align:top;"> 
         <div>
           参数-Lx用于指定虚拟驱动器（其中x是从零开始的数字或字符串all）。 
         </div> </td></tr></tbody></table> 
    </div> <h4 id="title_325_1270" style="margin-left:0px;"><span style="color:#f33b45;">收集信息</span></h4> 
    <div id="block_325_1270"> 
     <table cellspacing="0" style="width:372px;"><tbody><tr><td colspan="1" style="text-align:left;"> 
         <div>
           适配器信息 
         </div> </td></tr><tr><td colspan="1" style="text-align:left;vertical-align:top;"> 
         <div>
           MegaCli -AdpAllInfo -aALL 
         </div> </td></tr><tr><td colspan="1" style="text-align:left;"> 
         <div>
           配置信息 
         </div> </td></tr><tr><td colspan="1" style="text-align:left;vertical-align:top;"> 
         <div>
           MegaCli -CfgDsply -aALL 
         </div> </td></tr><tr><td colspan="1" style="text-align:left;"> 
         <div>
           活动信息 
         </div> </td></tr><tr><td colspan="1" style="text-align:left;vertical-align:top;"> 
         <div>
           MegaCli -AdpEventLog -GetEvents -f events.log -aALL &amp;&amp; cat events.log 
         </div> </td></tr><tr><td colspan="1" style="text-align:left;"> 
         <div>
           机箱信息 
         </div> </td></tr><tr><td colspan="1" style="text-align:left;vertical-align:top;"> 
         <div>
           MegaCli -EncInfo -aALL 
         </div> </td></tr><tr><td colspan="1" style="text-align:left;"> 
         <div>
           虚拟驱动器信息 
         </div> </td></tr><tr><td colspan="1" style="text-align:left;vertical-align:top;"> 
         <div>
           MegaCli -LDInfo -Lall -aALL 
         </div> </td></tr><tr><td colspan="1" style="text-align:left;"> 
         <div>
           物理驱动器列表 
         </div> </td></tr><tr><td colspan="1" style="text-align:left;vertical-align:top;"> 
         <div>
           MegaCli -PDList -aALL 
         </div> </td></tr><tr><td colspan="1" style="text-align:left;"> 
         <div>
           物理驱动器列表 
         </div> </td></tr><tr><td colspan="1" style="text-align:left;vertical-align:top;"> 
         <div>
           MegaCli -PDInfo -PhysDrv [E：S] -aALL 
         </div> </td></tr><tr><td colspan="1" style="text-align:left;"> 
         <div>
           备用电池信息 
         </div> </td></tr><tr><td colspan="1" style="text-align:left;vertical-align:top;"> 
         <div>
           MegaCli -AdpBbuCmd -aALL 
         </div> </td></tr></tbody></table> 
    </div> </td><td style="text-align:left;"> </td><td style="text-align:left;vertical-align:top;"> <h4 id="title_325_1271" style="margin-left:0px;"><span style="color:#f33b45;">控制器管理</span></h4> 
    <div id="block_325_1271"> 
     <table cellspacing="0" style="width:371px;"><tbody><tr><td colspan="1" style="text-align:left;"> 
         <div>
           静音警报 
         </div> </td></tr><tr><td colspan="1" style="text-align:left;vertical-align:top;"> 
         <div>
           MegaCli -AdpSetProp AlarmSilence -aALL 
         </div> </td></tr><tr><td colspan="1" style="text-align:left;"> 
         <div>
           禁用闹钟 
         </div> </td></tr><tr><td colspan="1" style="text-align:left;vertical-align:top;"> 
         <div>
           MegaCli -AdpSetProp AlarmDsbl -aALL 
         </div> </td></tr><tr><td colspan="1" style="text-align:left;"> 
         <div>
           启用警报 
         </div> </td></tr><tr><td colspan="1" style="text-align:left;vertical-align:top;"> 
         <div>
           MegaCli -AdpSetProp AlarmEnbl -aALL 
         </div> </td></tr></tbody></table> 
    </div> <h4 id="title_325_1272" style="margin-left:0px;"><span style="color:#f33b45;">虚拟驱动器管理</span></h4> 
    <div id="block_325_1272"> 
     <table cellspacing="0" style="width:371px;"><tbody><tr><td colspan="1" style="text-align:left;"> 
         <div>
           创建RAID 0、1、5驱动器 
         </div> </td></tr><tr><td colspan="1" style="text-align:left;vertical-align:top;"> 
         <div>
           MegaCli -CfgLdAdd -r（0 | 1 | 5）[E：S，E：S，...] -aN 
         </div> </td></tr><tr><td colspan="1" style="text-align:left;"> 
         <div>
           创建RAID 10驱动器 
         </div> </td></tr><tr><td colspan="1" style="text-align:left;vertical-align:top;"> 
         <div>
           MegaCli -CfgSpanAdd -r10 -Array0 [E：S，E：S] -Array1 [E：S，E：S] -aN 
         </div> </td></tr><tr><td colspan="1" style="text-align:left;"> 
         <div>
           卸下驱动器 
         </div> </td></tr><tr><td colspan="1" style="text-align:left;vertical-align:top;"> 
         <div>
           MegaCli -CfgLdDel -Lx -aN 
         </div> </td></tr></tbody></table> 
    </div> <h4 id="title_325_1273" style="margin-left:0px;"><span style="color:#f33b45;">物理驱动器管理</span></h4> 
    <div id="block_325_1273"> 
     <table cellspacing="0" style="width:371px;"><tbody><tr><td colspan="1" style="text-align:left;"> 
         <div>
           将状态设为离线 
         </div> </td></tr><tr><td colspan="1" style="text-align:left;vertical-align:top;"> 
         <div>
           MegaCli -PDOffline -PhysDrv [E：S] -aN 
         </div> </td></tr><tr><td colspan="1" style="text-align:left;"> 
         <div>
           将状态设置为在线 
         </div> </td></tr><tr><td colspan="1" style="text-align:left;vertical-align:top;"> 
         <div>
           MegaCli -PDOnline -PhysDrv [E：S] -aN 
         </div> </td></tr><tr><td colspan="1" style="text-align:left;"> 
         <div>
           标记为缺失 
         </div> </td></tr><tr><td colspan="1" style="text-align:left;vertical-align:top;"> 
         <div>
           MegaCli -PDMarkMissing -PhysDrv [E：S] -aN 
         </div> </td></tr><tr><td colspan="1" style="text-align:left;"> 
         <div>
           准备移除 
         </div> </td></tr><tr><td colspan="1" style="text-align:left;vertical-align:top;"> 
         <div>
           MegaCli -PdPrpRmv -PhysDrv [E：S] -aN 
         </div> </td></tr><tr><td colspan="1" style="text-align:left;"> 
         <div>
           更换丢失的驱动器 
         </div> </td></tr><tr><td colspan="1" style="text-align:left;vertical-align:top;"> 
         <div>
           MegaCli -PdReplaceMissing -PhysDrv [E：S] -ArrayN -rowN -aN 
         </div> </td></tr><tr><td colspan="1" style="text-align:left;"> 
         <div>
           重建驱动器启动 
         </div> </td></tr><tr><td colspan="1" style="text-align:left;vertical-align:top;"> 
         <div>
           MegaCli -PDRbld-开始-PhysDrv [E：S] -aN 
         </div> </td></tr><tr><td colspan="1" style="text-align:left;"> 
         <div>
           重建驱动器停止 
         </div> </td></tr><tr><td colspan="1" style="text-align:left;vertical-align:top;"> 
         <div>
           MegaCli -PDRbld-停止-PhysDrv [E：S] -aN 
         </div> </td></tr><tr><td colspan="1" style="text-align:left;"> 
         <div>
           重建驱动器进度 
         </div> </td></tr><tr><td colspan="1" style="text-align:left;vertical-align:top;"> 
         <div>
           MegaCli -PDRbld -ShowProg -PhysDrv [E：S] -aN 
         </div> </td></tr><tr><td colspan="1" style="text-align:left;"> 
         <div>
           清除驱动器启动 
         </div> </td></tr><tr><td colspan="1" style="text-align:left;vertical-align:top;"> 
         <div>
           MegaCli -PDClear-开始-PhysDrv [E：S] -aN 
         </div> </td></tr><tr><td colspan="1" style="text-align:left;"> 
         <div>
           清除驱动器停止 
         </div> </td></tr><tr><td colspan="1" style="text-align:left;vertical-align:top;"> 
         <div>
           MegaCli -PDClear-停止-PhysDrv [E：S] -aN 
         </div> </td></tr><tr><td colspan="1" style="text-align:left;"> 
         <div>
           清除驱动器进度 
         </div> </td></tr><tr><td colspan="1" style="text-align:left;vertical-align:top;"> 
         <div>
           MegaCli -PDClear -ShowProg -PhysDrv [E：S] -aN 
         </div> </td></tr><tr><td colspan="1" style="text-align:left;"> 
         <div>
           坏到好 
         </div> </td></tr><tr><td colspan="1" style="text-align:left;vertical-align:top;"> 
         <div>
           MegaCli -PDMakeGood -PhysDrv [E：S] -aN 
         </div> </td></tr></tbody></table> 
    </div> </td><td style="text-align:left;"> </td><td style="text-align:left;vertical-align:top;"> <h4 id="title_325_1274" style="margin-left:0px;"><span style="color:#f33b45;">热备件管理</span></h4> 
    <div id="block_325_1274"> 
     <table cellspacing="0" style="width:371px;"><tbody><tr><td colspan="1" style="text-align:left;"> 
         <div>
           设置全局热备用 
         </div> </td></tr><tr><td colspan="1" style="text-align:left;vertical-align:top;"> 
         <div>
           MegaCli -PDHSP -Set -PhysDrv [E：S] -aN 
         </div> </td></tr><tr><td colspan="1" style="text-align:left;"> 
         <div>
           删除热备用 
         </div> </td></tr><tr><td colspan="1" style="text-align:left;vertical-align:top;"> 
         <div>
           MegaCli -PDHSP -Rmv -PhysDrv [E：S] -aN 
         </div> </td></tr><tr><td colspan="1" style="text-align:left;"> 
         <div>
           设置专用热备用 
         </div> </td></tr><tr><td colspan="1" style="text-align:left;vertical-align:top;"> 
         <div>
           MegaCli -PDHSP-设置-专用-ArrayN，M，... -PhysDrv [E：S] -aN 
         </div> </td></tr></tbody></table> 
    </div> <h4 id="title_325_1275" style="margin-left:0px;"><span style="color:#f33b45;">演练：更改/更换驱动器</span></h4> 
    <div id="block_325_1275"> 
     <table cellspacing="0" style="width:371px;"><tbody><tr><td style="text-align:left;"> 
         <div>
           1.如果驱动器由于错误 
          <br> 
          <br> MegaCli -PDOffline -PhysDrv [E：S] -aN而尚未脱机，则将其设置为脱机 
          <br> 
          <br> 2.将驱动器标记为缺少 
          <br> 
          <br> MegaCli -PDMarkMissing -PhysDrv [E：S] -aN 
          <br> 
          <br> 3。准备卸下驱动器 
          <br> 
          <br> MegaCli -PDPrpRmv -PhysDrv [E：S] -aN 
          <br> 
          <br> 4.更换/更换驱动器 
          <br> 
          <br> 5.如果使用热备用驱动器，则替换后的驱动器应成为新的热备用驱动器 
          <br> 
          <br> MegaCli -PDHSP -Set -PhysDrv [E：S] -aN 
          <br> 
          <br> 6.如果您不使用热备用，则必须将新驱动器重新添加到RAID虚拟驱动器，然后开始重建 
          <br> 
          <br> MegaCli -PdReplaceMissing -PhysDrv [E：S] -ArrayN- rowN -aN 
          <br> MegaCli -PDRbld-开始-PhysDrv [E：S] -aN 
         </div> </td></tr></tbody></table> 
    </div> <h4 id="title_325_1277" style="margin-left:0px;"><span style="color:#f33b45;">请注意</span></h4> 
    <div id="block_325_1277"> 
     <table cellspacing="0" style="width:515px;"><tbody><tr><td style="text-align:left;"> 
         <div>
           该紧急备忘单并不详尽，但在大多数情况下应该足够了。 
          <br> 
          <br> 有关完整的参考，请致电 
          <br> 
          <br> MegaCli -h 
         </div> </td></tr></tbody></table> 
    </div> </td></tr></tbody></table>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/36898c366eacefc84e958be9dbf4eb96/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">实验--异常处理</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/54bf770c590b392b0914aefc259d8319/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">2021-05-08</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>