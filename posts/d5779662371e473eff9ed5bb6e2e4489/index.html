<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>设置mysql远程连接权限_mysql远程连接权限设置 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="设置mysql远程连接权限_mysql远程连接权限设置" />
<meta property="og:description" content="今儿有位同事提出，一套MySQL 5.6的环境，从数据库服务器本地登录，一切正常，可是若从远程服务器访问，就会报错，
ERROR 1045 (28000): Access denied for user &#39;bisal&#39;@&#39;x.x.x.x&#39; (using password: YES)
我才开始接触MySQL，因此每一个错误场景，都是增长经验的机会，这种错误要么是密码错误，要么是未设置远程IP访问权限。
我们模拟下这个过程，首先，创建用户bisal，如果密码不加引号会报错，
mysql&gt; create user bisal identified by bisal;
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;bisal&#39; at line 1
创建完成，可以看出，用户bisal的host是%，不是具体某个IP，
mysql&gt; create user bisal identified by &#39;bisal&#39;;
Query OK, 0 rows affected (0.00 sec)" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/d5779662371e473eff9ed5bb6e2e4489/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-01-19T02:41:08+08:00" />
<meta property="article:modified_time" content="2021-01-19T02:41:08+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">设置mysql远程连接权限_mysql远程连接权限设置</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div style="font-size:16px;"> 
 <p>今儿有位同事提出，一套MySQL 5.6的环境，从数据库服务器本地登录，一切正常，可是若从远程服务器访问，就会报错，</p> 
 <p>ERROR 1045 (28000): Access denied for user 'bisal'@'x.x.x.x' (using password: YES)</p> 
 <p>我才开始接触MySQL，因此每一个错误场景，都是增长经验的机会，这种错误要么是密码错误，要么是未设置远程IP访问权限。</p> 
 <p>我们模拟下这个过程，首先，创建用户bisal，如果密码不加引号会报错，</p> 
 <p>mysql&gt; create user bisal identified by bisal;</p> 
 <p>ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'bisal' at line 1</p> 
 <p>创建完成，可以看出，用户bisal的host是%，不是具体某个IP，</p> 
 <p>mysql&gt;  create user bisal identified by 'bisal';</p> 
 <p>Query OK, 0 rows affected (0.00 sec)</p> 
 <p>mysql&gt; select user, password, host from user;</p> 
 <p>+-------+-------------------------------------------+-----------------+</p> 
 <p>| user  | password                                  | host            |</p> 
 <p>+-------+-------------------------------------------+-----------------+</p> 
 <p>...</p> 
 <p>| bisal | *9AA096167EB7110830776F0438CEADA9A7987E31 | %               |</p> 
 <p>+-------+-------------------------------------------+-----------------+</p> 
 <p>实验一：让指定IP访问数据库</p> 
 <p>假设数据库服务器IP是x.x.x.1，授权让x.x.x.3用户可以访问，</p> 
 <p>mysql&gt; grant all privileges on *.* to 'bisal'@'x.x.x.3';</p> 
 <p>Query OK, 0 rows affected (0.00 sec)</p> 
 <p>此时从x.x.x.2上访问数据库，就会提示错误，因为仅允许x.x.x.3服务器，可以访问数据库，</p> 
 <p>mysql -h x.x.x.1 -ubisal</p> 
 <p>ERROR 1045 (28000): Access denied for user 'bisal'@'app' (using password: YES)</p> 
 <p>授权让x.x.x.2用户可以访问，</p> 
 <p>mysql&gt; grant all privileges on *.* to 'bisal'@'x.x.x.2' identified by 'bisal';</p> 
 <p>Query OK, 0 rows affected (0.00 sec)</p> 
 <p>此时从x.x.x.2上，就可以访问数据库了，</p> 
 <p>mysql -h x.x.x.1 -ubisal -pbisal</p> 
 <p>Warning: Using a password on the command line interface can be insecure.</p> 
 <p>Welcome to the MySQL monitor.  Commands end with ; or g.</p> 
 <p>Your MySQL connection id is 1008</p> 
 <p>Server version: 5.6.31-log MySQL Community Server (GPL)</p> 
 <p>Copyright (c) 2000, 2016, Oracle and/or its affiliates. All rights reserved.</p> 
 <p>Oracle is a registered trademark of Oracle Corporation and/or its</p> 
 <p>affiliates. Other names may be trademarks of their respective</p> 
 <p>owners.</p> 
 <p>Type 'help;' or 'h' for help. Type 'c' to clear the current input statement.</p> 
 <p>mysql&gt; use mysql</p> 
 <p>Reading table information for completion of table and column names</p> 
 <p>You can turn off this feature to get a quicker startup with -A</p> 
 <p>Database changed</p> 
 <p>实验二：让所有IP访问数据库</p> 
 <p>首先，收回刚才的授权，</p> 
 <p>mysql&gt; revoke all privileges on *.* from bisal@'%';</p> 
 <p>Query OK, 0 rows affected (0.00 sec)</p> 
 <p>mysql&gt; show grants for bisal;</p> 
 <p>+--------------------------------------------------------------------------------------------+</p> 
 <p>| Grants for bisal@%                                                                                |</p> 
 <p>+--------------------------------------------------------------------------------------------+</p> 
 <p>| GRANT USAGE ON *.* TO 'bisal'@'%' IDENTIFIED BY PASSWORD '*9AA096167EB7110830776F0438CEADA9A7987E31' |</p> 
 <p>+--------------------------------------------------------------------------------------------+</p> 
 <p>1 row in set (0.00 sec)</p> 
 <p>此时从x.x.x.2访问数据库，会提示错误，</p> 
 <p>mysql -h x.x.x.x -ubisal -pbisal</p> 
 <p>Warning: Using a password on the command line interface can be insecure.</p> 
 <p>Welcome to the MySQL monitor.  Commands end with ; or g.</p> 
 <p>Your MySQL connection id is 997</p> 
 <p>Server version: 5.6.31-log MySQL Community Server (GPL)</p> 
 <p>Copyright (c) 2000, 2016, Oracle and/or its affiliates. All rights reserved.</p> 
 <p>Oracle is a registered trademark of Oracle Corporation and/or its</p> 
 <p>affiliates. Other names may be trademarks of their respective</p> 
 <p>owners.</p> 
 <p>Type 'help;' or 'h' for help. Type 'c' to clear the current input statement.</p> 
 <p>mysql&gt; use mysql</p> 
 <p>ERROR 1044 (42000): Access denied for user 'bisal'@'%' to database 'mysql'</p> 
 <p>此时授予%所有机器访问权限，</p> 
 <p>mysql&gt; grant all privileges on *.* to 'bisal'@'%' identified by 'bisal';</p> 
 <p>Query OK, 0 rows affected (0.00 sec)</p> 
 <p>从x.x.x.2访问数据库，此处的报错，是因为未输入密码，</p> 
 <p>mysql -ubisal</p> 
 <p>ERROR 1045 (28000): Access denied for user 'bisal'@'localhost' (using password: YES)</p> 
 <p>但如果之前设置的密码，和输入的密码不同，还是会提示错误，</p> 
 <p>mysql&gt; grant all privileges on *.* to 'bisal'@'%' identified by '123';</p> 
 <p>Query OK, 0 rows affected (0.00 sec)</p> 
 <p>[root@vm-kvm11853-app ~]# mysql -h x.x.x.129 -ubisal -pbisal</p> 
 <p>Warning: Using a password on the command line interface can be insecure.</p> 
 <p>ERROR 1045 (28000): Access denied for user 'bisal'@'vm-kvm11853-app' (using password: YES)</p> 
 <p>使用正确的密码登录，一切正常了，</p> 
 <p>mysql -ubisal -p123</p> 
 <p>Warning: Using a password on the command line interface can be insecure.</p> 
 <p>Welcome to the MySQL monitor.  Commands end with ; or g.</p> 
 <p>Your MySQL connection id is 987</p> 
 <p>Server version: 5.6.31-log MySQL Community Server (GPL)</p> 
 <p>Copyright (c) 2000, 2016, Oracle and/or its affiliates. All rights reserved.</p> 
 <p>Oracle is a registered trademark of Oracle Corporation and/or its</p> 
 <p>affiliates. Other names may be trademarks of their respective</p> 
 <p>owners.</p> 
 <p>Type 'help;' or 'h' for help. Type 'c' to clear the current input statement.</p> 
 <p>mysql&gt; use mysql</p> 
 <p>Reading table information for completion of table and column names</p> 
 <p>You can turn off this feature to get a quicker startup with -A</p> 
 <p>Database changed</p> 
 <p>总结：</p> 
 <p>1. MySQL中可以设置某个IP访问权限，也可以设置%所有IP访问权限。、</p> 
 <p>2. grant all privileges ... identified by 'password'，此处的password可以不是这用户的密码，远程访问以这个密码为准。</p> 
 <p>3. create user设置密码，需要用引号括起来，否则会提示语法错误。</p> 
 <p>4. create user用户不加@信息，则默认创建的用户host是%。</p> 
 <p>内容来源于网络如有侵权请私信删除</p> 
</div>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/1f0368b2014b8bad389138a11c6edd3e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">centos7 mysql源码安装_CentOS7下源码安装MySQL 8.x</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/be54ffa6efe68b2785299304ba30b264/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">mysql服务器端按照显示无权限安装_mysql数据库安装、启动及权限设置</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>