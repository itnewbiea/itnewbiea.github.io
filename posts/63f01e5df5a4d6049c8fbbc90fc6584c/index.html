<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Oracle 数据库的备份与恢复[整理] - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Oracle 数据库的备份与恢复[整理]" />
<meta property="og:description" content="Oracle数据库有三种标准的备份方法，分别是：
1.导出/导入（EXP/IMP）
2.热备份
3.冷备份
（注意导出备件是一种逻辑备份，冷备份和热备份是物理备份） 一、 导出／导入（Export／Import） 利用Export可将数据从数据库中提取出来，利用Import则可将提取出来的数据送回到Oracle数据库中去。 １、 简单导出数据（Export）和导入数据（Import） Oracle支持三种方式类型的输出： （１）表方式（T方式），将指定表的数据导出。 （２）用户方式（U方式），将指定用户的所有对象及数据导出。 （３）全库方式（Full方式），将数据库中的所有对象导出。 数据导入（Import）的过程是数据导出（Export）的逆过程，分别将数据文件导入数据库和将数据库数据导出到数据文件。 ２、 增量导出／导入 增量导出是一种常用的数据备份方法，它只能对整个数据库来实施，并且必须作为SYSTEM来导出。在进行此种导出时，系统不要求回答任何问题。导出文件名缺省为export.dmp，如果不希望自己的输出文件定名为export.dmp，必须在命令行中指出要用的文件名。 增量导出包括三种类型： （１）“完全”增量导出（Complete） 即备份三个数据库，比如： exp system/manager inctype=complete file=040731.dmp （２）“增量型”增量导出 备份上一次备份后改变的数据，比如： exp system/manager inctype=incremental file=040731.dmp （３）“累积型”增量导出 累计型导出方式是导出自上次“完全”导出之后数据库中变化了的信息。比如： exp system/manager inctype=cumulative file=040731.dmp 数据库管理员可以排定一个备份日程表，用数据导出的三个不同方式合理高效的完成。
比如数据库的被封任务可以做如下安排： 星期一：完全备份（A） 星期二：增量导出（B） 星期三：增量导出（C） 星期四：增量导出（D） 星期五：累计导出（E） 星期六：增量导出（F） 星期日：增量导出（G） 如果在星期日，数据库遭到意外破坏，数据库管理员可按一下步骤来回复数据库： 第一步：用命令CREATE DATABASE重新生成数据库结构； 第二步：创建一个足够大的附加回滚。 第三步：完全增量导入A： imp system/manager inctype=RESTORE FULL=y FILE=A 第四步：累计增量导入E： imp system/manager inctype=RESTORE FULL=Y FILE=E 第五步：最近增量导入F： imp system/manager inctype=RESTORE FULL=Y FILE=F 二、 冷备份 冷备份发生在数据库已经正常关闭的情况下，当正常关闭时会提供给我们一个完整的数据库。冷备份时将关键性文件拷贝到另外的位置的一种说法。对于备份Oracle信息而言，冷备份时最快和最安全的方法。冷备份的优点是： １、 是非常快速的备份方法（只需拷文件） ２、 容易归档（简单拷贝即可） ３、 容易恢复到某个时间点上（只需将文件再拷贝回去） ４、 能与归档方法相结合，做数据库“最佳状态”的恢复。 ５、 低度维护，高度安全。 但冷备份也有如下不足： １、 单独使用时，只能提供到“某一时间点上”的恢复。 ２、 再实施备份的全过程中，数据库必须要作备份而不能作其他工作。也就是说，在冷备份过程中，数据库必须是关闭状态。 ３、 若磁盘空间有限，只能拷贝到磁带等其他外部存储设备上，速度会很慢。 ４、 不能按表或按用户恢复。 如果可能的话（主要看效率），应将信息备份到磁盘上，然后启动数据库（使用户可以工作）并将备份的信息拷贝到磁带上（拷贝的同时，数据库也可以工作）。冷备份中必须拷贝的文件包括： １、 所有数据文件 ２、 所有控制文件 ３、所有联机REDO LOG文件 ４、 Init." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/63f01e5df5a4d6049c8fbbc90fc6584c/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2004-12-28T15:51:00+08:00" />
<meta property="article:modified_time" content="2004-12-28T15:51:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Oracle 数据库的备份与恢复[整理]</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <font size="2">Oracle数据库有三种标准的备份方法，分别是：<br></font> 
<font color="#ff1493"><font size="2"><font color="#000080">1.导出/导入（EXP/IMP）<br>2.热备份<br>3.冷备份</font><br></font></font> 
<font size="2"><font color="#ff0000">（注意导出备件是一种逻辑备份，冷备份和热备份是物理备份） <br></font><br></font> 
<font size="2"><font color="#0000ff">一、 导出／导入（Export／Import） <br></font><br>　　利用Export可将数据从数据库中提取出来，利用Import则可将提取出来的数据送回到Oracle数据库中去。 <br><br>　　</font> 
<font size="2"><font color="#000080"><font color="#800080">１、 简单导出数据（Export）和导入数据（Import） </font><br></font><br>　　Oracle支持三种方式类型的输出： <br><br>　　（１）表方式（T方式），将指定表的数据导出。 <br>　　（２）用户方式（U方式），将指定用户的所有对象及数据导出。 <br>　　（３）全库方式（Full方式），将数据库中的所有对象导出。 <br><br>　　数据导入（Import）的过程是数据导出（Export）的逆过程，分别将数据文件导入数据库和将数据库数据导出到数据文件。 <br><br>　　<font color="#800080">２、 增量导出／导入</font> <br><br>　　增量导出是一种常用的数据备份方法，它只能对整个数据库来实施，并且必须作为SYSTEM来导出。在进行此种导出时，系统不要求回答任何问题。导出文件名缺省为export.dmp，如果不希望自己的输出文件定名为export.dmp，必须在命令行中指出要用的文件名。 <br><br>　　增量导出包括三种类型： <br><br>　　（１）“完全”增量导出（Complete） <br>　　即备份三个数据库，比如： <br>　　exp system/manager inctype=complete file=040731.dmp <br>　　（２）“增量型”增量导出 <br>　　备份上一次备份后改变的数据，比如： <br>　　exp system/manager inctype=incremental file=040731.dmp <br>　　（３）“累积型”增量导出 <br>　　累计型导出方式是导出自上次“完全”导出之后数据库中变化了的信息。比如： <br>　　exp system/manager inctype=cumulative file=040731.dmp <br>　　<br>      数据库管理员可以排定一个备份日程表，用数据导出的三个不同方式合理高效的完成。<br>      比如数据库的被封任务可以做如下安排： <br><br>　　星期一：完全备份（A） <br>　　星期二：增量导出（B） <br>　　星期三：增量导出（C） <br>　　星期四：增量导出（D） <br>　　星期五：累计导出（E） <br>　　星期六：增量导出（F） <br>　　星期日：增量导出（G） <br><br>     如果在星期日，数据库遭到意外破坏，数据库管理员可按一下步骤来回复数据库： <br><br>　　第一步：用命令CREATE DATABASE重新生成数据库结构； <br>　　第二步：创建一个足够大的附加回滚。 <br>　　第三步：完全增量导入A： <br>　　imp system/manager inctype=RESTORE FULL=y FILE=A <br>　　第四步：累计增量导入E： <br>　　imp system/manager inctype=RESTORE FULL=Y FILE=E <br>　　第五步：最近增量导入F： <br>　　imp system/manager inctype=RESTORE FULL=Y FILE=F <br><br><font color="#0000ff">二、 冷备份</font> <br><br>　　冷备份发生在数据库已经正常关闭的情况下，当正常关闭时会提供给我们一个完整的数据库。冷备份时将关键性文件拷贝到另外的位置的一种说法。对于备份Oracle信息而言，冷备份时最快和最安全的方法。冷备份的优点是： <br><br>　　１、 是非常快速的备份方法（只需拷文件） <br>　　２、 容易归档（简单拷贝即可） <br>　　３、 容易恢复到某个时间点上（只需将文件再拷贝回去） <br>　　４、 能与归档方法相结合，做数据库“最佳状态”的恢复。 <br>　　５、 低度维护，高度安全。 <br><br>　　但冷备份也有如下不足： <br><br>　　１、 单独使用时，只能提供到“某一时间点上”的恢复。 <br>　　２、 再实施备份的全过程中，数据库必须要作备份而不能作其他工作。也就是说，在冷备份过程中，数据库必须是关闭状态。 <br>　　３、 若磁盘空间有限，只能拷贝到磁带等其他外部存储设备上，速度会很慢。 <br>　　４、 不能按表或按用户恢复。 <br><br>　　如果可能的话（主要看效率），应将信息备份到磁盘上，然后启动数据库（使用户可以工作）并将备份的信息拷贝到磁带上（拷贝的同时，数据库也可以工作）。冷备份中必须拷贝的文件包括： <br><br>　　１、 所有数据文件 <br>　　２、 所有控制文件 <br>　　３、所有联机REDO LOG文件 <br>　　４、 Init.ora文件（可选） <br><br>　　值得注意的使冷备份必须在数据库关闭的情况下进行，当数据库处于打开状态时，执行数据库文件系统备份是无效的。 <br><br>     下面是作冷备份的完整例子。 <br><br>　　（1） 关闭数据库 <br>　　sqlplus /nolog <br>　　sql&gt;connect /as sysdba <br>　　sql&gt;shutdown normal; <br>　　（2） 用拷贝命令备份全部的时间文件、重做日志文件、控制文件、初始化参数文件 <br>　　sql&gt;cp 
  
   
   <br>　　（3） 重启Oracle数据库 
   <br>　　sql&gt;startup 
   <br> 
   <br> 
   <font color="#0000ff">三、 热备份</font> 
   <br> 
   <br>　　热备份是在数据库运行的情况下，采用archivelog mode方式备份数据库的方法。所以，如果你有昨天夜里的一个冷备份而且又有今天的热备份文件，在发生问题时，就可以利用这些资料恢复更多的信息。热备份要求数据库在Archivelog方式下操作，并需要大量的档案空间。一旦数据库运行在archivelog状态下，就可以做备份了。热备份的命令文件由三部分组成： 
   <br> 
   <br>　　 
   <font color="#800080">1． 数据文件一个表空间一个表空间的备份。 <br></font> 
   <br>　　（1） 设置表空间为备份状态 
   <br>　　（2） 备份表空间的数据文件 
   <br>　　（3） 回复表空间为正常状态 
   <br> 
   <br>　　 
   <font color="#800080">2． 备份归档log文件</font> 
   <br> 
   <br>　　（1） 临时停止归档进程 
   <br>　　（2） log下那些在archive rede log目标目录中的文件 
   <br>　　（3） 重新启动archive进程 
   <br>　　（4） 备份归档的redo log文件 
   <br> 
   <br>　　 
   <font color="#800080">3． 用alter database bachup controlfile命令来备份控制文件 <br><br></font>　　热备份的优点是： 
   <br>　　1． 可在表空间或数据库文件级备份，备份的时间短。 
   <br>　　2． 备份时数据库仍可使用。 
   <br>　　3． 可达到秒级恢复（恢复到某一时间点上）。 
   <br>　　4． 可对几乎所有数据库实体做恢复 
   <br>　　5． 恢复是快速的，在大多数情况下爱数据库仍工作时恢复。 
   <br> 
   <br>　　热备份的不足是： 
   <br>　　1． 不能出错，否则后果严重 
   <br>　　2． 若热备份不成功，所得结果不可用于时间点的恢复 
   <br>　　3． 因难于维护，所以要特别仔细小心，不允许“以失败告终”。 
   
 </font>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/88871b8d72e17b3767bf900ce36e6ceb/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">JavaScript[对象.属性]集锦</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>