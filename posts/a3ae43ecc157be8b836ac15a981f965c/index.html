<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Javaweb考前复习冲刺(不断更新版） - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Javaweb考前复习冲刺(不断更新版）" />
<meta property="og:description" content="Javaweb考前复习冲刺 第一章： JavaWeb 入门 JavaWeb是指：以Java作为后台语言的项目工程。
javaweb项目创建的过程：
首先集成Tomcat服务器环境新建dynamic web project部署工程运行 路由含义：
​ http://localhost:8080/工程项目名/(文件夹)/页面名。
&lt;%=application.getRealPath(&#34;&#34;) %&gt; 工程部署路径 # D:\java_exerise\.metadata\.plugins\org.eclipse.wst.server.core\tmp0\wtpwebapps\component\ 第二章 静态网页设计： ​ 一个网页是动态网页还是静态网页就是否还有 前端三件套(HTML、CSS、Javascript）之外的内容。
​ 动态网页是指网页中有需要服务器执行的元素，文件扩展名是jsp，动态页面中除了上述静态元素外，还包括服务器端脚本代码（Java）、指令、动作标签，表达式语言等。
动态网页中 静态成分和动态成分的执行顺序：
&lt;%@ page pageEncoding=&#34;UTF-8&#34; import=&#34;java.util.Date&#34; %&gt; &lt;html&gt; &lt;body&gt; &lt;script&gt; document.write(new Date()); &lt;/script&gt; &lt;br/&gt; &lt;% out.print(new Date()); %&gt; &lt;/body&gt; &lt;/html&gt; Sun Dec 17 2023 12:43:16 GMT&#43;0800 (中国标准时间) Sun Dec 17 12:43:15 CST 2023 网页会先执行java代码，再执行js代码。我们可以理解为out.print(new Date()); 属于后台代码，只不过我们的服务器本地而已。
HTML： 网页的基本框架是由一个个标签组成的，标签又分为块级标签和行内标签。
块级标签：
块级标签以新行开始，占据一整行的宽度，不与其他元素并排显示。
常见的块级标签有 &lt;div&gt;、&lt;p&gt;、&lt;h1&gt; - &lt;h6&gt;、&lt;ul&gt;、&lt;ol&gt;、&lt;li&gt;、&lt;table&gt; 等。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/a3ae43ecc157be8b836ac15a981f965c/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-12-25T13:26:29+08:00" />
<meta property="article:modified_time" content="2023-12-25T13:26:29+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Javaweb考前复习冲刺(不断更新版）</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="Javaweb_0"></a>Javaweb考前复习冲刺</h3> 
<h4><a id="_JavaWeb__4"></a>第一章： JavaWeb 入门</h4> 
<p>JavaWeb是指：以Java作为后台语言的项目工程。</p> 
<p>javaweb项目创建的过程：</p> 
<ol><li>首先集成Tomcat服务器环境</li><li>新建dynamic web project</li><li>部署工程</li><li>运行</li></ol> 
<p>路由含义：</p> 
<p>​ http://localhost:8080/工程项目名/(文件夹)/页面名。</p> 
<pre><code class="prism language-py"><span class="token operator">&lt;</span><span class="token operator">%=</span>application<span class="token punctuation">.</span>getRealPath<span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span> <span class="token operator">%</span><span class="token operator">&gt;</span>  工程部署路径
<span class="token comment"># D:\java_exerise\.metadata\.plugins\org.eclipse.wst.server.core\tmp0\wtpwebapps\component\</span>
</code></pre> 
<h4><a id="__26"></a>第二章 静态网页设计：</h4> 
<p>​ 一个网页是动态网页还是静态网页就是否还有 前端三件套(HTML、CSS、Javascript）之外的内容。</p> 
<p>​ 动态网页是指网页中有需要服务器执行的元素，文件扩展名是jsp，动态页面中除了上述静态元素外，还包括服务器端脚本代码（Java）、指令、动作标签，表达式语言等。</p> 
<p>动态网页中 静态成分和动态成分的执行顺序：</p> 
<pre><code class="prism language-jsp">&lt;%@ page pageEncoding="UTF-8" import="java.util.Date" %&gt;
&lt;html&gt;
&lt;body&gt;
&lt;script&gt;
document.write(new Date());
&lt;/script&gt;
&lt;br/&gt;
&lt;%
out.print(new Date());
%&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre> 
<pre><code>Sun Dec 17 2023 12:43:16 GMT+0800 (中国标准时间)
Sun Dec 17 12:43:15 CST 2023
</code></pre> 
<p>网页会先执行java代码，再执行js代码。我们可以理解为out.print(new Date()); 属于后台代码，只不过我们的服务器本地而已。</p> 
<h5><a id="HTML_56"></a>HTML：</h5> 
<p>网页的基本框架是由一个个标签组成的，标签又分为块级标签和行内标签。</p> 
<p>块级标签：</p> 
<ul><li> <p>块级标签以新行开始，占据一整行的宽度，不与其他元素并排显示。</p> </li><li> <p>常见的块级标签有 <code>&lt;div&gt;、&lt;p&gt;、&lt;h1&gt; - &lt;h6&gt;、&lt;ul&gt;、&lt;ol&gt;、&lt;li&gt;、&lt;table&gt;</code> 等。</p> </li></ul> 
<p>行内标签：</p> 
<ul><li>内标签不会独占一行，与其他元素并排显示，根据内容的大小自动调整宽度</li><li>常见的行内标签有 <code>&lt;span&gt;、&lt;a&gt;、&lt;strong&gt;、&lt;em&gt;、&lt;img&gt;、&lt;input&gt;、&lt;label&gt;</code> 等</li></ul> 
<h6><a id="_71"></a>列表：</h6> 
<p>有序列表：</p> 
<pre><code>&lt;ol type="序号类型"&gt;
  &lt;li&gt;……&lt;/li&gt;
  &lt;li&gt;……&lt;/li&gt;
&lt;/ol&gt;
</code></pre> 
<p>无序列表：</p> 
<pre><code>&lt;ul type="类型样式"&gt;
 &lt;li&gt;…….&lt;/li&gt;
 &lt;li&gt;……&lt;/li&gt;
&lt;/ul&gt;
</code></pre> 
<p>定义列表：</p> 
<p>自定义列表不仅仅是一列项目，而是项目及其注释的组合。</p> 
<p>自定义列表以 </p> 
<dl>
  标签开始。每个自定义列表项以 
 
   开始。每个自定义列表项的定义以 
  
 <dd>
   开始。 
 </dd> 
</dl> 
<p></p> 
<pre><code>&lt;dl&gt;
  &lt;dt&gt;名词1&lt;/dt&gt;
  &lt;dd&gt;解释1&lt;/dd&gt;
  &lt;dt&gt;名词2&lt;/dt&gt;
  &lt;dd&gt;解释2&lt;/dd&gt;
&lt;/dl&gt;
</code></pre> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dl</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dt</span><span class="token punctuation">&gt;</span></span>Coffee<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dt</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dd</span><span class="token punctuation">&gt;</span></span>- black hot drink<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dd</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dt</span><span class="token punctuation">&gt;</span></span>Milk<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dt</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dd</span><span class="token punctuation">&gt;</span></span>- white cold drink<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dd</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dl</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>、<img src="https://images2.imgbox.com/4a/13/QY2gsdLP_o.png" alt="在这里插入图片描述"></p> 
<h6><a id="_118"></a>表格：</h6> 
<ul><li> <p>表格的标题使用了 <code>&lt;thead&gt;</code> 元素，表格的主体数据使用了 <code>&lt;tbody&gt;</code> 元素。</p> </li><li> <p><code>&lt;tfoot&gt;</code>：用于定义表格的页脚部分。页脚位于表格主体之后，可以包含汇总信息等内容。</p> </li><li> <p><code>&lt;caption&gt;</code>：用于为整个表格添加标题，位于表格的上方。一个表格只能有一个 <code>&lt;caption&gt;</code> 元素。</p> </li></ul> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>caption</span><span class="token punctuation">&gt;</span></span>这是表格标题<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>caption</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>thead</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>列标题1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>列标题2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>列标题3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>thead</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tbody</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>行1，列1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>行1，列2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>行1，列3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>行2，列1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>行2，列2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>行2，列3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tbody</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tfoot</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">colspan</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>3<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>这是表格页脚<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tfoot</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<h6><a id="_157"></a>表单元素：</h6> 
<p>文本输入框:</p> 
<pre><code class="prism language-html">  //  placeholder 设置提示词 
文本框：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>请输入用户名<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span> 
</code></pre> 
<p>密码框：</p> 
<pre><code class="prism language-html">  密码框：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  密码框：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>请输入密码<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>上传文件：</p> 
<pre><code class="prism language-html"> 上传文件：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>file<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
//上传多个文件 
上传文件：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>file<span class="token punctuation">"</span></span> <span class="token attr-name">multiple</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>单选框：</p> 
<pre><code>  // 只有radio的时候，无法实现多选，设置name后可以实现单选 一组只能选择一个 
  //checked 默认选中的 
&lt;input type="radio" name="gender"&gt; 男
&lt;input type="radio" name="gender" checked&gt; 女
</code></pre> 
<p>复选框：</p> 
<pre><code class="prism language-html">  //多选框 默认选中
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span> 敲代码
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">checked</span><span class="token punctuation">&gt;</span></span> 敲前端代码
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">checked</span><span class="token punctuation">&gt;</span></span> 敲前端 HTML 代码下拉框：
</code></pre> 
<pre><code class="prism language-html">//下拉框
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span><span class="token punctuation">&gt;</span></span>北京<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span><span class="token punctuation">&gt;</span></span>上海<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span><span class="token punctuation">&gt;</span></span>广州<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span><span class="token punctuation">&gt;</span></span>深圳<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">selected</span><span class="token punctuation">&gt;</span></span>武汉<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>多行文本输入框：</p> 
<pre><code> //多行文本框
&lt;textarea&gt;请输入评论&lt;/textarea&gt; 
</code></pre> 
<p>开发中常使用label和input输入框配套使用，增加用户视觉效果：</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>radio<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>gender<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>man<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>man<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>男<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>radio<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>gender<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span> 女<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>表单：</p> 
<pre><code>&lt;form name="表单名" method="提交方法" action="处理程序"&gt;
    ……… 
&lt;/form&gt;
</code></pre> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    用户名：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    密码：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 如果省略 type 属性，功能是 提交 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>提交<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>reset<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>重置<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>普通按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<h5><a id="CSS_245"></a>CSS：</h5> 
<p>​ CSS是用于对html元素进行修饰美化的，颜色背景字体大小透明度等等。</p> 
<p>CSS的三种形式：</p> 
<pre><code class="prism language-css">  &lt;style&gt;
    <span class="token comment">/* 定义 */</span>
    <span class="token selector">.red</span> <span class="token punctuation">{<!-- --></span>
      <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
&lt;/style&gt;
&lt;div style=<span class="token string">"color: green; font-size: 30px;"</span>&gt;这是 div 标签&lt;/div&gt;
&lt;link rel=<span class="token string">"stylesheet"</span> href=<span class="token string">"./my.css"</span>&gt;
</code></pre> 
<pre><code class="prism language-css">背景：
	<span class="token property">background-image</span><span class="token punctuation">:</span><span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">'gradient2.png'</span><span class="token punctuation">)</span></span><span class="token punctuation">;</span>
文字对齐：
	<span class="token property">text-align</span><span class="token punctuation">:</span>center<span class="token punctuation">;</span> //用于设置文字对其 在块元素中 right/left/justify justify每一行的宽度相同
	<span class="token property">vertical-align</span><span class="token punctuation">:</span>center<span class="token punctuation">;</span>	 垂直居中文字
块元素居中：
	<span class="token property">margin</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>（必须要设置宽度后才有效果）
	<span class="token selector">.clearfix</span> <span class="token punctuation">{<!-- --></span> 清除浮动的影响
    <span class="token property">overflow</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span><span class="token punctuation">}</span>
	
浮动：
	<span class="token property">float</span><span class="token punctuation">:</span>right<span class="token punctuation">;</span> 如果是图片浮动则文字会在其周围环绕
	<span class="token property">clear</span><span class="token punctuation">:</span>both<span class="token punctuation">;</span>最后一个元素清除浮动的影响
超链接跳转：
	&lt;a href=<span class="token string">"https://www.runoob.com/"</span> target=<span class="token string">"_blank"</span>&gt; _self _blank 默认是在当前页面跳转
取消超链接下划线：
	<span class="token property">text-decoration</span><span class="token punctuation">:</span>none<span class="token punctuation">;</span>
	<span class="token property">text-decoration</span><span class="token punctuation">:</span>overline/line-through/underline  上面/中间/下面
字体大小：
	<span class="token property">font-size</span><span class="token punctuation">:</span>20px<span class="token punctuation">;</span> <span class="token selector">字体大小
点击：
	a:link</span> <span class="token punctuation">{<!-- --></span><span class="token property">color</span><span class="token punctuation">:</span>#000000<span class="token punctuation">;</span><span class="token punctuation">}</span>      <span class="token comment">/* 未访问链接*/</span>
    <span class="token selector">a:visited</span> <span class="token punctuation">{<!-- --></span><span class="token property">color</span><span class="token punctuation">:</span>#00FF00<span class="token punctuation">;</span><span class="token punctuation">}</span>  <span class="token comment">/* 已访问链接 */</span>
    <span class="token selector">a:hover</span> <span class="token punctuation">{<!-- --></span><span class="token property">color</span><span class="token punctuation">:</span>#FF00FF<span class="token punctuation">;</span><span class="token punctuation">}</span>  <span class="token comment">/* 鼠标移动到链接上 */</span>
    <span class="token selector">a:active</span> <span class="token punctuation">{<!-- --></span><span class="token property">color</span><span class="token punctuation">:</span>#0000FF<span class="token punctuation">;</span><span class="token punctuation">}</span>  <span class="token comment">/* 鼠标点击时 */</span>
边距问题：
	<span class="token property">border</span><span class="token punctuation">:</span>1px solid black<span class="token punctuation">;</span>
	<span class="token property">border-collapse</span><span class="token punctuation">:</span>collapse<span class="token punctuation">;</span> 边框折叠成一条线
	<span class="token property">border-style</span><span class="token punctuation">:</span>dotted/dotted<span class="token punctuation">;</span>	边框演示
	<span class="token property">border-style</span><span class="token punctuation">:</span>dotted solid double dashed<span class="token punctuation">;</span>
	<span class="token property">padding</span><span class="token punctuation">:</span>25px 50px 75px<span class="token punctuation">;</span> 上（左右）下
    <span class="token property">width</span><span class="token punctuation">:</span> 300px
    <span class="token property">margin</span><span class="token punctuation">:</span> 25px<span class="token punctuation">;</span>
行内块：
	<span class="token property">display</span><span class="token punctuation">:</span>inline<span class="token punctuation">;</span> block块元素
可见：
	<span class="token property">visibility</span><span class="token punctuation">:</span>hidden<span class="token punctuation">;</span>
<span class="token selector">定位：
    h2</span><span class="token punctuation">{<!-- --></span> 
        <span class="token property">position</span><span class="token punctuation">:</span>absolute<span class="token punctuation">;</span> //绝对定位的位置是相对与最近的父元素（若没有则是相对于html<span class="token punctuation">)</span>
        <span class="token property">position</span><span class="token punctuation">:</span>relative<span class="token punctuation">;</span>//相对定位元素经常被用来作为绝对定位元素的容器块。
        <span class="token property">position</span><span class="token punctuation">:</span> sticky<span class="token punctuation">;</span> //不会改变位置  
        <span class="token property">left</span><span class="token punctuation">:</span>100px<span class="token punctuation">;</span>
        <span class="token property">top</span><span class="token punctuation">:</span>150px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token property">溢出</span><span class="token punctuation">:</span><span class="token punctuation">(</span>文字内容大于框的大小是否形成滚动条<span class="token punctuation">)</span>
	<span class="token property">overflow</span><span class="token punctuation">:</span><span class="token function">visible</span><span class="token punctuation">(</span>呈现在其之外<span class="token punctuation">)</span>、scroll（形成滚动条）hidden

	
	
</code></pre> 
<h5><a id="Javascript_317"></a>Javascript：</h5> 
<p>JavaScript（通常简称为JS）是一种广泛用于网页开发的脚本语言。它是一种高级、解释性的编程语言，用于为网页添加交互性和动态功能。就是上网页变的可交互起来。</p> 
<p>获取元素常用的几个方法：</p> 
<ul><li>根据id获取某个元素：document.getElementById(id); （返回对象）</li><li>根据name获取元素：document.getElementsByName(name);(返回对象数组）</li><li>根据tagName获取元素：document.getElementsByTagName(tagName);(返回对象数组)</li></ul> 
<h6><a id="_327"></a>函数定义：</h6> 
<pre><code class="prism language-js"> <span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
    <span class="token keyword">function</span> <span class="token function">函数名</span><span class="token punctuation">(</span><span class="token parameter">参数列表</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
      <span class="token function">函数体</span><span class="token punctuation">(</span>返回值使用<span class="token keyword">return</span>语句<span class="token punctuation">)</span>
   <span class="token punctuation">}</span>
 <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> 
<h6><a id="_337"></a>获取值：</h6> 
<pre><code class="prism language-js"><span class="token keyword">var</span> inputElement<span class="token operator">=</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"card"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> idCard <span class="token operator">=</span> idCardInput<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
</code></pre> 
<h6><a id="_344"></a>修改值：</h6> 
<pre><code class="prism language-js"><span class="token keyword">var</span> resultElement<span class="token operator">=</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"result"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   resultElement<span class="token punctuation">.</span>textContent<span class="token operator">=</span><span class="token string">'邮费：'</span><span class="token operator">+</span>fee<span class="token operator">+</span><span class="token string">"元"</span><span class="token punctuation">;</span>
</code></pre> 
<h6><a id="jscss_351"></a>js操控css：</h6> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value javascript language-javascript"><span class="token function">myFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>点我<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>  绑定响应事件
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">function</span> <span class="token function">myFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"demo"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML<span class="token operator">=</span><span class="token string">"Hello JavaScript!"</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span> 
document.getElementById("demo").style.color="#ff0000"; 修改css 
</code></pre> 
<h6><a id="_364"></a>案例分析：</h6> 
<pre><code class="prism language-js"><span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">function</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> a<span class="token operator">=</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"t1"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>  <span class="token comment">//获取t1标签中的值</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"用户在文本框中输入的值为："</span><span class="token operator">+</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 弹出提示框，显示用户输入的值</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">f2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> a<span class="token operator">=</span>document<span class="token punctuation">.</span><span class="token function">getElementsByName</span><span class="token punctuation">(</span><span class="token string">"sex"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//获取一组标签</span>
    <span class="token keyword">var</span> sex<span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>a<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>checked<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span> <span class="token comment">//如果某个表单元素被选中 则为true</span>
            <span class="token function">alert</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//提示框输出</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>   
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">f3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> a<span class="token operator">=</span>document<span class="token punctuation">.</span><span class="token function">getElementsByName</span><span class="token punctuation">(</span><span class="token string">"aihao"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> aihao<span class="token operator">=</span><span class="token string">""</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>a<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>checked<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token comment">//如果某个复选框元素被选中 则为true</span>
            aihao<span class="token operator">+=</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>value<span class="token operator">+</span><span class="token string">" "</span><span class="token punctuation">;</span> <span class="token comment">//拼接</span>
        <span class="token punctuation">}</span>
             
    <span class="token punctuation">}</span>   
     <span class="token keyword">if</span><span class="token punctuation">(</span>aihao<span class="token operator">==</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
         <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"无爱好"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span>
     <span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
         <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"爱好："</span><span class="token operator">+</span>aihao<span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">f4</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token comment">//下拉框 下拉框无法进行点选 只能滑动 显示最上面的是哪一个</span>
    <span class="token keyword">var</span> a<span class="token operator">=</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"jiguan"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> selectedIndex<span class="token operator">=</span>a<span class="token punctuation">.</span>selectedIndex<span class="token punctuation">;</span><span class="token comment">//获取是当前是第几个 </span>
    <span class="token function">alert</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>options<span class="token punctuation">[</span>selectedIndex<span class="token punctuation">]</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//获取响应的值</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> 
<pre><code class="prism language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>t1<span class="token punctuation">"</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>10<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bt1<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>获取文本框的值<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value javascript language-javascript"><span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">/&gt;</span></span>  // 绑定点击响应函数
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>radio<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>sex<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>男<span class="token punctuation">"</span></span> <span class="token attr-name">checked</span><span class="token punctuation">/&gt;</span></span>男
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>radio<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>sex<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>女<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>女
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bt2<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>获取性别<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value javascript language-javascript"><span class="token function">f2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>aihao<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>音乐<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>音乐
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>aihao<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>画画<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>画画
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>aihao<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>下棋<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>下棋
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bt3<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>获取爱好<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value javascript language-javascript"><span class="token function">f3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>jiguan<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>山东<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>山东<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>北京<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>北京<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>广东<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>广东<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bt4<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>获取籍贯<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value javascript language-javascript"><span class="token function">f4</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<h5><a id="Jquery_434"></a>Jquery：</h5> 
<p>​ jQuery 是一个广泛使用的 JavaScript 库，它简化了 JavaScript 在网页开发中的操作和处理。jQuery 提供了一组易于使用的函数和方法，使开发者能够更简洁、高效地操作 HTML 元素、处理事件、发送 AJAX 请求等。</p> 
<h6><a id="_438"></a>引入：</h6> 
<pre><code>&lt;script src="https://cdn.staticfile.org/jquery/1.10.2/jquery.min.js"&gt;&lt;/script&gt;
&lt;script src="js/jquery-1.11.1.js"&gt;&lt;/script&gt;
</code></pre> 
<pre><code class="prism language-html">&lt;%@ page  pageEncoding="UTF-8"%&gt;
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span> 
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>js/jquery-1.11.1.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>  
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
       <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"p"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
       <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>  
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>如果你点我，我就会消失。<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<h6><a id="_464"></a>页面加载</h6> 
<pre><code>    window.onload=function(){} //原始js写法
    $(function(){
逻辑代码
   });
   //一般使用jquery都将代码放在其中，   $(function(){  })  是让网页全部加载完成后再使用jQuery。
</code></pre> 
<p>下面是 jQuery 中一些常见操作的简洁示例：</p> 
<h6><a id="jQuery_476"></a>jQuery选择器：</h6> 
<pre><code class="prism language-js"><span class="token comment">// 通过元素标签名选择元素</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span>
<span class="token comment">// 通过class属性值选择元素</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.class-name'</span><span class="token punctuation">)</span>
<span class="token comment">// 通过ID属性值选择元素</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#element-id'</span><span class="token punctuation">)</span>
<span class="token comment">// 通过其他属性选择元素</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"div[title='div2']"</span><span class="token punctuation">)</span>   <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"div[title!='div2']"</span><span class="token punctuation">)</span>
<span class="token comment">// 父 与 子孙们关系</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#d1 span"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"color"</span><span class="token punctuation">,</span><span class="token string">"red"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//父子关系</span>
 <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#d1&gt;span"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"color"</span><span class="token punctuation">,</span><span class="token string">"green"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token comment">//选取紧接在prev元素后的同辈next元素</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#d1+div"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"color"</span><span class="token punctuation">,</span><span class="token string">"blue"</span><span class="token punctuation">)</span>
<span class="token comment">//选取所有在prev元素后的同辈siblings元素</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#d1~div"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"color"</span><span class="token punctuation">,</span><span class="token string">"gray"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//后面两种写法一般不会用到，了解即可。</span>
</code></pre> 
<p>全(不)选实现:</p> 
<pre><code class="prism language-html">&lt;%@ page  pageEncoding="UTF-8"%&gt;
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span> 
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>js/jquery-1.11.1.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>  
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
      <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#xz"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".c1"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span><span class="token string">"checked"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>checked<span class="token punctuation">)</span><span class="token punctuation">;</span>    
          <span class="token comment">//当全选复选框被点击时，通过 $(".c1").prop("checked", this.checked) 将所有记录复选框（类名为 "c1"）的 checked 属性设置为与全选复选框相同的值，从而实现全选或取消全选的功能。</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>  
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span> <span class="token attr-name">border</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>xz<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>列标题<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>c1<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>记录1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>c1<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>记录2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>c1<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>记录3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<pre><code>$(".c1").prop("checked", this.checked);  
$(".c1").attr("checked", this.checked)
</code></pre> 
<p>上面两种方法都可以实现全选或者全不选的效果，区别是：从 jQuery 1.6 版本开始，推荐使用 <code>.prop()</code> 方法来设置元素的属性值而不是 <code>.attr()</code> 方法，因为 <code>.prop()</code> 方法更适用于处理属性值的布尔类型。在处理 <code>checked</code> 属性时，使用 <code>.prop()</code> 方法更为准确和可靠。</p> 
<h6><a id="Jquerydom_544"></a>Jquery操作dom：</h6> 
<pre><code class="prism language-js"><span class="token comment">//获取元素的HTML内容</span>
 <span class="token keyword">var</span> a<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#div1"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">//获取元素的文本内容。</span>
  <span class="token keyword">var</span> b<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#div1"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">//获取表单元素值</span>
  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"select"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
 <span class="token comment">// 插入节点</span>
 <span class="token keyword">var</span> div1<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"&lt;div&gt;div1&lt;/div&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"body"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>div1<span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre> 
<h6><a id="_AJAX__558"></a>发送 AJAX 请求：</h6> 
<pre><code class="prism language-js">$<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">'url'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">'GET'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 请求参数</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 请求成功后的处理</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">error</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 请求失败后的处理</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> 
<h5><a id="_576"></a>总结：</h5> 
<p>​ 通过这一小节的学习，我们发现你去手写一个网页属于不简单，前端知识点确实比较多，网上流传着这样一句话<code>前端堪比娱乐圈，一天一个新框架</code>，不过不需要大家都记住，只需要你能懂，在业务层一般都是使用组件开发，大不必过度担心。</p> 
<h4><a id="___580"></a>第三章 动态网页设计：</h4> 
<h5><a id="jsp_582"></a>jsp基础:</h5> 
<p>​ JSP（JavaServer Pages）是一种用于创建动态Web页面的Java技术。它是一种服务器端技术，允许开发人员在HTML页面中插入Java代码，以生成动态内容。JSP页面通常包含静态内容和用于动态生成内容的Java代码片段。</p> 
<p>​ 在JSP中，Java代码被嵌入在特殊的标签中，通常以"&lt;%“和”%&gt;"括起来。这些标签被称为脚本元素，可以在其中编写Java代码。在JSP页面被访问时，Web服务器会将JSP文件编译为Servlet，并在服务器上执行生成的Servlet来生成动态内容。最终，生成的内容将与静态HTML一起返回给客户端浏览器。</p> 
<p>组成：</p> 
<pre><code class="prism language-jsp">&lt;%@ page pageEncoding="UTF-8" import="java.util.Date" %&gt;  // jsp指令 如果需要相应的java类库 在这里导入 
&lt;html&gt;
&lt;body&gt;
&lt;script&gt;
document.write(new Date());
&lt;/script&gt;
&lt;br/&gt;
&lt;% //这一部分是jsp代码
out.print(new Date());
%&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre> 
<p>全局变量与局部变量：</p> 
<p><code>&lt;%!int d;%&gt;</code> 带有！是全局变量，&lt;% int a=30;%&gt; 是局部变量，全局变量只有服务器不关就一直生效。</p> 
<pre><code class="prism language-jsp">&lt;%@ page pageEncoding="UTF-8" import="java.util.Date" %&gt;
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;title&gt;Insert title here&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;%!int  d;%&gt;
&lt;% int a=30;%&gt;
&lt;% int b=30;            
   int c=40;          
   d=d+a+b+c;         
   out.print(d);   
 %&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre> 
<p><img src="https://images2.imgbox.com/c1/c4/mcb0uG7A_o.png" alt="在这里插入图片描述"></p> 
<p>我们会发现每次刷新依次页面，都会加100，这就说明了这个全局变量没有重复初始化，只要服务器不关就一直++。</p> 
<pre><code class="prism language-jsp"> &lt;%@ page pageEncoding="UTF-8"%&gt;
&lt;html&gt;
  &lt;body&gt;
  &lt;%
  request.setCharacterEncoding("UTF-8"); // 告知服务器使用UTF-8编码来解析请求中的字符。
  %&gt;
     1.jsp&lt;br&gt;
     &lt;jsp:include page="2.jsp"&gt; //页面的包含
      &lt;jsp:param name="param1" value="你好"/&gt; // 同时向2.jsp传递 名为param1 值为你好 的参数 
     &lt;/jsp:include&gt;
   &lt;/body&gt;
&lt;/html&gt;
</code></pre> 
<pre><code class="prism language-jsp"> &lt;%@ page pageEncoding="UTF-8"%&gt;
&lt;html&gt;
  &lt;body&gt;
    2.jsp,获取参数值为：&lt;%=request.getParameter("param1") %&gt; // 获取请求参数
   &lt;/body&gt;
&lt;/html&gt;
</code></pre> 
<p>如果我们把上面的代码，改成forword会发送什么呢？</p> 
<pre><code class="prism language-jsp"> &lt;%@ page pageEncoding="UTF-8"%&gt;
&lt;html&gt;
  &lt;body&gt;
  &lt;%
  request.setCharacterEncoding("UTF-8");
  %&gt;
     1.jsp&lt;br&gt;
     &lt;jsp:forward page="2.jsp"&gt;
      &lt;jsp:param name="param1" value="你好"/&gt;
     &lt;/jsp:forward&gt;
   &lt;/body&gt;
&lt;/html&gt;
</code></pre> 
<p><img src="https://images2.imgbox.com/9a/ae/Dl9B3jNG_o.png" alt="在这里插入图片描述"></p> 
<p>可以发现地址栏没有变化，但是页面数据发送了变化，同时也实现了数据的共享，请求转发(服务器端，客户端地址不变)。</p> 
<p>include指令（&lt;%@ include file=“”%&gt;）和标签&lt;jsp:include page=“”/&gt; 有什么区别？</p> 
<p>&lt;%@ include file=“”%&gt;） 执行速度块，因为静态，你已经将其在开头的时候写死了，而&lt;jsp:include page=“”/&gt; 属于动态编译，属于可变的。</p> 
<h5><a id="jsp_683"></a>jsp内部对象：</h5> 
<h6><a id="_685"></a>概述：</h6> 
<p>​ 这一部分很重要，在web开发中，常常用到数据的共享，那么我们把数据共享的范围限制到哪里呢？本次请求还是本地会话还是本地缓存中的。这就引出了request，session，还是cookie还是application中呢。</p> 
<p>​ 先说结论： 地址栏每变化一次就是一次新的请求，网页每关闭一次就是一次新的session会话，Cookie 是存储在客户端本地缓存中，Application 数据存储在服务器内存。</p> 
<p>​ 数据资源共享的原则是将范围限制尽可能小，不污染全局。</p> 
<h6><a id="request_693"></a>request</h6> 
<p><code>request</code> 是指代表客户端请求的对象。它是 <code>javax.servlet.http.HttpServletRequest</code> 类的一个实例，用于封装客户端发起的 HTTP 请求信息，包括请求方法、URL、头部信息、请求参数等。</p> 
<p>​ 在开发的时候尽量不要写绝对路径，可以使用request的相关参数获取某些路径(绝对路径，相对路径)。</p> 
<pre><code class="prism language-jsp"> &lt;%@ page pageEncoding="UTF-8"%&gt;
&lt;html&gt;
  &lt;body&gt;
  &lt;%request.setCharacterEncoding("UTF-8");%&gt;
  获取客户端请求的 Servlet 路径：&lt;%=request.getServletPath()%&gt;&lt;% out.print("&lt;br&gt;"); %&gt;
  请求所在的绝对路径：&lt;%=request.getRequestURL()%&gt;&lt;% out.print("&lt;br&gt;"); %&gt;
  项目工程路径：&lt;%=request.getContextPath()%&gt; &lt;% out.print("&lt;br&gt;"); %&gt;
  请求所在的项目路径(不包括域名和端口)：&lt;%= request.getRequestURI()%&gt;&lt;% out.print("&lt;br&gt;"); %&gt;
   &lt;/body&gt;
&lt;/html&gt;
</code></pre> 
<p>我们一下结果：</p> 
<p><img src="https://images2.imgbox.com/36/45/z71j6hd1_o.png" alt="在这里插入图片描述"></p> 
<p>参数传递：</p> 
<ul><li> <p>get ：超链接等等，市面上大部分的操作都是get</p> </li><li> <p>post：表单提交(因为表单一般含有重要数据，在后台可以对提交的数据进行加密)。</p> </li></ul> 
<p>post提交方式，如果参数有中文需要提前设置：</p> 
<pre><code>request.setCharacterEncoding("UTF-8")
</code></pre> 
<p>​ 告知服务器使用 UTF-8 字符编码来解析请求中的参数。</p> 
<h6><a id="response_731"></a>response</h6> 
<p>​ 它是指代表客户端请求的对象，即 <code>javax.servlet.http.HttpServletRequest</code> 类的实例。该对象封装了客户端发送的 HTTP 请求信息，包括请求方法、URL、头部信息、请求参数等。</p> 
<p>​ 这个也很好理解，我们先服务器发送请求(request)，服务器给客户端返回的就是响应(response)，同时也会向客户端告知一些内容，比如响应头，响应的内容类型，响应的编码等等。</p> 
<p>​ 转发与重定向的区别：转发的网页是只能跳转到本应用所有的网页(就是你之前写好的网页)，而重定向可以随意跳转，尝试新的请求。</p> 
<p>​ 那么我们什么时候使用转发什么时候使用重定向呢?</p> 
<p>当涉及到数据共享的时候或者数据传递的时候使用转发，数据传递完毕或者前后事件不同的时候使用重定向。</p> 
<pre><code>&lt;%response.sendRedirect("https://www.baidu.com");%&gt;
 response.sendRedirect("main.jsp");//重定向到主页面
</code></pre> 
<h6><a id="session_748"></a>session</h6> 
<p>​ Session 在服务器端存储用户相关的数据，并为每个用户分配一个唯一的会话标识符（Session ID）。该标识符通常通过Cookie在客户端和服务器之间进行传递，或者可以通过URL重写的方式将会话ID附加到URL上。会话对象，用于保存用户的一次“会话”信息。</p> 
<p>​ Session 对象是与用户相关联的，因此可以在不同的请求之间共享数据，并且只对特定用户可见。通过使用会话，您可以在用户登录后跟踪其身份、存储购物车数据、实现用户首选项等</p> 
<p>session消亡的原因：</p> 
<ul><li>session.invalidate()手动销毁session对象</li><li>用户长时间未进行交互</li><li>用户主动关闭浏览器</li></ul> 
<p>关于session的时间问题：</p> 
<p><img src="https://images2.imgbox.com/e7/e9/IPWppHEn_o.png" alt="在这里插入图片描述"></p> 
<p>我们发现在不关闭浏览器的情况下，sessionid不会发送变化，不管我们开几个或者刷新都不会改变，其实因为其已经保存在了cookie中，如下图。</p> 
<p><img src="https://images2.imgbox.com/c7/bc/hav6VuBb_o.png" alt="在这里插入图片描述"></p> 
<p>但是我们将所有的浏览器关闭后，重写打开再看看。</p> 
<p><img src="https://images2.imgbox.com/35/b3/1ErY4xzC_o.png" alt="在这里插入图片描述"></p> 
<p>变了吧，因为这是第一次，同时也会把这个sessionid保存起来。</p> 
<h6><a id="cookie_777"></a>cookie：</h6> 
<p>​ Cookie对象是由服务器产生并保存到客户端(内存或文件中)的信息，常用它记录用户个人信息及个性化设置。然后以后浏览器会自动携带这个cookie作为请求数据向服务器端发请求。</p> 
<p>​ 到这里有的同学可能就会问,session 和cookie有什么区别呢？</p> 
<p>​ 我一句话给你说清楚，session是基于cookie实现的，session只能保留当前会话信息，但是如果你得浏览器关闭了，或者长时间没有操作那么session就会更新，而cookie的保留时间更长，当用户访问站点时，可以利用Cookie保存用户首选项或其他信息，这样当用户下次再访问站点时，应用程序就可以检索以前保存的信息。</p> 
<p>​ 为什么你登陆淘宝后，下次不用重新登录了？因为在你本机的缓存冲已经保存了你的相关信息，所以浏览器会自动携带这些数据发送请求。很多网站都是这样实现的。</p> 
<p>但是Cookie对象并不是Jsp内部对象，需要通过构造函数创建。</p> 
<p>​ 现在我们测试一下cookie的创建和访问：</p> 
<p>​ 设置：</p> 
<pre><code class="prism language-jsp">&lt;%@ page pageEncoding="UTF-8" %&gt;
&lt;%
   Cookie c = new Cookie("name1", "hello");
   response.addCookie(c);
%&gt;
&lt;a href="cookie1.jsp"&gt;查看cookie&lt;/a&gt;
</code></pre> 
<p>获取：</p> 
<pre><code class="prism language-jsp">&lt;%@ page pageEncoding="UTF-8"  %&gt;
&lt;html&gt;
&lt;body&gt;
&lt;% 
Cookie cookies[] = request.getCookies();
for(int i=0; i&lt;cookies.length; i++) {
         out.print(cookies[i].getName()+":"+cookies[i].getValue()+"&lt;br/&gt;");
}
%&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre> 
<p><img src="https://images2.imgbox.com/e4/1e/HWyjesD4_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/33/89/XU4NMIHJ_o.png" alt="在这里插入图片描述"></p> 
<p>我们也可以发现之前设置的cookie可以成功接受，同时这个JSESSIONID 一直没有变，为什么？因为这是一次会话，跳转页面会话不会变。</p> 
<h6><a id="application_826"></a>application</h6> 
<p>​ Application（应用程序）是指整个 Web 应用程序的上下文环境。它表示在同一个 Web 容器中运行的多个 Servlet、Filter 和其他组件共享的全局环境。Application 上下文数据存储在 Web 服务器的内存中。application是由服务器端产生的，只要服务器端不进行修改，则访问的是同一个！！！</p> 
<h6><a id="pageContext_830"></a>pageContext</h6> 
<p>​ <code>pageContext</code> 是在 JavaServer Pages（JSP）中使用的一个对象，它代表当前 JSP 页面的上下文信息。<code>pageContext</code> 对象提供了访问和操作 JSP 页面的各种信息和功能。<code>pageContext</code> 对象是在每个 JSP 页面的请求期间创建的，并且只在当前页面中有效。</p> 
<p>​ <code> pageContext</code> 对象的生命周期与页面的生命周期相同。每次请求访问页面时，都会创建一个新的 <code>pageContext</code> 对象，并且随着请求的完成而销毁。</p> 
<h6><a id="_836"></a>总结：</h6> 
<p>数据有效范围对比：</p> 
<ul><li> <pre><code class="prism language-jsp">&lt;%@ page pageEncoding="UTF-8"  %&gt;
&lt;html&gt;
&lt;body&gt;
&lt;% 
pageContext.setAttribute("p","pagestr");
request.setAttribute("r","requeststr");
session.setAttribute("s","sessionstr");
application.setAttribute("a","applicationstr");
%&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre> </li></ul> 
<p>分别在链接（或重定向）、转发、换一个浏览器窗口访问、重启服务器后访问讨论其作用域的效果。</p> 
<p><code>pageContext</code> 对象的有效性分析：</p> 
<ul><li>I：链接（或重定向）：当通过链接或重定向跳转到另一个 JSP 页面时，新页面会创建一个新的 <code>pageContext</code> 对象，原页面的 <code>pageContext</code> 对象不再有效，网址发生变化则无效。</li><li>II：转发：在使用转发将请求从一个 JSP 页面发送到另一个 JSP 页面时，转发目标页面会继承原页面的 <code>pageContext</code> 对象，因此原页面的 <code>pageContext</code> 对象仍然有效，转发网址不变。</li><li>III：换一个浏览器窗口访问：当在新的浏览器窗口中访问一个 JSP 页面时，该页面会创建一个新的 <code>pageContext</code> 对象，与之前的页面的 <code>pageContext</code> 对象无关。</li><li>IIII：重启服务器后访问：当服务器重启后，所有的 <code>pageContext</code> 对象都会被销毁，因此之前存在的 <code>pageContext</code> 对象都不再有效。在服务器重启后访问 JSP 页面时，会创建新的 <code>pageContext</code> 对象。</li></ul> 
<p><code>request</code> 对象的有效性分析：</p> 
<ul><li>I：链接（或重定向）：当通过链接或重定向跳转到另一个 JSP 页面时，产生一个新的请求，所以不可以共享。</li><li>II：转发：在使用转发将请求从一个 JSP 页面发送到另一个 JSP 页面时，不会重新发送一个新的请求，因此原页面的 <code>request</code> 对象仍然有效，可以访问。</li><li>III：换一个浏览器窗口访问，在 2.jsp 页面中，无法获取在 1.jsp 中存储在 <code>request</code> 对象中的属性值 “requeststr”。因为每个浏览器窗口都有自己独立的会话和请求对象，它们之间的数据不共享。</li><li>IIII：重启服务器后访问：在 2.jsp 页面中，无法获取在 1.jsp 中存储在 <code>request</code> 对象中的属性值 “requeststr”。因为服务器重启会导致所有请求和会话对象被销毁，之前存储的数据也会丢失。</li></ul> 
<p><code>session</code> 对象的有效性分析：</p> 
<ul><li>I：链接（或重定向）：可以访问。</li><li>II：转发：在使用转发将请求从一个 JSP 页面发送到另一个 JSP 页面时，不会重新发送一个新的请求，因此原页面的 <code>request</code> 对象仍然有效，可以访问。</li><li>III：换一个浏览器窗口访问，在 2.jsp 页面中，可以通过 <code>session.getAttribute("s")</code> 来获取属性值 “sessionstr”。因为 <code>session</code> 对象的作用域是跨多个请求和页面的。</li><li>IIII：重启服务器后访问：在 2.jsp 页面中，无法获取在 1.jsp 中存储在 <code>session</code> 对象中的属性值 “sessionstr”。因为服务器重启会导致所有会话对象被销毁，之前存储的数据也会丢失。</li></ul> 
<p><code>application</code> 对象的有效性分析：</p> 
<ul><li>I：链接（或重定向）：可以访问。</li><li>II：转发：可以访问。</li><li>III：换一个浏览器窗口访问:在 2.jsp 页面中，可以通过 <code>application.getAttribute("a")</code> 来获取属性值 “applicationstr”。因为 <code>application</code> 对象的作用域是整个应用程序，可以在不同的浏览器窗口或选项卡之间共享数据。。</li><li>IIII：重启服务器后访问：在 2.jsp 页面中，无法获取在 1.jsp 中存储在 <code>application</code> 对象中的属性值 “applicationstr”。因为服务器重启会导致所有应用程序的状态被重置，之前存储的数据也会丢失。</li></ul> 
<h5><a id="EL_884"></a>EL:</h5> 
<p>​ EL (Expression Language) 表达式（也称为 JSP EL）是一种用于在JavaServer Pages (JSP) 和 JavaServer Faces (JSF) 中访问和操作数据的简洁语法。EL 表达式提供了一种方便的方式来获取、设置和操作在作用域中可用的变量、属性和方法。</p> 
<p>EL 表达式使用 <code>${}</code> 的语法来引用和操作数据。在 <code>${}</code> 中可以使用以下几种语法：</p> 
<ol><li>访问变量和属性：<code>${variable}</code> 或 <code>${object.property}</code>例如：<code>${name}</code> 或 <code>${user.name}</code></li><li>调用方法：<code>${object.method()}</code> 或 <code>${object.method(param1, param2)}</code>例如：<code>${user.getName()}</code> 或 <code>${user.add(5, 3)}</code></li><li>访问数组和列表元素：<code>${array[index]}</code> 或 <code>${list[index]}</code><br> 例如：<code>${array[0]}</code> 或 <code>${list[2]}</code></li><li>执行算术和逻辑运算：<code>${num1 + num2}</code> 或 <code>${boolean1 &amp;&amp; boolean2}</code><br> 例如：<code>${2 + 3}</code> 或 <code>${true &amp;&amp; false}</code></li><li>使用条件和循环：<code>${condition ? value1 : value2}</code> 或 <code>${for(item : collection)}</code> 等。<br> 例如：<code>${age &gt;= 18 ? '成年' : '未成年'}</code> 或 <code>${for(item : list)}</code></li></ol> 
<p>​ 一般用于将数据存到 page、request、session、application四种范围内的对象。实现数据共享。</p> 
<p>数据共享案例：</p> 
<pre><code class="prism language-jsp">&lt;%@ page import="java.util.*" pageEncoding="UTF-8"%&gt;
&lt;html&gt;
  &lt;head&gt;&lt;title&gt;访问集合中的元素&lt;/title&gt;&lt;/head&gt;  
  &lt;body&gt;
   &lt;% String[] firstNames = {"龙","萍","杨"};  //定义数组
    ArrayList&lt;String&gt; lastNames = new ArrayList&lt;String&gt;();  //定义List
    lastNames.add("陈"); lastNames.add("邓"); lastNames.add("于");
    HashMap&lt;String,String&gt; roleNames = new HashMap&lt;String,String&gt;(); //定义Map 类似键值对 
    roleNames.put("volunteer","志愿者");
    roleNames.put("missionary","工作人员");
    roleNames.put("athlete", "运动员");
     // 必须将数据存到响应范围内 才可以使用el表达式
     // pageContext.setAttribute() 是将属性存到页面范围 
      // 数据仅仅在当前页面有效 
    pageContext.setAttribute("first",firstNames);
    pageContext.setAttribute("last",lastNames);
    pageContext.setAttribute("role",roleNames);
   %&gt;
    &lt;h2&gt;EL访问集合&lt;/h2&gt;
    &lt;ul&gt;
        
       &lt;li&gt;${last[0]}${first[0]}:${role["volunteer"]}
       &lt;li&gt;${last[1]}${first[1]}:${role["athlete"]}
       &lt;li&gt;${last[2]}${first[2]}:${role["missionary"]}
        // ${role["volunteer"]} 是访问role的volunteer属性对应的值
        //  ${first[2]} 是访问first数组的第二个元素
   &lt;/ul&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre> 
<p>表单提交案例：</p> 
<pre><code class="prism language-jsp">&lt;%@ page import="java.util.*" pageEncoding="UTF-8"%&gt;
&lt;html&gt;
  &lt;head&gt;
      &lt;title&gt;提交信息页面&lt;/title&gt;
      &lt;meta http-equiv="content-type" content="text/html; charset=UTF-8"&gt;
  &lt;/head&gt;
  &lt;body&gt;
     &lt;form action="2.jsp" method="post"&gt;
       姓名 &lt;input type="text" name="name"&gt;&lt;br/&gt;
       性别 &lt;input type="text" name="sex"&gt;&lt;br/&gt;
       语言 &lt;input type="text" name="lang"&gt;&lt;br/&gt;
       电话 &lt;input type="text" name="regTelephone"&gt;&lt;br/&gt;
       邮件 &lt;input type="text" name="email"&gt;&lt;br/&gt;
       简介&lt;textarea rows="2" cols="30" name="intro"&gt;&lt;/textarea&gt;&lt;br/&gt;&lt;br&gt;
       爱好：音乐&lt;input type="checkbox" name="aihao" value="音乐"/&gt;
             篮球&lt;input type="checkbox" name="aihao" value="篮球"/&gt;
             足球&lt;input type="checkbox" name="aihao" value="足球"/&gt;&lt;br/&gt;&lt;br&gt;
       &lt;input type="submit" value="提交"/&gt;&amp;nbsp;&lt;input type="reset" value="重置"/&gt; 
   &lt;/form&gt; 
  &lt;/body&gt;
&lt;/html&gt;
</code></pre> 
<pre><code class="prism language-jsp">&lt;%@ page pageEncoding="UTF-8"  %&gt;
&lt;html&gt;
   &lt;head&gt;&lt;title&gt;用户注册：使用EL获取用户提交数据&lt;/title&gt;&lt;/head&gt;
   &lt;body&gt;
     &lt;h2&gt;您提交的内容如下：&lt;/h2&gt;
     &lt;% request.setCharacterEncoding("UTF-8"); %&gt; 
      姓名：${param.name}&lt;br/&gt;
      性别：${param.sex}&lt;br/&gt;
      外语：${param.lang}&lt;br/&gt;
      电话：${param.regTelephone}&lt;br/&gt;
     email：${param.email}&lt;br/&gt;
      个人简介：${param.intro}&lt;br/&gt;
      爱好：${paramValues.aihao[0]} ${paramValues.aihao[1]} ${paramValues.aihao[2]}
   &lt;/body&gt;
&lt;/html&gt;
</code></pre> 
<p>​ <code>request.setCharacterEncoding("UTF-8")</code> 这一行的目的是对于接受的表单数据使用<code>utf-8</code>进行编码，<code>${param.email}</code> 这个获取表单数据，我们发现这样写，十分简单。</p> 
<p>在这里注意区分一下jsp中的内部对象，和EL表达式中的内部对象。</p> 
<ul><li> <p>jsp：pageContext|request|session|application</p> </li><li> <p>EL：pageScope|requestScope|sessionScope|applicationScope</p> </li><li> <p>注意，如果不加范围获取数据，默认是在pageScope的作用域下。</p> </li></ul> 
<h5><a id="JSTL_990"></a>JSTL：</h5> 
<p>​ JSTL（JavaServer Pages Standard Tag Library）是用于简化在 JavaServer Pages (JSP) 中编写和管理标记的标准标签库。它提供了一组标签和函数，用于处理常见的任务，如条件判断、循环迭代、格式化日期和数值等。</p> 
<p>​ JSTL 的主要目标是将页面逻辑与页面设计和展示分离，以提高 JSP 页面的可维护性和可读性。通过使用 JSTL，开发人员可以避免在 JSP 中编写大量的 Java 代码，而是使用简单的标签和表达式完成常见的任务。</p> 
<p>​ 如果大家对Python的web框架Flask和Django框架熟悉的话，可以对jstl会有一个更深层次的理解，jstl的语法类似<code>Jinja2</code>,<code>Jinja2 </code>是一个流行的、现代的 Python 模板引擎，用于生成动态内容，特别是用于 Web 开发中的前端和后端页面渲染。</p> 
<p>​ 注意jstl的使用需要相应的jar包和jsp指令：</p> 
<pre><code>&lt;%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%&gt;
   &lt;taglib uri="http://java.sun.com /jsp/jstl/core" prefix="c" /&gt; 
</code></pre> 
<p>如下图：</p> 
<p><img src="https://images2.imgbox.com/83/9e/P4KkOd6E_o.png" alt="在这里插入图片描述"></p> 
<p>我写几个比较常用的语法：</p> 
<p>if语句：</p> 
<ul><li><code>&lt;c:if test="condition"&gt;...&lt;/c:if&gt;</code>：条件语句，根据指定的条件判断是否执行包含的内容。</li></ul> 
<pre><code class="prism language-jsp">&lt;c:if test="${user.isAdmin}"&gt;
  &lt;p&gt;Welcome, admin user!&lt;/p&gt;
&lt;/c:if&gt;
</code></pre> 
<p>循环：</p> 
<ul><li><code>&lt;c:forEach var="item" items="collection"&gt;...&lt;/c:forEach&gt;</code>：循环迭代语句，遍历集合并在每次迭代中执行包含的内容。</li></ul> 
<pre><code class="prism language-jsp">&lt;c:forEach var="item" items="${products}"&gt;
  &lt;p&gt;${item.name}: ${item.price}&lt;/p&gt;
&lt;/c:forEach&gt;
//products一般都是一个列表套字典的形式 item表示里面的每一项
</code></pre> 
<p>还有一种形式：</p> 
<pre><code class="prism language-jsp">&lt;c:forEach var="i" begin="10" end="50" step="5" varStatus="status"&gt;
  Index: ${status.index}, Count: ${status.count}, First: ${status.first}, Last: ${status.last}&lt;br/&gt;
&lt;/c:forEach&gt;
</code></pre> 
<p><code>varStatus</code> 对象（在上面的例子中命名为 <code>status</code>）具有以下属性：</p> 
<ul><li><code>index</code>：当前循环的索引值，所在位置。</li><li><code>count</code>：当前循环的计数值（从 1 开始）。</li><li><code>first</code>：一个布尔值，表示当前循环是否为第一个元素。</li><li><code>last</code>：一个布尔值，表示当前循环是否为最后一个元素。</li></ul> 
<p>​ 我们使用 <code>&lt;c:forEach&gt;</code> 标签创建一个循环，从 10 到 50，每次递增 5。循环变量被命名为 <code>i</code>。通过设置 <code>varStatus="status"</code>，我们将循环状态存储在名为 <code>status</code> 的变量中。我们看一下运行结果：</p> 
<p><img src="https://images2.imgbox.com/4e/ea/8gzEeLKe_o.png" alt="在这里插入图片描述"></p> 
<p>赋值：</p> 
<ul><li><code>&lt;c:set var="variable" value="expression" scope="scope"&gt;</code>：变量设定语句，将指定的值赋给变量，并可选择将变量存储在指定的作用域中。</li></ul> 
<pre><code class="prism language-jsp">&lt;c:set var="discount" value="${product.price * 0.1}" /&gt;
&lt;p&gt;Discounted price: ${product.price - discount}&lt;/p&gt;
</code></pre> 
<p>​ 上述示例中，<code>&lt;c:set&gt;</code> 标签将计算商品价格的 10% 并将结果赋给 <code>discount</code> 变量，然后在 <code>&lt;p&gt;</code> 标签中显示折扣后的价格</p> 
<p>多分支选择：</p> 
<ul><li><code>&lt;c:choose&gt; &lt;c:when test="condition"&gt;...&lt;/c:when&gt; &lt;c:otherwise&gt;...&lt;/c:otherwise&gt; &lt;/c:choose&gt;</code>：选择语句，根据条件选择执行其中一个分支。</li></ul> 
<pre><code class="prism language-jsp">&lt;c:choose&gt;
  &lt;c:when test="${user.gender == 'male'}"&gt;
    &lt;p&gt;Welcome, Mr. ${user.name}!&lt;/p&gt;
  &lt;/c:when&gt;
  &lt;c:when test="${user.gender == 'female'}"&gt;
    &lt;p&gt;Welcome, Ms. ${user.name}!&lt;/p&gt;
  &lt;/c:when&gt;
  &lt;c:otherwise&gt;
    &lt;p&gt;Welcome, ${user.name}!&lt;/p&gt;
  &lt;/c:otherwise&gt;
&lt;/c:choose&gt;
</code></pre> 
<p>输出：</p> 
<pre><code class="prism language-jsp">&lt;c:set var="message" value="&lt;script&gt;alert('Hello');&lt;/script&gt;" /&gt;

&lt;c:out value="${message}" /&gt;
</code></pre> 
<h5><a id="_1090"></a>相关案例：</h5> 
<h6><a id="_1092"></a>表单案例：</h6> 
<pre><code class="prism language-jsp">&lt;%@ page pageEncoding="UTF-8" %&gt;
&lt;html&gt;
&lt;body&gt;
&lt;form method="post"&gt;
输入第一个整数：&lt;input type="text" name="n1"&gt;&lt;br&gt;
输入第二个整数：&lt;input type="text" name="n2"&gt;&lt;br&gt;
&lt;input type="submit" value="求和"/&gt;
&lt;/form&gt;
&lt;%
String sn1=request.getParameter("n1");
if(sn1!=null){
    String sn2=request.getParameter("n2");
    int n1=Integer.parseInt(sn1);
    int n2=Integer.parseInt(sn2);
    out.print("结果为："+(n1+n2));
}
%&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre> 
<p>​ 我们分析一下这个页面，注意如果先用jsp或者el表达式获取表单数据，必须把数据放在一个form表单中，还要有一个提交按钮。上面的代码action没有写，那么就是把数据提交给当前页面，然后直接使用jsp在当前页面里面输出，但是点击submit按钮后，后进行页面刷新，因为点击提交按钮后会进行跳转，只不过这个跳转到当前页面。</p> 
<p>​ 但是我们如果想保留我们之前输入的值呢？可以使用el表达式，将input标签的value属性赋值，EL表达式还有一个好处，如果没有那个值，什么都不会显示，没有null或者未定义，接下来我们看看效果。</p> 
<pre><code class="prism language-jsp">输入第一个整数：&lt;input type="text" name="n1" value="${param.n1}"&gt;&lt;br&gt;
输入第二个整数：&lt;input type="text" name="n2" value="${param.n2}"&gt;&lt;br&gt;
</code></pre> 
<p><img src="https://images2.imgbox.com/81/73/KkRl2RhB_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-jsp">&lt;%@ page pageEncoding="UTF-8" %&gt;
&lt;html&gt;
&lt;body&gt;
&lt;form method="post" &gt;
输入第一个整数：&lt;input type="text" name="n1" value="${param.n1}"&gt;&lt;br&gt;
输入第二个整数：&lt;input type="text" name="n2" value="${param.n2}"&gt;&lt;br&gt;
&lt;input type="submit" value="求和"/&gt;
&lt;/form&gt;
&lt;%
String sn1=request.getParameter("n1");
if(sn1!=null){
    String sn2=request.getParameter("n2");
    int n1=Integer.parseInt(sn1);
    int n2=Integer.parseInt(sn2);
    out.print("结果为："+(n1+n2));
}
%&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre> 
<p>这里在将一种实现方法：</p> 
<h6><a id="_1152"></a>展示+处理:</h6> 
<p>在一个页面进行提交，在另一个页面接受，在转到一开始的页面显示？</p> 
<p>​ 我们想一想如何实现，我们可以在另一个页面进行jsp相关操作，然后在转发到那个页面，注意必须是转发，而不能能说是重定向，因为重定向会发送一个新的请求，我们保存的请求对象种的数据共享就不合适了，如果想使用重定向，需要你把数据共享范围变成session及其以上。</p> 
<p>a1.jsp:</p> 
<pre><code class="prism language-jsp">&lt;%@ page pageEncoding="UTF-8" %&gt;
&lt;html&gt;
&lt;body&gt;
&lt;form method="post" action="a2.jsp"&gt;
输入第一个整数：&lt;input type="text" name="n1" value="${param.n1}"&gt;&lt;br&gt;
输入第二个整数：&lt;input type="text" name="n2" value="${param.n2}"&gt;&lt;br&gt;
&lt;input type="submit" value="求和"/&gt;
&lt;/form&gt;
${result}
&lt;/body&gt;
&lt;/html&gt;
</code></pre> 
<p>上面使用EL表达式的好处是，如果没有相应的值，不会显示null或者报错，这个算是el 表达式的优点。</p> 
<p>a2.jsp</p> 
<pre><code class="prism language-jsp">&lt;%@ page pageEncoding="UTF-8"%&gt;
&lt;html&gt;
&lt;body&gt;
    &lt;%
        String sn1 = request.getParameter("n1");
        String sn2 = request.getParameter("n2");
        int n1 = Integer.parseInt(sn1);
        int n2 = Integer.parseInt(sn2);
        String s="结果为：" + (n1 + n2);
        request.setAttribute("result", s);
    // 保存在请求范围内
         
    %&gt;
    &lt;jsp:forward page="a1.jsp"&gt;&lt;/jsp:forward&gt;
    // 注意是转发 
&lt;/body&gt;
&lt;/html&gt;
</code></pre> 
<h6><a id="_1198"></a>自动登录：</h6> 
<p>​ 要想实现自动登录，一般来说把相关信息放在cookie里面，为什么不放在session中呢？因为cookie相当于保存在客户端的缓存，你如果把信息放在session中，每一次打开浏览器都是一次新的会话，怎么实现自动登录呢？</p> 
<p>login.jsp</p> 
<pre><code class="prism language-jsp">&lt;%@ page pageEncoding="UTF-8"%&gt;
&lt;html&gt;
&lt;head&gt;
&lt;title&gt;用户登录&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;form method="post" action="./logincheck.jsp"&gt;
        用户名：&lt;input type="text" size="10" name="username"&gt;&lt;br/&gt;
        密 码：&lt;input type="password" name="userpwd" /&gt;&lt;br/&gt;
        &lt;input type="submit" value="登录"&gt;
    &lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre> 
<p>logincheck.jsp</p> 
<pre><code class="prism language-jsp">&lt;%@ page pageEncoding="UTF-8"%&gt;
&lt;html&gt;
&lt;head&gt;
&lt;title&gt;登录处理&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;%
        request.setCharacterEncoding("UTF-8");
        String un = request.getParameter("username");//获取用户名
        if (un != null) {
            Cookie c = new Cookie("username", un);
            c.setMaxAge(30 * 24 * 3600);
            response.addCookie(c);//将Cookie对象保存到客户端
            response.sendRedirect("main.jsp");//重定向到主页面
        }
    %&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre> 
<p>ok?我们看看效果。 重点是什么我放在客户端的缓存中！</p> 
<p><img src="https://images2.imgbox.com/13/ef/1A0gHOyI_o.png" alt="在这里插入图片描述"></p> 
<h6><a id="_1248"></a>聊天场所：</h6> 
<p>​ 说一下重点吧，重点是把信息共享限制在application中，就是服务器的应用信息中，只要服务器不关，我们就可以访问到，也不能放在cookie里，因为cookie你只能自己用，而且cookie相关字段是有数据长度限制的。</p> 
<h6><a id="_1252"></a>表单提交技巧：</h6> 
<p>​ 如果我们想实现点击某个操作框，提交表单，而不是每次都使用那个input标签的submit属性，可以这样写：</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iframe</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>content.jsp<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>content<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>100%<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>80%<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iframe</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>addinfo.jsp<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>content<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>chatform<span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>post<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
      昵称：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>nicheng<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>nicheng<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
       发言：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>info<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>info<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>确定<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value javascript language-javascript"><span class="token function">check</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
      <span class="token keyword">function</span> <span class="token function">check</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
           document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"chatform"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<h6><a id="_1275"></a>路径问题：</h6> 
<p>关于jsp中的路径问题，不要写 <code>/</code> ,<code>/ </code>会被任务是从项目路径开始，<code>./</code> 是在当前文件所在的文件夹下找。</p> 
<p><img src="https://images2.imgbox.com/b4/4d/mEAb62yH_o.png" alt="在这里插入图片描述"></p> 
<p>以下四种写法均可。</p> 
<pre><code class="prism language-jsp"> &lt;form method="post" action="/javaweb1/logincheck.jsp"&gt; //绝对路径
&lt;form method="post" action="logincheck.jsp"&gt; // 相对路径
&lt;form method="post" action="./logincheck.jsp"&gt; //相对路径
 &lt;form method="post" action="${pageContext.request.contextPath}/logincheck.jsp&gt; //${pageContext.request.contextPath}是EL表达式 会自动获取当前所在工程名 即/javaweb1
</code></pre> 
<h6><a id="cookie_1291"></a>两种获取cookie的方式：</h6> 
<p>第一种使用jsp：</p> 
<pre><code class="prism language-jsp">&lt;% 
Cookie cookies[] = request.getCookies(); //返回的是一个列表 
for(int i=0; i&lt;cookies.length; i++) {
   // getName获取cookie的值 getvalue() 获取cookie对应键的值
         out.print(cookies[i].getName()+":"+cookies[i].getValue()+"&lt;br/&gt;");
}
%&gt;

&lt;% 
Cookie[] cookies = request.getCookies();
if (cookies != null) {
    for (Cookie cookie : cookies) {
        out.print(cookie.getName() + ":" + cookie.getValue() + "&lt;br/&gt;");
    }
}
%&gt;
</code></pre> 
<p>使用EL表达式：</p> 
<pre><code class="prism language-jsp">&lt;c:forEach var="cookie" items="${cookie}"&gt;
  Cookie Name: ${cookie.key}&lt;br/&gt;
  Cookie Value: ${cookie.value}&lt;br/&gt;&lt;br/&gt;
&lt;/c:forEach&gt;
</code></pre> 
<h6><a id="_1323"></a>强制类型转化：</h6> 
<p>如下是通过jsp获取存储应用对象里面的数据，<code>infoList</code> 是一个列表，但是我们最好使用<code>(List&lt;String&gt;)</code> 将其真正转化为java类型的列表。</p> 
<pre><code class="prism language-jsp">&lt;%
   List&lt;String&gt; infoList=(List&lt;String&gt;)application.getAttribute("infoList");
    %&gt;
</code></pre> 
<h6><a id="_1333"></a>总结：</h6> 
<p>这一章是考试的重点，也是难点，请大家充分理解jsp内部对象，不管大家从事前端或者后端一定理解数据的隔离性，我这个数据应该存在什么范围内，不要污染全局。</p> 
<h4><a id="__JDBC_1337"></a>第四章 JDBC：</h4> 
<p>​ JDBC是Java的一种API，用于与关系型数据库进行连接和交互。它提供了一组用于执行SQL语句、处理结果集和管理数据库连接的类和接口。</p> 
<p>​ 我希望大家从基础开始，虽然说写jdbc相对比较麻烦，但是这为ORM（对象关系映射）框架打下来基础，可能很多框架已经不要写sql语句了，某些组件已经继承了jdbc的作用，利于Python的web框架Flask和Django，还有Java的Hibernate和MyBatis，这些框架非常简洁，但是其实就是jdbc的封装。</p> 
<h5><a id="_1345"></a>查询操作：</h5> 
<pre><code class="prism language-java"><span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">"com.mysql.jdbc.Driver"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> url<span class="token operator">=</span><span class="token string">"jdbc:mysql://localhost:13306/javaweb"</span><span class="token punctuation">;</span>
<span class="token class-name">Connection</span> con<span class="token operator">=</span><span class="token class-name">DriverManager</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span><span class="token string">"root"</span><span class="token punctuation">,</span><span class="token string">"xxx123"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> sql<span class="token operator">=</span><span class="token string">"select * from student"</span><span class="token punctuation">;</span>
<span class="token class-name">PreparedStatement</span> pst<span class="token operator">=</span>con<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">ResultSet</span> rs<span class="token operator">=</span>pst<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">while</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>

	<span class="token class-name">Int</span> aa<span class="token operator">=</span>rs<span class="token punctuation">.</span><span class="token function">getInt</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>			
    <span class="token class-name">String</span> a<span class="token operator">=</span>rs<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>​ 获取值： 注意下标是从1开始</p> 
<h5><a id="_1363"></a>删除操作：</h5> 
<pre><code class="prism language-java">		<span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">"com.mysql.jdbc.Driver"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">"jdbc:mysql://localhost:13306/javaweb"</span><span class="token punctuation">;</span>
		<span class="token class-name">Connection</span> con <span class="token operator">=</span> <span class="token class-name">DriverManager</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token string">"root"</span><span class="token punctuation">,</span> <span class="token string">"xxx123"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">"delete from student where id=?"</span><span class="token punctuation">;</span>  <span class="token comment">//占位符</span>
		<span class="token class-name">PreparedStatement</span> pst <span class="token operator">=</span> con<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
		pst<span class="token punctuation">.</span><span class="token function">setInt</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//放入值</span>
		pst<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//执行</span>
		pst<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		con<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		pageContext<span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span><span class="token string">"query.jsp"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//转到</span>
</code></pre> 
<h5><a id="_1378"></a>修改操作：</h5> 
<pre><code class="prism language-java">		<span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">"com.mysql.jdbc.Driver"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">"jdbc:mysql://localhost:13306/javaweb"</span><span class="token punctuation">;</span>
		<span class="token class-name">Connection</span> con <span class="token operator">=</span> <span class="token class-name">DriverManager</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token string">"root"</span><span class="token punctuation">,</span> <span class="token string">"xxx123"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">"update student set sno=?,sname=?,sex=? where id=?"</span><span class="token punctuation">;</span>
		<span class="token class-name">PreparedStatement</span> pst <span class="token operator">=</span> con<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
		pst<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> sno<span class="token punctuation">)</span><span class="token punctuation">;</span>
		pst<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> sname<span class="token punctuation">)</span><span class="token punctuation">;</span>
		pst<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> sex<span class="token punctuation">)</span><span class="token punctuation">;</span>
		pst<span class="token punctuation">.</span><span class="token function">setInt</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
		pst<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		pst<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		con<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		pageContext<span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span><span class="token string">"query.jsp"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h5><a id="_1396"></a>插入操作：</h5> 
<pre><code class="prism language-java">    <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">"com.mysql.jdbc.Driver"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> url<span class="token operator">=</span><span class="token string">"jdbc:mysql://localhost:3306/student"</span><span class="token punctuation">;</span>
    <span class="token class-name">Connection</span> con<span class="token operator">=</span><span class="token class-name">DriverManager</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span><span class="token string">"root"</span><span class="token punctuation">,</span><span class="token string">"sa"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> sql<span class="token operator">=</span><span class="token string">"insert into register values (null,?,?)"</span><span class="token punctuation">;</span>
    <span class="token class-name">PreparedStatement</span> pst<span class="token operator">=</span>con<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
    pst<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> account<span class="token punctuation">)</span><span class="token punctuation">;</span>
    pst<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span>
    pst<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    pst<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    con<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h5><a id="_1411"></a>案例：</h5> 
<h6><a id="_1413"></a>选择框问题：</h6> 
<p>选择框是点击操作，我们需要通过js模拟勾选操作，不难直接显示之前的值</p> 
<pre><code class="prism language-js"><span class="token keyword">var</span> s<span class="token operator">=</span>document<span class="token punctuation">.</span><span class="token function">getElementsByName</span><span class="token punctuation">(</span><span class="token string">"sex"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token string">'${param.sex}'</span><span class="token operator">==</span><span class="token string">'男'</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    s<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>checked<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
    s<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>checked<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
</code></pre> 
<p>​ 注意：<code>'${param.sex}'</code> 外面的 ‘’ 不可以被去掉，因为EL表达式仅仅是获取那个值，而并没有说类型的问题。</p> 
<h6><a id="_1429"></a>关于转发：</h6> 
<p>​ 只有如下两种写法：</p> 
<pre><code>pageContext.forward("add.jsp")
request.getRequestDispatcher("add.jsp").forward(request, response)
</code></pre> 
<p>没有<code>request.forword("add.jsp")</code>.</p> 
<h6><a id="_1440"></a>细节问题：</h6> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">demo</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">Connection</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">DriverManager</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">PreparedStatement</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">ResultSet</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> query <span class="token punctuation">{<!-- --></span>

	<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{<!-- --></span>
		<span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">"com.mysql.cj.jdbc.Driver"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 加载驱动</span>
        <span class="token comment">// 连接字符串                      ip地址：mysql的端口号 /数据库名     </span>
        <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">"jdbc:mysql://localhost:13306/javaweb"</span><span class="token punctuation">;</span> 
        <span class="token class-name">Connection</span> con <span class="token operator">=</span> <span class="token class-name">DriverManager</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token string">"root"</span><span class="token punctuation">,</span> <span class="token string">"hubing123"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 连接数据库</span>
       <span class="token class-name">String</span> id<span class="token operator">=</span><span class="token string">"2"</span><span class="token punctuation">;</span>
        <span class="token comment">// 执行查询语句</span>
        <span class="token class-name">String</span> sql2 <span class="token operator">=</span> <span class="token string">"select * from student where id= ? "</span><span class="token punctuation">;</span><span class="token comment">// 准备sql语句</span>
        <span class="token class-name">PreparedStatement</span> pst2 <span class="token operator">=</span> con<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 创建封装语句的对象</span>
        pst2<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> fullSql <span class="token operator">=</span> pst2<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"完整的SQL语句："</span> <span class="token operator">+</span> fullSql<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">ResultSet</span> rs <span class="token operator">=</span> pst2<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 查询结果返回到ResultSet中</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token comment">// 利用循环输出ResultSet中的内容</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span> rs<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">","</span> <span class="token operator">+</span> rs<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">","</span> <span class="token operator">+</span> rs<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     
        <span class="token punctuation">}</span>
        rs<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 关闭结果集</span>
        pst2<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 执行sql语句1</span>
        con<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 关闭连接</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</code></pre> 
<p><img src="https://images2.imgbox.com/40/56/UNNMzrzr_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-java"> <span class="token class-name">String</span> id<span class="token operator">=</span><span class="token string">"2"</span><span class="token punctuation">;</span>
        <span class="token comment">// 执行查询语句</span>
        <span class="token class-name">String</span> sql2 <span class="token operator">=</span> <span class="token string">"select * from student where id= ? "</span><span class="token punctuation">;</span><span class="token comment">// 准备sql语句</span>
        <span class="token class-name">PreparedStatement</span> pst2 <span class="token operator">=</span> con<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 创建封装语句的对象</span>
        pst2<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> fullSql <span class="token operator">=</span> pst2<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"完整的SQL语句："</span> <span class="token operator">+</span> fullSql<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>我想看看拼接后的sql语句是 <code>select * from student where id= '2' </code>还是 <code>select * from student where id= 2 </code>,结论证明你放入的是什么，他拼接起来就是什么类型。</p> 
<h6><a id="_1494"></a>登录细节：</h6> 
<p>​ 如何证明用户是登录了还是没有登录，我们可以在登录页面提交成功后，将用户的信息放在session或则cookie中，然后我们下次只要验证sesson或者cookie是否有用户的信息。</p> 
<pre><code class="prism language-jsp">session.setAttribute("userid",account);
response.sendRedirect("index.jsp");
</code></pre> 
<h6><a id="SQL_1505"></a>SQL注入：</h6> 
<p>这个问题一般出现在登录页面，登录页面一般是对数据库进行查询，判断这个用户在数据库中的信息是否符合标准，但是如果在查询数据库的时候，使用字符串拼接这种写法可能会出现sql注入的问题，因为如果传入一个恒等式，那么就 符合条件了，如下：</p> 
<p>存在sql注入的问题：</p> 
<pre><code class="prism language-jsp">&lt;%
      request.setCharacterEncoding("UTF-8");
      String account=request.getParameter("account");
      if(account!=null){
       String pwd=request.getParameter("password");
          try{
         Class.forName("com.mysql.jdbc.Driver");
         String url="jdbc:mysql://localhost:3306/test";
         Connection con=DriverManager.getConnection(url,"root","sa");
         String sql="select * from user where userid='"+account+"' and userpwd='"+pwd+"'";
         System.out.println(sql);
         PreparedStatement pst=con.prepareStatement(sql);
         ResultSet rs=pst.executeQuery();
         %&gt;
</code></pre> 
<p>修改：</p> 
<pre><code class="prism language-jsp">// ...
String sql = "select * from user where userid=? and userpwd=?";
System.out.println(sql);
PreparedStatement pst = con.prepareStatement(sql);
pst.setString(1, account);
pst.setString(2, pwd);
ResultSet rs = pst.executeQuery();
// ...
</code></pre> 
<h4><a id="JavaBean_1541"></a>第五章：JavaBean</h4> 
<h5><a id="_1543"></a>简介：</h5> 
<p>​ JavaBean是Java语言中的一种特殊类，它遵循特定的命名规范和编程规范，用于封装数据和提供访问方法。JavaBean类通常用于在不同组件之间传递数据，例如在MVC架构中的视图、控制器和模型之间。就是我们要进行封装，工具类，实体包，数据库操控包依次分开，各尽其职，利于后期开发和维护。</p> 
<p>以下是JavaBean的一些特征和约定：</p> 
<p>（1） 实体类（entity.*）：实体类用于封装实体数据，通常只包含属性及对应的 getter 和 setter 方法。实体类的目的是表示业务领域中的实际对象，例如数据库表的行或其他业务对象。</p> 
<p>样例：</p> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>entity</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> id<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> username<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> email<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 无参构造函数</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Getter和Setter方法</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> id<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setId</span><span class="token punctuation">(</span><span class="token keyword">int</span> id<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> id<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getUsername</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> username<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setUsername</span><span class="token punctuation">(</span><span class="token class-name">String</span> username<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>username <span class="token operator">=</span> username<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getEmail</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> email<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setEmail</span><span class="token punctuation">(</span><span class="token class-name">String</span> email<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>email <span class="token operator">=</span> email<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>（2）工具类（util.*）：工具类封装了一组通用的方法，这些方法通常是静态的，可以通过类名直接调用。工具类用于提供各种功能，如数据加密/解密、日期处理、文件操作、数据库连接等。</p> 
<p>工具类样例：</p> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>util</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">EncryptionUtils</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">encrypt</span><span class="token punctuation">(</span><span class="token class-name">String</span> data<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 实现加密逻辑</span>
        <span class="token keyword">return</span> encryptedData<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">decrypt</span><span class="token punctuation">(</span><span class="token class-name">String</span> encryptedData<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 实现解密逻辑</span>
        <span class="token keyword">return</span> decryptedData<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>（3） 数据库操作类（dao.*）：数据库操作类封装了基本的数据库操作，如增删改查等。通常，首先设计一个接口来定义数据库操作的方法，然后实现该接口的具体类来实现这些方法并与数据库进行交互。</p> 
<p>数据库操控类样例：</p> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>dao</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>entity<span class="token punctuation">.</span></span><span class="token class-name">User</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">UserDao</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">void</span> <span class="token function">addUser</span><span class="token punctuation">(</span><span class="token class-name">User</span> user<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">updateUser</span><span class="token punctuation">(</span><span class="token class-name">User</span> user<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">deleteUser</span><span class="token punctuation">(</span><span class="token keyword">int</span> userId<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">User</span> <span class="token function">getUserById</span><span class="token punctuation">(</span><span class="token keyword">int</span> userId<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>dao<span class="token punctuation">.</span>impl</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>dao<span class="token punctuation">.</span></span><span class="token class-name">UserDao</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>entity<span class="token punctuation">.</span></span><span class="token class-name">User</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserDaoImpl</span> <span class="token keyword">implements</span> <span class="token class-name">UserDao</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addUser</span><span class="token punctuation">(</span><span class="token class-name">User</span> user<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 实现添加用户的逻辑</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">updateUser</span><span class="token punctuation">(</span><span class="token class-name">User</span> user<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 实现更新用户的逻辑</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">deleteUser</span><span class="token punctuation">(</span><span class="token keyword">int</span> userId<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 实现删除用户的逻辑</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">User</span> <span class="token function">getUserById</span><span class="token punctuation">(</span><span class="token keyword">int</span> userId<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 实现根据ID获取用户的逻辑</span>
        <span class="token keyword">return</span> user<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h5><a id="_1660"></a>案例：</h5> 
<h6><a id="CURD_1662"></a>学生表CURD：</h6> 
<p>项目结构：</p> 
<p><img src="https://images2.imgbox.com/26/ee/nrViEWEf_o.png" alt="在这里插入图片描述"></p> 
<p>实体包我就不讲了，就是一个类，然后构造函数还有一些<code>get</code>、<code>set</code>的函数。</p> 
<p>看一下数据操控包：</p> 
<p><img src="https://images2.imgbox.com/77/98/LvMQ0xnp_o.png" alt="在这里插入图片描述"></p> 
<p>JdbcUtil.java</p> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">util</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Properties</span></span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token class-name">JdbcUtil</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// 创建一个不可以修改的类 </span>
	<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">String</span> driver <span class="token punctuation">;</span> <span class="token comment">//驱动</span>
	<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">String</span> url <span class="token punctuation">;</span> <span class="token comment">// 数据库url</span>
	<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">String</span> user <span class="token punctuation">;</span> <span class="token comment">//用户名</span>
	<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">String</span> password <span class="token punctuation">;</span><span class="token comment">// 密码 </span>
     <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Properties</span> pr<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//构造一个对象 </span>
	<span class="token keyword">private</span> <span class="token class-name">JdbcUtil</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
	<span class="token keyword">static</span> <span class="token punctuation">{<!-- --></span> 
	   <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>pr<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token class-name">JdbcUtil</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span><span class="token string">"db.properties"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//读取文本的db.properties配置文件</span>
            <span class="token comment">//接下来依次获取</span>
		  driver<span class="token operator">=</span>pr<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">"driver"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		  url<span class="token operator">=</span>pr<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">"url"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		  user<span class="token operator">=</span>pr<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		  password<span class="token operator">=</span>pr<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">"password"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		  <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span>driver<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">ExceptionInInitializerError</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
    <span class="token comment">// 获取连接</span>
	<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Connection</span> <span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token class-name">DriverManager</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> user<span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
    <span class="token comment">//释放关闭连接</span>
	<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">free</span><span class="token punctuation">(</span><span class="token class-name">ResultSet</span> rs<span class="token punctuation">,</span> <span class="token class-name">Statement</span> st<span class="token punctuation">,</span> <span class="token class-name">Connection</span> conn<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span> <span class="token keyword">if</span> <span class="token punctuation">(</span>rs <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> rs<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{<!-- --></span>
			<span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span> <span class="token keyword">if</span> <span class="token punctuation">(</span>st <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> st<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{<!-- --></span>
				  <span class="token keyword">if</span> <span class="token punctuation">(</span>conn <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
				    <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span> conn<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				   <span class="token punctuation">}</span>
		             <span class="token punctuation">}</span>
		     <span class="token punctuation">}</span>
	    <span class="token punctuation">}</span>
	<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span><span class="token punctuation">{<!-- --></span>
		<span class="token class-name">JdbcUtil</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

</code></pre> 
<p>我们接下来主要看这个实体操控包在干什么：</p> 
<p>StudentDao.java</p> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">dao</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">Connection</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">PreparedStatement</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">ResultSet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">util<span class="token punctuation">.</span></span><span class="token class-name">JdbcUtil</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">entity<span class="token punctuation">.</span></span><span class="token class-name">Student</span></span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StudentDao</span> <span class="token punctuation">{<!-- --></span>
   <span class="token comment">// 添加操作 </span>
   <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Student</span> student<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span><span class="token punctuation">{<!-- --></span>
	 <span class="token class-name">Connection</span> conn <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">//初始化数据库连接对象</span>
	 <span class="token class-name">PreparedStatement</span> ps <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span><span class="token comment">// 初始化数据库预处理对象</span>
	 <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
		 conn <span class="token operator">=</span> <span class="token class-name">JdbcUtil</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		 <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">"insert into student  values (null,?,?,?) "</span><span class="token punctuation">;</span>
		 ps <span class="token operator">=</span> conn<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token comment">//更新sql语句中的参数设置值</span>
		 ps<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> student<span class="token punctuation">.</span><span class="token function">getSno</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		 ps<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span>student<span class="token punctuation">.</span><span class="token function">getSname</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		 ps<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span>student<span class="token punctuation">.</span><span class="token function">getSex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token comment">// student.getSno() student.getSex() student.getSname() 是实体类的对外接口</span>
		 ps<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//执行 </span>
	 <span class="token punctuation">}</span><span class="token keyword">finally</span> <span class="token punctuation">{<!-- --></span><span class="token class-name">JdbcUtil</span><span class="token punctuation">.</span><span class="token function">free</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span>ps<span class="token punctuation">,</span> conn<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">//释放</span>
   <span class="token punctuation">}</span>
   <span class="token comment">//更新操作</span>
   <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token class-name">Student</span> student<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span><span class="token punctuation">{<!-- --></span>
	<span class="token class-name">Connection</span> conn <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">//初始化数据库连接对象</span>
	<span class="token class-name">PreparedStatement</span> ps <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span><span class="token comment">// 初始化数据库预处理对象</span>
	<span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
		conn <span class="token operator">=</span> <span class="token class-name">JdbcUtil</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">"update student set sno=?,sname=?,sex=? where id=? "</span><span class="token punctuation">;</span>
		ps <span class="token operator">=</span> conn<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// sql 语句填充</span>
		ps<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span>student<span class="token punctuation">.</span><span class="token function">getSno</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		ps<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span>student<span class="token punctuation">.</span><span class="token function">getSname</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		ps<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> student<span class="token punctuation">.</span><span class="token function">getSex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		ps<span class="token punctuation">.</span><span class="token function">setInt</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> student<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		ps<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 释放 </span>
	<span class="token punctuation">}</span><span class="token keyword">finally</span> <span class="token punctuation">{<!-- --></span><span class="token class-name">JdbcUtil</span><span class="token punctuation">.</span><span class="token function">free</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span>ps<span class="token punctuation">,</span> conn<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
  <span class="token comment">//删除一条数据</span>
   <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">delete</span><span class="token punctuation">(</span><span class="token keyword">int</span> id<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span><span class="token punctuation">{<!-- --></span>
	 <span class="token class-name">Connection</span> conn <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
	 <span class="token class-name">PreparedStatement</span> ps <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
	 <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
		conn <span class="token operator">=</span> <span class="token class-name">JdbcUtil</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">"delete from student where id=?"</span><span class="token punctuation">;</span>
		ps <span class="token operator">=</span> conn<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
		ps<span class="token punctuation">.</span><span class="token function">setInt</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
		ps<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token keyword">finally</span> <span class="token punctuation">{<!-- --></span><span class="token class-name">JdbcUtil</span><span class="token punctuation">.</span><span class="token function">free</span><span class="token punctuation">(</span> <span class="token keyword">null</span><span class="token punctuation">,</span>ps<span class="token punctuation">,</span> conn<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
   <span class="token comment">// 根据id主键值查找学生信息 </span>
   <span class="token keyword">public</span> <span class="token class-name">Student</span> <span class="token function">findStudentById</span><span class="token punctuation">(</span><span class="token keyword">int</span> id<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span><span class="token punctuation">{<!-- --></span>
	<span class="token class-name">Connection</span> conn <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
	<span class="token class-name">PreparedStatement</span> ps <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
	<span class="token class-name">ResultSet</span> rs <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
       <span class="token comment">// 在外面创建是为了 里面可以对student进行修改 </span>
	<span class="token class-name">Student</span> student<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">;</span>
	<span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
		conn <span class="token operator">=</span> <span class="token class-name">JdbcUtil</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">"select * from student where id=? "</span><span class="token punctuation">;</span>
		ps <span class="token operator">=</span> conn<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
		ps<span class="token punctuation">.</span><span class="token function">setInt</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
		rs<span class="token operator">=</span>ps<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		   student<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">///构造一个对象 </span>
		   student<span class="token punctuation">.</span><span class="token function">setId</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">getInt</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		   student<span class="token punctuation">.</span><span class="token function">setSno</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		   student<span class="token punctuation">.</span><span class="token function">setSname</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		   student<span class="token punctuation">.</span><span class="token function">setSex</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token keyword">finally</span> <span class="token punctuation">{<!-- --></span><span class="token class-name">JdbcUtil</span><span class="token punctuation">.</span><span class="token function">free</span><span class="token punctuation">(</span>rs<span class="token punctuation">,</span> ps<span class="token punctuation">,</span> conn<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
	<span class="token keyword">return</span> student<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
   <span class="token comment">//返回 [ student1，student2,......] 形式的列表 </span>
   <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Student</span><span class="token punctuation">&gt;</span></span> <span class="token function">query</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span><span class="token punctuation">{<!-- --></span>
	<span class="token class-name">Connection</span> conn <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
	<span class="token class-name">PreparedStatement</span> ps <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
	<span class="token class-name">ResultSet</span> rs <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
       <span class="token comment">//Student形列表</span>
	<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Student</span><span class="token punctuation">&gt;</span></span> studentList<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Student</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
		conn <span class="token operator">=</span> <span class="token class-name">JdbcUtil</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">"select * from student "</span><span class="token punctuation">;</span>
		ps<span class="token operator">=</span>conn<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
		rs<span class="token operator">=</span>ps<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">while</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		   <span class="token class-name">Student</span> student<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
		   student<span class="token punctuation">.</span><span class="token function">setId</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">getInt</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		   student<span class="token punctuation">.</span><span class="token function">setSno</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		   student<span class="token punctuation">.</span><span class="token function">setSname</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		   student<span class="token punctuation">.</span><span class="token function">setSex</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//放入列表 </span>
		   studentList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>student<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token keyword">finally</span> <span class="token punctuation">{<!-- --></span><span class="token class-name">JdbcUtil</span><span class="token punctuation">.</span><span class="token function">free</span><span class="token punctuation">(</span>rs<span class="token punctuation">,</span> ps<span class="token punctuation">,</span> conn<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
      <span class="token comment">//将列表返回</span>
	<span class="token keyword">return</span> studentList<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<p>我们在看看那个jsp文件：</p> 
<pre><code class="prism language-css"> <span class="token selector">body</span><span class="token punctuation">{<!-- --></span>
      <span class="token property">text-align</span><span class="token punctuation">:</span>center<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">th,td</span><span class="token punctuation">{<!-- --></span>
          <span class="token property">border</span><span class="token punctuation">:</span>2px solid gray<span class="token punctuation">;</span>
          <span class="token property">text-align</span><span class="token punctuation">:</span>center<span class="token punctuation">;</span>
          <span class="token property">padding</span><span class="token punctuation">:</span>3px 10px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">table</span><span class="token punctuation">{<!-- --></span>
          <span class="token property">border-collapse</span><span class="token punctuation">:</span>collapse<span class="token punctuation">;</span> 
          <span class="token property">margin</span><span class="token punctuation">:</span>10px auto<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">#form1</span><span class="token punctuation">{<!-- --></span>
          <span class="token property">padding</span><span class="token punctuation">:</span>20px<span class="token punctuation">;</span>
          <span class="token property">display</span><span class="token punctuation">:</span>none<span class="token punctuation">;</span>
          <span class="token property">position</span><span class="token punctuation">:</span>fixed<span class="token punctuation">;</span>
          <span class="token property">top</span><span class="token punctuation">:</span>50%<span class="token punctuation">;</span>
          <span class="token property">left</span><span class="token punctuation">:</span>50%<span class="token punctuation">;</span>
          <span class="token property">width</span><span class="token punctuation">:</span>300px<span class="token punctuation">;</span>
          <span class="token property">height</span><span class="token punctuation">:</span>200px<span class="token punctuation">;</span>
          <span class="token property">z-index</span><span class="token punctuation">:</span>1000<span class="token punctuation">;</span>
          <span class="token property">margin-left</span><span class="token punctuation">:</span>-200px<span class="token punctuation">;</span>
          <span class="token property">margin-top</span><span class="token punctuation">:</span>-200px<span class="token punctuation">;</span>
           <span class="token property">background</span><span class="token punctuation">:</span> #88f<span class="token punctuation">;</span><span class="token punctuation">}</span>
</code></pre> 
<pre><code class="prism language-jsp">&lt;%@ page  pageEncoding="UTF-8" import="java.util.*,entity.*,dao.*"%&gt;
 &lt;taglib uri="http://java.sun.com /jsp/jstl/core" prefix="c" /&gt; 
&lt;html&gt;
&lt;head&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;%
StudentDao studentDao=new StudentDao(); //创建一个实体操控对象 
request.setCharacterEncoding("UTF-8");//设置请求的字符编码方式为 UTF-8
String op=request.getParameter("op");// 获取操作类型 CURD
if(op!=null){
if("add".equals(op)){ //添加   
    Student student=new Student(request.getParameter("sno"),request.getParameter("sname"),request.getParameter("sex"));
    try{studentDao.add(student);}//通过实体操控类添加对象
    catch(Exception e){
        out.print("&lt;script&gt;alert('学号不唯一')&lt;/script&gt;");
    }
}
else if("update".equals(op)){ //更新
Student student=new Student();
student.setId(Integer.parseInt(request.getParameter("id")));
student.setSno(request.getParameter("sno"));
student.setSname(request.getParameter("sname"));
student.setSex(request.getParameter("sex"));
try{studentDao.update(student);}
catch(Exception e){
    out.print("&lt;script&gt;alert('更新失败，学号不唯一')&lt;/script&gt;");
}
}
else if("delete".equals(op)){ //根据主键id删除对象 
studentDao.delete(Integer.parseInt(request.getParameter("id")));
}
}
    //操控完 还要获取 所有对象来展示 
List&lt;Student&gt; studentList=studentDao.query();
pageContext.setAttribute("studentList",studentList); //数据共享 
 %&gt;
  &lt;h3&gt;&lt;a href="javascript:add()"&gt;添加记录&lt;/a&gt;&lt;/h3&gt; 
 &lt;h2&gt;学生信息&lt;/h2&gt; 
   &lt;table&gt;
   &lt;tr&gt;&lt;th&gt;学号&lt;/th&gt;&lt;th&gt;姓名&lt;/th&gt;&lt;th&gt;性别&lt;/th&gt;&lt;th&gt;修改&lt;/th&gt;&lt;th&gt;删除&lt;/th&gt;&lt;/tr&gt;
  &lt;c:forEach items="${studentList}" var="student" varStatus="st"&gt;
  &lt;tr&gt;
   &lt;td&gt;${student.sno}&lt;/td&gt;
   &lt;td&gt;${student.sname}&lt;/td&gt;
   &lt;td&gt;${student.sex}&lt;/td&gt;
     &lt;td&gt;&lt;a href="javascript:update(${student.id},'${student.sno}','${student.sname}','${student.sex}')"&gt;修改&lt;/a&gt;&lt;/td&gt;
   &lt;td&gt;&lt;a href="query.jsp?op=delete&amp;id=${student.id}" οnclick="return confirm('确实要删除吗？')"&gt;删除&lt;/a&gt;&lt;/td&gt;    
  &lt;/tr&gt;
 &lt;/c:forEach&gt; 
 &lt;/table&gt;
 &lt;form method="post" id="form1"&gt;
学号&lt;input type="text" name="sno" id="sno"/&gt;&lt;br&gt;&lt;br&gt;
 姓名&lt;input type="text" name="sname" id="sname"/&gt;&lt;br&gt;&lt;br&gt;
性别&lt;input type="radio" name="sex" value="男" checked/&gt;男&lt;input type="radio" name="sex" value="女" /&gt;女&lt;br&gt;&lt;br&gt;
 &lt;input type="hidden" name="op" value="" id="op"/&gt;
 &lt;input type="hidden" name="id" id="id"/&gt;
 &lt;input type="submit" value="" id="bt"/&gt;
 &lt;input type="reset" value="重置"/&gt;
  &lt;input type="button" value="关闭" οnclick="document.getElementById('form1').style.display='none';"/&gt;
 &lt;/form&gt;
 &lt;br&gt;
 &lt;script&gt;
 function add(){
     document.getElementById("bt").value="添加";
     document.getElementById("op").value="add";
     document.getElementById("form1").style.display="block";
      document.getElementById('form1').action='query.jsp';
 }
 function update(id,sno,sname,sex){
     document.getElementById("bt").value="修改";
     document.getElementById("op").value="update";
     document.getElementById("id").value=id;
     document.getElementById("sno").value=sno;
     document.getElementById("sname").value=sname;
     var sexs=document.getElementsByName("sex");
     if(sex=='男'){
         sexs[0].checked=true;sexs[1].checked=false;
     }
     else{
         sexs[0].checked=false;sexs[1].checked=true;
     }
     document.getElementById("form1").style.display="block";
     document.getElementById('form1').action='query.jsp';
      
 }
 &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre> 
<h4><a id="_servlet_1959"></a>第六章 servlet/过滤器/监听器</h4> 
<h5><a id="servlet_1960"></a>servlet</h5> 
<p>​ Servlet是一种Java编程语言类，用于扩展Web服务器的功能并为Web应用程序提供动态内容。它是Java企业版（Java EE）的基本组件，常用于开发服务器端的Web应用程序。</p> 
<p>​ 当向Web服务器请求一个servlet时，服务器会调用servlet的方法来处理请求并生成响应。Servlet可以执行各种任务，如从数据库检索数据、处理表单提交、生成动态HTML内容以及与其他Web服务交互。</p> 
<p>我画一幅图片给大家讲一下上面这句话是什么意思。</p> 
<p><img src="https://images2.imgbox.com/58/3f/7U6VC8Uj_o.png" alt="在这里插入图片描述"></p> 
<p>我们可以看到servlet相当于一个中间件，起到了数据处理的功能，同时将处理后的数据保存在请求或者session内，前端页面通过EL表达式展示即可。</p> 
<p>servlet创建：</p> 
<p><img src="https://images2.imgbox.com/41/54/KrAsKbQY_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/8c/ec/mjDq1Nzn_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/5b/b4/vQogpRk1_o.png" alt="在这里插入图片描述"></p> 
<p>当客户端向服务器发送HTTP请求时，可以使用不同的HTTP方法，如GET和POST。在Servlet中，可以使用<code>doGet()</code>和<code>doPost()</code>方法来处理这些请求。</p> 
<ol><li> <p><code>doGet(HttpServletRequest request, HttpServletResponse response)</code>:</p> 
  <ul><li>用于处理HTTP GET请求。</li><li>通常用于从服务器获取数据，如检索数据库记录或执行一些只读操作。</li><li>可以通过<code>HttpServletRequest</code>对象获取请求参数、请求头、会话信息等。</li><li>可以使用<code>HttpServletResponse</code>对象生成并发送响应给客户端。</li></ul> </li><li> <p><code>doPost(HttpServletRequest request, HttpServletResponse response)</code>:</p> 
  <ul><li>用于处理HTTP POST请求。</li><li>通常用于向服务器提交数据，如表单提交或执行一些需要修改服务器状态的操作。</li><li>可以通过<code>HttpServletRequest</code>对象获取POST请求中的表单参数、请求头、会话信息等。</li><li>可以使用<code>HttpServletResponse</code>对象生成并发送响应给客户端。</li></ul> <p>下面是一个默认的servlet的，我们需要对其内部doGet() 和doPost()进行修改。</p> </li></ol> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">"/demo"</span><span class="token punctuation">)</span> <span class="token comment">// 如果想要修改URl 可以在这里修改</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> demo <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">long</span> serialVersionUID <span class="token operator">=</span> <span class="token number">1L</span><span class="token punctuation">;</span>
       
    <span class="token keyword">public</span> <span class="token function">demo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
	<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
		response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"Served at: "</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
		<span class="token function">doGet</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//两个函数之间可以相互调用 </span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre> 
<h6><a id="_2020"></a>内部对象：</h6> 
<p>以下是Servlet中常用的内部对象：</p> 
<ol><li><code>HttpServletRequest</code>：表示HTTP请求的对象。它提供了访问请求的各种属性和数据的方法。一些常见的方法包括： 
  <ul><li><code>getParameter(name)</code>：获取指定名称的请求参数的值。</li><li><code>getMethod()</code>：获取HTTP请求的方法（如GET、POST等）。</li><li><code>getRequestURL()</code>：获取请求的URL。</li><li><code>getSession()</code>：获取与请求关联的会话对象。</li><li><code>getHeader(name)</code>：获取指定名称的请求头的值。</li></ul> </li><li><code>HttpServletResponse</code>：表示HTTP响应的对象。它提供了生成和发送响应给客户端的方法。一些常见的方法包括： 
  <ul><li><code>setContentType(type)</code>：设置响应的内容类型。</li><li><code>getWriter()</code>：获取用于写入响应数据的<code>PrintWriter</code>对象。</li><li><code>setStatus(status)</code>：设置响应的状态码。</li><li><code>sendRedirect(url)</code>：将响应重定向到指定的URL。</li></ul> </li><li><code>HttpSession</code>：表示与客户端关联的会话对象。它用于在多个请求之间存储和共享数据。一些常见的方法包括： 
  <ul><li><code>setAttribute(name, value)</code>：在会话中设置属性的值。</li><li><code>getAttribute(name)</code>：获取会话中指定属性的值。</li><li><code>removeAttribute(name)</code>：从会话中删除指定的属性。</li></ul> </li><li><code>ServletContext</code>：表示Servlet上下文的对象。它提供了与Servlet容器环境相关的信息和功能。一些常见的方法包括： 
  <ul><li><code>getRealPath(path)</code>：获取在服务器上的实际文件路径。</li><li><code>getRequestDispatcher(path)</code>：获取用于将请求转发到其他资源的<code>RequestDispatcher</code>对象。</li><li><code>getInitParameter(name)</code>：获取指定名称的初始化参数的值。</li></ul> </li></ol> 
<ul><li>输出: <code>PrintWriter out=response.getWriter();</code></li><li>session:<code>HttpSession session=request.getSession();</code></li><li>application:<code>ServletContext application= this.getServletContext();</code></li></ul> 
<h6><a id="_2050"></a>路径细节：</h6> 
<p>不同情况下/ 表示的路径不同：</p> 
<p>链接，表单提交、重定向时：</p> 
<p><code>/</code>代表：<code>http://localhost:8080</code>,所以需要在后面写上项目工程所在路径，<code>${pageContext.request.contextPath}</code> 可以项目工程名字，被解释为<code>/项目工程</code>，那么在和<code>http://localhost:8080</code>拼接就变成了 <code>http://localhost:8080/javaweb1</code>.</p> 
<pre><code> &lt;form method="post" action="${pageContext.request.contextPath}/logincheck.jsp&gt; //${pageContext.request.contextPath}是EL表达式 会自动获取当前所在工程名 即/javaweb1
</code></pre> 
<p>转发、包含以及servlet映射地址:</p> 
<p>​ <code>/</code> 表示 <code>http://localhost:8080/web项目工程名</code>，不需要写工程名了。</p> 
<p>两数之和：</p> 
<p>要求：通过servlet实现两数之和，最后转回到求和页面。</p> 
<p>a1.jsp:</p> 
<pre><code class="prism language-jsp">&lt;%@ page pageEncoding="UTF-8" %&gt;
&lt;html&gt;
&lt;body&gt;
&lt;form method="post" action="add"&gt;
输入第一个整数：&lt;input type="text" name="n1" value="${param.n1}"&gt;&lt;br&gt;
输入第二个整数：&lt;input type="text" name="n2" value="${param.n2}"&gt;&lt;br&gt;
&lt;input type="submit" value="求和"/&gt;
&lt;/form&gt;
${result}
&lt;/body&gt;
&lt;/html&gt;
</code></pre> 
<p>servlet:</p> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">servlet</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">"/add"</span><span class="token punctuation">)</span> <span class="token comment">//当前端页面提交到这个 /add的时候 servlet会执行下面</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> add <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">long</span> serialVersionUID <span class="token operator">=</span> <span class="token number">1L</span><span class="token punctuation">;</span>     
    <span class="token keyword">public</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

	<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
		<span class="token comment">// TODO Auto-generated method stub</span>
		response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"Served at: "</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Served at: /javaweb1(项目名)</span>
	<span class="token punctuation">}</span>
    <span class="token comment">//执行下面代码 因为时post请求</span>
	<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">int</span> n1<span class="token operator">=</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"n1"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//获取值</span>
        <span class="token keyword">int</span> n2<span class="token operator">=</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"n2"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//获取值</span>
        <span class="token class-name">String</span> result<span class="token operator">=</span>n1<span class="token operator">+</span><span class="token string">"+"</span><span class="token operator">+</span>n2<span class="token operator">+</span><span class="token string">"="</span><span class="token operator">+</span><span class="token punctuation">(</span>n1<span class="token operator">+</span>n2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//拼接字符串</span>
        request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"result"</span><span class="token punctuation">,</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//在请求范围内保存数据 名为result 值为 result</span>
        request<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">"/a1.jsp"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//请求转发 </span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</code></pre> 
<p><img src="https://images2.imgbox.com/fc/3b/ChSvVXKN_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="_2125"></a>过滤器/监听器</h5> 
<h6><a id="_2127"></a>简介：</h6> 
<p>​ 过滤器（Filter）和监听器（Listener）是在Java Web应用程序中用于处理请求和响应的重要组件。它们提供了一种在Web应用程序中对请求和响应进行拦截、处理和修改的机制，以实现一些共享逻辑、增强功能或执行特定任务的需求。</p> 
<h6><a id="Filter_2131"></a><strong>过滤器（Filter）</strong></h6> 
<p>过滤器是一种用于在HTTP请求被发送到Servlet之前或响应返回给客户端之前拦截、处理请求和响应的组件。它可以对请求进行预处理、对响应进行后处理，也可以修改请求和响应的内容。过滤器通常用于实现以下功能：</p> 
<ol><li>认证和授权：验证用户身份，检查访问权限。</li><li>日志记录和性能监控：记录请求和响应的信息，测量性能指标。</li><li>数据压缩和加密：对请求和响应进行压缩或加密。</li><li>请求和响应的修改：修改请求参数、响应内容或头部信息。</li><li>缓存和资源优化：缓存响应内容或优化资源加载。</li></ol> 
<p>过滤器创建过程：</p> 
<p><img src="https://images2.imgbox.com/be/25/GWlwY1PM_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/db/d2/SISvM6Iw_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/8b/c9/OlmS1Dke_o.png" alt="在这里插入图片描述"></p> 
<p>我们主要时修改<code>doFilter</code> 来起到拦截作用。</p> 
<p>我们先看一下<code>doFilter</code> 函数中的参数</p> 
<pre><code class="prism language-java">	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doFilter</span><span class="token punctuation">(</span><span class="token class-name">ServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">ServletResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">FilterChain</span> chain<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">,</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// ServletRequest 此对象给过滤器提供了对请求信息的完全访问,就是请求对象。</span>
        <span class="token comment">//ServletResponse  响应对象</span>
        <span class="token comment">//FilterChain 用于将请求传递给下一个过滤器或目标 Servlet</span>

		chain<span class="token punctuation">.</span><span class="token function">doFilter</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

</code></pre> 
<h6><a id="_2167"></a>拦截用户：</h6> 
<p>​ 一般就是起到拦截用户的作用，比如说用户没有某个权限，会将其拦截下来，会将网页转到登录页面或者其他页面。</p> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">filter</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">Filter</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">FilterChain</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">FilterConfig</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletResponse</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebFilter</span></span><span class="token punctuation">;</span>
<span class="token annotation punctuation">@WebFilter</span><span class="token punctuation">(</span><span class="token string">"/admin/*"</span><span class="token punctuation">)</span> <span class="token comment">//拦截的URL模式为"/admin/*"</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Filter1</span> <span class="token keyword">implements</span> <span class="token class-name">Filter</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">//过滤器的销毁方法，在过滤器被销毁时调用。</span>
    <span class="token punctuation">}</span>
 <span class="token comment">// 核心方法</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doFilter</span><span class="token punctuation">(</span><span class="token class-name">ServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">ServletResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">FilterChain</span> filterchain<span class="token punctuation">)</span>
            <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">,</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">HttpServletRequest</span> requ <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span><span class="token punctuation">)</span> request<span class="token punctuation">;</span><span class="token comment">//转化为http请求对象</span>
        <span class="token class-name">HttpServletResponse</span> resp <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">HttpServletResponse</span><span class="token punctuation">)</span> response<span class="token punctuation">;</span><span class="token comment">//转化为http响应对象</span>
        <span class="token class-name">HttpSession</span> session <span class="token operator">=</span> requ<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token comment">//表示获取与当前请求相关联的会话对象（HttpSession），如果会话不存在，则创建一个新的会话。</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>session<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"u_name"</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">//检查会话中是否存在名为"u_name"的属性</span>
            <span class="token comment">//响应转发 </span>
            <span class="token comment">//requ.getContextPath() 当前Web应用程序的上下文路径(/web工程名)</span>
            resp<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span>requ<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"/login.jsp"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">//用于将请求和响应对象传递给过滤器链中的下一个组件，继续处理请求。</span>
            filterchain<span class="token punctuation">.</span><span class="token function">doFilter</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
 
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token class-name">FilterConfig</span> arg0<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{<!-- --></span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h6><a id="Listener_2210"></a><strong>监听器（Listener）</strong></h6> 
<p>监听器是一种用于监听Web应用程序中的事件和状态变化的组件。它可以接收和响应特定事件的发生，以执行相应的逻辑。监听器通常用于以下场景：</p> 
<ol><li>生命周期事件：监听Servlet、会话或上下文的创建、销毁和属性变化等生命周期事件。</li><li>请求和会话事件：监听请求的开始和结束，会话的创建和销毁，属性的变化等事件。</li><li>上下文初始化和销毁：监听Web应用程序的初始化和销毁事件。</li><li>属性变化：监听属性的增加、修改和删除等变化。</li></ol> 
<p>创建过程：</p> 
<p><img src="https://images2.imgbox.com/d6/f5/zfv4K5aH_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/b7/f9/KCnleHt6_o.png" alt="在这里插入图片描述"></p> 
<p>勾选要监听的事件。</p> 
<p>​ 在Java Servlet规范中，可以监听多种类型的对象。根据不同的对象类型，可以将监听对象分为以下几类：</p> 
<ol><li> <p>ServletContext（Web应用程序上下文）(应用对象）相关的监听对象：</p> 
  <ul><li>ServletContextListener：用于监听ServletContext的创建和销毁事件。</li><li>ServletContextAttributeListener：用于监听ServletContext属性的添加、删除和替换事件。</li></ul> </li><li> <p>HttpSession（会话）相关的监听对象：</p> 
  <ul><li>HttpSessionListener：用于监听HttpSession的创建和销毁事件。</li><li>HttpSessionAttributeListener：用于监听HttpSession属性的添加、删除和替换事件。</li><li>HttpSessionActivationListener：用于监听HttpSession的活化和钝化事件。</li><li>HttpSessionBindingListener：用于监听HttpSession属性绑定和解绑事件。</li><li>HttpSessionIdListener：用于监听HttpSession ID的改变事件。</li></ul> </li><li> <p>ServletRequest（请求）相关的监听对象：</p> 
  <ul><li>ServletRequestListener：用于监听ServletRequest的创建和销毁事件。</li><li>ServletRequestAttributeListener：用于监听ServletRequest属性的添加、删除和替换事件。</li></ul> </li><li> <p>异步请求相关的监听对象：</p> 
  <ul><li> <p>AsyncListener：用于监听异步请求的完成、超时、错误和启动事件。</p> <p>框架：</p> </li></ul> </li></ol> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">listen</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletRequestEvent</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletRequestListener</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebListener</span></span><span class="token punctuation">;</span>
<span class="token annotation punctuation">@WebListener</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Listener1</span> <span class="token keyword">implements</span> <span class="token class-name">ServletRequestListener</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token class-name">Listener1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">requestDestroyed</span><span class="token punctuation">(</span><span class="token class-name">ServletRequestEvent</span> arg0<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>   
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">requestInitialized</span><span class="token punctuation">(</span><span class="token class-name">ServletRequestEvent</span> arg0<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>      
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onStartAsync</span><span class="token punctuation">(</span><span class="token class-name">AsyncEvent</span> arg0<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span>IOException</span> <span class="token punctuation">{<!-- --></span>   
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">valueBound</span><span class="token punctuation">(</span><span class="token class-name">HttpSessionBindingEvent</span> arg0<span class="token punctuation">)</span>  <span class="token punctuation">{<!-- --></span> 
    <span class="token punctuation">}</span>
 
<span class="token punctuation">}</span>
</code></pre> 
<h6><a id="_2276"></a>在线人数：</h6> 
<p>如何监听某个网站的在线人数，可以以是否创建session为标准，新的session则+1。</p> 
<p>接下里我们看看实现：</p> 
<pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebListener</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpSessionEvent</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpSessionListener</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@WebListener</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OnlineUsersListener</span> <span class="token keyword">implements</span> <span class="token class-name">HttpSessionListener</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">int</span> onlineUsersCount <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//创建静态变量 </span>

    <span class="token comment">//新的会话 则+1</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">sessionCreated</span><span class="token punctuation">(</span><span class="token class-name">HttpSessionEvent</span> se<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        onlineUsersCount<span class="token operator">++</span><span class="token punctuation">;</span> 
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"New session created. Online users: "</span> <span class="token operator">+</span> onlineUsersCount<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token comment">//会话销毁 则-1</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">sessionDestroyed</span><span class="token punctuation">(</span><span class="token class-name">HttpSessionEvent</span> se<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
   		  onlineUsersCount<span class="token operator">--</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Session destroyed. Online users: "</span> <span class="token operator">+</span> onlineUsersCount<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//设置对外接口 用于返回人数</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">getOnlineCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                <span class="token keyword">return</span> onlineUsersCount<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<pre><code class="prism language-jsp">%@ page pageEncoding="UTF-8" import="listener.OnlineUsersListener" %&gt; //使用监听器接口 一定要导入相应的包 
&lt;html&gt;
&lt;body&gt;
当前在线人数:&lt;%=OnlineListener.getOnlineCount() %&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre> 
<h6><a id="_2319"></a>一人登录：</h6> 
<p>​ 思路：用监听器监听应用对象，创建一个记录每个会话信息，判断是否存在，如果存在在更新用户信息，不然将该用户信息加入应用。</p> 
<p>监听器：</p> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">listener</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">LinkedHashMap</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Map</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletContextEvent</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletContextListener</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebListener</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpSession</span></span><span class="token punctuation">;</span> 
<span class="token comment">// 实现 ServletContextListener  应用对象上下文接口 </span>
<span class="token annotation punctuation">@WebListener</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ApplicationListener</span> <span class="token keyword">implements</span> <span class="token class-name">ServletContextListener</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token class-name">ApplicationListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>    
    <span class="token punctuation">}</span>
    <span class="token comment">/**
      ServletContextEvent是ServletContextListener的监听事件 
       Web 应用程序上下文销毁时被调用。在该方法中，从 ServletContext 中获取存储的 userList，并清空其中的数据，释放资源。
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">contextDestroyed</span><span class="token punctuation">(</span><span class="token class-name">ServletContextEvent</span> event<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">HttpSession</span><span class="token punctuation">&gt;</span></span> userList <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">HttpSession</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">)</span> event<span class="token punctuation">.</span><span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"userList"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 获取</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>userList <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">//清空</span>
            userList<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">/**
 Web 应用程序上下文初始化时被调用。在该方法中，创建一个 LinkedHashMap 类型的 userList，用于存储用户会话对象。
 ServletContextEvent 是监听事件 
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">contextInitialized</span><span class="token punctuation">(</span><span class="token class-name">ServletContextEvent</span> event<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">//HttpSession session=request.getSession();   HttpSession 是一个session类型</span>
        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">HttpSession</span><span class="token punctuation">&gt;</span></span> userList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LinkedHashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">HttpSession</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token comment">// 将 userList 存储在 ServletContext（相当于servlet类型的应用对象） </span>
        event<span class="token punctuation">.</span><span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"userList"</span><span class="token punctuation">,</span> userList<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
 
<span class="token punctuation">}</span>
</code></pre> 
<p>后台处理：</p> 
<pre><code class="prism language-jsp">&lt;%@ page pageEncoding="UTF-8" import="java.util.Map"%&gt;
&lt;html&gt;
&lt;body&gt;
    &lt;%
        String userid = request.getParameter("userid");
        String userpwd= request.getParameter("userpwd");
        if("zhangsan".equals(userid)&amp;&amp;"123".equals(userpwd)){
            session.setAttribute("userid", userid);// 保存会话信息 
            /*
   此时已经有userList对象了，因为我的服务器已经打开了，应用对象会创建
            */
            Map&lt;String,HttpSession&gt; userList=(Map&lt;String,HttpSession&gt;)application.getAttribute("userList");
//注意一下：这里为什么要进行 强制类型转化即(Map&lt;String,HttpSession&gt;) 因为application是从ServletContext获取的，可以理解为一个servlet类型的应用对象
            HttpSession oldSession=userList.get(userid);// 根据userid获取旧的session对象
            if(oldSession!=null){ //如果之前有 
                try{oldSession.invalidate();}catch(Exception e){} 
                //oldSession.invalidate() 是使旧的应用对象失效 
            }
            //记录新的session 
            userList.put(userid,session);
            response.sendRedirect("main.jsp");// 转发 
        }
        else{
            //登录失败
            request.setAttribute("msg","用户名或密码错误");
            pageContext.forward("login.jsp");
        }
          
    %&gt;
      
&lt;/body&gt;
&lt;/html&gt;
</code></pre> 
<h4><a id="_Ajax_2399"></a>第七章 Ajax</h4> 
<h5><a id="_2400"></a>简介：</h5> 
<p>​ 在JavaWeb中，Ajax（Asynchronous JavaScript and XML）是一种用于在Web应用程序中实现异步通信的技术。它允许客户端通过JavaScript向服务器发送请求，并在后台进行处理，而无需刷新整个页面。使用Ajax，可以实现动态更新页面内容、异步加载数据、实时验证表单等功能，提升用户体验和性能。</p> 
<p>在使用Ajax时，通常会遵循以下步骤：</p> 
<ol><li>编写前端代码：使用JavaScript编写前端代码，在页面中定义事件处理程序，例如按钮点击或表单提交事件。在事件处理程序中，使用Ajax发送HTTP请求到服务器，并定义处理服务器响应的回调函数。</li><li>编写服务器端代码：使用Java编写一个Servlet来处理Ajax请求。在Servlet中，解析请求参数，并根据请求的内容执行相应的业务逻辑。可以查询数据库、调用其他Java类或服务，生成响应数据，并将其返回给客户端。</li><li>处理响应数据：在前端的Ajax回调函数中，处理服务器返回的响应数据。可以解析JSON数据、更新页面内容、执行动态操作等。</li></ol> 
<p>需要注意的是，Ajax请求是异步的，意味着它们不会阻塞页面加载或用户交互。这使得Ajax非常适合在后台与服务器进行通信，而无需中断用户操作。</p> 
<h5><a id="_2412"></a>步骤：</h5> 
<ol><li>创建xhr对象：<code>xhr =new XMLHttpRequest();</code></li><li>建立连接： open(type，url， asynch) 第三个参数一般不写 默认使true 异步连接</li><li>发送：xhr.send(content)</li><li>事件绑定：xhr.readyState=4 且 xhr.status=200 绑定一个函数</li></ol> 
<p>封装一下函数：</p> 
<pre><code class="prism language-js"><span class="token keyword">function</span> <span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>xmlHttpRequest<span class="token punctuation">.</span>readyState <span class="token operator">==</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>xmlHttpRequest<span class="token punctuation">.</span>status <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        事件响应代码
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h5><a id="_2431"></a>请求属性：</h5> 
<pre><code>xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
 //Content-Type 设置请求体类型 application/x-www-form-urlencoded  参数查询字符串的类型
</code></pre> 
<p><code>readyState</code> 相关属性的含义：</p> 
<ol><li><code>UNSENT</code> (0): 初始状态，XMLHttpRequest 对象已创建，但尚未调用 <code>open()</code> 方法。</li><li><code>OPENED</code> (1): <code>open()</code> 方法已经被调用，请求已准备好发送，但尚未调用 <code>send()</code> 方法。</li><li><code>HEADERS_RECEIVED</code> (2): <code>send()</code> 方法已调用，并且头部和状态已经可用。可以通过 <code>getResponseHeader()</code> 获取响应头信息，可以通过 <code>getAllResponseHeaders()</code> 获取所有响应头信息。</li><li><code>LOADING</code> (3): 响应数据正在接收中。部分响应数据已经可用，但 <code>responseText</code> 属性可能还未完全填充。</li><li><code>DONE</code> (4): 响应已经完全接收，且数据可用。此时可以使用 <code>responseText</code> 或 <code>responseXML</code> 属性来获取完整的响应数据。</li></ol> 
<p><code>status</code>属性 状态码相关含义：</p> 
<p>HTTP 状态码是服务器响应请求时返回的一个三位数的数字代码，用于指示请求的处理结果。常见的 HTTP 状态码包括：</p> 
<ul><li><code>200</code>：请求成功。表示服务器已成功处理请求并返回所需的数据。</li><li><code>404</code>：未找到。表示请求的资源在服务器上不存在。</li><li><code>500</code>：服务器内部错误。表示服务器在处理请求时遇到了错误。</li></ul> 
<p><code>responseText</code> 和 <code>responseXML</code> 是 XMLHttpRequest 对象的两个属性，用于获取服务器响应的数据。</p> 
<ul><li><code>responseText</code>: <code>responseText</code> 属性返回服务器响应的文本数据，以字符串的形式表示。它可以用于获取服务器返回的纯文本数据，如 JSON、HTML 等。你可以使用 <code>responseText</code> 属性来处理和操作这些文本数据。</li><li><code>responseXML</code>: <code>responseXML</code> 属性返回服务器响应的 XML 数据，以 Document 对象的形式表示。它将服务器返回的 XML 数据解析为一个完整的 Document 对象，使你能够使用 DOM 方法和属性来操作和遍历 XML 数据。</li></ul> 
<pre><code>response.setContentType("text/xml;charset=UTF-8");
</code></pre> 
<p>为了后续不用花时间写一样的代码，我们把Ajax封装成以下js文件，以便于直接调用。</p> 
<pre><code class="prism language-js"><span class="token keyword">var</span> httpRequest<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">createXHR</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>          
         <span class="token keyword">if</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>XMLHttpRequest<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span> <span class="token comment">//Mozilla,Safari,Opera,IE7等</span>
                    httpRequest <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>ActiveXObject<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                    <span class="token keyword">try</span><span class="token punctuation">{<!-- --></span>httpRequest <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ActiveXObject</span><span class="token punctuation">(</span><span class="token string">"Msxml2.XMLHTTP"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//IE较新版本</span>
                    <span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                 <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>httpRequest <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ActiveXObject</span><span class="token punctuation">(</span><span class="token string">"Microsoft.XMLHTTP"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//IE较老版本</span>
                    <span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>httpRequest <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
                   <span class="token punctuation">}</span>                 
         <span class="token punctuation">}</span>       
         <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>httpRequest<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span> 
                   <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"fail to create httpRequest"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             
         <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">sendRequest</span><span class="token punctuation">(</span><span class="token parameter">url<span class="token punctuation">,</span>params<span class="token punctuation">,</span>method<span class="token punctuation">,</span>handler</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>   
         <span class="token function">createXHR</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">//创建XHR对象 </span>
         <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>httpRequest<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>  
         httpRequest<span class="token punctuation">.</span>onreadystatechange <span class="token operator">=</span> handler<span class="token punctuation">;</span>    <span class="token comment">// 事件绑定  </span>
<span class="token keyword">if</span><span class="token punctuation">(</span>method <span class="token operator">==</span> <span class="token string">"GET"</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>        
    		<span class="token comment">// 参数：类型 url地址 是否异步</span>
    	<span class="token comment">//注意get请求的参数 是作为url路径的一部分</span>
           httpRequest<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>method<span class="token punctuation">,</span>url<span class="token operator">+</span> <span class="token string">'?'</span> <span class="token operator">+</span> params<span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
           httpRequest<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token punctuation">}</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>method <span class="token operator">==</span> <span class="token string">"POST"</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token comment">//参数：类型 url地址 </span>
         httpRequest<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>method<span class="token punctuation">,</span>url<span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                   httpRequest<span class="token punctuation">.</span><span class="token function">setRequestHeader</span><span class="token punctuation">(</span><span class="token string">"Content-type"</span><span class="token punctuation">,</span><span class="token string">"application/x-www-form-urlencoded"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                   httpRequest<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//发送参数</span>
<span class="token punctuation">}</span>     
<span class="token punctuation">}</span>
</code></pre> 
<p>如果post请求没有参数则这样写：sendRequest(“query”,null,‘POST’,show);</p> 
<h5><a id="JSON_2502"></a>JSON：</h5> 
<p>​ JSON（JavaScript Object Notation）是一种常用的数据交换格式，它以文本的形式表示结构化数据。在 JavaScript 中，可以使用内置的 <code>JSON</code> 对象来解析和生成 JSON 数据。</p> 
<ol><li> <p>将对象转换为 JSON 字符串：使用 <code>JSON.stringify()</code> 方法可以将 JavaScript 对象转换为 JSON 字符串。</p> <pre><code class="prism language-js"><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"John"</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">30</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> jsonString <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>jsonString<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 输出：{"name":"John","age":30}</span>
</code></pre> </li><li> <p>将 JSON 字符串转换为对象：使用 <code>JSON.parse()</code> 方法可以将 JSON 字符串解析为 JavaScript 对象。</p> <pre><code class="prism language-js"><span class="token keyword">var</span> jsonString <span class="token operator">=</span> <span class="token string">'{"name":"John","age":30}'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>jsonString<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 输出：John</span>
<span class="token comment">// 输出：30</span>
</code></pre> <p><img src="https://images2.imgbox.com/2b/29/tgQLA5AN_o.png" alt="在这里插入图片描述"></p> </li><li> <p>处理复杂的 JSON 结构：对于包含嵌套对象或数组的复杂 JSON 结构，可以使用适当的方法进行遍历和访问。</p> <pre><code class="prism language-js"><span class="token keyword">var</span> jsonString <span class="token operator">=</span> <span class="token string">'{"name":"John","age":30,"address":{"city":"New York","country":"USA"},"hobbies":["reading","traveling"]}'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>jsonString<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>address<span class="token punctuation">.</span>city<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>hobbies<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 输出：John</span>
<span class="token comment">// 输出：New York</span>
<span class="token comment">// 输出：reading</span>
</code></pre> </li></ol> 
<p>​ 请注意，JSON 必须具有有效的语法。属性名称和字符串值必须使用双引号括起来。使用 <code>JSON.stringify()</code> 和 <code>JSON.parse()</code> 方法时，请确保数据格式正确以避免出现错误。</p> 
<p>Java对象转json字符串：</p> 
<p>​ 很多时候，在Ajax中需要传递一个java对象，但是Ajax只能传递字符串，所以需要使用第三方库，例如JSon-lib，这个大家自行去网上下载即可。</p> 
<ul><li>JSONObject.fromObject();//java对象=&gt;json字符串</li><li>JSONArray.fromObject(); //java对象数组=&gt;json字符串</li></ul> 
<pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">HashMap</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Map</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">net<span class="token punctuation">.</span>sf<span class="token punctuation">.</span>json<span class="token punctuation">.</span></span><span class="token class-name">JSONArray</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">net<span class="token punctuation">.</span>sf<span class="token punctuation">.</span>json<span class="token punctuation">.</span></span><span class="token class-name">JSONObject</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JsonlibTest</span> <span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
     <span class="token class-name">Student</span> student1<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">"20181234"</span><span class="token punctuation">,</span><span class="token string">"张三"</span><span class="token punctuation">,</span><span class="token string">"男"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"将student1对象转换成json字符串:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token class-name">JSONObject</span> jso1<span class="token operator">=</span><span class="token class-name">JSONObject</span><span class="token punctuation">.</span><span class="token function">fromObject</span><span class="token punctuation">(</span>student1<span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>jso1<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          
     <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"将studentList1对象转换成json字符串:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token class-name">Student</span> student2<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">"20185678"</span><span class="token punctuation">,</span><span class="token string">"李四"</span><span class="token punctuation">,</span><span class="token string">"女"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Student</span><span class="token punctuation">&gt;</span></span> studentList1<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Student</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     studentList1<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>student1<span class="token punctuation">)</span><span class="token punctuation">;</span>studentList1<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>student2<span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token class-name">JSONArray</span> jsa1<span class="token operator">=</span><span class="token class-name">JSONArray</span><span class="token punctuation">.</span><span class="token function">fromObject</span><span class="token punctuation">(</span>studentList1<span class="token punctuation">)</span><span class="token punctuation">;</span>   
     <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>jsa1<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
     <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"将Map转换为json字符串:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> map1<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     map1<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"sno"</span><span class="token punctuation">,</span> <span class="token string">"20181111"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     map1<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"sname"</span><span class="token punctuation">,</span><span class="token string">"王五"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     map1<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"sex"</span><span class="token punctuation">,</span><span class="token string">"男"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token class-name">JSONObject</span> jso2<span class="token operator">=</span><span class="token class-name">JSONObject</span><span class="token punctuation">.</span><span class="token function">fromObject</span><span class="token punctuation">(</span>map1<span class="token punctuation">)</span><span class="token punctuation">;</span>  
     <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>jso2<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          
     <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"将json字符串转换成student3对象:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token class-name">String</span> jsonStr1<span class="token operator">=</span><span class="token string">"{'sex':'男','sname':'张三','sno':'20181234'}"</span><span class="token punctuation">;</span>
     <span class="token class-name">JSONObject</span> jso3<span class="token operator">=</span><span class="token class-name">JSONObject</span><span class="token punctuation">.</span><span class="token function">fromObject</span><span class="token punctuation">(</span>jsonStr1<span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token class-name">Student</span> student3<span class="token operator">=</span><span class="token punctuation">(</span><span class="token class-name">Student</span><span class="token punctuation">)</span><span class="token class-name">JSONObject</span><span class="token punctuation">.</span><span class="token function">toBean</span><span class="token punctuation">(</span>jso3<span class="token punctuation">,</span><span class="token class-name">Student</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>student3<span class="token punctuation">)</span><span class="token punctuation">;</span> 
     <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"将json字符串转换成studentList2对象:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token class-name">String</span> jsonStr2<span class="token operator">=</span><span class="token string">"[{'sex':'男','sname':'张三','sno':'20181234'},{'sex':'女','sname':'李四','sno':'20185678'}]"</span><span class="token punctuation">;</span>
     <span class="token class-name">JSONArray</span> jsa2<span class="token operator">=</span><span class="token class-name">JSONArray</span><span class="token punctuation">.</span><span class="token function">fromObject</span><span class="token punctuation">(</span>jsonStr2<span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Student</span><span class="token punctuation">&gt;</span></span> studentList2<span class="token operator">=</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Student</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">)</span><span class="token class-name">JSONArray</span><span class="token punctuation">.</span><span class="token function">toCollection</span><span class="token punctuation">(</span>jsa2<span class="token punctuation">,</span><span class="token class-name">Student</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">Student</span> student<span class="token operator">:</span>studentList2<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
               <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>student<span class="token operator">+</span><span class="token string">";"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                           
     <span class="token punctuation">}</span>       
<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">HashMap</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Map</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">net<span class="token punctuation">.</span>sf<span class="token punctuation">.</span>json<span class="token punctuation">.</span></span><span class="token class-name">JSONArray</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">net<span class="token punctuation">.</span>sf<span class="token punctuation">.</span>json<span class="token punctuation">.</span></span><span class="token class-name">JSONObject</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JsonlibTest</span> <span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
     <span class="token class-name">Student</span> student1<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">"20181234"</span><span class="token punctuation">,</span><span class="token string">"张三"</span><span class="token punctuation">,</span><span class="token string">"男"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//java对象</span>
     <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"将student1对象转换成json字符串:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token class-name">JSONObject</span> jso1<span class="token operator">=</span><span class="token class-name">JSONObject</span><span class="token punctuation">.</span><span class="token function">fromObject</span><span class="token punctuation">(</span>student1<span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>jso1<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          
     <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"将studentList1对象转换成json字符串:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token class-name">Student</span> student2<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">"20185678"</span><span class="token punctuation">,</span><span class="token string">"李四"</span><span class="token punctuation">,</span><span class="token string">"女"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Student</span><span class="token punctuation">&gt;</span></span> studentList1<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Student</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     studentList1<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>student1<span class="token punctuation">)</span><span class="token punctuation">;</span>studentList1<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>student2<span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token class-name">JSONArray</span> jsa1<span class="token operator">=</span><span class="token class-name">JSONArray</span><span class="token punctuation">.</span><span class="token function">fromObject</span><span class="token punctuation">(</span>studentList1<span class="token punctuation">)</span><span class="token punctuation">;</span>   
     <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>jsa1<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
     <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/ea/64/e9TjJHDG_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="JQuery_2625"></a>JQuery：</h5> 
<h6><a id="load_2627"></a>load()</h6> 
<p>​ jQuery 中的 <code>load()</code> 方法用于从服务器<strong>加载数据</strong>，并将加载的内容放置到<strong>指定的</strong> HTML 元素中。它是一个简单而强大的方法，可以实现动态加载内容，<strong>无需手动编写 AJAX 请求和处理逻辑</strong>。</p> 
<p><code>$(selector).load(url [, data] [, completeCallback])</code></p> 
<ul><li><code>selector</code>：要将加载的内容放置到的目标元素选择器。</li><li><code>url</code>：加载数据的 URL 地址。</li><li><code>data</code>（可选）：要发送到服务器的数据。可以是字符串、对象或函数。</li><li><code>completeCallback</code>（可选）：加载完成后执行的回调函数。</li></ul> 
<p>load.jsp:</p> 
<pre><code class="prism language-jsp">&lt;%@ page pageEncoding="UTF-8"%&gt;
&lt;html&gt;
  &lt;head&gt;
  &lt;script src="js/jquery-1.11.1.js"&gt;&lt;/script&gt;  
  &lt;script&gt;
   function jiazai(){
     $("#div1").load("load","p=jsp程序设计");  //后台请求的数据放在div中
   }
&lt;/script&gt; 
  &lt;/head&gt;  
  &lt;body&gt;
    &lt;input type="button" value="加载数据" οnclick="jiazai()"&gt;
    &lt;div id="div1"&gt;&lt;/div&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre> 
<p>servlet:</p> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">servlet</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">PrintWriter</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">"/load"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> load <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">long</span> serialVersionUID <span class="token operator">=</span> <span class="token number">1L</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token function">load</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

	<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
		 response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">"text/html;charset=UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	        <span class="token class-name">PrintWriter</span> out <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	        out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"&lt;!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\"&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	        out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"&lt;HTML&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	        out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"  &lt;HEAD&gt;&lt;TITLE&gt;A Servlet&lt;/TITLE&gt;&lt;/HEAD&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	        out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"  &lt;BODY&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"    This is "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	        out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">", using the GET method"</span> <span class="token operator">+</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"p"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	        out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"  &lt;/BODY&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	        out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"&lt;/HTML&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	        out<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//强制将缓冲区中的内容立即发送到客户端 但是输出流仍然保持打开状态。</span>
	        out<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//关闭输出流，并且会自动刷新缓冲区。 无法在进行输出</span>
	<span class="token punctuation">}</span>
		<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
		response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">"text/html;charset=UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">PrintWriter</span> out <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"我走的是doPost(),传递过来的参数为:"</span> <span class="token operator">+</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"p"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</code></pre> 
<p><img src="https://images2.imgbox.com/08/64/NVlRH44Y_o.png" alt="在这里插入图片描述"><br> 很明显，后台servlet走的是doGet()方法，为什么呢，因为提交数据是这样写的 <code>$("#div1").load("load","p=jsp程序设计"); </code>,第二个参数是 参数查询字符串的类型，而不是键值对的形式，那么我们如果改成<code> $("#div1").load("load",{"p":"jsp程序设计"}); </code>，应该会执行servlet里面的doPost方法吧，我们看一下结果。</p> 
<p><img src="https://images2.imgbox.com/07/5a/kzRNmRqO_o.png" alt="在这里插入图片描述"></p> 
<h6><a id="get_2712"></a>get():</h6> 
<p><code>$.get()</code> 是 jQuery 中的一个 AJAX 方法，用于发送 HTTP GET 请求并从服务器获取数据。它提供了一种简单的方式来执行异步的GET请求，无需刷新整个页面。</p> 
<p><code>$.get()</code> 方法的语法如下：</p> 
<pre><code>$.get(url [, data] [, successCallback] [, dataType])
</code></pre> 
<ul><li><code>url</code>：要发送 GET 请求的 URL 地址。</li><li><code>data</code>（可选）：要发送到服务器的数据。可以是字符串、对象或函数。</li><li><code>successCallback</code>（可选）：请求<strong>成功</strong>时执行的回调函数。</li><li><code>dataType</code>（可选）：预期从服务器返回的数据的类型，例如 <code>"text"</code>、<code>"json"</code>、<code>"xml"</code> 等。</li></ul> 
<pre><code class="prism language-jsp">&lt;%@ page pageEncoding="UTF-8"%&gt;
&lt;html&gt;
  &lt;head&gt;
  &lt;script src="js/jquery-1.11.1.js"&gt;&lt;/script&gt;  
  &lt;script&gt;
   function getF(){
   //执行servlet的get方法
     $.get("get",{"p":"abc"},function(data,status){// 回调函数
      $("#div1").html("数据为："+data+"，状态为"+status);
         //.html() 是调用了 jQuery 的 html() 方法，它用于设置所选元素的 HTML 内容
     });  
   }
&lt;/script&gt; 
  &lt;/head&gt;  
  &lt;body&gt;
    &lt;input type="button" value="get方式请求数据" οnclick="getF()"&gt;
    &lt;div id="div1"&gt;&lt;/div&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre> 
<p>servlet:</p> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">servlet</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">PrintWriter</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">"/get"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> get <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">long</span> serialVersionUID <span class="token operator">=</span> <span class="token number">1L</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
    <span class="token punctuation">}</span>
	<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>

		response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">"text/html;charset=UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//设置响应内容类型</span>
        <span class="token class-name">PrintWriter</span> out <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//获取 PrintWriter 对象，用于将结果写入响应</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"发送的参数为："</span><span class="token operator">+</span>request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"p"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//刷新输出流，将缓冲区中的内容立即发送到客户端</span>
        out<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//关闭输出流</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
		<span class="token function">doGet</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</code></pre> 
<p><img src="https://images2.imgbox.com/d2/b3/oIC3jpQF_o.png" alt="在这里插入图片描述"></p> 
<p>也可以使用查询字符串的方式进行参数传递，因为已经显示指定类型为get了，如下。</p> 
<pre><code class="prism language-js">   <span class="token keyword">function</span> <span class="token function">getF</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
   <span class="token comment">//执行servlet的get方法</span>
     $<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"get"</span><span class="token punctuation">,</span><span class="token string">"p=abc"</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">data<span class="token punctuation">,</span>status</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
      <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#div1"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span><span class="token string">"数据为："</span><span class="token operator">+</span>data<span class="token operator">+</span><span class="token string">"，状态为"</span><span class="token operator">+</span>status<span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
   <span class="token punctuation">}</span>
</code></pre> 
<h6><a id="post_2800"></a>post()：</h6> 
<pre><code>$.post("url", { param1: "value1", param2: "value2" }, function(data, status) {
  // 处理返回的数据
});
</code></pre> 
<ul><li><code>"url"</code>：要发送 POST 请求的 URL 地址。</li><li><code>{ param1: "value1", param2: "value2" }</code>：要发送到服务器的数据，可以是一个对象或字符串。</li><li><code>function(data, status)</code>：请求成功后执行的回调函数，其中 <code>data</code> 是从服务器返回的数据，<code>status</code> 是请求的状态。</li></ul> 
<pre><code class="prism language-jsp">&lt;%@ page pageEncoding="UTF-8"%&gt;
&lt;html&gt;
  &lt;head&gt;
  &lt;script src="js/jquery-1.11.1.js"&gt;&lt;/script&gt;  
  &lt;script&gt;
   function postF(){
   //执行servlet的post方法
//      $.post("post",{"p":"我真是帅极了"},function(data,status){
//       $("#div1").html("数据为："+data+"，状态为"+status);
//      });  
        $.post("post","p=我真是帅极了",function(data,status){
      $("#div1").html("数据为："+data+"，状态为"+status);
     });  
   }
&lt;/script&gt; 
  &lt;/head&gt;  
  &lt;body&gt;
    &lt;input type="button" value="post方式请求数据" οnclick="postF()"&gt;
    &lt;div id="div1"&gt;&lt;/div&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">servlet</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">PrintWriter</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">"/post"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> post <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">long</span> serialVersionUID <span class="token operator">=</span> <span class="token number">1L</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token function">post</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// TODO Auto-generated constructor stub</span>
    <span class="token punctuation">}</span>


	<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
		<span class="token comment">// TODO Auto-generated method stub</span>
		response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"Served at: "</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
		<span class="token comment">// TODO Auto-generated method stub</span>
		response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">"text/html;charset=UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">PrintWriter</span> out <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"传递过来的参数值为："</span><span class="token operator">+</span>request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"p"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<p><img src="https://images2.imgbox.com/27/c7/fLF62Y0c_o.png" alt="在这里插入图片描述"></p> 
<h6><a id="ajax_2876"></a>ajax():</h6> 
<p>通过 jQuery 的 <code>$.ajax()</code> 方法，可以使用简洁的语法来发送 Ajax 请求。</p> 
<pre><code class="prism language-js">$<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">"your-url"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">"GET"</span><span class="token punctuation">,</span> <span class="token comment">// 或 "POST"、"PUT"、"DELETE" 等</span>
  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">param1</span><span class="token operator">:</span> <span class="token string">"value1"</span><span class="token punctuation">,</span> <span class="token literal-property property">param2</span><span class="token operator">:</span> <span class="token string">"value2"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">dataType</span><span class="token operator">:</span> <span class="token string">"json"</span><span class="token punctuation">,</span> <span class="token comment">// 服务器返回的数据类型 可不写</span>
  <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">data<span class="token punctuation">,</span> status<span class="token punctuation">,</span> xhr</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 请求成功时的处理逻辑</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">error</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">xhr<span class="token punctuation">,</span> status<span class="token punctuation">,</span> error</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 请求失败时的处理逻辑</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<ul><li><code>url</code>：请求的 URL 地址。</li><li><code>type</code>：请求的类型（GET、POST 等）。</li><li><code>data</code>：要发送到服务器的数据，可以是一个对象或字符串。</li><li><code>dataType</code>：预期的服务器响应数据类型，例如 <code>"json"</code>、<code>"xml"</code>、<code>"html"</code> 等。这有助于 jQuery 在接收响应时自动解析数据。</li><li><code>success</code>：请求成功时的回调函数，其中 <code>data</code> 是从服务器返回的数据，<code>status</code> 是请求的状态，<code>xhr</code> 是 XMLHttpRequest 对象。</li><li><code>error</code>：请求失败时的回调函数，其中 <code>xhr</code> 是 XMLHttpRequest 对象，<code>status</code> 是错误的状态码，<code>error</code> 是错误的描述。</li></ul> 
<pre><code class="prism language-jsp">&lt;%@ page pageEncoding="UTF-8"%&gt;
&lt;html&gt;
  &lt;head&gt;
  &lt;script src="js/jquery-1.11.1.js"&gt;&lt;/script&gt;  
  &lt;script&gt;
    function ajaxF(){
     //执行servlet的post方法
     $.ajax({
     url:"post",
     type:"post",
     data:{"p":"我了个豆"},
     success:function(data,status){
       $("#div1").html("数据为："+data+"，状态为"+status);
     }
     });  
   }
&lt;/script&gt; 
  &lt;/head&gt;  
  &lt;body&gt;
    &lt;input type="button" value="ajax方式请求数据" οnclick="ajaxF()"&gt;
    &lt;div id="div1"&gt;&lt;/div&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre> 
<p><img src="https://images2.imgbox.com/47/01/AowEeEw5_o.png" alt="在这里插入图片描述"></p> 
<h6><a id="_2931"></a>表单序列化：</h6> 
<p>​ 我们发现之前Ajax实现都是静态，一般业务都是根据表单输入的值，提交到后台进行处理，现在介绍两个方法，使用 jQuery 的 <code>serialize()</code> 和 <code>serializeArray()</code> 方法可以方便地生成表单提交参数字符串。</p> 
<ol><li>使用 <code>serialize()</code> 方法生成表单提交参数字符串：</li></ol> 
<pre><code class="prism language-js"><span class="token keyword">var</span> formData <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#myForm'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">serialize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>formData<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>​ 假设你有一个表单的 id 为 “myForm”。通过调用 <code>serialize()</code> 方法，可以将表单中的所有字段序列化为一个字符串。该字符串的格式为 “name1=value1&amp;name2=value2”，其中 “name1” 和 “name2” 是表单字段的名称，“value1” 和 “value2” 是对应字段的值，获得的值是查询字符串拼接.</p> 
<p>​ 2.使用 <code>serializeArray()</code> 方法生成表单提交参数数组</p> 
<pre><code class="prism language-js"><span class="token keyword">var</span> formDataArray <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#myForm'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">serializeArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>formDataArray<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>结果类型：</p> 
<pre><code>[
  { name: "username", value: "John Doe" },
  { name: "email", value: "johndoe@example.com" },
  { name: "subscription", value: "1" },
  { name: "subscription", value: "2" },
  { name: "gender", value: "male" },
  { name: "country", value: "uk" }
]
</code></pre> 
<pre><code class="prism language-jsp">&lt;%@ page pageEncoding="UTF-8"%&gt;
&lt;html&gt;
  &lt;head&gt;
  &lt;script src="js/jquery-1.11.1.js"&gt;&lt;/script&gt;  
  &lt;script&gt;
  function f1(){
   $("#result1").text($("#form1").serialize());
  }
  function f2(){
  $("#result2").text(JSON.stringify($("#form1").serializeArray()));
      //JSON.stringify()是转化为json字符串 不能直接串列表
  }
&lt;/script&gt; 
  &lt;/head&gt;  
  &lt;body&gt;
  &lt;form id="form1"&gt;
    学号: &lt;input type="text" name="sno"  /&gt;&lt;br&gt;
    姓名: &lt;input type="text" name="sname"  /&gt;&lt;br&gt;
    性别: 男&lt;input type="radio" name="sex" value="男" checked /&gt;
    女&lt;input type="radio" name="sex" value="女" /&gt;
    &lt;br&gt;
 &lt;/form&gt;
 &lt;input type="button" value="serialize序列化表单值" οnclick="f1()"&gt;
 &lt;input type="button" value="serializeArray序列化表单值" οnclick="f2()"&gt;
 &lt;div id="result1"&gt;&lt;/div&gt;
 &lt;div id="result2"&gt;&lt;/div&gt;
 &lt;/body&gt;
&lt;/html&gt;
</code></pre> 
<p><img src="https://images2.imgbox.com/46/c3/zEGrNsJi_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="_2998"></a>案例：</h5> 
<h6><a id="_3000"></a>两数之和：</h6> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>js/ajax.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
      <span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>        
        <span class="token keyword">var</span> url<span class="token operator">=</span><span class="token string">"sum"</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> num1<span class="token operator">=</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"num1"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
        <span class="token keyword">var</span> num2<span class="token operator">=</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"num2"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
        <span class="token keyword">var</span> params<span class="token operator">=</span><span class="token string">"num1="</span><span class="token operator">+</span>num1<span class="token operator">+</span><span class="token string">"&amp;num2="</span><span class="token operator">+</span>num2<span class="token punctuation">;</span>
          <span class="token comment">//参数一：后台servlet地址 参数二：参数</span>
          <span class="token comment">//参数三：类型  参数四：处理完的数据执行的回调函数</span>
        <span class="token function">sendRequest</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span>params<span class="token punctuation">,</span><span class="token string">'POST'</span><span class="token punctuation">,</span>showresult<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//调用Ajax </span>
          
    <span class="token punctuation">}</span>
    <span class="token keyword">function</span> <span class="token function">showresult</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span> <span class="token comment">//这个相当于回调函数 </span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>httpRequest<span class="token punctuation">.</span>readyState <span class="token operator">==</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> 
            <span class="token keyword">if</span> <span class="token punctuation">(</span>httpRequest<span class="token punctuation">.</span>status <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">var</span> info<span class="token operator">=</span>httpRequest<span class="token punctuation">.</span>responseText<span class="token punctuation">;</span>   <span class="token comment">//获取servlet处理后的数据       </span>
                document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"result"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML<span class="token operator">=</span>info<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>  
   num1:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>num1<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>num1<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>
   num2:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>num2<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>num2<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>求和 <span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value javascript language-javascript"><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">/&gt;</span></span> //点击求和执行AJax
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>result<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>servlet：</p> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">servlet</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">PrintWriter</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">"/sum"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> sumservlet <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">long</span> serialVersionUID <span class="token operator">=</span> <span class="token number">1L</span><span class="token punctuation">;</span>
       

    <span class="token keyword">public</span> <span class="token function">sumservlet</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token punctuation">}</span>


	<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
		<span class="token comment">// TODO Auto-generated method stub</span>
		response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"Served at: "</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>	
        <span class="token comment">//用于设置响应的内容类型和字符编码。</span>
		response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">"text/html;charset=UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">PrintWriter</span> out <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		  <span class="token keyword">int</span> num1<span class="token operator">=</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"num1"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	        <span class="token keyword">int</span> num2<span class="token operator">=</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"num2"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	        <span class="token class-name">String</span> result<span class="token operator">=</span><span class="token string">"和为："</span><span class="token operator">+</span><span class="token punctuation">(</span>num1<span class="token operator">+</span>num2<span class="token punctuation">)</span><span class="token punctuation">;</span>
	        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
		
<span class="token comment">//		doGet(request, response);</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</code></pre> 
<p><img src="https://images2.imgbox.com/4e/17/s6GIdGr0_o.png" alt="在这里插入图片描述"></p> 
<p>页面没有进行刷新，因为通过Ajax请求数据进行数据填充。</p> 
<h6><a id="_3088"></a><strong>省市级联菜单</strong></h6> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Content-Type<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/html; charset=UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>js/ajax.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
   <span class="token keyword">function</span> <span class="token function">refresh</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
      <span class="token keyword">var</span> p<span class="token operator">=</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"prov"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span><span class="token comment">//获取省级所选的值</span>
      <span class="token keyword">var</span> city<span class="token operator">=</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"city"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//定位到城市标签</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>p<span class="token operator">==</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span> 
         city<span class="token punctuation">.</span>options<span class="token punctuation">.</span>length<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//一开始城市大小为0</span>
         city<span class="token punctuation">.</span>options<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Option</span><span class="token punctuation">(</span><span class="token string">"--请选择城市--"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//添加一个</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">var</span> url<span class="token operator">=</span><span class="token string">"list"</span><span class="token punctuation">;</span><span class="token comment">//后台servlet地址 </span>
        <span class="token keyword">var</span> params<span class="token operator">=</span><span class="token string">"proc="</span><span class="token operator">+</span>p <span class="token punctuation">;</span><span class="token comment">//查询字符串拼接 </span>
        <span class="token function">sendRequest</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span>params<span class="token punctuation">,</span><span class="token string">'POST'</span><span class="token punctuation">,</span>show<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//发送AJax请求 </span>
      <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
   <span class="token keyword">function</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
   <span class="token keyword">var</span> city<span class="token operator">=</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"city"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>httpRequest<span class="token punctuation">.</span>readyState <span class="token operator">==</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> 
         <span class="token keyword">if</span> <span class="token punctuation">(</span>httpRequest<span class="token punctuation">.</span>status <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">var</span> citylist<span class="token operator">=</span>httpRequest<span class="token punctuation">.</span>responseText<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">","</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//因为后台处理完是一个字符串 "a,c,b"类型</span>
            <span class="token keyword">var</span> citynum<span class="token operator">=</span>citylist<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
            city<span class="token punctuation">.</span>options<span class="token punctuation">.</span>length<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//清空城市标签</span>
            <span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>citynum<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
               city<span class="token punctuation">.</span>options<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Option</span><span class="token punctuation">(</span>citylist<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//根据获取的城市名创建标签</span>
            <span class="token punctuation">}</span>
       <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
   
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
       
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>prov<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>prov<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">onchange</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value javascript language-javascript"><span class="token function">refresh</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>
 <span class="token comment">&lt;!--
οnchange="refresh();"：指定了当选择框的选项发生改变时要执行的 JavaScript 函数 "refresh()"
--&gt;</span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>--请选择省份--<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>山东<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>山东<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>江苏<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>江苏<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>广东<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>广东<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>city<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>city<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span><span class="token punctuation">&gt;</span></span>--请选择城市--<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
   
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">servlet</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">PrintWriter</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">HashMap</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Map</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">"/list"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> list <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">long</span> serialVersionUID <span class="token operator">=</span> <span class="token number">1L</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
		response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"Served at:"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
		<span class="token comment">// TODO Auto-generated method stub</span>
		<span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> pm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        pm<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"山东"</span><span class="token punctuation">,</span> <span class="token string">"济南,青岛,泰安,潍坊,烟台,聊城,枣庄,菏泽,莱芜,临沂"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        pm<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"江苏"</span><span class="token punctuation">,</span> <span class="token string">"南京,苏州,无锡,徐州,南通,连云港,镇江,常州,淮安,扬州"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        pm<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"广东"</span><span class="token punctuation">,</span> <span class="token string">"广州,深圳,珠海,汕头,佛山,东莞,湛江,江门,中山,惠州"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">"text/html;charset=UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//语句用于设置响应的内容类型和字符编码。</span>
        request<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">"UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//告知对获取来的数据以utf-8编码</span>
        <span class="token class-name">PrintWriter</span> out <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//创建一个用于向客户端发送文本数据的 PrintWriter 对象。</span>
        <span class="token class-name">String</span> s1 <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"proc"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//获取前端选择的省份</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>pm<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//将对应城市返回回去</span>
    <span class="token punctuation">}</span>
<span class="token comment">//		doGet(request, response);</span>
	

<span class="token punctuation">}</span>

</code></pre> 
<p><img src="https://images2.imgbox.com/84/26/JvnQIgo3_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/9a/a5/Zu455G0h_o.png" alt="在这里插入图片描述"></p> 
<h6><a id="XML_3190"></a>XML型字符串：</h6> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">servlet</span><span class="token punctuation">;</span>
 
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">PrintWriter</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">HashMap</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>
<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">"/searchsuggest"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SearchSuggest</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{<!-- --></span>   
     
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span>
    <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
   response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">"text/xml;charset=UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token class-name">PrintWriter</span> out <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token class-name">HashMap</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">,</span><span class="token string">"&lt;words&gt;&lt;word&gt;a&lt;/word&gt;&lt;word&gt;ab&lt;/word&gt;&lt;word&gt;abc&lt;/word&gt;&lt;word&gt;abcd&lt;/word&gt;&lt;word&gt;abcde&lt;/word&gt;&lt;/words&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"ab"</span><span class="token punctuation">,</span><span class="token string">"&lt;words&gt;&lt;word&gt;ab&lt;/word&gt;&lt;word&gt;abc&lt;/word&gt;&lt;word&gt;abcd&lt;/word&gt;&lt;word&gt;abcde&lt;/word&gt;&lt;/words&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"abc"</span><span class="token punctuation">,</span><span class="token string">"&lt;words&gt;&lt;word&gt;abc&lt;/word&gt;&lt;word&gt;abcd&lt;/word&gt;&lt;word&gt;abcde&lt;/word&gt;&lt;/words&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"abcd"</span><span class="token punctuation">,</span><span class="token string">"&lt;words&gt;&lt;word&gt;abcd&lt;/word&gt;&lt;word&gt;abcde&lt;/word&gt;&lt;/words&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"abcde"</span><span class="token punctuation">,</span><span class="token string">"&lt;words&gt;&lt;word&gt;abcde&lt;/word&gt;&lt;/words&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token class-name">String</span> inputWord<span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"inputWord"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//前端页面输入的值 </span>
   <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>map<span class="token punctuation">.</span><span class="token function">containsKey</span><span class="token punctuation">(</span>inputWord<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"&lt;words&gt;&lt;/words&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//在map中匹配对应的键</span>
   <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
       out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>inputWord<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
 
<span class="token punctuation">}</span>
</code></pre> 
<p>​ 很有意思的是，这个返回的不是字符串，而是XML类型的字符串，所以前端不能使用<code>responseText</code> 而要使用 <code>responseXML</code>，可能大家不太了解XML是啥，如果想了解更多，可以看一下我之前那篇文章，讲的比较 透彻：<a href="https://blog.csdn.net/ak_bingbing/article/details/135159805?spm=1001.2014.3001.5501">深度剖析Ajax实现方式(原生框架、JQuery、Axios，Fetch）-CSDN博客</a>，XML是一个类型HTML的标签类型，如下：</p> 
<pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>words</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>word</span><span class="token punctuation">&gt;</span></span>abcde<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>word</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>words</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>现在我给大家说一下怎么解析，获取数据。</p> 
<p><img src="https://images2.imgbox.com/1e/60/ZtbGxLP9_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-js"><span class="token keyword">var</span> responseXml<span class="token operator">=</span><span class="token string">"&lt;words&gt;&lt;word&gt;abcde&lt;/word&gt;&lt;/words&gt;"</span>
<span class="token keyword">var</span> parser <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DOMParser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> xmlDoc <span class="token operator">=</span> parser<span class="token punctuation">.</span><span class="token function">parseFromString</span><span class="token punctuation">(</span>responseXml<span class="token punctuation">,</span> <span class="token string">"text/xml"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 获取 &lt;word&gt; 元素</span>
<span class="token keyword">var</span> wordElement <span class="token operator">=</span> xmlDoc<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">"word"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 提取搜索建议值</span>
<span class="token keyword">var</span> suggestion <span class="token operator">=</span> wordElement<span class="token punctuation">.</span>textContent<span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>suggestion<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出 "abcde"</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/8a/89/xI7EkKbC_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-js">responseXml<span class="token operator">=</span><span class="token string">"&lt;words&gt;&lt;word&gt;a&lt;/word&gt;&lt;word&gt;ab&lt;/word&gt;&lt;word&gt;abc&lt;/word&gt;&lt;word&gt;abcd&lt;/word&gt;&lt;word&gt;abcde&lt;/word&gt;&lt;/words&gt;"</span>
<span class="token comment">// 假设 responseXml 是从服务器响应中获取的 XML 字符串</span>
<span class="token keyword">var</span> parser <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DOMParser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> xmlDoc <span class="token operator">=</span> parser<span class="token punctuation">.</span><span class="token function">parseFromString</span><span class="token punctuation">(</span>responseXml<span class="token punctuation">,</span> <span class="token string">"text/xml"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 获取所有 &lt;word&gt; 元素</span>
<span class="token keyword">var</span> wordElements <span class="token operator">=</span> xmlDoc<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">"word"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 遍历所有 &lt;word&gt; 元素，提取搜索建议值</span>
<span class="token keyword">var</span> suggestions <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> wordElements<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">var</span> suggestion <span class="token operator">=</span> wordElements<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>textContent<span class="token punctuation">;</span>
  suggestions<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>suggestion<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>suggestions<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出 ["ab", "abc", "abcd", "abcde"]</span>
</code></pre> 
<p>当然也可以使用node.js来执行：</p> 
<pre><code class="prism language-js"><span class="token keyword">var</span> xml2js <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'xml2js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//var responseXml = "&lt;words&gt;&lt;word&gt;abcde&lt;/word&gt;&lt;/words&gt;";</span>
<span class="token keyword">var</span> responseXml <span class="token operator">=</span> <span class="token string">"&lt;words&gt;&lt;word&gt;a&lt;/word&gt;&lt;word&gt;ab&lt;/word&gt;&lt;word&gt;abc&lt;/word&gt;&lt;word&gt;abcd&lt;/word&gt;&lt;word&gt;abcde&lt;/word&gt;&lt;/words&gt;"</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> parser <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">xml2js<span class="token punctuation">.</span>Parser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
parser<span class="token punctuation">.</span><span class="token function">parseString</span><span class="token punctuation">(</span>responseXml<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> result</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 提取搜索建议值  //返回的是一个列表</span>
  <span class="token keyword">var</span> one<span class="token operator">=</span> result<span class="token punctuation">.</span>words<span class="token punctuation">.</span>word<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> list <span class="token operator">=</span> result<span class="token punctuation">.</span>words<span class="token punctuation">.</span>word<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>one<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/30/64/mkWv13wJ_o.png" alt="在这里插入图片描述"></p> 
<h6><a id="_3302"></a>对象传递：</h6> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">servlet</span><span class="token punctuation">;</span>
 
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">PrintWriter</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>
 
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>
 
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">net<span class="token punctuation">.</span>sf<span class="token punctuation">.</span>json<span class="token punctuation">.</span></span><span class="token class-name">JSONArray</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">net<span class="token punctuation">.</span>sf<span class="token punctuation">.</span>json<span class="token punctuation">.</span></span><span class="token class-name">JSONObject</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">vo<span class="token punctuation">.</span></span><span class="token class-name">Student</span></span><span class="token punctuation">;</span>
<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">"/query"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Query</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token class-name">Query</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
 
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
     
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span>
            <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
        response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">"text/html;charset=UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//设置相应内容类型</span>
        <span class="token class-name">PrintWriter</span> out <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//PrintWriter 是用于向客户端发送文本数据的输出流。</span>
        <span class="token class-name">Student</span> student1<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">"20181234"</span><span class="token punctuation">,</span><span class="token string">"张三"</span><span class="token punctuation">,</span><span class="token string">"男"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        
        <span class="token class-name">Student</span> student2<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">"20185678"</span><span class="token punctuation">,</span><span class="token string">"李四"</span><span class="token punctuation">,</span><span class="token string">"女"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Student</span><span class="token punctuation">&gt;</span></span> studentList1<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Student</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        studentList1<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>student1<span class="token punctuation">)</span><span class="token punctuation">;</span>studentList1<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>student2<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">JSONArray</span> jsa<span class="token operator">=</span><span class="token class-name">JSONArray</span><span class="token punctuation">.</span><span class="token function">fromObject</span><span class="token punctuation">(</span>studentList1<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//转化为json字符串类型</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>jsa<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span>
            <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
 
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">doGet</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{<!-- --></span>

    <span class="token punctuation">}</span>
 
<span class="token punctuation">}</span>
</code></pre> 
<pre><code class="prism language-js"><span class="token keyword">function</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>        
   <span class="token keyword">if</span> <span class="token punctuation">(</span>httpRequest<span class="token punctuation">.</span>readyState <span class="token operator">==</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> 
      <span class="token keyword">if</span> <span class="token punctuation">(</span>httpRequest<span class="token punctuation">.</span>status <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
           <span class="token keyword">var</span> tBody<span class="token operator">=</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"tBody"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           tBody<span class="token punctuation">.</span>innerHTML<span class="token operator">=</span><span class="token string">""</span><span class="token punctuation">;</span>
            <span class="token keyword">var</span> studentList<span class="token operator">=</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>httpRequest<span class="token punctuation">.</span>responseText<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//转化为json对象   </span>
            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> st <span class="token keyword">in</span> studentList<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>               
               <span class="token keyword">var</span> newTr<span class="token operator">=</span>tBody<span class="token punctuation">.</span><span class="token function">insertRow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
               <span class="token keyword">var</span> newTd1<span class="token operator">=</span>newTr<span class="token punctuation">.</span><span class="token function">insertCell</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>newTd1<span class="token punctuation">.</span>innerHTML<span class="token operator">=</span>st<span class="token punctuation">.</span>sno<span class="token punctuation">;</span>
               <span class="token keyword">var</span> newTd2<span class="token operator">=</span>newTr<span class="token punctuation">.</span><span class="token function">insertCell</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>newTd2<span class="token punctuation">.</span>innerHTML<span class="token operator">=</span>st<span class="token punctuation">.</span>sname<span class="token punctuation">;</span>
               <span class="token keyword">var</span> newTd3<span class="token operator">=</span>newTr<span class="token punctuation">.</span><span class="token function">insertCell</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>newTd3<span class="token punctuation">.</span>innerHTML<span class="token operator">=</span>st<span class="token punctuation">.</span>sex<span class="token punctuation">;</span>
             <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
       <span class="token punctuation">}</span>
</code></pre> 
<h6><a id="_3371"></a>表单提交：</h6> 
<pre><code class="prism language-jsp">&lt;%@ page pageEncoding="UTF-8"%&gt;
&lt;html&gt;
  &lt;head&gt;
  &lt;script src="js/jquery-1.11.1.js"&gt;&lt;/script&gt;  
  &lt;script&gt;
  function add(){
   $.post("add",$("#form1").serialize(),function(data){
      $("#result").text(data); //后台处理过的数据放在result里面 
    }
    );
  }
   
&lt;/script&gt; 
  &lt;/head&gt;  
  &lt;body&gt;
  &lt;form id="form1"&gt;
    学号: &lt;input type="text" name="sno"  /&gt;&lt;br&gt;
    姓名: &lt;input type="text" name="sname"  /&gt;&lt;br&gt;
    性别: 男&lt;input type="radio" name="sex" value="男" checked /&gt;
    女&lt;input type="radio" name="sex" value="女" /&gt;
    &lt;br&gt;
 &lt;/form&gt;
 &lt;input type="button" value="添加记录" οnclick="add()"&gt; 
 &lt;div id="result"&gt;&lt;/div&gt; 
 &lt;/body&gt;
&lt;/html&gt;
</code></pre> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">servlet</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">PrintWriter</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>
<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">"/add"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> add <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">long</span> serialVersionUID <span class="token operator">=</span> <span class="token number">1L</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

	<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>

		response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"Served at: "</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>

		response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">"text/html;charset=UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">PrintWriter</span> out <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> sno<span class="token operator">=</span>request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"sno"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> sname<span class="token operator">=</span>request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"sname"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> sex<span class="token operator">=</span>request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"sex"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"要添加的记录为：学号："</span><span class="token operator">+</span>sno<span class="token operator">+</span><span class="token string">",姓名："</span><span class="token operator">+</span>sname<span class="token operator">+</span><span class="token string">",性别："</span><span class="token operator">+</span>sex<span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</code></pre> 
<p><img src="https://images2.imgbox.com/26/5d/3rufzDEZ_o.png" alt="在这里插入图片描述"></p> 
<h6><a id="_3443"></a>细节问题：</h6> 
<pre><code class="prism language-js">    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token keyword">function</span> <span class="token function">jump1</span><span class="token punctuation">(</span><span class="token parameter">url</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#right"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> 
<p>再看接下里的代码：</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>left<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>javascript:jump1('1.jsp')<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>班级管理<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>   
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>javascript:jump1('2.jsp')<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>学生管理<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>     
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span> 
</code></pre> 
<p>​ 很明显是想通过load加载数据，<code>a href="javascript:jump1('1.jsp')"</code>为什么要加上 <code>javascript:</code>前缀呢，因为一般的网页js都写在script标签里面，或者单独一个js文件，你想在<code>html</code>标签元素上使用javascript中的函数，使用<code>javascript:</code>前缀并调用特定函数的方式，可以直接在链接中执行JavaScript代码，实现链接点击时的特定操作，但是如果你 <code>a href="jump1('1.jsp')</code>,当直接写入 JavaScript 代码时，可能会受到浏览器的安全策略限制。有些浏览器可能会阻止执行这种内联的 JavaScript 代码，因为这可能会引起安全问题。</p> 
<h5><a id="_3466"></a>温馨提示：</h5> 
<p><code> PrintWriter</code> 对象的方法 <code>print()</code> 用于输出文本数据，而不会在输出的文本后自动添加换行符。如果需要在输出的文本后添加换行符，可以使用 <code>println()</code> 方法。</p> 
<h4><a id="___3470"></a>第八章 开发模式</h4> 
<h5><a id="_3472"></a>简介：</h5> 
<p>jsp+javabean模式：</p> 
<p>​ 在JSP和JavaBean模式中，JSP页面通常用于呈现动态内容和与用户进行交互，而JavaBean类用于处理业务逻辑和数据操作。JSP页面可以通过使用JavaBean类的getter方法获取数据并进行展示，也可以通过表单提交数据并使用JavaBean类的setter方法进行处理。这种模式将业务逻辑和数据操作与页面展示分离，提高了代码的可维护性和可重用性。</p> 
<p>Jsp+Servlet+Javabean模式：</p> 
<p>​ 在JSP+Servlet+JavaBean模式中，JSP页面负责展示和用户交互，Servlet负责接收和处理请求，并调用JavaBean进行业务逻辑的处理和数据的操作。JavaBean封装了数据和具体的业务逻辑，Servlet和JSP页面通过JavaBean进行数据交互和通信。这一种模式最最类似MVC开发模式，M有Model由JavaBean实现，V代表视图(View)由Jsp来实现，C(控制器)由Servlet来实现，在业务逻辑上MVC开发模式是相对较为高效的。</p> 
<p>下面画一个流程图展示给大家：</p> 
<p><img src="https://images2.imgbox.com/fd/c2/0OHCkyMA_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="_3487"></a>实战案例：</h5> 
<h6><a id="_3489"></a>一：</h6> 
<p>jsp+javabean实现学生信息管理：</p> 
<p><img src="https://images2.imgbox.com/92/9e/b2KdRUBy_o.png" alt="在这里插入图片描述"></p> 
<p>没有用到servlet，所有的业务逻辑都写在jsp中，如下：</p> 
<pre><code class="prism language-css"><span class="token selector">&lt;style&gt;
  body</span><span class="token punctuation">{<!-- --></span>
      <span class="token property">text-align</span><span class="token punctuation">:</span>center<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">th,td</span><span class="token punctuation">{<!-- --></span>
  <span class="token property">border</span><span class="token punctuation">:</span>2px solid gray<span class="token punctuation">;</span>
  <span class="token property">text-align</span><span class="token punctuation">:</span>center<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span>3px 10px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">table</span><span class="token punctuation">{<!-- --></span>
  <span class="token property">border-collapse</span><span class="token punctuation">:</span>collapse<span class="token punctuation">;</span> 
  <span class="token property">margin</span><span class="token punctuation">:</span>10px auto<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token selector">#form1</span><span class="token punctuation">{<!-- --></span>
  <span class="token property">padding</span><span class="token punctuation">:</span>20px<span class="token punctuation">;</span>
  <span class="token property">display</span><span class="token punctuation">:</span>none<span class="token punctuation">;</span>
  <span class="token property">position</span><span class="token punctuation">:</span>fixed<span class="token punctuation">;</span>
  <span class="token property">top</span><span class="token punctuation">:</span>50%<span class="token punctuation">;</span>
  <span class="token property">left</span><span class="token punctuation">:</span>50%<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span>300px<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span>200px<span class="token punctuation">;</span>
  <span class="token property">z-index</span><span class="token punctuation">:</span>1000<span class="token punctuation">;</span>
  <span class="token property">margin-left</span><span class="token punctuation">:</span>-200px<span class="token punctuation">;</span>
  <span class="token property">margin-top</span><span class="token punctuation">:</span>-200px<span class="token punctuation">;</span>
   <span class="token property">background</span><span class="token punctuation">:</span> #88f<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
 &lt;/style&gt;
</code></pre> 
<pre><code class="prism language-jsp">&lt;%@ page  pageEncoding="UTF-8" import="java.util.*,entity.*,dao.*"%&gt;
&lt;%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %&gt; &lt;!--jstl库  --&gt;
&lt;html&gt;
&lt;head&gt;
&lt;!--把上面的css文件加进来  --&gt;
&lt;/head&gt;

&lt;body&gt;
&lt;%
StudentDao studentDao=new StudentDao();//创建一个学生操控类
request.setCharacterEncoding("UTF-8");//设置请求类型的参数 因为涉及到表单 
String op=request.getParameter("op");//获取操作类型 
System.out.println(op);//输出一下操作类型(为了检验)
if(op!=null){
if("add".equals(op)){//添加
	Student student=new Student(request.getParameter("sno"),request.getParameter("sname"),request.getParameter("sex"));
	try{studentDao.add(student);//加入新对象

	}
	catch(Exception e){
		out.print("&lt;script&gt;alert('学号不唯一')&lt;/script&gt;");
	}
}
else if("update".equals(op)){// 更新操作 
Student student=new Student();
student.setId(Integer.parseInt(request.getParameter("id")));
student.setSno(request.getParameter("sno"));
student.setSname(request.getParameter("sname"));
student.setSex(request.getParameter("sex"));
//调用学生dao类更新 
try{studentDao.update(student);}
catch(Exception e){
	out.print("&lt;script&gt;alert('更新失败，学号不唯一')&lt;/script&gt;");
}
}
else if("delete".equals(op)){//删除
studentDao.delete(Integer.parseInt(request.getParameter("id")));
response.sendRedirect("query.jsp");//重定向使页面更新
}
}

List&lt;Student&gt; studentList=studentDao.query();//从数据库获取所有对象
pageContext.setAttribute("studentList",studentList);//保存属性 
 %&gt;
  &lt;h3&gt;&lt;a href="javascript:add()"&gt;添加记录&lt;/a&gt;&lt;/h3&gt; //调用add函数
 &lt;h2&gt;学生信息&lt;/h2&gt; 
   &lt;table&gt;
   &lt;tr&gt;&lt;th&gt;学号&lt;/th&gt;&lt;th&gt;姓名&lt;/th&gt;&lt;th&gt;性别&lt;/th&gt;&lt;th&gt;修改&lt;/th&gt;&lt;th&gt;删除&lt;/th&gt;&lt;/tr&gt;
      &lt;!--使用EL表达式循环不断创建学生信息 --&gt;
  &lt;c:forEach items="${studentList}" var="student" varStatus="st"&gt;
  &lt;tr&gt;
   
   &lt;td&gt;${student.sno}&lt;/td&gt;
   &lt;td&gt;${student.sname}&lt;/td&gt;
   &lt;td&gt;${student.sex}&lt;/td&gt;
     &lt;td&gt;&lt;a href="javascript:update(${student.id},'${student.sno}','${student.sname}','${student.sex}')"&gt;修改&lt;/a&gt;&lt;/td&gt;
   &lt;td&gt;&lt;a href="query.jsp?op=delete&amp;id=${student.id}" οnclick="return confirm('确实要删除吗？')"&gt;删除&lt;/a&gt;&lt;/td&gt;    
          &lt;!--注意${student.sname} 使EL表达式取出来的值，仅仅是值，不是字符串类型  --&gt;
  &lt;/tr&gt;
 &lt;/c:forEach&gt; 
 &lt;/table&gt;
 &lt;form method="post" id="form1"&gt;
学号&lt;input type="text" name="sno" id="sno"/&gt;&lt;br&gt;&lt;br&gt;
 姓名&lt;input type="text" name="sname" id="sname"/&gt;&lt;br&gt;&lt;br&gt;
性别&lt;input type="radio" name="sex" value="男" checked/&gt;男&lt;input type="radio" name="sex" value="女" /&gt;女&lt;br&gt;&lt;br&gt;
 &lt;input type="hidden" name="op" value="" id="op"/&gt; 
 &lt;input type="hidden" name="id" id="id"/&gt;
 &lt;input type="submit" value="" id="bt"/&gt;
 &lt;input type="reset" value="重置"/&gt;
  &lt;input type="button" value="关闭" οnclick="document.getElementById('form1').style.display='none';"/&gt;
 &lt;/form&gt;
 &lt;br&gt;
 &lt;script&gt;
 function add(){
	 document.getElementById("bt").value="添加";
	 document.getElementById("op").value="add";
	 document.getElementById("form1").style.display="block";
	 
 }
 function update(id,sno,sname,sex){
	 document.getElementById("bt").value="修改";
	 document.getElementById("op").value="update";
	 document.getElementById("id").value=id;
	 document.getElementById("sno").value=sno;
	 document.getElementById("sname").value=sname;
	 var sexs=document.getElementsByName("sex");
	 if(sex=='男'){
		 sexs[0].checked=true;sexs[1].checked=false;
	 }
	 else{
		 sexs[0].checked=false;sexs[1].checked=true;
	 }
	 document.getElementById("form1").style.display="block";
	 
 }
 &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;

</code></pre> 
<p><img src="https://images2.imgbox.com/16/3b/K8zKiPqk_o.png" alt="在这里插入图片描述"></p> 
<p>​ 我们会发现，jsp+javabean 这种开发模式过于冗余，不符合高内聚低耦合，也不利于后期的开发和维护。</p> 
<h6><a id="_3636"></a>二：</h6> 
<p>jsp+servlet+javabean实现学生管理：</p> 
<p>项目结构：</p> 
<p><img src="https://images2.imgbox.com/e1/93/ESlFFGZG_o.png" alt="在这里插入图片描述"></p> 
<p>index.html</p> 
<pre><code class="prism language-html">&lt;%@ page  pageEncoding="UTF-8"%&gt;
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>  
    
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Home<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">  
       <span class="token selector">html,body</span><span class="token punctuation">{<!-- --></span>
       <span class="token property">height</span><span class="token punctuation">:</span>90%<span class="token punctuation">;</span>
       <span class="token punctuation">}</span>
        <span class="token selector">#left</span><span class="token punctuation">{<!-- --></span>  
            <span class="token property">width</span><span class="token punctuation">:</span> 15%<span class="token punctuation">;</span>  //左侧占15%
            <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>  
            <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>  //向左浮动
            <span class="token property">border-right</span><span class="token punctuation">:</span>1px solid gray<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>  
        <span class="token selector">#right</span><span class="token punctuation">{<!-- --></span>  
            <span class="token property">width</span><span class="token punctuation">:</span> 80%<span class="token punctuation">;</span>  
            <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>  
            <span class="token property">border</span><span class="token punctuation">:</span>0<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>  
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span> 
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span> 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>  
   
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>学生信息管理<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span><span class="token punctuation">&gt;</span></span>
    
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>left<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span><span class="token comment">&lt;!--studentServlet 跳转到servlet  --&gt;</span>
         <span class="token comment">&lt;!--target="right"表示链接将在名为"right"的窗口或框架中打开  --&gt;</span>
            <span class="token comment">&lt;!-- 超链接相当于向servlet发送get请求，所以会走doGet  --&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>studentServlet<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>right<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>学生管理<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>   
        
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>  
     <span class="token comment">&lt;!--iframe 相当于一个子网页，可以实现网页嵌套网页的作用--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iframe</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>right<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>right<span class="token punctuation">"</span></span>  <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iframe</span><span class="token punctuation">&gt;</span></span>  
  
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>  
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>我们接下来看一看后台servlet是怎么写的。</p> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">servlet</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">PrintWriter</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">dao<span class="token punctuation">.</span></span><span class="token class-name">StudentDao</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">entity<span class="token punctuation">.</span></span><span class="token class-name">Student</span></span><span class="token punctuation">;</span>
<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">"/studentServlet"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StudentServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">long</span> serialVersionUID <span class="token operator">=</span> <span class="token number">1L</span><span class="token punctuation">;</span>
      <span class="token class-name">StudentDao</span> studentDao<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">StudentDao</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token keyword">public</span> <span class="token class-name">StudentServlet</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
	<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
		request<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">"UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//设置请求来的参数类型 </span>
			<span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
				<span class="token class-name">String</span> op<span class="token operator">=</span>request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"op"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//获取操作类型</span>
				<span class="token keyword">if</span><span class="token punctuation">(</span>op<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
					<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token string">"add"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>op<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
						<span class="token class-name">Student</span> student<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"sno"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"sname"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"sex"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
						studentDao<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>student<span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span>
					<span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token string">"update"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>op<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
						<span class="token class-name">Student</span> student<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
					student<span class="token punctuation">.</span><span class="token function">setId</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
						student<span class="token punctuation">.</span><span class="token function">setSno</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"sno"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
						student<span class="token punctuation">.</span><span class="token function">setSname</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"sname"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
						student<span class="token punctuation">.</span><span class="token function">setSex</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"sex"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
						studentDao<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>student<span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span>
					<span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token string">"delete"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>op<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
						studentDao<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span>
						
				<span class="token punctuation">}</span>
				<span class="token comment">//一开始点击操作 没有传递操作类型 会直接到这里</span>
				<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Student</span><span class="token punctuation">&gt;</span></span> studentList <span class="token operator">=</span> studentDao<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"studentList"</span><span class="token punctuation">,</span>studentList<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//请求范围内保存属性</span>
				request<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">"query.jsp"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//请求转发 </span>
			<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		
				response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">"text/html;charset=UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//用于设置响应的内容类型为"text/html"，并指定字符编码为UTF-8。这告诉浏览器响应的内容是HTML格式</span>
				<span class="token class-name">PrintWriter</span> out<span class="token operator">=</span>response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//获取一个可以向客户端发送内容的输出流</span>
				out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//异常对象 e 转换为字符串，并通过输出流向客户端发送</span>
			<span class="token punctuation">}</span>
			
		<span class="token punctuation">}</span>
		
	<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>	
		<span class="token function">doGet</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</code></pre> 
<p>接下来我们看看他转发后的页面query.jsp：</p> 
<pre><code class="prism language-css"><span class="token selector">&lt;style&gt;
  body</span><span class="token punctuation">{<!-- --></span>
      <span class="token property">text-align</span><span class="token punctuation">:</span>center<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">th,td</span><span class="token punctuation">{<!-- --></span>
  <span class="token property">border</span><span class="token punctuation">:</span>2px solid gray<span class="token punctuation">;</span>
  <span class="token property">text-align</span><span class="token punctuation">:</span>center<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span>3px 10px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">table</span><span class="token punctuation">{<!-- --></span>
  <span class="token property">border-collapse</span><span class="token punctuation">:</span>collapse<span class="token punctuation">;</span> 
  <span class="token property">margin</span><span class="token punctuation">:</span>10px auto<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token selector">#form1</span><span class="token punctuation">{<!-- --></span>
  <span class="token property">padding</span><span class="token punctuation">:</span>20px<span class="token punctuation">;</span>
  <span class="token property">display</span><span class="token punctuation">:</span>none<span class="token punctuation">;</span>
  <span class="token property">position</span><span class="token punctuation">:</span>fixed<span class="token punctuation">;</span>
  <span class="token property">top</span><span class="token punctuation">:</span>50%<span class="token punctuation">;</span>
  <span class="token property">left</span><span class="token punctuation">:</span>80%<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span>300px<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span>200px<span class="token punctuation">;</span>
  <span class="token property">z-index</span><span class="token punctuation">:</span>1000<span class="token punctuation">;</span>
  <span class="token property">margin-left</span><span class="token punctuation">:</span>-200px<span class="token punctuation">;</span>
  <span class="token property">margin-top</span><span class="token punctuation">:</span>-200px<span class="token punctuation">;</span>
   <span class="token property">background</span><span class="token punctuation">:</span> #88f<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
 &lt;/style&gt;
</code></pre> 
<pre><code class="prism language-jsp">&lt;%@ page  pageEncoding="UTF-8" import="java.util.*,entity.*,dao.*"%&gt;
&lt;%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %&gt;
&lt;html&gt;
&lt;head&gt;
&lt;!--将上面的CSS文件放入进来  --&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;h3&gt;&lt;a href="javascript:add()"&gt;添加记录&lt;/a&gt;&lt;/h3&gt; 
 &lt;h2&gt;学生信息&lt;/h2&gt; 
   &lt;table&gt;
   &lt;tr&gt;&lt;th&gt;学号&lt;/th&gt;&lt;th&gt;姓名&lt;/th&gt;&lt;th&gt;性别&lt;/th&gt;&lt;th&gt;修改&lt;/th&gt;&lt;th&gt;删除&lt;/th&gt;&lt;/tr&gt;
  &lt;c:forEach items="${studentList}" var="student" varStatus="st"&gt;
      &lt;!-- 获取之前存在请求范围内的数据 然后循环填充表格--&gt;
  &lt;tr&gt;
   
   &lt;td&gt;${student.sno}&lt;/td&gt;
   &lt;td&gt;${student.sname}&lt;/td&gt;
   &lt;td&gt;${student.sex}&lt;/td&gt;
     &lt;td&gt;&lt;a href="javascript:update(${student.id},'${student.sno}','${student.sname}','${student.sex}')"&gt;修改&lt;/a&gt;&lt;/td&gt;
   &lt;td&gt;&lt;a href="studentServlet?op=delete&amp;id=${student.id}" οnclick="return confirm('确实要删除吗？')"&gt;删除&lt;/a&gt;&lt;/td&gt;    
  &lt;/tr&gt;
 &lt;/c:forEach&gt; 
 &lt;/table&gt;
 &lt;form method="post" id="form1" action="studentServlet"&gt;
学号&lt;input type="text" name="sno" id="sno"/&gt;&lt;br&gt;&lt;br&gt;
 姓名&lt;input type="text" name="sname" id="sname"/&gt;&lt;br&gt;&lt;br&gt;
性别&lt;input type="radio" name="sex" value="男" checked/&gt;男&lt;input type="radio" name="sex" value="女" /&gt;女&lt;br&gt;&lt;br&gt;
 &lt;input type="hidden" name="op" value="" id="op"/&gt;
 &lt;input type="hidden" name="id" id="id"/&gt;
 &lt;input type="submit" value="" id="bt"/&gt;
 &lt;input type="reset" value="重置"/&gt;
  &lt;input type="button" value="关闭" οnclick="document.getElementById('form1').style.display='none';"/&gt;
 &lt;/form&gt;
 &lt;br&gt;
 &lt;script&gt;
 function add(){
	 document.getElementById("bt").value="添加";
	 document.getElementById("op").value="add";
	 document.getElementById("form1").style.display="block";//使提交表单可以显示出来
	 
 }
 function update(id,sno,sname,sex){
	 document.getElementById("bt").value="修改";
	 document.getElementById("op").value="update";
	 document.getElementById("id").value=id;
	 document.getElementById("sno").value=sno;
	 document.getElementById("sname").value=sname;
	 var sexs=document.getElementsByName("sex");
	 if(sex=='男'){
		 sexs[0].checked=true;sexs[1].checked=false;
	 }
	 else{
		 sexs[0].checked=false;sexs[1].checked=true;
	 }
	 document.getElementById("form1").style.display="block";
	 
 }
 &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;

</code></pre> 
<p><img src="https://images2.imgbox.com/63/bc/0bKiXH8p_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/c1/45/K48c2o9l_o.png" alt="在这里插入图片描述"></p> 
<h6><a id="_3860"></a>三：</h6> 
<p>​ 这个案例就是在二的基础上加入了查询和分页操作。</p> 
<p><img src="https://images2.imgbox.com/7a/e7/k1xPoQxY_o.png" alt="在这里插入图片描述"></p> 
<p>项目结构：</p> 
<p><img src="https://images2.imgbox.com/93/ea/onLaUFHo_o.png" alt="在这里插入图片描述"></p> 
<p>主页面index.jsp：</p> 
<pre><code class="prism language-jsp">&lt;%@ page  pageEncoding="UTF-8"%&gt;
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;  
    &lt;meta charset="utf-8"/&gt;  
    
    &lt;title&gt;Home&lt;/title&gt;  
    &lt;style&gt;  
       html,body{
       height:90%;
       }
        #left{  
            width: 15%;  
            height: 100%;  
            float: left;  
            border-right:1px solid gray;
        }  
        #right{  
            width: 80%;  
            height: 100%;  
            border:0;
        }  
    &lt;/style&gt;  
&lt;body&gt;  
&lt;p&gt;${pageContext.request.contextPath}&lt;p&gt;
 &lt;%=request.getContextPath() %&gt;
    &lt;h2&gt;学生信息管理&lt;/h2&gt;&lt;hr&gt;
    
    &lt;div id="left"&gt;
     &lt;ul&gt;
         &lt;!--${pageContext.request.contextPath}通常返回的是Web应用程序的上下文路径，例如/myapp,这个上下文路径是相对于域名和端口的。 --&gt;
         &lt;!-- 点击之后 会right显示 --&gt;
        &lt;li&gt;&lt;a href="${pageContext.request.contextPath}/student?action=query1" target="right"&gt;模糊查询&lt;/a&gt;&lt;/li&gt; 
         &lt;li&gt;&lt;a href="${pageContext.request.contextPath}/student?action=query2" target="right"&gt;分页浏览&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href="${pageContext.request.contextPath}/student?action=query3" target="right"&gt;分页查询&lt;/a&gt;&lt;/li&gt; 
         &lt;!--在名为"right"的窗口或框架中显示目标页面。 --&gt;
         
     &lt;/ul&gt;
    &lt;/div&gt;  
    &lt;iframe id="right" name="right"  src=""&gt;&lt;/iframe&gt;  
  
&lt;/body&gt;  
&lt;/html&gt;
</code></pre> 
<p>我们看一下后台的servlet是怎么写的</p> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">servlet</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">dao<span class="token punctuation">.</span></span><span class="token class-name">StudentDao</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">entity<span class="token punctuation">.</span></span><span class="token class-name">Student</span></span><span class="token punctuation">;</span>
<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">"/student"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StudentServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">long</span> serialVersionUID <span class="token operator">=</span> <span class="token number">1L</span><span class="token punctuation">;</span>
    <span class="token class-name">StudentDao</span> studentDao<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">StudentDao</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token class-name">StudentServlet</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     
    <span class="token punctuation">}</span>
	<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">doPost</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 这一行一定要写 因为你前端的超链接发送到servlet是get请求</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
		request<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">"UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//对请求来的参数进行编码</span>
		<span class="token class-name">String</span> operationType<span class="token operator">=</span>request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"action"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//获取是那一中查询方式</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token string">"query1"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>operationType<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">query1</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token string">"query2"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>operationType<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">query2</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token string">"query3"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>operationType<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">query3</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	
	<span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">query1</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span>  <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
			<span class="token class-name">String</span> condition<span class="token operator">=</span><span class="token string">" where 1=1 "</span><span class="token punctuation">;</span> <span class="token comment">//恒等条件</span>
			<span class="token class-name">String</span> sno<span class="token operator">=</span>request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"sno"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token class-name">String</span> sname<span class="token operator">=</span>request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"sname"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token class-name">String</span> sex<span class="token operator">=</span>request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"sex"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//下面模糊查询</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">notEmpty</span><span class="token punctuation">(</span>sno<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
				condition<span class="token operator">+=</span><span class="token string">" and sno like '%"</span><span class="token operator">+</span>sno<span class="token operator">+</span><span class="token string">"%' "</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">notEmpty</span><span class="token punctuation">(</span>sname<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
				condition<span class="token operator">+=</span><span class="token string">" and sname like '%"</span><span class="token operator">+</span>sname<span class="token operator">+</span><span class="token string">"%' "</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">notEmpty</span><span class="token punctuation">(</span>sex<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
				condition<span class="token operator">+=</span><span class="token string">" and sex like '%"</span><span class="token operator">+</span>sex<span class="token operator">+</span><span class="token string">"%' "</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
            <span class="token comment">//将数据保存到请求中</span>
			request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"studentList"</span><span class="token punctuation">,</span>studentDao<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span>condition<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		request<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">"/student/query1.jsp"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//请求转发 数据共享</span>
			
		<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">query2</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span>  <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
			<span class="token keyword">int</span> pageNo<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token comment">//定义初始页码</span>
			<span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
				pageNo<span class="token operator">=</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"pageNo"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//获取前端那个地方是第几页</span>
			<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token punctuation">}</span>
			<span class="token keyword">int</span> pageSize<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">;</span><span class="token comment">//定义每一页有多少条数据 </span>
			<span class="token keyword">int</span> recordCount<span class="token operator">=</span>studentDao<span class="token punctuation">.</span><span class="token function">getRecordCount</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span>recordCount<span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
				 <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Student</span><span class="token punctuation">&gt;</span></span> studentList<span class="token operator">=</span>studentDao<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">,</span><span class="token string">""</span><span class="token punctuation">,</span>pageNo<span class="token punctuation">,</span>pageSize<span class="token punctuation">)</span><span class="token punctuation">;</span>	
					<span class="token keyword">int</span> t1<span class="token operator">=</span>recordCount<span class="token operator">%</span>pageSize<span class="token punctuation">;</span>
					<span class="token keyword">int</span> t2<span class="token operator">=</span>recordCount<span class="token operator">/</span>pageSize<span class="token punctuation">;</span>
					<span class="token keyword">int</span> pageCount<span class="token operator">=</span><span class="token punctuation">(</span>t1<span class="token operator">==</span><span class="token number">0</span><span class="token operator">?</span>t2<span class="token operator">:</span>t2<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
					request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"pageNo"</span><span class="token punctuation">,</span> pageNo<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//当前是第几页</span>
					request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"pageCount"</span><span class="token punctuation">,</span> pageCount<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//总共多少页</span>
					request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"studentList"</span><span class="token punctuation">,</span> studentList<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//学生列表</span>
			<span class="token punctuation">}</span>
			request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"recordCount"</span><span class="token punctuation">,</span> recordCount<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//一共多少条记录</span>
			request<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">"/student/query2.jsp"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
			
		<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token comment">// TODO Auto-generated catch block</span>
			e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">query3</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span>  <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
			<span class="token class-name">String</span> condition<span class="token operator">=</span><span class="token string">" where 1=1 "</span><span class="token punctuation">;</span>
			<span class="token class-name">String</span> sno<span class="token operator">=</span>request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"sno"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token class-name">String</span> sname<span class="token operator">=</span>request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"sname"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token class-name">String</span> sex<span class="token operator">=</span>request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"sex"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//模糊查询</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">notEmpty</span><span class="token punctuation">(</span>sno<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
				condition<span class="token operator">+=</span><span class="token string">" and sno like '%"</span><span class="token operator">+</span>sno<span class="token operator">+</span><span class="token string">"%' "</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">notEmpty</span><span class="token punctuation">(</span>sname<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
				condition<span class="token operator">+=</span><span class="token string">" and sname like '%"</span><span class="token operator">+</span>sname<span class="token operator">+</span><span class="token string">"%' "</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">notEmpty</span><span class="token punctuation">(</span>sex<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
				condition<span class="token operator">+=</span><span class="token string">" and sex like '%"</span><span class="token operator">+</span>sex<span class="token operator">+</span><span class="token string">"%' "</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">int</span> pageNo<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
			<span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
				pageNo<span class="token operator">=</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"pageNo"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//获取页数</span>
			<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token punctuation">}</span>
			<span class="token keyword">int</span> pageSize<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">;</span>
			<span class="token keyword">int</span> recordCount<span class="token operator">=</span>studentDao<span class="token punctuation">.</span><span class="token function">getRecordCount</span><span class="token punctuation">(</span>condition<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span>recordCount<span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
				 <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Student</span><span class="token punctuation">&gt;</span></span> studentList<span class="token operator">=</span>studentDao<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span>condition<span class="token punctuation">,</span><span class="token string">""</span><span class="token punctuation">,</span>pageNo<span class="token punctuation">,</span>pageSize<span class="token punctuation">)</span><span class="token punctuation">;</span>						
					<span class="token keyword">int</span> t1<span class="token operator">=</span>recordCount<span class="token operator">%</span>pageSize<span class="token punctuation">;</span><span class="token punctuation">;</span>
					<span class="token keyword">int</span> t2<span class="token operator">=</span>recordCount<span class="token operator">/</span>pageSize<span class="token punctuation">;</span>
					<span class="token keyword">int</span> pageCount<span class="token operator">=</span><span class="token punctuation">(</span>t1<span class="token operator">==</span><span class="token number">0</span><span class="token operator">?</span>t2<span class="token operator">:</span>t2<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
					request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"pageNo"</span><span class="token punctuation">,</span> pageNo<span class="token punctuation">)</span><span class="token punctuation">;</span>
					request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"pageCount"</span><span class="token punctuation">,</span> pageCount<span class="token punctuation">)</span><span class="token punctuation">;</span>
					request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"studentList"</span><span class="token punctuation">,</span> studentList<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"recordCount"</span><span class="token punctuation">,</span> recordCount<span class="token punctuation">)</span><span class="token punctuation">;</span>
			request<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">"/student/query3.jsp"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
			
		<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token comment">// TODO Auto-generated catch block</span>
			e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">private</span> <span class="token keyword">boolean</span> <span class="token function">notEmpty</span><span class="token punctuation">(</span><span class="token class-name">String</span> s<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> s<span class="token operator">!=</span><span class="token keyword">null</span><span class="token operator">&amp;&amp;</span><span class="token operator">!</span><span class="token string">""</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<p>query1.jsp 模糊查询</p> 
<pre><code class="prism language-jsp">&lt;%@ page   pageEncoding="UTF-8" import="java.util.List,dao.StudentDao,entity.Student"%&gt;
&lt;%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %&gt;
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;&lt;title&gt;模糊&lt;/title&gt;
&lt;script&gt;
function qingchu(){
	document.getElementById("sno").value='';
	document.getElementById("sname").value='';
	document.getElementById("sex").value='';
}
&lt;/script&gt;
&lt;style&gt;
th,td{
border:2px solid gray;
padding:3px;
text-align:center;
}
table,form{
border-collapse:collapse;
margin:0 auto;
text-align:center;
}
&lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;form method="post" action="${pageContext.request.contextPath}/student"&gt;
学号&lt;input type="text" name="sno" id="sno" value="${param.sno}"&gt;&lt;!--保留上次输入记录--&gt;
姓名&lt;input type="text" name="sname" id="sname" value="${param.sname}"&gt;
性别&lt;input type="text" name="sex" id="sex" value="${param.sex}"&gt;
&lt;input type="button"  value="清除" οnclick="qingchu()"/&gt;
&lt;input type="hidden" name="action" value="query1"/&gt;
&lt;input type="submit" value="查询"/&gt;
&lt;/form&gt;
&lt;br&gt;
&lt;table&gt;
&lt;tr&gt;&lt;th&gt;序号&lt;/th&gt;&lt;th&gt;学号&lt;/th&gt;&lt;th&gt;姓名&lt;/th&gt;&lt;th&gt;性别&lt;/th&gt;&lt;th&gt;修改&lt;/th&gt;&lt;th&gt;删除&lt;/th&gt;&lt;/tr&gt;
&lt;c:forEach items="${studentList}" var="student" varStatus="status"&gt;&lt;!--循环创建--&gt;
&lt;tr&gt;
&lt;td&gt;${status.index+1}&lt;/td&gt; &lt;!--序号从0开始，所以要加1--&gt;
&lt;td&gt;${student.sno}&lt;/td&gt;
&lt;td&gt;${student.sname}&lt;/td&gt;
&lt;td&gt;${student.sex}&lt;/td&gt; 
&lt;td&gt;&lt;a href="${pageContext.request.contextPath}/student/edit.jsp?id=${student.id}&amp;sno=${student.sno}&amp;sname=${student.sname}&amp;sex=${student.sex}"&gt;修改&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;a href="${pageContext.request.contextPath}/student?id=${student.id}&amp;action=delete" οnclick="return confirm('确实要删除该记录吗？')"&gt;删除&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/c:forEach&gt; 
&lt;/table&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre> 
<p><img src="https://images2.imgbox.com/09/46/hzDPQFaZ_o.png" alt="在这里插入图片描述"></p> 
<p>query2.jsp 分页浏览</p> 
<pre><code class="prism language-jsp">&lt;%@ page   pageEncoding="UTF-8" import="java.util.List,dao.StudentDao,entity.Student"%&gt;
&lt;%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %&gt;
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;&lt;title&gt;模糊&lt;/title&gt;
&lt;script&gt;
function qingchu(){
	document.getElementById("sno").value='';
	document.getElementById("sname").value='';
	document.getElementById("sex").value='';
}
&lt;/script&gt;
&lt;style&gt;
th,td{
border:2px solid gray;
padding:3px;
text-align:center;
}
table,form{
border-collapse:collapse;
margin:0 auto;
text-align:center;
}
#pageSwitch{
margin:5px;
text-align:center;
}
&lt;/style&gt;
&lt;script&gt;
function jump1(pageNo){  //跳转到第几页
	location.href="${pageContext.request.contextPath}/student?action=query2&amp;pageNo="+pageNo;
}
&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;!--如果请求范围内(servlet会传递过来) recordCount =0 --&gt;
&lt;c:if test="${requestScope.recordCount==0}"&gt;
无记录
&lt;/c:if&gt;
    
&lt;c:if test="${requestScope.recordCount&gt;0}"&gt;
&lt;table&gt;
&lt;tr&gt;&lt;th&gt;序号&lt;/th&gt;&lt;th&gt;学号&lt;/th&gt;&lt;th&gt;姓名&lt;/th&gt;&lt;th&gt;性别&lt;/th&gt;&lt;th&gt;修改&lt;/th&gt;&lt;th&gt;删除&lt;/th&gt;&lt;/tr&gt;
&lt;c:forEach items="${studentList}" var="student" varStatus="status"&gt;
&lt;tr&gt;
&lt;td&gt;${status.index+1}&lt;/td&gt;
&lt;td&gt;${student.sno}&lt;/td&gt;
&lt;td&gt;${student.sname}&lt;/td&gt;
&lt;td&gt;${student.sex}&lt;/td&gt; 
&lt;td&gt;&lt;a href="${pageContext.request.contextPath}/student/edit.jsp?id=${student.id}&amp;sno=${student.sno}&amp;sname=${student.sname}&amp;sex=${student.sex}"&gt;修改&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;a href="${pageContext.request.contextPath}/student?id=${student.id}&amp;action=delete" οnclick="return confirm('确实要删除该记录吗？')"&gt;删除&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/c:forEach&gt; 
&lt;/table&gt;
&lt;div id="pageSwitch"&gt;
    &lt;!--recordCount记录数--&gt;   &lt;!--pageNo当前页数--&gt; &lt;!--pageCount总页数--&gt;
 共有记录${recordCount}条， 第${pageNo}/${pageCount}页，
&lt;c:if test="${pageNo&gt;1}"&gt;
 &lt;a href="javascript:jump1('1')"&gt;首页&lt;/a&gt;
 &lt;a href="javascript:jump1('${pageNo-1}')"&gt;上页&lt;/a&gt;
&lt;/c:if&gt;
       &lt;!--如果是第一页的话，把上一页和首页固定主 而且不能点击--&gt; 
&lt;c:if test="${pageNo==1}"&gt;
  首页  上页
&lt;/c:if&gt;

 &lt;c:if test="${pageNo&lt;pageCount}"&gt;
   &lt;a href="javascript:jump1('${pageNo+1}')"&gt;下页&lt;/a&gt;
   &lt;a href="javascript:jump1('${pageCount}')"&gt;末页&lt;/a&gt;
&lt;/c:if&gt;
      &lt;!--如果是第后一页的话，把下一页和尾页固定主 而且不能点击--&gt; 
 &lt;c:if test="${pageNo==pageCount}"&gt;
   下页   末页
&lt;/c:if&gt;
 
 &lt;/div&gt;

&lt;/c:if&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre> 
<p><img src="https://images2.imgbox.com/d2/07/EMNlEHfm_o.png" alt="在这里插入图片描述"></p> 
<p>query3.jsp 分页查询</p> 
<pre><code class="prism language-css"><span class="token selector">&lt;style&gt;
th,td</span><span class="token punctuation">{<!-- --></span>
<span class="token property">border</span><span class="token punctuation">:</span>2px solid gray<span class="token punctuation">;</span>
<span class="token property">padding</span><span class="token punctuation">:</span>3px<span class="token punctuation">;</span>
<span class="token property">text-align</span><span class="token punctuation">:</span>center<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">table,form</span><span class="token punctuation">{<!-- --></span>
<span class="token property">border-collapse</span><span class="token punctuation">:</span>collapse<span class="token punctuation">;</span>
<span class="token property">margin</span><span class="token punctuation">:</span>0 auto<span class="token punctuation">;</span>
<span class="token property">text-align</span><span class="token punctuation">:</span>center<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">#pageSwitch</span><span class="token punctuation">{<!-- --></span>
<span class="token property">margin</span><span class="token punctuation">:</span>5px<span class="token punctuation">;</span>
<span class="token property">text-align</span><span class="token punctuation">:</span>center<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
&lt;/style&gt;
</code></pre> 
<pre><code class="prism language-jsp">&lt;%@ page   pageEncoding="UTF-8" import="java.util.List,dao.StudentDao,entity.Student"%&gt;
&lt;%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %&gt;
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;&lt;title&gt;模糊&lt;/title&gt;
&lt;script&gt;
function qingchu(){
	document.getElementById("sno").value='';
	document.getElementById("sname").value='';
	document.getElementById("sex").value='';
}
function jump1(pageNo){
	var queryForm=document.getElementById("queryForm");
    queryForm.pageNo.value=pageNo;
	queryForm.submit();
}
&lt;/script&gt;
    &lt;!-- 将上面css代码放到这里--&gt;

&lt;/head&gt;
&lt;body&gt;
&lt;h&gt;${requestScope.recordCount}&lt;/h&gt; &lt;!--使用EL表达式获取存在请求范围内的数据--&gt;
&lt;form method="post" action="${pageContext.request.contextPath}/student" id="queryForm"&gt;
学号&lt;input type="text" name="sno" id="sno" value="${param.sno}"&gt;
姓名&lt;input type="text" name="sname" id="sname" value="${param.sname}"&gt;
性别&lt;input type="text" name="sex" id="sex" value="${param.sex}"&gt;
&lt;input type="button"  value="清除" οnclick="qingchu()"/&gt;
&lt;input type="hidden" name="action" value="query3"/&gt;
&lt;input type="hidden" name="pageNo" value="1"/&gt;
&lt;input type="submit" value="查询"/&gt;
&lt;/form&gt;
&lt;br&gt;
  &lt;!--判断是否查询到记录--&gt;
&lt;c:if test="${requestScope.recordCount==0}"&gt;
&lt;div style="text-align:center"&gt;无记录&lt;/div&gt;
&lt;/c:if&gt;
&lt;c:if test="${requestScope.recordCount&gt;0}"&gt;
&lt;table&gt;
&lt;tr&gt;&lt;th&gt;序号&lt;/th&gt;&lt;th&gt;学号&lt;/th&gt;&lt;th&gt;姓名&lt;/th&gt;&lt;th&gt;性别&lt;/th&gt;&lt;th&gt;修改&lt;/th&gt;&lt;th&gt;删除&lt;/th&gt;&lt;/tr&gt;
&lt;c:forEach items="${studentList}" var="student" varStatus="status"&gt;
&lt;tr&gt;
&lt;td&gt;${status.index+1}&lt;/td&gt;
&lt;td&gt;${student.sno}&lt;/td&gt;
&lt;td&gt;${student.sname}&lt;/td&gt;
&lt;td&gt;${student.sex}&lt;/td&gt; 
&lt;td&gt;&lt;a href="${pageContext.request.contextPath}/student/edit.jsp?id=${student.id}&amp;sno=${student.sno}&amp;sname=${student.sname}&amp;sex=${student.sex}"&gt;修改&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;a href="${pageContext.request.contextPath}/student?id=${student.id}&amp;action=delete" οnclick="return confirm('确实要删除该记录吗？')"&gt;删除&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/c:forEach&gt; 
&lt;/table&gt;
    
&lt;div id="pageSwitch"&gt;
 共有记录${recordCount}条， 第${pageNo}/${pageCount}页，
    &lt;!--对首页进行特殊判断---&gt;
&lt;c:if test="${pageNo&gt;1}"&gt;
 &lt;a href="javascript:jump1('1')"&gt;首页&lt;/a&gt;
 &lt;a href="javascript:jump1('${pageNo-1}')"&gt;上页&lt;/a&gt;
&lt;/c:if&gt;
&lt;c:if test="${pageNo==1}"&gt;
  首页  上页
&lt;/c:if&gt;
    &lt;!--对尾页进行特殊判断---&gt;
 &lt;c:if test="${pageNo&lt;pageCount}"&gt;
   &lt;a href="javascript:jump1('${pageNo+1}')"&gt;下页&lt;/a&gt;
   &lt;a href="javascript:jump1('${pageCount}')"&gt;末页&lt;/a&gt;
&lt;/c:if&gt;
 &lt;c:if test="${pageNo==pageCount}"&gt;
   下页   末页
&lt;/c:if&gt;
 &lt;/div&gt;
 &lt;/c:if&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre> 
<p><img src="https://images2.imgbox.com/ae/35/A9kvTLSp_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_4303"></a>总结：</h4> 
<p>​ 在这篇文章中，我尽力提供了清晰的解释和相关示例，以帮助读者更好地理解JavaWeb的关键概念和技术。我希望这篇复习总结对那些正在学习或回顾JavaWeb开发的人们有所帮助。</p> 
<p>​ 最后，我想强调一下，如果在文章中存在任何侵权问题，请您立即与我取得联系，我将及时删除有关内容。</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/fe85f1827c89f7ca77e2ce50496f2049/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【C&#43;&#43;】特殊类设计</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/ff9a14c1496164b74d64205c95809e6e/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【STM32】TIM1在电机应用时的注意事项</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>