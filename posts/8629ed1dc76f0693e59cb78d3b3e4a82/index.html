<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>ElementUi 表格自动滚动 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="ElementUi 表格自动滚动" />
<meta property="og:description" content="目录
概要
相关资源
关键点
实现原理
核心代码
异常情况
相关链接
概要 本文主要讲解如何在elmentui的table组件上实现表格内容自动滚动。表格背景已通过css修改为透明背景。话不多说，直接进入正题。
相关资源 资源类型资源名称JQUERY jquery-3.1.1.min.js
VUE vue.js
VUE vue-resource.js
ElementUI elementui.min.js
ElementUI elementui.css
关键点 1.创建html页面引入相关资源 2.创建el-table表格
ref=&#34;datalist&#34; 表格元素的标记，用于获取到这个元素，用法：$.refs.datalist
@mouseover.native 鼠标移入表格事件 移入表格时滚动暂停
@mouseout.native 鼠标移出表格事件 移除表格时滚动恢复
@row-click 表格每行的点击事件
:data=&#34;tableData&#34; 表格绑定的数据源名称
height=&#34;420&#34; 设置表格高度为420，必须，否则表格无法滚动
&lt;div id=&#34;App&#34;&gt; &lt;div class=&#34;warp&#34;&gt; &lt;div class=&#34;close&#34; onclick=&#34;closePage&#34;&gt;X&lt;/div&gt; &lt;div class=&#34;list&#34;&gt; &lt;el-table ref=&#34;datalist&#34; @mouseover.native=&#34;mouseEnter()&#34; @mouseout.native=&#34;mouseLeave()&#34; @row-click=&#34;tableRowClick&#34; :data=&#34;tableData&#34; height=&#34;420&#34; border style=&#34;width: 100%&#34; &gt; &lt;el-table-column prop=&#34;time&#34; align=&#34;center&#34; label=&#34;时间&#34; width=&#34;150&#34;&gt; &lt;/el-table-column&gt; &lt;el-table-column prop=&#34;title&#34; align=&#34;left&#34; label=&#34;事件&#34; &gt; &lt;/el-table-column&gt; &lt;/el-table&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; 实现原理 通过获取表格的实际高度、可视高度、滚动距离，利用定时器按照设置的速度和每帧滚动距离不断重新设置滚动距离达到滚动的效果。到达底部后滚动距离重置为0." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/8629ed1dc76f0693e59cb78d3b3e4a82/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-03-04T13:49:09+08:00" />
<meta property="article:modified_time" content="2023-03-04T13:49:09+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">ElementUi 表格自动滚动</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="%E6%A6%82%E8%A6%81-toc" style="margin-left:40px;"><a href="#%E6%A6%82%E8%A6%81" rel="nofollow">概要</a></p> 
<p id="%E7%9B%B8%E5%85%B3%E8%B5%84%E6%BA%90-toc" style="margin-left:40px;"><a href="#%E7%9B%B8%E5%85%B3%E8%B5%84%E6%BA%90" rel="nofollow">相关资源</a></p> 
<p id="%E5%85%B3%E9%94%AE%E7%82%B9-toc" style="margin-left:40px;"><a href="#%E5%85%B3%E9%94%AE%E7%82%B9" rel="nofollow">关键点</a></p> 
<p id="%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86-toc" style="margin-left:40px;"><a href="#%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86" rel="nofollow">实现原理</a></p> 
<p id="%E6%A0%B8%E5%BF%83%E4%BB%A3%E7%A0%81-toc" style="margin-left:40px;"><a href="#%E6%A0%B8%E5%BF%83%E4%BB%A3%E7%A0%81" rel="nofollow">核心代码</a></p> 
<p id="%E5%BC%82%E5%B8%B8%E6%83%85%E5%86%B5-toc" style="margin-left:40px;"><a href="#%E5%BC%82%E5%B8%B8%E6%83%85%E5%86%B5" rel="nofollow">异常情况</a></p> 
<p id="%E7%9B%B8%E5%85%B3%E9%93%BE%E6%8E%A5-toc" style="margin-left:40px;"><a href="#%E7%9B%B8%E5%85%B3%E9%93%BE%E6%8E%A5" rel="nofollow">相关链接</a></p> 
<hr id="hr-toc"> 
<p></p> 
<h3 id="%E6%A6%82%E8%A6%81">概要</h3> 
<p>        本文主要讲解如何在elmentui的table组件上实现表格内容自动滚动。表格背景已通过css修改为透明背景。话不多说，直接进入正题。</p> 
<h3 id="%E7%9B%B8%E5%85%B3%E8%B5%84%E6%BA%90">相关资源</h3> 
<table border="1" cellpadding="1" cellspacing="1" style="width:500px;"><tbody><tr><td>资源类型</td><td>资源名称</td></tr><tr><td>JQUERY</td><td> <p>jquery-3.1.1.min.js</p> </td></tr><tr><td>VUE</td><td> <p>vue.js</p> </td></tr><tr><td>VUE</td><td> <p>vue-resource.js</p> </td></tr><tr><td>ElementUI</td><td> <p>elementui.min.js</p> </td></tr><tr><td>ElementUI</td><td> <p>elementui.css</p> </td></tr></tbody></table> 
<h3 id="%E5%85%B3%E9%94%AE%E7%82%B9">关键点</h3> 
<p>    1.创建html页面引入相关资源        <img alt="" src="https://images2.imgbox.com/75/77/eXiatDkG_o.png"></p> 
<p>    2.创建el-table表格</p> 
<p>        ref="datalist" 表格元素的标记，用于获取到这个元素，用法：$.refs.datalist</p> 
<p>        @mouseover.native 鼠标移入表格事件  移入表格时滚动暂停</p> 
<p>        @mouseout.native 鼠标移出表格事件 移除表格时滚动恢复</p> 
<p>        @row-click  表格每行的点击事件</p> 
<p>        :data="tableData" 表格绑定的数据源名称</p> 
<p>        height="420"  设置表格高度为420，必须，否则表格无法滚动</p> 
<pre><code class="language-html">&lt;div id="App"&gt;
        &lt;div class="warp"&gt;
            &lt;div class="close" onclick="closePage"&gt;X&lt;/div&gt;
            &lt;div class="list"&gt;
                &lt;el-table ref="datalist"
                          @mouseover.native="mouseEnter()"
                          @mouseout.native="mouseLeave()"
                          @row-click="tableRowClick"
                          :data="tableData" height="420" border style="width: 100%"
                &gt;
                    &lt;el-table-column prop="time" align="center" label="时间" width="150"&gt;
                    &lt;/el-table-column&gt;
                    &lt;el-table-column prop="title" align="left" label="事件" &gt;
                    &lt;/el-table-column&gt;
                &lt;/el-table&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;</code></pre> 
<h3 id="%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86">实现原理</h3> 
<p>        通过获取表格的实际高度、可视高度、滚动距离，利用定时器按照设置的速度和每帧滚动距离不断重新设置滚动距离达到滚动的效果。到达底部后滚动距离重置为0.</p> 
<h3 id="%E6%A0%B8%E5%BF%83%E4%BB%A3%E7%A0%81">核心代码</h3> 
<p><img alt="" src="https://images2.imgbox.com/f7/ff/o7woorja_o.png">核心代码如下</p> 
<pre><code class="language-javascript">//实现滚动核心方法 
//前置条件 1.table有height 2.show-header不能设置为false 值为false时不能正确活取到scrollHeight 
        autoRoll(stop){
			if(stop){
				clearInterval(rolltimmer);
				return;
			}
			const table=this.$refs.datalist;
			const divData=table.bodyWrapper;
			rolltimmer=setInterval(()=&gt;{
				divData.scrollTop+=this.rollPx;
				if(divData.clientHeight+divData.scrollTop&gt;=divData.scrollHeight){
					divData.scrollTop=0;
				}
			},this.rolltime);
		},
		//鼠标进入 停止滚动
		mouseEnter(time){
			this.autoRoll(true);
		},
		//鼠标离开 开始滚动
		mouseLeave(){
			this.autoRoll();
		},</code></pre> 
<h3 id="%E5%BC%82%E5%B8%B8%E6%83%85%E5%86%B5">异常情况</h3> 
<p>    1.当表格设置了show-header=false时不会展示表头，同时因无法正常通过scrollHeight获取表格实际高度导致无法看到滚动效果</p> 
<h3 id="%E7%9B%B8%E5%85%B3%E9%93%BE%E6%8E%A5">相关链接</h3> 
<p>        代码及对应资源请访问主页下载</p> 
<p>        </p> 
<p></p> 
<p></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/75cb772f461dac296149fa1bd73a2525/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">postgres 日期字符串转换及月份补0处理</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b4a7dedfbe6fe9d404d9e54225f039ca/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">CSS 实现input自定义样式--文本框</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>