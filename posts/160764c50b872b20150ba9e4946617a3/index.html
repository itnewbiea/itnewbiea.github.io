<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>VS Code用久了后，启动速度变慢 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="VS Code用久了后，启动速度变慢" />
<meta property="og:description" content="目录 前提发现过程解决方法方法一方法二方法三 前提 不是因为电脑性能或者插件装太多导致的
是在使用一段时间后，逐渐变慢
看结论直接跳转到解决方法
发现过程 困扰了很久，这次一鼓作气找出问题，太激动了，记录一下
经过百度得知，VS Code有两个文件夹：
VS Code安装的扩展包位置：C:\Users\&lt;USERNAME&gt;\.vscode
VS Code缓存文件位置：C:\Users\&lt;USERNAME&gt;\AppData\Roaming\Code
扩展包应该是没影响的，因为我删掉了之后，启动软件的速度没变化。
然后我删掉了缓存目录里的Cache和CacheData两个文件，启动软件的速度依旧没变化。
最后我干脆把缓存目录里文件全删掉了，软件打开速度恢复了，就跟刚安装的时候一样。此时嗨皮的一比！
然而，总是要删掉整个文件夹肯定不是个解决办法，而且文件里都是我的设置项。所以就开始一个文件一个文件地删除掉再测试打开速度，最终定位到了这个文件
C:\Users\&lt;USERNAME&gt;\AppData\Roaming\Code\User\globalStorage\state.vscdb
不难看出这是个数据库文件，使用SQLLite打开后看到是一个存储键值对的数据库
接下来就是要排查出究竟是哪条数据影响的：
也是运气好，我从最大的数据开始看，几次测试之后就定位到了key为history.recentlyOpenedPathsList的数据，只要删掉这条数据，启动软件的速度就恢复了
这条数据的value是一个json字符串，包含着最近打开的文件的绝对位置
我的这个数据其实就420条，启动慢的时间肯定不是花在读取文件上，也许是vscode…不知道他加载完后干了什么，不管了，这个文件名一眼可见存储的是最近打开的目录以及文件的名称，所以只要设置一下存储的最近打开文件数量应该就可以了
当时没着急设置，闲得慌，先复制了1000个文件，然后一起用vscode打开，发现这条数据最大只存储500条记录，应该就是默认值了
在vscode设置里没找到相关的设置，逛了逛各大搜搜引擎，没找到…
解决方法 方法一 VS Code里，点击文件-最近打开的文件-清除最近打开记录，每隔一段时间，感觉启动速度慢了，就清除一下
方法二 去提issus等官方更新…
方法三 既然已经知道了数据库文件的位置，有能力可以写个脚本，配合windows的计划任务，每天或者每周第一次开机时清除history.recentlyOpenedPathsList这条数据的值。
注意：因为我只是把vscode当作一个文本编辑器来用，不用来开发，所以最近文件功能对我没用。如果最近文件功能对你有用，还请自行决定如何处理" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/160764c50b872b20150ba9e4946617a3/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-10-06T00:21:10+08:00" />
<meta property="article:modified_time" content="2022-10-06T00:21:10+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">VS Code用久了后，启动速度变慢</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>目录</h4> 
 <ul><li><a href="#_2" rel="nofollow">前提</a></li><li><a href="#_10" rel="nofollow">发现过程</a></li><li><a href="#_48" rel="nofollow">解决方法</a></li><li><ul><li><a href="#_50" rel="nofollow">方法一</a></li><li><a href="#_54" rel="nofollow">方法二</a></li><li><a href="#_58" rel="nofollow">方法三</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="_2"></a>前提</h2> 
<ol><li> <p>不是因为电脑性能或者插件装太多导致的</p> </li><li> <p>是在使用一段时间后，逐渐变慢</p> </li></ol> 
<blockquote> 
 <p>看结论直接跳转到<a href="#t1" rel="nofollow">解决方法</a></p> 
</blockquote> 
<h2><a id="_10"></a>发现过程</h2> 
<blockquote> 
 <p>困扰了很久，这次一鼓作气找出问题，太激动了，记录一下</p> 
</blockquote> 
<p>经过百度得知，VS Code有两个文件夹：</p> 
<ol><li> <p>VS Code安装的<strong>扩展包</strong>位置：C:\Users\&lt;USERNAME&gt;\.vscode</p> </li><li> <p>VS Code<strong>缓存文件</strong>位置：C:\Users\&lt;USERNAME&gt;\AppData\Roaming\Code</p> </li></ol> 
<p>扩展包应该是没影响的，因为我删掉了之后，启动软件的速度没变化。</p> 
<p>然后我删掉了缓存目录里的Cache和CacheData两个文件，启动软件的速度依旧没变化。</p> 
<p>最后我干脆把缓存目录里文件全删掉了，软件打开速度恢复了，就跟刚安装的时候一样。此时嗨皮的一比！</p> 
<p>然而，总是要删掉整个文件夹肯定不是个解决办法，而且文件里都是我的设置项。所以就开始一个文件一个文件地删除掉再测试打开速度，最终定位到了这个文件</p> 
<p><code>C:\Users\&lt;USERNAME&gt;\AppData\Roaming\Code\User\globalStorage\state.vscdb</code></p> 
<p>不难看出这是个数据库文件，使用SQLLite打开后看到是一个存储键值对的数据库</p> 
<p>接下来就是要排查出究竟是哪条数据影响的：</p> 
<p>也是运气好，我从最大的数据开始看，几次测试之后就定位到了key为<code>history.recentlyOpenedPathsList</code>的数据，只要删掉这条数据，启动软件的速度就恢复了</p> 
<p>这条数据的value是一个json字符串，包含着最近打开的文件的绝对位置</p> 
<p>我的这个数据其实就420条，启动慢的时间肯定不是花在读取文件上，也许是vscode…不知道他加载完后干了什么，不管了，这个文件名一眼可见存储的是<strong>最近打开的目录以及文件的名称</strong>，所以只要设置一下存储的最近打开文件数量应该就可以了</p> 
<p>当时没着急设置，闲得慌，先复制了1000个文件，然后一起用vscode打开，发现这条数据最大只存储500条记录，应该就是默认值了</p> 
<p>在vscode设置里没找到相关的设置，逛了逛各大搜搜引擎，没找到…</p> 
<div id="t1"></div> 
<h2><a id="_48"></a>解决方法</h2> 
<h3><a id="_50"></a>方法一</h3> 
<p>VS Code里，点击<code>文件</code>-<code>最近打开的文件</code>-<code>清除最近打开记录</code>，每隔一段时间，感觉启动速度慢了，就清除一下</p> 
<h3><a id="_54"></a>方法二</h3> 
<p>去提issus等官方更新…</p> 
<h3><a id="_58"></a>方法三</h3> 
<p>既然已经知道了数据库文件的位置，有能力可以写个脚本，配合windows的计划任务，每天或者每周第一次开机时清除<code>history.recentlyOpenedPathsList</code>这条数据的值。</p> 
<blockquote> 
 <p>注意：因为我只是把vscode当作一个文本编辑器来用，不用来开发，所以最近文件功能对我没用。如果最近文件功能对你有用，还请自行决定如何处理</p> 
</blockquote>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/d5a4ed5100e003c8f064a0688dd7685e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">解决PCL报错: Assertion `point_representation_-＞isValid (point) &amp;&amp; “Invalid (NaN, Inf) point coordinates</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/2544b79f59e196d9461b078becad0e21/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">渗透学习之PHP--细节篇</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>