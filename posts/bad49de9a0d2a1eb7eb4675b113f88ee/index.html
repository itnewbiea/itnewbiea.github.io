<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>postman实现接口测试详细教程 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="postman实现接口测试详细教程" />
<meta property="og:description" content="各位小伙伴大家好, 今天为大家带来postman实战接口测试详细教程
一、通过接口文档集合抓包分析接口 通过fiddler抓包获取到注册接口URL地址及相关参数数据,并通过接口文档分析接口参数内容及参数说明, 如有必要的依赖条件必须进行梳理, 如token等
Fiddler抓包注册接口请求与响应:
接口文档关于注册接口的描述与参数说明:
二、通过postman发起请求并获取响应结果 通过第一步获取到的相关数据,按照请求的沟通, 分别填写对应的请求行,请求头,请求体相关数据, 发起请求
注意: 通过接口文档与抓包, 我们观察到接口的请求参数传参方式 Content-Type: application/x-www-form-url-encoded, 因此我们在选择数据时,必须在Body中选择该类型进行参数传递。
Content-Type: 传参方式类型
1.form-data: 接口类型为文件上传类型时, 可以选择Body中的 form-data, 此时请求头中Content-Type: multipart/form-data
2.x-www-form-url-encoded: post请求默认传参方式, 传输数据类型为 key1=value&amp;key2=value…, 此时请求头中Content-Type: application/x-www-form-url-encoded
3.text/json格式数据传参: 选择Body中的Raw, 再选择json/text即可
Json格式必须以: {key: value, key:value…}格式进行传参
4.get请求参数写在URL的?之后, postman中也可以通过Params模块进行传参
三、设置环境变量引用
postman中环境变量: Environments --&gt; 设置新的环境 --&gt; 添加项目的基础接口URL地址
环境变量的引用方式: {{变量名}}
在请求中通过{{host}}引用环境变量中的数据即可
也可以通过Tests模块, 使用Javascript脚本进行环境变量的设置与获取。
四、postman中的Tests模块: 1、获取响应数据
通过Javascript脚本获取响应文本数据,并在conlose控制台进行输出
//获取postman响应文本数据 varresp = pm.response.text(); //控制台输出 获取到的响应数据 console.log(resp); // 从响应数据中提取需要的key的值 var userid = resp.json().userid; // 通过代码添加到环境变量中 key: id, value: userid pm." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/bad49de9a0d2a1eb7eb4675b113f88ee/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-02-13T20:04:43+08:00" />
<meta property="article:modified_time" content="2023-02-13T20:04:43+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">postman实现接口测试详细教程</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>各位小伙伴大家好, 今天为大家带来postman实战接口测试详细教程</p> 
<h2><strong>一、通过接口文档集合抓包分析接口</strong></h2> 
<p>通过fiddler抓包获取到注册接口URL地址及相关参数数据,并通过接口文档分析接口参数内容及参数说明, 如有必要的依赖条件必须进行梳理, 如token等</p> 
<p>Fiddler抓包注册接口请求与响应:</p> 
<p><img alt="" height="461" src="https://images2.imgbox.com/26/a9/Y5DOR2ra_o.png" width="599"></p> 
<p>接口文档关于注册接口的描述与参数说明:</p> 
<p><img alt="" height="757" src="https://images2.imgbox.com/77/28/hm1VfOh3_o.png" width="609"> </p> 
<h2><strong>二、通过postman发起请求并获取响应结果</strong></h2> 
<p>通过第一步获取到的相关数据,按照请求的沟通, 分别填写对应的请求行,请求头,请求体相关数据, 发起请求</p> 
<p>注意: 通过接口文档与抓包, 我们观察到接口的请求参数传参方式 Content-Type: application/x-www-form-url-encoded, 因此我们在选择数据时,必须在Body中选择该类型进行参数传递。</p> 
<p><img alt="" height="481" src="https://images2.imgbox.com/26/62/RRM7vEn7_o.png" width="619"></p> 
<p>Content-Type: 传参方式类型</p> 
<p>1.form-data: 接口类型为文件上传类型时, 可以选择Body中的 form-data, 此时请求头中Content-Type: multipart/form-data</p> 
<p>2.x-www-form-url-encoded: post请求默认传参方式, 传输数据类型为 key1=value&amp;key2=value…, 此时请求头中Content-Type: application/x-www-form-url-encoded</p> 
<p>3.text/json格式数据传参: 选择Body中的Raw, 再选择json/text即可</p> 
<p>Json格式必须以: {key: value, key:value…}格式进行传参</p> 
<p>4.get请求参数写在URL的?之后, postman中也可以通过Params模块进行传参</p> 
<p> <strong>三、设置环境变量引用</strong></p> 
<p>postman中环境变量: Environments --&gt; 设置新的环境 --&gt; 添加项目的基础接口URL地址</p> 
<p>环境变量的引用方式:  {<!-- -->{变量名}}</p> 
<p><img alt="" height="292" src="https://images2.imgbox.com/1e/84/j2dB7L9i_o.png" width="647"></p> 
<p>在请求中通过{<!-- -->{host}}引用环境变量中的数据即可</p> 
<p><img alt="" height="143" src="https://images2.imgbox.com/f0/d3/dcusVpn3_o.png" width="669"> </p> 
<p>也可以通过Tests模块, 使用Javascript脚本进行环境变量的设置与获取。</p> 
<h2><strong>四、postman中的Tests模块:</strong></h2> 
<p> <strong>1、获取响应数据</strong></p> 
<p><img alt="" height="361" src="https://images2.imgbox.com/36/2c/EJT8jH94_o.png" width="652"></p> 
<p> 通过Javascript脚本获取响应文本数据,并在conlose控制台进行输出</p> 
<pre><code class="language-python">//获取postman响应文本数据

varresp = pm.response.text();

//控制台输出 获取到的响应数据

console.log(resp);

// 从响应数据中提取需要的key的值

var userid = resp.json().userid;

// 通过代码添加到环境变量中 key: id, value: userid

pm.environment.set("id",userid);

// 从环境变量中获取指定key的值

Var id = pm.environment.get("id");</code></pre> 
<p><strong>2 断言</strong></p> 
<pre><code class="language-python">方式1: Status code: Code is 200

//断言HTTP协议响应状态码为: 200

pm.test("断言HTTP协议响应状态码为200", function () {

pm.response.to.have.status(200);

});

方式2: Response body: Contains String

//断言响应文本中包含预期的字符串数据

pm.test("断言响应文本中包含:登录成功", function () {

pm.expect(resp).to.include("登录成功");

});

方式3: Response body: JSON value check

// 断言预期结果中的指定key的值与预期数据一致

pm.test("断言userid:"+uid, function () {

pm.expect(userid).to.eql(((uid).toString()));

});

方式4: Response body : Is equal to a string

// 断言响应文本值与预期数据完全一致

pm.test("Body is correct", function () {

pm.response.to.have.body("系统提示: 登录成功");

});</code></pre> 
<h2>五、批量执行</h2> 
<p>构造外部参数化文件, 参数引用使用 {<!-- -->{列名}}进行调用;</p> 
<p>点击runner,将collection文件中需要运行的接口拖入, 浏览器外部参数化文件,设置参数化, 勾选 Save responses保留响应结果</p> 
<p><img alt="" height="278" src="https://images2.imgbox.com/84/e7/yO3PzFIB_o.png" width="627"></p> 
<p>执行结果</p> 
<p><img alt="" height="613" src="https://images2.imgbox.com/22/4d/sEbchq4h_o.png" width="585"></p> 
<h2><strong>六、通过newman执行</strong></h2> 
<p>将脚本文件和环境变量文件导出, 导出后问.json格式的脚本文件</p> 
<p>安装newman,通过newman命令行进行执行</p> 
<pre><code class="language-python">newman run api.json -e api-env.json -d data.txt -n 3</code></pre> 
<p>run collection脚本文本</p> 
<p>-e 指定环境变量文件</p> 
<p>-d 指定外部参数化数据文件</p> 
<p>-n 指定迭代次数</p> 
<p>期望能够给大家带来帮助, 文档中接口抓包相关内容, 请关注 软件测试藏经阁 公众号, 历史文章。</p> 
<div class="csdn-video-box"> 
 <iframe id="oX7AdKYk-1676289833135" frameborder="0" src="https://player.bilibili.com/player.html?aid=204746161" allowfullscreen="true" data-mediaembed="bilibili"></iframe> 
 <p>最详细的postman接口测试实战教程</p> 
</div> 
<p></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/b53b52b4e0fba07abb52664f06ce9940/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">CTA-敏感行为-定位（重点）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/aab2a0457bfc2ee2d958e8c9cbac76f5/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">java中的线程停止</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>