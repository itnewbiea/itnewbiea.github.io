<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>JS实现拖动div改变大小 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="JS实现拖动div改变大小" />
<meta property="og:description" content="&lt;!DOCTYPE html PUBLIC &#34;-//W3C//DTD XHTML 1.0 Transitional//EN&#34; &#34;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&#34;&gt; &lt;html xmlns=&#34;http://www.w3.org/1999/xhtml&#34;&gt; &lt;head&gt; &lt;title&gt;&lt;/title&gt; &lt;style type=&#34;text/css&#34;&gt; .upBtn,.downBtn,.upLeftBtn,.upRightBtn,.downLeftBtn,.downRightBtn,.centerLeftBtn,.centerRightBtn { position:absolute; background:#CC0000; width:9px; height:9px; z-index:5; } .upBtn { top:-4px; left:50%; cursor:n-resize; } .downBtn { bottom:-4px; left:50%; cursor:s-resize; } .upLeftBtn { top:-4px; left:-4px; cursor:nw-resize; } .upRightBtn { top:-4px; right:-4px; cursor:ne-resize; } .downLeftBtn { bottom:-4px; left:-4px; cursor:sw-resize; } .downRightBtn { bottom:-4px; right:-4px; cursor:se-resize; } .centerLeftBtn { top:50%; left:-4px; cursor:w-resize; } .centerRightBtn { top:50%; right:-4px; cursor:e-resize; } &lt;/style&gt; &lt;script type=&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/4a9b8baa782feec213d867699e27900a/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2014-06-13T15:57:41+08:00" />
<meta property="article:modified_time" content="2014-06-13T15:57:41+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">JS实现拖动div改变大小</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div style="line-height:28px; font-family:'Hiragino Sans GB W3','Hiragino Sans GB',Arial,Helvetica,simsun,u5b8bu4f53; font-size:16px"> 
 <pre><code class="language-html">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;
&lt;head&gt;
    &lt;title&gt;&lt;/title&gt;
    &lt;style type="text/css"&gt;
    .upBtn,.downBtn,.upLeftBtn,.upRightBtn,.downLeftBtn,.downRightBtn,.centerLeftBtn,.centerRightBtn
    { position:absolute; background:#CC0000; width:9px; height:9px; z-index:5; }
    .upBtn { top:-4px; left:50%; cursor:n-resize; }
    .downBtn { bottom:-4px; left:50%; cursor:s-resize; }
    .upLeftBtn { top:-4px; left:-4px; cursor:nw-resize; }
    .upRightBtn { top:-4px; right:-4px; cursor:ne-resize; }
    .downLeftBtn { bottom:-4px; left:-4px; cursor:sw-resize; }
    .downRightBtn { bottom:-4px; right:-4px; cursor:se-resize; }
    .centerLeftBtn { top:50%; left:-4px; cursor:w-resize; }
    .centerRightBtn { top:50%; right:-4px; cursor:e-resize; }
    &lt;/style&gt;
    &lt;script type="text/javascript" &gt;
        function $(id) {
            return document.getElementById(id);
        }
        function getEvent(e) {
            return e || window.event;
        }
        function getLocation(e) {
            return {
                x: e.x || e.clientX,
                y: e.y || e.clientY
            }
        }
        var obj = null; // 当前操作的对象
        var preview = null; // 要处理的对象
        var clickX = 0; // 保留上次的X轴位置
        var clickY = 0; // 保留上次的Y轴位置
        // 鼠标点击
        var onDragDown = function (e, type) {
            e = getEvent(e);
            var location = getLocation(e);
            clickY = location.y;
            clickX = location.x;
            obj = this;
            obj.operateType = type;
            preview = $("preview");
            return false;
        };
        var onUpBtnDown = function (e) {
            onDragDown(e, "n");
        };
        var onDownBtnDown = function (e) {
            onDragDown(e, "s");
        };
        var onCenterLeftBtnDown = function (e) {
            onDragDown(e, "w");
        };
        var onCenterRightBtnDown = function (e) {
            onDragDown(e, "e");
        };
        var onUpLeftBtnDown = function (e) {
            onDragDown(e, "nw");
        };
        var onUpRightBtnDown = function (e) {
            onDragDown(e, "ne");
        };
        var onDownLeftBtnDown = function (e) {
            onDragDown(e, "sw");
        };
        var onDownRightBtnDown = function (e) {
            onDragDown(e, "se");
        };
        var onDragUp = function () {
            document.body.style.cursor = "auto";
            obj = null;
        };
        var move = function (operateType, location, preview) {
            document.body.style.cursor = location + "_resize";
            switch (operateType) {
                case "e":
                    var add_length = clickX - location.x;
                    clickX = location.x;
                    var length = parseInt(preview.style.width) - add_length;
                    preview.style.width = length + "px";
                    break;
                case "s":
                    var add_length = clickY - location.y;
                    clickY = location.y;
                    var length = parseInt(preview.style.height) - add_length;
                    preview.style.height = length + "px";
                    break;
                case "w":
                    var add_length = clickX - location.x;
                    clickX = location.x;
                    var length = parseInt(preview.style.width) + add_length;
                    preview.style.width = length + "px";
                    preview.style.left = clickX + "px";
                    break;
                case "n":
                    var add_length = clickY - location.y;
                    clickY = location.y;
                    var length = parseInt(preview.style.height) + add_length;
                    preview.style.height = length + "px";
                    preview.style.top = clickY + "px";
                    break;
            }
        };      
        var onDragMove = function (e) {
            if (obj) {
                e = getEvent(e);
                var location = getLocation(e);
                switch (obj.operateType) {
                    case "n":
                        move("n", location, preview);
                        break;
                    case "s":
                        move("s", location, preview);
                        break;
                    case "w":
                        move("w", location, preview);
                        break;
                    case "e":
                        move("e", location, preview);
                        break;
                    case "nw":
                        move("n", location, preview);
                        move("w", location, preview);
                        break;
                    case "ne":
                        move("n", location, preview);
                        move("e", location, preview);
                        break;
                    case "sw":
                        move("s", location, preview);
                        move("w", location, preview);
                        break;
                    case "se":
                        move("s", location, preview);
                        move("e", location, preview);
                        break;
                }
            }
            return false;
        };
        window.onload = function () {
            $("upBtn").onmousedown = onUpBtnDown;
            $("downBtn").onmousedown = onDownBtnDown;
            $("centerLeftBtn").onmousedown = onCenterLeftBtnDown;
            $("centerRightBtn").onmousedown = onCenterRightBtnDown;
            $("upLeftBtn").onmousedown = onUpLeftBtnDown;
            $("upRightBtn").onmousedown = onUpRightBtnDown;
            $("downLeftBtn").onmousedown = onDownLeftBtnDown;
            $("downRightBtn").onmousedown = onDownRightBtnDown;
            document.onmousemove = onDragMove;
            document.onmouseup = onDragUp;
        }
    &lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div id="preview" style="width:200px; height:200px; border:1px solid gray; position:absolute; left:200px; top:100px;" &gt;
&lt;div class="upBtn" id="upBtn"&gt;&lt;/div&gt;
&lt;div class="downBtn" id="downBtn"&gt;&lt;/div&gt;
&lt;div class="upLeftBtn" id="upLeftBtn"&gt;&lt;/div&gt;
&lt;div class="upRightBtn" id="upRightBtn"&gt;&lt;/div&gt;
&lt;div class="downLeftBtn" id="downLeftBtn"&gt;&lt;/div&gt;
&lt;div class="downRightBtn" id="downRightBtn"&gt;&lt;/div&gt;
&lt;div class="centerLeftBtn" id="centerLeftBtn"&gt;&lt;/div&gt;
&lt;div class="centerRightBtn" id="centerRightBtn"&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre> 
 <br> 
 <br> 
</div>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/c046f83ceda67ae383da2a63bec25fcd/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">日志文件自动压缩</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/76958786515bb12ed48bb59907d6f961/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">js 实现鼠标按下 拖动div</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>