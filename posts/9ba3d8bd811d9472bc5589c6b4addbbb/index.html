<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>R语言学习之科学计算——求导与积分 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="R语言学习之科学计算——求导与积分" />
<meta property="og:description" content="文章目录 说明1 R中的表达式2 求导2.1 求一阶导数2.2求高阶导数2.3 求偏导数 3 积分3.1 定积分3.2 不定积分 说明 R语言的版本为4.0.2，IDE为Rstudio，版本为1.3.959。学习过程中参考了以下文章：
R笔记（1）：formula和Formula（CSDN）
R语言笔记.formula（知乎）
R语言进阶之五：表达式、数学公式与特殊符号（CSDN）
R语言的导数计算（CSDN）
积分_R（CSDN）
1 R中的表达式 要进行求导或者积分运算，首先需要有一个表达式，注意，是表达式，而不是实现了这个表达式的函数，这就要用到 expression 对象。
使用expression() 函数可以创建expression 对象，expression 对象实际上是以列表的形式储存表达式的，例如创建以下表达式：
y = x 3 &#43; s i n ( x ) &#43; e x y = x^{3}&#43;sin(x)&#43;e^{x}\, y=x3&#43;sin(x)&#43;ex
当然除了使用 expression() 函数创建表达式之外，还可以使用formula() 函数创建公式，二者都可以当成参数进行求导和积分运算。
# f1,f2,f3分别创建了表达式、公式和函数 # 区别是函数可以传参并运行，前面两种不行 f1 &lt;- expression(y=x^3&#43;sin(x)&#43;exp(x)) f2 &lt;- formula(y~x^3&#43;sin(x)&#43;exp(x)) f3 &lt;- function(x) x^3 &#43; sin(x) &#43; exp(x) mode(f1) mode(f2) mode(f3) # 输出 # &gt; mode(f1) # [1] &#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/9ba3d8bd811d9472bc5589c6b4addbbb/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-07-08T17:37:28+08:00" />
<meta property="article:modified_time" content="2020-07-08T17:37:28+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">R语言学习之科学计算——求导与积分</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#_1" rel="nofollow">说明</a></li><li><a href="#1_R_9" rel="nofollow">1 R中的表达式</a></li><li><a href="#2__37" rel="nofollow">2 求导</a></li><li><ul><li><a href="#21__46" rel="nofollow">2.1 求一阶导数</a></li><li><a href="#22_87" rel="nofollow">2.2求高阶导数</a></li><li><a href="#23__176" rel="nofollow">2.3 求偏导数</a></li></ul> 
  </li><li><a href="#3__205" rel="nofollow">3 积分</a></li><li><ul><li><a href="#31__213" rel="nofollow">3.1 定积分</a></li><li><a href="#32__236" rel="nofollow">3.2 不定积分</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="_1"></a>说明</h2> 
<p>R语言的版本为4.0.2，IDE为Rstudio，版本为1.3.959。学习过程中参考了以下文章：<br> <a href="https://blog.csdn.net/weixin_33805743/article/details/92843245?ops_request_misc=&amp;request_id=&amp;biz_id=102&amp;utm_term=r%E8%AF%AD%E8%A8%80formula&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduweb~default-0-92843245">R笔记（1）：formula和Formula（CSDN）</a><br> <a href="https://zhuanlan.zhihu.com/p/40439051" rel="nofollow">R语言笔记.formula（知乎）</a><br> <a href="https://blog.csdn.net/u014801157/article/details/24372443?locationNum=2&amp;fps=1">R语言进阶之五：表达式、数学公式与特殊符号（CSDN）</a><br> <a href="https://blog.csdn.net/fens/article/details/84634663?utm_medium=distribute.pc_relevant.none-task-blog-searchFromBaidu-10.nonecase&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-searchFromBaidu-10.nonecase">R语言的导数计算（CSDN）</a><br> <a href="https://blog.csdn.net/Monique_Wu/article/details/81164929?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522159395800519724811857934%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fall.%2522%257D&amp;request_id=159395800519724811857934&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~first_rank_ecpm_v3~rank_ctr_v3-10-81164929.ecpm_v1_rank_ctr_v3&amp;utm_term=R%E8%AF%AD%E8%A8%80%E7%A7%AF%E5%88%86">积分_R（CSDN）</a></p> 
<h2><a id="1_R_9"></a>1 R中的表达式</h2> 
<p>要进行求导或者积分运算，首先需要有一个表达式，注意，是表达式，而不是实现了这个表达式的函数，这就要用到 expression 对象。<br> 使用expression() 函数可以创建expression 对象，expression 对象实际上是以列表的形式储存表达式的，例如创建以下表达式：</p> 
<p><span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          y 
         
        
          = 
         
         
         
           x 
          
         
           3 
          
         
        
          + 
         
        
          s 
         
        
          i 
         
        
          n 
         
        
          ( 
         
        
          x 
         
        
          ) 
         
        
          + 
         
         
         
           e 
          
         
           x 
          
          
        
       
         y = x^{3}+sin(x)+e^{x}\, 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.625em; vertical-align: -0.19444em;"></span><span class="mord mathdefault" style="margin-right: 0.03588em;">y</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.947438em; vertical-align: -0.08333em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.864108em;"><span class="" style="top: -3.113em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.714392em; vertical-align: 0em;"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.714392em;"><span class="" style="top: -3.113em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">x</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.166667em;"></span></span></span></span></span></span></p> 
<p>当然除了使用 expression() 函数创建表达式之外，还可以使用formula() 函数创建公式，二者都可以当成参数进行求导和积分运算。</p> 
<pre><code class="prism language-javascript"># f1<span class="token punctuation">,</span>f2<span class="token punctuation">,</span>f3分别创建了表达式、公式和函数
# 区别是函数可以传参并运行，前面两种不行
f1  <span class="token operator">&lt;</span><span class="token operator">-</span>  <span class="token function">expression</span><span class="token punctuation">(</span>y<span class="token operator">=</span>x<span class="token operator">^</span><span class="token number">3</span><span class="token operator">+</span><span class="token function">sin</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token operator">+</span><span class="token function">exp</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span>
f2 <span class="token operator">&lt;</span><span class="token operator">-</span> <span class="token function">formula</span><span class="token punctuation">(</span>y<span class="token operator">~</span>x<span class="token operator">^</span><span class="token number">3</span><span class="token operator">+</span><span class="token function">sin</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token operator">+</span><span class="token function">exp</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span>
f3 <span class="token operator">&lt;</span><span class="token operator">-</span> <span class="token keyword">function</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> x<span class="token operator">^</span><span class="token number">3</span> <span class="token operator">+</span> <span class="token function">sin</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">exp</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>
<span class="token function">mode</span><span class="token punctuation">(</span>f1<span class="token punctuation">)</span>
<span class="token function">mode</span><span class="token punctuation">(</span>f2<span class="token punctuation">)</span>
<span class="token function">mode</span><span class="token punctuation">(</span>f3<span class="token punctuation">)</span>

# 输出
# <span class="token operator">&gt;</span> <span class="token function">mode</span><span class="token punctuation">(</span>f1<span class="token punctuation">)</span>
# <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token string">"expression"</span>
# <span class="token operator">&gt;</span> <span class="token function">mode</span><span class="token punctuation">(</span>f2<span class="token punctuation">)</span>
# <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token string">"call"</span>
# <span class="token operator">&gt;</span> <span class="token function">mode</span><span class="token punctuation">(</span>f3<span class="token punctuation">)</span>
# <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token string">"function"</span>
</code></pre> 
<h2><a id="2__37"></a>2 求导</h2> 
<p>求导可以使用函数deriv() 来实现，可以用它来求</p> 
<ol><li>一阶导数</li><li>高阶导数</li><li>偏导数等</li><li>……</li></ol> 
<h3><a id="21__46"></a>2.1 求一阶导数</h3> 
<p>用于求导的函数表达式为：</p> 
<p><span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          y 
         
        
          = 
         
         
         
           x 
          
         
           3 
          
         
        
          + 
         
        
          s 
         
        
          i 
         
        
          n 
         
        
          ( 
         
        
          x 
         
        
          ) 
         
        
          + 
         
         
         
           e 
          
         
           x 
          
          
        
       
         y = x^{3}+sin(x)+e^{x}\, 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.625em; vertical-align: -0.19444em;"></span><span class="mord mathdefault" style="margin-right: 0.03588em;">y</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.947438em; vertical-align: -0.08333em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.864108em;"><span class="" style="top: -3.113em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.714392em; vertical-align: 0em;"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.714392em;"><span class="" style="top: -3.113em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">x</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.166667em;"></span></span></span></span></span></span></p> 
<p>求一阶导数，可以直接使用deriv() 函数，或者使用D()函数，只是后者只支持传入expression不能传入formula，也不能设置让其返回函数用于计算，以下例子里面仅仅使用了deriv() 函数。</p> 
<pre><code class="prism language-javascript"># f1<span class="token punctuation">,</span>f2<span class="token punctuation">,</span>f3分别创建了表达式、公式和函数
# 区别是函数可以传参并运行，前面两种不行
f1  <span class="token operator">&lt;</span><span class="token operator">-</span>  <span class="token function">expression</span><span class="token punctuation">(</span>y<span class="token operator">=</span>x<span class="token operator">^</span><span class="token number">3</span><span class="token operator">+</span><span class="token function">sin</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token operator">+</span><span class="token function">exp</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span>
f2 <span class="token operator">&lt;</span><span class="token operator">-</span> <span class="token function">formula</span><span class="token punctuation">(</span>y<span class="token operator">~</span>x<span class="token operator">^</span><span class="token number">3</span><span class="token operator">+</span><span class="token function">sin</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token operator">+</span><span class="token function">exp</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span>
f3 <span class="token operator">&lt;</span><span class="token operator">-</span> <span class="token keyword">function</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> x<span class="token operator">^</span><span class="token number">3</span> <span class="token operator">+</span> <span class="token function">sin</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">exp</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>
<span class="token function">mode</span><span class="token punctuation">(</span>f1<span class="token punctuation">)</span>
<span class="token function">mode</span><span class="token punctuation">(</span>f2<span class="token punctuation">)</span>
<span class="token function">mode</span><span class="token punctuation">(</span>f3<span class="token punctuation">)</span>

# 分别使用表达式、公式和手动编求导后的函数
# 验证求导结果，发现结果一致
df1 <span class="token operator">&lt;</span><span class="token operator">-</span> <span class="token function">deriv</span><span class="token punctuation">(</span>f1<span class="token punctuation">,</span><span class="token string">"x"</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">.</span>arg <span class="token operator">=</span> <span class="token constant">TRUE</span><span class="token punctuation">)</span>
df2 <span class="token operator">&lt;</span><span class="token operator">-</span> <span class="token function">deriv</span><span class="token punctuation">(</span>f2<span class="token punctuation">,</span><span class="token string">"x"</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">.</span>arg <span class="token operator">=</span> <span class="token constant">TRUE</span><span class="token punctuation">)</span>
df3 <span class="token operator">&lt;</span><span class="token operator">-</span> <span class="token keyword">function</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token number">3</span><span class="token operator">*</span>x<span class="token operator">^</span><span class="token number">2</span> <span class="token operator">+</span> <span class="token function">cos</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">exp</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>
<span class="token function">df1</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token function">df2</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token function">df3</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>

# 输出
# <span class="token operator">&gt;</span> <span class="token function">df1</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
# <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">4.559753</span>
# <span class="token function">attr</span><span class="token punctuation">(</span><span class="token punctuation">,</span><span class="token string">"gradient"</span><span class="token punctuation">)</span>
# x
# <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token punctuation">]</span> <span class="token number">6.258584</span>
# <span class="token operator">&gt;</span> <span class="token function">df2</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
# <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">4.559753</span>
# <span class="token function">attr</span><span class="token punctuation">(</span><span class="token punctuation">,</span><span class="token string">"gradient"</span><span class="token punctuation">)</span>
# x
# <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token punctuation">]</span> <span class="token number">6.258584</span>
# <span class="token operator">&gt;</span> <span class="token function">df3</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
# <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">6.25858</span>
</code></pre> 
<h3><a id="22_87"></a>2.2求高阶导数</h3> 
<p>用于求导的函数表达式依旧为：</p> 
<p><span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          y 
         
        
          = 
         
         
         
           x 
          
         
           3 
          
         
        
          + 
         
        
          s 
         
        
          i 
         
        
          n 
         
        
          ( 
         
        
          x 
         
        
          ) 
         
        
          + 
         
         
         
           e 
          
         
           x 
          
          
        
       
         y = x^{3}+sin(x)+e^{x}\, 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.625em; vertical-align: -0.19444em;"></span><span class="mord mathdefault" style="margin-right: 0.03588em;">y</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.947438em; vertical-align: -0.08333em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.864108em;"><span class="" style="top: -3.113em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.714392em; vertical-align: 0em;"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.714392em;"><span class="" style="top: -3.113em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">x</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.166667em;"></span></span></span></span></span></span></p> 
<p>求二阶导数可直接使用deriv3() 函数。</p> 
<pre><code class="prism language-javascript"># f1<span class="token punctuation">,</span>f2<span class="token punctuation">,</span>f3分别创建了表达式、公式和函数
# 区别是函数可以传参并运行，前面两种不行
f1  <span class="token operator">&lt;</span><span class="token operator">-</span>  <span class="token function">expression</span><span class="token punctuation">(</span>y<span class="token operator">=</span>x<span class="token operator">^</span><span class="token number">3</span><span class="token operator">+</span><span class="token function">sin</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token operator">+</span><span class="token function">exp</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span>
f2 <span class="token operator">&lt;</span><span class="token operator">-</span> <span class="token function">formula</span><span class="token punctuation">(</span>y<span class="token operator">~</span>x<span class="token operator">^</span><span class="token number">3</span><span class="token operator">+</span><span class="token function">sin</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token operator">+</span><span class="token function">exp</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span>
f3 <span class="token operator">&lt;</span><span class="token operator">-</span> <span class="token keyword">function</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> x<span class="token operator">^</span><span class="token number">3</span> <span class="token operator">+</span> <span class="token function">sin</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">exp</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>
<span class="token function">mode</span><span class="token punctuation">(</span>f1<span class="token punctuation">)</span>
<span class="token function">mode</span><span class="token punctuation">(</span>f2<span class="token punctuation">)</span>
<span class="token function">mode</span><span class="token punctuation">(</span>f3<span class="token punctuation">)</span>

# 分别使用表达式、公式和手动编求二阶导数后的函数
# 验证求导结果，发现结果一致
df1 <span class="token operator">&lt;</span><span class="token operator">-</span> <span class="token function">deriv3</span><span class="token punctuation">(</span>f1<span class="token punctuation">,</span><span class="token string">"x"</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">.</span>arg <span class="token operator">=</span> <span class="token constant">TRUE</span><span class="token punctuation">)</span>
df2 <span class="token operator">&lt;</span><span class="token operator">-</span> <span class="token function">deriv3</span><span class="token punctuation">(</span>f2<span class="token punctuation">,</span><span class="token string">"x"</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">.</span>arg <span class="token operator">=</span> <span class="token constant">TRUE</span><span class="token punctuation">)</span>
df3 <span class="token operator">&lt;</span><span class="token operator">-</span> <span class="token keyword">function</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token number">6</span><span class="token operator">*</span>x <span class="token operator">-</span> <span class="token function">sin</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">exp</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>
<span class="token function">df1</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token function">df2</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token function">df3</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>

# 输出
# <span class="token operator">&gt;</span> <span class="token function">df1</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
# <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">4.559753</span>
# <span class="token function">attr</span><span class="token punctuation">(</span><span class="token punctuation">,</span><span class="token string">"gradient"</span><span class="token punctuation">)</span>
# x
# <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token punctuation">]</span> <span class="token number">6.258584</span>
# <span class="token function">attr</span><span class="token punctuation">(</span><span class="token punctuation">,</span><span class="token string">"hessian"</span><span class="token punctuation">)</span>
# <span class="token punctuation">,</span> <span class="token punctuation">,</span> x
# 
# x
# <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token punctuation">]</span> <span class="token number">7.876811</span>
# 
# <span class="token operator">&gt;</span> <span class="token function">df2</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
# <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">4.559753</span>
# <span class="token function">attr</span><span class="token punctuation">(</span><span class="token punctuation">,</span><span class="token string">"gradient"</span><span class="token punctuation">)</span>
# x
# <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token punctuation">]</span> <span class="token number">6.258584</span>
# <span class="token function">attr</span><span class="token punctuation">(</span><span class="token punctuation">,</span><span class="token string">"hessian"</span><span class="token punctuation">)</span>
# <span class="token punctuation">,</span> <span class="token punctuation">,</span> x
# 
# x
# <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token punctuation">]</span> <span class="token number">7.876811</span>
# 
# <span class="token operator">&gt;</span> <span class="token function">df3</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
# <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">7.876811</span>
</code></pre> 
<p>求更高阶导数则需要自己编一个函数，方便高阶求导</p> 
<pre><code class="prism language-javascript"># f1<span class="token punctuation">,</span>f2<span class="token punctuation">,</span>f3分别创建了表达式、公式和函数
# 区别是函数可以传参并运行，前面两种不行
f1  <span class="token operator">&lt;</span><span class="token operator">-</span>  <span class="token function">expression</span><span class="token punctuation">(</span>y<span class="token operator">=</span>x<span class="token operator">^</span><span class="token number">3</span><span class="token operator">+</span><span class="token function">sin</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token operator">+</span><span class="token function">exp</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span>
f2 <span class="token operator">&lt;</span><span class="token operator">-</span> <span class="token function">formula</span><span class="token punctuation">(</span>y<span class="token operator">~</span>x<span class="token operator">^</span><span class="token number">3</span><span class="token operator">+</span><span class="token function">sin</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token operator">+</span><span class="token function">exp</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span>
f3 <span class="token operator">&lt;</span><span class="token operator">-</span> <span class="token keyword">function</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> x<span class="token operator">^</span><span class="token number">3</span> <span class="token operator">+</span> <span class="token function">sin</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">exp</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>
<span class="token function">mode</span><span class="token punctuation">(</span>f1<span class="token punctuation">)</span>
<span class="token function">mode</span><span class="token punctuation">(</span>f2<span class="token punctuation">)</span>
<span class="token function">mode</span><span class="token punctuation">(</span>f3<span class="token punctuation">)</span>

# 自定义的求高阶导数的函数，设置order值以确定求导阶数
<span class="token constant">DD</span> <span class="token operator">&lt;</span><span class="token operator">-</span> <span class="token keyword">function</span><span class="token punctuation">(</span>expr<span class="token punctuation">,</span> name<span class="token punctuation">,</span> order <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">.</span>arg <span class="token operator">=</span> <span class="token constant">FALSE</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>order <span class="token operator">&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token function">stop</span><span class="token punctuation">(</span><span class="token string">"'order' must be &gt;= 1"</span><span class="token punctuation">)</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>order <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token function">deriv</span><span class="token punctuation">(</span>expr<span class="token punctuation">,</span> name<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">.</span><span class="token function-variable function">arg</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">.</span>arg<span class="token punctuation">)</span>
  <span class="token keyword">else</span> <span class="token constant">DD</span><span class="token punctuation">(</span><span class="token constant">D</span><span class="token punctuation">(</span>expr<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">,</span> name<span class="token punctuation">,</span> order <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">.</span>arg<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

# 分别使用表达式、公式和手动编求<span class="token number">3</span>阶导数后的函数
# 验证求导结果，发现结果一致
df1 <span class="token operator">&lt;</span><span class="token operator">-</span> <span class="token constant">DD</span><span class="token punctuation">(</span>f1<span class="token punctuation">,</span><span class="token string">"x"</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">.</span>arg <span class="token operator">=</span> <span class="token constant">TRUE</span><span class="token punctuation">)</span>
df3 <span class="token operator">&lt;</span><span class="token operator">-</span> <span class="token keyword">function</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token number">6</span> <span class="token operator">-</span> <span class="token function">cos</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">exp</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>
<span class="token function">df1</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token function">df3</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>

# 输出
# <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">7.876811</span>
# <span class="token function">attr</span><span class="token punctuation">(</span><span class="token punctuation">,</span><span class="token string">"gradient"</span><span class="token punctuation">)</span>
# x
# <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token punctuation">]</span> <span class="token number">8.17798</span>
# <span class="token operator">&gt;</span> <span class="token function">df3</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
# <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">8.17798</span>
</code></pre> 
<h3><a id="23__176"></a>2.3 求偏导数</h3> 
<p>对以下函数求偏导数：<br> <span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          f 
         
        
          ( 
         
        
          x 
         
        
          , 
         
        
          y 
         
        
          ) 
         
        
          = 
         
         
          
          
            x 
           
          
            3 
           
          
         
           y 
          
         
        
          + 
         
        
          s 
         
        
          i 
         
        
          n 
         
        
          ( 
         
        
          x 
         
         
         
           y 
          
         
           3 
          
         
        
          ) 
         
        
          + 
         
         
         
           e 
          
          
          
            x 
           
          
            y 
           
          
          
        
       
         f(x,y) = \frac{x^{3}}{y}+sin(xy^{3})+e^{xy}\, 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault" style="margin-right: 0.10764em;">f</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathdefault" style="margin-right: 0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 2.37155em; vertical-align: -0.88044em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.49111em;"><span class="" style="top: -2.314em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.03588em;">y</span></span></span><span class="" style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span class="" style="top: -3.677em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.814108em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.88044em;"><span class=""></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1.11411em; vertical-align: -0.25em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.864108em;"><span class="" style="top: -3.113em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.714392em; vertical-align: 0em;"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.714392em;"><span class="" style="top: -3.113em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">x</span><span class="mord mathdefault mtight" style="margin-right: 0.03588em;">y</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.166667em;"></span></span></span></span></span></span></p> 
<pre><code class="prism language-javascript">f1  <span class="token operator">&lt;</span><span class="token operator">-</span>  <span class="token function">expression</span><span class="token punctuation">(</span>f<span class="token operator">=</span>x<span class="token operator">^</span><span class="token number">3</span><span class="token operator">/</span>y<span class="token operator">+</span><span class="token function">sin</span><span class="token punctuation">(</span>x<span class="token operator">*</span>y<span class="token operator">^</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token function">exp</span><span class="token punctuation">(</span>x<span class="token operator">*</span>y<span class="token punctuation">)</span><span class="token punctuation">)</span>
f2 <span class="token operator">&lt;</span><span class="token operator">-</span> <span class="token keyword">function</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span> x<span class="token operator">^</span><span class="token number">3</span><span class="token operator">/</span>y<span class="token operator">+</span><span class="token function">sin</span><span class="token punctuation">(</span>x<span class="token operator">*</span>y<span class="token operator">^</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token function">exp</span><span class="token punctuation">(</span>x<span class="token operator">*</span>y<span class="token punctuation">)</span>

# 分别使用表达式和手动编求偏导数后的函数
# 验证求导结果，发现结果一致
df1xy <span class="token operator">&lt;</span><span class="token operator">-</span> <span class="token function">deriv</span><span class="token punctuation">(</span>f1<span class="token punctuation">,</span><span class="token function">c</span><span class="token punctuation">(</span><span class="token string">"x"</span><span class="token punctuation">,</span><span class="token string">"y"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">.</span>arg <span class="token operator">=</span> <span class="token constant">TRUE</span><span class="token punctuation">)</span>
df2x <span class="token operator">&lt;</span><span class="token operator">-</span> <span class="token keyword">function</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span> <span class="token number">3</span><span class="token operator">*</span>x<span class="token operator">^</span><span class="token number">2</span><span class="token operator">/</span>y<span class="token operator">+</span><span class="token function">cos</span><span class="token punctuation">(</span>x<span class="token operator">*</span>y<span class="token operator">^</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token operator">*</span>y<span class="token operator">^</span><span class="token number">3</span><span class="token operator">+</span>y<span class="token operator">*</span><span class="token function">exp</span><span class="token punctuation">(</span>x<span class="token operator">*</span>y<span class="token punctuation">)</span>
df2y <span class="token operator">&lt;</span><span class="token operator">-</span> <span class="token keyword">function</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span> <span class="token operator">-</span>x<span class="token operator">^</span><span class="token number">3</span><span class="token operator">/</span>y<span class="token operator">^</span><span class="token number">2</span><span class="token operator">+</span><span class="token number">3</span><span class="token operator">*</span><span class="token function">cos</span><span class="token punctuation">(</span>x<span class="token operator">*</span>y<span class="token operator">^</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token operator">*</span>y<span class="token operator">^</span><span class="token number">2</span><span class="token operator">+</span>x<span class="token operator">*</span><span class="token function">exp</span><span class="token punctuation">(</span>x<span class="token operator">*</span>y<span class="token punctuation">)</span>
<span class="token function">df1xy</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token function">df2x</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token function">df2y</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>

# 输出
# <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">4.559753</span>
# <span class="token function">attr</span><span class="token punctuation">(</span><span class="token punctuation">,</span><span class="token string">"gradient"</span><span class="token punctuation">)</span>
# x        y
# <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token punctuation">]</span> <span class="token number">6.258584</span> <span class="token number">3.339189</span>
# <span class="token operator">&gt;</span> <span class="token function">df2x</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>
# <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">6.258584</span>
# <span class="token operator">&gt;</span> <span class="token function">df2y</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>
# <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">3.339189</span>
</code></pre> 
<h2><a id="3__205"></a>3 积分</h2> 
<p>对于积分而言，有以下几种形式：</p> 
<ol><li>定积分</li><li>不定积分</li><li>多元函数积分</li><li>……</li></ol> 
<h3><a id="31__213"></a>3.1 定积分</h3> 
<p>求定积分可以使用integrate() 函数，该函数要求传入的是仅有单变量的函数而非表达式，因此只能求一元函数定积分，对以下函数求定积分：</p> 
<p><span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          y 
         
        
          = 
         
         
         
           x 
          
         
           3 
          
         
        
          + 
         
        
          s 
         
        
          i 
         
        
          n 
         
        
          ( 
         
        
          x 
         
        
          ) 
         
        
          + 
         
         
         
           e 
          
         
           x 
          
          
        
       
         y = x^{3}+sin(x)+e^{x}\, 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.625em; vertical-align: -0.19444em;"></span><span class="mord mathdefault" style="margin-right: 0.03588em;">y</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.947438em; vertical-align: -0.08333em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.864108em;"><span class="" style="top: -3.113em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.714392em; vertical-align: 0em;"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.714392em;"><span class="" style="top: -3.113em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">x</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.166667em;"></span></span></span></span></span></span></p> 
<pre><code class="prism language-javascript"># 定义一个用于积分的单变量函数，和积分之后的函数
f  <span class="token operator">&lt;</span><span class="token operator">-</span>  <span class="token keyword">function</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> x<span class="token operator">^</span><span class="token number">3</span> <span class="token operator">+</span> <span class="token function">sin</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">exp</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>
If <span class="token operator">&lt;</span><span class="token operator">-</span> <span class="token keyword">function</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> x<span class="token operator">^</span><span class="token number">4</span><span class="token operator">/</span><span class="token number">4</span><span class="token operator">-</span><span class="token function">cos</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token operator">+</span><span class="token function">exp</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>

# 计算区间（<span class="token number">1</span>，<span class="token number">2</span>）上的积分
# 并手动验证，发现一致，误差很小
<span class="token function">integrate</span><span class="token punctuation">(</span>f<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token function">If</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token function">If</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>

# 输出
# <span class="token operator">&gt;</span> <span class="token function">integrate</span><span class="token punctuation">(</span>f<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span>
# <span class="token number">9.377223</span> <span class="token keyword">with</span> absolute error <span class="token operator">&lt;</span> <span class="token number">1e-13</span>
# <span class="token operator">&gt;</span> <span class="token function">If</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token function">If</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
# <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">9.377223</span>
</code></pre> 
<h3><a id="32__236"></a>3.2 不定积分</h3> 
<p>暂时还不知道和不定积分相关的包有哪些，日后找到再补上。</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/4bf89a4485fe915863b50b82d7b17121/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">软件构造第二章复习</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/e469a34fd25b4eafe37737cb81947770/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Python3进阶(六) | 深入理解python多线程</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>