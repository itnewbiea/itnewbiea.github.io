<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>MySQL 提示 Your password does not satisfy the current policy requirements - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="MySQL 提示 Your password does not satisfy the current policy requirements" />
<meta property="og:description" content="这里写自定义目录标题 解决方案问题原因密码检测参数介绍validate_password.dictionary_filevalidate_password.lengthvalidate_password.mixed_case_countvalidate_password.number_countvalidate_password.policyvalidate_password.special_char_count 解决方案 mysql -uroot mysql&gt; SHOW VARIABLES LIKE &#39;validate_password%&#39;; &#43;--------------------------------------&#43;--------&#43; | Variable_name | Value | &#43;--------------------------------------&#43;--------&#43; | validate_password.check_user_name | ON | | validate_password.dictionary_file | | | validate_password.length | 8 | | validate_password.mixed_case_count | 1 | | validate_password.number_count | 1 | | validate_password.policy | MEDIUM | | validate_password.special_char_count | 1 | &#43;--------------------------------------&#43;--------&#43; 7 rows in set (0.01 sec) mysql&gt; set global validate_password.policy=0; Query OK, 0 rows affected (0.00 sec) mysql&gt; set global validate_password." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/4efe14ccef722b4fdedb6a78bc181490/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-07-28T14:31:39+08:00" />
<meta property="article:modified_time" content="2021-07-28T14:31:39+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">MySQL 提示 Your password does not satisfy the current policy requirements</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>这里写自定义目录标题</h4> 
 <ul><li><a href="#_2" rel="nofollow">解决方案</a></li><li><a href="#_57" rel="nofollow">问题原因</a></li><li><ul><li><a href="#_84" rel="nofollow">密码检测参数介绍</a></li><li><ul><li><a href="#validate_passworddictionary_file_85" rel="nofollow">validate_password.dictionary_file</a></li><li><a href="#validate_passwordlength_88" rel="nofollow">validate_password.length</a></li><li><a href="#validate_passwordmixed_case_count_91" rel="nofollow">validate_password.mixed_case_count</a></li><li><a href="#validate_passwordnumber_count_94" rel="nofollow">validate_password.number_count</a></li><li><a href="#validate_passwordpolicy_97" rel="nofollow">validate_password.policy</a></li><li><a href="#validate_passwordspecial_char_count_105" rel="nofollow">validate_password.special_char_count</a></li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="_2"></a>解决方案</h2> 
<pre><code class="prism language-shell">mysql -uroot

mysql<span class="token operator">&gt;</span> SHOW VARIABLES LIKE <span class="token string">'validate_password%'</span><span class="token punctuation">;</span>
+--------------------------------------+--------+
<span class="token operator">|</span> Variable_name                        <span class="token operator">|</span> Value  <span class="token operator">|</span>
+--------------------------------------+--------+
<span class="token operator">|</span> validate_password.check_user_name    <span class="token operator">|</span> ON     <span class="token operator">|</span>
<span class="token operator">|</span> validate_password.dictionary_file    <span class="token operator">|</span>        <span class="token operator">|</span>
<span class="token operator">|</span> validate_password.length             <span class="token operator">|</span> <span class="token number">8</span>      <span class="token operator">|</span>
<span class="token operator">|</span> validate_password.mixed_case_count   <span class="token operator">|</span> <span class="token number">1</span>      <span class="token operator">|</span>
<span class="token operator">|</span> validate_password.number_count       <span class="token operator">|</span> <span class="token number">1</span>      <span class="token operator">|</span>
<span class="token operator">|</span> validate_password.policy             <span class="token operator">|</span> MEDIUM <span class="token operator">|</span>
<span class="token operator">|</span> validate_password.special_char_count <span class="token operator">|</span> <span class="token number">1</span>      <span class="token operator">|</span>
+--------------------------------------+--------+
<span class="token number">7</span> rows <span class="token keyword">in</span> <span class="token builtin class-name">set</span> <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>


mysql<span class="token operator">&gt;</span> <span class="token builtin class-name">set</span> global validate_password.policy<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
Query OK, <span class="token number">0</span> rows affected <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token builtin class-name">set</span> global validate_password.mixed_case_count<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
Query OK, <span class="token number">0</span> rows affected <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
 
mysql<span class="token operator">&gt;</span> <span class="token builtin class-name">set</span> global validate_password.number_count<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
Query OK, <span class="token number">0</span> rows affected <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
 
mysql<span class="token operator">&gt;</span> <span class="token builtin class-name">set</span> global validate_password.special_char_count<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
Query OK, <span class="token number">0</span> rows affected <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
 
mysql<span class="token operator">&gt;</span> <span class="token builtin class-name">set</span> global validate_password.length<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">;</span>
Query OK, <span class="token number">0</span> rows affected <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
 
mysql<span class="token operator">&gt;</span> SHOW VARIABLES LIKE <span class="token string">'validate_password%'</span><span class="token punctuation">;</span>
+--------------------------------------+-------+
<span class="token operator">|</span> Variable_name                        <span class="token operator">|</span> Value <span class="token operator">|</span>
+--------------------------------------+-------+
<span class="token operator">|</span> validate_password_dictionary_file    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> validate_password_length             <span class="token operator">|</span> <span class="token number">3</span>     <span class="token operator">|</span>
<span class="token operator">|</span> validate_password_mixed_case_count   <span class="token operator">|</span> <span class="token number">0</span>     <span class="token operator">|</span>
<span class="token operator">|</span> validate_password_number_count       <span class="token operator">|</span> <span class="token number">0</span>     <span class="token operator">|</span>
<span class="token operator">|</span> validate_password_policy             <span class="token operator">|</span> LOW   <span class="token operator">|</span>
<span class="token operator">|</span> validate_password_special_char_count <span class="token operator">|</span> <span class="token number">0</span>     <span class="token operator">|</span>
+--------------------------------------+-------+
<span class="token number">6</span> rows <span class="token keyword">in</span> <span class="token builtin class-name">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>


mysql<span class="token operator">&gt;</span> SET PASSWORD FOR <span class="token string">'root'</span>@<span class="token string">'localhost'</span> <span class="token operator">=</span> <span class="token string">'123'</span><span class="token punctuation">;</span>
Query OK, <span class="token number">0</span> rows affected <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>
</code></pre> 
<p>成功将密码设置为 <code>123</code>，不过现在 MySQL 好像不可以直接用 <code>root</code> 当做密码。</p> 
<h2><a id="_57"></a>问题原因</h2> 
<p>使用 <code>brew install mysql</code> 按照后，安装提示</p> 
<pre><code>We've installed your MySQL database without a root password. To secure it run:
    mysql_secure_installation
</code></pre> 
<p>你一定是不知所云的执行了 <code>mysql_secure_installation</code> 然后就莫名其妙的设置了密码安全级别。</p> 
<pre><code>VALIDATE PASSWORD COMPONENT can be used to test passwords
and improve security. It checks the strength of password
and allows the users to set only those passwords which are
secure enough. Would you like to setup VALIDATE PASSWORD component?

Press y|Y for Yes, any other key for No: y

There are three levels of password validation policy:

LOW    Length &gt;= 8
MEDIUM Length &gt;= 8, numeric, mixed case, and special characters
STRONG Length &gt;= 8, numeric, mixed case, special characters and dictionary                  file

Please enter 0 = LOW, 1 = MEDIUM and 2 = STRONG:
</code></pre> 
<h3><a id="_84"></a>密码检测参数介绍</h3> 
<h4><a id="validate_passworddictionary_file_85"></a>validate_password.dictionary_file</h4> 
<p>插件用于验证密码强度的字典文件路径。</p> 
<h4><a id="validate_passwordlength_88"></a>validate_password.length</h4> 
<p>密码最小长度，参数默认为8，它有最小值的限制，最小值为：validate_password_number_count + validate_password_special_char_count + (2 * validate_password_mixed_case_count)</p> 
<h4><a id="validate_passwordmixed_case_count_91"></a>validate_password.mixed_case_count</h4> 
<p>密码至少要包含的小写字母个数和大写字母个数。</p> 
<h4><a id="validate_passwordnumber_count_94"></a>validate_password.number_count</h4> 
<p>密码至少要包含的数字个数。</p> 
<h4><a id="validate_passwordpolicy_97"></a>validate_password.policy</h4> 
<p>密码强度检查等级，0/LOW、1/MEDIUM、2/STRONG。有以下取值：<br> Policy Tests Performed<br> 0 or LOW Length<br> 1 or MEDIUM Length; numeric, lowercase/uppercase, and special characters<br> 2 or STRONG Length; numeric, lowercase/uppercase, and special characters; dictionary file<br> 默认是1，即MEDIUM，所以刚开始设置的密码必须符合长度，且必须含有数字，小写或大写字母，特殊字符。</p> 
<h4><a id="validate_passwordspecial_char_count_105"></a>validate_password.special_char_count</h4> 
<p>密码至少要包含的特殊字符数。</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/fd50b19c004a6178222d89ca8c6045bf/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">项目初始化报 404 Not Found - GET https://registry.npmjs.org</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/560ab4897cdda44605086b4902f0c712/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">linux终端里面的光标很粗，怎么调细</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>