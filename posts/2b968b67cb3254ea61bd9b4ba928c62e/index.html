<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>JSTL1.1函数标签库(functions)与 JSTL 自定义Function函数标签 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="JSTL1.1函数标签库(functions)与 JSTL 自定义Function函数标签" />
<meta property="og:description" content="JSTL1.1函数标签库(functions)与 JSTL 自定义Function函数标签 学习要点 JSTL1.1函数标签库(functions) JSTL 自定义Function函数标签 JSTL1.1函数标签库(functions) 在jstl中的fn标签也是我们在网页设计中经常要用到的很关键的标签，在使用的时候要先加上头 &lt;%@ taglib uri=&#34;http://java.sun.com/jsp/jstl/functions&#34; prefix=&#34;fn&#34;%&gt;就可以使用fn标签了。 具体使用方法请参见下表：
函数描述fn:contains(string, substring)如果参数string中包含参数substring，返回truefn:containsIgnoreCase(string, substring)如果参数string中包含参数substring（忽略大小写），返回truefn:endsWith(string, suffix)如果参数 string 以参数suffix结尾，返回truefn:escapeXml(string)将有特殊意义的XML (和HTML)转换为对应的XML character entity code，并返回fn:indexOf(string, substring)返回参数substring在参数string中第一次出现的位置fn:join(array, separator)将一个给定的数组array用给定的间隔符separator串在一起，组成一个新的字符串并返回。fn:length(item)返回参数item中包含元素的数量。参数Item类型是数组、collection或者String。如果是String类型,返回值是String中的字符数。fn:replace(string, before, after)返回一个String对象。用参数after字符串替换参数string中所有出现参数before字符串的地方，并返回替换后的结果fn:split(string, separator)返回一个数组，以参数separator 为分割符分割参数string，分割后的每一部分就是数组的一个元素fn:startsWith(string, prefix)如果参数string以参数prefix开头，返回truefn:substring(string, begin, end)返回参数string部分字符串, 从参数begin开始到参数end位置，包括end位置的字符fn:substringAfter(string, substring)返回参数substring在参数string中后面的那一部分字符串fn:substringBefore(string, substring)返回参数substring在参数string中前面的那一部分字符串fn:toLowerCase(string)将参数string所有的字符变为小写，并将其返回fn:toUpperCase(string)将参数string所有的字符变为大写，并将其返回fn:trim(string)去除参数string 首尾的空格，并将其返回 JSTL 自定义Function函数标签 &lt;function&gt;标签可以做什么呢?它可以让我们在jsp用直接调用某个方法,根据自定义的方法返回指定的值,兼容jstl标签, 省去了在jsp中直接使用&lt;%!%&gt;来定义方法体再调用的繁琐.如果你用过el语言的话估计会很快上手,其实&lt;function&gt;标签就是一个拥有方法体的el语言.注意:function所定义的方法必须需要是静态的,如果不是静态的话jstl 是不能识别所定义的方法. java代码如下：
package org.lxh.taglib; import java.util.List; public class FunctionTag { public static String hello(String name) { return name; } public static Integer bbq(List list) { return list.size(); } } 方法必须静态,可以定义有返回值或者void类型的方法." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/2b968b67cb3254ea61bd9b4ba928c62e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-01-09T09:46:55+08:00" />
<meta property="article:modified_time" content="2018-01-09T09:46:55+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">JSTL1.1函数标签库(functions)与 JSTL 自定义Function函数标签</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3 id="jstl11函数标签库functions与-jstl-自定义function函数标签">JSTL1.1函数标签库(functions)与 JSTL 自定义Function函数标签</h3> 
<h4 id="学习要点">学习要点</h4> 
<pre class="prettyprint"><code class=" hljs javascript">JSTL1<span class="hljs-number">.1</span>函数标签库(functions)
JSTL 自定义<span class="hljs-built_in">Function</span>函数标签</code></pre> 
<h4 id="jstl11函数标签库functions">JSTL1.1函数标签库(functions)</h4> 
<pre class="prettyprint"><code class=" hljs rust">在jstl中的<span class="hljs-function"><span class="hljs-keyword">fn</span>标签也是我们在网页设计中经常要用到的很关键的标签，在使用的时候要先加上头
&lt;</span>%@ taglib uri=<span class="hljs-string">"http://java.sun.com/jsp/jstl/functions"</span>  prefix=<span class="hljs-string">"fn"</span>%&gt;就可以使用<span class="hljs-function"><span class="hljs-keyword">fn</span>标签了。</span></code></pre> 
<p>具体使用方法请参见下表：</p> 
<table><thead><tr><th align="center">函数</th><th align="center">描述</th></tr></thead><tbody><tr><td align="center">fn:contains(string, substring)</td><td align="center">如果参数string中包含参数substring，返回true</td></tr><tr><td align="center">fn:containsIgnoreCase(string, substring)</td><td align="center">如果参数string中包含参数substring（忽略大小写），返回true</td></tr><tr><td align="center">fn:endsWith(string, suffix)</td><td align="center">如果参数 string 以参数suffix结尾，返回true</td></tr><tr><td align="center">fn:escapeXml(string)</td><td align="center">将有特殊意义的XML (和HTML)转换为对应的XML character entity code，并返回</td></tr><tr><td align="center">fn:indexOf(string, substring)</td><td align="center">返回参数substring在参数string中第一次出现的位置</td></tr><tr><td align="center">fn:join(array, separator)</td><td align="center">将一个给定的数组array用给定的间隔符separator串在一起，组成一个新的字符串并返回。</td></tr><tr><td align="center">fn:length(item)</td><td align="center">返回参数item中包含元素的数量。参数Item类型是数组、collection或者String。如果是String类型,返回值是String中的字符数。</td></tr><tr><td align="center">fn:replace(string, before, after)</td><td align="center">返回一个String对象。用参数after字符串替换参数string中所有出现参数before字符串的地方，并返回替换后的结果</td></tr><tr><td align="center">fn:split(string, separator)</td><td align="center">返回一个数组，以参数separator 为分割符分割参数string，分割后的每一部分就是数组的一个元素</td></tr><tr><td align="center">fn:startsWith(string, prefix)</td><td align="center">如果参数string以参数prefix开头，返回true</td></tr><tr><td align="center">fn:substring(string, begin, end)</td><td align="center">返回参数string部分字符串, 从参数begin开始到参数end位置，包括end位置的字符</td></tr><tr><td align="center">fn:substringAfter(string, substring)</td><td align="center">返回参数substring在参数string中后面的那一部分字符串</td></tr><tr><td align="center">fn:substringBefore(string, substring)</td><td align="center">返回参数substring在参数string中前面的那一部分字符串</td></tr><tr><td align="center">fn:toLowerCase(string)</td><td align="center">将参数string所有的字符变为小写，并将其返回</td></tr><tr><td align="center">fn:toUpperCase(string)</td><td align="center">将参数string所有的字符变为大写，并将其返回</td></tr><tr><td align="center">fn:trim(string)</td><td align="center">去除参数string 首尾的空格，并将其返回</td></tr></tbody></table> 
<h4 id="jstl-自定义function函数标签">JSTL 自定义Function函数标签</h4> 
<pre class="prettyprint"><code class=" hljs xml"><span class="hljs-tag">&lt;<span class="hljs-title">function</span>&gt;</span>标签可以做什么呢?它可以让我们在jsp用直接调用某个方法,根据自定义的方法返回指定的值,兼容jstl标签, 省去了在jsp中直接使用<span class="vbscript">&lt;%!%&gt;</span>来定义方法体再调用的繁琐.如果你用过el语言的话估计会很快上手,其实<span class="hljs-tag">&lt;<span class="hljs-title">function</span>&gt;</span>标签就是一个拥有方法体的el语言.注意:function所定义的方法必须需要是静态的,如果不是静态的话jstl 是不能识别所定义的方法.</code></pre> 
<p>java代码如下：</p> 
<pre class="prettyprint"><code class=" hljs java"><span class="hljs-keyword">package</span> org.lxh.taglib;

<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FunctionTag</span> {<!-- --></span>

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title">hello</span>(String name) {

        <span class="hljs-keyword">return</span> name;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Integer <span class="hljs-title">bbq</span>(List list) {

        <span class="hljs-keyword">return</span> list.size();
    }
}</code></pre> 
<p>方法必须静态,可以定义有返回值或者void类型的方法. <br> tld:</p> 
<pre class="prettyprint"><code class=" hljs xml"><span class="hljs-pi">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">taglib</span> <span class="hljs-attribute">xmlns</span>=<span class="hljs-value">"http://java.sun.com/xml/ns/j2ee"</span> <span class="hljs-attribute">xmlns:xsi</span>=<span class="hljs-value">"http://www.w3.org/2001/XMLSchema-instance"</span>
    <span class="hljs-attribute">xsi:schemaLocation</span>=<span class="hljs-value">"http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-jsptaglibrary_2_0.xsd"</span>
    <span class="hljs-attribute">version</span>=<span class="hljs-value">"2.0"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">tlib-version</span>&gt;</span>1.0<span class="hljs-tag">&lt;/<span class="hljs-title">tlib-version</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">short-name</span>&gt;</span>my<span class="hljs-tag">&lt;/<span class="hljs-title">short-name</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">uri</span>&gt;</span>http://lauedward.spaces.live.com<span class="hljs-tag">&lt;/<span class="hljs-title">uri</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">function</span>&gt;</span>
        <span class="hljs-comment">&lt;!--EL页面调用名字--&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">name</span>&gt;</span>hello<span class="hljs-tag">&lt;/<span class="hljs-title">name</span>&gt;</span>
        <span class="hljs-comment">&lt;!--指定标签的处理类，指定了标签由哪个Java类来处理。--&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">function-class</span>&gt;</span>org.lxh.taglib.FunctionTag<span class="hljs-tag">&lt;/<span class="hljs-title">function-class</span>&gt;</span>
        <span class="hljs-comment">&lt;!--指定EL页面调用名字中实际调用的方法.指定处理类的实际方法.参数和回调函数要写完整路径--&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">function-signature</span>&gt;</span>java.lang.String hello(java.lang.String)<span class="hljs-tag">&lt;/<span class="hljs-title">function-signature</span>&gt;</span>

    <span class="hljs-tag">&lt;/<span class="hljs-title">function</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-title">function</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">name</span>&gt;</span>bbq<span class="hljs-tag">&lt;/<span class="hljs-title">name</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">function-class</span>&gt;</span>org.lxh.taglib.FunctionTag<span class="hljs-tag">&lt;/<span class="hljs-title">function-class</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">function-signature</span>&gt;</span>java.lang.Integer bbq(java.util.List)<span class="hljs-tag">&lt;/<span class="hljs-title">function-signature</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">function</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">taglib</span>&gt;</span></code></pre> 
<p>注意:在需要写完整的类名,假如是String类型的话就必须写 java.lang.String这样字,不支持泛型的定义如 java.util.List</p> 
<pre class="prettyprint"><code class=" hljs xml"><span class="vbscript">&lt;%@ page language=<span class="hljs-string">"java"</span> contentType=<span class="hljs-string">"text/html; charset=UTF-8"</span>
    pageEncoding=<span class="hljs-string">"UTF-8"</span>%&gt;</span>
<span class="vbscript">&lt;%@taglib prefix=<span class="hljs-string">"my"</span> uri=<span class="hljs-string">"/WEB-INF/tld/testFunction.tld"</span>%&gt;</span>
<span class="hljs-doctype">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"&gt;</span>
<span class="vbscript">&lt;%@page import=<span class="hljs-string">"java.util.*"</span>%&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">meta</span> <span class="hljs-attribute">http-equiv</span>=<span class="hljs-value">"Content-Type"</span> <span class="hljs-attribute">content</span>=<span class="hljs-value">"text/html; charset=UTF-8"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">title</span>&gt;</span>Insert title here<span class="hljs-tag">&lt;/<span class="hljs-title">title</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">body</span>&gt;</span>
<span class="vbscript">&lt;%
    List&lt;<span class="hljs-built_in">String</span>&gt; list = <span class="hljs-keyword">new</span> ArrayList&lt;<span class="hljs-built_in">String</span>&gt;();
    list.add(<span class="hljs-string">"aa"</span>);
    list.add(<span class="hljs-string">"bb"</span>);
    list.add(<span class="hljs-string">"cc"</span>);
    <span class="hljs-built_in">request</span>.setAttribute(<span class="hljs-string">"list"</span>, <span class="hljs-string">"helloword"</span>);
    <span class="hljs-built_in">request</span>.setAttribute(<span class="hljs-string">"name"</span>, list);
    Map map = <span class="hljs-keyword">new</span> HashMap();
    map.put(<span class="hljs-string">"1"</span>,<span class="hljs-string">"a"</span>);
    map.put(<span class="hljs-string">"2"</span>,<span class="hljs-string">"b"</span>);
    map.put(<span class="hljs-string">"3"</span>,<span class="hljs-string">"c"</span>);
    map.put(<span class="hljs-string">"4"</span>,<span class="hljs-string">"d"</span>);
%&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">br</span>&gt;</span>
${my:hello(list)}
<span class="hljs-tag">&lt;<span class="hljs-title">br</span>&gt;</span>
${my:bbq(name)}
<span class="hljs-tag">&lt;<span class="hljs-title">br</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">html</span>&gt;</span></code></pre> 
<p>注意:调用 <br> 方法的时候必须类型要传入相同类型的值,否则的话会报错,不过对于方法体是String的话,是可以传入list,set,map那些,因为传入后会直接调用list的.toString()方法直接当字符串输出.</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/52684355c736ca52cb38335e52e766a9/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">$.ajax的各个参数</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/51b2dafd0cf2697809c679c1c9ae2c1f/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">java.lang.IllegalArgumentException: reportSizeConfigurations: ActivityRecord not found for: Token{18</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>