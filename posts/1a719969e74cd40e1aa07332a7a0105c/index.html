<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Qt：第三章：常用控件介绍 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Qt：第三章：常用控件介绍" />
<meta property="og:description" content="一、窗口控件 1、窗口创建 窗口分为三种：普通窗口、无边框窗口以及顶层窗口(顶层窗口永远在最上面)
//普通窗口 QWidget *widget = new QWidget(nullptr,Qt::Tool|Qt::WindowCloseButtonHint|Qt::WindowMaximizeButtonHint); widget-&gt;setWindowTitle(QStringLiteral(&#34;widget窗口&#34;)); widget-&gt;show(); //无边框 QWidget *widget1 = new QWidget(nullptr, Qt::FramelessWindowHint); widget1-&gt;show(); //作为顶层窗口出现 QWidget *widget2 = new QWidget(nullptr,Qt::Dialog| Qt::WindowStaysOnTopHint); widget2-&gt;setWindowTitle(&#34;top widget&#34;); widget2-&gt;show(); 2、对话框 1、模态对话框和非模态对话框 模态对话框：就是我们没有关闭它之前，不能再与同一个应用程序中的其他窗口进行交互（操作）,例如vs中的新建项目窗口，若不关闭，无法进行编写代码的操作。要想使一个窗口为模态窗口，需要调用它的exec()方法显示窗口。
非模态对话框：关闭该对话框之前，还可以与应用程序中的其他窗口进行交互（操作），例如记事本中的查找窗口要想使一个窗口为非模块窗口的话，需要使用new操作符在堆上创建窗口对象，使用show()方法进行显示
​ //模态对话框 void Dialog04::on_modalButton_clicked() { QDialog dlg(this); dlg.resize(200, 200); dlg.exec(); } //非模态对话框 void Dialog04::on_noModalButton_clicked() { QDialog dlg1(this); dlg1.resize(200, 200); dlg1.show(); } 2、消息对话框 MessageBox：有信息提示框、警告提示框、错误提示框、问题提示框、关于提示框
//信息提示框 QMessageBox::information(nullptr, QStringLiteral(&#34;提示信息&#34;), QStringLiteral(&#34;这是信息提示窗口&#34;), QMessageBox::Yes | QMessageBox::No); //警告提示框 QMessageBox::warning(nullptr, QStringLiteral(&#34;警告信息&#34;), QStringLiteral(&#34;程序警告信息&#34;)); //错误提示框 QMessageBox::critical(nullptr, QStringLiteral(&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/1a719969e74cd40e1aa07332a7a0105c/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-08-14T18:41:28+08:00" />
<meta property="article:modified_time" content="2023-08-14T18:41:28+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Qt：第三章：常用控件介绍</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2>一、窗口控件</h2> 
<h3>1、窗口创建</h3> 
<blockquote> 
 <p>窗口分为三种：普通窗口、无边框窗口以及顶层窗口(顶层窗口永远在最上面)</p> 
</blockquote> 
<pre><code class="language-cpp">//普通窗口
QWidget *widget = new QWidget(nullptr,Qt::Tool|Qt::WindowCloseButtonHint|Qt::WindowMaximizeButtonHint);
widget-&gt;setWindowTitle(QStringLiteral("widget窗口"));
widget-&gt;show();

//无边框
QWidget *widget1 = new QWidget(nullptr, Qt::FramelessWindowHint);
widget1-&gt;show();

//作为顶层窗口出现
QWidget *widget2 = new QWidget(nullptr,Qt::Dialog| Qt::WindowStaysOnTopHint);
widget2-&gt;setWindowTitle("top widget");
widget2-&gt;show();</code></pre> 
<h3><img alt="" height="655" src="https://images2.imgbox.com/68/d2/KktFHrDw_o.png" width="862"></h3> 
<h3>2、对话框</h3> 
<h4>1、模态对话框和非模态对话框</h4> 
<blockquote> 
 <ul><li> <p>模态对话框：就是我们没有关闭它之前，不能再与同一个应用程序中的其他窗口进行交互（操作）,例如vs中的新建项目窗口，若不关闭，无法进行编写代码的操作。要想使一个窗口为模态窗口，需要调用它的exec()方法显示窗口。</p> </li><li> <p>非模态对话框：关闭该对话框之前，还可以与应用程序中的其他窗口进行交互（操作），例如记事本中的查找窗口要想使一个窗口为非模块窗口的话，需要使用new操作符在堆上创建窗口对象，使用show()方法进行显示</p> </li></ul> 
</blockquote> 
<pre><code class="language-cpp">​
//模态对话框
void Dialog04::on_modalButton_clicked()
{
	QDialog dlg(this);
	dlg.resize(200, 200);
	dlg.exec();
}

//非模态对话框
void Dialog04::on_noModalButton_clicked()
{
	QDialog dlg1(this);
	dlg1.resize(200, 200);
	dlg1.show();
}</code></pre> 
<h4>2、消息对话框</h4> 
<blockquote> 
 <p>MessageBox：有信息提示框、警告提示框、错误提示框、问题提示框、关于提示框</p> 
</blockquote> 
<pre><code class="language-cpp">//信息提示框
QMessageBox::information(nullptr, QStringLiteral("提示信息"), QStringLiteral("这是信息提示窗口"), QMessageBox::Yes | QMessageBox::No);

//警告提示框
QMessageBox::warning(nullptr, QStringLiteral("警告信息"), QStringLiteral("程序警告信息"));

//错误提示框
QMessageBox::critical(nullptr, QStringLiteral("错误信息"), QStringLiteral("程序发生致命错误"));

//问题提示框
QMessageBox::question(nullptr, QStringLiteral("问题信息"), QStringLiteral("你是否关闭问题窗口"),QMessageBox::Yes | QMessageBox::No);

//关于提示框
QMessageBox::about(nullptr, QStringLiteral("关于"), QStringLiteral("关于应用程序"));//自定义
QMessageBox::aboutQt(nullptr);//显示Qt文档</code></pre> 
<p> 显示图标分别为：</p> 
<p class="img-center"><img alt="" height="161" src="https://images2.imgbox.com/db/95/NxZz1qqF_o.png" width="234"></p> 
<p class="img-center"><img alt="" height="165" src="https://images2.imgbox.com/42/0f/xwC6J5Ur_o.png" width="238"></p> 
<p class="img-center"><img alt="" height="159" src="https://images2.imgbox.com/c2/8f/bWFaxYfi_o.png" width="228"></p> 
<p class="img-center"><img alt="" height="187" src="https://images2.imgbox.com/bc/cf/EOogFy36_o.png" width="262"></p> 
<p class="img-center"><img alt="" height="175" src="https://images2.imgbox.com/61/b4/s3GLovGA_o.png" width="243"></p> 
<h4></h4> 
<h4> 3、文件对话框</h4> 
<blockquote> 
 <p>QFileDialog ：用于文件的读写</p> 
</blockquote> 
<h5>3.1、读文件</h5> 
<blockquote> 
 <p>方式一：普通方法进行文件读取</p> 
</blockquote> 
<pre><code class="language-cpp">//参数1：父对象	参数2：窗口标题	参数3：指定默认打开路径  参数4：过滤器(过滤文件类型)
QString strFileName = QFileDialog::getOpenFileName(this, QStringLiteral("打开文件对话框"), "D:\\",QStringLiteral("文本文件(*txt);;源文件(*cpp)"));

//创建读写文件对象
QFile file(strFileName);
//以指定方式打开文件
file.open(QIODevice::ReadOnly | QIODevice::Text);

//读取文件所有内容
QByteArray content = file.readAll();

//信息框展示文件内容
QMessageBox::information(nullptr, QStringLiteral("读取文件"), QString(content));

//关闭
file.close();</code></pre> 
<blockquote> 
 <p>方式二：使用QTextStream流方法</p> 
</blockquote> 
<pre><code class="language-cpp">//参数1：父对象	参数2：窗口标题	参数3：指定默认打开路径  参数4：过滤器(过滤文件类型)
QString strFileName = QFileDialog::getOpenFileName(this, QStringLiteral("打开文件对话框"), "D:\\",QStringLiteral("文本文件(*txt);;源文件(*cpp)"));

//创建读写文件对象
QTextStream stream(&amp;file);
//以指定方式打开文件
file.open(QIODevice::ReadOnly | QIODevice::Text);

//读取文件内容
stream.read(1);//读取一个字符、
//stream.seek(0);//移动光标到最开始
//stream.readLine();//读取一行字符
//stream.readAll();//读取全部字符
	
//使用流将读取数据写入string
QString string;
stream &gt;&gt; string;

//信息框展示文件内容
QMessageBox::information(nullptr, QStringLiteral("读取文件"), string);

//关闭
file.close();</code></pre> 
<h5>3.2、写文件</h5> 
<pre><code class="language-cpp">
	//选择文件，用strFileName接收文件路径
	QString strFileName = QFileDialog::getSaveFileName(this, QStringLiteral("保存文件对话框"), "D:\\",
		QStringLiteral("文本文件(*.txt);;源文件(*.cpp)"));
	if (!strFileName.isEmpty()) {
		QFile file(strFileName);
		if (file.open(QIODevice::WriteOnly)) {
			QTextStream stream(&amp;file);
			stream &lt;&lt; "123456";//写入文件
			file.close();//关闭文件
		}
		else {
            //文件路径为空时的处理
			//qDebug() &lt;&lt; "无法打开文件：" &lt;&lt; strFileName;
		}
	}</code></pre> 
<h4></h4> 
<h4>4、颜色对话框</h4> 
<blockquote> 
 <p>QClolrDialog：使用Qt内置的颜色选择器</p> 
</blockquote> 
<pre><code class="language-cpp">//参数1：颜色窗口打开时默认选择的颜色，参数2：父对象，参数3：窗口标题 参数4：透明度调整
//方式1
QColor color = QColorDialog::getColor(Qt::red, this, QStringLiteral("选择颜色"),QColorDialog::ShowAlphaChannel);
qDebug() &lt;&lt; color;

//打开颜色对话框方式2
QColorDialog dialog(Qt::green, this);//创建颜色对话框
dialog.exec();//显示颜色对话框
QColor color = dialog.currentColor();//获取用户当前选择的颜色
qDebug() &lt;&lt; color;</code></pre> 
<p><img alt="" height="643" src="https://images2.imgbox.com/dd/a3/4i08eE4e_o.png" width="914"></p> 
<h4></h4> 
<h4>5、进度对话框</h4> 
<blockquote> 
 <p>QProgressDialog：慢动作进度反馈</p> 
 <p>Qt有提供写好的进度条：progressBar </p> 
 <p class="img-center"><img alt="" height="271" src="https://images2.imgbox.com/e5/6a/lGVGf8rk_o.png" width="229"></p> 
</blockquote> 
<pre><code class="language-cpp">//进度对话框	参数1：进度条上的文本信息	参数二：取消按钮的文本	参数3：起始值	参数4：结束值 参数5：父对象
	QProgressDialog dialog(QStringLiteral("文件复制进度"), QStringLiteral("取消"), 0, 1000, this);
	//调整窗口尺寸
	dialog.resize(300, 40);
	//以下两句代码用于设置窗口为模态窗口，级别比exec()要低
	dialog.setWindowModality(Qt::WindowModal);
	dialog.show();

	//进度条的进度变化
	for (int i=0;i&lt;= 1000;i++)
	{
		Sleep(5);
		//设置进度条上的文本变化值
		dialog.setValue(i);
	}</code></pre> 
<p class="img-center"><img alt="" height="333" src="https://images2.imgbox.com/93/4a/YbrUPC3y_o.png" width="438"></p> 
<h4></h4> 
<h3>3、QMainWindow主窗口</h3> 
<h4>1、菜单栏</h4> 
<blockquote> 
 <p>菜单栏：QMenuBar，菜单栏最多只能有一个，可以没有</p> 
 <p>菜单：QMenu：添加到菜单栏上的部件</p> 
 <p>菜单项：QAction：添加到菜单上的部件</p> 
</blockquote> 
<pre><code class="language-cpp">    //创建菜单栏
	QMenuBar * bar = menuBar();

	//创建菜单
	QMenu *fileMenu = new QMenu(QStringLiteral("文件"));

	//把文件和编辑菜单添加到编辑栏上
	bar-&gt;addMenu(fileMenu);//方式一：先创建再添加
	bar-&gt;addMenu(QStringLiteral("编辑"));//直接添加

    //创建菜单项
	QAction *newAction = new QAction(QStringLiteral("新建"));

	//将菜单项添加到菜单上
	fileMenu-&gt;addAction(newAction);
	//添加一条分割线
	fileMenu-&gt;addSeparator();
	fileMenu-&gt;addAction(QStringLiteral("打开"));

    //将菜单栏添加到窗口menu
    this-&gt;setMenuBar(bar);

    //绑定操作信号
	connect(newAction, &amp;QAction::triggered, this, &amp;MainWindow05::myNewActionSlots);</code></pre> 
<p></p> 
<h4>2、工具栏</h4> 
<blockquote> 
 <p>QToolBa：可以设置是否浮动、是否移动及添加带图标按钮等</p> 
</blockquote> 
<p></p> 
<pre><code class="language-cpp">//创建
QToolBar *toolBar = new QToolBar(this);

//添加到此窗口最上面
this-&gt;addToolBar(Qt::TopToolBarArea, toolBar);

//设置工具栏是否可浮动	false--不可浮动
toolBar-&gt;setFloatable(true);

//设置工具栏是否可移动
toolBar-&gt;setMovable(true);


//添加按钮
QPushButton *btn = new QPushButton(QStringLiteral("新建"),this);
toolBar-&gt;addWidget(btn);

//添加两个action到工具栏上
toolBar-&gt;addAction(findAction);
toolBar-&gt;addAction(newAction);

//添加分隔符
toolBar-&gt;addSeparator();

//工具栏ToolBar上添加QToolButton按钮
//新建toolButton按钮
QToolButton *toolButton = new QToolButton();
toolButton-&gt;setIcon(QIcon(":/MainWindow05/image/56.png"));//设置图标地址
toolButton-&gt;setText(QStringLiteral("帮助"));//设置图标名称
toolButton-&gt;setToolButtonStyle(Qt::ToolButtonTextUnderIcon);//设置图标格式：图标在文字上方

//添加到菜单栏
toolBar-&gt;addWidget(toolButton);</code></pre> 
<p class="img-center"><img alt="" height="279" src="https://images2.imgbox.com/fb/3c/bPijIjli_o.png" width="581"></p> 
<p class="img-center"><img alt="" height="344" src="https://images2.imgbox.com/d9/db/XXuDRuCc_o.png" width="592"></p> 
<p class="img-center"><img alt="" height="327" src="https://images2.imgbox.com/37/7c/LvUtDVB5_o.png" width="530"></p> 
<h4>3、状态栏</h4> 
<pre><code>    //创建空的状态栏
	QStatusBar *statusBar = this-&gt;statusBar();

	///将标签控件添加到状态栏
	QLabel *label = new QLabel(QStringLiteral("状态信息1"));
	statusBar-&gt;addWidget(label);

	//将按钮控件添加到状态栏
    QPushButton *btn1 = new QPushButton(QStringLiteral("状态栏按钮"), this);
	statusBar-&gt;addWidget(btn1);

	//将label2添加到状态栏最右侧
    QLabel *label2 = new QLabel(QStringLiteral("状态信息2"));
	statusBar-&gt;addPermanentWidget(label2);
</code></pre> 
<p class="img-center"><img alt="" height="497" src="https://images2.imgbox.com/3f/ed/sOXRdWQe_o.png" width="592"></p> 
<h4>4、可停靠区域控间</h4> 
<pre><code>    QDockWidget *dockWidget = new QDockWidget(QStringLiteral("停靠窗口1"));
	//QMainWindow中addDockWidget（）添加停靠窗口到指定位置
	this-&gt;addDockWidget(Qt::BottomDockWidgetArea,dockWidget);</code></pre> 
<p class="img-center"><img alt="" height="489" src="https://images2.imgbox.com/d4/6d/SLTe9jlO_o.png" width="612"></p> 
<h2> 二、基础控件</h2> 
<h3>1、按钮类控件</h3> 
<blockquote> 
 <ul><li> <p>QPushButton（普通按钮）：可以添加图标，还可以添加菜单及菜单项</p> </li><li> <p>QToolButton（工具按钮）：主要用于QMainWindow的QToolBar中，可以设置图片和文本的相对位置，也可以只显示图标或文本</p> </li><li> <p>QRadioButton（单选按钮）：主要用于从一组按钮中选择其中的某一个</p> </li><li> <p>QCheckBox（复选框）：可以同时选择多项</p> </li><li> <p>QButtonGroup（按钮组)：当有一组按钮可以共用一个槽函数时，可以再该槽函数中左判断逻辑，那么可以使用按钮组控件管理一组按钮。QPushButton、QToolButton、QRadioButton、QCheckBox都可以放到按钮组中管理</p> 
   <ul><li> <p>常用方法：</p> 
     <ul><li> <p>addButton（）</p> </li><li> <p>button（）</p> </li><li> <p>setExclusive（）</p> </li><li> <p>buttonClicked（）信号</p> </li></ul></li></ul></li></ul> 
</blockquote> 
<pre><code class="language-cpp">ui.closeButton-&gt;setIcon(QIcon(":/ButtonsWidget06/image/1.png"));
//新建菜单
QMenu * menu = new QMenu(this);

//添加菜单项，（图标、文本、同时指定QAction的triggered信号对应的槽函数）
menu-&gt;addAction(QIcon(":/ButtonsWidget06/image/2.png"), QStringLiteral("关闭文件"), this, SLOT(closeFileSlot()));

ui.closeButton-&gt;setMenu(menu);

//设置两个单选按钮都不选中
//Checkable和Checked需要同时使用
ui.femaleButton-&gt;setCheckable(false);
ui.femaleButton-&gt;setChecked(false);

//禁止按钮，置灰，无法操作
ui.femaleButton-&gt;setDisabled(false);

//复选框开启三态
//ui.paintCheckBox-&gt;setTristate(true);
//connect(ui.paintCheckBox,&amp;QCheckBox::stateChanged,this,&amp;ButtonsWidget06::checkBoxStateChangeSlot);

//创建按钮组对象
m_pButtonGroup = new QButtonGroup(this);

//同一组中内容只能选一个
m_pButtonGroup-&gt;setExclusive(true);
m_pButtonGroup-&gt;addButton(ui.paintCheckBox, 0);
m_pButtonGroup-&gt;addButton(ui.writeCheckBox, 1);
m_pButtonGroup-&gt;addButton(ui.ballCheckBox, 2);

//connect绑定有重载时，推荐使用Qt写法
//buttonGroupClickedSlot：根据传入id显示对应提示框
connect(m_pButtonGroup,SIGNAL(buttonClicked(int)),this,SLOT(buttonGroupClickedSlot(int));</code></pre> 
<p class="img-center"><img alt="" height="326" src="https://images2.imgbox.com/c2/7c/taqKc3co_o.png" width="370"></p> 
<h3>2、输入类控件</h3> 
<h4>1、组合框</h4> 
<h5>1、下拉列表框</h5> 
<blockquote> 
 <p>提供一个下拉列表供用户选择，也可以直接作为一个QLineEdit进行输入。QComoBox除了显示可见的下拉列表外，还可以每个项关联一个QVariant类型的变量，用于存储用户数据</p> 
 <p>QComoBox的常用方法：</p> 
 <ul><li> <p>addTtem()</p> </li><li> <p>addTtems()</p> </li><li> <p>添加到下拉列表中的项都有一个下标，currentIndex（）获取当前选中项的下标</p> </li><li> <p>currentText() 获取当前选中项的文本</p> </li><li> <p>itemText(int index) 返回指定项的文本</p> </li><li> <p>count()返回下拉框中的总项数</p> </li></ul> 
</blockquote> 
<pre><code class="language-cpp">方法一：单个添加
ui.comboBox-&gt;addItem(QStringLiteral("陕西省"));
ui.comboBox-&gt;addItem(QStringLiteral("山西省"));
ui.comboBox-&gt;addItem(QStringLiteral("河南省"));
//清空下拉框中的列表项
ui.comboBox-&gt;clear();

方法二：批量添加
QStringList strProvince;
strProvince &lt;&lt; QStringLiteral("新疆自治区") &lt;&lt; QStringLiteral("宁夏自治区") &lt;&lt; QStringLiteral("壮族自治区");
ui.comboBox-&gt;addItems(strProvince);
ui.comboBox-&gt;clear();

方法三：添加带图标项
QIcon iconl(":/ButtonsWidget06/image/1.png");
QIcon icon2;
icon2.addFile(":/ButtonsWidget06/image/2.png");
ui.comboBox-&gt;addItem(iconl, QStringLiteral("新疆自治区"));
ui.comboBox-&gt;addItem(icon2, QStringLiteral("宁夏自治区"));

方法四：添加具有用户数据的数据项
QMap&lt;QString, int&gt; cityZoneMap;
cityZoneMap.insert(QStringLiteral("北京市"), 100);
cityZoneMap.insert(QStringLiteral("天津市"), 200);
cityZoneMap.insert(QStringLiteral("上海市"), 300);
cityZoneMap.insert(QStringLiteral("重庆市"), 400);
for each(const QString &amp;key in cityZoneMap.keys()) {
    ui.comboBox-&gt;addItem(key, cityZoneMap.value(key));
}

//指定项设置图标
ui.comboBox-&gt;setItemIcon(4, iconl);</code></pre> 
<p class="img-center"><img alt="" height="169" src="https://images2.imgbox.com/93/d7/D9Xuodnl_o.png" width="252"></p> 
<h5> 2、字体下拉框</h5> 
<blockquote> 
 <p>fontComboBox：Qt uI 界面内下拉框，里面包含各种字体</p> 
 <p>QFontComboBox::AllFonts 显示所有字体<br> QFontComboBox::ScalableFonts 显示可缩放字体d<br> QFontComboBox::NonScalableFonts 显示不可缩放字体<br> QFontComboBox::MonospacedFonts 显示等宽字体<br> QFontComboBox::ProportionalFonts 显示比例字体</p> 
</blockquote> 
<pre><code class="language-cpp">ui.fontComboBox-&gt;setFontFilters(QFontComboBox::ScalableFonts);

//进行字体设置：下拉框字体选择后
void ButtonsWidget06::on_fontComboBox_currentFontChanged(const QFont &amp; font)
{
	ui.fontLabel-&gt;setFont(font);
}</code></pre> 
<p class="img-center"><img alt="" height="178" src="https://images2.imgbox.com/3f/22/RWjFdf1c_o.png" width="445"></p> 
<h4>2、单行文本编辑框</h4> 
<blockquote> 
 <p>QLineEdit（行编辑器），是一个单行的文本编辑器，允许用户输入和编辑单行纯文本内容，而且它提供了复制、粘贴、撤销、剪切等功能。</p> 
 <p>1、显示模式：</p> 
 <ul><li> <p>Normal 正常模式</p> </li><li> <p>NoEcho 不显示模式</p> </li><li> <p>Password 密码模式</p> </li><li> <p>PasswordEchoOnEdit 输入时正常显示，失去输入焦点时显示为密码模式</p> </li></ul> 
 <p><img alt="" height="166" src="https://images2.imgbox.com/fd/ed/JnEhnpnR_o.png" width="761"></p> 
 <p>2、焦点策略</p> 
 <ul><li> <p>Nofocus 控件不接受焦点</p> </li><li> <p>TabFocus 控件通过Tab按键接收焦点</p> </li><li> <p>ClickFocus 控件通过单击接收焦点</p> </li><li> <p>StrongFocus 控件通过Tab键和单击接收焦点</p> </li><li> <p>WheelFocus 控件通过鼠标滚轴</p> </li></ul> 
 <p><img alt="" height="231" src="https://images2.imgbox.com/b8/a5/aC6UUEmM_o.png" width="759"></p> 
 <p></p> 
</blockquote> 
<h4></h4> 
<pre><code class="language-cpp">ui.verifyLineEdit-&gt;setEchoMode(QLineEdit::Normal);	//设置显示模式
ui.verifyLineEdit-&gt;setFocusPolicy(Qt::StrongFocus);		//设置焦点策略
ui.verifyLineEdit-&gt;setMaxLength(10);					//设置最大输入长度
ui.verifyLineEdit-&gt;setPlaceholderText(QStringLiteral("请输入验证码"));//静态提示信息

//QLineEdit输入内容的限制
QIntValidator *pValid = new QIntValidator(100, 999, this);//创建整型效验器对象，参数1和参数2指定检查整数的范围
ui.verifyLineEdit-&gt;setValidator(pValid);</code></pre> 
<p class="img-center"><img alt="" height="162" src="https://images2.imgbox.com/c1/16/nZ4QhE6m_o.png" width="415"></p> 
<h5> 1、对输入的内容进行限制</h5> 
<blockquote> 
 <p>正则表达式：<br>     是一种文本模式，包含普通字符和特殊字符，它使用单个字符串来描述、匹配一系列满足某个语法规则的字符串，通常用来检索替换那些符合某个规则的文本。<br>      正则表达式由表达式、量词和断言组成。最简单的一个表达式就是一个字符，例如x和5[ABC]可以匹配一个A或一个B或一个C，也可以简写成[A-C]<br>      量词：一个量词指定了必须要匹配的表达式出现的次数，例如x{1,1}表示只能匹配一个x，前面的1表示最少包含一个x，后面的1表示最多包含1个x<br>       断言：如果想匹配整个字符串，需要使用断言^和$，^表示从字符串的开始匹配，$表示一直匹配到末尾<br>       例如：写一个正则表达式匹配到0-99之间的整数，靠头和结尾都是数字    ^[0-9]{1,2}$<br> []表示范围（闭区间）<br> {}表示量词的最少和最多<br> ()表示从几项里面选择一项，多项间用 | 分割</p> 
 <p>表格1：正则表达式中的字符<br> 一般可以使用一些特殊的符号表示常见的字符和常量<br> c字符本身    \c表示字符（a-z A-Z)    \d表示数字</p> 
</blockquote> 
<pre><code class="language-cpp">//创建正则表达式
QRegularExpression regl("[0-9.-]+");

//创建正则表达式验证器对象
QRegularExpressionValidator *pValidator = new QRegularExpressionValidator(this);

//把验证器对象指定正则表达式
pValidator-&gt;setRegularExpression(regl);

//验证器对象设置给LineEdit控件
ui.verifyLineEdit-&gt;setValidator(pValidator);</code></pre> 
<h5>2、 输入内容的对其方式</h5> 
<pre><code class="language-cpp">ui.passwordLineEdit-&gt;setAlignment(Qt::AlignHCenter | Qt::AlignVCenter);//水平垂直方向都居中</code></pre> 
<p></p> 
<p class="img-center"><img alt="" height="88" src="https://images2.imgbox.com/97/57/SI5nFzUn_o.png" width="448"></p> 
<h5>3、头部或尾部添加图标</h5> 
<pre><code class="language-cpp">QAction * userNameAction = new QAction(ui.userNameLineEdit);
userNameAction-&gt;setIcon(icon2);//icon2地址
ui.userNameLineEdit-&gt;addAction(userNameAction, QLineEdit::TrailingPosition);//tail</code></pre> 
<p class="img-center"><img alt="" height="52" src="https://images2.imgbox.com/ee/f8/GGwrwVhz_o.png" width="402"></p> 
<h5> 4、自动补全</h5> 
<pre><code class="language-cpp">    //自动补全内容
    QStringList strList;
	strList &lt;&lt; "Qt" &lt;&lt; "Qt Assistant" &lt;&lt; "Qt designer";

    //QCompleter：自动补全输入类
	QCompleter *com = new QCompleter(strList, this);

	//设置补全器大小写不敏感
	com-&gt;setCaseSensitivity(Qt::CaseInsensitive);

    //放入控件
	ui.userNameLineEdit-&gt;setCompleter(com);</code></pre> 
<p class="img-center"><img alt="" height="97" src="https://images2.imgbox.com/01/0e/DE0cBHEb_o.png" width="332"></p> 
<h5>5、常用信号</h5> 
<blockquote> 
 <p>1、editingFinished 当单行文本编辑器失去焦点时发出该信号<br> 2、textChanged    当行文本编辑框中为文本发生变化时，发出该信号，它与textEdited的区别是，通过代码（setText（））改变文本时也会发出该信号<br> 3、textEdited当文本编辑器被编辑时发出该信号，通过代码（setText（）)编辑文本时不会发出该信号</p> 
</blockquote> 
<h4>3、文本块编辑器 </h4> 
<blockquote> 
 <p>QTextEdit：可以输入多行文本内容，可以显示图像、列表和表格等文本内容</p> 
 <p>常用方法：<br>        1、设置文本 setPlainText()    设置文本前会将之前的文本内容清空<br>        2、追加设置文本 insertPlainText（）之前文本会保留<br>        3、获取文本内容    toPlainText（）<br>        4、当文本内容较多时，可以自动出现水平或垂直滚动条<br>        5、改变文本块控间的背景色，还可以添加背景图片</p> 
</blockquote> 
<pre><code class="language-cpp">    QString strPath = "D:\\cccccc\\QtApp\\ButtonsWidget06\\image\\1.png";
	//获取TextEdit的调色板（可以改变控件的背景色或设置图片）
	QPalette pal = ui.textEdit-&gt;palette();
	//设置调色板画刷
	//创建Qpixmap对象，调整Qpixmap的大小
	pal.setBrush(QPalette::Base, QPixmap(strPath).scaled(ui.textEdit-&gt;size()));
	ui.textEdit-&gt;setAutoFillBackground(true);//允许用户设置背景
	//将调色板设置给TextEdit
	ui.textEdit-&gt;setPalette(pal);

    //设置文本
    void ButtonsWidget06::on_appendButton_clicked()
    {
	    //setPlainText() 每次设置，之前文本都会清空
	    //insertPlainText() 尾部追加
	    ui.textEdit-&gt;insertPlainText(QStringLiteral("红红火火恍恍惚惚哈哈哈哈哈哈哈哈哈"));
    }

    //获取文本
    void ButtonsWidget06::on_getButton_clicked()
    {
	    QString strText = ui.textEdit-&gt;toPlainText();
	    QMessageBox::information(nullptr, "text", strText);
    }
    
    void ButtonsWidget06::on_textEdit_textChanged()
    {
	    //移动光标：每次插入文本后，自动将光标移动到末尾
	    ui.textEdit-&gt;moveCursor(QTextCursor::End);
    }</code></pre> 
<p class="img-center"><img alt="" height="270" src="https://images2.imgbox.com/59/17/uRqa6akJ_o.png" width="841"></p> 
<h4> 4、日期时间编辑器控件</h4> 
<blockquote> 
 <p>QDateEdit、QTimeEdit、QDateTimeEdit</p> 
 <p>1、日期时间对象和字符类型的转换<br> 2、信号：dateChanged(const QDate &amp;date)、 dateTimeChanged(const QDateTime &amp;datetime) 、timeChanged(const QTime &amp;time)当日期时间发生改变时发射该信号<br> editingFinished  当控件失去焦点时发射信息</p> 
</blockquote> 
<pre><code class="language-cpp">//设置时间  
void ButtonsWidget06::on_timeButton_clicked()
{
	QString timeStr = ui.timeLineEdit-&gt;text();
	//去除字符串两边空格
	timeStr.trimmed();
	//字符串转为时间格式，赋值给timeEdit
	ui.timeEdit-&gt;setTime(QTime::fromString(timeStr, "HH:mm:ss"));
}

//设置日期
void ButtonsWidget06::on_dateButton_clicked()
{
	QString dateStr = ui.dateLineEdit-&gt;text();
	//去除字符串两边空格
	dateStr.trimmed();
	//字符串转为时间格式，赋值给timeEdit
	ui.dateEdit-&gt;setDate(QDate::fromString(dateStr, "yyyy/MM/dd"));
}

//设置时间日期
void ButtonsWidget06::on_dateTimeButton_clicked()
{
	QString dateTimeStr = ui.dateTimeLineEdit-&gt;text();
	//去除字符串两边空格
	dateTimeStr.trimmed();
	//字符串转为时间格式，赋值给timeEdit
	ui.dateTimeEdit-&gt;setDateTime(QDateTime::fromString(dateTimeStr, "yyyy/MM/dd HH:mm:ss"));
}

//获取时间日期
void ButtonsWidget06::on_getDateTimeButton_clicked()
{
	//获取系统当前日期和时间
	QDateTime dateTime = QDateTime::currentDateTime();

	//设置时间
	//将时间对象设置到timeEdit上面
	ui.timeEdit-&gt;setTime(dateTime.time());
	//将时间对象转为字符串设置到QLineEdit上面
	ui.timeLineEdit-&gt;setText(dateTime.time().toString("HH:mm:ss"));

	//设置日期
	ui.dateEdit-&gt;setDate(dateTime.date());
	ui.dateLineEdit-&gt;setText(dateTime.date().toString("yyyy/MM/dd"));

	//设置日期时间
	ui.dateTimeEdit-&gt;setDateTime(dateTime);
	ui.dateTimeLineEdit-&gt;setText(dateTime.toString("yyyy/MM/dd HH:mm:ss"));
}

    //日期控件显示默认日历
	ui.dateEdit-&gt;setCalendarPopup(true);
	ui.dateTimeEdit-&gt;setCalendarPopup(true);</code></pre> 
<p class="img-center"><img alt="" height="245" src="https://images2.imgbox.com/1c/7f/l4YdSMf5_o.png" width="619"></p> 
<p></p> 
<p class="img-center"><img alt="" height="216" src="https://images2.imgbox.com/42/30/ZlNWOqwm_o.png" width="563"></p> 
<h4> 5、水平或竖直滚动条</h4> 
<blockquote> 
 <p>QScrollBark，一般不单独使用，常配合容器类控件一块使用</p> 
</blockquote> 
<p><img alt="" height="69" src="https://images2.imgbox.com/e5/bf/LZUJ4qxX_o.png" width="762"></p> 
<h4> 6、滑动条</h4> 
<blockquote> 
 <p>QSlider：</p> 
 <p>滑动条提供了水平和竖直两种，他是用于控制有界值的典型控件，它允许用户沿着在水平或竖直方向移动滑块，并将滑块所在的位置转换成一个合法范围的数值。<br> 常用函数：<br>        1、setRange() 用来设置滑动条的范围<br>        2、setValue() 可以设置滑块的当前值<br>        3、setMinimum 和setMaxImum()<br>        4、setTickPostion() 设置刻度在滑动条的上方还是下方<br>        5、setTickInterval（）设置刻度间隔</p> 
</blockquote> 
<pre><code class="language-cpp">    ui.horizontalSlider-&gt;setRange(0, 299);//设置范围
	ui.horizontalSlider-&gt;setTickPosition(QSlider::TicksAbove);//保存刻度位置
	ui.horizontalSlider-&gt;setTickInterval(30);//设置间隔
	ui.horizontalSlider-&gt;setValue(0);//设置默认值</code></pre> 
<p> 练习：用滑块控制颜色，用QSpinBox控制红色滑动条</p> 
<p class="img-center"><img alt="" height="255" src="https://images2.imgbox.com/49/ab/7iYMI7r3_o.png" width="496"></p> 
<p></p> 
<pre><code class="language-cpp">//设置滑动块范围
	ui.horizontalSliderRed-&gt;setRange(0, 255);
	ui.horizontalSliderGreen-&gt;setRange(0, 255);
	ui.horizontalSliderBlue-&gt;setRange(0, 255);
	//设置初始值
	ui.horizontalSliderRed-&gt;setValue(0);
	ui.horizontalSliderGreen-&gt;setValue(0);
	ui.horizontalSliderBlue-&gt;setValue(0);
	//设置间隔
	ui.horizontalSliderRed-&gt;setTickInterval(5);
	ui.horizontalSliderGreen-&gt;setTickInterval(5);
	ui.horizontalSliderBlue-&gt;setTickInterval(5);
	//关联滑动条
	connect(ui.horizontalSliderRed, &amp;QSlider::valueChanged, this, &amp;ScrollControlWidget::colorSliderValueChangeSlot);
	connect(ui.horizontalSliderGreen, &amp;QSlider::valueChanged, this, &amp;ScrollControlWidget::colorSliderValueChangeSlot);
	connect(ui.horizontalSliderBlue, &amp;QSlider::valueChanged, this, &amp;ScrollControlWidget::colorSliderValueChangeSlot);

void ScrollControlWidget::colorSliderValueChangeSlot()
{
	int nRel = ui.horizontalSliderRed-&gt;value();
	int nGreen = ui.horizontalSliderGreen-&gt;value();
	int nBule = ui.horizontalSliderBlue-&gt;value();
	//创建颜色对象
	QColor color(nRel, nGreen, nBule);
	//获取调色板
	QPalette pal = ui.textEdit-&gt;palette();
	//设置颜色
	pal.setColor(QPalette::Base, color);
	//调色板颜色赋值给QtextEdit
	ui.textEdit-&gt;setPalette(pal);
}</code></pre> 
<h4>7、旋转框 </h4> 
<blockquote> 
 <p>QSpinBox：</p> 
 <p>1、setSingLeStep 改变间隔</p> 
 <p>2、其他方法与QSlider方法名相同<br> 3、信号：valueChanged（int）或 valueChanged（QString）</p> 
</blockquote> 
<pre><code class="language-cpp">//将QSpinBox的范围设置为0-255,在其valueChange信号对应的槽函数中,获取界面值,设置到红色滑动条上
	ui.spinBox-&gt;setRange(0, 255);
	//ui.spinBox-&gt;setMaximum(100);//默认最大值
	//ui.spinBox-&gt;setMinimum(100);//默认最小值
	ui.spinBox-&gt;setSingleStep(20);</code></pre> 
<p></p> 
<p class="img-center"><img alt="" height="229" src="https://images2.imgbox.com/a0/ed/FuFQTJXS_o.png" width="487"></p> 
<h2> 三、显示类控件</h2> 
<h3>1、标签控件</h3> 
<blockquote> 
 <p>QLabel：用于显示文本或图片，适合显示信息量较小的内容，不能和用户进行交互操作</p> 
</blockquote> 
<h4> 1、显示文字</h4> 
<pre><code class="language-cpp">	ui.textLabel-&gt;setAlignment(Qt::AlignTop | Qt::AlignVCenter);//设置文本对齐方式
	ui.textLabel-&gt;setText(QStringLiteral("通常用于显示文本或图片，适合显示信息量较小的内容，不能和用户进行交互操作"));//设置label上的文本内容
	ui.textLabel-&gt;setWordWrap(true);//设置换行
	ui.textLabel-&gt;setFrameShape(QFrame::Box);
	ui.textLabel-&gt;setToolTip("wwwwwww");
	//参数1：字体组名称 参数2：字体大小 参数3：字体粗细
	QFont font("Microsoft YaHei", 12, 20);
	ui.textLabel-&gt;setFont(font);</code></pre> 
<p class="img-center"><img alt="" height="179" src="https://images2.imgbox.com/5b/78/JyRmr13H_o.png" width="262"></p> 
<h4> 2、显示gif动图</h4> 
<pre><code class="language-cpp">    //创建QMovie对象
	QMovie *pMovie = new QMovie(":/ButtonsWidget06/image/findelement.gif");
	ui.movieLabel-&gt;resize(400, 200);//图片大小
	ui.movieLabel-&gt;setScaledContents(true);//图片自适应
	ui.movieLabel-&gt;setMovie(pMovie);//设置动图
	pMovie-&gt;start();//开始播放</code></pre> 
<p class="img-center"><img alt="" height="218" src="https://images2.imgbox.com/1e/0a/Ty8sJHv4_o.png" width="447"></p> 
<h4> 3、显示图片</h4> 
<pre><code class="language-cpp">    QPixmap image;
	image.load(":/ButtonsWidget06/image/pic3.jpg");//设置图片路径
	ui.ImageLabel-&gt;setPixmap(image);//添加图片
	ui.ImageLabel-&gt;setScaledContents(true);//设置图片自适应</code></pre> 
<p class="img-center"><img alt="" height="151" src="https://images2.imgbox.com/ee/28/oQJiULKT_o.png" width="141"></p> 
<h3> 2、进度条</h3> 
<pre><code class="language-cpp">    ui.progressBar-&gt;setMinimum(0);
	ui.progressBar-&gt;setMaximum(0);</code></pre> 
<div class="img-center"> 
 <figure class="image"> 
  <img alt="" height="129" src="https://images2.imgbox.com/56/6b/dWSKPEZp_o.png" width="214"> 
  <figcaption>
    繁忙指示 
  </figcaption> 
 </figure> 
</div> 
<h2 style="background-color:transparent;"> 四、容器类控件</h2> 
<blockquote> 
 <p>容器类控件：可以放置其他控件的控件<br>     1、分组框QGroupBox：通常带有一个边框和标题栏，作为容器部件来使用，在其中可以放各种窗口部件<br>     2、QScrollArea自动滚动区<br>         它使一个容器控件，其中可以放置各种控件，当控件超出其显示范围时，可以通过滚动条来查看子控件。<span style="color:#fe2c24;"><strong>注意：外面控件的大小小于里面控件的大小才会出现滚动条</strong></span><br>     3、QToolBox选项卡控件（抽屉控件）<br>         它有一组选项卡，每个选项卡下有一个Qwidget控件，我们将子控件放到Qwidget上面<br>         每一个page都有一个索引位置下标，下标从0开始，多个page有顺序的，默认按照添加顺序排布<br>         每个page都有ItemText，还可以设置ItemIcon、itemToolTip等<br>         常用方法：<br>             1、setItemText（）设置选项卡的文本<br>             2、setItemIcon（）设置图标<br>             3、count（）获取数目：有几个page<br>             4、setItemEnbled（）将某个选项卡禁能<br>             5、addItem（）添加选项卡</p> 
</blockquote> 
<h3>1、分组框 </h3> 
<p class="img-center"><img alt="" height="380" src="https://images2.imgbox.com/d2/ba/eC0c6cDe_o.png" width="363"></p> 
<h3 style="background-color:transparent;">2、选项卡控件</h3> 
<p class="img-center"><img alt="" height="300" src="https://images2.imgbox.com/f4/f2/uhymr0A9_o.png" width="397"></p> 
<p></p> 
<pre><code class="language-cpp">    //QToolBox
	int count = ui.toolBox-&gt;count();
	qDebug() &lt;&lt; count;
	//设置工具箱中index位置选项卡的标题
	ui.toolBox-&gt;setItemText(0, QStringLiteral("小学"));
	ui.toolBox-&gt;setItemText(1, QStringLiteral("初中"));
	ui.toolBox-&gt;setItemText(2, QStringLiteral("高中"));

	//在工具箱的指定位置添加一个选项卡
	ui.toolBox-&gt;insertItem(3, new QPushButton,QStringLiteral("大学"));
	//给工具箱尾部添加一个选项卡
	ui.toolBox-&gt;addItem(new QWidget, QStringLiteral("E"));

	//给工具箱尾部添加一个带图标的选项卡
	QIcon icon(":/ButtonsWidget06/image/1.png");//图标路径
	ui.toolBox-&gt;addItem(new QWidget, icon, QStringLiteral("F"));
	//移除工具箱中索引index位置对应的选项卡, 注意: 小部件没有被删除
	//ui.toolBox-&gt;removeItem(5);
	//设置索引index位置的选项卡是否可用, 参数 enabled=true为可用, enabled=false为禁用
	ui.toolBox-&gt;setItemEnabled(4, false);
	//设置工具箱中index位置选项卡的图标
	ui.toolBox-&gt;setItemIcon(0, QIcon(":/ButtonsWidget06/image/2.png"));
	//设置工具箱中index位置选项卡的提示信息(需要鼠标在选项卡上悬停一定时长才能显示)
	ui.toolBox-&gt;setItemToolTip(2,QStringLiteral("俺也不知道"));
	//如果位置索引的项已启用，则返回true;否则返回false。
	qDebug()&lt;&lt;ui.toolBox-&gt;isItemEnabled(0);
	// 返回位置索引处项目的图标，如果索引超出范围，则返回空图标。
	qDebug() &lt;&lt; QIcon(ui.toolBox-&gt;itemIcon(0));
	// 返回工具箱中包含的项的数量。
	qDebug() &lt;&lt; ui.toolBox-&gt;count();</code></pre> 
<h2 style="background-color:transparent;">五、项目控件</h2> 
<p class="img-center"><img alt="" height="106" src="https://images2.imgbox.com/22/13/JnWky1s7_o.png" width="252"></p> 
<blockquote> 
 <ul><li><code>List Widget</code>：列表控件</li><li><code>Tree Widget</code>：树形控件</li><li><code>Table Widget</code>：表格控件</li></ul> 
 <p>Qt中用于项处理的组件有两类：</p> 
 <p>    一类是ItemViews，包扩QListView、QtreeView、QTableView和QColumnView等。<br>     一类是Item Widgets，包括QListWidget(项目列表）、QtreeWidget（多层次树）和QTableWidget（表格）<br>     前者基于模型/视图（Model/View），需要自己来建立模型保存数据，这样组织数据可以降低数据冗余，提高编程效率，但需要对模型视图有一点的了解。<br>     后者可以看作前者的升级版，它不需要我们自己去建模，他已经为我们建立了一个数据存储模型QListWidgetItem，我们可以通过addItem（）直接使用这个数据模型来添加数据。</p> 
</blockquote> 
<h3>1、列表控件</h3> 
<blockquote> 
 <p>QListWidget常用方法<br>     1、addItem（）添加<br>     2、insertItem（）插入<br>     3、item（）获取<br>     4、takeItem（）删除<br>     5、clear（）清空<br>     6、setAlternatingRow（）开启交替行颜色显示<br> 常用信号：<br>     1、currentItemChange    当前项改变时发出信号<br>     2、itemClicked    点击某些时发出</p> 
</blockquote> 
<p class="img-center"><img alt="" height="431" src="https://images2.imgbox.com/44/fb/FjjSE4PD_o.png" width="371"></p> 
<p>实现代码：</p> 
<pre><code class="language-cpp">	m_pMenu = new QMenu(this);
	m_pAddAction = new QAction(QStringLiteral("添加"));
	m_pInsAction = new QAction(QStringLiteral("插入"));
	m_pClearAction = new QAction(QStringLiteral("清空"));
	m_pMenu-&gt;addAction(m_pAddAction);
	m_pMenu-&gt;addAction(m_pInsAction);
	m_pMenu-&gt;addAction(m_pClearAction);

	connect(m_pAddAction, &amp;QAction::triggered, this, &amp;itemProgect07::on_pushButtonAdd_clicked);
	connect(m_pInsAction, &amp;QAction::triggered, this, &amp;itemProgect07::on_pushButtonIns_clicked);
	connect(m_pClearAction, &amp;QAction::triggered, this, &amp;itemProgect07::on_pushButtonClear_clicked);

	
	//单选按钮添加到按钮组中并关联槽函数
	m_pButtonGroup = new QButtonGroup(this);
	m_pButtonGroup-&gt;addButton(ui.iconRadioButton, 1);
	m_pButtonGroup-&gt;addButton(ui.listRadioButton, 0);
	connect(m_pButtonGroup, SIGNAL(buttonClicked(int)), this, SLOT(OnModeChangeSlot(int)));
	//设置QListWidget为列表模式
	ui.listWidget-&gt;setViewMode(QListView::ListMode);
	//初始打开界面，显示图标模式
	ui.listRadioButton-&gt;setChecked(true);
	ui.listWidget-&gt;setAlternatingRowColors(true);//行交替显示颜色

</code></pre> 
<p>绑定的槽函数：</p> 
<pre><code class="language-cpp">//添加某一行
void itemProgect07::on_pushButtonAdd_clicked()
{
	ui.listWidget-&gt;addItem(QStringLiteral("山西省"));
	//添加带图标的列表项
	QIcon icon(":/itemProgect07/image/1.png");
	QListWidgetItem *item = new QListWidgetItem(icon, QStringLiteral("河南省"));
	ui.listWidget-&gt;addItem(item);

	QListWidgetItem  *item2 = new QListWidgetItem(QIcon(":/itemProgect07/image/2.png"), QStringLiteral("广东省"));
	ui.listWidget-&gt;addItem(item2);

}

//插入某一行
void itemProgect07::on_pushButtonIns_clicked()
{
	QListWidgetItem  *item = new QListWidgetItem(QIcon(":/itemProgect07/image/3.png"), QStringLiteral("台湾省"));
	//默认获取第0行，如果用户没有点击某行，默认返回下标为0的行
	int row = ui.listWidget-&gt;currentRow();
	//在指定行nRow的上方插入一行
	ui.listWidget-&gt;insertItem(row, item);

}


//删除某一行
void itemProgect07::on_pushButtonDal_clicked()
{
	//方法一
	//获取当前行对象
	QListWidgetItem *item = ui.listWidget-&gt;currentItem();
	ui.listWidget-&gt;removeItemWidget(item);
	//需要手动释放item
	delete item;

	//方法二
	/*int row = ui.listWidget-&gt;currentRow();
	ui.listWidget-&gt;takeItem(row);*/
}

//清空
void itemProgect07::on_pushButtonClear_clicked()
{
	ui.listWidget-&gt;clear();
}

void itemProgect07::OnModeChangeSlot(int id)
{
	if (0 == id)
	{
		ui.listWidget-&gt;setViewMode(QListView::ListMode);
	}
	else {
		ui.listWidget-&gt;setViewMode(QListView::IconMode);
	}

}

//当前选中项
void itemProgect07::on_listWidget_itemClicked(QListWidgetItem * item)
{
	//获取文本
	QString strText = item-&gt;text();
	ui.lineEdit-&gt;setText(strText);

}

void itemProgect07::on_listWidget_customContextMenuRequested(const QPoint &amp; pos)
{
	//在鼠标光标出现的位置显示菜单
	m_pMenu-&gt;exec(QCursor::pos());
}</code></pre> 
<h3 style="background-color:transparent;">2、树形控件</h3> 
<blockquote> 
 <p>QTreeWidget的常用方法：<br>     1、setCheckState()<br>     2、childCount（）<br>     3、child（）<br>  信号：itemClicked</p> 
</blockquote> 
<p class="img-center"><img alt="" height="296" src="https://images2.imgbox.com/95/dd/tDJEg7kz_o.png" width="344"></p> 
<p> 实现代码：</p> 
<pre><code class="language-cpp">//树形控件
	ui.treeWidget-&gt;setHeaderHidden(true);//隐藏树形的表头
	QTreeWidgetItem *topItem1 = new QTreeWidgetItem(ui.treeWidget);
	topItem1-&gt;setText(0, QStringLiteral("阿里巴巴"));
	topItem1-&gt;setCheckState(0, Qt::Unchecked);//默认不选上
	ui.treeWidget-&gt;addTopLevelItem(topItem1);

	//创建研发部子节点
	QTreeWidgetItem *developItem = new QTreeWidgetItem(topItem1);
	developItem-&gt;setText(0, QStringLiteral("研发部"));
	developItem-&gt;setCheckState(0, Qt::Unchecked);//checked默认选上

	//研发一组
	QTreeWidgetItem *developOne = new QTreeWidgetItem(developItem);
	developOne-&gt;setText(0, QStringLiteral("研发一组"));
	developOne-&gt;setCheckState(0, Qt::Unchecked);
	//研发二组
	QTreeWidgetItem *developTwo = new QTreeWidgetItem(developItem);
	developTwo-&gt;setText(0, QStringLiteral("研发二组"));
	developTwo-&gt;setCheckState(0, Qt::Unchecked);

	//创建销售部
	QTreeWidgetItem *saleItem = new QTreeWidgetItem(topItem1);
	saleItem-&gt;setText(0, QStringLiteral("销售部"));
	saleItem-&gt;setCheckState(0, Qt::Unchecked);

	//销售一组
	QTreeWidgetItem *saleOne = new QTreeWidgetItem(saleItem);
	saleOne-&gt;setText(0, QStringLiteral("销售一组"));
	saleOne-&gt;setCheckState(0, Qt::Unchecked);

	//展开所有节点
	ui.treeWidget-&gt;expandAll();

	//点击某个父节点，其下索引子节点的勾选状态会变化
	connect(ui.treeWidget, &amp;QTreeWidget::itemClicked, this, &amp;itemProgect07::OnSelectAllItemSlot);</code></pre> 
<p>绑定槽函数：</p> 
<pre><code class="language-cpp">//父层勾选，其子层也勾选
void itemProgect07::OnSelectAllItemSlot(QTreeWidgetItem * item, int column)
{
	//获取子节点个数
	int size = item-&gt;childCount();
	for (int i = 0; i &lt; size; i++)
	{
		//获取子节点item
		QTreeWidgetItem *childItem = item-&gt;child(i);
		if (childItem == nullptr)
		{
			return;
		}
		int count = childItem-&gt;childCount();
		//item-&gt;checkState(0)：获取父节点的勾选状态，设置给子节点
		childItem-&gt;setCheckState(0, item-&gt;checkState(0));
		for (int j = 0; j &lt; count; j++)
		{
			QTreeWidgetItem *innerChild = childItem-&gt;child(j);
			if (nullptr != innerChild)
			{
				innerChild-&gt;setCheckState(0, childItem-&gt;checkState(0));
			}
		}
	}
}</code></pre> 
<h3>3、表格控件</h3> 
<blockquote> 
 <p>QTableWidget，是Qt中的表格组件，用于表示行列组成的二维表，表格一般有表头。<br> QTableWidget常用方法：<br>     1、setRowCount（）<br>     2、setColunmnCount（）<br>     3、setHorizontalHeaderItem（）<br>     4、setItem（）/item（）</p> 
</blockquote> 
<p> </p> 
<p class="img-center"><img alt="" height="695" src="https://images2.imgbox.com/99/41/cil6WWkv_o.png" width="599"></p> 
<pre><code class="language-cpp">
//初始化表头/标题
void itemProgect07::on_setHeadBtn_clicked()
{
	QStringList headList;
	headList &lt;&lt; QStringLiteral("姓名") &lt;&lt; QStringLiteral("性别") &lt;&lt; QStringLiteral("学号") &lt;&lt; QStringLiteral("年龄") &lt;&lt; QStringLiteral("年级");
	//设置表格列的数目
	ui.tableWidget-&gt;setColumnCount(headList.count());
	QTableWidgetItem *headItem;
	//获取表格中的列数:columnCount()
	for (int i = 0; i &lt; ui.tableWidget-&gt;columnCount(); i++)
	{
		headItem = new QTableWidgetItem(headList.at(i));
		QFont font = headItem-&gt;font();
		font.setBold(true);//字体加粗
		font.setPointSize(12);//颜色
		headItem-&gt;setTextColor(Qt::red);//字体颜色
		headItem-&gt;setFont(font);

		ui.tableWidget-&gt;setHorizontalHeaderItem(i, headItem);
	}
}

//初始化行数
void itemProgect07::on_setRowBtn_clicked()
{
	//设置表格的行数，设置10行，行号0-9
	ui.tableWidget-&gt;setRowCount(ui.spinBox-&gt;value());
	//设置交易行背景色
	ui.tableWidget-&gt;setAlternatingRowColors(true);
}

//初始化数据
void itemProgect07::on_initDataBtn_clicked()
{
	//姓名、性别、学号、年龄、年级
	QString strName, strGender, strNum, strAge, strGrade;
	ui.tableWidget-&gt;clearContents();//只清除数据，不清楚表头
	//行数
	int nRow = ui.tableWidget-&gt;rowCount();
	//行循环
	for (int i = 0; i &lt; nRow; i++)
	{
		if (i % 2 == 0)
		{
			strGender = QStringLiteral("女");
		}
		else
		{
			strGender = QStringLiteral("男");
		}
		//列循环
		for (int j = 0; j &lt; ui.tableWidget-&gt;columnCount(); j++)
		{
			//姓名
			if (j == 0)
			{
				//格式化字符串
				strName = QStringLiteral("学生%1哈哈").arg(i);
				//创建单元格
				QTableWidgetItem *itemName = new QTableWidgetItem(strName);
				//单元格内容添加到表格上面
				ui.tableWidget-&gt;setItem(i, j, itemName);
			}
			//性别
			if (j == 1) {
				//性别
				QTableWidgetItem *itemGender = new QTableWidgetItem(strGender);
				ui.tableWidget-&gt;setItem(i, j, itemGender);
			}
			//学号
			if (j == 2) {
				strNum = QString("202300%1%2").arg(i).arg(j);
				QTableWidgetItem *itemNum = new QTableWidgetItem(strNum);
				ui.tableWidget-&gt;setItem(i, j, itemNum);
			}
			//年龄
			if (j == 3) {
				strAge = QString::number(i + j);
				QTableWidgetItem *itemAge = new QTableWidgetItem(strAge);
				ui.tableWidget-&gt;setItem(i, j, itemAge);
			}
			//年级
			if (j == 4) {
				strGrade = QString::number(i + 1);
				QTableWidgetItem *itemGrade = new QTableWidgetItem(strGrade);
				ui.tableWidget-&gt;setItem(i, j, itemGrade);
			}
		}

	}
}

//插入行
void itemProgect07::on_insertRowBtn_clicked()
{
	int curRow = ui.tableWidget-&gt;currentRow();
	if (curRow == -1)
	{
		QMessageBox::information(nullptr, QStringLiteral("提示"), QStringLiteral("请先选择一行"));
		return;
	}
	ui.tableWidget-&gt;insertRow(curRow);
	for (int i = 0; i &lt; ui.tableWidget-&gt;columnCount(); i++)
	{
		QTableWidgetItem *item = new QTableWidgetItem("Insert");
		ui.tableWidget-&gt;setItem(curRow, i, item);
	}
}

//删除行
void itemProgect07::on_deleteRowBtn_clicked()
{
	int nRow = ui.tableWidget-&gt;currentRow();
	if (nRow == -1)
	{
		QMessageBox::information(nullptr, QStringLiteral("提示"), QStringLiteral("请先选择一行"));
		return;
	}
	ui.tableWidget-&gt;removeRow(nRow);


}

//调整行高
void itemProgect07::on_modifyHeigthBth_clicked()
{
	ui.tableWidget-&gt;resizeRowsToContents();
}

//调整列宽
void itemProgect07::on_modifyWidthBtn_clicked()
{
	ui.tableWidget-&gt;resizeColumnsToContents();
}

//读取数据
void itemProgect07::on_readDataBtn_clicked()
{
	QString strText;
	QTableWidgetItem *cellItem;
	ui.textEdit-&gt;clear();//清空文本块编辑器内容
	//逐行
	for (int i = 0; i &lt; ui.tableWidget-&gt;rowCount(); i++)
	{
		strText = QStringLiteral("第%1行：").arg(i+1);
		//逐列
		for (int j = 0; j &lt; ui.tableWidget-&gt;columnCount(); j++)
		{
			cellItem = ui.tableWidget-&gt;item(i, j);
			QString str = cellItem-&gt;text();
			//字符串拼接
			strText = strText + str +"  ";
		}
		strText += "\n";
		ui.textEdit-&gt;insertPlainText(strText);
	}
}</code></pre> 
<h2 style="background-color:transparent;"> 六、图形视图（了解）</h2> 
<blockquote> 
 <p>        Qt中和图形视图相关的类有三个：QGraphiocsView视图类、QGraphicsScene场景类、QGraphicsItem场景项<br>         前者的关系是场景项（直线、按钮、圆形、文本)    需要添加到场景类中，场景类需要添加到视图类中才能显示出来。<br>         这三个类通常用于二位或三维图形显示开发，能够快速显示万亿级别的视图。</p> 
</blockquote> 
<p><img alt="" height="472" src="https://images2.imgbox.com/9e/68/fLFvZkBh_o.png" width="868"></p> 
<p> </p> 
<pre><code class="language-cpp">#include&lt;QtWidgets/QApplication&gt;
#include &lt;QGraphicsView&gt;
#include &lt;QGraphicsScene&gt;
#include &lt;QGraphicsItem&gt;
#include &lt;QPushButton&gt;
#include &lt;QGraphicsEllipseItem&gt;

int main(int arg, char *argv[])
{
	QApplication a(arg, argv);
	//创建场景对象
	QGraphicsScene scene(-200, -200, 400, 400);
	//创建试图对象并将场景添加到试图中

	//方式一：QGraphicsScene提供的默认添加项的方法
	QGraphicsItem *item = scene.addText("Hello world", QFont("宋体", 12));
	//QPushButton *btn = new QPushButton("button");
	//scene.addWidget(btn);

	//方式二：自己创建对象，然后添加(灵活，可以自己调整位置）
	QGraphicsEllipseItem item1(0, 0,100,100);
	item1.setPos(50, 50);
	scene.addItem(&amp;item1);

	QGraphicsLineItem item2(0, 0, 150, 150);
	scene.addItem(&amp;item2);

    //展示两个窗口
	QGraphicsView view;
	view.setScene(&amp;scene);
	view.show();

	QGraphicsView view1;
	view1.setScene(&amp;scene);
	view1.show();
	return a.exec();
}</code></pre> 
<p></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/152c5aa12bfb357f62ff97edae60cf77/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Android Studio入门级教程（详细）【小白必看】[通俗易懂]</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/d7330e0c64dab40047db659c461536b1/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">python之列表推导式</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>