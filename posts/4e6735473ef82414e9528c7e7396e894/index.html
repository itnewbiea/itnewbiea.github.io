<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Docker基础指令 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Docker基础指令" />
<meta property="og:description" content="文章目录 Docker概述Docker为什么出现Docker的历史Docker的安装Docker的基本组成安装Docker卸载Docker阿里云镜像加速底层原理 Docker常用命令帮助命令镜像命令不知道命令，进行找命令的两种方法**docker images****docker search 搜索镜像****docker pull** 下载镜像docker rmi 删除镜像 容器命令新建容器并且启动查看所有运行的容器退出容器删除容器启动和停止容器的操作 常用其他命令**后台启动容器**查看日志查看容器中的进程信息查看镜像的元数据进入当前正在运行的容器从容器拷贝文件到主机上 小结作业练习Docker安装NginxDocker装Tomcat Docker概述 Docker为什么出现 解决问题：
1.在我的电脑上可以运行，但是到别人的电脑上就不能运行了
2.出现版本更新，导致服务不能用
3.环境配置麻烦，不是有的项目可能不支持跨平台
传统： 开发打jar包，运维来部署
现在：开发打包部署上线，一套流程做完
拿app应用商店距离
java -apk发布 ——用户使用apk ——安装即可以使用
java -jar(环境)—— docker：应用商店 ——直接运行即可用
docker思想:
dockere的思想来源于集装箱， 采用隔离思想，集装箱内物品有一个损坏，并不影响另外一个集装箱的物品
Docker的历史 2010年docker的前身dotCloud在美国成立了
dotCloud主要是基于PaaS(Platform as a Serivce),在PaaS平台，所有服务都应经配置好了，开发者只需要选择服务类型，上传代码，就可以对外服务，但是因为PaaS市场还在培育阶段，dotCloud表现的不温不火
Docker开源：
Docker为什么火，因为Docker比较小巧
虚拟机： 在windows装一个VMware，通过这个软件我们可以虚拟一台或者多台电脑，比较笨重
docker:使用隔离技术，采用镜像(最核心环境) 小巧
Docker开发
Docker使用go语言开发的
官网地址：https://www.docker.com/
文档地址：https://docs.docker.com/
容器化技术
Docker和传统虚拟机的区别
传统虚拟机： 虚拟一条硬件，运行完整的操作系统，然后在这个系统安装和运行软件容器直接运行宿主机的内容，容器没有内核，也没有我们虚拟的硬件，十分小巧容器之间相互隔离，容器都有一个属于自己的文件系统，互不影响 DevOps （开发 运维）
1.应用可以迅速交付和部署
传统：需要有很多帮助文档
Docker:直接打包镜像发布测试
2.更便捷的升级和扩容缩容
项目打包为一个镜像，直接部署到另外一个服务器
3.更简单的系统运维
4.更高效的资源利用
Docker的安装 Docker的基本组成 这里的镜像和容器的关系，就像Java里面的Class和对象的关系，我们根据镜像去生成容器
镜像(image):
docker镜像好比一个模板，我们通过这个模板进行容器创建，通过一个镜像可以创建多个容器" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/4e6735473ef82414e9528c7e7396e894/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-05-02T17:09:27+08:00" />
<meta property="article:modified_time" content="2022-05-02T17:09:27+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Docker基础指令</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#Docker_1" rel="nofollow">Docker概述</a></li><li><a href="#Docker_3" rel="nofollow">Docker为什么出现</a></li><li><a href="#Docker_27" rel="nofollow">Docker的历史</a></li><li><a href="#Docker_79" rel="nofollow">Docker的安装</a></li><li><ul><li><a href="#Docker_81" rel="nofollow">Docker的基本组成</a></li><li><a href="#Docker_103" rel="nofollow">安装Docker</a></li><li><a href="#Docker_246" rel="nofollow">卸载Docker</a></li><li><a href="#_257" rel="nofollow">阿里云镜像加速</a></li><li><a href="#_291" rel="nofollow">底层原理</a></li></ul> 
  </li><li><a href="#Docker_313" rel="nofollow">Docker常用命令</a></li><li><ul><li><a href="#_315" rel="nofollow">帮助命令</a></li><li><a href="#_325" rel="nofollow">镜像命令</a></li><li><ul><li><a href="#_327" rel="nofollow">不知道命令，进行找命令的两种方法</a></li><li><a href="#docker_images_333" rel="nofollow">**docker images**</a></li><li><a href="#docker_search__359" rel="nofollow">**docker search 搜索镜像**</a></li><li><a href="#docker_pull___375" rel="nofollow">**docker pull** 下载镜像</a></li><li><a href="#docker_rmi___403" rel="nofollow">docker rmi 删除镜像</a></li></ul> 
   </li><li><a href="#_413" rel="nofollow">容器命令</a></li><li><ul><li><a href="#_421" rel="nofollow">新建容器并且启动</a></li><li><a href="#_443" rel="nofollow">查看所有运行的容器</a></li><li><a href="#_463" rel="nofollow">退出容器</a></li><li><a href="#_478" rel="nofollow">删除容器</a></li><li><a href="#_486" rel="nofollow">启动和停止容器的操作</a></li></ul> 
   </li><li><a href="#_512" rel="nofollow">常用其他命令</a></li><li><ul><li><a href="#_514" rel="nofollow">**后台启动容器**</a></li><li><a href="#_522" rel="nofollow">查看日志</a></li><li><a href="#_554" rel="nofollow">查看容器中的进程信息</a></li><li><a href="#_563" rel="nofollow">查看镜像的元数据</a></li><li><a href="#_772" rel="nofollow">进入当前正在运行的容器</a></li><li><a href="#_787" rel="nofollow">从容器拷贝文件到主机上</a></li></ul> 
   </li><li><a href="#_826" rel="nofollow">小结</a></li><li><a href="#_854" rel="nofollow">作业练习</a></li><li><ul><li><a href="#DockerNginx_856" rel="nofollow">Docker安装Nginx</a></li><li><a href="#DockerTomcat_919" rel="nofollow">Docker装Tomcat</a></li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="Docker_1"></a>Docker概述</h2> 
<h2><a id="Docker_3"></a>Docker为什么出现</h2> 
<p><strong>解决问题：</strong></p> 
<p>1.在我的电脑上可以运行，但是到别人的电脑上就不能运行了</p> 
<p>2.出现版本更新，导致服务不能用</p> 
<p>3.环境配置麻烦，不是有的项目可能不支持跨平台</p> 
<p>传统： 开发打jar包，运维来部署</p> 
<p>现在：开发打包部署上线，一套流程做完</p> 
<p>拿app应用商店距离</p> 
<p>java -apk发布 ——用户使用apk ——安装即可以使用</p> 
<p>java -jar(环境)—— docker：应用商店 ——直接运行即可用</p> 
<p><strong>docker思想</strong>:</p> 
<p>dockere的思想来源于集装箱， 采用隔离思想，集装箱内物品有一个损坏，并不影响另外一个集装箱的物品</p> 
<h2><a id="Docker_27"></a>Docker的历史</h2> 
<p>2010年docker的前身<code>dotCloud</code>在美国成立了</p> 
<p>dotCloud主要是基于PaaS(Platform as a Serivce),在PaaS平台，所有服务都应经配置好了，开发者只需要选择服务类型，上传代码，就可以对外服务，但是因为PaaS市场还在培育阶段，<code>dotCloud</code>表现的不温不火</p> 
<p><code>Docker开源</code>：</p> 
<p>Docker为什么火，因为Docker比较小巧</p> 
<p>虚拟机： 在windows装一个VMware，通过这个软件我们可以虚拟一台或者多台电脑，比较笨重</p> 
<p>docker:使用隔离技术，采用镜像(最核心环境) 小巧</p> 
<blockquote> 
 <p>Docker开发</p> 
</blockquote> 
<p>Docker使用go语言开发的</p> 
<p><img src="https://images2.imgbox.com/1a/0e/5NoiI5tu_o.png" alt="在这里插入图片描述"></p> 
<p>官网地址：https://www.docker.com/</p> 
<p>文档地址：https://docs.docker.com/</p> 
<blockquote> 
 <p>容器化技术</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/2c/de/8cKWbTUK_o.png" alt="在这里插入图片描述"></p> 
<p>Docker和传统虚拟机的区别</p> 
<ul><li>传统虚拟机： 虚拟一条硬件，运行完整的操作系统，然后在这个系统安装和运行软件</li><li>容器直接运行宿主机的内容，容器没有内核，也没有我们虚拟的硬件，十分小巧</li><li>容器之间相互隔离，容器都有一个属于自己的文件系统，互不影响</li></ul> 
<blockquote> 
 <p>DevOps （开发 运维）</p> 
</blockquote> 
<p>1.<strong>应用可以迅速交付和部署</strong></p> 
<p>传统：需要有很多帮助文档</p> 
<p>Docker:直接打包镜像发布测试</p> 
<p>2.<strong>更便捷的升级和扩容缩容</strong></p> 
<p>项目打包为一个镜像，直接部署到另外一个服务器</p> 
<p>3.<strong>更简单的系统运维</strong></p> 
<p>4.<strong>更高效的资源利用</strong></p> 
<h2><a id="Docker_79"></a>Docker的安装</h2> 
<h3><a id="Docker_81"></a>Docker的基本组成</h3> 
<img src="https://images2.imgbox.com/5c/78/KmLveqbv_o.png" alt="img"> 
<p>这里的镜像和容器的关系，就像Java里面的Class和对象的关系，我们根据镜像去生成容器</p> 
<p><strong>镜像(image)</strong>:</p> 
<p>docker镜像好比一个模板，我们通过这个模板进行容器创建，通过一个镜像可以创建多个容器</p> 
<p><strong>容器(container)</strong>:</p> 
<p>Docker通过容器技术，可以运行一个或一组应用</p> 
<p><strong>仓库(repository)</strong>:</p> 
<p>仓库：<strong>存放镜像的地方</strong></p> 
<p>仓库分为公有仓库和私有仓库‘’</p> 
<h3><a id="Docker_103"></a>安装Docker</h3> 
<blockquote> 
 <p>环境准备</p> 
</blockquote> 
<ol><li>Linux基础</li><li>CentOS 7</li><li>Xshell软件</li><li>购买一个服务器</li></ol> 
<blockquote> 
 <p>环境查看</p> 
</blockquote> 
<pre><code class="prism language-shell"><span class="token comment">#系统版本需要是3.10以上</span>
<span class="token punctuation">[</span>root@iZ2ze9103odozq16xbkmr6Z /<span class="token punctuation">]</span><span class="token comment"># uname -r</span>
<span class="token number">3.10</span>.0-1160.53.1.el7.x86_64
</code></pre> 
<pre><code class="prism language-shell"><span class="token comment">#系统的环境</span>
<span class="token punctuation">[</span>root@iZ2ze9103odozq16xbkmr6Z /<span class="token punctuation">]</span><span class="token comment"># cat /etc/os-release </span>
<span class="token assign-left variable">NAME</span><span class="token operator">=</span><span class="token string">"CentOS Linux"</span>
<span class="token assign-left variable">VERSION</span><span class="token operator">=</span><span class="token string">"7 (Core)"</span>
<span class="token assign-left variable">ID</span><span class="token operator">=</span><span class="token string">"centos"</span>
<span class="token assign-left variable">ID_LIKE</span><span class="token operator">=</span><span class="token string">"rhel fedora"</span>
<span class="token assign-left variable">VERSION_ID</span><span class="token operator">=</span><span class="token string">"7"</span>
<span class="token assign-left variable">PRETTY_NAME</span><span class="token operator">=</span><span class="token string">"CentOS Linux 7 (Core)"</span>
<span class="token assign-left variable">ANSI_COLOR</span><span class="token operator">=</span><span class="token string">"0;31"</span>
<span class="token assign-left variable">CPE_NAME</span><span class="token operator">=</span><span class="token string">"cpe:/o:centos:centos:7"</span>
<span class="token assign-left variable">HOME_URL</span><span class="token operator">=</span><span class="token string">"https://www.centos.org/"</span>
<span class="token assign-left variable">BUG_REPORT_URL</span><span class="token operator">=</span><span class="token string">"https://bugs.centos.org/"</span>

<span class="token assign-left variable">CENTOS_MANTISBT_PROJECT</span><span class="token operator">=</span><span class="token string">"CentOS-7"</span>
<span class="token assign-left variable">CENTOS_MANTISBT_PROJECT_VERSION</span><span class="token operator">=</span><span class="token string">"7"</span>
<span class="token assign-left variable">REDHAT_SUPPORT_PRODUCT</span><span class="token operator">=</span><span class="token string">"centos"</span>
<span class="token assign-left variable">REDHAT_SUPPORT_PRODUCT_VERSION</span><span class="token operator">=</span><span class="token string">"7"</span>
</code></pre> 
<blockquote> 
 <p>安装Docker</p> 
</blockquote> 
<p>看Docker的帮助文档</p> 
<pre><code class="prism language-shell"><span class="token comment">#1.删除旧版本的Docker</span>
yum remove <span class="token function">docker</span> <span class="token punctuation">\</span>
                  docker-client <span class="token punctuation">\</span>
                  docker-client-latest <span class="token punctuation">\</span>
                  docker-common <span class="token punctuation">\</span>
                  docker-latest <span class="token punctuation">\</span>
                  docker-latest-logrotate <span class="token punctuation">\</span>
                  docker-logrotate <span class="token punctuation">\</span>
                  docker-engine
                  
<span class="token comment">#2.添加需要安装包</span>
yum <span class="token function">install</span> -y yum-utils

<span class="token comment">#3.设置镜像仓库</span>
yum-config-manager <span class="token punctuation">\</span>
    --add-repo <span class="token punctuation">\</span>
    https://download.docker.com/linux/centos/docker-ce.repo
    <span class="token comment">#上面这个是国外的镜像，十分慢</span>
yum-config-manager <span class="token punctuation">\</span>
    --add-repo <span class="token punctuation">\</span>
    http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo  <span class="token comment">#推荐使用阿里云镜像</span>
    
<span class="token comment">#在第4步之前需要更新yum 的索引</span>
yum makecache fast
    
<span class="token comment">#4.安装docker相关的  docker-ce社区版 ee企业版</span>
yum <span class="token function">install</span> docker-ce docker-ce-cli containerd.io

<span class="token comment">#5.启动docker</span>
systemctl start <span class="token function">docker</span>
<span class="token comment">#6. 使用docker version查看是否安装成功下面是启动成功的标识</span>
<span class="token punctuation">[</span>root@iZ2ze9103odozq16xbkmr6Z /<span class="token punctuation">]</span><span class="token comment"># docker version</span>
Client: Docker Engine - Community
 Version:           <span class="token number">20.10</span>.14
 API version:       <span class="token number">1.41</span>
 Go version:        go1.16.15
 Git commit:        a224086
 Built:             Thu Mar <span class="token number">24</span> 01:49:57 <span class="token number">2022</span>
 OS/Arch:           linux/amd64
 Context:           default
 Experimental:      <span class="token boolean">true</span>

Server: Docker Engine - Community
 Engine:
  Version:          <span class="token number">20.10</span>.14
  API version:      <span class="token number">1.41</span> <span class="token punctuation">(</span>minimum version <span class="token number">1.12</span><span class="token punctuation">)</span>
  Go version:       go1.16.15
  Git commit:       87a90dc
  Built:            Thu Mar <span class="token number">24</span> 01:48:24 <span class="token number">2022</span>
  OS/Arch:          linux/amd64
  Experimental:     <span class="token boolean">false</span>
 containerd:
  Version:          <span class="token number">1.5</span>.11
  GitCommit:        3df54a852345ae127d1fa3092b95168e4a88e2f8
 runc:
  Version:          <span class="token number">1.0</span>.3
  GitCommit:        v1.0.3-0-gf46b6ba
 docker-init:
  Version:          <span class="token number">0.19</span>.0
  GitCommit:        de40ad0            
</code></pre> 
<pre><code class="prism language-shell"><span class="token comment">#7.docker run</span>
<span class="token function">docker</span> run hello-world
<span class="token punctuation">[</span>root@iZ2ze9103odozq16xbkmr6Z /<span class="token punctuation">]</span><span class="token comment"># docker run hello-world</span>
Unable to <span class="token function">find</span> image <span class="token string">'hello-world:latest'</span> locally
latest: Pulling from library/hello-world
2db29710123e: Pull complete 
Digest: sha256:10d7d58d5ebd2a652f4d93fdd86da8f265f5318c6a73cc5b6a9798ff6d2b2e67
Status: Downloaded newer image <span class="token keyword">for</span> hello-world:latest

Hello from Docker<span class="token operator">!</span>
This message shows that your installation appears to be working correctly.

To generate this message, Docker took the following steps:
 <span class="token number">1</span>. The Docker client contacted the Docker daemon.
 <span class="token number">2</span>. The Docker daemon pulled the <span class="token string">"hello-world"</span> image from the Docker Hub.
    <span class="token punctuation">(</span>amd64<span class="token punctuation">)</span>
 <span class="token number">3</span>. The Docker daemon created a new container from that image <span class="token function">which</span> runs the
    executable that produces the output you are currently reading.
 <span class="token number">4</span>. The Docker daemon streamed that output to the Docker client, <span class="token function">which</span> sent it
    to your terminal.

To try something <span class="token function">more</span> ambitious, you can run an Ubuntu container with:
 $ <span class="token function">docker</span> run -it ubuntu <span class="token function">bash</span>

Share images, automate workflows, and <span class="token function">more</span> with a <span class="token function">free</span> Docker ID:
 https://hub.docker.com/

For <span class="token function">more</span> examples and ideas, visit:
 https://docs.docker.com/get-started/
<span class="token comment">#8.查看下载的hello-world镜像</span>
<span class="token function">docker</span> images
<span class="token punctuation">[</span>root@iZ2ze9103odozq16xbkmr6Z /<span class="token punctuation">]</span><span class="token comment"># docker images</span>
REPOSITORY    TAG       IMAGE ID       CREATED        SIZE
hello-world   latest    feb5d9fea6a5   <span class="token number">7</span> months ago   <span class="token number">13</span>.3kB


</code></pre> 
<h3><a id="Docker_246"></a>卸载Docker</h3> 
<pre><code class="prism language-shell"><span class="token comment">#1.卸载运行依赖</span>
yum remove docker-ce docker-ce-cli contained.io
<span class="token comment">#2.删除Docker</span>
<span class="token function">rm</span> -rf /var/lib.docker  
<span class="token comment"># /var/lib/docker Docker的默认工作路径</span>

</code></pre> 
<h3><a id="_257"></a>阿里云镜像加速</h3> 
<p>1.找到阿里云镜像</p> 
<p><img src="https://images2.imgbox.com/d7/25/nokIOnv4_o.png" alt="在这里插入图片描述"></p> 
<p>2.找到镜像加速地址<br> <img src="https://images2.imgbox.com/ab/a0/ncLZ2ezT_o.png" alt="在这里插入图片描述"></p> 
<p>3.配置使用</p> 
<p><img src="https://images2.imgbox.com/0e/41/mr5oTFfx_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-shell"><span class="token function">sudo</span> <span class="token function">mkdir</span> -p /etc/docker

<span class="token function">sudo</span> <span class="token function">tee</span> /etc/docker/daemon.json <span class="token operator">&lt;&lt;-</span><span class="token string">'EOF'
{
  "registry-mirrors": ["https://6v8m03rx.mirror.aliyuncs.com"]
}
EOF</span>

<span class="token function">sudo</span> systemctl daemon-reload

<span class="token function">sudo</span> systemctl restart <span class="token function">docker</span>

</code></pre> 
<p><img src="https://images2.imgbox.com/66/e0/pLS6zb9O_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_291"></a>底层原理</h3> 
<p><strong>Docker如何工作</strong></p> 
<p>Docker是一个Server-Client结果系统，Docker的守护进程运行在主机上，通过Socket从客户端进行访问</p> 
<p>Docker Server收到Docker Client指令就会执行命令</p> 
<p><img src="https://images2.imgbox.com/3c/bb/8tTj0mFH_o.png" alt="在这里插入图片描述"></p> 
<p><strong>Docker为什么比VM快</strong></p> 
<p>1.Docker比虚拟机有更少的抽象层</p> 
<p>2.Docker用的是宿主机的内核，vm需要Guest OS</p> 
<p><img src="https://images2.imgbox.com/cf/fa/bWV14tk9_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/46/4a/vO4ugKum_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="Docker_313"></a>Docker常用命令</h2> 
<h3><a id="_315"></a>帮助命令</h3> 
<pre><code class="prism language-shell"><span class="token function">docker</span> version		<span class="token comment">#查看Docker的版本信息</span>
<span class="token function">docker</span> info 		<span class="token comment">#查看Docker的系统信息，包括镜像和容器的数量</span>
<span class="token function">docker</span> 命令 --help  <span class="token comment">#Docker的帮助命令</span>
</code></pre> 
<p>帮助文档的地址： https://docs.docker.com/reference/</p> 
<h3><a id="_325"></a>镜像命令</h3> 
<h4><a id="_327"></a>不知道命令，进行找命令的两种方法</h4> 
<p>1.去官方文档 找<strong>Reference</strong> 找到 <strong>Command-line Reference</strong></p> 
<p>2.直接docker+这个命令+ --help</p> 
<h4><a id="docker_images_333"></a><strong>docker images</strong></h4> 
<p>查看所有主机本地的镜像</p> 
<p><img src="https://images2.imgbox.com/78/5c/YmHxmajD_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-shell"><span class="token punctuation">[</span>root@iZ2ze9103odozq16xbkmr6Z /<span class="token punctuation">]</span><span class="token comment"># docker images -a</span>
REPOSITORY    TAG       IMAGE ID       CREATED        SIZE
hello-world   latest    feb5d9fea6a5   <span class="token number">7</span> months ago   <span class="token number">13</span>.3kB

<span class="token comment">#解释</span>
Repository  镜像的仓库源
TAG  		镜像的标签
IMAGEID		镜像的id
CREATED		镜像的创建时间
SIZE		镜像的大小

<span class="token comment">#可选项</span>
  -a, --all             <span class="token comment">#列出所有镜像</span>
  -q, --quiet           <span class="token comment">#只显示镜像的ID</span>
  

</code></pre> 
<h4><a id="docker_search__359"></a><strong>docker search 搜索镜像</strong></h4> 
<pre><code class="prism language-shell"><span class="token punctuation">[</span>root@iZ2ze9103odozq16xbkmr6Z /<span class="token punctuation">]</span><span class="token comment"># docker search mysql</span>
NAME                             DESCRIPTION                                     STARS     OFFICIAL   AUTOMATED
mysql                            MySQL is a widely used, open-source relation…   <span class="token number">12465</span>     <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>       
mariadb                          MariaDB Server is a high performing <span class="token function">open</span> sou…   <span class="token number">4801</span>      <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>  
<span class="token comment">#可选项 通过搜索来过滤</span>
--filter <span class="token comment">#进行过滤的操作</span>
<span class="token comment">#例如 --filter=STARS=3000会找所有STARS大于3000的操作</span>
<span class="token punctuation">[</span>root@iZ2ze9103odozq16xbkmr6Z /<span class="token punctuation">]</span><span class="token comment"># docker search mysql --filter=STARS=3000</span>
NAME      DESCRIPTION                                     STARS     OFFICIAL   AUTOMATED
mysql     MySQL is a widely used, open-source relation…   <span class="token number">12465</span>     <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>       
mariadb   MariaDB Server is a high performing <span class="token function">open</span> sou…   <span class="token number">4801</span>      <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>   
</code></pre> 
<h4><a id="docker_pull___375"></a><strong>docker pull</strong> 下载镜像</h4> 
<pre><code class="prism language-shell"><span class="token comment">#下载镜像 docker pull mysql 镜像名[:tag]</span>
<span class="token punctuation">[</span>root@iZ2ze9103odozq16xbkmr6Z /<span class="token punctuation">]</span><span class="token comment"># docker pull mysql  </span>
Using default tag: latest 		<span class="token comment">#如果不写tag就是最新版</span>
latest: Pulling from library/mysql	
72a69066d2fe: Pull complete 	<span class="token comment">#分层下载,docker image的核心</span>
93619dbc5b36: Pull complete 
99da31dd6142: Pull complete 
626033c43d70: Pull complete 
37d5d7efb64e: Pull complete 
ac563158d721: Pull complete 
d2ba16033dad: Pull complete 
688ba7d5c01a: Pull complete 
00e060b6d11d: Pull complete 
1c04857f594f: Pull complete 
4d7cfa90e6ea: Pull complete 
e0431212d27d: Pull complete 
Digest: sha256:e9027fe4d91c0153429607251656806cc784e914937271037f7738bd5b8e7709						<span class="token comment">#签名,防伪标志</span>
Status: Downloaded newer image <span class="token keyword">for</span> mysql:latest
docker.io/library/mysql:latest	<span class="token comment">#真实地址</span>

</code></pre> 
<p><img src="https://images2.imgbox.com/f7/2b/u2FGycGZ_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="docker_rmi___403"></a>docker rmi 删除镜像</h4> 
<pre><code class="prism language-shell"><span class="token function">docker</span> rmi -f  <span class="token comment">#删除所有镜像</span>
<span class="token function">docker</span> rmi -f + <span class="token function">id</span> <span class="token comment">#删除id为这个的镜像</span>
<span class="token function">docker</span> rmi -f <span class="token variable"><span class="token variable">$(</span><span class="token function">docker</span> images -aq<span class="token variable">)</span></span> <span class="token comment">#首先找出所有的镜像，然后一点一点进行递归删除</span>
<span class="token function">docker</span> <span class="token function">rm</span>  <span class="token comment">#这个是删除容器的命令</span>

</code></pre> 
<h3><a id="_413"></a>容器命令</h3> 
<p><strong>有了镜像才可以创建容器，镜像可以看做模板，容器可以看做根据模板创建的实体</strong></p> 
<pre><code class="prism language-shell"><span class="token function">docker</span> pull centos
</code></pre> 
<h4><a id="_421"></a>新建容器并且启动</h4> 
<pre><code class="prism language-shell"><span class="token function">docker</span> run <span class="token punctuation">[</span>可选参数<span class="token punctuation">]</span> image

<span class="token comment">#参数说明</span>
-
--name<span class="token operator">=</span><span class="token string">"Name"</span> <span class="token comment">#容器名字 tomcat01 tomcat02 用来区分容器</span>
-d 			  <span class="token comment">#后台方式运行</span>
-it 		  <span class="token comment">#交互方式运行，进入容器查看内容</span>
-p 			  <span class="token comment">#指定容器的端口运行 8080:8080</span>
	-p  ip:主机端口：容器端口
	-p  主机端口：容器端口（常用）
	-p	容器端口
	容器端口
-P 			  <span class="token comment">#随机指定端口运行</span>


<span class="token comment">#测试  启动并且进入容器</span>
<span class="token punctuation">[</span>root@iZ2ze9103odozq16xbkmr6Z /<span class="token punctuation">]</span><span class="token comment"># docker run -it  centos /bin/bash</span>
</code></pre> 
<h4><a id="_443"></a>查看所有运行的容器</h4> 
<pre><code class="prism language-shell"><span class="token comment">#docker ps 命令</span>
-a 	<span class="token comment">#查看历史运行过的容器</span>
-n<span class="token operator">=</span>?<span class="token comment">#显示最近n个创建的容器</span>
-q  <span class="token comment">#显示当前容器的编号 </span>

<span class="token comment">#docker ps 查看正在运行的容器</span>
<span class="token punctuation">[</span>root@iZ2ze9103odozq16xbkmr6Z /<span class="token punctuation">]</span><span class="token comment"># docker ps</span>
CONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES
<span class="token comment">#docker ps -a  查看已经运行过的容器</span>
<span class="token punctuation">[</span>root@iZ2ze9103odozq16xbkmr6Z /<span class="token punctuation">]</span><span class="token comment"># docker ps -a</span>
CONTAINER ID   IMAGE         COMMAND       CREATED         STATUS                       PORTS     NAMES
56adb477c1f6   centos        <span class="token string">"/bin/bash"</span>   <span class="token number">3</span> minutes ago   Exited <span class="token punctuation">(</span><span class="token number">130</span><span class="token punctuation">)</span> <span class="token number">2</span> minutes ago             nice_dijkstra
76d663de83c0   hello-world   <span class="token string">"/hello"</span>      <span class="token number">18</span> hours ago    Exited <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token number">18</span> hours ago                awesome_swanson
2ac516be86b1   hello-world   <span class="token string">"/hello"</span>      <span class="token number">39</span> hours ago    Exited <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token number">39</span> hours ago                optimistic_shannon

</code></pre> 
<h4><a id="_463"></a>退出容器</h4> 
<pre><code class="prism language-shell"><span class="token builtin class-name">exit</span> <span class="token comment">#直接容器停止并且退出</span>
Ctrl + P + Q <span class="token comment">#退出不关闭容器</span>
<span class="token punctuation">[</span>root@iZ2ze9103odozq16xbkmr6Z /<span class="token punctuation">]</span><span class="token comment"># docker run -it centos</span>
<span class="token punctuation">[</span>root@9318f4c7d61b /<span class="token punctuation">]</span><span class="token comment"># ls</span>
bin  dev  etc  home  lib  lib64  lost+found  media  mnt  opt  proc  root  run  sbin  srv  sys  tmp  usr  var
<span class="token punctuation">[</span>root@9318f4c7d61b /<span class="token punctuation">]</span>
<span class="token comment"># [root@iZ2ze9103odozq16xbkmr6Z /]# docker ps</span>
CONTAINER ID   IMAGE     COMMAND       CREATED          STATUS          PORTS     NAMES
9318f4c7d61b   centos    <span class="token string">"/bin/bash"</span>   <span class="token number">12</span> seconds ago   Up <span class="token number">11</span> seconds             focused_sammet

</code></pre> 
<h4><a id="_478"></a>删除容器</h4> 
<pre><code class="prism language-shell"><span class="token function">docker</span> <span class="token function">rm</span> 容器id 				<span class="token comment">#直接删除容器id，不能删除正在运行的容器</span>
<span class="token function">docker</span> <span class="token function">rm</span> -f <span class="token variable"><span class="token variable">$(</span><span class="token function">docker</span> <span class="token function">ps</span> -aq<span class="token variable">)</span></span> <span class="token comment">#删除所有的容器</span>
<span class="token function">docker</span> <span class="token function">ps</span> -aq<span class="token operator">|</span><span class="token function">xargs</span> <span class="token function">docker</span> <span class="token function">rm</span> <span class="token comment">#删除所有的容器</span>
</code></pre> 
<h4><a id="_486"></a>启动和停止容器的操作</h4> 
<pre><code class="prism language-shell"><span class="token function">docker</span> start 容器id 		<span class="token comment">#启动容器</span>
<span class="token function">docker</span> restart 容器id 	<span class="token comment">#重启容器</span>
<span class="token function">docker</span> stop 容器id 		<span class="token comment">#停止正在运行的容器</span>
<span class="token function">docker</span> <span class="token function">kill</span> 容器id 		<span class="token comment">#kill掉正在运行的容器</span>

<span class="token comment">#test</span>
<span class="token punctuation">[</span>root@iZ2ze9103odozq16xbkmr6Z /<span class="token punctuation">]</span><span class="token comment"># docker ps</span>
CONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES
<span class="token punctuation">[</span>root@iZ2ze9103odozq16xbkmr6Z /<span class="token punctuation">]</span><span class="token comment"># docker ps -a</span>
CONTAINER ID   IMAGE     COMMAND       CREATED          STATUS                      PORTS     NAMES
ae20d59eb6b2   centos    <span class="token string">"/bin/bash"</span>   <span class="token number">38</span> seconds ago   Exited <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token number">36</span> seconds ago             naughty_golick
<span class="token punctuation">[</span>root@iZ2ze9103odozq16xbkmr6Z /<span class="token punctuation">]</span><span class="token comment"># docker start ae20d59eb6b2</span>
ae20d59eb6b2
<span class="token punctuation">[</span>root@iZ2ze9103odozq16xbkmr6Z /<span class="token punctuation">]</span><span class="token comment"># docker ps</span>
CONTAINER ID   IMAGE     COMMAND       CREATED          STATUS         PORTS     NAMES
ae20d59eb6b2   centos    <span class="token string">"/bin/bash"</span>   <span class="token number">55</span> seconds ago   Up <span class="token number">3</span> seconds             naughty_golick
<span class="token punctuation">[</span>root@iZ2ze9103odozq16xbkmr6Z /<span class="token punctuation">]</span><span class="token comment"># docker stop ae20d59eb6b2</span>
ae20d59eb6b2
<span class="token punctuation">[</span>root@iZ2ze9103odozq16xbkmr6Z /<span class="token punctuation">]</span><span class="token comment"># docker ps</span>
CONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES

</code></pre> 
<h3><a id="_512"></a>常用其他命令</h3> 
<h4><a id="_514"></a><strong>后台启动容器</strong></h4> 
<pre><code class="prism language-shell">  <span class="token function">docker</span> run -d centos   
<span class="token comment"># docker ps 发现容器已经停止</span>
<span class="token comment"># 常见的坑，docker 容器后台进行必须有一个前台进程</span>
</code></pre> 
<h4><a id="_522"></a>查看日志</h4> 
<pre><code class="prism language-shell"><span class="token function">docker</span> logs -f -t --tail  <span class="token comment">#容器，没有日志</span>

<span class="token comment">#自己编写一个shell脚本</span>
<span class="token string">"while true; do echo  nydj; sleep 1; done"</span>
<span class="token punctuation">[</span>root@iZ2ze9103odozq16xbkmr6Z /<span class="token punctuation">]</span><span class="token comment"># docker run -d centos /bin/sh -c "while true;do echo nydj; sleep 1; done"</span>
4c8ec7c7ed776b4112b33a67c1533d5a6c38660aeaaa549ab478cc9c937837b0
<span class="token comment">#docker ps</span>
<span class="token punctuation">[</span>root@iZ2ze9103odozq16xbkmr6Z /<span class="token punctuation">]</span><span class="token comment"># docker ps</span>
CONTAINER ID   IMAGE     COMMAND                  CREATED         STATUS         PORTS     NAMES
4c8ec7c7ed77   centos    <span class="token string">"/bin/sh -c 'while t…"</span>   <span class="token number">6</span> seconds ago   Up <span class="token number">5</span> seconds             inspiring_robinson

<span class="token comment">#显示日志</span>
-tf <span class="token comment">#显示日志</span>
--tail number 显示的条数

<span class="token function">docker</span> logs -f -t --tail
<span class="token punctuation">[</span>root@iZ2ze9103odozq16xbkmr6Z /<span class="token punctuation">]</span><span class="token comment"># docker logs -tf --tail 10  4c8ec7c7ed77</span>
<span class="token number">2022</span>-04-26T01:46:01.423640053Z nydj
<span class="token number">2022</span>-04-26T01:46:02.425890496Z nydj
<span class="token number">2022</span>-04-26T01:46:03.428120406Z nydj
<span class="token number">2022</span>-04-26T01:46:04.430293653Z nydj
<span class="token number">2022</span>-04-26T01:46:05.432438622Z nydj
<span class="token number">2022</span>-04-26T01:46:06.434612956Z nydj
<span class="token number">2022</span>-04-26T01:46:07.436766806Z nydj
<span class="token number">2022</span>-04-26T01:46:08.438845567Z nydj


</code></pre> 
<h4><a id="_554"></a>查看容器中的进程信息</h4> 
<pre><code class="prism language-shell"><span class="token comment">#命令 docker top 容器id</span>
<span class="token punctuation">[</span>root@iZ2ze9103odozq16xbkmr6Z /<span class="token punctuation">]</span><span class="token comment"># docker top aa88ca71214e</span>
<span class="token environment constant">UID</span>                 PID                 <span class="token environment constant">PPID</span>                C                   STIME               TTY                 TIME                CMD
root                <span class="token number">5384</span>                <span class="token number">5364</span>                <span class="token number">0</span>                   09:51               pts/0               00:00:00            /bin/bash
</code></pre> 
<h4><a id="_563"></a>查看镜像的元数据</h4> 
<pre><code class="prism language-shell"><span class="token punctuation">[</span>root@iZ2ze9103odozq16xbkmr6Z /<span class="token punctuation">]</span><span class="token comment"># docker inspect   aa88ca71214e   #查看元数据</span>
<span class="token punctuation">[</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token string">"Id"</span><span class="token builtin class-name">:</span> <span class="token string">"aa88ca71214e1c00e965e3ba9cd89054e211230b61db987067b14635e7043f22"</span>,
        <span class="token string">"Created"</span><span class="token builtin class-name">:</span> <span class="token string">"2022-04-26T01:51:33.302882561Z"</span>,
        <span class="token string">"Path"</span><span class="token builtin class-name">:</span> <span class="token string">"/bin/bash"</span>,
        <span class="token string">"Args"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>,
        <span class="token string">"State"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{<!-- --></span>
            <span class="token string">"Status"</span><span class="token builtin class-name">:</span> <span class="token string">"running"</span>,
            <span class="token string">"Running"</span><span class="token builtin class-name">:</span> true,
            <span class="token string">"Paused"</span><span class="token builtin class-name">:</span> false,
            <span class="token string">"Restarting"</span><span class="token builtin class-name">:</span> false,
            <span class="token string">"OOMKilled"</span><span class="token builtin class-name">:</span> false,
            <span class="token string">"Dead"</span><span class="token builtin class-name">:</span> false,
            <span class="token string">"Pid"</span><span class="token builtin class-name">:</span> <span class="token number">5384</span>,
            <span class="token string">"ExitCode"</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
            <span class="token string">"Error"</span><span class="token builtin class-name">:</span> <span class="token string">""</span>,
            <span class="token string">"StartedAt"</span><span class="token builtin class-name">:</span> <span class="token string">"2022-04-26T01:51:33.591410753Z"</span>,
            <span class="token string">"FinishedAt"</span><span class="token builtin class-name">:</span> <span class="token string">"0001-01-01T00:00:00Z"</span>
        <span class="token punctuation">}</span>,
        <span class="token string">"Image"</span><span class="token builtin class-name">:</span> <span class="token string">"sha256:5d0da3dc976460b72c77d94c8a1ad043720b0416bfc16c52c45d4847e53fadb6"</span>,
        <span class="token string">"ResolvConfPath"</span><span class="token builtin class-name">:</span> <span class="token string">"/var/lib/docker/containers/aa88ca71214e1c00e965e3ba9cd89054e211230b61db987067b14635e7043f22/resolv.conf"</span>,
        <span class="token string">"HostnamePath"</span><span class="token builtin class-name">:</span> <span class="token string">"/var/lib/docker/containers/aa88ca71214e1c00e965e3ba9cd89054e211230b61db987067b14635e7043f22/hostname"</span>,
        <span class="token string">"HostsPath"</span><span class="token builtin class-name">:</span> <span class="token string">"/var/lib/docker/containers/aa88ca71214e1c00e965e3ba9cd89054e211230b61db987067b14635e7043f22/hosts"</span>,
        <span class="token string">"LogPath"</span><span class="token builtin class-name">:</span> <span class="token string">"/var/lib/docker/containers/aa88ca71214e1c00e965e3ba9cd89054e211230b61db987067b14635e7043f22/aa88ca71214e1c00e965e3ba9cd89054e211230b61db987067b14635e7043f22-json.log"</span>,
        <span class="token string">"Name"</span><span class="token builtin class-name">:</span> <span class="token string">"/trusting_elgamal"</span>,
        <span class="token string">"RestartCount"</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
        <span class="token string">"Driver"</span><span class="token builtin class-name">:</span> <span class="token string">"overlay2"</span>,
        <span class="token string">"Platform"</span><span class="token builtin class-name">:</span> <span class="token string">"linux"</span>,
        <span class="token string">"MountLabel"</span><span class="token builtin class-name">:</span> <span class="token string">""</span>,
        <span class="token string">"ProcessLabel"</span><span class="token builtin class-name">:</span> <span class="token string">""</span>,
        <span class="token string">"AppArmorProfile"</span><span class="token builtin class-name">:</span> <span class="token string">""</span>,
        <span class="token string">"ExecIDs"</span><span class="token builtin class-name">:</span> null,
        <span class="token string">"HostConfig"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{<!-- --></span>
            <span class="token string">"Binds"</span><span class="token builtin class-name">:</span> null,
            <span class="token string">"ContainerIDFile"</span><span class="token builtin class-name">:</span> <span class="token string">""</span>,
            <span class="token string">"LogConfig"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{<!-- --></span>
                <span class="token string">"Type"</span><span class="token builtin class-name">:</span> <span class="token string">"json-file"</span>,
                <span class="token string">"Config"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
            <span class="token punctuation">}</span>,
            <span class="token string">"NetworkMode"</span><span class="token builtin class-name">:</span> <span class="token string">"default"</span>,
            <span class="token string">"PortBindings"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>,
            <span class="token string">"RestartPolicy"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{<!-- --></span>
                <span class="token string">"Name"</span><span class="token builtin class-name">:</span> <span class="token string">"no"</span>,
                <span class="token string">"MaximumRetryCount"</span><span class="token builtin class-name">:</span> <span class="token number">0</span>
            <span class="token punctuation">}</span>,
            <span class="token string">"AutoRemove"</span><span class="token builtin class-name">:</span> false,
            <span class="token string">"VolumeDriver"</span><span class="token builtin class-name">:</span> <span class="token string">""</span>,
            <span class="token string">"VolumesFrom"</span><span class="token builtin class-name">:</span> null,
            <span class="token string">"CapAdd"</span><span class="token builtin class-name">:</span> null,
            <span class="token string">"CapDrop"</span><span class="token builtin class-name">:</span> null,
            <span class="token string">"CgroupnsMode"</span><span class="token builtin class-name">:</span> <span class="token string">"host"</span>,
            <span class="token string">"Dns"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>,
            <span class="token string">"DnsOptions"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>,
            <span class="token string">"DnsSearch"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>,
            <span class="token string">"ExtraHosts"</span><span class="token builtin class-name">:</span> null,
            <span class="token string">"GroupAdd"</span><span class="token builtin class-name">:</span> null,
            <span class="token string">"IpcMode"</span><span class="token builtin class-name">:</span> <span class="token string">"private"</span>,
            <span class="token string">"Cgroup"</span><span class="token builtin class-name">:</span> <span class="token string">""</span>,
            <span class="token string">"Links"</span><span class="token builtin class-name">:</span> null,
            <span class="token string">"OomScoreAdj"</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
            <span class="token string">"PidMode"</span><span class="token builtin class-name">:</span> <span class="token string">""</span>,
            <span class="token string">"Privileged"</span><span class="token builtin class-name">:</span> false,
            <span class="token string">"PublishAllPorts"</span><span class="token builtin class-name">:</span> false,
            <span class="token string">"ReadonlyRootfs"</span><span class="token builtin class-name">:</span> false,
            <span class="token string">"SecurityOpt"</span><span class="token builtin class-name">:</span> null,
            <span class="token string">"UTSMode"</span><span class="token builtin class-name">:</span> <span class="token string">""</span>,
            <span class="token string">"UsernsMode"</span><span class="token builtin class-name">:</span> <span class="token string">""</span>,
            <span class="token string">"ShmSize"</span><span class="token builtin class-name">:</span> <span class="token number">67108864</span>,
            <span class="token string">"Runtime"</span><span class="token builtin class-name">:</span> <span class="token string">"runc"</span>,
            <span class="token string">"ConsoleSize"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
                <span class="token number">0</span>,
                <span class="token number">0</span>
            <span class="token punctuation">]</span>,
            <span class="token string">"Isolation"</span><span class="token builtin class-name">:</span> <span class="token string">""</span>,
            <span class="token string">"CpuShares"</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
            <span class="token string">"Memory"</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
            <span class="token string">"NanoCpus"</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
            <span class="token string">"CgroupParent"</span><span class="token builtin class-name">:</span> <span class="token string">""</span>,
            <span class="token string">"BlkioWeight"</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
            <span class="token string">"BlkioWeightDevice"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>,
            <span class="token string">"BlkioDeviceReadBps"</span><span class="token builtin class-name">:</span> null,
            <span class="token string">"BlkioDeviceWriteBps"</span><span class="token builtin class-name">:</span> null,
            <span class="token string">"BlkioDeviceReadIOps"</span><span class="token builtin class-name">:</span> null,
            <span class="token string">"BlkioDeviceWriteIOps"</span><span class="token builtin class-name">:</span> null,
            <span class="token string">"CpuPeriod"</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
            <span class="token string">"CpuQuota"</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
            <span class="token string">"CpuRealtimePeriod"</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
            <span class="token string">"CpuRealtimeRuntime"</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
            <span class="token string">"CpusetCpus"</span><span class="token builtin class-name">:</span> <span class="token string">""</span>,
            <span class="token string">"CpusetMems"</span><span class="token builtin class-name">:</span> <span class="token string">""</span>,
            <span class="token string">"Devices"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>,
            <span class="token string">"DeviceCgroupRules"</span><span class="token builtin class-name">:</span> null,
            <span class="token string">"DeviceRequests"</span><span class="token builtin class-name">:</span> null,
            <span class="token string">"KernelMemory"</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
            <span class="token string">"KernelMemoryTCP"</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
            <span class="token string">"MemoryReservation"</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
            <span class="token string">"MemorySwap"</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
            <span class="token string">"MemorySwappiness"</span><span class="token builtin class-name">:</span> null,
            <span class="token string">"OomKillDisable"</span><span class="token builtin class-name">:</span> false,
            <span class="token string">"PidsLimit"</span><span class="token builtin class-name">:</span> null,
            <span class="token string">"Ulimits"</span><span class="token builtin class-name">:</span> null,
            <span class="token string">"CpuCount"</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
            <span class="token string">"CpuPercent"</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
            <span class="token string">"IOMaximumIOps"</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
            <span class="token string">"IOMaximumBandwidth"</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
            <span class="token string">"MaskedPaths"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
                <span class="token string">"/proc/asound"</span>,
                <span class="token string">"/proc/acpi"</span>,
                <span class="token string">"/proc/kcore"</span>,
                <span class="token string">"/proc/keys"</span>,
                <span class="token string">"/proc/latency_stats"</span>,
                <span class="token string">"/proc/timer_list"</span>,
                <span class="token string">"/proc/timer_stats"</span>,
                <span class="token string">"/proc/sched_debug"</span>,
                <span class="token string">"/proc/scsi"</span>,
                <span class="token string">"/sys/firmware"</span>
            <span class="token punctuation">]</span>,
            <span class="token string">"ReadonlyPaths"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
                <span class="token string">"/proc/bus"</span>,
                <span class="token string">"/proc/fs"</span>,
                <span class="token string">"/proc/irq"</span>,
                <span class="token string">"/proc/sys"</span>,
                <span class="token string">"/proc/sysrq-trigger"</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>,
        <span class="token string">"GraphDriver"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{<!-- --></span>
            <span class="token string">"Data"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{<!-- --></span>
                <span class="token string">"LowerDir"</span><span class="token builtin class-name">:</span> <span class="token string">"/var/lib/docker/overlay2/36d5c7c81555220dfefd6ea4f012c7d69160ba6f17f3e40bf578ac2a3c24fdd8-init/diff:/var/lib/docker/overlay2/4e237525b4ff033dd6a363c221e5d9532e9ecb226db8d1ca9b7e3f395a90fdbc/diff"</span>,
                <span class="token string">"MergedDir"</span><span class="token builtin class-name">:</span> <span class="token string">"/var/lib/docker/overlay2/36d5c7c81555220dfefd6ea4f012c7d69160ba6f17f3e40bf578ac2a3c24fdd8/merged"</span>,
                <span class="token string">"UpperDir"</span><span class="token builtin class-name">:</span> <span class="token string">"/var/lib/docker/overlay2/36d5c7c81555220dfefd6ea4f012c7d69160ba6f17f3e40bf578ac2a3c24fdd8/diff"</span>,
                <span class="token string">"WorkDir"</span><span class="token builtin class-name">:</span> <span class="token string">"/var/lib/docker/overlay2/36d5c7c81555220dfefd6ea4f012c7d69160ba6f17f3e40bf578ac2a3c24fdd8/work"</span>
            <span class="token punctuation">}</span>,
            <span class="token string">"Name"</span><span class="token builtin class-name">:</span> <span class="token string">"overlay2"</span>
        <span class="token punctuation">}</span>,
        <span class="token string">"Mounts"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>,
        <span class="token string">"Config"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{<!-- --></span>
            <span class="token string">"Hostname"</span><span class="token builtin class-name">:</span> <span class="token string">"aa88ca71214e"</span>,
            <span class="token string">"Domainname"</span><span class="token builtin class-name">:</span> <span class="token string">""</span>,
            <span class="token string">"User"</span><span class="token builtin class-name">:</span> <span class="token string">""</span>,
            <span class="token string">"AttachStdin"</span><span class="token builtin class-name">:</span> true,
            <span class="token string">"AttachStdout"</span><span class="token builtin class-name">:</span> true,
            <span class="token string">"AttachStderr"</span><span class="token builtin class-name">:</span> true,
            <span class="token string">"Tty"</span><span class="token builtin class-name">:</span> true,
            <span class="token string">"OpenStdin"</span><span class="token builtin class-name">:</span> true,
            <span class="token string">"StdinOnce"</span><span class="token builtin class-name">:</span> true,
            <span class="token string">"Env"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
                <span class="token string">"PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"</span>
            <span class="token punctuation">]</span>,
            <span class="token string">"Cmd"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
                <span class="token string">"/bin/bash"</span>
            <span class="token punctuation">]</span>,
            <span class="token string">"Image"</span><span class="token builtin class-name">:</span> <span class="token string">"centos"</span>,
            <span class="token string">"Volumes"</span><span class="token builtin class-name">:</span> null,
            <span class="token string">"WorkingDir"</span><span class="token builtin class-name">:</span> <span class="token string">""</span>,
            <span class="token string">"Entrypoint"</span><span class="token builtin class-name">:</span> null,
            <span class="token string">"OnBuild"</span><span class="token builtin class-name">:</span> null,
            <span class="token string">"Labels"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{<!-- --></span>
                <span class="token string">"org.label-schema.build-date"</span><span class="token builtin class-name">:</span> <span class="token string">"20210915"</span>,
                <span class="token string">"org.label-schema.license"</span><span class="token builtin class-name">:</span> <span class="token string">"GPLv2"</span>,
                <span class="token string">"org.label-schema.name"</span><span class="token builtin class-name">:</span> <span class="token string">"CentOS Base Image"</span>,
                <span class="token string">"org.label-schema.schema-version"</span><span class="token builtin class-name">:</span> <span class="token string">"1.0"</span>,
                <span class="token string">"org.label-schema.vendor"</span><span class="token builtin class-name">:</span> <span class="token string">"CentOS"</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>,
        <span class="token string">"NetworkSettings"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{<!-- --></span>
            <span class="token string">"Bridge"</span><span class="token builtin class-name">:</span> <span class="token string">""</span>,
            <span class="token string">"SandboxID"</span><span class="token builtin class-name">:</span> <span class="token string">"fc73bbd114b9394ed4158fe6c8eeb0994ed668d76714896652ab9d059f6a8e30"</span>,
            <span class="token string">"HairpinMode"</span><span class="token builtin class-name">:</span> false,
            <span class="token string">"LinkLocalIPv6Address"</span><span class="token builtin class-name">:</span> <span class="token string">""</span>,
            <span class="token string">"LinkLocalIPv6PrefixLen"</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
            <span class="token string">"Ports"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>,
            <span class="token string">"SandboxKey"</span><span class="token builtin class-name">:</span> <span class="token string">"/var/run/docker/netns/fc73bbd114b9"</span>,
            <span class="token string">"SecondaryIPAddresses"</span><span class="token builtin class-name">:</span> null,
            <span class="token string">"SecondaryIPv6Addresses"</span><span class="token builtin class-name">:</span> null,
            <span class="token string">"EndpointID"</span><span class="token builtin class-name">:</span> <span class="token string">"57a9a393bcec6b1916597c410ab5d202d1d27120d88730b30de9047fa7c3149f"</span>,
            <span class="token string">"Gateway"</span><span class="token builtin class-name">:</span> <span class="token string">"172.17.0.1"</span>,
            <span class="token string">"GlobalIPv6Address"</span><span class="token builtin class-name">:</span> <span class="token string">""</span>,
            <span class="token string">"GlobalIPv6PrefixLen"</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
            <span class="token string">"IPAddress"</span><span class="token builtin class-name">:</span> <span class="token string">"172.17.0.2"</span>,
            <span class="token string">"IPPrefixLen"</span><span class="token builtin class-name">:</span> <span class="token number">16</span>,
            <span class="token string">"IPv6Gateway"</span><span class="token builtin class-name">:</span> <span class="token string">""</span>,
            <span class="token string">"MacAddress"</span><span class="token builtin class-name">:</span> <span class="token string">"02:42:ac:11:00:02"</span>,
            <span class="token string">"Networks"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{<!-- --></span>
                <span class="token string">"bridge"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token string">"IPAMConfig"</span><span class="token builtin class-name">:</span> null,
                    <span class="token string">"Links"</span><span class="token builtin class-name">:</span> null,
                    <span class="token string">"Aliases"</span><span class="token builtin class-name">:</span> null,
                    <span class="token string">"NetworkID"</span><span class="token builtin class-name">:</span> <span class="token string">"2d2b2a45eba7af6d3cb90470329a48b29bdf199bca88641f77ea7926180b2c88"</span>,
                    <span class="token string">"EndpointID"</span><span class="token builtin class-name">:</span> <span class="token string">"57a9a393bcec6b1916597c410ab5d202d1d27120d88730b30de9047fa7c3149f"</span>,
                    <span class="token string">"Gateway"</span><span class="token builtin class-name">:</span> <span class="token string">"172.17.0.1"</span>,
                    <span class="token string">"IPAddress"</span><span class="token builtin class-name">:</span> <span class="token string">"172.17.0.2"</span>,
                    <span class="token string">"IPPrefixLen"</span><span class="token builtin class-name">:</span> <span class="token number">16</span>,
                    <span class="token string">"IPv6Gateway"</span><span class="token builtin class-name">:</span> <span class="token string">""</span>,
                    <span class="token string">"GlobalIPv6Address"</span><span class="token builtin class-name">:</span> <span class="token string">""</span>,
                    <span class="token string">"GlobalIPv6PrefixLen"</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
                    <span class="token string">"MacAddress"</span><span class="token builtin class-name">:</span> <span class="token string">"02:42:ac:11:00:02"</span>,
                    <span class="token string">"DriverOpts"</span><span class="token builtin class-name">:</span> null
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span>

</code></pre> 
<h4><a id="_772"></a>进入当前正在运行的容器</h4> 
<pre><code class="prism language-shell"><span class="token comment">#我们通常容器是使用后台方式运行的  需要进入容器 配置一些配置</span>

<span class="token comment">#命令</span>
<span class="token function">docker</span> <span class="token builtin class-name">exec</span> -it 容器id bashShell

<span class="token function">docker</span> attach  容器id

<span class="token comment">#docker exec  #进入容器后开启一个新的终端，可以在里面操作</span>

<span class="token comment">#docker attach #进入容器正在执行的终端不会开启新的进程</span>
</code></pre> 
<h4><a id="_787"></a>从容器拷贝文件到主机上</h4> 
<p><strong>注意：从容器中将文件拷贝到主机上</strong></p> 
<pre><code class="prism language-shell"><span class="token comment">#docker cp 容器id:容器内的路径 目的的主机路径</span>

<span class="token comment">#我下载个centos然后在里面进入 /home建立test.java文件，需要上传到docker容器外面的 /home文件夹</span>

<span class="token comment">#1.查看当前主机目录</span>
<span class="token punctuation">[</span>root@iZ2ze9103odozq16xbkmr6Z home<span class="token punctuation">]</span><span class="token comment"># docker ps</span>
CONTAINER ID   IMAGE     COMMAND       CREATED              STATUS              PORTS     NAMES
8cd44bada347   centos    <span class="token string">"/bin/bash"</span>   About a minute ago   Up About a minute             nostalgic_williamson

<span class="token comment">#2.进入docker容器内部</span>
<span class="token punctuation">[</span>root@iZ2ze9103odozq16xbkmr6Z home<span class="token punctuation">]</span><span class="token comment"># docker attach 8cd44bada347</span>
<span class="token punctuation">[</span>root@8cd44bada347 /<span class="token punctuation">]</span><span class="token comment"># cd /home</span>
<span class="token punctuation">[</span>root@8cd44bada347 home<span class="token punctuation">]</span><span class="token comment"># ls</span>

<span class="token comment">#3.在容器内部新建1一个文件</span>
<span class="token punctuation">[</span>root@8cd44bada347 home<span class="token punctuation">]</span><span class="token comment"># touch test.java</span>
<span class="token punctuation">[</span>root@8cd44bada347 home<span class="token punctuation">]</span><span class="token comment"># ls</span>
test.java
<span class="token punctuation">[</span>root@8cd44bada347 home<span class="token punctuation">]</span><span class="token comment"># exit</span>
<span class="token builtin class-name">exit</span>
<span class="token punctuation">[</span>root@iZ2ze9103odozq16xbkmr6Z home<span class="token punctuation">]</span><span class="token comment"># docker ps -a</span>
CONTAINER ID   IMAGE     COMMAND           CREATED         STATUS                     PORTS     NAMES
8cd44bada347   centos    <span class="token string">"/bin/bash"</span>       <span class="token number">2</span> minutes ago   Exited <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token number">7</span> seconds ago             nostalgic_williamson
732589cf7466   centos    <span class="token string">"-it /bin/bash"</span>   <span class="token number">2</span> minutes ago   Created                              practical_cartwright
<span class="token punctuation">[</span>root@iZ2ze9103odozq16xbkmr6Z home<span class="token punctuation">]</span><span class="token comment"># docker ps</span>
CONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES

<span class="token comment">#4.将这个文件从容器内部拷贝到容器外部</span>
<span class="token punctuation">[</span>root@iZ2ze9103odozq16xbkmr6Z home<span class="token punctuation">]</span><span class="token comment"># docker cp 8cd44bada347:/home/test.java /home</span>
<span class="token punctuation">[</span>root@iZ2ze9103odozq16xbkmr6Z home<span class="token punctuation">]</span><span class="token comment"># ls</span>
beifeng.java  test.java

</code></pre> 
<h3><a id="_826"></a>小结</h3> 
<p><img src="https://images2.imgbox.com/0f/c4/8f6vPYFL_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-shell">port  	  <span class="token comment"># 查看映射端口对应的容器内部源端口</span>
pause	  <span class="token comment"># 暂停容器</span>
<span class="token function">ps</span>        <span class="token comment"># 猎户容器列表</span>
pull      <span class="token comment"># 从docker镜像源服务器拉取指定镜像或者库镜像</span>
push      <span class="token comment"># 推送指定镜像或者库镜像至docker源服务器</span>
restart   <span class="token comment"># 重启运行的容器</span>
<span class="token function">rm</span>        <span class="token comment"># 移除一个或多个容器</span>
rmi       <span class="token comment"># 移除一个或多个镜像 （无容器使用该镜像才可删除，否则需要删除相关容器才可继续或 -f 强制删除）</span>
run       <span class="token comment"># 创建一个新的容器并运行一个命令</span>
save      <span class="token comment"># 保存一个镜像为一个 tar 包【对应 load】</span>
search    <span class="token comment"># 在 docker hub 中搜索镜像</span>
start     <span class="token comment"># 启动容器</span>
stop      <span class="token comment"># 停止容器</span>
tag       <span class="token comment"># 给源中镜像打标签</span>
<span class="token function">top</span>       <span class="token comment"># 查看容器中运行的进程信息</span>
unpause   <span class="token comment"># 取消暂停容器</span>
version   <span class="token comment"># 查看 docker版本号</span>
<span class="token function">wait</span>      <span class="token comment"># 截取容器停止时的退出状态值</span>
</code></pre> 
<h3><a id="_854"></a>作业练习</h3> 
<h4><a id="DockerNginx_856"></a>Docker安装Nginx</h4> 
<pre><code class="prism language-shell"><span class="token comment"># 1.搜索镜像   </span>
<span class="token function">docker</span> search nginx
<span class="token comment"># 2.下载镜像</span>
<span class="token function">docker</span> pull nginx

<span class="token comment">#3.运行镜像</span>
<span class="token punctuation">[</span>root@iZ2ze9103odozq16xbkmr6Z home<span class="token punctuation">]</span><span class="token comment"># docker images</span>
REPOSITORY    TAG       IMAGE ID       CREATED        SIZE
nginx         latest    605c77e624dd   <span class="token number">3</span> months ago   141MB
mysql         latest    3218b38490ce   <span class="token number">4</span> months ago   516MB
hello-world   latest    feb5d9fea6a5   <span class="token number">7</span> months ago   <span class="token number">13</span>.3kB
centos        latest    5d0da3dc9764   <span class="token number">7</span> months ago   231MB
<span class="token punctuation">[</span>root@iZ2ze9103odozq16xbkmr6Z home<span class="token punctuation">]</span><span class="token comment"># docker run -d --name:nginx1 -p3344:80 nginx</span>
unknown flag: --name:nginx1
See <span class="token string">'docker run --help'</span><span class="token builtin class-name">.</span>
<span class="token punctuation">[</span>root@iZ2ze9103odozq16xbkmr6Z home<span class="token punctuation">]</span><span class="token comment"># docker run -d --name nginx1 -p3344:80 nginx</span>
7781e736b2cf62288e25709c81e5d935e0a7c23dffcc9ac1894abe4262729e45
<span class="token punctuation">[</span>root@iZ2ze9103odozq16xbkmr6Z home<span class="token punctuation">]</span><span class="token comment"># docker ps</span>
CONTAINER ID   IMAGE     COMMAND                  CREATED         STATUS         PORTS                                   NAMES
7781e736b2cf   nginx     <span class="token string">"/docker-entrypoint.…"</span>   <span class="token number">4</span> seconds ago   Up <span class="token number">3</span> seconds   <span class="token number">0.0</span>.0.0:3344-<span class="token operator">&gt;</span><span class="token number">80</span>/tcp, :::3344-<span class="token operator">&gt;</span><span class="token number">80</span>/tcp   nginx1


<span class="token comment"># 4.测试</span>
<span class="token punctuation">[</span>root@iZ2ze9103odozq16xbkmr6Z home<span class="token punctuation">]</span><span class="token comment"># curl localhost:3344</span>
<span class="token operator">&lt;</span><span class="token operator">!</span>DOCTYPE html<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>html<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>head<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>title<span class="token operator">&gt;</span>Welcome to nginx<span class="token operator">!</span><span class="token operator">&lt;</span>/title<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>style<span class="token operator">&gt;</span>
html <span class="token punctuation">{<!-- --></span> color-scheme: light dark<span class="token punctuation">;</span> <span class="token punctuation">}</span>
body <span class="token punctuation">{<!-- --></span> width: 35em<span class="token punctuation">;</span> margin: <span class="token number">0</span> auto<span class="token punctuation">;</span>
font-family: Tahoma, Verdana, Arial, sans-serif<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token operator">&lt;</span>/style<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>/head<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>h<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span>Welcome to nginx<span class="token operator">!</span><span class="token operator">&lt;</span>/h<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span>
<span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>If you see this page, the nginx web server is successfully installed and
working. Further configuration is required.<span class="token operator">&lt;</span>/p<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>For online documentation and support please refer to
<span class="token operator">&lt;</span>a <span class="token assign-left variable">href</span><span class="token operator">=</span><span class="token string">"http://nginx.org/"</span><span class="token operator">&gt;</span>nginx.org<span class="token operator">&lt;</span>/a<span class="token operator">&gt;</span>.<span class="token operator">&lt;</span>br/<span class="token operator">&gt;</span>
Commercial support is available at
<span class="token operator">&lt;</span>a <span class="token assign-left variable">href</span><span class="token operator">=</span><span class="token string">"http://nginx.com/"</span><span class="token operator">&gt;</span>nginx.com<span class="token operator">&lt;</span>/a<span class="token operator">&gt;</span>.<span class="token operator">&lt;</span>/p<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token operator">&lt;</span>em<span class="token operator">&gt;</span>Thank you <span class="token keyword">for</span> using nginx.<span class="token operator">&lt;</span>/em<span class="token operator">&gt;</span><span class="token operator">&lt;</span>/p<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>/body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>/html<span class="token operator">&gt;</span>

<span class="token comment">#进入容器</span>
<span class="token punctuation">[</span>root@iZ2ze9103odozq16xbkmr6Z home<span class="token punctuation">]</span><span class="token comment"># docker exec -it nginx1 /bin/bash</span>
root@7781e736b2cf:/<span class="token comment"># whereis nginx</span>
nginx: /usr/sbin/nginx /usr/lib/nginx /etc/nginx /usr/share/nginx
root@7781e736b2cf:/<span class="token comment"># cd /etc/nginx</span>
root@7781e736b2cf:/etc/nginx<span class="token comment"># ls</span>
conf.d	fastcgi_params	mime.types  modules  nginx.conf  scgi_params  uwsgi_params
root@7781e736b2cf:/etc/nginx<span class="token comment"># </span>

</code></pre> 
<p><img src="https://images2.imgbox.com/02/17/AXY5ND82_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="DockerTomcat_919"></a>Docker装Tomcat</h4> 
<pre><code class="prism language-shell"><span class="token comment"># 官方使用 用完即删除</span>
<span class="token function">docker</span> run -it --rm tomcat:9.0  <span class="token comment">#该指令一般用作测试，用完之后就会删除</span>

<span class="token comment">#下载然后启动</span>
<span class="token function">docker</span> pull tomcat:9.0

<span class="token comment">#启动运行</span>
<span class="token function">docker</span> run -d -p <span class="token number">3355</span>:8080 -name tomcat1 tomcat

<span class="token comment"># -d 后台运行</span>
<span class="token comment"># -p 3355:8080 外部访问的3355端口和容器内部的8080端口做一个映射链接</span>
<span class="token comment"># -name指定名字为tomcat1而不是让他生成一个id</span>
<span class="token comment"># tomcat指的是运行tomcat镜像</span>

<span class="token comment">#测试访问没有问题</span>

<span class="token comment">#进入容器</span>
<span class="token punctuation">[</span>root@iZ2ze9103odozq16xbkmr6Z ~<span class="token punctuation">]</span><span class="token comment"># docker exec -it tomcat1 /bin/bash</span>
root@079f019540de:/usr/local/tomcat<span class="token comment"># ls</span>
BUILDING.txt	 LICENSE  README.md	 RUNNING.txt  conf  logs	    temp     webapps.dist
CONTRIBUTING.md  NOTICE   RELEASE-NOTES  bin	      lib   native-jni-lib  webapps  work
root@079f019540de:/usr/local/tomcat<span class="token comment"># ll</span>
bash: ll: <span class="token builtin class-name">command</span> not found
root@079f019540de:/usr/local/tomcat<span class="token comment"># cd webapps</span>
root@079f019540de:/usr/local/tomcat/webapps<span class="token comment"># ls</span>
root@079f019540de:/usr/local/tomcat/webapps<span class="token comment"># </span>
<span class="token comment"># 命令少了 而且没有webapps</span>
<span class="token comment"># 保证最小可运行环境</span>

<span class="token comment">#我们发现webapps需要的文件在webapps.dist目录下</span>
<span class="token comment">#我们做一次cp操作，将webapps.dist的文件粘贴到webapps目录下就可以</span>
root@079f019540de:/usr/local/tomcat<span class="token comment"># cp -r webapps.dist/* webapps</span>
root@079f019540de:/usr/local/tomcat<span class="token comment"># cd webapps</span>
root@079f019540de:/usr/local/tomcat/webapps<span class="token comment"># ls</span>
ROOT  docs  examples  host-manager  manager

</code></pre>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/a5902ae57715fc41dd2ad4b16fa003aa/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【编程之路（006）三子棋游戏】（C语言实现）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/5848c0d936975b18f530fd400101db3c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">第四单元 用python学习微积分（二十八）参数方程、弧长和表面积</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>