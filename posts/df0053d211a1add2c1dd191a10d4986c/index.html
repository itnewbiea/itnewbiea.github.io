<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>C#调用Java类的方法 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="C#调用Java类的方法" />
<meta property="og:description" content="个人感受 天下代码为我所用. 有时网上会有各种各样实现的代码，如Java，PHP，C&#43;&#43;, 开发的一种快速的境界便是拿来主义. 现在看看如何在C#中调用Java的方法吧。 总得来说，就是把Java的打包文件，变成Dll, 然后为 C#所用。 牛！ ================== C#调用Java类的方法 博客分类： 其它 C C&#43;&#43; C# Java Linq 一、将已经编译后的java中Class文件进行打包；打包命令JAR 如：将某目录下的所有class文件夹全部进行打包处理；
使用的命令：jar cvf test.jar -C com/ .
其中test.jar为要生成的jar包；com/ . 为指定的当前目录下的文件夹，该文件夹包括子文件夹及class文件；
二、到IKVM官方网站下载IKVM需要的组件 http://www.ikvm.net/ ikvm-0.42.0.3.zip ikvmbin-0.42.0.3.zip openjdk6-b16-stripped.zip 三、设置路径 解压ikvm-0.42.0.3.zip,并将%IKVM_HOME%\bin添加到path中。此处的%IKVM_HOME%是指解压后ikvm的主目录。
四、将java的jar包转换为.dll控件 使用的命令：ikvmc -out:IKVM.dll test.jar
其中IKVM.dll为将要生成的.dll控件文件名；test.jar为之前打包好的jar包文件。
五、在C#项目中添加所需的控件 1、新建一个C#.NET项目，首先添加一下必须的DLLs %IKVM_HOME%\bin\IKVM.OpenJDK.Core.dll %IKVM_HOME%\bin\IKVM.Runtime.dll %IKVM_HOME%\bin\IKVM.Runtime.JNI.dll 2、添加已生成的.dll文件
将之前生成好的.dll文件加载到C#项目中
六、测试 在C#项目中使用java类，其方法同java。但对包的引用使用C#的语法using
源代码： Java源代码： package com.zht;
//要调用的Java类 public class Test {
//要调用的Java方法 public String returnString() {
return &#34;Hello, zht!&#34;;
}
}" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/df0053d211a1add2c1dd191a10d4986c/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2011-08-19T16:35:58+08:00" />
<meta property="article:modified_time" content="2011-08-19T16:35:58+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">C#调用Java类的方法</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div class="blog_title"> 
 <h4>个人感受</h4> 
 <div>
   天下代码为我所用. 
 </div> 
 <div> 
  <br> 
 </div> 
 <div>
   有时网上会有各种各样实现的代码，如Java，PHP，C++,  
 </div> 
 <div>
   开发的一种快速的境界便是拿来主义. 
 </div> 
 <div> 
  <br> 
 </div> 
 <div>
   现在看看如何在C#中调用Java的方法吧。 
 </div> 
 <div>
   总得来说，就是把Java的打包文件，变成Dll, 
 </div> 
 <div>
   然后为 C#所用。 
 </div> 
 <div> 
  <br> 
 </div> 
 <div>
   牛！ 
 </div> 
 <h4>==================</h4> 
 <h4><a href="http://voole.iteye.com/blog/1097002" rel="nofollow">C#调用Java类的方法</a> <span class="actions" style="font-style:italic"> </span></h4> 
 <ul class="blog_categories"><li><strong>博客分类：</strong> 
  </li><li><a href="http://voole.iteye.com/category/73937" rel="nofollow">其它</a> </li></ul> 
 <div class="news_tag"> 
  <a href="http://www.iteye.com/blogs/tag/C">C</a> 
  <a href="http://www.iteye.com/blogs/tag/C++">C++</a> 
  <a href="http://www.iteye.com/blogs/tag/C%23">C#</a> 
  <a href="http://www.iteye.com/blogs/tag/Java">Java</a> 
  <a href="http://www.iteye.com/blogs/tag/Linq">Linq</a> 
 </div> 
</div> 
<div id="blog_content" class="blog_content"> 
 <p><strong>一、将已经编译后的java中Class文件进行打包；打包命令JAR</strong> </p> 
 <p>如：将某目录下的所有class文件夹全部进行打包处理；</p> 
 <p>使用的命令：jar cvf test.jar -C com/ .</p> 
 <p>其中test.jar为要生成的jar包；com/ . 为指定的当前目录下的文件夹，该文件夹包括子文件夹及class文件；</p> 
 <p><strong>二、到IKVM官方网站下载IKVM需要的组件  http://www.ikvm.net/</strong> </p> 
 <p>　　ikvm-0.42.0.3.zip </p> 
 <p>　　ikvmbin-0.42.0.3.zip </p> 
 <p>　　openjdk6-b16-stripped.zip </p> 
 <p><strong>三、设置路径</strong> </p> 
 <p>解压ikvm-0.42.0.3.zip,并将%IKVM_HOME%\bin添加到path中。此处的%IKVM_HOME%是指解压后ikvm的主目录。</p> 
 <p><strong>四、将java的jar包转换为.dll控件</strong> </p> 
 <p>使用的命令：ikvmc -out:IKVM.dll test.jar</p> 
 <p>其中IKVM.dll为将要生成的.dll控件文件名；test.jar为之前打包好的jar包文件。</p> 
 <p><strong>五、在C#项目中添加所需的控件</strong> </p> 
 <p>  1、新建一个C#.NET项目，首先添加一下必须的DLLs </p> 
 <p>　　%IKVM_HOME%\bin\IKVM.OpenJDK.Core.dll </p> 
 <p>　　%IKVM_HOME%\bin\IKVM.Runtime.dll </p> 
 <p>　　%IKVM_HOME%\bin\IKVM.Runtime.JNI.dll </p> 
 <p>  2、添加已生成的.dll文件</p> 
 <p>      将之前生成好的.dll文件加载到C#项目中</p> 
 <p><strong>六、测试</strong> </p> 
 <p>在C#项目中使用java类，其方法同java。但对包的引用使用C#的语法using</p> 
 <p> </p> 
 <p><strong>源代码：</strong> </p> 
 <p><strong>Java源代码：</strong> </p> 
 <p>package com.zht;<br> <span style="color:#ff0000">//要调用的Java类</span> <br> public class Test {<!-- --><br>    <span style="color:#ff0000">//要调用的Java方法</span> <br>     public String returnString() {<!-- --><br>         return "Hello, zht!";<br>     }<br> <br> }</p> 
 <p> </p> 
 <p><strong>C#窗体源代码：</strong> </p> 
 <p>using System;<br> using System.Collections.Generic;<br> using System.ComponentModel;<br> using System.Data;<br> using System.Drawing;<br> using System.Linq;<br> using System.Text;<br> using System.Windows.Forms;<br> <span style="color:#ff0000">using com.zht;</span> <br> <br> namespace KIVMTest<br> {<!-- --><br>     public partial class Form1 : Form<br>     {<!-- --><br>         public Form1()<br>         {<!-- --><br>             InitializeComponent();<br>         }<br> <br>         private void Form1_Load(object sender, EventArgs e)<br>         {<!-- --><br>             <span style="color:#ff0000">Test t = new Test();</span> <br>             string str = <span style="color:#ff0000">t.returnString();</span> <br>             MessageBox.Show(str);<br>         }<br>     }<br> }</p> 
 <p> </p> 
</div>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f25a2597edfe0659f80a702fe52458d5/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Android应用程序的Activity启动过程简要介绍和学习计划</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/547620b654118abf8a06c87f4e9a7732/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Oracle时间类型</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>