<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>IP基础知识 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="IP基础知识" />
<meta property="og:description" content="IP基础知识 一、IP基础知识 https://mp.weixin.qq.com/s/jYc5E1Nd7oC47bdCWbCLJw
网络层与数据链层 IP 在 TCP/IP 参考模型中处于第三层，也就是网络层。网络层的主要作用是：实现主机与主机之间的通信，也叫点对点（end to end）通信。
网络层与数据链层的关系
IP 的作用是主机之间通信中的，而MAC的作用则是实现「直连」的两个设备之间通信，而 IP 则负责在「没有直连」的两个网络之间进行通信传输。 举例：小林要去一个很远的地方旅行，制定了一个行程表，其间需先后乘坐飞机、地铁、公交车才能抵达目的地，为此小林需要买飞机票，地铁票等。飞机票和地铁票都是去往特定的地点的，每张票只能够在某一限定区间内移动，此处的「区间内」就如同通信网络中数据链路。在区间内移动相当于数据链路层，充当区间内两个节点传输的功能，区间内的出发点好比源MAC地址，目标地点好比目的MAC 地址。整个旅游行程表就相当于网络层，充当远程定位的功能，行程的开始好比源 IP，行程的终点好比目的 IP 地址。
还有重要一点，旅行途中我们虽然不断变化了交通工具，但是旅行行程的起始地址和目的地址始终都没变。其实，在网络中数据包传输中也是如此，源IP地址和目标IP地址在传输过程中是不会变化的，只有源 MAC 地址和目标 MAC 一直在变化。
２. IP地址的基础知识
IP 地址（IPv4地址）由32位正整数来表示，IP地址在计算机是以二进制的方式处理的。而人类为了方便记忆采用了点分十进制的标记方式，也就是将 32 位 IP 地址以每8位为组，共分为4组，每组以「.」隔开，再将每组转换成十进制。
IP地址的分类
IP地址分为5类，分别为A、B、C、D、E类。首位是0为A类，首位是1第二位为0为B类，首位为1第二位为1第三位为0为C类，以此类推，推出D、E类。
什么是A、B、C类地址
其中对于 A、B、C类主要分为两个部分，分别是网络号和主机号。这很好理解，好比小林是 A 小区 1 栋 101 号，你是 B 小区 1 栋 101 号。A、B、C分类地址最大主机个数的计算
最大主机个数，就是看主机号的位数，比如C类地址的最大主机个数是8
2 8 − 2 = 254 2^8 -2 = 254 28−2=254减去2的原因是，在IP地址中，主机号全为1的含义为指定某个网络下的所有主机用于广播，主机号全为0指定某个网络。广播地址用途
广播地址用于在同一个链路中相互连接的主机之间发送数据包D、E类地址
而 D 类和 E 类地址是没有主机号的，所以不可用于主机IP，D类常被用于多播，E 类是预留的分类，暂时未使用。多播地址用于什么" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/f3076f78a5eb78536a657256fdd0f568/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-05-11T17:35:35+08:00" />
<meta property="article:modified_time" content="2020-05-11T17:35:35+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">IP基础知识</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="IP_0"></a>IP基础知识</h2> 
<hr> 
<h3><a id="IP_5"></a>一、IP基础知识</h3> 
<blockquote> 
 <p>https://mp.weixin.qq.com/s/jYc5E1Nd7oC47bdCWbCLJw</p> 
</blockquote> 
<ol><li>网络层与数据链层</li></ol> 
<p>IP 在 TCP/IP 参考模型中处于第三层，也就是网络层。网络层的主要作用是：实现主机与主机之间的通信，也叫点对点（end to end）通信。</p> 
<ul><li>网络层与数据链层的关系<br> 　　IP 的作用是主机之间通信中的，而MAC的作用则是实现「直连」的两个设备之间通信，而 IP 则负责在「没有直连」的两个网络之间进行通信传输。</li></ul> 
<blockquote> 
 <p><strong>举例</strong>：小林要去一个很远的地方旅行，制定了一个行程表，其间需先后乘坐飞机、地铁、公交车才能抵达目的地，为此小林需要买飞机票，地铁票等。飞机票和地铁票都是去往特定的地点的，每张票只能够在某一限定区间内移动，此处的「区间内」就如同通信网络中数据链路。在区间内移动相当于数据链路层，充当区间内两个节点传输的功能，区间内的出发点好比源MAC地址，目标地点好比目的MAC 地址。整个旅游行程表就相当于网络层，充当远程定位的功能，行程的开始好比源 IP，行程的终点好比目的 IP 地址。<br> 　　还有重要一点，旅行途中我们虽然不断变化了交通工具，但是旅行行程的起始地址和目的地址始终都没变。其实，在网络中数据包传输中也是如此，源IP地址和目标IP地址在传输过程中是不会变化的，只有源 MAC 地址和目标 MAC 一直在变化。</p> 
</blockquote> 
<p>２. IP地址的基础知识<br> 　　IP 地址（IPv4地址）由32位正整数来表示，IP地址在计算机是以二进制的方式处理的。而人类为了方便记忆采用了点分十进制的标记方式，也就是将 32 位 IP 地址以每8位为组，共分为4组，每组以「.」隔开，再将每组转换成十进制。</p> 
<ul><li>IP地址的分类<br> 　　IP地址分为5类，分别为A、B、C、D、E类。首位是0为A类，首位是1第二位为0为B类，首位为1第二位为1第三位为0为C类，以此类推，推出D、E类。<br> <img src="https://images2.imgbox.com/54/af/X1fU0vNn_o.png" alt=""></li><li>什么是A、B、C类地址<br> 其中对于 A、B、C类主要分为两个部分，分别是网络号和主机号。这很好理解，好比小林是 A 小区 1 栋 101 号，你是 B 小区 1 栋 101 号。</li><li>A、B、C分类地址最大主机个数的计算<br> 最大主机个数，就是看主机号的位数，比如C类地址的最大主机个数是8<br> <span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"> 
       
        
         
          
          
            2 
           
          
            8 
           
          
         
           − 
          
         
           2 
          
         
           = 
          
         
           254 
          
         
        
          2^8 -2 = 254 
         
        
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.947438em; vertical-align: -0.08333em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.864108em;"><span class="" style="top: -3.113em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">8</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">2</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">2</span><span class="mord">5</span><span class="mord">4</span></span></span></span></span></span>减去2的原因是，在IP地址中，主机号全为1的含义为指定某个网络下的所有主机用于广播，主机号全为0指定某个网络。</li><li>广播地址用途<br> 广播地址用于在同一个链路中相互连接的主机之间发送数据包</li><li>D、E类地址<br> 而 D 类和 E 类地址是没有主机号的，所以不可用于主机IP，D类常被用于多播，E 类是预留的分类，暂时未使用。</li><li>多播地址用于什么<br> 多播用于将包发送给特定组内的所有主机。</li><li>IP分类的优点<br> 简单明了、选路（基于网络地址）简单</li><li>IP分类的缺点<br> 同一网络下没有地址层次，缺少地址的灵活性；<br> 不能很好的与现实网络匹配。</li></ul> 
<h3><a id="CIDR_41"></a>二、无分类地址CIDR</h3> 
<p>正因为 IP 分类存在许多缺点，所有后面提出了无分类地址的方案，即 CIDR。这种方式不再有分类地址的概念，32比特的IP地址被划分为两部分，前面是网络号，后面是主机号。</p> 
<ul><li>怎么划分网络号和主机号<br> 方法一：表示形式： a.b.c.d/x，其中 /x 表示前 x 位属于网络号， x 的范围是 0 ~ 32，这就使得IP地址更加具有灵活性。比如10.100.122.2/24，这种地址表示形式就是 CIDR，/24 表示前 24 位是网络号，剩余的 8 位是主机号。<br> 方法二：使用子网掩码，掩码的意思就是掩盖掉主机号，剩余的就是网络号，即将子网掩码和IP地址按位计算AND，就可得到网络号。</li><li>为什么要分离网络号和主机号<br> 因为两台计算机要通讯，首先要判断是否处于同一个广播域内，即网络地址是否相同。如果网络地址相同，表明接受方在本网络上，那么可以把数据包直接发送到目标主机，路由器寻址工作中，也就是通过这样的方式来找到对应的网络号的，进而把数据包转发给对应的网络内。</li><li>怎么进行子网划分<br> 子网掩码的一个作用是划分出网络号和主机号，另一个作用是划分子网。子网划分实际上是将主机地址分为两个部分：子网网络地址和子网主机地址。<br> <img src="https://images2.imgbox.com/53/df/oaqooANH_o.png" alt="在这里插入图片描述"><br> 为了有效利用和规划IP地址，需要进行子网划分。</li></ul> 
<blockquote> 
 <p>举例：假设对 C 类地址进行子网划分，网络地址192.168.1.0，使用子网掩码255.255.255.192 对其进行子网划分。C类地址中前24位是网络号，最后8位是主机号，根据子网掩码可知从 8位主机号中借用2位作为子网号。由于子网网络地址被划分成 2 位，那么子网地址就有 4 个，分别是 00、01、10、11.<br> [外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-7nedOFmC-1589189491791)(https://i.loli.net/2020/05/11/pa8HqiBf6bd2Z5Y.png)]</p> 
</blockquote> 
<h3><a id="IPIP_57"></a>三、公有IP和私有IP</h3> 
<p><img src="https://images2.imgbox.com/55/07/89KVneBi_o.png" alt="在这里插入图片描述"><br> 公有 IP 地址是有个组织统一分配的，假设你要开一个博客网站，那么你就需要去申请购买一个公有 IP，这样全世界的人才能访问。并且公有IP地址基本上要在整个互联网范围内保持唯一。</p> 
<h3><a id="IP_61"></a>四、IP分片与重组</h3> 
<p>每种数据链路的最大传输单元MTU都是不相同的，如FDDI数据链路MTU4352、以太网的MTU 是 1500 字节等。其中，我们最常见数据链路是以太网，它的 MTU 是 1500 字节。那么当 IP 数据包大小大于 MTU 时，IP数据包就会被分片。经过分片之后的 IP 数据报在被重组的时候，只能由目标主机进行，路由器是不会进行重组的。<br> <img src="https://images2.imgbox.com/4a/91/CDwgXXhr_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="DNS_64"></a>五、DNS</h3> 
<p>我们在上网的时候，通常使用的方式域名，而不是IP地址，因为域名方便人类记。<br> 那么实现这一技术的就是 DNS 域名解析，DNS 可以将域名网址自动转换为具体的IP 地址。</p> 
<ul><li>域名的层级关系<br> 在域名中，越靠右的位置表示其层级越高。根域是在最顶层，它的下一层就是 com 顶级域，再下面是 server.com。</li><li>域名解析的工作流程<br> <img src="https://images2.imgbox.com/54/80/YhT8vI9P_o.png" alt="在这里插入图片描述"></li></ul> 
<h3><a id="_72"></a>六、网关</h3> 
<blockquote> 
 <p>https://blog.csdn.net/boiled_water123/article/details/84023602<br> 一般来说，路由器的LAN接口的IP地址就是你所在局域网中的网关。当你所在的局域网的计算机需要和其它局域网中的计算机，或者需要访问互联网的时候，你所在局域网的计算机会先把数据包传输到网关（路由器的LAN接口），然后再由网关进行转发。</p> 
</blockquote> 
<p>举个简单的例子，一套房子内部有三个房间、一个大门，房子可以比喻成你的电脑所在的局域网，三个房间可以比喻成你所在局域网中的三台电脑，房子的大门可以比喻成网关。当你在房子内的一个房间进入另一个房间的时候并不需要经过房子的大门；在局域网中也是一样的，处在同一局域网的中计算机进行通信的时候并不需要用到网关。当你需要到邻居家去玩的时候需要要从你家房子的大门出去；相应的，局域网中的计算机需要和其它局域网中的计算机、和互联网上的计算机进行通信的时候，数据包必须要通过网关才可以到达。</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/c39f7b26b6d018750d0893d61245a45f/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">python对象与类型之函数</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/52d049bbe5ae4ff53a61773dafa7f974/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">MPC算法</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>