<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【wireshark笔记 2022.9.15】 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【wireshark笔记 2022.9.15】" />
<meta property="og:description" content="wireshark笔记 2022.9.15 CIDR名词解释wireshark入门功能历史原理优势下载安装基本使用选择网卡 wire shark界面 伯克利包过滤规则语法规则案例演示筛选过滤器（显示过滤器）捕获过滤器案例演示 捕获文件的保存杂项设置内置文件路径默认配置 CIDR名词解释 CIDR（无类别域间）是一个在Internet上创建附加地址的方法，这些地址提供给服务提供商（ISP），再由ISP分配给客户。CIDR将路由集中起来，使一个IP地址代表主要骨干提供商服务的几千个IP地址，从而减轻Internet路由器的负担 wireshark入门 功能 网络流量捕获和分析的软件 历史 Ethereal是Wireshark的前身，2006年更名为wireshark 原理 捕获二进制流量转换wireshark组装数据包分析捕获的数据包、识别协议等信息 优势 开源免费跨平台可视化功能强大，支持协议种类多 下载安装 官网 https://www.wireshark.org 基本使用 选择网卡 查询到kali中的对外网卡名称为eth0 ──(root💀newkali)-[~] └─# ip a 130 ⨯ 1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000 link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00 inet 127.0.0.1/8 scope host lo valid_lft forever preferred_lft forever inet6 ::1/128 scope host valid_lft forever preferred_lft forever 2: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc fq_codel state UP link/ether 00:0c:29:b2:f0:10 brd ff:ff:ff:ff:ff:ff inet 10." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/633e5723157039683fae7afacfae3e5f/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-09-15T22:47:25+08:00" />
<meta property="article:modified_time" content="2022-09-15T22:47:25+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【wireshark笔记 2022.9.15】</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>wireshark笔记 2022.9.15</h4> 
 <ul><li><a href="#CIDR_1" rel="nofollow">CIDR名词解释</a></li><li><a href="#wireshark_3" rel="nofollow">wireshark入门</a></li><li><ul><li><a href="#_4" rel="nofollow">功能</a></li><li><a href="#_6" rel="nofollow">历史</a></li><li><a href="#_8" rel="nofollow">原理</a></li><li><a href="#_12" rel="nofollow">优势</a></li><li><a href="#_17" rel="nofollow">下载安装</a></li><li><a href="#_19" rel="nofollow">基本使用</a></li><li><ul><li><a href="#_20" rel="nofollow">选择网卡</a></li></ul> 
   </li><li><a href="#wire_shark_39" rel="nofollow">wire shark界面</a></li></ul> 
  </li><li><a href="#_42" rel="nofollow">伯克利包过滤规则</a></li><li><ul><li><a href="#_45" rel="nofollow">语法规则</a></li><li><a href="#_49" rel="nofollow">案例演示</a></li><li><a href="#_62" rel="nofollow">筛选过滤器（显示过滤器）</a></li><li><a href="#_73" rel="nofollow">捕获过滤器</a></li><li><ul><li><a href="#_79" rel="nofollow">案例演示</a></li></ul> 
   </li><li><a href="#_86" rel="nofollow">捕获文件的保存</a></li><li><a href="#_92" rel="nofollow">杂项设置</a></li><li><ul><li><a href="#_93" rel="nofollow">内置文件路径</a></li><li><a href="#_98" rel="nofollow">默认配置</a></li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="CIDR_1"></a>CIDR名词解释</h2> 
<ul><li>CIDR（无类别域间）是一个在Internet上创建附加地址的方法，这些地址提供给服务提供商（ISP），再由ISP分配给客户。CIDR将路由集中起来，使一个IP地址代表主要骨干提供商服务的几千个IP地址，从而减轻Internet路由器的负担</li></ul> 
<h2><a id="wireshark_3"></a>wireshark入门</h2> 
<h3><a id="_4"></a>功能</h3> 
<ul><li>网络流量捕获和分析的软件</li></ul> 
<h3><a id="_6"></a>历史</h3> 
<ul><li>Ethereal是Wireshark的前身，2006年更名为wireshark</li></ul> 
<h3><a id="_8"></a>原理</h3> 
<ul><li>捕获二进制流量</li><li>转换wireshark组装数据包</li><li>分析捕获的数据包、识别协议等信息</li></ul> 
<h3><a id="_12"></a>优势</h3> 
<ul><li>开源免费</li><li>跨平台</li><li>可视化</li><li>功能强大，支持协议种类多</li></ul> 
<h3><a id="_17"></a>下载安装</h3> 
<ul><li>官网 https://www.wireshark.org</li></ul> 
<h3><a id="_19"></a>基本使用</h3> 
<h4><a id="_20"></a>选择网卡</h4> 
<ul><li>查询到kali中的对外网卡名称为eth0</li></ul> 
<pre><code class="prism language-bash">──<span class="token punctuation">(</span>root💀newkali<span class="token punctuation">)</span>-<span class="token punctuation">[</span>~<span class="token punctuation">]</span>
└─<span class="token comment"># ip a                                                                                                                                                                                                         130 ⨯</span>
<span class="token number">1</span>: lo: <span class="token operator">&lt;</span>LOOPBACK,UP,LOWER_UP<span class="token operator">&gt;</span> mtu <span class="token number">65536</span> qdisc noqueue state UNKNOWN group default qlen <span class="token number">1000</span>
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet <span class="token number">127.0</span>.0.1/8 scope <span class="token function">host</span> lo
       valid_lft forever preferred_lft forever
    inet6 ::1/128 scope <span class="token function">host</span> 
       valid_lft forever preferred_lft forever
<span class="token number">2</span>: eth0: <span class="token operator">&lt;</span>BROADCAST,MULTICAST,UP,LOWER_UP<span class="token operator">&gt;</span> mtu <span class="token number">1500</span> qdisc fq_codel state UP
    link/ether 00:0c:29:b2:f0:10 brd ff:ff:ff:ff:ff:ff
    inet <span class="token number">10.0</span>.0.130/8 brd <span class="token number">10.255</span>.255.255 scope global noprefixroute eth0
       valid_lft forever preferred_lft forever
    inet6 fe80::20c:29ff:feb2:f010/64 scope <span class="token function">link</span> noprefixroute 
       valid_lft forever preferred_lft forever
</code></pre> 
<ul><li>抓包停止后才能另存筛选的数据包</li></ul> 
<h3><a id="wire_shark_39"></a>wire shark界面</h3> 
<p><img src="https://images2.imgbox.com/4c/08/zOoJAnBr_o.png" alt="在这里插入图片描述"></p> 
<ul><li>由上至下，标题栏、菜单栏、工具栏、筛选过滤器、</li></ul> 
<h2><a id="_42"></a>伯克利包过滤规则</h2> 
<ul><li>BPF（Berkeley Packet Filter）采用与自然语言相近的语法，利用语法构造字符串前确定保留的具体符合规则的数据包而忽略其他数据包</li><li>最简单语法空白字符</li></ul> 
<h3><a id="_45"></a>语法规则</h3> 
<ul><li>type 表示对象 如IP地址、子网或者端口 host net port</li><li>dir 表示数据包传输的方向 src dst</li><li>proto 表示数据包匹配的协议类型 ether(二层协议) ip tcp arp</li></ul> 
<h3><a id="_49"></a>案例演示</h3> 
<ul><li>宿主机IP10.0.61.61，kali虚拟机IP10.0.0.130,访问192.168.1.131，掩码均为24位</li><li>筛选IP格式如下<br> <img src="https://images2.imgbox.com/94/ce/4zmzWDzx_o.png" alt="在这里插入图片描述"></li><li>筛选目的地址IP如下，源地址同理ip.src<br> <img src="https://images2.imgbox.com/9f/ee/TCiLErau_o.png" alt="在这里插入图片描述"></li><li>筛选端口 协议+端口号<br> <img src="https://images2.imgbox.com/2b/f8/6S6bgInO_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/07/96/CStYdt4V_o.png" alt="在这里插入图片描述"></li><li>综合查询<br> <img src="https://images2.imgbox.com/38/ca/LnONovuP_o.png" alt="在这里插入图片描述"></li><li>网络范围<br> <img src="https://images2.imgbox.com/b9/76/uZY9uKOp_o.png" alt="在这里插入图片描述"></li></ul> 
<h3><a id="_62"></a>筛选过滤器（显示过滤器）</h3> 
<ul><li>创建可由输入框创建或者数据包细节面板创建<br> <img src="https://images2.imgbox.com/73/0c/47Ab1bNC_o.png" alt="在这里插入图片描述"><br> 或者<br> <img src="https://images2.imgbox.com/b7/6f/sIMWwQNT_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/da/6e/irHrJ0tO_o.png" alt="在这里插入图片描述"></li><li>表达式规则</li><li>逻辑关系 与 或 非</li><li>格式是主题+运算符+数值<br> <img src="https://images2.imgbox.com/73/e9/tgUo93ou_o.png" alt="在这里插入图片描述"></li></ul> 
<h3><a id="_73"></a>捕获过滤器</h3> 
<p><img src="https://images2.imgbox.com/a2/0e/KDFp5BPI_o.png" alt="blog.csdnimg.cn/fdf0cd72452b4669927aa307d33d97a3.png)"></p> 
<ul><li>遵循伯克利过滤器语法规则</li><li>抓包之前设置规则。捕获相应数据包</li><li>对于host不支持cidr以及直接主机名的写法，会自动检测语法</li></ul> 
<h4><a id="_79"></a>案例演示</h4> 
<ul><li><strong>只捕获目标端口为8312的TCP数据包</strong><br> <img src="https://images2.imgbox.com/1f/ae/mfmYeBT6_o.png" alt="在这里插入图片描述"></li><li>之后点击开始，并测试访问192.168.1.131：8312，发现会捕获到数据包</li><li><strong>捕获主机IP地址为192.168.1.131的数据包</strong><br> <img src="https://images2.imgbox.com/70/da/rucLgbd3_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/34/f6/kBZOsdBZ_o.png" alt="在这里插入图片描述"></li></ul> 
<h3><a id="_86"></a>捕获文件的保存</h3> 
<ul><li>设置输出文件格式 pacp-ng，pcap</li><li>如果数据量特别大，会导致文件过大，导致wireshark无法正常打开保存的文件；可设置自动创建新文件，每隔10s</li><li>使用wireshark进行网络监控，无论硬盘空间多大都可能被消耗殆尽；可设置环形缓存器<br> <img src="https://images2.imgbox.com/a5/37/CizBv0kd_o.png" alt="在这里插入图片描述"></li><li>捕获选项设置：显示选项，解析名称，自动停止捕获</li></ul> 
<h3><a id="_92"></a>杂项设置</h3> 
<h4><a id="_93"></a>内置文件路径</h4> 
<ul><li>插件<br> <img src="https://images2.imgbox.com/b9/83/7SoJlENL_o.png" alt="在这里插入图片描述"></li><li>快捷键<br> <img src="https://images2.imgbox.com/a4/87/28LrIuul_o.png" alt="在这里插入图片描述"></li></ul> 
<h4><a id="_98"></a>默认配置</h4> 
<p><img src="https://images2.imgbox.com/ba/b4/4tzPgN4r_o.png" alt="在这里插入图片描述"></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/71dc361c7f0d36687c8a4c0d913eacdf/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">纯CSS实现Table固定表头和首列</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/6182334d34e6b6b0a845db74e6d2f83b/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Sql Sever 日志中Polybase-dump占用内存过大清理方法</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>