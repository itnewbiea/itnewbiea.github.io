<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>在 Android Studio 添加一个activity并实现跳转 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="在 Android Studio 添加一个activity并实现跳转" />
<meta property="og:description" content="Android Studio比较人性化，当你添加一个activity时，他会自动把相关信息写入AndroidManifest.xml文件中，同时添加activity的布局文件到资源res-&gt;layout下面。
我这里随便取个名称，叫TextViewActivity。这时layout下面自动创建的这个文件叫做activity_text_view.xml，就是TextViewActivity所对应的layout。
顺便说一句，根据创建activity的命名不同，自动创建的文件名可能各不相同。我是用refactor根据自己的喜好修改了文件名(改成了TestTextViewAcitivity)。使用refactor的好处就是，程序会自动查找文件的所有引用，并在相应的地方加以修改。如果你不在意文件名，大可不用理会这些。 为了演示activity之间的跳转结果，先完成一个布局文件，如下
&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt; &lt;LinearLayout xmlns:android=&#34;http://schemas.android.com/apk/res/android&#34; android:layout_width=&#34;match_parent&#34; android:layout_height=&#34;match_parent&#34; android:orientation=&#34;vertical&#34; &gt; &lt;TextView android:id=&#34;@&#43;id/ttv1&#34; android:layout_width=&#34;match_parent&#34; android:layout_height=&#34;wrap_content&#34; android:text=&#34;@string/tt_string&#34; android:textColor=&#34;#5500FF&#34; android:textSize=&#34;32sp&#34; android:padding=&#34;10dp&#34; /&gt; &lt;TextView android:id=&#34;@&#43;id/ttv2&#34; android:layout_width=&#34;355dp&#34; android:layout_height=&#34;wrap_content&#34; android:maxLines=&#34;1&#34; android:ellipsize=&#34;end&#34; android:padding=&#34;10dp&#34; android:text=&#34;what are you going to do&#34; android:textColor=&#34;#00FF55&#34; android:textSize=&#34;32sp&#34; /&gt; &lt;TextView android:id=&#34;@&#43;id/ttv3&#34; android:layout_width=&#34;match_parent&#34; android:layout_height=&#34;wrap_content&#34; android:text=&#34;More Info&#34; android:drawableRight=&#34;@drawable/arrow_down&#34; android:textSize=&#34;32sp&#34; android:padding=&#34;10dp&#34; /&gt; &lt;/LinearLayout&gt; 源码中给不同文字添加了些效果，预览时的显示效果是这样的，
接下来我们处理TestTextViewActivity这个文件，先给出源码
package com.spacesoftwares.myapplication2; import android.graphics.Paint; import android.support.v7.app.AppCompatActivity; import android.os.Bundle; import android.widget.TextView; public class TestTextViewActivity extends AppCompatActivity { private TextView mtv1; @Override protected void onCreate(Bundle savedInstanceState) { super." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/3d81563c3cb0a65074603354fb31b0cd/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-07-16T12:13:00+08:00" />
<meta property="article:modified_time" content="2018-07-16T12:13:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">在 Android Studio 添加一个activity并实现跳转</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>Android Studio比较人性化，当你添加一个activity时，他会自动把相关信息写入AndroidManifest.xml文件中，同时添加activity的布局文件到资源res-&gt;layout下面。</p> 
<p>我这里随便取个名称，叫TextViewActivity。这时layout下面自动创建的这个文件叫做activity_text_view.xml，就是TextViewActivity所对应的layout。</p> 
<p>顺便说一句，根据创建activity的命名不同，自动创建的文件名可能各不相同。我是用refactor根据自己的喜好修改了文件名(改成了TestTextViewAcitivity)。使用refactor的好处就是，程序会自动查找文件的所有引用，并在相应的地方加以修改。如果你不在意文件名，大可不用理会这些。 </p> 
<p>为了演示activity之间的跳转结果，先完成一个布局文件，如下</p> 
<p></p> 
<pre style="background-color:#2b2b2b;color:#a9b7c6;font-family:'宋体';font-size:9pt;"><span style="color:#e8bf6a;">&lt;?</span><span style="color:#bababa;">xml version=</span><span style="color:#6a8759;">"1.0" </span><span style="color:#bababa;">encoding=</span><span style="color:#6a8759;">"utf-8"</span><span style="color:#e8bf6a;">?&gt;
</span><span style="color:#e8bf6a;">&lt;LinearLayout </span><span style="color:#bababa;">xmlns:</span><span style="color:#9876aa;">android</span><span style="color:#bababa;">=</span><span style="color:#6a8759;">"http://schemas.android.com/apk/res/android"
</span><span style="color:#6a8759;">    </span><span style="color:#9876aa;">android</span><span style="color:#bababa;">:layout_width=</span><span style="color:#6a8759;">"match_parent"
</span><span style="color:#6a8759;">    </span><span style="color:#9876aa;">android</span><span style="color:#bababa;">:layout_height=</span><span style="color:#6a8759;">"match_parent"
</span><span style="color:#6a8759;">    </span><span style="color:#9876aa;">android</span><span style="color:#bababa;">:orientation=</span><span style="color:#6a8759;">"vertical"
</span><span style="color:#6a8759;">    </span><span style="color:#e8bf6a;">&gt;
</span><span style="color:#e8bf6a;">
</span><span style="color:#e8bf6a;">    &lt;TextView
</span><span style="color:#e8bf6a;">        </span><span style="color:#9876aa;">android</span><span style="color:#bababa;">:id=</span><span style="color:#6a8759;">"@+id/ttv1"
</span><span style="color:#6a8759;">        </span><span style="color:#9876aa;">android</span><span style="color:#bababa;">:layout_width=</span><span style="color:#6a8759;">"match_parent"
</span><span style="color:#6a8759;">        </span><span style="color:#9876aa;">android</span><span style="color:#bababa;">:layout_height=</span><span style="color:#6a8759;">"wrap_content"
</span><span style="color:#6a8759;">        </span><span style="color:#9876aa;">android</span><span style="color:#bababa;">:text=</span><span style="color:#6a8759;">"@string/tt_string"
</span><span style="color:#6a8759;">        </span><span style="color:#9876aa;">android</span><span style="color:#bababa;">:textColor=</span><span style="color:#6a8759;">"#5500FF"
</span><span style="color:#6a8759;">        </span><span style="color:#9876aa;">android</span><span style="color:#bababa;">:textSize=</span><span style="color:#6a8759;">"32sp"
</span><span style="color:#6a8759;">        </span><span style="color:#9876aa;">android</span><span style="color:#bababa;">:padding=</span><span style="color:#6a8759;">"10dp"
</span><span style="color:#6a8759;">        </span><span style="color:#e8bf6a;">/&gt;
</span><span style="color:#e8bf6a;">
</span><span style="color:#e8bf6a;">    &lt;TextView
</span><span style="color:#e8bf6a;">        </span><span style="color:#9876aa;">android</span><span style="color:#bababa;">:id=</span><span style="color:#6a8759;">"@+id/ttv2"
</span><span style="color:#6a8759;">        </span><span style="color:#9876aa;">android</span><span style="color:#bababa;">:layout_width=</span><span style="color:#6a8759;">"355dp"
</span><span style="color:#6a8759;">        </span><span style="color:#9876aa;">android</span><span style="color:#bababa;">:layout_height=</span><span style="color:#6a8759;">"wrap_content"
</span><span style="color:#6a8759;">        </span><span style="color:#9876aa;">android</span><span style="color:#bababa;">:maxLines=</span><span style="color:#6a8759;">"1"
</span><span style="color:#6a8759;">        </span><span style="color:#9876aa;">android</span><span style="color:#bababa;">:ellipsize=</span><span style="color:#6a8759;">"end"
</span><span style="color:#6a8759;">        </span><span style="color:#9876aa;">android</span><span style="color:#bababa;">:padding=</span><span style="color:#6a8759;">"10dp"
</span><span style="color:#6a8759;">        </span><span style="color:#9876aa;">android</span><span style="color:#bababa;">:text=</span><span style="color:#6a8759;">"what are you going to do"
</span><span style="color:#6a8759;">        </span><span style="color:#9876aa;">android</span><span style="color:#bababa;">:textColor=</span><span style="color:#6a8759;">"#00FF55"
</span><span style="color:#6a8759;">        </span><span style="color:#9876aa;">android</span><span style="color:#bababa;">:textSize=</span><span style="color:#6a8759;">"32sp"
</span><span style="color:#6a8759;">        </span><span style="color:#e8bf6a;">/&gt;
</span><span style="color:#e8bf6a;">
</span><span style="color:#e8bf6a;">    &lt;TextView
</span><span style="color:#e8bf6a;">        </span><span style="color:#9876aa;">android</span><span style="color:#bababa;">:id=</span><span style="color:#6a8759;">"@+id/ttv3"
</span><span style="color:#6a8759;">        </span><span style="color:#9876aa;">android</span><span style="color:#bababa;">:layout_width=</span><span style="color:#6a8759;">"match_parent"
</span><span style="color:#6a8759;">        </span><span style="color:#9876aa;">android</span><span style="color:#bababa;">:</span><span style="color:#bababa;background-color:#344134;">layout_height</span><span style="color:#bababa;">=</span><span style="color:#6a8759;">"wrap_content"
</span><span style="color:#6a8759;">        </span><span style="color:#9876aa;">android</span><span style="color:#bababa;">:text=</span><span style="color:#6a8759;">"More Info"
</span><span style="color:#6a8759;">        </span><span style="color:#9876aa;">android</span><span style="color:#bababa;">:drawableRight=</span><span style="color:#6a8759;">"@drawable/arrow_down"
</span><span style="color:#6a8759;">        </span><span style="color:#9876aa;">android</span><span style="color:#bababa;">:textSize=</span><span style="color:#6a8759;">"32sp"
</span><span style="color:#6a8759;">        </span><span style="color:#9876aa;">android</span><span style="color:#bababa;">:padding=</span><span style="color:#6a8759;">"10dp"
</span><span style="color:#6a8759;">        </span><span style="color:#e8bf6a;">/&gt;
</span><span style="color:#e8bf6a;">
</span><span style="color:#e8bf6a;">&lt;/LinearLayout&gt;</span></pre> 
<p>源码中给不同文字添加了些效果，预览时的显示效果是这样的，</p> 
<p><img src="https://images2.imgbox.com/59/73/fLsXkqBh_o.png" alt=""></p> 
<p>接下来我们处理TestTextViewActivity这个文件，先给出源码</p> 
<p></p> 
<pre style="background-color:#2b2b2b;color:#a9b7c6;font-family:'宋体';font-size:9pt;"><span style="color:#cc7832;">package </span>com.spacesoftwares.myapplication2<span style="color:#cc7832;">;
</span><span style="color:#cc7832;">
</span><span style="color:#cc7832;">import </span><span style="background-color:#344134;">android</span>.graphics.Paint<span style="color:#cc7832;">;
</span><span style="color:#cc7832;">import </span><span style="background-color:#344134;">android</span>.support.v7.app.AppCompatActivity<span style="color:#cc7832;">;
</span><span style="color:#cc7832;">import </span><span style="background-color:#344134;">android</span>.os.Bundle<span style="color:#cc7832;">;
</span><span style="color:#cc7832;">import </span><span style="background-color:#344134;">android</span>.widget.TextView<span style="color:#cc7832;">;
</span><span style="color:#cc7832;">
</span><span style="color:#cc7832;">public class </span>TestTextViewActivity <span style="color:#cc7832;">extends </span>AppCompatActivity {

    <span style="color:#cc7832;">private </span>TextView <span style="color:#9876aa;">mtv1</span><span style="color:#cc7832;">;
</span><span style="color:#cc7832;">    </span><span style="color:#bbb529;">@Override
</span><span style="color:#bbb529;">    </span><span style="color:#cc7832;">protected void </span><span style="color:#ffc66d;">onCreate</span>(Bundle savedInstanceState) {
        <span style="color:#cc7832;">super</span>.onCreate(savedInstanceState)<span style="color:#cc7832;">;
</span><span style="color:#cc7832;">        </span>setContentView(R.layout.<span style="color:#9876aa;"><em>activity_text_view</em></span>)<span style="color:#cc7832;">;
</span><span style="color:#cc7832;">        </span><span style="color:#9876aa;">mtv1 </span>= findViewById(R.id.<span style="color:#9876aa;"><em>ttv1</em></span>)<span style="color:#cc7832;">;
</span><span style="color:#cc7832;">        </span><span style="color:#9876aa;">mtv1</span>.getPaint().setFlags(Paint.<span style="color:#9876aa;"><em>STRIKE_THRU_TEXT_FLAG</em></span>)<span style="color:#cc7832;">; </span><span style="color:#808080;">// set strike through style in the text
</span><span style="color:#808080;">        </span><span style="color:#9876aa;">mtv1</span>.getPaint().setAntiAlias(<span style="color:#cc7832;">true</span>)<span style="color:#cc7832;">; </span><span style="color:#808080;">// get rid of the zigzag effect
</span><span style="color:#808080;">    </span>}
}</pre> 
<p>可以看到，setContentView(R.layout.activity_text_view); 也就是说这个activity所引用的layout就是activity_text_view.xml。</p> 
<p>这里还定义了一个TextView mtv1, 他首先通过findViewById(R.id.ttv1);找到layout中对应的TextView的实例（也就是第一行要显示的文字），然后添加了strike through的效果。这个我们后面会看到。 </p> 
<p>完成这个基本的activity之后，接下来我们需要完成跳转工作。在默认情况下，我们直接在MainActivity中添加跳转代码即可，如下</p> 
<p></p> 
<pre style="background-color:#2b2b2b;color:#a9b7c6;font-family:'宋体';font-size:9pt;"><span style="color:#cc7832;">import </span><span style="background-color:#344134;">android</span>.support.v7.app.AppCompatActivity<span style="color:#cc7832;">;
</span><span style="color:#cc7832;">import </span><span style="background-color:#344134;">android</span>.os.Bundle<span style="color:#cc7832;">;
</span><span style="color:#cc7832;">import </span><span style="background-color:#344134;">android</span>.view.View<span style="color:#cc7832;">;
</span><span style="color:#cc7832;">import </span><span style="background-color:#344134;">android</span>.widget.Button<span style="color:#cc7832;">;
</span><span style="color:#cc7832;">import </span><span style="background-color:#344134;">android</span>.widget.TextView<span style="color:#cc7832;">;
</span><span style="color:#cc7832;">
</span><span style="color:#cc7832;">public class </span>MainActivity <span style="color:#cc7832;">extends </span>AppCompatActivity {

    <span style="color:#cc7832;">private </span>Button <span style="color:#9876aa;">mBtnTextView</span><span style="color:#cc7832;">;  </span><span style="color:#808080;">// define a text view button
</span><span style="color:#808080;">    </span><span style="color:#bbb529;">@Override
</span><span style="color:#bbb529;">    </span><span style="color:#cc7832;">protected void </span><span style="color:#ffc66d;">onCreate</span>(Bundle savedInstanceState) {
        <span style="color:#cc7832;">super</span>.onCreate(savedInstanceState)<span style="color:#cc7832;">;
</span><span style="color:#cc7832;">        </span>setContentView(R.layout.<span style="color:#9876aa;"><em>activity_main</em></span>)<span style="color:#cc7832;">;
</span><span style="color:#cc7832;">        </span><span style="color:#9876aa;">mBtnTextView </span>= findViewById(R.id.<span style="color:#9876aa;"><em>btnTextView1</em></span>)<span style="color:#cc7832;">;  </span><span style="color:#808080;">// get the button, it is in activity_main.xml
</span><span style="color:#808080;">        </span><span style="color:#9876aa;">mBtnTextView</span>.setOnClickListener(<span style="color:#cc7832;">new </span>View.OnClickListener() {
            <span style="color:#cc7832;">public void </span><span style="color:#ffc66d;">onClick</span>(View view) {
                Intent intent = <span style="color:#cc7832;">new </span>Intent(MainActivity.<span style="color:#cc7832;">this, </span>TestTextViewActivity.<span style="color:#cc7832;">class</span>)<span style="color:#cc7832;">;
</span><span style="color:#cc7832;">                </span>startActivity(intent)<span style="color:#cc7832;">;
</span><span style="color:#cc7832;">            </span>}
        })<span style="color:#cc7832;">;
</span><span style="color:#cc7832;">    </span>}<span style="color:#cc7832;">;
</span>}</pre> 
<p>其相应的layout(activity_main.xml)如下，</p> 
<p></p> 
<pre style="background-color:#2b2b2b;color:#a9b7c6;font-family:'宋体';font-size:9pt;"><span style="color:#e8bf6a;">&lt;?</span><span style="color:#bababa;">xml version=</span><span style="color:#6a8759;">"1.0" </span><span style="color:#bababa;">encoding=</span><span style="color:#6a8759;">"utf-8"</span><span style="color:#e8bf6a;">?&gt;
</span><span style="color:#e8bf6a;">&lt;LinearLayout </span><span style="color:#bababa;">xmlns:</span><span style="color:#bababa;background-color:#344134;">android</span><span style="color:#bababa;">=</span><span style="color:#6a8759;">"http://schemas.android.com/apk/res/android"
</span><span style="color:#6a8759;">    </span><span style="color:#bababa;background-color:#344134;">android</span><span style="color:#bababa;">:layout_width=</span><span style="color:#6a8759;">"match_parent"
</span><span style="color:#6a8759;">    </span><span style="color:#bababa;background-color:#344134;">android</span><span style="color:#bababa;">:layout_height=</span><span style="color:#6a8759;">"match_parent"
</span><span style="color:#6a8759;">    </span><span style="color:#bababa;background-color:#344134;">android</span><span style="color:#bababa;">:orientation=</span><span style="color:#6a8759;">"vertical"
</span><span style="color:#6a8759;">    </span><span style="color:#e8bf6a;">&gt;
</span><span style="color:#e8bf6a;">
</span><span style="color:#e8bf6a;">    &lt;Button
</span><span style="color:#e8bf6a;">        </span><span style="color:#bababa;background-color:#344134;">android</span><span style="color:#bababa;">:id=</span><span style="color:#6a8759;">"@+id/btnTextView1"
</span><span style="color:#6a8759;">        </span><span style="color:#bababa;background-color:#344134;">android</span><span style="color:#bababa;">:layout_width=</span><span style="color:#6a8759;">"match_parent"
</span><span style="color:#6a8759;">        </span><span style="color:#bababa;background-color:#344134;">android</span><span style="color:#bababa;">:layout_height=</span><span style="color:#6a8759;">"wrap_content"
</span><span style="color:#6a8759;">        </span><span style="color:#bababa;background-color:#344134;">android</span><span style="color:#bababa;">:text=</span><span style="color:#6a8759;">"TestTextView"
</span><span style="color:#6a8759;">        </span><span style="color:#e8bf6a;">/&gt;
</span><span style="color:#e8bf6a;">
</span><span style="color:#e8bf6a;">&lt;/LinearLayout&gt;</span></pre> 
<p>其中，关键的跳转工作的由这小段代码完成，</p> 
<p></p> 
<pre style="background-color:#2b2b2b;color:#a9b7c6;font-family:'宋体';font-size:9pt;"><span style="color:#9876aa;">mBtnTextView</span>.setOnClickListener(<span style="color:#cc7832;">new </span>View.OnClickListener() {
    <span style="color:#cc7832;">public void </span><span style="color:#ffc66d;">onClick</span>(View view) {
        <span style="background-color:#344134;">Intent</span> intent = <span style="color:#cc7832;">new </span><span style="background-color:#344134;">Intent</span>(MainActivity.<span style="color:#cc7832;">this, </span>TestTextViewActivity.<span style="color:#cc7832;">class</span>)<span style="color:#cc7832;">;
</span><span style="color:#cc7832;">        </span>startActivity(intent)<span style="color:#cc7832;">;
</span><span style="color:#cc7832;">    </span>}
})<span style="color:#cc7832;">;</span></pre> 
<p>基本没什么需要解释的，首先建立一个传递参数的Intent，然后startActivity启动这个intent所联系起来的activity。</p> 
<p>说明一下，Android中提供的Intent机制是用来协助应用间的交互与通讯的，更直观地说，Intent可用于应用程序之间，也可用于应用程序内部的activity, service和broadcast receiver之间的交互。Intent(Activity1, Activity2)这种结构中，Intent相当于一个沟通的桥梁，类似于中介的角色。</p> 
<p> 再顺便说明一下这时碰到的怪问题，Android的camelCase的命名方式，mBtnTextView这个名称我写成mbtntextView时居然不能成功运行，也不知是程序其他地方没写对还是怎么的，把所有命名都改回来最后居然OK了，后来问题无法复现，所以这里备注一下原因不明，以后碰到相同的问题再来检查。</p> 
<p>编译运行，最后的效果如下所示，</p> 
<p><img src="https://images2.imgbox.com/d4/3b/cQkwZU96_o.png" alt=""></p> 
<p>点击该按钮，就会跳出下面所示的界面，</p> 
<p><img src="https://images2.imgbox.com/ca/63/t2lomc2W_o.png" alt=""></p> 
<p>嗯，是不是很简单？</p> 
<p> </p> 
<br>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ca1ed036b41370361c03eb391afc9471/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">python3.7版本下，安装wxpython</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/c91eff760e3a016dfd6047455848c311/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">unity out_Log</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>