<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Linux自建RustDesk中继服务器 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Linux自建RustDesk中继服务器" />
<meta property="og:description" content="向日葵、ToDesk，想控制手机。【收费】、【收费】、【收费】、【收费】
作为编程人员，这钱我有点不想花。手里有常开机电脑，于是我萌生想法，使用frp做代理，用adb命令将手机的屏幕截图后展示在网页上，按秒刷新。反正自己服务器的没有1.2T流量从来每用完过，然后通过网页上点击判断坐标位置通过adb命令让手机执行。完美，本着这个想法去实现，项目已经搭建，frp服务已经开启。突然发现了宝藏【RustDesk】，果断放弃曾认为完美的计划，开舔【RustDesk】。这就是我和它的故事！
废话不说，一次字：开始干！
1：访问RustDesk，下载对应文件。 RustDesk | 开源远程桌面软件
不想看图找，直接赋链接：Releases · rustdesk/rustdesk-server · GitHub
下载Linux的文件。
2：解压上传至服务器，方法很多，可以用宝塔、xftp等，哪个顺手用哪个吧。 3：开启守护进程，给到启动hbbs和hbbr。（宝塔软件商店安装：【进程守护管理器】免费） 安装成功后设置首页展示
然后进到首页开始添加守护进程，注意上传hbbs和hbbr路径填写正确
注意，进程数设置一个就行，不用设置多。设置完成会自动启动，没有成功就说明文件路径和命令不正确，按照截图对照你的路径排查吧。
4：开放防火墙端口号： TCP(21115, 21116, 21117, 21118, 21119)UDP(21116) 不管所以然，按照官方文档开整。
先开放服务器的防火墙：
firewall-cmd --zone=public --add-port=21115/tcp --permanent firewall-cmd --zone=public --add-port=21116/tcp --permanent firewall-cmd --zone=public --add-port=21117/tcp --permanent firewall-cmd --zone=public --add-port=21118/tcp --permanent firewall-cmd --zone=public --add-port=21119/tcp --permanent firewall-cmd --zone=public --add-port=21116/udp --permanent firewall-cmd --reload firewall-cmd --reload firewall-cmd --reload firewall-cmd --query-port=21115/tcp firewall-cmd --query-port=21116/tcp firewall-cmd --query-port=21117/tcp firewall-cmd --query-port=21118/tcp firewall-cmd --query-port=21119/tcp firewall-cmd --query-port=21116/udp 开启阿里云安全组：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/a0de05a49e16695c184e3191a162a29e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-11-19T13:52:35+08:00" />
<meta property="article:modified_time" content="2022-11-19T13:52:35+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Linux自建RustDesk中继服务器</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>        <strong>向日葵、ToDesk，想控制手机。【收费】、【收费】、【收费】、【收费】</strong></p> 
<p>作为编程人员，这钱我有点不想花。手里有常开机电脑，于是我萌生想法，使用frp做代理，用adb命令将手机的屏幕截图后展示在网页上，按秒刷新。反正自己服务器的没有1.2T流量从来每用完过，然后通过网页上点击判断坐标位置通过adb命令让手机执行。完美，本着这个想法去实现，项目已经搭建，frp服务已经开启。突然发现了宝藏【RustDesk】，果断放弃曾认为完美的计划，开舔【RustDesk】。这就是我和它的故事！</p> 
<p>废话不说，一次字：开始干！</p> 
<h4>1：访问RustDesk，下载对应文件。</h4> 
<p><a href="http://rustdesk.com/zh/" rel="nofollow" title="RustDesk | 开源远程桌面软件">RustDesk | 开源远程桌面软件</a><br><img alt="" height="644" src="https://images2.imgbox.com/10/d4/ldaKgyX1_o.png" width="1200"><br>  </p> 
<p></p> 
<p></p> 
<p><img alt="" height="794" src="https://images2.imgbox.com/ae/d5/T6mkFsjW_o.png" width="1200"></p> 
<p>不想看图找，直接赋链接：<a href="https://github.com/rustdesk/rustdesk-server/releases" title="Releases · rustdesk/rustdesk-server · GitHub">Releases · rustdesk/rustdesk-server · GitHub</a></p> 
<p><img alt="" height="869" src="https://images2.imgbox.com/14/c9/CXw4IgmX_o.png" width="1200"></p> 
<p> 下载Linux的文件。</p> 
<h4>2：解压上传至服务器，方法很多，可以用宝塔、xftp等，哪个顺手用哪个吧。</h4> 
<p><img alt="" height="531" src="https://images2.imgbox.com/83/aa/RujOEjJk_o.png" width="1200"></p> 
<h4> 3：开启守护进程，给到启动hbbs和hbbr。（宝塔软件商店安装：【进程守护管理器】免费）</h4> 
<p><img alt="" height="675" src="https://images2.imgbox.com/3e/cb/PvhBOjMQ_o.png" width="1200"></p> 
<p> 安装成功后设置首页展示</p> 
<p><img alt="" height="527" src="https://images2.imgbox.com/5b/6b/8ixGnFMe_o.png" width="1200"></p> 
<p> <strong>然后进到首页开始添加守护进程，注意上传hbbs和hbbr路径填写正确</strong></p> 
<p><img alt="" height="600" src="https://images2.imgbox.com/bf/8d/ifuuWioy_o.png" width="961"></p> 
<p></p> 
<p><img alt="" height="598" src="https://images2.imgbox.com/b7/6d/roFvSxC9_o.png" width="964"></p> 
<p>注意，进程数设置一个就行，不用设置多。设置完成会自动启动，没有成功就说明文件路径和命令不正确，按照截图对照你的路径排查吧。</p> 
<p> <img alt="" height="635" src="https://images2.imgbox.com/0f/16/3hfZ9Pqy_o.png" width="1013"></p> 
<h4> 4：开放防火墙端口号：</h4> 
<ul><li>TCP(<strong>21115, 21116, 21117, 21118, 21119</strong>)</li><li>UDP(<strong>21116</strong>)</li></ul> 
<p><img alt="" height="629" src="https://images2.imgbox.com/36/9d/C00TXvz7_o.png" width="1200"></p> 
<p> 不管所以然，按照官方文档开整。</p> 
<p><strong>先开放服务器的防火墙：</strong></p> 
<p><img alt="" height="453" src="https://images2.imgbox.com/63/a8/tuo3XeuM_o.png" width="910"></p> 
<pre><code>firewall-cmd --zone=public --add-port=21115/tcp --permanent
firewall-cmd --zone=public --add-port=21116/tcp --permanent
firewall-cmd --zone=public --add-port=21117/tcp --permanent
firewall-cmd --zone=public --add-port=21118/tcp --permanent
firewall-cmd --zone=public --add-port=21119/tcp --permanent
firewall-cmd --zone=public --add-port=21116/udp --permanent
firewall-cmd --reload
firewall-cmd --reload
firewall-cmd --reload
firewall-cmd --query-port=21115/tcp
firewall-cmd --query-port=21116/tcp
firewall-cmd --query-port=21117/tcp
firewall-cmd --query-port=21118/tcp
firewall-cmd --query-port=21119/tcp
firewall-cmd --query-port=21116/udp

</code></pre> 
<p><strong> 开启阿里云安全组：</strong></p> 
<p><img alt="" height="286" src="https://images2.imgbox.com/0e/85/AWGa3203_o.png" width="1200"></p> 
<p></p> 
<h4> 5：开始使用，电脑和手机均可使用，找到中继服务器部分，填写信息即可。</h4> 
<p><img alt="" height="593" src="https://images2.imgbox.com/78/b7/fDngdqfu_o.png" width="782"></p> 
<p></p> 
<p><strong>注意、注意、注意，填写中继后，只能和填写相同的中继进行控制，反之不可用。</strong></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/920aa6181b33169dd82b90e236d7d316/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">mysql中如何将存在分隔符号的一列进行拆分，成为多行</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b7364da6954484cebb683c00fddfa5a1/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">CentOS7安装RabbitMQ详细教程</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>