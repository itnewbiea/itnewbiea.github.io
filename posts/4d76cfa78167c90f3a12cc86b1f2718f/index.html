<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>镜头景深相关知识 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="镜头景深相关知识" />
<meta property="og:description" content=" 镜头景深 景深概念景深计算景深公式是如何推导出来的推导过程景深公式的近似及简化 景深概念 为了方便谈论景深，我们在这里把成像过程视为理想成像，即点物成点像。在理想光学系统中，物空间的一个平面，在像空间有且只有一个平面与之共轭，该物平面（对焦平面）上的点在与之共轭的像平面（感光平面）上成点像，在其他像空间的平面上的像只能是一个有一定直径的圆斑，光学上称为弥散斑。
我们知道任何的光能接收器都是不完善的，无论是人眼，感光胶片，CCD，CMOS都是具有一定的分辨率，只要弥散斑的直径足够小时，接收器就会误认为其是一个点。所以，可以说该点（实际是直径足够小的弥散斑）所在的平面也参与了清晰成像。
景深的定义就是在感光平面上获得成清晰像的物空间深度。记作：DOF（Depth Of Field）。 下图所示，对焦平面上的点在感光平面上的像是一个点，而平面1和平面2上的点在感光平面上的像是直径可接受的弥散斑，该光学系统的景深就是平面1到平面2之间的距离。
经过公式推导（此处省略，有兴趣者可探讨）我们给出景深的计算公式：
景深=2 x 有效Fno x 弥散斑直径 ÷倍率²
通过公式我们可以看出，光学系统的景深受有效Fno、弥散斑直径、倍率这三个参数的影响。我们反复讲越大的倍率景深会越小；光圈开的越大，说明有效Fno越小，此时景深越小，这两点对于大家好像比较容易理解。唯独对弥散斑直径的争议不断。
上面我们说，任何光能接收器都是不完善的，存在一个分辨率，当弥散斑的直径足够小时，认为该弥散斑是一点。也就是可接受的清晰成像。在实际工业机器视觉应用中，我们通常不会用人眼去判断图像是否清晰，不会通过弥散斑小到被误认为是点而去判断图像的清晰度。而是通过去数究竟有几个过度像素来判断图像是否可接受。如下图，（A）中从黑到白仅1个过度像素，（B）中从黑到白有3个过度像素。假设在实际项目中，可接受的过度像素是3个，那么此3个过度像素的长度就作为弥散斑的半径，此时计算该应用中的景深所用的弥散斑直径就是2 x 3 x像元尺寸。
景深计算 而有效Fno. 与Fno. 换算关系如下：
通常,镜头厂家会用如下方式来表示对应镜头种类的通光量：
（1） 远心镜头：直接给出有效Fno.， 如：
（2） 微距镜头：给出Fno. ，如：
（3） CCTV镜头：给出Fno.，如
以ML-MC50HR微距镜头为例，当此镜头用在0.5倍时，有效Fno.≈Fno.(1&#43;0.5) = 1.5 Fno. ，如果用错了，则景深会相差1.5倍。
又如 ML-M1616UR CCTV镜头，在不加接圈时，其最大倍率也仅为0.095倍。则有效Fno.≈1.095*Fno. 。一般而言，CCTV镜头计算景深时，可用Fno.代替有效Fno.
因此，从上述描述可以看出，对于微距和CCTV这类给出Fno.值的镜头，若用在倍率较大时（一般大于0.1倍），需将Fno.换算成有效Fno.后，再代入景深公式计算。
景深公式是如何推导出来的 之前的文章或视频里，我们经常会提到景深这个参数，包括景深公式（景深=2有效Fno可接受弥散圆直径/放大倍率²），相信经常关注我们官方号的小伙伴一定不会陌生。但是，还是会有小伙伴问：为什么你们这个公式和网上，或是教科书中的景深公式相比，有比较大的差异，到底孰对孰错……
注释：
F：焦距
D：有效光圈孔径（入瞳孔径）
A：光圈值，A=F/D
σ：可接受弥散圆直径
u：物距
v：像距
h：后主面、出瞳间距
n：出入瞳孔径比，n=D’/D
推导过程 景深公式的近似及简化 " />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/4d76cfa78167c90f3a12cc86b1f2718f/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-02-07T16:32:55+08:00" />
<meta property="article:modified_time" content="2022-02-07T16:32:55+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">镜头景深相关知识</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>镜头景深</h4> 
 <ul><li><a href="#_2" rel="nofollow">景深概念</a></li><li><a href="#_24" rel="nofollow">景深计算</a></li><li><a href="#_44" rel="nofollow">景深公式是如何推导出来的</a></li><li><ul><li><a href="#_56" rel="nofollow">推导过程</a></li><li><a href="#_59" rel="nofollow">景深公式的近似及简化</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="_2"></a>景深概念</h2> 
<p>为了方便谈论景深，我们在这里把成像过程视为理想成像，即点物成点像。在理想光学系统中，物空间的一个平面，在像空间有且只有一个平面与之共轭，该物平面（对焦平面）上的点在与之共轭的像平面（感光平面）上成点像，在其他像空间的平面上的像只能是一个有一定直径的圆斑，光学上称为弥散斑。<br> <img src="https://images2.imgbox.com/c7/c0/2YnzDYKs_o.jpg" alt="在这里插入图片描述"><br> 我们知道任何的光能接收器都是不完善的，无论是人眼，感光胶片，CCD，CMOS都是具有一定的分辨率，只要弥散斑的直径足够小时，接收器就会误认为其是一个点。所以，可以说该点（实际是直径足够小的弥散斑）所在的平面也参与了清晰成像。</p> 
<pre><code class="prism language-cpp">景深的定义就是在感光平面上获得成清晰像的物空间深度。记作：DOF（Depth Of Field）。
</code></pre> 
<p>下图所示，对焦平面上的点在感光平面上的像是一个点，而平面1和平面2上的点在感光平面上的像是直径可接受的弥散斑，该光学系统的景深就是平面1到平面2之间的距离。<br> <img src="https://images2.imgbox.com/1e/9e/NRCcNzwT_o.jpg" alt="在这里插入图片描述"><br> 经过公式推导（此处省略，有兴趣者可探讨）我们给出景深的计算公式：<br> <strong>景深=2 x 有效Fno x 弥散斑直径 ÷倍率²</strong></p> 
<p>通过公式我们可以看出，光学系统的景深受<strong>有效Fno、弥散斑直径、倍率</strong>这三个参数的影响。我们反复讲越大的倍率景深会越小；光圈开的越大，说明有效Fno越小，此时景深越小，这两点对于大家好像比较容易理解。唯独对弥散斑直径的争议不断。</p> 
<p>上面我们说，任何光能接收器都是不完善的，存在一个分辨率，当弥散斑的直径足够小时，认为该弥散斑是一点。也就是可接受的清晰成像。在实际工业机器视觉应用中，我们通常不会用人眼去判断图像是否清晰，不会通过弥散斑小到被误认为是点而去判断图像的清晰度。而是<strong>通过去数究竟有几个过度像素来判断图像是否可接受</strong>。如下图，（A）中从黑到白仅1个过度像素，（B）中从黑到白有3个过度像素。假设在实际项目中，可接受的过度像素是3个，那么此3个过度像素的长度就作为弥散斑的半径，此时计算<strong>该应用中的景深</strong>所用的弥散斑直径就是2 x 3 x像元尺寸。<br> <img src="https://images2.imgbox.com/56/b6/OokM9I44_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_24"></a>景深计算</h2> 
<p><img src="https://images2.imgbox.com/11/ce/cT70WVfk_o.png" alt="在这里插入图片描述"><br> 而有效Fno. 与Fno. 换算关系如下：<br> <img src="https://images2.imgbox.com/fb/19/WMptWLbd_o.png" alt="在这里插入图片描述"><br> 通常,镜头厂家会用如下方式来表示对应镜头种类的通光量：</p> 
<p>（1） 远心镜头：直接给出有效Fno.， 如：<br> <img src="https://images2.imgbox.com/81/b5/9gF87KKA_o.png" alt="在这里插入图片描述"><br> （2） 微距镜头：给出Fno. ，如：<br> <img src="https://images2.imgbox.com/66/0f/Lo3ScnPh_o.png" alt="在这里插入图片描述"><br> （3） CCTV镜头：给出Fno.，如<br> <img src="https://images2.imgbox.com/a8/33/ZoMSzXF5_o.png" alt="在这里插入图片描述"><br> 以ML-MC50HR微距镜头为例，当此镜头用在0.5倍时，<strong>有效Fno</strong>.≈Fno.<em>(1+0.5) = 1.5</em> Fno. ，如果用错了，则景深会相差1.5倍。</p> 
<p>又如 ML-M1616UR CCTV镜头，在不加接圈时，其最大倍率也仅为0.095倍。则<strong>有效Fno</strong>.≈1.095*Fno. 。一般而言，<strong>CCTV镜头计算景深时，可用Fno.代替有效Fno</strong>.</p> 
<p>因此，从上述描述可以看出，<strong>对于微距和CCTV这类给出Fno.值的镜头，若用在倍率较大时（一般大于0.1倍），需将Fno.换算成有效Fno.后，再代入景深公式计算。</strong></p> 
<h2><a id="_44"></a>景深公式是如何推导出来的</h2> 
<p>之前的文章或视频里，我们经常会提到景深这个参数，包括景深公式（<strong>景深=2<em>有效Fno</em>可接受弥散圆直径/放大倍率²</strong>），相信经常关注我们官方号的小伙伴一定不会陌生。但是，还是会有小伙伴问：为什么你们这个公式和网上，或是教科书中的景深公式相比，有比较大的差异，到底孰对孰错……<br> <img src="https://images2.imgbox.com/0e/56/TRzlMaNG_o.png" alt="在这里插入图片描述"><br> 注释：<br> F：焦距<br> D：有效光圈孔径（入瞳孔径）<br> A：光圈值，A=F/D<br> σ：可接受弥散圆直径<br> u：物距<br> v：像距<br> h：后主面、出瞳间距<br> n：出入瞳孔径比，n=D’/D</p> 
<h3><a id="_56"></a>推导过程</h3> 
<p><img src="https://images2.imgbox.com/bc/6d/mKmd4rFq_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/74/ce/XOqCn9jC_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_59"></a>景深公式的近似及简化</h3> 
<p><img src="https://images2.imgbox.com/1f/db/Bm1EU5l5_o.png" alt="在这里插入图片描述"></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/a43534e58226147edf5977978b86c839/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">如何更新word文档中的文献引用编号？</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/2ebfa0ed837f91bbe26c127032b789f5/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">vue之级联选择器选中拿到当前全部数据（elementU）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>