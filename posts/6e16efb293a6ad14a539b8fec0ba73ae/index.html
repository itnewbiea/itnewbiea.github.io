<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>adb命令 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="adb命令" />
<meta property="og:description" content="https://developer.android.com/studio/command-line/adb
Android Debug Bridge version 1.0.41 Version 30.0.5-6877874 Installed as C:\Users\Administrator\AppData\Local\Android\Sdk\platform-tools\adb.exe global options: -a listen on all network interfaces, not just localhost -d use USB device (error if multiple devices connected) -e use TCP/IP device (error if multiple TCP/IP devices available) -s SERIAL use device with given serial (overrides $ANDROID_SERIAL) -t ID use device with given transport id -H name of adb server host [default=localhost] -P port of adb server [default=5037] -L SOCKET listen on given socket for adb server [default=tcp:localhost:5037] general commands: devices [-l] list connected devices (-l for long output) help show this help message version show version num networking: connect HOST[:PORT] connect to a device via TCP/IP [default port=5555] disconnect [HOST[:PORT]] disconnect from given TCP/IP device [default port=5555], or all pair HOST[:PORT] [PAIRING CODE] pair with a device for secure TCP/IP communication forward --list list all forward socket connections forward [--no-rebind] LOCAL REMOTE forward socket connection using: tcp:&lt;port&gt; (&lt;local&gt; may be &#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/6e16efb293a6ad14a539b8fec0ba73ae/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-05-06T16:59:58+08:00" />
<meta property="article:modified_time" content="2020-05-06T16:59:58+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">adb命令</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-github-gist">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><a href="https://developer.android.com/studio/command-line/adb" rel="nofollow">https://developer.android.com/studio/command-line/adb</a></p> 
<pre><code class="prism language-bash">Android Debug Bridge version 1.0.41
Version 30.0.5-6877874
Installed as C:\Users\Administrator\AppData\Local\Android\Sdk\platform-tools\adb.exe

global options:
 -a         listen on all network interfaces, not just localhost
 -d         use USB device <span class="token punctuation">(</span>error <span class="token keyword">if</span> multiple devices connected<span class="token punctuation">)</span>
 -e         use TCP/IP device <span class="token punctuation">(</span>error <span class="token keyword">if</span> multiple TCP/IP devices available<span class="token punctuation">)</span>
 -s SERIAL  use device with given serial <span class="token punctuation">(</span>overrides <span class="token variable">$ANDROID_SERIAL</span><span class="token punctuation">)</span>
 -t ID      use device with given transport <span class="token function">id</span>
 -H         name of adb server host <span class="token punctuation">[</span>default<span class="token operator">=</span>localhost<span class="token punctuation">]</span>
 -P         port of adb server <span class="token punctuation">[</span>default<span class="token operator">=</span>5037<span class="token punctuation">]</span>
 -L SOCKET  listen on given socket <span class="token keyword">for</span> adb server <span class="token punctuation">[</span>default<span class="token operator">=</span>tcp:localhost:5037<span class="token punctuation">]</span>

general commands:
 devices <span class="token punctuation">[</span>-l<span class="token punctuation">]</span>             list connected devices <span class="token punctuation">(</span>-l <span class="token keyword">for</span> long output<span class="token punctuation">)</span>
 <span class="token function">help</span>                     show this <span class="token function">help</span> message
 version                  show version num

networking:
 connect HOST<span class="token punctuation">[</span>:PORT<span class="token punctuation">]</span>      connect to a device via TCP/IP <span class="token punctuation">[</span>default port<span class="token operator">=</span>5555<span class="token punctuation">]</span>
 disconnect <span class="token punctuation">[</span>HOST<span class="token punctuation">[</span>:PORT<span class="token punctuation">]</span><span class="token punctuation">]</span>
     disconnect from given TCP/IP device <span class="token punctuation">[</span>default port<span class="token operator">=</span>5555<span class="token punctuation">]</span>, or all
 pair HOST<span class="token punctuation">[</span>:PORT<span class="token punctuation">]</span> <span class="token punctuation">[</span>PAIRING CODE<span class="token punctuation">]</span>
     pair with a device <span class="token keyword">for</span> secure TCP/IP communication
 forward --list           list all forward socket connections
 forward <span class="token punctuation">[</span>--no-rebind<span class="token punctuation">]</span> LOCAL REMOTE
     forward socket connection using:
       tcp:<span class="token operator">&lt;</span>port<span class="token operator">&gt;</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span>local<span class="token operator">&gt;</span> may be <span class="token string">"tcp:0"</span> to pick any <span class="token function">open</span> port<span class="token punctuation">)</span>
       localabstract:<span class="token operator">&lt;</span>unix domain socket name<span class="token operator">&gt;</span>
       localreserved:<span class="token operator">&lt;</span>unix domain socket name<span class="token operator">&gt;</span>
       localfilesystem:<span class="token operator">&lt;</span>unix domain socket name<span class="token operator">&gt;</span>
       dev:<span class="token operator">&lt;</span>character device name<span class="token operator">&gt;</span>
       jdwp:<span class="token operator">&lt;</span>process pid<span class="token operator">&gt;</span> <span class="token punctuation">(</span>remote only<span class="token punctuation">)</span>
       acceptfd:<span class="token operator">&lt;</span>fd<span class="token operator">&gt;</span> <span class="token punctuation">(</span>listen only<span class="token punctuation">)</span>
 forward --remove LOCAL   remove specific forward socket connection
 forward --remove-all     remove all forward socket connections
 ppp TTY <span class="token punctuation">[</span>PARAMETER<span class="token punctuation">..</span>.<span class="token punctuation">]</span>   run PPP over USB
 reverse --list           list all reverse socket connections from device
 reverse <span class="token punctuation">[</span>--no-rebind<span class="token punctuation">]</span> REMOTE LOCAL
     reverse socket connection using:
       tcp:<span class="token operator">&lt;</span>port<span class="token operator">&gt;</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span>remote<span class="token operator">&gt;</span> may be <span class="token string">"tcp:0"</span> to pick any <span class="token function">open</span> port<span class="token punctuation">)</span>
       localabstract:<span class="token operator">&lt;</span>unix domain socket name<span class="token operator">&gt;</span>
       localreserved:<span class="token operator">&lt;</span>unix domain socket name<span class="token operator">&gt;</span>
       localfilesystem:<span class="token operator">&lt;</span>unix domain socket name<span class="token operator">&gt;</span>
 reverse --remove REMOTE  remove specific reverse socket connection
 reverse --remove-all     remove all reverse socket connections from device
 mdns check               check <span class="token keyword">if</span> mdns discovery is available
 mdns services            list all discovered services

<span class="token function">file</span> transfer:
 push <span class="token punctuation">[</span>--sync<span class="token punctuation">]</span> <span class="token punctuation">[</span>-z ALGORITHM<span class="token punctuation">]</span> <span class="token punctuation">[</span>-Z<span class="token punctuation">]</span> LOCAL<span class="token punctuation">..</span>. REMOTE
     copy local files/directories to device
     --sync: only push files that are newer on the host than the device
     -n: dry run: push files to device without storing to the filesystem
     -z: <span class="token function">enable</span> compression with a specified algorithm <span class="token punctuation">(</span>any, none, brotli<span class="token punctuation">)</span>
     -Z: disable compression
 pull <span class="token punctuation">[</span>-a<span class="token punctuation">]</span> <span class="token punctuation">[</span>-z ALGORITHM<span class="token punctuation">]</span> <span class="token punctuation">[</span>-Z<span class="token punctuation">]</span> REMOTE<span class="token punctuation">..</span>. LOCAL
     copy files/dirs from device
     -a: preserve <span class="token function">file</span> timestamp and mode
     -z: <span class="token function">enable</span> compression with a specified algorithm <span class="token punctuation">(</span>any, none, brotli<span class="token punctuation">)</span>
     -Z: disable compression
 <span class="token function">sync</span> <span class="token punctuation">[</span>-l<span class="token punctuation">]</span> <span class="token punctuation">[</span>-z ALGORITHM<span class="token punctuation">]</span> <span class="token punctuation">[</span>-Z<span class="token punctuation">]</span> <span class="token punctuation">[</span>all<span class="token operator">|</span>data<span class="token operator">|</span>odm<span class="token operator">|</span>oem<span class="token operator">|</span>product<span class="token operator">|</span>system<span class="token operator">|</span>system_ext<span class="token operator">|</span>vendor<span class="token punctuation">]</span>
     <span class="token function">sync</span> a local build from <span class="token variable">$ANDROID_PRODUCT_OUT</span> to the device <span class="token punctuation">(</span>default all<span class="token punctuation">)</span>
     -n: dry run: push files to device without storing to the filesystem
     -l: list files that would be copied, but don<span class="token string">'t copy them
     -z: enable compression with a specified algorithm (any, none, brotli)
     -Z: disable compression

shell:
 shell [-e ESCAPE] [-n] [-Tt] [-x] [COMMAND...]
     run remote shell command (interactive shell if no command given)
     -e: choose escape character, or "none"; default '</span>~<span class="token string">'
     -n: don'</span>t <span class="token function">read</span> from stdin
     -T: disable pty allocation
     -t: allocate a pty <span class="token keyword">if</span> on a <span class="token function">tty</span> <span class="token punctuation">(</span>-tt: force pty allocation<span class="token punctuation">)</span>
     -x: disable remote <span class="token keyword">exit</span> codes and stdout/stderr separation
 emu COMMAND              run emulator console <span class="token function">command</span>

app installation <span class="token punctuation">(</span>see also <span class="token variable"><span class="token variable">`</span>adb shell cmd package <span class="token function">help</span><span class="token variable">`</span></span><span class="token punctuation">)</span>:
 <span class="token function">install</span> <span class="token punctuation">[</span>-lrtsdg<span class="token punctuation">]</span> <span class="token punctuation">[</span>--instant<span class="token punctuation">]</span> PACKAGE
     push a single package to the device and <span class="token function">install</span> it
 install-multiple <span class="token punctuation">[</span>-lrtsdpg<span class="token punctuation">]</span> <span class="token punctuation">[</span>--instant<span class="token punctuation">]</span> PACKAGE<span class="token punctuation">..</span>.
     push multiple APKs to the device <span class="token keyword">for</span> a single package and <span class="token function">install</span> them
 install-multi-package <span class="token punctuation">[</span>-lrtsdpg<span class="token punctuation">]</span> <span class="token punctuation">[</span>--instant<span class="token punctuation">]</span> PACKAGE<span class="token punctuation">..</span>.
     push one or <span class="token function">more</span> packages to the device and <span class="token function">install</span> them atomically
     -r: replace existing application
     -t: allow <span class="token function">test</span> packages
     -d: allow version code downgrade <span class="token punctuation">(</span>debuggable packages only<span class="token punctuation">)</span>
     -p: partial application <span class="token function">install</span> <span class="token punctuation">(</span>install-multiple only<span class="token punctuation">)</span>
     -g: grant all runtime permissions
     --abi ABI: override platform<span class="token string">'s default ABI
     --instant: cause the app to be installed as an ephemeral install app
     --no-streaming: always push APK to device and invoke Package Manager as separate steps
     --streaming: force streaming APK directly into Package Manager
     --fastdeploy: use fast deploy
     --no-fastdeploy: prevent use of fast deploy
     --force-agent: force update of deployment agent when using fast deploy
     --date-check-agent: update deployment agent when local version is newer and using fast deploy
     --version-check-agent: update deployment agent when local version has different version code and using fast deploy
     (See also <span class="token variable"><span class="token variable">`</span>adb shell pm <span class="token function">help</span><span class="token variable">`</span></span> for more options.)
 uninstall [-k] PACKAGE
     remove this app package from the device
     '</span>-k<span class="token string">': keep the data and cache directories

debugging:
 bugreport [PATH]
     write bugreport to given PATH [default=bugreport.zip];
     if PATH is a directory, the bug report is saved in that directory.
     devices that don'</span>t support zipped bug reports output to stdout.
 jdwp                     list pids of processes hosting a JDWP transport
 logcat                   show device log <span class="token punctuation">(</span>logcat --help <span class="token keyword">for</span> more<span class="token punctuation">)</span>

security:
 disable-verity           disable dm-verity checking on userdebug builds
 enable-verity            re-enable dm-verity checking on userdebug builds
 keygen FILE
     generate adb public/private key<span class="token punctuation">;</span> private key stored <span class="token keyword">in</span> FILE,

scripting:
 wait-for<span class="token punctuation">[</span>-TRANSPORT<span class="token punctuation">]</span>-STATE<span class="token punctuation">..</span>.
     <span class="token function">wait</span> <span class="token keyword">for</span> device to be <span class="token keyword">in</span> a given state
     STATE: device, recovery, rescue, sideload, bootloader, or disconnect
     TRANSPORT: usb, local, or any <span class="token punctuation">[</span>default<span class="token operator">=</span>any<span class="token punctuation">]</span>
 get-state                print offline <span class="token operator">|</span> bootloader <span class="token operator">|</span> device
 get-serialno             print <span class="token operator">&lt;</span>serial-number<span class="token operator">&gt;</span>
 get-devpath              print <span class="token operator">&lt;</span>device-path<span class="token operator">&gt;</span>
 remount <span class="token punctuation">[</span>-R<span class="token punctuation">]</span>
      remount partitions read-write. <span class="token keyword">if</span> a <span class="token function">reboot</span> is required, -R will
      will automatically <span class="token function">reboot</span> the device.
 <span class="token function">reboot</span> <span class="token punctuation">[</span>bootloader<span class="token operator">|</span>recovery<span class="token operator">|</span>sideload<span class="token operator">|</span>sideload-auto-reboot<span class="token punctuation">]</span>
     <span class="token function">reboot</span> the device<span class="token punctuation">;</span> defaults to booting system image but
     supports bootloader and recovery too. sideload reboots
     into recovery and automatically starts sideload mode,
     sideload-auto-reboot is the same but reboots after sideloading.
 sideload OTAPACKAGE      sideload the given full OTA package
 root                     restart adbd with root permissions
 unroot                   restart adbd without root permissions
 usb                      restart adbd listening on USB
 tcpip PORT               restart adbd listening on TCP on PORT

internal debugging:
 start-server             ensure that there is a server running
 kill-server              <span class="token function">kill</span> the server <span class="token keyword">if</span> it is running
 reconnect                kick connection from host side to force reconnect
 reconnect device         kick connection from device side to force reconnect
 reconnect offline        reset offline/unauthorized devices to force reconnect

environment variables:
 <span class="token variable">$ADB_TRACE</span>
     comma-separated list of debug info to log:
     all,adb,sockets,packets,rwx,usb,sync,sysdeps,transport,jdwp
 <span class="token variable">$ADB_VENDOR_KEYS</span>         colon-separated list of keys <span class="token punctuation">(</span>files or directories<span class="token punctuation">)</span>
 <span class="token variable">$ANDROID_SERIAL</span>          serial number to connect to <span class="token punctuation">(</span>see -s<span class="token punctuation">)</span>
 <span class="token variable">$ANDROID_LOG_TAGS</span>        tags to be used by logcat <span class="token punctuation">(</span>see logcat --help<span class="token punctuation">)</span>
 <span class="token variable">$ADB_LOCAL_TRANSPORT_MAX_PORT</span> max emulator scan port <span class="token punctuation">(</span>default 5585, 16 emus<span class="token punctuation">)</span>
 <span class="token variable">$ADB_MDNS_AUTO_CONNECT</span>   comma-separated list of mdns services to allow auto-connect <span class="token punctuation">(</span>default adb-tls-connect<span class="token punctuation">)</span>

</code></pre> 
<p>查看adb版本信息</p> 
<pre><code class="prism language-bash">adb version
</code></pre> 
<p><img src="https://images2.imgbox.com/ef/6b/Rh1NmTBo_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-bash"><span class="token comment"># 查看设备</span>
adb devices
</code></pre> 
<pre><code class="prism language-bash"><span class="token comment"># 进入指定的设备</span>
adb -s <span class="token operator">&lt;</span>some<span class="token operator">&gt;</span> shell
</code></pre> 
<p><img src="https://images2.imgbox.com/ea/f7/2ktSLZxv_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-bash">adb shell
<span class="token comment"># 获取安卓版本</span>
getprop ro.build.version.release
</code></pre> 
<p><img src="https://images2.imgbox.com/60/e7/v4abq2w5_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-bash"><span class="token comment"># 获取设备型号</span>
getprop ro.prodect.model
<span class="token comment"># 获取产商名称</span>
getprop ro.product.brand
<span class="token comment"># 获取序列号</span>
getprop ro.serialno
</code></pre> 
<p><img src="https://images2.imgbox.com/8b/5f/y7KS2bQP_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-bash"><span class="token comment"># 获取系统api版本</span>
getprop ro.build.version.sdk
</code></pre> 
<p><img src="https://images2.imgbox.com/31/fd/V8lcZtH8_o.png" alt="在这里插入图片描述"></p> 
<p>获取cpu信息</p> 
<pre><code class="prism language-go">getprop ro<span class="token punctuation">.</span>product<span class="token punctuation">.</span>cpu<span class="token punctuation">.</span>abi
</code></pre> 
<p>查看当前avtivity</p> 
<pre><code class="prism language-bash">adb shell dumpsys activity <span class="token function">top</span>
</code></pre> 
<p>安装程序</p> 
<pre><code class="prism language-bash">adb -s <span class="token operator">&lt;</span>device<span class="token operator">&gt;</span> <span class="token function">install</span> <span class="token operator">&lt;</span>application.apk<span class="token operator">&gt;</span>
</code></pre> 
<p>复制文件到当前目录</p> 
<pre><code class="prism language-bash">adb -s <span class="token operator">&lt;</span>device<span class="token operator">&gt;</span> pull <span class="token operator">&lt;</span>手机路径<span class="token operator">&gt;</span> <span class="token keyword">.</span>
</code></pre>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/09ef1f2c02fbf763f177e0eb09098796/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">使用 Element 上传组件读取文件</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/66a882dff1c12bda3b551e57e01feffa/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">python对象与类型之映射（dict）与集合（set）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>