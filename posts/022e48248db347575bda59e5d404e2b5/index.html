<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Ubuntu系统全盘备份（亲测可用） - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Ubuntu系统全盘备份（亲测可用）" />
<meta property="og:description" content="Ubuntu系统全盘备份，解决了恢复系统后开机引导丢失的问题。
现在有很多关于ubuntu备份的博客，但是通过测试直接能用的不多，很多都会遇到各种问题。本人参考科大一小僧的博客，再加上自己解决了备份过程中的一些问题，在这里把这种完整可用的备份ubuntu16.04的方法提供给大家。
由于ubuntu系统的特点，用户对几乎全部的系统文件都有访问和更改的权限。在实际使用过程中，需要进行各种环境的配置，经常需要更改系统文件。有时候我们可能会误删文件导致系统崩溃，此外我们还有可能把代码或者其一些重要的资源误删。因此我们有备份系统的需要，遇到解决不了的问题，可以通过这种方式避免重装系统时繁琐的环境配置。此方法还适用于需要快速配置系统的情况，例如同样的系统环境配置需要应用于多台相同功能的机器人。
第一步：备份系统
$cd / $sudo su $tar cvpzf backup.tgz --exclude=/proc --exclude=/lost&#43;found --exclude=/backup.tgz --exclude=/mnt --exclude=/sys --exclude=/media / 如果出现：
tar: Error exit delayed from previous errors
忽略即可。
$cp /backup.tgz &lt;U盘dir&gt; 等待执行完毕。
这里在打包的过程中排除了一些不需要备份，或者与新系统文件冲突的文件，不需要了解这些文件的具体作用。我们会得到一个名为backup.tgz的压缩文件，这个文件包含我们需要备份的系统的全部内容。
第二步：重装干净的Ubuntu系统
使用ubuntu启动盘重新安装系统，这一步的目的是自动分配存储空间和挂载，如果你会手动完成这两个任务则不需要重装系统，对于Ubuntu不太熟悉的朋友可以照做即可，这个系统在安装后会被我们删除，因此不需要连接网络，也不需要在安装时安装第三方程序。
第三步：系统恢复
1.开机按F10进入boost，选择启动盘启动，再选择try ubuntu without installing。
2.终端输入：
&lt;span style=&#34;color:#ffffff&#34;&gt;$ cd /media/（U盘） 在tryUbuntu根目录下有media文件夹，里面是U盘文件夹和新安装的系统文件夹，在在里分别用（U盘）和（UBUNTU）表示 $ sudo su # mount -o remount rw ./ # sudo cp /media/(Ubuntu)/boot/grub/grub.cfg ./ 将新系统根目录下/boot/grub/grub.cfg文件备份到U盘中 # sudo cp /media/(UBUNTU)/etc/fstab ./ 将新系统根目录下/etc/fstab文件备份到U盘中 fstab是与系统开机挂载有关的文件，grub.cfg是与开机引导有关的文件，所以这一步至关重要 # cd /media/(UBUNTU) # sudo rm -rf ." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/022e48248db347575bda59e5d404e2b5/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-02-17T20:16:53+08:00" />
<meta property="article:modified_time" content="2022-02-17T20:16:53+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Ubuntu系统全盘备份（亲测可用）</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><strong>Ubuntu系统全盘备份，解决了恢复系统后开机引导丢失的问题。</strong></p> 
<p>现在有很多关于ubuntu备份的博客，但是通过测试直接能用的不多，很多都会遇到各种问题。本人参考科大一小僧的博客，再加上自己解决了备份过程中的一些问题，在这里把这种完整可用的备份ubuntu16.04的方法提供给大家。</p> 
<p>由于ubuntu系统的特点，用户对几乎全部的系统文件都有访问和更改的权限。在实际使用过程中，需要进行各种环境的配置，经常需要更改系统文件。有时候我们可能会误删文件导致系统崩溃，此外我们还有可能把代码或者其一些重要的资源误删。因此我们有备份系统的需要，遇到解决不了的问题，可以通过这种方式避免重装系统时繁琐的环境配置。此方法还适用于需要快速配置系统的情况，例如同样的系统环境配置需要应用于多台相同功能的机器人。</p> 
<p>第一步：备份系统</p> 
<pre><code class="language-bash">$cd /

$sudo su

$tar cvpzf backup.tgz --exclude=/proc --exclude=/lost+found --exclude=/backup.tgz --exclude=/mnt --exclude=/sys --exclude=/media /</code></pre> 
<p>如果出现：</p> 
<p>tar: Error exit delayed from previous errors</p> 
<p>忽略即可。</p> 
<pre><code class="language-bash">$cp  /backup.tgz  &lt;U盘dir&gt; </code></pre> 
<p> 等待执行完毕。</p> 
<p>        这里在打包的过程中排除了一些不需要备份，或者与新系统文件冲突的文件，不需要了解这些文件的具体作用。我们会得到一个名为backup.tgz的压缩文件，这个文件包含我们需要备份的系统的全部内容。</p> 
<p></p> 
<p>第二步：重装干净的Ubuntu系统</p> 
<p>使用ubuntu启动盘重新安装系统，这一步的目的是<strong><u>自动分配存储空间和挂载</u></strong>，如果你会手动完成这两个任务则不需要重装系统，对于Ubuntu不太熟悉的朋友可以照做即可，这个系统在安装后会被我们删除，因此不需要连接网络，也不需要在安装时安装第三方程序。</p> 
<p>第三步：系统恢复</p> 
<p>1.开机按F10进入boost，选择启动盘启动，再选择try ubuntu without installing。</p> 
<p>2.终端输入：</p> 
<pre class="has"><code class="language-cpp">&lt;span style="color:#ffffff"&gt;$ cd /media/（U盘）
在tryUbuntu根目录下有media文件夹，里面是U盘文件夹和新安装的系统文件夹，在在里分别用（U盘）和（UBUNTU）表示

$ sudo su

# mount -o remount rw ./

# sudo cp /media/(Ubuntu)/boot/grub/grub.cfg ./    
将新系统根目录下/boot/grub/grub.cfg文件备份到U盘中

# sudo cp /media/(UBUNTU)/etc/fstab ./
将新系统根目录下/etc/fstab文件备份到U盘中

fstab是与系统开机挂载有关的文件，grub.cfg是与开机引导有关的文件，所以这一步至关重要

# cd /media/(UBUNTU)

# sudo rm -rf ./*
这一步删除新装ubuntu全部的系统文件，有用的fstab及grub.cfg已经备份

# cp /media/(U盘)/backup.tgz ./
将U盘中backup.tgz复制到该目录下

# sudo tar xvpfz backup.tgz
解压缩

# sudo mkdir proc lost+found mnt sys media
创建打包系统时排除的文件&lt;/span&gt;</code></pre> 
<p></p> 
<p>这一步完成后，在用我们在新系统中备份的fatab及grub.cfg文件去替换压缩包中解压出来的同名文件，sudo reboot 重启后就发现系统已经恢复到备份时的状态，包括各种框架，环境，系统设置..................</p> 
<p></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/304efd7d3caf9f61819aca3b1b35fe58/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">详细新版phpstudy安装以及sqli-labs-master靶场环境搭建过程附带文件链接</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/62468d5a64bcc24fc37edd185539602e/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">C语言扫雷完整版——长文 详细分享</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>