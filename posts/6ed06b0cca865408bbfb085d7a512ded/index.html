<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>vue利用缓存减少请求次数，提高访问速度 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="vue利用缓存减少请求次数，提高访问速度" />
<meta property="og:description" content="原文：https://blog.csdn.net/qq_40963664/article/details/80062130 利用keep-alive 缓存需要缓存的页面
在app.vue中改写router-view
&lt;keep-alive&gt; &lt;router-view&gt; &lt;!-- 这里是会被缓存的视图组件，比如 page1,page2 --&gt; &lt;/router-view&gt; &lt;/keep-alive&gt; 在router/index.js中添加路由元信息，设置需要缓存的页面
routes: [{ path: &#39;/&#39;, name: &#39;index&#39;, component: index, meta: { keepAlive: true, //此组件需要被缓存 } }, { path: &#39;/page1&#39;, name: &#39;page1&#39;, component: page1, meta: { keepAlive: true, //此组件需要被缓存 } }, { path: &#39;/page2&#39;, name: &#39;page2&#39;, component: page2, meta: { keepAlive: true, // 此组件需要被缓存 } }, { path: &#39;/page3&#39;, name: &#39;page3&#39;, component: page3, meta: { keepAlive: true, // 此组件需要被缓存 } } ] 钩子函数的执行顺序" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/6ed06b0cca865408bbfb085d7a512ded/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-04-12T15:08:16+08:00" />
<meta property="article:modified_time" content="2019-04-12T15:08:16+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">vue利用缓存减少请求次数，提高访问速度</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>原文：https://blog.csdn.net/qq_40963664/article/details/80062130 </p> 
<p>利用keep-alive 缓存需要缓存的页面</p> 
<p>在app.vue中改写router-view</p> 
<pre class="has"><code>&lt;keep-alive&gt;
    &lt;router-view&gt;
        &lt;!-- 这里是会被缓存的视图组件，比如 page1,page2 --&gt;
    &lt;/router-view&gt;
&lt;/keep-alive&gt;
 </code></pre> 
<p>在router/index.js中添加<a href="https://router.vuejs.org/zh-cn/advanced/meta.html" rel="nofollow">路由元信息</a>，设置需要缓存的页面</p> 
<pre class="has"><code>routes: [{
        path: '/',
        name: 'index',
        component: index,
        meta: {
            keepAlive: true, //此组件需要被缓存
        }
    },
    {
        path: '/page1',
        name: 'page1',
        component: page1,
        meta: {
            keepAlive: true, //此组件需要被缓存
            
        }
    },
    {
        path: '/page2',
        name: 'page2',
        component: page2,
        meta: {
            keepAlive: true, // 此组件需要被缓存
           
        }
    },
    {
        path: '/page3',
        name: 'page3',
        component: page3,
        meta: {
            keepAlive: true, // 此组件需要被缓存
        }
    }
]</code></pre> 
<p>钩子函数的执行顺序</p> 
<p>不使用keep-alive<br> beforeRouteEnter --&gt; created --&gt; mounted --&gt; destroyed</p> 
<p>使用keep-alive<br> beforeRouteEnter --&gt; created --&gt; mounted --&gt; activated --&gt; deactivated<br> 再次进入缓存的页面，只会触发beforeRouteEnter --&gt;activated --&gt; deactivated 。created和mounted不会再执行。我们可以利用不同的钩子函数，做不同的事。务必理解上述钩子函数的执行时机和执行顺序，本教程的核心就依赖于此钩子函数<br> activated和deactivated是使用keep-alive后，vue中比较重要的两个钩子函数，建议详细了解下。<br>  </p> 
<p>在组件中，主要是在activated钩子函数中判断是否使用缓存</p> 
<pre class="has"><code>activated() {
    //使用缓存，直接跳过
  if(不需要缓存，则执行相应逻辑){
   
  }
 
},</code></pre> 
<p> </p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f11d00b50edd377721dda346af5cf9c8/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">vmware您无权输入许可证密钥,请请使用系统管理员账户重试</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/72169ad7044f8ac6764c99c1a31aa734/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">如何在notepad&#43;&#43;运行python代码</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>