<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>第二单元 用python学习微积分（十六）定积分 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="第二单元 用python学习微积分（十六）定积分" />
<meta property="og:description" content="本文内容来自于学习麻省理工学院公开课：单变量微积分-定积分-网易公开课
开发环境准备：CSDN
目录
一、定积分的概念
二、计算面积的步骤
1、切割成多个&#34;矩形&#34;
2、把这些&#34;矩形&#34;的面积累加起来
3、修正前面的结果，（通过让&#34;矩形&#34;变窄来取得极限值，到无穷窄）
三、例子
1、 ​，a = 0, b 任意
2、 f(x) = x ,a = 0, b 任意
3、f(x) = 1 ,a = 0, b 任意
四、定积分的符号（黎曼和）
1、求解定积分的通常的步骤
一、定积分的概念 几何意义找到曲线下的面积（另 累积和）
​
和不定积分的区别在于，不定积分并没有给出上限或下限（a,b）
二、计算面积的步骤 1、切割成多个&#34;矩形&#34; 2、把这些&#34;矩形&#34;的面积累加起来 3、修正前面的结果，（通过让&#34;矩形&#34;变窄来取得极限值，到无穷窄） ​
三、例子 1、 ，a = 0, b 任意 面积= 这里要计算 ， 老师给了一个算法，把数列中的每个数看作一个高为1的长方体的下底面（正方形）的一条边，这样组成了一个金字塔，另外这个金字塔有一个内接的4棱锥和一个外接的4棱锥。
体积依次为 import matplotlib as mpl from matplotlib import cm from matplotlib import pyplot as plt from mpl_toolkits." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/4b1aec7b76c4e85a4e0379246a06ba13/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-05-01T13:54:58+08:00" />
<meta property="article:modified_time" content="2022-05-01T13:54:58+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">第二单元 用python学习微积分（十六）定积分</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>本文内容来自于学习<a href="https://open.163.com/newview/movie/free?pid=M6GLI5A07&amp;mid=M6GLJTO3N" rel="nofollow" title="麻省理工学院公开课：单变量微积分-定积分-网易公开课">麻省理工学院公开课：单变量微积分-定积分-网易公开课</a></p> 
<p>开发环境准备：<a href="https://mp.csdn.net/mp_blog/creation/editor/121616863" title="CSDN">CSDN</a></p> 
<p id="main-toc"><strong>目录</strong></p> 
<p id="%E4%B8%80%E3%80%81%E5%AE%9A%E7%A7%AF%E5%88%86%E7%9A%84%E6%A6%82%E5%BF%B5-toc" style="margin-left:0px;"><a href="#%E4%B8%80%E3%80%81%E5%AE%9A%E7%A7%AF%E5%88%86%E7%9A%84%E6%A6%82%E5%BF%B5" rel="nofollow">一、定积分的概念</a></p> 
<p id="%E4%BA%8C%E3%80%81%E8%AE%A1%E7%AE%97%E9%9D%A2%E7%A7%AF%E7%9A%84%E6%AD%A5%E9%AA%A4-toc" style="margin-left:0px;"><a href="#%E4%BA%8C%E3%80%81%E8%AE%A1%E7%AE%97%E9%9D%A2%E7%A7%AF%E7%9A%84%E6%AD%A5%E9%AA%A4" rel="nofollow">二、计算面积的步骤</a></p> 
<p id="1%E3%80%81%E5%88%87%E5%89%B2%E6%88%90%E5%A4%9A%E4%B8%AA%22%E7%9F%A9%E5%BD%A2%22-toc" style="margin-left:40px;"><a href="#1%E3%80%81%E5%88%87%E5%89%B2%E6%88%90%E5%A4%9A%E4%B8%AA%22%E7%9F%A9%E5%BD%A2%22" rel="nofollow">1、切割成多个"矩形"</a></p> 
<p id="2%E3%80%81%E6%8A%8A%E8%BF%99%E4%BA%9B%22%E7%9F%A9%E5%BD%A2%22%E7%9A%84%E9%9D%A2%E7%A7%AF%E7%B4%AF%E5%8A%A0%E8%B5%B7%E6%9D%A5-toc" style="margin-left:40px;"><a href="#2%E3%80%81%E6%8A%8A%E8%BF%99%E4%BA%9B%22%E7%9F%A9%E5%BD%A2%22%E7%9A%84%E9%9D%A2%E7%A7%AF%E7%B4%AF%E5%8A%A0%E8%B5%B7%E6%9D%A5" rel="nofollow">2、把这些"矩形"的面积累加起来</a></p> 
<p id="3%E3%80%81%E4%BF%AE%E6%AD%A3%E5%89%8D%E9%9D%A2%E7%9A%84%E7%BB%93%E6%9E%9C%EF%BC%8C%EF%BC%88%E9%80%9A%E8%BF%87%E8%AE%A9%22%E7%9F%A9%E5%BD%A2%22%E5%8F%98%E7%AA%84%E6%9D%A5%E5%8F%96%E5%BE%97%E6%9E%81%E9%99%90%E5%80%BC%EF%BC%8C%E5%88%B0%E6%97%A0%E7%A9%B7%E7%AA%84%EF%BC%89-toc" style="margin-left:40px;"><a href="#3%E3%80%81%E4%BF%AE%E6%AD%A3%E5%89%8D%E9%9D%A2%E7%9A%84%E7%BB%93%E6%9E%9C%EF%BC%8C%EF%BC%88%E9%80%9A%E8%BF%87%E8%AE%A9%22%E7%9F%A9%E5%BD%A2%22%E5%8F%98%E7%AA%84%E6%9D%A5%E5%8F%96%E5%BE%97%E6%9E%81%E9%99%90%E5%80%BC%EF%BC%8C%E5%88%B0%E6%97%A0%E7%A9%B7%E7%AA%84%EF%BC%89" rel="nofollow">3、修正前面的结果，（通过让"矩形"变窄来取得极限值，到无穷窄）</a></p> 
<p id="%E4%B8%89%E3%80%81%E4%BE%8B%E5%AD%90-toc" style="margin-left:0px;"><a href="#%E4%B8%89%E3%80%81%E4%BE%8B%E5%AD%90" rel="nofollow">三、例子</a></p> 
<p id="1%E3%80%81%20%E2%80%8B%EF%BC%8Ca%20%3D%200%2C%20b%20%E4%BB%BB%E6%84%8F-toc" style="margin-left:40px;"><a href="#1%E3%80%81%20%E2%80%8B%EF%BC%8Ca%20%3D%200%2C%20b%20%E4%BB%BB%E6%84%8F" rel="nofollow">1、 ​，a = 0, b 任意</a></p> 
<p id="2%E3%80%81%20f(x)%20%3D%20x%20%2Ca%20%3D%200%2C%20b%20%E4%BB%BB%E6%84%8F-toc" style="margin-left:40px;"><a href="#2%E3%80%81%20f%28x%29%20%3D%20x%20%2Ca%20%3D%200%2C%20b%20%E4%BB%BB%E6%84%8F" rel="nofollow">2、 f(x) = x ,a = 0, b 任意</a></p> 
<p id="3%E3%80%81f(x)%20%3D%201%20%2Ca%20%3D%200%2C%20b%20%E4%BB%BB%E6%84%8F-toc" style="margin-left:40px;"><a href="#3%E3%80%81f%28x%29%20%3D%201%20%2Ca%20%3D%200%2C%20b%20%E4%BB%BB%E6%84%8F" rel="nofollow">3、f(x) = 1 ,a = 0, b 任意</a></p> 
<p id="%E4%B8%89%E3%80%81%E5%AE%9A%E7%A7%AF%E5%88%86%E7%9A%84%E7%AC%A6%E5%8F%B7%EF%BC%88%E9%BB%8E%E6%9B%BC%E5%92%8C%EF%BC%89-toc" style="margin-left:0px;"><a href="#%E4%B8%89%E3%80%81%E5%AE%9A%E7%A7%AF%E5%88%86%E7%9A%84%E7%AC%A6%E5%8F%B7%EF%BC%88%E9%BB%8E%E6%9B%BC%E5%92%8C%EF%BC%89" rel="nofollow">四、定积分的符号（黎曼和）</a></p> 
<p id="1%E3%80%81%E6%B1%82%E8%A7%A3%E5%AE%9A%E7%A7%AF%E5%88%86%E7%9A%84%E9%80%9A%E5%B8%B8%E7%9A%84%E6%AD%A5%E9%AA%A4-toc" style="margin-left:40px;"><a href="#1%E3%80%81%E6%B1%82%E8%A7%A3%E5%AE%9A%E7%A7%AF%E5%88%86%E7%9A%84%E9%80%9A%E5%B8%B8%E7%9A%84%E6%AD%A5%E9%AA%A4" rel="nofollow">1、求解定积分的通常的步骤</a></p> 
<hr id="hr-toc"> 
<p></p> 
<h2 id="%E4%B8%80%E3%80%81%E5%AE%9A%E7%A7%AF%E5%88%86%E7%9A%84%E6%A6%82%E5%BF%B5">一、定积分的概念</h2> 
<p>几何意义找到曲线下的面积（另 累积和）</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/3d/6d/PAExx9H7_o.png"></p> 
<p>​</p> 
<p></p> 
<p><img alt="area= \int_{a}^{b} f(x)dx" class="mathcode" src="https://images2.imgbox.com/87/45/mGkcD97c_o.png"></p> 
<p>和不定积分的区别在于，不定积分并没有给出上限或下限（a,b）</p> 
<h2 id="%E4%BA%8C%E3%80%81%E8%AE%A1%E7%AE%97%E9%9D%A2%E7%A7%AF%E7%9A%84%E6%AD%A5%E9%AA%A4">二、计算面积的步骤</h2> 
<h3 id="1%E3%80%81%E5%88%87%E5%89%B2%E6%88%90%E5%A4%9A%E4%B8%AA%22%E7%9F%A9%E5%BD%A2%22">1、切割成多个"矩形"</h3> 
<h3 id="2%E3%80%81%E6%8A%8A%E8%BF%99%E4%BA%9B%22%E7%9F%A9%E5%BD%A2%22%E7%9A%84%E9%9D%A2%E7%A7%AF%E7%B4%AF%E5%8A%A0%E8%B5%B7%E6%9D%A5">2、把这些"矩形"的面积累加起来</h3> 
<h3 id="3%E3%80%81%E4%BF%AE%E6%AD%A3%E5%89%8D%E9%9D%A2%E7%9A%84%E7%BB%93%E6%9E%9C%EF%BC%8C%EF%BC%88%E9%80%9A%E8%BF%87%E8%AE%A9%22%E7%9F%A9%E5%BD%A2%22%E5%8F%98%E7%AA%84%E6%9D%A5%E5%8F%96%E5%BE%97%E6%9E%81%E9%99%90%E5%80%BC%EF%BC%8C%E5%88%B0%E6%97%A0%E7%A9%B7%E7%AA%84%EF%BC%89">3、修正前面的结果，（通过让"矩形"变窄来取得极限值，到无穷窄）</h3> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/64/77/FAvfs5g0_o.png"></p> 
<p>​</p> 
<p></p> 
<h2 id="%E4%B8%89%E3%80%81%E4%BE%8B%E5%AD%90">三、例子</h2> 
<h3 id="1%E3%80%81%20%E2%80%8B%EF%BC%8Ca%20%3D%200%2C%20b%20%E4%BB%BB%E6%84%8F">1、 <img alt="f(x) = x^2" class="mathcode" src="https://images2.imgbox.com/64/42/95UHrs4d_o.png">，a = 0, b 任意</h3> 
<p>面积= <img alt="(\frac{b}{n})(\frac{b}{n})^2 + \frac{b}{n}(\frac{2b}{n})^2+... + \frac{b}{n}(\frac{nb}{n})^2" class="mathcode" src="https://images2.imgbox.com/b3/e0/qFGI0iYU_o.png"></p> 
<p><img alt="=(\frac{b}{n})^3(1^2+2^2...+n^2)" class="mathcode" src="https://images2.imgbox.com/ad/bc/xMf7ap8r_o.png"></p> 
<p>这里要计算 <img alt="(1^2+2^2...+n^2)" class="mathcode" src="https://images2.imgbox.com/fa/27/MRe1pWtw_o.png"> ， 老师给了一个算法，把数列中的每个数看作一个高为1的长方体的下底面（正方形）的一条边，这样组成了一个金字塔，另外这个金字塔有一个内接的4棱锥和一个外接的4棱锥。</p> 
<p>体积依次为 <img alt="\frac{1}{3}n^3&lt;1^2+2^2+...+n^2&lt;\frac{1}{3}(n+1)^2(n+1)" class="mathcode" src="https://images2.imgbox.com/45/81/1zyYzYYf_o.png"></p> 
<pre><code>import matplotlib as mpl
from matplotlib import cm
from matplotlib import pyplot as plt
from mpl_toolkits.mplot3d.art3d import Poly3DCollection, Line3DCollection
from mpl_toolkits.mplot3d import Axes3D
# 创建画布
fig = plt.figure(figsize=(12, 8),
                 facecolor='lightyellow'
                )

# 创建 3D 坐标系
ax = fig.gca(fc='whitesmoke',
               projection='3d' 
              )


# 绘制 3D 图形

ax.plot3D(xs=[5, 0, 0, 0, 0, ],    # x 轴坐标
          ys=[0, 0, 5, 0, 0, ],    # y 轴坐标
          zs=[0, 0, 0, 0, 5, ],    # z 轴坐标
          zdir='z',    # 
          c='k',    # color
          marker='o',    # 标记点符号
          mfc='r',    # marker facecolor
          mec='g',    # marker edgecolor
          ms=10,    # size
        )


def plot_opaque_cube(x, y, z, dx, dy, dz, ax):

    xx = np.linspace(x, x+dx, 2)
    yy = np.linspace(y, y+dy, 2)
    zz = np.linspace(z, z+dz, 2)

    xx, yy = np.meshgrid(xx, yy)

    
    #ax.plot_surface(xx, yy, z)
    #ax.plot_surface(xx, yy, z+dz)

    yy, zz = np.meshgrid(yy, zz)
    ax.plot_surface(x, yy, zz)
    ax.plot_surface(x+dx, yy, zz)

    xx, zz = np.meshgrid(xx, zz)
    ax.plot_surface(xx, y, zz)
    ax.plot_surface(xx, y+dy, zz)
    # ax.set_xlim3d(-dx, dx*2, 20)
    # ax.set_xlim3d(-dx, dx*2, 20)
    # ax.set_xlim3d(-dx, dx*2, 20)

def drawPyramid(height,steps, ax, printTitle):
    zFrom = 0
    V = 0
    for step in range(steps):
        width = steps-step
        plot_opaque_cube(0 - width/2, 0 - width/2, zFrom, width,width,height, ax)
        V += width * width * height
        zFrom += height
    print(printTitle + ' = ', V)
        

def drawPyramid1(height,steps,ax, edgecolor, printTitle):
    # vertices of a pyramid
    width = steps - 0
    
    v = np.array([[0-width/2, 0-width/2, 0], [width/2, 0-width/2, 0], [width/2, width/2, 0],  [0-width/2, width/2, 0], [0, 0, height* steps]])
    
    ax.scatter3D(v[:, 0], v[:, 1], v[:, 2])

    # generate list of sides' polygons of our pyramid
    verts = [ [v[0],v[1],v[4]], [v[0],v[3],v[4]],
     [v[2],v[1],v[4]], [v[2],v[3],v[4]], [v[0],v[1],v[2],v[3]]]

    # plot sides
    ax.add_collection3d(Poly3DCollection(verts, 
     facecolors='gray', linewidths=1, edgecolors=edgecolor, alpha=.25))        
    
    V = width * width * height* steps / 3
    print(printTitle + ' = ', V)

# 调整视角
ax.view_init(elev=20,    # 仰角
             azim=40    # 方位角
            )

drawPyramid1(1,10, ax, 'r', 'n*n*n/3')
drawPyramid(1, 10, ax, '1 + 2*2 + ... + n*n')
drawPyramid1(1,11, ax, 'g', '(n+1)*(n+1)*(n+1)')
# 显示图形
plt.show()</code></pre> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/b2/5b/ZGFSl39G_o.png"></p> 
<p>​</p> 
<p></p> 
<p>接上面公式：</p> 
<p>面积= <img alt="(\frac{b}{n})^3(1^2+2^2...+n^2)" class="mathcode" src="https://images2.imgbox.com/a0/44/3HXeIrss_o.png"> (这里的重点是考虑一个无限分层的金字塔体积相当于一个4棱锥的体积，因此累加项可化简）</p> 
<p><img alt="=b^3 \frac{(1^2+2^2...+n^2)}{n^3}" class="mathcode" src="https://images2.imgbox.com/a3/fd/l5GbstqM_o.png"></p> 
<p>不等式：</p> 
<p><img alt="\frac{1}{3}n^3&lt;1^2+2^2+...+n^2&lt;\frac{1}{3}(n+1)^2(n+1)" class="mathcode" src="https://images2.imgbox.com/1d/1e/stXczZ4d_o.png"></p> 
<p><img alt="\frac{1}{3}&lt;\frac{1^2+2^2+...+n^2}{n^3}&lt;\frac{1}{3}\frac{(n+1)^3}{n^3}" class="mathcode" src="https://images2.imgbox.com/2e/1a/pkiaoSmo_o.png"></p> 
<p><img alt="\frac{1}{3}&lt;\frac{1^2+2^2+...+n^2}{n^3}&lt;\frac{1}{3}(1+\frac{1}{n})^3|_{n\rightarrow \infty} &lt; \frac{1}{3}" class="mathcode" src="https://images2.imgbox.com/44/cb/VX9OeDVA_o.png"></p> 
<p>所以面积：</p> 
<p>= <img alt="\int_{0}^{b}x^2dx = b^3 \frac{(1^2+2^2...+n^2)}{n^3} |_{n\rightarrow \infty} = \frac{1}{3}b^3" class="mathcode" src="https://images2.imgbox.com/4d/69/9KyN47TG_o.png"></p> 
<p>这里老师引入了求和符号</p> 
<p><img alt="\sum_{i=0}^{n}{a_i} = a_0 + a_1 +... + a_n" class="mathcode" src="https://images2.imgbox.com/05/f3/sfB5DkDa_o.png"></p> 
<p>于是面积 ：</p> 
<p><img alt="\int_{0}^{b}x^2dx = b^3 \frac{1}{n^3}\sum_{i=1}^{n}{i^2} |_{n\rightarrow \infty} = \frac{1}{3}b^3" class="mathcode" src="https://images2.imgbox.com/8d/a3/pvG91nPG_o.png"></p> 
<p></p> 
<h3 id="2%E3%80%81%20f(x)%20%3D%20x%20%2Ca%20%3D%200%2C%20b%20%E4%BB%BB%E6%84%8F">2、 f(x) = x ,a = 0, b 任意</h3> 
<pre><code>from sympy import *
import numpy as np 

import matplotlib.pyplot as plt 

fig = plt.figure()
ax = fig.add_subplot(1, 1, 1)
ax.spines['left'].set_position('zero')
ax.spines['bottom'].set_position('zero')
ax.spines['right'].set_color('none')
ax.spines['top'].set_color('none')
ax.xaxis.set_ticks_position('bottom')
ax.yaxis.set_ticks_position('left')
ax.set_aspect(1 ) 

def DrawXY(xFrom,xTo,steps,expr,color,label,plt):
    yarr = []
    xarr = np.linspace(xFrom ,xTo, steps) 
    for xval in xarr:
        yval = expr.subs(x,xval)
        yarr.append(yval)
    y_nparr = np.array(yarr) 
    plt.plot(xarr, y_nparr, c=color, label=label)    

def DrawRects(xFrom,xTo,steps,expr,color,plt):
    width = (xTo - xFrom)/steps
    xarrRect = []
    yarrRect = []
    area = 0
    xprev = xFrom
    for step in range(steps):
        yval = expr.subs(x,xprev + width)
        xarrRect.append(xprev)
        xarrRect.append(xprev)
        xarrRect.append(xprev + width)
        xarrRect.append(xprev + width)
        xarrRect.append(xprev)
        yarrRect.append(0)
        yarrRect.append(yval)
        yarrRect.append(yval)
        yarrRect.append(0)
        yarrRect.append(0)
        area += width * yval
        plt.plot(xarrRect, yarrRect, c=color)    
        xprev= xprev + width
    print('width =', width)
    print('area=',area)

def TangentLine(exprY,x0Val,xVal):
    diffExpr = diff(exprY)
    x1,y1,xo,yo = symbols('x1 y1 xo yo')
    expr = (y1-yo)/(x1-xo) - diffExpr.subs(x,x0Val)
    eq = expr.subs(xo,x0Val).subs(x1,xVal).subs(yo,exprY.subs(x,x0Val))
    eq1 = Eq(eq,0)
    solveY = solve(eq1)
    return xVal,solveY

def DrawTangentLine(exprY, x0Val,xVal1, xVal2, clr, txt):
    x1,y1 = TangentLine(exprY, x0Val, xVal1)
    x2,y2 = TangentLine(exprY, x0Val, xVal2)
    plt.plot([x1,x2],[y1,y2], color = clr, label=txt)
    
def Newton(expr, x0):
    ret = x0 - expr.subs(x, x0)/ expr.diff().subs(x,x0)
    return ret

x = symbols('x')
expr = x

DrawXY(0,5,100,expr,'blue','',plt)
DrawRects(0,5,10,expr,'green',plt)
#plt.legend(loc='lower right')
plt.show()</code></pre> 
<p></p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/08/f8/kywkcIUj_o.png"></p> 
<p>​</p> 
<p></p> 
<p>可以看到每个长方形的底边为 b/n, 高为 b/n, 2b/n...</p> 
<p>所以面积 : <img alt="\int_{0}^{b}( x)dx = \sum_{i=1}^{n}{(\frac{b}{n})i(\frac{b}{n})} = (\frac{b}{n})^2\sum_{i=1}^{n}i = (\frac{b}{n})^2(\frac{n(n-1)}{2})|_{n\rightarrow\infty} \approx \frac{b^2}{2}" class="mathcode" src="https://images2.imgbox.com/2a/76/pNDkrCAH_o.png"></p> 
<p>老师的计算是直接给出三角形的计算公式 width * height / 2</p> 
<p>所以面积 : <img alt="\int_{0}^{b} (x) dx = \frac{b^2}{2}" class="mathcode" src="https://images2.imgbox.com/20/12/v76BTtxz_o.png"></p> 
<h3 id="3%E3%80%81f(x)%20%3D%201%20%2Ca%20%3D%200%2C%20b%20%E4%BB%BB%E6%84%8F">3、f(x) = 1 ,a = 0, b 任意</h3> 
<p>面积 : <img alt="\int_{0}^{b} 1 dx= b" class="mathcode" src="https://images2.imgbox.com/55/e2/Qa4OnZQP_o.png"></p> 
<pre><code>x = symbols('x')
expr = x**0

DrawXY(0,5,100,expr,'blue','',plt)
DrawRects(0,5,10,expr,'green',plt)
#plt.legend(loc='lower right')
plt.show()</code></pre> 
<p></p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/1e/d2/j0Po9HGO_o.png"></p> 
<p>​</p> 
<p></p> 
<p>这里老师总结了定积分的模式</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/00/fa/Jb4C0LaC_o.png"></p> 
<p>​</p> 
<p></p> 
<p>猜测：</p> 
<p><img alt="\int_{0}^{b} x^3 dx= \frac{b4}{4}" class="mathcode" src="https://images2.imgbox.com/ea/0b/9ThUbeKU_o.png"></p> 
<p>检查：</p> 
<pre><code>x = symbols('x')
expr = x**3
b = 1
n = 100
DrawXY(0,b,80,expr,'blue','',plt)
DrawRects(0,b,n,expr,'green',plt)
area1 = b / 4
print ('area1 = b**4/4 = ' , area1 )
#plt.legend(loc='lower right')
plt.show()</code></pre> 
<p></p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/e0/aa/UUVfz4V0_o.png"></p> 
<p>​</p> 
<p></p> 
<p>我们可以看到当n设为100时结果接近猜测值， 当n越大时，结果应该越接近0.25。</p> 
<pre><code>x = symbols('x')
expr = x**3
b = 1
n = 300
DrawXY(0,b,80,expr,'blue','',plt)
DrawRects(0,b,n,expr,'green',plt)
area1 = b / 4
print ('area1 = b**4/4 = ' , area1 )
#plt.legend(loc='lower right')
plt.show()</code></pre> 
<p></p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/ac/8f/TG8SnoIQ_o.png"></p> 
<p>​</p> 
<p></p> 
<p>可以看到当n取300时，结果确实更接近0.25</p> 
<h2 id="%E4%B8%89%E3%80%81%E5%AE%9A%E7%A7%AF%E5%88%86%E7%9A%84%E7%AC%A6%E5%8F%B7%EF%BC%88%E9%BB%8E%E6%9B%BC%E5%92%8C%EF%BC%89">四、定积分的符号（黎曼和）</h2> 
<h3 id="1%E3%80%81%E6%B1%82%E8%A7%A3%E5%AE%9A%E7%A7%AF%E5%88%86%E7%9A%84%E9%80%9A%E5%B8%B8%E7%9A%84%E6%AD%A5%E9%AA%A4">1、求解定积分的通常的步骤</h3> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/c5/2d/O7kmVnQr_o.png"></p> 
<p></p> 
<p>把所有这些间隔处的函数值累加起来就是面积（定积分的值）</p> 
<p><img alt="\sum_{i}^{n}{f(c_i)\Delta x}\rightarrow_{\Delta x \rightarrow0} \int_{a}^{b} f(x)dx" class="mathcode" src="https://images2.imgbox.com/6c/9e/exAEyPvf_o.png">(前者是黎曼和，当<img alt="\Delta x" class="mathcode" src="https://images2.imgbox.com/f7/0b/9pz5ZNzp_o.png">趋近于0时就变成了后者的莱布尼茨的极限求值)</p> 
<p>积分可以表达为累积和</p> 
<p>设时间 t (yr), 有 t 的函数f(t) ($/yr)表达借钱率（每天借多少钱），假设每天都借钱，因此有 <img alt="\Delta t = \frac{1}{365}" class="mathcode" src="https://images2.imgbox.com/e1/39/IeNNPfRn_o.png"></p> 
<p>在第45天借了钱，借了多少钱呢 ？用这个式子计算 <img alt="f(\frac{45}{365})\Delta t = f(\frac{45}{365})\frac{1}{365}" class="mathcode" src="https://images2.imgbox.com/15/2a/ch1XOVOe_o.png"> ($)</p> 
<p>所有如果要计算整年借到的钱,则用以下公式</p> 
<p><img alt="\sum_{i=1}^{365} f(\frac{i}{365})\Delta t\rightarrow \int_{0}^{1}f(t)dt" class="mathcode" src="https://images2.imgbox.com/8d/7b/KYgUxwu4_o.png">（注意这个t的单位是年）</p> 
<p>利息采用复利，那年末欠银行多少钱呢？</p> 
<p>利率是r(可以是0.05/yr )，P（借到本金）经过时间Ｔ，欠下的钱是 <img alt="Pe^{rT}" class="mathcode" src="https://images2.imgbox.com/6f/5e/qkAS9btg_o.png"></p> 
<p>一年欠多少钱？</p> 
<p><img alt="\sum_{i=1}^{365} (f(\frac{i}{365})\Delta t)e^{rT}" class="mathcode" src="https://images2.imgbox.com/02/22/kfKX3YAr_o.png"></p> 
<p><img alt="T=1-\frac{i}{365}" class="mathcode" src="https://images2.imgbox.com/61/8e/lJ5uxTNN_o.png"></p> 
<p><img alt="\sum_{i=1}^{365}( f(\frac{i}{365})\Delta t)e^{r(1-\frac{i}{365})} \rightarrow \int_{0}^{1}e^{r(1-t)}f(t)dt" class="mathcode" src="https://images2.imgbox.com/49/47/opqsw7wc_o.png"></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/a9f2bb7a0127fe54a099669aaffa67d7/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">第二单元 用python学习微积分（十）曲线构图下和最值问题</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/8104d0d60ee85a1b6ba774cc3cb0b2ad/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">第三单元 用python学习微积分（十七）微积分第一基本定理</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>