<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>记录一下mac mini 2018 的折腾过程 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="记录一下mac mini 2018 的折腾过程" />
<meta property="og:description" content="----更新--------
昨天手贱在外置雷电SSD中安装了苹果内置SSD的驱动，随即就造成了外置显卡的挂载不上，又折腾了大概三个小时，随后想到了应该是操作系统内部资源竞争，造成不挂载外置显卡。随后删除了内置SSD的驱动。然后才挂载外置显卡成功。
还有一点就是，外置显卡尽量就只挂一个外置显卡，如果接键盘和鼠标的话，会有时延。
苹果发布的mac mini 2018 这款产品性能有了极大的提高，配合小巧的机身，和多达4个雷电3 的接口。让我们感觉不论怎么来看都感觉很值。
选配了i7 8GB 内存，128GB SSD的版本，内存可以以后升级。CPU要加到最高，SSD可以用雷电3 外接nvme 的固态。
一切看起来都是那么完美。
但是一直前前后后折腾了快一周的时间，才逐渐对这款产品的一些细节有所了解。
在macOS 下的一些事情就不说了。
主要说明一下在win 下的一些注意的要点。
由于mac mini 2018 出厂就是10.14.1 的版本，所以无论用哪种方法都不能给降级成10.13.6（有N卡驱动）。所以在10.14.1 这个版本中无法egpu NVIDIA 的显卡。
下面有三种解决方案。第一：由于SSD太小，所以我们装完双系统之后，两个系统各自空间太小。真是啥也干不了。
期间装双系统的过程中，好像对win 10的具体版本有明确的要求。这个试了好多次。不然会中途出错。
第二：购买了一个佳宜的雷电3 nvme 硬盘盒子，可以将960 Pro 放入到里面，这个盒子淘宝有售，感觉真是全网最实惠的nvme硬盘盒子了。但是也由于960 Pro 巨大的热量，往往我们摸起来会烫手。
首先我们的方案是先在外置的960Pro盒子中安装macOS Mojave，然后再安装win10 。注意这里无法用官方的bootcamp进行安装。
首先制作一个win10 的U盘安装。这个网上有大量教程，不赘述，然后在macOS Mojave中划分好win10 的分区。随后用win10 U盘启动安装。按住option 按键。然后选择EFI boot。一定要注意win10 的系统版本一定是要1803以上好像是。17.。的版本会出现安装错误。这也是失败了很多次的结论了。随后的win10 安装就一帆风顺了。然后安装bootcamp的Windows支持包。包括了很多的驱动。这时候安装会出现一些错误，无视就可以了。
接下来我们要实现在win下的egpu 的操作。
进入win10 系统之后，插上雷电3 的线。系统会自动识别到显卡，并安装驱动。随后我们需要重启。这时候，如果你的集显和外置显卡都连接上的话，会出现win10 图标闪现，进入不了系统。据说是因为mac 产品在win10 启动的时候，只能启动一种显卡的 显示模式。所以这里会出现卡机。可以的解决方案是 在win10 转圈的时候，插入雷电线，或者开启拓展坞的开关。
这样就能很好的驱动集显和外置独显了。或者将uhd 630的设备禁掉。只用独显也行，但是试了很多次。都得需要开机3-5秒钟的时候插入雷电线或者开启拓展坞的开关。这个着实很难受。体验不完美
首先网上流行的解决方案有一个 在U盘中拷贝进auto egpu efi 的解决方案，网上大神给改的一种解决方案。这种方案的优点是外置EFI启动，不修改系统文件。缺点1：只能实现启动系统内置SSD的系统。不能启动雷电3SSD 的系统。还有强迫症的同学，不能忍受一直外挂一个U盘，占用一个USB口。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/7b56d7e48925d88896648edf45b0298e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-12-02T11:26:21+08:00" />
<meta property="article:modified_time" content="2018-12-02T11:26:21+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">记录一下mac mini 2018 的折腾过程</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>----更新--------</p> 
<p>昨天手贱在外置雷电SSD中安装了苹果内置SSD的驱动，随即就造成了外置显卡的挂载不上，又折腾了大概三个小时，随后想到了应该是操作系统内部资源竞争，造成不挂载外置显卡。随后删除了内置SSD的驱动。然后才挂载外置显卡成功。</p> 
<p> </p> 
<p>还有一点就是，外置显卡尽量就只挂一个外置显卡，如果接键盘和鼠标的话，会有时延。</p> 
<p> </p> 
<p> </p> 
<p>苹果发布的mac mini 2018 这款产品性能有了极大的提高，配合小巧的机身，和多达4个雷电3 的接口。让我们感觉不论怎么来看都感觉很值。</p> 
<p> </p> 
<p>选配了i7 8GB 内存，128GB SSD的版本，内存可以以后升级。CPU要加到最高，SSD可以用雷电3 外接nvme 的固态。</p> 
<p>一切看起来都是那么完美。</p> 
<p>但是一直前前后后折腾了快一周的时间，才逐渐对这款产品的一些细节有所了解。</p> 
<p>在macOS 下的一些事情就不说了。</p> 
<p>主要说明一下在win  下的一些注意的要点。</p> 
<p>由于mac mini 2018 出厂就是10.14.1 的版本，所以无论用哪种方法都不能给降级成10.13.6（有N卡驱动）。所以在10.14.1 这个版本中无法egpu NVIDIA 的显卡。</p> 
<p>下面有三种解决方案。第一：由于SSD太小，所以我们装完双系统之后，两个系统各自空间太小。真是啥也干不了。</p> 
<p>期间装双系统的过程中，好像对win 10的具体版本有明确的要求。这个试了好多次。不然会中途出错。</p> 
<p>第二：购买了一个佳宜的雷电3 nvme 硬盘盒子，可以将960 Pro 放入到里面，这个盒子淘宝有售，感觉真是全网最实惠的nvme硬盘盒子了。但是也由于960 Pro 巨大的热量，往往我们摸起来会烫手。</p> 
<p>首先我们的方案是先在外置的960Pro盒子中安装macOS Mojave，然后再安装win10 。注意这里无法用官方的bootcamp进行安装。</p> 
<p>首先制作一个win10 的U盘安装。这个网上有大量教程，不赘述，然后在macOS Mojave中划分好win10 的分区。随后用win10 U盘启动安装。按住option 按键。然后选择EFI boot。一定要注意win10 的系统版本一定是要1803以上好像是。17.。的版本会出现安装错误。这也是失败了很多次的结论了。随后的win10 安装就一帆风顺了。然后安装bootcamp的Windows支持包。包括了很多的驱动。这时候安装会出现一些错误，无视就可以了。</p> 
<p>接下来我们要实现在win下的egpu 的操作。</p> 
<p>进入win10 系统之后，插上雷电3 的线。系统会自动识别到显卡，并安装驱动。随后我们需要重启。这时候，如果你的集显和外置显卡都连接上的话，会出现win10 图标闪现，进入不了系统。据说是因为mac 产品在win10 启动的时候，只能启动一种显卡的 显示模式。所以这里会出现卡机。可以的解决方案是 在win10 转圈的时候，插入雷电线，或者开启拓展坞的开关。</p> 
<p>这样就能很好的驱动集显和外置独显了。或者将uhd 630的设备禁掉。只用独显也行，但是试了很多次。都得需要开机3-5秒钟的时候插入雷电线或者开启拓展坞的开关。这个着实很难受。体验不完美</p> 
<p>首先网上流行的解决方案有一个 在U盘中拷贝进auto egpu efi 的解决方案，网上大神给改的一种解决方案。这种方案的优点是外置EFI启动，不修改系统文件。缺点1：只能实现启动系统内置SSD的系统。不能启动雷电3SSD 的系统。还有强迫症的同学，不能忍受一直外挂一个U盘，占用一个USB口。</p> 
<p>这时候，我们想到了将128GBSSD都装成win，那么用U盘安装的过程中，又发现win10 安装的过程发现不了内置SSD，刚开始以为是苹果T2 芯片的作用。后来才想明白，安装包里面没有加载苹果SSD的驱动。方法是，将苹果SSD的驱动放入U盘根目录即可。win10 的安装系统会自动检测到SSD驱动，并且加载。这样我们就可以割掉苹果系统。然后大约110GB的空间都用来装win10 。这样win10 的空间勉强够用。不出意外应该装好了，随后用bootcamp安装驱动包即可。</p> 
<p>随后我们发现用上面的auto egpu efi  即可可以完美启动win10。 集显和外置独显都连接到一个显示器上。开机不用考虑怎么插拔雷电3的线。直接开机就行，完美。并且测试如果玩dota2 的时候，会选择外置独显。并且不用切换显示器的信号输入模式，外置显卡接的是DP接口，HDMI 接的是mac mini 的接口。看来应该是外置显卡运算的结果通过集显输出了。总算是折腾舒心 了。</p> 
<p>接下来我们要解决需要U盘启动的问题。首先，如果是小白的话，还是推荐用U盘启动为好。毕竟不损坏系统文件。</p> 
<p>如果对EFI分区的知识有了解的话，建议将refind 这个EFI启动管理软件装入EFI分区启动会比较好。</p> 
<p>做法如下：</p> 
<p>Windows：</p> 
<p>先右键 使用管理员安装</p> 
<p>用管理员方式打开命令行，（具体系统方法清百度，不过一般是在开始菜单的图标上按右键，有一个用管理员方式打开命令行）</p> 
<p>输入mountvol S: /S </p> 
<p>进入refind的保存目录</p> 
<p>输入  xcopy /E refind S:\EFI\refind\   复制文件</p> 
<p>输入 S:  切换到ESP目录下</p> 
<p>输入 cd EFI\refind </p> 
<p>输入 rename refind.conf-sample refind.conf</p> 
<p>输入 bcdedit /set "{bootmgr}" path \EFI\refind\refind_x64.efi</p> 
<p>随后就配置好了，接下来在EFI文件夹下新建custom，然后在custom文件夹 里放入 apple_set_os.efi 文件。</p> 
<p>接下里用easyUEFI软件新建一个启动项，<img alt="" class="has" height="102" src="https://images2.imgbox.com/ab/c1/Qta5iUr8_o.png" width="665"></p> 
<p>指向 refind\refind_x64.efi 文件</p> 
<p>随后将其启动项调至第一个即可。</p> 
<p> </p> 
<p>然后重启，选择Windows启动，应该是没问题了。</p> 
<p>有了这种思路，将文件放入外置的nvme 雷电SSD中应该也可以实现。后面要试一下。</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/476ba8b02370a69e3a90f2e0180d5cf2/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">LSTM估计股票收盘价</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/284615e8eb020e094aae7f59b04682cc/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">LSTM预测多支股票的收盘价</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>