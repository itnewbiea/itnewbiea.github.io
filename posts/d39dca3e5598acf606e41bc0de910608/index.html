<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Android BottomSheetDialogFragment 使用详解，设置圆角、固定高度、默认全屏 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Android BottomSheetDialogFragment 使用详解，设置圆角、固定高度、默认全屏" />
<meta property="og:description" content="效果
MD风格的底部弹窗，比自定义dialog或popupwindow使用更简单，功能也更强大。
其实细分来说，是BottomSheet、BottomSheetDialog、BottomSheetDialogFragment
代码 ​ ​https://gitee.com/zhaoyanjun/bottomSheetDialogFragmentDemo​​
BottomSheet
与主界面同层级关系，可以事件触发，如果有设置显示高度的话，也可以​​拉出来​​，且不会影响主界面的交互。
XML
&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;
&lt;android.support.design.widget.CoordinatorLayout xmlns:android=&#34;http://schemas.android.com/apk/res/android&#34;
xmlns:app=&#34;http://schemas.android.com/apk/res-auto&#34;
android:layout_width=&#34;match_parent&#34;
android:layout_height=&#34;wrap_content&#34;
android:background=&#34;@color/white&#34;&gt;
&lt;LinearLayout
android:id=&#34;@&#43;id/ll_bottom_sheet&#34;
android:layout_width=&#34;match_parent&#34;
android:layout_height=&#34;wrap_content&#34;
android:orientation=&#34;vertical&#34;
app:behavior_peekHeight=&#34;80dp&#34;
app:layout_behavior=&#34;@string/bottom_sheet_behavior&#34;
app:layout_constraintBottom_toBottomOf=&#34;parent&#34;
app:layout_constraintLeft_toLeftOf=&#34;parent&#34;&gt;
&lt;TextView
android:layout_width=&#34;match_parent&#34;
android:layout_height=&#34;80dp&#34;
android:background=&#34;@android:color/holo_red_light&#34;
android:gravity=&#34;center&#34;
android:text=&#34;上拉解锁隐藏功能&#34;
android:textColor=&#34;@color/white&#34;
android:textSize=&#34;20sp&#34; /&gt;
&lt;TextView
android:layout_width=&#34;match_parent&#34;
android:layout_height=&#34;80dp&#34;
android:background=&#34;@android:color/holo_blue_light&#34;
android:gravity=&#34;center&#34;
android:text=&#34;a&#34;
android:textSize=&#34;20sp&#34; /&gt;
&lt;TextView
android:layout_width=&#34;match_parent&#34;
android:layout_height=&#34;80dp&#34;
android:background=&#34;@android:color/holo_orange_dark&#34;
android:gravity=&#34;center&#34;
android:text=&#34;b&#34;
android:textSize=&#34;20sp&#34; /&gt;
&lt;TextView
android:layout_width=&#34;match_parent&#34;
android:layout_height=&#34;80dp&#34;
android:background=&#34;@android:color/holo_green_light&#34;
android:gravity=&#34;center&#34;
android:text=&#34;c&#34;
android:textSize=&#34;20sp&#34; /&gt;
&lt;/LinearLayout&gt;
&lt;/android.support.design.widget.CoordinatorLayout&gt;
注意，
这里需要协调布局CoordinatorLayout包裹才行
app:behavior_peekHeight 显示高度，不显示的话设置为0即可
app:layout_behavior 标示这是一个bottom_sheet
以上3个条件都是必须的。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/d39dca3e5598acf606e41bc0de910608/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-11-09T16:34:38+08:00" />
<meta property="article:modified_time" content="2023-11-09T16:34:38+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Android BottomSheetDialogFragment 使用详解，设置圆角、固定高度、默认全屏</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>效果</p> 
<p><br> MD风格的底部弹窗，比自定义dialog或popupwindow使用更简单，功能也更强大。</p> 
<p>其实细分来说，是BottomSheet、BottomSheetDialog、BottomSheetDialogFragment</p> 
<p>代码 ​ ​https://gitee.com/zhaoyanjun/bottomSheetDialogFragmentDemo​​</p> 
<p>BottomSheet<br> 与主界面同层级关系，可以事件触发，如果有设置显示高度的话，也可以​​拉出来​​，且不会影响主界面的交互。</p> 
<p>XML</p> 
<p>&lt;?xml version="1.0" encoding="utf-8"?&gt;<br> &lt;android.support.design.widget.CoordinatorLayout xmlns:android="http://schemas.android.com/apk/res/android"<br>     xmlns:app="http://schemas.android.com/apk/res-auto"<br>     android:layout_width="match_parent"<br>     android:layout_height="wrap_content"<br>     android:background="@color/white"&gt;</p> 
<p>    &lt;LinearLayout<br>         android:id="@+id/ll_bottom_sheet"<br>         android:layout_width="match_parent"<br>         android:layout_height="wrap_content"<br>         android:orientation="vertical"<br>         app:behavior_peekHeight="80dp"<br>         app:layout_behavior="@string/bottom_sheet_behavior"<br>         app:layout_constraintBottom_toBottomOf="parent"<br>         app:layout_constraintLeft_toLeftOf="parent"&gt;</p> 
<p>        &lt;TextView<br>             android:layout_width="match_parent"<br>             android:layout_height="80dp"<br>             android:background="@android:color/holo_red_light"<br>             android:gravity="center"<br>             android:text="上拉解锁隐藏功能"<br>             android:textColor="@color/white"<br>             android:textSize="20sp" /&gt;</p> 
<p>        &lt;TextView<br>             android:layout_width="match_parent"<br>             android:layout_height="80dp"<br>             android:background="@android:color/holo_blue_light"<br>             android:gravity="center"<br>             android:text="a"<br>             android:textSize="20sp" /&gt;</p> 
<p>        &lt;TextView<br>             android:layout_width="match_parent"<br>             android:layout_height="80dp"<br>             android:background="@android:color/holo_orange_dark"<br>             android:gravity="center"<br>             android:text="b"<br>             android:textSize="20sp" /&gt;</p> 
<p>        &lt;TextView<br>             android:layout_width="match_parent"<br>             android:layout_height="80dp"<br>             android:background="@android:color/holo_green_light"<br>             android:gravity="center"<br>             android:text="c"<br>             android:textSize="20sp" /&gt;</p> 
<p>    &lt;/LinearLayout&gt;</p> 
<p>&lt;/android.support.design.widget.CoordinatorLayout&gt;<br><br> 注意，</p> 
<p>这里需要协调布局CoordinatorLayout包裹才行<br> app:behavior_peekHeight 显示高度，不显示的话设置为0即可<br> app:layout_behavior 标示这是一个bottom_sheet<br> 以上3个条件都是必须的。</p> 
<p>代码</p> 
<p>View bottomView = findViewById(R.id.ll_bottom_sheet);<br>         bottomView.setOnClickListener(v -&gt; {<!-- --><br>             BottomSheetBehavior behavior = BottomSheetBehavior.from(bottomView);<br>             if (behavior.getState() == BottomSheetBehavior.STATE_EXPANDED) {<!-- --><br>                 //如果是展开状态，则关闭，反之亦然<br>                 behavior.setState(BottomSheetBehavior.STATE_COLLAPSED);<br>             } else {<!-- --><br>                 behavior.setState(BottomSheetBehavior.STATE_EXPANDED);<br>             }<br>         });<br><br> STATE_COLLAPSED： 折叠状态<br> STATE_EXPANDED： 展开状态<br> STATE_DRAGGING ： 过渡状态<br> STATE_SETTLING： 视图从脱离手指自由滑动到最终停下的这一小段时间<br> STATE_HIDDEN ： 默认无此状态（可通过app:behavior_hideable 启用此状态），启用后用户将能通过向下滑动完全隐藏 bottom sheet<br> BottomSheetDialog</p> 
<p><br> 可以看到弹出来之后是有一个​​半透明​​​的蒙层的，这时候是影响主界面交互的，也就意味着此时​​BottomSheetDialog​​的优先级是要高于主界面的。</p> 
<p>代码</p> 
<p>public class MyBottomSheetDialog extends BottomSheetDialog {<!-- --></p> 
<p>    public MyBottomSheetDialog(@NonNull Context context) {<!-- --><br>         super(context);<br>     }</p> 
<p>    public MyBottomSheetDialog(@NonNull Context context, int theme) {<!-- --><br>         super(context, theme);<br>     }</p> 
<p>    protected MyBottomSheetDialog(@NonNull Context context, boolean cancelable, OnCancelListener cancelListener) {<!-- --><br>         super(context, cancelable, cancelListener);<br>     }<br> }<br><br><br> 显示 Dialog</p> 
<p>MyBottomSheetDialog bottomSheetDialog = new MyBottomSheetDialog(this);<br> bottomSheetDialog.setContentView(R.layout.bottom_dialog_layout);<br> bottomSheetDialog.show();<br><br> bottom_dialog_layout :</p> 
<p>&lt;?xml version="1.0" encoding="utf-8"?&gt;<br> &lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"<br>     xmlns:app="http://schemas.android.com/apk/res-auto"<br>     android:layout_width="match_parent"<br>     android:layout_height="wrap_content"<br>     android:background="@color/white"<br>     android:orientation="vertical"&gt;</p> 
<p>    &lt;TextView<br>         android:id="@+id/button"<br>         android:layout_width="match_parent"<br>         android:layout_height="100dp"<br>         android:background="#aa8"<br>         android:text="Bottom Dialog"<br>         android:gravity="center"<br>         android:layout_gravity="center"<br>         app:layout_constraintEnd_toEndOf="parent"<br>         app:layout_constraintStart_toStartOf="parent"<br>         app:layout_constraintTop_toTopOf="parent" /&gt;</p> 
<p>&lt;/LinearLayout&gt;<br><br> 比较简单的使用方式，直接实例化之后​​setContentView​​​，然后调用​​show​​​就可以了。<br> 这里只是一个展示效果，实际上使用场景可能会复杂一些，还要做一些操作等等，所以，也可以自定义​​​dialog​​​继承自​​BottomSheetDialog​​，然后处理自己的业务逻辑。</p> 
<p>BottomSheetDialogFragment</p> 
<p><br> 效果跟​​BottomSheetDialog​​​差不多，代码跟​​DialogFragment​​差不多。</p> 
<p>代码</p> 
<p>public class MyDialogFragment extends BottomSheetDialogFragment {<!-- --></p> 
<p>    @Nullable<br>     @Override<br>     public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {<!-- --><br>         View view = inflater.inflate(R.layout.bottom_dialog_fragment_layout, container, false);<br>         return view;<br>     }<br> }<br><br> bottom_dialog_fragment_layout</p> 
<p>&lt;?xml version="1.0" encoding="utf-8"?&gt;<br> &lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"<br>     xmlns:app="http://schemas.android.com/apk/res-auto"<br>     android:layout_width="match_parent"<br>     android:layout_height="wrap_content"<br>     android:orientation="vertical"<br>     android:background="@color/white"&gt;</p> 
<p>    &lt;Button<br>         android:id="@+id/button"<br>         android:layout_width="match_parent"<br>         android:layout_height="100dp"<br>         android:background="#ff0"<br>         app:layout_constraintEnd_toEndOf="parent"<br>         app:layout_constraintStart_toStartOf="parent"<br>         app:layout_constraintTop_toTopOf="parent" /&gt;</p> 
<p>    &lt;Button<br>         android:id="@+id/button2"<br>         android:layout_width="match_parent"<br>         android:layout_height="100dp"<br>         android:layout_marginTop="10dp"<br>         android:background="#f00"<br>         app:layout_constraintEnd_toEndOf="parent"<br>         app:layout_constraintStart_toStartOf="parent"<br>         app:layout_constraintTop_toTopOf="parent" /&gt;</p> 
<p>&lt;/LinearLayout&gt;<br><br> 显示</p> 
<p>MyDialogFragment dialog = new MyDialogFragment();<br> Bundle bundle = new Bundle();<br> dialog.setArguments(bundle);<br> dialog.show(getSupportFragmentManager(), "dialog_fragment");<br><br> 但是在实际开发中，我们的需求可能并不能满足于此，比如上部分​​圆角效果​​​、​​指定高度​​等</p> 
<p>圆角效果<br> 先设置原有背景透明</p> 
<p>style.xml</p> 
<p>&lt;style name="MyBottomSheetDialog" parent="Theme.Design.Light.BottomSheetDialog"&gt;<br>         &lt;item name="bottomSheetStyle"&gt;@style/BottomSheetStyleWrapper&lt;/item&gt;<br>         &lt;item name="android:background"&gt;@android:color/transparent&lt;/item&gt;<br>         &lt;item name="android:windowBackground"&gt;@android:color/transparent&lt;/item&gt;<br>         &lt;item name="android:windowNoTitle"&gt;true&lt;/item&gt;<br>         &lt;item name="android:windowIsFloating"&gt;false&lt;/item&gt;<br>     &lt;/style&gt;</p> 
<p>    &lt;style name="BottomSheetStyleWrapper" parent="Widget.MaterialComponents.BottomSheet.Modal"&gt;<br>         &lt;item name="android:background"&gt;@android:color/transparent&lt;/item&gt;<br>     &lt;/style&gt;<br><br> onCreate中设置style</p> 
<p>public class MyDialogFragment extends BottomSheetDialogFragment {<!-- --></p> 
<p>    @Override<br>     public void onCreate(@Nullable Bundle savedInstanceState) {<!-- --><br>         super.onCreate(savedInstanceState);<br>         setStyle(STYLE_NORMAL, R.style.MyBottomSheetDialog);<br>     }</p> 
<p>    @Nullable<br>     @Override<br>     public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {<!-- --><br>         View view = inflater.inflate(R.layout.bottom_dialog_fragment_layout, container, false);<br>         return view;<br>     }<br> }<br><br> 在根布局的 view上设置 ​​background​​</p> 
<p>&lt;?xml version="1.0" encoding="utf-8"?&gt;<br> &lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"<br>     xmlns:app="http://schemas.android.com/apk/res-auto"<br>     android:layout_width="match_parent"<br>     android:layout_height="wrap_content"<br>     android:orientation="vertical"<br>     android:padding="6dp"<br>     android:background="@drawable/fragment_dialog_bg"&gt;</p> 
<p>    &lt;Button<br>         android:id="@+id/button"<br>         android:layout_width="match_parent"<br>         android:layout_height="100dp"<br>         android:background="#ff0"<br>         app:layout_constraintEnd_toEndOf="parent"<br>         app:layout_constraintStart_toStartOf="parent"<br>         app:layout_constraintTop_toTopOf="parent" /&gt;</p> 
<p>    &lt;Button<br>         android:id="@+id/button2"<br>         android:layout_width="match_parent"<br>         android:layout_height="100dp"<br>         android:layout_marginTop="10dp"<br>         android:background="#f00"<br>         app:layout_constraintEnd_toEndOf="parent"<br>         app:layout_constraintStart_toStartOf="parent"<br>         app:layout_constraintTop_toTopOf="parent" /&gt;</p> 
<p>&lt;/LinearLayout&gt;<br><br><br> 特别注意：根布局除了设置 ​​android:background​​​ 属性外，还需要设置 ​​android:padding​​ 属性，否则圆角显示不出来。</p> 
<p>fragment_dialog_bg</p> 
<p>&lt;?xml version="1.0" encoding="utf-8"?&gt;<br> &lt;shape xmlns:android="http://schemas.android.com/apk/res/android"<br>     android:shape="rectangle"&gt;<br>     &lt;corners<br>         android:topLeftRadius="10dp"<br>         android:topRightRadius="10dp" /&gt;<br>     &lt;solid android:color="@android:color/white" /&gt;</p> 
<p>&lt;/shape&gt;<br><br> 去掉背景蒙版<br> 需要在 ​​style​​​ 中增加 ​​android:backgroundDimEnabled​​ 属性</p> 
<p>&lt;!--  没有蒙版的style--&gt;<br>     &lt;style name="MyBottomSheetDialog" parent="Theme.Design.Light.BottomSheetDialog"&gt;<br>         &lt;item name="bottomSheetStyle"&gt;@style/BottomSheetStyleWrapper&lt;/item&gt;<br>         &lt;item name="android:background"&gt;@android:color/transparent&lt;/item&gt;<br>         &lt;item name="android:windowBackground"&gt;@android:color/transparent&lt;/item&gt;<br>         &lt;item name="android:windowNoTitle"&gt;true&lt;/item&gt;<br>         &lt;item name="android:windowIsFloating"&gt;false&lt;/item&gt;<br>         &lt;item name="android:backgroundDimEnabled"&gt;false&lt;/item&gt;<br>     &lt;/style&gt;<br><br> 设置蒙版透明度<br> 在 ​​style​​​ 中增加 ​​android:backgroundDimAmount​​ 属性，属性值范围 0 - 1 .</p> 
<p>0 : 完全透明<br> 1：完全不透明<br> &lt;style name="MyBottomSheetDialog2" parent="Theme.Design.Light.BottomSheetDialog"&gt;<br>         &lt;item name="bottomSheetStyle"&gt;@style/BottomSheetStyleWrapper&lt;/item&gt;<br>         &lt;item name="android:background"&gt;@android:color/transparent&lt;/item&gt;<br>         &lt;item name="android:windowBackground"&gt;@android:color/transparent&lt;/item&gt;<br>         &lt;item name="android:windowNoTitle"&gt;true&lt;/item&gt;<br>         &lt;item name="android:windowIsFloating"&gt;false&lt;/item&gt;<br>         &lt;item name="android:backgroundDimAmount"&gt;0.4&lt;/item&gt;<br>     &lt;/style&gt;<br><br> 点击 dialog 外部区域，dialog 不消失<br> 重写 ​​onCreateDialog​​​ 方法，设置 ​​setCanceledOnTouchOutside​​ 值为 false</p> 
<p>public class MyDialogFragment extends BottomSheetDialogFragment {<!-- --></p> 
<p>    @Override<br>     public void onCreate(@Nullable Bundle savedInstanceState) {<!-- --><br>         super.onCreate(savedInstanceState);<br>         setStyle(STYLE_NORMAL, R.style.MyBottomSheetDialog);<br>     }</p> 
<p>    @Override<br>     public Dialog onCreateDialog(Bundle savedInstanceState) {<!-- --><br>         Dialog dialog =  super.onCreateDialog(savedInstanceState);<br>         dialog.setCanceledOnTouchOutside(false);<br>         return dialog;<br>     }</p> 
<p>    @Nullable<br>     @Override<br>     public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {<!-- --><br>         View view = inflater.inflate(R.layout.bottom_dialog_fragment_layout, container, false);<br>         return view;<br>     }<br> }<br><br><br> 禁止向下拖动<br> bottomSheetBehavior.setHideable(false);<br> 1.<br> 具体使用方法：</p> 
<p>@Override<br>     public Dialog onCreateDialog(Bundle savedInstanceState) {<!-- --><br>         Dialog dialog = super.onCreateDialog(savedInstanceState);<br>         if (dialog instanceof BottomSheetDialog) {<!-- --><br>             BottomSheetDialog bottomSheetDialog = (BottomSheetDialog) dialog;<br>             bottomSheetDialog.setOnShowListener(dialogInterface -&gt; {<!-- --><br>                 FrameLayout bottomSheet = bottomSheetDialog.findViewById(android.support.design.R.id.design_bottom_sheet);<br>                 BottomSheetBehavior bottomSheetBehavior = BottomSheetBehavior.from(bottomSheet);<br>                 bottomSheetBehavior.setHideable(false);<br>             });<br>         }<br>         return dialog;<br>     }<br><br> 设置弹框固定高度<br> bottomSheetBehavior.setPeekHeight(1200);<br> 1.<br> 使用：</p> 
<p>@Override<br>     public Dialog onCreateDialog(Bundle savedInstanceState) {<!-- --><br>         Dialog dialog = super.onCreateDialog(savedInstanceState);<br>         if (dialog instanceof BottomSheetDialog) {<!-- --><br>             BottomSheetDialog bottomSheetDialog = (BottomSheetDialog) dialog;<br>             bottomSheetDialog.setOnShowListener(dialogInterface -&gt; {<!-- --><br>                 FrameLayout bottomSheet = bottomSheetDialog.findViewById(android.support.design.R.id.design_bottom_sheet);<br>                 BottomSheetBehavior bottomSheetBehavior = BottomSheetBehavior.from(bottomSheet);<br>                 bottomSheetBehavior.setPeekHeight(1200);<br>             });<br>         }<br>         return dialog;<br>     }</p> 
<p>    @Nullab<br><br> 内容铺满全屏<br> 当内容特别多，比如有 recyclerView 时，我们希望 dialog 展开的高度是全屏的。</p> 
<p>//默认展开<br> bottomSheetBehavior.setState(BottomSheetBehavior.STATE_EXPANDED);<br><br> 使用</p> 
<p>@Override<br>     public Dialog onCreateDialog(Bundle savedInstanceState) {<!-- --><br>         Dialog dialog = super.onCreateDialog(savedInstanceState);<br>         if (dialog instanceof BottomSheetDialog) {<!-- --><br>             BottomSheetDialog bottomSheetDialog = (BottomSheetDialog) dialog;<br>             bottomSheetDialog.setOnShowListener(dialogInterface -&gt; {<!-- --><br>                 FrameLayout bottomSheet = bottomSheetDialog.findViewById(android.support.design.R.id.design_bottom_sheet);<br>                 BottomSheetBehavior bottomSheetBehavior = BottomSheetBehavior.from(bottomSheet);<br>                 //默认展开<br>                 bottomSheetBehavior.setState(BottomSheetBehavior.STATE_EXPANDED);<br>             });<br>         }<br>         return dialog;<br>     }<br><br> 监听展开收起<br> bottomSheetBehavior.setBottomSheetCallback()<br> 1.<br> 使用</p> 
<p>public class MyDialogFragment extends BottomSheetDialogFragment {<!-- --></p> 
<p>    @Override<br>     public void onCreate(@Nullable Bundle savedInstanceState) {<!-- --><br>         super.onCreate(savedInstanceState);<br>         setStyle(STYLE_NORMAL, R.style.MyBottomSheetDialog);<br>     }</p> 
<p>    @Override<br>     public Dialog onCreateDialog(Bundle savedInstanceState) {<!-- --><br>         Dialog dialog = super.onCreateDialog(savedInstanceState);<br>         if (dialog instanceof BottomSheetDialog) {<!-- --><br>             BottomSheetDialog bottomSheetDialog = (BottomSheetDialog) dialog;<br>             bottomSheetDialog.setOnShowListener(dialogInterface -&gt; {<!-- --><br>                 FrameLayout bottomSheet = bottomSheetDialog.findViewById(android.support.design.R.id.design_bottom_sheet);<br>                 BottomSheetBehavior bottomSheetBehavior = BottomSheetBehavior.from(bottomSheet);<br>                 //默认展开<br>                 bottomSheetBehavior.setBottomSheetCallback(new BottomSheetBehavior.BottomSheetCallback() {<!-- --><br>                     @Override<br>                     public void onStateChanged(@NonNull View view, int newState) {<!-- --><br>                         switch (newState) {<!-- --><br>                             case BottomSheetBehavior.STATE_EXPANDED:</p> 
<p>                                break;<br>                             case BottomSheetBehavior.STATE_COLLAPSED:</p> 
<p>                                break;<br>                             case BottomSheetBehavior.STATE_DRAGGING:</p> 
<p>                                break;<br>                             case BottomSheetBehavior.STATE_SETTLING:</p> 
<p>                                break;<br>                             case BottomSheetBehavior.STATE_HIDDEN:</p> 
<p>                                break;<br>                         }<br>                     }</p> 
<p>                    @Override<br>                     public void onSlide(@NonNull View view, float v) {<!-- --></p> 
<p>                    }<br>                 });<br>             });<br>         }<br>         return dialog;<br>     }</p> 
<p>    @Nullable<br>     @Override<br>     public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {<!-- --><br>         View view = inflater.inflate(R.layout.bottom_dialog_fragment_layout, container, false);<br>         return view;<br>     }<br> }<br><br> 底部常驻View<br> 在 BottomSheetDialogFragment 实现底部常驻布局是比较难的，好在有些人通过巧妙的方式实现了<br>  </p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/2de6339355306991b1724e0a49829cdf/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">使用Vue框架，发现输入框＜input＞或者＜el-input＞的内容无法修改，也无法输入。</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/be1e4a2eaa9cc5bb06f1eb1b979799d6/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">TCP断开连接为什么是四次挥手？三次行不行？</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>