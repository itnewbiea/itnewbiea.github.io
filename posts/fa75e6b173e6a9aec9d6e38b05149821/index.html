<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>解决Xshell 工具连接不上VirtualBox虚拟机 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="解决Xshell 工具连接不上VirtualBox虚拟机" />
<meta property="og:description" content="初次尝试用VirtualBox安装Linux虚拟机，却遇到了一些问题，特地记录于此，方便后面查阅！
首先简易记录下安装Linux虚拟机过程：
大致经过如下步骤：新建虚拟电脑，加载Linux版本镜像安装文件，安装结束配置网络连接；
1：新建虚拟电脑：
利用VirtualBox的新建虚拟电脑向导还是很容易新建一台虚拟电脑的，一路下一步就可以了。
2：点击上图创建后，然后启动虚拟机：
注意此处：宿主机CPU需要支持虚拟化技术：如下图所示：
BIOS 中设置如下：
设置好后重启，打开VirtualBox进一步设置：
3：按向导指引安装，安装过程中提示设置Root用户密码：
4：安装完成，重启虚拟机：
5：设置虚拟机可以上网：此时ping www.baidu.com 会无反应。设置如下：（下图是VirtualBox的 全局设定，不是某个虚拟机的网络设置）
在虚拟机窗口中输入：cd /etc/sysconfig/network-scripts/ 编辑 ifcfg-enp0s3文件
vi ifcfg-enp0s3 （按Tab键自动补充完成），设置onboot=yes; esc &#43; :wq 保存修改退出
编辑模式
使用vi进入文本后，按i开始编辑文本
退出编辑模式
按ESC键，然后：
退出vi
:q! 不保存文件，强制退出vi命令
:w 保存文件，不退出vi命令
:wq 保存文件，退出vi命令
此时可以ping通 Internet网络，但主机无法通过xshell工具连接到虚拟机！下面来解决这个问题：
确保关闭虚拟机，启用下图中的网卡2：
即为虚拟机设置两张网卡：
网卡1设置为网络地址转换（NAT）,实现虚拟机通过主机网络访问互联网；网卡2设置为host-only；实现主机与虚拟机互联,重启虚拟机； 输入ifconfig 查看网络网卡信息：由于我们的安装包是最小化CentOS,默认没有安装ifconfig命令，先升级下系统：
yum update; 再
yum search ifconfig, 搜索ifconfig命令所在的安装包：
再执行yum install net-tools.x86_64
此时执行ifconfig得到如下信息：
那么虚拟机的IP就是192.168.56.3，这里56网段是VirtualBox的默认HostOnly网段。
主机CMD命令行里ping 192.168.56.3 可以ping通了！问题解决，完成！" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/fa75e6b173e6a9aec9d6e38b05149821/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-08-03T12:17:25+08:00" />
<meta property="article:modified_time" content="2018-08-03T12:17:25+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">解决Xshell 工具连接不上VirtualBox虚拟机</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>初次尝试用VirtualBox安装Linux虚拟机，却遇到了一些问题，特地记录于此，方便后面查阅！</p> 
<p>首先简易记录下安装Linux虚拟机过程：</p> 
<p>大致经过如下步骤：新建虚拟电脑，加载Linux版本镜像安装文件，安装结束配置网络连接；</p> 
<p>1：新建虚拟电脑：</p> 
<p><img alt="" class="has" height="408" src="https://images2.imgbox.com/a0/71/sABGbBsH_o.png" width="652"></p> 
<p>利用VirtualBox的新建虚拟电脑向导还是很容易新建一台虚拟电脑的，一路下一步就可以了。</p> 
<p><img alt="" class="has" height="458" src="https://images2.imgbox.com/22/0e/VtUw1QtT_o.png" width="481"></p> 
<p>2：点击上图创建后，然后启动虚拟机：</p> 
<p><img alt="" class="has" height="391" src="https://images2.imgbox.com/4e/4c/oyOK9r71_o.png" width="643"></p> 
<p>注意此处：宿主机CPU需要支持虚拟化技术：如下图所示：</p> 
<p><img alt="" class="has" height="344" src="https://images2.imgbox.com/91/9a/dbj7Svny_o.png" width="601"></p> 
<p>BIOS 中设置如下：</p> 
<p><img alt="" class="has" height="306" src="https://images2.imgbox.com/5d/c3/jWkIneMH_o.png" width="614"></p> 
<p>设置好后重启，打开VirtualBox进一步设置：</p> 
<p><img alt="" class="has" height="255" src="https://images2.imgbox.com/06/fb/uIhvCaAj_o.png" width="246"></p> 
<p>3：按向导指引安装，安装过程中提示设置Root用户密码：</p> 
<p><img alt="" class="has" height="417" src="https://images2.imgbox.com/2d/9f/4wEOTAy0_o.png" width="576"></p> 
<p>4：安装完成，重启虚拟机：</p> 
<p><img alt="" class="has" height="541" src="https://images2.imgbox.com/5a/6c/sBTlckcX_o.png" width="564"></p> 
<p>5：设置虚拟机可以上网：此时ping www.baidu.com 会无反应。设置如下：（下图是VirtualBox的 全局设定，不是某个虚拟机的网络设置）</p> 
<p><img alt="" class="has" height="410" src="https://images2.imgbox.com/79/ec/iTFMDSVP_o.png" width="668"></p> 
<p>在虚拟机窗口中输入：cd /etc/sysconfig/network-scripts/ 编辑 ifcfg-enp0s3文件</p> 
<p>vi ifcfg-enp0s3 （按Tab键自动补充完成），设置onboot=yes;  esc + :wq 保存修改退出</p> 
<p><em>编辑模式<br> 　　使用vi进入文本后，按i开始编辑文本</em></p> 
<p><em>退出编辑模式<br> 　　按ESC键，然后：<br> 　　　　退出vi<br> 　　　:q!  不保存文件，强制退出vi命令<br> 　　　 :w   保存文件，不退出vi命令<br> 　　　 :wq  保存文件，退出vi命令</em></p> 
<p><img alt="" class="has" height="447" src="https://images2.imgbox.com/33/c2/17gSjDjv_o.png" width="603"></p> 
<p>此时可以ping通 Internet网络，但主机无法通过xshell工具连接到虚拟机！下面来解决这个问题：</p> 
<p>确保关闭虚拟机，启用下图中的网卡2：</p> 
<p><img alt="" class="has" height="311" src="https://images2.imgbox.com/17/2b/G77PD397_o.png" width="680"></p> 
<p>即为虚拟机设置两张网卡：</p> 
<ol><li>网卡1设置为网络地址转换（NAT）,实现虚拟机通过主机网络访问互联网；</li><li>网卡2设置为<strong>host-only</strong>；实现主机与虚拟机互联,重启虚拟机；</li></ol> 
<p>输入ifconfig 查看网络网卡信息：由于我们的安装包是最小化CentOS,默认没有安装ifconfig命令，先升级下系统：</p> 
<p>yum update; 再<br> yum search ifconfig, 搜索ifconfig命令所在的安装包：</p> 
<p><img alt="" class="has" height="544" src="https://images2.imgbox.com/90/58/kfgdpQAD_o.png" width="797"></p> 
<p>再执行yum install net-tools.x86_64</p> 
<p>此时执行ifconfig得到如下信息：</p> 
<p><img alt="" class="has" height="400" src="https://images2.imgbox.com/4a/36/eNWM4RTc_o.png" width="720"></p> 
<p> </p> 
<p>那么虚拟机的IP就是192.168.56.3，这里56网段是VirtualBox的默认HostOnly网段。</p> 
<p>主机CMD命令行里ping 192.168.56.3 可以ping通了！问题解决，完成！</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/71acb3886057b95d77c665e909ba0e31/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">需求背后程序员的辛酸—(由APP主题颜色随手机壳颜色变化需求带来的思考)</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/0d3b5f49d7586a7483ccb5c9e2c71543/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">异常处理和序列化----c#</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>