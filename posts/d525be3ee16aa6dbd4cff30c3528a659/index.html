<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Big Data tools插件连接 &#43; yarn 集群 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Big Data tools插件连接 &#43; yarn 集群" />
<meta property="og:description" content="目录
big data tools 使用
yarn资源管理
1.修改 mapred-site.xml 配置文件
2.修改yarn-site.xml
3.修改yarn-env.sh
4.分发到其他节点
5.启动yarn
6.访问
链接：
big data tools 使用 Path hdfs://192.168.232.100:8020/ is not accessible or does not exist
之所以在连接的时候出现这中情况，是由于在hadoop 集群环境搭建完成之后，没有创建做页目录
设置执行MapReduce作业所需的HDFS目录：
hdfs dfs -mkdir -p /data/hadoop
对hdfs目录文件的操作，可以参考单机搭建里面的内容：
官方网址为：https://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-common/SingleCluster.html
namenode 锁的争抢是通过 zkfc 进程去zookeeper集群中注册，谁最先注册成功，谁就是主节点
resourcemanager 锁的争抢是进程自己直接去 zookeeper 集群中注册，谁先注册成功，谁是主节点
yarn 集群中共 nodemanager 节点数量和 DataNode 节点数量相同，都是通过 workers 配置文件进行启动的 mapReduce 计算框架存在自己的弊端，然后引出 yarn 集群框架去进行集群的管理
driver 是一个 jvm 进程， applicationMaster 作用是向其他的 worker（nodemanager）发送 task ，然后回收结果。 回收后的结果，保存在堆内存中,如果结果数据非常大，会造成内存溢出。
一个clinet 客户端的请求，会创建一个 applicationMaster" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/d525be3ee16aa6dbd4cff30c3528a659/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-08-25T15:38:44+08:00" />
<meta property="article:modified_time" content="2020-08-25T15:38:44+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Big Data tools插件连接 &#43; yarn 集群</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="big%20data%20tools%20%E4%BD%BF%E7%94%A8-toc" style="margin-left:0px;"><a href="#big%20data%20tools%20%E4%BD%BF%E7%94%A8" rel="nofollow">big data tools 使用</a></p> 
<p id="yarn%E8%B5%84%E6%BA%90%E7%AE%A1%E7%90%86-toc" style="margin-left:0px;"><a href="#yarn%E8%B5%84%E6%BA%90%E7%AE%A1%E7%90%86" rel="nofollow">yarn资源管理</a></p> 
<p id="1.%E4%BF%AE%E6%94%B9%C2%A0mapred-site.xml%20%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6-toc" style="margin-left:40px;"><a href="#1.%E4%BF%AE%E6%94%B9%C2%A0mapred-site.xml%20%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6" rel="nofollow">1.修改 mapred-site.xml 配置文件</a></p> 
<p id="2.%E4%BF%AE%E6%94%B9yarn-site.xml-toc" style="margin-left:40px;"><a href="#2.%E4%BF%AE%E6%94%B9yarn-site.xml" rel="nofollow">2.修改yarn-site.xml</a></p> 
<p id="3.%E4%BF%AE%E6%94%B9yarn-env.sh-toc" style="margin-left:40px;"><a href="#3.%E4%BF%AE%E6%94%B9yarn-env.sh" rel="nofollow">3.修改yarn-env.sh</a></p> 
<p id="4.%E5%88%86%E5%8F%91%E5%88%B0%E5%85%B6%E4%BB%96%E8%8A%82%E7%82%B9-toc" style="margin-left:40px;"><a href="#4.%E5%88%86%E5%8F%91%E5%88%B0%E5%85%B6%E4%BB%96%E8%8A%82%E7%82%B9" rel="nofollow">4.分发到其他节点</a></p> 
<p id="5.%E5%90%AF%E5%8A%A8yarn-toc" style="margin-left:40px;"><a href="#5.%E5%90%AF%E5%8A%A8yarn" rel="nofollow">5.启动yarn</a></p> 
<p id="6.%E8%AE%BF%E9%97%AE-toc" style="margin-left:40px;"><a href="#6.%E8%AE%BF%E9%97%AE" rel="nofollow">6.访问</a></p> 
<p id="%E9%93%BE%E6%8E%A5%EF%BC%9A-toc" style="margin-left:0px;"><a href="#%E9%93%BE%E6%8E%A5%EF%BC%9A" rel="nofollow">链接：</a></p> 
<hr id="hr-toc"> 
<h2 id="big%20data%20tools%20%E4%BD%BF%E7%94%A8">big data tools 使用</h2> 
<p><img alt="" height="700" src="https://images2.imgbox.com/65/ee/5p5F9N81_o.png" width="1051"></p> 
<p>Path hdfs://192.168.232.100:8020/ is not accessible or does not exist</p> 
<p>之所以在连接的时候出现这中情况，是由于在hadoop 集群环境搭建完成之后，没有创建做页目录</p> 
<p>设置执行MapReduce作业所需的HDFS目录：</p> 
<p>hdfs dfs -mkdir -p /data/hadoop</p> 
<p><img alt="" height="127" src="https://images2.imgbox.com/08/cf/1noknb4k_o.png" width="616"></p> 
<p> 对hdfs目录文件的操作，可以参考单机搭建里面的内容：</p> 
<p>官方网址为：<a href="https://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-common/SingleCluster.html" rel="nofollow">https://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-common/SingleCluster.html</a></p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p><img alt="" height="262" src="https://images2.imgbox.com/c5/4e/dwwj3gX6_o.png" width="1060"></p> 
<p> namenode 锁的争抢是通过 zkfc 进程去zookeeper集群中注册，谁最先注册成功，谁就是主节点</p> 
<p>resourcemanager 锁的争抢是进程自己直接去 zookeeper 集群中注册，谁先注册成功，谁是主节点</p> 
<p>yarn 集群中共 nodemanager 节点数量和 DataNode 节点数量相同，都是通过 workers 配置文件进行启动的 </p> 
<p><img alt="" height="451" src="https://images2.imgbox.com/ab/0b/wpt3nhLL_o.png" width="695"></p> 
<p><img alt="" height="477" src="https://images2.imgbox.com/78/b3/Rp19ppWX_o.png" width="698"></p> 
<p><img alt="" height="491" src="https://images2.imgbox.com/5a/a0/ZCJoZymg_o.png" width="696"></p> 
<p> mapReduce 计算框架存在自己的弊端，然后引出 yarn 集群框架去进行集群的管理</p> 
<p><img alt="" height="607" src="https://images2.imgbox.com/35/ea/aYx4bKbT_o.png" width="1200"></p> 
<p>driver 是一个 jvm 进程， applicationMaster 作用是向其他的 worker（nodemanager）发送 task ，然后回收结果。  </p> 
<p>回收后的结果，保存在堆内存中,如果结果数据非常大，会造成内存溢出。</p> 
<p><img alt="" height="525" src="https://images2.imgbox.com/92/63/F5sdipOn_o.png" width="890"></p> 
<p><img alt="" height="774" src="https://images2.imgbox.com/ba/66/0ukQPtg3_o.png" width="1137"></p> 
<p> 一个clinet 客户端的请求，会创建一个 applicationMaster</p> 
<p><img alt="" height="595" src="https://images2.imgbox.com/99/30/2GAR09gD_o.png" width="817"></p> 
<p>RM ---&gt; resourcemanager</p> 
<p>AM----&gt; aplicaitonMaster</p> 
<h2 id="yarn%E8%B5%84%E6%BA%90%E7%AE%A1%E7%90%86">yarn资源管理</h2> 
<h3 id="1.%E4%BF%AE%E6%94%B9%C2%A0mapred-site.xml%20%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6">1.修改 mapred-site.xml 配置文件</h3> 
<pre><code class="language-bash">&lt;configuration&gt;
  &lt;property&gt;
    &lt;name&gt;mapreduce.framework.name&lt;/name&gt;
    &lt;value&gt;yarn&lt;/value&gt;
  &lt;/property&gt;
&lt;/configuration&gt;</code></pre> 
<p> <img alt="" height="311" src="https://images2.imgbox.com/b7/fd/zwHwG0zb_o.png" width="741"></p> 
<h3 id="2.%E4%BF%AE%E6%94%B9yarn-site.xml">2.修改yarn-site.xml</h3> 
<pre><code class="language-bash">&lt;configuration&gt;
  &lt;!-- 集成shuffle --&gt;
  &lt;property&gt;
    &lt;name&gt;yarn.nodemanager.aux-services&lt;/name&gt;
    &lt;value&gt;mapreduce_shuffle&lt;/value&gt;
  &lt;/property&gt;
  &lt;!-- 开启yarn的高可用HA --&gt;
  &lt;property&gt;
    &lt;name&gt;yarn.resourcemanager.ha.enabled&lt;/name&gt;
    &lt;value&gt;true&lt;/value&gt;
  &lt;/property&gt;
  &lt;!-- 一个集群的标识，任意的value值都可以，要保证唯一性 --&gt;
  &lt;property&gt;
    &lt;name&gt;yarn.resourcemanager.cluster-id&lt;/name&gt;
    &lt;value&gt;cluster1&lt;/value&gt;
  &lt;/property&gt;
  &lt;!-- yarn集群逻辑映射 --&gt;
  &lt;property&gt;
    &lt;name&gt;yarn.resourcemanager.ha.rm-ids&lt;/name&gt;
    &lt;value&gt;rm1,rm2&lt;/value&gt;
  &lt;/property&gt;
  &lt;!-- yarn集群物理映射 --&gt;
  &lt;property&gt;
    &lt;name&gt;yarn.resourcemanager.hostname.rm1&lt;/name&gt;
    &lt;value&gt;yang102&lt;/value&gt;
  &lt;/property&gt;
  &lt;!-- yarn集群物理映射 --&gt;
  &lt;property&gt;
    &lt;name&gt;yarn.resourcemanager.hostname.rm2&lt;/name&gt;
    &lt;value&gt;yang103&lt;/value&gt;
  &lt;/property&gt;
  &lt;property&gt;
    &lt;name&gt;yarn.resourcemanager.webapp.address.rm1&lt;/name&gt;
    &lt;value&gt;yang102:8088&lt;/value&gt;
  &lt;/property&gt;
  &lt;property&gt;
    &lt;name&gt;yarn.resourcemanager.webapp.address.rm2&lt;/name&gt;
    &lt;value&gt;yang103:8088&lt;/value&gt;
  &lt;/property&gt;
  &lt;property&gt;
    &lt;name&gt;hadoop.zk.address&lt;/name&gt;
    &lt;value&gt;yang101:2181,yang102:2181,yang103:2181&lt;/value&gt;
  &lt;/property&gt;
&lt;/configuration&gt;</code></pre> 
<p><img alt="" height="646" src="https://images2.imgbox.com/c4/87/W11lArfv_o.png" width="668"></p> 
<h3 id="3.%E4%BF%AE%E6%94%B9yarn-env.sh">3.修改yarn-env.sh</h3> 
<pre><code class="language-bash">export YARN_RESOURCEMANAGER_USER=root
export YARN_NODEMANAGER_USER=root</code></pre> 
<p><img alt="" height="287" src="https://images2.imgbox.com/5a/5f/ArxFpWVG_o.png" width="735"></p> 
<p>否则在启动yarn的时候会报错</p> 
<p> <img alt="" height="194" src="https://images2.imgbox.com/e9/3f/Spzf15PX_o.png" width="776"></p> 
<h3 id="4.%E5%88%86%E5%8F%91%E5%88%B0%E5%85%B6%E4%BB%96%E8%8A%82%E7%82%B9">4.分发到其他节点</h3> 
<pre><code class="language-bash">scp mapred-site.xml yarn-site.xml yang101:`pwd`</code></pre> 
<p><img alt="" height="262" src="https://images2.imgbox.com/ab/3a/MYmymW9P_o.png" width="1054"></p> 
<pre><code class="language-bash">scp yarn-env.sh yang101:`pwd`</code></pre> 
<p><img alt="" height="226" src="https://images2.imgbox.com/68/65/QG6GTReO_o.png" width="1051"></p> 
<h3 id="5.%E5%90%AF%E5%8A%A8yarn">5.启动yarn</h3> 
<p>start-yarn.sh</p> 
<p> <img alt="" height="127" src="https://images2.imgbox.com/37/41/0l0i6UUj_o.png" width="839"></p> 
<h3 id="6.%E8%AE%BF%E9%97%AE">6.访问</h3> 
<p>访问任意一个 resourcemanager 的8088 端口，则会显示该节点的状态信息</p> 
<p>点解 active</p> 
<p><img alt="" height="580" src="https://images2.imgbox.com/57/6d/ZZL7rhAk_o.png" width="1200"></p> 
<h2 id="%E9%93%BE%E6%8E%A5%EF%BC%9A">链接：</h2> 
<p>hadoop全分布：<a href="https://blog.csdn.net/yang_zzu/article/details/108171482">https://blog.csdn.net/yang_zzu/article/details/108171482</a></p> 
<p>hadoopHA高可用：<a href="https://blog.csdn.net/yang_zzu/article/details/108199608">https://blog.csdn.net/yang_zzu/article/details/108199608</a></p> 
<p> </p> 
<p> </p> 
<p> </p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/d0a774c9ae24c91b75f2eb9f38b2a5a0/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">element-UI单选框表格默认选中某一行高亮状态,点击某一行获取表格的行数(表格数据下标)以及setCurrentRow方法无法选中问题解决</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/2f9655b282fc6794811a4acd723b413a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">opencascade基础</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>