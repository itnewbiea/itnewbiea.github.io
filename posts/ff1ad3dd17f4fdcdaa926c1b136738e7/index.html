<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>ARP表  MAC表  路由表 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="ARP表  MAC表  路由表" />
<meta property="og:description" content="ARP表是一个动态表，存储在计算机当中，目的是做一个ip地址与mac地址的对应。
假设在同一子网段，计算机A与计算机B通信
计算机A的ip地址192.168.0.1 MAC地址AA-AA-AA-AA-AA-AA
计算机B的ip地址已知192.168.0.2 MAC地址未知
那么计算机A就要发起一个ARP查询，“谁能告诉我，192.168.0.2的MAC地址是多少？”
很显然通过交换机的时候，交换机并不能看懂ip地址，所以要广播这个信息，就把这个查询信息发到除发送端的其它所有端口。(当然，交换机还要记住192.168.0.1主机的mac地址）
其它所有的计算机看到这个广播发现目的ip不是自己，就把这个数据丢弃，只有192..168.0.2的计算机B会响应，并发送回执，告诉计算机A，“我是192.168.0.2，我的MAC地址是AA-AA-AA-AA-AA-AB”当通过交换机，交换机记住从计算机B端口过来的MAC地址，并通过已知的A计算机MAC地址，发动到连接计算机A的端口。（此时不再广播）计算机A与计算机B都知道对方的ip和MAC地址，开始通信。
我相信有些人已经知道答案了。
三层交换机肯定是有arp表的，这个毋庸置疑，因为有路由功能嘛，牵扯到ip，那肯定是有的，可能大家对2层是否有，有点疑问，一般来说2层是没有的，所谓arp是地址解析协议，而地址指的是ip解析成mac，可2层跟ip没关啊，所以一般来说是没的，但当我们配置了管理vlan时，比如int vlan 1 ，然后ip add ······，这是用来管理的，这时就产生了arp表
什么叫ARP表啊！什么叫MAC地址表啊！
你们搞清楚没有啊！二层交换有MAC地址表，没有ARP表。ARP表里面有IP地址，二层设备不会有IP地址的。所以二层交换机不会有ARP表。有MAC表。一定要搞清楚。
谈论学术的一定要严谨啊！定义一定要清楚，不然很难说清楚啊！
三层交换机肯定是有arp表的，这个毋庸置疑，因为有路由功能嘛，牵扯到ip，那肯定是有的，可能大家对2层是否有，有点疑问，一般来说2层是没有的，所谓arp是地址解析协议，而地址指的是ip解析成mac，可2层跟ip没关啊，所以一般来说是没的，但当 ... [/quote]非常赞同，二层交换机有个管理vlan，默认是关闭的，如果开启之后，就有了arp表项了。
arp 是地址解析协议，实现通过IP地直得知MAC地址。
工作原理的话，我就不都说了，上面的兄弟们解释得非常清楚了。
在每台安装有[url=/view/7649.htm][color=#0000ff]TCP/IP协议[/color][/url]的电脑里都有一个ARP缓存表，表里的IP地址与[url=/view/69334.htm][color=#0000ff]MAC地址[/color][/url]是一一对应的。
我们可以在命令提示符下输入：arp -a 查看本机电脑arp 缓存表。
详细参数的话，可以？试看。
arp缓存并不长久存在，ARP缓存表采用了老化机制（即设置了生存时间TTL），在一段时间内（一般15到20分钟）如果表中的某一行没有使用，就会被删除，这样可以大大减少ARP缓存表的长度，加快查询速度。
层二设备的只有 PORT---MAC表
当一个层二交换机启动的时候，它会自动去侦测那些联系到自己端口上的 机器的MAC地址的.从而形成了一个PORT--MAC这样一个对应表
层三设备才有 arp表~
简单来说，ARP这个协议谁也说不准，它是个3层协议但是工作在2层，交换机确切的说是有MAC地址表，当主机要经过2层设备访问的话，先查找它内部的ARP缓存表，如果没有，就发一个广播包，里面携带目的的IP地址，如果对应IP地址的主机看到有人叫它的时候，它才给以回应，发送回包，包里面有本机的MAC地址，这样被交换机放入MAC表中，关于20楼兄弟说的SVI那是一个特例。。。严格意义上来说不是ARP表，ARP这个协议谁也说不好是具体2层的还是3层的，具体说就是2层靠MAC表转发，由于TCP协议是需要ACK的，所以也能导致一些ARP欺骗的问题
要弄明白二三转发原理和流程，必须弄清楚ARP表、交换机转发表和路由表，这是数据转发的依据。由于ARP表和交换机转发表对于管理员来说是透明的，一般很忽视其工作原理，这是我需要注意的学习地方。所以今天主要是弄明白ARP表、交换机转发表、路由表。　数据最终转发依靠的都是ARP表，他是数据转发最基础的依据。ARP直接将硬件地址和网络地址相互映射。
数据最终转发依靠的虽然不是路由表，但路由表是一个向导，指引着数据的走向，让数据能跨越网络，ARP表是没有掩码的，是不区分网段的。　转载于:https://www.cnblogs.com/lianjiehere/p/3945059.html" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/ff1ad3dd17f4fdcdaa926c1b136738e7/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2014-08-29T15:31:00+08:00" />
<meta property="article:modified_time" content="2014-08-29T15:31:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">ARP表  MAC表  路由表</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div id="cnblogs_post_body" class="blogpost-body"> 
 <p>ARP表是一个动态表，存储在计算机当中，目的是做一个ip地址与mac地址的对应。<br>假设在同一子网段，计算机A与计算机B通信<br>计算机A的ip地址192.168.0.1 MAC地址AA-AA-AA-AA-AA-AA<br>计算机B的ip地址已知192.168.0.2 MAC地址未知<br>那么计算机A就要发起一个ARP查询，“谁能告诉我，192.168.0.2的MAC地址是多少？”<br>很显然通过交换机的时候，交换机并不能看懂ip地址，所以要广播这个信息，就把这个查询信息发到除发送端的其它所有端口。(当然，交换机还要记住192.168.0.1主机的mac地址）<br>其它所有的计算机看到这个广播发现目的ip不是自己，就把这个数据丢弃，只有192..168.0.2的计算机B会响应，并发送回执，告诉计算机A，“我是192.168.0.2，我的MAC地址是AA-AA-AA-AA-AA-AB”当通过交换机，交换机记住从计算机B端口过来的MAC地址，并通过已知的A计算机MAC地址，发动到连接计算机A的端口。（此时不再广播）计算机A与计算机B都知道对方的ip和MAC地址，开始通信。<br>我相信有些人已经知道答案了。</p> 
 <p> </p> 
 <p><br>三层交换机肯定是有arp表的，这个毋庸置疑，因为有路由功能嘛，牵扯到ip，那肯定是有的，可能大家对2层是否有，有点疑问，一般来说2层是没有的，所谓arp是地址解析协议，而地址指的是ip解析成mac，可2层跟ip没关啊，所以一般来说是没的，但当我们配置了管理vlan时，比如int vlan 1 ，然后ip add ······，这是用来管理的，这时就产生了arp表</p> 
 <p> </p> 
 <p>什么叫ARP表啊！什么叫MAC地址表啊！<br>你们搞清楚没有啊！二层交换有MAC地址表，没有ARP表。ARP表里面有IP地址，二层设备不会有IP地址的。所以二层交换机不会有ARP表。有MAC表。一定要搞清楚。<br>谈论学术的一定要严谨啊！定义一定要清楚，不然很难说清楚啊！</p> 
 <p>三层交换机肯定是有arp表的，这个毋庸置疑，因为有路由功能嘛，牵扯到ip，那肯定是有的，可能大家对2层是否有，有点疑问，一般来说2层是没有的，所谓arp是地址解析协议，而地址指的是ip解析成mac，可2层跟ip没关啊，所以一般来说是没的，但当 ... [/quote]非常赞同，二层交换机有个管理vlan，默认是关闭的，如果开启之后，就有了arp表项了。<br>arp 是地址解析协议，实现通过IP地直得知MAC地址。<br>工作原理的话，我就不都说了，上面的兄弟们解释得非常清楚了。<br>在每台安装有[url=/view/7649.htm][color=#0000ff]TCP/IP协议[/color][/url]的电脑里都有一个ARP缓存表，表里的IP地址与[url=/view/69334.htm][color=#0000ff]MAC地址[/color][/url]是一一对应的。<br>我们可以在命令提示符下输入：arp -a 查看本机电脑arp 缓存表。<br>详细参数的话，可以？试看。<br>arp缓存并不长久存在，ARP缓存表采用了老化机制（即设置了生存时间TTL），在一段时间内（一般15到20分钟）如果表中的某一行没有使用，就会被删除，这样可以大大减少ARP缓存表的长度，加快查询速度。</p> 
 <p>层二设备的只有 PORT---MAC表<br>当一个层二交换机启动的时候，它会自动去侦测那些联系到自己端口上的 机器的MAC地址的.从而形成了一个PORT--MAC这样一个对应表<br>层三设备才有 arp表~<br><br>简单来说，ARP这个协议谁也说不准，它是个3层协议但是工作在2层，交换机确切的说是有MAC地址表，当主机要经过2层设备访问的话，先查找它内部的ARP缓存表，如果没有，就发一个广播包，里面携带目的的IP地址，如果对应IP地址的主机看到有人叫它的时候，它才给以回应，发送回包，包里面有本机的MAC地址，这样被交换机放入MAC表中，关于20楼兄弟说的SVI那是一个特例。。。严格意义上来说不是ARP表，ARP这个协议谁也说不好是具体2层的还是3层的，具体说就是2层靠MAC表转发，由于TCP协议是需要ACK的，所以也能导致一些ARP欺骗的问题</p> 
 <p>要弄明白二三转发原理和流程，必须弄清楚ARP表、交换机转发表和路由表，这是数据转发的依据。由于ARP表和交换机转发表对于管理员来说是透明的，一般很忽视其工作原理，这是我需要注意的学习地方。所以今天主要是弄明白ARP表、交换机转发表、路由表。　　</p> 
 <p>　　数据最终转发依靠的都是ARP表，他是数据转发最基础的依据。ARP直接将硬件地址和网络地址相互映射。</p> 
 <p>　　数据最终转发依靠的虽然不是路由表，但路由表是一个向导，指引着数据的走向，让数据能跨越网络，ARP表是没有掩码的，是不区分网段的。　</p> 
</div> 
<p>转载于:https://www.cnblogs.com/lianjiehere/p/3945059.html</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/5c9266836aa71824ef39ba35e489a62a/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Sqlite常用语句</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/d0fde699c2b1204c495cdd9fbc3c5375/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">dirent</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>