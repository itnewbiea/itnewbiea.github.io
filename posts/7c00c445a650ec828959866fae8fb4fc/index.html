<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>《工具录》nslookup - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="《工具录》nslookup" />
<meta property="og:description" content="工具录 1：nslookup2：选项介绍3：示例 - 命令行模式3.1：查询类型设置3.2：指定 DNS 服务器 4：示例 - 交互模式5：其他 本文以 kali-linux-2023.3-vmware-amd64 为例。
1：nslookup nslookup（name server lookup）常用于域名解析和网络故障排除。
nslookup 有两种操作模式，两种模式功能一致：
交互式模式
适用于在一个会话中执行多个查询或操作。
命令行模式（非交互模式）
适用于执行一次性的简单查询或将其嵌入到脚本中。
2：选项介绍 选项总览：man nslookup 命令中的解释。
NSLOOKUP(1) BIND 9 NSLOOKUP(1) NAME nslookup - query Internet name servers interactively SYNOPSIS nslookup [-option] [name | -] [server] DESCRIPTION nslookup is a program to query Internet domain name servers. nslookup has two modes: interactive and non-interactive. Interactive mode al‐ lows the user to query name servers for information about various hosts and domains or to print a list of hosts in a domain." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/7c00c445a650ec828959866fae8fb4fc/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-02T17:13:51+08:00" />
<meta property="article:modified_time" content="2024-01-02T17:13:51+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">《工具录》nslookup</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>工具录</h4> 
 <ul><li><a href="#1nslookup_7" rel="nofollow">1：nslookup</a></li><li><a href="#2_18" rel="nofollow">2：选项介绍</a></li><li><a href="#3___205" rel="nofollow">3：示例 - 命令行模式</a></li><li><ul><li><a href="#31_206" rel="nofollow">3.1：查询类型设置</a></li><li><a href="#32_DNS__237" rel="nofollow">3.2：指定 DNS 服务器</a></li></ul> 
  </li><li><a href="#4___250" rel="nofollow">4：示例 - 交互模式</a></li><li><a href="#5_291" rel="nofollow">5：其他</a></li></ul> 
</div> 
<p></p> 
<hr> 
<blockquote> 
 <p>本文以 kali-linux-2023.3-vmware-amd64 为例。</p> 
</blockquote> 
<h2><a id="1nslookup_7"></a>1：nslookup</h2> 
<p>nslookup（name server lookup）常用于域名解析和网络故障排除。</p> 
<p>nslookup 有两种操作模式，两种模式功能一致：</p> 
<ul><li> <p><strong>交互式模式</strong><br> 适用于在一个会话中执行多个查询或操作。</p> </li><li> <p><strong>命令行模式</strong>（非交互模式）<br> 适用于执行一次性的简单查询或将其嵌入到脚本中。</p> </li></ul> 
<h2><a id="2_18"></a>2：选项介绍</h2> 
<p><strong>选项总览</strong>：<code>man nslookup</code> 命令中的解释。</p> 
<pre><code>NSLOOKUP(1)                         BIND 9                        NSLOOKUP(1)

NAME
       nslookup - query Internet name servers interactively

SYNOPSIS
       nslookup [-option] [name | -] [server]

DESCRIPTION
       nslookup is a program to query Internet domain name servers.  nslookup
       has  two  modes: interactive and non-interactive. Interactive mode al‐
       lows the user to query name  servers  for  information  about  various
       hosts and domains or to print a list of hosts in a domain.  Non-inter‐
       active  mode prints just the name and requested information for a host
       or domain.

ARGUMENTS
       Interactive mode is entered in the following cases:

       a. when no arguments are given (the default name server is used);

       b. when the first argument is a hyphen (-) and the second argument  is
          the host name or Internet address of a name server.

       Non-interactive  mode is used when the name or Internet address of the
       host to be looked up is given as the first argument. The optional sec‐
       ond argument specifies the host name or address of a name server.

       Options can also be specified on the command line if they precede  the
       arguments  and  are prefixed with a hyphen. For example, to change the
       default query type to host information, with an initial timeout of  10
       seconds, type:

          nslookup -query=hinfo  -timeout=10

       The  -version  option  causes nslookup to print the version number and
       immediately exit.

INTERACTIVE COMMANDS
       host [server]
              This command looks up information for host  using  the  current
              default server or using server, if specified. If host is an In‐
              ternet  address and the query type is A or PTR, the name of the
              host is returned. If host is a name and does not have a  trail‐
              ing period (.), the search list is used to qualify the name.

              To look up a host not in the current domain, append a period to
              the name.

       server domain | lserver domain
              These  commands  change  the  default server to domain; lserver
              uses the initial server to look up  information  about  domain,
              while  server uses the current default server. If an authorita‐
              tive answer cannot be found, the names of  servers  that  might
              have the answer are returned.

       root   This command is not implemented.

       finger This command is not implemented.

       ls     This command is not implemented.

       view   This command is not implemented.

       help   This command is not implemented.

       ?      This command is not implemented.

       exit   This command exits the program.

       set keyword[=value]
              This  command  is used to change state information that affects
              the lookups. Valid keywords are:

              all    This keyword prints the current values of the frequently
                     used options to set. Information about the  current  de‐
                     fault server and host is also printed.

              class=value
                     This keyword changes the query class to one of:

                     IN     the Internet class

                     CH     the Chaos class

                     HS     the Hesiod class

                     ANY    wildcard

                     The  class  specifies the protocol group of the informa‐
                     tion. The default is IN; the abbreviation for this  key‐
                     word is cl.

              nodebug
                     This keyword turns on or off the display of the full re‐
                     sponse  packet,  and  any intermediate response packets,
                     when searching. The default for this keyword is nodebug;
                     the abbreviation for this keyword is [no]deb.

              nod2   This keyword turns debugging mode on or off.  This  dis‐
                     plays  more about what nslookup is doing. The default is
                     nod2.

              domain=name
                     This keyword sets the search list to name.

              nosearch
                     If the lookup request contains at least one period,  but
                     does  not  end  with a trailing period, this keyword ap‐
                     pends the domain names in the domain search list to  the
                     request  until  an  answer  is  received. The default is
                     search.

              port=value
                     This keyword changes the  default  TCP/UDP  name  server
                     port  to  value from its default, port 53. The abbrevia‐
                     tion for this keyword is po.

              querytype=value | type=value
                     This keyword changes the type of the  information  query
                     to value. The defaults are A and then AAAA; the abbrevi‐
                     ations for these keywords are q and ty.

                     Please  note  that  it  is  only possible to specify one
                     query type. Only the default behavior looks up both when
                     an alternative is not specified.

              norecurse
                     This keyword  tells  the  name  server  to  query  other
                     servers if it does not have the information. The default
                     is   recurse;  the  abbreviation  for  this  keyword  is
                     [no]rec.

              ndots=number
                     This keyword sets the number of dots (label  separators)
                     in  a domain that disables searching. Absolute names al‐
                     ways stop searching.

              retry=number
                     This keyword sets the number of retries to number.

              timeout=number
                     This keyword changes the  initial  timeout  interval  to
                     wait for a reply to number, in seconds.

              novc   This keyword indicates that a virtual circuit should al‐
                     ways  be used when sending requests to the server.  novc
                     is the default.

              nofail This keyword tries the next nameserver if  a  nameserver
                     responds with SERVFAIL or a referral (nofail), or termi‐
                     nates  the  query (fail) on such a response. The default
                     is nofail.

RETURN VALUES
       nslookup returns with an exit status of 1 if any query failed,  and  0
       otherwise.

IDN SUPPORT
       If  nslookup  has  been built with IDN (internationalized domain name)
       support, it can accept and display non-ASCII  domain  names.  nslookup
       appropriately  converts  character  encoding  of  a domain name before
       sending a request to a DNS server  or  displaying  a  reply  from  the
       server.   To  turn off IDN support, define the IDN_DISABLE environment
       variable. IDN support is disabled if the variable is set when nslookup
       runs, or when the standard output is not a tty.

FILES
       /etc/resolv.conf

SEE ALSO
       dig(1), host(1), named(8).

AUTHOR
       Internet Systems Consortium

COPYRIGHT
       2023, Internet Systems Consortium

9.19.17-2~kali1-Kali              2023-09-08                      NSLOOKUP(1)
</code></pre> 
<h2><a id="3___205"></a>3：示例 - 命令行模式</h2> 
<h3><a id="31_206"></a>3.1：查询类型设置</h3> 
<p><strong>基本语法</strong>：<code>nslookup [-ty=&lt;type&gt;] &lt;target&gt;</code></p> 
<p><strong>示例 3.1-1</strong>：在不指定参数的情况下，默认查询类型为 A。</p> 
<pre><code class="prism language-bash"><span class="token function">nslookup</span> <span class="token punctuation">[</span>-ty<span class="token operator">=</span>a<span class="token punctuation">]</span> baidu.com
</code></pre> 
<p>结果：</p> 
<p><img src="https://images2.imgbox.com/14/e9/HDMueh0F_o.png" alt="在这里插入图片描述"></p> 
<p>解释：</p> 
<ul><li> <p>Server、Address：<br> 本次查询的 DNS 服务器。可以自己指定。默认情况下 DNS 服务器的端口为 53。</p> </li><li> <p>Non-authoritative answer（非权威应答）：<br> 说明回答来自其他服务器的缓存，而不是权威 DNS 服务器。</p> </li></ul> 
<p><strong>示例 3.1-2</strong>：PTR 反向 DNS 解析。</p> 
<pre><code class="prism language-bash"><span class="token function">nslookup</span> <span class="token parameter variable">-ty</span><span class="token operator">=</span>ptr <span class="token number">8.8</span>.8.8
</code></pre> 
<p>结果：</p> 
<p><img src="https://images2.imgbox.com/bf/b2/ua48WP69_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="32_DNS__237"></a>3.2：指定 DNS 服务器</h3> 
<p><strong>基本语法</strong>：<code>nslookup &lt;target&gt; &lt;DNS server&gt;</code></p> 
<p><strong>示例 3.2-1</strong>：指定服务器为 8.8.8.8。</p> 
<pre><code class="prism language-bash"><span class="token function">nslookup</span> google.com <span class="token number">8.8</span>.8.8
</code></pre> 
<p>结果：</p> 
<p><img src="https://images2.imgbox.com/90/7e/Bto7E5QR_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="4___250"></a>4：示例 - 交互模式</h2> 
<p><strong>示例 4-1</strong>：查找权威服务器。</p> 
<pre><code class="prism language-bash"><span class="token comment"># 1、</span>
<span class="token function">nslookup</span>

<span class="token comment"># 2、</span>
<span class="token builtin class-name">set</span> <span class="token assign-left variable">ty</span><span class="token operator">=</span>NS

<span class="token comment"># 3、查看当前配置</span>
<span class="token builtin class-name">set</span> all

<span class="token comment"># 4、查找 baidu.com 对应的权威服务器</span>
baidu.com
</code></pre> 
<p>结果：</p> 
<p><img src="https://images2.imgbox.com/b1/03/0jwD9Nna_o.png" alt="在这里插入图片描述"></p> 
<p><strong>示例 4-2</strong>：指定 dns.baidu.com 作为 DNS 服务器对 baidu.com 执行 type=A 的查询。</p> 
<pre><code class="prism language-bash"><span class="token comment"># 1、</span>
<span class="token function">nslookup</span>

<span class="token comment"># 2、</span>
server dns.baidu.com

<span class="token comment"># 3、</span>
<span class="token builtin class-name">set</span> <span class="token assign-left variable">ty</span><span class="token operator">=</span>A

<span class="token comment"># 4、</span>
baidu.com
</code></pre> 
<p>结果：<br> <img src="https://images2.imgbox.com/2c/e8/rz6w2hLC_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="5_291"></a>5：其他</h2> 
<p>DNS 记录：</p> 
<p><img src="https://images2.imgbox.com/e7/ac/VClkVIhC_o.png" alt="在这里插入图片描述"></p> 
<p><strong>《10 most used Nslookup commands》</strong>：<br> <a href="https://www.cloudns.net/blog/10-most-used-nslookup-commands/" rel="nofollow">https://www.cloudns.net/blog/10-most-used-nslookup-commands/</a></p> 
<p><strong>《nslookup命令详解》</strong>：<br> <a href="https://blog.csdn.net/xg_ren/article/details/80782338">https://blog.csdn.net/xg_ren/article/details/80782338</a></p> 
<hr> 
<p><font color="#00CED1"> 兰生幽谷，不为莫服而不芳。舟在江海，不为莫乘而不浮。君子行义，不为莫知而止休。 </font></p> 
<p align="right"><font color="#00CED1"> ——《淮南子》（西汉）刘安 </font></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/d2ffe4ca12b416704f030fe615433244/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【二段式状态机】 fsm 输出打一拍写法</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/5d50f4c9eb328e098d87d18e601bd331/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">JS禁止用户缩放浏览器</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>