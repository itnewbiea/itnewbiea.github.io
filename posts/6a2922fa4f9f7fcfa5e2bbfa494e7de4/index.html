<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>oracle-超全的多表查询连接 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="oracle-超全的多表查询连接" />
<meta property="og:description" content="Oracle-聚合函数
Oracle-日期/时间函数
一、简述 1、两个表的连接，是通过将一个表中的一列或者多列同另一个表中的列连接而建立起来的。用来连接两张表的表达式组成了连接条件。当连接成功后，第二张表中的数据就同第一张表连接起来了，并形成了复合结果集。
2)、有5种基本类型的的连接，inner，outer，natural，cross连接，自连接。
SQL的标准语法： select table1.column,table2.column from table1 [inner | left | right | full ] join table2 on table1.column1 = table2.column2;----说明inner join 表示内连接；left join表示左外连接；right join表示右外连接；full join表示完全外连接；on子句用于指定连接条件。 注意：
若使用from子句指定内、外连接，则需要使用on子句指定连接条件; 若使用（&#43;）操作符指定外连接，则必须使用where子句指定连接条件。
二、说明与例子
2.1、内连接 inner join 特点：只有满足条件的数据。和用select查询多表(使用where)是一样的效果，所以内连接用地很少。（inner join可简写为join）
内连接查询操作列出与连接条件匹配的数据行，它使用比较运算符比较被连接列的列值。 1、等值连接：在连接条件中使用等于号(=)运算符比较被连接列的列值，其查询结果中列出被连接表中的所有列，包括其中的重复属性。（区别于自然连接）
2、不等连接：在连接条件使用除等于运算符以外的其它比较运算符比较被连接的列的列值。这些运算符包括&gt;、&gt;=、&lt;=、&lt;、!&gt;、!&lt; 和 &lt;&gt;。 teacher 和 student 表
select * from student s inner join teacher t on s.teacheid=t.teacheid; select * from student s join teacher t on s.teacheid=t.teacheid;--使用多表查询select * from student s,teacher t where s." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/6a2922fa4f9f7fcfa5e2bbfa494e7de4/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-04-23T13:45:23+08:00" />
<meta property="article:modified_time" content="2023-04-23T13:45:23+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">oracle-超全的多表查询连接</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><a href="https://mp.weixin.qq.com/s?__biz=Mzg5MDk2MDI5OA==&amp;mid=2247483994&amp;idx=2&amp;sn=9f6f3c0fb3d5e82ac70c492989135fca&amp;chksm=cfd5e29ff8a26b8972d8615d961632ee321ce970dec086eadb8fc54717c151043eba58d7d615#rd" rel="nofollow" title="Oracle-聚合函数">Oracle-聚合函数</a></p> 
<p><a href="https://mp.weixin.qq.com/s?__biz=Mzg5MDk2MDI5OA==&amp;mid=2247483994&amp;idx=3&amp;sn=c1a5cb46e6c09671a21a7460fff09842&amp;chksm=cfd5e29ff8a26b89683935dd68b49da0a69876de1042091c4d07c98bdd07826a95a920a29c80#rd" rel="nofollow" title="Oracle-日期/时间函数">Oracle-日期/时间函数</a></p> 
<p><strong>一、简述 </strong></p> 
<p>      1、两个表的连接，是通过将一个表中的一列或者多列同另一个表中的列连接而建立起来的。用来连接两张表的表达式组成了连接条件。当连接成功后，第二张表中的数据就同第一张表连接起来了，并形成了复合结果集。</p> 
<p>      2)、有5种基本类型的的连接，<strong>inner，outer，natural，cross</strong>连接，自连接。</p> 
<p><strong>SQL的标准语法： </strong>         </p> 
<pre><code>select table1.column,table2.column          </code><code>from table1 [inner | left | right | full ] join table2 </code><code>on table1.column1 = table2.column2;</code><code>----说明</code><code>inner join 表示内连接；</code><code>left join表示左外连接；</code><code>right join表示右外连接；</code><code>full join表示完全外连接；</code><code>on子句用于指定连接条件。</code></pre> 
<p><strong>注意：</strong></p> 
<p>  若使用from子句指定内、外连接，则需要使用on子句指定连接条件; </p> 
<p>  若使用（+）操作符指定外连接，则必须使用where子句指定连接条件。</p> 
<p><strong>二、说明与例子</strong></p> 
<h3><strong>2.1、内连接 inner join  </strong></h3> 
<p>   <strong>特点</strong>：只有满足条件的数据。和用select查询多表(使用where)是一样的效果，所以内连接用地很少。（inner join可简写为join）</p> 
<p>　　内连接查询操作列出与连接条件匹配的数据行，它使用比较运算符比较被连接列的列值。 </p> 
<p>　　1、<strong>等值连接</strong>：在连接条件中使用等于号(=)运算符比较被连接列的列值，其查询结果中列出被连接表中的所有列，包括其中的重复属性。（区别于自然连接）</p> 
<p>　　2、<strong>不等连接</strong>：在连接条件使用除等于运算符以外的其它比较运算符比较被连接的列的列值。这些运算符包括&gt;、&gt;=、&lt;=、&lt;、!&gt;、!&lt; 和 &lt;&gt;。 </p> 
<p>teacher 和 student 表</p> 
<pre><code>select * from student s inner join teacher t </code><code>on s.teacheid=t.teacheid;</code>
<code>select * from student s join teacher t </code><code>on s.teacheid=t.teacheid;</code><code>--使用多表查询</code><code>select * from student s,teacher t </code><code>where s.teacheid=t.teacheid;</code></pre> 
<p><strong>结果</strong>：（注意结果中包含重复属性）</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/69/bb/31BW4rzZ_o.png"></p> 
<h3><strong>2.2、外连接 outer join  </strong></h3> 
<p><strong>特点</strong>：含有不满足条件的数据。</p> 
<p>　 外连接，返回到查询结果集合中的不仅包含符合连接条件的行，而且还包括左表(左外连接或左连接))、右表(右外连接或右连接)或两个边接表(全外连接)中的所有数据行。</p> 
<p>　1.<strong>left join</strong>(左连接)等价于（left outer join(左外连接)）  返回包括左表中的所有记录和右表中连接字段相等的记录；(左表中所有记录+右表中满足条件的记录)</p> 
<p>　2.<strong>right join</strong>(右连接)等价于（right outer join(右外连接)）返回包括右表中的所有记录和左表中连接字段相等的记录；(右表中所有记录+左表中满足条件的记录)</p> 
<p>　3.<strong> full join</strong> （全连接）等价于（full outer join(全外连接)）查询结果等于左外连接和右外连接的和。</p> 
<p>例子：</p> 
<p><strong>(1)、左连接(左外连接) left join</strong></p> 
<pre><code>select * from student s left join teacher t </code><code>on s.teacheid=t.teacheid;</code><code>或 </code><code>select * from student s ,teacher t where</code><code>s.teacheid=t.teacheid(+);</code></pre> 
<p><strong>查询结果</strong>：包含student中的所有记录和满足条件的记录</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/5e/50/r5WJjCY8_o.png"></p> 
<p>         </p> 
<p><strong>(2)、右连接(右外连接) right join </strong></p> 
<p>包含teacher中的所有记录和满足条件的记录。</p> 
<pre><code>select * from student sright join teacher t</code><code>on s.teacheid=t.teacheid;</code>
<code>或 select * from student s ,teacher t where</code><code>s.teacheid(+)=t.teacheid;</code></pre> 
<p>查询结果：</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/d7/d4/CSkxKhNo_o.png"></p> 
<p><strong>(3)、全连接(全外连接) full join</strong></p> 
<pre><code>select * from student s full join teacher t </code><code>on s.teacheid=t.teacheid;</code></pre> 
<p><strong>输出</strong>：（两张表中的所有值）</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/6f/0a/SgvxhBYt_o.png"></p> 
<p>         </p> 
<p><strong>  对于外连接， 也可以使用“(+) ”来表示。 关于使用（+）的一些注意事项： </strong>        <br>    1.（+）操作符只能出现在where子句中，并且不能与outer join语法同时使用。         <br>    2. 当使用（+）操作符执行外连接时，如果在where子句中包含有多个条件，则必须在所有条件中都包含（+）操作符          <br>    3.（+）操作符只适用于列，而不能用在表达式上。         <br>    4.（+）操作符不能与or和in操作符一起使用。         <br>    5.（+）操作符只能用于实现左外连接(左连接)和右外连接(右连接)，而不能用于实现完全外连接(全连接)。</p> 
<p>   6、用（+）号可以这样来理解： + 表示补充，即哪个表有加号，这个表就是匹配表。所以加号写在右表，左表就是全部显示，故是左连接。</p> 
<p></p> 
<h3><strong>2.3、自然连接 natural join  </strong></h3> 
<p>   <strong>特点</strong>：所有数据类型和列名都相同的字段作为条件组成的结果集，不含on。自然连接不包含重复的属性</p> 
<p>   自然连接是在广义笛卡尔积R×S中选出同名属性上符合相等条件元组，再进行投影，去掉重复的同名属性，组成新的关系。即自然连接是在两张表中寻找那些数据类型和列名都相同(所有)的字段，然后自动地将他们连接起来，并返回所有符合条件的结果。</p> 
<pre><code>select * from student natural join teacher;</code></pre> 
<p><strong>分析</strong>:两个表中有两个相同属性，teacherid和deptno,不用加限定条件即按照这两个字段连接</p> 
<p><strong>结果</strong>：（注意deptno属性只有一个）</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/6c/91/NkfcVxLh_o.png"></p> 
<p><strong>有关自然连接的一些注意事项：</strong></p> 
<p>   （1）.如果做自然连接的两个表的有多个字段都满足有相同名称和类型，那么他们会被作为自然连接的条件。</p> 
<p>   （2）.如果自然连接的两个表字段名称相同，但数据类型不同，那么将会返回一个错误。</p> 
<h3><strong>2.4、交叉连接（cross join）</strong>  </h3> 
<p><strong>  特点</strong>：不含on,返回两个表所有数据行的笛卡尔积。</p> 
<p>  交叉连接不带on子句，它返回被连接的两个表所有数据行的笛卡尔积，返回到结果集合中的数据行数等于第一个表中符合查询条件的数据行数乘以第二个表中符合查询条件的数据行数。 (5*5)</p> 
<pre><code>select * from student cross join teacher;</code>
<code>等价于：select * from student,teacher;</code>
</pre> 
<h3><strong>2.5、自连接(自己连接)  </strong></h3> 
<p>   连接的表是同一张表，使用自连接可以将自身表的一个镜像当作另一个表来对待，从而能够得到一些特殊的数据。</p> 
<p><strong>用途举例</strong>：计算公交链路换乘问题（见eg2）</p> 
<pre><code>select  s1.*, s2.* from student s1 , student s2 </code><code>where s1.depino=s2.depino </code><code>and s1.classno=s2.classno;</code>
</pre> 
<h3><strong>2.6 多表查询  </strong></h3> 
<pre><code>select * from student s,teacher t where</code><code>s.teacheid=t.teacheid;</code></pre> 
<p><strong>特点</strong>：多张表在一起，使用where作为查询条件关键字。</p> 
<p>         </p> 
<h3><strong>2.7 子查询  </strong></h3> 
<pre><code>select * from student s where </code><code>s.teacheid in(select teacheidfrom teacher);</code></pre> 
<p>   <strong>更多优秀文章，请扫码关注个人微信公众号或搜索“<a href="http://mp.weixin.qq.com/s?__biz=Mzg5MDk2MDI5OA==&amp;mid=2247483994&amp;idx=1&amp;sn=7e688984b12afe5843344dd433a094cf&amp;chksm=cfd5e29ff8a26b892048518c48fa0fda446623a5dc8a77f0b06645d8426c1932d9093c727ec2&amp;scene=21#wechat_redirect" rel="nofollow" title="程序猿小杨">程序猿小杨</a>”添加。</strong></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/156a4a8aa5f1692e1b31136d427a5651/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">MySQL的索引与SQL优化策略</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b63770a10cebb47cc68e6d1812dd9a1a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">ubuntu开机自启程序设置教程（自用）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>