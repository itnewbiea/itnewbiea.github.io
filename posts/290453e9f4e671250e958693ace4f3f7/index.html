<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>H2 数据库引擎 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="H2 数据库引擎" />
<meta property="og:description" content="最近项目中有用H2做嵌入式数据库 感觉很不错像大家介绍一下
H2特点:
非常快的，开放的源代码，JDBC API 嵌入式和服务器模式，内存数据库， 基于浏览器的控制台应用程序 占地面积小：约1 MB jar文件的大小 需求 要运行该数据库，软件协议栈是众所周知的工作。其他软件最有可能也可以工作，但还没有测试一样多。
数据库引擎 Windows XP或Vista，Mac OS X中，或Linux Sun的JDK 1.5或更高版本（使用了Retroweaver转换为JDK 1.4应该工作，但没有定期测试） 推荐的Windows文件系统：NTFS（FAT32只支持到4 GB的文件） H2控制台 Mozilla Firefox浏览器 支持的平台 这个数据库是用Java编写的，它可以运行在许多不同的平台上。它与Java 1.5和1.6进行测试，但也可以使用GCJ编译为本地代码。源代码不使用的Java 1.6的功能。目前，该数据库的开发和测试Windows XP和Mac OS X上使用Sun JDK 1.6，但它也可以在许多其他的操作系统，并使用其他的Java运行时环境。支持所有主要的操作系统（Windows XP中，Windows Vista中，Windows 7中，MAC OS，Ubuntu的，...）。
安装软件 要安装该软件，运行安装程序，或将其解压缩到您选择的目录。 目录结构 安装完成后，你应该得到如下的目录结构： 目录内容binJAR文件和批处理文件docs文档docs/htmlHTML页面docs/javadocJavadoc文件ext外部的依赖关系（在编译时下载）service作为Windows服务运行数据库的工具src源文件src/docsrc文档来源src/installer安装，外壳，并释放构建脚本src/main数据库引擎的源代码src/test测试源代码src/tools 添加数据库驱动程序 要注册的JDBC驱动程序（支持MySQL，PostgreSQL，HSQLDB，...），添加的jar文件名的环境变量 H2DRIVERS 或 CLASSPATH。例：添加HSQLDB JDBC驱动程序（Windows）中C:\Programs\hsqldb\lib\hsqldb.jar设置环境变量 H2DRIVERS 对 C:\Programs\hsqldb\lib\hsqldb.jar。 可以设置多个驱动程序条目需要分开 ; （Windows）或 :（其他操作系统）。支持的路径名中的空格。这些设置必须没有被引用。
使用H2控制台 H2控制台应用程序有三个主要的面板顶部的工具栏上，在左边的树，面板右侧的查询/结果。在左边列出的数据库对象（例如表）。在查询面板，并点击[运行]，输入一个SQL命令。结果出现下面的命令。
将表名或列名 要插入到脚本中的表名和列名，单击树中的项目。如果你点击了一个表，而查询是空的，然后SELECT * FROM ...被添加。键入查询时，所使用的表，在树中展开。例如，如果您键入SELECT * FROM TEST T WHERE T. 然后对表TEST扩大。 断开并停止应用程序 要登录的数据库，在工具栏面板中单击[断开]。然而，服务器仍然在运行，随时准备接受新的会话。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/290453e9f4e671250e958693ace4f3f7/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2012-10-24T10:36:36+08:00" />
<meta property="article:modified_time" content="2012-10-24T10:36:36+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">H2 数据库引擎</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>最近项目中有用H2做嵌入式数据库 感觉很不错像大家介绍一下</p> 
<p>  H2特点:<br> </p> 
<ul><li><span style=""><span style="">非常快的，开放的源代码，JDBC API </span></span></li><li><span style=""><span style="">嵌入式和服务器模式，内存数据库， </span></span></li><li><span style=""><span style="">基于浏览器的控制台应用程序 </span></span></li><li><span style=""><span style="">占地面积小：约1 MB jar文件的大小 </span></span></li></ul> 
<br> 
<p></p> 
<h3 id="requirements"><span style=""><span style="">需求</span></span></h3> 
<p><span style=""><span style="">要运行该数据库，软件协议栈是众所周知的工作。</span><span style="">其他软件最有可能也可以工作，但还没有测试一样多。</span></span></p> 
<h4><span style=""><span style="">数据库引擎</span></span></h4> 
<ul><li><span style=""><span style="">Windows XP或Vista，Mac OS X中，或Linux </span></span></li><li><span style=""><span style="">Sun的JDK 1.5或更高版本（使用了Retroweaver转换为JDK 1.4应该工作，但没有定期测试） </span></span></li><li><span style=""><span style="">推荐的Windows文件系统：NTFS（FAT32只支持到4 GB的文件） </span></span></li></ul> 
<h4><span style=""><span style="">H2控制台</span></span></h4> 
<ul><li><span style=""><span style="">Mozilla Firefox浏览器 </span></span></li></ul> 
<h3 id="supported_platforms"><span style=""><span style="">支持的平台</span></span></h3> 
<p><span style=""><span style="">这个数据库是用Java编写的，它可以运行在许多不同的平台上。</span><span style="">它与Java 1.5和1.6进行测试，但也可以使用GCJ编译为本地代码。</span><span style="">源代码不使用的Java 1.6的功能。</span><span style="">目前，该数据库的开发和测试Windows XP和Mac OS X上使用Sun JDK 1.6，但它也可以在许多其他的操作系统，并使用其他的Java运行时环境。</span><span style="">支持所有主要的操作系统（Windows XP中，Windows Vista中，Windows 7中，MAC OS，Ubuntu的，...）。</span></span></p> 
<h3 id="installing"><span style=""><span style="">安装软件</span></span></h3> 
<p><span style=""><span style="">要安装该软件，运行安装程序，或将其解压缩到您选择的目录。 </span></span></p> 
<h3 id="directory_structure"><span style=""><span style="">目录结构</span></span></h3> 
<p><span style=""><span style="">安装完成后，你应该得到如下的目录结构： </span></span></p> 
<table class="main    "><tbody><tr><th><span style=""><span style="">目录</span></span></th><th><span style=""><span style="">内容</span></span></th></tr><tr><td class="notranslate">bin</td><td><span style=""><span style="">JAR文件和批处理文件</span></span></td></tr><tr><td class="notranslate">docs</td><td><span style=""><span style="">文档</span></span></td></tr><tr><td class="notranslate">docs/html</td><td><span style=""><span style="">HTML页面</span></span></td></tr><tr><td class="notranslate">docs/javadoc</td><td><span style=""><span style="">Javadoc文件</span></span></td></tr><tr><td class="notranslate">ext</td><td><span style=""><span style="">外部的依赖关系（在编译时下载）</span></span></td></tr><tr><td class="notranslate">service</td><td><span style=""><span style="">作为Windows服务运行数据库的工具</span></span></td></tr><tr><td class="notranslate">src</td><td><span style=""><span style="">源文件</span></span></td></tr><tr><td class="notranslate">src/docsrc</td><td><span style=""><span style="">文档来源</span></span></td></tr><tr><td class="notranslate">src/installer</td><td><span style=""><span style="">安装，外壳，并释放构建脚本</span></span></td></tr><tr><td class="notranslate">src/main</td><td><span style=""><span style="">数据库引擎的源代码</span></span></td></tr><tr><td class="notranslate">src/test</td><td><span style=""><span style="">测试源代码</span></span></td></tr><tr><td class="notranslate">src/tools</td></tr></tbody></table> 
<p><br> </p> 
<p></p> 
<h4><span style=""><span style="">添加数据库驱动程序</span></span></h4> 
<p></p> 
<p><span style=""><span style="">要注册的JDBC驱动程序（支持MySQL，PostgreSQL，HSQLDB，...），添加的jar文件名的环境变量 </span></span><code class="notranslate">H2DRIVERS</code><span style=""><span style=""> 或 </span></span><code class="notranslate">CLASSPATH</code><span style=""><span style="">。</span><span style="">例：添加HSQLDB JDBC驱动程序（Windows）中</span></span><code class="notranslate">C:\Programs\hsqldb\lib\hsqldb.jar</code><span style=""><span style="">设置环境变量 </span></span><code class="notranslate">H2DRIVERS</code><span style=""><span style=""> 对 </span></span><code class="notranslate">C:\Programs\hsqldb\lib\hsqldb.jar</code><span style=""><span style="">。 </span></span></p> 
<p><span style=""><span style="">可以设置多个驱动程序条目需要分开 </span></span><code class="notranslate">;</code><span style=""><span style=""> （Windows）或 </span></span><code class="notranslate">:</code><span style=""><span style="">（其他操作系统）。</span><span style="">支持的路径名中的空格。</span><span style="">这些设置必须没有被引用。</span></span></p> 
<table class="nav    "><tbody><tr class="nav"><td class="nav"> 
    <div class="content"> 
     <h4><span style=""><span style="">使用H2控制台</span></span></h4> 
     <p><span style=""><span style="">H2控制台应用程序有三个主要的面板顶部的工具栏上，在左边的树，面板右侧的查询/结果。</span><span style="">在左边列出的数据库对象（例如表）。</span><span style="">在查询面板，并点击[运行]，输入一个SQL命令。</span><span style="">结果出现下面的命令。</span></span></p> 
     <h4><span style=""><span style="">将表名或列名</span></span></h4> 
     <p><span style=""><span style="">要插入到脚本中的表名和列名，单击树中的项目。</span><span style="">如果你点击了一个表，而查询是空的，然后</span></span><code class="notranslate">SELECT * FROM ...</code><span style=""><span style="">被添加。</span><span style="">键入查询时，所使用的表，在树中展开。</span><span style="">例如，如果您键入</span></span><code class="notranslate">SELECT * FROM TEST T WHERE T.</code><span style=""><span style=""> 然后对表TEST扩大。 </span></span></p> 
     <h4><span style=""><span style="">断开并停止应用程序</span></span></h4> 
     <p><span style=""><span style="">要登录的数据库，在工具栏面板中单击[断开]。</span><span style="">然而，服务器仍然在运行，随时准备接受新的会话。</span></span></p> 
     <p><span style=""><span style="">要停止服务器，右键单击系统托盘上的图标，并选择[退出]。</span><span style="">如果你没有在系统托盘图标，导航到[首选项]，然后单击[关闭]，按[Ctrl]键+ [C]在控制台服务器开始（Windows）中，或关闭控制台窗口。</span></span></p> 
     <h3 id="console_syntax"><span style=""><span style="">特别H2控制台语法</span></span></h3> 
     <p><span style=""><span style="">H2控制台支持一些内置的命令。</span><span style="">这些解释在H2控制台，使他们的工作与任何数据库。</span><span style="">内建命令需要在开始的一份声明中（之前任何言论），否则他们不会正确地分析。</span><span style="">如有疑问，请添加</span></span><code class="notranslate">;</code><span style=""><span style=""> 之前的命令。 </span></span></p> 
     <table class="main    "><tbody><tr><th><span style=""><span style="">命令（S）</span></span></th><th><span style=""><span style="">描述</span></span></th></tr><tr><td class="notranslate">@autocommit_true;<br> @autocommit_false;</td><td><span style=""><span style="">启用或禁用自动提交。 </span></span></td></tr><tr><td class="notranslate">@cancel;</td><td><span style=""><span style="">取消目前正在执行的语句。 </span></span></td></tr><tr><td class="notranslate">@columns null null TEST;<br> @index_info null null TEST;<br> @tables;<br> @tables null null TEST;</td><td><span style=""><span style="">调用相应的 </span></span><code class="notranslate">DatabaseMetaData.get</code><span style=""><span style="">方法。</span><span style="">模式是区分大小写的（通常标识符都为大写）。</span><span style="">有关参数的详细信息，请参阅Javadoc文档。</span><span style="">该行结束时缺少的参数都设置为null。</span><span style="">元数据命令的完整列表是：</span></span><code class="notranslate">@attributes, @best_row_identifier, @catalogs, @columns, @column_privileges, @cross_references, @exported_keys, @imported_keys, @index_info, @primary_keys, @procedures, @procedure_columns, @schemas, @super_tables, @super_types, @tables, @table_privileges, @table_types, @type_info, @udts, @version_columns </code></td></tr><tr><td class="notranslate">@edit select * from test;</td><td><span style=""><span style="">使用一个可更新的结果集。 </span></span></td></tr><tr><td class="notranslate">@generated insert into test() values();</td><td><span style=""><span style="">显示的结果 </span></span><code class="notranslate">Statement.getGeneratedKeys()</code><span style=""><span style="">。 </span></span></td></tr><tr><td class="notranslate">@history;</td><td><span style=""><span style="">列出的命令历史记录。 </span></span></td></tr><tr><td class="notranslate">@info;</td><td><span style=""><span style="">显示的各种结果 </span></span><code class="notranslate">Connection</code><span style=""><span style=""> 和 </span></span><code class="notranslate">DatabaseMetaData</code><span style=""><span style=""> 方法。 </span></span></td></tr><tr><td class="notranslate">@list select * from test;</td><td><span style=""><span style="">显示以列表格式的结果集（每列上自己的路线，与行号）。 </span></span></td></tr><tr><td class="notranslate">@loop 1000 select ?, ?/*rnd*/;<br> @loop 1000 @statement select ?;</td><td><span style=""><span style="">运行该语句很多次。</span><span style="">参数（</span></span><code class="notranslate">?</code><span style=""><span style="">）被设置使用一个循环从0到x - 1。</span><span style="">随机值被用于每一个</span></span><code class="notranslate">?/*rnd*/</code><span style=""><span style="">。</span><span style="">如果一个PreparedStatement代替Statement对象</span></span><code class="notranslate">@statement</code><span style=""><span style="">被使用。</span><span style="">结果集被读取，直到</span></span><code class="notranslate">ResultSet.next()</code><span style=""><span style=""> 回报 </span></span><code class="notranslate">false</code><span style=""><span style="">。</span><span style="">时序信息被打印出来。</span></span></td></tr><tr><td class="notranslate">@maxrows 20;</td><td><span style=""><span style="">设置要显示的行的最大数量。 </span></span></td></tr><tr><td class="notranslate">@memory;</td><td><span style=""><span style="">显示使用和释放内存。</span><span style="">这将调用</span></span><code class="notranslate">System.gc()</code><span style=""><span style="">。 </span></span></td></tr><tr><td class="notranslate">@meta select 1;</td><td><span style=""><span style="">列出 </span></span><code class="notranslate">ResultSetMetaData</code><span style=""><span style=""> 在运行查询。 </span></span></td></tr><tr><td class="notranslate">@parameter_meta select ?;</td><td><span style=""><span style="">显示的结果 </span></span><code class="notranslate">PreparedStatement.getParameterMetaData()</code><span style=""><span style="">通话。</span><span style="">语句不执行。</span></span></td></tr><tr><td class="notranslate">@prof_start;<br> call hash('SHA256', '', 1000000);<br> @prof_stop;</td><td><span style=""><span style="">启动/停止内置的分析工具。</span><span style="">居前3位的堆栈跟踪列出的启动和停止的声明（S）之间的（如果有）。</span></span></td></tr><tr><td class="notranslate">@prof_stop;<br> @sleep 10;<br> @prof_stop;</td><td><span style=""><span style="">睡眠的秒数。</span><span style="">用于分析长时间运行的查询或操作，在另一个会话中运行（但在同一进程中）。</span></span></td></tr><tr><td class="notranslate">@transaction_isolation;<br> @transaction_isolation 2;</td><td><span style=""><span style="">显示（不带参数）或改变（参数1，2，4，8）的事务隔离级别。 </span></span></td></tr></tbody></table> 
     <h3 id="console_settings"><span style=""><span style="">H2控制台的设置</span></span></h3> 
     <p><span style=""><span style="">的H2控制台的设置被存储在一个配置文件叫 </span></span><code class="notranslate">.h2.server.properties</code><span style=""><span style="">在您的用户主目录。</span><span style="">对于Windows安装，通常是用户的home目录</span></span><code class="notranslate">C:\Documents and Settings\[username]</code><span style=""><span style="">。</span><span style="">配置文件中包含的应用程序的设置，并自动H2控制台第一次启动时创建的。</span><span style="">支持设置如下：</span></span></p> 
     <ul><li><code class="notranslate">webAllowOthers</code><span style=""><span style="">允许其他计算机连接。 </span></span></li><li><code class="notranslate">webPort</code><span style=""><span style="">：港口的H2控制台 </span></span></li><li><code class="notranslate">webSSL</code><span style=""><span style="">：使用加密（HTTPS）连接。 </span></span></li></ul> 
     <p><span style=""><span style="">除了这些设置中的最近使用的连接的属性的表格中列出的 </span></span><code class="notranslate">&lt;number&gt;=&lt;name&gt;|&lt;driver&gt;|&lt;url&gt;|&lt;user&gt;</code><span style=""><span style=""> 使用转义字符 </span></span><code class="notranslate">\</code><span style=""><span style="">。</span><span style="">示例：</span></span><code class="notranslate">1=Generic H2 (Embedded)|org.h2.Driver|jdbc\:h2\:~/test|sa</code> </p> 
     <h3 id="connecting_using_jdbc"><span style=""><span style="">使用JDBC连接到数据库</span></span></h3> 
     <p><span style=""><span style="">要连接到数据库，Java应用程序首先需要加载数据库驱动程序，然后得到一个连接。</span><span style="">一个简单的方法做到这一点是使用下面的代码：</span></span></p> 
     <pre class="notranslate">import java.sql.*;
public class Test {
    public static void main(String[] a)
            throws Exception {
        Class.forName("org.h2.Driver");
        Connection conn = DriverManager.
            getConnection("jdbc:h2:~/test", "sa", "");
        // add application code here
        conn.close();
    }
}
</pre> 
     <p><span style=""><span style="">此代码首先加载驱动程序（</span></span><code class="notranslate">Class.forName(...)</code><span style=""><span style="">），然后打开一个连接（使用 </span></span><code class="notranslate">DriverManager.getConnection()</code><span style=""><span style="">）。</span><span style="">驱动程序名称</span></span><code class="notranslate">"org.h2.Driver"</code><span style=""><span style="">。</span><span style="">数据库URL总是需要开始</span></span><code class="notranslate">jdbc:h2:</code><span style=""><span style="">由这个数据库确认。</span><span style="">的第二个参数的</span></span><code class="notranslate">getConnection()</code><span style=""><span style=""> 呼叫的用户名（</span></span><code class="notranslate">sa</code><span style=""><span style="">在这个例子中的系统管理员）。</span><span style="">第三个参数是密码。</span><span style="">在这个数据库中，用户名不区分大小写，但密码是。</span></span></p> 
     <h3 id="creating_new_databases"><span style=""><span style="">创建新的数据库</span></span></h3> 
     <p><span style=""><span style="">默认情况下，如果在URL中指定的数据库不存在，将自动创建一个新的（空的）数据库。</span><span style="">自动创建的数据库的用户成为该数据库的管理员。</span></span></p> 
     <p><span style=""><span style="">自动创建新的数据库可以被禁用，</span></span><a href="features.html#database_only_if_exists" rel="nofollow"><span style=""><span style="">打开一个数据库，只有当它已经存在</span></span></a><span style=""><span style="">。</span></span></p> 
     <h3 id="using_server"><span style=""><span style="">使用服务器</span></span></h3> 
     <p><span style=""><span style="">H2目前支持三种服务器：Web服务器（H2控制台），TCP服务器（客户端/服务器连接）和PG服务器（PostgreSQL的客户端）。</span><span style="">请注意，只有在Web服务器支持的浏览器连接。</span><span style="">服务器可以开始以不同的方式，一种是使用</span></span><code class="notranslate">Server</code><span style=""><span style="">工具。</span><span style="">启动服务器并打开一个数据库 - 数据库，尽快打开客户端连接。</span></span></p> 
     <h4><span style=""><span style="">启动服务器命令行工具</span></span></h4> 
     <p><span style=""><span style="">要启动 </span></span><code class="notranslate">Server</code><span style=""><span style=""> 使用默认设置的命令行工具，运行以下命令： </span></span></p> 
     <pre class="notranslate">java -cp h2*.jar org.h2.tools.Server
</pre> 
     <p><span style=""><span style="">这将启动该工具的默认选项。</span><span style="">，要想列出的选项和缺省值，运行以下命令：</span></span></p> 
     <pre class="notranslate">java -cp h2*.jar org.h2.tools.Server -?
</pre> 
     <p><span style=""><span style="">有选择使用其他端口，启动或不启动零件。 </span></span></p> 
     <h4><span style=""><span style="">连接到TCP服务器</span></span></h4> 
     <p><span style=""><span style="">远程连接到数据库使用的TCP服务器，请使用以下驱动程序和数据库URL： </span></span></p> 
     <ul><li><span style=""><span style="">JDBC驱动程序类： </span></span><code class="notranslate">org.h2.Driver</code> </li><li><span style=""><span style="">数据库URL： </span></span><code class="notranslate">jdbc:h2:tcp://localhost/~/test</code> </li></ul> 
     <p><span style=""><span style="">对于有关数据库的URL的详细信息，请参阅特点。</span><span style="">请注意，您不能连接到这个URL与Web浏览器。</span><span style="">您可以使用H2客户端（通过JDBC）连接。</span></span></p> 
     <h4><span style=""><span style="">启动TCP服务器内的一个应用</span></span></h4> 
     <p><span style=""><span style="">也可以从一个应用程序的启动和停止服务器。</span><span style="">示例代码：</span></span></p> 
     <pre class="notranslate">import org.h2.tools.Server;
...
// start the TCP Server
Server server = Server.createTcpServer(args).start();
...
// stop the TCP Server
server.stop();
</pre> 
     <h4><span style=""><span style="">从另一个进程停止TCP服务器</span></span></h4> 
     <p><span style=""><span style="">TCP服务器可以从另一个进程停止。</span><span style="">要停止服务器的命令行，运行以下命令：</span></span></p> 
     <pre class="notranslate">java org.h2.tools.Server -tcpShutdown tcp://localhost:9092
</pre> 
     <p><span style=""><span style="">要停止服务器从用户应用程序，使用下面的代码： </span></span></p> 
     <pre class="notranslate">org.h2.tools.Server.shutdownTcpServer("tcp://localhost:9094");
</pre> 
     <p><span style=""><span style="">此功能只阻止TCP服务器。</span><span style="">如果其他的服务器在同一个进程开始，他们将继续运行。</span><span style="">为了避免恢复当数据库被打开，下一次，在调用此方法之前，应关闭所有连接到数据库。</span><span style="">要停止远程服务器，必须启用远程连接到服务器上。</span><span style="">关闭一个TCP服务器，可以使用该选项来保护</span></span><code class="notranslate">-tcpPassword</code><span style=""><span style=""> （TCP服务器来启动和停止，必须使用相同的密码）。 </span></span></p> 
     <h3 id="using_hibernate"><span style=""><span style="">使用Hibernate</span></span></h3> 
     <p><span style=""><span style="">该数据库所支持的Hibernate版本3.1和更高版本。</span><span style="">您可以使用的的HSQLDB话，或本机H2方言。</span><span style="">不幸的是，H2的方言包括在一些老版本的Hibernate是越野车。</span></span><a href="http://opensource.atlassian.com/projects/hibernate/browse/HHH-3401" rel="nofollow"><span style=""><span style="">对Hibernate的</span></span></a><span style=""><span style="">一个</span><a href="http://opensource.atlassian.com/projects/hibernate/browse/HHH-3401" rel="nofollow"><span style="">补丁</span></a><span style="">已经提交，现在的应用。</span><span style="">您可以重命名为</span></span><code class="notranslate">H2Dialect.java</code><span style=""><span style=""> ，包括在你的应用程序作为一个修补程序，或升级到Hibernate的一个版本，这是固定的。 </span></span></p> 
     <p><span style=""><span style="">当使用Hibernate时，尝试使用 </span></span><code class="notranslate">H2Dialect</code><span style=""><span style="">如果可能的话。</span><span style="">当使用</span></span><code class="notranslate">H2Dialect</code><span style=""><span style="">，兼容性模式，如 </span></span><code class="notranslate">MODE=MySQL</code><span style=""><span style="">不支持。</span><span style="">当使用这种兼容模式下，使用Hibernate的方言相应的数据库，而不是</span></span><code class="notranslate">H2Dialect</code><span style=""><span style="">但请注意H2不支持的所有数据库的所有功能。 </span></span></p> 
     <h3 id="using_toplink"><span style=""><span style="">使用TopLink和Glassfish</span></span></h3> 
     <p><span style=""><span style="">要使用H2与GlassFish（或Sun AS），设置数据源类名称 </span></span><code class="notranslate">org.h2.jdbcx.JdbcDataSource</code><span style=""><span style="">。</span><span style="">您可以将其设置在的GUI应用服务器 - 资源 - JDBC - 连接池，或通过编辑文件</span></span><code class="notranslate">sun-resources.xml</code><span style=""><span style="">：元素 </span></span><code class="notranslate">jdbc-connection-pool</code><span style=""><span style="">，设置属性 </span></span><code class="notranslate">datasource-classname</code><span style=""><span style=""> 对 </span></span><code class="notranslate">org.h2.jdbcx.JdbcDataSource</code><span style=""><span style="">。 </span></span></p> 
     <p><span style=""><span style="">的H2数据库兼容的HSQLDB和PostgreSQL。</span><span style="">要充分利用H2的特定功能，使用</span></span><code class="notranslate">H2Platform</code><span style=""><span style="">。</span><span style="">这个平台的源代码包含在H2</span></span><code class="notranslate">src/tools/oracle/toplink/essentials/platform/database/DatabasePlatform.java.txt</code><span style=""><span style="">。</span><span style="">您将需要复制该文件到您的应用程序，并重新命名它的。java。</span><span style="">要启用它，更改以下设置在persistence.xml：</span></span></p> 
     <pre class="notranslate">&lt;property
    name="toplink.target-database"
    value="oracle.toplink.essentials.platform.database.H2Platform"/&gt;
</pre> 
     <p><span style=""><span style="">在旧版本的Glassfish的，属性名 </span></span><code class="notranslate">toplink.platform.class.name</code><span style=""><span style="">。 </span></span></p> 
     <p><span style=""><span style="">要使用内Glassfish的H2，H2 *。jar文件的目录复制 </span></span><code class="notranslate">glassfish/glassfish/lib</code><span style=""><span style="">。 </span></span></p> 
     <h3 id="using_eclipselink"><span style=""><span style="">使用的EclipseLink</span></span></h3> 
     <p><span style=""><span style="">要使用H2的EclipseLink，使用该平台类 </span></span><code class="notranslate">org.eclipse.persistence.platform.database.H2Platform</code><span style=""><span style="">。</span><span style="">如果这个平台是不可用的EclipseLink的版本，你可以使用OraclePlatform，而不是在许多情况下。</span><span style="">请参阅</span></span><a href="http://wiki.eclipse.org/EclipseLink/Development/Incubator/Extensions/H2Platform" rel="nofollow"><span style=""><span style="">H2Platform者</span></span></a><span style=""><span style="">。</span></span></p> 
     <h3 id="using_activemq"><span style=""><span style="">使用Apache ActiveMQ的</span></span></h3> 
     <p><span style=""><span style="">当使用H2作为后端数据库，Apache ActiveMQ的，请使用 </span></span><code class="notranslate">TransactDatabaseLocker</code><span style=""><span style="">而不是默认的锁定机制。</span><span style="">否则，数据库文件将无限增长。</span><span style="">问题是，默认的锁定机制使用未</span></span><code class="notranslate">UPDATE</code><span style=""><span style="">交易，这使事务日志萎缩（将导致数据库文件增长）。</span><span style="">而不是使用一个</span></span><code class="notranslate">UPDATE</code><span style=""><span style=""> 声明中， </span></span><code class="notranslate">TransactDatabaseLocker</code><span style=""><span style=""> 使用 </span></span><code class="notranslate">SELECT ... FOR UPDATE</code><span style=""><span style="">这是没有问题的。</span><span style="">要使用它，改变是把ApacheMQ的配置元素</span></span><code class="notranslate">&lt;jdbcPersistenceAdapter&gt;</code><span style=""><span style=""> 元素，属性 </span></span><code class="notranslate">databaseLocker="org.apache.activemq.store.jdbc.adapter.TransactDatabaseLocker"</code><span style=""><span style="">。</span><span style="">然而，使用MVCC模式将再次导致同样的问题。</span><span style="">因此，请不要在这种情况下，使用MVCC模式。</span><span style="">另一个（更危险）的解决办法是设置</span></span><code class="notranslate">useDatabaseLock</code><span style=""><span style=""> 为false。 </span></span></p> 
     <h3 id="using_netbeans"><span style=""><span style="">在NetBeans中使用H2</span></span></h3> 
     <p><span style=""><span style="">该项目</span></span><a href="http://kenai.com/projects/nbh2" rel="nofollow"><span style=""><span style="">H2数据库引擎支持NetBeans</span></span></a><span style=""><span style="">让你在IDE启动和停止H2服务器。</span></span></p> 
     <p><span style=""><span style="">这是一个已知的问题时，使用NetBeans SQL执行窗口：在执行查询之前，另一个查询的形式 </span> </span><code class="notranslate">SELECT COUNT(*) FROM &lt;query&gt;</code><span style=""><span style="">被执行。</span><span style="">这是一个问题的查询，修改状态，如</span></span><code class="notranslate">SELECT SEQ.NEXTVAL</code><span style=""><span style="">。</span><span style="">在这种情况下，两个序列的值被分配，而不是仅仅一个。</span></span></p> 
     <h3 id="using_jooq"><span style=""><span style="">使用H2 jOOQ</span></span></h3> 
     <p><span style=""><span style="">jOOQ增加了一层薄薄的JDBC上，让类型安全的SQL结构，包括先进的SQL，存储过程和高级数据类型。</span><span style="">jOOQ您的数据库架构为基础的代码生成。</span><span style="">如果这就是你们的榜样架构：</span></span></p> 
     <pre class="notranslate">CREATE TABLE USER (ID INT, NAME VARCHAR(50));
</pre> 
     <p><span style=""><span style="">然后运行jOOQ代码生成器在命令行上使用这个命令： </span></span></p> 
     <pre class="notranslate">java -cp jooq.jar;jooq-meta.jar;jooq-codegen.jar;h2-1.3.158.jar;.
org.jooq.util.GenerationTool /codegen.xml
</pre> 
     <p><span style=""><span style="">......在这里， </span></span><code class="notranslate">codegen.xml</code><span style=""><span style=""> 在classpath中包含此信息 </span></span></p> 
     <pre class="notranslate">&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&gt;
&lt;configuration xmlns="http://www.jooq.org/xsd/jooq-codegen-2.3.0.xsd"&gt;
    &lt;jdbc&gt;
        &lt;driver&gt;org.h2.Driver&lt;/driver&gt;
        &lt;url&gt;jdbc:h2:~/test&lt;/url&gt;
        &lt;user&gt;sa&lt;/user&gt;
        &lt;password&gt;&lt;/password&gt;
    &lt;/jdbc&gt;
    &lt;generator&gt;
        &lt;name&gt;org.jooq.util.DefaultGenerator&lt;/name&gt;
        &lt;database&gt;
            &lt;name&gt;org.jooq.util.h2.H2Database&lt;/name&gt;
            &lt;includes&gt;.*&lt;/includes&gt;
            &lt;excludes&gt;&lt;/excludes&gt;
            &lt;inputSchema&gt;PUBLIC&lt;/inputSchema&gt;
        &lt;/database&gt;
        &lt;generate&gt;&lt;/generate&gt;
        &lt;target&gt;
            &lt;packageName&gt;org.jooq.h2.generated&lt;/packageName&gt;
            &lt;directory&gt;./src&lt;/directory&gt;
        &lt;/target&gt;
    &lt;/generator&gt;
&lt;/configuration&gt;
</pre> 
     <p><span style=""><span style="">使用生成的源代码，您可以查询数据库，如下所示： </span></span></p> 
     <pre class="notranslate">Factory create = new H2Factory(connection);
Result&lt;UserRecord&gt; result =
create.selectFrom(USER)
    .where(NAME.like("Johnny%"))
    .orderBy(ID)
    .fetch();
</pre> 
     <p><span style=""><span style="">查看更多详细信息</span></span><a href="http://www.jooq.org" rel="nofollow"><span style=""><span style="">jOOQ首页</span></span></a><a href="http://www.jooq.org/tutorial.php" rel="nofollow"><span style=""><span style="">jOOQ教程</span></span></a> </p> 
     <h3 id="web_applications"><span style=""><span style="">在Web应用程序中使用数据库</span></span></h3> 
     <p><span style=""><span style="">有很多种方法来访问数据库在Web应用程序中。</span><span style="">下面是一些例子，如果你使用的是Tomcat或JBoss。</span></span></p> 
     <h4><span style=""><span style="">嵌入模式</span></span></h4> 
     <p><span style=""><span style="">（目前）最简单的解决方法是使用数据库中的嵌入模式，这意味着在您的应用程序中打开一个连接（一个很好的解决方案是使用一个Servlet监听器在启动时，见下文），或当一个会话开始。</span><span style="">一个数据库可以同时访问多个会话和应用程序，只要它们运行在同一进程中。</span><span style="">Servlet容器（例如Tomcat）只使用一个进程，所以这是没有问题的（除非你在集群模式下运行Tomcat）。</span><span style="">Tomcat使用了​​多线程和多类加载器。</span><span style="">如果多个应用程序同时访问同一个数据库，你需要将数据库jar中的</span></span><code class="notranslate">shared/lib</code><span style=""><span style=""> 或 </span></span><code class="notranslate">server/lib</code><span style=""><span style="">目录。</span><span style="">这是一个好主意，在web应用启动时打开数据库，并关闭它时，Web应用程序停止。</span><span style="">如果使用多个应用程序，只有一个人（任何）需要做到这一点。</span><span style="">在应用中，一个思路，就是使用每一个连接会话，或者甚至每一个连接请求（行动）。</span><span style="">如果可能的话，使用后应关闭这些连接（但它不是坏的，如果他们没有得到关闭）。</span></span></p> 
     <h4><span style=""><span style="">服务器模式</span></span></h4> 
     <p><span style=""><span style="">服务器模式是相似的，但它可以让你在另一个进程中运行的服务器。 </span></span></p> 
     <h4><span style=""><span style="">使用Servlet监听器启动和停止数据库</span></span></h4> 
     <p><span style=""><span style="">H2 *。jar文件添加到您的Web应用程序，下面的代码片断添加到你的web.xml文件（在 </span> </span><code class="notranslate">context-param</code><span style=""><span style=""> 和 </span></span><code class="notranslate">filter</code><span style=""><span style=""> 部分）： </span></span></p> 
     <pre class="notranslate">&lt;listener&gt;
    &lt;listener-class&gt;org.h2.server.web.DbStarter&lt;/listener-class&gt;
&lt;/listener&gt;
</pre> 
     <p><span style=""><span style="">有关如何访问数据库的详细信息，请参阅文件 </span></span><code class="notranslate">DbStarter.java</code><span style=""><span style="">。</span><span style="">默认情况下，这个工具使用数据库URL打开一个嵌入的连接</span></span><code class="notranslate">jdbc:h2:~/test</code><span style=""><span style="">用户名 </span></span><code class="notranslate">sa</code><span style=""><span style="">和密码 </span></span><code class="notranslate">sa</code><span style=""><span style="">。</span><span style="">如果你想在你的servlet中使用此连接，您可以访问如下：</span></span></p> 
     <pre class="notranslate">Connection conn = getServletContext().getAttribute("connection");
</pre> 
     <p><code class="notranslate">DbStarter</code><span style=""><span style="">还可以启动TCP服务器，但是在默认情况下是禁用的。</span><span style="">要启用它，使用该参数</span></span><code class="notranslate">db.tcpServer</code><span style=""><span style=""> 在该文件中 </span></span><code class="notranslate">web.xml</code><span style=""><span style="">。</span><span style="">下面是完整的选项列表。</span><span style="">这些选项需要被放置在</span></span><code class="notranslate">description</code><span style=""><span style=""> 标签和 </span></span><code class="notranslate">listener</code><span style=""><span style=""> / </span></span><code class="notranslate">filter</code><span style=""><span style=""> 标签： </span></span></p> 
     <pre class="notranslate">&lt;context-param&gt;
    &lt;param-name&gt;db.url&lt;/param-name&gt;
    &lt;param-value&gt;jdbc:h2:~/test&lt;/param-value&gt;
&lt;/context-param&gt;
&lt;context-param&gt;
    &lt;param-name&gt;db.user&lt;/param-name&gt;
    &lt;param-value&gt;sa&lt;/param-value&gt;
&lt;/context-param&gt;
&lt;context-param&gt;
    &lt;param-name&gt;db.password&lt;/param-name&gt;
    &lt;param-value&gt;sa&lt;/param-value&gt;
&lt;/context-param&gt;
&lt;context-param&gt;
    &lt;param-name&gt;db.tcpServer&lt;/param-name&gt;
    &lt;param-value&gt;-tcpAllowOthers&lt;/param-value&gt;
&lt;/context-param&gt;
</pre> 
     <p><span style=""><span style="">当web应用程序停止时，将自动关闭数据库连接。</span><span style="">如果TCP服务器内开始</span></span><code class="notranslate">DbStarter</code><span style=""><span style="">，它也将被自动停止。 </span></span></p> 
     <h4><span style=""><span style="">使用H2控制台的Servlet</span></span></h4> 
     <p><span style=""><span style="">H2控制台是一个独立的应用程序，包括它自己的Web服务器，但它可以作为一个servlet作为。</span><span style="">要做到这一点，包括了</span></span><code class="notranslate">h2*.jar</code><span style=""><span style=""> 在您的应用程序文件，并添加下面的配置到您的 </span></span><code class="notranslate">web.xml</code><span style=""><span style="">： </span></span></p> 
     <pre class="notranslate">&lt;servlet&gt;
    &lt;servlet-name&gt;H2Console&lt;/servlet-name&gt;
    &lt;servlet-class&gt;org.h2.server.web.WebServlet&lt;/servlet-class&gt;
    &lt;!--
    &lt;init-param&gt;
        &lt;param-name&gt;webAllowOthers&lt;/param-name&gt;
        &lt;param-value&gt;&lt;/param-value&gt;
    &lt;/init-param&gt;
    &lt;init-param&gt;
        &lt;param-name&gt;trace&lt;/param-name&gt;
        &lt;param-value&gt;&lt;/param-value&gt;
    &lt;/init-param&gt;
    --&gt;
    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;
&lt;/servlet&gt;
&lt;servlet-mapping&gt;
    &lt;servlet-name&gt;H2Console&lt;/servlet-name&gt;
    &lt;url-pattern&gt;/console/*&lt;/url-pattern&gt;
&lt;/servlet-mapping&gt;
</pre> 
     <p><span style=""><span style="">有关详细信息，请参阅也 </span></span><code class="notranslate">src/tools/WEB-INF/web.xml</code><span style=""><span style="">。 </span></span></p> 
     <p><span style=""><span style="">要创建一个Web应用程序只用H2控制台，运行以下命令： </span></span></p> 
     <pre class="notranslate">build warConsole
</pre> 
     <h3 id="android"><span style=""><span style="">Android的</span></span></h3> 
     <p><span style=""><span style="">您可以使用这个数据库，而不是或除了SQLite的Andr​​oid设备上使用的Dalvik VM。</span><span style="">到目前为止，只有极少数测试和基准测试运行，但它似乎SQLite的性能是类似的，除了打开和关闭数据库，该数据库尚未优化的H2（H2大约需要0.2秒，和SQLite约0.02秒） 。</span><span style="">读操作似乎有点快比SQLite，和写操作似乎要慢一些。</span><span style="">到目前为止，只有极少数的测试运行，一切似乎都如预期般运作。</span><span style="">全文搜索还没有测试，但是本机的全文搜索工作。</span></span></p> 
     <p><span style=""><span style="">使用H2，而不是SQLite的原因是： </span></span></p> 
     <ul><li><span style=""><span style="">完整的Unicode支持，包括UPPER（）和LOWER（）。 </span></span></li><li><span style=""><span style="">BLOB和CLOB数据流API。 </span></span></li><li><span style=""><span style="">全文搜索。 </span></span></li><li><span style=""><span style="">多个连接。 </span></span></li><li><span style=""><span style="">用户自定义函数和触发器。 </span></span></li><li><span style=""><span style="">数据库文件进行加密。 </span></span></li><li><span style=""><span style="">读取和写入CSV文件（可以使用此功能在数据库也一样）。 </span></span></li><li><span style=""><span style="">参照完整性和检查约束。 </span></span></li><li><span style=""><span style="">更好的数据类型和SQL的支持。 </span></span></li><li><span style=""><span style="">在内存数据库，只读数据库，链接表。 </span></span></li><li><span style=""><span style="">与其他数据库，从而简化了移植应用程序更好的兼容性。 </span></span></li><li><span style=""><span style="">可能是更好的性能（到目前为止的读操作）。 </span></span></li><li><span style=""><span style="">服务器模式（不同的机器上通过TCP / IP访问数据库）。 </span></span></li></ul> 
     <p><span style=""><span style="">目前只支持JDBC API（它计划在将来的版本中支持Android数据库API）。</span><span style="">定期H2 jar文件和较小的</span></span><code class="notranslate">h2small-*.jar</code><span style=""><span style="">都可以使用。</span><span style="">为了创建更小的jar文件，运行命令</span></span><code class="notranslate">./build.sh jarSmall</code><span style=""><span style=""> （Linux / Mac机的OS）或 </span></span><code class="notranslate">build.bat jarSmall</code><span style=""><span style=""> （Windows）中。 </span></span></p> 
     <p><span style=""><span style="">数据库文件需要被存储在一个地方，是为应用程序访问。</span><span style="">示例：</span></span></p> 
     <pre class="notranslate">String url = "jdbc:h2:/data/data/" +
    "com.example.hello" +
    "/data/hello" +
    ";FILE_LOCK=FS" +
    ";PAGE_SIZE=1024" +
    ";CACHE_SIZE=8192";
Class.forName("org.h2.Driver");
conn = DriverManager.getConnection(url);
...
</pre> 
     <p><span style=""><span style="">限制：目前不支持使用连接池，因为要求 </span></span><code class="notranslate">javax.sql.</code><span style=""><span style=""> 在Android的类。 </span></span></p> 
     <h3 id="csv"><span style=""><span style="">CSV（逗号分隔值）的支持</span></span></h3> 
     <p><span style=""><span style="">支持CSV文件可以用于在数据库中使用的功能 </span></span><code class="notranslate">CSVREAD</code><span style=""><span style=""> 和 </span></span><code class="notranslate">CSVWRITE</code><span style=""><span style="">，或者它可以用来作为一个独立的工具以外的数据库。 </span></span></p> 
     <h4><span style=""><span style="">在一个数据库中读取一个CSV文件</span></span></h4> 
     <p><span style=""><span style="">使用该函数可以读取一个CSV文件 </span></span><code class="notranslate">CSVREAD</code><span style=""><span style="">。</span><span style="">示例：</span></span></p> 
     <pre class="notranslate">SELECT * FROM CSVREAD('test.csv');
</pre> 
     <p><span style=""><span style="">请注意，对于性能的原因， </span></span><code class="notranslate">CSVREAD</code><span style=""><span style="">不应使用内部联接。</span><span style="">相反，先导入数据（可能是到一个临时表），如果有必要，创建所需的索引，然后查询该表。</span></span></p> 
     <h4><span style=""><span style="">从CSV文件导入数据</span></span></h4> 
     <p><span style=""><span style="">一种快速的方式来加载或从一个CSV文件导入数据（有时也被称为“批量加载”）是结合创建表的进口。</span><span style="">（可选），列名和数据类型可以在创建表时设置。</span><span style="">另一种选择是使用</span></span><code class="notranslate">INSERT INTO ... SELECT</code><span style=""><span style="">。 </span></span></p> 
     <pre class="notranslate">CREATE TABLE TEST AS SELECT * FROM CSVREAD('test.csv');
CREATE TABLE TEST(ID INT PRIMARY KEY, NAME VARCHAR(255))
    AS SELECT * FROM CSVREAD('test.csv');
</pre> 
     <h4><span style=""><span style="">在一个数据库中写一个CSV文件</span></span></h4> 
     <p><span style=""><span style="">内置的功能 </span></span><code class="notranslate">CSVWRITE</code><span style=""><span style="">可用于从查询创建一个CSV文件。</span><span style="">示例：</span></span></p> 
     <pre class="notranslate">CREATE TABLE TEST(ID INT, NAME VARCHAR);
INSERT INTO TEST VALUES(1, 'Hello'), (2, 'World');
CALL CSVWRITE('test.csv', 'SELECT * FROM TEST');
</pre> 
     <h4><span style=""><span style="">写一个CSV文件的Java应用程序</span></span></h4> 
     <p><span style=""><span style="">“ </span></span><code class="notranslate">Csv</code><span style=""><span style="">工具可以被用来在一个Java应用程序中，即使不使用在所有数据库。</span><span style="">示例：</span></span></p> 
     <pre class="notranslate">import java.sql.*;
import org.h2.tools.Csv;
import org.h2.tools.SimpleResultSet;
public class TestCsv {
    public static void main(String[] args) throws Exception {
        SimpleResultSet rs = new SimpleResultSet();
        rs.addColumn("NAME", Types.VARCHAR, 255, 0);
        rs.addColumn("EMAIL", Types.VARCHAR, 255, 0);
        rs.addRow("Bob Meier", "bob.meier@abcde.abc");
        rs.addRow("John Jones", "john.jones@abcde.abc");
        new Csv().write("data/test.csv", rs, null);
    }
}
</pre> 
     <h4><span style=""><span style="">从Java应用程序中读取一个CSV文件</span></span></h4> 
     <p><span style=""><span style="">不打开一个数据库的情况下，它可以读取CSV文件。</span><span style="">示例：</span></span></p> 
     <pre class="notranslate">import java.sql.*;
import org.h2.tools.Csv;
public class TestCsv {
    public static void main(String[] args) throws Exception {
        ResultSet rs = new Csv().read("data/test.csv", null, null);
        ResultSetMetaData meta = rs.getMetaData();
        while (rs.next()) {
            for (int i = 0; i &lt; meta.getColumnCount(); i++) {
                System.out.println(
                    meta.getColumnLabel(i + 1) + ": " +
                    rs.getString(i + 1));
            }
            System.out.println();
        }
        rs.close();
    }
}
</pre> 
     <h3 id="upgrade_backup_restore"><span style=""><span style="">升级，备份和恢复</span></span></h3> 
     <h4><span style=""><span style="">数据库升级</span></span></h4> 
     <p><span style=""><span style="">从一个版本的数据库引擎升级到下一个版本的推荐方法是创建一个备份的数据库的SQL脚本的形式使用旧的引擎，然后再执行SQL脚本中使用的新引擎。 </span></span></p> 
     <h4><span style=""><span style="">备份使用的脚本工具</span></span></h4> 
     <p><span style=""><span style="">备份一个数据库的推荐方法是创建一个压缩的SQL脚本文件。</span><span style="">这将导致一个小的，人类可读的，和数据库版本独立的备份。</span><span style="">创建脚本也将验证数据库文件的校验和。</span><span style="">“</span></span><code class="notranslate">Script</code><span style=""><span style=""> 工具运行如下： </span></span></p> 
     <pre class="notranslate">java org.h2.tools.Script -url jdbc:h2:~/test -user sa -script test.zip -options compression zip
</pre> 
     <p><span style=""><span style="">另外，也可以使用SQL命令 </span></span><code class="notranslate">SCRIPT</code><span style=""><span style="">创建备份的数据库。</span><span style="">欲了解更多有关选项的信息，请参阅SQL命令</span></span><code class="notranslate">SCRIPT</code><span style=""><span style="">。</span><span style="">备份可以远程完成，但该文件将被创建在服务器端。</span><span style="">内置的FTP服务器可用于从服务器检索文件。</span></span></p> 
     <h4><span style=""><span style="">从脚本中恢复</span></span></h4> 
     <p><span style=""><span style="">要恢复的数据库从SQL脚本文件，您可以使用 </span></span><code class="notranslate">RunScript</code><span style=""><span style=""> 工具： </span></span></p> 
     <pre class="notranslate">java org.h2.tools.RunScript -url jdbc:h2:~/test -user sa -script test.zip -options compression zip
</pre> 
     <p><span style=""><span style="">欲了解更多有关选项的信息，请参阅SQL命令 </span></span><code class="notranslate">RUNSCRIPT</code><span style=""><span style="">。</span><span style="">可以远程恢复，但该文件需要在服务器端。</span><span style="">内置的FTP服务器可用于将文件复制到服务器。</span><span style="">另外，也可以使用SQL命令</span></span><code class="notranslate">RUNSCRIPT</code><span style=""><span style="">执行一个SQL脚本。</span><span style="">SQL脚本文件可能包含其他脚本文件的形式，</span></span><code class="notranslate">RUNSCRIPT</code><span style=""><span style="">的命令。</span><span style="">然而，当使用服务器模式，引用脚本文件，需要在服务器端。</span></span></p> 
     <h4><span style=""><span style="">在线备份</span></span></h4> 
     <p><span style=""><span style="">“ </span></span><code class="notranslate">BACKUP</code><span style=""><span style=""> SQL语句和 </span></span><code class="notranslate">Backup</code><span style=""><span style="">工具创建的数据库文件的zip文件。</span><span style="">但是，这个文件的内容是人类可读的。</span></span></p> 
     <p><span style=""><span style="">产生的备份是事务性一致，这意味着一致性和原子规则。 </span></span></p> 
     <pre class="notranslate">BACKUP TO 'backup.zip'
</pre> 
     <p><span style=""><span style="">“ </span></span><code class="notranslate">Backup</code><span style=""><span style=""> 工具（</span></span><code class="notranslate">org.h2.tools.Backup</code><span style=""><span style="">）不能被用于创建一个在线备份数据库必须未在使用中同时运行此程序。 </span></span></p> 
     <p><span style=""><span style="">创建复制数据库文件的备份是在数据库运行时不被支持，但如果文件系统支持创建快照。</span><span style="">与其他文件系统，它不能保证数据以正确的顺序被复制。</span></span></p> 
     <h3 id="command_line_tools"><span style=""><span style="">命令行工具</span></span></h3> 
     <p><span style=""><span style="">该数据库自带的一些命令行工具。</span><span style="">为了获得更多的信息的工具，它开始与参数' - '，例如：</span></span></p> 
     <pre class="notranslate">java -cp h2*.jar org.h2.tools.Backup -?
</pre> 
     <p><span style=""><span style="">命令行工具： </span></span></p> 
     <ul><li><code class="notranslate">Backup</code><span style=""><span style=""> 创建一个备份的数据库。 </span></span></li><li><code class="notranslate">ChangeFileEncryption</code><span style=""><span style=""> 允许改变文件的加密密码算法的数据库。 </span></span></li><li><code class="notranslate">Console</code><span style=""><span style=""> 根据H2控制台启动浏览器。 </span></span></li><li><code class="notranslate">ConvertTraceFile</code><span style=""><span style=""> 转换。trace.db文件到Java应用程序和SQL脚本。 </span></span></li><li><code class="notranslate">CreateCluster</code><span style=""><span style=""> 从一个独立的数据库中创建一个集群。 </span></span></li><li><code class="notranslate">DeleteDbFiles</code><span style=""><span style=""> 属于一个数据库中删除的所有文件。 </span></span></li><li><code class="notranslate">Recover</code><span style=""><span style=""> 有助于恢复损坏的数据库。 </span></span></li><li><code class="notranslate">Restore</code><span style=""><span style=""> 恢复备份的数据库。 </span></span></li><li><code class="notranslate">RunScript</code><span style=""><span style=""> 对数据库运行SQL脚本。 </span></span></li><li><code class="notranslate">Script</code><span style=""><span style=""> 允许将一个数据库备份或迁移到SQL脚本。 </span></span></li><li><code class="notranslate">Server</code><span style=""><span style=""> 用于在服务器模式中启动一个H2服务器。 </span></span></li><li><code class="notranslate">Shell</code><span style=""><span style=""> 是一个命令行的数据库工具。 </span></span></li></ul> 
     <p><span style=""><span style="">的工具，也可以从应用程序中调用通过调用主或其他公共方法。</span><span style="">有关详细信息，请参阅Javadoc文档。</span></span></p> 
     <h3 id="shell_tool"><span style=""><span style="">外壳工具</span></span></h3> 
     <p><span style=""><span style="">外壳工具是一个简单的交互式命令行工具。</span><span style="">要启动它，请键入：</span></span></p> 
     <pre class="notranslate">java -cp h2*.jar org.h2.tools.Shell
</pre> 
     <p><span style=""><span style="">您将被要求提供数据库URL，JDBC驱动程序，用户名和密码。</span><span style="">作为命令行参数，也可以设置连接设置。</span><span style="">连接后，你会得到列表中选择。</span><span style="">内置的命令并不需要以分号结束，但只执行SQL语句，如果该行以一个分号结束</span></span><code class="notranslate">;</code><span style=""><span style="">。</span><span style="">这允许输入多行语句：</span></span></p> 
     <pre class="notranslate">sql&gt; select * from test
...&gt; where id = 0;
</pre> 
     <p><span style=""><span style="">默认情况下，打印结果为表。</span><span style="">对于多列的结果，考虑使用列表模式：</span></span></p> 
     <pre class="notranslate">sql&gt; list
Result list mode is now on
sql&gt; select * from test;
ID  : 1
NAME: Hello

ID  : 2
NAME: World
(2 rows, 0 ms)
</pre> 
     <h3 id="open_office"><span style=""><span style="">使用OpenOffice基地</span></span></h3> 
     <p><span style=""><span style="">OpenOffice.org基地支持在JDBC API访问数据库。</span><span style="">为连接到H2数据库使用OpenOffice基地，，你首先需要的JDBC驱动程序添加到OpenOffice。</span><span style="">连接到一个H2数据库的步骤是：</span></span></p> 
     <ul><li><span style=""><span style="">启动OpenOffice的作家，到[工具]，[选项] </span></span></li><li><span style=""><span style="">确保你选择了一个在OpenOffice.org / Java的Java运行时环境 </span> </span></li><li><span style=""><span style="">点击[类路径...]，[添加目录...] </span></span></li><li><span style=""><span style="">选择H2 jar文件（位置是你的，无论你选择） </span></span></li><li><span style=""><span style="">按一下[OK]（根据需要），停止OpenOffice的（包括快速启动） </span></span></li><li><span style=""><span style="">启动OpenOffice的基础 </span></span></li><li><span style=""><span style="">连接到一个现有的数据库，选择[JDBC] [下一页] </span></span></li><li><span style=""><span style="">示例数据源的URL： </span></span><code class="notranslate">jdbc:h2:~/test</code> </li><li><span style=""><span style="">JDBC驱动程序类： </span></span><code class="notranslate">org.h2.Driver</code> </li></ul> 
     <p><span style=""><span style="">现在，您可以访问的数据库存储在当前用户的主目录。 </span></span></p> 
     <p><span style=""><span style="">要使用H2在NeoOffice（OpenOffice的不需要X11）： </span></span></p> 
     <ul><li><span style=""><span style="">在NeoOffice中，去NeoOffice中]，[功能设定] </span></span></li><li><span style=""><span style="">寻找下页[NeoOffice中]，[爪哇] </span></span></li><li><span style=""><span style="">点击[类路径]，[添加目录...] </span></span></li><li><span style=""><span style="">选择H2 jar文件（位置是你的，无论你选择） </span></span></li><li><span style=""><span style="">按一下[OK]（高达），重新启动NeoOffice中。 </span></span></li></ul> 
     <p><span style=""><span style="">现在，当使用“数据库向导”创建一个新的数据库： </span></span></p> 
     <ul><li><span style=""><span style="">点击[文件]，[新]，[数据库]。 </span></span></li><li><span style=""><span style="">选择[连接到现有数据库]，选择[JDBC]。</span><span style="">点击下一步。</span></span></li><li><span style=""><span style="">示例数据源的URL： </span></span><code class="notranslate">jdbc:h2:~/test</code> </li><li><span style=""><span style="">JDBC驱动程序类： </span></span><code class="notranslate">org.h2.Driver</code> </li></ul> 
     <p><span style=""><span style="">使用H2在NeoOffice中的另一种解决方案是： </span></span></p> 
     <ul><li><span style=""><span style="">打包的扩展包内的氢气罐 </span></span></li><li><span style=""><span style="">在NeoOffice中安装它作为一个Java扩展 </span></span></li></ul> 
     <p><span style=""><span style="">这可以通过创建使用NetBeans OpenOffice插件。</span></span><a href="http://wiki.services.openoffice.org/wiki/Extensions_development_java" rel="nofollow"><span style=""><span style="">扩展开发</span></span></a><span style=""><span style="">。</span></span></p> 
     <h3 id="web_start"><span style=""><span style="">Java Web Start的/ JNLP</span></span></h3> 
     <p><span style=""><span style="">当使用Java Web Start / JNLP（Java网络启动协议），权限标签必须的。jnlp文件和应用程序的jar文件必须经过签名。</span><span style="">否则，试图写入到文件系统时，会发生以下异常：</span></span><code class="notranslate">java.security.AccessControlException</code><span style=""><span style="">：访问被拒绝（</span></span><code class="notranslate">java.io.FilePermission ... read</code><span style=""><span style="">）。</span><span style="">许可标签示例：</span></span></p> 
     <pre class="notranslate">&lt;security&gt;
    &lt;all-permissions/&gt;
&lt;/security&gt;
</pre> 
     <h3 id="connection_pool"><span style=""><span style="">使用连接池</span></span></h3> 
     <p><span style=""><span style="">对于H2，打开一个连接是快速的，如果数据库已经打开。</span><span style="">不过，使用连接池可以提高性能，如果你打开和关闭连接。</span><span style="">一个简单的连接池被包含在H2。</span><span style="">它是基于</span><span style="">从基督教德Heureuse报</span><span style="">的</span></span><a href="http://www.source-code.biz/snippets/java/8.htm" rel="nofollow"><span style=""><span style="">迷你连接池管理器</span></span></a><span style=""><span style="">。</span><span style="">还有其他更复杂的，开放源码的连接池，例如，</span></span><a href="http://jakarta.apache.org/commons/dbcp/" rel="nofollow"><span style=""><span style="">Apache的Commons DBCP的</span></span></a><span style=""><span style="">。</span><span style="">对于H2，它是关于快两倍，从内置的连接池获得一个连接，而不是让一个使用</span></span><code class="notranslate">DriverManager.getConnection()</code><span style=""><span style="">内置的连接池的使用方法如下： </span></span></p> 
     <pre class="notranslate">import java.sql.*;
import org.h2.jdbcx.JdbcConnectionPool;
public class Test {
    public static void main(String[] args) throws Exception {
        JdbcConnectionPool cp = JdbcConnectionPool.create(
            "jdbc:h2:~/test", "sa", "sa");
        for (int i = 0; i &lt; args.length; i++) {
            Connection conn = cp.getConnection();
            conn.createStatement().execute(args[i]);
            conn.close();
        }
        cp.dispose();
    }
}
</pre> 
     <h3 id="fulltext"><span style=""><span style="">全文检索</span></span></h3> 
     <p><span style=""><span style="">H2包括全文检索实现。</span><span style="">一种方法是使用Apache Lucene的，和其他（本机实现）存储在特殊的数据库中的表的索引数据。</span></span></p> 
     <h4><span style=""><span style="">使用本机的全文检索</span></span></h4> 
     <p><span style=""><span style="">要初始化，请致电： </span></span></p> 
     <pre class="notranslate">CREATE ALIAS IF NOT EXISTS FT_INIT FOR "org.h2.fulltext.FullText.init";
CALL FT_INIT();
</pre> 
     <p><span style=""><span style="">你需要你想用它来初始化它在每个数据库中。</span><span style="">之后，您可以创建全文索引的表使用：</span></span></p> 
     <pre class="notranslate">CREATE TABLE TEST(ID INT PRIMARY KEY, NAME VARCHAR);
INSERT INTO TEST VALUES(1, 'Hello World');
CALL FT_CREATE_INDEX('PUBLIC', 'TEST', NULL);
</pre> 
     <p><span style=""><span style="">公众的架构的名称，测试表的名称。</span><span style="">列名的列表（以逗号分隔）是可选的，在这种情况下，所有的列上都有索引。</span><span style="">该指数是实时更新的。</span><span style="">搜索索引，使用下面的查询：</span></span></p> 
     <pre class="notranslate">SELECT * FROM FT_SEARCH('Hello', 0, 0);
</pre> 
     <p><span style=""><span style="">这将产生一个结果集，其中包含的查询需要检索的数据： </span></span></p> 
     <pre class="notranslate">QUERY: "PUBLIC"."TEST" WHERE "ID"=1
</pre> 
     <p><span style=""><span style="">要获得原始数据，使用 </span></span><code class="notranslate">FT_SEARCH_DATA('Hello', 0, 0);</code><span style=""><span style="">。</span><span style="">结果包含的列</span></span><code class="notranslate">SCHEMA</code><span style=""><span style=""> （架构）， </span></span><code class="notranslate">TABLE</code><span style=""><span style=""> （表名）， </span></span><code class="notranslate">COLUMNS</code><span style=""><span style=""> （数组的列名）， </span></span><code class="notranslate">KEYS</code><span style=""><span style="">（对象数组）。</span><span style="">要加入一个表，使用中：</span></span><code class="notranslate">SELECT T.* FROM FT_SEARCH_DATA('Hello', 0, 0) FT, TEST T WHERE FT.TABLE='TEST' AND T.ID=FT.KEYS[0];</code> </p> 
     <p><span style=""><span style="">您也可以在Java应用程序中调用索引： </span></span></p> 
     <pre class="notranslate">org.h2.fulltext.FullText.search(conn, text, limit, offset);
org.h2.fulltext.FullText.searchData(conn, text, limit, offset);
</pre> 
     <h4><span style=""><span style="">使用Lucene的全文检索</span></span></h4> 
     <p><span style=""><span style="">要使用Lucene全文搜索，你需要的Lucene的库中的类路径。</span><span style="">目前2.x版本的Apache Lucene默认情况下，H2版本1.2.x，并使用Lucene的3.x版本默认情况下，H2版本1.3.x之下。</span><span style="">如何做到这一点取决于应用程序，如果您使用的H2控制台，你可以添加了Lucene jar文件的环境变量</span></span><code class="notranslate">H2DRIVERS</code><span style=""><span style=""> 或 </span></span><code class="notranslate">CLASSPATH</code><span style=""><span style="">。</span><span style="">要初始化Lucene的全文搜索的数据库，请致电：</span></span></p> 
     <pre class="notranslate">CREATE ALIAS IF NOT EXISTS FTL_INIT FOR "org.h2.fulltext.FullTextLucene.init";
CALL FTL_INIT();
</pre> 
     <p><span style=""><span style="">你需要你想用它来初始化它在每个数据库中。</span><span style="">之后，您可以创建全文索引的表使用：</span></span></p> 
     <pre class="notranslate">CREATE TABLE TEST(ID INT PRIMARY KEY, NAME VARCHAR);
INSERT INTO TEST VALUES(1, 'Hello World');
CALL FTL_CREATE_INDEX('PUBLIC', 'TEST', NULL);
</pre> 
     <p><span style=""><span style="">公众的架构的名称，测试表的名称。</span><span style="">列名的列表（以逗号分隔）是可选的，在这种情况下，所有的列上都有索引。</span><span style="">该指数是实时更新的。</span><span style="">搜索索引，使用下面的查询：</span></span></p> 
     <pre class="notranslate">SELECT * FROM FTL_SEARCH('Hello', 0, 0);
</pre> 
     <p><span style=""><span style="">这将产生一个结果集，其中包含的查询需要检索的数据： </span></span></p> 
     <pre class="notranslate">QUERY: "PUBLIC"."TEST" WHERE "ID"=1
</pre> 
     <p><span style=""><span style="">要获得原始数据，使用 </span></span><code class="notranslate">FTL_SEARCH_DATA('Hello', 0, 0);</code><span style=""><span style="">。</span><span style="">结果包含的列</span></span><code class="notranslate">SCHEMA</code><span style=""><span style=""> （架构）， </span></span><code class="notranslate">TABLE</code><span style=""><span style=""> （表名）， </span></span><code class="notranslate">COLUMNS</code><span style=""><span style=""> （数组的列名）， </span></span><code class="notranslate">KEYS</code><span style=""><span style="">（对象数组）。</span><span style="">要加入一个表，使用中：</span></span><code class="notranslate">SELECT T.* FROM FTL_SEARCH_DATA('Hello', 0, 0) FT, TEST T WHERE FT.TABLE='TEST' AND T.ID=FT.KEYS[0];</code> </p> 
     <p><span style=""><span style="">您也可以在Java应用程序中调用索引： </span></span></p> 
     <pre class="notranslate">org.h2.fulltext.FullTextLucene.search(conn, text, limit, offset);
org.h2.fulltext.FullTextLucene.searchData(conn, text, limit, offset);
</pre> 
     <p><span style=""><span style="">Lucene的全文搜索支持搜索仅在特定的列。</span><span style="">列名必须是大写字母（但如果原来的列双引号）。</span><span style="">对于列名用下划线（_）开始，另一个需要添加下划线。</span><span style="">示例：</span></span></p> 
     <pre class="notranslate">CREATE ALIAS IF NOT EXISTS FTL_INIT FOR "org.h2.fulltext.FullTextLucene.init";
CALL FTL_INIT();
DROP TABLE IF EXISTS TEST;
CREATE TABLE TEST(ID INT PRIMARY KEY, FIRST_NAME VARCHAR, LAST_NAME VARCHAR);
CALL FTL_CREATE_INDEX('PUBLIC', 'TEST', NULL);
INSERT INTO TEST VALUES(1, 'John', 'Wayne');
INSERT INTO TEST VALUES(2, 'Elton', 'John');
SELECT * FROM FTL_SEARCH_DATA('John', 0, 0);
SELECT * FROM FTL_SEARCH_DATA('LAST_NAME:John', 0, 0);
CALL FTL_DROP_ALL();
</pre> 
     <p><span style=""><span style="">Lucene的全文检索实现内部不同步。</span><span style="">如果您在更新数据库的全文检索和查询，同时（直接使用H2或Lucene本身的Java API），您需要确保操作正确同步。</span><span style="">如果是这样的情况下，您可能会收到例外，如</span></span><code class="notranslate">org.apache.lucene.store.AlreadyClosedException: this IndexReader is closed</code><span style=""><span style="">。 </span></span></p> 
     <h3 id="user_defined_variables"><span style=""><span style="">用户定义的变量</span></span></h3> 
     <p><span style=""><span style="">该数据库支持用户自定义的变量。</span><span style="">变量开始</span></span><code class="notranslate">@</code><span style=""><span style="">和可以用于任何表达式或参数允许。</span><span style="">变量不坚持和会话范围，这意味着只有在它们被定义的会话中可见。</span><span style="">值通常被分配使用SET命令：</span></span></p> 
     <pre class="notranslate">SET @USER = 'Joe';
</pre> 
     <p><span style=""><span style="">该值也可以改变使用SET（）方法。</span><span style="">在查询中，这是非常有用的：</span></span></p> 
     <pre class="notranslate">SET @TOTAL = NULL;
SELECT X, SET(@TOTAL, IFNULL(@TOTAL, 1.) * X) F FROM SYSTEM_RANGE(1, 50);
</pre> 
     <p><span style=""><span style="">变量未设置评估 </span></span><code class="notranslate">NULL</code><span style=""><span style="">。</span><span style="">一个用户定义的变量的数据类型是分配给它的值的数据类型，这意味着它是没有必要的（或可能）在使用前声明变量的名称。</span><span style="">有没有限制分配的值;大对象（LOB）支持。</span><span style="">回滚事务，不会影响用户定义的变量的值。</span></span></p> 
     <h3 id="date_time"><span style=""><span style="">日期和时间</span></span></h3> 
     <p><span style=""><span style="">日期，时间和时间戳值支持ISO 8601格式，包括时区： </span></span></p> 
     <pre class="notranslate">CALL TIMESTAMP '2008-01-01 12:00:00+01:00';
</pre> 
     <p><span style=""><span style="">如果未设置的时区，使用系统当前的时区设定值将被解析。</span><span style="">H2数据库文件的日期和时间信息存储在没有时区信息。</span><span style="">如果打开数据库时使用另一个系统时区，日期和时间将是相同的。</span><span style="">这意味着，如果你在一个时区中存储的值'2000-01-01 12:00:00'，然后关闭数据库并重新打开数据库在不同的时区，你也将获得'2000-01-01 12 ：00:00'。</span><span style="">请注意，不支持更改时区后的H2驱动程序被加载。</span></span></p> 
     <h3 id="spring"><span style=""><span style="">使用Spring</span></span></h3> 
     <h4><span style=""><span style="">使用TCP服务器</span></span></h4> 
     <p><span style=""><span style="">使用下面的配置来启动和停止使用Spring框架的H2 TCP服务器： </span></span></p> 
     <pre class="notranslate">&lt;bean id = "org.h2.tools.Server"
            class="org.h2.tools.Server"
            factory-method="createTcpServer"
            init-method="start"
            destroy-method="stop"&gt;
    &lt;constructor-arg value="-tcp,-tcpAllowOthers,true,-tcpPort,8043" /&gt;
&lt;/bean&gt;
</pre> 
     <p><span style=""><span style="">“ </span></span><code class="notranslate">destroy-method</code><span style=""><span style=""> 将有助于防止热重新部署或重新启动服务器时的异常。 </span></span></p> 
     <h4><span style=""><span style="">错误代码不兼容</span></span></h4> 
     <p><span style=""><span style="">有一个不符合Spring的JdbcTemplate和H2版本1.3.154，更新的，因为一个变化中的错误代码。</span><span style="">这将导致JdbcTemplate中未检测到重复的关键条件，所以</span></span><code class="notranslate">DataIntegrityViolationException</code><span style=""><span style=""> 而不是被抛出 </span></span><code class="notranslate">DuplicateKeyException</code><span style=""><span style="">。</span></span><a href="https://jira.springsource.org/browse/SPR-8235" rel="nofollow"><span style=""><span style="">的问题SPR-8235</span></span></a><span style=""><span style="">。</span><span style="">解决方法是添加下面的XML文件的根目录开始：</span></span></p> 
     <pre class="notranslate">&lt;beans
    xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation=
        "http://www.springframework.org/schema/beans
        http://www.springframework.org/schema/beans/spring-beans.xsd"
    &gt;
    &lt;import resource="classpath:org/springframework/jdbc/support/sql-error-codes.xml"/&gt;
    &lt;bean id = "H2" class="org.springframework.jdbc.support.SQLErrorCodes"&gt;
        &lt;property name="badSqlGrammarCodes"&gt;
            &lt;value&gt;
                42000,42001,42101,42102,42111,42112,42121,42122,42132
            &lt;/value&gt;
        &lt;/property&gt;
        &lt;property name="duplicateKeyCodes"&gt;
            &lt;value&gt;23001,23505&lt;/value&gt;
        &lt;/property&gt;
        &lt;property name="dataIntegrityViolationCodes"&gt;
            &lt;value&gt;22003,22012,22025,23000&lt;/value&gt;
        &lt;/property&gt;
        &lt;property name="dataAccessResourceFailureCodes"&gt;
            &lt;value&gt;90046,90100,90117,90121,90126&lt;/value&gt;
        &lt;/property&gt;
        &lt;property name="cannotAcquireLockCodes"&gt;
            &lt;value&gt;50200&lt;/value&gt;
        &lt;/property&gt;
    &lt;/bean&gt;
&lt;/beans&gt;
</pre> 
     <h3 id="jmx"><span style=""><span style="">Java管理扩展（JMX）</span></span></h3> 
     <p><span style=""><span style="">支持基于JMX的管理，但默认情况下不启用。</span><span style="">要启用JMX，追加</span></span><code class="notranslate">;JMX=TRUE</code><span style=""><span style="">在数据库URL打开数据库时。</span><span style="">各种工具支持JMX，一个这样的工具是</span></span><code class="notranslate">jconsole</code><span style=""><span style="">。</span><span style="">当打开</span></span><code class="notranslate">jconsole</code><span style=""><span style="">，连接到数据库是开放的过程中（使用服务器模式时，您需要连接到服务器进程）。</span><span style="">然后去</span></span><code class="notranslate">MBeans</code><span style=""><span style="">一节。</span><span style="">下</span></span><code class="notranslate">org.h2</code><span style=""><span style="">你会发现每一个条目的数据库。</span><span style="">对象的项目名称是数据库的短名称，加上路径（每个冒号替换下划线）。</span></span></p> 
     <p><span style=""><span style="">下面的属性和操作的支持： </span></span></p> 
     <ul><li><code class="notranslate">CacheSize</code><span style=""><span style="">：目前在使用中的KB高速缓存的大小。 </span></span></li><li><code class="notranslate">CacheSizeMax</code><span style=""><span style=""> （读/写）：最大高速缓存大小（KB）。 </span></span></li><li><code class="notranslate">Exclusive</code><span style=""><span style="">这个数据库是否以独占模式或不开放。 </span></span></li><li><code class="notranslate">FileReadCount</code><span style=""><span style="">号文件的读取操作，因为数据库被打开了。 </span></span></li><li><code class="notranslate">FileSize</code><span style=""><span style="">：文件大小（KB）。 </span></span></li><li><code class="notranslate">FileWriteCount</code><span style=""><span style="">文件的写操作的数量，因为数据库被打开了。 </span></span></li><li><code class="notranslate">FileWriteCountTotal</code><span style=""><span style="">文件的写操作的数量，因为数据库被创建。 </span></span></li><li><code class="notranslate">LogMode</code><span style=""><span style="">（读/写）：当前的事务日志模式。</span><span style="">看</span></span><code class="notranslate">SET LOG</code><span style=""><span style=""> 了解详细信息。 </span></span></li><li><code class="notranslate">Mode</code><span style=""><span style="">兼容模式（</span></span><code class="notranslate">REGULAR</code><span style=""><span style=""> 如果没有兼容模式下使用）。 </span></span></li><li><code class="notranslate">MultiThreaded</code><span style=""><span style="">：真正的多线程如果启用。 </span></span></li><li><code class="notranslate">Mvcc</code><span style=""><span style="">：true，如果 </span> </span><code class="notranslate">MVCC</code><span style=""><span style=""> 已启用。 </span> </span></li><li><code class="notranslate">ReadOnly</code><span style=""><span style="">真实的，如果数据库是只读的。 </span></span></li><li><code class="notranslate">TraceLevel</code><span style=""><span style=""> （读/写）：文件的跟踪级别。 </span></span></li><li><code class="notranslate">Version</code><span style=""><span style="">：使用的数据库版本。 </span></span></li><li><code class="notranslate">listSettings</code><span style=""><span style="">：列出数据库设置。 </span></span></li><li><code class="notranslate">listSessions</code><span style=""><span style="">：列出的公开会议，包括当前执行的语句（如果有的话），并锁定表（如果有的话）。 </span></span></li></ul> 
     <p><span style=""><span style="">要启用JMX，您可能需要设置系统属性 </span></span><code class="notranslate">com.sun.management.jmxremote</code><span style=""><span style=""> 和 </span></span><code class="notranslate">com.sun.management.jmxremote.port</code><span style=""><span style=""> 所要求的JVM。 </span></span></p> 
    </div> </td></tr></tbody></table> 
<br> 
<p><br> </p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f5d90ad4722ce4d069a8f1fd01c3b41f/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">如何批量去除EXCEL单元格中的空格字符？</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/54a53a701685951f700e1b835667fea1/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">c#中的@符号</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>