<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>微信小程序&#43;esp8266NodeMcu(cp2102)&#43;onenet物联平台（一） - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="微信小程序&#43;esp8266NodeMcu(cp2102)&#43;onenet物联平台（一）" />
<meta property="og:description" content="使用esp8266NodeMcu(cp2102)开发板，连接onenet物联平台，然后使用微信小程序控制esp8266开发板上的led灯，同时在开发板中模拟温度值，小程序通过onenet物联平台，读取温度值。
Onenet物联平台 登录Onenet物联平台，完成注册。
1、创建产品
控制台 —&gt;MQTT物联网套件–&gt;添加产品
2、添加设备
添加商品后，点击新添加的商品 —&gt;点击左侧“设备列表” —&gt;“添加设备” 。
我填加了一个设备名为d1的设备，
3、添加数据流
在设备d1的右侧，点击“数据流”—&gt;点击“数据流模板管理”—&gt;“添加数据流模板”，可以自定义添加数据流，这里我使用的是“temperatrue&#34;数据流，esp8266开发板上的温度数据，会上传至此数据流模板。如不了解数据流概念，可查看官方文档OneNET - 中国移动物联网开放平台
4、测试连接设备
使用mqttfx连接d1设备。参考【OneNET - 中国移动物联网开放平台】，如果官网的mqttfx无法下载，可通过百度云下载 百度网盘 请输入提取码 提取码:r9f7
打开mqttfx，进行如下设置，（点击 【OneNET - 中国移动物联网开放平台】查看服务网址）
token生成：
下载token工具：OneNET - 中国移动物联网开放平台
按照如下设置生成token
设备连接后，就可以测试数据点上传、设备命令、设备镜像，跟着官方文档做。OneNET - 中国移动物联网开放平台" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/18375a3defabb728891ac89a9de1fcb8/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-12-11T23:30:02+08:00" />
<meta property="article:modified_time" content="2022-12-11T23:30:02+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">微信小程序&#43;esp8266NodeMcu(cp2102)&#43;onenet物联平台（一）</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>使用esp8266NodeMcu(cp2102)开发板，连接onenet物联平台，然后使用微信小程序控制esp8266开发板上的led灯，同时在开发板中模拟温度值，小程序通过onenet物联平台，读取温度值。</p> 
<h2><strong>Onenet物联平台</strong></h2> 
<p>登录Onenet物联平台，完成注册。</p> 
<p>1、创建产品</p> 
<p>控制台 —&gt;MQTT物联网套件–&gt;添加产品</p> 
<p><img alt="" height="855" src="https://images2.imgbox.com/72/f5/NCVSiGqh_o.png" width="546"></p> 
<p> 2、添加设备</p> 
<p>添加商品后，点击新添加的商品 —&gt;点击左侧“设备列表” —&gt;“添加设备” 。</p> 
<p><img alt="" height="458" src="https://images2.imgbox.com/74/1d/CYK5tSY3_o.png" width="638"></p> 
<p><img alt="" height="478" src="https://images2.imgbox.com/f6/69/Lcd6oY20_o.png" width="1200"></p> 
<p> 我填加了一个设备名为d1的设备，</p> 
<p>3、添加数据流</p> 
<p>在设备d1的右侧，点击“数据流”—&gt;点击“数据流模板管理”—&gt;“添加数据流模板”，可以自定义添加数据流，这里我使用的是“temperatrue"数据流，esp8266开发板上的温度数据，会上传至此数据流模板。如不了解数据流概念，可查看官方文档<a href="https://open.iot.10086.cn/doc/v5/develop/detail/228" rel="nofollow" title="OneNET - 中国移动物联网开放平台">OneNET - 中国移动物联网开放平台</a></p> 
<p><img alt="" height="747" src="https://images2.imgbox.com/5a/bc/fWmSbnH5_o.png" width="1200"></p> 
<p>4、测试连接设备</p> 
<p>使用mqttfx连接d1设备。参考【<a href="https://open.iot.10086.cn/doc/v5/develop/detail/227" rel="nofollow" title="OneNET - 中国移动物联网开放平台">OneNET - 中国移动物联网开放平台</a>】，如果官网的mqttfx无法下载，可通过百度云下载 <a href="https://pan.baidu.com/s/13v0ROf1dOzu2tXqmw3iBMg" rel="nofollow" title="百度网盘 请输入提取码">百度网盘 请输入提取码</a> 提取码:r9f7</p> 
<p>打开mqttfx，进行如下设置，（点击 <a href="https://open.iot.10086.cn/doc/v5/develop/detail/248" rel="nofollow" title="【OneNET - 中国移动物联网开放平台">【OneNET - 中国移动物联网开放平台</a>】查看服务网址）</p> 
<p><img alt="" height="770" src="https://images2.imgbox.com/1b/7b/JEDT6QlP_o.png" width="1037"></p> 
<p> <img alt="" height="499" src="https://images2.imgbox.com/80/5e/E4e3VFWW_o.png" width="1008"></p> 
<p> token生成：</p> 
<p>下载token工具：<a href="https://open.iot.10086.cn/doc/v5/develop/detail/242" rel="nofollow" title="OneNET - 中国移动物联网开放平台">OneNET - 中国移动物联网开放平台</a></p> 
<p>按照如下设置生成token</p> 
<p><img alt="" height="844" src="https://images2.imgbox.com/0e/9a/F8UzyfGJ_o.png" width="1200"></p> 
<p> 设备连接后，就可以测试数据点上传、设备命令、设备镜像，跟着官方文档做。<a href="https://open.iot.10086.cn/doc/v5/develop/detail/266" rel="nofollow" title="OneNET - 中国移动物联网开放平台">OneNET - 中国移动物联网开放平台</a></p> 
<p></p> 
<p><img alt="" height="249" src="https://images2.imgbox.com/2a/ea/x8utwQ85_o.png" width="459"></p> 
<p></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/7be10c75d61c7b44e30b014ae4a5f3e5/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Orangepi 5 Unixbench基准测试结果</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/4fbfb5a645ff1fbe8df60751b4e40ae0/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">关于H3C模拟器设备启动失败的问题</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>