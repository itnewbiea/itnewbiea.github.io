<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>详解python列表等对象的赋值和复制（浅拷贝copy()及深拷贝deepcopy()的使用区别与示例） - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="详解python列表等对象的赋值和复制（浅拷贝copy()及深拷贝deepcopy()的使用区别与示例）" />
<meta property="og:description" content="python虽然没有指针的概念，但是对象、引用、地址这些内容还是存在的，尤其是像列表对象、某类型对象的引用上，搞清楚对象变量的复制和赋值很有必要，不然容易出现“莫名其妙”的错误。
目录 认清对象、引用、地址（直接以“=”赋值变量）以列表为例以自定义类为例 浅拷贝（copy()函数的使用）无嵌套的情况有嵌套的情况以列表为例以自定义类为例 深拷贝（deepcopy()函数的使用） 认清对象、引用、地址（直接以“=”赋值变量） 以列表为例 python中给一个变量a赋值列表实际上是创建了一个列表对象，并将该列表的地址赋值给a，而变量a此时就成为了这个列表对象的引用。当用a给变量b赋值时，其实只是把这个列表对象的地址赋值给了b，即a和b都成为了该对象的引用，因此直接对a或b进行修改，都将使该对象发生变化，下面给出一段代码示例：
a = [&#34;abc&#34;,&#34;bcd&#34;,&#34;cde&#34;,1,2,3] #创建了一个对象并用变量a引用它 b = a #将a赋值给b，让b和a都同时作为列表对象的引用 print(&#34;a=&#34;,a,&#34;b=&#34;,b) #输出a,b列表中的内容 print(&#34;a:&#34;,type(a),id(a),&#34;b:&#34;,type(b),id(b))#输出a,b的类型和地址 b[0] = 0 #通过引用b将列表第一个元素赋值为0 a.remove(3) #通过引用a将列表中第一个值为3的元素删除 print(&#34;修改后：&#34;) print(&#34;a=&#34;,a,&#34;b=&#34;,b) #输出a,b列表中的内容 print(&#34;a:&#34;,type(a),id(a),&#34;b:&#34;,type(b),id(b))#输出a,b的类型和地址 a = [&#34;a&#34;,&#34;new&#34;,&#34;list&#34;] #创建一个新的对象赋值给a，即让变量a成为新列表对象的引用 print(&#34;a=&#34;,a,&#34;b=&#34;,b) #输出a,b列表中的内容 print(&#34;a:&#34;,type(a),id(a),&#34;b:&#34;,type(b),id(b))#输出a,b的类型和地址 运行结果为：
a= [&#39;abc&#39;, &#39;bcd&#39;, &#39;cde&#39;, 1, 2, 3] b= [&#39;abc&#39;, &#39;bcd&#39;, &#39;cde&#39;, 1, 2, 3] a: &lt;class &#39;list&#39;&gt; 2072617426752 b: &lt;class &#39;list&#39;&gt; 2072617426752 修改后： a= [0, &#39;bcd&#39;, &#39;cde&#39;, 1, 2] b= [0, &#39;bcd&#39;, &#39;cde&#39;, 1, 2] a: &lt;class &#39;list&#39;&gt; 2072617426752 b: &lt;class &#39;list&#39;&gt; 2072617426752 a= [&#39;a&#39;, &#39;new&#39;, &#39;list&#39;] b= [0, &#39;bcd&#39;, &#39;cde&#39;, 1, 2] a: &lt;class &#39;list&#39;&gt; 2072617436224 b: &lt;class &#39;list&#39;&gt; 2072617426752 可以看到，一开始a和b共同代表了创建的列表[&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/1ae896f91941e9fa521f800edd4a8948/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-01-15T01:04:46+08:00" />
<meta property="article:modified_time" content="2023-01-15T01:04:46+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">详解python列表等对象的赋值和复制（浅拷贝copy()及深拷贝deepcopy()的使用区别与示例）</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <blockquote> 
 <p>python虽然没有指针的概念，但是对象、引用、地址这些内容还是存在的，尤其是像列表对象、某类型对象的引用上，搞清楚对象变量的复制和赋值很有必要，不然容易出现“莫名其妙”的错误。</p> 
</blockquote> 
<p></p> 
<div class="toc"> 
 <h4>目录</h4> 
 <ul><li><a href="#_3" rel="nofollow">认清对象、引用、地址（直接以“=”赋值变量）</a></li><li><ul><li><a href="#_4" rel="nofollow">以列表为例</a></li><li><a href="#_31" rel="nofollow">以自定义类为例</a></li></ul> 
  </li><li><a href="#copy_70" rel="nofollow">浅拷贝（copy()函数的使用）</a></li><li><ul><li><a href="#_78" rel="nofollow">无嵌套的情况</a></li><li><a href="#_107" rel="nofollow">有嵌套的情况</a></li><li><ul><li><a href="#_110" rel="nofollow">以列表为例</a></li><li><a href="#_143" rel="nofollow">以自定义类为例</a></li></ul> 
  </li></ul> 
  </li><li><a href="#deepcopy_189" rel="nofollow">深拷贝（deepcopy()函数的使用）</a></li></ul> 
</div> 
<p></p> 
<h2><a id="_3"></a>认清对象、引用、地址（直接以“=”赋值变量）</h2> 
<h3><a id="_4"></a>以列表为例</h3> 
<p>python中给一个变量<code>a</code>赋值列表实际上是创建了一个列表对象，并将该列表的地址赋值给<code>a</code>，而变量a此时就成为了这个列表对象的引用。当用<code>a</code>给变量<code>b</code>赋值时，其实只是把这个列表对象的地址赋值给了b，即<code>a</code>和<code>b</code>都成为了该对象的引用，因此直接对<code>a</code>或<code>b</code>进行修改，都将使该对象发生变化，下面给出一段代码示例：</p> 
<pre><code class="prism language-python">a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"abc"</span><span class="token punctuation">,</span><span class="token string">"bcd"</span><span class="token punctuation">,</span><span class="token string">"cde"</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>   <span class="token comment">#创建了一个对象并用变量a引用它</span>
b <span class="token operator">=</span> a                           <span class="token comment">#将a赋值给b，让b和a都同时作为列表对象的引用</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"a="</span><span class="token punctuation">,</span>a<span class="token punctuation">,</span><span class="token string">"b="</span><span class="token punctuation">,</span>b<span class="token punctuation">)</span>    <span class="token comment">#输出a,b列表中的内容</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"a:"</span><span class="token punctuation">,</span><span class="token builtin">type</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token builtin">id</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">"b:"</span><span class="token punctuation">,</span><span class="token builtin">type</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token builtin">id</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">#输出a,b的类型和地址</span>
b<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span>        <span class="token comment">#通过引用b将列表第一个元素赋值为0</span>
a<span class="token punctuation">.</span>remove<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>     <span class="token comment">#通过引用a将列表中第一个值为3的元素删除</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"修改后："</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"a="</span><span class="token punctuation">,</span>a<span class="token punctuation">,</span><span class="token string">"b="</span><span class="token punctuation">,</span>b<span class="token punctuation">)</span>    <span class="token comment">#输出a,b列表中的内容</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"a:"</span><span class="token punctuation">,</span><span class="token builtin">type</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token builtin">id</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">"b:"</span><span class="token punctuation">,</span><span class="token builtin">type</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token builtin">id</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">#输出a,b的类型和地址</span>
a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"a"</span><span class="token punctuation">,</span><span class="token string">"new"</span><span class="token punctuation">,</span><span class="token string">"list"</span><span class="token punctuation">]</span>  <span class="token comment">#创建一个新的对象赋值给a，即让变量a成为新列表对象的引用</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"a="</span><span class="token punctuation">,</span>a<span class="token punctuation">,</span><span class="token string">"b="</span><span class="token punctuation">,</span>b<span class="token punctuation">)</span>    <span class="token comment">#输出a,b列表中的内容</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"a:"</span><span class="token punctuation">,</span><span class="token builtin">type</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token builtin">id</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">"b:"</span><span class="token punctuation">,</span><span class="token builtin">type</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token builtin">id</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">#输出a,b的类型和地址</span>
</code></pre> 
<p>运行结果为：</p> 
<pre><code class="prism language-bashshell">a= ['abc', 'bcd', 'cde', 1, 2, 3] b= ['abc', 'bcd', 'cde', 1, 2, 3]
a: &lt;class 'list'&gt; 2072617426752 b: &lt;class 'list'&gt; 2072617426752
修改后：
a= [0, 'bcd', 'cde', 1, 2] b= [0, 'bcd', 'cde', 1, 2]
a: &lt;class 'list'&gt; 2072617426752 b: &lt;class 'list'&gt; 2072617426752
a= ['a', 'new', 'list'] b= [0, 'bcd', 'cde', 1, 2]
a: &lt;class 'list'&gt; 2072617436224 b: &lt;class 'list'&gt; 2072617426752
</code></pre> 
<p>可以看到，一开始a和b共同代表了创建的列表<code>["abc","bcd","cde",1,2,3]</code>，两个变量输出的内容、类型、地址都是完全一样的，用两个变量均可以对该列表进行修改，即<code>a</code>和<code>b</code>会互相影响。而后面给<code>a</code>另外赋值一个新的列表对象后，<code>a</code>和<code>b</code>就分别引用不同的对象了，两者在之后就不会互相影响了。</p> 
<h3><a id="_31"></a>以自定义类为例</h3> 
<p>对于python中的类，包括自定义的类，所创建的对象也是类似的，给变量赋值仅仅是将对象地址给到变量，让变量成为该对象的引用，看下面的一段示例代码和结果就很好理解了：</p> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">AClass</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>alist <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">"ab"</span><span class="token punctuation">,</span><span class="token string">"cd"</span><span class="token punctuation">]</span>
        self<span class="token punctuation">.</span>aString <span class="token operator">=</span> <span class="token string">"abcdef"</span>

a <span class="token operator">=</span> AClass<span class="token punctuation">(</span><span class="token punctuation">)</span>
b <span class="token operator">=</span> a
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"a:"</span><span class="token punctuation">,</span>a<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"a.alist:"</span><span class="token punctuation">,</span>a<span class="token punctuation">.</span>alist<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"a.aString:"</span><span class="token punctuation">,</span>a<span class="token punctuation">.</span>aString<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"b:"</span><span class="token punctuation">,</span>b<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"b.alist:"</span><span class="token punctuation">,</span>b<span class="token punctuation">.</span>alist<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"b.aString:"</span><span class="token punctuation">,</span>b<span class="token punctuation">.</span>aString<span class="token punctuation">)</span>
b<span class="token punctuation">.</span>aString <span class="token operator">=</span> <span class="token number">0</span>
b<span class="token punctuation">.</span>alist <span class="token operator">=</span> <span class="token number">0</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"修改后："</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"a:"</span><span class="token punctuation">,</span>a<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"a.alist:"</span><span class="token punctuation">,</span>a<span class="token punctuation">.</span>alist<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"a.aString:"</span><span class="token punctuation">,</span>a<span class="token punctuation">.</span>aString<span class="token punctuation">)</span>
</code></pre> 
<p>运行结果为：</p> 
<pre><code class="prism language-bashshell">a: &lt;__main__.AClass object at 0x000002708399D4F0&gt;
a.alist: [1, 2, 3, 'ab', 'cd']
a.aString: abcdef
b: &lt;__main__.AClass object at 0x000002708399D4F0&gt;
b.alist: [1, 2, 3, 'ab', 'cd']
b.aString: abcdef
修改后：
a: &lt;__main__.AClass object at 0x000002708399D4F0&gt;
a.alist: 0
a.aString: 0
</code></pre> 
<p>可以看到，程序仅创建了一个自定义类的对象（地址为<code>0x000002708399D4F0</code>），变量<code>a</code>和<code>b</code>均是该对象的引用，所以通过<code>b</code>对其属性更改后，通过<code>a</code>输出内容便是更改后的内容。<br> <mark>综上，编程过程中一定要注意，尤其在很多时候我们可能需要临时使用并更改对象中的某些值但并不希望真的修改它以至于影响下次使用它，尤其针对某些其他语言转过来的人，可能习惯于直接用变量赋值，然后用新变量当临时变量来进行使用和修改，殊不知这样会直接影响原始对象的数据，造成一些未知的错误</mark></p> 
<h2><a id="copy_70"></a>浅拷贝（copy()函数的使用）</h2> 
<p>为了解决上面说的问题，有时候我们确实需要临时改变一下对象中的内容用于计算、统计等功能，但同时希望保持原有对象的数据不变，以便后面的流程中再次使用，所以就需要用到<strong>对象的复制</strong>，而不是上面所说的<strong>变量的赋值</strong>。<br> python中对象的复制可以用标准库<code>copy</code>中的<code>copy()</code>函数，使用前需要导入该库，示例如下：</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> copy
a <span class="token operator">=</span> copy<span class="token punctuation">.</span>copy<span class="token punctuation">(</span>b<span class="token punctuation">)</span>
</code></pre> 
<p><strong>值得注意的是</strong>，浅拷贝仅拷贝对象本身的内容并创建新对象，但是，<strong>对象中的对象</strong>即子对象仍然只是复制了地址而不是新创建同内容的子对象，下面会详细解释这种情况：</p> 
<h3><a id="_78"></a>无嵌套的情况</h3> 
<p>先说无嵌套的情况，这种情况比较简单，沿用上面以列表为例的代码，仅作一处修改及将<code>b=a</code>改为<code>b=copy.copy()</code>，代码如下：</p> 
<pre><code class="prism language-python"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"testing copy"</span><span class="token punctuation">)</span>
a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"abc"</span><span class="token punctuation">,</span><span class="token string">"bcd"</span><span class="token punctuation">,</span><span class="token string">"cde"</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>   <span class="token comment">#创建了一个对象并用变量a引用它</span>
b <span class="token operator">=</span> copy<span class="token punctuation">.</span>copy<span class="token punctuation">(</span>a<span class="token punctuation">)</span>                <span class="token comment">#将a引用的对象浅拷贝给b</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"a="</span><span class="token punctuation">,</span>a<span class="token punctuation">,</span><span class="token string">"b="</span><span class="token punctuation">,</span>b<span class="token punctuation">)</span>    <span class="token comment">#输出a,b列表中的内容</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"a:"</span><span class="token punctuation">,</span><span class="token builtin">type</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token builtin">id</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">"b:"</span><span class="token punctuation">,</span><span class="token builtin">type</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token builtin">id</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">#输出a,b的类型和地址</span>
b<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span>        <span class="token comment">#通过引用b将列表第一个元素赋值为0</span>
a<span class="token punctuation">.</span>remove<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>     <span class="token comment">#通过引用a将列表中第一个值为3的元素删除</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"修改后："</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"a="</span><span class="token punctuation">,</span>a<span class="token punctuation">,</span><span class="token string">"b="</span><span class="token punctuation">,</span>b<span class="token punctuation">)</span>    <span class="token comment">#输出a,b列表中的内容</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"a:"</span><span class="token punctuation">,</span><span class="token builtin">type</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token builtin">id</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">"b:"</span><span class="token punctuation">,</span><span class="token builtin">type</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token builtin">id</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">#输出a,b的类型和地址</span>
a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"a"</span><span class="token punctuation">,</span><span class="token string">"new"</span><span class="token punctuation">,</span><span class="token string">"list"</span><span class="token punctuation">]</span>  <span class="token comment">#创建一个新的对象赋值给a，即让变量a成为新列表对象的引用</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"a="</span><span class="token punctuation">,</span>a<span class="token punctuation">,</span><span class="token string">"b="</span><span class="token punctuation">,</span>b<span class="token punctuation">)</span>    <span class="token comment">#输出a,b列表中的内容</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"a:"</span><span class="token punctuation">,</span><span class="token builtin">type</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token builtin">id</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">"b:"</span><span class="token punctuation">,</span><span class="token builtin">type</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token builtin">id</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">#输出a,b的类型和地址</span>
</code></pre> 
<p>运行结果为：</p> 
<pre><code class="prism language-bashshell">a= ['abc', 'bcd', 'cde', 1, 2, 3] b= ['abc', 'bcd', 'cde', 1, 2, 3]
a: &lt;class 'list'&gt; 2370431356672 b: &lt;class 'list'&gt; 2370431370624
修改后：
a= ['abc', 'bcd', 'cde', 1, 2] b= [0, 'bcd', 'cde', 1, 2, 3]
a: &lt;class 'list'&gt; 2370431356672 b: &lt;class 'list'&gt; 2370431370624
a= ['a', 'new', 'list'] b= [0, 'bcd', 'cde', 1, 2, 3]
a: &lt;class 'list'&gt; 2370431369344 b: &lt;class 'list'&gt; 2370431370624
</code></pre> 
<p>从结果可以看出，在复制（浅拷贝）之后，<code>a</code>和<code>b</code>虽然他们的内容是一样的，但是分别引用的两个不同的对象，各自的操作也互不影响。</p> 
<h3><a id="_107"></a>有嵌套的情况</h3> 
<p>相对于无嵌套的情况，有嵌套的情况指的就是<mark>对象中还包含有其他对象，例如，一个列表中，其中的元素也有列表；或者一个类的对象中还包含有别的对象，例如上面以自定义类为例的代码中，AClass类的对象中，其成员属性alist也是一个对象</mark><br> 在这种情况下，浅拷贝会出现什么情况呢？通过下面的代码示例就很容易理解了。</p> 
<h4><a id="_110"></a>以列表为例</h4> 
<pre><code class="prism language-python"><span class="token comment"># 创建一个列表，列表中第2个和最后一个元素分别是一个字符串列表和整数列表</span>
a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"abc"</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">"aa"</span><span class="token punctuation">,</span><span class="token string">"bb"</span><span class="token punctuation">,</span><span class="token string">"cc"</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">"cde"</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span>  
b <span class="token operator">=</span> copy<span class="token punctuation">.</span>copy<span class="token punctuation">(</span>a<span class="token punctuation">)</span>        <span class="token comment">#将a引用的对象浅拷贝给b</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"a="</span><span class="token punctuation">,</span>a<span class="token punctuation">,</span><span class="token string">"b="</span><span class="token punctuation">,</span>b<span class="token punctuation">)</span>    <span class="token comment">#输出a,b列表中的内容</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"a:"</span><span class="token punctuation">,</span><span class="token builtin">type</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token builtin">id</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">"b:"</span><span class="token punctuation">,</span><span class="token builtin">type</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token builtin">id</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">#输出a,b的类型和地址</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"id of a[0]:"</span><span class="token punctuation">,</span><span class="token builtin">id</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">"id of a[1]:"</span><span class="token punctuation">,</span><span class="token builtin">id</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"id of b[0]:"</span><span class="token punctuation">,</span><span class="token builtin">id</span><span class="token punctuation">(</span>b<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">"id of b[1]:"</span><span class="token punctuation">,</span><span class="token builtin">id</span><span class="token punctuation">(</span>b<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
b<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span>     <span class="token comment">#通过引用b将列表第一个元素(字符串"abc")修改为0</span>
a<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>     <span class="token comment">#通过引用a将列表中索引为3的元素（即[1,2,3]整数列表）删除</span>
b<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"new"</span> <span class="token comment">#通过引用b将列表第二个元素所代表的字符串列表的第一个字符串"aa"修改为"new"</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"修改后："</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"a="</span><span class="token punctuation">,</span>a<span class="token punctuation">,</span><span class="token string">"b="</span><span class="token punctuation">,</span>b<span class="token punctuation">)</span>    <span class="token comment">#输出a,b列表中的内容</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"a:"</span><span class="token punctuation">,</span><span class="token builtin">type</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token builtin">id</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">"b:"</span><span class="token punctuation">,</span><span class="token builtin">type</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token builtin">id</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">#输出a,b的类型和地址</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"id of a[0]:"</span><span class="token punctuation">,</span><span class="token builtin">id</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">"id of a[1]:"</span><span class="token punctuation">,</span><span class="token builtin">id</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"id of b[0]:"</span><span class="token punctuation">,</span><span class="token builtin">id</span><span class="token punctuation">(</span>b<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">"id of b[1]:"</span><span class="token punctuation">,</span><span class="token builtin">id</span><span class="token punctuation">(</span>b<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p>运行结果为：</p> 
<pre><code class="prism language-bashshell">a= ['abc', ['aa', 'bb', 'cc'], 'cde', [1, 2, 3]] b= ['abc', ['aa', 'bb', 'cc'], 'cde', [1, 2, 3]]
a: &lt;class 'list'&gt; 1928029320000 b: &lt;class 'list'&gt; 1928028905664
id of a[0]: 1927980678448 id of a[1]: 1928029321024
id of b[0]: 1927980678448 id of b[1]: 1928029321024
修改后：
a= ['abc', ['new', 'bb', 'cc'], 'cde'] b= [0, ['new', 'bb', 'cc'], 'cde', [1, 2, 3]]
a: &lt;class 'list'&gt; 1928029320000 b: &lt;class 'list'&gt; 1928028905664
id of a[0]: 1927980678448 id of a[1]: 1928029321024
id of b[0]: 140728955460320 id of b[1]: 1928029321024
</code></pre> 
<p>从结果可以看出，在浅拷贝后，<code>a</code>和<code>b</code>的id是不一样的，意味着他们分别引用的是两个对象。通过后面的操作也可以看出，将<code>a</code>引用的对象最后一个元素删除，将<code>b</code>引用的对象的第一个元素修改为0，这两个操作互不影响。但同时也可以发现，<code>a[0]</code>和<code>b[0]</code>，<code>a[1]</code>和<code>b[1]</code>的id是一样的，这意味着<code>a[1]</code>和<code>b[1]</code>（注意这俩是子列表对象，而不是字符串或整数）引用的是同一个列表对象。所以：<br> 1）当执行<code>b[0]=0</code>时，实际上是创建了一个新的值为0的Int对象（这就是所谓的“python中一切皆为对象”）并将其地址赋值给b[0]，所以在这之后，我们发现<code>b[0]</code>的id已经发生了变化，跟<code>a[0]</code>的id不再一样了。<br> 2）当执行<code>b[1][0]="new"</code>时，将<code>b[1]</code>所指向的子列表对象的第一个元素修改为"new"（即创建新对象并将地址赋值给<code>b[1][0]</code>即<code>b[1]</code>的第一个元素），而由于<code>b[1]</code>和<code>a[1]</code>是共同指向或引用地址为<code>1928029321024</code>的列表对象，所以<code>a</code>和<code>b</code>中的第二个元素（字符串子列表）共同发生了变化。</p> 
<h4><a id="_143"></a>以自定义类为例</h4> 
<p>跟前面完全相同的类定义：</p> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">AClass</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>alist <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">"ab"</span><span class="token punctuation">,</span><span class="token string">"cd"</span><span class="token punctuation">]</span>
        self<span class="token punctuation">.</span>aString <span class="token operator">=</span> <span class="token string">"abcdef"</span>
</code></pre> 
<p>执行的示例代码基本与上述以自定义类为例的示例代码相同，仅修改两处（见注释）：</p> 
<pre><code class="prism language-python">a <span class="token operator">=</span> AClass<span class="token punctuation">(</span><span class="token punctuation">)</span>
b <span class="token operator">=</span> copy<span class="token punctuation">.</span>copy<span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token comment">#修改等号赋值为浅拷贝</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"a:"</span><span class="token punctuation">,</span>a<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"a.alist:"</span><span class="token punctuation">,</span>a<span class="token punctuation">.</span>alist<span class="token punctuation">,</span><span class="token builtin">id</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>alist<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"a.aString:"</span><span class="token punctuation">,</span>a<span class="token punctuation">.</span>aString<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"b:"</span><span class="token punctuation">,</span>b<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"b.alist:"</span><span class="token punctuation">,</span>b<span class="token punctuation">.</span>alist<span class="token punctuation">,</span><span class="token builtin">id</span><span class="token punctuation">(</span>b<span class="token punctuation">.</span>alist<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"b.aString:"</span><span class="token punctuation">,</span>b<span class="token punctuation">.</span>aString<span class="token punctuation">)</span>
b<span class="token punctuation">.</span>aString <span class="token operator">=</span> <span class="token number">0</span>
b<span class="token punctuation">.</span>alist<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"a new"</span><span class="token comment">#仅修改alist属性的第一个元素</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"修改后："</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"a:"</span><span class="token punctuation">,</span>a<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"a.alist:"</span><span class="token punctuation">,</span>a<span class="token punctuation">.</span>alist<span class="token punctuation">,</span><span class="token builtin">id</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>alist<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"a.aString:"</span><span class="token punctuation">,</span>a<span class="token punctuation">.</span>aString<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"b:"</span><span class="token punctuation">,</span>b<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"b.alist:"</span><span class="token punctuation">,</span>b<span class="token punctuation">.</span>alist<span class="token punctuation">,</span><span class="token builtin">id</span><span class="token punctuation">(</span>b<span class="token punctuation">.</span>alist<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"b.aString:"</span><span class="token punctuation">,</span>b<span class="token punctuation">.</span>aString<span class="token punctuation">)</span>
</code></pre> 
<p>运行结果为：</p> 
<pre><code class="prism language-bashshell">a: &lt;__main__.AClass object at 0x000001C0E77AC520&gt;
a.alist: [1, 2, 3, 'ab', 'cd'] 1928028953216
a.aString: abcdef
b: &lt;__main__.AClass object at 0x000001C0E77AC4C0&gt;
b.alist: [1, 2, 3, 'ab', 'cd'] 1928028953216
b.aString: abcdef
修改后：
a: &lt;__main__.AClass object at 0x000001C0E77AC520&gt;
a.alist: ['a new', 2, 3, 'ab', 'cd'] 1928028953216
a.aString: abcdef
b: &lt;__main__.AClass object at 0x000001C0E77AC4C0&gt;
b.alist: ['a new', 2, 3, 'ab', 'cd'] 1928028953216
b.aString: 0
</code></pre> 
<p>可以看到，运用浅拷贝复制后，<code>b</code>和<code>a</code>内容一样，但是id是不一样的，而<code>a.alist</code>和<code>b.alist</code>指向的列表id是一样的，所以在后面的修改中对<code>b.alist[0]</code>的修改，对<code>a</code>和<code>b</code>同时生效了，<code>b.aString=0</code>则是创建了值为0的新对象赋值给了<code>b.aString</code>，就只对<code>b</code>生效了。</p> 
<h2><a id="deepcopy_189"></a>深拷贝（deepcopy()函数的使用）</h2> 
<p>如果想完全复制一个全新的对象及其所有的子对象，则需要用深拷贝函数<code>deepcopy()</code>来完成，跟<code>copy()</code>函数一样，都来自<code>copy</code>库，导入和使用示例为：</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> copy
a <span class="token operator">=</span> copy<span class="token punctuation">.</span>deepcopy<span class="token punctuation">(</span>b<span class="token punctuation">)</span>
</code></pre> 
<p>沿用上面有嵌套的列表示例和自定义类示例，仅修改<code>copy()</code>函数为<code>deepcopy()</code>函数，代码如下：</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> copy

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"以列表为例："</span><span class="token punctuation">)</span>
a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"abc"</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">"aa"</span><span class="token punctuation">,</span><span class="token string">"bb"</span><span class="token punctuation">,</span><span class="token string">"cc"</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">"cde"</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span>  
b <span class="token operator">=</span> copy<span class="token punctuation">.</span>deepcopy<span class="token punctuation">(</span>a<span class="token punctuation">)</span>                <span class="token comment">#将a引用的对象浅拷贝给b</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"a="</span><span class="token punctuation">,</span>a<span class="token punctuation">,</span><span class="token string">"b="</span><span class="token punctuation">,</span>b<span class="token punctuation">)</span>    <span class="token comment">#输出a,b列表中的内容</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"a:"</span><span class="token punctuation">,</span><span class="token builtin">type</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token builtin">id</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">"b:"</span><span class="token punctuation">,</span><span class="token builtin">type</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token builtin">id</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">#输出a,b的类型和地址</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"id of a[0]:"</span><span class="token punctuation">,</span><span class="token builtin">id</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">"id of a[1]:"</span><span class="token punctuation">,</span><span class="token builtin">id</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"id of b[0]:"</span><span class="token punctuation">,</span><span class="token builtin">id</span><span class="token punctuation">(</span>b<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">"id of b[1]:"</span><span class="token punctuation">,</span><span class="token builtin">id</span><span class="token punctuation">(</span>b<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
b<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span>     <span class="token comment">#通过引用b将列表第一个元素(字符串"abc")修改为0</span>
a<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>     <span class="token comment">#通过引用a将列表中索引为3的元素（即[1,2,3]整数列表）删除</span>
b<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"new"</span> <span class="token comment">#通过引用b将列表第二个元素所代表的字符串列表的第一个字符串"aa"修改为"new"</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"修改后："</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"a="</span><span class="token punctuation">,</span>a<span class="token punctuation">,</span><span class="token string">"b="</span><span class="token punctuation">,</span>b<span class="token punctuation">)</span>    <span class="token comment">#输出a,b列表中的内容</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"a:"</span><span class="token punctuation">,</span><span class="token builtin">type</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token builtin">id</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">"b:"</span><span class="token punctuation">,</span><span class="token builtin">type</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token builtin">id</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">#输出a,b的类型和地址</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"id of a[0]:"</span><span class="token punctuation">,</span><span class="token builtin">id</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">"id of a[1]:"</span><span class="token punctuation">,</span><span class="token builtin">id</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"id of b[0]:"</span><span class="token punctuation">,</span><span class="token builtin">id</span><span class="token punctuation">(</span>b<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">"id of b[1]:"</span><span class="token punctuation">,</span><span class="token builtin">id</span><span class="token punctuation">(</span>b<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"以自定义类为例："</span><span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">AClass</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>alist <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">"ab"</span><span class="token punctuation">,</span><span class="token string">"cd"</span><span class="token punctuation">]</span>
        self<span class="token punctuation">.</span>aString <span class="token operator">=</span> <span class="token string">"abcdef"</span>
        
a <span class="token operator">=</span> AClass<span class="token punctuation">(</span><span class="token punctuation">)</span>
b <span class="token operator">=</span> copy<span class="token punctuation">.</span>deepcopy<span class="token punctuation">(</span>a<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"a:"</span><span class="token punctuation">,</span>a<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"a.alist:"</span><span class="token punctuation">,</span>a<span class="token punctuation">.</span>alist<span class="token punctuation">,</span><span class="token builtin">id</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>alist<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"a.aString:"</span><span class="token punctuation">,</span>a<span class="token punctuation">.</span>aString<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"b:"</span><span class="token punctuation">,</span>b<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"b.alist:"</span><span class="token punctuation">,</span>b<span class="token punctuation">.</span>alist<span class="token punctuation">,</span><span class="token builtin">id</span><span class="token punctuation">(</span>b<span class="token punctuation">.</span>alist<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"b.aString:"</span><span class="token punctuation">,</span>b<span class="token punctuation">.</span>aString<span class="token punctuation">)</span>
b<span class="token punctuation">.</span>aString <span class="token operator">=</span> <span class="token number">0</span>
b<span class="token punctuation">.</span>alist<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"a new"</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"修改后："</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"a:"</span><span class="token punctuation">,</span>a<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"a.alist:"</span><span class="token punctuation">,</span>a<span class="token punctuation">.</span>alist<span class="token punctuation">,</span><span class="token builtin">id</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>alist<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"a.aString:"</span><span class="token punctuation">,</span>a<span class="token punctuation">.</span>aString<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"b:"</span><span class="token punctuation">,</span>b<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"b.alist:"</span><span class="token punctuation">,</span>b<span class="token punctuation">.</span>alist<span class="token punctuation">,</span><span class="token builtin">id</span><span class="token punctuation">(</span>b<span class="token punctuation">.</span>alist<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"b.aString:"</span><span class="token punctuation">,</span>b<span class="token punctuation">.</span>aString<span class="token punctuation">)</span>
</code></pre> 
<p>运行结果如下：</p> 
<pre><code class="prism language-bashshell">以列表为例：
a= ['abc', ['aa', 'bb', 'cc'], 'cde', [1, 2, 3]] b= ['abc', ['aa', 'bb', 'cc'], 'cde', [1, 2, 3]]
a: &lt;class 'list'&gt; 2194904591232 b: &lt;class 'list'&gt; 2194905204032
id of a[0]: 2194856443120 id of a[1]: 2194904652928
id of b[0]: 2194856443120 id of b[1]: 2194904632960
修改后：
a= ['abc', ['aa', 'bb', 'cc'], 'cde'] b= [0, ['new', 'bb', 'cc'], 'cde', [1, 2, 3]]
a: &lt;class 'list'&gt; 2194904591232 b: &lt;class 'list'&gt; 2194905204032
id of a[0]: 2194856443120 id of a[1]: 2194904652928
id of b[0]: 140728955460320 id of b[1]: 2194904632960
以自定义类为例：
a: &lt;__main__.AClass object at 0x000001FF0A82D580&gt;
a.alist: [1, 2, 3, 'ab', 'cd'] 2194904589504
a.aString: abcdef
b: &lt;__main__.AClass object at 0x000001FF0A82D670&gt;
b.alist: [1, 2, 3, 'ab', 'cd'] 2194904591232
b.aString: abcdef
修改后：
a: &lt;__main__.AClass object at 0x000001FF0A82D580&gt;
a.alist: [1, 2, 3, 'ab', 'cd'] 2194904589504
a.aString: abcdef
b: &lt;__main__.AClass object at 0x000001FF0A82D670&gt;
b.alist: ['a new', 2, 3, 'ab', 'cd'] 2194904591232
b.aString: 0
</code></pre> 
<p>结果就不做过多解释了，一句话，深拷贝后得到的对象，跟之前的对象内容完全一样，但是完全没有任何关联，任何更改都不影响原来的对象。当然，这种做法简单粗暴，如果对象占用资源较多，深拷贝会增加资源的消耗，资深人员可以根据需要灵活使用深拷贝浅拷贝。</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/4e88bf952d56e512d23ff0044492a120/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">附和导线平差程序（by C#）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/fd06e96e238ed2011bc1bc80f0cbe79f/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">华为OD机试-服务失效判断</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>