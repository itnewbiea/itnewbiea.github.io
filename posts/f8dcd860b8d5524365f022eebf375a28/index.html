<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>[1254]Java常用jar命令 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="[1254]Java常用jar命令" />
<meta property="og:description" content="文章目录 java打jar包命令使用命令行方式：使用Ant构建工具：使用Maven构建工具： jar常用指令将class文件打包成jar包解压jar包查看jar包内的文件清单新增或更新jar包内的文件执行jar java打jar包命令 在Java中，可以使用以下命令将代码打包为jar包：
使用命令行方式： 使用javac命令编译源代码文件为class文件：javac MyClass.java
使用jar命令创建jar包：jar cf myJar.jar MyClass.class
这将编译MyClass.java文件并将生成的class文件打包到名为myJar.jar的jar包中。
使用Ant构建工具： 在Ant构建脚本中，可以使用任务来打包代码为jar包。例如：
&lt;project name=&#34;MyProject&#34; default=&#34;build&#34;&gt; &lt;target name=&#34;build&#34;&gt; &lt;javac srcdir=&#34;src&#34; destdir=&#34;bin&#34;/&gt; &lt;jar destfile=&#34;myJar.jar&#34; basedir=&#34;bin&#34;/&gt; &lt;/target&gt; &lt;/project&gt; 这将编译src文件夹中的源代码，并将生成的class文件打包到名为myJar.jar的jar包中。
使用Maven构建工具： 在Maven项目的pom.xml文件中，可以使用maven-jar-plugin插件来打包代码为jar包。例如：
&lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt; &lt;version&gt;3.2.0&lt;/version&gt; &lt;configuration&gt; &lt;source&gt;1.8&lt;/source&gt; &lt;target&gt;1.8&lt;/target&gt; &lt;/configuration&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt; 这将使用Maven的默认目录结构，编译源代码并将生成的class文件打包到target目录中的jar包中。
请注意，以上提供的代码示例只是其中一种实现方法，在确保执行正确的前提下，可以根据具体情况选择适合的方法。
jar常用指令 jar命令参数：
jar命令格式：jar {c t x u f }[ v m e 0 M i ][-C 目录]文件名... 其中{ctxu}这四个参数必须选选其一。[v f m e 0 M i ]是可选参数，文件名也是必须的。 -c 创建一个jar包 -t 显示jar中的内容列表 -x 解压jar包 -u 添加文件到jar包中 -f 指定jar包的文件名 -v 生成详细的报造，并输出至标准设备 -m 指定manifest." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/f8dcd860b8d5524365f022eebf375a28/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-12-30T22:03:26+08:00" />
<meta property="article:modified_time" content="2023-12-30T22:03:26+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">[1254]Java常用jar命令</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atelier-sulphurpool-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><ul><li><a href="#javajar_2" rel="nofollow">java打jar包命令</a></li><li><ul><li><a href="#_6" rel="nofollow">使用命令行方式：</a></li><li><a href="#Ant_14" rel="nofollow">使用Ant构建工具：</a></li><li><a href="#Maven_27" rel="nofollow">使用Maven构建工具：</a></li></ul> 
   </li><li><a href="#jar_49" rel="nofollow">jar常用指令</a></li><li><ul><li><a href="#classjar_67" rel="nofollow">将class文件打包成jar包</a></li><li><a href="#jar_85" rel="nofollow">解压jar包</a></li><li><a href="#jar_90" rel="nofollow">查看jar包内的文件清单</a></li><li><a href="#jar_95" rel="nofollow">新增或更新jar包内的文件</a></li><li><a href="#jar_110" rel="nofollow">执行jar</a></li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h3><a id="javajar_2"></a>java打jar包命令</h3> 
<p>在Java中，可以使用以下命令将代码打包为jar包：</p> 
<h4><a id="_6"></a>使用命令行方式：</h4> 
<p>使用javac命令编译源代码文件为class文件：<code>javac MyClass.java</code></p> 
<p>使用jar命令创建jar包：<code>jar cf myJar.jar MyClass.class</code></p> 
<p>这将编译MyClass.java文件并将生成的class文件打包到名为myJar.jar的jar包中。</p> 
<h4><a id="Ant_14"></a>使用Ant构建工具：</h4> 
<p>在Ant构建脚本中，可以使用任务来打包代码为jar包。例如：</p> 
<pre><code>&lt;project name="MyProject" default="build"&gt;
  &lt;target name="build"&gt;
    &lt;javac srcdir="src" destdir="bin"/&gt;
    &lt;jar destfile="myJar.jar" basedir="bin"/&gt;
  &lt;/target&gt;
&lt;/project&gt;
</code></pre> 
<p>这将编译src文件夹中的源代码，并将生成的class文件打包到名为myJar.jar的jar包中。</p> 
<h4><a id="Maven_27"></a>使用Maven构建工具：</h4> 
<p>在Maven项目的pom.xml文件中，可以使用maven-jar-plugin插件来打包代码为jar包。例如：</p> 
<pre><code>&lt;build&gt;
  &lt;plugins&gt;
    &lt;plugin&gt;
      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
      &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;
      &lt;version&gt;3.2.0&lt;/version&gt;
      &lt;configuration&gt;
        &lt;source&gt;1.8&lt;/source&gt;
        &lt;target&gt;1.8&lt;/target&gt;
      &lt;/configuration&gt;
    &lt;/plugin&gt;
  &lt;/plugins&gt;
&lt;/build&gt;
</code></pre> 
<p>这将使用Maven的默认目录结构，编译源代码并将生成的class文件打包到target目录中的jar包中。</p> 
<p><strong>请注意，以上提供的代码示例只是其中一种实现方法，在确保执行正确的前提下，可以根据具体情况选择适合的方法。</strong></p> 
<h3><a id="jar_49"></a>jar常用指令</h3> 
<p>jar命令参数：</p> 
<pre><code>jar命令格式：jar {c t x u f }[ v m e 0 M i ][-C 目录]文件名...
其中{ctxu}这四个参数必须选选其一。[v f m e 0 M i ]是可选参数，文件名也是必须的。
-c  创建一个jar包
-t 显示jar中的内容列表
-x 解压jar包
-u 添加文件到jar包中
-f 指定jar包的文件名
-v  生成详细的报造，并输出至标准设备
-m 指定manifest.mf文件.(manifest.mf文件中可以对jar包及其中的内容作一些一设置)
-0 产生jar包时不对其中的内容进行压缩处理
-M 不产生所有文件的清单文件(Manifest.mf)。这个参数与忽略掉-m参数的设置
-i    为指定的jar文件创建索引文件
-C 表示转到相应的目录下执行jar命令,相当于cd到那个目录，然后不带-C执行jar命令
</code></pre> 
<h4><a id="classjar_67"></a>将class文件打包成jar包</h4> 
<pre><code>jar -cvf test.jar TestA.class TestB.class
</code></pre> 
<p>也可以用通配符</p> 
<pre><code>jar -cvf test.jar *.class
</code></pre> 
<p>或者，将整个文件夹打包进去</p> 
<pre><code>jar -cvf test.jar com/github/
</code></pre> 
<p>打包后的jar包会自动生成摘要文件：META-INF/MANIFEST.MF，内容如下</p> 
<pre><code>Manifest-Version: 1.0
Created-By: 1.8.0_162 (Oracle Corporation)
</code></pre> 
<h4><a id="jar_85"></a>解压jar包</h4> 
<pre><code>jar -xvf test.jar
</code></pre> 
<h4><a id="jar_90"></a>查看jar包内的文件清单</h4> 
<pre><code>jar -tvf test.jar
</code></pre> 
<h4><a id="jar_95"></a>新增或更新jar包内的文件</h4> 
<p>以下命令将会更新jar包内的TestA.class文件</p> 
<pre><code>jar -uvf test.jar TestA.class
</code></pre> 
<p>如果文件在jar中不存在，则添加进jar中，如下所示<br> 添加Main.class</p> 
<pre><code>jar -uvf test.jar Main.class
</code></pre> 
<p>查看jar中的文件列表</p> 
<pre><code>jar -tvf test.jar
</code></pre> 
<h4><a id="jar_110"></a>执行jar</h4> 
<p>以下的内容会介绍如何执行jar包，Main.class作为可执行的入口类，先给出Main.java的源码，如下所示<br> 以下两条命令都可以指定jar包的入口类，执行main方法</p> 
<pre><code>java -classpath test.jar Main
</code></pre> 
<p>-cp是-classpath的缩写形式，如果jar包还依赖了其他第三方jar包，列出来即可，如下所示</p> 
<pre><code>java -cp test.jar:lib/log4j.jar:lib/commons-io.jar Main
</code></pre> 
<p>指定jar默认入口<br> 可以把某个类作为jar包的默认执行入口，使用如下命令</p> 
<pre><code>jar -uvfe test.jar Main
</code></pre> 
<p>执行后，我们解压jar包，可以看到META-INF/MANIFEST.MF文件多出了一行</p> 
<pre><code>Manifest-Version: 1.0
Created-By: 1.8.0_162 (Oracle Corporation)
Main-Class: Main
</code></pre> 
<p>指定classpath目录环境启动</p> 
<pre><code>java -Xbootclasspath/p:/etc/config/ -jar test.jar
</code></pre> 
<p>通过这种方式，可以把配置文件放在/etc/config/目录中，java代码扫描classpath下的配置文件时，就会以-Xbootclasspath/p:指定的目录做为优先查找路径。这样可以把配置和jar分离。</p> 
<p>参考：https://blog.csdn.net/Artisan_w/article/details/132488830</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/17e2427ff7b958818842bc65404df420/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">[1253].class文件转换为.java文件</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b3f12354a8905c3c5b1a9c89776236ba/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">[1255]使用Uiautomotorviewer无法获取手机页面元素</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>