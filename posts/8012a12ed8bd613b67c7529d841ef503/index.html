<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Spring Boot项目制作Jar包和Jar包结构的分析 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Spring Boot项目制作Jar包和Jar包结构的分析" />
<meta property="og:description" content="1简介 在出差的过程中，在项目执行的初期，由于需要给客户提供一个可执行的程序，由于当时时间的缘故，采用了提供jar包的形式，因为jar包只要通过
java -jar ***.jar 就可以作为一个独立的程序，可以让其他的程序进行调用服务。现在简单的介绍这个jar包的制作过程和jar包中的结构。
2Jar包制作 可参考博客
Springboot项目（包含第三方jar包）打成jar包方法，
2.1项目结构和jar包制作过程 项目结构如下：
jar包制作过程 2.2pom.xml修改位置 2.2.1pom中待修改位置 修改位置如下图所示：
2.2.2项目发布形式修改为jar &lt;packaging&gt;jar&lt;/packaging&gt; 2.2.2编译时包含第三方lib 其中如果要制作jar，需要在&lt; plugins &gt;中添加maven插件maven-compiler-plugin，具体的代码如下：
&lt;plugin&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt; &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt; &lt;configuration&gt; &lt;source&gt;1.8&lt;/source&gt; &lt;target&gt;1.8&lt;/target&gt; &lt;skip&gt;true&lt;/skip&gt; &lt;encoding&gt;UTF-8&lt;/encoding&gt; &lt;compilerArguments&gt; &lt;extdirs&gt;${project.basedir}/src/main/resources/lib&lt;/extdirs&gt; &lt;/compilerArguments&gt; &lt;/configuration&gt; &lt;/plugin&gt; 否则在执行maven package时会提示编译时找不到导入的第三方包中相关类的.
2.2.3打包时打入BOOT-INF/lib &lt;!-- 主要配置：将引用的第三方 jar 包打进生成的 jar 文件的 BOOT-INF/lib 目录中 --&gt; &lt;resources&gt; &lt;resource&gt; &lt;directory&gt;src\main\resources\lib&lt;/directory&gt; &lt;targetPath&gt;BOOT-INF\lib&lt;/targetPath&gt; &lt;!-- &lt;includes&gt; &lt;include&gt;**/*.jar&lt;/include&gt; &lt;/includes&gt;--&gt; &lt;/resource&gt; &lt;resource&gt; &lt;directory&gt;src/main/resources&lt;/directory&gt; &lt;/resource&gt; &lt;/resources&gt; 这样在打包时首先执行clean，然后执行package即可完成jar包制作。
3 Jar包结构分析 3.1 jar包目录结构 把jar包使用好压解压之后可以看到jar包中的目录结构如下：
3.2 META-INF 在META-INF目录中有三个较为重要的文件，pom.xml和pom.properties和与maven同级的MANIFEST.MF,其中pom.xml即项目对应的pom.xml，" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/8012a12ed8bd613b67c7529d841ef503/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-03-31T12:15:36+08:00" />
<meta property="article:modified_time" content="2019-03-31T12:15:36+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Spring Boot项目制作Jar包和Jar包结构的分析</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night-eighties">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="1_0"></a>1简介</h2> 
<p>在出差的过程中，在项目执行的初期，由于需要给客户提供一个可执行的程序，由于当时时间的缘故，采用了提供jar包的形式，因为jar包只要通过</p> 
<pre><code class="prism language-java">java <span class="token operator">-</span>jar <span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token punctuation">.</span>jar
</code></pre> 
<p>就可以作为一个独立的程序，可以让其他的程序进行调用服务。现在简单的介绍这个jar包的制作过程和jar包中的结构。</p> 
<h2><a id="2Jar_8"></a>2Jar包制作</h2> 
<p>可参考博客<a href="https://blog.csdn.net/chao821/article/details/88651384"><br> Springboot项目（包含第三方jar包）打成jar包方法</a>，</p> 
<h3><a id="21jar_11"></a>2.1项目结构和jar包制作过程</h3> 
<ol><li>项目结构如下：<br> <img src="https://images2.imgbox.com/32/ff/wRnARWbM_o.png" alt="在这里插入图片描述"></li><li>jar包制作过程</li></ol> 
<p><img src="https://images2.imgbox.com/b4/7d/cgzyAZnh_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="22pomxml_18"></a>2.2pom.xml修改位置</h3> 
<h4><a id="221pom_19"></a>2.2.1pom中待修改位置</h4> 
<p>修改位置如下图所示：<br> <img src="https://images2.imgbox.com/4d/20/eSRyx2tb_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="222jar_22"></a>2.2.2项目发布形式修改为jar</h4> 
<pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>packaging</span><span class="token punctuation">&gt;</span></span>jar<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>packaging</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<h4><a id="222lib_28"></a>2.2.2编译时包含第三方lib</h4> 
<p>其中如果要制作jar，需要在&lt; plugins &gt;中添加maven插件<em>maven-compiler-plugin</em>，具体的代码如下：</p> 
<pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.apache.maven.plugins<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>maven-compiler-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>${maven-compiler-plugin.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>source</span><span class="token punctuation">&gt;</span></span>1.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>source</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>target</span><span class="token punctuation">&gt;</span></span>1.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>target</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>skip</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>skip</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>encoding</span><span class="token punctuation">&gt;</span></span>UTF-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>encoding</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>compilerArguments</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>extdirs</span><span class="token punctuation">&gt;</span></span>${project.basedir}/src/main/resources/lib<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>extdirs</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>compilerArguments</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>

</code></pre> 
<p>否则在执行maven package时会<font color="red" size="4">提示编译时找不到导入的第三方包中相关类</font>的.</p> 
<h4><a id="223BOOTINFlib_49"></a>2.2.3打包时打入BOOT-INF/lib</h4> 
<pre><code class="prism language-xml"><span class="token comment">&lt;!-- 主要配置：将引用的第三方 jar 包打进生成的 jar 文件的 BOOT-INF/lib 目录中 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resources</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resource</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>directory</span><span class="token punctuation">&gt;</span></span>src\main\resources\lib<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>directory</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>targetPath</span><span class="token punctuation">&gt;</span></span>BOOT-INF\lib<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>targetPath</span><span class="token punctuation">&gt;</span></span>
      <span class="token comment">&lt;!--  &lt;includes&gt;
            &lt;include&gt;**/*.jar&lt;/include&gt;
        &lt;/includes&gt;--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resource</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resource</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>directory</span><span class="token punctuation">&gt;</span></span>src/main/resources<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>directory</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resource</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resources</span><span class="token punctuation">&gt;</span></span>

</code></pre> 
<p>这样在打包时首先执行clean，然后执行package即可完成jar包制作。<br> <img src="https://images2.imgbox.com/3f/b2/zzKm9jC8_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="3_Jar_69"></a>3 Jar包结构分析</h2> 
<h3><a id="31_jar_70"></a>3.1 jar包目录结构</h3> 
<p>把jar包使用好压解压之后可以看到jar包中的目录结构如下：<br> <img src="https://images2.imgbox.com/f8/2a/wCtSdbvb_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="32_METAINF_73"></a>3.2 META-INF</h3> 
<p>在META-INF目录中有三个较为重要的文件，pom.xml和pom.properties和与maven同级的MANIFEST.MF,其中pom.xml即项目对应的pom.xml，</p> 
<h4><a id="321_pomproperties_75"></a>3.2.1 pom.properties</h4> 
<pre><code class="prism language-json">#Created by Apache Maven <span class="token number">3.3</span><span class="token number">.9</span>
version<span class="token operator">=</span><span class="token number">0.0</span><span class="token number">.1</span><span class="token operator">-</span><span class="token constant">SNAPSHOT</span>
groupId<span class="token operator">=</span>com<span class="token punctuation">.</span>cetc52
artifactId<span class="token operator">=</span>platform

</code></pre> 
<p>对应了项目的三个坐标。</p> 
<h4><a id="322_MANIFESTMF_84"></a>3.2.2 MANIFEST.MF</h4> 
<pre><code class="prism language-php">Manifest<span class="token operator">-</span>Version<span class="token punctuation">:</span> <span class="token number">1.0</span>
Implementation<span class="token operator">-</span>Title<span class="token punctuation">:</span> platform
Implementation<span class="token operator">-</span>Version<span class="token punctuation">:</span> <span class="token number">0.0</span><span class="token number">.1</span><span class="token operator">-</span><span class="token constant">SNAPSHOT</span>
Built<span class="token operator">-</span>By<span class="token punctuation">:</span> lenovo
Implementation<span class="token operator">-</span>Vendor<span class="token operator">-</span>Id<span class="token punctuation">:</span> com<span class="token punctuation">.</span>cetc52
Spring<span class="token operator">-</span>Boot<span class="token operator">-</span>Version<span class="token punctuation">:</span> <span class="token number">2.0</span><span class="token number">.3</span><span class="token punctuation">.</span><span class="token constant">RELEASE</span>
Main<span class="token operator">-</span><span class="token keyword">Class</span><span class="token punctuation">:</span> org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>loader<span class="token punctuation">.</span>JarLauncher
Start<span class="token operator">-</span><span class="token keyword">Class</span><span class="token punctuation">:</span> com<span class="token punctuation">.</span>cetc52<span class="token punctuation">.</span>platform<span class="token punctuation">.</span>PlatformApplication
Spring<span class="token operator">-</span>Boot<span class="token operator">-</span>Classes<span class="token punctuation">:</span> <span class="token constant">BOOT</span><span class="token operator">-</span><span class="token constant">INF</span><span class="token operator">/</span>classes<span class="token operator">/</span>
Spring<span class="token operator">-</span>Boot<span class="token operator">-</span>Lib<span class="token punctuation">:</span> <span class="token constant">BOOT</span><span class="token operator">-</span><span class="token constant">INF</span><span class="token operator">/</span>lib<span class="token operator">/</span>
Created<span class="token operator">-</span>By<span class="token punctuation">:</span> Apache Maven <span class="token number">3.3</span><span class="token number">.9</span>
Build<span class="token operator">-</span>Jdk<span class="token punctuation">:</span> <span class="token number">1.8</span><span class="token number">.0</span><span class="token constant">_131</span>
Implementation<span class="token operator">-</span><span class="token constant">URL</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span><span class="token comment">//projects.spring.io/spring-boot/#/spring-bo</span>
 ot<span class="token operator">-</span>starter<span class="token operator">-</span><span class="token keyword">parent</span><span class="token operator">/</span>platform
</code></pre> 
<p>关于Main-Class和Start-Class参见<a href="https://blog.csdn.net/hengyunabc/article/details/50120001">spring boot应用启动原理分析</a></p> 
<h3><a id="33_BOOTINF_103"></a>3.3 BOOT-INF</h3> 
<p>在BOOT-INF中lib目录包含了Maven的jar依赖和第三方导入的jar依赖，这样才能顺利的运行该jar。classes目录则包含了全量的程序员编写的类对应的class文件。其中在BOOT-INF/classes目录中包含配置文件application.properties，该文件记录了项目的配置信息，如果是打成了war包，则可以直接修改该配置文件，重启tomcat即可修改相关的配置。</p> 
<h2><a id="4_106"></a>4总结</h2> 
<p>博客简要的说明了jar包制作的过程，并且简单阐述了jar包中各个目录中的内容和含义。通过把程序制作成jar包，也可以熟悉其他jar包中的结构和框架，对于加深java程序的理解是很有帮助的，实践是检验真理的唯一标准，动手制作个jar包就能理解许多不理解的东西了。加油。</p> 
<pre><code class="prism language-php">									<span class="token number">2019</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">3112</span>：<span class="token number">14</span>于南京理工大学四教<span class="token constant">A111</span>
</code></pre>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ed217ab25d28b0a5dbd3a3dc1bcd2a19/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">解决无法使用VI的问题</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/02187415bd4232dda8f568e3d7b1f851/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">List用一行代码添加元素</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>