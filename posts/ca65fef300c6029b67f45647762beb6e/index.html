<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Linux——把用户加入和移除用户组 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Linux——把用户加入和移除用户组" />
<meta property="og:description" content="1.linux是一个多用户/多任务的的操作系统
root用户：系统唯一，是真实的，可以登录系统，可以操作系统中任何文件和命令，拥有最高权限。
虚拟用户：假用户，无登录系统能力，但是系统运行不可缺少的用户。
普通真实用户：这类用户能登录系统，但只能操作自己家目录的内容；权限有限，系统管理员自行添加的
2.什么是用户(User) :
linux是多用户操作系统，所以可以在linux系统中建若干用户。专业事情，专属用户
3.什么是用户组(group)
具有相同特征的用户的集合体。
4.用户和用户组的对应关系
1对一：某个用户可以是某个组的成员
多对一：多个用户可以在同一个组
一对多：一个组内可以有多个成员
多对多：多个用户对应多个组。
5.实际用户和有效用户的区别：
Unix系统通过进程的有效用户ID和有效用户组ID来决定进程对资源的访问权限。
实际用户ID：标识当前用户是谁，当用户登录时取自口令文件。即标识我是谁，也就是登录用户的UID和GID。
6.sudo命令的日志：cat /var/log/auth.log
7.sudo -l 列出用户的权限 8.管理用户的命令：
adduser：添加用户。会自动为创建的用户指定主目录，系统shell版本会在创建时输入密码（推荐）
useradd：添加用户。需要使用参数指定一些基本设置，如果不使用任何参数，则创建的用户无密码/无主目录/没有指定shell版本。需要单独设置用户密码/指定家目录/指定shell等。
usermod:修改已经存在用户的信息
userdel username:删除用户
passwd username:为用户设置密码
chage -l username:更改用户密码过期信息
chfn:改变用户备注信息
chsh:更改登录shell
finger:查看用户信息工具
id:查看用户的UID/GID及所归属的用户组
chfn:更改用户信息工具
更改用户账户名：usermod -l newname oldname
锁定用户： usermod -L 要锁定的用户
解锁用户：usremod -G 要解锁的用户
9.修改用户 加入单个组和多个组
usermod 参数 -G和-g的区别：
将test用户的登录目录改成/home/test,并加入test2组，这里是大G
命令：usermod -d /home/test -G test2 test
使用usermod -G 添加多个组要用“，”隔开
命令:usermod -G groupA,groupB,groupC user
把用户加入某个组织，但不退出当前组，同时属于多个组" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/ca65fef300c6029b67f45647762beb6e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-10-07T15:46:02+08:00" />
<meta property="article:modified_time" content="2022-10-07T15:46:02+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Linux——把用户加入和移除用户组</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>1.linux是一个多用户/多任务的的操作系统</p> 
<p>root用户：系统唯一，是真实的，可以登录系统，可以操作系统中任何文件和命令，拥有最高权限。</p> 
<p>虚拟用户：假用户，无登录系统能力，但是系统运行不可缺少的用户。</p> 
<p>普通真实用户：这类用户能登录系统，但只能操作自己家目录的内容；权限有限，系统管理员自行添加的</p> 
<p><br> 2.什么是用户(User) :<br> linux是多用户操作系统，所以可以在linux系统中建若干用户。专业事情，专属用户</p> 
<p>3.什么是用户组(group)<br> 具有相同特征的用户的集合体。</p> 
<p>4.用户和用户组的对应关系<br> 1对一：某个用户可以是某个组的成员<br> 多对一：多个用户可以在同一个组<br> 一对多：一个组内可以有多个成员<br> 多对多：多个用户对应多个组。</p> 
<p>5.实际用户和有效用户的区别：<br> Unix系统通过进程的有效用户ID和有效用户组ID来决定进程对资源的访问权限。<br> 实际用户ID：标识当前用户是谁，当用户登录时取自口令文件。即标识我是谁，也就是登录用户的UID和GID。</p> 
<p>6.sudo命令的日志：cat /var/log/auth.log</p> 
<p>7.sudo -l 列出用户的权限 </p> 
<p><br> 8.管理用户的命令：<br> adduser：添加用户。会自动为创建的用户指定主目录，系统shell版本会在创建时输入密码（推荐）</p> 
<p>useradd：添加用户。需要使用参数指定一些基本设置，如果不使用任何参数，则创建的用户无密码/无主目录/没有指定shell版本。需要单独设置用户密码/指定家目录/指定shell等。</p> 
<p>usermod:修改已经存在用户的信息</p> 
<p>userdel username:删除用户</p> 
<p>passwd username:为用户设置密码</p> 
<p>chage -l username:更改用户密码过期信息</p> 
<p>chfn:改变用户备注信息</p> 
<p>chsh:更改登录shell</p> 
<p>finger:查看用户信息工具</p> 
<p>id:查看用户的UID/GID及所归属的用户组</p> 
<p>chfn:更改用户信息工具</p> 
<p>更改用户账户名：usermod -l newname oldname</p> 
<p><br> 锁定用户： usermod -L 要锁定的用户</p> 
<p>解锁用户：usremod -G 要解锁的用户</p> 
<p><br> 9.修改用户 加入单个组和多个组<br> usermod 参数 -G和-g的区别：<br> 将test用户的登录目录改成/home/test,并加入test2组，这里是大G<br> 命令：usermod -d /home/test -G test2 test</p> 
<p>使用usermod -G 添加多个组要用“，”隔开<br> 命令:usermod -G groupA,groupB,groupC user</p> 
<p>把用户加入某个组织，但不退出当前组，同时属于多个组<br> usermod -a -G groupname username</p> 
<p>gpasswd -a test test2 //将用户test加入到test2组<br> gpasswd -d test test2   //将用户从test2组中移出</p> 
<p>查看某用户所属组：groups username</p> 
<p><br> 10.删除用户userdel<br> 更多选项参看：man userdel 或者 userdel -h<br> 用法：userdel 用户名<br> 如：<br> userdel test //将test用户删除<br> userdel -r mytest //连同家目录删除<br> 在生产环境中，我们可以通过注视配置文件/etc/passwd，选择先注销而不删除用户，<br> 类似起到回收的作用，即使出了问题也能恢复。</p> 
<p>11.将文件夹赋给相应用户及所在组<br> 给oinstall组中的oracle相应的拥有者权限<br> chown -R oarcle:oinstall /data/encryption/<br> 然后指定相应的用户或组的相应权限<br> chmod -R 775 /data/encryption/</p> 
<p>12.查看用户<br> a)查看当前登录用户<br> w<br> who</p> 
<p>b)查看自己的用户名<br> whoami</p> 
<p>c)查看单个用户信息<br> finger username<br> id username</p> 
<p>d)查看用户登录记录<br> last //查看登录成功的用户记录<br> lastb //查看登录不成功的用户记录</p> 
<p>e)查看所有用户<br> cut -d : -f 1 /etc/passwd<br> cat /etc/passwd | awk -F \:'{print $1}'</p> 
<p>13.查看某个用户所属的组<br> groups username</p> 
<p>14.查看系统中所有的组<br> cat /etc/passwd<br> more /etc/passwd</p> 
<p>15.管理用户密码<br> 用户管理的一项重要内容是用户口令的管理。用户账号刚创建时没有口令，但是被系统锁定无法使用，必须为其指定口令后才可以使用，即使是指定空口令。</p> 
<p>指定和修改用户口令的shell命令是:passwd username.<br> 超级用户可以为自己和其他用户指定口令，普通用户只能用它修改自己的口令<br> 命令的格式为： passwd 选项 用户名</p> 
<p>passwd -h<br> 用法： passwd [options] [login]</p> 
<p>/etc/passwd //用户账号信息<br> /etc/shadow //用户账户的密码信息<br> /etc/pam.d/passwd //passwd的PAM配置</p> 
<p><br> 16.锁定/解锁账户密码<br> 在linux中，除了用户账户可被锁定外，账户密码也可以被锁定，任何一方被锁定后，都将无法登录系统。<br> 只有root用户才能执行该命令，锁定账户密码使用带-l参数的passwd命令。<br> 其用法：<br> passwd -l username<br> passwd -u username //解锁账户密码</p> 
<p>17.查询密码状态<br> 查询当前账户的密码是否被锁定<br> 用法：passwd -S username</p> 
<p>[root@localhost etc]# passwd -S lijunjie<br> lijunjie LK 2011-03-25 0 99999 7 -1 (密码已被锁定。)<br> [root@localhost etc]# passwd -u lijunjie      // 解锁用户 lijunjie 的密码 。</p> 
<p>[root@localhost etc]# passwd -S lijunjie<br> lijunjie PS 2011-03-25 0 99999 7 -1 (密码已设置，使用 SHA512 加密。)</p> 
<p><br> 18.删除账户密码<br> passwd -d username<br> 账户密码被删除后，将不能登录系统，除非重新设置密码</p> 
<p><br> 19.管理用户组（group)的工具或命令<br> groupadd:添加用户</p> 
<p>groupdel:删除用户组</p> 
<p>groupmod:修改用户组信息</p> 
<p>newgrp:切换到一个新组</p> 
<p>groups:显示用户所属的用户组</p> 
<p><br> gpasswd(管理组)<br> groupadd(添加组)<br> groupmod(修改组)<br> groupdel(删除组)</p> 
<p><br> 改变用户组的名称<br> groupmod -n 新组名  旧组名</p> 
<p>更改组GID<br> groupmod -g new_gid groupname</p> 
<p>将用户添加到指定组<br> gpasswd -a username groupname</p> 
<p>从用户组中移除某用户<br> gpasswd -d username groupname</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/58eb7a52b940359a191f97578179026e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Docker学习</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/ec6bb30163021edec298b00a69ec3ba7/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Vue特点&#43;Vue简单实例&#43;Vue模板语法&#43;Vue数据绑定&#43;data和el的2种写法</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>