<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>WPF 界面实现多语言支持 中英文切换 动态加载资源字典 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="WPF 界面实现多语言支持 中英文切换 动态加载资源字典" />
<meta property="og:description" content="1、使用资源字典，首先新建两个字典文件en-us.xaml、zh-cn.xaml。定义中英文的字符串在这里面【注意：添加xmlns:s=&#34;clr-namespace:System;assembly=mscorlib】
zh-cn.xam如下： &lt;ResourceDictionary xmlns=&#34;http://schemas.microsoft.com/winfx/2006/xaml/presentation&#34; xmlns:x=&#34;http://schemas.microsoft.com/winfx/2006/xaml&#34; xmlns:s=&#34;clr-namespace:System;assembly=mscorlib&#34; xmlns:local=&#34;clr-namespace:WpfApplication&#34;&gt; &lt;s:String x:Key=&#34;buttonNewTaskWindow&#34;&gt;新建任务&lt;/s:String&gt; &lt;s:String x:Key=&#34;buttonProperty&#34;&gt;任务属性&lt;/s:String&gt; &lt; /ResourceDictionary&gt; en-us.xaml如下：
&lt;ResourceDictionary xmlns=&#34;http://schemas.microsoft.com/winfx/2006/xaml/presentation&#34; xmlns:x=&#34;http://schemas.microsoft.com/winfx/2006/xaml&#34; xmlns:s=&#34;clr-namespace:System;assembly=mscorlib&#34; xmlns:local=&#34;clr-namespace:WpfApplication&#34;&gt; &lt;s:String x:Key=&#34;buttonNewTaskWindow&#34;&gt;New Task&lt;/s:String&gt; &lt;s:String x:Key=&#34;buttonProperty&#34;&gt;Task Property&lt;/s:String&gt; &lt;/ResourceDictionary&gt; 2、讲两个资源字典添加到App.xaml中，这里注意下，因为两个字典中有同样字符，如果没有动态更改，默认后添加的生效
App.xaml如下：
&lt;Application x:Class=&#34;WpfApplication.App&#34; xmlns=&#34;http://schemas.microsoft.com/winfx/2006/xaml/presentation&#34; xmlns:x=&#34;http://schemas.microsoft.com/winfx/2006/xaml&#34; StartupUri=&#34;MainWindow.xaml&#34;&gt; &lt;Application.Resources&gt; &lt;ResourceDictionary&gt; &lt;ResourceDictionary.MergedDictionaries&gt; &lt;ResourceDictionary Source=&#34;Resources\en-us.xaml&#34;/&gt; &lt;ResourceDictionary Source=&#34;Resources\zh-cn.xaml&#34;/&gt; &lt;/ResourceDictionary.MergedDictionaries&gt; &lt;/ResourceDictionary&gt; &lt;/Application.Resources&gt; &lt; /Application&gt; 3、在界面设计器中需要显示的位置添加动态资源
例如：
&lt;Button x:Name=&#34;buttonNewTaskWindow&#34; Content=&#34;{DynamicResource buttonNewTaskWindow}&#34;/&gt; &lt;Button x:Name=&#34;buttonProperty&#34; Content=&#34;{DynamicResource buttonProperty}&#34;/&gt; 4、动态切换，重新加载资源文件
代码如下：
List&lt;ResourceDictionary&gt; dictionaryList = new List&lt;ResourceDictionary&gt;(); foreach (ResourceDictionary dictionary in Application.Current.Resources.MergedDictionaries) { dictionaryList.Add(dictionary); } string requestedCulture = @&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/3f53aaab7a019dd5ed2102693efd5c3b/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-07-17T13:24:11+08:00" />
<meta property="article:modified_time" content="2020-07-17T13:24:11+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">WPF 界面实现多语言支持 中英文切换 动态加载资源字典</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>1、使用资源字典，首先新建两个字典文件en-us.xaml、zh-cn.xaml。定义中英文的字符串在这里面【注意：添加xmlns:s="clr-namespace:System;assembly=mscorlib】</p> 
<p>zh-cn.xam如下： </p> 
<pre><code>&lt;ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                     xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                     xmlns:s="clr-namespace:System;assembly=mscorlib"
                     xmlns:local="clr-namespace:WpfApplication"&gt;
     &lt;s:String x:Key="buttonNewTaskWindow"&gt;新建任务&lt;/s:String&gt;
     &lt;s:String x:Key="buttonProperty"&gt;任务属性&lt;/s:String&gt;
&lt; /ResourceDictionary&gt;</code></pre> 
<p>en-us.xaml如下：</p> 
<pre><code>&lt;ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                     xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                     xmlns:s="clr-namespace:System;assembly=mscorlib"
                     xmlns:local="clr-namespace:WpfApplication"&gt;
     &lt;s:String x:Key="buttonNewTaskWindow"&gt;New Task&lt;/s:String&gt;
     &lt;s:String x:Key="buttonProperty"&gt;Task Property&lt;/s:String&gt;

&lt;/ResourceDictionary&gt;</code></pre> 
<p>2、讲两个资源字典添加到App.xaml中，这里注意下，因为两个字典中有同样字符，如果没有动态更改，默认后添加的生效</p> 
<p>App.xaml如下：</p> 
<pre><code>&lt;Application x:Class="WpfApplication.App"
              xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
              xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
              StartupUri="MainWindow.xaml"&gt;
     &lt;Application.Resources&gt;
          
      &lt;ResourceDictionary&gt;
             &lt;ResourceDictionary.MergedDictionaries&gt;
                 &lt;ResourceDictionary Source="Resources\en-us.xaml"/&gt;
                 &lt;ResourceDictionary Source="Resources\zh-cn.xaml"/&gt;
             &lt;/ResourceDictionary.MergedDictionaries&gt;
      &lt;/ResourceDictionary&gt;
          
     &lt;/Application.Resources&gt;
&lt; /Application&gt;</code></pre> 
<p>3、在界面设计器中需要显示的位置添加动态资源</p> 
<p>例如：</p> 
<pre><code> &lt;Button x:Name="buttonNewTaskWindow" Content="{DynamicResource buttonNewTaskWindow}"/&gt;

&lt;Button x:Name="buttonProperty" Content="{DynamicResource buttonProperty}"/&gt;</code></pre> 
<p>4、动态切换，重新加载资源文件</p> 
<p>代码如下：</p> 
<pre><code>List&lt;ResourceDictionary&gt; dictionaryList = new List&lt;ResourceDictionary&gt;();
             foreach (ResourceDictionary dictionary in Application.Current.Resources.MergedDictionaries)
             {
                 dictionaryList.Add(dictionary);
             }
             string requestedCulture = @"Resources\en-us.xaml";
             ResourceDictionary resourceDictionary = dictionaryList.FirstOrDefault(d =&gt; d.Source.OriginalString.Equals(requestedCulture));
             Application.Current.Resources.MergedDictionaries.Remove(resourceDictionary);
             Application.Current.Resources.MergedDictionaries.Add(resourceDictionary);</code></pre> 
<p>5、执行以上代码，即可完成切换</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e8e74ae205b5c923feadce3c0d0af097/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">AMBARI2.7.3安装（ubuntu18&amp;centos）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b0350b072a99daac1f9b91d1eef8177f/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Java手机号码，身份证号码加密隐藏中间几位并且*显示（正则，密文显示）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>