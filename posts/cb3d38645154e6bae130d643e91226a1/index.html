<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>一文搞懂内联函数！ - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="一文搞懂内联函数！" />
<meta property="og:description" content="🎈 作者：Linux猿
🎈 简介：CSDN博客专家🏆，C/C&#43;&#43;、面试、刷题、算法尽管咨询我，关注我，有问题私聊！
🎈 关注专栏：C/C&#43;&#43;面试通关集锦 （优质好文持续更新中……）🚀
目录
一、什么是内联函数？
二、为什么要使用内联函数 ？
三、哪些函数不能是内联函数？
四、使用内联函数的缺点
五、总结
内联函数想必大家都很熟悉，适当的使用内联函数可以提高程序的执行效率。本篇文章就来讲解下内联函数，赶紧来看下吧！
一、什么是内联函数？ 内联函数是在 C&#43;&#43; 中增加的一个功能，可以提高程序执行效率。如果函数是内联的，编译器在编译时，会把内联函数的实现替换到每个调用内联函数的地方，可以与宏函数作类比，但宏函数不会进行类型检查。
可以将普通函数或者类的成员函数声明为内联。
内联函数一般要求如下：
1. 函数简短，通常3-5行；
2. 函数内没有复杂的实现，比如：包含while、for 循环，递归等；
3. 通常在多处有调用；
注意：函数声明为内联，仅仅是对编译器的建议，如果函数比较复杂，编译器会将其看做普通函数。
来看一个简单的例子，如下所示：
#include &lt;iostream&gt; using namespace std; inline int Add(int x, int y) { return x &#43; y; } int main() { cout&lt;&lt;&#34;5 &#43; 8 = &#34;&lt;&lt;Add(5, 8)&lt;&lt;endl; cout&lt;&lt;&#34;10 &#43; 20 = &#34;&lt;&lt;Add(10, 20)&lt;&lt;endl; return 0; } 输出结果为：
linuxy@linuxy:~/inlineFunction$ ./main 5 &#43; 8 = 13 10 &#43; 20 = 30 linuxy@linuxy:~/inlineFunction$ 在代码执行的时候是这样的：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/cb3d38645154e6bae130d643e91226a1/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-08-14T11:06:54+08:00" />
<meta property="article:modified_time" content="2021-08-14T11:06:54+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">一文搞懂内联函数！</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <hr> 
<p><strong>🎈 作者：</strong><a href="https://blog.csdn.net/nyist_zxp">Linux猿</a></p> 
<p><strong>🎈 简介：</strong>CSDN博客专家🏆，C/C++、面试、刷题、算法尽管咨询我，关注我，有问题私聊！</p> 
<p><strong>🎈 关注专栏：<a href="https://blog.csdn.net/nyist_zxp/category_11132937.html">C/C++面试通关集锦</a></strong> （优质好文持续更新中……）🚀</p> 
<hr> 
<p id="main-toc"><strong>目录</strong></p> 
<p id="%E4%B8%80%E3%80%81%E4%BB%80%E4%B9%88%E6%98%AF%E5%86%85%E6%95%9B%E5%87%BD%E6%95%B0%EF%BC%9F-toc" style="margin-left:40px;"><a href="#%E4%B8%80%E3%80%81%E4%BB%80%E4%B9%88%E6%98%AF%E5%86%85%E6%95%9B%E5%87%BD%E6%95%B0%EF%BC%9F" rel="nofollow">一、什么是内联函数？</a></p> 
<p id="%E4%BA%8C%E3%80%81%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E4%BD%BF%E7%94%A8%E5%86%85%E8%81%94%E5%87%BD%E6%95%B0%20%EF%BC%9F-toc" style="margin-left:40px;"><a href="#%E4%BA%8C%E3%80%81%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E4%BD%BF%E7%94%A8%E5%86%85%E8%81%94%E5%87%BD%E6%95%B0%20%EF%BC%9F" rel="nofollow">二、为什么要使用内联函数 ？</a></p> 
<p id="%E4%B8%89%E3%80%81%E5%93%AA%E4%BA%9B%E5%87%BD%E6%95%B0%E4%B8%8D%E8%83%BD%E6%98%AF%E5%86%85%E8%81%94%E5%87%BD%E6%95%B0%EF%BC%9F-toc" style="margin-left:40px;"><a href="#%E4%B8%89%E3%80%81%E5%93%AA%E4%BA%9B%E5%87%BD%E6%95%B0%E4%B8%8D%E8%83%BD%E6%98%AF%E5%86%85%E8%81%94%E5%87%BD%E6%95%B0%EF%BC%9F" rel="nofollow">三、哪些函数不能是内联函数？</a></p> 
<p id="%E5%9B%9B%E3%80%81%E4%BD%BF%E7%94%A8%E5%86%85%E8%81%94%E5%87%BD%E6%95%B0%E7%9A%84%E7%BC%BA%E7%82%B9-toc" style="margin-left:40px;"><a href="#%E5%9B%9B%E3%80%81%E4%BD%BF%E7%94%A8%E5%86%85%E8%81%94%E5%87%BD%E6%95%B0%E7%9A%84%E7%BC%BA%E7%82%B9" rel="nofollow">四、使用内联函数的缺点</a></p> 
<p id="%E4%BA%94%E3%80%81%E6%80%BB%E7%BB%93-toc" style="margin-left:40px;"><a href="#%E4%BA%94%E3%80%81%E6%80%BB%E7%BB%93" rel="nofollow">五、总结</a></p> 
<hr id="hr-toc"> 
<p>内联函数想必大家都很熟悉，适当的使用内联函数可以提高程序的执行效率。本篇文章就来讲解下内联函数，赶紧来看下吧！</p> 
<h3 id="%E4%B8%80%E3%80%81%E4%BB%80%E4%B9%88%E6%98%AF%E5%86%85%E6%95%9B%E5%87%BD%E6%95%B0%EF%BC%9F">一、什么是内联函数？</h3> 
<p>内联函数是在 C++ 中增加的一个功能，可以提高程序执行效率。如果函数是内联的，编译器在编译时，会把内联函数的实现替换到每个调用内联函数的地方，可以与宏函数作类比，但宏函数不会进行类型检查。</p> 
<p>可以将普通函数或者类的成员函数声明为内联。</p> 
<p><strong>内联函数一般要求如下：</strong></p> 
<p>1. 函数简短，通常3-5行；</p> 
<p>2. 函数内没有复杂的实现，比如：包含while、for 循环，递归等；</p> 
<p>3. 通常在多处有调用；</p> 
<p><strong>注意：</strong>函数声明为内联，仅仅是对编译器的建议，如果函数比较复杂，编译器会将其看做普通函数。</p> 
<p>来看一个简单的例子，如下所示：</p> 
<pre><code class="language-cpp">#include &lt;iostream&gt;

using namespace std;

inline int Add(int x, int y) {
   return x + y;
}

int main() {

    cout&lt;&lt;"5 + 8 = "&lt;&lt;Add(5, 8)&lt;&lt;endl;
    cout&lt;&lt;"10 + 20 = "&lt;&lt;Add(10, 20)&lt;&lt;endl;
    return 0;
}</code></pre> 
<p>输出结果为：</p> 
<pre><code class="language-cpp">linuxy@linuxy:~/inlineFunction$ ./main 
5 + 8 = 13
10 + 20 = 30
linuxy@linuxy:~/inlineFunction$</code></pre> 
<p>在代码执行的时候是这样的：</p> 
<pre><code class="language-cpp">int main() {

    cout&lt;&lt;"5 + 8 = "&lt;&lt;5 + 8&lt;&lt;endl;
    cout&lt;&lt;"10 + 20 = "&lt;&lt;10 + 20&lt;&lt;endl;
    return 0;
}</code></pre> 
<p>内联函数在调用处展开了。</p> 
<p>再来看一个类的内联函数，如下所示：</p> 
<pre><code class="language-cpp">#include &lt;iostream&gt;
using namespace std;

class Node {
public:
    int Add(int x, int y);
};

inline int Add(int x, int y) {
   return x + y;
}

int main() {

    return 0;
}</code></pre> 
<p><strong>注意：</strong>定义在类中的函数，默认情况下都是内联的，比如下面这种情况。</p> 
<pre><code class="language-cpp">#include &lt;iostream&gt;
using namespace std;

class Node {
public:
    int Add(int x, int y) {//默认是内联函数
        return x + y;
    }
};

int main() {

    return 0;
}</code></pre> 
<p>但是，如果函数很复杂，编译器会将其作为普通函数来处理。</p> 
<h3 id="%E4%BA%8C%E3%80%81%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E4%BD%BF%E7%94%A8%E5%86%85%E8%81%94%E5%87%BD%E6%95%B0%20%EF%BC%9F">二、为什么要使用内联函数 ？</h3> 
<p>引入内联函数主要是解决一些频繁调用的小函数消耗大量空间的问题。</p> 
<p>通常情况下，在调用函数时，程序会将控制权从调用程序处转移到被调用函数处，在这个过程中，传递参数、寄存器操作、返回值等会消耗额外的时间和内存，如果调用的函数代码量很少，也许转移到调用函数的时间比函数执行的时间更长。而如果使用内联函数，内联函数会在调用处将代码展开，从而节省了调用函数的开销。</p> 
<h3 id="%E4%B8%89%E3%80%81%E5%93%AA%E4%BA%9B%E5%87%BD%E6%95%B0%E4%B8%8D%E8%83%BD%E6%98%AF%E5%86%85%E8%81%94%E5%87%BD%E6%95%B0%EF%BC%9F">三、哪些函数不能是内联函数？</h3> 
<p>1. 递归调用本身的函数；</p> 
<p>2. 包含复杂语句的函数，例如：for、while、switch 等；</p> 
<p>3. 函数包含静态变量；</p> 
<h3 id="%E5%9B%9B%E3%80%81%E4%BD%BF%E7%94%A8%E5%86%85%E8%81%94%E5%87%BD%E6%95%B0%E7%9A%84%E7%BC%BA%E7%82%B9">四、使用内联函数的缺点</h3> 
<p>1. 如果使用很多内联函数，生成的二进制文件会变大；</p> 
<p>2. 编译的时间会增加，因为每次内联函数有修改，就需要重新编译代码。</p> 
<p>所以，并不是所有函数都要声明为内联函数，需要视具体情况而定。</p> 
<h3 id="%E4%BA%94%E3%80%81%E6%80%BB%E7%BB%93">五、总结</h3> 
<p>内联函数能够减少函数调用的开销，但是，应该在符合一定内联函数的情况下使用。</p> 
<p>⭐推荐阅读⭐</p> 
<p><a href="https://blog.csdn.net/nyist_zxp/article/details/119559201">❤️俄罗斯方块游戏❤️，重温经典（C++详解版）</a></p> 
<p><a href="https://blog.csdn.net/nyist_zxp/article/details/119478944">野指针？悬空指针？ 一文带你搞懂！</a></p> 
<p><a href="https://blog.csdn.net/nyist_zxp/article/details/119130803">【万字整理】❤️8大排序算法❤️【建议收藏】</a></p> 
<p><a href="https://blog.csdn.net/nyist_zxp/article/details/118650696">3分钟理解指针和引用的区别【❤️建议收藏❤️】</a></p> 
<hr> 
<p><strong>🎈 </strong>欢迎小伙伴们点赞👍、收藏⭐、留言💬</p> 
<hr> 
<p></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/a1e8cd44418132f953f525c134ab618f/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">什么是数据类型</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/0386b1baf940a33ede61075f54a877ea/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【目标检测算法】Fast R-CNN（详解）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>