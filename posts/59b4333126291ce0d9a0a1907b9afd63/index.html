<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Android四大组件之-Activity的创建与应用 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Android四大组件之-Activity的创建与应用" />
<meta property="og:description" content="文章目录 @[TOC](文章目录) 一、Activity的创建与生命周期1.Activity的创建2.Activity的生命周期 二、layout布局常用控件用法与详解1.线性布局2.相对布局a.根据父容器定位属性b.根据兄弟组件定位属性c.偏移属性（设置两个组件之间的边距）d.填充属性（设置组件内部元素之间的边距） 3.表格布局：主要用于数据表显示4.帧布局：用于前景显示，设置跳转页面也不会被覆盖的内容5.网格布局6.绝对布局7.普通控件文本框：输入框：按钮Button和ImageButton图像控件ImageView单选框复选框：每个CheckBox都要设置一个id开关按钮和图标进度条拖动条时间控件 三、apk全局参数的应用四、Activity数据持久化onCreate()方法带一个参数onCreate()方法带两个参数 五、Activity之间的数据传递传递一个数据传递多个数据传递：传递数组传递：传递集合多个Activity间的交互(后一个传回给前一个) 六、activity启动时根据横竖屏状态加载不同的布局六、隐式启动activity七、双击退出APP第一种方法：定义一个变量，来标识是否退出第二种方法：保存点击时间 八、Activity过场动画为单个Activity设置进入和退出的过场动画为所有Activity设置进入和退出的过场动画 九、设置Activity全屏的四种方法十、设置对话框风格Activity的两种方法十、onWindowFocusChanged方法的应用十一、Activity管理类的使用以及关闭所有acitivity和完全退出app的方法十二、设计堆栈的Activity管理类总结 一、Activity的创建与生命周期 1.Activity的创建 1.创建一个layout xml布局文件 2.创建一个java类继承Activity或者AppCompatActivity 3.重写onCreate()方法，在onCreate()方法中调用setContentView()方法设置要显示的layout文件 @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_main)； } 4.在AndroidManifest.xml文件中注册Activity &lt;activity android:name=&#34;.MainActivity2&#34;&gt;&lt;/activity&gt; 做完以上4步就已经完成了一个Activity的创建，Android Studio工具还提供了更快捷的方法，直接鼠标右键-new - Activity - 选择任意一种布局的activity - 重命名一下Activity Name和Layout Name点击Finish完成创建。
2.Activity的生命周期 1.启动activity时依次调用：onCreate，onStart，onResume
2.按back键时依次调用：onPause，onStop，onDestroy
3.按home键或者跳转到其他页面时依次调用：onPause，onStop
4.从其他页面按back键返回时依次调用：onRestart，onStart，onResume
5.横竖屏切换时依次调用： onPause ，onStop， onDestroy，onCreate， onStart，onResume
从activity1跳转到activity2时依次调用:
activity1的onPause
activity2的onCreate
activity2的onStart
activity2的onResume
activity1的onStop
从activity2按back键返回activity1时依次调用：
activity2的onPause
activity1的onRestart
activity1的onStart
activity1的onResume
activity2的onStop
activity2的onDestroy
可复制以下代码运行，自行查看log打印确认
MainActivity.java
public class MainActivity extends AppCompatActivity { TextView bt; @Override protected void onCreate(Bundle savedInstanceState) { super." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/59b4333126291ce0d9a0a1907b9afd63/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-09-05T16:20:56+08:00" />
<meta property="article:modified_time" content="2023-09-05T16:20:56+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Android四大组件之-Activity的创建与应用</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="TOC_0"></a> 
 <div class="toc"> 
  <h3>文章目录</h3> 
  <ul><li><ul><li><a href="#TOC_0" rel="nofollow">@[TOC](文章目录)</a></li></ul> 
   </li><li><a href="#Activity_2" rel="nofollow">一、Activity的创建与生命周期</a></li><li><ul><li><a href="#1Activity_3" rel="nofollow">1.Activity的创建</a></li><li><a href="#2Activity_16" rel="nofollow">2.Activity的生命周期</a></li></ul> 
   </li><li><a href="#layout_149" rel="nofollow">二、layout布局常用控件用法与详解</a></li><li><ul><li><a href="#1_152" rel="nofollow">1.线性布局</a></li><li><a href="#2_163" rel="nofollow">2.相对布局</a></li><li><ul><li><a href="#a_170" rel="nofollow">a.根据父容器定位属性</a></li><li><a href="#b_187" rel="nofollow">b.根据兄弟组件定位属性</a></li><li><a href="#c_210" rel="nofollow">c.偏移属性（设置两个组件之间的边距）</a></li><li><a href="#d_222" rel="nofollow">d.填充属性（设置组件内部元素之间的边距）</a></li></ul> 
    </li><li><a href="#3_268" rel="nofollow">3.表格布局：主要用于数据表显示</a></li><li><a href="#4_282" rel="nofollow">4.帧布局：用于前景显示，设置跳转页面也不会被覆盖的内容</a></li><li><a href="#5_288" rel="nofollow">5.网格布局</a></li><li><a href="#6_304" rel="nofollow">6.绝对布局</a></li><li><a href="#7_310" rel="nofollow">7.普通控件</a></li><li><ul><li><a href="#_311" rel="nofollow">文本框：</a></li><li><a href="#_337" rel="nofollow">输入框：</a></li><li><a href="#ButtonImageButton_383" rel="nofollow">按钮Button和ImageButton</a></li><li><a href="#ImageView_412" rel="nofollow">图像控件ImageView</a></li><li><a href="#_416" rel="nofollow">单选框</a></li><li><a href="#CheckBoxid_453" rel="nofollow">复选框：每个CheckBox都要设置一个id</a></li><li><a href="#_491" rel="nofollow">开关按钮和图标</a></li><li><a href="#_510" rel="nofollow">进度条</a></li><li><a href="#_522" rel="nofollow">拖动条</a></li><li><a href="#_552" rel="nofollow">时间控件</a></li></ul> 
   </li></ul> 
   </li><li><a href="#apk_564" rel="nofollow">三、apk全局参数的应用</a></li><li><a href="#Activity_605" rel="nofollow">四、Activity数据持久化</a></li><li><ul><li><a href="#onCreate_606" rel="nofollow">onCreate()方法带一个参数</a></li><li><a href="#onCreate_646" rel="nofollow">onCreate()方法带两个参数</a></li></ul> 
   </li><li><a href="#Activity_680" rel="nofollow">五、Activity之间的数据传递</a></li><li><ul><li><a href="#_681" rel="nofollow">传递一个数据</a></li><li><a href="#_690" rel="nofollow">传递多个数据传递：</a></li><li><a href="#_704" rel="nofollow">传递数组传递：</a></li><li><a href="#_715" rel="nofollow">传递集合</a></li><li><a href="#Activity_730" rel="nofollow">多个Activity间的交互(后一个传回给前一个)</a></li></ul> 
   </li><li><a href="#activity_791" rel="nofollow">六、activity启动时根据横竖屏状态加载不同的布局</a></li><li><a href="#activity_815" rel="nofollow">六、隐式启动activity</a></li><li><a href="#APP_891" rel="nofollow">七、双击退出APP</a></li><li><ul><li><a href="#_892" rel="nofollow">第一种方法：定义一个变量，来标识是否退出</a></li><li><a href="#_944" rel="nofollow">第二种方法：保存点击时间</a></li></ul> 
   </li><li><a href="#Activity_983" rel="nofollow">八、Activity过场动画</a></li><li><ul><li><a href="#Activity_987" rel="nofollow">为单个Activity设置进入和退出的过场动画</a></li><li><a href="#Activity_1014" rel="nofollow">为所有Activity设置进入和退出的过场动画</a></li></ul> 
   </li><li><a href="#Activity_1029" rel="nofollow">九、设置Activity全屏的四种方法</a></li><li><a href="#Activity_1044" rel="nofollow">十、设置对话框风格Activity的两种方法</a></li><li><a href="#onWindowFocusChanged_1083" rel="nofollow">十、onWindowFocusChanged方法的应用</a></li><li><a href="#Activityacitivityapp_1112" rel="nofollow">十一、Activity管理类的使用以及关闭所有acitivity和完全退出app的方法</a></li><li><a href="#Activity_1176" rel="nofollow">十二、设计堆栈的Activity管理类</a></li><li><a href="#_1266" rel="nofollow">总结</a></li></ul> 
 </div></h3> 
<h2><a id="Activity_2"></a>一、Activity的创建与生命周期</h2> 
<h3><a id="1Activity_3"></a>1.Activity的创建</h3> 
<pre><code>1.创建一个layout xml布局文件
2.创建一个java类继承Activity或者AppCompatActivity
3.重写onCreate()方法，在onCreate()方法中调用setContentView()方法设置要显示的layout文件
	@Override
	protected void onCreate(Bundle savedInstanceState) {
    	super.onCreate(savedInstanceState);
    	setContentView(R.layout.activity_main)； 
	}
4.在AndroidManifest.xml文件中注册Activity
	&lt;activity android:name=".MainActivity2"&gt;&lt;/activity&gt;
</code></pre> 
<p>做完以上4步就已经完成了一个Activity的创建，Android Studio工具还提供了更快捷的方法，直接鼠标右键-new - Activity - 选择任意一种布局的activity - 重命名一下Activity Name和Layout Name点击Finish完成创建。</p> 
<h3><a id="2Activity_16"></a>2.Activity的生命周期</h3> 
<p>1.启动activity时依次调用：onCreate，onStart，onResume<br> 2.按back键时依次调用：onPause，onStop，onDestroy<br> 3.按home键或者跳转到其他页面时依次调用：onPause，onStop<br> 4.从其他页面按back键返回时依次调用：onRestart，onStart，onResume<br> 5.横竖屏切换时依次调用： onPause ，onStop， onDestroy，onCreate， onStart，onResume</p> 
<p>从activity1跳转到activity2时依次调用:<br> activity1的onPause<br> activity2的onCreate<br> activity2的onStart<br> activity2的onResume<br> activity1的onStop</p> 
<p>从activity2按back键返回activity1时依次调用：<br> activity2的onPause<br> activity1的onRestart<br> activity1的onStart<br> activity1的onResume<br> activity2的onStop<br> activity2的onDestroy</p> 
<p>可复制以下代码运行，自行查看log打印确认</p> 
<p>MainActivity.java</p> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainActivity</span> <span class="token keyword">extends</span> <span class="token class-name">AppCompatActivity</span> <span class="token punctuation">{<!-- --></span>
    	<span class="token class-name">TextView</span> bt<span class="token punctuation">;</span>
    	
    	<span class="token annotation punctuation">@Override</span>
    	<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token class-name">Bundle</span> savedInstanceState<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        	<span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span><span class="token punctuation">;</span>
        	<span class="token function">setContentView</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>layout<span class="token punctuation">.</span>activity_main<span class="token punctuation">)</span><span class="token punctuation">;</span>
        	<span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">"MainActivity"</span><span class="token punctuation">,</span> <span class="token string">"onCreate()"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    	<span class="token punctuation">}</span>
    	
    	<span class="token annotation punctuation">@Override</span>
   	 	<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onStart</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        	<span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onStart</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        	<span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">"MainActivity"</span><span class="token punctuation">,</span> <span class="token string">"onStart()"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   	 	<span class="token punctuation">}</span>
   	 	
    	<span class="token annotation punctuation">@Override</span>
   	 	<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onStop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        	<span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onStop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        	<span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">"MainActivity"</span><span class="token punctuation">,</span> <span class="token string">"onStop()"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    	<span class="token punctuation">}</span>
    	<span class="token annotation punctuation">@Override</span>
    	<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        	<span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        	<span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">"MainActivity"</span><span class="token punctuation">,</span> <span class="token string">"onDestroy()"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    	<span class="token punctuation">}</span>

    	<span class="token annotation punctuation">@Override</span>
    	<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onPause</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        	<span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onPause</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        	<span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">"MainActivity"</span><span class="token punctuation">,</span> <span class="token string">"onPause()"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   		<span class="token punctuation">}</span>

    	<span class="token annotation punctuation">@Override</span>
    	<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onResume</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        	<span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onResume</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       	 	<span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">"MainActivity"</span><span class="token punctuation">,</span> <span class="token string">"onResume()"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        	bt <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">TextView</span><span class="token punctuation">)</span> <span class="token function">findViewById</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>bt<span class="token punctuation">)</span><span class="token punctuation">;</span>
       	 	bt<span class="token punctuation">.</span><span class="token function">setOnClickListener</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">View<span class="token punctuation">.</span>OnClickListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            	<span class="token annotation punctuation">@Override</span>
            	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onClick</span><span class="token punctuation">(</span><span class="token class-name">View</span> v<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                	<span class="token class-name">Intent</span> it <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Intent</span><span class="token punctuation">(</span><span class="token class-name">MainActivity</span><span class="token punctuation">.</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token class-name">MainActivity2</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                	<span class="token function">startActivity</span><span class="token punctuation">(</span>it<span class="token punctuation">)</span><span class="token punctuation">;</span>
            	<span class="token punctuation">}</span>
       		 <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    	<span class="token punctuation">}</span>

    	<span class="token annotation punctuation">@Override</span>
    	<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onRestart</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        	<span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onRestart</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        	<span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">"MainActivity"</span><span class="token punctuation">,</span> <span class="token string">"onRestart()"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    	<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
</code></pre> 
<p>MainActivity2.java</p> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainActivity2</span> <span class="token keyword">extends</span> <span class="token class-name">AppCompatActivity</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token class-name">Bundle</span> savedInstanceState<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setContentView</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>layout<span class="token punctuation">.</span>activity_main2<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">"MainActivity2"</span><span class="token punctuation">,</span> <span class="token string">"onCreate()"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onStart</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onStart</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">"MainActivity2"</span><span class="token punctuation">,</span> <span class="token string">"onStart()"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   	<span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onStop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onStop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">"MainActivity2"</span><span class="token punctuation">,</span> <span class="token string">"onStop()"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">"MainActivity2"</span><span class="token punctuation">,</span> <span class="token string">"onDestroy()"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onPause</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onPause</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">"MainActivity2"</span><span class="token punctuation">,</span> <span class="token string">"onPause()"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onResume</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onResume</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">"MainActivity2"</span><span class="token punctuation">,</span> <span class="token string">"onResume()"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onRestart</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onRestart</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">"MainActivity2"</span><span class="token punctuation">,</span> <span class="token string">"onRestart()"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="layout_149"></a>二、layout布局常用控件用法与详解</h2> 
<p>Android中有六大布局,分别是: LinearLayout(线性布局)，RelativeLayout(相对布局)，TableLayout(表格布局) FrameLayout(帧布局)，AbsoluteLayout(绝对布局)，GridLayout(网格布局) 。<br> 实际运用中，LinearLayout和RelativeLayout用的最多。</p> 
<h3><a id="1_152"></a>1.线性布局</h3> 
<pre><code> &lt;LinearLayout
    android:layout_width="match_parent" 		//设置该组件的宽度和高度：match_parent表示填满父组件，wrap_content表示组件实际大小
    android:layout_height="match_parent"
    android:orientation="vertical"		//orientation表示布局方向：vertical表示该组件中的子组件会一行一行排列，horizontal表示子组件一列一列的排列
    android:divider="@color/black"		//divider表示该组件中子组件之间的分割线：可以设置图片或颜色
    android:showDividers="middle"		//showDividers设置分割线的位置：分别为不显示none，开始处显示beginning，结尾处显示end，两个组件之间显示middle
	android:layout_weight="1"			//layout_weight设置该控件在父控件中所占的比例大小，用数字表示,可用于子控件
	android:background=""				//background设置该控件的背景颜色，可用于子控件	
	android:dividerPadding="10dp"&gt;			//设置分割线与组件两边的边距
</code></pre> 
<h3><a id="2_163"></a>2.相对布局</h3> 
<pre><code>&lt;RelativeLayout
	android:gravity="center"				//gravity用于设置该组件中子组件的对其方式
	android:ignoreGravity="@color/black"&gt;	//设置该组件中不受gravity影响的组件
</code></pre> 
<p>除了上述两个属性外，RelativeLayout还有非常详细的子组件定位属性，大致分为以下四类：</p> 
<h4><a id="a_170"></a>a.根据父容器定位属性</h4> 
<pre><code>右对齐
android:layout_alignParentRight="true"
左对齐
android:layout_alignParentLeft="true"
底部对齐
android:layout_alignParentBottom="true"
顶部对齐
android:layout_alignParentTop="true"
水平居中
android:layout_centerHorizontal="true"
垂直居中
android:layout_centerVertical="true"
中间位置
android:layout_centerInParent="true"
</code></pre> 
<h4><a id="b_187"></a>b.根据兄弟组件定位属性</h4> 
<pre><code>参考兄弟组件的左边
android:layout_toLeftOf="@+id/兄弟组件的id"
参考兄弟组件的右边
android:layout_toRightOf="@+id/aaa"
参考兄弟组件的上方
android:layout_above="@+id/aaa"
参考兄弟组件的下方
android:layout_below="@+id/aaa"
参考兄弟组件的起始位置
android:layout_toStartOf="@+id/aaa"
参考兄弟组件的结束位置
android:layout_toEndOf="@+id/aaa"
对齐参考组件的上边界
android:layout_alignTop="@+id/aaa"
对齐参考组件的下边界
android:layout_alignBottom="@+id/aaa"  
对齐参考组件的左边界
android:layout_alignLeft="@+id/aaa"
对齐参考组件的右边界
android:layout_alignRight="@+id/aaa"
</code></pre> 
<h4><a id="c_210"></a>c.偏移属性（设置两个组件之间的边距）</h4> 
<pre><code>设置组件四个方向的偏移距离
android:layout_margin="5dp"
设置组件离左边的偏离距离
android:layout_marginLeft="5dp"
设置组件离右边的偏离距离
android:layout_marginRight="5dp"
设置组件离上边的偏离距离
android:layout_marginTop="5dp"
设置组件离下边的偏离距离
android:layout_marginBottom="5dp"
</code></pre> 
<h4><a id="d_222"></a>d.填充属性（设置组件内部元素之间的边距）</h4> 
<pre><code>往内部元素上下左右四个方向有填充一定边距
android:padding="5dp"
往内部元素的左边填充一定边距
android:paddingLeft="5dp"
往内部元素的右边填充一定边距
android:paddingRight="5dp"
往内部元素的上边填充一定边距
android:paddingTop="5dp"
往内部元素的下边填充一定边距
android:paddingBottom="5dp"
下面两个还没用过，先写上
android:paddingHorizontal="5dp"
android:paddingVertical="5dp"
</code></pre> 
<p>举例说明：<br> 在以下代码中，两个TextView都是RelativeLayout的子组件，两个TextView的关系是兄弟组件。<br> id为aaa的TextView没有设置其他属性，所以它的位置默认在界面的左上角。<br> id为bbb的TextView设置了layout_toRightOf属性，所有它在aaa的右边，然后还设置了layout_alignParentBottom属性，所以它靠近父组件的底部，layout_marginTop属性让他从底部网上偏移了5dp的举例，android:paddingLeft属性让它的文本内容左边有5dp的空白<br> 所以效果如下图：<br> <img src="https://images2.imgbox.com/c7/d4/KkA9VV3X_o.png" alt="在这里插入图片描述"></p> 
<pre><code>&lt;RelativeLayout
    android:layout_width="match_parent"
    android:layout_height="match_parent"&gt;

    &lt;TextView
        android:id="@+id/aaa"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="Hello World!"/&gt;
    
    &lt;TextView
    	android:id="@+id/bbb"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
       android:text="测试测试测试测试"
        android:layout_toRightOf="@+id/aaa"
        android:layout_alignParentBottom="true"
        android:layout_marginBottom="30dp"
        android:paddingLeft="60dp"
       /&gt;
&lt;/RelativeLayout&gt;
</code></pre> 
<h3><a id="3_268"></a>3.表格布局：主要用于数据表显示</h3> 
<pre><code>&lt;TableLayout
	android:stretchColumns="0,4" &gt;	//stretchColumns表示隐藏列，后面的数字表示第一列和第五列将被隐藏
	
	&lt;TableRow&gt;	//一个TableRow表示一行，如果一行中有多个组件则全部放在TableRow中
		&lt;TextView /&gt;
	&lt;/TableRow&gt; 
	
	&lt;TableRow&gt;
		&lt;TextView /&gt;
	&lt;/TableRow&gt;

&lt;/TableLayout&gt;
</code></pre> 
<h3><a id="4_282"></a>4.帧布局：用于前景显示，设置跳转页面也不会被覆盖的内容</h3> 
<pre><code>&lt;FrameLayout
    android:foreground="@drawable/ic_launcher_background"	//foreground设置前景显示内容
    android:foregroundGravity="right" &gt;           			//设置前景显示位置
&lt;/FrameLayout&gt;
</code></pre> 
<h3><a id="5_288"></a>5.网格布局</h3> 
<pre><code>&lt;GridLayout
	android:layout_gravity="center"			//设置对其方式
	android:orientation="horizontal"		//设置排列方式
	android:columnCount="4"					//设置列数
	android:rowCount="6"&gt;					//设置行数
		&lt;TextView
			android:layout_row="0"				//设置组件位于网格的第几行，从0开始
			android:layout_column="0"			//设置组件位于网格的第几列
			android:layout_rowSpan="0"			//设置组件横跨几行
			android:layout_columnSpan="4"	 /&gt;	//设置组件横跨几列
			
&lt;/GridLayout&gt;
</code></pre> 
<h3><a id="6_304"></a>6.绝对布局</h3> 
<p>四大属性（单位：dp）：高度，宽度，坐标x，坐标y<br> 控制大小: android:layout_width:组件宽度 android:layout_height:组件高度<br> 控制位置: android:layout_x:设置组件的X坐标 android:layout_y:设置组件的Y坐标</p> 
<h3><a id="7_310"></a>7.普通控件</h3> 
<h4><a id="_311"></a>文本框：</h4> 
<pre><code>	&lt;TextView
		android:id="@+id/tex"							//Java文件根据控件ID来操作控件
        android:layout_width="match_parent"				//layout_width和layout_height设置控件高度和宽度，根据父容器设置具体属性值
        android:layout_height="match_parent"
		android:background="@color/teal_700"/&gt;			//background设置控件背景颜色，可以为图片
		
		//文本属性
        android:text=" 设置:"							//text设置文本内容，可用@string/id代替，从strings.xml文件中根据id值获取文本内容
        android:gravity="center_vertical"				//gravity设置文本对齐方式	
        android:textColor="@color/black"				//textColor设置文本颜色
        android:textStyle="bold"						//textStyle设置文本字体风格**normal**(无效果)，**bold**(加粗)，**italic**(斜体)
        android:textSize="20sp"							//textSize设置字体大小，单位sp
        			
		//阴影属性
		android:shadowColor:设置阴影颜色,需要与shadowRadius一起使用
		android:shadowRadius:设置阴影的模糊程度,设为0.1就变成字体颜色了,建议使用3.0
		android:shadowDx:设置阴影在水平方向的偏移,就是水平方向阴影开始的横坐标位置
		android:shadowDy:设置阴影在竖直方向的偏移,就是竖直方向阴影开始的纵坐标位置
		
	修改文本框内容：先实例化，然后赋值
	TextView tex = (TextView) findViewById(R.id.tex);
	R.string.teaa是调用strings.xml文件中的字符串，teaa为字符串name
	tex.setText(R.string.teaa)
	tex.setText(“amdlkgma”)		//直接赋值	
</code></pre> 
<h4><a id="_337"></a>输入框：</h4> 
<pre><code>	&lt;EditText
		//默认提示文本
		android:hint="默认提示文本"			//文本内容
		android:textColorHint="#95A1AA"		//文本颜色
		
		android:selectAllOnFocus="true"		//点击输入框，全选输入框中的文本内容
		
		android:inputType="phone"			//限制输入的内容
		常用属性值有：
			number ：数字	phone：拨号键盘		textPassword：密码		date：日期键盘  time：时间键盘
		
		//控制文本行数
		android:minLines="3"		//输入文本最小行数
		android:maxLines="3"		//最大行数
		android:singleLine="true"	//单行
		
		//控制文本间隔
		android:textScaleX="1.5"    //设置字与字的水平间隔
		android:textScaleY="1.5"    //设置字与字的垂直间隔
		
		//设置英文字母大写类型
		android:capitalize="sentences"	//sentences：仅第一个字母大写；words：每一个单词首字母大小，用空格区分单词；characters:每一个英文字母都大写；默认none
		
		//边距控制
		android:marginTop = "5dp"		//margin属性设置输入框与其他控件的边距
		android:paddingTop = "5dp"		//padding属性设置文本与输入框的边距
		
	//输入框操作：
		在AndroidManifest.xml文件中本页面activity中添加android:windowSoftInputMode="stateHidden|adjustPan"，stateHidden表示隐藏软键盘，adjustPan表示控件不会因为输入法的弹出而发生形变  
	
		&lt;activity android:name=".MainActivity" android:windowSoftInputMode="stateHidden|adjustPan"&gt;
	
	获取输入框内容
	首先实例化输入框：
	EditText edt = (EditText)findViewById(R.id.editText);
	获取：
	String edtt = edt.getText().toString();


	清空输入框内容
	edt.setText("");
    edt.requestFocusFromTouch();
</code></pre> 
<h4><a id="ButtonImageButton_383"></a>按钮Button和ImageButton</h4> 
<pre><code>	drawable:引用的Drawable位图,我们可以把他放到最前面,就表示组件的正常状态~
	state_focused:是否获得焦点
	state_window_focused:是否获得窗口焦点
	state_enabled:控件是否可用
	state_checkable:控件可否被勾选,eg:checkbox
	state_checked:控件是否被勾选
	state_selected:控件是否被选择,针对有滚轮的情况
	state_pressed:控件是否被按下
	state_active:控件是否处于活动状态,eg:slidingTab
	state_single:控件包含多个子控件时,确定是否只显示一个子控件
	state_first:控件包含多个子控件时,确定第一个子控件是否处于显示状态
	state_middle:控件包含多个子控件时,确定中间一个子控件是否处于显示状态
	state_last:控件包含多个子控件时,确定最后一个子控件是否处于显示状态
	
	
	按钮监听事件
	在onCreate()方法中实例化按钮添加以下代码
	Button bus = (Button)findViewById(R.id.bus);
	bus.setOnClickListener(new bbb());
	新建bbb()方法实现监听事件
		class bbb implements View.OnClickListener{
			@Override
			public void onClick(View view) {				
				监听到点击该按钮时执行的代码
			}
		}
</code></pre> 
<h4><a id="ImageView_412"></a>图像控件ImageView</h4> 
<pre><code>	android:src="@drawable/pen" 			//src设置图片路径，图片会按原本大小显示
	android:background="@drawable/pen"		//background设置图片路径，图片被放大或缩小占满控件
</code></pre> 
<h4><a id="_416"></a>单选框</h4> 
<pre><code>&lt;RadioGroup
    android:id="@+id/radioGroup"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:orientation="horizontal"&gt;		//orientation设置组件为横向排列还是纵向排列

    &lt;RadioButton
        android:id="@+id/btnMan"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="男"
        android:checked="true"/&gt;			//checked设置默认值，true表示默认选择，false表示默认不选

    &lt;RadioButton
        android:id="@+id/btnWoman"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="女"/&gt;
&lt;/RadioGroup&gt;

	//获取单选值
	在onCreate()方法中实例化按钮添加以下代码
	RadioGroup radgroup = (RadioGroup) findViewById(R.id.radioGroup);
	radgroup.setOnCheckedChangeListener(new eckedChangeListener());
	新建eckedChangeListener()方法实现监听事件
		class eckedChangeListener implements RadioGroup.OnCheckedChangeListener {

		@Override
			public void onCheckedChanged(RadioGroup group, int checkedId) {
				RadioButton radbtn = (RadioButton) findViewById(checkedId);
				boolean aaa = radbtn.isChecked()；		//判断按钮是否选中
				
				Toast.makeText(getApplicationContext(), "按钮组值发生改变,你选了" + radbtn.getText(), Toast.LENGTH_LONG).show();
			}
		};
</code></pre> 
<h4><a id="CheckBoxid_453"></a>复选框：每个CheckBox都要设置一个id</h4> 
<pre><code>	 &lt;CheckBox
            android:id="@+id/chb1"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:text="苹果"&gt;
        &lt;/CheckBox&gt;

        &lt;CheckBox
            android:id="@+id/chb2"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:text="雪梨"&gt;
        &lt;/CheckBox&gt;

        &lt;CheckBox
            android:id="@+id/chb3"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:text="可乐"&gt;
        &lt;/CheckBox&gt;
		
		&lt;Button
            android:id="@+id/buttnos"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:text="@string/but" /&gt;

	获取复选框的值
		CheckBox cb_one = (CheckBox) findViewById(R.id.chb1);
        CheckBox cb_two = (CheckBox) findViewById(R.id.chb2);
        CheckBox cb_three = (CheckBox) findViewById(R.id.chb3);
</code></pre> 
<h4><a id="_491"></a>开关按钮和图标</h4> 
<pre><code>	&lt;ToggleButton				//按钮开关
            android:id="@+id/tbtn_open"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:textOff="已打开"
            android:textOn="已关闭" /&gt;

        &lt;Switch					//左右滑动的开关
            android:id="@+id/swh_status"
            android:layout_width="wrap_content"
            android:layout_height="match_parent"
            android:layout_weight="1"
            android:showText="true"				//设置是否显示文字
            android:textOff="1"					//设置关闭时显示的文字
            android:textOn="2"					//设置打开时显示的文字
</code></pre> 
<h4><a id="_510"></a>进度条</h4> 
<pre><code>	&lt;ProgressBar
        style="@android:style/Widget.ProgressBar.Horizontal"		style设置进度条的样式
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:max="100"				//设置进度条的最大值
        android:progress="75" /&gt;		//设置当前进度值
	
	常用方法：
	getMax()：返回这个进度条的范围的上限
	getProgress()：返回进度
</code></pre> 
<h4><a id="_522"></a>拖动条</h4> 
<pre><code>	&lt;SeekBar
            android:id="@+id/sb_normal"		             
            android:max="100"				//设置滑动最大值
            android:progress="80"			//设置默认值
     /&gt;
	
	用法：
		在onCreate中实例化拖动条，设置监听事件setOnSeekBarChangeListener
			SeekBar skb = (SeekBar)findViewById(R.id.sb_normal);
			skb.setOnSeekBarChangeListener(new setonsjb());
		重写OnSeekBarChangeListener中的三个方法：
		class setonsjb implements SeekBar.OnSeekBarChangeListener{
			TextView tex = (TextView) findViewById(R.id.notex);
			@Override
			public void onProgressChanged(SeekBar seekBar, int progress, boolean fromUser) {	//onProgressChanged进度改变时触发该方法，获取进度值显示出来
				tex.setText("进度:" + progress);
			}

			@Override
			public void onStartTrackingTouch(SeekBar seekBar) {			//触碰进度条时触发
				Toast.makeText(MainActivity.this, "触碰SeekBar", Toast.LENGTH_SHORT).show();		
			}

			@Override
			public void onStopTrackingTouch(SeekBar seekBar) {			//放开进度条时触发
				Toast.makeText(MainActivity.this, "放开SeekBar", Toast.LENGTH_SHORT).show();
			}
		}
</code></pre> 
<h4><a id="_552"></a>时间控件</h4> 
<pre><code>	文本时钟
	 &lt;TextClock
            android:layout_width="match_parent"
            android:layout_height="match_parent"/&gt;
	
	模拟时钟
	 &lt;AnalogClock
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
             /&gt;
</code></pre> 
<h2><a id="apk_564"></a>三、apk全局参数的应用</h2> 
<p>直接上代码<br> MainActivity.java</p> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainActivity</span> <span class="token keyword">extends</span> <span class="token class-name">AppCompatActivity</span> <span class="token punctuation">{<!-- --></span>
    	<span class="token comment">//全局参数必须设置为public static</span>
    	<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> name <span class="token operator">=</span> <span class="token string">"name"</span><span class="token punctuation">;</span>
    	<span class="token class-name">TextView</span> bt<span class="token punctuation">;</span>
    	<span class="token annotation punctuation">@Override</span>
    	<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token class-name">Bundle</span> savedInstanceState<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        	<span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span><span class="token punctuation">;</span>
        	<span class="token function">setContentView</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>layout<span class="token punctuation">.</span>activity_main<span class="token punctuation">)</span><span class="token punctuation">;</span>
        	bt <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">TextView</span><span class="token punctuation">)</span> <span class="token function">findViewById</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>bt<span class="token punctuation">)</span><span class="token punctuation">;</span>
        	bt<span class="token punctuation">.</span><span class="token function">setOnClickListener</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">View<span class="token punctuation">.</span>OnClickListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            	<span class="token annotation punctuation">@Override</span>
            	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onClick</span><span class="token punctuation">(</span><span class="token class-name">View</span> v<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                	<span class="token class-name">Intent</span> it <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Intent</span><span class="token punctuation">(</span><span class="token class-name">MainActivity</span><span class="token punctuation">.</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token class-name">MainActivity2</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                	<span class="token function">startActivity</span><span class="token punctuation">(</span>it<span class="token punctuation">)</span><span class="token punctuation">;</span>
            	<span class="token punctuation">}</span>
        	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>MainActivity2.java</p> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainActivity2</span> <span class="token keyword">extends</span> <span class="token class-name">AppCompatActivity</span> <span class="token punctuation">{<!-- --></span>
    	<span class="token class-name">String</span> name<span class="token punctuation">;</span>

    	<span class="token annotation punctuation">@Override</span>
    	<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token class-name">Bundle</span> savedInstanceState<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        	<span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span><span class="token punctuation">;</span>
        	<span class="token function">setContentView</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>layout<span class="token punctuation">.</span>activity_main2<span class="token punctuation">)</span><span class="token punctuation">;</span>
        	name <span class="token operator">=</span> <span class="token class-name">MainActivity</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
        	<span class="token class-name">Toast</span><span class="token punctuation">.</span><span class="token function">makeText</span><span class="token punctuation">(</span><span class="token class-name">MainActivity2</span><span class="token punctuation">.</span><span class="token keyword">this</span><span class="token punctuation">,</span> name<span class="token punctuation">,</span> <span class="token class-name">Toast</span><span class="token punctuation">.</span><span class="token constant">LENGTH_SHORT</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="Activity_605"></a>四、Activity数据持久化</h2> 
<h3><a id="onCreate_606"></a>onCreate()方法带一个参数</h3> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainActivity</span> <span class="token keyword">extends</span> <span class="token class-name">AppCompatActivity</span> <span class="token punctuation">{<!-- --></span>

<span class="token comment">//   1.点击home键回到主页或长按后选择运行其他程序</span>
<span class="token comment">//    2.按下电源键关闭屏幕</span>
<span class="token comment">//    3.启动新的Activity</span>
<span class="token comment">//    4.横竖屏切换时使用</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token class-name">Bundle</span> savedInstanceState<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setContentView</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>layout<span class="token punctuation">.</span>activity_main<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//判断是否有保存的数据，如果有则直接使用</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>savedInstanceState <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">"onCreate()"</span><span class="token punctuation">,</span> savedInstanceState<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">"octopus"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//横竖屏切换后调用恢复数据，也可以再ocreate中恢复</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onRestoreInstanceState</span><span class="token punctuation">(</span><span class="token class-name">Bundle</span> savedInstanceState<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onRestoreInstanceState</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">"onRes"</span><span class="token punctuation">,</span> savedInstanceState<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">"octopus"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

    <span class="token comment">//横竖屏切换时调用保存数据</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onSaveInstanceState</span><span class="token punctuation">(</span><span class="token class-name">Bundle</span> outState<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onSaveInstanceState</span><span class="token punctuation">(</span>outState<span class="token punctuation">)</span><span class="token punctuation">;</span>
        outState<span class="token punctuation">.</span><span class="token function">putString</span><span class="token punctuation">(</span><span class="token string">"octopus"</span><span class="token punctuation">,</span> <span class="token string">"www.baidu.com"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">"onSave()"</span><span class="token punctuation">,</span> <span class="token string">"save date www.baidu.com"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="onCreate_646"></a>onCreate()方法带两个参数</h3> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainActivity</span> <span class="token keyword">extends</span> <span class="token class-name">AppCompatActivity</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">/*
         activity持久化：
         1.再manifest配置文件的activity中添加代码android:persistableMode="persistAcrossReboots"
         2.重写onCreate方法，带两个参数
         3.搭配以下两个方法

         onCreate(Bundle)：当Activity非正常销毁之后，例如手机旋转，内存不足导致的后台自动销毁。
         onCreate(Bundle, PersistableBundle)：手机由于过热，没电或者第三方定制Rom由于卡顿而异常关机的情况，能找回之前前台的数据，实际上是一种数据持久化的Activity。
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token class-name">Bundle</span> savedInstanceState<span class="token punctuation">,</span> <span class="token class-name">PersistableBundle</span> persistableBundle<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">,</span> persistableBundle<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setContentView</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>layout<span class="token punctuation">.</span>activity_main<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">"调用"</span><span class="token punctuation">,</span> <span class="token string">"onCreate()"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSaveInstanceState</span><span class="token punctuation">(</span><span class="token annotation punctuation">@NonNull</span> <span class="token class-name">Bundle</span> outState<span class="token punctuation">,</span> <span class="token annotation punctuation">@NonNull</span> <span class="token class-name">PersistableBundle</span> outPersistentState<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onSaveInstanceState</span><span class="token punctuation">(</span>outState<span class="token punctuation">,</span> outPersistentState<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onRestoreInstanceState</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Nullable</span> <span class="token class-name">Bundle</span> savedInstanceState<span class="token punctuation">,</span> <span class="token annotation punctuation">@Nullable</span> <span class="token class-name">PersistableBundle</span> persistentState<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onRestoreInstanceState</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">,</span> persistentState<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="Activity_680"></a>五、Activity之间的数据传递</h2> 
<h3><a id="_681"></a>传递一个数据</h3> 
<pre><code>传递：
Intent d = new Intent(MainActivity.this, MainActivity2.class);
d.putExtra("d", "传递一个简单数据");         //第一个参数为传递的数据名称，第二个参数为具体数据
startActivity(d);

接收：
Intent it = getIntent();
String date = it.getStringExtra("d");
</code></pre> 
<h3><a id="_690"></a>传递多个数据传递：</h3> 
<pre><code>传递：
Intent i = new Intent(MainActivity.this, MainActivity3.class);
Bundle bl = new Bundle();
bl.putString("a", "第一个数据");
bl.putString("b", "第二个数据");
i.putExtras(bl);
startActivity(i);

接收：
Intent it = getIntent();
String date = it.getStringExtra("a")；
String date2 = it.getStringExtra("b")；
</code></pre> 
<h3><a id="_704"></a>传递数组传递：</h3> 
<pre><code>传递：
Intent e = new Intent(MainActivity.this, MainActivity4.class);
Bundle ba = new Bundle();
ba.putStringArray("e", new String[]{"数组中第一个数", "数组中第二个数"});
e.putExtras(ba);
startActivity(e);

接收：
Intent it = getIntent();
String[] str = it.getStringArrayExtra("e");
</code></pre> 
<h3><a id="_715"></a>传递集合</h3> 
<pre><code>传递：
Intent f = new Intent(MainActivity.this, MainActivity5.class);
ArrayList&lt;String&gt; sites = new ArrayList&lt;String&gt;();
sites.add("Google");
sites.add("Runoob");
sites.add("Taobao");
sites.add("Weibo");
f.putStringArrayListExtra("f", sites);
startActivity(f);

接收：
Intent it = getIntent();
ArrayList&lt;String&gt; sites = it.getStringArrayListExtra("f");
</code></pre> 
<h3><a id="Activity_730"></a>多个Activity间的交互(后一个传回给前一个)</h3> 
<p>MainActivity.java</p> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainActivity</span> <span class="token keyword">extends</span> <span class="token class-name">AppCompatActivity</span> <span class="token punctuation">{<!-- --></span>
    <span class="token class-name">Button</span> bt<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token class-name">Bundle</span> savedInstanceState<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setContentView</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>layout<span class="token punctuation">.</span>activity_main<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">"MainActivity"</span><span class="token punctuation">,</span> <span class="token string">"onCreate()"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        bt <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Button</span><span class="token punctuation">)</span> <span class="token function">findViewById</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>bt<span class="token punctuation">)</span><span class="token punctuation">;</span>
        bt<span class="token punctuation">.</span><span class="token function">setOnClickListener</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">View<span class="token punctuation">.</span>OnClickListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onClick</span><span class="token punctuation">(</span><span class="token class-name">View</span> v<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token class-name">Intent</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Intent</span><span class="token punctuation">(</span><span class="token class-name">MainActivity</span><span class="token punctuation">.</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token class-name">MainActivity2</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token function">startActivityForResult</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onActivityResult</span><span class="token punctuation">(</span><span class="token keyword">int</span> requestCode<span class="token punctuation">,</span> <span class="token keyword">int</span> resultCode<span class="token punctuation">,</span> <span class="token class-name">Intent</span> data<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onActivityResult</span><span class="token punctuation">(</span>requestCode<span class="token punctuation">,</span> resultCode<span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>requestCode <span class="token operator">==</span> <span class="token number">123</span> <span class="token operator">&amp;&amp;</span> resultCode <span class="token operator">==</span> <span class="token number">456</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token class-name">Bundle</span> bd <span class="token operator">=</span> data<span class="token punctuation">.</span><span class="token function">getExtras</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> a <span class="token operator">=</span> bd<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">Toast</span><span class="token punctuation">.</span><span class="token function">makeText</span><span class="token punctuation">(</span><span class="token class-name">MainActivity</span><span class="token punctuation">.</span><span class="token keyword">this</span><span class="token punctuation">,</span> a<span class="token punctuation">,</span> <span class="token class-name">Toast</span><span class="token punctuation">.</span><span class="token constant">LENGTH_SHORT</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>MainActivity2.java</p> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainActivity2</span> <span class="token keyword">extends</span> <span class="token class-name">AppCompatActivity</span> <span class="token punctuation">{<!-- --></span>
    <span class="token class-name">Button</span> bt<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token class-name">Bundle</span> savedInstanceState<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setContentView</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>layout<span class="token punctuation">.</span>activity_main2<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">"MainActivity2"</span><span class="token punctuation">,</span> <span class="token string">"onCreate()"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        bt <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Button</span><span class="token punctuation">)</span> <span class="token function">findViewById</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>bt<span class="token punctuation">)</span><span class="token punctuation">;</span>
        bt<span class="token punctuation">.</span><span class="token function">setOnClickListener</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">View<span class="token punctuation">.</span>OnClickListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onClick</span><span class="token punctuation">(</span><span class="token class-name">View</span> v<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token class-name">Intent</span> it <span class="token operator">=</span> <span class="token function">getIntent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">Bundle</span> bd <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Bundle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                bd<span class="token punctuation">.</span><span class="token function">putString</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"AAAAAAA"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                it<span class="token punctuation">.</span><span class="token function">putExtras</span><span class="token punctuation">(</span>bd<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token function">setResult</span><span class="token punctuation">(</span><span class="token number">456</span><span class="token punctuation">,</span> it<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token function">finish</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="activity_791"></a>六、activity启动时根据横竖屏状态加载不同的布局</h2> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainActivity</span> <span class="token keyword">extends</span> <span class="token class-name">AppCompatActivity</span> <span class="token punctuation">{<!-- --></span>

    <span class="token comment">/*
       操作步骤：
       1.创建横竖屏不同的布局文件，文件名称要相同，创建方法见附图：选中layout文件夹右键new-layout Resource File
       2.onCreate()方法中添加横竖屏判断加载布局
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token class-name">Bundle</span> savedInstanceState<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//        setContentView(R.layout.activity_main);</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getResources</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getConfiguration</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>orientation <span class="token operator">==</span> <span class="token class-name">Configuration</span><span class="token punctuation">.</span><span class="token constant">ORIENTATION_LANDSCAPE</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">setContentView</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>layout<span class="token punctuation">.</span>activity_main<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getResources</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getConfiguration</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>orientation <span class="token operator">==</span> <span class="token class-name">Configuration</span><span class="token punctuation">.</span><span class="token constant">ORIENTATION_PORTRAIT</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">setContentView</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>layout<span class="token punctuation">.</span>activity_main<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/68/5b/fwZTp0EX_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="activity_815"></a>六、隐式启动activity</h2> 
<p>隐式启动常用于不同应用之间的跳转(例如打开支付宝微信的支付页面)，也可用于H5与native之间的交互。隐式启动就是action，category和data的匹配<br> 1.在要启动的activity中添加以下代码</p> 
<pre><code>&lt;intent-filter&gt;
             &lt;action android:name="my_action"/&gt;
             &lt;category android:name="my_category"/&gt;
             &lt;category android:name="android.intent.category.DEFAULT"/&gt;
 &lt;/intent-filter&gt;
</code></pre> 
<p>2.创建页面跳转Intent，参数为my_action</p> 
<p>action匹配规则:<br> 1.action在Intent-filter可以设置多条<br> 2.intent中必须指定action否则匹配失败且intent中action最多只有一条<br> 3.intent中的action和intent-filter中的action必须完全一样时(包括大小写)才算匹配成功<br> 4.intent中的action只要与intent-filter其中的一条匹配成功即可</p> 
<p>category匹配规则:<br> 1.category用于指定当前动作(action)执行的环境，即这个activity在哪个环境中才能被激活。不属于这个环境的，不能被激活<br> 2.如果目标activity想要通过隐式调用方式激活，那么不能没有任何category设置，至少包含一个android.intent.category.DEFAULT<br> 3.一个intent只能有一个action，但是可以有多个category。同一个intent中多个category彼此间是“与”的关系，也就是说一个组件要支持全部的category才能处理该请求。</p> 
<p>AndroidManifest.xml</p> 
<pre><code class="prism language-xml"> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>application</span>
        <span class="token attr-name"><span class="token namespace">android:</span>allowBackup</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@mipmap/ic_launcher<span class="token punctuation">"</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@string/app_name<span class="token punctuation">"</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>roundIcon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@mipmap/ic_launcher_round<span class="token punctuation">"</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>supportsRtl</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>theme</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@style/Theme.LmplicitStart<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>activity</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>.MainActivity2<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>intent-filter</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>action</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>my_action<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>category</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>my_category<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>category</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>android.intent.category.DEFAULT<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>intent-filter</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>activity</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>activity</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>.MainActivity<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>intent-filter</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>action</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>android.intent.action.MAIN<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>

                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>category</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>android.intent.category.LAUNCHER<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>intent-filter</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>activity</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>application</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>MainActivity.java</p> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainActivity</span> <span class="token keyword">extends</span> <span class="token class-name">AppCompatActivity</span> <span class="token punctuation">{<!-- --></span>
    <span class="token class-name">Button</span> bt<span class="token punctuation">;</span>
    
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token class-name">Bundle</span> savedInstanceState<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setContentView</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>layout<span class="token punctuation">.</span>activity_main<span class="token punctuation">)</span><span class="token punctuation">;</span>
        bt <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Button</span><span class="token punctuation">)</span> <span class="token function">findViewById</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>bt<span class="token punctuation">)</span><span class="token punctuation">;</span>
        bt<span class="token punctuation">.</span><span class="token function">setOnClickListener</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">View<span class="token punctuation">.</span>OnClickListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onClick</span><span class="token punctuation">(</span><span class="token class-name">View</span> v<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token class-name">Intent</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Intent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">//action和category二选一即可</span>
                a<span class="token punctuation">.</span><span class="token function">setAction</span><span class="token punctuation">(</span><span class="token string">"my_action"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                a<span class="token punctuation">.</span><span class="token function">addCategory</span><span class="token punctuation">(</span><span class="token string">"my_category"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token function">startActivity</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="APP_891"></a>七、双击退出APP</h2> 
<h3><a id="_892"></a>第一种方法：定义一个变量，来标识是否退出</h3> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainActivity</span> <span class="token keyword">extends</span> <span class="token class-name">AppCompatActivity</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">boolean</span> isExit <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token class-name">Handler</span> mHandler <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Handler</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">handleMessage</span><span class="token punctuation">(</span><span class="token class-name">Message</span> msg<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">handleMessage</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
            isExit <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token class-name">Bundle</span> savedInstanceState<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setContentView</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>layout<span class="token punctuation">.</span>activity_main<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">onKeyDown</span><span class="token punctuation">(</span><span class="token keyword">int</span> keyCode<span class="token punctuation">,</span> <span class="token class-name">KeyEvent</span> event<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>keyCode <span class="token operator">==</span> <span class="token class-name">KeyEvent</span><span class="token punctuation">.</span><span class="token constant">KEYCODE_BACK</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>isExit<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                isExit <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
                <span class="token class-name">Toast</span><span class="token punctuation">.</span><span class="token function">makeText</span><span class="token punctuation">(</span><span class="token function">getApplicationContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"再按一次退出程序"</span><span class="token punctuation">,</span>
                        <span class="token class-name">Toast</span><span class="token punctuation">.</span><span class="token constant">LENGTH_SHORT</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">// 利用handler延迟发送更改状态信息</span>
                mHandler<span class="token punctuation">.</span><span class="token function">sendEmptyMessageDelayed</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
                <span class="token class-name">AppExit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onKeyDown</span><span class="token punctuation">(</span>keyCode<span class="token punctuation">,</span> event<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">/**
     * 完全退出应用程序,包括后台任务
     * 需添加权限：android.permission.KILL_BACKGROUND_PROCESSES
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token class-name">AppExit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">finish</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">ActivityManager</span> activityMgr <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">ActivityManager</span><span class="token punctuation">)</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getSystemService</span><span class="token punctuation">(</span><span class="token class-name">Context</span><span class="token punctuation">.</span><span class="token constant">ACTIVITY_SERVICE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            activityMgr<span class="token punctuation">.</span><span class="token function">killBackgroundProcesses</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getPackageName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ignored<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
</code></pre> 
<h3><a id="_944"></a>第二种方法：保存点击时间</h3> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainActivity</span> <span class="token keyword">extends</span> <span class="token class-name">AppCompatActivity</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> <span class="token keyword">long</span> exitTime <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token class-name">Bundle</span> savedInstanceState<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setContentView</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>layout<span class="token punctuation">.</span>activity_main<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">onKeyDown</span><span class="token punctuation">(</span><span class="token keyword">int</span> keyCode<span class="token punctuation">,</span> <span class="token class-name">KeyEvent</span> event<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>keyCode <span class="token operator">==</span> <span class="token class-name">KeyEvent</span><span class="token punctuation">.</span><span class="token constant">KEYCODE_BACK</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> exitTime<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">2000</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token class-name">Toast</span><span class="token punctuation">.</span><span class="token function">makeText</span><span class="token punctuation">(</span><span class="token function">getApplicationContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"再按一次退出程序"</span><span class="token punctuation">,</span>
                        <span class="token class-name">Toast</span><span class="token punctuation">.</span><span class="token constant">LENGTH_SHORT</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                exitTime <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
                <span class="token class-name">AppExit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onKeyDown</span><span class="token punctuation">(</span>keyCode<span class="token punctuation">,</span> event<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token class-name">AppExit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">finish</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">ActivityManager</span> activityMgr <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">ActivityManager</span><span class="token punctuation">)</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getSystemService</span><span class="token punctuation">(</span><span class="token class-name">Context</span><span class="token punctuation">.</span><span class="token constant">ACTIVITY_SERVICE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            activityMgr<span class="token punctuation">.</span><span class="token function">killBackgroundProcesses</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getPackageName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ignored<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="Activity_983"></a>八、Activity过场动画</h2> 
<p>首先添加创建过场动画资源<br> 在res目录下创建anim文件夹，然后将动画资源拖进去<br> <img src="https://images2.imgbox.com/79/bc/A88kbjZh_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="Activity_987"></a>为单个Activity设置进入和退出的过场动画</h3> 
<p>在Activity启动或者退出时加上这一行代码即可：<br> overridePendingTransition(R.anim.hyperspace_in, R.anim.hyperspace_out);</p> 
<pre><code class="prism language-java">bt<span class="token punctuation">.</span><span class="token function">setOnClickListener</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">View<span class="token punctuation">.</span>OnClickListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onClick</span><span class="token punctuation">(</span><span class="token class-name">View</span> v<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token function">startActivity</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Intent</span><span class="token punctuation">(</span><span class="token class-name">MainActivity</span><span class="token punctuation">.</span><span class="token keyword">this</span><span class="token punctuation">,</span><span class="token class-name">MainActivity2</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">//页面跳转时添加</span>
                <span class="token function">overridePendingTransition</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>anim<span class="token punctuation">.</span>hyperspace_in<span class="token punctuation">,</span> <span class="token class-name">R</span><span class="token punctuation">.</span>anim<span class="token punctuation">.</span>hyperspace_out<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<pre><code class="prism language-java">  	<span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">onKeyDown</span><span class="token punctuation">(</span><span class="token keyword">int</span> keyCode<span class="token punctuation">,</span> <span class="token class-name">KeyEvent</span> event<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>keyCode <span class="token operator">==</span> <span class="token class-name">KeyEvent</span><span class="token punctuation">.</span><span class="token constant">KEYCODE_BACK</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
           <span class="token function">finish</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token comment">//退出时添加</span>
            <span class="token function">overridePendingTransition</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>anim<span class="token punctuation">.</span>push_up_in<span class="token punctuation">,</span> <span class="token class-name">R</span><span class="token punctuation">.</span>anim<span class="token punctuation">.</span>push_up_out<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onKeyDown</span><span class="token punctuation">(</span>keyCode<span class="token punctuation">,</span> event<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre> 
<h3><a id="Activity_1014"></a>为所有Activity设置进入和退出的过场动画</h3> 
<p>直接在themes.xml文件中添加以下代码。<br> 添加时要查看APP的style中有没有</p> 
<pre><code>&lt;item 	name="android:windowAnimationStyle"&gt;@style/default_animation&lt;/item&gt;
</code></pre> 
<p>没有的话要手动添加上</p> 
<pre><code class="prism language-xml"> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>default_animation<span class="token punctuation">"</span></span> <span class="token attr-name">mce_bogus</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span> <span class="token attr-name">parent</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@android:style/Animation.Activity<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
        &lt;item name=<span class="token string">"android:activityOpenEnterAnimation"</span>&gt;@anim/push_left_in&lt;/item&gt;
        &lt;item name=<span class="token string">"android:activityOpenExitAnimation"</span>&gt;@anim/push_up_in&lt;/item&gt;
        &lt;item name=<span class="token string">"android:activityCloseEnterAnimation"</span>&gt;@anim/push_up_out&lt;/item&gt;
        &lt;item name=<span class="token string">"android:activityCloseExitAnimation"</span>&gt;@anim/push_left_out&lt;/item&gt;
 </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<h2><a id="Activity_1029"></a>九、设置Activity全屏的四种方法</h2> 
<p>1.在onCreate方法中添加一行代码去掉</p> 
<pre><code>getSupportActionBar().hide();
</code></pre> 
<p>2.在themes.xml文件中将style的parrent改为</p> 
<pre><code>parent="Theme.AppCompat.Light.NoActionBar
</code></pre> 
<p>3.在themes.xml文件中的style里面添加以下item</p> 
<pre><code>&lt;item name="windowNoTitle"&gt;true&lt;/item&gt;
</code></pre> 
<p>4.在把 super.onCreate(savedInstanceState);前面添加以下代码</p> 
<pre><code>requestWindowFeature(Window.FEATURE_NO_TITLE);
</code></pre> 
<h2><a id="Activity_1044"></a>十、设置对话框风格Activity的两种方法</h2> 
<p>1.直接引用对话框风格的theme<br> 在AndroidManifest.xml中注册的Activity中添加<br> android:theme=“@style/Theme.AppCompat.Light.Dialog”</p> 
<pre><code class="prism language-xml"> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>activity</span>
            <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>.MainActivity5<span class="token punctuation">"</span></span>
            <span class="token attr-name"><span class="token namespace">android:</span>theme</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@style/Theme.AppCompat.Light.Dialog<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>activity</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>.MainActivity4<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre> 
<p>2.在themes.xml文件中自定义一个style，然后在Activity中引用</p> 
<pre><code class="prism language-xml">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>dialog_style<span class="token punctuation">"</span></span> <span class="token attr-name">parent</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Theme.ActivityOther<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
        &lt;!--是否悬浮在activity上--&gt;
        &lt;item name=<span class="token string">"android:windowIsFloating"</span>&gt;true&lt;/item&gt;
        &lt;!-- 设置是否透明 --&gt;
        &lt;item name=<span class="token string">"android:windowIsTranslucent"</span>&gt;true&lt;/item&gt;
        &lt;!-- 背景 --&gt;
        &lt;item name=<span class="token string">"android:background"</span>&gt;@null&lt;/item&gt;
        &lt;!--设置没有窗口标题、dialog标题等各种标题--&gt;
        &lt;!-- 无标题 --&gt;
        &lt;item name=<span class="token string">"android:windowNoTitle"</span>&gt;true&lt;/item&gt;
        &lt;item name=<span class="token string">"android:title"</span>&gt;@null&lt;/item&gt;
        &lt;item name=<span class="token string">"android:dialogTitle"</span>&gt;@null&lt;/item&gt;

        &lt;!-- 去黑边 --&gt;
        &lt;item name=<span class="token string">"android:windowFrame"</span>&gt;@null&lt;/item&gt;
        &lt;!-- 窗口背景 --&gt;
        &lt;item name=<span class="token string">"android:windowBackground"</span>&gt;@<span class="token property">android</span><span class="token punctuation">:</span>color/transparent&lt;/item&gt;
        &lt;!-- 是否变暗 --&gt;
        &lt;item name=<span class="token string">"android:backgroundDimEnabled"</span>&gt;false&lt;/item&gt;
        &lt;!-- 点击空白部分activity不消失 --&gt;
        &lt;item name=<span class="token string">"android:windowCloseOnTouchOutside"</span>&gt;false&lt;/item&gt;
        
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<h2><a id="onWindowFocusChanged_1083"></a>十、onWindowFocusChanged方法的应用</h2> 
<p>回调时机：当Activity得到或者失去焦点的时候回调，<br> 作用：<br> 1.监控Activity是否加载完毕<br> 2.测量控件，获取控件的宽高<br> 3.设置控件进入时的默认值<br> 参数解析：<br> hasFocus：进入或恢复Actiity时为true，Actvity销毁或者退到后台则为false</p> 
<pre><code class="prism language-java">    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onWindowFocusChanged</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> hasFocus<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onWindowFocusChanged</span><span class="token punctuation">(</span>hasFocus<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>hasFocus<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">"MainActivity4"</span><span class="token punctuation">,</span> <span class="token string">"Activity加载完毕!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            bt<span class="token punctuation">.</span><span class="token function">getLocationOnScreen</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">int</span> x <span class="token operator">=</span> a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">int</span> y <span class="token operator">=</span> a<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">int</span> m <span class="token operator">=</span> bt<span class="token punctuation">.</span><span class="token function">getHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">//横屏为宽度，竖屏为高度</span>
            <span class="token keyword">int</span> n <span class="token operator">=</span> bt<span class="token punctuation">.</span><span class="token function">getWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">"参数为"</span><span class="token punctuation">,</span> x <span class="token operator">+</span> <span class="token string">","</span> <span class="token operator">+</span> y <span class="token operator">+</span> <span class="token string">","</span> <span class="token operator">+</span> m <span class="token operator">+</span> <span class="token string">","</span> <span class="token operator">+</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">"左上角坐标为"</span><span class="token punctuation">,</span> x <span class="token operator">+</span> <span class="token string">","</span> <span class="token operator">+</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">"右上角坐标为"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>x <span class="token operator">+</span> n<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">","</span> <span class="token operator">+</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">"左下角坐标为"</span><span class="token punctuation">,</span> x <span class="token operator">+</span> <span class="token string">","</span> <span class="token operator">+</span> <span class="token punctuation">(</span>y <span class="token operator">+</span> m<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">"右上角坐标为"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>x <span class="token operator">+</span> n<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">","</span> <span class="token operator">+</span> <span class="token punctuation">(</span>y <span class="token operator">+</span> m<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

</code></pre> 
<h2><a id="Activityacitivityapp_1112"></a>十一、Activity管理类的使用以及关闭所有acitivity和完全退出app的方法</h2> 
<p>首先创建一个Activity管理类：<br> activity管理类解析：<br> 1.创建一个全局变量list<br> 2.创建三个方法：<br> a.将activity添加到list中<br> b.在list中删除单个activity<br> c.关闭list中的所有activity<br> activity管理类使用：<br> 1.activity启动时在onCreate方法中将activity添加到list中<br> 2.activity关闭时在onDestroy方法中将activity从list中删除<br> 3.退出应用时调用finishAll方法将list中的所有activity关闭</p> 
<p>ActivityCollector.java</p> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ActivityCollector</span> <span class="token punctuation">{<!-- --></span>
 
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Activity</span><span class="token punctuation">&gt;</span></span> activities <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Activity</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//添加activity</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">addActivity</span><span class="token punctuation">(</span><span class="token class-name">Activity</span> activity<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        activities<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>activity<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//删除activity</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">removeActivity</span><span class="token punctuation">(</span><span class="token class-name">Activity</span> activity<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        activities<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>activity<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//关闭所有activity</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">finishAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Activity</span> activity <span class="token operator">:</span> activities<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>activity<span class="token punctuation">.</span><span class="token function">isFinishing</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                activity<span class="token punctuation">.</span><span class="token function">finish</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>在Activity加载完成后调用管理类中添加activity的方法</p> 
<pre><code>ActivityCollector.addActivity(this);
</code></pre> 
<p>在Activity退出时调用管理类中删除activity的方法</p> 
<pre><code>ActivityCollector.removeActivity(this);
</code></pre> 
<p>在整个APP退出时调用管理类中关闭所有activity的方法</p> 
<pre><code class="prism language-java">  <span class="token comment">/**
     * 完全退出应用程序,包括后台任务
     * 需添加权限：android.permission.KILL_BACKGROUND_PROCESSES
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token class-name">AppExit</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
            <span class="token class-name">ActivityCollector</span><span class="token punctuation">.</span><span class="token function">finishAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">ActivityManager</span> activityMgr <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">ActivityManager</span><span class="token punctuation">)</span> context
                    <span class="token punctuation">.</span><span class="token function">getSystemService</span><span class="token punctuation">(</span><span class="token class-name">Context</span><span class="token punctuation">.</span><span class="token constant">ACTIVITY_SERVICE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            activityMgr<span class="token punctuation">.</span><span class="token function">killBackgroundProcesses</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span><span class="token function">getPackageName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ignored<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre> 
<h2><a id="Activity_1176"></a>十二、设计堆栈的Activity管理类</h2> 
<p>开源中国客户端Activity管理类</p> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AppManager</span> <span class="token punctuation">{<!-- --></span>

    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Stack</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Activity</span><span class="token punctuation">&gt;</span></span> activityStack<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">AppManager</span> instance<span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token class-name">AppManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
    <span class="token comment">/**
     * 单一实例
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">AppManager</span> <span class="token function">getAppManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>instance<span class="token operator">==</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            instance<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">AppManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> instance<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">/**
     * 添加Activity到堆栈
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addActivity</span><span class="token punctuation">(</span><span class="token class-name">Activity</span> activity<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>activityStack<span class="token operator">==</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            activityStack<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Stack</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Activity</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        activityStack<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>activity<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">/**
     * 获取当前Activity（堆栈中最后一个压入的）
     */</span>
    <span class="token keyword">public</span> <span class="token class-name">Activity</span> <span class="token function">currentActivity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token class-name">Activity</span> activity<span class="token operator">=</span>activityStack<span class="token punctuation">.</span><span class="token function">lastElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> activity<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">/**
     * 结束当前Activity（堆栈中最后一个压入的）
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">finishActivity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token class-name">Activity</span> activity<span class="token operator">=</span>activityStack<span class="token punctuation">.</span><span class="token function">lastElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">finishActivity</span><span class="token punctuation">(</span>activity<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">/**
     * 结束指定的Activity
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">finishActivity</span><span class="token punctuation">(</span><span class="token class-name">Activity</span> activity<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>activity<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            activityStack<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>activity<span class="token punctuation">)</span><span class="token punctuation">;</span>
            activity<span class="token punctuation">.</span><span class="token function">finish</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            activity<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">/**
     * 结束指定类名的Activity
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">finishActivity</span><span class="token punctuation">(</span><span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> cls<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Activity</span> activity <span class="token operator">:</span> activityStack<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>activity<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>cls<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                <span class="token function">finishActivity</span><span class="token punctuation">(</span>activity<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">/**
     * 结束所有Activity
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">finishAllActivity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> size <span class="token operator">=</span> activityStack<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> size<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">null</span> <span class="token operator">!=</span> activityStack<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                activityStack<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">finish</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        activityStack<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">/**
     * 退出应用程序
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token class-name">AppExit</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">finishAllActivity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">ActivityManager</span> activityMgr<span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">ActivityManager</span><span class="token punctuation">)</span> context<span class="token punctuation">.</span><span class="token function">getSystemService</span><span class="token punctuation">(</span><span class="token class-name">Context</span><span class="token punctuation">.</span><span class="token constant">ACTIVITY_SERVICE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            activityMgr<span class="token punctuation">.</span><span class="token function">restartPackage</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span><span class="token function">getPackageName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>    <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<hr> 
<h2><a id="_1266"></a>总结</h2> 
<p>关于控件部分，因为常用控件太多，还有一部分常用控件未作说明，以后单独写一篇</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/bc9a33958e133c36178fad9c6f6a398d/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【typescript】微信小程序扩展你的全局wx对象</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/8038e0fb70dec300e32b027d51fdbb0d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">SpringBoot内部消息机制-通用版</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>