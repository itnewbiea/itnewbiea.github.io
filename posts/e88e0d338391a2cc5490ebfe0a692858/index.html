<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>关于“Python”的核心知识点整理大全54 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="关于“Python”的核心知识点整理大全54" />
<meta property="og:description" content="目录
18.4 创建其他网页
18.4.1 模板继承
1. 父模板
base.html
注意
2. 子模板
index.html
注意
18.4.2 显示所有主题的页面
1. URL模式
urls.py
2. 视图
views.py
3. 模板
topics.html
18.4.3 显示特定主题的页面
1. URL模式
urls.py
2. 视图
views.py
往期快速传送门👆（在文章最后）：
感谢大家的支持！欢迎订阅收藏！专栏将持续更新！
18.4 创建其他网页 制定创建网页的流程后，可以开始扩充“学习笔记”项目了。我们将创建两个显示数据的网 页，其中一个列出所有的主题，另一个显示特定主题的所有条目。对于每个网页，我们都将指定 URL模式，编写一个视图函数，并编写一个模板。但这样做之前，我们先创建一个父模板，项目 中的其他模板都将继承它。
18.4.1 模板继承 创建网站时，几乎都有一些所有网页都将包含的元素。在这种情况下，可编写一个包含通用 元素的父模板，并让每个网页都继承这个模板，而不必在每个网页中重复定义这些通用元素。这 种方法能让你专注于开发每个网页的独特方面，还能让修改项目的整体外观容易得多。
1. 父模板 我们首先来创建一个名为base.html的模板，并将其存储在index.html所在的目录中。这个文件 包含所有页面都有的元素；其他的模板都继承base.html。当前，所有页面都包含的元素只有顶端 的标题。我们将在每个页面中包含这个模板，因此我们将这个标题设置为到主页的链接：
base.html &lt;p&gt; 1 &lt;a href=&#34;{% url &#39;learning_logs:index&#39; %}&#34;&gt;Learning Log&lt;/a&gt; &lt;/p&gt; 2 {% block content %}{% endblock content %} 这个文件的第一部分创建一个包含项目名的段落，该段落也是一个到主页的链接。为创建链 接，我们使用了一个模板标签，它是用大括号和百分号（{% %}）表示的。模板标签是一小段代 码，生成要在网页中显示的信息。在这个实例中，模板标签{% url &#39;learning_logs:index&#39; %}生成一个URL，该URL与learning_logs/urls." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/e88e0d338391a2cc5490ebfe0a692858/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-01T11:00:00+08:00" />
<meta property="article:modified_time" content="2024-01-01T11:00:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">关于“Python”的核心知识点整理大全54</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/98/91/EjJruYvD_o.gif"></p> 
<p id="main-toc"><strong>目录</strong></p> 
<p id="18.4%20%E5%88%9B%E5%BB%BA%E5%85%B6%E4%BB%96%E7%BD%91%E9%A1%B5-toc" style="margin-left:40px;"><a href="#18.4%20%E5%88%9B%E5%BB%BA%E5%85%B6%E4%BB%96%E7%BD%91%E9%A1%B5" rel="nofollow">18.4 创建其他网页</a></p> 
<p id="18.4.1%20%E6%A8%A1%E6%9D%BF%E7%BB%A7%E6%89%BF-toc" style="margin-left:80px;"><a href="#18.4.1%20%E6%A8%A1%E6%9D%BF%E7%BB%A7%E6%89%BF" rel="nofollow">18.4.1 模板继承</a></p> 
<p id="1.%20%E7%88%B6%E6%A8%A1%E6%9D%BF-toc" style="margin-left:120px;"><a href="#1.%20%E7%88%B6%E6%A8%A1%E6%9D%BF" rel="nofollow">1. 父模板</a></p> 
<p id="base.html-toc" style="margin-left:120px;"><a href="#base.html" rel="nofollow">base.html</a></p> 
<p id="%E6%B3%A8%E6%84%8F-toc" style="margin-left:40px;"><a href="#%E6%B3%A8%E6%84%8F" rel="nofollow">注意</a></p> 
<p id="2.%20%E5%AD%90%E6%A8%A1%E6%9D%BF-toc" style="margin-left:120px;"><a href="#2.%20%E5%AD%90%E6%A8%A1%E6%9D%BF" rel="nofollow">2. 子模板</a></p> 
<p id="index.html-toc" style="margin-left:120px;"><a href="#index.html" rel="nofollow">index.html</a></p> 
<p id="%E6%B3%A8%E6%84%8F-toc" style="margin-left:40px;"><a href="#%E6%B3%A8%E6%84%8F" rel="nofollow">注意</a></p> 
<p id="18.4.2%20%E6%98%BE%E7%A4%BA%E6%89%80%E6%9C%89%E4%B8%BB%E9%A2%98%E7%9A%84%E9%A1%B5%E9%9D%A2-toc" style="margin-left:80px;"><a href="#18.4.2%20%E6%98%BE%E7%A4%BA%E6%89%80%E6%9C%89%E4%B8%BB%E9%A2%98%E7%9A%84%E9%A1%B5%E9%9D%A2" rel="nofollow">18.4.2 显示所有主题的页面</a></p> 
<p id="1.%20URL%E6%A8%A1%E5%BC%8F-toc" style="margin-left:120px;"><a href="#1.%20URL%E6%A8%A1%E5%BC%8F" rel="nofollow">1. URL模式</a></p> 
<p id="urls.py-toc" style="margin-left:120px;"><a href="#urls.py" rel="nofollow">urls.py</a></p> 
<p id="2.%20%E8%A7%86%E5%9B%BE-toc" style="margin-left:120px;"><a href="#2.%20%E8%A7%86%E5%9B%BE" rel="nofollow">2. 视图</a></p> 
<p id="views.py-toc" style="margin-left:120px;"><a href="#views.py" rel="nofollow">views.py</a></p> 
<p id="3.%20%E6%A8%A1%E6%9D%BF-toc" style="margin-left:120px;"><a href="#3.%20%E6%A8%A1%E6%9D%BF" rel="nofollow">3. 模板</a></p> 
<p id="topics.html-toc" style="margin-left:120px;"><a href="#topics.html" rel="nofollow">topics.html</a></p> 
<p id="18.4.3%20%E6%98%BE%E7%A4%BA%E7%89%B9%E5%AE%9A%E4%B8%BB%E9%A2%98%E7%9A%84%E9%A1%B5%E9%9D%A2-toc" style="margin-left:80px;"><a href="#18.4.3%20%E6%98%BE%E7%A4%BA%E7%89%B9%E5%AE%9A%E4%B8%BB%E9%A2%98%E7%9A%84%E9%A1%B5%E9%9D%A2" rel="nofollow">18.4.3 显示特定主题的页面</a></p> 
<p id="1.%20URL%E6%A8%A1%E5%BC%8F-toc" style="margin-left:120px;"><a href="#1.%20URL%E6%A8%A1%E5%BC%8F" rel="nofollow">1. URL模式</a></p> 
<p id="urls.py-toc" style="margin-left:120px;"><a href="#urls.py" rel="nofollow">urls.py</a></p> 
<p id="2.%20%E8%A7%86%E5%9B%BE-toc" style="margin-left:120px;"><a href="#2.%20%E8%A7%86%E5%9B%BE" rel="nofollow">2. 视图</a></p> 
<p id="views.py-toc" style="margin-left:120px;"><a href="#views.py" rel="nofollow">views.py</a></p> 
<p id="%E5%BE%80%E6%9C%9F%E5%BF%AB%E9%80%9F%E4%BC%A0%E9%80%81%E9%97%A8%F0%9F%91%86%EF%BC%88%E5%9C%A8%E6%96%87%E7%AB%A0%E6%9C%80%E5%90%8E%EF%BC%89%EF%BC%9A-toc" style="margin-left:0px;"><a href="#%E5%BE%80%E6%9C%9F%E5%BF%AB%E9%80%9F%E4%BC%A0%E9%80%81%E9%97%A8%F0%9F%91%86%EF%BC%88%E5%9C%A8%E6%96%87%E7%AB%A0%E6%9C%80%E5%90%8E%EF%BC%89%EF%BC%9A" rel="nofollow">往期快速传送门👆（在文章最后）：</a></p> 
<p id="%E6%84%9F%E8%B0%A2%E5%A4%A7%E5%AE%B6%E7%9A%84%E6%94%AF%E6%8C%81%EF%BC%81%E6%AC%A2%E8%BF%8E%E8%AE%A2%E9%98%85%E6%94%B6%E8%97%8F%EF%BC%81%E4%B8%93%E6%A0%8F%E5%B0%86%E6%8C%81%E7%BB%AD%E6%9B%B4%E6%96%B0%EF%BC%81-toc" style="margin-left:0px;"><a href="#%E6%84%9F%E8%B0%A2%E5%A4%A7%E5%AE%B6%E7%9A%84%E6%94%AF%E6%8C%81%EF%BC%81%E6%AC%A2%E8%BF%8E%E8%AE%A2%E9%98%85%E6%94%B6%E8%97%8F%EF%BC%81%E4%B8%93%E6%A0%8F%E5%B0%86%E6%8C%81%E7%BB%AD%E6%9B%B4%E6%96%B0%EF%BC%81" rel="nofollow">感谢大家的支持！欢迎订阅收藏！专栏将持续更新！</a></p> 
<hr id="hr-toc"> 
<p></p> 
<p style="text-align:center;"><img alt="" height="234" src="https://images2.imgbox.com/fd/a6/D0X54ECk_o.png" width="364"></p> 
<h3 id="18.4%20%E5%88%9B%E5%BB%BA%E5%85%B6%E4%BB%96%E7%BD%91%E9%A1%B5" style="text-align:center;">18.4 <strong>创建其他网页</strong></h3> 
<blockquote> 
 <p style="text-align:center;">制定创建网页的流程后，可以开始扩充“学习笔记”项目了。我们将创建两个显示数据的网 页，其中一个列出所有的主题，另一个显示特定主题的所有条目。对于每个网页，我们都将指定 URL模式，编写一个视图函数，并编写一个模板。但这样做之前，我们先创建一个父模板，项目 中的其他模板都将继承它。</p> 
</blockquote> 
<h4 id="18.4.1%20%E6%A8%A1%E6%9D%BF%E7%BB%A7%E6%89%BF" style="text-align:center;">18.4.1 模板继承</h4> 
<blockquote> 
 <p style="text-align:center;">创建网站时，几乎都有一些所有网页都将包含的元素。在这种情况下，可编写一个包含通用 元素的父模板，并让每个网页都继承这个模板，而不必在每个网页中重复定义这些通用元素。这 种方法能让你专注于开发每个网页的独特方面，还能让修改项目的整体外观容易得多。</p> 
 <p style="text-align:center;"></p> 
 <h5 id="1.%20%E7%88%B6%E6%A8%A1%E6%9D%BF" style="text-align:center;">1. 父模板</h5> 
 <p style="text-align:center;"></p> 
 <p style="text-align:center;">我们首先来创建一个名为base.html的模板，并将其存储在index.html所在的目录中。这个文件 包含所有页面都有的元素；其他的模板都继承base.html。当前，所有页面都包含的元素只有顶端 的标题。我们将在每个页面中包含这个模板，因此我们将这个标题设置为到主页的链接：</p> 
 <p style="text-align:center;"></p> 
 <h5 id="base.html" style="text-align:center;">base.html</h5> 
</blockquote> 
<pre><code class="language-python">&lt;p&gt;
1 &lt;a href="{% url 'learning_logs:index' %}"&gt;Learning Log&lt;/a&gt;
&lt;/p&gt;
2 {% block content %}{% endblock content %}</code></pre> 
<blockquote> 
 <p style="text-align:center;">这个文件的第一部分创建一个包含项目名的段落，该段落也是一个到主页的链接。为创建链 接，我们使用了一个模板标签，它是用大括号和百分号（{% %}）表示的。模板标签是一小段代 码，生成要在网页中显示的信息。在这个实例中，模板标签{% url 'learning_logs:index' %}生成一个URL，该URL与learning_logs/urls.py中定义的名为index的URL模式匹配（见）。在这 个示例中，learning_logs是一个命名空间，而index是该命名空间中一个名称独特的URL模式。 在简单的HTML页面中，链接是使用锚标签定义的：</p> 
</blockquote> 
<pre><code class="language-python">&lt;a href="link_url"&gt;link text&lt;/a&gt;</code></pre> 
<blockquote> 
 <p style="text-align:center;">让模板标签来生成URL，可让链接保持最新容易得多。要修改项目中的URL，只需修改urls.py 中的URL模式，这样网页被请求时，Django将自动插入修改后的URL。在我们的项目中，每个网 页都将继承base.html，因此从现在开始，每个网页都包含到主页的链接。</p> 
 <p style="text-align:center;"></p> 
 <p style="text-align:center;">在2处，我们插入了一对块标签。这个块名为content，是一个占位符，其中包含的信息将 由子模板指定。</p> 
 <p style="text-align:center;"></p> 
 <p style="text-align:center;">子模板并非必须定义父模板中的每个块，因此在父模板中，可使用任意多个块来预留空间， 而子模板可根据需要定义相应数量的块。</p> 
</blockquote> 
<hr> 
<h3 id="%E6%B3%A8%E6%84%8F" style="text-align:center;">注意</h3> 
<p style="text-align:center;">在Python代码中，我们几乎总是缩进四个空格。相比于Python文件，模板文件的缩进层级 更多，因此每个层级通常只缩进两个空格。</p> 
<hr> 
<blockquote> 
 <h5 id="2.%20%E5%AD%90%E6%A8%A1%E6%9D%BF" style="text-align:center;">2. 子模板</h5> 
 <p style="text-align:center;"></p> 
 <p style="text-align:center;">现在需要重新编写index.html，使其继承base.html，如下所示：</p> 
 <p style="text-align:center;"></p> 
 <h5 id="index.html" style="text-align:center;">index.html</h5> 
</blockquote> 
<pre><code class="language-python">1 {% extends "learning_logs/base.html" %}
2 {% block content %}
 &lt;p&gt;Learning Log helps you keep track of your learning, for any topic you're
 learning about.&lt;/p&gt;
3 {% endblock content %}</code></pre> 
<blockquote> 
 <p style="text-align:center;">如果将这些代码与原来的index.html进行比较，可发现我们将标题Learning Log替换成了从父 模板那里继承的代码（见1）。子模板的第一行必须包含标签{% extends %}，让Django知道它继 承了哪个父模板。文件base.html位于文件夹learning_logs中，因此父模板路径中包含learning_logs。 这行代码导入模板base.html的所有内容，让index.html能够指定要在content块预留的空间中添加 的内容。</p> 
 <p style="text-align:center;"></p> 
 <p style="text-align:center;">在2处，我们插入了一个名为content的{% block %}标签，以定义content块。不是从父模板 继承的内容都包含在content块中，在这里是一个描述项目“学习笔记”的段落。在处，我们 使用标签{% endblock content %}指出了内容定义的结束位置。</p> 
 <p style="text-align:center;"></p> 
 <p style="text-align:center;">模板继承的优点开始显现出来了：在子模板中，只需包含当前网页特有的内容。这不仅简化 了每个模板，还使得网站修改起来容易得多。要修改很多网页都包含的元素，只需在父模板中修 改该元素，你所做的修改将传导到继承该父模板的每个页面。在包含数十乃至数百个网页的项目中，这种结构使得网站改进起来容易而且快捷得多。</p> 
</blockquote> 
<hr> 
<h3 style="text-align:center;">注意</h3> 
<p style="text-align:center;">在大型项目中，通常有一个用于整个网站的父模板——base.html，且网站的每个主要部 分都有一个父模板。每个部分的父模板都继承base.html，而网站的每个网页都继承相应 部分的父模板。这让你能够轻松地修改整个网站的外观、网站任何一部分的外观以及任 何一个网页的外观。这种配置提供了一种效率极高的工作方式，让你乐意不断地去改进 网站。</p> 
<hr> 
<h4 id="18.4.2%20%E6%98%BE%E7%A4%BA%E6%89%80%E6%9C%89%E4%B8%BB%E9%A2%98%E7%9A%84%E9%A1%B5%E9%9D%A2" style="text-align:center;">18.4.2 显示所有主题的页面</h4> 
<blockquote> 
 <p style="text-align:center;">有了高效的网页创建方法，就能专注于另外两个网页了：显示全部主题的网页以及显示特定 主题中条目的网页。所有主题页面显示用户创建的所有主题，它是第一个需要使用数据的网页。</p> 
 <p style="text-align:center;"></p> 
 <h5 id="1.%20URL%E6%A8%A1%E5%BC%8F" style="text-align:center;">1. URL模式</h5> 
 <p style="text-align:center;"></p> 
 <p style="text-align:center;">首先，我们来定义显示所有主题的页面的URL。通常，使用一个简单的URL片段来指出网页 显示的信息；我们将使用单词topics，因此URL http://localhost:8000/topics/将返回显示所有主题的 页面。下面演示了该如何修改learning_logs/urls.py：</p> 
 <p style="text-align:center;"></p> 
 <h5 id="urls.py" style="text-align:center;">urls.py</h5> 
</blockquote> 
<pre><code class="language-python">"""为learning_logs定义URL模式"""
--snip--
urlpatterns = [
 # 主页
 url(r'^$', views.index, name='index'),
 # 显示所有的主题
 url(r'^topics/$', views.topics, name='topics'),
] </code></pre> 
<blockquote> 
 <p style="text-align:center;">我们只是在用于主页URL的正则表达式中添加了topics/（见）。Django检查请求的URL时， 这个模式与这样的URL匹配：基础URL后面跟着topics。可以在末尾包含斜杠，也可以省略它， 但单词topics后面不能有任何东西，否则就与该模式不匹配。其URL与该模式匹配的请求都将交 给views.py中的函数topics()进行处理。</p> 
 <p style="text-align:center;"></p> 
 <h5 id="2.%20%E8%A7%86%E5%9B%BE" style="text-align:center;">2. 视图</h5> 
 <p style="text-align:center;"></p> 
 <p style="text-align:center;">函数topics()需要从数据库中获取一些数据，并将其发送给模板。我们需要在views.py中添 加的代码如下：</p> 
 <p style="text-align:center;"></p> 
 <h5 id="views.py" style="text-align:center;">views.py</h5> 
</blockquote> 
<pre><code class="language-python">from django.shortcuts import render
1 from .models import Topic
def index(request):
 --snip--
2 def topics(request):
 """显示所有的主题"""
3 topics = Topic.objects.order_by('date_added')
4 context = {'topics': topics}
5 return render(request, 'learning_logs/topics.html', context) </code></pre> 
<blockquote> 
 <p style="text-align:center;">我们首先导入了与所需数据相关联的模型（见1）。函数topics()包含一个形参：Django从服 务器那里收到的request对象（见2）。在3处，我们查询数据库——请求提供Topic对象，并按属 性date_added对它们进行排序。我们将返回的查询集存储在topics中。</p> 
 <p style="text-align:center;"></p> 
 <p style="text-align:center;">在4处，我们定义了一个将要发送给模板的上下文。上下文是一个字典，其中的键是我们将 在模板中用来访问数据的名称，而值是我们要发送给模板的数据。在这里，只有一个键—值对， 它包含我们将在网页中显示的一组主题。创建使用数据的网页时，除对象request和模板的路径 外，我们还将变量context传递给render()（见5）。</p> 
 <h5 id="3.%20%E6%A8%A1%E6%9D%BF" style="text-align:center;">3. 模板</h5> 
 <p style="text-align:center;">显示所有主题的页面的模板接受字典context，以便能够使用topics()提供的数据。请创建一 个文件，将其命名为topics.html，并存储到index.html所在的目录中。下面演示了如何在这个模板 中显示主题：</p> 
 <p style="text-align:center;"></p> 
 <h5 id="topics.html" style="text-align:center;">topics.html</h5> 
</blockquote> 
<pre><code class="language-python">{% extends "learning_logs/base.html" %}
{% block content %}
 &lt;p&gt;Topics&lt;/p&gt;
1 &lt;ul&gt;
2 {% for topic in topics %}
3 &lt;li&gt;{<!-- -->{ topic }}&lt;/li&gt;
4 {% empty %}
 &lt;li&gt;No topics have been added yet.&lt;/li&gt;
5 {% endfor %}
6 &lt;/ul&gt;
{% endblock content %} </code></pre> 
<blockquote> 
 <p style="text-align:center;">就像模板index.html一样，我们首先使用标签{% extends %}来继承base.html，再开始定义 content块。这个网页的主体是一个项目列表，其中列出了用户输入的主题。在标准HTML中，项 目列表被称为无序列表，用标签</p> 
 <p style="text-align:center;">表示。包含所有主题的项目列表始于1处。 在2处，我们使用了一个相当于for循环的模板标签，它遍历字典context中的列表topics。 模板中使用的代码与Python代码存在一些重要差别：Python使用缩进来指出哪些代码行是for循环 的组成部分，而在模板中，每个for循环都必须使用{% endfor %}标签来显式地指出其结束位置。因此在模板中，循环类似于下面这样：</p> 
</blockquote> 
<pre><code class="language-python">{% for item in list %}
 do something with each item
{% endfor %} </code></pre> 
<p style="text-align:center;"><img alt="" height="350" src="https://images2.imgbox.com/c6/cf/RsgopuO6_o.png" width="939"></p> 
<pre><code class="language-python">&lt;p&gt;
1 &lt;a href="{% url 'learning_logs:index' %}"&gt;Learning Log&lt;/a&gt; -
2 &lt;a href="{% url 'learning_logs:topics' %}"&gt;Topics&lt;/a&gt;
&lt;/p&gt;
{% block content %}{% endblock content %} </code></pre> 
<blockquote> 
 <p style="text-align:center;">我们在到主页的链接后面添加了一个连字符（见1），然后添加了一个到显示所有主题的页 面的链接——使用的也是模板标签url（见2）。这一行让Django生成一个链接，它与learning_logs/ urls.py中名为topics的URL模式匹配。</p> 
 <p style="text-align:center;">现在如果你刷新浏览器中的主页，将看到链接Topics。单击这个链接，将看到类似于图18-4 所示的网页.</p> 
</blockquote> 
<p style="text-align:center;"><img alt="" height="375" src="https://images2.imgbox.com/52/4b/oLH7luyo_o.png" width="724"></p> 
<h4 id="18.4.3%20%E6%98%BE%E7%A4%BA%E7%89%B9%E5%AE%9A%E4%B8%BB%E9%A2%98%E7%9A%84%E9%A1%B5%E9%9D%A2" style="text-align:center;">18.4.3 显示特定主题的页面</h4> 
<blockquote> 
 <p style="text-align:center;">接下来，我们需要创建一个专注于特定主题的页面——显示该主题的名称及该主题的所有条 目。同样，我们将定义一个新的URL模式，编写一个视图并创建一个模板。我们还将修改显示所 有主题的网页，让每个项目列表项都是一个链接，单击它将显示相应主题的所有条目。</p> 
 <p style="text-align:center;"></p> 
 <h5 style="text-align:center;">1. URL模式</h5> 
 <p style="text-align:center;">显示特定主题的页面的URL模式与前面的所有URL模式都稍有不同，因为它将使用主题的id 属性来指出请求的是哪个主题。例如，如果用户要查看主题Chess（其id为1）的详细页面，URL 将为http://localhost:8000/topics/1/。下面是与这个URL匹配的模式，它包含在learning_logs/urls.py中：</p> 
 <p style="text-align:center;"></p> 
 <h5 style="text-align:center;">urls.py</h5> 
</blockquote> 
<pre><code class="language-python">--snip--
urlpatterns = [
 --snip--
 # 特定主题的详细页面
 url(r'^topics/(?P&lt;topic_id&gt;\d+)/$', views.topic, name='topic'),
] </code></pre> 
<blockquote> 
 <p style="text-align:center;">我们来详细研究这个URL模式中的正则表达式——r'^topics/(?P\d+)/$'。r让 Django将这个字符串视为原始字符串，并指出正则表达式包含在引号内。这个表达式的第二部分 （/(?P\d+)/）与包含在两个斜杠内的整数匹配，并将这个整数存储在一个名为topic_id 的实参中。这部分表达式两边的括号捕获URL中的值；?P将匹配的值存储到topic_id 中；而表达式\d+与包含在两个斜杆内的任何数字都匹配，不管这个数字为多少位。 发现URL与这个模式匹配时，Django将调用视图函数topic()，并将存储在topic_id中的值作 为实参传递给它。在这个函数中，我们将使用topic_id的值来获取相应的主题。</p> 
 <p style="text-align:center;"></p> 
 <h5 style="text-align:center;">2. 视图</h5> 
 <p style="text-align:center;"></p> 
 <p style="text-align:center;">函数topic()需要从数据库中获取指定的主题以及与之相关联的所有条目，如下所示：</p> 
 <p style="text-align:center;"></p> 
 <h5 style="text-align:center;">views.py</h5> 
</blockquote> 
<pre><code class="language-python">--snip--
1 def topic(request, topic_id):
 """显示单个主题及其所有的条目"""
2 topic = Topic.objects.get(id=topic_id)
3 entries = topic.entry_set.order_by('-date_added')
4 context = {'topic': topic, 'entries': entries}
5 return render(request, 'learning_logs/topic.html', context)</code></pre> 
<hr> 
<p style="text-align:center;"><a href="https://blog.csdn.net/lzy302810/article/details/135153641?spm=1001.2014.3001.5502" title="关于“Python”的核心知识点整理大全37-CSDN博客">关于“Python”的核心知识点整理大全37-CSDN博客</a></p> 
<p style="text-align:center;"><a href="https://blog.csdn.net/lzy302810/article/details/135043856?spm=1001.2014.3001.5502" title="关于“Python”的核心知识点整理大全25-CSDN博客">关于“Python”的核心知识点整理大全25-CSDN博客</a></p> 
<p style="text-align:center;"><a href="https://blog.csdn.net/lzy302810/article/details/134917938?spm=1001.2014.3001.5502" title="关于“Python”的核心知识点整理大全12-CSDN博客">关于“Python”的核心知识点整理大全12-CSDN博客</a></p> 
<h2 id="%E5%BE%80%E6%9C%9F%E5%BF%AB%E9%80%9F%E4%BC%A0%E9%80%81%E9%97%A8%F0%9F%91%86%EF%BC%88%E5%9C%A8%E6%96%87%E7%AB%A0%E6%9C%80%E5%90%8E%EF%BC%89%EF%BC%9A" style="text-align:center;"><strong>往期快速传送门👆（在文章最后）：</strong></h2> 
<h2 id="%E6%84%9F%E8%B0%A2%E5%A4%A7%E5%AE%B6%E7%9A%84%E6%94%AF%E6%8C%81%EF%BC%81%E6%AC%A2%E8%BF%8E%E8%AE%A2%E9%98%85%E6%94%B6%E8%97%8F%EF%BC%81%E4%B8%93%E6%A0%8F%E5%B0%86%E6%8C%81%E7%BB%AD%E6%9B%B4%E6%96%B0%EF%BC%81" style="text-align:center;"><a name="t7"></a><a name="t14"></a><a name="t9"></a><a name="t10"></a><a name="t16"></a><strong><a name="t8"></a><a name="t13"></a><a name="t11"></a>感谢大家的支持！欢迎订阅收藏！专栏将持续更新！</strong></h2>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/928098b588090c3afb878bf58de76454/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">PythonAnywhere中运行GitHub代码步骤</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/2260abad421c167ae44f458146d1d103/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">物理内存不够怎么办？？？centos9下如何设置大的swap空间</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>