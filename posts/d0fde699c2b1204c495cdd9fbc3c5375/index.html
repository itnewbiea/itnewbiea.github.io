<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>dirent - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="dirent" />
<meta property="og:description" content="http://baike.baidu.com/view/3680174.htm?fr=aladdin dirent，LINUX系统下的一个头文件，在这个目录下/usr/include，为了获取某文件夹目录内容，所使用的 结构体。 目录 1Linux下c语言编程所引用
2结构体说明
▪ 相关函数 ▪ 使用实例 1Linux下c语言编程所引用编辑 LINUX系统下的一个头文件,在这个目录下/usr/include 为了获取某文件夹目录内容，所使用的 结构体。 引用头文件#include&lt;dirent.h&gt; 2结构体说明编辑 struct dirent { long d_ino; /* inode number 索引节点号 */ off_t d_off; /* offset to this dirent 在目录文件中的偏移 */ unsigned short d_reclen; /* length of this d_name 文件名长 */ unsigned char d_type; /* the type of d_name 文件类型 */ char d_name [NAME_MAX&#43;1]; /* file name (null-terminated) 文件名，最长256字符 */ } 相关函数 opendir()，readdir(),closedir(); 使用实例 #include &lt;stdio." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/d0fde699c2b1204c495cdd9fbc3c5375/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2014-09-05T06:36:17+08:00" />
<meta property="article:modified_time" content="2014-09-05T06:36:17+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">dirent</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div class="edit-prompt" style="height:37px; line-height:37px; width:655px; padding-left:35px; background-color:rgb(249,249,249); color:rgb(102,102,102); font-family:arial,宋体,sans-serif"> 
 <a target="_blank" href="http://baike.baidu.com/view/3680174.htm?fr=aladdin" rel="nofollow noopener noreferrer">http://baike.baidu.com/view/3680174.htm?fr=aladdin</a> 
 <br> 
</div> 
<div class="mod-top" id="card-container" style="margin-bottom:18px; font-family:arial,宋体,sans-serif; font-size:14.399999618530273px; line-height:24px; clear:both"> 
 <div class="card-summary nslog-area clearfix" style="clear:both; line-height:25px; color:rgb(51,51,51); margin-bottom:18px"> 
  <div class="card-summary-content"> 
   <div class="para" style="margin:15px 0px 5px; text-indent:2em; line-height:24px">
     dirent，LINUX系统下的一个头文件，在这个目录下/usr/include，为了获取某文件夹目录内容，所使用的 
    <a target="_blank" href="http://baike.baidu.com/view/204974.htm" rel="nofollow noopener noreferrer" style="text-decoration:none; color:rgb(19,110,194)">结构体</a>。 
   </div> 
  </div> 
 </div> 
</div> 
<div class="z-catalog nslog-area log-set-param" id="catalog-0" style="z-index:0; position:relative; background-color:rgb(251,251,251); width:310px; overflow:hidden; margin-top:30px; padding-top:6px; clear:both; font-family:arial,宋体,sans-serif; font-size:14.399999618530273px; line-height:24px"> 
 <h3 style="margin:0px; padding:22px 0px 0px; font-size:20px; float:left; width:83px; height:0px; color:rgb(51,51,51); font-family:微软雅黑,黑体,sans-serif; line-height:22px; font-weight:200; text-align:center; position:relative"> <span style="display:block; width:64px; height:48px; position:absolute; top:12px; right:-1px; background-color:rgb(100,160,222); color:rgb(255,255,255); border-right-width:3px; border-right-style:solid; border-right-color:rgb(76,136,199); font-size:18px; line-height:48px; zoom:1">目录</span></h3> 
 <dl id="catalog-holder-0" class="holder hideholder" style="margin:0px; padding:6px 0px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(235,235,235); background-color:rgb(255,255,255); min-height:60px; overflow:hidden; height:97.5999984741211px"> 
  <dd class="catalog-item 0" style="margin:3px 0px 0px; padding:2px 0px; line-height:20px"> 
   <p class="z-catalog-i1" style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; padding-left:25px; position:relative; zoom:1"> <span class="catalog-item-index1" style="position:absolute; left:0px; top:0px; width:18px; color:rgb(99,160,223); font-size:16px; padding-right:8px; text-align:right; display:inline-block">1</span><a target="_blank" href="http://baike.baidu.com/view/3680174.htm?fr=aladdin#1" rel="nofollow noopener noreferrer" class="nslog:1274" name="STAT_ONCLICK_UNSUBMIT_CATALOG" style="text-decoration:none; color:rgb(19,110,194); font-size:16px; padding-right:10px; font-family:微软雅黑,黑体">Linux下c语言编程所引用</a></p> 
  </dd> 
  <dd class="catalog-item 49" style="margin:3px 0px 0px; padding:2px 0px; line-height:20px"> 
   <p class="z-catalog-i1" style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; padding-left:25px; position:relative; zoom:1"> <span class="catalog-item-index1" style="position:absolute; left:0px; top:0px; width:18px; color:rgb(99,160,223); font-size:16px; padding-right:8px; text-align:right; display:inline-block">2</span><a target="_blank" href="http://baike.baidu.com/view/3680174.htm?fr=aladdin#2" rel="nofollow noopener noreferrer" class="nslog:1274" name="STAT_ONCLICK_UNSUBMIT_CATALOG" style="text-decoration:none; color:rgb(19,110,194); font-size:16px; padding-right:10px; font-family:微软雅黑,黑体">结构体说明</a></p> 
  </dd> 
  <dd class="hold-catalog-li er 77" style="margin:0px; padding:3px 0px 2px 26px; line-height:16px; font-size:12px; color:rgb(51,51,51)"> 
   <span style="color:rgb(204,204,204); padding-right:5px">▪</span>  
   <a target="_blank" href="http://baike.baidu.com/view/3680174.htm?fr=aladdin#2_1" rel="nofollow noopener noreferrer" style="text-decoration:none; color:rgb(51,51,51)">相关函数</a> 
  </dd> 
  <dd class="hold-catalog-li er 98" style="margin:0px; padding:3px 0px 2px 26px; line-height:16px; font-size:12px; color:rgb(51,51,51)"> 
   <span style="color:rgb(204,204,204); padding-right:5px">▪</span>  
   <a target="_blank" href="http://baike.baidu.com/view/3680174.htm?fr=aladdin#2_2" rel="nofollow noopener noreferrer" style="text-decoration:none; color:rgb(51,51,51)">使用实例</a> 
  </dd> 
 </dl> 
 <div id="lemma-catalog-bottombg" style="height:6px; font-size:6px; width:310px; line-height:6px; background-color:transparent; clear:both"> 
 </div> 
</div> 
<div class="clear" style="clear:both; font-size:0px; line-height:0; height:0px; visibility:visible; font-family:arial,宋体,sans-serif"> 
</div> 
<div id="lemmaContent-0" class="lemma-main-content rainbowlemma--" style="float:left; outline:0px; padding-bottom:16px; width:690px; position:relative; left:-25px; padding-left:25px; font-family:arial,宋体,sans-serif; font-size:14.399999618530273px; line-height:24px"> 
 <div class="anchor-list" style="position:relative; clear:both"> 
  <a target="_blank" name="1" class="anchor-1 " style="color:rgb(19,110,194); position:relative; display:block; top:-50px"></a> 
  <a target="_blank" name="sub3680174_1" class="anchor-1 " style="color:rgb(19,110,194); position:relative; display:block; top:-50px"></a> 
  <a target="_blank" name="Linux%E4%B8%8Bc%E8%AF%AD%E8%A8%80%E7%BC%96%E7%A8%8B%E6%89%80%E5%BC%95%E7%94%A8" class="anchor-1 " style="color:rgb(19,110,194); position:relative; display:block; top:-50px"></a> 
 </div> 
 <h3 class="headline-1" style="margin:35px 0px 15px -25px; padding:0px; font-size:24px; font-family:微软雅黑,黑体,Verdana; font-weight:500; line-height:22px; clear:both; zoom:1; overflow:hidden; position:relative"> <span class="headline-1-index" style="width:25px; height:24px; line-height:24px; font-size:16px; display:block; float:left; margin:1px 0px 0px; background-color:rgb(81,156,234); color:rgb(255,255,255); text-align:center">1</span><span class="headline-content" style="line-height:24px; display:block; float:left; padding:0px 8px 0px 5px">Linux下c语言编程所引用</span><span class="text_edit editable-title" style="display:block; float:right; padding:6px 0px 0px 8px; margin-left:10px"><a target="_blank" href="http://baike.baidu.com/view/3680174.htm?fr=aladdin#" rel="nofollow noopener noreferrer" class="nslog:1019" title="编辑本段" style="text-decoration:none; color:rgb(136,136,136); height:15px; line-height:16px; padding-left:18px; background-color:transparent; font-size:12px; font-family:宋体; display:block">编辑</a></span></h3> 
 <div class="para" style="color:rgb(51,51,51); margin:15px 0px 5px; text-indent:2em">
   LINUX系统下的一个头文件,在这个目录下/usr/include 
 </div> 
 <div class="para" style="color:rgb(51,51,51); margin:15px 0px 5px; text-indent:2em">
   为了获取某文件夹目录内容，所使用的 
  <a target="_blank" href="http://baike.baidu.com/view/204974.htm" rel="nofollow noopener noreferrer" style="text-decoration:none; color:rgb(19,110,194)">结构体</a>。 
 </div> 
 <div class="para" style="color:rgb(51,51,51); margin:15px 0px 5px; text-indent:2em">
   引用头文件#include&lt;dirent.h&gt; 
 </div> 
 <div class="anchor-list" style="position:relative; clear:both"> 
  <a target="_blank" name="2" class="anchor-1 " style="color:rgb(19,110,194); position:relative; display:block; top:-50px"></a> 
  <a target="_blank" name="sub3680174_2" class="anchor-1 " style="color:rgb(19,110,194); position:relative; display:block; top:-50px"></a> 
  <a target="_blank" name="%E7%BB%93%E6%9E%84%E4%BD%93%E8%AF%B4%E6%98%8E" class="anchor-1 " style="color:rgb(19,110,194); position:relative; display:block; top:-50px"></a> 
 </div> 
 <h3 class="headline-1" style="margin:35px 0px 15px -25px; padding:0px; font-size:24px; font-family:微软雅黑,黑体,Verdana; font-weight:500; line-height:22px; clear:both; zoom:1; overflow:hidden; position:relative"> <span class="headline-1-index" style="width:25px; height:24px; line-height:24px; font-size:16px; display:block; float:left; margin:1px 0px 0px; background-color:rgb(81,156,234); color:rgb(255,255,255); text-align:center">2</span><span class="headline-content" style="line-height:24px; display:block; float:left; padding:0px 8px 0px 5px">结构体说明</span><span class="text_edit editable-title" style="display:block; float:right; padding:6px 0px 0px 8px; margin-left:10px"><a target="_blank" href="http://baike.baidu.com/view/3680174.htm?fr=aladdin#" rel="nofollow noopener noreferrer" class="nslog:1019" title="编辑本段" style="text-decoration:none; color:rgb(136,136,136); height:15px; line-height:16px; padding-left:18px; background-color:transparent; font-size:12px; font-family:宋体; display:block">编辑</a></span></h3> 
 <div class="para" style="color:rgb(51,51,51); margin:15px 0px 5px; text-indent:2em">
   struct dirent 
 </div> 
 <div class="para" style="color:rgb(51,51,51); margin:15px 0px 5px; text-indent:2em">
   { 
 </div> 
 <div class="para" style="color:rgb(51,51,51); margin:15px 0px 5px; text-indent:2em">
   long d_ino; /* inode number  
  <a target="_blank" href="http://baike.baidu.com/view/3043965.htm" rel="nofollow noopener noreferrer" style="text-decoration:none; color:rgb(19,110,194)">索引节点</a>号 */ 
 </div> 
 <div class="para" style="color:rgb(51,51,51); margin:15px 0px 5px; text-indent:2em">
   off_t d_off; /* offset to this dirent 在目录文件中的偏移 */ 
 </div> 
 <div class="para" style="color:rgb(51,51,51); margin:15px 0px 5px; text-indent:2em">
   unsigned short d_reclen; /* length of this d_name 文件名长 */ 
 </div> 
 <div class="para" style="color:rgb(51,51,51); margin:15px 0px 5px; text-indent:2em">
   unsigned char d_type; /* the type of d_name 文件类型 */ 
 </div> 
 <div class="para" style="color:rgb(51,51,51); margin:15px 0px 5px; text-indent:2em">
   char d_name [NAME_MAX+1]; /* file name (null-terminated) 文件名，最长256字符 */ 
 </div> 
 <div class="para" style="color:rgb(51,51,51); margin:15px 0px 5px; text-indent:2em">
   } 
 </div> 
 <h4 class="headline-2" style="margin:20px 0px 12px; padding:0px 0px 0px 10px; font-size:18px; font-family:微软雅黑,黑体,Verdana; line-height:19px; clear:both; font-weight:500"> <a target="_blank" name="2_1" class="anchor-2 " style="color:rgb(19,110,194); position:relative; display:block; top:-50px"></a><a target="_blank" name="sub3680174_2_1" class="anchor-2 " style="color:rgb(19,110,194); position:relative; display:block; top:-50px"></a><a target="_blank" name="%E7%BB%93%E6%9E%84%E4%BD%93%E8%AF%B4%E6%98%8E_%E7%9B%B8%E5%85%B3%E5%87%BD%E6%95%B0" class="anchor-2 " style="color:rgb(19,110,194); position:relative; display:block; top:-50px"></a><span class="headline-content">相关函数</span></h4> 
 <div class="para" style="color:rgb(51,51,51); margin:15px 0px 5px; text-indent:2em">
   opendir()，readdir(),closedir(); 
 </div> 
 <h4 class="headline-2" style="margin:20px 0px 12px; padding:0px 0px 0px 10px; font-size:18px; font-family:微软雅黑,黑体,Verdana; line-height:19px; clear:both; font-weight:500"> <a target="_blank" name="2_2" class="anchor-2 " style="color:rgb(19,110,194); position:relative; display:block; top:-50px"></a><a target="_blank" name="sub3680174_2_2" class="anchor-2 " style="color:rgb(19,110,194); position:relative; display:block; top:-50px"></a><a target="_blank" name="%E7%BB%93%E6%9E%84%E4%BD%93%E8%AF%B4%E6%98%8E_%E4%BD%BF%E7%94%A8%E5%AE%9E%E4%BE%8B" class="anchor-2 " style="color:rgb(19,110,194); position:relative; display:block; top:-50px"></a><span class="headline-content">使用实例</span></h4> 
 <div class="para" style="color:rgb(51,51,51); margin:15px 0px 5px; text-indent:2em">
   #include &lt;stdio.h&gt; #include &lt;errno.h&gt; 
 </div> 
 <div class="para" style="color:rgb(51,51,51); margin:15px 0px 5px; text-indent:2em">
   #include &lt;string.h&gt; #include &lt;sys/types.h&gt; 
 </div> 
 <div class="para" style="color:rgb(51,51,51); margin:15px 0px 5px; text-indent:2em">
   #include &lt;dirent.h&gt; 
 </div> 
 <div class="para" style="color:rgb(51,51,51); margin:15px 0px 5px; text-indent:2em">
   #ifndef DT_DIR 
 </div> 
 <div class="para" style="color:rgb(51,51,51); margin:15px 0px 5px; text-indent:2em">
   #error "DT_DIR not defined, maybe d_type not a mumber of struct dirent!" 
 </div> 
 <div class="para" style="color:rgb(51,51,51); margin:15px 0px 5px; text-indent:2em">
   #endif 
 </div> 
 <div class="para" style="color:rgb(51,51,51); margin:15px 0px 5px; text-indent:2em">
   int 
 </div> 
 <div class="para" style="color:rgb(51,51,51); margin:15px 0px 5px; text-indent:2em">
   main(int argc, char*argv[]) 
 </div> 
 <div class="para" style="color:rgb(51,51,51); margin:15px 0px 5px; text-indent:2em">
   { 
 </div> 
 <div class="para" style="color:rgb(51,51,51); margin:15px 0px 5px; text-indent:2em">
   staticchar dot[] =".", dotdot[] =".."; 
 </div> 
 <div class="para" style="color:rgb(51,51,51); margin:15px 0px 5px; text-indent:2em">
   constchar*name; 
 </div> 
 <div class="para" style="color:rgb(51,51,51); margin:15px 0px 5px; text-indent:2em">
   DIR *dirp; 
 </div> 
 <div class="para" style="color:rgb(51,51,51); margin:15px 0px 5px; text-indent:2em">
   struct dirent *dp; 
 </div> 
 <div class="para" style="color:rgb(51,51,51); margin:15px 0px 5px; text-indent:2em">
   if (argc ==2) 
 </div> 
 <div class="para" style="color:rgb(51,51,51); margin:15px 0px 5px; text-indent:2em">
   name = argv[1]; 
 </div> 
 <div class="para" style="color:rgb(51,51,51); margin:15px 0px 5px; text-indent:2em">
   else 
 </div> 
 <div class="para" style="color:rgb(51,51,51); margin:15px 0px 5px; text-indent:2em">
   name = dot; 
 </div> 
 <div class="para" style="color:rgb(51,51,51); margin:15px 0px 5px; text-indent:2em">
   dirp = opendir(name); 
 </div> 
 <div class="para" style="color:rgb(51,51,51); margin:15px 0px 5px; text-indent:2em">
   if (dirp == NULL) { 
 </div> 
 <div class="para" style="color:rgb(51,51,51); margin:15px 0px 5px; text-indent:2em">
   (void)fprintf(stderr, "%s: opendir(): %s: %s\n", 
 </div> 
 <div class="para" style="color:rgb(51,51,51); margin:15px 0px 5px; text-indent:2em">
   argv[0], name, strerror(errno)); 
 </div> 
 <div class="para" style="color:rgb(51,51,51); margin:15px 0px 5px; text-indent:2em">
   exit(errno); 
 </div> 
 <div class="para" style="color:rgb(51,51,51); margin:15px 0px 5px; text-indent:2em">
   } 
 </div> 
 <div class="para" style="color:rgb(51,51,51); margin:15px 0px 5px; text-indent:2em">
   while ((dp = readdir(dirp)) != NULL) { 
 </div> 
 <div class="para" style="color:rgb(51,51,51); margin:15px 0px 5px; text-indent:2em">
   if (dp-&gt;d_type == DT_DIR) 
 </div> 
 <div class="para" style="color:rgb(51,51,51); margin:15px 0px 5px; text-indent:2em">
   if ( strcmp(dp-&gt;d_name, dot) 
 </div> 
 <div class="para" style="color:rgb(51,51,51); margin:15px 0px 5px; text-indent:2em">
   &amp;&amp; strcmp(dp-&gt;d_name, dotdot) ) 
 </div> 
 <div class="para" style="color:rgb(51,51,51); margin:15px 0px 5px; text-indent:2em">
   (void)printf("%s/\n", dp-&gt;d_name); 
 </div> 
 <div class="para" style="color:rgb(51,51,51); margin:15px 0px 5px; text-indent:2em">
   } 
 </div> 
 <div class="para" style="color:rgb(51,51,51); margin:15px 0px 5px; text-indent:2em">
   (void)closedir(dirp); 
 </div> 
 <div class="para" style="color:rgb(51,51,51); margin:15px 0px 5px; text-indent:2em">
   return (0); 
 </div> 
 <div class="para" style="color:rgb(51,51,51); margin:15px 0px 5px; text-indent:2em">
   } 
 </div> 
</div>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ff1ad3dd17f4fdcdaa926c1b136738e7/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">ARP表  MAC表  路由表</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/69d21d3a4682bfcbfdb60d6c507d6ed6/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">[2009国家集训队]小Z的袜子--莫队算法</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>