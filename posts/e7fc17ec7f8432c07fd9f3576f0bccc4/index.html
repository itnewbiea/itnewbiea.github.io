<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Ubuntu下周期执行任务-cron和crontab - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Ubuntu下周期执行任务-cron和crontab" />
<meta property="og:description" content="1、cron和crontab命令详解 crontab 每分钟、每小时、每天、每周、每月、每年定时执行 crontab每5分钟执行一次
cron机制
cron可以让系统在指定的时间，去执行某个指定的工作，我们可以使用crontab指令来管理cron机制 crontab参数 -u:这个参数可以让我们去编辑其他人的crontab，如果没有加上这个参数的话就会开启自己的crontab crontab -u 使用者名称 -l:可以列出crontab的内容 -r:可以移除crontab -e:可以使用系统预设的编辑器，开启crontab -i:可以移除crontab，会跳出系统信息让你再次确定是否移除crontab crontab时间格式说明 minute(分)可以设置0-59分 hour（小时）可以设置0-23小时 day of month（日期）可以设置1-31号 month（月份）：可以设置1-12月 day of week（星期）：可以设置0-7星期几，其中0和7都代表星期天，或者我们也可以使用名称来表示星期天到星期一，例如sun表示星期天，mon表示星期一等等 crontab时间格式范例 1-3表示123 1-9/2表示13579 crontab范例 每五分钟执行 */5 * * * * 每小时执行 0 * * * * 每天执行 0 0 * * * 每周执行 0 0 * * 0 每月执行 0 0 1 * * 每年执行 0 0 1 1 * 设定cron的权限 /etc/cron.allow /etc/cron.deny 系统首先判断是否有cron.allow这个文件，如果有这个文件的话，系统会判断这个使用者有没有在cron.allow的名单里面，如果在名单里面的话，就可以使用cron机制。如果这个使用者没有在cron.allow名单里面的话，就不能使用cron机制。 如果系统里面没有cron." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/e7fc17ec7f8432c07fd9f3576f0bccc4/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-06-23T12:04:05+08:00" />
<meta property="article:modified_time" content="2018-06-23T12:04:05+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Ubuntu下周期执行任务-cron和crontab</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p></p> 
<p><span style="color:rgb(51,51,51);background-color:rgb(255,255,255);font-family:Tahoma, Arial, '����';line-height:22px;"></span></p> 
<h2 class="title-article" style="font-size:24px;padding:0px;margin-top:0px;margin-bottom:0px;color:rgb(51,51,51);font-family:'SF Pro Display', Roboto, Noto, Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;background-color:rgb(255,255,255);">1、cron和crontab命令详解 </h2> 
<p style="padding:0px;margin-top:0px;margin-bottom:0px;color:rgb(51,51,51);font-family:'SF Pro Display', Roboto, Noto, Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;background-color:rgb(255,255,255);"><span style="font-size:16px;">crontab 每分钟、每小时、每天、每周、每月、每年定时执行 crontab每5分钟执行一次</span></p> 
<br> 
<p><span style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma, Arial, '����';line-height:22px;">cron机制</span></p> 
<span style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma, Arial, '����';line-height:22px;">        cron可以让系统在指定的时间，去执行某个指定的工作，我们可以使用crontab指令来管理cron机制</span> 
<br style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma;line-height:21px;"> 
<br style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma;line-height:21px;"> 
<span style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma, Arial, '����';line-height:22px;">crontab参数</span> 
<br style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma;line-height:21px;"> 
<span style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma, Arial, '����';line-height:22px;">        -u:这个参数可以让我们去编辑其他人的crontab，如果没有加上这个参数的话就会开启自己的crontab</span> 
<br style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma;line-height:21px;"> 
<span style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma, Arial, '����';line-height:22px;">        crontab -u 使用者名称</span> 
<br style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma;line-height:21px;"> 
<br style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma;line-height:21px;"> 
<span style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma, Arial, '����';line-height:22px;">        -l:可以列出crontab的内容</span> 
<br style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma;line-height:21px;"> 
<br style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma;line-height:21px;"> 
<span style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma, Arial, '����';line-height:22px;">        -r:可以移除crontab</span> 
<br style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma;line-height:21px;"> 
<br style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma;line-height:21px;"> 
<span style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma, Arial, '����';line-height:22px;">        -e:可以使用系统预设的编辑器，开启crontab</span> 
<br style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma;line-height:21px;"> 
<br style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma;line-height:21px;"> 
<span style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma, Arial, '����';line-height:22px;">        -i:可以移除crontab，会跳出系统信息让你再次确定是否移除crontab</span> 
<br style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma;line-height:21px;"> 
<br style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma;line-height:21px;"> 
<span style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma, Arial, '����';line-height:22px;">crontab时间格式说明</span> 
<br style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma;line-height:21px;"> 
<span style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma, Arial, '����';line-height:22px;">        minute(分)可以设置0-59分</span> 
<br style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma;line-height:21px;"> 
<br style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma;line-height:21px;"> 
<span style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma, Arial, '����';line-height:22px;">        hour（小时）可以设置0-23小时</span> 
<br style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma;line-height:21px;"> 
<br style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma;line-height:21px;"> 
<span style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma, Arial, '����';line-height:22px;">        day of month（日期）可以设置1-31号</span> 
<br style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma;line-height:21px;"> 
<br style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma;line-height:21px;"> 
<span style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma, Arial, '����';line-height:22px;">        month（月份）：可以设置1-12月</span> 
<br style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma;line-height:21px;"> 
<br style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma;line-height:21px;"> 
<span style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma, Arial, '����';line-height:22px;">        day of week（星期）：可以设置0-7星期几，其中0和7都代表星期天，或者我们也可以使用名称来表示星期天到星期一，例如sun表示星期天，mon表示星期一等等</span> 
<br style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma;line-height:21px;"> 
<br style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma;line-height:21px;"> 
<span style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma, Arial, '����';line-height:22px;">crontab时间格式范例</span> 
<br style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma;line-height:21px;"> 
<span style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma, Arial, '����';line-height:22px;">    1-3表示123</span> 
<br style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma;line-height:21px;"> 
<span style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma, Arial, '����';line-height:22px;">    1-9/2表示13579</span> 
<br style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma;line-height:21px;"> 
<br style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma;line-height:21px;"> 
<span style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma, Arial, '����';line-height:22px;">crontab范例</span> 
<br style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma;line-height:21px;"> 
<span style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma, Arial, '����';line-height:22px;">    每五分钟执行  */5 * * * *</span> 
<br style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma;line-height:21px;"> 
<br style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma;line-height:21px;"> 
<span style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma, Arial, '����';line-height:22px;">    每小时执行     0 * * * *</span> 
<br style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma;line-height:21px;"> 
<br style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma;line-height:21px;"> 
<span style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma, Arial, '����';line-height:22px;">    每天执行        0 0 * * *</span> 
<br style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma;line-height:21px;"> 
<br style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma;line-height:21px;"> 
<span style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma, Arial, '����';line-height:22px;">    每周执行       0 0 * * 0</span> 
<br style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma;line-height:21px;"> 
<br style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma;line-height:21px;"> 
<span style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma, Arial, '����';line-height:22px;">    每月执行        0 0 1 * *</span> 
<br style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma;line-height:21px;"> 
<br style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma;line-height:21px;"> 
<span style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma, Arial, '����';line-height:22px;">    每年执行       0 0 1 1 *</span> 
<br style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma;line-height:21px;"> 
<br style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma;line-height:21px;"> 
<span style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma, Arial, '����';line-height:22px;">设定cron的权限</span> 
<br style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma;line-height:21px;"> 
<span style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma, Arial, '����';line-height:22px;">        /etc/cron.allow</span> 
<br style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma;line-height:21px;"> 
<span style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma, Arial, '����';line-height:22px;">        /etc/cron.deny</span> 
<br style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma;line-height:21px;"> 
<br style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma;line-height:21px;"> 
<span style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma, Arial, '����';line-height:22px;">        系统首先判断是否有cron.allow这个文件，如果有这个文件的话，系统会判断这个使用者有没有在cron.allow的名单里面，如果在名单里面的话，就可以使用cron机制。如果这个使用者没有在cron.allow名单里面的话，就不能使用cron机制。</span> 
<br style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma;line-height:21px;"> 
<br style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma;line-height:21px;"> 
<span style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma, Arial, '����';line-height:22px;">         如果系统里面没有cron.allow这个文件的话，系统会再判断是否有cron.deny这个文件，如果有cron.deny这个文件的话，就会判断这个使用者有没有在cron.deny这个名单里面，如果这个使用者在cron.deny名单里面的话，将不能使用cron机制。如果这个使用者没有在cron.deny这个名单里面的话就可以使用cron机制。</span> 
<br style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma;line-height:21px;"> 
<br style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma;line-height:21px;"> 
<span style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma, Arial, '����';line-height:22px;">        如果系统里这两个文件都没有的话，就可以使用cron机制</span> 
<br style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma;line-height:21px;"> 
<br style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma;line-height:21px;"> 
<span style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma, Arial, '����';line-height:22px;">介绍crontab文件</span> 
<br style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma;line-height:21px;"> 
<span style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma, Arial, '����';line-height:22px;">        /etc/crontab</span> 
<br style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma;line-height:21px;"> 
<span style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma, Arial, '����';line-height:22px;">        在这个文件里并没有记录系统要执行哪些工作，而是记录了下面四个子目录。</span> 
<br style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma;line-height:21px;"> 
<span style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma, Arial, '����';line-height:22px;">        /etc/cron.hourly</span> 
<br style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma;line-height:21px;"> 
<span style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma, Arial, '����';line-height:22px;">        /etc/cron.daily</span> 
<br style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma;line-height:21px;"> 
<span style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma, Arial, '����';line-height:22px;">        /etc/cron.weekly</span> 
<br style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma;line-height:21px;"> 
<span style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma, Arial, '����';line-height:22px;">        /etc/cron.monthly</span> 
<br style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma;line-height:21px;"> 
<p><span style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma, Arial, '����';line-height:22px;">        这些子目录里存放了一些脚本，到了crontab所指定的时间点，系统就会去执行这些子目录里的脚本。</span></p> 
<p><span style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);font-family:Tahoma, Arial, '����';line-height:22px;"><br></span></p> 
<p><span style="background-color:rgb(255,255,255);color:rgb(51,51,51);font-family:'SF Pro Display', Roboto, Noto, Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;font-size:24px;"><strong><span style="color:rgb(51,51,51);font-family:'SF Pro Display', Roboto, Noto, Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;font-size:24px;font-weight:700;background-color:rgb(255,255,255);">2、</span>ubuntu 16.04 计划任务crontab 周期执行任务</strong></span></p> 
<p><span style="color:rgb(51,51,51);background-color:rgb(255,255,255);font-family:Tahoma, Arial, '����';line-height:22px;"></span></p> 
<p style="font-size:14px;background-color:rgb(255,255,255);">crontab主要作用：</p> 
<p style="font-size:14px;background-color:rgb(255,255,255);">    比如我们每天需要清空日志记录文件，我们可以执行一段指令去完成，每天都需要手动输入就比较麻烦，让系统每天去帮我们完成就比较轻松了，根据你自己的定义 可以定位到月 日 时 分 星期 ，以前有个很有名的病毒 '黑色星期五'   每到了周五就发作，计划任务和它一样的道理，只不过没有破坏性，<br></p> 
<p style="font-size:14px;background-color:rgb(255,255,255);">1、 计划任务，crontab命令选项:</p> 
<span style="font-size:14px;color:rgb(51,51,51);background-color:rgb(255,255,255);">     -u指定一个用户,</span> 
<br style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);"> 
<span style="font-size:14px;color:rgb(51,51,51);background-color:rgb(255,255,255);">     -l列出某个用户的任务计划,</span> 
<br style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);"> 
<span style="font-size:14px;color:rgb(51,51,51);background-color:rgb(255,255,255);">     -r删除某个用户的任务,</span> 
<br style="color:rgb(51,51,51);font-size:14px;background-color:rgb(255,255,255);"> 
<p style="font-size:14px;background-color:rgb(255,255,255);">     -e编辑某个用户的任务</p> 
<p style="font-size:14px;background-color:rgb(255,255,255);">2 cron文件语法:</p> 
<p style="font-size:14px;background-color:rgb(255,255,255);">　　　　分     小时   日       月       星期     命令<br></p> 
<p style="font-size:14px;background-color:rgb(255,255,255);">         0-59   0-23   1-31   1-12     0-6     command    <br></p> 
<p style="font-size:14px;background-color:rgb(255,255,255);">　　可用crontab -e命令来编辑,编辑的是/var/spool/cron下对应用户的cron文件,也可以直接修改/etc/crontab文件</p> 
<p style="font-size:14px;background-color:rgb(255,255,255);"><br></p> 
<p style="font-size:14px;background-color:rgb(255,255,255);"></p> 
<p style="font-size:14px;background-color:rgb(255,255,255);">        "*"代表取值范围内的数字,</p> 
<p style="font-size:14px;background-color:rgb(255,255,255);">        "/"代表"每",</p> 
<p style="font-size:14px;background-color:rgb(255,255,255);">        "-"代表从某个数字到某个数字,</p> 
<p style="font-size:14px;background-color:rgb(255,255,255);">        ","分开几个离散的数字</p> 
<span style="font-size:14px;color:rgb(51,51,51);background-color:rgb(255,255,255);">3、查看计划任务</span> 
<p style="font-size:14px;background-color:rgb(255,255,255);">　　　　查看调度任务<br>         crontab -l //列出当前的所有调度任务<br></p> 
<p style="font-size:14px;background-color:rgb(255,255,255);">         crontab -l -u jp   //列出用户jp的所有调度任务</p> 
<p style="font-size:14px;background-color:rgb(255,255,255);">实例1：</p> 
<p style="font-size:14px;background-color:rgb(255,255,255);">    <span style="color:rgb(0,0,102);">（1）</span>在当前家目录下创建shell脚本123.sh（实现排序）如下</p> 
<p style="font-size:14px;background-color:rgb(255,255,255);">         #!/bin/bash<br>        arr=(1 5 4 5 6 7 0)<br>        for (( i=0 ; i&lt;${#arr[@]} ; i++ ))<br>        do<br>              for (( j=${#arr[@]} - 1 ; j&gt;i ; j-- ))<br>              do<br>            #echo $j<br>            if  [[ ${arr[j]} -lt ${arr[j-1]} ]]<br>            then<br>               t=${arr[j]}<br>               arr[j]=${arr[j-1]}<br>               arr[j-1]=$t<br>            fi<br>          done<br>        done<br>    echo "排序后:"<br>    echo ${arr[@]}                   <br></p> 
<p style="font-size:14px;background-color:rgb(255,255,255);"><span style="color:rgb(0,0,153);">（2）</span>输入crontab -e 添加计划任务（不指定用户就是当前用户）</p> 
<p style="font-size:14px;background-color:rgb(255,255,255);">        第一次会让你选择编译器，如果选错编译器了要更改编译器  输入   select-editor 重新选择 <br></p> 
<p style="font-size:14px;background-color:rgb(255,255,255);">        ubuntu截图用shift+PrintScreen 选择 ’复制到剪切板‘ 就可以了<br></p> 
<p style="font-size:14px;background-color:rgb(255,255,255);">        <img src="https://images2.imgbox.com/fc/50/8S76OwiU_o.png" alt=""><br></p> 
<p style="font-size:14px;background-color:rgb(255,255,255);">    我选的是vim ，看个人习惯</p> 
<p style="font-size:14px;background-color:rgb(255,255,255);"><br></p> 
<p style="font-size:14px;background-color:rgb(255,255,255);">    <span style="color:rgb(0,0,102);">（3）</span>在文本最后输入我们要执行的shell脚本命令</p> 
<p style="font-size:14px;background-color:rgb(255,255,255);">            * * * * * 代表每分钟执行一次 <br></p> 
<p style="font-size:14px;background-color:rgb(255,255,255);">            <img src="https://images2.imgbox.com/c2/7d/JWcGSna5_o.png" alt="">    <br></p> 
<p style="font-size:14px;background-color:rgb(255,255,255);">        按esc  输入：wq   保存退出</p> 
<p style="font-size:14px;background-color:rgb(255,255,255);">     <span style="color:rgb(0,0,153);">（4）</span>  <span style="background-color:rgb(51,204,0);"> 重启cron服务：</span></p> 
<p style="font-size:14px;background-color:rgb(255,255,255);">　　　　service cron restart</p> 
<p style="font-size:14px;background-color:rgb(255,255,255);">     <span style="color:rgb(0,0,102);">（5）</span>查看结果<br></p> 
<p style="font-size:14px;background-color:rgb(255,255,255);">           用户家目录下查看任务有没有执行，如果执行了应该是有pa.txt文件的（任务有重定向到文件）</p> 
<p style="font-size:14px;background-color:rgb(255,255,255);">         <img src="https://images2.imgbox.com/04/e4/BgEbTp8O_o.png" alt=""><br></p> 
<p style="font-size:14px;background-color:rgb(255,255,255);">        查看文件内容<br></p> 
<p style="font-size:14px;background-color:rgb(255,255,255);">            <img src="https://images2.imgbox.com/b0/65/lfDTXx8R_o.png" alt=""><br></p> 
<p style="font-size:14px;background-color:rgb(255,255,255);"><br></p> 
<p style="font-size:14px;background-color:rgb(255,255,255);">如果你要周期执行python脚本，你只需要把脚本写好，然后将cron那里的执行命令写成    python3 脚本目录文件名就可以</p> 
<p style="font-size:14px;background-color:rgb(255,255,255);">比如 ：</p> 
<p style="font-size:14px;background-color:rgb(255,255,255);">    * * * * *  python3 ~/hello.py &gt;  123.txt</p> 
<p style="font-size:14px;background-color:rgb(255,255,255);"><br></p> 
<p style="font-size:14px;background-color:rgb(255,255,255);">总结：<br></p> 
<p style="font-size:14px;background-color:rgb(255,255,255);"></p> 
<p style="font-size:14px;background-color:rgb(255,255,255);"><span style="font-weight:700;">linux中将一个脚本文件作为一个计划任务小结，以python脚本为例：</span></p> 
<p style="font-size:14px;background-color:rgb(255,255,255);"><span style="font-weight:700;">　　1 创建脚本文件test.py，在文件开头需要加上下面一行</span></p> 
<p style="font-size:14px;background-color:rgb(255,255,255);"><span style="font-weight:700;">　　#!/usr/bin/python</span></p> 
<p style="font-size:14px;background-color:rgb(255,255,255);"><span style="font-weight:700;">　　上面这行的作用是说明使用那个解释器来执行该文件，如果不知道python解释器在哪，可以使用命令which python来查看</span></p> 
<p style="font-size:14px;background-color:rgb(255,255,255);"><span style="font-weight:700;">　　2 给该文件添加可执行的权限</span></p> 
<p style="font-size:14px;background-color:rgb(255,255,255);"><span style="font-weight:700;">　　chmod  +x  test.py</span></p> 
<p style="font-size:14px;background-color:rgb(255,255,255);"><span style="font-weight:700;">　　3 添加计划任务</span></p> 
<p style="font-size:14px;background-color:rgb(255,255,255);"><span style="font-weight:700;">　　crontab -e</span></p> 
<p style="font-size:14px;background-color:rgb(255,255,255);"><span style="font-weight:700;">　　在文件中追加一行，*/2 * * * * /usr/bin/python /home/pc/work/ENV/project/test.py</span></p> 
<p style="font-size:14px;background-color:rgb(255,255,255);"><span style="font-weight:700;">　　保存退出，:wq</span></p> 
<p style="font-size:14px;background-color:rgb(255,255,255);"><span style="font-weight:700;">　　4 重启cron服务</span></p> 
<p style="font-size:14px;background-color:rgb(255,255,255);"><span style="font-weight:700;">　　service cron restart</span></p> 
<p style="font-size:14px;background-color:rgb(255,255,255);"><span style="font-weight:700;">　　结束</span></p> 
<p style="font-size:14px;background-color:rgb(255,255,255);"><span style="font-weight:700;">建议该过程中添加日志重定向：因为<span style="font-family:song, Verdana;font-size:14px;background-color:rgb(249,249,249);">每条 JOB 执行完毕之后，系统会自动将输出发送邮件给当前系统用户。日积月累，非常的多，甚至会撑爆整个系统。所以每条 JOB 命令后面进行重定向处理是非常必要的： &gt;/dev/null 2&gt;&amp;1 。前提是对 Job 中的命令需要正常输出已经作了一定的处理, 比如追加到某个特定日志文件。参考：1）<a href="https://blog.csdn.net/dancen/article/details/24355287">https://blog.csdn.net/dancen/article/details/24355287</a> 2）<a href="http://blog.51cto.com/skypegnu1/1428632" rel="nofollow">http://blog.51cto.com/skypegnu1/1428632</a></span></span></p> 
<p style="background-color:rgb(255,255,255);"></p> 
<h2 class="title-article" style="font-weight:700;font-size:24px;padding:0px;margin-top:0px;margin-bottom:0px;color:rgb(51,51,51);font-family:'SF Pro Display', Roboto, Noto, Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;background-color:rgb(255,255,255);">3、环境变量配置</h2> 
<p style="font-weight:700;font-size:14px;">1）环境变量文件</p> 
<p style="font-weight:700;font-size:14px;">参考：<a href="https://blog.csdn.net/jiangjiang_jian/article/details/80785080">https://blog.csdn.net/jiangjiang_jian/article/details/80785080</a></p> 
<p style="font-weight:700;font-size:14px;">2）环境变量配置</p> 
<p><span style="font-size:16px;">如果周期命令中涉及到自己写的模块，一定要在<span style="color:rgb(51,51,51);font-family:'SF Pro Display', Roboto, Noto, Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;">/etc/profile和/etc/environment（一定）中添加好自己包的路径。附：<a href="https://blog.csdn.net/teamlet/article/details/8257853">二者区别</a></span></span></p> 
<h2 class="title-article" style="font-weight:700;font-size:24px;padding:0px;margin-top:0px;margin-bottom:0px;color:rgb(51,51,51);font-family:'SF Pro Display', Roboto, Noto, Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;background-color:rgb(255,255,255);">4、crontab定时任务不执行的原因</h2> 
<p style="font-weight:700;font-size:14px;">参考：<a href="https://blog.csdn.net/u011734144/article/details/54576469">https://blog.csdn.net/u011734144/article/details/54576469</a></p> 
<p style="font-weight:700;font-size:14px;">5、例程</p> 
<p style="font-weight:700;"><span style="font-size:14px;">1）</span><span style="font-size:18px;background-color:rgb(255,255,255);color:rgb(51,51,51);font-family:'SF Pro Display', Roboto, Noto, Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;font-weight:normal;"><a href="https://blog.csdn.net/jiangjiang_jian/article/details/80778289">selenium+python脚本执行完毕后直接将生成的报告发送到指定邮箱</a></span></p> 
<p style="font-weight:700;">2）<span style="font-size:18px;background-color:rgb(255,255,255);color:rgb(51,51,51);font-family:'-apple-system', 'SF UI Display', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;font-weight:normal;"><a href="https://www.jianshu.com/p/7baf423c0579" rel="nofollow">服务器定时发送给邮件给你</a></span></p> 
<p>参考文献</p> 
<p><a href="https://blog.csdn.net/csdn265/article/details/51569669">https://blog.csdn.net/csdn265/article/details/51569669</a></p> 
<p><a href="https://blog.csdn.net/qq_38228830/article/details/80545004">https://blog.csdn.net/qq_38228830/article/details/80545004</a></p> 
<p><a href="https://blog.csdn.net/u011734144/article/details/54576469">https://blog.csdn.net/u011734144/article/details/54576469</a><br></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/6ad9edeb6ebe57cac527852a9395ecb5/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">macbook通过usb共享网络给iphone上网</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/acb9e7932ad7c577e966e627a9dac51a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">$.ajax()方法详解及get查询案例</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>