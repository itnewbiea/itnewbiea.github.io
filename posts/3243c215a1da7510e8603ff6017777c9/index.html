<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Ubuntu20.04 制作系统ISO镜像并物理机还原 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Ubuntu20.04 制作系统ISO镜像并物理机还原" />
<meta property="og:description" content="第一步：安装软件-Systemback 1.如果已经添加过ppa，可以删除重新添加或者跳过此步 sudo add-apt-repository --remove ppa:nemh/systemback 2.添加ppa 我是ubuntu20，但这个软件最后支持的是 ubuntu16.04版本，所以加一个16版本的ppa
sudo add-apt-repository &#34;deb http://ppa.launchpad.net/nemh/systemback/ubuntu xenial main&#34; 出现下面问题：
W: GPG 错误：http://ppa.launchpad.net/nemh/systemback/ubuntu xenial InRelease: 由于没有公钥，无法验证下列签名： NO_PUBKEY 14E4942973C62A1B
解决：
sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys 14E4942973C62A1B 3.更新仓库并进行安装 sudo apt update sudo apt install systemback 下面是安装界面：
第二步：打开软件进行.sblive镜像制作 1. 启动 #启动systemback sudo systemback 2. 创建Live系统 之后进入：
其中工作目录：镜像存放地址；Live模式系统名称：镜像名称；包含用户数据文件：除了那些系统的，其他比如document就是用户数据文件。最后点击“创建新的”。
然后遇到了这种bug：
查看终端：
emm感觉数据文件有问题，我决定不再勾选，包含数据文件
点击创建新的
进度正常：
安装完成：
创建完成！
第三步、 创建iso文件 这里如果是小于4G的xxx.sblive文件可以直接在界面上点击Convert to ISO转成ISO文件，如果是大于等于4G的镜像，需要按以下步骤转换成ISO文件。
步骤1：解压 .sblive 文件 来到home文件下（上图，刚才选择的工作目录）
打开终端：
sudo mkdir sblive sudo tar -xf my_computer." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/3243c215a1da7510e8603ff6017777c9/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-09-30T21:06:48+08:00" />
<meta property="article:modified_time" content="2023-09-30T21:06:48+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Ubuntu20.04 制作系统ISO镜像并物理机还原</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night-eighties">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="Systemback_1"></a>第一步：安装软件-Systemback</h2> 
<h3><a id="1ppa_2"></a>1.如果已经添加过ppa，可以删除重新添加或者跳过此步</h3> 
<pre><code class="prism language-cpp">sudo add<span class="token operator">-</span>apt<span class="token operator">-</span>repository <span class="token operator">--</span>remove ppa<span class="token operator">:</span>nemh<span class="token operator">/</span>systemback
</code></pre> 
<h3><a id="2ppa_7"></a>2.添加ppa</h3> 
<p>我是ubuntu20，但这个软件最后支持的是 ubuntu16.04版本，所以加一个16版本的ppa</p> 
<pre><code class="prism language-cpp">sudo add<span class="token operator">-</span>apt<span class="token operator">-</span>repository <span class="token string">"deb http://ppa.launchpad.net/nemh/systemback/ubuntu xenial main"</span> 
</code></pre> 
<p>出现下面问题：<br> <img src="https://images2.imgbox.com/2d/90/HyB3BEk2_o.png" alt="在这里插入图片描述"><code>W: GPG 错误：http://ppa.launchpad.net/nemh/systemback/ubuntu xenial InRelease: 由于没有公钥，无法验证下列签名： NO_PUBKEY 14E4942973C62A1B</code></p> 
<p>解决：</p> 
<pre><code class="prism language-cpp">sudo apt<span class="token operator">-</span>key adv <span class="token operator">--</span>keyserver keyserver<span class="token punctuation">.</span>ubuntu<span class="token punctuation">.</span>com <span class="token operator">--</span>recv<span class="token operator">-</span>keys <span class="token number">14E4942973</span>C62A1B
</code></pre> 
<h3><a id="3_22"></a>3.更新仓库并进行安装</h3> 
<pre><code class="prism language-cpp">sudo apt update
sudo apt install systemback
</code></pre> 
<p>下面是安装界面：<br> <img src="https://images2.imgbox.com/13/99/X9g2R0Dz_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="sblive_30"></a>第二步：打开软件进行.sblive镜像制作</h2> 
<h3><a id="1__31"></a>1. 启动</h3> 
<pre><code class="prism language-cpp">    #启动systemback
    sudo systemback
</code></pre> 
<p><img src="https://images2.imgbox.com/f3/da/i4LQfbuo_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="2_Live_39"></a>2. 创建Live系统</h3> 
<p><img src="https://images2.imgbox.com/8b/10/rN2JWJm5_o.png" alt="在这里插入图片描述"><br> 之后进入：<br> <img src="https://images2.imgbox.com/f4/c1/MBEUqP7n_o.png" alt="在这里插入图片描述"><br> 其中工作目录：镜像存放地址；Live模式系统名称：镜像名称；包含用户数据文件：除了那些系统的，其他比如document就是用户数据文件。最后点击“创建新的”。</p> 
<p><img src="https://images2.imgbox.com/71/73/FmYRmoY2_o.png" alt="在这里插入图片描述"><br> 然后遇到了这种bug：<br> <img src="https://images2.imgbox.com/94/a3/ZifHWsEB_o.png" alt="在这里插入图片描述"><br> 查看终端：</p> 
<p><img src="https://images2.imgbox.com/52/e8/13EaD0vE_o.png" alt="在这里插入图片描述"><br> emm感觉数据文件有问题，我决定不再勾选，包含数据文件</p> 
<p><img src="https://images2.imgbox.com/b5/88/m0Kcdv9a_o.png" alt="在这里插入图片描述"><br> 点击创建新的<br> 进度正常：<br> <img src="https://images2.imgbox.com/74/ca/73PSecAO_o.png" alt="在这里插入图片描述"><br> 安装完成：<br> <img src="https://images2.imgbox.com/af/7c/Mi3wMdQa_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/6a/7a/MW1ZZ7Fb_o.png" alt="在这里插入图片描述"><br> 创建完成！</p> 
<h2><a id="_iso_62"></a>第三步、 创建iso文件</h2> 
<p>这里如果是小于4G的xxx.sblive文件可以直接在界面上点击Convert to ISO转成ISO文件，如果是大于等于4G的镜像，需要按以下步骤转换成ISO文件。</p> 
<h3><a id="1_sblive__65"></a>步骤1：解压 .sblive 文件</h3> 
<p>来到home文件下（上图，刚才选择的工作目录）<br> <img src="https://images2.imgbox.com/01/e5/he7KpqPO_o.png" alt="在这里插入图片描述"><br> 打开终端：</p> 
<pre><code class="prism language-cpp">sudo mkdir sblive
sudo tar <span class="token operator">-</span>xf my_computer<span class="token punctuation">.</span>sblive <span class="token operator">-</span>C sblive
</code></pre> 
<p><img src="https://images2.imgbox.com/d8/d3/G8FAzv9d_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/53/17/gAxlr5hb_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="2syslinux__isolinux_77"></a>步骤2：重命名syslinux 至 isolinux</h3> 
<pre><code class="prism language-cpp">sudo mv sblive<span class="token operator">/</span>syslinux<span class="token operator">/</span>syslinux<span class="token punctuation">.</span>cfg sblive<span class="token operator">/</span>syslinux<span class="token operator">/</span>isolinux<span class="token punctuation">.</span>cfg
 sudo mv sblive<span class="token operator">/</span>syslinux sblive<span class="token operator">/</span>isolinux

</code></pre> 
<h3><a id="3_cdtools_85"></a>步骤3：安装 cdtools</h3> 
<p>下载cdrtools,可直接点击下方链接下载文件包</p> 
<p>蓝奏云：<a href="https://wwvs.lanzoub.com/inEUO0t9htvg" rel="nofollow">下载链接</a><br> <img src="https://images2.imgbox.com/9d/39/dW7wKteL_o.png" alt="在这里插入图片描述"><br> 或者指令下载</p> 
<pre><code class="prism language-cpp">sudo apt install aria2
aria2c <span class="token operator">-</span>s <span class="token number">10</span> https<span class="token operator">:</span><span class="token comment">//nchc.dl.sourceforge.net/project/cdrtools/alpha/cdrtools-3.02a07.tar.gz</span>
</code></pre> 
<p>.解压缩安装</p> 
<pre><code class="prism language-cpp">sudo tar <span class="token operator">-</span>xvf cdrtools<span class="token operator">-</span><span class="token number">3.02</span>a07<span class="token punctuation">.</span>tar<span class="token punctuation">.</span>gz
cd cdrtools<span class="token operator">-</span><span class="token number">3.02</span>
sudo make <span class="token operator">-</span>j4
</code></pre> 
<p>在make过程中出现红色报错：<br> <img src="https://images2.imgbox.com/35/9a/2euEO1iv_o.png" alt="在这里插入图片描述"><br> 搜索该文件位置：<br> <img src="https://images2.imgbox.com/cb/ad/gPv06QMk_o.png" alt="在这里插入图片描述"><br> 再搜索一下这个头文件：<img src="https://images2.imgbox.com/84/b8/ydvhJOGc_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/a4/3a/4piEwtAk_o.png" alt="在这里插入图片描述">暴力修改：<br> <img src="https://images2.imgbox.com/56/6a/a79DA6yH_o.png" alt="在这里插入图片描述"></p> 
<p>在刚才的目录文件夹下：<br> <img src="https://images2.imgbox.com/8c/2c/KBfXYTJt_o.png" alt="在这里插入图片描述"></p> 
<p>重新make</p> 
<pre><code class="prism language-cpp">sudo make <span class="token operator">-</span>j4
sudo make install
</code></pre> 
<h3><a id="4ISO_127"></a>步骤4：生成ISO文件</h3> 
<p>在刚才存放live文件的地方：</p> 
<pre><code class="prism language-cpp">sudo <span class="token operator">/</span>opt<span class="token operator">/</span>schily<span class="token operator">/</span>bin<span class="token operator">/</span>mkisofs <span class="token operator">-</span>iso<span class="token operator">-</span>level <span class="token number">3</span> <span class="token operator">-</span>r <span class="token operator">-</span>V sblive <span class="token operator">-</span>cache<span class="token operator">-</span>inodes <span class="token operator">-</span>J <span class="token operator">-</span>l <span class="token operator">-</span>b isolinux<span class="token operator">/</span>isolinux<span class="token punctuation">.</span>bin <span class="token operator">-</span>no<span class="token operator">-</span>emul<span class="token operator">-</span>boot <span class="token operator">-</span>boot<span class="token operator">-</span>load<span class="token operator">-</span>size <span class="token number">4</span> <span class="token operator">-</span>boot<span class="token operator">-</span>info<span class="token operator">-</span>table <span class="token operator">-</span>c isolinux<span class="token operator">/</span>boot<span class="token punctuation">.</span>cat <span class="token operator">-</span>o <span class="token operator">/</span>media<span class="token operator">/</span>lessle6<span class="token operator">/</span>Ventoy<span class="token operator">/</span>sblive<span class="token punctuation">.</span>iso sblive
</code></pre> 
<p>注意我的home下没有这么大内存了，所以我存放在了挂载的u盘上<br> <strong>/media/lessle6/Ventoy/sblive.iso</strong><br> 这里要修改存放iso的位置。</p> 
<p>完成之后应该是如下界面：<br> <img src="https://images2.imgbox.com/01/5e/GeF5MkPl_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/13/cb/g1nI79Nh_o.png" alt="在这里插入图片描述"><br> 重命名一下：<br> <img src="https://images2.imgbox.com/1b/da/F2PpPim4_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="U_144"></a>第四步、准备一个U盘制作系统启动盘</h2> 
<p>推荐使用Ventoy制作系统启动盘，它制作系统启动盘之后，直接将各种镜像文件复制到U盘/移动硬盘中，在使用U盘/移动硬盘启动时，就可以自由选择安装哪些镜像了。<br> 拿男朋友一个不用的电脑（windows）：<br> 打开ventoy下载页面：<br> <a href="https://github.com/ventoy/Ventoy/releases">https://github.com/ventoy/Ventoy/releases</a><br> <img src="https://images2.imgbox.com/e0/46/3BZrFxHT_o.png" alt="在这里插入图片描述"><br> 解压缩，打开exe：<br> <img src="https://images2.imgbox.com/2e/cb/PCzz3Krw_o.png" alt="在这里插入图片描述"><br> 然后：<br> <img src="https://images2.imgbox.com/ae/b1/Lr199xaR_o.png" alt="在这里插入图片描述"><br> 系统会提示把所有文件格式化，记得重要文件进行备份<br> 完成之后，将iso文件放入U盘就ok了~</p> 
<h2><a id="_156"></a>第五步、双系统分区</h2> 
<p>下载分区软件：<a href="https://www.diskgenius.cn/download.php" rel="nofollow">diskgenius</a><br> <img src="https://images2.imgbox.com/41/20/T6lhzMSK_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/b5/4e/Pp7lwryB_o.png" alt="在这里插入图片描述"><br> 打开exe文件<br> 需要分出一部分空间用于安装ubuntu系统，空间大小视需求而定，建议100G以上（我第一次是100G，后来发现不够，第二次就用了180G）。该教材使用空间100G。<br> <img src="https://images2.imgbox.com/b3/48/gJQFKhnX_o.png" alt="右键选择调整分区大小"><br> <img src="https://images2.imgbox.com/b5/16/ok8X5UnL_o.png" alt="在这里插入图片描述"></p> 
<p>右键选择调整分区大小<br> <img src="https://images2.imgbox.com/56/7c/mMy07ksS_o.png" alt="在这里插入图片描述"></p> 
<p>设定好空间大小后点击开始。<br> <img src="https://images2.imgbox.com/71/25/FQGJoiR9_o.png" alt="在这里插入图片描述"></p> 
<p>至此，有100G空闲空间。关机<br> <img src="https://images2.imgbox.com/85/f3/rUPvgVcN_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="bios_176"></a>第六步、进入bios</h2> 
<p>不同电脑进入bios页面不一样，要根据自己电脑型号搜一下。<br> 我的是一直esc<br> <img src="https://images2.imgbox.com/38/cd/PunhuHTA_o.png" alt="在这里插入图片描述"><br> F9</p> 
<p><img src="https://images2.imgbox.com/10/a1/npIT0EFW_o.png" alt="在这里插入图片描述">选择USB(uefi)<br> <img src="https://images2.imgbox.com/78/f4/AAmFTj90_o.png" alt="在这里插入图片描述"><br> 选择刚才做的镜像<br> <img src="https://images2.imgbox.com/8e/b5/M8ayxOle_o.png" alt="在这里插入图片描述"><br> 选择第一个BOOT in norma1 mode</p> 
<p><img src="https://images2.imgbox.com/84/3b/FmLqOixq_o.png" alt="在这里插入图片描述">乱码。。。。选第二个</p> 
<p><img src="https://images2.imgbox.com/0e/12/XXkudrSL_o.png" alt="在这里插入图片描述"><br> ctrl +c不检查</p> 
<p><img src="https://images2.imgbox.com/a8/17/LONvwop7_o.png" alt="在这里插入图片描述"><br> 进来填写用户名密码。<br> 进行系统安装时，需要输入系统的用户信息，推荐输入原系统的用户名和密码。安装好的系统将会使用这里输入的用户名替换掉一些系统文件中的路径，比如说~/.bashrc中设置的工作空间路径。如果输入原系统的用户名和密码，系统是可以直接运行之前配置好的一些环境的；如果输入新的用户名，可能需要重新创建工作空间并进行编译。备份的系统会保留之前系统的一系列文件，为此工作空间中的路径也还是原来的用户名的。</p> 
<h2><a id="_197"></a>第七步、挂载分区</h2> 
<p>找到刚才分出来的100G，特点：带问号，没有标签的<br> <img src="https://images2.imgbox.com/88/ff/FAgzoUin_o.png" alt="在这里插入图片描述">右侧新建下面为这100个G分出三个区swap、/、/boot。swap为交换分区（8-16G都可16*1024=16384M）、/boot为引导区（物理机必须设置，200MB即可如果有/boot/efi，优先选择），/为根目录（必须设置）。<br> 检查一下：</p> 
<p><img src="https://images2.imgbox.com/d0/a5/tMau91jn_o.png" alt="在这里插入图片描述">然后：<img src="https://images2.imgbox.com/85/fd/URYbh6IE_o.png" alt="在这里插入图片描述">如果过程中出现，意味着100G不太够。在第五步的时候多分一点出来就好了<br> <img src="https://images2.imgbox.com/69/93/d1Pyux32_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_205"></a>参考</h2> 
<p><a href="https://www.zhihu.com/tardis/bd/art/576420693?source_id=1001" rel="nofollow">https://www.zhihu.com/tardis/bd/art/576420693?source_id=1001</a></p> 
<p><a href="https://www.zhihu.com/tardis/bd/art/576420693?source_id=1001" rel="nofollow">https://www.zhihu.com/tardis/bd/art/576420693?source_id=1001</a></p> 
<p><a href="https://blog.csdn.net/u011391361/article/details/130740017?utm_medium=distribute.pc_relevant.none-task-blog-2~default~baidujs_baidulandingword~default-0-130740017-blog-80117715.235%5Ev38%5Epc_relevant_sort_base3&amp;spm=1001.2101.3001.4242.1&amp;utm_relevant_index=3">https://blog.csdn.net/u011391361/article/details/130740017?utm_medium=distribute.pc_relevant.none-task-blog-2<sub>default</sub>baidujs_baidulandingword~default-0-130740017-blog-80117715.235<sup>v38</sup>pc_relevant_sort_base3&amp;spm=1001.2101.3001.4242.1&amp;utm_relevant_index=3</a></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/9584adb357e8b92c6c45653694203438/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">基于51单片机的8路抢答器proteus仿真 汇编语言程序设计</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/5a716c161948a2a980226e0be65261d7/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">人工智能和图搜索</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>