<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>linux文件管理和IO重定向 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="linux文件管理和IO重定向" />
<meta property="og:description" content="文章目录 1、文件系统目录结构1.1、文件系统的目录结构1.2 常见的文件系统目录功能1.3 应用程序的组成部分1.4 CentOS 7 以后版本目录结构变化1.5 Linux下的文件类型 2、文件操作命令2.1 显示当前工作目录2.2 绝对路径和相对路径（面试常见问题）2.3 更改目录2.4 文件通配符模式2.5 复制文件和目录2.6 目录操作2.6.1 显示目录树tree2.6.2 创建目录 mkir2.6.3 删除非空目录rmdir 3 文件元数据和节点表结构3.1 inode表结构3.2 目录3.3 cp和inode3.4 rm和inode3.5 mv和inode3.6 硬链接3.7 符号链接或软连接3.8 硬链接和软连接区别（面试题重点） 4、IO重定向和管道4.1 标准输入和输出4.2 I/O重定向4.2.1 标准输出和错误重定向 4.2.2 标准输入重定向4.2.3 tr命令4.2.2.4 把多行重定向 4.3、管道4.3.1 管道4.3.2 tee 命令 5、文件管理练习题 1、文件系统目录结构 1.1、文件系统的目录结构 文件和目录被组织成一个单根倒置树结构文件系统从根目录下开始，用“/“表示根文件系统（rootfs）：root filesystem以.开头的文件为隐藏文件路径分隔为/文件名最长255个字节包括路径在内的文件名称最长4095字节蓝色–&gt;目录 绿色–&gt;可执行文件 红色–&gt;压缩文件 浅蓝色–&gt;链接文件 灰色–&gt;其他文件除了斜杠和NUL，所有字符都有效，但使用特殊字符的目录名称和文件不推荐使用，有些字符需要用引号来引用每个文件都有两类相关数据：元数据 metadata,即属性，数据：data,即文件内容
Linux的文件系统分层结构：FHS===Filesystem Hierarchy Standard
参考文档：http://www.pathname.com/fhs/ 1.2 常见的文件系统目录功能 /boot: 引导文件存放目录，内核文件（vmlinuz）、引导加载器(bootloader,grub)都存放于此目录 /boot：引导文件存放目录，内核文件(vmlinuz)、引导加载器(bootloader, grub)都存放于此目录 /bin：所有用户使用的基本命令；不能关联至独立分区，OS启动即会用到的程序 /sbin：管理类的基本命令；不能关联至独立分区，OS启动即会用到的程序 /lib：启动时程序依赖的基本共享库文件以及内核模块文件(/lib/modules) /lib64：专用于x86_64系统上的辅助共享库文件存放位置 /etc：配置文件目录 /home/USERNAME：普通用户家目录 /root：管理员的家目录 /media：便携式移动设备挂载点 /mnt：临时文件系统挂载点 /dev：设备文件及特殊文件存储位置 b: block device，随机访问 c: character device，线性访问 /opt：第三方应用程序的安装位置 /srv：系统上运行的服务用到的数据 /tmp：临时文件存储位置 /usr: universal shared, read-only data bin: 保证系统拥有完整功能而提供的应用程序 sbin: lib：32位使用 lib64：只存在64位系统 include: C程序的头文件(header files) share：结构化独立的数据，例如doc, man等 local：第三方应用程序的安装位置 bin, sbin, lib, lib64, etc, share /var: variable data files cache: 应用程序缓存数据目录 lib: 应用程序状态信息数据 local：专用于为/usr/local下的应用程序存储可变数据 lock: 锁文件 log: 日志目录及文件 opt: 专用于为/opt下的应用程序存储可变数据 run: 运行中的进程相关数据,通常用于存储进程pid文件 spool: 应用程序数据池 tmp: 保存系统两次重启之间产生的临时数据 /proc: 用于输出内核与进程信息相关的虚拟文件系统 /sys：用于输出当前系统上硬件设备相关信息虚拟文件系统 /selinux: security enhanced Linux，selinux相关的安全策略等信息的存储位置 1." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/36ea0d07fb5dcc2238389112b32c818e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-04-12T21:05:44+08:00" />
<meta property="article:modified_time" content="2021-04-12T21:05:44+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">linux文件管理和IO重定向</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#1_1" rel="nofollow">1、文件系统目录结构</a></li><li><ul><li><a href="#11_3" rel="nofollow">1.1、文件系统的目录结构</a></li><li><a href="#12__18" rel="nofollow">1.2 常见的文件系统目录功能</a></li><li><a href="#13__61" rel="nofollow">1.3 应用程序的组成部分</a></li><li><a href="#14_CentOS_7__70" rel="nofollow">1.4 CentOS 7 以后版本目录结构变化</a></li><li><a href="#15_Linux_92" rel="nofollow">1.5 Linux下的文件类型</a></li></ul> 
  </li><li><a href="#2_145" rel="nofollow">2、文件操作命令</a></li><li><ul><li><a href="#21__146" rel="nofollow">2.1 显示当前工作目录</a></li><li><a href="#22__154" rel="nofollow">2.2 绝对路径和相对路径（面试常见问题）</a></li><li><a href="#23__178" rel="nofollow">2.3 更改目录</a></li><li><a href="#24__214" rel="nofollow">2.4 文件通配符模式</a></li><li><a href="#25__249" rel="nofollow">2.5 复制文件和目录</a></li><li><a href="#26__276" rel="nofollow">2.6 目录操作</a></li><li><ul><li><a href="#261_tree_277" rel="nofollow">2.6.1 显示目录树tree</a></li><li><a href="#262__mkir_282" rel="nofollow">2.6.2 创建目录 mkir</a></li><li><a href="#263_rmdir_287" rel="nofollow">2.6.3 删除非空目录rmdir</a></li></ul> 
  </li></ul> 
  </li><li><a href="#3__297" rel="nofollow">3 文件元数据和节点表结构</a></li><li><ul><li><a href="#31_inode_298" rel="nofollow">3.1 inode表结构</a></li><li><a href="#32__315" rel="nofollow">3.2 目录</a></li><li><a href="#33_cpinode_321" rel="nofollow">3.3 cp和inode</a></li><li><a href="#34_rminode_326" rel="nofollow">3.4 rm和inode</a></li><li><a href="#35_mvinode_333" rel="nofollow">3.5 mv和inode</a></li><li><a href="#36__343" rel="nofollow">3.6 硬链接</a></li><li><a href="#37__354" rel="nofollow">3.7 符号链接或软连接</a></li><li><a href="#38__376" rel="nofollow">3.8 硬链接和软连接区别（面试题重点）</a></li></ul> 
  </li><li><a href="#4IO_407" rel="nofollow">4、IO重定向和管道</a></li><li><ul><li><a href="#41__408" rel="nofollow">4.1 标准输入和输出</a></li><li><a href="#42_IO_417" rel="nofollow">4.2 I/O重定向</a></li><li><ul><li><a href="#421__419" rel="nofollow">4.2.1 标准输出和错误重定向</a></li></ul> 
   </li><li><a href="#422__458" rel="nofollow">4.2.2 标准输入重定向</a></li><li><ul><li><a href="#423__tr_460" rel="nofollow">4.2.3 tr命令</a></li><li><a href="#4224__494" rel="nofollow">4.2.2.4 把多行重定向</a></li></ul> 
   </li><li><a href="#43_509" rel="nofollow">4.3、管道</a></li><li><ul><li><a href="#431__510" rel="nofollow">4.3.1 管道</a></li><li><a href="#432_tee__554" rel="nofollow">4.3.2 tee 命令</a></li></ul> 
  </li></ul> 
  </li><li><a href="#5_610" rel="nofollow">5、文件管理练习题</a></li></ul> 
</div> 
<p></p> 
<h2><a id="1_1"></a>1、文件系统目录结构</h2> 
<p><img src="https://images2.imgbox.com/88/80/kvJpxm1i_o.png" alt="linux文件系统目录结构"></p> 
<h3><a id="11_3"></a>1.1、文件系统的目录结构</h3> 
<ul><li>文件和目录被组织成一个单根倒置树结构</li><li>文件系统从根目录下开始，用“/“表示</li><li>根文件系统（rootfs）：root filesystem</li><li>以.开头的文件为隐藏文件</li><li>路径分隔为/</li><li>文件名最长255个字节</li><li>包括路径在内的文件名称最长4095字节</li><li>蓝色–&gt;目录 绿色–&gt;可执行文件 红色–&gt;压缩文件 浅蓝色–&gt;链接文件 灰色–&gt;其他文件</li><li>除了斜杠和NUL，所有字符都有效，但使用特殊字符的目录名称和文件不推荐使用，有些字符需要用引号来引用</li><li>每个文件都有两类相关数据：元数据 metadata,即属性，数据：data,即文件内容<br> Linux的文件系统分层结构：FHS===Filesystem Hierarchy Standard<br> 参考文档：http://www.pathname.com/fhs/</li></ul> 
<h3><a id="12__18"></a>1.2 常见的文件系统目录功能</h3> 
<pre><code class="prism language-bash">/boot: 引导文件存放目录，内核文件（vmlinuz）、引导加载器<span class="token punctuation">(</span>bootloader,grub<span class="token punctuation">)</span>都存放于此目录
/boot：引导文件存放目录，内核文件<span class="token punctuation">(</span>vmlinuz<span class="token punctuation">)</span>、引导加载器<span class="token punctuation">(</span>bootloader, grub<span class="token punctuation">)</span>都存放于此目录
/bin：所有用户使用的基本命令；不能关联至独立分区，OS启动即会用到的程序
/sbin：管理类的基本命令；不能关联至独立分区，OS启动即会用到的程序
/lib：启动时程序依赖的基本共享库文件以及内核模块文件<span class="token punctuation">(</span>/lib/modules<span class="token punctuation">)</span>
/lib64：专用于x86_64系统上的辅助共享库文件存放位置
/etc：配置文件目录
/home/USERNAME：普通用户家目录
/root：管理员的家目录
/media：便携式移动设备挂载点
/mnt：临时文件系统挂载点
/dev：设备文件及特殊文件存储位置
 b: block device，随机访问
 c: character device，线性访问
/opt：第三方应用程序的安装位置
/srv：系统上运行的服务用到的数据
/tmp：临时文件存储位置
/usr: universal shared, read-only data
 bin: 保证系统拥有完整功能而提供的应用程序
 sbin:
 lib：32位使用
 lib64：只存在64位系统
 include: C程序的头文件<span class="token punctuation">(</span>header files<span class="token punctuation">)</span>
 share：结构化独立的数据，例如doc, man等
       local：第三方应用程序的安装位置
   bin, sbin, lib, lib64, etc, share
/var: variable data files
 cache: 应用程序缓存数据目录
 lib: 应用程序状态信息数据
 local：专用于为/usr/local下的应用程序存储可变数据
 lock: 锁文件
 log: 日志目录及文件
 opt: 专用于为/opt下的应用程序存储可变数据
 run: 运行中的进程相关数据,通常用于存储进程pid文件
 spool: 应用程序数据池
 tmp: 保存系统两次重启之间产生的临时数据
/proc: 用于输出内核与进程信息相关的虚拟文件系统
/sys：用于输出当前系统上硬件设备相关信息虚拟文件系统
/selinux: security enhanced Linux，selinux相关的安全策略等信息的存储位置
</code></pre> 
<h3><a id="13__61"></a>1.3 应用程序的组成部分</h3> 
<pre><code class="prism language-bash">二进制程序：/bin, /sbin, /usr/bin, /usr/sbin, /usr/local/bin, /usr/local/sbin
库文件：/lib, /lib64, /usr/lib, /usr/lib64, /usr/local/lib, /usr/local/lib64
配置文件：/etc, /etc/DIRECTORY, /usr/local/etc
帮助文件：/usr/share/man, /usr/share/doc, /usr/local/share/man, 
/usr/local/share/doc
</code></pre> 
<h3><a id="14_CentOS_7__70"></a>1.4 CentOS 7 以后版本目录结构变化</h3> 
<ul><li>/bin 和 /usr/bin</li><li>/sbin 和 /usr/sbin</li><li>/lib 和 /usr/lib</li><li>/lib64和 /usr/lib64</li></ul> 
<pre><code class="prism language-bash"> <span class="token punctuation">[</span>root@centos8 ~<span class="token punctuation">]</span><span class="token comment">#ls /bin /sbin /lib /lib64 -ld</span>
lrwxrwxrwx. 1 root root 7 May 11  2019 /bin -<span class="token operator">&gt;</span> usr/bin
lrwxrwxrwx. 1 root root 7 May 11  2019 /lib -<span class="token operator">&gt;</span> usr/lib
lrwxrwxrwx. 1 root root 9 May 11  2019 /lib64 -<span class="token operator">&gt;</span> usr/lib64
lrwxrwxrwx. 1 root root 8 May 11  2019 /sbin -<span class="token operator">&gt;</span> usr/sbin
<span class="token punctuation">[</span>root@centos6 ~<span class="token punctuation">]</span><span class="token comment">#ls /bin /sbin /lib /lib64 -ld</span>
dr-xr-xr-x.  2 root root  4096 Mar 20 09:14 /bin
dr-xr-xr-x. 11 root root  4096 Dec 12  2018 /lib
dr-xr-xr-x.  9 root root 12288 Mar 20 09:13 /lib64
dr-xr-xr-x.  2 root root 12288 Mar 20 09:14 /sbin
<span class="token punctuation">[</span>root@ubuntu1804 ~<span class="token punctuation">]</span><span class="token comment">#ll /bin /usr/bin -d</span>
drwxr-xr-x 2 root root  4096 Jan 12 18:41 /bin/
drwxr-xr-x 2 root root 24576 Jan 12 18:42 /usr/bin/
</code></pre> 
<h3><a id="15_Linux_92"></a>1.5 Linux下的文件类型</h3> 
<ul><li>- 普通文件</li><li>d 目录文件</li><li>l 符号链接文件</li><li>b 块设备</li><li>c 字符设备</li><li>p 管道文件</li><li>s 套接字文件</li></ul> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>root@centos7 ~<span class="token punctuation">]</span><span class="token comment">#ls -l /run/</span>
total 52
drwxr-xr-x  2 root           root            100 Dec  9 20:41 abrt
-rw-------  1 root           root             11 Dec  9 20:41 alsactl.pid
-rw-r--r--  1 root           root              5 Dec  9 20:41 atd.pid
-rw-r--r--  1 root           root              4 Dec  9 20:41 auditd.pid
prw-------  1 root           root              0 Dec  9 20:41 autofs.fifo-misc
prw-------  1 root           root              0 Dec  9 20:41 autofs.fifo-net
drwxr-xr-x  2 avahi         avahi            80 Dec  9 20:41 avahi-daemon
drwxr-xr-x  2 root           root             40 Dec  9 20:41 certmonger
drwxr-x---  2 chrony         chrony           80 Dec  9 20:41 chrony
drwxr-xr-x  2 root           root             40 Dec  9 20:41 console
-rw-r--r--  1 root           root              5 Dec  9 20:41 crond.pid
----------  1 root           root              0 Dec  9 20:41 cron.reboot
drwx------  2 root           root             40 Dec  9 20:41 cryptsetup
drwxr-xr-x  3 root           lp               80 Dec  9 20:41 cups
drwxr-xr-x  2 root           root             60 Dec  9 20:41 dbus
-rw-r--r--  1 root           root              4 Dec  9 20:41 dhclient-eth0.pid
prw-------  1 root           root              0 Dec  9 20:40 dmeventd-client
prw-------  1 root           root              0 Dec  9 20:40 dmeventd-server
drwxr-xr-x  2 root           root             40 Dec  9 20:41 faillock
-rw-------  1 root           root              4 Dec  9 20:41 gssproxy.pid
srw-rw-rw-  1 root           root              0 Dec  9 20:41 gssproxy.sock
drwxr-xr-x  4 root           root            100 Dec  9 20:40 initramfs
-rw-r--r--  1 root           root              4 Dec  9 20:41 ksmtune.pid
drwxr-xr-x  8 root           root            220 Dec  9 20:41 lock
drwxr-xr-x  3 root           root             60 Dec  9 20:40 log
drwxrwxr-x  3 root           libstoragemgmt   60 Dec  9 20:41 lsm
drwx------  2 root           root             80 Dec  9 20:40 lvm
-rw-r--r--  1 root           root              4 Dec  9 20:40 lvmetad.pid
drwx--x---  2 root           root             40 Dec  9 20:41 mdadm
drwxr-xr-x  2 root           root             40 Dec  9 20:40 <span class="token function">mount</span>
drwxrwxr-x  2 root           root             40 Dec  9 20:41 netreport
drwxr-xr-x  3 root           root            120 Dec  9 20:41 NetworkManager
drwxr-xr-x  2 root           root             40 Dec  9 20:41 plymouth
drwxr-xr-x  2 root           root             40 Dec  9 20:41 ppp
drwxr-xr-x  2 radvd         radvd            40 Dec  9 20:41 radvd
drwx------  2 rpc           rpc              40 Dec  9 20:41 rpcbind
-r--r--r--  1 root           root              0 Dec  9 20:41 rpcbind.lock
srw-rw-rw-  1 root           root              0 Dec  9 20:41 rpcbind.sock
-rw-r--r--  1 rpcuser       rpcuser           5 Dec  9 20:41 rpc.statd.pid
</code></pre> 
<h2><a id="2_145"></a>2、文件操作命令</h2> 
<h3><a id="21__146"></a>2.1 显示当前工作目录</h3> 
<p>每个shell 和系统进程都有一个当前的工作目录<br> 显示当前shell 当前工作路径的绝对路径<br> pwd</p> 
<ul><li>-P 显示真实物理路径</li><li>-L 显示链接路径 （默认）</li></ul> 
<h3><a id="22__154"></a>2.2 绝对路径和相对路径（面试常见问题）</h3> 
<ul><li>绝对路径<br> 以正斜杠/ 根目录开始<br> 完整的文件位置路径<br> 可用于任何向指定一个文件名的时候</li><li>相对路径名<br> 不以斜线开始<br> 一般情况下，是指对于当前工作目录的路径，特殊场景下，是相对于某目录的位置上可以作为一个简短的形式指定一个文件名</li></ul> 
<p>基名：basename,只取文件名而不要路径<br> 目录名：dirname,只取路径，不要文件名</p> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>root@centos8 bin<span class="token punctuation">]</span><span class="token comment">#basename /etc/sysconfig/network</span>
network
<span class="token punctuation">[</span>root@centos8 bin<span class="token punctuation">]</span><span class="token comment">#dirname /etc/sysconfig/network</span>
/etc/sysconfig
<span class="token punctuation">[</span>root@centos8 ~<span class="token punctuation">]</span><span class="token comment">#dirname /etc/sysconfig/network-scripts/ifcfg-eth0</span>
/etc/sysconfig/network-scripts
<span class="token punctuation">[</span>root@centos8 ~<span class="token punctuation">]</span><span class="token comment">#basename /etc/sysconfig/network-scripts/ifcfg-eth0</span>
ifcfg-eth0
</code></pre> 
<h3><a id="23__178"></a>2.3 更改目录</h3> 
<p>cd 改变目录</p> 
<ul><li>-P 切换至物理路径，而非软连接目录<br> 可以使用绝对或相对路径</li><li>切换至父目录： cd …</li><li>切换至当前用户主目录： cd</li><li>切换至以前的工作目录： cd -</li></ul> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>root@centos8 ~<span class="token punctuation">]</span><span class="token comment">#cd /etc/sysconfig</span>
<span class="token punctuation">[</span>root@centos8 sysconfig<span class="token punctuation">]</span><span class="token comment">#pwd</span>
/etc/sysconfig
<span class="token punctuation">[</span>root@centos8 sysconfig<span class="token punctuation">]</span><span class="token comment">#cd ../../data</span>
<span class="token punctuation">[</span>root@centos8 data<span class="token punctuation">]</span><span class="token comment">#pwd</span>
/data
<span class="token punctuation">[</span>root@centos8 data<span class="token punctuation">]</span><span class="token comment">#cd /bin</span>
<span class="token punctuation">[</span>root@centos8 bin<span class="token punctuation">]</span><span class="token comment">#pwd</span>
/bin
<span class="token punctuation">[</span>root@centos8 bin<span class="token punctuation">]</span><span class="token comment">#cd -P /bin </span>
<span class="token punctuation">[</span>root@centos8 bin<span class="token punctuation">]</span><span class="token comment">#pwd</span>
/usr/bi
</code></pre> 
<p>相关的环境变量：<br> PWD：当前目录路径<br> OLDPWD：上一次目录路径</p> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>root@centos8 ~<span class="token punctuation">]</span><span class="token comment">#echo $OLDPWD</span>
/etc/sysconfig
<span class="token punctuation">[</span>root@centos8 ~<span class="token punctuation">]</span><span class="token comment">#cd -</span>
/etc/sysconfig
<span class="token punctuation">[</span>root@centos8 sysconfig<span class="token punctuation">]</span><span class="token comment">#pwd</span>
/etc/sysconfig
<span class="token punctuation">[</span>root@centos8 sysconfig<span class="token punctuation">]</span><span class="token comment">#</span>
</code></pre> 
<h3><a id="24__214"></a>2.4 文件通配符模式</h3> 
<p>文件通配符可以用来匹配符合条件的多个文件，方便批量管理文件<br> 通配符采有特定的符号，表示特定的含义，此特符号称为元 meta 字符<br> 常见的通配符如下：</p> 
<pre><code class="prism language-bash">* 匹配零个或多个字符，但不匹配 <span class="token string">"."</span> 开头的文件，即隐藏文件
? 匹配任何单个字符,一个汉字也算一个字符
~ 当前用户家目录
~mage 用户mage家目录
<span class="token keyword">.</span> 和 ~+ 当前工作目录
~-   前一个工作目录
<span class="token punctuation">[</span>0-9<span class="token punctuation">]</span> 匹配数字范围
<span class="token punctuation">[</span>a-z<span class="token punctuation">]</span> 一个字母
<span class="token punctuation">[</span>A-Z<span class="token punctuation">]</span> 一个字母
<span class="token punctuation">[</span>wang<span class="token punctuation">]</span> 匹配列表中的任何的一个字符
<span class="token punctuation">[</span>^wang<span class="token punctuation">]</span> 匹配列表中的所有字符以外的字符
<span class="token punctuation">[</span>^a-z<span class="token punctuation">]</span> 匹配列表中的所有字符以外的字符
</code></pre> 
<p>另外还有在Linux系统中预定义的字符类：man 7 glob</p> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>:digit:<span class="token punctuation">]</span>：任意数字，相当于0-9
<span class="token punctuation">[</span>:lower:<span class="token punctuation">]</span>：任意小写字母,表示 a-z
<span class="token punctuation">[</span>:upper:<span class="token punctuation">]</span>: 任意大写字母,表示 A-Z 
<span class="token punctuation">[</span>:alpha:<span class="token punctuation">]</span>: 任意大小写字母
<span class="token punctuation">[</span>:alnum:<span class="token punctuation">]</span>：任意数字或字母
<span class="token punctuation">[</span>:blank:<span class="token punctuation">]</span>：水平空白字符
<span class="token punctuation">[</span>:space:<span class="token punctuation">]</span>：水平或垂直空白字符
<span class="token punctuation">[</span>:punct:<span class="token punctuation">]</span>：标点符号
<span class="token punctuation">[</span>:print:<span class="token punctuation">]</span>：可打印字符
<span class="token punctuation">[</span>:cntrl:<span class="token punctuation">]</span>：控制（非打印）字符
<span class="token punctuation">[</span>:graph:<span class="token punctuation">]</span>：图形字符
<span class="token punctuation">[</span>:xdigit:<span class="token punctuation">]</span>：十六进制字符
</code></pre> 
<h3><a id="25__249"></a>2.5 复制文件和目录</h3> 
<p>利用 cp（copy）命令可以实现文件或目录的复制</p> 
<pre><code class="prism language-bash">常用选项
-i 如果目标已存在，覆盖前提示是否覆盖 
-n 不覆盖，注意两者顺序
-r, -R 递归复制目录及内部的所有内容
-a 归档，相当于-dR --preserv<span class="token operator">=</span>all，常用于备份功能
-d --no-dereference --preserv<span class="token operator">=</span>links 不复制原文件，只复制链接名
--preserv<span class="token punctuation">[</span><span class="token operator">=</span>ATTR_LIST<span class="token punctuation">]</span>
 mode: 权限
 ownership: 属主属组
 timestamp: 
 links
 xattr
 context
 all
-p 等同--preserv<span class="token operator">=</span>mode,ownership,timestamp
-v --verbose
-f --force
-u --update 只复制源比目标更新文件或目标不存在的文件
-b 目标存在，覆盖前先备份，默认形式为 filename~ ,只保留最近的一个备份
--backup<span class="token operator">=</span>numbered 目标存在，覆盖前先备份加数字后缀，形式为 filename.~<span class="token comment">#~ ，可以保留多</span>
个版本
</code></pre> 
<p><img src="https://images2.imgbox.com/f9/f3/I2VCUnmg_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="26__276"></a>2.6 目录操作</h3> 
<h4><a id="261_tree_277"></a>2.6.1 显示目录树tree</h4> 
<p>常见选项：<br> -d: 只显示目录<br> -L level：指定显示的层级数目<br> -P pattern: 只显示由指定wild-card pattern匹配到的路径</p> 
<h4><a id="262__mkir_282"></a>2.6.2 创建目录 mkir</h4> 
<p>常见选项：<br> -p: 存在于不报错，且可自动创建所需的各目录<br> -v: 显示详细信息<br> -m MODE: 创建目录时直接指定权限</p> 
<h4><a id="263_rmdir_287"></a>2.6.3 删除非空目录rmdir</h4> 
<p>常见选项：<br> -p 递归删除父空目录<br> -v 显示详细信息<br> 注意：rmdir只能删除空目录，如果想删除非空目录，可以使用rm -r 命令，递归删除目录树</p> 
<pre><code class="prism language-bash"><span class="token function">alias</span> rm<span class="token operator">=</span><span class="token string">'DIR=/data/backup<span class="token variable"><span class="token variable">`</span><span class="token function">date</span> +%F%T<span class="token variable">`</span></span>;mkdir <span class="token variable">$DIR</span>;mv -t <span class="token variable">$DIR</span>'</span>
</code></pre> 
<h2><a id="3__297"></a>3 文件元数据和节点表结构</h2> 
<h3><a id="31_inode_298"></a>3.1 inode表结构</h3> 
<p>每个文件的属性信息，比如：文件的大小，时间，类型等，称为文件的元数据(meta data)。这些元数据是存放在inode（index node）表中。inode 表中有很多条记录组成，第一条记录对应的存放了一个文件的元数据信息</p> 
<p>每一个inode表记录对应的保存了以下信息：</p> 
<ul><li>inode number 节点号</li><li>文件类型</li><li>权限</li><li>UID</li><li>GID</li><li>链接数（指向这个文件名路径名称个数）</li><li>该文件的大小和不同的时间戳</li><li>指向磁盘上文件的数据块指针</li><li>有关文件的其他数据</li></ul> 
<p><img src="https://images2.imgbox.com/8d/00/gfTyoHTN_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/49/9a/gtOfuEsK_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="32__315"></a>3.2 目录</h3> 
<p>目录是个特殊文件，目录文件的内容保存了此目录中文件的列表及inode number对应关系</p> 
<ul><li>文件引用一个是 inode号</li><li>人是通过文件名来引用一个文件</li><li>一个目录是目录下的文件名和文件inode号之间的映射<br> <img src="https://images2.imgbox.com/06/16/mPwfxOqd_o.png" alt="在这里插入图片描述"></li></ul> 
<h3><a id="33_cpinode_321"></a>3.3 cp和inode</h3> 
<p>cp 命令：</p> 
<ul><li>分配一个空闲的inode号，在inode表中生成新条目</li><li>在目录中创建一个目录项，将名称与inode编号关联</li><li>拷贝数据生成新的文件</li></ul> 
<h3><a id="34_rminode_326"></a>3.4 rm和inode</h3> 
<p>rm 命令：</p> 
<ul><li>链接数递减，从而释放的inode号可以被重用</li><li>把数据块放在空闲列表中</li><li>删除目录项</li><li>数据实际上不会马上被删除，但当另一个文件使用数据块时将被覆盖</li></ul> 
<h3><a id="35_mvinode_333"></a>3.5 mv和inode</h3> 
<ul><li>如果mv命令的目标和源在相同的文件系统，作为mv 命令用新的文件名创建对应新的目录项 删除旧目录条目对应的旧的文件名<br> 不影响inode表（除时间戳）或磁盘上的数据位置：没有数据被移动！</li><li>如果目标和源在一个不同的文件系统， mv相当于cp和rm</li></ul> 
<p>删除大文件</p> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>root@centos8 ~<span class="token punctuation">]</span><span class="token comment">#cat /dev/null &gt; /var/log/huge.log</span>
</code></pre> 
<h3><a id="36__343"></a>3.6 硬链接</h3> 
<p>硬链接本质上就给一个文件起一个新的名称，实质是同一个文件<br> 硬链接特性：</p> 
<ul><li>创建硬链接会在对应的目录中增加额外的记录项以引用文件</li><li>对应于同一文件系统上一个物理文件</li><li>每个目录引用相同的inode号</li><li>创建时链接数递增</li><li>删除文件时：rm命令递减计数的链接，文件要存在，至少有一个链接数，当链接数为零时，该文件被删除</li><li>不能跨越驱动器或分区</li><li>不支持对目录创建硬链接</li></ul> 
<h3><a id="37__354"></a>3.7 符号链接或软连接</h3> 
<p>一个符号链接指向另一个文件,就像 windows 中快捷方式，软链接文件和原文件本质上不是同一个文件<br> 软链接特点：</p> 
<ul><li>一个符号链接的内容是它引用文件的名称</li><li>可以对目录创建软链接</li><li>可以跨分区的文件实现</li><li>指向的是另一个文件的路径；其大小为指向的路径字符串的长度；不增加或减少目标文件inode的引用计数</li><li>在创建软链接时, 如果源文件使用相对路径，是相对于软链接文件的路径，而非相对于当前工作目录,但是软链接的路径如果是相对路径,则是相对于当前工作目录</li></ul> 
<pre><code class="prism language-bash"><span class="token comment">#绝对路径</span>
<span class="token function">ln</span> -s /data/dir /data/dirlink
<span class="token comment">#相对路径</span>
<span class="token function">cd</span> /data
<span class="token function">ln</span> -s <span class="token punctuation">..</span>/data/dir /root/dirlink
<span class="token function">rm</span> -rf /data/dirlink    <span class="token comment">#删除软链接本身,不会删除源目录内容</span>
<span class="token function">rm</span> -rf /data/dirlink/   <span class="token comment">#删除源目录的文件,不会删除链接文件</span>
<span class="token comment">#查看链接文件指向的原文件</span>
readlink /data/dirlink
<span class="token punctuation">[</span>root@centos8 ~<span class="token punctuation">]</span><span class="token comment">#readlink /proc/$$/exe</span>
/usr/bin/bash
</code></pre> 
<h3><a id="38__376"></a>3.8 硬链接和软连接区别（面试题重点）</h3> 
<pre><code class="prism language-bash">1. 本质：
硬链接：本质是同一个文件
软链接：本质不是同一个文件
2. 跨设备
硬链接：不支持
软链接：支持
3. inode
硬链接：相同
软链接：不同
4. 链接数
硬链接：创建新的硬链接,链接数会增加,删除硬链接,链接数减少
软链接：创建或删除,链接数不会变化
5. 文件夹
硬链接：不支持
软链接：支持
6. 相对路径
硬链接：原始文件相对路径是相对于当前工作目录
软链接：原始文件的相对路径是相对于链接文件的相对路径
7. 删除源文件
硬链接：只是链接数减一,但链接文件的访问不受影响
软链接：链接文件将无法访问
8. 文件类型
硬链接：和源文件相同
软链接：链接文件,和源文件无关
9. 文件大小
硬链接: 和源文件相同
软链接: 源文件的路径的长度
</code></pre> 
<h2><a id="4IO_407"></a>4、IO重定向和管道</h2> 
<h3><a id="41__408"></a>4.1 标准输入和输出</h3> 
<p>程序：指令+数据<br> 读入数据：Input<br> 输出数据：Output<br> 打开的文件都有一个fd: file descriptor (文件描述符)<br> Linux给程序提供三种 I/O 设备</p> 
<ul><li>标准输入（STDIN） －0 默认接受来自终端窗口的输入</li><li>标准输出（STDOUT）－1 默认输出到终端窗口</li><li>标准错误（STDERR） －2 默认输出到终端窗口</li></ul> 
<h3><a id="42_IO_417"></a>4.2 I/O重定向</h3> 
<p>I/O重定向：将默认的输入，输出或错误对应的设备改变，指向新的目标</p> 
<h4><a id="421__419"></a>4.2.1 标准输出和错误重定向</h4> 
<p>STDOUT和STDERR可以被重定向到指定文件,而非默认的当前终端</p> 
<pre><code class="prism language-bash">1<span class="token operator">&gt;</span> 或 <span class="token operator">&gt;</span>     把STDOUT重定向到文件
2<span class="token operator">&gt;</span> 把STDERR重定向到文件
<span class="token operator">&amp;</span><span class="token operator">&gt;</span> 把标准输出和错误都重定向
<span class="token operator">&gt;</span><span class="token operator">&amp;</span> 和上面功能一样，建议使用上面方式

以上如果文件已存在，文件内容会被覆盖
<span class="token keyword">set</span>  -C 禁止将内容覆盖已有文件,但可追加， 利用 <span class="token operator">&gt;</span><span class="token operator">|</span> 仍可强制覆盖
<span class="token keyword">set</span>  +C 允许覆盖，默认
追加
\<span class="token operator">&gt;&gt;</span>可以在原有内容基础上，追加内容
把输出和错误重新定向追加到文件

<span class="token operator">&gt;&gt;</span> 追加标准输出重定向至文件
2<span class="token operator">&gt;&gt;</span> 追加标准错误重定向至文件
</code></pre> 
<p>标准输出和错误输出各自定向至不同位置</p> 
<pre><code class="prism language-bash">COMMAND <span class="token operator">&gt;</span> /path/to/file.out 2<span class="token operator">&gt;</span> /path/to/error.out
</code></pre> 
<p>合并标准输出和错误输出为同一个数据流进行重定向<br> &amp;&gt; 覆盖重定向<br> &amp;&gt;&gt; 追加重定向<br> COMMAND &gt; /path/to/file.out 2&gt;&amp;1 （顺序很重要）<br> COMMAND &gt;&gt; /path/to/file.out 2&gt;&amp;1</p> 
<p>将标准输出和错误都重定向到同一个文件</p> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>root@centos8 ~<span class="token punctuation">]</span><span class="token comment">#ls /data /xxx &gt; /data/all.log 2&gt;&amp;1</span>
<span class="token punctuation">[</span>root@centos8 ~<span class="token punctuation">]</span><span class="token comment">#ls /data /xxx 2&gt; /data/all.log 1&gt;&amp;2</span>
<span class="token punctuation">[</span>root@centos8 ~<span class="token punctuation">]</span><span class="token comment">#ls /data /xxx &amp;&gt; /data/all.log </span>
<span class="token punctuation">[</span>root@centos8 ~<span class="token punctuation">]</span><span class="token comment">#ls /data /xxx &gt;&amp; /data/all.log </span>
<span class="token punctuation">[</span>root@centos8 ~<span class="token punctuation">]</span><span class="token comment">#ls /data /xxx 2&gt;&amp;1 &gt; /data/all.log</span>
</code></pre> 
<h3><a id="422__458"></a>4.2.2 标准输入重定向</h3> 
<p>从文件中导入STDIN，代替当前终端的输入设备，使用 &lt; 来重定向标准输入某些命令能够接受从文件中导入的STDIN</p> 
<h4><a id="423__tr_460"></a>4.2.3 tr命令</h4> 
<pre><code class="prism language-bash"><span class="token function">tr</span> 转换和删除字符
-d --delete：删除所有属于第一字符集的字符
-s --squeeze-repeats：把连续重复的字符以单独一个字符表示,即去重
-t  --truncate-set1：将第一个字符集对应字符转化为第二字符集对应的字符
-c –C --complement：取字符集的补集
 \NNN           character with octal value NNN <span class="token punctuation">(</span>1 to 3 octal digits<span class="token punctuation">)</span>
 \\             backslash
 \a             audible BEL
 \b             backspace
 \f             form feed
 \n             new line
 \r             <span class="token keyword">return</span>
 \t             horizontal tab
 \v             vertical tab
<span class="token punctuation">[</span>:alnum:<span class="token punctuation">]</span>：字母和数字
<span class="token punctuation">[</span>:alpha:<span class="token punctuation">]</span>：字母
<span class="token punctuation">[</span>:digit:<span class="token punctuation">]</span>：数字
<span class="token punctuation">[</span>:lower:<span class="token punctuation">]</span>：小写字母
<span class="token punctuation">[</span>:upper:<span class="token punctuation">]</span>：大写字母
<span class="token punctuation">[</span>:space:<span class="token punctuation">]</span>：空白字符
<span class="token punctuation">[</span>:print:<span class="token punctuation">]</span>：可打印字符
<span class="token punctuation">[</span>:punct:<span class="token punctuation">]</span>：标点符号
<span class="token punctuation">[</span>:graph:<span class="token punctuation">]</span>：图形字符
<span class="token punctuation">[</span>:cntrl:<span class="token punctuation">]</span>：控制（非打印）字符
<span class="token punctuation">[</span>:xdigit:<span class="token punctuation">]</span>：十六进制字符

<span class="token comment">#该命令会把/etc/issue中的小写字符都转换成大写字符</span>
<span class="token function">tr</span> ‘a-z’   ‘A-Z’<span class="token operator">&lt;</span> /etc/issue 
<span class="token comment">#删除fstab文件中的所有abc中任意字符</span>
<span class="token function">tr</span> –d abc <span class="token operator">&lt;</span> /etc/fstab  
</code></pre> 
<h4><a id="4224__494"></a>4.2.2.4 把多行重定向</h4> 
<p>使用 “&lt;&lt;终止词” 命令从键盘把多行重导向给STDIN，直到终止词位置之前的所有文本都发送给STDIN，有时被称为就地文本（here documents）<br> 其中终止词可以是任何一个或多个符号，比如：!，@，$，EOF（End Of File），magedu等，其中EOF比较常用</p> 
<pre><code class="prism language-bash">mail -s <span class="token string">"Please Call"</span>  admin@magedu.com <span class="token operator">&lt;&lt;</span>EOF 
<span class="token operator">&gt;</span> Hi Wang
<span class="token operator">&gt;</span>        
<span class="token operator">&gt;</span> Please give me a call when you get in. We may need 
<span class="token operator">&gt;</span> to <span class="token keyword">do</span> some maintenance on server1. 
<span class="token operator">&gt;</span>         
<span class="token operator">&gt;</span> Details when you're on-site
<span class="token operator">&gt;</span> Zhang
<span class="token operator">&gt;</span> EOF
</code></pre> 
<h3><a id="43_509"></a>4.3、管道</h3> 
<h4><a id="431__510"></a>4.3.1 管道</h4> 
<p>管道（使用符号“|”表示）用来连接多个命令<br> 功能说明：</p> 
<ul><li>将命令1的STDOUT发送给命令2的STDIN，命令2的STDOUT发送到命令3的STDIN</li><li>所有命令会在当前shell进程的子shell进程中执行</li><li>组合多种工具的功能</li></ul> 
<p>注意：STDERR默认不能通过管道转发，可利用2&gt;&amp;1 或 |&amp; 实现，格式如下</p> 
<pre><code class="prism language-bash">命令1 2<span class="token operator">&gt;</span><span class="token operator">&amp;</span>1 <span class="token operator">|</span> 命令2 
命令1 <span class="token operator">|</span><span class="token operator">&amp;</span> 命令2
</code></pre> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>root@centos8 ~<span class="token punctuation">]</span><span class="token comment">#passwd --stdin wang</span>
Changing password <span class="token keyword">for</span> user wang.
magedu
passwd: all authentication tokens updated successfully.
<span class="token punctuation">[</span>root@centos8 ~<span class="token punctuation">]</span><span class="token comment">#cat pass.txt</span>
centos
<span class="token punctuation">[</span>root@centos8 ~<span class="token punctuation">]</span><span class="token comment"># passwd --stdin wang &lt; pass.txt</span>
Changing password <span class="token keyword">for</span> user wang.
passwd: all authentication tokens updated successfully.
<span class="token punctuation">[</span>root@centos8 ~<span class="token punctuation">]</span><span class="token comment">#cat pass.txt | passwd --stdin wang</span>
Changing password <span class="token keyword">for</span> user wang.
passwd: all authentication tokens updated successfully.
<span class="token punctuation">[</span>root@centos8 ~<span class="token punctuation">]</span><span class="token comment">#echo magedu | passwd --stdin wang</span>
Changing password <span class="token keyword">for</span> user wang.
passwd: all authentication tokens updated successfully.
<span class="token punctuation">[</span>root@centos8 ~<span class="token punctuation">]</span><span class="token comment">#echo magedu | passwd --stdin wang &amp;&gt; /dev/null</span>
</code></pre> 
<pre><code class="prism language-bash"><span class="token comment">#转换为大写字母</span>
<span class="token function">ls</span> <span class="token operator">|</span> <span class="token function">tr</span> ‘a-z’ ‘A-Z’
<span class="token comment">#less实现分页地查看输入</span>
<span class="token function">ls</span> -l /etc <span class="token operator">|</span> <span class="token function">less</span>
<span class="token comment">#mail通过电子邮件发送输入</span>
<span class="token keyword">echo</span> <span class="token string">"test email"</span> <span class="token operator">|</span> mail  -s <span class="token string">"test"</span> wang@example.com
<span class="token comment">#算术运算</span>
<span class="token keyword">echo</span> <span class="token string">"2^3"</span> <span class="token operator">|</span><span class="token function">bc</span>
</code></pre> 
<h4><a id="432_tee__554"></a>4.3.2 tee 命令</h4> 
<p>利用 tee 命令可以重定向到多个目标，经常配合管道符一起使用</p> 
<pre><code class="prism language-bash">命令1 <span class="token operator">|</span> <span class="token function">tee</span> <span class="token punctuation">[</span>-a <span class="token punctuation">]</span> 文件名 <span class="token operator">|</span> 命令2
</code></pre> 
<p>以上可以把命令1的STDOUT保存在文件中，做为命令2的输入<br> -a 追加<br> 功能：</p> 
<ul><li>保存不同阶段的输出</li><li>复杂管道的故障排除</li><li>同时查看和记录输出</li></ul> 
<pre><code class="prism language-bash">计算1+<span class="token punctuation">..</span>.100的和
<span class="token punctuation">[</span>root@centos8 ~<span class="token punctuation">]</span><span class="token comment">#echo {1..100}|tr ' ' +|bc</span>
5050
<span class="token punctuation">[</span>root@centos8 ~<span class="token punctuation">]</span><span class="token comment">#echo {1..100..2} | tr ' ' + | bc </span>
2500
<span class="token punctuation">[</span>root@centos8 ~<span class="token punctuation">]</span><span class="token comment">#seq -s + 1 100 |bc</span>
5050
<span class="token punctuation">[</span>root@centos8 ~<span class="token punctuation">]</span><span class="token comment">#seq -s+ 1 2 100 | bc</span>
2500
</code></pre> 
<pre><code class="prism language-bash">发送邮件
<span class="token punctuation">[</span>root@centos8 ~<span class="token punctuation">]</span><span class="token comment">#cat &lt;&lt;EOF | tee .mailrc</span>
<span class="token operator">&gt;</span> <span class="token keyword">set</span> from<span class="token operator">=</span>29308620@qq.com
<span class="token operator">&gt;</span> <span class="token keyword">set</span> smtp<span class="token operator">=</span>smtp.qq.com
<span class="token operator">&gt;</span> <span class="token keyword">set</span> smtp-auth-user<span class="token operator">=</span>29308620@qq.com
<span class="token operator">&gt;</span> <span class="token keyword">set</span> smtp-auth-password<span class="token operator">=</span>esvnhbnqocirbicf
<span class="token operator">&gt;</span> <span class="token keyword">set</span> smtp-auth<span class="token operator">=</span>login
<span class="token operator">&gt;</span> <span class="token keyword">set</span> ssl-verify<span class="token operator">=</span>ignore
<span class="token operator">&gt;</span> EOF
<span class="token keyword">set</span> from<span class="token operator">=</span>29308620@qq.com
<span class="token keyword">set</span> smtp<span class="token operator">=</span>smtp.qq.com
<span class="token keyword">set</span> smtp-auth-user<span class="token operator">=</span>29308620@qq.com
<span class="token keyword">set</span> smtp-auth-password<span class="token operator">=</span>esvnhbnqocirbicf
<span class="token keyword">set</span> smtp-auth<span class="token operator">=</span>login
<span class="token keyword">set</span> ssl-verify<span class="token operator">=</span>ignore
<span class="token punctuation">[</span>root@centos8 ~<span class="token punctuation">]</span>

<span class="token punctuation">[</span>root@centos8 ~<span class="token punctuation">]</span><span class="token comment">#cat   &lt;&lt;EOF | tee /etc/motd </span>
<span class="token operator">&gt;</span> welcome to magedu
<span class="token operator">&gt;</span> happy new year
<span class="token operator">&gt;</span> EOF
welcome to magedu
happy new year
</code></pre> 
<p>将 /home 里面的文件打包，但打包的数据不是记录到文件，而是传送到 stdout，经过管道后，将 tar -cvf - /home 传送给后面的 tar -xvf - , 后面的这个 - 则是取前一个命令的 stdout， 因此，就不需要使用临时file了</p> 
<pre><code class="prism language-c">tar <span class="token operator">-</span>cvf <span class="token operator">-</span> <span class="token operator">/</span>home <span class="token operator">|</span> tar <span class="token operator">-</span>xvf <span class="token operator">-</span>
</code></pre> 
<h2><a id="5_610"></a>5、文件管理练习题</h2> 
<p>1、显示/etc目录下所有以l开头，以一个小写字母结尾，且中间出现至少一位数字的文件或目录列表</p> 
<pre><code class="prism language-bash"><span class="token function">ls</span> /etc/l*<span class="token punctuation">[</span><span class="token punctuation">[</span>:digit:<span class="token punctuation">]</span><span class="token punctuation">]</span>*<span class="token punctuation">[</span><span class="token punctuation">[</span>:lower:<span class="token punctuation">]</span><span class="token punctuation">]</span>

<span class="token function">ls</span> /etc/l*<span class="token punctuation">[</span>0-9<span class="token punctuation">]</span>*<span class="token punctuation">[</span>a-z<span class="token punctuation">]</span>
</code></pre> 
<p>2、显示/etc目录下以任意一位数字开头，且以非数字结尾的文件或目录列表</p> 
<pre><code class="prism language-bash"><span class="token function">ls</span> /etc/<span class="token punctuation">[</span><span class="token punctuation">[</span>:digit:<span class="token punctuation">]</span><span class="token punctuation">]</span>*<span class="token punctuation">[</span>^<span class="token punctuation">[</span>:digit:<span class="token punctuation">]</span><span class="token punctuation">]</span>
</code></pre> 
<p>3、显示/etc/目录下以非字母开头，后面跟了一个字母及其它任意长度任意字符的文件或目录列表</p> 
<pre><code class="prism language-bash"><span class="token function">ls</span>  /etc/<span class="token punctuation">[</span>^<span class="token punctuation">[</span>:alpha:<span class="token punctuation">]</span><span class="token punctuation">]</span>?*
</code></pre> 
<p>4、显示/etc/目录下所有以rc开头，并后面是0-6之间的数字，其它为任意字符的文件或目录列表</p> 
<pre><code class="prism language-bash">ll  /etc/rc*<span class="token punctuation">[</span>0-6<span class="token punctuation">]</span>*?
</code></pre> 
<p>5、显示/etc目录下，所有.conf结尾，且以m,n,r,p开头的文件或目录列表</p> 
<pre><code class="prism language-bash"><span class="token function">ls</span> /etc/<span class="token punctuation">[</span>m,n,r,p<span class="token punctuation">]</span>*.conf
</code></pre> 
<p>6、只显示/root下的隐藏文件和目录列表</p> 
<pre><code class="prism language-bash"><span class="token function">ls</span> -d  /root/.*
</code></pre> 
<p>7、只显示/etc下的非隐藏目录列表</p> 
<pre><code class="prism language-bash">​         <span class="token function">ls</span>  -d /etc/*/
</code></pre> 
<p>8、每天将/etc/目录下所有文件，备份到/data独立的子目录下，并要求子目录格式为 backupYYYYmm-dd，备份过程可见</p> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>root@centos8 ~<span class="token punctuation">]</span><span class="token comment">#cp -av /etc/ /data/backup`date +%F`</span>
<span class="token punctuation">[</span>root@centos8 ~<span class="token punctuation">]</span><span class="token comment">#cp -av /etc/ /data/etc-`date +%F_%H-%M-%S`</span>
</code></pre> 
<p>9、创建/data/rootdir目录，并复制/root下所有文件到该目录内，要求保留原有权限</p> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>root@centos8 ~<span class="token punctuation">]</span><span class="token comment">#cp -a /root /data/rootdir</span>
</code></pre> 
<p>10 如何创建/testdir/dir1/x, /testdir/dir1/y, /testdir/dir1/x/a, /testdir/dir1/x/b, /testdir/dir1/y/a,</p> 
<pre><code class="prism language-bash">/testdir/dir1/y/b

/x  /x/a /x/b

/y /y/a /y/b

<span class="token function">mkdir</span> -p /testdir/dir1/<span class="token punctuation">{<!-- --></span>x,y<span class="token punctuation">}</span>/<span class="token punctuation">{<!-- --></span>a,b<span class="token punctuation">}</span>
</code></pre> 
<p>11 如何创建/testdir/dir2/x, /testdir/dir2/y, /testdir/dir2/x/a, /testdir/dir2/x/b</p> 
<pre><code class="prism language-bash">/testdir/dir2/x  x/a x/b

/testdir/dir2/y

<span class="token function">mkdir</span> -pv /testdir/dir2/<span class="token punctuation">{<!-- --></span>x/<span class="token punctuation">{<!-- --></span>a,b<span class="token punctuation">}</span>,y<span class="token punctuation">}</span>
</code></pre> 
<p>12 如何创建/testdir/dir3, /testdir/dir4, /testdir/dir5, /testdir/dir5/dir6, /testdir/dir5/dir7</p> 
<pre><code class="prism language-bash">/testdir/dir3 

/testdir/dir4

/testdir/dir5 dir6 dir7

<span class="token function">mkdir</span>  -pv  /testdir/<span class="token punctuation">{<!-- --></span>dir5/<span class="token punctuation">{<!-- --></span>dir6,dir7<span class="token punctuation">}</span>,dir3,dir4<span class="token punctuation">}</span>
</code></pre> 
<p>13、将/etc/issue文件中的内容转换为大写后保存至/tmp/issue.out文件中</p> 
<pre><code class="prism language-bash"><span class="token function">tr</span> <span class="token punctuation">[</span>:lower:<span class="token punctuation">]</span> <span class="token punctuation">[</span>:upper:<span class="token punctuation">]</span>  <span class="token operator">&lt;</span>/etc/issue <span class="token operator">&gt;</span>/tmp/issue.out

<span class="token function">tr</span> <span class="token string">'a-z'</span> <span class="token string">'A-Z'</span>  <span class="token operator">&lt;</span>/etc/issue <span class="token operator">&gt;</span>/tmp/issue.out
</code></pre> 
<p>14、将当前系统登录用户的信息转换为大写后保存至/tmp/who.out文件中</p> 
<pre><code class="prism language-bash"><span class="token function">who</span> <span class="token operator">|</span><span class="token function">tr</span> <span class="token string">'a-z'</span> <span class="token string">'A-Z'</span> <span class="token operator">&gt;</span>/tmp/who.out
</code></pre> 
<p>15、一个linux用户给root发邮件，要求邮件标题为”help”，邮件正文如下：<br> Hello, I am 用户名,The system version is here,please help me to check it ,thanks! 操作系统版本<br> 信息</p> 
<pre><code class="prism language-bash"><span class="token keyword">echo</span> -e  <span class="token string">"Hello, I am <span class="token variable"><span class="token variable">`</span><span class="token function">whoami</span><span class="token variable">`</span></span>,The system version is here,please help me to check it ,thanks! \n <span class="token variable"><span class="token variable">`</span><span class="token function">uname</span> -r<span class="token variable">`</span></span>"</span> <span class="token operator">|</span>mail  -s  <span class="token function">help</span> root
</code></pre> 
<p>16、将/root/下文件列表，显示成一行，并文件名之间用空格隔开</p> 
<pre><code class="prism language-bash"><span class="token function">ls</span> /root <span class="token operator">|</span><span class="token function">tr</span> <span class="token string">"\n"</span> <span class="token string">" "</span>
</code></pre> 
<p>17、计算1+2+3+…+99+100的总和</p> 
<pre><code class="prism language-bash"><span class="token keyword">echo</span> <span class="token punctuation">{<!-- --></span>1<span class="token punctuation">..</span>100<span class="token punctuation">}</span><span class="token operator">|</span><span class="token function">tr</span> <span class="token string">" "</span> <span class="token string">"+"</span><span class="token operator">|</span><span class="token function">bc</span>

<span class="token function">seq</span> 100 <span class="token operator">|</span><span class="token function">paste</span> -s -d+<span class="token operator">|</span><span class="token function">bc</span>

<span class="token function">seq</span> -s+ 100<span class="token operator">|</span><span class="token function">bc</span>
</code></pre> 
<p>18、删除Windows文本文件中的回车字符 ，即“\r”</p> 
<pre><code class="prism language-bash"><span class="token function">tr</span> -d <span class="token string">"\r"</span> <span class="token operator">&lt;</span>win1.txt <span class="token operator">&gt;</span>win2.txt
</code></pre> 
<p>19、处理字符串“xt.,l 1 jr#!$mn 2 c*/fe 3 uz 4”，只保留其中的数字和空格</p> 
<pre><code class="prism language-bash"><span class="token keyword">echo</span>  <span class="token string">'xt.,l 1 jr#rootmn 2 c*/fe 3 uz 4'</span><span class="token operator">|</span><span class="token function">tr</span> -d <span class="token punctuation">[</span>:alpha:<span class="token punctuation">]</span><span class="token punctuation">[</span>:punct:<span class="token punctuation">]</span>
</code></pre> 
<p>20、将PATH变量每个目录显示在独立的一行</p> 
<pre><code class="prism language-bash"><span class="token keyword">echo</span> <span class="token variable">$PATH</span><span class="token operator">|</span><span class="token function">tr</span> <span class="token string">":"</span> <span class="token string">"\n"</span>
</code></pre> 
<p>21、将指定文件中0-9分别替代成a-j</p> 
<pre><code class="prism language-bash"><span class="token function">ifconfig</span>  ens33<span class="token operator">|</span><span class="token function">tr</span> <span class="token string">'0-9'</span> <span class="token string">'a-j'</span> <span class="token operator">&gt;</span>ipadd.log
</code></pre> 
<p>22、将文件/etc/centos-release中每个单词（由字母组成）显示在独立一行，并无空行</p> 
<pre><code class="prism language-bash"><span class="token function">cat</span> /etc/centos-release <span class="token operator">|</span><span class="token function">tr</span> -c  <span class="token punctuation">[</span>:alpha:<span class="token punctuation">]</span>  <span class="token string">' '</span> <span class="token operator">|</span> <span class="token function">tr</span> -s <span class="token string">"  "</span> <span class="token string">"\n"</span>
</code></pre>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/64ae9d1a8b765d860fe9683e3f04f16d/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Markdown中的换行符</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/44d424b7683e1ce0a0157ff5925f7b66/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">oracle创建record,oracle record | 学步园</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>