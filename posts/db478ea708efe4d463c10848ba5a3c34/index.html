<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>java 动画 制作_利用Java制作字符动画实例代码 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="java 动画 制作_利用Java制作字符动画实例代码" />
<meta property="og:description" content="前言
今晚闲来无事，整理了一下电脑中尘封已久的旧代码，看着那些年自己写过的代码，踩过的坑，顿时老泪纵横。正当在感叹之际，突然发现在“马克思”文件夹下出现了一个好玩的项目，那就是N年前刚学Java时写的GIF转字符动画的小玩具，虽然是个小玩意，但是在当时能搞点东西出来还是非常有成就感的。
正文
效果展示
原图，某两年半练习生
转成字符动画后的练习生
实现原理
其实字符动画的实现原理比较简单，这里我们抛开GIF，直接拿一张静态图片来说明。
首先我们要把原图转成灰度图，这样图片中每个像素就只存在亮度信息0-255。
取颜色的RGB均值灰度后
接着我们可以定义需要使用的字符，每个字符对应一段亮度范围，比如 图中的M,@,;等字符，接着我们就可以去遍历替换图片中的所有像素，慢慢的调试每个字符对应像素的亮度范围，调试到输出的图像轮毂清晰即可，这样单张图片的字符画就已经成型了。下面关键代码注释。
BufferedWriter bufferedWriter = new BufferedWriter(new OutputStreamWriter(new FileOutputStream(file)));
int width = bi.getWidth();//原图宽度
int height = bi.getHeight();//原图高度
int minx = bi.getMinX();//BufferedImage 原图 最小X坐标
int miny = bi.getMinY(); //BufferedImage 原图 最小Y坐标
for (int i = miny; i &lt; height; i &#43;= 8) {//遍历图片中的像素点，用字符判断像素范围来替换
for (int j = minx; j &lt; width; j &#43;= 8) {
int pixel = bi.getRGB(j, i); // 下面三行代码将一个数字转换为RGB数字" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/db478ea708efe4d463c10848ba5a3c34/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-02-12T19:40:11+08:00" />
<meta property="article:modified_time" content="2021-02-12T19:40:11+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">java 动画 制作_利用Java制作字符动画实例代码</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div style="font-size:16px;"> 
 <p>前言</p> 
 <p>今晚闲来无事，整理了一下电脑中尘封已久的旧代码，看着那些年自己写过的代码，踩过的坑，顿时老泪纵横。正当在感叹之际，突然发现在“马克思”文件夹下出现了一个好玩的项目，那就是N年前刚学Java时写的GIF转字符动画的小玩具，虽然是个小玩意，但是在当时能搞点东西出来还是非常有成就感的。</p> 
 <p>正文</p> 
 <p>效果展示</p> 
 <p>原图，某两年半练习生</p> 
 <p align="center"><img src="https://images2.imgbox.com/d9/9d/XNDGQ0Hz_o.gif" alt="e38e4b9bb5b81f01804ab3a42b79d354.gif"></p> 
 <p>转成字符动画后的练习生</p> 
 <p align="center"><img src="https://images2.imgbox.com/6e/8d/Lr89A43a_o.gif" alt="0427599190199b0ff5bdabb70f6c19e9.gif"></p> 
 <p>实现原理</p> 
 <p>其实字符动画的实现原理比较简单，这里我们抛开GIF，直接拿一张静态图片来说明。</p> 
 <p>首先我们要把原图转成灰度图，这样图片中每个像素就只存在亮度信息0-255。</p> 
 <p align="center"><img src="https://images2.imgbox.com/d6/a5/rjk57kCH_o.png" alt="f5f1eacca107bc944a772e5fb527071a.png"></p> 
 <p>取颜色的RGB均值灰度后</p> 
 <p align="center"><img src="https://images2.imgbox.com/2d/93/oa6w7rTI_o.png" alt="fe0059ce78ca2474cc3090772ce5e13b.png"></p> 
 <p>接着我们可以定义需要使用的字符，每个字符对应一段亮度范围，比如 图中的M,@,;等字符，接着我们就可以去遍历替换图片中的所有像素，慢慢的调试每个字符对应像素的亮度范围，调试到输出的图像轮毂清晰即可，这样单张图片的字符画就已经成型了。下面关键代码注释。</p> 
 <p>BufferedWriter bufferedWriter = new BufferedWriter(new OutputStreamWriter(new FileOutputStream(file)));</p> 
 <p>int width = bi.getWidth();//原图宽度</p> 
 <p>int height = bi.getHeight();//原图高度</p> 
 <p>int minx = bi.getMinX();//BufferedImage 原图 最小X坐标</p> 
 <p>int miny = bi.getMinY(); //BufferedImage 原图 最小Y坐标</p> 
 <p>for (int i = miny; i &lt; height; i += 8) {//遍历图片中的像素点，用字符判断像素范围来替换</p> 
 <p>for (int j = minx; j &lt; width; j += 8) {<!-- --></p> 
 <p>int pixel = bi.getRGB(j, i); // 下面三行代码将一个数字转换为RGB数字</p> 
 <p>int red = (pixel &amp; 0xff0000) &gt;&gt; 16;</p> 
 <p>int green = (pixel &amp; 0xff00) &gt;&gt; 8;</p> 
 <p>int blue = (pixel &amp; 0xff);</p> 
 <p>double gray = 0.299 * red + 0.578 * green + 0.114 * blue; //图片变灰计算公式</p> 
 <p>char c = toChar((int) gray); //根据计算出来的gray值返回不同字符</p> 
 <p>bufferedWriter.write(c);</p> 
 <p>}</p> 
 <p>bufferedWriter.newLine();</p> 
 <p>}</p> 
 <p>//输出图片</p> 
 <p>若要读取GIF，输出GIF，我们可以使用一些开源的包，例如animated-gif，GifDecoder等，通过这些类我们可以读取到gif的每一帧，然后我们对每一帧的操作都跟上方的静态图操作是一致的。处理完每一帧之后再合成GIF输出即可。(视频同理)</p> 
 <p>由于完全自己处理的话，可能会有很多细节需要调整的地方，为了方便，这里推荐一个项目。Github地址：github.com/korhner/asc…  (本地下载)。使用方法：</p> 
 <p>// initialize caches</p> 
 <p>AsciiImgCache smallFontCache = AsciiImgCache.create(new Font("Courier",Font.BOLD, 6));</p> 
 <p>// initialize ssimStrategy</p> 
 <p>BestCharacterFitStrategy ssimStrategy = new StructuralSimilarityFitStrategy();</p> 
 <p>String srcFilePath = "examples/xxx.gif";</p> 
 <p>String disFilePath = "examples/xxx.gif";</p> 
 <p>int delay = 100;//ms</p> 
 <p>GifToAsciiConvert asciiConvert = new GifToAsciiConvert(smallFontCache, ssimStrategy);</p> 
 <p>asciiConvert.convertGitToAscii(srcFilePath, disFilePath, delay,0);</p> 
 <p>只需要简单的几行，就可以完成字符动画的转换，其原理跟我们上面介绍的基本一致，有兴趣的同学可以自行研究。</p> 
 <p>结语</p> 
 <p>代码除了用来工作，其实还能用在很多能让我们开心的地方，例如写点小工具，小游戏，帮自己或他人解决一些繁琐的事情，这样才能在工作多年后任然保持对代码的那份初心，不至于被重复的工作磨灭了激情。</p> 
 <p>公众号博文同步Github仓库，有兴趣的朋友可以帮忙给个Star哦，码字不易，感谢支持。</p> 
 <p>github.com/PeppaLittle… (本地下载)</p> 
 <p>总结</p> 
 <p>以上就是这篇文章的全部内容了，希望本文的内容对大家的学习或者工作具有一定的参考学习价值，谢谢大家对脚本之家的支持。</p> 
</div>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/935fafec05108369e30b3193e38acd67/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">java自带工具_Java常用自带工具介绍</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/ca4ce62c8e491348ca0ff0c524fb7a76/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">java 按钮跳转页面_java按钮实现页面跳转 | 学步园</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>