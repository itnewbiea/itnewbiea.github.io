<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>openssl 命令详解 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="openssl 命令详解" />
<meta property="og:description" content="openssl genrsa 命令产生私钥 openssl genrsa 命令是会用来生成 RSA 私有秘钥，不会生成公钥，因为公钥提取自私钥。生成时是可以指定私钥长度和密码保护。
如果需要查看公钥或生成公钥，可以使用 openssl rsa 命令。
命令语法：
openssl genrsa [-out filename] [-passout arg] [-f4] [-3] [-rand file(s)] [-engine id] [numbits] [-des] [-des3] [-idea]
openssl genrsa [-out filename] [-passout arg] [-aes128] [-aes192] [-aes256] [-camellia128] [-camellia192] [-camellia256] [-des]
[-des3] [-idea] [-f4] [-3] [-rand file(s)] [-engine id] [numbits]
penssl genrsa ?
openssl genrsa ?
usage: genrsa [args] [numbits]
-des encrypt the generated key with DES in cbc mode" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/2b53d8c1b95b1095ae4b335a1736814b/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-02T17:40:42+08:00" />
<meta property="article:modified_time" content="2024-01-02T17:40:42+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">openssl 命令详解</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2 style="margin-left:0px;text-align:justify;">openssl genrsa 命令产生私钥</h2> 
<p style="margin-left:0;text-align:justify;">openssl genrsa 命令是会用来生成 RSA 私有秘钥，不会生成公钥，因为公钥提取自私钥。生成时是可以指定私钥长度和密码保护。</p> 
<p style="margin-left:0;text-align:justify;"></p> 
<p style="margin-left:0;text-align:justify;">如果需要查看公钥或生成公钥，可以使用 openssl rsa 命令。</p> 
<p style="margin-left:0;text-align:justify;"></p> 
<p style="margin-left:0;text-align:justify;">命令语法：</p> 
<div> 
 <blockquote> 
  <p style="margin-left:0;text-align:justify;">openssl  genrsa [-out filename] [-passout arg] [-f4] [-3] [-rand file(s)] [-engine id] [numbits] [-des] [-des3] [-idea]</p> 
 </blockquote> 
</div> 
<p style="margin-left:0;text-align:justify;"></p> 
<div> 
 <p style="margin-left:0;text-align:justify;">  openssl genrsa [-out filename] [-passout arg] [-aes128] [-aes192] [-aes256] [-camellia128] [-camellia192] [-camellia256] [-des]</p> 
 <p style="margin-left:0;text-align:justify;">       [-des3] [-idea] [-f4] [-3] [-rand file(s)] [-engine id] [numbits]</p> 
</div> 
<blockquote> 
 <p style="margin-left:0;text-align:justify;">penssl genrsa ?</p> 
</blockquote> 
<p style="margin-left:0;text-align:justify;"></p> 
<table border="1" cellspacing="0"><tbody><tr><td style="border-color:#000000;vertical-align:top;width:414.8pt;"> <p style="margin-left:0;text-align:justify;">openssl genrsa ?</p> <p style="margin-left:0;text-align:justify;">usage: genrsa [args] [numbits]</p> <p style="margin-left:0;text-align:justify;"> -des            encrypt the generated key with DES in cbc mode</p> <p style="margin-left:0;text-align:justify;"> -des3           encrypt the generated key with DES in ede cbc mode (168 bit key)</p> <p style="margin-left:0;text-align:justify;"> -idea           encrypt the generated key with IDEA in cbc mode</p> <p style="margin-left:0;text-align:justify;"> -seed</p> <p style="margin-left:0;text-align:justify;">                 encrypt PEM output with cbc seed</p> <p style="margin-left:0;text-align:justify;"> -aes128, -aes192, -aes256</p> <p style="margin-left:0;text-align:justify;">                 encrypt PEM output with cbc aes</p> <p style="margin-left:0;text-align:justify;"> -camellia128, -camellia192, -camellia256</p> <p style="margin-left:0;text-align:justify;">                 encrypt PEM output with cbc camellia</p> <p style="margin-left:0;text-align:justify;"> -out file       output the key to 'file</p> <p style="margin-left:0;text-align:justify;"> -passout arg    output file pass phrase source</p> <p style="margin-left:0;text-align:justify;"> -f4             use F4 (0x10001) for the E value</p> <p style="margin-left:0;text-align:justify;"> -3              use 3 for the E value</p> <p style="margin-left:0;text-align:justify;"> -engine e       use engine e, possibly a hardware device.</p> <p style="margin-left:0;text-align:justify;"> -rand file:file:...</p> <p style="margin-left:0;text-align:justify;">                 load the file (or the files in the directory) into</p> <p style="margin-left:0;text-align:justify;">                 the random number generator</p> <p style="margin-left:0;text-align:justify;">[root@ecs-be9a CA]#</p> </td></tr></tbody></table> 
<blockquote> 
 <p style="margin-left:0;text-align:justify;">openssl genrsa -des3 -out test1.key 2048 </p> 
</blockquote> 
<p style="margin-left:0;text-align:justify;">生成私钥，私钥中含有公钥，如果需要公钥，需要单独提取公钥</p> 
<p style="margin-left:0;text-align:justify;"><img alt="" height="162" src="https://images2.imgbox.com/52/23/YMr7XSRN_o.png" width="528"></p> 
<h2 style="margin-left:0px;text-align:justify;">从私钥导出公钥</h2> 
<p style="margin-left:0;text-align:justify;">从私钥导出公钥方法：</p> 
<table border="1" cellspacing="0"><tbody><tr><td style="border-color:#000000;vertical-align:top;width:414.8pt;"> <p style="margin-left:0;text-align:justify;">openssl rsa [-inform PEM|NET|DER] [-outform PEM|NET|DER] [-in filename] [-passin arg] [-out filename] [-passout arg] [-sgckey]</p> <p style="margin-left:0;text-align:justify;">       [-aes128] [-aes192] [-aes256] [-camellia128] [-camellia192] [-camellia256] [-des] [-des3] [-idea] [-text] [-noout] [-modulus]</p> <p style="margin-left:0;text-align:justify;">       [-check] [-pubin] [-pubout] [-RSAPublicKey_in] [-RSAPublicKey_out] [-engine id]</p> </td></tr></tbody></table> 
<p style="margin-left:0;text-align:justify;"></p> 
<h2 style="margin-left:0px;text-align:justify;">openssl req 命令 </h2> 
<p style="margin-left:0;text-align:justify;">openssl req 命令详解 ：openssl req命令主要的功能有，生成证书请求文件， 查看验证证书请求文件，还有就是生成自签名证书。生成证书请求需要什么：申请者需要将自己的信息及其公钥放入证书请求中。但在实际操作过程中，</p> 
<p style="margin-left:0;text-align:justify;">所需要提供的是私钥而非公钥，因为它会自动从私钥中提取公钥。另外，还需要将提供的数据进行数字签名(使用单向加密)，保证该证书请求文件的完整性和一致性，防止他人盗取后进行篡改</p> 
<table border="1" cellspacing="0"><tbody><tr><td style="border-color:#000000;vertical-align:top;width:414.8pt;"> <p style="margin-left:0;text-align:justify;">    -new    :说明生成证书请求文件</p> <p style="margin-left:0;text-align:justify;">     -x509   :说明生成自签名证书</p> <p style="margin-left:0;text-align:justify;">     -key    :指定已有的秘钥文件生成秘钥请求，只与生成证书请求选项-new配合。</p> <p style="margin-left:0;text-align:justify;">     -newkey :-newkey是与-key互斥的，-newkey是指在生成证书请求或者自签名证书的时候自动生成密钥，</p> <p style="margin-left:0;text-align:justify;">              然后生成的密钥名称由-keyout参数指定。当指定newkey选项时，后面指定rsa:bits说明产生</p> <p style="margin-left:0;text-align:justify;">              rsa密钥，位数由bits指定。 如果没有指定选项-key和-newkey，默认自动生成秘钥。</p> <p style="margin-left:0;text-align:justify;">     -out    :-out 指定生成的证书请求或者自签名证书名称</p> <p style="margin-left:0;text-align:justify;">     -config :默认参数在ubuntu上为 /etc/ssl/openssl.cnf, 可以使用-config指定特殊路径的配置文件</p> <p style="margin-left:0;text-align:justify;">     -nodes  :如果指定-newkey自动生成秘钥，那么-nodes选项说明生成的秘钥不需要加密，即不需要输入passphase.  </p> <p style="margin-left:0;text-align:justify;">     -batch  :指定非交互模式，直接读取config文件配置参数，或者使用默认参数值     </p> <p style="margin-left:0;text-align:justify;"></p> </td></tr></tbody></table> 
<p style="margin-left:0;text-align:justify;"></p> 
<h2 style="margin-left:0px;text-align:justify;">openssl ca 命令 签署证书</h2> 
<p style="margin-left:0;text-align:justify;">openssl ca -in httpd.csr -out /etc/pki/CA/certs/httpd.crt -days 730</p> 
<p style="margin-left:0;text-align:justify;">ca命令也是用于签署证书的，所以它所需要的文件除了配置文件外就是私钥文件和证书请求文件，而签名后生成的文件是证书文件，因此<strong>使用"-in"指定的对象是待签署文件</strong>，<strong>"-infiles"则是指定多个待签署文件，"-keyfile"是指定私钥文件，"-out"是指定输出的证书文件</strong>。</p> 
<p style="margin-left:0;text-align:justify;"> 进行自签名，如果证书请求文件的信息与签名用的CA证书的信息不一致就会出现类似如下的错误提示。</p> 
<p style="margin-left:0;text-align:justify;"><img alt="" height="153" src="https://images2.imgbox.com/39/eb/pIYu4TC3_o.png" width="608"></p> 
<p style="margin-left:0;text-align:justify;"><img alt="" height="1011" src="https://images2.imgbox.com/60/2f/ULkka95g_o.png" width="865"></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/b8cc9b755e2fdb829eb85be6108bfccd/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">SRS服务器RTMP2WebRTC外网拉流配置</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/e13735de1bdcfb3e60f00ce2dda93afd/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">VS2022 Android NativeActivity 开发指南</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>