<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Intel Realsense D435i各类标定教程 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Intel Realsense D435i各类标定教程" />
<meta property="og:description" content="在之前的实验中用到了realsense-D435i，为了提高精度使用之前必须要进行标定。本篇文章就介绍下各类标定方法。因为我最终的目的是完成IMU和双目的联合标定，整个流程都是围绕整个目的展开的。过程中包括：RGB标定、单目标定、IMU标定、双目标定、IMU-双目标定
标定使用了kalibr标定库，整篇参考了系列博客：路径规划_Nankel Li的博客-CSDN博客。具体的内容可以去看这个，但在实现中还是有所不同（特别是标黄色的注意部分）。在此做下记录希望能够帮助到各位。
第一步 环境配置： 参考：D435i标定摄像头和IMU笔记一（配置环境篇）_Nankel Li的博客-CSDN博客
注：最后一个命令改为：
kalibr_create_target_pdf --type checkerboard --nx 5 --ny 8 --csx 0.045 --csy 0.045 会在~/kalibr_workspace生成PDF文件，就是标定板文件
第二步，RGB标定 参考：D435i标定摄像头和IMU笔记二（RGB摄像头标定篇）_Nankel Li的博客-CSDN博客
注：rosbag包录制的时候要用到标定板文件，打开rviz，用摄像头对齐然后开始录制，录制一段时间之后，有成功的显示为止，在~/calib_data/camera_calib下生成三个文件
第三步：IMU标定 参考：D435i标定摄像头和IMU笔记三（IMU标定篇）_Nankel Li的博客-CSDN博客_d435i imu标定
选择的方法是：港科大imu_utils进行标定
注：ceres-solver安装教程参考：
在linux ubuntu18.04版本中安装ceres solver_YMWM_的博客-CSDN博客_linux安装ceres
注：执行launch文件,出现wait for imu data，再执行rosbag回放，再等待一下，会有结果。录制rosbag要至少两个小时，计算参数也要至少两个小时。这个录制rosbag可以不对齐标定板，静置录制环境即可。
第四步：进行双目标定 参考：D435i标定摄像头和IMU笔记二-2（RGB&#43;双目多摄像头标定篇）_Nankel Li的博客-CSDN博客_d435是双目吗
注：原文中关闭结构光的步骤说的不是很明确，可以参考这篇：Realsense D435i关闭IR结构光_Hecttttttttt的博客-CSDN博客。需要注意下新版的界面现在是下面这样的(设置emitter_enabled为off(0)即可)：
注：如果只想要双目的话，可以不管那个color话题。采集rosbag数据时要对准标定板checkboard进行采集，否则会报错无法提取corners错误。采集角点时对齐的三个轴是下面这三个：
注：realsense默认双目是不开的，所以为了有infra1和infra2话题，要设置下rs_camera.launch。设置如下：
报错：
信息如下：
error:Cameras are not connected through mutual observations, please check the dataset. Maybe adjust the approx. sync. Tolerance 解决：https://blog.csdn.net/DarlingXXY/article/details/119563632
第五步：进行双目IMU联合标定 参考：D435i标定摄像头和IMU笔记四-2（双目摄像头与IMU联合标定篇）_Nankel Li的博客-CSDN博客
注：还是要对齐标定板录制rosbag文件
报错：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/f21b64e7588c641683ff6188880b70f1/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-03-30T19:58:21+08:00" />
<meta property="article:modified_time" content="2022-03-30T19:58:21+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Intel Realsense D435i各类标定教程</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>  在之前的实验中用到了realsense-D435i，为了提高精度使用之前必须要进行标定。本篇文章就介绍下各类标定方法。因为我最终的目的是完成IMU和双目的联合标定，整个流程都是围绕整个目的展开的。过程中包括：RGB标定、单目标定、IMU标定、双目标定、IMU-双目标定<br>   标定使用了kalibr标定库，整篇参考了系列博客：<a href="https://blog.csdn.net/qq_35616298/category_11016810.html">路径规划_Nankel Li的博客-CSDN博客</a>。具体的内容可以去看这个，但在实现中还是有所不同（<mark>特别是标黄色的注意部分</mark>）。在此做下记录希望能够帮助到各位。</p> 
<h3><a id="__3"></a>第一步 环境配置：</h3> 
<p>参考：<a href="https://blog.csdn.net/qq_35616298/article/details/116171823">D435i标定摄像头和IMU笔记一（配置环境篇）_Nankel Li的博客-CSDN博客</a></p> 
<p><mark>注</mark>：最后一个命令改为：</p> 
<pre><code class="prism language-javascript">kalibr_create_target_pdf <span class="token operator">--</span>type checkerboard <span class="token operator">--</span>nx <span class="token number">5</span> <span class="token operator">--</span>ny <span class="token number">8</span> <span class="token operator">--</span>csx <span class="token number">0.045</span> <span class="token operator">--</span>csy <span class="token number">0.045</span>
</code></pre> 
<p>会在~/kalibr_workspace生成PDF文件，就是标定板文件</p> 
<h3><a id="RGB_12"></a>第二步，RGB标定</h3> 
<p>参考：<a href="https://blog.csdn.net/qq_35616298/article/details/116174615">D435i标定摄像头和IMU笔记二（RGB摄像头标定篇）_Nankel Li的博客-CSDN博客</a></p> 
<p><mark>注</mark>：rosbag包录制的时候要用到标定板文件，打开rviz，用摄像头对齐然后开始录制，录制一段时间之后，有成功的显示为止，在~/calib_data/camera_calib下生成三个文件</p> 
<h3><a id="IMU_17"></a>第三步：IMU标定</h3> 
<p>参考：<a href="https://blog.csdn.net/qq_35616298/article/details/116190164">D435i标定摄像头和IMU笔记三（IMU标定篇）_Nankel Li的博客-CSDN博客_d435i imu标定</a></p> 
<p>  选择的方法是：港科大imu_utils进行标定<br> <mark>注</mark>：ceres-solver安装教程参考：<br> <a href="https://blog.csdn.net/YMWM_/article/details/101601345">在linux ubuntu18.04版本中安装ceres solver_YMWM_的博客-CSDN博客_linux安装ceres</a><br> <mark>注</mark>：执行launch文件,出现wait for imu data，再执行rosbag回放，再等待一下，会有结果。录制rosbag要至少两个小时，计算参数也要至少两个小时。这个录制rosbag可以不对齐标定板，静置录制环境即可。</p> 
<h3><a id="_25"></a>第四步：进行双目标定</h3> 
<p>参考：<a href="https://blog.csdn.net/qq_35616298/article/details/118485375">D435i标定摄像头和IMU笔记二-2（RGB+双目多摄像头标定篇）_Nankel Li的博客-CSDN博客_d435是双目吗</a></p> 
<p><mark>注</mark>：原文中关闭结构光的步骤说的不是很明确，可以参考这篇：<a href="https://blog.csdn.net/Hanghang_/article/details/103612300">Realsense D435i关闭IR结构光_Hecttttttttt的博客-CSDN博客</a>。需要注意下新版的界面现在是下面这样的(设置emitter_enabled为off(0)即可)：<img src="https://images2.imgbox.com/c1/cf/cBq2bPpS_o.png" alt="在这里插入图片描述"><br> <mark>注</mark>：如果只想要双目的话，可以不管那个color话题。采集rosbag数据时要对准标定板checkboard进行采集，否则会报错无法提取corners错误。采集角点时对齐的三个轴是下面这三个：<img src="https://images2.imgbox.com/f9/3c/gIbYz6oE_o.png" alt="在这里插入图片描述"><br> <mark>注</mark>：realsense默认双目是不开的，所以为了有infra1和infra2话题，要设置下rs_camera.launch。设置如下：<br> <br> <br> </p> 
<p><mark>报错</mark>：<br> 信息如下：</p> 
<pre><code class="prism language-javascript">error<span class="token operator">:</span>Cameras are not connected through mutual observations<span class="token punctuation">,</span> please check the dataset<span class="token punctuation">.</span> Maybe adjust the approx<span class="token punctuation">.</span> sync<span class="token punctuation">.</span> Tolerance
</code></pre> 
<p>解决：https://blog.csdn.net/DarlingXXY/article/details/119563632</p> 
<h3><a id="IMU_42"></a>第五步：进行双目IMU联合标定</h3> 
<p>参考：<a href="https://blog.csdn.net/qq_35616298/article/details/118489377">D435i标定摄像头和IMU笔记四-2（双目摄像头与IMU联合标定篇）_Nankel Li的博客-CSDN博客</a></p> 
<p><mark>注</mark>：还是要对齐标定板录制rosbag文件<br> <mark>报错</mark>：</p> 
<pre><code class="prism language-javascript"><span class="token punctuation">[</span><span class="token constant">ERROR</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token number">1648369950.616657</span><span class="token punctuation">]</span><span class="token operator">:</span> Optimization failed<span class="token operator">!</span>
</code></pre> 
<p>解决：https://blog.csdn.net/qq_38337524/article/details/115589796</p> 
<p>无关参考：<a href="https://blog.csdn.net/sinat_16643223/article/details/118959961">我感觉D435i的使用有必要写出一篇教程，什么烧写升级固件，更改分辨率帧率，标定，发布IMU数据等等_TYINY的博客-CSDN博客_d435i 使用</a></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/9c13ac036306183818d712aa9c0374f1/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">ORB_SLAM2 代码分析及介绍（视觉VO及重定位，Tracking）第二部分</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/702a0517aed076a145efe0aee1c9b292/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Python 分解质因数（编写函数实现：输入一个正整数n，把数字n分解成不能再分解因子的乘法，比如：8=2*2*2， 10 = 2*5，而不是 8 = 2 * 4 这种可以再分解的。）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>