<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>python实现数据结构--栈和队列 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="python实现数据结构--栈和队列" />
<meta property="og:description" content="栈和队列 一、栈 1.1 定义 ​ 栈式限制在一端进行插入和删除操作的线性表，具有先进后出的特性，如图所示：
1.2 基本概念 判断栈是否为空：$ node $ 为栈的头结点，若 n o d e node node 为空，返回 T r u e True True , 否则返回 F a l s e False False**入栈：**入栈即为在栈的顶部插入元素出栈： 出栈即为删除顶部的元素取出栈顶元素： 即为获取栈顶的元素 1.3 顺序栈 1、初始化 ​ 顺序栈在初始化时要定义栈的大小。设定 max 为栈的存储元素个数
栈为空时， self.top 的数值为 -1 ；栈为满时， self.top = max - 1 ​ 代码如下：
class SeqStack(object): def __init__(self, max): # 顺序栈的最大容量 self.max =max # 当栈为空时， 栈定指针指向 -1 self.top = -1 # 存储栈元素的数组 self." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/b4026f4ce2e0c577801949f934dd70b7/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-07-05T12:01:19+08:00" />
<meta property="article:modified_time" content="2022-07-05T12:01:19+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">python实现数据结构--栈和队列</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="font_colorblkuefont_0"></a><font color="blkue">栈和队列</font></h3> 
<h5><a id="font_colorbluefont_2"></a><font color="blue">一、栈</font></h5> 
<h5><a id="font_colororange11_font_4"></a><font color="orange">1.1 定义</font></h5> 
<p>​ 栈式限制在一端进行插入和删除操作的线性表，具有先进后出的特性，如图所示：<br> <img src="https://images2.imgbox.com/47/67/MUhzVcGr_o.png" alt="image-20220408154624314"></p> 
<h5><a id="font_colororange12_font_9"></a><font color="orange">1.2 基本概念</font></h5> 
<ul><li><strong>判断栈是否为空</strong>：$ node $ 为栈的头结点，若 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          n 
         
        
          o 
         
        
          d 
         
        
          e 
         
        
       
         node 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.69444em; vertical-align: 0em;"></span><span class="mord mathdefault">n</span><span class="mord mathdefault">o</span><span class="mord mathdefault">d</span><span class="mord mathdefault">e</span></span></span></span></span> 为空，返回 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          T 
         
        
          r 
         
        
          u 
         
        
          e 
         
        
       
         True 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.68333em; vertical-align: 0em;"></span><span class="mord mathdefault" style="margin-right: 0.13889em;">T</span><span class="mord mathdefault" style="margin-right: 0.02778em;">r</span><span class="mord mathdefault">u</span><span class="mord mathdefault">e</span></span></span></span></span> , 否则返回 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          F 
         
        
          a 
         
        
          l 
         
        
          s 
         
        
          e 
         
        
       
         False 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.69444em; vertical-align: 0em;"></span><span class="mord mathdefault" style="margin-right: 0.13889em;">F</span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right: 0.01968em;">l</span><span class="mord mathdefault">s</span><span class="mord mathdefault">e</span></span></span></span></span></li><li>**入栈：**入栈即为在栈的顶部插入元素</li><li><strong>出栈：</strong> 出栈即为删除顶部的元素</li><li><strong>取出栈顶元素：</strong> 即为获取栈顶的元素</li></ul> 
<h5><a id="font_colororange13_font_16"></a><font color="orange">1.3 顺序栈</font></h5> 
<h6><a id="1_18"></a>1、初始化</h6> 
<p>​ 顺序栈在初始化时要定义栈的大小。设定 max 为栈的存储元素个数</p> 
<ul><li>栈为空时， self.top 的数值为 -1 ；</li><li>栈为满时， self.top = max - 1</li></ul> 
<p>​ 代码如下：</p> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">SeqStack</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
<span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> <span class="token builtin">max</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># 顺序栈的最大容量</span>
    self<span class="token punctuation">.</span><span class="token builtin">max</span> <span class="token operator">=</span><span class="token builtin">max</span>
    <span class="token comment"># 当栈为空时， 栈定指针指向 -1</span>
    self<span class="token punctuation">.</span>top <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span>
    <span class="token comment"># 存储栈元素的数组</span>
    self<span class="token punctuation">.</span>stack <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token boolean">None</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span><span class="token builtin">max</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
</code></pre> 
<h6><a id="2__38"></a>2. 判断栈是否为空</h6> 
<p>​ 如果 self.top 的数值为 -1 ，则表示空战， 返回 True，否则返回 False，代码如下：</p> 
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">empty</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
  <span class="token keyword">return</span> self<span class="token punctuation">.</span>top <span class="token keyword">is</span> <span class="token operator">-</span><span class="token number">1</span>
</code></pre> 
<h6><a id="3__47"></a>3. 入栈</h6> 
<ul><li>栈满 ： 抛出异常</li><li>栈不满： 将 top 值加一，将新的值放进去</li></ul> 
<p>代码如下：</p> 
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">push</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> val<span class="token punctuation">)</span><span class="token punctuation">:</span>
  <span class="token keyword">if</span> self<span class="token punctuation">.</span>top <span class="token operator">==</span> self<span class="token punctuation">.</span><span class="token builtin">max</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">:</span>
    <span class="token keyword">raise</span> IndexError<span class="token punctuation">(</span><span class="token string">'栈已满'</span><span class="token punctuation">)</span>
  <span class="token keyword">else</span><span class="token punctuation">:</span>
    <span class="token comment"># 将栈顶指针加一</span>
    self<span class="token punctuation">.</span>top <span class="token operator">+=</span> <span class="token number">1</span>
    self<span class="token punctuation">.</span>stack<span class="token punctuation">[</span>self<span class="token punctuation">.</span>top<span class="token punctuation">]</span> <span class="token operator">=</span> val
</code></pre> 
<h6><a id="4__64"></a>4. 出栈</h6> 
<ul><li>栈空：抛出异常</li><li>栈不空：将self.top 的数值减 1</li></ul> 
<p>代码如下：</p> 
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">pop</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
  <span class="token keyword">if</span> self<span class="token punctuation">.</span>empty<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">raise</span> IndexError<span class="token punctuation">(</span><span class="token string">'栈空'</span><span class="token punctuation">)</span>
  <span class="token keyword">else</span><span class="token punctuation">:</span>
    <span class="token comment">#　此时top指向栈顶元素，存下栈顶元素的值，再将指针下移一个位置</span>
    cur <span class="token operator">=</span> self<span class="token punctuation">.</span>stack<span class="token punctuation">[</span>self<span class="token punctuation">.</span>top<span class="token punctuation">]</span>
    sef<span class="token punctuation">.</span>top <span class="token operator">-=</span> <span class="token number">1</span>
    <span class="token keyword">return</span> cur
</code></pre> 
<h6><a id="5__82"></a>5. 取出栈顶元素</h6> 
<ul><li>栈空：抛出异常</li><li>栈不空：返回栈顶元素</li></ul> 
<p>代码如下：</p> 
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">peek</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
  <span class="token keyword">if</span> self<span class="token punctuation">.</span>empty<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">raise</span> IndexError<span class="token punctuation">(</span><span class="token string">'栈空！'</span><span class="token punctuation">)</span>
  <span class="token keyword">else</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> self<span class="token punctuation">.</span>stack<span class="token punctuation">[</span>self<span class="token punctuation">.</span>top<span class="token punctuation">]</span>
</code></pre> 
<h5><a id="font_colororange13_font_97"></a><font color="orange">1.3 链栈</font></h5> 
<p>链栈为栈的链式存储结构，是运算受限的单链表，其插入和删除操作只能在表头位置进行。设链栈头指针为top，初始化top=None。</p> 
<p>​ 链栈节点结构与单链表节点结构相同，如图所示：</p> 
<img src="https://images2.imgbox.com/c2/67/yPGD9dQE_o.png" alt="image-20220408161916692"> 
<h6><a id="1__105"></a>1. 初始化</h6> 
<ul><li>栈节点初始化：</li></ul> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Node</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
  <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> val<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># 节点的数据域</span>
    self<span class="token punctuation">.</span>val <span class="token operator">=</span> val
    <span class="token comment"># 节点的指针域</span>
    self<span class="token punctuation">.</span><span class="token builtin">next</span> <span class="token operator">=</span> <span class="token boolean">None</span>
</code></pre> 
<ul><li>栈初始化</li></ul> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">LinkedStack</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
  <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
    self<span class="token punctuation">.</span>top <span class="token operator">=</span> <span class="token boolean">None</span>
</code></pre> 
<h6><a id="2__126"></a>2. 判断栈是否为空</h6> 
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">empty</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
  <span class="token keyword">return</span> self<span class="token punctuation">.</span>top <span class="token keyword">is</span> <span class="token boolean">None</span>
</code></pre> 
<h6><a id="3__133"></a>3. 入栈</h6> 
<p>​ 将待插入节点的 next 指针指向栈顶指针所指向的节点，将栈顶指针指向新节点，代码如下:</p> 
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">push</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> val<span class="token punctuation">)</span><span class="token punctuation">:</span>
  <span class="token triple-quoted-string string">"""
  :param val: 入栈元素
  """</span>
  newNode <span class="token operator">=</span> Node<span class="token punctuation">(</span>val<span class="token punctuation">)</span>
  <span class="token comment"># 新节点的直接后继指向栈顶指针</span>
  newNode<span class="token punctuation">.</span><span class="token builtin">next</span> <span class="token operator">=</span> self<span class="token punctuation">.</span>top
  <span class="token comment"># 将栈顶指针指向新节点</span>
  self<span class="token punctuation">.</span>top <span class="token operator">=</span> newNode
</code></pre> 
<h6><a id="4__149"></a>4. 出栈</h6> 
<ul><li>栈空：抛出异常</li><li>栈不空：将栈顶元素出栈，将栈顶指针指向当前栈顶元素的下一个节点</li></ul> 
<p>代码如下：</p> 
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">pop</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
  <span class="token triple-quoted-string string">"""
  ：return: 返回栈顶元素
  """</span>
  <span class="token comment"># 如果栈为空，则抛出异常</span>
  <span class="token keyword">if</span> self<span class="token punctuation">.</span>empty<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">raise</span> IndexError<span class="token punctuation">(</span><span class="token string">'栈为空'</span><span class="token punctuation">)</span>
  <span class="token keyword">else</span><span class="token punctuation">:</span>
    <span class="token comment"># temp用来存储栈顶元素</span>
    temp <span class="token operator">=</span> self<span class="token punctuation">.</span>top
    <span class="token comment"># 指针指向栈顶的下一个元素</span>
    setf<span class="token punctuation">.</span>top <span class="token operator">=</span> self<span class="token punctuation">.</span>top<span class="token punctuation">.</span><span class="token builtin">next</span>
    <span class="token keyword">return</span> temp
</code></pre> 
<h6><a id="5__172"></a>5. 取出栈顶元素</h6> 
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">peek</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
  <span class="token triple-quoted-string string">"""
  :return : 返回栈顶元素
  """</span>
  <span class="token keyword">if</span> self<span class="token punctuation">.</span>empty<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">raise</span> IndexError<span class="token punctuation">(</span><span class="token string">'栈为空'</span><span class="token punctuation">)</span>
  <span class="token keyword">else</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> self<span class="token punctuation">.</span>top<span class="token punctuation">.</span>val
</code></pre> 
<hr> 
<h4><a id="font_colorbluefont_187"></a><font color="blue">二、队列</font></h4> 
<h5><a id="font_colororange21__font_189"></a><font color="orange">2.1 定义</font></h5> 
<p>​ 队列只允许在一端进行插入，在另一端进行删除，具有先进先出的特性。、</p> 
<h5><a id="font_colororange22_font_193"></a><font color="orange">2.2 基本概念</font></h5> 
<ul><li><strong>队首：</strong> 允许删除的一端称为队首</li><li><strong>队尾：</strong> 允许插入的一端称为队尾</li><li><strong>入队：</strong> 插入元素的过程称为入队</li><li><strong>出队：</strong> 删除袁术的过程称为出队</li><li>**空队列： ** 当队列中没有元素时称为空队列</li></ul> 
<h5><a id="font_colororange23_font_201"></a><font color="orange">2.3 顺序队列</font></h5> 
<p>在顺序队列中，将元素入队时，只需要在队尾添加一个元素即可。但是，如果将元素出队，则除了将元素从队首删除之外，还需要将其他元素向前移动一个位置。</p> 
<h6><a id="1__205"></a>1. 基本概念</h6> 
<p>队列初始化时，规定了队列的最大元素容量为6。<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         s 
        
       
         e 
        
       
         l 
        
       
         f 
        
       
         . 
        
       
         f 
        
       
         r 
        
       
         o 
        
       
         n 
        
       
         t 
        
       
         、 
        
       
         s 
        
       
         e 
        
       
         l 
        
       
         f 
        
       
         . 
        
       
         r 
        
       
         e 
        
       
         a 
        
       
         r 
        
       
      
        self.front、self.rear 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.88888em; vertical-align: -0.19444em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right: 0.01968em;">l</span><span class="mord mathdefault" style="margin-right: 0.10764em;">f</span><span class="mord">.</span><span class="mord mathdefault" style="margin-right: 0.10764em;">f</span><span class="mord mathdefault" style="margin-right: 0.02778em;">r</span><span class="mord mathdefault">o</span><span class="mord mathdefault">n</span><span class="mord mathdefault">t</span><span class="mord cjk_fallback">、</span><span class="mord mathdefault">s</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right: 0.01968em;">l</span><span class="mord mathdefault" style="margin-right: 0.10764em;">f</span><span class="mord">.</span><span class="mord mathdefault" style="margin-right: 0.02778em;">r</span><span class="mord mathdefault">e</span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right: 0.02778em;">r</span></span></span></span></span>均指向下标为0的位置，如图所示:</p> 
<img src="https://images2.imgbox.com/de/0f/Qo8SF228_o.png" alt="image-20220408165450174"> 
<h6><a id="2__211"></a>2. 顺序队列初始化</h6> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">SeqQueue</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
  <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> <span class="token builtin">max</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    self<span class="token punctuation">.</span><span class="token builtin">max</span> <span class="token operator">=</span> <span class="token builtin">max</span>
    self<span class="token punctuation">.</span>front <span class="token operator">=</span> <span class="token number">0</span>
    self<span class="token punctuation">.</span>rear <span class="token operator">=</span> <span class="token number">0</span>
    self<span class="token punctuation">.</span>data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token boolean">None</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span><span class="token builtin">max</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
</code></pre> 
<h6><a id="3__222"></a>3. 插入元素</h6> 
<p>现在向队列中添加3个元素，分别是5、3、7，添加元素后的队列如图所示：</p> 
<img src="https://images2.imgbox.com/28/dc/flXYgtSU_o.png" alt="image-20220408165913781"> 
<p>每次插入都是在队尾插入的，也就是rear所在的位置。每次插入完成后rear自增1。现将队列中的所有元素出队，如图所示：</p> 
<img src="https://images2.imgbox.com/6a/d8/tJZixdbP_o.png" alt="image-20220408170033390"> 
<h5><a id="4__232"></a>4. 假溢出</h5> 
<p>将队列中所有元素出队后，队列的起始位置已经由原本下标为0的位置移动到下标为3的位置了。那么，如果继续按这样入队、出队的形式，是不是到最后会存在这样一种现象—队列中是空的，没有任何元素，却无法继续将元素进队？结果是显而易见的，最后就是会出现这种现象。这种现象叫作<strong>假溢出</strong>。</p> 
<h5><a id="5__236"></a>5. 循环队列</h5> 
<p>为了解决假溢出现象，引入了循环队列的概念。所谓循环队列，就是将队列首尾连接起来。当rear的数值超过数组的最大长度时，先判断front是否在下标为0的位置，如果不在，则将rear指向下标0。</p> 
<p>​ 为方便理解，将循环队列表示为一个环形的图，起始时， rear 和 front 指向下标 0 ，如图所示：</p> 
<img src="https://images2.imgbox.com/3d/39/5OTrRJTj_o.png" alt="image-20220408170419980"> 
<p>现在向队列中添加5个元素，分别是5、3、7、8、4。在循环队列中，添加元素也是在队尾添加的，即rear下标处，如图所示：</p> 
<img src="https://images2.imgbox.com/36/30/nUeC34U6_o.png" alt="image-20220408170516261"> 
<p>​ 从循环队列中删除两个元素，删除元素是在队首删除的，如图所示：</p> 
<img src="https://images2.imgbox.com/e4/40/qKxz5d2T_o.png" alt="image-20220408170742457"> 
<p>此时，在顺序队列中，当front等于rear时表示队空。但是在循环队列中，很难区分front等于rear时是空队还是满队。</p> 
<p>这里的解决方法是保留一个元素空间，当队列满时，还有一个空的位置。由于rear有可能比front大，也有可能比front小，所以尽管相差一个位置，其实有可能是相差一整圈。<br> 若队列的最大容量为max，则队满的条件是（rear+1）%max==front</p> 
<h6><a id="6__257"></a>6. 循环队列初始化</h6> 
<p>self.front 指向队首下标，self.rear 指向队尾下标，max 表示队列的最大容量。循环队列初始化代码实现如下：</p> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">CircleQueue</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
  <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> <span class="token builtin">max</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># 队列最大容量</span>
    self<span class="token punctuation">.</span><span class="token builtin">max</span> <span class="token operator">=</span> <span class="token builtin">max</span>
    <span class="token comment"># 存储队列元素的数组</span>
    self<span class="token punctuation">.</span>data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token boolean">None</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span><span class="token builtin">max</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
    <span class="token comment"># 队首指针</span>
    self<span class="token punctuation">.</span>front <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token comment"># 队尾指针</span>
    self<span class="token punctuation">.</span>rear <span class="token operator">=</span> <span class="token number">0</span>
</code></pre> 
<h6><a id="7__274"></a>7. 循环队列的基本操作</h6> 
<ul><li><strong>判断队空</strong></li></ul> 
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">empty</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
  <span class="token keyword">return</span> self<span class="token punctuation">.</span>front <span class="token operator">==</span> self<span class="token punctuation">.</span>rear
</code></pre> 
<ul><li><strong>入队</strong> 
  <ul><li>队满：抛出异常</li><li>队不满：插入元素，并且self.rear 自增 1，若self + 1 大于 max，则将 self.rear 指向下标0 。</li></ul> </li></ul> 
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">push</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> val<span class="token punctuation">)</span><span class="token punctuation">:</span>
  <span class="token triple-quoted-string string">"""
  :param val:待插入的关键字
  """</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>rear <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> self<span class="token punctuation">.</span><span class="token builtin">max</span> <span class="token operator">==</span> self<span class="token punctuation">.</span>front<span class="token punctuation">:</span>
    <span class="token keyword">raise</span> IndexError<span class="token punctuation">(</span><span class="token string">'队满'</span><span class="token punctuation">)</span>
  <span class="token comment"># 在队尾插入新的关键字</span>
  self<span class="token punctuation">.</span>data<span class="token punctuation">[</span>self<span class="token punctuation">.</span>rear<span class="token punctuation">]</span> <span class="token operator">=</span> val
  <span class="token comment"># 修改队尾指针</span>
  self<span class="token punctuation">.</span>rerr <span class="token operator">=</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>rear <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> self<span class="token punctuation">.</span><span class="token builtin">max</span>
</code></pre> 
<ul><li><strong>出队</strong> 
  <ul><li>队空：抛出异常</li><li>队不空：获取队首元素，队首指针加一，返回队首元素</li></ul> </li></ul> 
<p>​ 代码如下：</p> 
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">pop</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
  <span class="token keyword">if</span> self<span class="token punctuation">.</span>empty<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">raise</span> IndexError<span class="token punctuation">(</span><span class="token string">'队空'</span><span class="token punctuation">)</span>
  <span class="token comment"># 队列不为空，获取队首元素</span>
  cur <span class="token operator">=</span> self<span class="token punctuation">.</span>data<span class="token punctuation">[</span>self<span class="token punctuation">.</span>front<span class="token punctuation">]</span>
  <span class="token comment"># 修改队首指针，指向下一个位置</span>
  self<span class="token punctuation">.</span>front <span class="token operator">=</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>front <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> self<span class="token punctuation">.</span><span class="token builtin">max</span>
  <span class="token comment"># 返回原队首元素</span>
  <span class="token keyword">return</span> cur
</code></pre> 
<ul><li><strong>获取队首元素</strong> 
  <ul><li>队空：抛出异常</li><li>队不空： 返回队首元素</li></ul> </li></ul> 
<p>​ 代码如下：</p> 
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">peek</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
  <span class="token keyword">if</span> self<span class="token punctuation">.</span>empty<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">raise</span> IndexError<span class="token punctuation">(</span><span class="token string">'队空'</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> self<span class="token punctuation">.</span>data<span class="token punctuation">[</span>self<span class="token punctuation">.</span>front<span class="token punctuation">]</span>
</code></pre> 
<h5><a id="font_colororange23_font_331"></a><font color="orange">2.3 链式队列</font></h5> 
<p>顺序队列在插入和删除时需要移动大量的元素，因此引入了链式队列。链式队列插入和删除操作方便，不需要移动元素，只需要改变指针的指向即可。</p> 
<p>链式队列节点结构与单链表的节点结构一样，队列节点包括一个数据域data和一个指针域 next。节点结构如图所示：</p> 
<img src="https://images2.imgbox.com/a2/ac/QuyQoWMR_o.png" alt="image-20220408183524070"> 
<h6><a id="1__339"></a>1. 初始化</h6> 
<ul><li><strong>节点类Node初始化</strong></li></ul> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Node</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
  <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">:</span>
    self<span class="token punctuation">.</span>data <span class="token operator">=</span> data
    self<span class="token punctuation">.</span><span class="token builtin">next</span> <span class="token operator">=</span> <span class="token boolean">None</span>
</code></pre> 
<ul><li><strong>队列初始化</strong>: 对于不带头节点的链式队列，初始化时，链式队列的front指针指向None。</li></ul> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">LinkedQueue</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
  <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
    self<span class="token punctuation">.</span>front <span class="token operator">=</span> <span class="token boolean">None</span>
</code></pre> 
<h6><a id="2___358"></a>2. 判断队空</h6> 
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">empty</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
  <span class="token keyword">return</span> self<span class="token punctuation">.</span>front <span class="token keyword">is</span> <span class="token boolean">None</span>
</code></pre> 
<h6><a id="3__365"></a>3. 入队</h6> 
<ul><li>队空：将队首指针指向待插入的新节点</li><li>队不空：则遍历到队尾，将新节点插入到队尾</li></ul> 
<p>代码如下：</p> 
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">push</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> val<span class="token punctuation">)</span><span class="token punctuation">:</span>
  new <span class="token operator">=</span> Node<span class="token punctuation">(</span>val<span class="token punctuation">)</span>
  <span class="token keyword">if</span> self<span class="token punctuation">.</span>front <span class="token operator">==</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
    <span class="token keyword">raise</span> IndexError<span class="token punctuation">(</span><span class="token string">'队空！'</span><span class="token punctuation">)</span>
  <span class="token keyword">else</span><span class="token punctuation">:</span>
    cur <span class="token operator">=</span> self<span class="token punctuation">.</span>front
    <span class="token comment"># 遍历队列</span>
    <span class="token keyword">while</span> cur<span class="token punctuation">.</span><span class="token builtin">next</span> <span class="token operator">!=</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
      cur <span class="token operator">=</span> cur<span class="token punctuation">.</span><span class="token builtin">next</span>
    <span class="token comment"># 在队尾插入元素</span>
    cur<span class="token punctuation">.</span><span class="token builtin">next</span> <span class="token operator">=</span> new
</code></pre> 
<h6><a id="4__386"></a>4. 出队</h6> 
<p>判断队列是否为空，若队列为空，则抛出异常，否则删除队首节点，代码实现如下</p> 
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">pop</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
  <span class="token keyword">if</span> self<span class="token punctuation">.</span>empty<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">raise</span> IndexError<span class="token punctuation">(</span><span class="token string">'队空'</span><span class="token punctuation">)</span>
  <span class="token keyword">else</span><span class="token punctuation">:</span>
    cur <span class="token operator">=</span> self<span class="token punctuation">.</span>front
    <span class="token comment"># 将队首指针指向队首节点的后继节点</span>
    self<span class="token punctuation">.</span>front <span class="token operator">=</span> self<span class="token punctuation">.</span>front<span class="token punctuation">.</span><span class="token builtin">next</span>
    <span class="token keyword">return</span> cur
</code></pre> 
<h6><a id="5__401"></a>5. 获取队首元素</h6> 
<p>判断队列是否为空，若队列为空，则抛出异常；若队列不为空，则返回队首元素，代码实现如下</p> 
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">peek</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
  <span class="token keyword">if</span> self<span class="token punctuation">.</span>empty<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">raise</span> IndexError<span class="token punctuation">(</span><span class="token string">'队空'</span><span class="token punctuation">)</span>
  els：
  <span class="token keyword">return</span> self<span class="token punctuation">.</span>front<span class="token punctuation">.</span>data
</code></pre> 
<h4><a id="font_colorredfont_413"></a><font color="red">总结</font></h4> 
<p>栈是一种限制只能在栈顶进行插入和删除操作的线性表，具有先进后出的特性，各种运算的时间复杂度均为O(1)。</p> 
<p>​ 队列是一种只允许在队尾进行插入、只允许在队首进行删除的线性表，具有先进先出的特性。其插入和删除的时间复杂度均为O(1)。<br> 　　 循环队列就是首尾连接起来的队列。假设存储队列的空间大小为n，则只能存n-1个元素，这是为了方便判断队空与队满。循环队列有如下规定。</p> 
<p>​ ① 若队首指针与队尾指针相同，则表示队空。</p> 
<p>​ ② 若队头指针在队尾指针的下一个位置，则表示队满。</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/61cf2a50fec638637966d451403b6baa/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">python实现数据结构--线性表</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/504d3a9af4c0f55d86e35741a207759b/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">「 WEB测试工程师 」岗位一面总结</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>