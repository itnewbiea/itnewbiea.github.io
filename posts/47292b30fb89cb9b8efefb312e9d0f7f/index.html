<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>再一次，实现听歌自由 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="再一次，实现听歌自由" />
<meta property="og:description" content="20年前，中国网民听歌是自由的，准确点说是听盗版歌的自由。
2002年11月，百度上线MP3搜索功能，几乎能搜索和下载到所有的歌曲。按相关的版权法规，百度未经授权使用他人资源牟利是违法的。当时互联网产业违法采集数据、传播盗版是家常便饭，版权管理形同虚设，百度顺势而为分了一块大蛋糕。盗版音乐砸了音乐人的饭碗，就如同盗版软件摧残软件从业者。最近十多年，政府对音像作品版权的管理日趋严格，这是一件利国利民的好事，一个行业兴盛的起点首先是从业者得到应有的报酬。
百度MP3搜索
今天，付费听音乐已经成为网民的共识。我常常使用网易云听音乐，这是一个好软件，只是没有周杰伦的歌，网易云官方解释是没有拿到周杰伦歌曲的版权。QQ音乐倒是有周杰伦歌曲，但是偶尔也会因版权问题下架其他歌手作品。同样，酷狗音乐、咪咕音乐也不能提供所有的歌曲。问题来了，如何在一个音乐APP上听到所有的我喜欢的歌，实现听歌自由呢？自建音乐服务器是唯一的路。
Navidrome 是一款开源音乐服务器，用于自建云端音乐播放器，兼容手机、桌面等多种客户端。Navidrome 资源占用率非常低，支持中文界面，可以播放任何音频格式，实在是码农&#43;音乐爱好者的折腾利器。Navidrome 提供了 Demo 地址 demo.navidrome.org/app/ , 账号密码都是 demo。
首先准备可以远程访问的服务器，最好有独立的公网IP，硬件配置至少1核1G，预装CentOS或者Debian系统。有一个独立的域名更好，比如 music.test.com ，否则就要用 IP&#43;端口号访问音乐服务器。
1 安装docker-compose
推荐使用 docker 安装 Navidrome ，首先安装 docker-compose ：
shell
复制代码
# 安装yum工具 yum install -y yum-utils # 设置源 yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo # 安装docker yum install -y docker-ce # 启动doker服务 systemctl start docker # 安装docker-compose yum install docker-compose 2 安装Navidrome
编辑docker-compose.yml，内容如下：
yaml
复制代码
version: &#34;3&#34; services: navidrome: image: deluan/navidrome:latest user: 0:0 ports: - &#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/47292b30fb89cb9b8efefb312e9d0f7f/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-05-30T15:11:56+08:00" />
<meta property="article:modified_time" content="2023-05-30T15:11:56+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">再一次，实现听歌自由</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>20年前，中国网民听歌是自由的，准确点说是听盗版歌的自由。</p> 
<p>2002年11月，百度上线MP3搜索功能，几乎能搜索和下载到所有的歌曲。按相关的版权法规，百度未经授权使用他人资源牟利是违法的。当时互联网产业违法采集数据、传播盗版是家常便饭，版权管理形同虚设，百度顺势而为分了一块大蛋糕。盗版音乐砸了音乐人的饭碗，就如同盗版软件摧残软件从业者。最近十多年，政府对音像作品版权的管理日趋严格，这是一件利国利民的好事，一个行业兴盛的起点首先是从业者得到应有的报酬。</p> 
<p></p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/fc/f6/FaqoPk0w_o.png"></p> 
<p><br> 百度MP3搜索</p> 
<p></p> 
<p>今天，付费听音乐已经成为网民的共识。我常常使用网易云听音乐，这是一个好软件，只是没有周杰伦的歌，网易云官方解释是没有拿到周杰伦歌曲的版权。QQ音乐倒是有周杰伦歌曲，但是偶尔也会因版权问题下架其他歌手作品。同样，酷狗音乐、咪咕音乐也不能提供所有的歌曲。问题来了，如何在一个音乐APP上听到所有的我喜欢的歌，实现听歌自由呢？自建音乐服务器是唯一的路。</p> 
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.navidrome.org%2F" rel="nofollow" title="Navidrome">Navidrome</a> 是一款开源音乐服务器，用于自建云端音乐播放器，兼容手机、桌面等多种客户端。Navidrome 资源占用率非常低，支持中文界面，可以播放任何音频格式，实在是码农+音乐爱好者的折腾利器。Navidrome 提供了 Demo 地址 <a href="https://link.juejin.cn?target=https%3A%2F%2Fdemo.navidrome.org%2Fapp%2F" rel="nofollow" title="demo.navidrome.org/app/">demo.navidrome.org/app/</a> , 账号密码都是 demo。</p> 
<p>首先准备可以远程访问的服务器，最好有独立的公网IP，硬件配置至少1核1G，预装CentOS或者Debian系统。有一个独立的域名更好，比如 music.test.com ，否则就要用 IP+端口号访问音乐服务器。</p> 
<p>1 安装docker-compose</p> 
<p>推荐使用 docker 安装 Navidrome ，首先安装 docker-compose ：</p> 
<pre></pre> 
<p>shell</p> 
<p>复制代码</p> 
<p><code># 安装yum工具 yum install -y yum-utils # 设置源 yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo # 安装docker yum install -y docker-ce # 启动doker服务 systemctl start docker # 安装docker-compose yum install docker-compose </code></p> 
<p>2 安装Navidrome</p> 
<p>编辑docker-compose.yml，内容如下：</p> 
<pre></pre> 
<p>yaml</p> 
<p>复制代码</p> 
<p><code>version: "3" services: navidrome: image: deluan/navidrome:latest user: 0:0 ports: - "8080:8080" #自定义端口 restart: unless-stopped environment: ND_SCANSCHEDULE: 1h ND_LOGLEVEL: info ND_SESSIONTIMEOUT: 24h ND_BASEURL: "" volumes: - "/usr/local/music.test.com/data:/data" - "/usr/local/music.test.com/music:/music:ro" </code></p> 
<p>volumes 参数指定数据 data 和音乐文件 music 的映射路径，/usr/local/music.test.com/ 即为真实的文件路径。</p> 
<pre></pre> 
<p>shell</p> 
<p>复制代码</p> 
<p><code># -f 指定使用的 Compose 模板文件，默认为 docker-compose.yml，可以多次指定，指定多个yml docker-compose -f docker-compose.yml up -d </code></p> 
<p>执行以上启动命令后 Navidrome 将会安装成功，内网访问路径是 <a href="https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A8080" rel="nofollow" title="http://localhost:8080">http://localhost:8080</a> 。</p> 
<p>3 配置外网访问</p> 
<p>配置 Nginx 将 music.test.com 域名映射给内网地址，再配置域名解析，将 music.test.com 解析为真实IP。</p> 
<pre></pre> 
<p>nginx</p> 
<p>复制代码</p> 
<p><code>server { listen 80; server_name music.test.com; access_log /var/log/nginx/music.test.com combined; location / { proxy_pass http://127.0.0.1:8080; proxy_set_header X-Real-IP $remote_addr; proxy_set_header REMOTE-HOST $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header Host $http_host; proxy_redirect off; } } </code></p> 
<p>完成以上三步后，在路径 /usr/local/music.test.com/music 上传一些音乐文件，然后通过地址 <a href="https://link.juejin.cn?target=http%3A%2F%2Fmusic.test.com%2Fapp" rel="nofollow" title="music.test.com/app">music.test.com/app</a> 就能访问到音乐服务器界面，按系统提示添加管理员账号和密码，最后呈现的效果如下图所示：</p> 
<p></p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/e2/ff/GdPilEfd_o.png"></p> 
<p><br> Navidrome管理界面</p> 
<p></p> 
<p>Navidrome 会自动扫描 music 目录下的音乐文件元信息，形成一个歌曲管理清单。如果在清单里面看不到最新上传的歌曲，可以点击右上角的心跳图标，再点击“完全扫描”按钮，扫描所有文件。</p> 
<p>4 配置手机客户端</p> 
<p>日常听歌时，可以通过 Navidrome 管理后台直接播放音乐，也可以安装手机客户端：</p> 
<ul><li>IOS: playSub、Substreamer、Amperfy、iSub</li><li>Android: DSub、Subtracks、Substreamer、Ultrasonic 、Audinaut</li></ul> 
<p>推荐使用 Substreamer，这个APP更加符合国人的使用习惯，主页地址： <a href="https://link.juejin.cn?target=https%3A%2F%2Fsubstreamerapp.com%2F" rel="nofollow" title="substreamerapp.com/">substreamerapp.com/</a> 。IOS客户端下载地址： <a href="https://link.juejin.cn?target=https%3A%2F%2Fapps.apple.com%2Fus%2Fapp%2Fsubstreamer%2Fid1012991665" rel="nofollow" title="apps.apple.com/us/app/subs…">apps.apple.com/us/app/subs…</a> ；Android客户端下载地址： <a href="https://link.juejin.cn?target=http%3A%2F%2Fm.289.com%2Fazrj%2F477219.html" rel="nofollow" title="m.289.com/azrj/477219…">m.289.com/azrj/477219…</a> 。Substreamer 首次启动后根据界面提示填写服务器地址 <a href="https://link.juejin.cn?target=http%3A%2F%2Fmusic.test.com" rel="nofollow" title="music.test.com">music.test.com</a> ，以及第三步配置的账号和密码。Substreamer 启动之后自动获取音乐数据，如下所示：</p> 
<p></p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/03/24/11IzugQV_o.png"></p> 
<p><br> Substreamer客户端</p> 
<p></p> 
<p>5 修改歌曲元信息</p> 
<p>无论歌手发布过多少歌曲，一般只有几首歌会被放在歌单反复听，像周杰伦这种高产者几乎是凤毛麟角。好听的歌曲往往分布在不同的专辑中，Substreamer 默认按专辑分组展示音乐列表，界面上专辑列表很长，但是进入专辑里面仅有一两首歌，用户听起来非常不方便。可以用软件 Mp3tag 修改歌曲元信息，将歌曲改成同一个专辑名称，这样就将它们聚合在一起。Mp3tag的下载地址 <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.mp3tag.de%2Fen%2Fdodownload64.html" rel="nofollow" title="www.mp3tag.de/en/dodownlo…">www.mp3tag.de/en/dodownlo…</a> 。</p> 
<p></p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/93/7c/20HESw0w_o.png"></p> 
<p><br> Mp3tag</p> 
<p></p> 
<p>根据我国法律规定，未经著作权人许可，将其享有著作权的内容复制传播，原则上触犯著作权法。请购买正版歌曲再上传至 Navidrome 实现你的听歌自由，切勿使用磁力搜索器获取盗版音乐。</p> 
<p></p> 
<p></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/6faf4a77931735dd3467cf707670603d/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">IDEA 2020 超简单下载安装 使用教程，三步教你完成</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/0210274e65d334635950e8ad9047b76a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">常见的场景优化方案：导出Excel大批量数据的优化过程</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>