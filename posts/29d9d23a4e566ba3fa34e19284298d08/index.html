<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>基于ubuntu20.04安装ros系统搭配使用工业相机 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="基于ubuntu20.04安装ros系统搭配使用工业相机" />
<meta property="og:description" content="基于ubuntu20.04安装ros系统搭配使用工业相机 1. ROS系统安装部署1.1更新镜像源1.1.1 备份源文件1.1.2 更新阿里源1.1.3 更新软件源 1.2 ros系统安装1.2.1 添加ros软件源1.2.2 添加秘钥1.2.3 更新软件源1.2.4 配置及更换最佳软件源1.2.5 ROS安装1.2.6 初始化rosdep1.2.7 设置环境变量1.2.8 安装rosinstall1.2.8 验证ROS是否安装成功 2. 海康工业相机SDK安装2.1 SDK下载2.2 MVS&amp;SDK安装 3. ROS Package使用3.1 ros工作空间部署3.2 查看和发布 ROS 话题（Topic）的信息3.3 rviz 可视化工具 1. ROS系统安装部署 参考链接：详细介绍如何在ubuntu20.04中安装ROS系统
本文重点讲工业相机使用部分，ros系统安装，大家可以自行看参考链接，作者写的很详细，每一个报错都考虑到了
1.1更新镜像源 ros系统安装过程中，需要下载大量的依赖环境，更换一个下载速度快的软件源，提升安装速度，本文使用阿里镜像源
deb https://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse deb-src https://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse deb https://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse deb-src https://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse deb https://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse deb-src https://mirrors." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/29d9d23a4e566ba3fa34e19284298d08/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-11-21T20:01:23+08:00" />
<meta property="article:modified_time" content="2023-11-21T20:01:23+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">基于ubuntu20.04安装ros系统搭配使用工业相机</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>基于ubuntu20.04安装ros系统搭配使用工业相机</h4> 
 <ul><li><ul><li><a href="#1%09ROS_1" rel="nofollow">1. ROS系统安装部署</a></li><li><ul><li><a href="#11_4" rel="nofollow">1.1更新镜像源</a></li><li><ul><li><a href="#111__18" rel="nofollow">1.1.1 备份源文件</a></li><li><a href="#112__22" rel="nofollow">1.1.2 更新阿里源</a></li><li><a href="#113__27" rel="nofollow">1.1.3 更新软件源</a></li></ul> 
    </li><li><a href="#12_ros_31" rel="nofollow">1.2 ros系统安装</a></li><li><ul><li><a href="#121_ros_32" rel="nofollow">1.2.1 添加ros软件源</a></li><li><a href="#122__36" rel="nofollow">1.2.2 添加秘钥</a></li><li><a href="#123__40" rel="nofollow">1.2.3 更新软件源</a></li><li><a href="#124__44" rel="nofollow">1.2.4 配置及更换最佳软件源</a></li><li><a href="#125_ROS_51" rel="nofollow">1.2.5 ROS安装</a></li><li><a href="#126_rosdep_59" rel="nofollow">1.2.6 初始化rosdep</a></li><li><a href="#127__65" rel="nofollow">1.2.7 设置环境变量</a></li><li><a href="#128_rosinstall_76" rel="nofollow">1.2.8 安装rosinstall</a></li><li><a href="#128_ROS_82" rel="nofollow">1.2.8 验证ROS是否安装成功</a></li></ul> 
   </li></ul> 
   </li><li><a href="#2%09SDK_90" rel="nofollow">2. 海康工业相机SDK安装</a></li><li><ul><li><a href="#21_SDK_91" rel="nofollow">2.1 SDK下载</a></li><li><a href="#22_MVSSDK_97" rel="nofollow">2.2 MVS&amp;SDK安装</a></li></ul> 
   </li><li><a href="#3%09ROS_Package_115" rel="nofollow">3. ROS Package使用</a></li><li><ul><li><a href="#31%09ros_117" rel="nofollow">3.1 ros工作空间部署</a></li><li><a href="#32%09_ROS_Topic_142" rel="nofollow">3.2 查看和发布 ROS 话题（Topic）的信息</a></li><li><a href="#33%09rviz__149" rel="nofollow">3.3 rviz 可视化工具</a></li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h3><a id="1%09ROS_1"></a>1. ROS系统安装部署</h3> 
<p>参考链接：<a href="https://blog.csdn.net/qq_44339029/article/details/120579608?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522169899082516800185875712%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&amp;request_id=169899082516800185875712&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-120579608-null-null.142%5Ev96%5Epc_search_result_base3&amp;utm_term=ubuntu20.04%20ros&amp;spm=1018.2226.3001.4187">详细介绍如何在ubuntu20.04中安装ROS系统</a><br> 本文重点讲工业相机使用部分，ros系统安装，大家可以自行看参考链接，作者写的很详细，每一个报错都考虑到了</p> 
<h4><a id="11_4"></a>1.1更新镜像源</h4> 
<p>ros系统安装过程中，需要下载大量的依赖环境，更换一个下载速度快的软件源，提升安装速度，本文使用阿里镜像源</p> 
<pre><code class="prism language-bash">deb https://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse
deb-src https://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse
deb https://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse
deb-src https://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse
deb https://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse
deb-src https://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse
deb https://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiverse
deb-src https://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiverse
deb https://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse
deb-src https://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse
</code></pre> 
<h5><a id="111__18"></a>1.1.1 备份源文件</h5> 
<pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">cp</span> <span class="token parameter variable">-r</span>  /etc/apt/source.list source.listbak
</code></pre> 
<h5><a id="112__22"></a>1.1.2 更新阿里源</h5> 
<pre><code class="prism language-bash"><span class="token function">sudo</span> gedit  /etc/apt/source.list source.list
</code></pre> 
<p>把阿里源的路径更新上去</p> 
<h5><a id="113__27"></a>1.1.3 更新软件源</h5> 
<pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">apt</span> update
</code></pre> 
<h4><a id="12_ros_31"></a>1.2 ros系统安装</h4> 
<h5><a id="121_ros_32"></a>1.2.1 添加ros软件源</h5> 
<pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">sh</span> <span class="token parameter variable">-c</span> <span class="token string">'. /etc/lsb-release &amp;&amp; echo "deb http://mirrors.ustc.edu.cn/ros/ubuntu/ $DISTRIB_CODENAME main" &gt; /etc/apt/sources.list.d/ros-latest.list'</span>
</code></pre> 
<h5><a id="122__36"></a>1.2.2 添加秘钥</h5> 
<pre><code class="prism language-bash"><span class="token function">sudo</span> apt-key adv <span class="token parameter variable">--keyserver</span> <span class="token string">'hkp://keyserver.ubuntu.com:80'</span> --recv-key C1CF6E31E6BADE8868B172B4F42ED6FBAB17C654
</code></pre> 
<h5><a id="123__40"></a>1.2.3 更新软件源</h5> 
<pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">apt</span> update
</code></pre> 
<h5><a id="124__44"></a>1.2.4 配置及更换最佳软件源</h5> 
<p>1.参考链接：<a href="https://blog.csdn.net/qq_44339029/article/details/108916820">Ubuntu如何通过简单的几步操作来配置系统的软件源</a><br> 2.解决更新最佳源时，出现的没有公钥问题<br> 输入命令：</p> 
<pre><code class="prism language-bash"><span class="token function">sudo</span> apt-key adv <span class="token parameter variable">--keyserver</span> keyserver.ubuntu.com --recv-keys F42ED6FBAB17C654
</code></pre> 
<h5><a id="125_ROS_51"></a>1.2.5 ROS安装</h5> 
<p>基于ubuntu20.04 安装，其他版本，命令会有差异，遇到的问题也会有差异<br> 输入安装命令</p> 
<pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> ros-noetic-desktop-full
</code></pre> 
<p>这个下载安装比较慢，手机热点下载了大约10分钟左右（可能是参考前面几个步骤，更新了软件源，速度比较快），网速差的话，看其他博主，大约需要1天，随缘<br> 如果不能保证持续下载，要关电脑，输入ctr+c终端下载，正常关闭，下次有时间后，重新输入命令，可以继续下载</p> 
<h5><a id="126_rosdep_59"></a>1.2.6 初始化rosdep</h5> 
<pre><code class="prism language-bash">  <span class="token function">sudo</span> rosdep init
</code></pre> 
<p>正常顺利，如下图，就完成了，如果不顺利，查找篇头的文章，找找解决方法<br> <img src="https://images2.imgbox.com/93/d5/kZgvjXYr_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="127__65"></a>1.2.7 设置环境变量</h5> 
<pre><code class="prism language-bash">      <span class="token builtin class-name">echo</span> <span class="token string">"source /opt/ros/noetic/setup.bash"</span> <span class="token operator">&gt;&gt;</span> ~/.bashrc
</code></pre> 
<p>注意：这里的noetic取决于ubuntu的系统版本，ubuntu是20.04版本的，对应的是noetic<br> 生效环境变量：</p> 
<pre><code class="prism language-bash">      <span class="token builtin class-name">source</span> ~/.bashrc
</code></pre> 
<h5><a id="128_rosinstall_76"></a>1.2.8 安装rosinstall</h5> 
<pre><code class="prism language-bash">	<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> python3-rosinstall python3-rosinstall-generator python3-wstool
</code></pre> 
<h5><a id="128_ROS_82"></a>1.2.8 验证ROS是否安装成功</h5> 
<pre><code class="prism language-bash">     roscore
</code></pre> 
<p>结果如下：<br> <img src="https://images2.imgbox.com/c6/8e/3PyHBjdo_o.png" alt="在这里插入图片描述"><br> 如果安装过程中，出现其他错误，建议查阅引用文章<a href="https://blog.csdn.net/qq_44339029/article/details/120579608?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522169899082516800185875712%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&amp;request_id=169899082516800185875712&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-120579608-null-null.142%5Ev96%5Epc_search_result_base3&amp;utm_term=ubuntu20.04%20ros&amp;spm=1018.2226.3001.4187">详细介绍如何在ubuntu20.04中安装ROS系统</a>，或者百度、CSDN等渠道解决</p> 
<h3><a id="2%09SDK_90"></a>2. 海康工业相机SDK安装</h3> 
<h4><a id="21_SDK_91"></a>2.1 SDK下载</h4> 
<p>在海康机器人的官网下载中心-&gt; <a href="https://www.hikrobotics.com/cn/machinevision/service/download?module=0" rel="nofollow">海康机器人下载中心</a><br> 我们可以看见海康机器人为用户提供了较多的软件下载，不同的软件对应的其不同产品系列，而工业相机，下载其MVS即可，MVS集成了相机的客户端软件与提供给用户二次开发SDK<br> <img src="https://images2.imgbox.com/4b/cc/WJWWZZJt_o.png" alt="在这里插入图片描述"><br> 选择linux版本下载，解压后，根据系统版本，选择x64安装包<br> <img src="https://images2.imgbox.com/72/75/bQpvuBcb_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="22_MVSSDK_97"></a>2.2 MVS&amp;SDK安装</h4> 
<p>将MVS-2.1.2_x86_64_20231011.deb复制到系统中，使用安装命令，进行安装即可<br> 给安装包文件读写权限：</p> 
<pre><code class="prism language-bash">   <span class="token function">chmod</span> <span class="token number">777</span> MVS-2.1.2_x86_64_20230301.deb
</code></pre> 
<p>执行MVS安装命令：</p> 
<pre><code class="prism language-bash">   <span class="token function">sudo</span> dpkg <span class="token parameter variable">-i</span>  MVS-2.1.2_x86_64_20230301.deb
</code></pre> 
<p><img src="https://images2.imgbox.com/12/d3/UBwRldrR_o.png" alt="在这里插入图片描述"></p> 
<p>安装完成后，可打开MVS，使用MVS进行相机的成像预览、调试，以及相机参数设置：</p> 
<pre><code class="prism language-bash">   <span class="token function">bash</span> /opt/MVS/bin/MVS.sh
</code></pre> 
<p><img src="https://images2.imgbox.com/f6/90/kgsot8oX_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="3%09ROS_Package_115"></a>3. ROS Package使用</h3> 
<p>引用说明：对ros接触较短，直接下载了CSDN资源，<a href="https://download.csdn.net/download/tgj891/87379167?utm_medium=distribute.pc_relevant_download.none-task-download-2~default~BlogCommendFromBaidu~Rate-1-87379167-download-87385697.257%5Ev14%5Epc_dl_relevant_base&amp;depth_1-utm_source=distribute.pc_relevant_download.none-task-download-2~default~BlogCommendFromBaidu~Rate-1-87379167-download-87385697.257%5Ev14%5Epc_dl_relevant_base&amp;spm=1003.2020.3001.6616.1">引用链接</a>，对其demo进行了修改与注释</p> 
<h4><a id="31%09ros_117"></a>3.1 ros工作空间部署</h4> 
<p>创建使用的文件夹</p> 
<pre><code class="prism language-bash">	<span class="token function">mkdir</span> <span class="token parameter variable">-p</span> ~/hkcam_ws/src 
</code></pre> 
<p>解压demo文件</p> 
<pre><code class="prism language-bash">	<span class="token function">unzip</span> hk_cam.zip
</code></pre> 
<p>复制demo到指定文件夹</p> 
<pre><code class="prism language-bash">	<span class="token function">cp</span> hk_cam ~/hkcam_ws/src <span class="token parameter variable">-rf</span>
</code></pre> 
<p>编译与生成</p> 
<pre><code class="prism language-bash">	<span class="token builtin class-name">cd</span> ~/hkcam_ws
	catkin_make <span class="token comment">#编译</span>
</code></pre> 
<p>run</p> 
<pre><code class="prism language-bash">	<span class="token builtin class-name">source</span> devel/setup.bash
	roslaunch hk_cam hk_cam.launch
</code></pre> 
<p><img src="https://images2.imgbox.com/59/c6/Wzz4hlOS_o.png" alt="在这里插入图片描述"><img src="https://images2.imgbox.com/11/3c/LtDf537F_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/bf/8d/Am4DM9ri_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="32%09_ROS_Topic_142"></a>3.2 查看和发布 ROS 话题（Topic）的信息</h4> 
<p>rosluanch运行成功后，在新开一个终端，输入rostopic list，查看 ROS 中所有的话题列表：</p> 
<pre><code class="prism language-bash">rostopic list
</code></pre> 
<p><img src="https://images2.imgbox.com/39/84/NGUDl3ae_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="33%09rviz__149"></a>3.3 rviz 可视化工具</h4> 
<p>rosluanch运行起来后，可以在新的终端输入,即可打开rviz 可视化工具</p> 
<pre><code class="prism language-bash">rviz
</code></pre> 
<p><img src="https://images2.imgbox.com/cd/f6/xC2O7eCD_o.png" alt="在这里插入图片描述"><br> 接下来加载rviz config，在左上角菜单栏，选择File-&gt;Open Config,<img src="https://images2.imgbox.com/54/0d/THOMSwmV_o.png" alt="-"><br> 选择demo路径下的config（仅供演示效果，可以自己配置）<br> <img src="https://images2.imgbox.com/b1/81/W67RekRz_o.png" alt="在这里插入图片描述"><br> 加载完成后，在Image Topic选择demo发布的topic即可预览查看图像，如下<br> <img src="https://images2.imgbox.com/73/72/NV0pakeq_o.png" alt="在这里插入图片描述"></p> 
<p>demo下载路径：<a href="https://download.csdn.net/download/qq_23107577/88557832">hikrobot-cam-ros-toptic</a></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/02b957bfc5f30c4fb9b5d5036d611a14/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【Ubuntu】Ubuntu arm64 部署 Blazor Server 应用</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/ec8882ed0df8870308a7843c00a77ab5/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Python&#43;Selenium定位不到元素常见原因及解决办法(报：NoSuchElementException)</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>