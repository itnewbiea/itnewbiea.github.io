<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>60行代码，制作H5版飞机大战游戏 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="60行代码，制作H5版飞机大战游戏" />
<meta property="og:description" content="用最基础的代码逻辑，实现了飞机大战的核心玩法
点击这里可以试玩欧
制作使用了PIXI框架，对于制作H5应用的运行效率优化的还算不错。
感兴趣可以一起研究
制作了如下功能 1、制作了游戏的场景元素及动画效果
2、飞机的控制
3、发射子弹击落敌机，得分功能
4、Game Over后，重新游戏
功能涵盖了基本H5游戏的制作套路。
可通过“复制”“粘贴”大法，进行功能的丰富
源码可以在线调试，也手机直接浏览
源码地址：​​​​​​​​​​​​​​http://pro.youyu001.com
代码说明 以下内容可以作为H5游戏开发的帮助手册使用
1）创建应用
var app = new PIXI.Application(512,768); document.body.appendChild(app.view); 2）添加图片，设置图片位置与定位点
var plane = new PIXI.Sprite.fromImage(&#34;res/plane_blue_01.png&#34;); app.stage.addChild(plane); //将图片放置到舞台 plane.anchor.x = 0.5; //设置图片锚点为图片中心 plane.anchor.y = 0.5; plane.x = 200; //设置图片的位置 plane.y = 600; 3）添加文本显示
var scoreTxt = new PIXI.Text(&#34;score 0&#34;); app.stage.addChild(scoreTxt); //将文本添加到舞台 4）添加控制功能，获取鼠标位置
bg.interactive = true;//背景图片允许接受控制信息 bg.on(&#34;pointermove&#34;, movePlane); //滑动控制 function movePlane(event) { var pos = event.data.getLocalPosition(app.stage); //获取鼠标当前位置 plane." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/2e18fe63e19a504be52e5400984ca9c0/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-03-15T18:23:56+08:00" />
<meta property="article:modified_time" content="2023-03-15T18:23:56+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">60行代码，制作H5版飞机大战游戏</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2 style="text-align:justify;"></h2> 
<p style="margin-left:.0001pt;text-align:justify;">用最基础的代码逻辑，实现了飞机大战的核心玩法</p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="464" src="https://images2.imgbox.com/91/cb/3EfcvFVP_o.png" width="308"><br><a href="http://docker.youyu001.com:8008/projects/LTE=/4727411/index.html?t=1678856871000" rel="nofollow" title="点击这里可以试玩欧">点击这里可以试玩欧</a></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:justify;">制作使用了PIXI框架，对于制作H5应用的运行效率优化的还算不错。</p> 
<p style="margin-left:.0001pt;text-align:justify;">感兴趣可以一起研究</p> 
<p></p> 
<h3 style="text-align:justify;"><strong>制作了如下功能</strong></h3> 
<p style="margin-left:.0001pt;text-align:justify;">1、制作了游戏的场景元素及动画效果</p> 
<p style="margin-left:.0001pt;text-align:justify;">2、飞机的控制</p> 
<p style="margin-left:.0001pt;text-align:justify;">3、发射子弹击落敌机，得分功能</p> 
<p style="margin-left:.0001pt;text-align:justify;">4、Game Over后，重新游戏</p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:justify;">功能涵盖了基本H5游戏的制作套路。</p> 
<p style="margin-left:.0001pt;text-align:justify;">可通过“复制”“粘贴”大法，进行功能的丰富</p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="197" src="https://images2.imgbox.com/16/ca/BcfxbZQ1_o.png" width="302"></p> 
<p style="margin-left:.0001pt;text-align:justify;">源码可以在线调试，也手机直接浏览</p> 
<p style="margin-left:.0001pt;text-align:justify;">源码地址：​​​​​​​​​​​​​​<a class="link-info" href="http://pro.youyu001.com" rel="nofollow" title="http://pro.youyu001.com">http://pro.youyu001.com</a></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<h3 style="text-align:justify;"><strong>代码说明</strong></h3> 
<p style="margin-left:.0001pt;text-align:justify;">以下内容可以作为H5游戏开发的帮助手册使用</p> 
<p style="margin-left:.0001pt;text-align:justify;">1）创建应用</p> 
<pre><code class="language-javascript">var app = new PIXI.Application(512,768);
document.body.appendChild(app.view);</code></pre> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:justify;">2）添加图片，设置图片位置与定位点</p> 
<pre><code class="language-javascript">var plane = new PIXI.Sprite.fromImage("res/plane_blue_01.png");
app.stage.addChild(plane); //将图片放置到舞台
plane.anchor.x = 0.5; //设置图片锚点为图片中心
plane.anchor.y = 0.5;
plane.x = 200; //设置图片的位置
plane.y = 600;</code></pre> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:justify;">3）添加文本显示</p> 
<pre><code class="language-javascript">var scoreTxt = new PIXI.Text("score 0");
app.stage.addChild(scoreTxt); //将文本添加到舞台</code></pre> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:justify;">4）添加控制功能，获取鼠标位置</p> 
<pre><code class="language-javascript">bg.interactive = true;//背景图片允许接受控制信息
bg.on("pointermove", movePlane); //滑动控制
function movePlane(event) {
    var pos = event.data.getLocalPosition(app.stage); //获取鼠标当前位置
    plane.x = pos.x;
    plane.y = pos.y;
}</code></pre> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:justify;">5）制作动画</p> 
<pre><code class="language-javascript">app.ticker.add(animate); //指定帧频函数
function animate() {
    //背景图片移动
    bg.y += 2;
    if(bg.y &gt;= 0) {
        bg.y = -768;
    }
}</code></pre> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:justify;">6）游戏的碰撞逻辑</p> 
<pre><code class="language-javascript">//根据两张图片的位置，计算距离
var pos = (bullet.x - enemy.x) * (bullet.x - enemy.x) + (bullet.y - enemy.y) * (bullet.y - enemy.y);
if(pos &lt; 40 * 40) { //小于一定距离，则判定为碰上了


}</code></pre> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<h3 style="text-align:justify;"><strong> 完整的源码</strong></h3> 
<pre><code class="language-javascript">&lt;body&gt;&lt;/body&gt;
&lt;script src="pixi.js"&gt;&lt;/script&gt;     
&lt;script&gt;
    //创建应用
    var app = new PIXI.Application(512,768);
    document.body.appendChild(app.view);
    app.view.style.height = "100%";

    //添加背景
    var bg = new PIXI.Sprite.fromImage("res/bg/img_bg_level_3.jpg");
    app.stage.addChild(bg);

    //添加子弹
    var bullet = new PIXI.Sprite.fromImage("res/bullet_01.png");
    app.stage.addChild(bullet);
    bullet.anchor.x = 0.5;   //设置飞机图片锚点为图片中心
    bullet.anchor.y = 0.5;

    //创建飞机图片
    var plane = new PIXI.Sprite.fromImage("res/plane_blue_01.png");
    app.stage.addChild(plane); //将图片放置到舞台
    plane.anchor.x = 0.5; //设置图片锚点为图片中心
    plane.anchor.y = 0.5;
    plane.x = 200; //设置图片的位置
    plane.y = 600;

    //添加敌机
    var enemy = new PIXI.Sprite.fromImage("res/enemy_01.png");
    app.stage.addChild(enemy);
    enemy.anchor.x = 0.5;   //设置飞机图片锚点为图片中心
    enemy.anchor.y = 0.5;
    enemy.x = 200;

    //创建得分显示文本
    var scoreTxt = new PIXI.Text("score 0");
    app.stage.addChild(scoreTxt); //将文本添加到舞台
    var score = 0; //得分变量，记录得分使用

    bg.interactive = true;//背景图片允许接受控制信息
    bg.on("pointermove", movePlane); //滑动控制
    function movePlane(event) {
        var pos = event.data.getLocalPosition(app.stage); //获取鼠标当前位置
        plane.x = pos.x;
        plane.y = pos.y;
    }

    var isGameOver = false; //是否游戏结束
    app.ticker.add(animate); //指定帧频函数
    function animate() {
        if(isGameOver == true) { //如果游戏结束，则不执行下面动画
            return;
        }

        //背景移动
        bg.y += 2;
        if(bg.y &gt;= 0) {
            bg.y = -768;
        }

        //子弹移动
        bullet.y -= 10;
        if(bullet.y &lt; -50) {
            bullet.x = plane.x;
            bullet.y = plane.y;
        }

        //敌机移动
        enemy.y += 5;
        if(enemy.y &gt; 800) {
            enemy.y = -100;
            enemy.x = Math.random() * 450 + 50;
        }

        //子弹与敌机碰撞
        var pos = (bullet.x - enemy.x) * (bullet.x - enemy.x) + (bullet.y - enemy.y) * (bullet.y - enemy.y);
        if(pos &lt; 40 * 40) {
            //敌机重新出现
            enemy.y = -100;
            enemy.x = Math.random() * 450 + 50;
            //重新发射子弹
            bullet.x = plane.x;
            bullet.y = plane.y;
            //得分+1
            score ++; 
            scoreTxt.text = "score " + score;
        }

        //玩家飞机与敌机碰撞
        var pos = (enemy.x - plane.x) * (enemy.x - plane.x) + (enemy.y - plane.y) * (enemy.y - plane.y);
        if(pos &lt; 40 * 40) {
            //游戏结束标记
            isGameOver = true;
            //是否重玩
            if (confirm("Game Over, restart?")==true){  
                window.location.reload();
            }
        }
    }


&lt;/script&gt;
</code></pre> 
<p></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/13761cb9d3a1406858f17b78eec32de0/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">vue&#43;springboot前后端分离交互（快速上手）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/e39b5c224543c1312ffb984ce4ab35bc/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">利用Matlab替换图片部分颜色</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>