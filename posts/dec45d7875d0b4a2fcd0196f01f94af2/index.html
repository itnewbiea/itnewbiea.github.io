<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>vue/cli4 å•å…ƒæµ‹è¯•ä¸è¦†ç›–ç‡ä½“ç³»æ­å»º - ITå­¦ä¹ è€…åšå®¢</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="vue/cli4 å•å…ƒæµ‹è¯•ä¸è¦†ç›–ç‡ä½“ç³»æ­å»º" />
<meta property="og:description" content="æ¢ç´¢ vue-cli4 åˆ›å»ºé›†æˆ mocha &#43; chai çš„é¡¹ç›®ä¸­ï¼Œå¦‚ä½•å†™å•å…ƒæµ‹è¯•å’ŒæŸ¥çœ‹å•å…ƒæµ‹è¯•è¦†ç›–ç‡ã€‚
1ã€å»ºç«‹ä¸€ä¸ªé›†æˆå•å…ƒæµ‹è¯•çš„é¡¹ç›® é¦–å…ˆåˆ›å»ºä¸€ä¸ªæ–°çš„é¡¹ç›® vue-cli4-unit-mocha-chai-nycï¼š
vue create vue-cli4-unit-mocha-chai-nyc # é€‰æ‹©æ‰‹åŠ¨é…ç½® ? Please pick a preset: zcloud (router, vuex, less, babel, eslint, unit-jest) default (babel, eslint) â¯ Manually select features # é€‰æ‹©éœ€è¦çš„åŠŸèƒ½ ? Please pick a preset: Manually select features ? Check the features needed for your project: â—‰ Babel â—¯ TypeScript â—¯ Progressive Web App (PWA) Support â—‰ Router â—‰ Vuex â—‰ CSS Pre-processors â—‰ Linter / Formatter â—‰ Unit Testing â¯â—‰ E2E Testing # ä½¿ç”¨ history æ¨¡å¼ ?" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/dec45d7875d0b4a2fcd0196f01f94af2/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-05-29T11:00:04+08:00" />
<meta property="article:modified_time" content="2020-05-29T11:00:04+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ITå­¦ä¹ è€…åšå®¢" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ITå­¦ä¹ è€…åšå®¢</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">vue/cli4 å•å…ƒæµ‹è¯•ä¸è¦†ç›–ç‡ä½“ç³»æ­å»º</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>æ¢ç´¢ vue-cli4 åˆ›å»ºé›†æˆ mocha + chai çš„é¡¹ç›®ä¸­ï¼Œå¦‚ä½•å†™å•å…ƒæµ‹è¯•å’ŒæŸ¥çœ‹å•å…ƒæµ‹è¯•è¦†ç›–ç‡ã€‚<br></p> 
<h3><a id="1_2"></a>1ã€å»ºç«‹ä¸€ä¸ªé›†æˆå•å…ƒæµ‹è¯•çš„é¡¹ç›®</h3> 
<p>é¦–å…ˆåˆ›å»ºä¸€ä¸ªæ–°çš„é¡¹ç›® vue-cli4-unit-mocha-chai-nycï¼š</p> 
<pre><code class="prism language-shell">vue create vue-cli4-unit-mocha-chai-nyc

<span class="token comment"># é€‰æ‹©æ‰‹åŠ¨é…ç½®</span>
? Please pick a preset: 
  zcloud <span class="token punctuation">(</span>router, vuex, less, babel, eslint, unit-jest<span class="token punctuation">)</span> 
  default <span class="token punctuation">(</span>babel, eslint<span class="token punctuation">)</span> 
â¯ Manually <span class="token keyword">select</span> features 

<span class="token comment"># é€‰æ‹©éœ€è¦çš„åŠŸèƒ½</span>
? Please pick a preset: Manually <span class="token keyword">select</span> features
? Check the features needed <span class="token keyword">for</span> your project: 
 â—‰ Babel
 â—¯ TypeScript
 â—¯ Progressive Web App <span class="token punctuation">(</span>PWA<span class="token punctuation">)</span> Support
 â—‰ Router
 â—‰ Vuex
 â—‰ CSS Pre-processors
 â—‰ Linter / Formatter
 â—‰ Unit Testing
â¯â—‰ E2E Testing

<span class="token comment"># ä½¿ç”¨ history æ¨¡å¼</span>
? Please pick a preset: Manually <span class="token keyword">select</span> features
? Check the features needed <span class="token keyword">for</span> your project: Babel, Router, Vuex, CSS Pre-processors, Linter, Unit, E2E
? Use <span class="token function">history</span> mode <span class="token keyword">for</span> router? <span class="token punctuation">(</span>Requires proper server setup <span class="token keyword">for</span> index fallback <span class="token keyword">in</span> production<span class="token punctuation">)</span> <span class="token punctuation">(</span>Y/n<span class="token punctuation">)</span> Y

<span class="token comment"># scss</span>
? Please pick a preset: Manually <span class="token keyword">select</span> features
? Check the features needed <span class="token keyword">for</span> your project: Babel, Router, Vuex, CSS Pre-processors, Linter, Unit, E2E
? Use <span class="token function">history</span> mode <span class="token keyword">for</span> router? <span class="token punctuation">(</span>Requires proper server setup <span class="token keyword">for</span> index fallback <span class="token keyword">in</span> production<span class="token punctuation">)</span> Yes
? Pick a CSS pre-processor <span class="token punctuation">(</span>PostCSS, Autoprefixer and CSS Modules are supported by default<span class="token punctuation">)</span>: 
  Sass/SCSS <span class="token punctuation">(</span>with dart-sass<span class="token punctuation">)</span> 
â¯ Sass/SCSS <span class="token punctuation">(</span>with node-sass<span class="token punctuation">)</span> 
  Less 
  Stylus   

<span class="token comment"># esLint</span>
? Please pick a preset: Manually <span class="token keyword">select</span> features
? Check the features needed <span class="token keyword">for</span> your project: Babel, Router, Vuex, CSS Pre-processors, Linter, Unit, E2E
? Use <span class="token function">history</span> mode <span class="token keyword">for</span> router? <span class="token punctuation">(</span>Requires proper server setup <span class="token keyword">for</span> index fallback <span class="token keyword">in</span> production<span class="token punctuation">)</span> Yes
? Pick a CSS pre-processor <span class="token punctuation">(</span>PostCSS, Autoprefixer and CSS Modules are supported by default<span class="token punctuation">)</span>: Sass/SCSS <span class="token punctuation">(</span>with node-sass<span class="token punctuation">)</span>
? Pick a linter / formatter config: 
  ESLint with error prevention only 
  ESLint + Airbnb config 
â¯ ESLint + Standard config 
  ESLint + Prettier 

<span class="token comment"># ä¿å­˜æ—¶è¿›è¡Œæ£€æµ‹</span>
? Please pick a preset: Manually <span class="token keyword">select</span> features
? Check the features needed <span class="token keyword">for</span> your project: Babel, Router, Vuex, CSS Pre-processors, Linter, Unit, E2E
? Use <span class="token function">history</span> mode <span class="token keyword">for</span> router? <span class="token punctuation">(</span>Requires proper server setup <span class="token keyword">for</span> index fallback <span class="token keyword">in</span> production<span class="token punctuation">)</span> Yes
? Pick a CSS pre-processor <span class="token punctuation">(</span>PostCSS, Autoprefixer and CSS Modules are supported by default<span class="token punctuation">)</span>: Sass/SCSS <span class="token punctuation">(</span>with node-sass<span class="token punctuation">)</span>
? Pick a linter / formatter config: Standard
? Pick additional lint features: <span class="token punctuation">(</span>Press <span class="token operator">&lt;</span>space<span class="token operator">&gt;</span> to select, <span class="token operator">&lt;</span>a<span class="token operator">&gt;</span> to toggle all, <span class="token operator">&lt;</span>i<span class="token operator">&gt;</span> to invert selection<span class="token punctuation">)</span>
â¯â—‰ Lint on save
 â—¯ Lint and fix on commit
 
 <span class="token comment"># å•å…ƒæµ‹è¯• mocha + chai</span>
 ? Please pick a preset: Manually <span class="token keyword">select</span> features
? Check the features needed <span class="token keyword">for</span> your project: Babel, Router, Vuex, CSS Pre-processors, Linter, Unit, E2E
? Use <span class="token function">history</span> mode <span class="token keyword">for</span> router? <span class="token punctuation">(</span>Requires proper server setup <span class="token keyword">for</span> index fallback <span class="token keyword">in</span> production<span class="token punctuation">)</span> Yes
? Pick a CSS pre-processor <span class="token punctuation">(</span>PostCSS, Autoprefixer and CSS Modules are supported by default<span class="token punctuation">)</span>: Sass/SCSS <span class="token punctuation">(</span>with node-sass<span class="token punctuation">)</span>
? Pick a linter / formatter config: Standard
? Pick additional lint features: <span class="token punctuation">(</span>Press <span class="token operator">&lt;</span>space<span class="token operator">&gt;</span> to select, <span class="token operator">&lt;</span>a<span class="token operator">&gt;</span> to toggle all, <span class="token operator">&lt;</span>i<span class="token operator">&gt;</span> to invert selection<span class="token punctuation">)</span>Lint on save
? Pick a unit testing solution: <span class="token punctuation">(</span>Use arrow keys<span class="token punctuation">)</span>
â¯ Mocha + Chai 
  Jest 
  
  <span class="token comment"># ç«¯åˆ°ç«¯æµ‹è¯•</span>
  ? Please pick a preset: Manually <span class="token keyword">select</span> features
? Check the features needed <span class="token keyword">for</span> your project: Babel, Router, Vuex, CSS Pre-processors, Linter, Unit, E2E
? Use <span class="token function">history</span> mode <span class="token keyword">for</span> router? <span class="token punctuation">(</span>Requires proper server setup <span class="token keyword">for</span> index fallback <span class="token keyword">in</span> production<span class="token punctuation">)</span> Yes
? Pick a CSS pre-processor <span class="token punctuation">(</span>PostCSS, Autoprefixer and CSS Modules are supported by default<span class="token punctuation">)</span>: Sass/SCSS <span class="token punctuation">(</span>with node-sass<span class="token punctuation">)</span>
? Pick a linter / formatter config: Standard
? Pick additional lint features: <span class="token punctuation">(</span>Press <span class="token operator">&lt;</span>space<span class="token operator">&gt;</span> to select, <span class="token operator">&lt;</span>a<span class="token operator">&gt;</span> to toggle all, <span class="token operator">&lt;</span>i<span class="token operator">&gt;</span> to invert selection<span class="token punctuation">)</span>Lint on save
? Pick a unit testing solution: Mocha
? Pick a E2E testing solution: <span class="token punctuation">(</span>Use arrow keys<span class="token punctuation">)</span>
â¯ Cypress <span class="token punctuation">(</span>Chrome only<span class="token punctuation">)</span> 
  Nightwatch <span class="token punctuation">(</span>WebDriver-based<span class="token punctuation">)</span> 

<span class="token comment"># å•ç‹¬çš„é…ç½®æ–‡ä»¶</span>
? Please pick a preset: Manually <span class="token keyword">select</span> features
? Check the features needed <span class="token keyword">for</span> your project: Babel, Router, Vuex, CSS Pre-processors, Linter, Unit, E2E
? Use <span class="token function">history</span> mode <span class="token keyword">for</span> router? <span class="token punctuation">(</span>Requires proper server setup <span class="token keyword">for</span> index fallback <span class="token keyword">in</span> production<span class="token punctuation">)</span> Yes
? Pick a CSS pre-processor <span class="token punctuation">(</span>PostCSS, Autoprefixer and CSS Modules are supported by default<span class="token punctuation">)</span>: Sass/SCSS <span class="token punctuation">(</span>with node-sass<span class="token punctuation">)</span>
? Pick a linter / formatter config: Standard
? Pick additional lint features: <span class="token punctuation">(</span>Press <span class="token operator">&lt;</span>space<span class="token operator">&gt;</span> to select, <span class="token operator">&lt;</span>a<span class="token operator">&gt;</span> to toggle all, <span class="token operator">&lt;</span>i<span class="token operator">&gt;</span> to invert selection<span class="token punctuation">)</span>Lint on save
? Pick a unit testing solution: Mocha
? Pick a E2E testing solution: Cypress
? Where <span class="token keyword">do</span> you prefer placing config <span class="token keyword">for</span> Babel, ESLint, etc.? 
â¯ In dedicated config files 
  In package.json 

<span class="token comment"># ä¸ä¿å­˜é…ç½®</span>
? Please pick a preset: Manually <span class="token keyword">select</span> features
? Check the features needed <span class="token keyword">for</span> your project: Babel, Router, Vuex, CSS Pre-processors, Linter, Unit, E2E
? Use <span class="token function">history</span> mode <span class="token keyword">for</span> router? <span class="token punctuation">(</span>Requires proper server setup <span class="token keyword">for</span> index fallback <span class="token keyword">in</span> production<span class="token punctuation">)</span> Yes
? Pick a CSS pre-processor <span class="token punctuation">(</span>PostCSS, Autoprefixer and CSS Modules are supported by default<span class="token punctuation">)</span>: Sass/SCSS <span class="token punctuation">(</span>with node-sass<span class="token punctuation">)</span>
? Pick a linter / formatter config: Standard
? Pick additional lint features: <span class="token punctuation">(</span>Press <span class="token operator">&lt;</span>space<span class="token operator">&gt;</span> to select, <span class="token operator">&lt;</span>a<span class="token operator">&gt;</span> to toggle all, <span class="token operator">&lt;</span>i<span class="token operator">&gt;</span> to invert selection<span class="token punctuation">)</span>Lint on save
? Pick a unit testing solution: Mocha
? Pick a E2E testing solution: Cypress
? Where <span class="token keyword">do</span> you prefer placing config <span class="token keyword">for</span> Babel, ESLint, etc.? In dedicated config files
? Save this as a preset <span class="token keyword">for</span> future projects? <span class="token punctuation">(</span>y/N<span class="token punctuation">)</span> n

<span class="token comment"># å¼€å§‹åˆ›å»ºé¡¹ç›®</span>
Vue CLI v4.1.2
âœ¨  Creating project <span class="token keyword">in</span> /Users/heyi/File/Front-End/demo/vue-unit.
ğŸ—ƒ  Initializing <span class="token function">git</span> repository<span class="token punctuation">..</span>.
âš™  Installing CLI plugins. This might take a while<span class="token punctuation">..</span>.

Â·Â·Â·

ğŸ“„  Generating README.md<span class="token punctuation">..</span>.

ğŸ‰  Successfully created project vue-cli4-unit-mocha-chai-nyc.
ğŸ‘‰  Get started with the following commands:

 $ <span class="token function">cd</span> vue-cli4-unit-mocha-chai-nyc
 $ <span class="token function">npm</span> run serve
</code></pre> 
<p><img src="https://images2.imgbox.com/bc/bb/6IxXTl0R_o.png" alt="asd"><br> åˆ›å»ºé¡¹ç›®å®Œæˆåï¼Œå¯ä»¥å‘ç° cli4 ä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªé»˜è®¤çš„å•å…ƒæµ‹è¯•ä¾‹å­ tests/unit/ example.spec.jsï¼Œå…¶å†…å®¹å¦‚ä¸‹ï¼š</p> 
<pre><code class="prism language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> expect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'chai'</span>
<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> shallowMount <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@vue/test-utils'</span>
<span class="token keyword">import</span> HelloWorld <span class="token keyword">from</span> <span class="token string">'@/components/HelloWorld.vue'</span>

<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'HelloWorld.vue'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'renders props.msg when passed'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">const</span> msg <span class="token operator">=</span> <span class="token string">'new message'</span>
    <span class="token keyword">const</span> wrapper <span class="token operator">=</span> <span class="token function">shallowMount</span><span class="token punctuation">(</span>HelloWorld<span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
      propsData<span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span> msg <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>wrapper<span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span><span class="token function">include</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre> 
<p>æ¥ä¸‹æ¥ï¼Œè¿›å…¥é¡¹ç›®å¹¶è¿è¡Œå•å…ƒæµ‹è¯•ï¼š</p> 
<pre><code class="prism language-shell"><span class="token function">cd</span> vue-cli4-unit-mocha-chai-nyc
<span class="token function">npm</span> run test:unit

<span class="token operator">&gt;</span> vue-cli4-unit-mocha-chai-nyc@0.1.0 test:unit /Users/heyi/File/Front-End/demo/_unit/vue-cli4-unit-mocha-chai-nyc
<span class="token operator">&gt;</span> vue-cli-service test:unit

 WEBPACK  Compiling<span class="token punctuation">..</span>.

  <span class="token punctuation">[</span><span class="token operator">==</span><span class="token operator">=</span>                      <span class="token punctuation">]</span> 10% <span class="token punctuation">(</span>building<span class="token punctuation">)</span>Download the Vue Devtools extension <span class="token keyword">for</span> a better development experience:
https://github.com/vuejs/vue-devtools
You are running Vue <span class="token keyword">in</span> development mode.
Make sure to turn on production mode when deploying <span class="token keyword">for</span> production.
See <span class="token function">more</span> tips at https://vuejs.org/guide/deployment.html
  <span class="token punctuation">[</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span><span class="token punctuation">]</span> 98% <span class="token punctuation">(</span>after emitting<span class="token punctuation">)</span>

 DONE  Compiled successfully <span class="token keyword">in</span> 3019ms

  <span class="token punctuation">[</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span><span class="token punctuation">]</span> 100% <span class="token punctuation">(</span>completed<span class="token punctuation">)</span>

 WEBPACK  Compiled successfully <span class="token keyword">in</span> 3019ms

 MOCHA  Testing<span class="token punctuation">..</span>.



  HelloWorld.vue
    âœ“ renders props.msg when passed


  1 passing <span class="token punctuation">(</span>26ms<span class="token punctuation">)</span>

 MOCHA  Tests completed successfully
</code></pre> 
<p><code>npm run test:unit</code> å‘½ä»¤ä¼šè‡ªåŠ¨è¯»å– tests/unit/ ç›®å½•ä¸‹çš„ *.spec.js æ–‡ä»¶ï¼Œæ¥è·‘æˆ‘ä»¬çš„å•å…ƒæµ‹è¯•ã€‚</p> 
<p>å¯ä»¥å‘ç°ï¼Œé€šè¿‡ vue-cli4 åˆ›å»ºé›†æˆçš„å•å…ƒæµ‹è¯•é¡¹ç›®ï¼Œå·²ç»å¯ä»¥è®©æˆ‘ä»¬åšåˆ°é›¶é…ç½®æ¥å†™å•å…ƒæµ‹è¯•äº†ã€‚æ¥ä¸‹æ¥å°±åŠ¨æ‰‹å†™ä¸€ä¸ªå•å…ƒæµ‹è¯•è¯•è¯•ã€‚</p> 
<p></p> 
<h3><a id="2_184"></a>2ã€åŠ¨æ‰‹å†™ç¬¬ä¸€ä¸ªå•å…ƒæµ‹è¯•</h3> 
<p><br>é¦–å…ˆæˆ‘ä»¬åœ¨ src/components/ ç›®å½•ä¸‹åˆ›å»ºæ–‡ä»¶ AppEmpty.vueï¼Œå…¶å†…å®¹å¦‚ä¸‹:<br></p> 
<pre><code class="prism language-vue">&lt;template&gt;
  &lt;div&gt;{<!-- -->{text}}&lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  name: 'AppEmpty',
  props: {
    text: {
      type: String,
      default: 'no data'
    }
  },
  data () {
    return {}
  }
}
&lt;/script&gt;

&lt;style scoped lang="scss"&gt;
&lt;/style&gt;
</code></pre> 
<p><br>æ¥ç€åœ¨ tests/unit/ ç›®å½•ä¸‹åˆ›å»º app-empty.spec.js æ–‡ä»¶ï¼Œå¹¶æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š<br></p> 
<pre><code class="prism language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> expect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'chai'</span>
<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> shallowMount <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@vue/test-utils'</span>
<span class="token keyword">import</span> AppEmpty <span class="token keyword">from</span> <span class="token string">'@/components/AppEmpty.vue'</span>

<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'AppEmpty.vue'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'no props.text when passed'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">const</span> wrapper <span class="token operator">=</span> <span class="token function">shallowMount</span><span class="token punctuation">(</span>AppEmpty<span class="token punctuation">)</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>wrapper<span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span><span class="token function">include</span><span class="token punctuation">(</span><span class="token string">'no data'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'renders props.text when passed'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">const</span> text <span class="token operator">=</span> <span class="token string">'æš‚æ— æ•°æ®'</span>
    <span class="token keyword">const</span> wrapper <span class="token operator">=</span> <span class="token function">shallowMount</span><span class="token punctuation">(</span>HelloWorld<span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
      propsData<span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span> text <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>wrapper<span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span><span class="token function">include</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> 
<p><br>æœ€åï¼Œå†æ¬¡è¿è¡Œ test:unit å‘½ä»¤ï¼š<br></p> 
<pre><code class="prism language-shell"><span class="token function">npm</span> run test:unit

<span class="token operator">&gt;</span> vue-cli4-unit-mocha-chai-nyc@0.1.0 test:unit /Users/heyi/File/Front-End/demo/_unit/vue-cli4-unit-mocha-chai-nyc
<span class="token operator">&gt;</span> vue-cli-service test:unit

 WEBPACK  Compiling<span class="token punctuation">..</span>.

  <span class="token punctuation">[</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span><span class="token punctuation">]</span> 98% <span class="token punctuation">(</span>after emitting<span class="token punctuation">)</span>

 DONE  Compiled successfully <span class="token keyword">in</span> 1935ms

  <span class="token punctuation">[</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span><span class="token punctuation">]</span> 100% <span class="token punctuation">(</span>completed<span class="token punctuation">)</span>

 WEBPACK  Compiled successfully <span class="token keyword">in</span> 1935ms

 MOCHA  Testing<span class="token punctuation">..</span>.



  AppEmpty.vue
    âœ“ no props.text when passed
    âœ“ renders props.text when passed

  HelloWorld.vue
    âœ“ renders props.msg when passed


  3 passing <span class="token punctuation">(</span>35ms<span class="token punctuation">)</span>

 MOCHA  Tests completed successfully
</code></pre> 
<p><br>å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬è‡ªå·±å†™çš„å•å…ƒæµ‹è¯•ä¹Ÿè·‘äº†èµ·æ¥ã€‚<br></p> 
<p></p> 
<h3><a id="3_273"></a>3ã€å•å…ƒæµ‹è¯•æ–‡ä»¶ä¹¦å†™ä½ç½®è°ƒæ•´</h3> 
<p><br>å¦‚æœæ‰€æœ‰çš„ *.spec.js æ–‡ä»¶éƒ½å†™åœ¨ tests/unit/ ç›®å½•ä¸‹ä¼šæ˜¾å¾—å¾ˆå‡Œä¹±ï¼Œé‚£ä¹ˆå¦‚æœæˆ‘ä»¬åœ¨ /unit ç›®å½•ä¸‹å†æ–°å»ºæ–‡ä»¶å¤¹ï¼Œä¼šè¢«è¯»å–åˆ°å—ï¼Ÿç­”æ¡ˆæ˜¯è‚¯å®šçš„ã€‚<br><br> <br>åœ¨ tests/unit/ ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª components æ–‡ä»¶å¤¹ï¼ŒæŠŠåˆšåˆšåˆ›å»ºçš„ app-empty.spec.js æ–‡ä»¶ç§»è¿›å»ã€‚å†æ¬¡è¿è¡Œ test:unit å‘½ä»¤ï¼š<br></p> 
<pre><code class="prism language-powershell">npm run test:unit

&gt; vue<span class="token operator">-</span>cli4<span class="token operator">-</span>unit<span class="token operator">-</span>mocha<span class="token operator">-</span>chai<span class="token operator">-</span>nyc@0<span class="token punctuation">.</span>1<span class="token punctuation">.</span>0 test:unit <span class="token operator">/</span>Users<span class="token operator">/</span>heyi<span class="token operator">/</span>File<span class="token operator">/</span>Front<span class="token operator">-</span><span class="token keyword">End</span><span class="token operator">/</span>demo<span class="token operator">/</span>_unit<span class="token operator">/</span>vue<span class="token operator">-</span>cli4<span class="token operator">-</span>unit<span class="token operator">-</span>mocha<span class="token operator">-</span>chai<span class="token operator">-</span>nyc
&gt; vue<span class="token operator">-</span><span class="token function">cli</span><span class="token operator">-</span>service test:unit

 WEBPACK  Compiling<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

  <span class="token punctuation">[</span>=========================<span class="token punctuation">]</span> 98<span class="token operator">%</span> <span class="token punctuation">(</span>after emitting<span class="token punctuation">)</span>

 DONE  Compiled successfully in 2035ms

  <span class="token punctuation">[</span>=========================<span class="token punctuation">]</span> 100<span class="token operator">%</span> <span class="token punctuation">(</span>completed<span class="token punctuation">)</span>

 WEBPACK  Compiled successfully in 2035ms

 MOCHA  Testing<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>



  HelloWorld<span class="token punctuation">.</span>vue
    âœ“ renders props<span class="token punctuation">.</span>msg when passed

  AppEmpty<span class="token punctuation">.</span>vue
    âœ“ no props<span class="token punctuation">.</span>text when passed
    âœ“ renders props<span class="token punctuation">.</span>text when passed


  3 passing <span class="token punctuation">(</span>57ms<span class="token punctuation">)</span>

 MOCHA  Tests completed successfully
</code></pre> 
<p><br>è¯´æ˜æˆ‘ä»¬æ˜¯å¯ä»¥è‡ªå·±å»ºç«‹æ–‡ä»¶å¤¹è¿›è¡Œæ•´ç†æˆ‘ä»¬çš„å•å…ƒæµ‹è¯•æ–‡ä»¶çš„ã€‚<br><br> <br>å¦‚æœæˆ‘ä»¬çš„é¡¹ç›®æ˜¯ä¸€ä¸ªå»ä¸­å¿ƒåŒ–çš„æ¶æ„ï¼Œæˆ‘ä»¬å¯èƒ½å¸Œæœ›æˆ‘ä»¬çš„å•å…ƒæµ‹è¯•æ–‡ä»¶ä½äºæˆ‘ä»¬çš„ç»„ä»¶æ—è¾¹ï¼Œè€Œä¸æ˜¯éƒ½å†™åœ¨ tests/unit/ ç›®å½•ä¸‹ã€‚<br><br> <br>å¦‚ä½•å®ç°å‘¢ï¼Ÿ<br><br> <br>åœ¨ tests/unit ç›®å½•ä¸‹æ–°å»º index.spec.js æ–‡ä»¶ï¼Œå…¶å†…å®¹å¦‚ä¸‹ï¼š<br></p> 
<pre><code class="prism language-javascript"><span class="token comment">// require all src files that ends with .spec.js</span>
<span class="token keyword">const</span> srcContext <span class="token operator">=</span> require<span class="token punctuation">.</span><span class="token function">context</span><span class="token punctuation">(</span><span class="token string">'../../src/'</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token regex">/\.spec.js$/</span><span class="token punctuation">)</span>
srcContext<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>srcContext<span class="token punctuation">)</span>
</code></pre> 
<p><br>å°±å¯ä»¥åœ¨ src/ ç›®å½•ä¸‹ä»»ä½•ä½ç½®å†™æˆ‘ä»¬çš„å•å…ƒæµ‹è¯•æ–‡ä»¶äº†ã€‚<br><br> <br>ä¸ºäº†éªŒè¯æ‰€è¨€éè™šï¼Œç®€å•çš„éªŒè¯ä¸€ä¸‹ã€‚å¤åˆ¶ tests/unit/components/app-empty.spec.js æ–‡ä»¶ï¼Œåœ¨ src/components/ ç›®å½•ä¸‹ç²˜è´´ï¼Œç„¶åç¨ç¨ä¿®æ”¹ä¸€ä¸‹æµ‹è¯•å¥—ä»¶çš„æ–‡æœ¬ï¼š<br></p> 
<pre><code class="prism language-javascript"><span class="token operator">-</span> <span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'AppEmpty.vue'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
<span class="token operator">+</span> <span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'src/**/*.spec.js AppEmpty.vue'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
</code></pre> 
<p><br>å†æ¬¡è¿è¡Œ test:unit å‘½ä»¤ï¼š<br></p> 
<pre><code>npm run test:unit

&gt; vue-cli4-unit-mocha-chai-nyc@0.1.0 test:unit /Users/heyi/File/Front-End/demo/_unit/vue-cli4-unit-mocha-chai-nyc
&gt; vue-cli-service test:unit

 WEBPACK  Compiling...

  [=========================] 98% (after emitting)

 DONE  Compiled successfully in 1968ms

  [=========================] 100% (completed)

 WEBPACK  Compiled successfully in 1968ms

 MOCHA  Testing...



  HelloWorld.vue
    âœ“ renders props.msg when passed

  src/**/*.spec.js AppEmpty.vue
    âœ“ no props.text when passed
    âœ“ renders props.text when passed

  AppEmpty.vue
    âœ“ no props.text when passed
    âœ“ renders props.text when passed


  5 passing (38ms)

 MOCHA  Tests completed successfully
</code></pre> 
<p><br>å—¯ï¼Œæ‰€è¨€ä¸è™šã€‚<br></p> 
<p></p> 
<h3><a id="4_mochawesome__372"></a>4ã€ä½¿ç”¨ mochawesome è¾“å‡ºç»“æœ</h3> 
<p><br>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬çš„æµ‹è¯•æŠ¥å‘Šéƒ½æ˜¯åœ¨å‘½ä»¤è¡Œå±•ç¤ºï¼Œé‚£ä¹ˆå¦‚æœæˆ‘ä»¬æƒ³è¦æŠŠç»“æœè¾“å‡ºå¹¶å±•ç¤ºåœ¨é¡µé¢ä¸Šå¦‚ä½•åšåˆ°å‘¢ï¼Ÿ<br><br> <br>é¦–å…ˆåœ¨é¡¹ç›®ä¸­å®‰è£… mochawesomeï¼š<br></p> 
<pre><code class="prism language-shell"><span class="token function">npm</span> <span class="token function">install</span> --save-dev mochawesome
</code></pre> 
<p><br>ç„¶ååœ¨ package.json ä¸­ä¿®æ”¹ test:unit å‘½ä»¤å¦‚ä¸‹ï¼š<br></p> 
<pre><code class="prism language-json"><span class="token string">"test:unit"</span><span class="token punctuation">:</span> <span class="token string">"vue-cli-service test:unit --reporter=mochawesome"</span><span class="token punctuation">,</span>
</code></pre> 
<p><br>ç„¶åå†æ¬¡æ‰§è¡Œï¼š<br></p> 
<pre><code class="prism language-powershell">npm run test:unit                      

&gt; vue<span class="token operator">-</span>cli4<span class="token operator">-</span>unit<span class="token operator">-</span>mocha<span class="token operator">-</span>chai<span class="token operator">-</span>nyc@0<span class="token punctuation">.</span>1<span class="token punctuation">.</span>0 test:unit <span class="token operator">/</span>Users<span class="token operator">/</span>heyi<span class="token operator">/</span>File<span class="token operator">/</span>Front<span class="token operator">-</span><span class="token keyword">End</span><span class="token operator">/</span>demo<span class="token operator">/</span>_unit<span class="token operator">/</span>vue<span class="token operator">-</span>cli4<span class="token operator">-</span>unit<span class="token operator">-</span>mocha<span class="token operator">-</span>chai<span class="token operator">-</span>nyc
&gt; vue<span class="token operator">-</span><span class="token function">cli</span><span class="token operator">-</span>service test:unit <span class="token operator">--</span>reporter=mochawesome

 WEBPACK  Compiling<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

  <span class="token punctuation">[</span>===                      <span class="token punctuation">]</span> 10<span class="token operator">%</span> <span class="token punctuation">(</span>building<span class="token punctuation">)</span>Download the Vue Devtools extension <span class="token keyword">for</span> a better development experience:
https:<span class="token operator">/</span><span class="token operator">/</span>github<span class="token punctuation">.</span>com<span class="token operator">/</span>vuejs<span class="token operator">/</span>vue<span class="token operator">-</span>devtools
You are running Vue in development mode<span class="token punctuation">.</span>
Make sure to turn on production mode when deploying <span class="token keyword">for</span> production<span class="token punctuation">.</span>
See more tips at https:<span class="token operator">/</span><span class="token operator">/</span>vuejs<span class="token punctuation">.</span>org<span class="token operator">/</span>guide<span class="token operator">/</span>deployment<span class="token punctuation">.</span>html
  <span class="token punctuation">[</span>=========================<span class="token punctuation">]</span> 98<span class="token operator">%</span> <span class="token punctuation">(</span>after emitting<span class="token punctuation">)</span>

 WARNING  Compiled with 1 warnings

 warning  in <span class="token punctuation">.</span><span class="token operator">/</span>src<span class="token operator">/</span>components<span class="token operator">/</span>app<span class="token operator">-</span>empty<span class="token punctuation">.</span>spec<span class="token punctuation">.</span>js

Module Error <span class="token punctuation">(</span><span class="token keyword">from</span> <span class="token punctuation">.</span><span class="token operator">/</span>node_modules<span class="token operator">/</span>eslint<span class="token operator">-</span>loader<span class="token operator">/</span>index<span class="token punctuation">.</span>js<span class="token punctuation">)</span>:

<span class="token operator">/</span>Users<span class="token operator">/</span>heyi<span class="token operator">/</span>File<span class="token operator">/</span>Front<span class="token operator">-</span><span class="token keyword">End</span><span class="token operator">/</span>demo<span class="token operator">/</span>_unit<span class="token operator">/</span>vue<span class="token operator">-</span>cli4<span class="token operator">-</span>unit<span class="token operator">-</span>mocha<span class="token operator">-</span>chai<span class="token operator">-</span>nyc<span class="token operator">/</span>src<span class="token operator">/</span>components<span class="token operator">/</span>app<span class="token operator">-</span>empty<span class="token punctuation">.</span>spec<span class="token punctuation">.</span>js
   5:1  error  <span class="token string">'describe'</span> is not defined  no<span class="token operator">-</span>undef
   6:3  error  <span class="token string">'it'</span> is not defined        no<span class="token operator">-</span>undef
  11:3  error  <span class="token string">'it'</span> is not defined        no<span class="token operator">-</span>undef

âœ– 3 problems <span class="token punctuation">(</span>3 errors<span class="token punctuation">,</span> 0 warnings<span class="token punctuation">)</span>


 @ <span class="token punctuation">.</span><span class="token operator">/</span>src sync \<span class="token punctuation">.</span>spec<span class="token punctuation">.</span>js$
 @ <span class="token punctuation">.</span><span class="token operator">/</span>tests<span class="token operator">/</span>unit<span class="token operator">/</span>index<span class="token punctuation">.</span>spec<span class="token punctuation">.</span>js
 @ <span class="token punctuation">.</span><span class="token operator">/</span>node_modules<span class="token operator">/</span>mochapack<span class="token operator">/</span>lib<span class="token operator">/</span>entry<span class="token punctuation">.</span>js

  <span class="token punctuation">[</span>=========================<span class="token punctuation">]</span> 100<span class="token operator">%</span> <span class="token punctuation">(</span>completed<span class="token punctuation">)</span>

 WEBPACK  Compiled with 1 warning<span class="token punctuation">(</span>s<span class="token punctuation">)</span>

Warning in <span class="token punctuation">.</span><span class="token operator">/</span>src<span class="token operator">/</span>components<span class="token operator">/</span>app<span class="token operator">-</span>empty<span class="token punctuation">.</span>spec<span class="token punctuation">.</span>js

  Module Error <span class="token punctuation">(</span><span class="token keyword">from</span> <span class="token punctuation">.</span><span class="token operator">/</span>node_modules<span class="token operator">/</span>eslint<span class="token operator">-</span>loader<span class="token operator">/</span>index<span class="token punctuation">.</span>js<span class="token punctuation">)</span>:
  
  <span class="token operator">/</span>Users<span class="token operator">/</span>heyi<span class="token operator">/</span>File<span class="token operator">/</span>Front<span class="token operator">-</span><span class="token keyword">End</span><span class="token operator">/</span>demo<span class="token operator">/</span>_unit<span class="token operator">/</span>vue<span class="token operator">-</span>cli4<span class="token operator">-</span>unit<span class="token operator">-</span>mocha<span class="token operator">-</span>chai<span class="token operator">-</span>nyc<span class="token operator">/</span>src<span class="token operator">/</span>components<span class="token operator">/</span>app<span class="token operator">-</span>empty<span class="token punctuation">.</span>spec<span class="token punctuation">.</span>js
     5:1  error  <span class="token string">'describe'</span> is not defined  no<span class="token operator">-</span>undef
     6:3  error  <span class="token string">'it'</span> is not defined        no<span class="token operator">-</span>undef
    11:3  error  <span class="token string">'it'</span> is not defined        no<span class="token operator">-</span>undef
  
  âœ– 3 problems <span class="token punctuation">(</span>3 errors<span class="token punctuation">,</span> 0 warnings<span class="token punctuation">)</span>
  

 MOCHA  Testing<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>



  HelloWorld<span class="token punctuation">.</span>vue
    âœ“ renders props<span class="token punctuation">.</span>msg when passed

  src/<span class="token operator">*</span>*<span class="token operator">/</span><span class="token operator">*</span><span class="token punctuation">.</span>spec<span class="token punctuation">.</span>js AppEmpty<span class="token punctuation">.</span>vue
    âœ“ no props<span class="token punctuation">.</span>text when passed
    âœ“ renders props<span class="token punctuation">.</span>text when passed

  AppEmpty<span class="token punctuation">.</span>vue
    âœ“ no props<span class="token punctuation">.</span>text when passed
    âœ“ renders props<span class="token punctuation">.</span>text when passed


  5 passing <span class="token punctuation">(</span>35ms<span class="token punctuation">)</span>

<span class="token namespace">[mochawesome]</span> Report JSON saved to <span class="token operator">/</span>Users<span class="token operator">/</span>heyi<span class="token operator">/</span>File<span class="token operator">/</span>Front<span class="token operator">-</span><span class="token keyword">End</span><span class="token operator">/</span>demo<span class="token operator">/</span>_unit<span class="token operator">/</span>vue<span class="token operator">-</span>cli4<span class="token operator">-</span>unit<span class="token operator">-</span>mocha<span class="token operator">-</span>chai<span class="token operator">-</span>nyc<span class="token operator">/</span>mochawesome<span class="token operator">-</span>report<span class="token operator">/</span>mochawesome<span class="token punctuation">.</span>json

<span class="token namespace">[mochawesome]</span> Report HTML saved to <span class="token operator">/</span>Users<span class="token operator">/</span>heyi<span class="token operator">/</span>File<span class="token operator">/</span>Front<span class="token operator">-</span><span class="token keyword">End</span><span class="token operator">/</span>demo<span class="token operator">/</span>_unit<span class="token operator">/</span>vue<span class="token operator">-</span>cli4<span class="token operator">-</span>unit<span class="token operator">-</span>mocha<span class="token operator">-</span>chai<span class="token operator">-</span>nyc<span class="token operator">/</span>mochawesome<span class="token operator">-</span>report<span class="token operator">/</span>mochawesome<span class="token punctuation">.</span>html
</code></pre> 
<p><br>éå¸¸é†’ç›®çš„è­¦å‘Šæç¤ºé¦–å…ˆè¢«å‘ç°ï¼š<br></p> 
<pre><code class="prism language-powershell"> WEBPACK  Compiled with 1 warning<span class="token punctuation">(</span>s<span class="token punctuation">)</span>

Warning in <span class="token punctuation">.</span><span class="token operator">/</span>src<span class="token operator">/</span>components<span class="token operator">/</span>app<span class="token operator">-</span>empty<span class="token punctuation">.</span>spec<span class="token punctuation">.</span>js

  Module Error <span class="token punctuation">(</span><span class="token keyword">from</span> <span class="token punctuation">.</span><span class="token operator">/</span>node_modules<span class="token operator">/</span>eslint<span class="token operator">-</span>loader<span class="token operator">/</span>index<span class="token punctuation">.</span>js<span class="token punctuation">)</span>:
  
  <span class="token operator">/</span>Users<span class="token operator">/</span>heyi<span class="token operator">/</span>File<span class="token operator">/</span>Front<span class="token operator">-</span><span class="token keyword">End</span><span class="token operator">/</span>demo<span class="token operator">/</span>_unit<span class="token operator">/</span>vue<span class="token operator">-</span>cli4<span class="token operator">-</span>unit<span class="token operator">-</span>mocha<span class="token operator">-</span>chai<span class="token operator">-</span>nyc<span class="token operator">/</span>src<span class="token operator">/</span>components<span class="token operator">/</span>app<span class="token operator">-</span>empty<span class="token punctuation">.</span>spec<span class="token punctuation">.</span>js
     5:1  error  <span class="token string">'describe'</span> is not defined  no<span class="token operator">-</span>undef
     6:3  error  <span class="token string">'it'</span> is not defined        no<span class="token operator">-</span>undef
    11:3  error  <span class="token string">'it'</span> is not defined        no<span class="token operator">-</span>undef
  
  âœ– 3 problems <span class="token punctuation">(</span>3 errors<span class="token punctuation">,</span> 0 warnings<span class="token punctuation">)</span>
</code></pre> 
<p><br>å‘Šè¯‰æˆ‘ä»¬åœ¨ ./src/components/app-empty.spec.js æ–‡ä»¶ä¸­ describeã€it æœªå®šä¹‰ï¼Œä¸ºä»€ä¹ˆä¸Šé¢æˆ‘ä»¬æ‰§è¡Œçš„æ—¶å€™éƒ½æ²¡æœ‰è¿™ä¸ªè­¦å‘Šï¼Œè¿™æ¬¡å°±æœ‰äº†å‘¢ï¼Ÿè€Œä¸”ï¼Œä¸ºä»€ä¹ˆåªæœ‰ src/ ç›®å½•ä¸‹çš„å•å…ƒæµ‹è¯•æ–‡ä»¶æŠ¥äº†ï¼Œtests/unit/ ç›®å½•ä¸‹çš„æ²¡æœ‰æŠ¥å‘¢ï¼Ÿ<br><br> <br>ç­”æ¡ˆåœ¨é¡¹ç›®çš„ .eslintrc.js é…ç½®æ–‡ä»¶é‡Œï¼š<br></p> 
<pre><code class="prism language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
  root<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  env<span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
    node<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token keyword">extends</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token string">'plugin:vue/essential'</span><span class="token punctuation">,</span>
    <span class="token string">'@vue/standard'</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  parserOptions<span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
    parser<span class="token punctuation">:</span> <span class="token string">'babel-eslint'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  rules<span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token string">'no-console'</span><span class="token punctuation">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">'production'</span> <span class="token operator">?</span> <span class="token string">'warn'</span> <span class="token punctuation">:</span> <span class="token string">'off'</span><span class="token punctuation">,</span>
    <span class="token string">'no-debugger'</span><span class="token punctuation">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">'production'</span> <span class="token operator">?</span> <span class="token string">'warn'</span> <span class="token punctuation">:</span> <span class="token string">'off'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  overrides<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{<!-- --></span>
      files<span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token string">'**/__tests__/*.{j,t}s?(x)'</span><span class="token punctuation">,</span>
        <span class="token string">'**/src/**/*.spec.{j,t}s?(x)'</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      env<span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
        mocha<span class="token punctuation">:</span> <span class="token boolean">true</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><br>åœ¨é¡¹ç›®ç”Ÿæˆçš„ eslint é…ç½®æ–‡ä»¶ä¸­ï¼Œå­˜åœ¨é’ˆå¯¹ç‰¹å®šæ–‡ä»¶çš„é…ç½®ï¼Œå…·ä½“ç†è§£ä¸ç»†è¯´ï¼Œåªéœ€è¦ç®€å•çš„åœ¨å…¶ä¸­åŠ å…¥ src/ çš„é…ç½®å³å¯ï¼š<br></p> 
<pre><code class="prism language-javascript">Â·Â·Â·

  overrides<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{<!-- --></span>
      files<span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token string">'**/__tests__/*.{j,t}s?(x)'</span><span class="token punctuation">,</span>
<span class="token operator">+</span>       <span class="token string">'**/tests/unit/**/*.spec.{j,t}s?(x)'</span><span class="token punctuation">,</span>
        <span class="token string">'**/src/**/*.spec.{j,t}s?(x)'</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      env<span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
        mocha<span class="token punctuation">:</span> <span class="token boolean">true</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
  
Â·Â·Â·
</code></pre> 
<p><br>æ¥ä¸‹æ¥æˆ‘ä»¬å†æ¬¡è¿è¡Œ test:unit å‘½ä»¤ï¼Œä¸Šé¢å‡ºç°çš„å‘Šè­¦å°†ä¸å¤å­˜åœ¨ï¼š<br></p> 
<pre><code>npm run test:unit

&gt; vue-cli4-unit-mocha-chai-nyc@0.1.0 test:unit /Users/heyi/File/Front-End/demo/_unit/vue-cli4-unit-mocha-chai-nyc
&gt; vue-cli-service test:unit --reporter=mochawesome

 WEBPACK  Compiling...

  [=========================] 98% (after emitting)

 DONE  Compiled successfully in 1212ms

  [=========================] 100% (completed)

 WEBPACK  Compiled successfully in 1212ms

 MOCHA  Testing...



  HelloWorld.vue
    âœ“ renders props.msg when passed

  src/**/*.spec.js AppEmpty.vue
    âœ“ no props.text when passed
    âœ“ renders props.text when passed

  AppEmpty.vue
    âœ“ no props.text when passed
    âœ“ renders props.text when passed


  5 passing (36ms)

[mochawesome] Report JSON saved to /Users/heyi/File/Front-End/demo/_unit/vue-cli4-unit-mocha-chai-nyc/mochawesome-report/mochawesome.json

[mochawesome] Report HTML saved to /Users/heyi/File/Front-End/demo/_unit/vue-cli4-unit-mocha-chai-nyc/mochawesome-report/mochawesome.html

 MOCHA  Tests completed successfully
</code></pre> 
<p><br>å¤„ç†äº†å‘Šè­¦é—®é¢˜ï¼Œå›åˆ°æœ€åˆçš„ç›®çš„ã€‚<br><br> <br>å‘½ä»¤æ‰§è¡Œå®Œæˆåï¼Œä¼šåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹å¢åŠ ä¸€ä¸ªåä¸º mochawesome-report çš„æ–‡ä»¶å¤¹ï¼Œé‡Œé¢å°±æ”¾ç€è¾“å‡ºçš„å•å…ƒæµ‹è¯•æŠ¥å‘Šã€‚<br><br> <br>æˆ‘ä»¬åœ¨æµè§ˆå™¨æ‰“å¼€ mochawesome.html å¯ä»¥çœ‹åˆ°å¦‚ä¸‹é¡µé¢ï¼š<br><br> <img src="https://images2.imgbox.com/d0/4a/CbKEQiOB_o.png" alt=""><br> <br>å•å…ƒæµ‹è¯•å†™äº†ï¼Œæµ‹è¯•æŠ¥å‘Šä¹Ÿæœ‰äº†ï¼Œæ¥ä¸‹æ¥å°±å·®æ‰«æé¡¹ç›®å•å…ƒæµ‹è¯•è¦†ç›–ç‡äº†ã€‚<br></p> 
<p></p> 
<h3><a id="5_nyc__583"></a>5ã€ä½¿ç”¨ nyc æ‰«ææµ‹è¯•è¦†ç›–ç‡</h3> 
<p><br>æ–‡æ¡£åœ°å€ï¼š<a href="https://istanbul.js.org/" rel="nofollow">https://istanbul.js.org/</a><br><br> <br>é¡¹ç›®åœ°å€ï¼š<a href="https://github.com/istanbuljs/nyc">https://github.com/istanbuljs/nyc</a><br><br> <br>é¦–å…ˆï¼Œåœ¨é¡¹ç›®ä¸­å®‰è£…æ‰€éœ€ä¾èµ–ï¼š<br></p> 
<pre><code class="prism language-shell"><span class="token function">npm</span> i --save-dev babel-plugin-istanbul istanbul-instrumenter-loader nyc
</code></pre> 
<p><br>æ¥ç€åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ–°å»º nyc.config.js æ–‡ä»¶ï¼Œå…¶å†…å®¹å¦‚ä¸‹ï¼š<br></p> 
<pre><code class="prism language-javascript"><span class="token comment">// æ¢ç´¢istanbul/nycä»£ç è¦†ç›–å·¥å…·çš„åŸç† https://zhuanlan.zhihu.com/p/88524418</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
  <span class="token string">'check-coverage'</span><span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token string">'per-file'</span><span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token string">'lines'</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token string">'statements'</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token string">'functions'</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token string">'branches'</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token string">'include'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token string">'src/**/*.js'</span><span class="token punctuation">,</span>
    <span class="token string">'src/**/*.vue'</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string">'exclude'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token string">'src/abandon-ui/**'</span><span class="token punctuation">,</span>
    <span class="token string">'src/*.js'</span><span class="token punctuation">,</span>
    <span class="token string">'**/*.spec.js'</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string">'reporter'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token string">'lcov'</span><span class="token punctuation">,</span>
    <span class="token string">'text'</span><span class="token punctuation">,</span>
    <span class="token string">'text-summary'</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string">'extension'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token string">'.js'</span><span class="token punctuation">,</span>
    <span class="token string">'.vue'</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string">'cache'</span><span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token string">'all'</span><span class="token punctuation">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><br>å®Œæˆåï¼Œåœ¨é¡¹ç›®æ ¹ç›®å½•æ–°å»º vue.config.js, å…¶å†…å®¹å¦‚ä¸‹ï¼š<br></p> 
<pre><code class="prism language-javascript"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> testMode <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">'test'</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
  lintOnSave<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  productionSourceMap<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>

  chainWebpack<span class="token punctuation">:</span> config <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>testMode<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      config<span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
        devtool<span class="token punctuation">:</span> <span class="token string">'eval'</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      config<span class="token punctuation">.</span>module
        <span class="token punctuation">.</span><span class="token function">rule</span><span class="token punctuation">(</span><span class="token string">'istanbul'</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token regex">/\.(js|vue)$/</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span>include
        <span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'/src'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">'istanbul-instrumenter-loader'</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">loader</span><span class="token punctuation">(</span><span class="token string">'istanbul-instrumenter-loader'</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">options</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> esModules<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">before</span><span class="token punctuation">(</span><span class="token string">'babel-loader'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><br>å®Œæˆåï¼Œæ‰“å¼€é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ babel.config.js æ–‡ä»¶ï¼Œä¿®æ”¹å¦‚ä¸‹ï¼š<br></p> 
<pre><code class="prism language-javascript"><span class="token operator">+</span> <span class="token keyword">const</span> testMode <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">'test'</span>
<span class="token operator">+</span>
  module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
<span class="token operator">-</span>   presets<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'@vue/cli-plugin-babel/preset'</span><span class="token punctuation">]</span>
<span class="token operator">+</span>   presets<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'@vue/cli-plugin-babel/preset'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token operator">+</span>   plugins<span class="token punctuation">:</span> testMode <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token string">'babel-plugin-istanbul'</span><span class="token punctuation">]</span> <span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
</code></pre> 
<p><br>æœ€åï¼Œæ‰“å¼€ package.json æ–‡ä»¶ï¼Œä¿®æ”¹ test:unit å‘½ä»¤ï¼š<br></p> 
<pre><code class="prism language-json"><span class="token operator">-</span>    <span class="token string">"test:unit"</span><span class="token punctuation">:</span> <span class="token string">"vue-cli-service test:unit --reporter=mochawesome"</span><span class="token punctuation">,</span>
<span class="token operator">+</span>    <span class="token string">"test:unit"</span><span class="token punctuation">:</span> <span class="token string">"nyc vue-cli-service test:unit --reporter=mochawesome"</span><span class="token punctuation">,</span>
</code></pre> 
<p><br>å†æ¬¡æ‰§è¡Œæ–°çš„ test:unit å‘½ä»¤ï¼š<br></p> 
<pre><code class="prism language-powershell">npm run test:unit

&gt; vue<span class="token operator">-</span>cli4<span class="token operator">-</span>unit<span class="token operator">-</span>mocha<span class="token operator">-</span>chai<span class="token operator">-</span>nyc@0<span class="token punctuation">.</span>1<span class="token punctuation">.</span>0 test:unit <span class="token operator">/</span>Users<span class="token operator">/</span>heyi<span class="token operator">/</span>File<span class="token operator">/</span>Front<span class="token operator">-</span><span class="token keyword">End</span><span class="token operator">/</span>demo<span class="token operator">/</span>_unit<span class="token operator">/</span>vue<span class="token operator">-</span>cli4<span class="token operator">-</span>unit<span class="token operator">-</span>mocha<span class="token operator">-</span>chai<span class="token operator">-</span>nyc
&gt; nyc vue<span class="token operator">-</span><span class="token function">cli</span><span class="token operator">-</span>service test:unit <span class="token operator">--</span>reporter=mochawesome

 WEBPACK  Compiling<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

  <span class="token punctuation">[</span>===                      <span class="token punctuation">]</span> 10<span class="token operator">%</span> <span class="token punctuation">(</span>building<span class="token punctuation">)</span>Download the Vue Devtools extension <span class="token keyword">for</span> a better development experience:
https:<span class="token operator">/</span><span class="token operator">/</span>github<span class="token punctuation">.</span>com<span class="token operator">/</span>vuejs<span class="token operator">/</span>vue<span class="token operator">-</span>devtools
You are running Vue in development mode<span class="token punctuation">.</span>
Make sure to turn on production mode when deploying <span class="token keyword">for</span> production<span class="token punctuation">.</span>
See more tips at https:<span class="token operator">/</span><span class="token operator">/</span>vuejs<span class="token punctuation">.</span>org<span class="token operator">/</span>guide<span class="token operator">/</span>deployment<span class="token punctuation">.</span>html
  <span class="token punctuation">[</span>=========================<span class="token punctuation">]</span> 98<span class="token operator">%</span> <span class="token punctuation">(</span>after emitting<span class="token punctuation">)</span>

 DONE  Compiled successfully in 2210ms

  <span class="token punctuation">[</span>=========================<span class="token punctuation">]</span> 100<span class="token operator">%</span> <span class="token punctuation">(</span>completed<span class="token punctuation">)</span>

 WEBPACK  Compiled successfully in 2210ms

 MOCHA  Testing<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>



  HelloWorld<span class="token punctuation">.</span>vue
    âœ“ renders props<span class="token punctuation">.</span>msg when passed <span class="token punctuation">(</span>41ms<span class="token punctuation">)</span>

  src/<span class="token operator">*</span>*<span class="token operator">/</span><span class="token operator">*</span><span class="token punctuation">.</span>spec<span class="token punctuation">.</span>js AppEmpty<span class="token punctuation">.</span>vue
    âœ“ no props<span class="token punctuation">.</span>text when passed
    âœ“ renders props<span class="token punctuation">.</span>text when passed

  AppEmpty<span class="token punctuation">.</span>vue
    âœ“ no props<span class="token punctuation">.</span>text when passed
    âœ“ renders props<span class="token punctuation">.</span>text when passed


  5 passing <span class="token punctuation">(</span>72ms<span class="token punctuation">)</span>

<span class="token namespace">[mochawesome]</span> Report JSON saved to <span class="token operator">/</span>Users<span class="token operator">/</span>heyi<span class="token operator">/</span>File<span class="token operator">/</span>Front<span class="token operator">-</span><span class="token keyword">End</span><span class="token operator">/</span>demo<span class="token operator">/</span>_unit<span class="token operator">/</span>vue<span class="token operator">-</span>cli4<span class="token operator">-</span>unit<span class="token operator">-</span>mocha<span class="token operator">-</span>chai<span class="token operator">-</span>nyc<span class="token operator">/</span>mochawesome<span class="token operator">-</span>report<span class="token operator">/</span>mochawesome<span class="token punctuation">.</span>json

<span class="token namespace">[mochawesome]</span> Report HTML saved to <span class="token operator">/</span>Users<span class="token operator">/</span>heyi<span class="token operator">/</span>File<span class="token operator">/</span>Front<span class="token operator">-</span><span class="token keyword">End</span><span class="token operator">/</span>demo<span class="token operator">/</span>_unit<span class="token operator">/</span>vue<span class="token operator">-</span>cli4<span class="token operator">-</span>unit<span class="token operator">-</span>mocha<span class="token operator">-</span>chai<span class="token operator">-</span>nyc<span class="token operator">/</span>mochawesome<span class="token operator">-</span>report<span class="token operator">/</span>mochawesome<span class="token punctuation">.</span>html

 MOCHA  Tests completed successfully

<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span><span class="token punctuation">|</span><span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span><span class="token operator">-</span><span class="token punctuation">|</span><span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">-</span><span class="token punctuation">|</span><span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span><span class="token operator">-</span><span class="token punctuation">|</span><span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span><span class="token operator">-</span><span class="token punctuation">|</span><span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">-</span>
File             <span class="token punctuation">|</span> <span class="token operator">%</span> Stmts <span class="token punctuation">|</span> <span class="token operator">%</span> Branch <span class="token punctuation">|</span> <span class="token operator">%</span> Funcs <span class="token punctuation">|</span> <span class="token operator">%</span> Lines <span class="token punctuation">|</span> Uncovered Line <span class="token comment">#s </span>
<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span><span class="token punctuation">|</span><span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span><span class="token operator">-</span><span class="token punctuation">|</span><span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">-</span><span class="token punctuation">|</span><span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span><span class="token operator">-</span><span class="token punctuation">|</span><span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span><span class="token operator">-</span><span class="token punctuation">|</span><span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">-</span>
All files        <span class="token punctuation">|</span>   16<span class="token punctuation">.</span>67 <span class="token punctuation">|</span>      100 <span class="token punctuation">|</span>      50 <span class="token punctuation">|</span>   16<span class="token punctuation">.</span>67 <span class="token punctuation">|</span>                   
 components      <span class="token punctuation">|</span>     100 <span class="token punctuation">|</span>      100 <span class="token punctuation">|</span>     100 <span class="token punctuation">|</span>     100 <span class="token punctuation">|</span>                   
  AppEmpty<span class="token punctuation">.</span>vue   <span class="token punctuation">|</span>     100 <span class="token punctuation">|</span>      100 <span class="token punctuation">|</span>     100 <span class="token punctuation">|</span>     100 <span class="token punctuation">|</span>                   
  HelloWorld<span class="token punctuation">.</span>vue <span class="token punctuation">|</span>       0 <span class="token punctuation">|</span>        0 <span class="token punctuation">|</span>       0 <span class="token punctuation">|</span>       0 <span class="token punctuation">|</span>                   
 router          <span class="token punctuation">|</span>       0 <span class="token punctuation">|</span>      100 <span class="token punctuation">|</span>       0 <span class="token punctuation">|</span>       0 <span class="token punctuation">|</span>                   
  index<span class="token punctuation">.</span>js       <span class="token punctuation">|</span>       0 <span class="token punctuation">|</span>      100 <span class="token punctuation">|</span>       0 <span class="token punctuation">|</span>       0 <span class="token punctuation">|</span> 5<span class="token operator">-</span>23              
 store           <span class="token punctuation">|</span>       0 <span class="token punctuation">|</span>      100 <span class="token punctuation">|</span>     100 <span class="token punctuation">|</span>       0 <span class="token punctuation">|</span>                   
  index<span class="token punctuation">.</span>js       <span class="token punctuation">|</span>       0 <span class="token punctuation">|</span>      100 <span class="token punctuation">|</span>     100 <span class="token punctuation">|</span>       0 <span class="token punctuation">|</span> 4                 
<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span><span class="token punctuation">|</span><span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span><span class="token operator">-</span><span class="token punctuation">|</span><span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">-</span><span class="token punctuation">|</span><span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span><span class="token operator">-</span><span class="token punctuation">|</span><span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span><span class="token operator">-</span><span class="token punctuation">|</span><span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">-</span>

=============================== Coverage summary ===============================
Statements   : 16<span class="token punctuation">.</span>67<span class="token operator">%</span> <span class="token punctuation">(</span> 1<span class="token operator">/</span>6 <span class="token punctuation">)</span>
Branches     : 100<span class="token operator">%</span> <span class="token punctuation">(</span> 0<span class="token operator">/</span>0 <span class="token punctuation">)</span>
Functions    : 50<span class="token operator">%</span> <span class="token punctuation">(</span> 1<span class="token operator">/</span>2 <span class="token punctuation">)</span>
Lines        : 16<span class="token punctuation">.</span>67<span class="token operator">%</span> <span class="token punctuation">(</span> 1<span class="token operator">/</span>6 <span class="token punctuation">)</span>
================================================================================
</code></pre> 
<p><br>æ‰§è¡ŒæˆåŠŸåä¼šå‘ç°æ ¹ç›®å½•ä¸‹é™¤äº†æ–°å¢åŠ çš„ mochawesome-report/ ç›®å½•ï¼Œè¿˜å¤šäº† coverage/ å’Œ .nyc_output/ ç›®å½•ï¼Œæˆ‘ä»¬çš„è¦†ç›–ç‡ç»“æœå°±è¾“å‡ºåœ¨ coverage/ ç›®å½•ä¸‹ã€‚<br><br> <br>åœ¨æµè§ˆå™¨æ‰“å¼€ coverage/ ç›®å½•ä¸‹çš„ index.html æ–‡ä»¶ä¼šå‡ºç°ä»¥ä¸‹é¡µé¢ï¼š<br><br> <img src="https://images2.imgbox.com/80/a7/BjVlbz6o_o.png" alt=""><br> <br>å•å‡»é¡µé¢ä¸Šçš„ components å¯ä»¥çœ‹åˆ°æ”¹ç›®å½•ä¸‹çš„è¯¦ç»† .vue æ–‡ä»¶è¦†ç›–ç‡æƒ…å†µï¼š<br><br> <img src="https://images2.imgbox.com/4a/b2/T5c0KH0x_o.png" alt=""><br> <br>å†æ¬¡å•å‡» AppEmpty.vue å¯ä»¥çœ‹åˆ°æ–‡ä»¶æ–‡ä»¶å†…çš„è¦†ç›–æƒ…å†µï¼š<br><br> <img src="https://images2.imgbox.com/16/d8/75nYkidK_o.png" alt=""><br> <br>æœ€ååˆ—å‡º package.json æ–‡ä»¶ï¼Œä»¥åšå‚è€ƒï¼š<br></p> 
<pre><code class="prism language-json"><span class="token punctuation">{<!-- --></span>
  <span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"vue-cli4-unit-mocha-chai-nyc"</span><span class="token punctuation">,</span>
  <span class="token string">"version"</span><span class="token punctuation">:</span> <span class="token string">"0.1.0"</span><span class="token punctuation">,</span>
  <span class="token string">"private"</span><span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token string">"scripts"</span><span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token string">"serve"</span><span class="token punctuation">:</span> <span class="token string">"vue-cli-service serve"</span><span class="token punctuation">,</span>
    <span class="token string">"build"</span><span class="token punctuation">:</span> <span class="token string">"vue-cli-service build"</span><span class="token punctuation">,</span>
    <span class="token string">"test:unit"</span><span class="token punctuation">:</span> <span class="token string">"nyc vue-cli-service test:unit --reporter=mochawesome"</span><span class="token punctuation">,</span>
    <span class="token string">"test:e2e"</span><span class="token punctuation">:</span> <span class="token string">"vue-cli-service test:e2e"</span><span class="token punctuation">,</span>
    <span class="token string">"lint"</span><span class="token punctuation">:</span> <span class="token string">"vue-cli-service lint"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">"dependencies"</span><span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token string">"core-js"</span><span class="token punctuation">:</span> <span class="token string">"^3.6.5"</span><span class="token punctuation">,</span>
    <span class="token string">"vue"</span><span class="token punctuation">:</span> <span class="token string">"^2.6.11"</span><span class="token punctuation">,</span>
    <span class="token string">"vue-router"</span><span class="token punctuation">:</span> <span class="token string">"^3.2.0"</span><span class="token punctuation">,</span>
    <span class="token string">"vuex"</span><span class="token punctuation">:</span> <span class="token string">"^3.4.0"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">"devDependencies"</span><span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token string">"@vue/cli-plugin-babel"</span><span class="token punctuation">:</span> <span class="token string">"^4.4.0"</span><span class="token punctuation">,</span>
    <span class="token string">"@vue/cli-plugin-e2e-cypress"</span><span class="token punctuation">:</span> <span class="token string">"^4.4.0"</span><span class="token punctuation">,</span>
    <span class="token string">"@vue/cli-plugin-eslint"</span><span class="token punctuation">:</span> <span class="token string">"^4.4.0"</span><span class="token punctuation">,</span>
    <span class="token string">"@vue/cli-plugin-router"</span><span class="token punctuation">:</span> <span class="token string">"^4.4.0"</span><span class="token punctuation">,</span>
    <span class="token string">"@vue/cli-plugin-unit-mocha"</span><span class="token punctuation">:</span> <span class="token string">"^4.4.0"</span><span class="token punctuation">,</span>
    <span class="token string">"@vue/cli-plugin-vuex"</span><span class="token punctuation">:</span> <span class="token string">"^4.4.0"</span><span class="token punctuation">,</span>
    <span class="token string">"@vue/cli-service"</span><span class="token punctuation">:</span> <span class="token string">"^4.4.0"</span><span class="token punctuation">,</span>
    <span class="token string">"@vue/eslint-config-standard"</span><span class="token punctuation">:</span> <span class="token string">"^5.1.2"</span><span class="token punctuation">,</span>
    <span class="token string">"@vue/test-utils"</span><span class="token punctuation">:</span> <span class="token string">"^1.0.3"</span><span class="token punctuation">,</span>
    <span class="token string">"babel-eslint"</span><span class="token punctuation">:</span> <span class="token string">"^10.1.0"</span><span class="token punctuation">,</span>
    <span class="token string">"babel-plugin-istanbul"</span><span class="token punctuation">:</span> <span class="token string">"^6.0.0"</span><span class="token punctuation">,</span>
    <span class="token string">"chai"</span><span class="token punctuation">:</span> <span class="token string">"^4.1.2"</span><span class="token punctuation">,</span>
    <span class="token string">"eslint"</span><span class="token punctuation">:</span> <span class="token string">"^6.7.2"</span><span class="token punctuation">,</span>
    <span class="token string">"eslint-plugin-import"</span><span class="token punctuation">:</span> <span class="token string">"^2.20.2"</span><span class="token punctuation">,</span>
    <span class="token string">"eslint-plugin-node"</span><span class="token punctuation">:</span> <span class="token string">"^11.1.0"</span><span class="token punctuation">,</span>
    <span class="token string">"eslint-plugin-promise"</span><span class="token punctuation">:</span> <span class="token string">"^4.2.1"</span><span class="token punctuation">,</span>
    <span class="token string">"eslint-plugin-standard"</span><span class="token punctuation">:</span> <span class="token string">"^4.0.0"</span><span class="token punctuation">,</span>
    <span class="token string">"eslint-plugin-vue"</span><span class="token punctuation">:</span> <span class="token string">"^6.2.2"</span><span class="token punctuation">,</span>
    <span class="token string">"istanbul-instrumenter-loader"</span><span class="token punctuation">:</span> <span class="token string">"^3.0.1"</span><span class="token punctuation">,</span>
    <span class="token string">"mochawesome"</span><span class="token punctuation">:</span> <span class="token string">"^6.1.1"</span><span class="token punctuation">,</span>
    <span class="token string">"node-sass"</span><span class="token punctuation">:</span> <span class="token string">"^4.12.0"</span><span class="token punctuation">,</span>
    <span class="token string">"nyc"</span><span class="token punctuation">:</span> <span class="token string">"^15.0.1"</span><span class="token punctuation">,</span>
    <span class="token string">"sass-loader"</span><span class="token punctuation">:</span> <span class="token string">"^8.0.2"</span><span class="token punctuation">,</span>
    <span class="token string">"vue-template-compiler"</span><span class="token punctuation">:</span> <span class="token string">"^2.6.11"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p></p> 
<h3><a id="6_karma__803"></a>6ã€ä½¿ç”¨ karma æ‰«ææµ‹è¯•è¦†ç›–ç‡</h3> 
<p><br>æ‰«ææµ‹è¯•è¦†ç›–ç‡çš„å¦ä¸€ä¸ªæ–¹æ³•æ˜¯ä½¿ç”¨ karmaã€‚<br><br> <br>å®˜ç½‘ï¼š<a href="http://karma-runner.github.io/latest/index.html" rel="nofollow">http://karma-runner.github.io/latest/index.html</a><br><br> <br>åœ¨å‰é¢çš„ 1-5 èŠ‚éƒ¨åˆ†ï¼Œæ‰€æœ‰çš„å†…å®¹éƒ½æ˜¯åœ¨ç¬¬ 1 èŠ‚å»ºç«‹çš„é¡¹ç›® vue-cli4-unit-mocha-chai-nyc ä¸­ä¾æ¬¡å®Œæˆçš„ã€‚åœ¨æœ¬èŠ‚å†…å®¹å¼€å§‹ä¹‹å‰ï¼Œéœ€è¦æŒ‰ç…§ç¬¬ 1 èŠ‚çš„å†…å®¹ï¼Œé‡æ–°åˆ›å»ºä¸€ä¸ªé¡¹ç›®ï¼švue-cli4-unit-mocha-chai-karma ã€‚<br><br> <br>é¦–å…ˆï¼Œä¾æ—§æ˜¯å®‰è£…éœ€è¦çš„ä¾èµ–ï¼š<br></p> 
<pre><code class="prism language-shell"><span class="token function">npm</span> i --save-dev karma karma-mocha mocha karma-chai \
karma-webpack karma-chrome-launcher karma-sourcemap-loader karma-spec-reporter \
karma-coverage@1.1.2 babel-plugin-istanbul@5.1.4 cross-env
</code></pre> 
<p><br>åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º karma.conf.js æ–‡ä»¶ï¼Œå…¶å†…å®¹å¦‚ä¸‹ï¼š<br></p> 
<pre><code class="prism language-javascript"><span class="token keyword">const</span> webpackConfig <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@vue/cli-service/webpack.config.js'</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>config<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  config<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
    frameworks<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'mocha'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>

    files<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token string">'tests/**/*.spec.js'</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>

    preprocessors<span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
      <span class="token string">'**/*.spec.js'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'webpack'</span><span class="token punctuation">,</span> <span class="token string">'sourcemap'</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    webpack<span class="token punctuation">:</span> webpackConfig<span class="token punctuation">,</span>

    reporters<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'spec'</span><span class="token punctuation">,</span> <span class="token string">'coverage'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    coverageReporter<span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
      dir<span class="token punctuation">:</span> <span class="token string">'./coverage'</span><span class="token punctuation">,</span>
      reporters<span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{<!-- --></span> type<span class="token punctuation">:</span> <span class="token string">'lcov'</span><span class="token punctuation">,</span> subdir<span class="token punctuation">:</span> <span class="token string">'.'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{<!-- --></span> type<span class="token punctuation">:</span> <span class="token string">'text-summary'</span> <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    autoWatch<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>

    browsers<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'ChromeHeadless'</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><br>ç„¶åï¼Œä¿®æ”¹ babel.config.js æ–‡ä»¶ï¼š<br></p> 
<pre><code class="prism language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
  presets<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token string">'@vue/cli-plugin-babel/preset'</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token operator">+</span> env<span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
<span class="token operator">+</span>   test<span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
<span class="token operator">+</span>     plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"istanbul"</span><span class="token punctuation">]</span>
<span class="token operator">+</span> 	<span class="token punctuation">}</span>
<span class="token operator">+</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><br>æ¥ç€ï¼Œä¿®æ”¹ package.json æ–‡ä»¶çš„ test:unit å‘½ä»¤ä¸ºï¼š<br></p> 
<pre><code class="prism language-json"><span class="token string">"test:unit"</span><span class="token punctuation">:</span> <span class="token string">"cross-env NODE_ENV=test karma start --single-run"</span><span class="token punctuation">,</span>
</code></pre> 
<p><br>å…³äºè¿™é‡Œä½¿ç”¨ <code>BABEL_ENV=test</code> è¿˜æ˜¯ <code>NODE_ENV=test</code>ï¼Œå»ºè®®æ˜¯ <code>NODE_ENV=test</code>ã€‚<br></p> 
<blockquote> 
 <p>Karma canâ€™t handle split chunks.</p> 
 <ul><li>In <code>@vue/cli-service</code> v3, unless you explicitly set <code>NODE_ENV</code> to <code>production</code>, <code>splitChunks</code> wonâ€™t be turned on.</li><li>In <code>@vue/cli-service</code> v4, unless you explicitly set <code>NODE_ENV</code> to <code>test</code>, <code>splitChunks</code> will be turned on by default.</li></ul> 
</blockquote> 
<p>It is a good practice to always set <code>NODE_ENV</code> to <code>test</code> during unit testing because many of the packages in Node.js ecosystem follows this convention.</p> 
<blockquote> 
 <p>Actually, with <code>NODE_ENV=test</code>, you can skip <code>BABEL_ENV=test</code> because it will default to <code>NODE_ENV</code>.</p> 
</blockquote> 
<p><br>æœ€åï¼Œæˆ‘ä»¬æ‰§è¡Œ test:unit å‘½ä»¤ï¼š<br></p> 
<pre><code class="prism language-shell"><span class="token function">npm</span> run test:unit                                    

<span class="token operator">&gt;</span> vue-cli4-unit-mocha-chai-karma@0.1.0 test:unit /Users/heyi/File/Front-End/demo/_unit/vue-cli4-unit-mocha-chai-karma
<span class="token operator">&gt;</span> cross-env NODE_ENV<span class="token operator">=</span>test karma start --single-run



 DONE  Compiled successfully <span class="token keyword">in</span> 671ms

â„¹ ï½¢wdmï½£: Hash: f44d39181b90d9235a4b
Version: webpack 4.43.0
Time: 671ms
Built at: 2020-05-29 09:55:03
                                                                                                 Asset       Size                   Chunks             Chunk Names
<span class="token punctuation">..</span>/<span class="token punctuation">..</span>/<span class="token punctuation">..</span>/<span class="token punctuation">..</span>/<span class="token punctuation">..</span>/<span class="token punctuation">..</span>/Users/heyi/File/Front-End/demo/_unit/vue-cli4-unit-mocha-chai-karma/dist/favicon.ico   4.19 KiB                           <span class="token punctuation">[</span>emitted<span class="token punctuation">]</span>  
                                                                                                app.js   1.22 MiB                      app  <span class="token punctuation">[</span>emitted<span class="token punctuation">]</span>  app
                                                                                 img/logo.82b9c7a5.png   6.69 KiB                           <span class="token punctuation">[</span>emitted<span class="token punctuation">]</span>  
                                                                                            index.html  889 bytes                           <span class="token punctuation">[</span>emitted<span class="token punctuation">]</span>  
                                                                            tests/unit/example.spec.js    3.1 MiB  tests/unit/example.spec  <span class="token punctuation">[</span>emitted<span class="token punctuation">]</span>  tests/unit/example.spec
Entrypoint app <span class="token operator">=</span> app.js
Entrypoint tests/unit/example.spec <span class="token operator">=</span> tests/unit/example.spec.js
<span class="token punctuation">[</span>0<span class="token punctuation">]</span> multi ./src/main.js 28 bytes <span class="token punctuation">{<!-- --></span>app<span class="token punctuation">}</span>
<span class="token punctuation">[</span>./node_modules/@babel/runtime/helpers/interopRequireDefault.js<span class="token punctuation">]</span> 147 bytes <span class="token punctuation">{<!-- --></span>app<span class="token punctuation">}</span> <span class="token punctuation">{<!-- --></span>tests/unit/example.spec<span class="token punctuation">}</span> <span class="token punctuation">[</span>built<span class="token punctuation">]</span>
<span class="token punctuation">[</span>./node_modules/@vue/test-utils/dist/vue-test-utils.js<span class="token punctuation">]</span> 400 KiB <span class="token punctuation">{<!-- --></span>tests/unit/example.spec<span class="token punctuation">}</span> <span class="token punctuation">[</span>built<span class="token punctuation">]</span>
<span class="token punctuation">[</span>./node_modules/chai/index.js<span class="token punctuation">]</span> 40 bytes <span class="token punctuation">{<!-- --></span>tests/unit/example.spec<span class="token punctuation">}</span> <span class="token punctuation">[</span>built<span class="token punctuation">]</span>
<span class="token punctuation">[</span>./node_modules/chai/lib/chai.js<span class="token punctuation">]</span> 1.23 KiB <span class="token punctuation">{<!-- --></span>tests/unit/example.spec<span class="token punctuation">}</span> <span class="token punctuation">[</span>built<span class="token punctuation">]</span>
<span class="token punctuation">[</span>./node_modules/vue-loader/lib/runtime/componentNormalizer.js<span class="token punctuation">]</span> 2.71 KiB <span class="token punctuation">{<!-- --></span>app<span class="token punctuation">}</span> <span class="token punctuation">{<!-- --></span>tests/unit/example.spec<span class="token punctuation">}</span> <span class="token punctuation">[</span>built<span class="token punctuation">]</span>
<span class="token punctuation">[</span>./node_modules/vue-template-compiler/index.js<span class="token punctuation">]</span> 865 bytes <span class="token punctuation">{<!-- --></span>tests/unit/example.spec<span class="token punctuation">}</span> <span class="token punctuation">[</span>built<span class="token punctuation">]</span>
<span class="token punctuation">[</span>./node_modules/vue/dist/vue.runtime.esm.js<span class="token punctuation">]</span> 222 KiB <span class="token punctuation">{<!-- --></span>app<span class="token punctuation">}</span> <span class="token punctuation">{<!-- --></span>tests/unit/example.spec<span class="token punctuation">}</span> <span class="token punctuation">[</span>built<span class="token punctuation">]</span>
<span class="token punctuation">[</span>./src/App.vue<span class="token punctuation">]</span> 566 bytes <span class="token punctuation">{<!-- --></span>app<span class="token punctuation">}</span> <span class="token punctuation">[</span>built<span class="token punctuation">]</span>
<span class="token punctuation">[</span>./src/components/HelloWorld.vue<span class="token punctuation">]</span> 599 bytes <span class="token punctuation">{<!-- --></span>app<span class="token punctuation">}</span> <span class="token punctuation">{<!-- --></span>tests/unit/example.spec<span class="token punctuation">}</span> <span class="token punctuation">[</span>built<span class="token punctuation">]</span>
<span class="token punctuation">[</span>./src/components/HelloWorld.vue?vue<span class="token operator">&amp;</span>type<span class="token operator">=</span>script<span class="token operator">&amp;</span>lang<span class="token operator">=</span>js<span class="token operator">&amp;</span><span class="token punctuation">]</span> 576 bytes <span class="token punctuation">{<!-- --></span>app<span class="token punctuation">}</span> <span class="token punctuation">{<!-- --></span>tests/unit/example.spec<span class="token punctuation">}</span>
<span class="token punctuation">[</span>./src/components/HelloWorld.vue?vue<span class="token operator">&amp;</span>type<span class="token operator">=</span>template<span class="token operator">&amp;</span>id<span class="token operator">=</span>469af010<span class="token operator">&amp;</span>scoped<span class="token operator">=</span>true<span class="token operator">&amp;</span><span class="token punctuation">]</span> 427 bytes <span class="token punctuation">{<!-- --></span>app<span class="token punctuation">}</span> <span class="token punctuation">{<!-- --></span>tests/unit/example.spec<span class="token punctuation">}</span>
<span class="token punctuation">[</span>./src/main.js<span class="token punctuation">]</span> 2.38 KiB <span class="token punctuation">{<!-- --></span>app<span class="token punctuation">}</span> <span class="token punctuation">[</span>built<span class="token punctuation">]</span>
<span class="token punctuation">[</span>./src/router/index.js<span class="token punctuation">]</span> 3.23 KiB <span class="token punctuation">{<!-- --></span>app<span class="token punctuation">}</span> <span class="token punctuation">[</span>built<span class="token punctuation">]</span>
<span class="token punctuation">[</span>./tests/unit/example.spec.js<span class="token punctuation">]</span> 3.27 KiB <span class="token punctuation">{<!-- --></span>tests/unit/example.spec<span class="token punctuation">}</span> <span class="token punctuation">[</span>built<span class="token punctuation">]</span>
    + 160 hidden modules
Child html-webpack-plugin <span class="token keyword">for</span> <span class="token string">"index.html"</span><span class="token keyword">:</span>
         Asset     Size  Chunks  Chunk Names
    index.html  534 KiB       1  
    Entrypoint undefined <span class="token operator">=</span> index.html
    <span class="token punctuation">[</span>./node_modules/html-webpack-plugin/lib/loader.js<span class="token operator">!</span>./public/index.html<span class="token punctuation">]</span> 928 bytes <span class="token punctuation">{<!-- --></span>1<span class="token punctuation">}</span> <span class="token punctuation">[</span>built<span class="token punctuation">]</span>
    <span class="token punctuation">[</span>./node_modules/lodash/lodash.js<span class="token punctuation">]</span> 528 KiB <span class="token punctuation">{<!-- --></span>1<span class="token punctuation">}</span> <span class="token punctuation">[</span>built<span class="token punctuation">]</span>
    <span class="token punctuation">[</span>./node_modules/webpack/buildin/module.js<span class="token punctuation">]</span> <span class="token punctuation">(</span>webpack<span class="token punctuation">)</span>/buildin/module.js 497 bytes <span class="token punctuation">{<!-- --></span>1<span class="token punctuation">}</span> <span class="token punctuation">[</span>built<span class="token punctuation">]</span>
â„¹ ï½¢wdmï½£: Compiled successfully.
29 05 2020 09:55:03.205:INFO <span class="token punctuation">[</span>karma-server<span class="token punctuation">]</span>: Karma v5.0.9 server started at http://0.0.0.0:9876/
29 05 2020 09:55:03.207:INFO <span class="token punctuation">[</span>launcher<span class="token punctuation">]</span>: Launching browsers ChromeHeadless with concurrency unlimited
29 05 2020 09:55:03.231:INFO <span class="token punctuation">[</span>launcher<span class="token punctuation">]</span>: Starting browser ChromeHeadless
29 05 2020 09:55:03.790:INFO <span class="token punctuation">[</span>Chrome Headless 83.0.4103.61 <span class="token punctuation">(</span>Mac OS 10.14.6<span class="token punctuation">)</span><span class="token punctuation">]</span>: Connected on socket WTpGcR9Fum14KL6rAAAA with <span class="token function">id</span> 16752070

  HelloWorld.vue
    âœ“ renders props.msg when passed

Chrome Headless 83.0.4103.61 <span class="token punctuation">(</span>Mac OS 10.14.6<span class="token punctuation">)</span>: Executed 1 of 1 SUCCESS <span class="token punctuation">(</span>0.012 secs / 0.009 secs<span class="token punctuation">)</span>
TOTAL: 1 SUCCESS


<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span> Coverage summary <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>
Statements   <span class="token keyword">:</span> 100% <span class="token punctuation">(</span> 6/6 <span class="token punctuation">)</span>
Branches     <span class="token keyword">:</span> 100% <span class="token punctuation">(</span> 0/0 <span class="token punctuation">)</span>
Functions    <span class="token keyword">:</span> 100% <span class="token punctuation">(</span> 3/3 <span class="token punctuation">)</span>
Lines        <span class="token keyword">:</span> 100% <span class="token punctuation">(</span> 6/6 <span class="token punctuation">)</span>
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span>
</code></pre> 
<p><br>æ‰§è¡ŒæˆåŠŸåä¼šåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹ç”Ÿæˆ coverage/** æ–‡ä»¶å¤¹ï¼Œæ”¾ç€è¾“å‡ºçš„æµ‹è¯•è¦†ç›–ç‡ï¼Œæˆ‘ä»¬åœ¨æµè§ˆå™¨æ‰“å¼€ coverage/lcov-report/index.html æ–‡ä»¶ï¼Œå…¶é¡µé¢å¦‚ä¸‹ï¼š<br><br> <img src="https://images2.imgbox.com/e1/2e/oFeBS0pb_o.png" alt=""><br> <br>ä¸ä½¿ç”¨ nyc è¾“å‡ºçš„é¡µé¢ä¸€æ ·ï¼Œä¹Ÿå¯ä»¥å•å‡»åˆ—è¡¨çš„ src/components/ æŸ¥çœ‹è¯¥ç›®å½•ä¸‹çš„è¯¦ç»†æ–‡ä»¶ï¼š<br><br> <img src="https://images2.imgbox.com/b6/26/Yd2dBjtz_o.png" alt=""><br> <br><br> <br>æŸ¥çœ‹ HelloWorld.vue æ–‡ä»¶è¯¦æƒ…ï¼š<br><br> <img src="https://images2.imgbox.com/5c/33/b49OAVSu_o.png" alt=""><br> <br><br> <br>ç”±äºåœ¨å†™è¿™ç¯‡è®°å½•çš„æ—¶å€™ï¼Œå‘ç°å­˜åœ¨ä¾èµ–ï¼ˆkarma-coverageã€babel-plugin-istanbulï¼‰ä¸èƒ½ç›´æ¥å®‰è£…æœ€æ–°ç‰ˆæœ¬ï¼Œä¸‹é¢åˆ—å‡ºå®Œæ•´çš„ package.json æ–‡ä»¶ï¼Œä»¥åšå‚è€ƒï¼š<br></p> 
<pre><code class="prism language-json"><span class="token punctuation">{<!-- --></span>
  <span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"vue-cli4-unit-mocha-chai-karma"</span><span class="token punctuation">,</span>
  <span class="token string">"version"</span><span class="token punctuation">:</span> <span class="token string">"0.1.0"</span><span class="token punctuation">,</span>
  <span class="token string">"private"</span><span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token string">"scripts"</span><span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token string">"serve"</span><span class="token punctuation">:</span> <span class="token string">"vue-cli-service serve"</span><span class="token punctuation">,</span>
    <span class="token string">"build"</span><span class="token punctuation">:</span> <span class="token string">"vue-cli-service build"</span><span class="token punctuation">,</span>
    <span class="token string">"test:unit"</span><span class="token punctuation">:</span> <span class="token string">"cross-env NODE_ENV=test karma start --single-run"</span><span class="token punctuation">,</span>
    <span class="token string">"test:e2e"</span><span class="token punctuation">:</span> <span class="token string">"vue-cli-service test:e2e"</span><span class="token punctuation">,</span>
    <span class="token string">"lint"</span><span class="token punctuation">:</span> <span class="token string">"vue-cli-service lint"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">"dependencies"</span><span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token string">"core-js"</span><span class="token punctuation">:</span> <span class="token string">"^3.6.5"</span><span class="token punctuation">,</span>
    <span class="token string">"vue"</span><span class="token punctuation">:</span> <span class="token string">"^2.6.11"</span><span class="token punctuation">,</span>
    <span class="token string">"vue-router"</span><span class="token punctuation">:</span> <span class="token string">"^3.2.0"</span><span class="token punctuation">,</span>
    <span class="token string">"vuex"</span><span class="token punctuation">:</span> <span class="token string">"^3.4.0"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">"devDependencies"</span><span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token string">"@vue/cli-plugin-babel"</span><span class="token punctuation">:</span> <span class="token string">"^4.4.0"</span><span class="token punctuation">,</span>
    <span class="token string">"@vue/cli-plugin-e2e-cypress"</span><span class="token punctuation">:</span> <span class="token string">"^4.4.0"</span><span class="token punctuation">,</span>
    <span class="token string">"@vue/cli-plugin-eslint"</span><span class="token punctuation">:</span> <span class="token string">"^4.4.0"</span><span class="token punctuation">,</span>
    <span class="token string">"@vue/cli-plugin-router"</span><span class="token punctuation">:</span> <span class="token string">"^4.4.0"</span><span class="token punctuation">,</span>
    <span class="token string">"@vue/cli-plugin-unit-mocha"</span><span class="token punctuation">:</span> <span class="token string">"^4.4.0"</span><span class="token punctuation">,</span>
    <span class="token string">"@vue/cli-plugin-vuex"</span><span class="token punctuation">:</span> <span class="token string">"^4.4.0"</span><span class="token punctuation">,</span>
    <span class="token string">"@vue/cli-service"</span><span class="token punctuation">:</span> <span class="token string">"^4.4.0"</span><span class="token punctuation">,</span>
    <span class="token string">"@vue/eslint-config-standard"</span><span class="token punctuation">:</span> <span class="token string">"^5.1.2"</span><span class="token punctuation">,</span>
    <span class="token string">"@vue/test-utils"</span><span class="token punctuation">:</span> <span class="token string">"^1.0.3"</span><span class="token punctuation">,</span>
    <span class="token string">"babel-eslint"</span><span class="token punctuation">:</span> <span class="token string">"^10.1.0"</span><span class="token punctuation">,</span>
    <span class="token string">"babel-plugin-istanbul"</span><span class="token punctuation">:</span> <span class="token string">"^5.1.4"</span><span class="token punctuation">,</span>
    <span class="token string">"chai"</span><span class="token punctuation">:</span> <span class="token string">"^4.1.2"</span><span class="token punctuation">,</span>
    <span class="token string">"cross-env"</span><span class="token punctuation">:</span> <span class="token string">"^7.0.2"</span><span class="token punctuation">,</span>
    <span class="token string">"eslint"</span><span class="token punctuation">:</span> <span class="token string">"^6.7.2"</span><span class="token punctuation">,</span>
    <span class="token string">"eslint-plugin-import"</span><span class="token punctuation">:</span> <span class="token string">"^2.20.2"</span><span class="token punctuation">,</span>
    <span class="token string">"eslint-plugin-node"</span><span class="token punctuation">:</span> <span class="token string">"^11.1.0"</span><span class="token punctuation">,</span>
    <span class="token string">"eslint-plugin-promise"</span><span class="token punctuation">:</span> <span class="token string">"^4.2.1"</span><span class="token punctuation">,</span>
    <span class="token string">"eslint-plugin-standard"</span><span class="token punctuation">:</span> <span class="token string">"^4.0.0"</span><span class="token punctuation">,</span>
    <span class="token string">"eslint-plugin-vue"</span><span class="token punctuation">:</span> <span class="token string">"^6.2.2"</span><span class="token punctuation">,</span>
    <span class="token string">"karma"</span><span class="token punctuation">:</span> <span class="token string">"^5.0.9"</span><span class="token punctuation">,</span>
    <span class="token string">"karma-chai"</span><span class="token punctuation">:</span> <span class="token string">"^0.1.0"</span><span class="token punctuation">,</span>
    <span class="token string">"karma-chrome-launcher"</span><span class="token punctuation">:</span> <span class="token string">"^3.1.0"</span><span class="token punctuation">,</span>
    <span class="token string">"karma-coverage"</span><span class="token punctuation">:</span> <span class="token string">"^1.1.2"</span><span class="token punctuation">,</span>
    <span class="token string">"karma-mocha"</span><span class="token punctuation">:</span> <span class="token string">"^2.0.1"</span><span class="token punctuation">,</span>
    <span class="token string">"karma-sourcemap-loader"</span><span class="token punctuation">:</span> <span class="token string">"^0.3.7"</span><span class="token punctuation">,</span>
    <span class="token string">"karma-spec-reporter"</span><span class="token punctuation">:</span> <span class="token string">"0.0.32"</span><span class="token punctuation">,</span>
    <span class="token string">"karma-webpack"</span><span class="token punctuation">:</span> <span class="token string">"^4.0.2"</span><span class="token punctuation">,</span>
    <span class="token string">"mocha"</span><span class="token punctuation">:</span> <span class="token string">"^7.2.0"</span><span class="token punctuation">,</span>
    <span class="token string">"node-sass"</span><span class="token punctuation">:</span> <span class="token string">"^4.12.0"</span><span class="token punctuation">,</span>
    <span class="token string">"sass-loader"</span><span class="token punctuation">:</span> <span class="token string">"^8.0.2"</span><span class="token punctuation">,</span>
    <span class="token string">"vue-template-compiler"</span><span class="token punctuation">:</span> <span class="token string">"^2.6.11"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><br>ä½¿ç”¨ karma å…¶å®ƒå¸¸ç”¨ä¾èµ–ï¼š<br></p> 
<pre><code>chai-spies karma-chai-spies \
sinon sinon-chai karma-sinon-chai
</code></pre>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/9df8ec04c0b12fb4eda9352a789f562a/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">ROS-è¯»å–pcdç‚¹äº‘æ•°æ®è¿›è¡Œæ»¤æ³¢å¹¶åœ¨Rvizä¸­æ˜¾ç¤º</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/731f152e75ced66da3e511e67e8971c9/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">pythonè¯»å†™kepwareæ•°æ®</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ITå­¦ä¹ è€…åšå®¢.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>