<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>QT: 样式表（stylesheet） - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="QT: 样式表（stylesheet）" />
<meta property="og:description" content="QT: Style Sheet QT 样式表的使用可以很方便定制化自己的界面风格。它的使用方法很类似于HTML中的样式表(CSS)。
样式表是一些列的格式规则组成。一条格式规则由一个选择器（selector）和一个声明组成： 其中选择器指定了对哪些控件起作用；声明语句指定了哪些属性进行了定制化。下述示例中QPushbutton是选择器， 花括号中的语句是声明，它是由一些键值对组成，各个键值对之间利用分号分割 。注意 样式表对大小写不敏感。同样地， 在一个声明语句前可以同时存在多个选择器， 各个选择器之间通过逗号风格就可以了。
QPushButton { color: red} 选择器类型 一些列举了一些常用的类型选择器。具体可以参考此处。
选择器示例说明通用选择器*匹配所有的空间类型选择器QPushButton匹配所有的QPushButton类及其子类的实例属性选择器QPushButton[flat=“false”]匹配所有QPushButton属性flat为false的实例类选择器.QPushButton匹配所有的QPushButton类的实例ID选择器QPushButton#okButton匹配所有的object name为okButton的QPushButton实例派生选择器QDialog QPushButton匹配所有的QDialog的子(/孙)控件中的QPushButton子选择器QDialog&gt;QPushButton匹配所有的QDialog子控件中的QPushButton 子控件 对于一个复杂的控件， 为了对其样式进行定制就有必要能够访问其子控件, 比如下拉框的下拉按钮等。在选择器的后面添加子控件选项， 就可以对控件中的子控件进行定制化。示例如下：
QComboBox::drop-down{ image: url(dropdown.png)} 子控件的放置位置永远是相对于一个参考控件(父控件)的， 这个父控件也可以是另外一个子控件。例如QComboBox的::drop-down 默认是放置在QComboBox的padding 矩形的右上角位置， 而::drop-down子控件的::drop-down 是默认放置在content 矩形的中心位置。这个放置位置可以通过 subcontrol-origin属性来设置。例如：
QComboBox { margin-right: 20px;} QComboBox::drop-down { subcontrol-origin: margin} 同时， 子控件的位置可以设置为相对位置 （与初始化的位置相比较）。而绝对位置的变化是相对于参考控件来进行改变。
QComboBox::down-arrow { image: url(down_arrow.png);} QComboBox::down-arrow:pressed { position: relative;top: 1px; left: 1px;} 一旦子控件的位置进行了确定，那么它就可以利用 box model 的相关属性来进行定制化。子控件的变化会引起其他所有的子控件做出相应的变化，因此定制化一个子控件意味着对所有的自控件做出了改变。更多子控件列表可以参考此处。
###伪态
选择器可以根据应用的状态包含伪装态以做出不同的变化。伪态常常出现在选择器的最后，用冒号进行分隔。甚至伪态可以非、与、或。更多伪态列表可以参考此处。
QPushButton:hover { color: white } QRadioButton:!" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/9667e89fcfab88d4645bda14aa59cfa2/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-01-08T09:13:18+08:00" />
<meta property="article:modified_time" content="2019-01-08T09:13:18+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">QT: 样式表（stylesheet）</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="QT_Style_Sheet_0"></a>QT: Style Sheet</h3> 
<p>QT 样式表的使用可以很方便定制化自己的界面风格。它的使用方法很类似于HTML中的样式表(CSS)。</p> 
<p>样式表是一些列的格式规则组成。一条格式规则由一个选择器（selector）和一个声明组成： 其中选择器指定了对哪些控件起作用；声明语句指定了哪些属性进行了定制化。下述示例中QPushbutton是选择器， 花括号中的语句是声明，它是由一些键值对组成，各个键值对之间利用分号分割 。注意 <strong>样式表对大小写不敏感</strong>。同样地， 在一个声明语句前可以同时存在多个选择器， 各个选择器之间通过逗号风格就可以了。</p> 
<pre><code class="prism language-pyqt">QPushButton { color: red}
</code></pre> 
<h4><a id="_9"></a>选择器类型</h4> 
<p>一些列举了一些常用的类型选择器。具体可以参考<a href="https://www.w3.org/TR/CSS2/selector.html#q1" rel="nofollow">此处</a>。</p> 
<table><thead><tr><th>选择器</th><th>示例</th><th>说明</th></tr></thead><tbody><tr><td>通用选择器</td><td>*</td><td>匹配所有的空间</td></tr><tr><td>类型选择器</td><td>QPushButton</td><td>匹配所有的QPushButton类及其子类的实例</td></tr><tr><td>属性选择器</td><td>QPushButton[flat=“false”]</td><td>匹配所有QPushButton属性flat为false的实例</td></tr><tr><td>类选择器</td><td>.QPushButton</td><td>匹配所有的QPushButton类的实例</td></tr><tr><td>ID选择器</td><td>QPushButton#okButton</td><td>匹配所有的object name为okButton的QPushButton实例</td></tr><tr><td>派生选择器</td><td>QDialog QPushButton</td><td>匹配所有的QDialog的子(/孙)控件中的QPushButton</td></tr><tr><td>子选择器</td><td>QDialog&gt;QPushButton</td><td>匹配所有的QDialog子控件中的QPushButton</td></tr></tbody></table> 
<h4><a id="_21"></a>子控件</h4> 
<p>对于一个复杂的控件， 为了对其样式进行定制就有必要能够访问其子控件, 比如下拉框的下拉按钮等。在选择器的后面添加子控件选项， 就可以对控件中的子控件进行定制化。示例如下：</p> 
<pre><code class="prism language-qt">QComboBox::drop-down{ image: url(dropdown.png)}
</code></pre> 
<p>子控件的放置位置永远是相对于一个参考控件(父控件)的， 这个父控件也可以是另外一个子控件。例如QComboBox的::drop-down 默认是放置在QComboBox的padding 矩形的右上角位置， 而::drop-down子控件的::drop-down 是默认放置在content 矩形的中心位置。这个放置位置可以通过 subcontrol-origin属性来设置。例如：</p> 
<pre><code class="prism language-qt">QComboBox {  margin-right: 20px;}
QComboBox::drop-down { subcontrol-origin: margin}
</code></pre> 
<p>同时， 子控件的位置可以设置为相对位置 （与初始化的位置相比较）。而绝对位置的变化是相对于参考控件来进行改变。</p> 
<pre><code class="prism language-qt">QComboBox::down-arrow { image: url(down_arrow.png);}
QComboBox::down-arrow:pressed { position: relative;top: 1px; left: 1px;}
</code></pre> 
<p>一旦子控件的位置进行了确定，那么它就可以利用 <a href="http://doc.qt.io/qt-5/stylesheet-customizing.html#the-box-model" rel="nofollow">box model</a> 的相关属性来进行定制化。子控件的变化会引起其他所有的子控件做出相应的变化，因此定制化一个子控件意味着对所有的自控件做出了改变。更多子<a href="http://doc.qt.io/qt-5/stylesheet-reference.html#list-of-sub-controls" rel="nofollow">控件列表</a>可以参考此处。</p> 
<p>###伪态<br> 选择器可以根据应用的状态包含伪装态以做出不同的变化。伪态常常出现在选择器的最后，用冒号进行分隔。甚至伪态可以<strong>非、与、或</strong>。更多<a href="http://doc.qt.io/qt-5/stylesheet-reference.html#list-of-pseudo-states" rel="nofollow">伪态列表</a>可以参考此处。</p> 
<pre><code class="prism language-qt">QPushButton:hover { color: white }
QRadioButton:!hover { color: red }
QCheckBox:hover:checked { color: white }
QPushButton:hover:!pressed { color: blue; }
QCheckBox:hover, QCheckBox:checked { color: white }
QComboBox::drop-down:hover { image: url(dropdown_bright.png) }
</code></pre> 
<h4><a id="_50"></a>冲突解决方案</h4> 
<p>依据指定的规则对某个属性进行配置时，多个命令对同一属性进行了赋值就会导致冲突发生。Qt样式表对这种冲突的解决方案是选择执行更为"特殊"的规则， 也就是说选择定义更为详细的规则进行。</p> 
<pre><code class="prism language-qt">QPushButton#okButton { color: gray }
QPushButton { color: red }
</code></pre> 
<p>当存在两个同等"层次"的规则时，后置的规则会覆盖掉前一个规则。这种冲突可以通过"与"操作来获得我们想要的结果。</p> 
<pre><code class="prism language-qt">QPushButton:hover { color: white }
QPushButton:enabled { color: red }
</code></pre> 
<p>当类型选择器之间存在继承关系时，并不会选择子类的设定，因为所有的类型选择器是‘同级’的。具体的"特异性"可以参照<a href="https://www.w3.org/TR/CSS2/cascade.html#specificity" rel="nofollow">CSS2</a></p> 
<pre><code class="prism language-qt">QPushButton { color: red }
QAbstractButton { color: gray }
</code></pre> 
<h4><a id="_67"></a>级联</h4> 
<p>样式表可以直接设置在应用、父控件、子控件上。一个空间的属性继承与父控件并于自生的样式进行合并。当发生冲突时， 会以自身的设定为基准，这一点与样式表中的冲突规则时不相同的。</p> 
<h4><a id="_70"></a>继承</h4> 
<p>在经典的CSS中，字体和颜色通常会自动的继承与父类。默认地，在QT样式表中，一个控件并不会自动的从父控件中继承字体和颜色设置。但是通过Qt中的函数 QWidget.setFont()或者QWidget.setPalette函数设定的字体和颜色值会自动传播至其子控件。</p> 
<p>Reference<br> <a href="http://doc.qt.io/qt-5/stylesheet-syntax.html" rel="nofollow">[1] The Style Sheet Syntax</a></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/2abfc53b6c6c2b5429f082b2187c8fb6/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">keil 5 : Error: L6218E: Undefined symbol 问题解决方法小记</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/d4df0e1ff2fa71d69de3152973e980c2/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Docker系列05—Docker 存储卷详解</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>