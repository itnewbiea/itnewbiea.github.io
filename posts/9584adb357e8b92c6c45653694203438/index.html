<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>基于51单片机的8路抢答器proteus仿真 汇编语言程序设计 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="基于51单片机的8路抢答器proteus仿真 汇编语言程序设计" />
<meta property="og:description" content="硬件设计 上一篇讲了基于C语言的抢答器，下边讲一下基于汇编语言的抢答器。
仿真图：
程序设计 OK EQU 20H ;抢答开始标志位 RING EQU 22H ;响铃标志位 DATA0 EQU 36H ;抢答按键口数据存放地址 ORG 0000H AJMP MAIN ORG 0003H AJMP INTT0 ORG 000BH AJMP T0INT ORG 001BH AJMP T1INT ORG 0040H MAIN: MOV R1,#14H ;初设抢答时间为20s MOV R2,#1EH ;初设答题时间为30s MOV 38H,#3CH ;启用锦囊时间从60s倒计时 MOV TMOD,#11H ;设置未定时器/模式1 MOV TH0,#0F0H MOV TL0,#0FFH ;越高发声频率越高,越尖 MOV TH1,#3CH MOV TL1,#0B0H ;50ms为一次溢出中断 SETB EA SETB ET0 SETB ET1 ;允许二个中断,T0/T1 CLR OK CLR RING SETB TR1 SETB TR0 ;一开始就运行定时器,以开始显示FFF." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/9584adb357e8b92c6c45653694203438/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-09-30T15:00:44+08:00" />
<meta property="article:modified_time" content="2023-09-30T15:00:44+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">基于51单片机的8路抢答器proteus仿真 汇编语言程序设计</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="_0"></a>硬件设计</h3> 
<p>上一篇讲了基于C语言的抢答器，下边讲一下基于汇编语言的抢答器。</p> 
<p><strong>仿真图：</strong><br> <img src="https://images2.imgbox.com/d1/25/Cc1bR5mH_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_7"></a>程序设计</h3> 
<pre><code>OK EQU 20H                       ;抢答开始标志位
        RING EQU 22H                     ;响铃标志位 
	DATA0 EQU 36H                    ;抢答按键口数据存放地址 
	ORG 0000H
        AJMP MAIN
        ORG 0003H  
        AJMP INTT0
        ORG 000BH
        AJMP T0INT
        ORG 001BH
        AJMP T1INT
        ORG 0040H
MAIN:   MOV R1,#14H                       ;初设抢答时间为20s
        MOV R2,#1EH                     ;初设答题时间为30s
        MOV 38H,#3CH                      ;启用锦囊时间从60s倒计时
        MOV TMOD,#11H                    ;设置未定时器/模式1
        MOV TH0,#0F0H
        MOV TL0,#0FFH                    ;越高发声频率越高,越尖
        MOV TH1,#3CH
        MOV TL1,#0B0H                    ;50ms为一次溢出中断
        SETB EA
        SETB ET0
        SETB ET1                         ;允许二个中断,T0/T1
        CLR OK
        CLR RING
         SETB TR1
         SETB TR0                        ;一开始就运行定时器,以开始显示FFF.如果想重新计数,重置TH1/TL1就可以了
START:   MOV DATA0,#0FFH                 ;初始化 
         MOV R5,#0BH
         MOV R4,#0BH
         MOV R3,#0BH
         ACALL DISPLAY                   ;未开始抢答时候显示FFF 
	 JNB P3.3,SELSUB0
	 JNB P3.4,TZ3                    ;倒计时调整 
	 JB P3.0,NEXT
         ACALL DELAY
         JB P3.0,NEXT                    ;去抖动,如果"开始键"按下就向下执行,否者跳到非法抢答查询
         SETB EX0                        ;开放INT0 
	 ACALL BARK                      ;按键发声
         MOV A,R1
         MOV R6,A                    ;送R1-&gt;R6,因为R1中保存了抢答时间
         SETB OK                         ;抢答标志位,在使用锦囊时用作判断是抢答倒计时还是回答倒计时
         MOV R3,#0AH                     ;抢答只显示计时,灭号数
         AJMP COUNT                      ;进入倒计时程序,"查询有效抢答的程序"在COUNT里面
NEXT:    JNB P1.0,FALSE1
         JNB P1.1,FALSE2
         JNB P1.2,FALSE3
         JNB P1.3,FALSE4
         JNB P1.4,FALSE5
         JNB P1.5,FALSE6
         JNB P1.6,TZ1
         JNB P1.7,TZ2
         AJMP START 
TZ1:     AJMP FALSE7
TZ2:     AJMP FALSE8
TZ3:     AJMP SELSUB1
FALSE1: MOV R3,#01H
        AJMP ERROR
FALSE2: MOV R3,#02H		
        AJMP ERROR
FALSE3: MOV R3,#03H
        AJMP ERROR
FALSE4: MOV R3,#04H
        AJMP ERROR
FALSE5: MOV R3,#05H
        AJMP ERROR
FALSE6: MOV R3,#06H
        AJMP ERROR
FALSE7: MOV R3,#07H
        AJMP ERROR
FALSE8: MOV R3,#08H
        AJMP ERROR
SELSUB0: MOV A,R1
         MOV B,#0AH
         DIV AB
         MOV R5,A
         MOV R4,B
         MOV R3,#0AH
         ACALL DISPLAY                   ;先在两个时间LED上显示R1
         JNB P3.5,INC0                   ;P3.5为+1s键,如按下跳到INCO
         JNB P3.6,DEC0                   ;P3.6为-1s键,如按下跳到DECO
         JNB P3.1,BACK0                  ;P3.1为确定键,如按下跳到BACKO
         AJMP SELSUB0
INC0:   MOV A,R1
        CJNE A,#63H,ADD0                 ;如果不是99,R2加1,如果加到99,R1就置0，重新加起。
        MOV R1,#00H
        ACALL DELAY1
        AJMP SELSUB0
</code></pre> 
<p>链接：<a href="https://pan.baidu.com/s/1lK0JrtbPiB_jdukIuVxI_g" rel="nofollow">https://pan.baidu.com/s/1lK0JrtbPiB_jdukIuVxI_g</a></p> 
<p>提取码：uv90</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/b3ae71a3604d27e8ec91b96ccf2ad6b0/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">解决“该虚拟机似乎正在使用中”问题</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/3243c215a1da7510e8603ff6017777c9/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Ubuntu20.04 制作系统ISO镜像并物理机还原</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>