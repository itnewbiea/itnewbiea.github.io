<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>oracle 数据库如何建立索引 如何用索引? - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="oracle 数据库如何建立索引 如何用索引?" />
<meta property="og:description" content="我现在有一个SQL语句 SELECT FAQID,
FAQNAME,
TYPE,
CREATOR,
TOQUESTION,
SUPERCODE
FROM T_KBS_FAQ t
where TYPE = &#39;1&#39; &lt;[AND FAQID = :faqId]&gt;
&lt;[AND FAQNAME like &#39;%&#39; ||:faqName || &#39;%&#39;]&gt;
&lt;[AND CREATOR = :creator]&gt;
&lt;[AND SUPERCODE=:superCode]&gt;
&lt;[AND TOQUESTION=:toQuestion]&gt;
&lt;%:toKngType%&gt;
现在数据过大 导致查询很慢，如何优化? 要建立几个字段建立索引怎么样建立， 建立好了如何使用 SQL语句又该怎写?
-------------------------------------------------------------------------------------------------------------------------------------------------
nameidrowid rowidid王一 1x001 x001 1王二 2x002 x002 2王三 3x003 x003 3表 索引select * from 表 where id = 3
索引是由where条件触发的 ，此查询语句中指定id=3，因为有索引直接从索引段中找到id=3对应的rowid,然后就可以快速用rowid快速找到表中的记录，如果没有索引，就是一行一行的查找id=3的记录 下面写几种常见索引的创建吧： (1) create index 索引名 on 表(字段名); //创建B树索引，一般用的OLTP中" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/2386e6e6ca48479cb3b20cb819499a76/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-06-11T14:32:51+08:00" />
<meta property="article:modified_time" content="2020-06-11T14:32:51+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">oracle 数据库如何建立索引 如何用索引?</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>我现在有一个SQL语句 <br> SELECT FAQID,<br> FAQNAME,<br> TYPE,<br> CREATOR,<br> TOQUESTION,<br> SUPERCODE<br> FROM T_KBS_FAQ t<br> where TYPE = '1' <br> &lt;[AND FAQID = :faqId]&gt;<br> &lt;[AND FAQNAME like '%' ||:faqName || '%']&gt;<br> &lt;[AND CREATOR = :creator]&gt;<br> &lt;[AND SUPERCODE=:superCode]&gt;<br> &lt;[AND TOQUESTION=:toQuestion]&gt;<br> &lt;%:toKngType%&gt;<br> 现在数据过大 导致查询很慢，如何优化? 要建立几个字段建立索引怎么样建立， 建立好了如何使用 SQL语句又该怎写?</p> 
<p>-------------------------------------------------------------------------------------------------------------------------------------------------</p> 
<table border="1" cellpadding="1" cellspacing="1" style="width:500px;"><tbody><tr><td style="border-color:#000000;vertical-align:middle;width:54pt;"><strong><span style="color:#000000;">name</span></strong></td><td style="border-color:#000000;text-align:right;vertical-align:middle;width:54pt;"><strong><span style="color:#000000;">id</span></strong></td><td style="border-color:#000000;text-align:right;vertical-align:middle;width:44px;"><span style="color:#000000;">rowid</span></td><td style="width:104px;"> </td><td style="width:94px;"> </td><td style="border-color:#000000;text-align:right;vertical-align:middle;width:36px;"><span style="color:#000000;">rowid</span></td><td style="border-color:#000000;text-align:right;vertical-align:middle;width:87px;"><strong><span style="color:#000000;">id</span></strong></td></tr><tr><td style="border-color:#000000;vertical-align:middle;"><strong><span style="color:#000000;">王一</span></strong></td><td style="border-color:#000000;vertical-align:middle;"><strong><span style="color:#000000;">           1</span></strong></td><td style="border-color:#000000;text-align:right;vertical-align:middle;width:44px;"><span style="color:#000000;">x001</span></td><td style="width:104px;"> </td><td style="width:94px;"> </td><td style="border-color:#000000;text-align:right;vertical-align:middle;width:36px;"><span style="color:#000000;">x001</span></td><td style="border-color:#000000;vertical-align:middle;width:87px;"><strong><span style="color:#000000;">               1</span></strong></td></tr><tr><td style="border-color:#000000;vertical-align:middle;"><strong><span style="color:#000000;">王二</span></strong></td><td style="border-color:#000000;vertical-align:middle;"><strong><span style="color:#000000;">           2</span></strong></td><td style="border-color:#000000;text-align:right;vertical-align:middle;width:44px;"><span style="color:#000000;">x002</span></td><td style="width:104px;"> </td><td style="width:94px;"> </td><td style="border-color:#000000;text-align:right;vertical-align:middle;width:36px;"><span style="color:#000000;">x002</span></td><td style="border-color:#000000;vertical-align:middle;width:87px;"><strong><span style="color:#000000;">               2</span></strong></td></tr><tr><td style="border-color:#000000;vertical-align:middle;"><strong><span style="color:#000000;">王三</span></strong></td><td style="border-color:#000000;vertical-align:middle;"><strong><span style="color:#000000;">           3</span></strong></td><td style="border-color:#000000;text-align:right;vertical-align:middle;width:44px;"><span style="color:#000000;">x003</span></td><td style="width:104px;"> </td><td style="width:94px;"> </td><td style="border-color:#000000;text-align:right;vertical-align:middle;width:36px;"><span style="color:#000000;">x003</span></td><td style="border-color:#000000;vertical-align:middle;width:87px;"><strong><span style="color:#000000;">               3</span></strong></td></tr><tr><td colspan="2" rowspan="1"><strong>表</strong></td><td style="width:44px;"> </td><td style="width:104px;"> </td><td style="width:94px;"> </td><td style="width:36px;"> </td><td style="width:87px;"><strong>索引</strong></td></tr><tr><td colspan="7"><strong>select * from 表 where id = 3</strong><br> 索引是由where条件触发的 ，此查询语句中指定id=3，因为有索引直接从索引段中找到id=3对应的rowid,然后就可以快速用rowid快速找到表中的记录，如果没有索引，就是一行一行的查找id=3的记录</td></tr></tbody></table> 
<h4><strong>下面写几种常见索引的创建吧：</strong></h4> 
<p>(1) create index 索引名 on 表(字段名);     //创建B树索引，一般用的OLTP中</p> 
<p>(2) create bitmap index 索引名 on 表(字段名);   //创建位图索引，一般用的OLAP中</p> 
<p>(3) create index 索引名 on 表名 (substr(字段,1,10))  </p> 
<p>//创建函数索引，有些时候呢，咱们的搜索条件要加上函数，这种情况呢，普通索引就不能解发了，就要创建函数索引</p> 
<p>(4) create index 索引名 on 表名 (字段1,字段2......字段n);</p> 
<p>//复合索引,当条件中，经常去查询多个条件时，可以把多个条件放在一个索引中</p> 
<p>(5)  create index 索引名 on 表(字段 desc);   //排序后创建索引</p> 
<p>(6) create index 索引名 on 表名 (字段) reverse; //反转索引，消除热点块</p> 
<p>(7) create index 索引名 on 表名(字段) local;   //创建分区本地索引</p> 
<p>(8) create index 索引名 on 表名 (字段) global;   //创建分区全局索引</p> 
<h4><strong>扩展资料：</strong></h4> 
<p><br> 1、如果有两个或者以上的索引，其中有一个唯一性索引，而其他是非唯一，这种情况下oracle将使用唯一性索引而完全忽略非唯一性索引<br> 2、至少要包含组合索引的第一列（即<span style="color:#f33b45;">如果索引建立在多个列上，只有它的第一个列被where子句引用时，优化器才会使用该索引</span>）<br> 3、小表不要简历索引<br> 4、对于基数大的列适合建立B树索引，对于基数小的列适合简历位图索引<br> 5、列中有很多空值，但经常查询该列上非空记录时应该建立索引<br> 6、经常进行连接查询的列应该创建索引<br> 7、使用create index时要将最常查询的列放在最前面<br> 8、LONG（可变长字符串数据，最长2G）和LONG RAW（可变长二进制数据，最长2G）列不能创建索引<br> 9、限制表中索引的数量（创建索引耗费时间，并且随数据量的增大而增大；索引会占用物理空间；当对表中的数据进行增加、删除和修改的时候，索引也要动态的维护，降低了数据的维护速度）</p> 
<h4><br><strong>附加维护索引基本操作手段：</strong></h4> 
<p><br><strong>查看指定表上现有索引详情</strong><br> select t.INDEX_NAME,t.COLUMN_NAME,i.index_type  from user_ind_columns t,user_indexes i where t.index_name = i.index_name and  t.table_name='表名';</p> 
<p><br><strong>查看索引及列</strong></p> 
<p>select t.index_name,t.status from user_indexes t where t.INDEX_NAME in ();</p> 
<p><strong>查看指定分区表的所有索引</strong></p> 
<p><br> select t.INDEX_NAME,t.COLUMN_NAME,i.index_type from </p> 
<p>user_ind_columns t,user_indexes i where t.index_name = i.index_name and  </p> 
<p>t.table_name='表名';<br><strong>查询分区索引状态</strong></p> 
<p>select PARTITION_NAME,STATUS from DBA_IND_PARTITIONS where INDEX_NAME='';</p> 
<p>valid:当前索引有效</p> 
<p>N/A :分区索引 有效</p> 
<p>unusable:索引失效</p> 
<p><strong>重新建立索引</strong></p> 
<p>ALTER INDEX 用户.索引 REBUILD;</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/57f3ba5f99b7790ea9cda9ecdca9a879/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">机器学习sk-learn鸢尾花分类模型训练</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/53e4d5d7462c0daccfac0b13b2c81121/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Elasticsearch索引(写入)速度优化</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>