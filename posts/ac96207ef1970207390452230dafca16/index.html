<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>快速学会绘制Pyqt5中的所有图（下） - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="快速学会绘制Pyqt5中的所有图（下）" />
<meta property="og:description" content="Pyqt5相关文章:
快速掌握Pyqt5的三种主窗口
快速掌握Pyqt5的2种弹簧
快速掌握Pyqt5的5种布局
快速弄懂Pyqt5的5种项目视图（Item View）
快速弄懂Pyqt5的4种项目部件（Item Widget）
快速掌握Pyqt5的6种按钮
快速掌握Pyqt5的10种容器（Containers）
快速掌握Pyqt5的20种输入控件（Input Widgets）
快速掌握Pyqt5的9种显示控件
详细学习Pyqt5中的5种布局方式
详细学习Pyqt5中的6种按钮
详细学习Pyqt5中的2种弹簧
详细学习Pyqt5的5种项目视图（Item View）
详细学习Pyqt5的4种项目部件（Item Widget）
详细学习Pyqt5的20种输入控件（Input Widgets）
详细学习Pyqt5的9种显示控件
详细学习Pyqt5的10种容器（Containers）
详细学习PyQt5与数据库交互
详细学习PyQt5中的多线程
快速学习PyQt5的动画和图形效果
快速学习PyQt5的高级自定义控件
快速学会绘制Pyqt5中的所有图（上）
快速学会绘制Pyqt5中的所有图（下）
通过“待办事项列表项目”快速学习Pyqt5的一些特性
待续。。。
雷达图 PyQtGraph 并不直接支持雷达图（也称为蜘蛛网图或极坐标图），但您可以使用 PyQt 的绘图能力手动创建一个。要在 PyQt 中绘制雷达图，您需要使用 QPainter 类来在 QWidget 或类似对象上进行自定义绘图。
以下是一个使用 PyQt5 创建简单雷达图的示例：
编写代码绘制雷达图:
import sys import math from PyQt5.QtWidgets import QApplication, QWidget from PyQt5.QtGui import QPainter, QPolygon, QPen from PyQt5.QtCore import Qt, QPoint class RadarWidget(QWidget): def __init__(self, data): super()." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/ac96207ef1970207390452230dafca16/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-12-16T23:07:41+08:00" />
<meta property="article:modified_time" content="2023-12-16T23:07:41+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">快速学会绘制Pyqt5中的所有图（下）</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><a href="https://blog.csdn.net/weixin_49520696/category_12485448.html"><strong>Pyqt5相关文章:</strong></a><br> <a href="https://blog.csdn.net/weixin_49520696/article/details/134588834?spm=1001.2014.3001.5501">快速掌握Pyqt5的三种主窗口</a><br> <a href="https://blog.csdn.net/weixin_49520696/article/details/134618145">快速掌握Pyqt5的2种弹簧</a><br> <a href="https://blog.csdn.net/weixin_49520696/article/details/134618080">快速掌握Pyqt5的5种布局</a><br> <a href="https://blog.csdn.net/weixin_49520696/article/details/134626083?spm=1001.2014.3001.5501">快速弄懂Pyqt5的5种项目视图（Item View）</a><br> <a href="https://blog.csdn.net/weixin_49520696/article/details/134626083?spm=1001.2014.3001.5501">快速弄懂Pyqt5的4种项目部件（Item Widget）</a><br> <a href="https://blog.csdn.net/weixin_49520696/article/details/134588816?spm=1001.2014.3001.5501">快速掌握Pyqt5的6种按钮</a><br> <a href="https://blog.csdn.net/weixin_49520696/article/details/134642535?spm=1001.2014.3001.5501">快速掌握Pyqt5的10种容器（Containers）</a><br> <a href="https://blog.csdn.net/weixin_49520696/article/details/134642702?spm=1001.2014.3001.5501">快速掌握Pyqt5的20种输入控件（Input Widgets）</a><br> <a href="https://blog.csdn.net/weixin_49520696/article/details/134664286?spm=1001.2014.3001.5501">快速掌握Pyqt5的9种显示控件</a><br> <a href="https://blog.csdn.net/weixin_49520696/article/details/134665185">详细学习Pyqt5中的5种布局方式</a><br> <a href="https://blog.csdn.net/weixin_49520696/article/details/134701542?spm=1001.2014.3001.5502">详细学习Pyqt5中的6种按钮</a><br> <a href="https://blog.csdn.net/weixin_49520696/article/details/134701652?spm=1001.2014.3001.5502">详细学习Pyqt5中的2种弹簧</a><br> <a href="https://blog.csdn.net/weixin_49520696/article/details/134709486?spm=1001.2014.3001.5501">详细学习Pyqt5的5种项目视图（Item View）</a><br> <a href="https://blog.csdn.net/weixin_49520696/article/details/134709507?spm=1001.2014.3001.5502">详细学习Pyqt5的4种项目部件（Item Widget）</a><br> <a href="https://blog.csdn.net/weixin_49520696/article/details/134757034?spm=1001.2014.3001.5501">详细学习Pyqt5的20种输入控件（Input Widgets）</a><br> <a href="https://blog.csdn.net/weixin_49520696/article/details/134772447?spm=1001.2014.3001.5501">详细学习Pyqt5的9种显示控件</a><br> <a href="https://blog.csdn.net/weixin_49520696/article/details/134772485?spm=1001.2014.3001.5502">详细学习Pyqt5的10种容器（Containers）</a><br> <a href="https://blog.csdn.net/weixin_49520696/article/details/134745797?spm=1001.2014.3001.5502">详细学习PyQt5与数据库交互</a><br> <a href="https://blog.csdn.net/weixin_49520696/article/details/134757087?spm=1001.2014.3001.5501">详细学习PyQt5中的多线程</a><br> <a href="https://blog.csdn.net/weixin_49520696/article/details/134796686?spm=1001.2014.3001.5501">快速学习PyQt5的动画和图形效果</a><br> <a href="https://blog.csdn.net/weixin_49520696/article/details/134796731?spm=1001.2014.3001.5501">快速学习PyQt5的高级自定义控件</a><br> <a href="https://blog.csdn.net/weixin_49520696/article/details/134887162?spm=1001.2014.3001.5501">快速学会绘制Pyqt5中的所有图（上）</a><br> <a href="https://blog.csdn.net/weixin_49520696/article/details/134889482?spm=1001.2014.3001.5501">快速学会绘制Pyqt5中的所有图（下）</a><br> <a href="https://blog.csdn.net/weixin_49520696/article/details/135038812?spm=1001.2014.3001.5501">通过“待办事项列表项目”快速学习Pyqt5的一些特性</a><br> <a href="https://blog.csdn.net/weixin_49520696/category_12485448.html">待续。。。</a></p> 
<h4><a id="_30"></a>雷达图</h4> 
<p><img src="https://images2.imgbox.com/bc/fb/t0zorGIX_o.png" alt="在这里插入图片描述"></p> 
<p>PyQtGraph 并不直接支持雷达图（也称为蜘蛛网图或极坐标图），但您可以使用 PyQt 的绘图能力手动创建一个。要在 PyQt 中绘制雷达图，您需要使用 <code>QPainter</code> 类来在 <code>QWidget</code> 或类似对象上进行自定义绘图。</p> 
<p>以下是一个使用 PyQt5 创建简单雷达图的示例：</p> 
<p><strong>编写代码绘制雷达图</strong>:</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> sys  
<span class="token keyword">import</span> math  
<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtWidgets <span class="token keyword">import</span> QApplication<span class="token punctuation">,</span> QWidget  
<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtGui <span class="token keyword">import</span> QPainter<span class="token punctuation">,</span> QPolygon<span class="token punctuation">,</span> QPen  
<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtCore <span class="token keyword">import</span> Qt<span class="token punctuation">,</span> QPoint  
  
  
<span class="token keyword">class</span> <span class="token class-name">RadarWidget</span><span class="token punctuation">(</span>QWidget<span class="token punctuation">)</span><span class="token punctuation">:</span>  
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">:</span>  
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>  
        self<span class="token punctuation">.</span>data <span class="token operator">=</span> data  
  
    <span class="token keyword">def</span> <span class="token function">paintEvent</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> event<span class="token punctuation">)</span><span class="token punctuation">:</span>  
        painter <span class="token operator">=</span> QPainter<span class="token punctuation">(</span>self<span class="token punctuation">)</span>  
        painter<span class="token punctuation">.</span>setRenderHint<span class="token punctuation">(</span>QPainter<span class="token punctuation">.</span>Antialiasing<span class="token punctuation">)</span>  
  
        <span class="token comment"># 雷达图的中心点  </span>
        center <span class="token operator">=</span> QPoint<span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>width<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>height<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
        radius <span class="token operator">=</span> <span class="token builtin">min</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>width<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>height<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">10</span>  
  
  
        <span class="token comment"># 绘制雷达图的轴  </span>
        num_axes <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>data<span class="token punctuation">)</span>  
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>num_axes<span class="token punctuation">)</span><span class="token punctuation">:</span>  
            angle <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">*</span> math<span class="token punctuation">.</span>pi <span class="token operator">*</span> i <span class="token operator">/</span> num_axes  
            x <span class="token operator">=</span><span class="token builtin">int</span><span class="token punctuation">(</span> center<span class="token punctuation">.</span>x<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> radius <span class="token operator">*</span> math<span class="token punctuation">.</span>cos<span class="token punctuation">(</span>angle<span class="token punctuation">)</span><span class="token punctuation">)</span>  
            y <span class="token operator">=</span><span class="token builtin">int</span><span class="token punctuation">(</span> center<span class="token punctuation">.</span>y<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> radius <span class="token operator">*</span> math<span class="token punctuation">.</span>sin<span class="token punctuation">(</span>angle<span class="token punctuation">)</span><span class="token punctuation">)</span>  
            painter<span class="token punctuation">.</span>drawLine<span class="token punctuation">(</span>center<span class="token punctuation">,</span> QPoint<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">)</span>  
  
        <span class="token comment"># 绘制雷达图的数据多边形  </span>
        polygon <span class="token operator">=</span> QPolygon<span class="token punctuation">(</span><span class="token punctuation">)</span>  
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>num_axes<span class="token punctuation">)</span><span class="token punctuation">:</span>  
            angle <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">*</span> math<span class="token punctuation">.</span>pi <span class="token operator">*</span> i <span class="token operator">/</span> num_axes  
            value <span class="token operator">=</span> self<span class="token punctuation">.</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span>  
            x <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>center<span class="token punctuation">.</span>x<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> value <span class="token operator">*</span> radius <span class="token operator">*</span> math<span class="token punctuation">.</span>cos<span class="token punctuation">(</span>angle<span class="token punctuation">)</span><span class="token punctuation">)</span>  
            y <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>center<span class="token punctuation">.</span>y<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> value <span class="token operator">*</span> radius <span class="token operator">*</span> math<span class="token punctuation">.</span>sin<span class="token punctuation">(</span>angle<span class="token punctuation">)</span><span class="token punctuation">)</span>  
            polygon <span class="token operator">&lt;&lt;</span> QPoint<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span>  
        painter<span class="token punctuation">.</span>setPen<span class="token punctuation">(</span>QPen<span class="token punctuation">(</span>Qt<span class="token punctuation">.</span>blue<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
        painter<span class="token punctuation">.</span>drawPolygon<span class="token punctuation">(</span>polygon<span class="token punctuation">)</span>  
  
  
<span class="token comment"># 创建一个 QApplication 实例  </span>
app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>  
  
<span class="token comment"># 创建雷达图窗口  </span>
radar_data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0.7</span><span class="token punctuation">,</span> <span class="token number">0.8</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.6</span><span class="token punctuation">,</span> <span class="token number">0.9</span><span class="token punctuation">]</span>  <span class="token comment"># 示例数据  </span>
radarWidget <span class="token operator">=</span> RadarWidget<span class="token punctuation">(</span>radar_data<span class="token punctuation">)</span>  
radarWidget<span class="token punctuation">.</span>resize<span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">)</span>  
radarWidget<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>  
  
<span class="token comment"># 启动应用程序的事件循环  </span>
sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span>app<span class="token punctuation">.</span>exec_<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p>在这个例子中，我们创建了一个继承自 <code>QWidget</code> 的 <code>RadarWidget</code> 类来显示雷达图。数据以列表形式传递给 <code>RadarWidget</code>，每个元素表示雷达图上一个轴的值。</p> 
<h4><a id="_103"></a>流程图</h4> 
<p><img src="https://images2.imgbox.com/e8/ef/CaDgykD2_o.png" alt="在这里插入图片描述"></p> 
<p>在 PyQtGraph 中绘制流程图需要使用图形和线条来手动创建图形元素。PyQtGraph 主要专注于数据可视化，并不直接支持流程图的绘制。但是，您可以使用 PyQt5 的图形视图框架（<code>QGraphicsScene</code> 和 <code>QGraphicsView</code>）来创建流程图。</p> 
<p>以下是使用 PyQt5 创建简单流程图的示例代码：</p> 
<p><strong>编写代码绘制流程图</strong>:</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> sys  
<span class="token keyword">import</span> math  
<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtWidgets <span class="token keyword">import</span> QApplication<span class="token punctuation">,</span> QGraphicsScene<span class="token punctuation">,</span> QGraphicsView<span class="token punctuation">,</span> QGraphicsRectItem<span class="token punctuation">,</span> QGraphicsTextItem<span class="token punctuation">,</span> QGraphicsLineItem<span class="token punctuation">,</span>QGraphicsPolygonItem  
<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtCore <span class="token keyword">import</span> Qt<span class="token punctuation">,</span> QRectF<span class="token punctuation">,</span> QPointF<span class="token punctuation">,</span> QLineF  
<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtGui <span class="token keyword">import</span> QPen<span class="token punctuation">,</span> QBrush<span class="token punctuation">,</span> QColor<span class="token punctuation">,</span> QPolygonF  
  
  
<span class="token keyword">class</span> <span class="token class-name">Arrow</span><span class="token punctuation">(</span>QGraphicsLineItem<span class="token punctuation">)</span><span class="token punctuation">:</span>  
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> start_item<span class="token punctuation">,</span> end_item<span class="token punctuation">,</span> parent<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>parent<span class="token punctuation">)</span>  
  
        <span class="token comment"># 计算起始点和结束点  </span>
        start_point <span class="token operator">=</span> start_item<span class="token punctuation">.</span>mapToScene<span class="token punctuation">(</span>start_item<span class="token punctuation">.</span>rect<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>bottomLeft<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> QPointF<span class="token punctuation">(</span>start_item<span class="token punctuation">.</span>rect<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>width<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
        end_point <span class="token operator">=</span> end_item<span class="token punctuation">.</span>mapToScene<span class="token punctuation">(</span>end_item<span class="token punctuation">.</span>rect<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>topLeft<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> QPointF<span class="token punctuation">(</span>end_item<span class="token punctuation">.</span>rect<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>width<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
  
        <span class="token comment"># 设置线条  </span>
        line <span class="token operator">=</span> QLineF<span class="token punctuation">(</span>start_point<span class="token punctuation">,</span> end_point<span class="token punctuation">)</span>  
        self<span class="token punctuation">.</span>setLine<span class="token punctuation">(</span>line<span class="token punctuation">)</span>  
        self<span class="token punctuation">.</span>setPen<span class="token punctuation">(</span>QPen<span class="token punctuation">(</span>Qt<span class="token punctuation">.</span>black<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
  
        <span class="token comment"># 箭头头部尺寸  </span>
        arrow_size <span class="token operator">=</span> <span class="token number">9.0</span>  
  
        <span class="token comment"># 计算箭头角度  </span>
        angle <span class="token operator">=</span> math<span class="token punctuation">.</span>atan2<span class="token punctuation">(</span><span class="token operator">-</span>line<span class="token punctuation">.</span>dy<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> line<span class="token punctuation">.</span>dx<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
  
        <span class="token comment"># 创建箭头头部  </span>
        arrow_head <span class="token operator">=</span> QPolygonF<span class="token punctuation">(</span><span class="token punctuation">)</span>  
        arrow_head<span class="token punctuation">.</span>append<span class="token punctuation">(</span>line<span class="token punctuation">.</span>p2<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
        arrow_head<span class="token punctuation">.</span>append<span class="token punctuation">(</span>line<span class="token punctuation">.</span>p2<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> QPointF<span class="token punctuation">(</span>math<span class="token punctuation">.</span>sin<span class="token punctuation">(</span>angle <span class="token operator">+</span> math<span class="token punctuation">.</span>pi <span class="token operator">/</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">*</span> arrow_size<span class="token punctuation">,</span>  
                                              math<span class="token punctuation">.</span>cos<span class="token punctuation">(</span>angle <span class="token operator">+</span> math<span class="token punctuation">.</span>pi <span class="token operator">/</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">*</span> arrow_size<span class="token punctuation">)</span><span class="token punctuation">)</span>  
        arrow_head<span class="token punctuation">.</span>append<span class="token punctuation">(</span>line<span class="token punctuation">.</span>p2<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> QPointF<span class="token punctuation">(</span>math<span class="token punctuation">.</span>sin<span class="token punctuation">(</span>angle <span class="token operator">+</span> math<span class="token punctuation">.</span>pi <span class="token operator">-</span> math<span class="token punctuation">.</span>pi <span class="token operator">/</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">*</span> arrow_size<span class="token punctuation">,</span>  
                                              math<span class="token punctuation">.</span>cos<span class="token punctuation">(</span>angle <span class="token operator">+</span> math<span class="token punctuation">.</span>pi <span class="token operator">-</span> math<span class="token punctuation">.</span>pi <span class="token operator">/</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">*</span> arrow_size<span class="token punctuation">)</span><span class="token punctuation">)</span>  
  
        <span class="token comment"># 添加箭头头部到场景  </span>
        arrow_head_item <span class="token operator">=</span> QGraphicsPolygonItem<span class="token punctuation">(</span>arrow_head<span class="token punctuation">,</span> self<span class="token punctuation">)</span>  
        arrow_head_item<span class="token punctuation">.</span>setBrush<span class="token punctuation">(</span>Qt<span class="token punctuation">.</span>black<span class="token punctuation">)</span>  
        arrow_head_item<span class="token punctuation">.</span>setPen<span class="token punctuation">(</span>QPen<span class="token punctuation">(</span>Qt<span class="token punctuation">.</span>black<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
  
  
<span class="token keyword">class</span> <span class="token class-name">FlowChartNode</span><span class="token punctuation">(</span>QGraphicsRectItem<span class="token punctuation">)</span><span class="token punctuation">:</span>  
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> text<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> width<span class="token punctuation">,</span> height<span class="token punctuation">,</span> parent<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> width<span class="token punctuation">,</span> height<span class="token punctuation">,</span> parent<span class="token punctuation">)</span>  
  
        self<span class="token punctuation">.</span>setBrush<span class="token punctuation">(</span>QBrush<span class="token punctuation">(</span>QColor<span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
        self<span class="token punctuation">.</span>setPen<span class="token punctuation">(</span>QPen<span class="token punctuation">(</span>Qt<span class="token punctuation">.</span>black<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
  
        <span class="token comment"># 添加文本标签  </span>
        text_item <span class="token operator">=</span> QGraphicsTextItem<span class="token punctuation">(</span>text<span class="token punctuation">,</span> self<span class="token punctuation">)</span>  
        text_item<span class="token punctuation">.</span>setPos<span class="token punctuation">(</span>x <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">,</span> y <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">)</span>  
        text_item<span class="token punctuation">.</span>setTextWidth<span class="token punctuation">(</span>width <span class="token operator">-</span> <span class="token number">20</span><span class="token punctuation">)</span>  
  
  
app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>  
scene <span class="token operator">=</span> QGraphicsScene<span class="token punctuation">(</span><span class="token punctuation">)</span>  
  
node1 <span class="token operator">=</span> FlowChartNode<span class="token punctuation">(</span><span class="token string">"开始"</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>  
node2 <span class="token operator">=</span> FlowChartNode<span class="token punctuation">(</span><span class="token string">"步骤1"</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>  
node3 <span class="token operator">=</span> FlowChartNode<span class="token punctuation">(</span><span class="token string">"结束"</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>  
  
scene<span class="token punctuation">.</span>addItem<span class="token punctuation">(</span>node1<span class="token punctuation">)</span>  
scene<span class="token punctuation">.</span>addItem<span class="token punctuation">(</span>node2<span class="token punctuation">)</span>  
scene<span class="token punctuation">.</span>addItem<span class="token punctuation">(</span>node3<span class="token punctuation">)</span>  
  
arrow1 <span class="token operator">=</span> Arrow<span class="token punctuation">(</span>node1<span class="token punctuation">,</span> node2<span class="token punctuation">)</span>  
arrow2 <span class="token operator">=</span> Arrow<span class="token punctuation">(</span>node2<span class="token punctuation">,</span> node3<span class="token punctuation">)</span>  
  
scene<span class="token punctuation">.</span>addItem<span class="token punctuation">(</span>arrow1<span class="token punctuation">)</span>  
scene<span class="token punctuation">.</span>addItem<span class="token punctuation">(</span>arrow2<span class="token punctuation">)</span>  
  
view <span class="token operator">=</span> QGraphicsView<span class="token punctuation">(</span>scene<span class="token punctuation">)</span>  
view<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>  
  
sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span>app<span class="token punctuation">.</span>exec_<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p>在这个例子中，我们定义了一个 <code>FlowChartNode</code> 类来表示流程图中的节点，该类继承自 <code>QGraphicsRectItem</code>。然后，我们创建了一个 <code>QGraphicsScene</code> 来容纳这些节点，并使用 <code>QGraphicsView</code> 显示它们。</p> 
<h4><a id="_197"></a>树状图</h4> 
<p><img src="https://images2.imgbox.com/56/7d/VHKql9oN_o.png" alt="在这里插入图片描述"></p> 
<p>在 PyQtGraph 中创建树状图（或树形结构图）通常不是直接支持的，因为 PyQtGraph 主要用于数据可视化，如绘制折线图、散点图等。但是，您可以使用 PyQt5 的 <code>QTreeView</code> 和 <code>QStandardItemModel</code> 来创建一个树状图界面。</p> 
<p>以下是使用 PyQt5 创建树状图的示例代码：</p> 
<p><strong>编写代码以创建树状图</strong>:</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> sys  
<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtWidgets <span class="token keyword">import</span> QApplication<span class="token punctuation">,</span> QTreeView  
<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtGui <span class="token keyword">import</span> QStandardItem<span class="token punctuation">,</span> QStandardItemModel  
  
  
  
app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>  
  
<span class="token comment"># 创建标准项模型  </span>
model <span class="token operator">=</span> QStandardItemModel<span class="token punctuation">(</span><span class="token punctuation">)</span>  
rootNode <span class="token operator">=</span> model<span class="token punctuation">.</span>invisibleRootItem<span class="token punctuation">(</span><span class="token punctuation">)</span>  
  
<span class="token comment"># 创建节点  </span>
parent1 <span class="token operator">=</span> QStandardItem<span class="token punctuation">(</span><span class="token string">'父节点1'</span><span class="token punctuation">)</span>  
child1 <span class="token operator">=</span> QStandardItem<span class="token punctuation">(</span><span class="token string">'子节点1'</span><span class="token punctuation">)</span>  
child2 <span class="token operator">=</span> QStandardItem<span class="token punctuation">(</span><span class="token string">'子节点2'</span><span class="token punctuation">)</span>  
parent1<span class="token punctuation">.</span>appendRow<span class="token punctuation">(</span>child1<span class="token punctuation">)</span>  
parent1<span class="token punctuation">.</span>appendRow<span class="token punctuation">(</span>child2<span class="token punctuation">)</span>  
  
parent2 <span class="token operator">=</span> QStandardItem<span class="token punctuation">(</span><span class="token string">'父节点2'</span><span class="token punctuation">)</span>  
child3 <span class="token operator">=</span> QStandardItem<span class="token punctuation">(</span><span class="token string">'子节点3'</span><span class="token punctuation">)</span>  
parent2<span class="token punctuation">.</span>appendRow<span class="token punctuation">(</span>child3<span class="token punctuation">)</span>  
  
rootNode<span class="token punctuation">.</span>appendRow<span class="token punctuation">(</span>parent1<span class="token punctuation">)</span>  
rootNode<span class="token punctuation">.</span>appendRow<span class="token punctuation">(</span>parent2<span class="token punctuation">)</span>  
  
<span class="token comment"># 创建树视图并设置模型  </span>
  
treeView <span class="token operator">=</span> QTreeView<span class="token punctuation">(</span><span class="token punctuation">)</span>  
treeView<span class="token punctuation">.</span>setHeaderHidden<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>  
  
treeView<span class="token punctuation">.</span>setModel<span class="token punctuation">(</span>model<span class="token punctuation">)</span>  
treeView<span class="token punctuation">.</span>expandAll<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 展开所有节点  </span>
  
<span class="token comment"># 显示树视图  </span>
treeView<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>  
  
sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span>app<span class="token punctuation">.</span>exec_<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p>在这个例子中，我们创建了一个 <code>QStandardItemModel</code> 来存储树形数据，然后向模型中添加了几个 <code>QStandardItem</code> 作为节点。<code>QTreeView</code> 用于展示这个模型。每个节点都可以有子节点，形成树形结构。</p> 
<h4><a id="_256"></a>网络图</h4> 
<p><img src="https://images2.imgbox.com/b2/7b/YffWeo4B_o.png" alt="在这里插入图片描述"></p> 
<p>在 PyQtGraph 中直接绘制网络图（Graph Visualization）并不直接支持，因为 PyQtGraph 主要用于绘制二维和三维的数据可视化图形，如折线图、散点图等。但是，您可以结合使用 PyQt 和其他 Python 图形库，如 NetworkX，来创建和显示网络图。</p> 
<p>以下是一个使用 PyQt5 和 NetworkX 创建网络图的示例：</p> 
<p><strong>编写代码以创建网络图</strong>:</p> 
<pre><code class="prism language-python">    <span class="token keyword">import</span> sys
    <span class="token keyword">import</span> networkx <span class="token keyword">as</span> nx
    <span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
    <span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtWidgets <span class="token keyword">import</span> QApplication<span class="token punctuation">,</span> QMainWindow<span class="token punctuation">,</span> QSizePolicy<span class="token punctuation">,</span> QWidget<span class="token punctuation">,</span> QVBoxLayout
    <span class="token keyword">from</span> matplotlib<span class="token punctuation">.</span>backends<span class="token punctuation">.</span>backend_qt5agg <span class="token keyword">import</span> FigureCanvasQTAgg <span class="token keyword">as</span> FigureCanvas

    <span class="token keyword">class</span> <span class="token class-name">NetworkGraph</span><span class="token punctuation">(</span>QWidget<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> parent<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token builtin">super</span><span class="token punctuation">(</span>NetworkGraph<span class="token punctuation">,</span> self<span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>parent<span class="token punctuation">)</span>

            self<span class="token punctuation">.</span>figure<span class="token punctuation">,</span> self<span class="token punctuation">.</span>ax <span class="token operator">=</span> plt<span class="token punctuation">.</span>subplots<span class="token punctuation">(</span><span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>canvas <span class="token operator">=</span> FigureCanvas<span class="token punctuation">(</span>self<span class="token punctuation">.</span>figure<span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>canvas<span class="token punctuation">.</span>setSizePolicy<span class="token punctuation">(</span>QSizePolicy<span class="token punctuation">.</span>Expanding<span class="token punctuation">,</span> QSizePolicy<span class="token punctuation">.</span>Expanding<span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>canvas<span class="token punctuation">.</span>updateGeometry<span class="token punctuation">(</span><span class="token punctuation">)</span>

            layout <span class="token operator">=</span> QVBoxLayout<span class="token punctuation">(</span><span class="token punctuation">)</span>
            layout<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>self<span class="token punctuation">.</span>canvas<span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>setLayout<span class="token punctuation">(</span>layout<span class="token punctuation">)</span>

            self<span class="token punctuation">.</span>draw_graph<span class="token punctuation">(</span><span class="token punctuation">)</span>

        <span class="token keyword">def</span> <span class="token function">draw_graph</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token comment"># 创建一个网络图</span>
            G <span class="token operator">=</span> nx<span class="token punctuation">.</span>karate_club_graph<span class="token punctuation">(</span><span class="token punctuation">)</span>

            <span class="token comment"># 绘制网络图</span>
            pos <span class="token operator">=</span> nx<span class="token punctuation">.</span>spring_layout<span class="token punctuation">(</span>G<span class="token punctuation">)</span>
            nx<span class="token punctuation">.</span>draw<span class="token punctuation">(</span>G<span class="token punctuation">,</span> pos<span class="token punctuation">,</span> ax<span class="token operator">=</span>self<span class="token punctuation">.</span>ax<span class="token punctuation">,</span> with_labels<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> node_color<span class="token operator">=</span><span class="token string">'skyblue'</span><span class="token punctuation">,</span> edge_color<span class="token operator">=</span><span class="token string">'gray'</span><span class="token punctuation">)</span>

            <span class="token comment"># 更新画布</span>
            self<span class="token punctuation">.</span>canvas<span class="token punctuation">.</span>draw<span class="token punctuation">(</span><span class="token punctuation">)</span>

    app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>
    mainWindow <span class="token operator">=</span> QMainWindow<span class="token punctuation">(</span><span class="token punctuation">)</span>
    mainWindow<span class="token punctuation">.</span>setCentralWidget<span class="token punctuation">(</span>NetworkGraph<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    mainWindow<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
    sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span>app<span class="token punctuation">.</span>exec_<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p>在这个示例中，我们创建了一个名为 <code>NetworkGraph</code> 的自定义 QWidget，用于显示由 NetworkX 生成的网络图。使用 NetworkX 创建并配置图形，然后使用 Matplotlib 进行绘图。最后，将 Matplotlib 图形嵌入到 PyQt5 应用程序窗口中。</p> 
<h4><a id="_319"></a>气泡图</h4> 
<p><img src="https://images2.imgbox.com/5f/1e/f0tfuA8o_o.png" alt="在这里插入图片描述"></p> 
<p>在 PyQtGraph 中绘制气泡图可以通过使用 <code>ScatterPlotItem</code> 类并调整点的大小来实现。气泡图是散点图的一种变体，其中每个点的大小可以代表数据的一个额外维度。</p> 
<p>以下是使用 PyQtGraph 创建气泡图的步骤和示例代码：</p> 
<p><strong>编写代码以绘制气泡图</strong>:</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> sys  
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np  
<span class="token keyword">from</span> PyQt5 <span class="token keyword">import</span> QtWidgets  
<span class="token keyword">import</span> pyqtgraph <span class="token keyword">as</span> pg  
  
<span class="token comment"># 创建一个应用程序实例  </span>
app <span class="token operator">=</span> QtWidgets<span class="token punctuation">.</span>QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>  
  
<span class="token comment"># 创建一个主窗口  </span>
mainWindow <span class="token operator">=</span> QtWidgets<span class="token punctuation">.</span>QMainWindow<span class="token punctuation">(</span><span class="token punctuation">)</span>  
  
<span class="token comment"># 创建一个绘图控件  </span>
plotWidget <span class="token operator">=</span> pg<span class="token punctuation">.</span>PlotWidget<span class="token punctuation">(</span><span class="token punctuation">)</span>  
plotWidget<span class="token punctuation">.</span>setBackground<span class="token punctuation">(</span><span class="token string">"w"</span><span class="token punctuation">)</span>  
mainWindow<span class="token punctuation">.</span>setCentralWidget<span class="token punctuation">(</span>plotWidget<span class="token punctuation">)</span>  
  
<span class="token comment"># 准备数据  </span>
x <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>rand<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">10</span>  
y <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>rand<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">10</span>  
sizes <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>rand<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">50</span>  <span class="token comment"># 气泡的大小  </span>
  
<span class="token comment"># 创建散点图项目  </span>
scatterPlotItem <span class="token operator">=</span> pg<span class="token punctuation">.</span>ScatterPlotItem<span class="token punctuation">(</span>pen<span class="token operator">=</span>pg<span class="token punctuation">.</span>mkPen<span class="token punctuation">(</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">,</span> brush<span class="token operator">=</span><span class="token string">"#dcbeff"</span><span class="token punctuation">)</span>  
  
<span class="token comment"># 现在使用 setData 设置点的坐标和大小  </span>
scatterPlotItem<span class="token punctuation">.</span>setData<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> size<span class="token operator">=</span>sizes<span class="token punctuation">)</span>  
  
<span class="token comment"># 将散点图添加到绘图控件  </span>
plotWidget<span class="token punctuation">.</span>addItem<span class="token punctuation">(</span>scatterPlotItem<span class="token punctuation">)</span>  
  
<span class="token comment"># 显示主窗口  </span>
mainWindow<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>  
  
<span class="token comment"># 启动应用程序的事件循环  </span>
sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span>app<span class="token punctuation">.</span>exec_<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p>在这个例子中，我们使用 <code>ScatterPlotItem</code> 创建了一个散点图，并通过改变每个点的大小（<code>size</code> 参数）来创建一个气泡图效果。<code>x</code> 和 <code>y</code> 是数据点的坐标，<code>sizes</code> 数组决定了每个点的大小。</p> 
<h4><a id="_374"></a>地图图表</h4> 
<p><img src="https://images2.imgbox.com/e1/c1/uMJFRQW7_o.png" alt="在这里插入图片描述"></p> 
<p>在 PyQt 中绘制地图图表通常需要结合使用地理信息系统（GIS）相关的库，例如 GeoPandas、Folium 或 PyQGIS。这些库可以处理地理数据并生成地图，但是它们不是 PyQtGraph 的一部分。另一种选择是使用 QGIS，这是一个完整的地理信息系统平台，它可以与 PyQt 结合使用。</p> 
<p>以下是一个使用 Python、PyQt5 和 Folium 创建交互式地图图表的基本示例：</p> 
<p><strong>编写代码以创建地图图表</strong>:</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> sys  
<span class="token keyword">import</span> os  
<span class="token keyword">import</span> folium  
<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtWidgets <span class="token keyword">import</span> QApplication<span class="token punctuation">,</span> QMainWindow<span class="token punctuation">,</span> QWidget  
<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtWebEngineWidgets <span class="token keyword">import</span> QWebEngineView  
<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtCore <span class="token keyword">import</span> QUrl  
  
  
<span class="token keyword">class</span> <span class="token class-name">MapWidget</span><span class="token punctuation">(</span>QWidget<span class="token punctuation">)</span><span class="token punctuation">:</span>  
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> parent<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>parent<span class="token punctuation">)</span>  
        self<span class="token punctuation">.</span>view <span class="token operator">=</span> QWebEngineView<span class="token punctuation">(</span>self<span class="token punctuation">)</span>  
        self<span class="token punctuation">.</span>init_ui<span class="token punctuation">(</span><span class="token punctuation">)</span>  
  
    <span class="token keyword">def</span> <span class="token function">init_ui</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>  
        <span class="token comment"># 创建一个 Folium 地图，您可以调整 zoom_start 来设置初始缩放级别  </span>
        m <span class="token operator">=</span> folium<span class="token punctuation">.</span>Map<span class="token punctuation">(</span>location<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">45.5236</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">122.6750</span><span class="token punctuation">]</span><span class="token punctuation">,</span> zoom_start<span class="token operator">=</span><span class="token number">13</span><span class="token punctuation">)</span>  
  
        <span class="token comment"># 获取当前文件夹的绝对路径  </span>
        dirname <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>abspath<span class="token punctuation">(</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>dirname<span class="token punctuation">(</span>__file__<span class="token punctuation">)</span><span class="token punctuation">)</span>  
        <span class="token comment"># 保存地图为 HTML 文件  </span>
        map_path <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>dirname<span class="token punctuation">,</span> <span class="token string">'map.html'</span><span class="token punctuation">)</span>  
        m<span class="token punctuation">.</span>save<span class="token punctuation">(</span>map_path<span class="token punctuation">)</span>  
  
        <span class="token comment"># 在 QWebEngineView 中加载 HTML        self.view.load(QUrl.fromLocalFile(map_path))  </span>
  
        <span class="token comment"># 设置 QWebEngineView 控件的最小尺寸  </span>
        self<span class="token punctuation">.</span>view<span class="token punctuation">.</span>setMinimumSize<span class="token punctuation">(</span><span class="token number">800</span><span class="token punctuation">,</span> <span class="token number">600</span><span class="token punctuation">)</span>  <span class="token comment"># 例如，设置为宽800像素，高600像素  </span>
        self<span class="token punctuation">.</span>view<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>  
  
  
app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>  
mainWindow <span class="token operator">=</span> QMainWindow<span class="token punctuation">(</span><span class="token punctuation">)</span>  
mapWidget <span class="token operator">=</span> MapWidget<span class="token punctuation">(</span><span class="token punctuation">)</span>  
  
<span class="token comment"># 设置主窗口的初始大小  </span>
mainWindow<span class="token punctuation">.</span>resize<span class="token punctuation">(</span><span class="token number">800</span><span class="token punctuation">,</span> <span class="token number">600</span><span class="token punctuation">)</span>  <span class="token comment"># 可以根据需要调整这个尺寸  </span>
  
mainWindow<span class="token punctuation">.</span>setCentralWidget<span class="token punctuation">(</span>mapWidget<span class="token punctuation">)</span>  
mainWindow<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>  
sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span>app<span class="token punctuation">.</span>exec_<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p>在这个示例中，我们使用 Folium 创建了一个简单的地图，并将其保存为一个 HTML 文件。然后我们使用 PyQt5 的 <code>QWebEngineView</code> 小部件加载并显示这个 HTML 文件，从而在 PyQt 应用程序中嵌入了地图。</p> 
<h4><a id="_438"></a>桑基图</h4> 
<p><img src="https://images2.imgbox.com/6a/4e/m72BXvz4_o.png" alt="在这里插入图片描述"></p> 
<p>桑基图是一种特殊的流程图，它用于表示数据流和传输。在 PyQtGraph 中直接绘制桑基图并不支持，因为它主要用于绘制二维和三维的数据可视化图形，如折线图、散点图等。然而，您可以使用其他的Python库，如 <code>matplotlib</code>，来创建桑基图，并将其嵌入到 PyQt 应用程序中。</p> 
<p>以下是一个使用 Python、PyQt5 和 Matplotlib 创建桑基图的基本示例：</p> 
<p><strong>编写代码以创建桑基图</strong>:</p> 
<pre><code class="prism language-python">    <span class="token keyword">import</span> sys
    <span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtWidgets <span class="token keyword">import</span> QApplication<span class="token punctuation">,</span> QMainWindow<span class="token punctuation">,</span> QVBoxLayout<span class="token punctuation">,</span> QWidget
    <span class="token keyword">from</span> matplotlib<span class="token punctuation">.</span>backends<span class="token punctuation">.</span>backend_qt5agg <span class="token keyword">import</span> FigureCanvasQTAgg <span class="token keyword">as</span> FigureCanvas
    <span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
    <span class="token keyword">from</span> matplotlib<span class="token punctuation">.</span>sankey <span class="token keyword">import</span> Sankey

    <span class="token keyword">class</span> <span class="token class-name">SankeyWidget</span><span class="token punctuation">(</span>QWidget<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> parent<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token builtin">super</span><span class="token punctuation">(</span>SankeyWidget<span class="token punctuation">,</span> self<span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>parent<span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>figure<span class="token punctuation">,</span> self<span class="token punctuation">.</span>ax <span class="token operator">=</span> plt<span class="token punctuation">.</span>subplots<span class="token punctuation">(</span><span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>canvas <span class="token operator">=</span> FigureCanvas<span class="token punctuation">(</span>self<span class="token punctuation">.</span>figure<span class="token punctuation">)</span>

            layout <span class="token operator">=</span> QVBoxLayout<span class="token punctuation">(</span><span class="token punctuation">)</span>
            layout<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>self<span class="token punctuation">.</span>canvas<span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>setLayout<span class="token punctuation">(</span>layout<span class="token punctuation">)</span>

            self<span class="token punctuation">.</span>draw_sankey<span class="token punctuation">(</span><span class="token punctuation">)</span>

        <span class="token keyword">def</span> <span class="token function">draw_sankey</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token comment"># 创建桑基图</span>
            sankey <span class="token operator">=</span> Sankey<span class="token punctuation">(</span>ax<span class="token operator">=</span>self<span class="token punctuation">.</span>ax<span class="token punctuation">)</span>
            sankey<span class="token punctuation">.</span>add<span class="token punctuation">(</span>flows<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.5</span><span class="token punctuation">]</span><span class="token punctuation">,</span> labels<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">''</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">]</span><span class="token punctuation">,</span> orientations<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
            sankey<span class="token punctuation">.</span>finish<span class="token punctuation">(</span><span class="token punctuation">)</span>

            <span class="token comment"># 更新画布</span>
            self<span class="token punctuation">.</span>canvas<span class="token punctuation">.</span>draw<span class="token punctuation">(</span><span class="token punctuation">)</span>

    app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>
    mainWindow <span class="token operator">=</span> QMainWindow<span class="token punctuation">(</span><span class="token punctuation">)</span>
    mainWindow<span class="token punctuation">.</span>setCentralWidget<span class="token punctuation">(</span>SankeyWidget<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    mainWindow<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
    sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span>app<span class="token punctuation">.</span>exec_<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p>在这个示例中，我们定义了一个 <code>SankeyWidget</code> 类来展示桑基图。使用 Matplotlib 创建桑基图，并将其嵌入到 PyQt5 应用程序中。</p> 
<h4><a id="httpsimgblogcsdnimgcndirect5622cc4ed506469189c9651c2093d53apng_492"></a>组合图<img src="https://images2.imgbox.com/4f/10/nXXaMZrn_o.png" alt="在这里插入图片描述"></h4> 
<p>在 PyQtGraph 中创建组合图（例如，将折线图和柱状图组合在一起）可以通过在同一个绘图控件（<code>PlotWidget</code>）中添加多个图表元素来实现。这样，您可以在同一个坐标轴上或在相互关联的坐标轴上展示不同类型的数据。</p> 
<p>以下是一个示例，展示如何在 PyQtGraph 中创建一个组合了折线图和柱状图的组合图：</p> 
<p><strong>编写代码以创建组合图</strong>:</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> sys
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token keyword">from</span> PyQt5 <span class="token keyword">import</span> QtWidgets
<span class="token keyword">import</span> pyqtgraph <span class="token keyword">as</span> pg

<span class="token comment"># 创建一个应用程序实例</span>
app <span class="token operator">=</span> QtWidgets<span class="token punctuation">.</span>QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>

<span class="token comment"># 创建一个主窗口</span>
mainWindow <span class="token operator">=</span> QtWidgets<span class="token punctuation">.</span>QMainWindow<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># 创建一个绘图控件</span>
plotWidget <span class="token operator">=</span> pg<span class="token punctuation">.</span>PlotWidget<span class="token punctuation">(</span><span class="token punctuation">)</span>
plotWidget<span class="token punctuation">.</span>setBackground<span class="token punctuation">(</span><span class="token string">'w'</span><span class="token punctuation">)</span>
mainWindow<span class="token punctuation">.</span>setCentralWidget<span class="token punctuation">(</span>plotWidget<span class="token punctuation">)</span>

<span class="token comment"># 准备数据</span>
x <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
y1 <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> size<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">)</span>  <span class="token comment"># 柱状图的数据</span>
y2 <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> size<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">)</span>  <span class="token comment"># 折线图的数据</span>

<span class="token comment"># 创建柱状图项目</span>
barGraphItem <span class="token operator">=</span> pg<span class="token punctuation">.</span>BarGraphItem<span class="token punctuation">(</span>x<span class="token operator">=</span>x<span class="token punctuation">,</span> height<span class="token operator">=</span>y1<span class="token punctuation">,</span> width<span class="token operator">=</span><span class="token number">0.6</span><span class="token punctuation">,</span> brush<span class="token operator">=</span><span class="token string">'#fffac8'</span><span class="token punctuation">)</span>
plotWidget<span class="token punctuation">.</span>addItem<span class="token punctuation">(</span>barGraphItem<span class="token punctuation">)</span>

<span class="token comment"># 创建折线图项目</span>
plotWidget<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y2<span class="token punctuation">,</span> pen<span class="token operator">=</span>pg<span class="token punctuation">.</span>mkPen<span class="token punctuation">(</span>color<span class="token operator">=</span><span class="token string">'#dcbeff'</span><span class="token punctuation">,</span> width<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment"># 显示主窗口</span>
mainWindow<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># 启动应用程序的事件循环</span>
sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span>app<span class="token punctuation">.</span>exec_<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p>在这个示例中，我们首先创建了一个包含柱状图和折线图的 <code>PlotWidget</code>。<code>BarGraphItem</code> 用于柱状图，而 <code>plot</code> 方法用于折线图。通过将它们添加到同一个 <code>PlotWidget</code> 中，我们可以将两种图表组合在一起显示。</p> 
<h4><a id="_554"></a>股票图</h4> 
<p><img src="https://images2.imgbox.com/fd/52/UYiKRK0S_o.png" alt="在这里插入图片描述"></p> 
<p>在 PyQtGraph 中绘制股票图（通常指蜡烛图或OHLC图）需要一些额外的步骤，因为这需要特殊的图表来表示股票的开盘价、最高价、最低价和收盘价。PyQtGraph 提供了 <code>CandlestickItem</code> 类来创建这种类型的图表。</p> 
<p>以下是使用 PyQtGraph 创建股票图的步骤和示例代码：</p> 
<p><strong>编写代码以绘制股票图</strong>:</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> sys  
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np  
<span class="token keyword">from</span> PyQt5 <span class="token keyword">import</span> QtWidgets  
<span class="token keyword">import</span> pyqtgraph <span class="token keyword">as</span> pg  
  
  
<span class="token keyword">class</span> <span class="token class-name">CandlestickItem</span><span class="token punctuation">(</span>pg<span class="token punctuation">.</span>GraphicsObject<span class="token punctuation">)</span><span class="token punctuation">:</span>  
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">:</span>  
        pg<span class="token punctuation">.</span>GraphicsObject<span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>self<span class="token punctuation">)</span>  
        self<span class="token punctuation">.</span>data <span class="token operator">=</span> data  <span class="token comment"># data应该是一个包含(open, high, low, close)的列表  </span>
        self<span class="token punctuation">.</span>generatePicture<span class="token punctuation">(</span><span class="token punctuation">)</span>  
  
    <span class="token keyword">def</span> <span class="token function">generatePicture</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>  
        self<span class="token punctuation">.</span>picture <span class="token operator">=</span> pg<span class="token punctuation">.</span>QtGui<span class="token punctuation">.</span>QPicture<span class="token punctuation">(</span><span class="token punctuation">)</span>  
        p <span class="token operator">=</span> pg<span class="token punctuation">.</span>QtGui<span class="token punctuation">.</span>QPainter<span class="token punctuation">(</span>self<span class="token punctuation">.</span>picture<span class="token punctuation">)</span>  
        p<span class="token punctuation">.</span>setPen<span class="token punctuation">(</span>pg<span class="token punctuation">.</span>mkPen<span class="token punctuation">(</span><span class="token string">'b'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 设置蜡烛图的颜色  </span>
        w <span class="token operator">=</span> <span class="token number">0.3</span>  
        <span class="token keyword">for</span> <span class="token punctuation">(</span>t<span class="token punctuation">,</span> <span class="token builtin">open</span><span class="token punctuation">,</span> high<span class="token punctuation">,</span> low<span class="token punctuation">,</span> close<span class="token punctuation">)</span> <span class="token keyword">in</span> self<span class="token punctuation">.</span>data<span class="token punctuation">:</span>  
            p<span class="token punctuation">.</span>drawLine<span class="token punctuation">(</span>pg<span class="token punctuation">.</span>QtCore<span class="token punctuation">.</span>QPointF<span class="token punctuation">(</span>t<span class="token punctuation">,</span> low<span class="token punctuation">)</span><span class="token punctuation">,</span> pg<span class="token punctuation">.</span>QtCore<span class="token punctuation">.</span>QPointF<span class="token punctuation">(</span>t<span class="token punctuation">,</span> high<span class="token punctuation">)</span><span class="token punctuation">)</span>  
            <span class="token keyword">if</span> <span class="token builtin">open</span> <span class="token operator">&gt;</span> close<span class="token punctuation">:</span>  
                p<span class="token punctuation">.</span>setBrush<span class="token punctuation">(</span>pg<span class="token punctuation">.</span>mkBrush<span class="token punctuation">(</span><span class="token string">'g'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
            <span class="token keyword">else</span><span class="token punctuation">:</span>  
                p<span class="token punctuation">.</span>setBrush<span class="token punctuation">(</span>pg<span class="token punctuation">.</span>mkBrush<span class="token punctuation">(</span><span class="token string">'r'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
            p<span class="token punctuation">.</span>drawRect<span class="token punctuation">(</span>pg<span class="token punctuation">.</span>QtCore<span class="token punctuation">.</span>QRectF<span class="token punctuation">(</span>t <span class="token operator">-</span> w<span class="token punctuation">,</span> <span class="token builtin">open</span><span class="token punctuation">,</span> w <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">,</span> close <span class="token operator">-</span> <span class="token builtin">open</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
        p<span class="token punctuation">.</span>end<span class="token punctuation">(</span><span class="token punctuation">)</span>  
  
    <span class="token keyword">def</span> <span class="token function">paint</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> p<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">)</span><span class="token punctuation">:</span>  
        p<span class="token punctuation">.</span>drawPicture<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>picture<span class="token punctuation">)</span>  
  
    <span class="token keyword">def</span> <span class="token function">boundingRect</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>  
        <span class="token keyword">return</span> pg<span class="token punctuation">.</span>QtCore<span class="token punctuation">.</span>QRectF<span class="token punctuation">(</span>self<span class="token punctuation">.</span>picture<span class="token punctuation">.</span>boundingRect<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
  
  
<span class="token comment"># 创建一个应用程序实例  </span>
app <span class="token operator">=</span> QtWidgets<span class="token punctuation">.</span>QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>  
  
<span class="token comment"># 创建一个主窗口  </span>
mainWindow <span class="token operator">=</span> QtWidgets<span class="token punctuation">.</span>QMainWindow<span class="token punctuation">(</span><span class="token punctuation">)</span>  
  
<span class="token comment"># 创建一个绘图控件  </span>
plotWidget <span class="token operator">=</span> pg<span class="token punctuation">.</span>PlotWidget<span class="token punctuation">(</span><span class="token punctuation">)</span>  
plotWidget<span class="token punctuation">.</span>setBackground<span class="token punctuation">(</span><span class="token string">"w"</span><span class="token punctuation">)</span>  
mainWindow<span class="token punctuation">.</span>setCentralWidget<span class="token punctuation">(</span>plotWidget<span class="token punctuation">)</span>  
  
<span class="token comment"># 准备数据  </span>
data <span class="token operator">=</span> <span class="token punctuation">[</span>  <span class="token comment"># 示例数据：(时间, 开盘价, 最高价, 最低价, 收盘价)  </span>
    <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  
    <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  
    <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">17</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  
    <span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  
    <span class="token comment"># ...  </span>
<span class="token punctuation">]</span>  
  
<span class="token comment"># 创建蜡烛图项目  </span>
item <span class="token operator">=</span> CandlestickItem<span class="token punctuation">(</span>data<span class="token punctuation">)</span>  
plotWidget<span class="token punctuation">.</span>addItem<span class="token punctuation">(</span>item<span class="token punctuation">)</span>  
  
<span class="token comment"># 显示主窗口  </span>
mainWindow<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>  
  
<span class="token comment"># 启动应用程序的事件循环  </span>
sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span>app<span class="token punctuation">.</span>exec_<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p>在这个示例中，我们首先定义了一个 <code>CandlestickItem</code> 类来创建股票图。该类继承自 <code>GraphicsObject</code>，并且重写了绘图方法来绘制蜡烛图。数据格式是一个元组列表，每个元组代表一个时间点上的开盘价、最高价、最低价和收盘价。</p> 
<h4><a id="_635"></a>甘特图</h4> 
<p><img src="https://images2.imgbox.com/b3/7e/uoxy04WV_o.png" alt="![[Pasted image 20231207235825.png]]"></p> 
<p>在 PyQtGraph 中创建甘特图需要一些额外的工作，因为它主要用于绘制二维和三维的数据可视化图形，如折线图、散点图等，而不直接支持甘特图。但是，您可以使用 PyQt 的基本图形功能来手动绘制甘特图。</p> 
<p>以下是使用 PyQt5 创建简单甘特图的示例代码：</p> 
<p><strong>编写代码以创建甘特图</strong>:</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> sys  
<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtWidgets <span class="token keyword">import</span> QApplication<span class="token punctuation">,</span> QGraphicsScene<span class="token punctuation">,</span> QGraphicsView<span class="token punctuation">,</span> QGraphicsRectItem<span class="token punctuation">,</span> QGraphicsTextItem  
<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtGui <span class="token keyword">import</span> QColor<span class="token punctuation">,</span> QPen<span class="token punctuation">,</span> QFont  
<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtCore <span class="token keyword">import</span> QRectF  
  
<span class="token keyword">class</span> <span class="token class-name">GanttChartItem</span><span class="token punctuation">(</span>QGraphicsRectItem<span class="token punctuation">)</span><span class="token punctuation">:</span>  
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> text<span class="token punctuation">,</span> start<span class="token punctuation">,</span> duration<span class="token punctuation">,</span> row<span class="token punctuation">,</span> color<span class="token punctuation">,</span> parent<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  
        <span class="token builtin">super</span><span class="token punctuation">(</span>GanttChartItem<span class="token punctuation">,</span> self<span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>parent<span class="token punctuation">)</span>  
        <span class="token comment"># 设置矩形的尺寸和位置  </span>
        self<span class="token punctuation">.</span>setRect<span class="token punctuation">(</span>QRectF<span class="token punctuation">(</span>start<span class="token punctuation">,</span> row <span class="token operator">*</span> <span class="token number">50</span><span class="token punctuation">,</span> duration<span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
        self<span class="token punctuation">.</span>setBrush<span class="token punctuation">(</span>QColor<span class="token punctuation">(</span>color<span class="token punctuation">)</span><span class="token punctuation">)</span>  
        self<span class="token punctuation">.</span>setPen<span class="token punctuation">(</span>QPen<span class="token punctuation">(</span>QColor<span class="token punctuation">(</span><span class="token string">'black'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 添加边框  </span>
  
        <span class="token comment"># 添加文本标签  </span>
        text_item <span class="token operator">=</span> QGraphicsTextItem<span class="token punctuation">(</span>text<span class="token punctuation">,</span> self<span class="token punctuation">)</span>  
        text_item<span class="token punctuation">.</span>setFont<span class="token punctuation">(</span>QFont<span class="token punctuation">(</span><span class="token string">'Arial'</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
        text_item<span class="token punctuation">.</span>setDefaultTextColor<span class="token punctuation">(</span>QColor<span class="token punctuation">(</span><span class="token string">'black'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
        text_item<span class="token punctuation">.</span>setPos<span class="token punctuation">(</span>start <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">,</span> row <span class="token operator">*</span> <span class="token number">50</span> <span class="token operator">+</span> <span class="token number">5</span><span class="token punctuation">)</span>  
  
app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>  
  
<span class="token comment"># 创建场景  </span>
scene <span class="token operator">=</span> QGraphicsScene<span class="token punctuation">(</span><span class="token punctuation">)</span>  
  
<span class="token comment"># 创建甘特图条目  </span>
ganttItem1 <span class="token operator">=</span> GanttChartItem<span class="token punctuation">(</span><span class="token string">"项目1"</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'#78C0A8'</span><span class="token punctuation">)</span>  
ganttItem2 <span class="token operator">=</span> GanttChartItem<span class="token punctuation">(</span><span class="token string">"项目2"</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'#F4D35E'</span><span class="token punctuation">)</span>  
ganttItem3 <span class="token operator">=</span> GanttChartItem<span class="token punctuation">(</span><span class="token string">"项目3"</span><span class="token punctuation">,</span> <span class="token number">120</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'#EE964B'</span><span class="token punctuation">)</span>  
  
<span class="token comment"># 将条目添加到场景  </span>
scene<span class="token punctuation">.</span>addItem<span class="token punctuation">(</span>ganttItem1<span class="token punctuation">)</span>  
scene<span class="token punctuation">.</span>addItem<span class="token punctuation">(</span>ganttItem2<span class="token punctuation">)</span>  
scene<span class="token punctuation">.</span>addItem<span class="token punctuation">(</span>ganttItem3<span class="token punctuation">)</span>  
  
<span class="token comment"># 创建视图  </span>
view <span class="token operator">=</span> QGraphicsView<span class="token punctuation">(</span>scene<span class="token punctuation">)</span>  
  
<span class="token comment"># 设置合适的视图尺寸  </span>
view<span class="token punctuation">.</span>setSceneRect<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span>  
view<span class="token punctuation">.</span>setMinimumSize<span class="token punctuation">(</span><span class="token number">600</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">)</span>  
  
<span class="token comment"># 设置窗口标题  </span>
view<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">"python"</span><span class="token punctuation">)</span>  
  
<span class="token comment"># 显示视图窗口  </span>
view<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>  
  
sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span>app<span class="token punctuation">.</span>exec_<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p>在这个示例中，我们定义了一个 <code>GanttChartItem</code> 类来表示甘特图中的单个任务。每个任务在水平方向上表示其持续时间，在垂直方向上表示不同的任务行。<code>QGraphicsScene</code> 用于容纳这些任务，而 <code>QGraphicsView</code> 用于显示它们。</p> 
<h4><a id="_704"></a>平行坐标图</h4> 
<p><img src="https://images2.imgbox.com/e1/88/FvsYHBVg_o.png" alt="![[Pasted image 20231207235854.png]]"></p> 
<p>在 PyQtGraph 中直接绘制平行坐标图（Parallel Coordinates）并不直接支持，因为 PyQtGraph 主要用于绘制二维和三维的数据可视化图形，如折线图、散点图等。然而，您可以使用其他的Python库，如 <code>matplotlib</code> 或 <code>pandas</code>，来创建平行坐标图，并将其嵌入到 PyQt 应用程序中。</p> 
<p>以下是一个使用 Python、PyQt5 和 Matplotlib 创建平行坐标图的基本示例：</p> 
<p><strong>编写代码以创建平行坐标图</strong>:</p> 
<pre><code class="prism language-python">    <span class="token keyword">import</span> sys
    <span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd
    <span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
    <span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtWidgets <span class="token keyword">import</span> QApplication<span class="token punctuation">,</span> QMainWindow<span class="token punctuation">,</span> QVBoxLayout<span class="token punctuation">,</span> QWidget
    <span class="token keyword">from</span> matplotlib<span class="token punctuation">.</span>backends<span class="token punctuation">.</span>backend_qt5agg <span class="token keyword">import</span> FigureCanvasQTAgg <span class="token keyword">as</span> FigureCanvas
    <span class="token keyword">from</span> pandas<span class="token punctuation">.</span>plotting <span class="token keyword">import</span> parallel_coordinates

    <span class="token keyword">class</span> <span class="token class-name">ParallelCoordinatesWidget</span><span class="token punctuation">(</span>QWidget<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> parent<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token builtin">super</span><span class="token punctuation">(</span>ParallelCoordinatesWidget<span class="token punctuation">,</span> self<span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>parent<span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>figure<span class="token punctuation">,</span> self<span class="token punctuation">.</span>ax <span class="token operator">=</span> plt<span class="token punctuation">.</span>subplots<span class="token punctuation">(</span><span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>canvas <span class="token operator">=</span> FigureCanvas<span class="token punctuation">(</span>self<span class="token punctuation">.</span>figure<span class="token punctuation">)</span>

            layout <span class="token operator">=</span> QVBoxLayout<span class="token punctuation">(</span><span class="token punctuation">)</span>
            layout<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>self<span class="token punctuation">.</span>canvas<span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>setLayout<span class="token punctuation">(</span>layout<span class="token punctuation">)</span>

            self<span class="token punctuation">.</span>draw_parallel_coordinates<span class="token punctuation">(</span><span class="token punctuation">)</span>

        <span class="token keyword">def</span> <span class="token function">draw_parallel_coordinates</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token comment"># 创建数据</span>
            data <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
                <span class="token string">'A'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token string">'B'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token string">'C'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token string">'D'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>

            <span class="token comment"># 绘制平行坐标图</span>
            parallel_coordinates<span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token string">'A'</span><span class="token punctuation">,</span> ax<span class="token operator">=</span>self<span class="token punctuation">.</span>ax<span class="token punctuation">)</span>

            <span class="token comment"># 更新画布</span>
            self<span class="token punctuation">.</span>canvas<span class="token punctuation">.</span>draw<span class="token punctuation">(</span><span class="token punctuation">)</span>

    app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>
    mainWindow <span class="token operator">=</span> QMainWindow<span class="token punctuation">(</span><span class="token punctuation">)</span>
    mainWindow<span class="token punctuation">.</span>setCentralWidget<span class="token punctuation">(</span>ParallelCoordinatesWidget<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    mainWindow<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
    sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span>app<span class="token punctuation">.</span>exec_<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p>在这个示例中，我们定义了一个 <code>ParallelCoordinatesWidget</code> 类来展示平行坐标图。使用 Pandas 和 Matplotlib 创建平行坐标图，并将其嵌入到 PyQt5 应用程序中。</p> 
<p>通过本系列教程，我们了解了如何使用PyQt5结合PyQtGraph和其他库来创建一系列不同的图表，从而使数据更加生动且易于理解。从基础的图表到复杂的GIS表示，PyQt5提供了广泛的功能，以帮助开发者在Python中构建专业的数据可视化解决方案。</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/99a94fe6bbac67e2788e49ef4b082b4c/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">快速学习C&#43;&#43;中的模板</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/831dfcc514826547823ecf03b1e1ff94/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">详细学习Pyqt5的9种显示控件</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>