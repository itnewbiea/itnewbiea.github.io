<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>STM32CubeMX 按键控制LED - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="STM32CubeMX 按键控制LED" />
<meta property="og:description" content="目录
一、STM32知识要点
二、STM32CubeMX配置
1.引脚配置，将PB6设置为GPIO_Input ,PC13配置为GPIO_Output​编辑
2.然后点project manager进行下面两项配置
3.成功生成代码后直接打开工程文件 三、keil代码配置
1.GPIO电平输出函数
2.GPIO电平翻转函数
3.GPIO输入判定函数
4.将新生成的工程先编译,可以看到没有错误
5.通过按键，电平翻转方式实现led开关
6.点击LOAD下载，下载成功后可以看到单片机按键按下 LED开，再次按下关
一、STM32知识要点 GPIO：General Purpose Input &amp; Output
STM32的I/O端口可以由软件配置成8种模式：
1、推挽输出 5、模拟输入
2、开漏输出 6、浮空输入
3、推挽式复用功能 7、下拉输入
4、开漏式复用功能 8、上拉输入
二、STM32CubeMX配置 1.引脚配置，将PB6设置为GPIO_Input ,PC13配置为GPIO_Output
将PB6配置上拉
pc13输出高电平
2.然后点project manager进行下面两项配置 3.成功生成代码后直接打开工程文件 三、keil代码配置 1.GPIO电平输出函数 PC13引脚输出低电平点亮LED
HAL_GPIO_WritePin(GPIOC,GPIO_PIN_13,GPIO_PIN_RESET); PC13引脚输出高电平
HAL_GPIO_WritePin(GPIOC,GPIO_PIN_13,GPIO_PIN_SET); 2.GPIO电平翻转函数
HAL_GPIO_TogglePin(GPIOC,GPIO_PIN_13); 3.GPIO输入判定函数 if(HAL_GPIO_ReadPin(GPIOB,GPIO_PIN_6)==GPIO_PIN_RESET) { HAL_GPIO_TogglePin(GPIOC,GPIO_PIN_13); } 4.将新生成的工程先编译,可以看到没有错误 5.通过按键，电平翻转方式实现led开关 6.点击LOAD下载，下载成功后可以看到单片机按键按下 LED开，再次按下关 链接:https://pan.baidu.com/s/1iZf8z1HFVra4sMWwhcMxMQ 密码:v3io" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/b8b5d2573e12310f2c771df0a4345a1f/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-12-06T21:35:17+08:00" />
<meta property="article:modified_time" content="2023-12-06T21:35:17+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">STM32CubeMX 按键控制LED</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="%E4%B8%80%E3%80%81STM32%E7%9F%A5%E8%AF%86%E8%A6%81%E7%82%B9-toc" style="margin-left:0px;"><a href="#%E4%B8%80%E3%80%81STM32%E7%9F%A5%E8%AF%86%E8%A6%81%E7%82%B9" rel="nofollow">一、STM32知识要点</a></p> 
<p id="%E4%BA%8C%E3%80%81STM32CubeMX%E9%85%8D%E7%BD%AE-toc" style="margin-left:0px;"><a href="#%E4%BA%8C%E3%80%81STM32CubeMX%E9%85%8D%E7%BD%AE" rel="nofollow">二、STM32CubeMX配置</a></p> 
<p id="1.%E5%BC%95%E8%84%9A%E9%85%8D%E7%BD%AE%EF%BC%8C%E5%B0%86PB6%E8%AE%BE%E7%BD%AE%E4%B8%BAGPIO_Input%20%2CPC13%E9%85%8D%E7%BD%AE%E4%B8%BAGPIO_Output%E2%80%8B%E7%BC%96%E8%BE%91-toc" style="margin-left:80px;"><a href="#1.%E5%BC%95%E8%84%9A%E9%85%8D%E7%BD%AE%EF%BC%8C%E5%B0%86PB6%E8%AE%BE%E7%BD%AE%E4%B8%BAGPIO_Input%20%2CPC13%E9%85%8D%E7%BD%AE%E4%B8%BAGPIO_Output%E2%80%8B%E7%BC%96%E8%BE%91" rel="nofollow">1.引脚配置，将PB6设置为GPIO_Input ,PC13配置为GPIO_Output​编辑</a></p> 
<p id="2.%E7%84%B6%E5%90%8E%E7%82%B9project%20manager%E8%BF%9B%E8%A1%8C%E4%B8%8B%E9%9D%A2%E4%B8%A4%E9%A1%B9%E9%85%8D%E7%BD%AE-toc" style="margin-left:80px;"><a href="#2.%E7%84%B6%E5%90%8E%E7%82%B9project%20manager%E8%BF%9B%E8%A1%8C%E4%B8%8B%E9%9D%A2%E4%B8%A4%E9%A1%B9%E9%85%8D%E7%BD%AE" rel="nofollow">2.然后点project manager进行下面两项配置</a></p> 
<p id="%C2%A03.%E6%88%90%E5%8A%9F%E7%94%9F%E6%88%90%E4%BB%A3%E7%A0%81%E5%90%8E%E7%9B%B4%E6%8E%A5%E6%89%93%E5%BC%80%E5%B7%A5%E7%A8%8B%E6%96%87%E4%BB%B6%C2%A0-toc" style="margin-left:80px;"><a href="#%C2%A03.%E6%88%90%E5%8A%9F%E7%94%9F%E6%88%90%E4%BB%A3%E7%A0%81%E5%90%8E%E7%9B%B4%E6%8E%A5%E6%89%93%E5%BC%80%E5%B7%A5%E7%A8%8B%E6%96%87%E4%BB%B6%C2%A0" rel="nofollow">3.成功生成代码后直接打开工程文件 </a></p> 
<p id="%E4%B8%89%E3%80%81keil%E4%BB%A3%E7%A0%81%E9%85%8D%E7%BD%AE-toc" style="margin-left:0px;"><a href="#%E4%B8%89%E3%80%81keil%E4%BB%A3%E7%A0%81%E9%85%8D%E7%BD%AE" rel="nofollow">三、keil代码配置</a></p> 
<p id="1.GPIO%E7%94%B5%E5%B9%B3%E8%BE%93%E5%87%BA%E5%87%BD%E6%95%B0-toc" style="margin-left:80px;"><a href="#1.GPIO%E7%94%B5%E5%B9%B3%E8%BE%93%E5%87%BA%E5%87%BD%E6%95%B0" rel="nofollow">1.GPIO电平输出函数</a></p> 
<p id="2.GPIO%E7%94%B5%E5%B9%B3%E7%BF%BB%E8%BD%AC%E5%87%BD%E6%95%B0-toc" style="margin-left:80px;"><a href="#2.GPIO%E7%94%B5%E5%B9%B3%E7%BF%BB%E8%BD%AC%E5%87%BD%E6%95%B0" rel="nofollow">2.GPIO电平翻转函数</a></p> 
<p id="3.GPIO%E8%BE%93%E5%85%A5%E5%88%A4%E5%AE%9A%E5%87%BD%E6%95%B0-toc" style="margin-left:80px;"><a href="#3.GPIO%E8%BE%93%E5%85%A5%E5%88%A4%E5%AE%9A%E5%87%BD%E6%95%B0" rel="nofollow">3.GPIO输入判定函数</a></p> 
<p id="4.%E5%B0%86%E6%96%B0%E7%94%9F%E6%88%90%E7%9A%84%E5%B7%A5%E7%A8%8B%E5%85%88%E7%BC%96%E8%AF%91%2C%E5%8F%AF%E4%BB%A5%E7%9C%8B%E5%88%B0%E6%B2%A1%E6%9C%89%E9%94%99%E8%AF%AF-toc" style="margin-left:80px;"><a href="#4.%E5%B0%86%E6%96%B0%E7%94%9F%E6%88%90%E7%9A%84%E5%B7%A5%E7%A8%8B%E5%85%88%E7%BC%96%E8%AF%91%2C%E5%8F%AF%E4%BB%A5%E7%9C%8B%E5%88%B0%E6%B2%A1%E6%9C%89%E9%94%99%E8%AF%AF" rel="nofollow">4.将新生成的工程先编译,可以看到没有错误</a></p> 
<p id="5.%E9%80%9A%E8%BF%87%E6%8C%89%E9%94%AE%EF%BC%8C%E7%94%B5%E5%B9%B3%E7%BF%BB%E8%BD%AC%E6%96%B9%E5%BC%8F%E5%AE%9E%E7%8E%B0led%E5%BC%80%E5%85%B3-toc" style="margin-left:80px;"><a href="#5.%E9%80%9A%E8%BF%87%E6%8C%89%E9%94%AE%EF%BC%8C%E7%94%B5%E5%B9%B3%E7%BF%BB%E8%BD%AC%E6%96%B9%E5%BC%8F%E5%AE%9E%E7%8E%B0led%E5%BC%80%E5%85%B3" rel="nofollow">5.通过按键，电平翻转方式实现led开关</a></p> 
<p id="6.%E7%82%B9%E5%87%BBLOAD%E4%B8%8B%E8%BD%BD%EF%BC%8C%E4%B8%8B%E8%BD%BD%E6%88%90%E5%8A%9F%E5%90%8E%E5%8F%AF%E4%BB%A5%E7%9C%8B%E5%88%B0%E5%8D%95%E7%89%87%E6%9C%BA%E6%8C%89%E9%94%AE%E6%8C%89%E4%B8%8B%20LED%E5%BC%80%EF%BC%8C%E5%86%8D%E6%AC%A1%E6%8C%89%E4%B8%8B%E5%85%B3-toc" style="margin-left:80px;"><a href="#6.%E7%82%B9%E5%87%BBLOAD%E4%B8%8B%E8%BD%BD%EF%BC%8C%E4%B8%8B%E8%BD%BD%E6%88%90%E5%8A%9F%E5%90%8E%E5%8F%AF%E4%BB%A5%E7%9C%8B%E5%88%B0%E5%8D%95%E7%89%87%E6%9C%BA%E6%8C%89%E9%94%AE%E6%8C%89%E4%B8%8B%20LED%E5%BC%80%EF%BC%8C%E5%86%8D%E6%AC%A1%E6%8C%89%E4%B8%8B%E5%85%B3" rel="nofollow">6.点击LOAD下载，下载成功后可以看到单片机按键按下 LED开，再次按下关</a></p> 
<hr> 
<p></p> 
<h2 id="%E4%B8%80%E3%80%81STM32%E7%9F%A5%E8%AF%86%E8%A6%81%E7%82%B9">一、STM32知识要点</h2> 
<p><br>         GPIO：General Purpose Input &amp; Output</p> 
<p>        STM32的I/O端口可以由软件配置成8种模式：</p> 
<p>        1、推挽输出                   5、模拟输入</p> 
<p>        2、开漏输出                   6、浮空输入</p> 
<p>        3、推挽式复用功能        7、下拉输入</p> 
<p>        4、开漏式复用功能        8、上拉输入</p> 
<h2 id="%E4%BA%8C%E3%80%81STM32CubeMX%E9%85%8D%E7%BD%AE">二、STM32CubeMX配置</h2> 
<h4 id="1.%E5%BC%95%E8%84%9A%E9%85%8D%E7%BD%AE%EF%BC%8C%E5%B0%86PB6%E8%AE%BE%E7%BD%AE%E4%B8%BAGPIO_Input%20%2CPC13%E9%85%8D%E7%BD%AE%E4%B8%BAGPIO_Output%E2%80%8B%E7%BC%96%E8%BE%91"><br> 1.引脚配置，将PB6设置为GPIO_Input ,PC13配置为GPIO_Output<br><img alt="" height="382" src="https://images2.imgbox.com/a4/c2/JVbQxmmf_o.png" width="458"></h4> 
<p></p> 
<p> 将PB6配置上拉</p> 
<p> <img alt="" height="717" src="https://images2.imgbox.com/71/a5/NlGOUKdt_o.png" width="800"></p> 
<p>pc13输出高电平</p> 
<p><img alt="" height="605" src="https://images2.imgbox.com/d1/3a/CnjLpzEg_o.png" width="849"></p> 
<p></p> 
<h4 id="2.%E7%84%B6%E5%90%8E%E7%82%B9project%20manager%E8%BF%9B%E8%A1%8C%E4%B8%8B%E9%9D%A2%E4%B8%A4%E9%A1%B9%E9%85%8D%E7%BD%AE">2.然后点project manager进行下面两项配置</h4> 
<p><img alt="" height="717" src="https://images2.imgbox.com/fb/bc/PXqZy6lB_o.png" width="1200"></p> 
<p><img alt="" height="672" src="https://images2.imgbox.com/4a/da/EMdDMh7l_o.png" width="1200"></p> 
<h4></h4> 
<h4 id="%C2%A03.%E6%88%90%E5%8A%9F%E7%94%9F%E6%88%90%E4%BB%A3%E7%A0%81%E5%90%8E%E7%9B%B4%E6%8E%A5%E6%89%93%E5%BC%80%E5%B7%A5%E7%A8%8B%E6%96%87%E4%BB%B6%C2%A0"><strong>3.成功生成代码后直接打开工程文件 </strong></h4> 
<p><img alt="" height="161" src="https://images2.imgbox.com/e4/80/S3N0hl08_o.png" width="365"></p> 
<p></p> 
<h2 id="%E4%B8%89%E3%80%81keil%E4%BB%A3%E7%A0%81%E9%85%8D%E7%BD%AE">三、keil代码配置</h2> 
<h4 id="1.GPIO%E7%94%B5%E5%B9%B3%E8%BE%93%E5%87%BA%E5%87%BD%E6%95%B0"><br> 1.GPIO电平输出函数</h4> 
<p><br>    PC13引脚输出低电平点亮LED</p> 
<pre><code class="hljs"> HAL_GPIO_WritePin(GPIOC,GPIO_PIN_13,GPIO_PIN_RESET);</code></pre> 
<p>   PC13引脚输出高电平</p> 
<pre><code class="hljs">     HAL_GPIO_WritePin(GPIOC,GPIO_PIN_13,GPIO_PIN_SET);</code></pre> 
<h4 id="2.GPIO%E7%94%B5%E5%B9%B3%E7%BF%BB%E8%BD%AC%E5%87%BD%E6%95%B0">2.GPIO电平翻转函数<br>      </h4> 
<pre><code class="hljs">  HAL_GPIO_TogglePin(GPIOC,GPIO_PIN_13);</code></pre> 
<h4 id="3.GPIO%E8%BE%93%E5%85%A5%E5%88%A4%E5%AE%9A%E5%87%BD%E6%95%B0">3.GPIO输入判定函数</h4> 
<pre><code class="hljs">if(HAL_GPIO_ReadPin(GPIOB,GPIO_PIN_6)==GPIO_PIN_RESET)

{

        HAL_GPIO_TogglePin(GPIOC,GPIO_PIN_13);

}</code></pre> 
<h4 id="4.%E5%B0%86%E6%96%B0%E7%94%9F%E6%88%90%E7%9A%84%E5%B7%A5%E7%A8%8B%E5%85%88%E7%BC%96%E8%AF%91%2C%E5%8F%AF%E4%BB%A5%E7%9C%8B%E5%88%B0%E6%B2%A1%E6%9C%89%E9%94%99%E8%AF%AF">4.将新生成的工程先编译,可以看到没有错误</h4> 
<p><img alt="" height="818" src="https://images2.imgbox.com/4d/db/3LjX0Qct_o.png" width="1200"></p> 
<h4 id="5.%E9%80%9A%E8%BF%87%E6%8C%89%E9%94%AE%EF%BC%8C%E7%94%B5%E5%B9%B3%E7%BF%BB%E8%BD%AC%E6%96%B9%E5%BC%8F%E5%AE%9E%E7%8E%B0led%E5%BC%80%E5%85%B3">5.通过按键，电平翻转方式实现led开关</h4> 
<p><img alt="" height="552" src="https://images2.imgbox.com/f5/51/es1CErfF_o.png" width="812"></p> 
<h4 id="6.%E7%82%B9%E5%87%BBLOAD%E4%B8%8B%E8%BD%BD%EF%BC%8C%E4%B8%8B%E8%BD%BD%E6%88%90%E5%8A%9F%E5%90%8E%E5%8F%AF%E4%BB%A5%E7%9C%8B%E5%88%B0%E5%8D%95%E7%89%87%E6%9C%BA%E6%8C%89%E9%94%AE%E6%8C%89%E4%B8%8B%20LED%E5%BC%80%EF%BC%8C%E5%86%8D%E6%AC%A1%E6%8C%89%E4%B8%8B%E5%85%B3">6.点击LOAD下载，下载成功后可以看到单片机按键按下 LED开，再次按下关</h4> 
<p>链接:https://pan.baidu.com/s/1iZf8z1HFVra4sMWwhcMxMQ  密码:v3io</p> 
<p></p> 
<p></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e5c6d6d8fe9869e5f895d9429603443f/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">制作一个RISC-V的操作系统五-RISC-V汇编语言编程三</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/d2956eff3f8209e82d0de7c589da1ac6/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">TikTok API接口，博主视频列表</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>