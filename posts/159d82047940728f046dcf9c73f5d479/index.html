<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>快速创建一个 Servlet 应用程序 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="快速创建一个 Servlet 应用程序" />
<meta property="og:description" content="目录
1、在 pom.xml 文件中引入 servlet-api 依赖
2、使用注解定义一个 Servlet
3、添加 web.xml 配置文件
4、直接使用 Tomcat 部署 Servlet 程序
5、附：如何在 Idea 中启动一个 Tomcat？
6、解决 Tomcat 控制台乱码问题
1、在 pom.xml 文件中引入 servlet-api 依赖 创建一个普通的 Maven 工程（方便依赖导入），在 pom.xml 中需要引入 servlet-api 的 jar 包，完整的配置信息如下： // Servlet并不是Java SE的一部分，所以引入JDK后，servlet-api 包还要额外引入
&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt; &lt;project xmlns=&#34;http://maven.apache.org/POM/4.0.0&#34; xmlns:xsi=&#34;http://www.w3.org/2001/XMLSchema-instance&#34; xsi:schemaLocation=&#34;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&#34;&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;servlet&lt;/groupId&gt; &lt;artifactId&gt;servlet&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;!--javax.servlet-api--&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;javax.servlet&lt;/groupId&gt; &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt; &lt;version&gt;3.1.0&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;/project&gt; 创建 web 工程的完整目录（主要是明确 web.xml 文件位置，必须在 WEB-INF 文件夹下），参照下图文件结构" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/159d82047940728f046dcf9c73f5d479/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-12-28T17:16:19+08:00" />
<meta property="article:modified_time" content="2023-12-28T17:16:19+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">快速创建一个 Servlet 应用程序</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="1%E3%80%81%E5%9C%A8%20pom.xml%20%E6%96%87%E4%BB%B6%E4%B8%AD%E5%BC%95%E5%85%A5%20servlet-api%20%E4%BE%9D%E8%B5%96-toc" style="margin-left:80px;"><a href="#1%E3%80%81%E5%9C%A8%20pom.xml%20%E6%96%87%E4%BB%B6%E4%B8%AD%E5%BC%95%E5%85%A5%20servlet-api%20%E4%BE%9D%E8%B5%96" rel="nofollow">1、在 pom.xml 文件中引入 servlet-api 依赖</a></p> 
<p id="2%E3%80%81%E4%BD%BF%E7%94%A8%E6%B3%A8%E8%A7%A3%E5%AE%9A%E4%B9%89%E4%B8%80%E4%B8%AA%C2%A0Servlet-toc" style="margin-left:80px;"><a href="#2%E3%80%81%E4%BD%BF%E7%94%A8%E6%B3%A8%E8%A7%A3%E5%AE%9A%E4%B9%89%E4%B8%80%E4%B8%AA%C2%A0Servlet" rel="nofollow">2、使用注解定义一个 Servlet</a></p> 
<p id="3%E3%80%81%E6%B7%BB%E5%8A%A0%20web.xml%20%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6-toc" style="margin-left:80px;"><a href="#3%E3%80%81%E6%B7%BB%E5%8A%A0%20web.xml%20%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6" rel="nofollow">3、添加 web.xml 配置文件</a></p> 
<p id="4%E3%80%81%E7%9B%B4%E6%8E%A5%E4%BD%BF%E7%94%A8%20Tomcat%20%E9%83%A8%E7%BD%B2%20Servlet%20%E7%A8%8B%E5%BA%8F-toc" style="margin-left:80px;"><a href="#4%E3%80%81%E7%9B%B4%E6%8E%A5%E4%BD%BF%E7%94%A8%20Tomcat%20%E9%83%A8%E7%BD%B2%20Servlet%20%E7%A8%8B%E5%BA%8F" rel="nofollow">4、直接使用 Tomcat 部署 Servlet 程序</a></p> 
<p id="5%E3%80%81%E9%99%84%EF%BC%9A%E5%A6%82%E4%BD%95%E5%9C%A8%20Idea%20%E4%B8%AD%E5%90%AF%E5%8A%A8%E4%B8%80%E4%B8%AA%C2%A0Tomcat%EF%BC%9F-toc" style="margin-left:80px;"><a href="#5%E3%80%81%E9%99%84%EF%BC%9A%E5%A6%82%E4%BD%95%E5%9C%A8%20Idea%20%E4%B8%AD%E5%90%AF%E5%8A%A8%E4%B8%80%E4%B8%AA%C2%A0Tomcat%EF%BC%9F" rel="nofollow">5、附：如何在 Idea 中启动一个 Tomcat？</a></p> 
<p id="6%E3%80%81%E8%A7%A3%E5%86%B3%20Tomcat%20%E6%8E%A7%E5%88%B6%E5%8F%B0%E4%B9%B1%E7%A0%81%E9%97%AE%E9%A2%98-toc" style="margin-left:80px;"><a href="#6%E3%80%81%E8%A7%A3%E5%86%B3%20Tomcat%20%E6%8E%A7%E5%88%B6%E5%8F%B0%E4%B9%B1%E7%A0%81%E9%97%AE%E9%A2%98" rel="nofollow">6、解决 Tomcat 控制台乱码问题</a></p> 
<hr id="hr-toc"> 
<p></p> 
<h4 id="1%E3%80%81%E5%9C%A8%20pom.xml%20%E6%96%87%E4%BB%B6%E4%B8%AD%E5%BC%95%E5%85%A5%20servlet-api%20%E4%BE%9D%E8%B5%96">1、在 pom.xml 文件中引入 servlet-api 依赖</h4> 
<p id="main-toc">        创建一个普通的 Maven 工程（方便依赖导入），在 pom.xml 中<span style="color:#fe2c24;">需要引入<em> servlet-api </em>的 jar 包</span>，完整的配置信息如下：<span style="color:#4da8ee;"> // Servlet并不是Java SE的一部分，所以引入JDK后，servlet-api 包还要额外引入</span></p> 
<pre><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;
    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;

    &lt;groupId&gt;servlet&lt;/groupId&gt;
    &lt;artifactId&gt;servlet&lt;/artifactId&gt;
    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;

    &lt;!--javax.servlet-api--&gt;
    &lt;dependencies&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;
            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;
            &lt;version&gt;3.1.0&lt;/version&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;

&lt;/project&gt;</code></pre> 
<p>        创建 web 工程的完整目录（主要是明确 <em><strong><span style="color:#fe2c24;">web.xml </span></strong></em>文件位置，必须在 <span style="color:#fe2c24;"><em><strong>WEB-INF</strong></em> </span>文件夹下），参照下图文件结构</p> 
<p class="img-center"><img alt="" height="342" src="https://images2.imgbox.com/43/72/PgMknnUO_o.png" width="331"></p> 
<p>        web.xml 配置文件内容：</p> 
<pre><code>​&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;web-app xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xmlns="http://xmlns.jcp.org/xml/ns/javaee"
  xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee
                             http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd"
  version="4.0"&gt;

&lt;/web-app&gt;</code></pre> 
<h4 id="2%E3%80%81%E4%BD%BF%E7%94%A8%E6%B3%A8%E8%A7%A3%E5%AE%9A%E4%B9%89%E4%B8%80%E4%B8%AA%C2%A0Servlet">2、使用注解定义一个 Servlet</h4> 
<p>        接下来写 Java 代码，在项目中创建一个 Java 类，并将其声明为 Servlet。使用 <span style="color:#fe2c24;"><em>@WebServlet </em></span>注解指定 Servlet 的名称和 URL 模式，示例代码如下：<span style="color:#4da8ee;">//使用注解配置，需要注意Servlet API 版本</span></p> 
<pre><code>import java.io.IOException;
import java.io.PrintWriter;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

@WebServlet(name = "MyServlet", urlPatterns = { "/hello" })
public class MyServlet extends HttpServlet {
    
    protected void doGet(HttpServletRequest request, HttpServletResponse response)
            throws IOException {
        response.setContentType("text/html;charset=UTF-8");
        PrintWriter out = response.getWriter();
        out.println("&lt;html&gt;");
        out.println("&lt;head&gt;&lt;title&gt;Hello Servlet&lt;/title&gt;&lt;/head&gt;");
        out.println("&lt;body&gt;");
        out.println("&lt;h1&gt;Hello Servlet&lt;/h1&gt;");
        out.println("&lt;/body&gt;");
        out.println("&lt;/html&gt;");
    }
}
</code></pre> 
<p>        在上面的代码中，我们创建了一个名为 <em>MyServlet</em> 的类，并使用<em> @WebServlet </em>注解指定了它的 <em>name </em>属性为 <em>MyServlet</em>，<em>URL </em>匹配模式为 <em>/hello</em>。在 HttpServlet 接口的实现中，重写了 <span style="color:#fe2c24;"><em>doGet() </em></span>方法，在该方法中生成了一个<em> HTML</em> 页面，并将其发送给客户端。</p> 
<p>       <span style="color:#fe2c24;"> <em>@WebServlet </em>注解</span>：@WebServlet 注解用于在 Servlet 3.0 之后的版本中定义一个 Servlet。使用 @WebServlet 注解可以将一个类声明为一个 Servlet，并指定 Servlet 的名称、URL 模式、初始化参数等信息。<span style="color:#4da8ee;">//使用注解可以省略繁琐的XML配置</span></p> 
<h4 id="3%E3%80%81%E6%B7%BB%E5%8A%A0%20web.xml%20%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6">3、添加 web.xml 配置文件</h4> 
<p>        添加项目的部署描述符（即<em><span style="color:#fe2c24;"> web.xml </span></em>文件），文件内容同上，不再赘述。</p> 
<p>        接下来，创建一个启动容器后，即可访问的首页<em> index.html</em>（此步骤非必需），index.html 内容如下：</p> 
<pre><code>&lt;!DOCTYPE HTML&gt;&lt;html lang="en"&gt;&lt;head&gt;
&lt;meta charset="UTF-8"&gt;
    &lt;title&gt;Apache Tomcat Examples&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h3&gt;
        welcome to servlet !!!
    &lt;/H3&gt;
&lt;/body&gt;&lt;/html&gt;</code></pre> 
<p>        最后，启动 Web 服务器（<em>Tomcat</em>），访问<em> http://localhost:8080/&lt;应用名称&gt;/hello</em>，可以看到生成的<em> HTML </em>页面。<span style="color:#4da8ee;">// Tomcat 的默认端口为 8080，<em>&lt;应用名称&gt; 可不配置</em></span></p> 
<p class="img-center"><img alt="" height="171" src="https://images2.imgbox.com/ca/02/Mfi7gCwO_o.png" width="600"></p> 
<p>        到此，创建一个 HttpServlet 应用程序的所有代码都已经完成了。</p> 
<h4 id="4%E3%80%81%E7%9B%B4%E6%8E%A5%E4%BD%BF%E7%94%A8%20Tomcat%20%E9%83%A8%E7%BD%B2%20Servlet%20%E7%A8%8B%E5%BA%8F">4、直接使用 Tomcat 部署 Servlet 程序</h4> 
<p>        这里建议部署 <em>Servlet/JSP </em>应用程序的方法是将它<span style="color:#fe2c24;">打包成一个 war 文件来进行部署</span>。war 文件是指以 war 作为扩展名的 jar 文件。将 war 文件复制到 Tomcat 的 webapps 目录下。当启动或者重启 Tomcat 时，Tomcat 会自动解压 war 文件。<span style="color:#fe2c24;">以 war 文件的方式部署，这在所有的 Servlet 容器中都适用</span>。<span style="color:#4da8ee;">// Java 中有很多方式可以打 war 包</span></p> 
<p>        此处，使用 maven 来打一个 war 包，在打包之前，修改一下 pom.xml 文件，<span style="color:#fe2c24;">修改打包的类型为 war 包</span>：<span style="color:#4da8ee;">//注意，我这里改了项目名字，不要直接复制</span></p> 
<pre><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;project xmlns="http://maven.apache.org/POM/4.0.0"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;
  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;

  &lt;groupId&gt;org.example&lt;/groupId&gt;
  &lt;artifactId&gt;servlet-test&lt;/artifactId&gt;
  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;
  &lt;!--此处，修改打包的类型为war,如果不配置，maven会默认打包成jar包--&gt;
  &lt;packaging&gt;war&lt;/packaging&gt;

    &lt;!--javax.servlet-api--&gt;
    &lt;dependencies&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;
            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;
            &lt;version&gt;3.1.0&lt;/version&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;

&lt;/project&gt;</code></pre> 
<p>        使用 maven 打包 war 包，如图点击 package：<span style="color:#4da8ee;">//也可以在 Idea Terminal 中使用命令方式</span></p> 
<p class="img-center"><img alt="" height="369" src="https://images2.imgbox.com/3e/17/TAqWmHzH_o.png" width="700"></p> 
<p>        然后将 war 文件复制到 Tomcat 的 webapps 目录下。启动 Tomcat （windows 下双击 bin 目录中的 startup.bat 文件即可）</p> 
<p class="img-center"><img alt="" height="374" src="https://images2.imgbox.com/33/32/rKGsgcbH_o.png" width="700"></p> 
<p>        打开任意浏览器输入：<a href="http://localhost:8080/servlet-test-1.0-SNAPSHOT/hello" rel="nofollow" title="http://localhost:8080/servlet-test-1.0-SNAPSHOT/hello">http://localhost:8080/servlet-test-1.0-SNAPSHOT/hello</a> 即可访问到部署的 war 包项目：<span style="color:#4da8ee;">//我此处没有修改包名，所以路径直接为：servlet-test-1.0-SNAPSHOT</span></p> 
<p class="img-center"><img alt="" height="123" src="https://images2.imgbox.com/d0/f8/YN7XsxhC_o.png" width="600"></p> 
<p>        Tomcat 默认端口号为 8080，如果想修改端口号，打开 Tomcat 中的 conf 文件夹找到server.xml 文件，对如下内容中的 port 进行修改即可：</p> 
<pre><code>&lt;Connector port="8080" protocol="HTTP/1.1"
               connectionTimeout="20000"
               redirectPort="8443"
               maxParameterCount="1000"
               /&gt;</code></pre> 
<h4 id="5%E3%80%81%E9%99%84%EF%BC%9A%E5%A6%82%E4%BD%95%E5%9C%A8%20Idea%20%E4%B8%AD%E5%90%AF%E5%8A%A8%E4%B8%80%E4%B8%AA%C2%A0Tomcat%EF%BC%9F">5、附：如何在 Idea 中启动一个 Tomcat？</h4> 
<p>        创建 Servlet 项目时，如果 IDEA 没有自动把 webapp 目录标记为 web 资源目录（目录文件夹上有一个小蓝点标记），那么就需要手动进行标记。</p> 
<p>        点击 <strong><em>File -&gt; Project Structure -&gt; 点击左侧Modules -&gt; 点击加号 -&gt; 选择web</em></strong></p> 
<p style="text-align:center;"><img alt="" height="445" src="https://images2.imgbox.com/31/3c/L8RNAH2z_o.png" width="750"></p> 
<p>        接下来检查<em> Facets </em>的配置路径是否正确（跟 <em>Modules </em>中的配置路径一致），准确无误的话，下边就可以配置事件了。</p> 
<p>        点击：<em><strong>File -&gt; Project Structure -&gt; 点击左侧Artifacts -&gt; 点击加号 -&gt; 选择Web Application</strong></em>，如下图所示：</p> 
<p style="text-align:center;"><img alt="" height="476" src="https://images2.imgbox.com/14/34/WuB3tfM8_o.png" width="750"></p> 
<p>        此时，会弹出一个 <em>Servlet </em>(项目名称)选项可供选择，选择确认后，结果如下图，到此，<em>Artifacts </em>内容就配置完成了。</p> 
<p style="text-align:center;"><img alt="" height="217" src="https://images2.imgbox.com/b3/46/xGGvTB3d_o.png" width="750"></p> 
<p>        接下来，准备好一个干净的 Tomcat，如图所示，把 Tomcat 添加到项目中：</p> 
<p style="text-align:center;"><img alt="" height="423" src="https://images2.imgbox.com/33/c3/67z86mum_o.png" width="750"></p> 
<p>        此时，Tomcat 还不能正常使用，我们需要添加部署内容，如图，点击 <em>Deployment </em>进行添加（此内容就是上边我们配置的 <em>Artifacts</em>）</p> 
<p style="text-align:center;"><img alt="" height="443" src="https://images2.imgbox.com/e8/4c/3Po9YIFn_o.png" width="750"></p> 
<p>        OK，到这里，我们所有的准备工作都完成了，运行我们的 Tomcat，会直接跳转到我们的默认首页，如下图所示：</p> 
<p style="text-align:center;"><img alt="" height="152" src="https://images2.imgbox.com/f3/8a/qBKvj4jG_o.png" width="650"></p> 
<h4 id="6%E3%80%81%E8%A7%A3%E5%86%B3%20Tomcat%20%E6%8E%A7%E5%88%B6%E5%8F%B0%E4%B9%B1%E7%A0%81%E9%97%AE%E9%A2%98">6、解决 Tomcat 控制台乱码问题</h4> 
<p>        在 Tomcat 的 conf 文件夹中，找到 logging.properties 日志配置文件，修改内容如下：</p> 
<pre><code>java.util.logging.ConsoleHandler.level = FINE
java.util.logging.ConsoleHandler.formatter = org.apache.juli.OneLineFormatter
java.util.logging.ConsoleHandler.encoding = GBK</code></pre> 
<p>        即把 <em>encoding  = UTF-8</em> 直接修改成 <em>encoding = GBK。</em></p> 
<p><em>        </em>出现乱码的原因是由于电脑命令窗口和 Idea 控制台的编码是 GBK，而 Tomcat 的编码是 <em>UTF-8</em>。<span style="color:#4da8ee;">//乱码的根本原因就是编码不一致</span></p> 
<p>        如果修改  logging.properties 文件后，Idea 控制台的 Tomcat 日志仍然乱码，就需要去查看 Idea 控制台的默认配置是否进行了更改，如下图，Idea 控制台默认使用 GBK 编码：</p> 
<p class="img-center"><img alt="" height="480" src="https://images2.imgbox.com/a6/8b/jmHg03AM_o.png" width="700"></p> 
<p>        至此，全文结束。</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/09fb3f79d3871cbd5e9e7e87f87cb850/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">svg学习</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/3155545d461fefbb6390aa850fd89737/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">算法练习Day23 （Leetcode/Python-回溯算法）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>