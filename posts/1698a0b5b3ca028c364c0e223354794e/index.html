<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>小结“线程间操作无效: 从不是创建控件的线程访问它” 错误的解决方法 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="小结“线程间操作无效: 从不是创建控件的线程访问它” 错误的解决方法" />
<meta property="og:description" content="在编程中经常会遇到在一个按钮中执行复杂操作，并将复杂操作最后返回的值加入一个ListView或ComboBox中候选。这个时候程序会卡，当程序员将这些卡代码放进线程(Thread)中后发现当对控件操作时出现 “线程间操作无效: 从不是创建控件的线程访问它”异常。
为什么.net不让我们跨线程操作控件，这是有好处的。因为如果你的线程多了，那么当两个线程同时尝试将一个控件变为自己需要的状态时，线程的死锁就会发生。但是难道就是因为这个原因，我们就只能让程序卡着么？当然不是，这里教大家一个解决方案：用BackGroundWorker
这里通过一个实例来告诉大家BackGroundWorker的用法。
首先我们先定义一个BackGroundWorker，大家可以去面板上拖一个，也可以自己手工定义一个。
this .backgroundWorker_Combo = new System.ComponentModel.BackgroundWorker(); // 定义一个backGroundWorker this .backgroundWorker_Combo.WorkerSupportsCancellation = true ; // 设置能否取消任务 this .backgroundWorker_Combo.DoWork &#43;= new System.ComponentModel.DoWorkEventHandler( this .backgroundWorker_Combo_DoWork); // 让backgroundWorker做的事 this .backgroundWorker_Combo.RunWorkerCompleted &#43;= new System.ComponentModel.RunWorkerCompletedEventHandler( this .backgroundWorker_Combo_RunWorkerCompleted); // 当backgroundWorker做完后发生的事件 如果是从面板上拖的，那么请在DoWork事件上双击，添加那些你想在背景线程中执行的代码，也就是那些可能会让你卡的代码。 然后再在RunWorkerCompleted事件上双击，添加那些你想往控件里操作的代码。 这里有一个开发实例，讲的是实现类似Google搜索中下拉列表的实现。其思路是在DoWork中搜索数据库，在Completed中将搜出来的东西放进去。 本文需要一个backgroundWorker，一个ComboBox控件 static char x;
/**/ /**/ /**/ /// &lt;summary&gt;
/// 接受从DLL搜出来的项目
/// &lt;/summary&gt; private string [] global_ListItem;
private void backgroundWorker_Combo_RunWorkerCompleted( object sender, RunWorkerCompletedEventArgs e)
{//如果数组中有东西，那么加入ComboBox
if (global_ListItem.Length&gt;0)
{" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/1698a0b5b3ca028c364c0e223354794e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2008-08-27T15:21:00+08:00" />
<meta property="article:modified_time" content="2008-08-27T15:21:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">小结“线程间操作无效: 从不是创建控件的线程访问它” 错误的解决方法</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div id="cnblogs_post_body" class="blogpost-body">
  在编程中经常会遇到在一个按钮中执行复杂操作，并将复杂操作最后返回的值加入一个ListView或ComboBox中候选。这个时候程序会卡，当程序员将这些卡代码放进线程(Thread)中后发现当对控件操作时出现 
 <font face="Verdana">“线程间操作无效: 从不是创建控件的线程访问它”异常。<br>         为什么.net不让我们跨线程操作控件，这是有好处的。因为如果你的线程多了，那么当两个线程同时尝试将一个控件变为自己需要的状态时，线程的死锁就会发生。但是难道就是因为这个原因，我们就只能让程序卡着么？当然不是，这里教大家一个解决方案：用BackGroundWorker<br>         这里通过一个实例来告诉大家BackGroundWorker的用法。<br>         首先我们先定义一个BackGroundWorker，大家可以去面板上拖一个，也可以自己手工定义一个。<br></font> 
 <div style="border-right:#cccccc 1px solid;border-top:#cccccc 1px solid;font-size:13px;border-left:#cccccc 1px solid;border-bottom:#cccccc 1px solid;"> 
  <img alt="" src="https://images2.imgbox.com/43/e2/DODpA7qG_o.gif" align="top"> 
  <span style="color:#0000ff;">this</span> 
  <span style="color:#000000;">.backgroundWorker_Combo </span> 
  <span style="color:#000000;">=</span> 
  <span style="color:#000000;"> </span> 
  <span style="color:#0000ff;">new</span> 
  <span style="color:#000000;"> System.ComponentModel.BackgroundWorker();</span> 
  <span style="color:#008000;">//</span> 
  <span style="color:#008000;">定义一个backGroundWorker</span> 
  <span style="color:#008000;"><br><img alt="" src="https://images2.imgbox.com/a7/5b/8hFBHXFc_o.gif" align="top"></span> 
  <span style="color:#0000ff;">this</span> 
  <span style="color:#000000;">.backgroundWorker_Combo.WorkerSupportsCancellation </span> 
  <span style="color:#000000;">=</span> 
  <span style="color:#000000;"> </span> 
  <span style="color:#0000ff;">true</span> 
  <span style="color:#000000;">;</span> 
  <span style="color:#008000;">//</span> 
  <span style="color:#008000;">设置能否取消任务</span> 
  <span style="color:#008000;"><br></span> 
  <span style="color:#000000;">  </span> 
  <span style="color:#0000ff;">this</span> 
  <span style="color:#000000;">.backgroundWorker_Combo.DoWork </span> 
  <span style="color:#000000;">+=</span> 
  <span style="color:#000000;"> </span> 
  <span style="color:#0000ff;">new</span> 
  <span style="color:#000000;"> System.ComponentModel.DoWorkEventHandler(</span> 
  <span style="color:#0000ff;">this</span> 
  <span style="color:#000000;">.backgroundWorker_Combo_DoWork);</span> 
  <span style="color:#008000;">//</span> 
  <span style="color:#008000;">让backgroundWorker做的事</span> 
  <span style="color:#008000;"><br><img alt="" src="https://images2.imgbox.com/1e/b8/tyB9d8A5_o.gif" align="top"></span> 
  <span style="color:#0000ff;">this</span> 
  <span style="color:#000000;">.backgroundWorker_Combo.RunWorkerCompleted </span> 
  <span style="color:#000000;">+=</span> 
  <span style="color:#000000;"> </span> 
  <span style="color:#0000ff;">new</span> 
  <span style="color:#000000;"> System.ComponentModel.RunWorkerCompletedEventHandler(</span> 
  <span style="color:#0000ff;">this</span> 
  <span style="color:#000000;">.backgroundWorker_Combo_RunWorkerCompleted);</span> 
  <span style="color:#008000;">//</span> 
  <span style="color:#008000;">当backgroundWorker做完后发生的事件</span> 
 </div>         如果是从面板上拖的，那么请在DoWork事件上双击，添加那些你想在背景线程中执行的代码，也就是那些可能会让你卡的代码。 
 <br>         然后再在RunWorkerCompleted事件上双击，添加那些你想往控件里操作的代码。 
 <br>         这里有一个开发实例，讲的是实现类似Google搜索中下拉列表的实现。其思路是在DoWork中搜索数据库，在Completed中将搜出来的东西放进去。 
 <br>         本文需要一个backgroundWorker，一个ComboBox控件 
 <div style="border-right:#cccccc 1px solid;border-top:#cccccc 1px solid;font-size:13px;border-left:#cccccc 1px solid;border-bottom:#cccccc 1px solid;"> 
  <img alt="" src="https://images2.imgbox.com/6a/31/4Gt3HF59_o.gif" align="top"> 
  <span style="color:#000000;">        </span> 
  <span style="color:#0000ff;">static</span> 
  <span style="color:#000000;"> </span> 
  <span style="color:#0000ff;">char</span> 
  <span style="color:#000000;"> x;<br><img id="Codehighlighter1_31_35_Open_Image" alt="" src="https://images2.imgbox.com/b4/1b/hbZEwy6G_o.gif" align="top"><img id="Codehighlighter1_31_35_Closed_Image" alt="" src="https://images2.imgbox.com/8d/7a/HVjKQvdf_o.gif" align="top">        </span> 
  <span id="Codehighlighter1_31_35_Closed_Text" style="border-right:#808080 1px solid;border-top:#808080 1px solid;border-left:#808080 1px solid;border-bottom:#808080 1px solid;">/**/</span> 
  <span id="Codehighlighter1_31_35_Open_Text"><span style="color:#008000;">/**/</span></span> 
  <span id="Codehighlighter1_35_97_Closed_Text" style="border-right:#808080 1px solid;border-top:#808080 1px solid;border-left:#808080 1px solid;border-bottom:#808080 1px solid;">/**/</span> 
  <span id="Codehighlighter1_35_97_Open_Text"><span style="color:#808080;">///</span><span style="color:#008000;"> </span><span style="color:#808080;">&lt;summary&gt;</span><span style="color:#008000;"><br><img alt="" src="https://images2.imgbox.com/0d/ec/oz4vwRST_o.gif" align="top">        </span><span style="color:#808080;">///</span><span style="color:#008000;"> 接受从DLL搜出来的项目<br><img alt="" src="https://images2.imgbox.com/25/33/AZX3AH56_o.gif" align="top">        </span><span style="color:#808080;">///</span><span style="color:#008000;"> </span><span style="color:#808080;">&lt;/summary&gt;</span></span> 
  <br> 
  <img alt="" src="https://images2.imgbox.com/f3/bc/SDPsqgnr_o.gif" align="top"> 
  <span style="color:#000000;">        </span> 
  <span style="color:#0000ff;">private</span> 
  <span style="color:#000000;"> </span> 
  <span style="color:#0000ff;">string</span> 
  <span style="color:#000000;">[] global_ListItem;<br><img alt="" src="https://images2.imgbox.com/95/14/RD7rZHYJ_o.gif" align="top"><br><img alt="" src="https://images2.imgbox.com/b1/6e/zwumRaWm_o.gif" align="top">        </span> 
  <span style="color:#0000ff;">private</span> 
  <span style="color:#000000;"> </span> 
  <span style="color:#0000ff;">void</span> 
  <span style="color:#000000;"> backgroundWorker_Combo_RunWorkerCompleted(</span> 
  <span style="color:#0000ff;">object</span> 
  <span style="color:#000000;"> sender, RunWorkerCompletedEventArgs e)<br><img id="Codehighlighter1_257_477_Open_Image" alt="" src="https://images2.imgbox.com/5a/36/U08na5wM_o.gif" align="top"><img id="Codehighlighter1_257_477_Closed_Image" alt="" src="https://images2.imgbox.com/61/c6/dZwiyqwF_o.gif" align="top">        </span> 
  <span id="Codehighlighter1_257_477_Closed_Text" style="border-right:#808080 1px solid;border-top:#808080 1px solid;border-left:#808080 1px solid;border-bottom:#808080 1px solid;"><img alt="" src="https://images2.imgbox.com/9d/99/OcCPaFdM_o.gif"></span> 
  <span id="Codehighlighter1_257_477_Open_Text"><span style="color:#000000;">{<!-- --></span><span style="color:#008000;">//</span><span style="color:#008000;">如果数组中有东西，那么加入ComboBox</span><span style="color:#008000;"><br><img alt="" src="https://images2.imgbox.com/b2/ac/VgaOkN5h_o.gif" align="top"></span><span style="color:#000000;">            </span><span style="color:#0000ff;">if</span><span style="color:#000000;"> (global_ListItem.Length</span><span style="color:#000000;">&gt;</span><span style="color:#800080;">0</span><span style="color:#000000;">)<br><img id="Codehighlighter1_336_467_Open_Image" alt="" src="https://images2.imgbox.com/5e/25/9gyv2Xr7_o.gif" align="top"><img id="Codehighlighter1_336_467_Closed_Image" alt="" src="https://images2.imgbox.com/d4/c8/AGyEhjQ4_o.gif" align="top">            </span><span id="Codehighlighter1_336_467_Closed_Text" style="border-right:#808080 1px solid;border-top:#808080 1px solid;border-left:#808080 1px solid;border-bottom:#808080 1px solid;"><img alt="" src="https://images2.imgbox.com/fe/2a/QZYjPzYg_o.gif"></span><span id="Codehighlighter1_336_467_Open_Text"><span style="color:#000000;">{<!-- --><br><img alt="" src="https://images2.imgbox.com/7e/85/I9zOXqdU_o.gif" align="top">                </span><span style="color:#0000ff;">this</span><span style="color:#000000;">.comboBox_App.Items.Clear();<br><img alt="" src="https://images2.imgbox.com/04/f0/ImCrS21c_o.gif" align="top">                </span><span style="color:#0000ff;">this</span><span style="color:#000000;">.comboBox_App.Items.AddRange(global_ListItem);<br><img alt="" src="https://images2.imgbox.com/86/70/N485QE5Y_o.gif" align="top">            }</span></span><span style="color:#000000;"><br><img alt="" src="https://images2.imgbox.com/2f/25/jAHfLtFm_o.gif" align="top">        }</span></span> 
  <span style="color:#000000;"><br><img alt="" src="https://images2.imgbox.com/5c/5c/SIGc4D2a_o.gif" align="top"><br><img alt="" src="https://images2.imgbox.com/f1/a8/xTSEHM46_o.gif" align="top">        </span> 
  <span style="color:#0000ff;">private</span> 
  <span style="color:#000000;"> </span> 
  <span style="color:#0000ff;">void</span> 
  <span style="color:#000000;"> backgroundWorker_Combo_DoWork(</span> 
  <span style="color:#0000ff;">object</span> 
  <span style="color:#000000;"> sender, DoWorkEventArgs e)<br><img id="Codehighlighter1_572_692_Open_Image" alt="" src="https://images2.imgbox.com/b1/c5/YwqTKo6o_o.gif" align="top"><img id="Codehighlighter1_572_692_Closed_Image" alt="" src="https://images2.imgbox.com/f8/2e/kKoK4qVv_o.gif" align="top">        </span> 
  <span id="Codehighlighter1_572_692_Closed_Text" style="border-right:#808080 1px solid;border-top:#808080 1px solid;border-left:#808080 1px solid;border-bottom:#808080 1px solid;"><img alt="" src="https://images2.imgbox.com/47/2b/LR4n46PJ_o.gif"></span> 
  <span id="Codehighlighter1_572_692_Open_Text"><span style="color:#000000;">{<!-- --><br><img alt="" src="https://images2.imgbox.com/c2/54/w9DwXj9P_o.gif" align="top">            global_ListItem </span><span style="color:#000000;">=</span><span style="color:#000000;"> Form_Setting.Global_DBC.SimilarFilter(x); </span><span style="color:#008000;">//</span><span style="color:#008000;">这是一个DLL中的方法，用于查找所有以X打头的项目，并放入一个数组中</span><span style="color:#008000;"><br><img alt="" src="https://images2.imgbox.com/75/02/v27j7NqA_o.gif" align="top"></span><span style="color:#000000;">        }</span></span> 
  <span style="color:#000000;"><br><img alt="" src="https://images2.imgbox.com/c3/2c/PIxtt2ga_o.gif" align="top"><br><img alt="" src="https://images2.imgbox.com/a7/ce/MwX3jKpo_o.gif" align="top">        </span> 
  <span style="color:#0000ff;">private</span> 
  <span style="color:#000000;"> </span> 
  <span style="color:#0000ff;">void</span> 
  <span style="color:#000000;"> comboBox_App_TextChanged(</span> 
  <span style="color:#0000ff;">object</span> 
  <span style="color:#000000;"> sender, EventArgs e)<br><img id="Codehighlighter1_776_1007_Open_Image" alt="" src="https://images2.imgbox.com/31/e1/mEvZRUGD_o.gif" align="top"><img id="Codehighlighter1_776_1007_Closed_Image" alt="" src="https://images2.imgbox.com/20/e0/7LohWdTQ_o.gif" align="top">        </span> 
  <span id="Codehighlighter1_776_1007_Closed_Text" style="border-right:#808080 1px solid;border-top:#808080 1px solid;border-left:#808080 1px solid;border-bottom:#808080 1px solid;"><img alt="" src="https://images2.imgbox.com/92/61/2zZlRL0p_o.gif"></span> 
  <span id="Codehighlighter1_776_1007_Open_Text"><span style="color:#000000;">{<!-- --></span><span style="color:#008000;">//</span><span style="color:#008000;">当用户键入一个字母时去数据库查</span><span style="color:#008000;"><br><img alt="" src="https://images2.imgbox.com/80/96/In9UiCd9_o.gif" align="top"></span><span style="color:#000000;">            ComboBox cb </span><span style="color:#000000;">=</span><span style="color:#000000;"> sender </span><span style="color:#0000ff;">as</span><span style="color:#000000;"> ComboBox;<br><img alt="" src="https://images2.imgbox.com/f7/aa/v0wV4Iy1_o.gif" align="top">            </span><span style="color:#0000ff;">if</span><span style="color:#000000;"> (cb.Text.Length</span><span style="color:#000000;">==</span><span style="color:#800080;">1</span><span style="color:#000000;">)<br><img id="Codehighlighter1_888_997_Open_Image" alt="" src="https://images2.imgbox.com/14/c8/EyrVMfu1_o.gif" align="top"><img id="Codehighlighter1_888_997_Closed_Image" alt="" src="https://images2.imgbox.com/78/37/jf7x1G3V_o.gif" align="top">            </span><span id="Codehighlighter1_888_997_Closed_Text" style="border-right:#808080 1px solid;border-top:#808080 1px solid;border-left:#808080 1px solid;border-bottom:#808080 1px solid;"><img alt="" src="https://images2.imgbox.com/4c/0a/4Nd6hc5s_o.gif"></span><span id="Codehighlighter1_888_997_Open_Text"><span style="color:#000000;">{<!-- --><br><img alt="" src="https://images2.imgbox.com/7d/f0/7M1buQnw_o.gif" align="top">                x </span><span style="color:#000000;">=</span><span style="color:#000000;"> cb.Text[</span><span style="color:#800080;">0</span><span style="color:#000000;">];<br><img alt="" src="https://images2.imgbox.com/90/74/h6B32gsO_o.gif" align="top">                </span><span style="color:#0000ff;">this</span><span style="color:#000000;">.backgroundWorker_Combo.RunWorkerAsync();<br><img alt="" src="https://images2.imgbox.com/8b/94/y2OaFlP5_o.gif" align="top">            }</span></span><span style="color:#000000;"><br><img alt="" src="https://images2.imgbox.com/6a/79/D3Tszy7b_o.gif" align="top">        }</span></span> 
 </div> 
 <p>       </p> 
 <p> </p> 
 <p> </p> 
 <p> 那么是不是用Thread就不行呢？其实不是的，.net中也有线程安全的控件访问。</p> 
 <p> </p> 
 <div class="postbody"> 
  <p>访问 Windows 窗体控件本质上不是线程安全的。如果有两个或多个线程操作某一控件的状态，则可能会迫使该控件进入一种不一致的状态。还可能出现其他与线程相关的 bug，包括争用情况和死锁。确保以线程安全方式访问控件非常重要。</p> 
  <p>.NET Framework 有助于在以非线程安全方式访问控件时检测到这一问题。在调试器中运行应用程序时，如果创建某控件的线程之外的其他线程试图调用该控件，则调试器会引发一个 InvalidOperationException，并提示消息：“从不是创建控件 control name 的线程访问它。” </p> 
  <p>此异常在调试期间和运行时的某些情况下可靠地发生。强烈建议您在显示此错误信息时修复此问题。在调试以 .NET Framework 2.0 版之前的 .NET Framework 编写的应用程序时，可能会出现此异常。<br> 注意 <br> 可以通过将 CheckForIllegalCrossThreadCalls 属性的值设置为 false 来禁用此异常。这会使控件以与在 Visual Studio 2003 下相同的方式运行。<br><br> 下面的代码示例演示如何从辅助线程以线程安全方式和非线程安全方式调用 Windows 窗体控件。它演示一种以非线程安全方式设置 控件的 属性的方法，还演示两种以线程安全方式设置 Text 属性的方法。<br></p> 
  <pre>using System;
using System.ComponentModel;
using System.Threading;
using System.Windows.Forms;
namespace CrossThreadDemo
{
public class Form1 : Form
{
// 代理实现异步调用以设置TextBox控件text属性
delegate void SetTextCallback(string text);
// 此线程用来演示线程安全和非安全两种方式来调用一个windows窗体控件
private Thread demoThread = null;
// 此后台工作者（BackgroundWorker）用来演示执行异步操作的首选方式
private BackgroundWorker backgroundWorker1;
private TextBox textBox1;
private Button setTextUnsafeBtn;
private Button setTextSafeBtn;
private Button setTextBackgroundWorkerBtn;
private System.ComponentModel.IContainer components = null;
public Form1()
{
InitializeComponent();
}
protected override void Dispose(bool disposing)
{
if (disposing &amp;&amp; (components != null))
{
components.Dispose();
}
base.Dispose(disposing);
}
// 此事件句柄创建一个ie线程以非安全方式调用一个windows窗体控件
private void setTextUnsafeBtn_Click(
object sender,
EventArgs e)
{
this.demoThread =
new Thread(new ThreadStart(this.ThreadProcUnsafe));
this.demoThread.Start();
}
// 此方法在工作者线程执行并且对TextBox控件作非安全调用</pre> 
  <pre>		private void ThreadProcUnsafe()
{
this.textBox1.Text = "This text was set unsafely.";
}
// 此事件句柄创建一个以线程安全方式调用windows窗体控件的线程
private void setTextSafeBtn_Click(
object sender,
EventArgs e)
{
this.demoThread =
new Thread(new ThreadStart(this.ThreadProcSafe));
this.demoThread.Start();
}
// 此方法在工作者线程执行并且对TextBox控件作线程安全调用
private void ThreadProcSafe()
{
this.SetText("This text was set safely.");
}
// 此方法演示一个对windows窗体控件作线程安全调用的模式
//
// 如果调用线程和创建TextBox控件的线程不同，这个方法创建
// 代理SetTextCallback并且自己通过Invoke方法异步调用它
// 如果相同则直接设置Text属性
private void SetText(string text)
{
// InvokeRequired需要比较调用线程ID和创建线程ID
// 如果它们不相同则返回true
if (this.textBox1.InvokeRequired)
{
SetTextCallback d = new SetTextCallback(SetText);
this.Invoke(d, new object[] { text });
}
else
{
this.textBox1.Text = text;
}
}
// 此事件句柄通过调用RunWorkerAsync开启窗体的BackgroundWorker
//
// 当BackgroundWorker引发RunworkerCompleted事件的时候TextBox
// 控件的Text属性被设置
private void setTextBackgroundWorkerBtn_Click(
object sender,
EventArgs e)
{
this.backgroundWorker1.RunWorkerAsync();
}
// 此事件句柄设置TextBox控件的Text属性，它在创建TextBox控件的线程
// 中被调用，所以它的调用是线程安全的
//
// BackgroundWorker是执行异步操作的首选方式
private void backgroundWorker1_RunWorkerCompleted(
object sender,
RunWorkerCompletedEventArgs e)
{
this.textBox1.Text =
"This text was set safely by BackgroundWorker.";
}
#region Windows Form Designer generated code
private void InitializeComponent()
{
this.textBox1 = new System.Windows.Forms.TextBox();
this.setTextUnsafeBtn = new System.Windows.Forms.Button();
this.setTextSafeBtn = new System.Windows.Forms.Button();
this.setTextBackgroundWorkerBtn = new System.Windows.Forms.Button();
this.backgroundWorker1 = new System.ComponentModel.BackgroundWorker();
this.SuspendLayout();
//
// textBox1
//
this.textBox1.Location = new System.Drawing.Point(12, 12);
this.textBox1.Name = "textBox1";
this.textBox1.Size = new System.Drawing.Size(240, 20);
this.textBox1.TabIndex = 0;
//
// setTextUnsafeBtn
//
this.setTextUnsafeBtn.Location = new System.Drawing.Point(15, 55);
this.setTextUnsafeBtn.Name = "setTextUnsafeBtn";
this.setTextUnsafeBtn.TabIndex = 1;
this.setTextUnsafeBtn.Text = "Unsafe Call";
this.setTextUnsafeBtn.Click += new System.EventHandler(this.setTextUnsafeBtn_Click);
//
// setTextSafeBtn
//
this.setTextSafeBtn.Location = new System.Drawing.Point(96, 55);
this.setTextSafeBtn.Name = "setTextSafeBtn";
this.setTextSafeBtn.TabIndex = 2;
this.setTextSafeBtn.Text = "Safe Call";
this.setTextSafeBtn.Click += new System.EventHandler(this.setTextSafeBtn_Click);
//
// setTextBackgroundWorkerBtn
//
this.setTextBackgroundWorkerBtn.Location = new System.Drawing.Point(177, 55);
this.setTextBackgroundWorkerBtn.Name = "setTextBackgroundWorkerBtn";
this.setTextBackgroundWorkerBtn.TabIndex = 3;
this.setTextBackgroundWorkerBtn.Text = "Safe BW Call";
this.setTextBackgroundWorkerBtn.Click +=
   new System.EventHandler(this.setTextBackgroundWorkerBtn_Click);
// backgroundWorker1
//
this.backgroundWorker1.RunWorkerCompleted +=
    new System.ComponentModel.RunWorkerCompletedEventHandler(
      this.backgroundWorker1_RunWorkerCompleted);
//Form1
this.ClientSize = new System.Drawing.Size(268, 96);
this.Controls.Add(this.setTextBackgroundWorkerBtn);
this.Controls.Add(this.setTextSafeBtn);
this.Controls.Add(this.setTextUnsafeBtn);
this.Controls.Add(this.textBox1);
this.Name = "Form1";
this.Text = "Form1";
this.ResumeLayout(false);
this.PerformLayout();
}
#endregion
[STAThread]
static void Main()
{
Application.EnableVisualStyles();
Application.Run(new Form1());
}
}
}
</pre> 
 </div> 
 <p> </p> 
</div> 
<p>转载于:https://www.cnblogs.com/enterBeijingThreetimes/archive/2008/08/27/1277750.html</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/566c03bdb5b5fe92f6dd9cf79ac91cd1/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">窗口最小化，任务栏不显示图标的解决办法</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/d6075860d51b772d1947d12dd93162dc/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">String 截去其中的一段</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>