<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Servlet-æ­å»ºä¸ªäººåšå®¢ç³»ç»Ÿï¼ˆMVCæ¶æ„æ¨¡å¼ç®€ä»‹ï¼Œmavençš„é…ç½®å’Œä½¿ç”¨ï¼‰ - ITå­¦ä¹ è€…åšå®¢</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Servlet-æ­å»ºä¸ªäººåšå®¢ç³»ç»Ÿï¼ˆMVCæ¶æ„æ¨¡å¼ç®€ä»‹ï¼Œmavençš„é…ç½®å’Œä½¿ç”¨ï¼‰" />
<meta property="og:description" content="ç›®å½•
1. MVCæ¶æ„æ¨¡å¼ç®€ä»‹
2. mavençš„é…ç½®å’Œä½¿ç”¨
3.Â é¡¹ç›®æ€»è¿°ğŸ»
3.1Â ğŸControllerå±‚
3.2Â ğŸModelå±‚
3.3Â ğŸViewå±‚
4. é¡µé¢çš„ä¸»è¦åŠŸèƒ½å®ç°ğŸ»
4.1 ğŸç™»é™†é¡µé¢ï¼ˆlogin.htmlï¼‰
4.2 ğŸåšå®¢åˆ—è¡¨é¡µé¢ï¼ˆblog_index.htmlï¼‰
4.3 ğŸåšå®¢è¯¦æƒ…é¡µé¢ï¼ˆblog_detail.htmlï¼‰
4.4 ğŸåšå®¢ç¼–è¾‘é¡µï¼ˆblog_editor.htmlï¼‰
5.Contorllerå±‚ï¼ˆæ§åˆ¶å±‚ï¼‰ğŸ»
5.1 ğŸUserServlet
5.2 ğŸUserRemLoginServlet
5.3 ğŸUserLoginOutServlet
5.4 ğŸLoadAuthorInfoServlet
5.5 ğŸBlogServlet
5.6 ğŸBlogDeleteServlet
6. Modelå±‚ï¼ˆæ¨¡å‹å±‚ï¼‰ğŸ»
6.1 ğŸBeanå¯¹è±¡
ğŸ“•Userbean
ğŸ“•BlogBean
6.2 ğŸBlogDaoç±»
6.3 ğŸUserDaoç±»
6.4 ğŸJDBCå·¥å…·ç±»
7. Viewå±‚ï¼ˆè§†å›¾å±‚æºç ï¼‰ğŸ»
7.1 ğŸå…¬å…±æ ·å¼æ–‡ä»¶
7.1 ğŸç™»é™†é¡µé¢loginçš„å®ç°
7.2 ğŸåšå®¢åˆ—è¡¨é¡µblog_indexçš„å®ç°
7.3 ğŸåšå®¢è¯¦æƒ…é¡µblog_detailçš„å®ç°
7.4 ğŸåšå®¢ç¼–è¾‘é¡µé¢blog_editorçš„å®ç°
8. é…ç½®æ–‡ä»¶ğŸ»
8.1 ğŸmavené…ç½®æ–‡ä»¶
1. MVCæ¶æ„æ¨¡å¼ç®€ä»‹ MVCæ˜¯ Modelã€Viewã€å’ŒControllerçš„ç¼©å†™ï¼Œæ˜¯è½¯ä»¶å·¥ç¨‹ä¸­çš„ä¸€ç§æ¶æ„æ¨¡å¼ï¼ŒæŠŠè½¯ä»¶ç³»ç»Ÿåˆ†ä¸ºæ¨¡å‹ã€è§†å›¾ã€æ§åˆ¶å™¨ä¸‰éƒ¨åˆ†ã€‚è¿™ä¸‰éƒ¨åˆ†çš„ä½œç”¨å¦‚ä¸‹ï¼š
Modelï¼ˆæ¨¡å‹ï¼‰" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/07aea5ed70bd568b0fefbd5ff02e3bf1/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-04-16T07:30:00+08:00" />
<meta property="article:modified_time" content="2023-04-16T07:30:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ITå­¦ä¹ è€…åšå®¢" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ITå­¦ä¹ è€…åšå®¢</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Servlet-æ­å»ºä¸ªäººåšå®¢ç³»ç»Ÿï¼ˆMVCæ¶æ„æ¨¡å¼ç®€ä»‹ï¼Œmavençš„é…ç½®å’Œä½¿ç”¨ï¼‰</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>ç›®å½•</strong></p> 
<p id="1.%20MVC%E6%9E%B6%E6%9E%84%E6%A8%A1%E5%BC%8F%E7%AE%80%E4%BB%8B-toc" style="margin-left:0px;"><a href="#1.%20MVC%E6%9E%B6%E6%9E%84%E6%A8%A1%E5%BC%8F%E7%AE%80%E4%BB%8B" rel="nofollow">1. MVCæ¶æ„æ¨¡å¼ç®€ä»‹</a></p> 
<p id="%C2%A02.%20maven%E7%9A%84%E9%85%8D%E7%BD%AE%E5%92%8C%E4%BD%BF%E7%94%A8-toc" style="margin-left:0px;"><a href="#%C2%A02.%20maven%E7%9A%84%E9%85%8D%E7%BD%AE%E5%92%8C%E4%BD%BF%E7%94%A8" rel="nofollow">2. mavençš„é…ç½®å’Œä½¿ç”¨</a></p> 
<p id="3.%E9%A1%B9%E7%9B%AE%E7%AE%80%E4%BB%8B-toc" style="margin-left:0px;"><a href="#3.%E9%A1%B9%E7%9B%AE%E7%AE%80%E4%BB%8B" rel="nofollow">3.Â é¡¹ç›®æ€»è¿°ğŸ»</a></p> 
<p id="3.2%C2%A0Controller%E5%B1%82%F0%9F%90%B1-toc" style="margin-left:40px;"><a href="#3.2%C2%A0Controller%E5%B1%82%F0%9F%90%B1" rel="nofollow">3.1Â ğŸControllerå±‚</a></p> 
<p id="3.3%20Model%E5%B1%82%F0%9F%90%B1-toc" style="margin-left:40px;"><a href="#3.3%20Model%E5%B1%82%F0%9F%90%B1" rel="nofollow">3.2Â ğŸModelå±‚</a></p> 
<p id="3.4%20View%E5%B1%82%F0%9F%90%B1-toc" style="margin-left:40px;"><a href="#3.4%20View%E5%B1%82%F0%9F%90%B1" rel="nofollow">3.3Â ğŸViewå±‚</a></p> 
<p id="%C2%A04.%20%E9%A1%B5%E9%9D%A2%E7%9A%84%E4%B8%BB%E8%A6%81%E5%AE%9E%E7%8E%B0-toc" style="margin-left:0px;"><a href="#%C2%A04.%20%E9%A1%B5%E9%9D%A2%E7%9A%84%E4%B8%BB%E8%A6%81%E5%AE%9E%E7%8E%B0" rel="nofollow">4. é¡µé¢çš„ä¸»è¦åŠŸèƒ½å®ç°ğŸ»</a></p> 
<p id="4.1%20%F0%9F%8D%8E%E7%99%BB%E9%99%86%E9%A1%B5%E9%9D%A2%EF%BC%88login.html%EF%BC%89-toc" style="margin-left:40px;"><a href="#4.1%20%F0%9F%8D%8E%E7%99%BB%E9%99%86%E9%A1%B5%E9%9D%A2%EF%BC%88login.html%EF%BC%89" rel="nofollow">4.1 ğŸç™»é™†é¡µé¢ï¼ˆlogin.htmlï¼‰</a></p> 
<p id="4.2%20%F0%9F%8D%8E%E5%8D%9A%E5%AE%A2%E5%88%97%E8%A1%A8%E9%A1%B5%E9%9D%A2%EF%BC%88blog_index.html%EF%BC%89-toc" style="margin-left:40px;"><a href="#4.2%20%F0%9F%8D%8E%E5%8D%9A%E5%AE%A2%E5%88%97%E8%A1%A8%E9%A1%B5%E9%9D%A2%EF%BC%88blog_index.html%EF%BC%89" rel="nofollow">4.2 ğŸåšå®¢åˆ—è¡¨é¡µé¢ï¼ˆblog_index.htmlï¼‰</a></p> 
<p id="4.3%20%F0%9F%8D%8E%E5%8D%9A%E5%AE%A2%E8%AF%A6%E6%83%85%E9%A1%B5%E9%9D%A2%EF%BC%88blog_detail.html%EF%BC%89-toc" style="margin-left:40px;"><a href="#4.3%20%F0%9F%8D%8E%E5%8D%9A%E5%AE%A2%E8%AF%A6%E6%83%85%E9%A1%B5%E9%9D%A2%EF%BC%88blog_detail.html%EF%BC%89" rel="nofollow">4.3 ğŸåšå®¢è¯¦æƒ…é¡µé¢ï¼ˆblog_detail.htmlï¼‰</a></p> 
<p id="4.4%20%F0%9F%8D%8E%E5%8D%9A%E5%AE%A2%E7%BC%96%E8%BE%91%E9%A1%B5%EF%BC%88blog_editor.html%EF%BC%89-toc" style="margin-left:40px;"><a href="#4.4%20%F0%9F%8D%8E%E5%8D%9A%E5%AE%A2%E7%BC%96%E8%BE%91%E9%A1%B5%EF%BC%88blog_editor.html%EF%BC%89" rel="nofollow">4.4 ğŸåšå®¢ç¼–è¾‘é¡µï¼ˆblog_editor.htmlï¼‰</a></p> 
<p id="5.Contorller%E5%B1%82%F0%9F%90%BB-toc" style="margin-left:0px;"><a href="#5.Contorller%E5%B1%82%F0%9F%90%BB" rel="nofollow">5.Contorllerå±‚ï¼ˆæ§åˆ¶å±‚ï¼‰ğŸ»</a></p> 
<p id="5.1%20%F0%9F%8D%8EUserServlet-toc" style="margin-left:40px;"><a href="#5.1%20%F0%9F%8D%8EUserServlet" rel="nofollow">5.1 ğŸUserServlet</a></p> 
<p id="5.2%20%F0%9F%8D%8EUserRemLoginServlet-toc" style="margin-left:40px;"><a href="#5.2%20%F0%9F%8D%8EUserRemLoginServlet" rel="nofollow">5.2 ğŸUserRemLoginServlet</a></p> 
<p id="5.3%20%F0%9F%8D%8EUserLoginOutServlet-toc" style="margin-left:40px;"><a href="#5.3%20%F0%9F%8D%8EUserLoginOutServlet" rel="nofollow">5.3 ğŸUserLoginOutServlet</a></p> 
<p id="5.4%20%F0%9F%8D%8ELoadAuthorInfoServlet-toc" style="margin-left:40px;"><a href="#5.4%20%F0%9F%8D%8ELoadAuthorInfoServlet" rel="nofollow">5.4 ğŸLoadAuthorInfoServlet</a></p> 
<p id="5.5%20%F0%9F%8D%8EBlogServlet-toc" style="margin-left:40px;"><a href="#5.5%20%F0%9F%8D%8EBlogServlet" rel="nofollow">5.5 ğŸBlogServlet</a></p> 
<p id="5.6%20%F0%9F%8D%8EBlogDeleteServlet-toc" style="margin-left:40px;"><a href="#5.6%20%F0%9F%8D%8EBlogDeleteServlet" rel="nofollow">5.6 ğŸBlogDeleteServlet</a></p> 
<p id="6.%20Model%E5%B1%82%EF%BC%88%E6%A8%A1%E5%9E%8B%E5%B1%82%EF%BC%89%F0%9F%90%BB-toc" style="margin-left:0px;"><a href="#6.%20Model%E5%B1%82%EF%BC%88%E6%A8%A1%E5%9E%8B%E5%B1%82%EF%BC%89%F0%9F%90%BB" rel="nofollow">6. Modelå±‚ï¼ˆæ¨¡å‹å±‚ï¼‰ğŸ»</a></p> 
<p id="6.1%20%F0%9F%8D%8EBean%E5%AF%B9%E8%B1%A1-toc" style="margin-left:40px;"><a href="#6.1%20%F0%9F%8D%8EBean%E5%AF%B9%E8%B1%A1" rel="nofollow">6.1 ğŸBeanå¯¹è±¡</a></p> 
<p id="%F0%9F%93%95Userbean-toc" style="margin-left:80px;"><a href="#%F0%9F%93%95Userbean" rel="nofollow">ğŸ“•Userbean</a></p> 
<p id="%F0%9F%93%95BlogBean-toc" style="margin-left:80px;"><a href="#%F0%9F%93%95BlogBean" rel="nofollow">ğŸ“•BlogBean</a></p> 
<p id="6.2%20%F0%9F%8D%8EBlogDao%E7%B1%BB-toc" style="margin-left:40px;"><a href="#6.2%20%F0%9F%8D%8EBlogDao%E7%B1%BB" rel="nofollow">6.2 ğŸBlogDaoç±»</a></p> 
<p id="6.3%20%F0%9F%8D%8EUserDao%E7%B1%BB-toc" style="margin-left:40px;"><a href="#6.3%20%F0%9F%8D%8EUserDao%E7%B1%BB" rel="nofollow">6.3 ğŸUserDaoç±»</a></p> 
<p id="6.4%20%F0%9F%8D%8EJDBC%E5%B7%A5%E5%85%B7%E7%B1%BB-toc" style="margin-left:40px;"><a href="#6.4%20%F0%9F%8D%8EJDBC%E5%B7%A5%E5%85%B7%E7%B1%BB" rel="nofollow">6.4 ğŸJDBCå·¥å…·ç±»</a></p> 
<p id="7.%20View%E5%B1%82%EF%BC%88%E8%A7%86%E5%9B%BE%E5%B1%82%E6%BA%90%E7%A0%81%EF%BC%89%F0%9F%90%BB-toc" style="margin-left:0px;"><a href="#7.%20View%E5%B1%82%EF%BC%88%E8%A7%86%E5%9B%BE%E5%B1%82%E6%BA%90%E7%A0%81%EF%BC%89%F0%9F%90%BB" rel="nofollow">7. Viewå±‚ï¼ˆè§†å›¾å±‚æºç ï¼‰ğŸ»</a></p> 
<p id="7.1%20%F0%9F%8D%8E%E5%85%AC%E5%85%B1%E6%A0%B7%E5%BC%8F%E6%96%87%E4%BB%B6-toc" style="margin-left:40px;"><a href="#7.1%20%F0%9F%8D%8E%E5%85%AC%E5%85%B1%E6%A0%B7%E5%BC%8F%E6%96%87%E4%BB%B6" rel="nofollow">7.1 ğŸå…¬å…±æ ·å¼æ–‡ä»¶</a></p> 
<p id="7.1%20%F0%9F%8D%8E%E7%99%BB%E9%99%86%E9%A1%B5%E9%9D%A2login%E7%9A%84%E5%AE%9E%E7%8E%B0-toc" style="margin-left:40px;"><a href="#7.1%20%F0%9F%8D%8E%E7%99%BB%E9%99%86%E9%A1%B5%E9%9D%A2login%E7%9A%84%E5%AE%9E%E7%8E%B0" rel="nofollow">7.1 ğŸç™»é™†é¡µé¢loginçš„å®ç°</a></p> 
<p id="7.2%20%F0%9F%8D%8E%E5%8D%9A%E5%AE%A2%E5%88%97%E8%A1%A8%E9%A1%B5blog_index%E7%9A%84%E5%AE%9E%E7%8E%B0-toc" style="margin-left:40px;"><a href="#7.2%20%F0%9F%8D%8E%E5%8D%9A%E5%AE%A2%E5%88%97%E8%A1%A8%E9%A1%B5blog_index%E7%9A%84%E5%AE%9E%E7%8E%B0" rel="nofollow">7.2 ğŸåšå®¢åˆ—è¡¨é¡µblog_indexçš„å®ç°</a></p> 
<p id="7.3%20%F0%9F%8D%8E%E5%8D%9A%E5%AE%A2%E8%AF%A6%E6%83%85%E9%A1%B5blog_detail%E7%9A%84%E5%AE%9E%E7%8E%B0-toc" style="margin-left:40px;"><a href="#7.3%20%F0%9F%8D%8E%E5%8D%9A%E5%AE%A2%E8%AF%A6%E6%83%85%E9%A1%B5blog_detail%E7%9A%84%E5%AE%9E%E7%8E%B0" rel="nofollow">7.3 ğŸåšå®¢è¯¦æƒ…é¡µblog_detailçš„å®ç°</a></p> 
<p id="7.4%20%F0%9F%8D%8E%E5%8D%9A%E5%AE%A2%E7%BC%96%E8%BE%91%E9%A1%B5%E9%9D%A2blog_editor%E7%9A%84%E5%AE%9E%E7%8E%B0-toc" style="margin-left:40px;"><a href="#7.4%20%F0%9F%8D%8E%E5%8D%9A%E5%AE%A2%E7%BC%96%E8%BE%91%E9%A1%B5%E9%9D%A2blog_editor%E7%9A%84%E5%AE%9E%E7%8E%B0" rel="nofollow">7.4 ğŸåšå®¢ç¼–è¾‘é¡µé¢blog_editorçš„å®ç°</a></p> 
<p id="8.%20%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%F0%9F%90%BB-toc" style="margin-left:0px;"><a href="#8.%20%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%F0%9F%90%BB" rel="nofollow">8. é…ç½®æ–‡ä»¶ğŸ»</a></p> 
<p id="8.1%20%F0%9F%8D%8Emaven%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6-toc" style="margin-left:40px;"><a href="#8.1%20%F0%9F%8D%8Emaven%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6" rel="nofollow">8.1 ğŸmavené…ç½®æ–‡ä»¶</a></p> 
<hr id="hr-toc"> 
<p></p> 
<h2 id="1.%20MVC%E6%9E%B6%E6%9E%84%E6%A8%A1%E5%BC%8F%E7%AE%80%E4%BB%8B">1. MVCæ¶æ„æ¨¡å¼ç®€ä»‹</h2> 
<p>MVCæ˜¯ Modelã€Viewã€å’ŒControllerçš„ç¼©å†™ï¼Œæ˜¯è½¯ä»¶å·¥ç¨‹ä¸­çš„ä¸€ç§æ¶æ„æ¨¡å¼ï¼ŒæŠŠè½¯ä»¶ç³»ç»Ÿåˆ†ä¸ºæ¨¡å‹ã€è§†å›¾ã€æ§åˆ¶å™¨ä¸‰éƒ¨åˆ†ã€‚è¿™ä¸‰éƒ¨åˆ†çš„ä½œç”¨å¦‚ä¸‹ï¼š</p> 
<ul><li>Modelï¼ˆæ¨¡å‹ï¼‰<br> ä½¿åº”ç”¨ç¨‹åºä¸­ç”¨äºå¤„ç†æ•°æ®é€»è¾‘çš„éƒ¨åˆ†ï¼Œé€šå¸¸è´Ÿè´£åœ¨æ•°æ®åº“ä¸­å­˜å–æ•°æ®</li><li>Viewï¼ˆè§†å›¾å±‚ï¼‰<br> æ˜¯åº”ç”¨ç¨‹åºä¸­å¤„ç†æ•°æ®æ˜¾ç¤ºçš„éƒ¨åˆ†ï¼Œé€šå¸¸è§†å›¾æ˜¯ä¾æ®æ¨¡å‹æ•°æ®æ¥åˆ›å»ºçš„</li><li>Controllerï¼ˆæ§åˆ¶å™¨ï¼‰<br> æ˜¯åº”ç”¨ç¨‹åºä¸­ç”¨äºå¤„ç†ç”¨æˆ·äº¤äº’çš„éƒ¨åˆ†ï¼Œé€šå¸¸æ§åˆ¶å™¨è´Ÿè´£ä»è§†å›¾è¯»å–æ•°æ®ï¼Œæ§åˆ¶ç”¨æˆ·è¾“å…¥å¹¶å‘æ¨¡å‹å“åº”æ•°æ®</li></ul> 
<p><img alt="" height="548" src="https://images2.imgbox.com/30/54/rz7taKLd_o.png" width="1144"></p> 
<h2 id="%C2%A02.%20maven%E7%9A%84%E9%85%8D%E7%BD%AE%E5%92%8C%E4%BD%BF%E7%94%A8">Â 2. mavençš„é…ç½®å’Œä½¿ç”¨</h2> 
<p>Ideaå†…ç½®äº†mavenï¼Œåœ¨æˆ‘ä»¬åˆ›å»ºmavené¡¹ç›®åå¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚<span style="background-color:#d4e9d5;">ä¸‹é¢æˆ‘ä»¬ä¸»è¦ä»‹ç»è‡ªå®šä¹‰mavené…ç½®ã€‚</span></p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/3b/bd/QFgyhmdn_o.png" width="1200"></p> 
<p><span style="background-color:#d4e9d5;">Â åˆ›å»ºmavené¡¹ç›®ï¼Œå¯¼å…¥ä¾èµ–æ–‡ä»¶</span></p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/e8/85/w2dpWqxM_o.png" width="1200"></p> 
<hr> 
<h2 id="3.%E9%A1%B9%E7%9B%AE%E7%AE%80%E4%BB%8B">3.Â é¡¹ç›®æ€»è¿°ğŸ»</h2> 
<blockquote> 
 <p>åšå®¢ç³»ç»Ÿå…±åŒ…å«<span style="background-color:#d4e9d5;">ç™»é™†é¡µé¢</span>ã€<span style="background-color:#d4e9d5;">åšå®¢åˆ—è¡¨é¡µ</span>ã€<span style="background-color:#d4e9d5;">åšå®¢è¯¦æƒ…é¡µ</span>å’Œ<span style="background-color:#d4e9d5;">åšå®¢ç¼–è¾‘é¡µ</span>å››ä¸ªé¡µé¢ã€‚</p> 
</blockquote> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/50/44/PrKDte5u_o.png" width="1200"></p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/47/60/JLHSH331_o.png" width="1200"></p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/57/7c/lalo3oh6_o.png" width="1200"><img alt="" height="1200" src="https://images2.imgbox.com/ab/66/qPsy2Ot3_o.png" width="1200"></p> 
<h3 id="3.2%C2%A0Controller%E5%B1%82%F0%9F%90%B1">3.1Â ğŸControllerå±‚</h3> 
<blockquote> 
 <p>è¿™ä¸ªåŒ…é‡Œè¾¹ä¸»è¦å­˜æ”¾äº†ä¸€äº›Servletå°ç¨‹åºï¼Œå¯¹åº”ç€ç”¨æˆ·çš„æŒ‡å®šè¯·æ±‚è·¯å¾„ï¼Œè°ƒç”¨Modelå±‚è¿›è¡Œæ•°æ®çš„è¯»å†™ï¼Œè°ƒç”¨Viewå±‚è¿›è¡Œæ•°æ®çš„å±•ç¤ºï¼Œå¤„ç†ç”¨æˆ·ç‰¹å®šçš„è¯·æ±‚ã€‚</p> 
</blockquote> 
<h3 id="3.3%20Model%E5%B1%82%F0%9F%90%B1">3.2Â ğŸModelå±‚</h3> 
<blockquote> 
 <p>åœ¨è¿™ä¸ªåŒ…ä¸­å°è£…äº†ä¸€äº›beanå¯¹è±¡å’ŒDaoï¼ˆData Access Objectï¼‰ç±»ã€‚DAOå±‚å¯¹è±¡è´Ÿè´£æ•°æ®çš„è¯»å–å’Œå­˜å‚¨ï¼Œè¯»å–åˆ°çš„æ•°æ®å°†ä¼šå€å°è£…æˆä¸€ä¸ªä¸ªbeanå¯¹è±¡ã€‚è¿™äº›beanå¯¹è±¡ä¼šè¿”å›ç»™Controllerå±‚é€šè¿‡ç‰¹å®šæ“ä½œè½¬æ¢ä¸ºæŒ‡å®šçš„æ ¼å¼å“åº”ç»™Viewé¡µé¢ä¾›ç”¨æˆ·ä½“éªŒã€‚</p> 
</blockquote> 
<h3 id="3.4%20View%E5%B1%82%F0%9F%90%B1">3.3Â ğŸViewå±‚</h3> 
<blockquote> 
 <p>è¿™ä¸ªå±‚æ¬¡ä¸­ä¸»è¦å­˜æ”¾äº†ä¸€äº›ç”¨æˆ·å±•ç¤ºæ•°æ®çš„é¡µé¢ï¼Œè¿›è¡Œäº¤äº’çš„å“åº”ï¼Œå‘HTML,CSS,JS...</p> 
</blockquote> 
<p></p> 
<p class="img-center"><img alt="" height="971" src="https://images2.imgbox.com/93/f0/KS3hmEHS_o.png" width="480"></p> 
<h2 id="%C2%A04.%20%E9%A1%B5%E9%9D%A2%E7%9A%84%E4%B8%BB%E8%A6%81%E5%AE%9E%E7%8E%B0">4. é¡µé¢çš„ä¸»è¦åŠŸèƒ½å®ç°ğŸ»</h2> 
<h3 id="4.1%20%F0%9F%8D%8E%E7%99%BB%E9%99%86%E9%A1%B5%E9%9D%A2%EF%BC%88login.html%EF%BC%89">4.1 ğŸç™»é™†é¡µé¢ï¼ˆlogin.htmlï¼‰</h3> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/01/07/GsZayI0m_o.png" width="1200"></p> 
<blockquote> 
 <p><span style="background-color:#d4e9d5;">å®ç°çš„ä¸»è¦åŠŸèƒ½ï¼š</span></p> 
 <ul><li>å‘é€ajaxè¯·æ±‚éªŒè¯ç”¨æˆ·çš„è´¦å·å’Œå¯†ç æ˜¯å¦æ­£ç¡®å¹¶æ ¹æ®è¿”å›çš„æ•°æ®è¿›è¡Œå¼¹çª—æç¤ºï¼Œå¦‚æœç”¨æˆ·ä¿¡æ¯æ­£ç¡®ï¼Œåˆ™è·³è½¬è¿›å…¥blog_index.htmlé¡µé¢Â </li><li> <p id="%E5%BD%93%E7%94%A8%E6%88%B7%E5%8B%BE%E9%80%89%E4%BA%86%E5%8D%81%E5%A4%A9%E5%86%85%E5%85%8D%E7%99%BB%E5%BD%95%E7%9A%84%E5%A4%8D%E9%80%89%E6%A1%86%E5%9C%A8%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%AB%AF%E4%BC%9A%E5%88%9B%E5%BB%BAcookie%E4%BF%A1%E6%81%AF%E6%B7%BB%E5%8A%A0%E4%BA%86%E5%AE%A2%E6%88%B7%E7%AB%AF%E4%B8%AD%EF%BC%8C%E5%AE%9E%E7%8E%B0%E5%8D%81%E5%A4%A9%E5%86%85%E5%85%8D%E7%99%BB%E5%BD%95%E7%9A%84%E6%95%88%E6%9E%9C">å½“ç”¨æˆ·å‹¾é€‰äº†åå¤©å†…å…ç™»å½•çš„å¤é€‰æ¡†åœ¨æœåŠ¡å™¨ç«¯ä¼šåˆ›å»ºcookieä¿¡æ¯æ·»åŠ äº†å®¢æˆ·ç«¯ä¸­ï¼Œå®ç°åå¤©å†…å…ç™»å½•çš„æ•ˆæœ</p> </li><li> <p>ç‚¹å‡»æ³¨é”€æŒ‰é’®ï¼Œåå°æ¸…é™¤è¯¥ç”¨æˆ·çš„ä¼šè¯å¯¹è±¡ï¼Œå‰ç«¯é¡µé¢è·³è½¬åˆ°ç™»é™†é¡µé¢ï¼Œç”¨æˆ·å³å¯é€€å‡ºç™»å½•</p> </li></ul> 
</blockquote> 
<h3 id="4.2%20%F0%9F%8D%8E%E5%8D%9A%E5%AE%A2%E5%88%97%E8%A1%A8%E9%A1%B5%E9%9D%A2%EF%BC%88blog_index.html%EF%BC%89">4.2 ğŸåšå®¢åˆ—è¡¨é¡µé¢ï¼ˆblog_index.htmlï¼‰</h3> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/8d/3a/vqlgqT1Y_o.png" width="1200"></p> 
<blockquote> 
 <p>Â <span style="background-color:#d4e9d5;">å®ç°çš„ä¸»è¦åŠŸèƒ½ï¼š</span></p> 
 <ul><li>åœ¨è¿›è¡Œé¡µé¢åŠ è½½æ—¶ä¼šå…ˆå‘é€ajaxè¯·æ±‚éªŒè¯ç”¨æˆ·çš„ç™»é™†çŠ¶æ€ï¼Œå¦‚æœç”¨æˆ·çš„èº«ä»½ä¿¡æ¯ä¸åˆæ³•ï¼Œåˆ™å¼¹çª—æç¤ºå¹¶è·³è½¬åˆ°ç™»é™†é¡µé¢è®©ç”¨æˆ·è¿›è¡Œç™»å½•ï¼›å¦‚æœèº«ä»½ä¿¡æ¯åˆæ³•ï¼Œåˆ™ç»§ç»­å‘æœåŠ¡å™¨è¯·æ±‚åšå®¢åˆ—è¡¨ä¿¡æ¯å’Œç™»å½•ç”¨æˆ·ä¿¡æ¯</li><li>æ ¹æ®ç™»å½•ç”¨æˆ·çš„ä¸åŒæ˜¾ç¤ºä¸åŒçš„ç”¨æˆ·ä¿¡æ¯ï¼ŒåŒ…æ‹¬æ–‡ç« æ•°ã€ç”¨æˆ·åã€å¤´åƒä¿¡æ¯</li><li>ç‚¹å‡»æ³¨é”€æŒ‰é’®ï¼Œåå°æ¸…é™¤è¯¥ç”¨æˆ·çš„ä¼šè¯å¯¹è±¡ï¼Œå‰ç«¯é¡µé¢è·³è½¬åˆ°ç™»é™†é¡µé¢ï¼Œç”¨æˆ·å³å¯é€€å‡ºç™»å½•</li></ul> 
</blockquote> 
<h3 id="4.3%20%F0%9F%8D%8E%E5%8D%9A%E5%AE%A2%E8%AF%A6%E6%83%85%E9%A1%B5%E9%9D%A2%EF%BC%88blog_detail.html%EF%BC%89">4.3 ğŸåšå®¢è¯¦æƒ…é¡µé¢ï¼ˆblog_detail.htmlï¼‰</h3> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/cd/00/8xarT8Py_o.png" width="1200"></p> 
<blockquote> 
 <p><span style="background-color:#fbd4d0;">å®ç°çš„ä¸»è¦åŠŸèƒ½ï¼š</span></p> 
 <ul><li>é¡µé¢åŠ è½½æ—¶éªŒè¯ç”¨æˆ·çš„ç™»å½•çŠ¶æ€</li><li>é€šè¿‡æ³¨å†Œæºå¸¦æŸ¥è¯¢å­—ç¬¦ä¸²è·³è½¬åˆ°è¯¦æƒ…é¡µé¢æºå¸¦çš„åšå®¢IDï¼ŒæŸ¥è¯¢æ•°æ®åº“ï¼Œæ˜¾ç¤ºå½“å‰åšå®¢çš„è¯¦ç»†ä¿¡æ¯</li><li>Â å½“ç”¨æˆ·ä¿¡æ¯å’Œå½“å‰é¡µé¢ä½œè€…ä¿¡æ¯ä¸€è‡´æ—¶ï¼Œç”¨æˆ·ç‚¹å‡»åˆ é™¤æŒ‰é’®å¯ä»¥å¯¹å½“å‰åšå®¢è¿›è¡Œåˆ é™¤æ“ä½œ</li><li>å¯¹markdownè¯­æ³•è¿›è¡Œè§£æï¼Œæ˜¾ç¤ºåˆ°åšå®¢è¯¦æƒ…åŒºåŸŸ</li><li>ç‚¹å‡»æ³¨é”€æŒ‰é’®ï¼Œåå°æ¸…é™¤è¯¥ç”¨æˆ·çš„ä¼šè¯å¯¹è±¡ï¼Œå‰ç«¯é¡µé¢è·³è½¬åˆ°ç™»é™†é¡µé¢ï¼Œç”¨æˆ·å³å¯é€€å‡ºç™»å½•</li></ul> 
</blockquote> 
<h3 id="4.4%20%F0%9F%8D%8E%E5%8D%9A%E5%AE%A2%E7%BC%96%E8%BE%91%E9%A1%B5%EF%BC%88blog_editor.html%EF%BC%89">4.4 ğŸåšå®¢ç¼–è¾‘é¡µï¼ˆblog_editor.htmlï¼‰</h3> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/d6/95/4fI8bs64_o.png" width="1200"></p> 
<blockquote> 
 <p><span style="background-color:#fbd4d0;">å®ç°çš„ä¸»è¦åŠŸèƒ½ï¼š</span></p> 
 <ul><li>éªŒè¯ç”¨æˆ·èº«ä»½ä¿¡æ¯çš„åˆæ³•æ€§</li><li>å¼•ç”¨å¼€æºæ’ä»¶editor.mdå®ç°åšå®¢çš„markdownè¯­æ³•ç¼–è¾‘åŠŸèƒ½</li><li>ç”¨æˆ·æäº¤åšå®¢ä¿¡æ¯ï¼Œè·³è½¬åšå®¢åˆ—è¡¨é¡µé¢</li><li>ç‚¹å‡»æ³¨é”€æŒ‰é’®ï¼Œåå°æ¸…é™¤è¯¥ç”¨æˆ·çš„ä¼šè¯å¯¹è±¡ï¼Œå‰ç«¯é¡µé¢è·³è½¬åˆ°ç™»é™†é¡µé¢ï¼Œç”¨æˆ·å³å¯é€€å‡ºç™»å½•</li></ul> 
</blockquote> 
<h2 id="5.Contorller%E5%B1%82%F0%9F%90%BB">5.Contorllerå±‚ï¼ˆæ§åˆ¶å±‚ï¼‰ğŸ»</h2> 
<h3 id="5.1%20%F0%9F%8D%8EUserServlet">5.1 ğŸUserServlet</h3> 
<blockquote> 
 <p>Â  Â  Â  è¯¥åå°å°ç¨‹åºç”¨æˆ·å¤„ç†ç”¨æˆ·çš„æ™®é€šç™»å½•è¯·æ±‚å’ŒéªŒè¯ç”¨æˆ·èº«ä»½ä¿¡æ¯çš„åˆæ³•æ€§ã€‚å…¶ä¸­çš„<span style="background-color:#fbd4d0;">doPostæ–¹æ³•æ¥å—æ¥è‡ªlogin.htmlä¸­ç™»å½•çš„ajaxâ€”â€”Postè¯·æ±‚</span>ï¼Œè¿™ä¸ªç™»å½•çš„HTTPè¯·æ±‚å°†ç”¨æˆ·çš„ç™»å½•ä¿¡æ¯æºå¸¦åœ¨è¯·æ±‚ä½“å‘é€ç»™æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨ä¸­çš„UserServletå¯¹å…¶ä¸­çš„ç™»é™†æ•°æ®è¿›è¡Œè§£æå¹¶æ ¹æ®ç”¨æˆ·æ˜¯å¦é€‰æ‹©ä¸€å®šæ—¶æœŸå†…å…ç™»å½•é€‰æ‹©æ€§åˆ›å»ºcookieå¯¹è±¡è¿”å›ç»™å®¢æˆ·ç«¯ï¼›å¹¶ä¸”è°ƒç”¨Modelå±‚çš„UserDaoå¯¹è±¡æŸ¥è¯¢åº•å±‚æ•°æ®è·¯åˆ¤æ–­æ˜¯å¦æœ‰è¯¥ç”¨æˆ·çš„ä¿¡æ¯ï¼Œå¦‚æœç”¨æˆ·èº«ä»½ä¿¡æ¯åˆæ³•ï¼Œåˆ™åˆ›å»ºè¯¥ç”¨æˆ·çš„sessionä¼šè¯å¯¹è±¡ï¼Œå°†è¯¥ç”¨æˆ·çš„ä¿¡æ¯æ·»åŠ ç”¨æˆ·æœ¬æ¬¡çš„ä¼šè¯åŸŸå½“ä¸­å¹¶åœ¨æŸ¥è¯¢ç»“æŸåè¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²æ ¼å¼çš„ç™»å½•åˆ¤å®šç»“æœï¼Œå‰ç«¯è´Ÿè´£ç™»å½•çš„ajaxè¯·æ±‚åœ¨æ¥æ”¶åˆ°è¿™ä¸ªç™»é™†ç»“æœåè¿›è¡Œå¼¹çª—æç¤ºå’Œé¡µé¢è·³è½¬ã€‚<span style="background-color:#fbd4d0;">å…¶ä¸­çš„doGetæ–¹æ³•ç”¨äºå¤„ç†å‰ç«¯é¡µé¢éªŒè¯ç”¨æˆ·èº«ä»½ä¿¡æ¯åˆæ³•æ€§çš„ajaxè¯·æ±‚</span>ï¼Œå½“å‰ç«¯å‘é€è¿™ä¸ªè¯·æ±‚æ—¶ï¼Œåç«¯çš„UserServletè¯•å›¾è·å–è¯¥ç”¨æˆ·å¯¹åº”çš„sessionä¼šè¯å¯¹è±¡ï¼Œå¦‚æœè·å–æˆåŠŸï¼Œåˆ™è¯´æ˜ç”¨æˆ·èº«ä»½ä¿¡æ¯åˆæ³•ï¼›å¦‚æœå› éæ³•ç™»å½•å’Œsessionè¿‡æœŸç­‰åŸå› å¯¼è‡´çš„ç”¨æˆ·èº«ä»½ä¿¡æ¯å¤±æ•ˆï¼Œåˆ™ä¼šè¿”å›ä¸€ä¸ªJSONæ ¼å¼çš„å¯¹è±¡ï¼Œå‰ç«¯é¡µé¢è§£æè¿™ä¸ªJSONå¯¹è±¡å¹¶ä¸”åœ¨ç”¨æˆ·èº«ä»½ä¿¡æ¯ä¸åˆæ³•æ—¶ç»™å‡ºå¼¹çª—æç¤ºå¹¶å¼ºåˆ¶é¡µé¢è·³è½¬åˆ°ç™»é™†é¡µé¢ï¼›åœ¨èº«ä»½ä¿¡æ¯åˆæ³•æ—¶å°†ç”¨æˆ·ä¿¡æ¯åŠ è½½åˆ°é¡µé¢å·¦ä¾§çš„ç”¨æˆ·ä¿¡æ¯ä¸Šã€‚å…¶ä¸­è¿”å›çš„JSONæ ¼å¼çš„æ•°æ®å‰åç«¯çº¦å®šå¦‚ä¸‹ï¼š</p> 
</blockquote> 
<p class="img-center"><img alt="" height="705" src="https://images2.imgbox.com/74/02/tmjLcZYU_o.png" width="585"></p> 
<p></p> 
<pre><code class="language-java">package com.shuai.blogapp.controller.servlet;

import com.fasterxml.jackson.databind.ObjectMapper;
import com.shuai.blogapp.model.bean.User;
import com.shuai.blogapp.model.dao.BlogDao;
import com.shuai.blogapp.model.dao.UserDao;

import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.*;
import java.io.IOException;

@WebServlet({"/user/loginIn", "/user/verify"})
public class UserServlet extends HttpServlet {
    private ObjectMapper objectMapper = new ObjectMapper();

    @Override
    protected void doPost(HttpServletRequest request, HttpServletResponse response)
            throws ServletException, IOException {
        response.setContentType("text/html;charset=UTF-8");
        String username = request.getParameter("username");
        String password = request.getParameter("password");
        String remember = request.getParameter("remember");
        if (username == null || password == null || "".equals(username) || "".equals(password)) {
            response.getWriter().write("empty");
            return;
        }
        //æ£€æŸ¥ç”¨æˆ·åå’Œå¯†ç æ˜¯å¦æ­£ç¡®
        UserDao userDao = new UserDao();
        User user = userDao.selectByName(username);
        if (user == null || !password.equals(user.getPassword())) {
            response.getWriter().print("error");
            return;
        }
        //ç™»é™†æˆåŠŸäº†
        //åˆ›å»ºå’Œè¯¥ç”¨æˆ·å…³è”çš„sessionä¿¡æ¯
        HttpSession session = request.getSession(true);
        session.setMaxInactiveInterval(60 * 60 * 12);
        Cookie usernameCookie = new Cookie("username", username);
        Cookie passwordCookie = new Cookie("password",password);
        usernameCookie.setMaxAge(60*60*24*10);
        passwordCookie.setMaxAge(60*60*24*10);
        //å°†cookieä¿¡æ¯ä¿å­˜åœ¨å®¢æˆ·ç«¯
        response.addCookie(usernameCookie);
        response.addCookie(passwordCookie);
        session.setAttribute("user", user);
        response.getWriter().print("success");
    }

    @Override
    protected void doGet(HttpServletRequest request, HttpServletResponse response)
            throws ServletException, IOException {
        HttpSession session = request.getSession(false);    //è·å–è¯¥ç”¨æˆ·ç»‘å®šçš„sessionä¿¡æ¯
        response.setContentType("application/json;charset=utf8");
        User user = new User();
        if (session == null || session.getAttribute("user") == null) {
            user.setUsername("");
            user.setPassword("");
            response.getWriter().print(objectMapper.writeValueAsString(user));
            return;
        }
        user = (User) session.getAttribute("user");
        user.setPassword("");   //ç”¨æˆ·å¯†ç å°±ä¸è¦è¿”å›ç»™å‰ç«¯äº†
        long blogNum = new BlogDao().getBlogNumByUserId(user.getUserId());
        user.setBlogNum(blogNum);
        response.getWriter().write(objectMapper.writeValueAsString(user));  //ç”¨æˆ·ä¿¡æ¯å­˜åœ¨ï¼Œå°±è¿”å›è¿™ä¸ªç”¨æˆ·ä¿¡æ¯
    }
}
</code></pre> 
<h3 id="5.2%20%F0%9F%8D%8EUserRemLoginServlet">5.2 ğŸUserRemLoginServlet</h3> 
<blockquote> 
 <p>è¯¥å°ç¨‹åºç”¨äºå¤„ç†ç”¨æˆ·çš„è®°å¿†ç™»å½•åŠŸèƒ½ï¼Œ<span style="background-color:#fbd4d0;">åœ¨ç™»é™†é¡µé¢åŠ è½½æ—¶ä¼šå…ˆå‘é€ä¸€ä¸ªè®°å¿†ç™»å½•çš„ajaxè¯·æ±‚</span>ï¼Œå¦‚æœä¹‹å‰ç”¨æˆ·é€‰æ‹©äº†ä¸€å®šæ—¶æœŸå†…å…ç™»å½•çš„è¿™ä¸ªæŒ‰é’®ï¼Œåˆ™è¿™æ¬¡çš„è¯·æ±‚ä¼šæºå¸¦ä¹‹å‰æœåŠ¡å™¨è¿”å›çš„ç”¨æˆ·ä¿¡æ¯çš„cookieã€‚<span style="background-color:#fbd4d0;">åå°çš„UserRemLoginServletå°è¯•è·å–è¿™äº›cookieå¯¹è±¡å¹¶è§£æå‡ºåŒ…å«ç”¨æˆ·ä¿¡æ¯çš„cookieï¼Œå¹¶å°†åˆ›å»ºUserDaoå¯¹è±¡ä»æ•°æ®åº“æŸ¥è¯¢è¯¥ç”¨æˆ·ä¿¡æ¯ï¼Œè¿”å›ç”¨æˆ·è®°å¿†ç™»å½•çš„ç»“æœ</span>ï¼Œå‰åç«¯ä¹‹é—´çš„çº¦å®šå¦‚ä¸‹ï¼š</p> 
</blockquote> 
<p class="img-center"><img alt="" height="359" src="https://images2.imgbox.com/c3/cb/GbUkKLW3_o.png" width="594"></p> 
<p></p> 
<pre><code class="language-java">package com.shuai.blogapp.controller.servlet;

import com.shuai.blogapp.model.bean.User;
import com.shuai.blogapp.model.dao.UserDao;

import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.*;
import java.io.IOException;

@WebServlet({"/user/remLogin"})
public class UserRemLoginServlet extends HttpServlet {
    @Override
    protected void doGet(HttpServletRequest request, HttpServletResponse response)
            throws ServletException, IOException {
        Cookie[] cookies = request.getCookies();
        response.setContentType("application/json;charset=utf8"); //ä»¥jsonçš„å½¢å¼è¿”å›æ•°æ®
        String username = null;
        String password = null;
        //éå†cookieä¿¡æ¯ï¼Œå¯»æ‰¾ç”¨æˆ·ä¿å­˜çš„ç”¨æˆ·åå’Œå¯†ç 
        if (cookies != null) {
            for (Cookie cookie : cookies) {
                if ("username".equals(cookie.getName())) {
                    username = cookie.getValue();
                }
                if ("password".equals(cookie.getName())) {
                    password = cookie.getValue();
                }
            }
        }
        //å¦‚æœusernameæˆ–è€…passwordä¸ºç©ºï¼Œè¯´æ˜æ²¡æœ‰ä¿å­˜ç”¨æˆ·ç™»å½•ä¿¡æ¯çš„cookie
        if (username == null || password == null) {
            response.getWriter().write("{\"ok\":\"0\"}");
            return;
        }
        //å¦‚æœæœ‰ç”¨æˆ·åå’Œå¯†ç ï¼Œå°±è¿æ¥æ•°æ®åº“éªŒè¯è¿™ä¸ªç”¨æˆ·ä¿¡æ¯æ˜¯å¦æ­£ç¡®
        UserDao userDao = new UserDao();
        User user = userDao.selectByName(username);
        if (user == null || !password.equals(user.getPassword())) {
            //è¯´æ˜cookieä¸­ä¿å­˜çš„ç”¨æˆ·ä¿¡æ¯ä¸æ­£ç¡®
            response.getWriter().write("{\"ok\":\"0\"}");
            return;
        }

        //ç”¨æˆ·ä¿¡æ¯æ­£ç¡®
        //åˆ›å»ºåŒ…å«ç”¨æˆ·ä¿¡æ¯çš„session
        HttpSession session = request.getSession(true);
        session.setAttribute("user", user);
        //å“åº”ç™»å½•æˆåŠŸçš„ç»“æœç»™å‰ç«¯
        response.getWriter().write("{\"ok\":\"1\"}");
    }
}
</code></pre> 
<h3 id="5.3%20%F0%9F%8D%8EUserLoginOutServlet">5.3 ğŸUserLoginOutServlet</h3> 
<blockquote> 
 <p>è¯¥åå°å°ç¨‹åºæ¥æ”¶ç”¨æˆ·<span style="background-color:#fbd4d0;">ç‚¹å‡»æ³¨é”€æŒ‰é’®æ—¶é€šè¿‡è¶…é“¾æ¥å‘é€çš„GETè¯·æ±‚</span>ï¼Œå½“æ¥æ”¶åˆ°è¯·æ±‚åï¼Œä¼šåˆ›å»ºåŒ…å«ç”¨æˆ·ç™»å½•ä¿¡æ¯çš„åŒåcookieå¯¹è±¡ï¼Œå¹¶è®¾ç½®cookieå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸä¸º0ï¼Œå°†è¿™äº›cookieæ·»åŠ åˆ°å®¢æˆ·ç«¯<span style="background-color:#fbd4d0;">æ›´æ–°åŸæ¥çš„åŒ…å«ç”¨æˆ·ä¿¡æ¯çš„cookie</span>ï¼ˆå³ä½¿å¾—åŸæ¥åŒ…å«ç”¨æˆ·ç™»å½•ä¿¡æ¯çš„cookieä¿¡æ¯å¤±æ•ˆï¼‰ã€‚å¹¶ä¸”ä¼šä»requestå¯¹è±¡ä¸­è·å–åˆ°è¯¥ç”¨æˆ·å¯¹åº”çš„sessionå¯¹è±¡ï¼Œ<span style="background-color:#fbd4d0;">å¹¶å°†ä¼šè¯åŸŸä¸­çš„ç”¨æˆ·ä¿¡æ¯åˆ é™¤å¹¶ä½¿å½“å‰ç”¨æˆ·çš„sessionå¯¹è±¡å¤±æ•ˆ</span>ã€‚ç„¶å<span style="background-color:#fbd4d0;">é‡å®šå‘åˆ°ç™»é™†é¡µé¢</span>ã€‚é¡µé¢å¾—å¤„ç†é€»è¾‘å¦‚ä¸‹ï¼š</p> 
</blockquote> 
<p class="img-center"><img alt="" height="355" src="https://images2.imgbox.com/c2/f5/gHsvUHa3_o.png" width="533"></p> 
<p></p> 
<pre><code class="language-java">package com.shuai.blogapp.controller.servlet;

import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.*;
import java.io.IOException;

@WebServlet({"/user/loginOut"})
public class UserLoginOutServlet extends HttpServlet {
    @Override
    protected void doGet(HttpServletRequest request, HttpServletResponse response)
            throws ServletException, IOException {
        HttpSession session = request.getSession(false);
        if (session != null) {
            session.removeAttribute("user");
            Cookie usernameCookie = new Cookie("username", "");
            Cookie passwordCookie = new Cookie("password", "");
            usernameCookie.setMaxAge(0);
            passwordCookie.setMaxAge(0);
            response.addCookie(usernameCookie);
            response.addCookie(passwordCookie);
            session.invalidate();   //ä½¿è¯¥sessionå¯¹è±¡å¤±æ•ˆ
        }
        response.sendRedirect(request.getContextPath()+"/login.html");
    }
}
</code></pre> 
<h3 id="5.4%20%F0%9F%8D%8ELoadAuthorInfoServlet">5.4 ğŸLoadAuthorInfoServlet</h3> 
<blockquote> 
 <p>è¯¥Servletç”¨äºåœ¨åšå®¢è¯¦æƒ…é¡µé¢<span style="background-color:#fbd4d0;">åŠ è½½ç”¨æˆ·çš„è¯¦ç»†ä¿¡æ¯</span>ï¼ŒåŒ…æ‹¬ç”¨æˆ·åã€æ–‡ç« æ•°ï¼Œå¤´åƒã€‚å½“ç”¨æˆ·åœ¨åšå®¢åˆ—è¡¨é¡µç‚¹å‡»æŸ¥çœ‹å…¨æ–‡æ—¶ä¼šåœ¨æŸ¥è¯¢å­—ç¬¦ä¸²é‡Œæºå¸¦å¾…æŸ¥å¯»åšå®¢çš„idè·³è½¬åˆ°è¯¦æƒ…é¡µé¢ï¼Œåœ¨è¯¦æƒ…é¡µé¢åŠ è½½æ—¶è¿˜æ˜¯ä¼šå…ˆå‘é€éªŒè¯ç”¨æˆ·èº«ä»½ä¿¡æ¯çš„ajaxè¯·æ±‚ã€‚é€šè¿‡åï¼Œ<span style="background-color:#fbd4d0;">å°†è¯¥å½“å‰é¡µé¢URLä¸­çš„blogIdå–å‡ºï¼Œæºå¸¦è¿™ä¸ªå‚æ•°å‘é€è¯·æ±‚</span>åˆ°è¯¥Servletï¼Œè¯¥å°ç¨‹åºåˆ›å»ºBlogDaoå¯¹è±¡æŸ¥è¯¢æ”¹ç¼–å·å¯¹åº”çš„blogæ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœå­˜åœ¨ï¼Œåˆ™å†æ ¹æ®æŸ¥è¯¢åˆ°åšå®¢çš„ä½œè€…ä¿¡æ¯å»æŸ¥è¯¢ä½œè€…è¡¨ä¸­è¯¥ä½œè€…çš„ä¿¡æ¯ï¼Œå¹¶å°†æŸ¥è¯¢ç»“æœå“åº”ç»™å‰ç«¯ï¼›å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™ç›´æ¥å“åº”ã€‚è¯¥æ¥å£å‰åç«¯ä¹‹é—´çš„çº¦å®šå’Œå“åº”æµç¨‹å¦‚ä¸‹ï¼š</p> 
</blockquote> 
<p><img alt="" height="729" src="https://images2.imgbox.com/c6/4f/jFamIEop_o.png" width="1140"></p> 
<p></p> 
<pre><code class="language-java">package com.shuai.blogapp.controller.servlet;

import com.fasterxml.jackson.databind.ObjectMapper;
import com.shuai.blogapp.model.bean.Blog;
import com.shuai.blogapp.model.bean.User;
import com.shuai.blogapp.model.dao.BlogDao;
import com.shuai.blogapp.model.dao.UserDao;

import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import java.io.IOException;
import java.io.PrintWriter;

@WebServlet({"/author/authorInfo"})
public class LoadAuthorInfoServlet extends HttpServlet {
    private ObjectMapper objectMapper = new ObjectMapper();
    @Override
    protected void doGet(HttpServletRequest request, HttpServletResponse response)
            throws ServletException, IOException {
        response.setContentType("application/json,charset=UTF-8");
        PrintWriter out = response.getWriter();
        String blogId = request.getParameter("blogId");
        //ä»æ•°æ®åº“æŸ¥è¯¢è¿™ç¯‡åšå®¢çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¿”å›è¿™ç¯‡åšå®¢çš„ä½œè€…ç¼–å·
        BlogDao blogDao = new BlogDao();
        Blog blog = blogDao.queryBlogById(Integer.parseInt(blogId));
        User user = new User();
        if(blog == null) {
            user.setUserId(-1);
            out.write(objectMapper.writeValueAsString(user));
            return;
        }
        UserDao userDao = new UserDao();
        user = userDao.selectById(blog.getUserId());
        if(user == null) {
            User user1 = new User();
            user1.setUserId(0);
            out.write(objectMapper.writeValueAsString(user1));
            return;
        }
        user.setPassword("");
        //æ˜¾ç¤ºè¯¥ç”¨æˆ·çš„åšå®¢æ•°é‡
        long blogNum = blogDao.getBlogNumByUserId(user.getUserId());
        user.setBlogNum(blogNum);
        out.write(objectMapper.writeValueAsString(user));
    }
}
</code></pre> 
<h3 id="5.5%20%F0%9F%8D%8EBlogServlet">5.5 ğŸBlogServlet</h3> 
<blockquote> 
 <p>è¯¥å°ç¨‹åºä¸»è¦ç”¨äº<span style="background-color:#fbd4d0;">å¤„ç†è¯·æ±‚åšå®¢åˆ—è¡¨ã€åŠ è½½åšå®¢è¯¦æƒ…å†…å®¹ä»¥åŠè¿›è¡Œåšå®¢çš„ä¿å­˜</span>ã€‚å…¶ä¸­ï¼Œä¸è®ºå‰ç«¯å‘é€ä½•ç§è¯·æ±‚ï¼Œéƒ½æ˜¯å…ˆéªŒè¯ç”¨æˆ·èº«ä»½ä¿¡æ¯çš„åˆæ³•æ€§ã€‚é€šè¿‡éªŒè¯åï¼Œå½“å‰ç«¯å‘é€åšå®¢åˆ—è¡¨è¯·æ±‚æ—¶ï¼Œè¯¥Servletä¸­çš„doGetæ–¹æ³•ä¼šä»blogè¡¨ä¸­æŸ¥è¯¢æ‰€æœ‰çš„blogä¿¡æ¯ï¼Œå¹¶å¯¹æ¯ä¸€ç¯‡é•¿åº¦å¤§äº50çš„blogè¿›è¡Œæˆªå–åŠ å·¥ï¼ˆä¼˜åŒ–å‰ç«¯é¡µé¢åšå®¢åˆ—è¡¨çš„åšå®¢æ¦‚è¦çš„æ˜¾ç¤ºï¼‰ã€‚å°†æŸ¥è¯¢å¹¶åŠ å·¥åçš„æ‰€æœ‰åšå®¢ä¿¡æ¯å“åº”ç»™å‰ç«¯ã€‚è¯¥è¯·æ±‚å’Œå“åº”æ¥å£çš„æ•°æ®çº¦å®šå¦‚ä¸‹ï¼š</p> 
 <p class="img-center"><img alt="" height="359" src="https://images2.imgbox.com/9a/42/MqY0JGXq_o.png" width="516"></p> 
 <p>Â å½“å‰ç«¯å‘é€åšå®¢è¯¦æƒ…è¯·æ±‚æ—¶ï¼Œè¯¥Servletæ ¹æ®å‰ç«¯å‘é€è¿‡æ¥çš„blogIdèˆ¹èˆ°BlogDaoå¯¹è±¡æŸ¥è¯¢æ•°æ®åº“å¹¶è¿”å›è¯¥blogIdå¯¹åº”çš„åšå®¢å…¨æ–‡ã€‚</p> 
 <p>Â å½“å‰ç«¯å‘é€åšå®¢æäº¤è¯·æ±‚æ—¶ï¼Œè¯¥Servletçš„doPsotæ–¹æ³•æ‰§è¡Œï¼Œåœ¨è¿›è¡Œä¸€ç³»åˆ—ç”¨æˆ·ä»¥åŠç”¨æˆ·åšå®¢ä¿¡æ¯çš„åˆæ³•æ€§éªŒè¯åå°†è¯¥ç¯‡åšå®¢æ’å…¥åˆ°åº•å±‚æ•°æ®åº“ï¼Œå…¶ä¸­è¯¥ç¯‡åšå®¢çš„ç”¨æˆ·ç¼–å·ä»è¯¥ç”¨æˆ·çš„ä¼šè¯åŸŸä¸­è·å–å³å¯ã€‚</p> 
</blockquote> 
<pre><code class="language-java">package com.shuai.blogapp.controller.servlet;

import com.fasterxml.jackson.databind.ObjectMapper;
import com.shuai.blogapp.model.bean.Blog;
import com.shuai.blogapp.model.bean.User;
import com.shuai.blogapp.model.dao.BlogDao;

import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.servlet.http.HttpSession;
import java.io.IOException;
import java.util.List;


@WebServlet(value = {"/blog/list","/blog/detail","/blog/save"})
public class BlogServlet extends HttpServlet {
    private ObjectMapper objectMapper = new ObjectMapper();

    @Override
    protected void doGet(HttpServletRequest request, HttpServletResponse response)
            throws ServletException, IOException {
        response.setContentType("application/json;charset=UTF-8");
        String servletPath = request.getServletPath();
        BlogDao blogDao = new BlogDao();
        String responseJson = null;
        if("/blog/list".equals(servletPath)) {
            List&lt;Blog&gt; blogs = blogDao.queryAll();
            for (Blog blog : blogs) {
                String content = blog.getContent();
                if (content.length() &gt; 100) {
                    blog.setContent(content.substring(0, 100) + "...");
                }
            }
            responseJson = objectMapper.writeValueAsString(blogs);
        } else if("/blog/detail".equals(servletPath)) {
            String blogId = request.getParameter("blogId");
            int id = Integer.parseInt(blogId);
            Blog blog = blogDao.queryBlogById(id);
            responseJson = objectMapper.writeValueAsString(blog);
        }
        response.getWriter().write(responseJson);

    }


    @Override
    protected void doPost(HttpServletRequest request, HttpServletResponse response)
            throws ServletException, IOException {
        request.setCharacterEncoding("utf8");
        HttpSession session = request.getSession(false);
        //è¿™é‡Œè¦ä¼˜åŒ–ã€‚ä¸‡ä¸€ç”¨æˆ·ç¼–è¾‘åšå®¢æ—¶é—´é•¿ï¼Œsessionè¿‡æœŸï¼Œå°±ä¼šå¸‚åŒºç¼–è¾‘çš„åšå®¢çš„å†…å®¹äº†
        if(session == null) {
            //é‡å®šå‘åˆ°ç™»å½•é¡µé¢
            response.sendRedirect(request.getContextPath()+"/login.html");
            return;
        }
        User user = (User)session.getAttribute("user");
        if(user == null) {
            //é‡å®šå‘åˆ°ç™»å½•é¡µé¢
            response.sendRedirect(request.getContextPath()+"/login.html");
            return;
        }
        //ä¿å­˜å®¢æˆ·ç«¯å‘é€è¿‡æ¥çš„å†…å®¹
        String title = request.getParameter("title");
        String content = request.getParameter("content");
        int userId = user.getUserId();  //è·å–ç¼–è¾‘è¿™ç¯‡åšå®¢çš„ä½œè€…ç¼–å·
        BlogDao blogDao = new BlogDao();
        Blog blog = new Blog();
        blog.setContent(content);
        blog.setUserId(userId);
        blog.setTitle(title);
        blogDao.insertBlog(blog);
        //ä¿å­˜æˆåŠŸåè·³è½¬åˆ°åšå®¢åˆ—è¡¨é¡µé¢
        response.sendRedirect(request.getContextPath() + "/blog_index.html");
    }
}
</code></pre> 
<h3 id="5.6%20%F0%9F%8D%8EBlogDeleteServlet">5.6 ğŸBlogDeleteServlet</h3> 
<blockquote> 
 <p>æ ¹æ®å‰ç«¯é¡µé¢å‘é€è¿‡æ¥çš„blogIdï¼Œè¯¥Servletåˆ›å»ºBlogDaoå¯¹è±¡ä»blogè¡¨ä¸­å°†è¯¥ç¯‡blogåˆ é™¤ï¼Œç›¸åº”åˆ é™¤ç»“æœç„¶åè·³è½¬åˆ°åšå®¢åˆ—è¡¨é¡µã€‚è¯¥æ¥å£çš„å“åº”æ•°æ®çº¦å®šå¦‚ä¸‹ï¼š</p> 
</blockquote> 
<p class="img-center"><img alt="" height="359" src="https://images2.imgbox.com/4f/32/xhcMpcfH_o.png" width="556"></p> 
<p></p> 
<pre><code class="language-java">package com.shuai.blogapp.controller.servlet;


import com.shuai.blogapp.model.bean.Blog;
import com.shuai.blogapp.model.bean.User;
import com.shuai.blogapp.model.dao.BlogDao;

import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.servlet.http.HttpSession;
import java.io.IOException;

@WebServlet({"/blog/delete"})
public class BlogDeleteServlet extends HttpServlet {
    @Override
    protected void doGet(HttpServletRequest request, HttpServletResponse response)
            throws ServletException, IOException {
        request.setCharacterEncoding("UTF-8");
        response.setContentType("text/html;charset=utf8");
        String blogId = request.getParameter("blogId");
        HttpSession session = request.getSession(false);    //éªŒè¯ç”¨æˆ·ç™»é™†çŠ¶æ€
        if (session == null) {
            response.getWriter().print("login_out_of_date");
            return;
        }
        User user = (User) session.getAttribute("user");
        if (user == null) {
            response.getWriter().print("login_out_of_date");
            return;
        }
        BlogDao blogDao = new BlogDao();
        Blog blog = blogDao.queryBlogById(Integer.parseInt(blogId));
        if(blog == null) {
            response.getWriter().print("blog_not_exists");
            return;
        }
        if(user.getUserId() != blog.getUserId()) {
            response.getWriter().print("user_info_mismatching");
            return;
        }
        //åˆ°è¿™é‡Œï¼Œåˆæ­¥ç¡®å®šä¿¡æ¯æ— è¯¯ï¼Œè¿›è¡Œåˆ é™¤
        Blog blog1 = blogDao.deleteBlog(blog.getBlogId());
        if(blog1 != null) {
            response.getWriter().print("delete_success");
        } else {
            response.getWriter().print("delete_fault");
        }

    }
}
</code></pre> 
<h2 id="6.%20Model%E5%B1%82%EF%BC%88%E6%A8%A1%E5%9E%8B%E5%B1%82%EF%BC%89%F0%9F%90%BB">6. Modelå±‚ï¼ˆæ¨¡å‹å±‚ï¼‰ğŸ»</h2> 
<h3 id="6.1%20%F0%9F%8D%8EBean%E5%AF%B9%E8%B1%A1">6.1 ğŸBeanå¯¹è±¡</h3> 
<h4 id="%F0%9F%93%95Userbean">ğŸ“•Userbean</h4> 
<blockquote> 
 <p>å¯¹åº”æ•°æ®åº“ä¸­çš„userè¡¨ï¼Œä½œä¸ºè½½ä½“å°è£…äº†userè¡¨ä¸­æ¯ä¸€æ¡åšå®¢çš„ä¿¡æ¯å­˜åœ¨ï¼Œå¹¶ä¸”æä¾›äº†ç›¸åº”çš„å±æ€§çš„getterå’Œsetteræ–¹æ³•ã€‚</p> 
</blockquote> 
<pre><code class="language-java">package com.shuai.blogapp.model.bean;

public class User {
    private int userId;


    private String username;
    private String password;
    private long blogNum;

    public int getUserId() {
        return userId;
    }

    public void setUserId(int userId) {
        this.userId = userId;
    }

    public String getUsername() {
        return username;
    }

    public void setUsername(String username) {
        this.username = username;
    }

    public String getPassword() {
        return password;
    }

    public void setPassword(String password) {
        this.password = password;
    }

    public long getBlogNum() {
        return blogNum;
    }

    public void setBlogNum(long blogNum) {
        this.blogNum = blogNum;
    }

    @Override
    public String toString() {
        return "User{" +
                "userId=" + userId +
                ", username='" + username + '\'' +
                ", password='" + password + '\'' +
                '}';
    }
}
</code></pre> 
<h4 id="%F0%9F%93%95BlogBean">ğŸ“•BlogBean</h4> 
<blockquote> 
 <p>å¯¹åº”æ•°æ®åº“ä¸­çš„blogè¡¨ï¼Œä½œä¸ºè½½ä½“å°è£…äº†blogè¡¨ä¸­æ¯ä¸€æ¡åšå®¢çš„ä¿¡æ¯å­˜åœ¨ï¼Œå¹¶ä¸”æä¾›äº†ç›¸åº”çš„å±æ€§çš„getterå’Œsetteræ–¹æ³•ã€‚</p> 
</blockquote> 
<pre><code class="language-java">package com.shuai.blogapp.model.bean;

import java.sql.Timestamp;
import java.text.SimpleDateFormat;

public class Blog {
    private int blogId;
    private String title;
    private String content;
    private int userId;
    private Timestamp postTime;

    public int getBlogId() {
        return blogId;
    }

    public void setBlogId(int blogId) {
        this.blogId = blogId;
    }

    public String getTitle() {
        return title;
    }

    public void setTitle(String title) {
        this.title = title;
    }

    public String getContent() {
        return content;
    }

    public void setContent(String content) {
        this.content = content;
    }

    public int getUserId() {
        return userId;
    }

    public void setUserId(int userId) {
        this.userId = userId;
    }

    public void setPostTime(Timestamp postTime) {
        this.postTime = postTime;
    }

    /**
     * é‡å†™postTimeçš„getæ–¹æ³•ï¼Œæ¥åšæ ¼å¼åŒ–è¾“å‡º
     */
    public String getPostTime() {
        SimpleDateFormat simpleDateFormat = new SimpleDateFormat("yyyy-MM-dd HH:mm:ss");
        return simpleDateFormat.format(postTime);
    }

    @Override
    public String toString() {
        return "Blog{" +
                "blogId=" + blogId +
                ", title='" + title + '\'' +
                ", content='" + content + '\'' +
                ", userId=" + userId +
                ", postTime=" + postTime +
                '}';
    }
}
</code></pre> 
<h3 id="6.2%20%F0%9F%8D%8EBlogDao%E7%B1%BB">6.2 ğŸBlogDaoç±»</h3> 
<blockquote> 
 <p>è¯¥ç±»ä½œä¸ºåšå®¢çš„æ•°æ®é€»è¾‘å¤„ç†ç±»ï¼Œ<span style="background-color:#fbd4d0;">å¯¹æ’å…¥åšå®¢ã€åˆ é™¤åšå®¢ã€æŸ¥è¯¢åšå®¢ï¼ˆæ ¹æ®blogIdæŸ¥è¯¢å•ä¸ªä»¥åŠæŸ¥è¯¢å…¨éƒ¨ï¼‰å’Œè·å–æŒ‡å®šç”¨æˆ·å¯¹åº”åšå®¢æ•°ç›®çš„æ–¹æ³•è¿›è¡Œäº†å°è£…</span>ä¾›controllerå±‚Servletè°ƒç”¨å¤„ç†æ•°æ®ã€‚</p> 
</blockquote> 
<pre><code class="language-java">package com.shuai.blogapp.model.dao;

import com.shuai.blogapp.model.bean.Blog;
import com.shuai.blogapp.model.bean.User;
import com.shuai.utils.BaseDaoUtil;

import java.sql.SQLException;
import java.util.List;

/**
 * Date Access Object which handle the request of blog from user
 */
public class BlogDao {
    /**
     * The method which insert the blog which was written by user
     * @param blog
     */
    public void insertBlog(Blog blog) {
        if(blog == null) {
            return;
        }
        String sql = "insert into blog(title,content,userId,postTime) values(?,?,?,now())";
        try {
            BaseDaoUtil.executeUpdate(sql,blog.getTitle(),blog.getContent(),blog.getUserId());
        } catch (SQLException e) {
            throw new RuntimeException(e);
        }
    }

    /**
     * The method which is used to delete the blog by blogId and return the blog object which is deleted
     * @param id
     * @return The blg object which is deleted
     */
    public Blog deleteBlog(int id) {
        List&lt;Blog&gt; blogs = null;
        Blog res = null;
        String sqlQuery = "select blogId,title,content,userId,postTime from blog where blogId=?";
        try {
            blogs = BaseDaoUtil.executeQuery(Blog.class,sqlQuery,id);
        } catch (SQLException e) {
            throw new RuntimeException(e);
        } catch (NoSuchFieldException e) {
            throw new RuntimeException(e);
        } catch (InstantiationException e) {
            throw new RuntimeException(e);
        } catch (IllegalAccessException e) {
            throw new RuntimeException(e);
        }
        if((res = blogs.get(0)) == null) {
            return null;
        }
        String sqlDelete = "delete from blog where blogId=?";
        try {
            BaseDaoUtil.executeUpdate(sqlDelete,id);
        } catch (SQLException e) {
            throw new RuntimeException(e);
        }
        if(blogs.get(0) != null) {
            return blogs.get(0);
        }
        return res;
    }

    /**
     * User can through this method to query the blog by blogId
     * @param id a count which deputy a blog
     * @return return an object which is queried by user
     */
    public Blog queryBlogById(int id) {
        List&lt;Blog&gt; blogs = null;
        String sql = "select blogId,title,content,userId,postTime from blog where blogId=?";
        try {
            blogs = BaseDaoUtil.executeQuery(Blog.class, sql, id);
        } catch (SQLException e) {
            throw new RuntimeException(e);
        } catch (InstantiationException e) {
            throw new RuntimeException(e);
        } catch (IllegalAccessException e) {
            throw new RuntimeException(e);
        } catch (NoSuchFieldException e) {
            throw new RuntimeException(e);
        }
        if((blogs.size()&gt;0)) {
            return blogs.get(0);
        }
        return null;
    }

    public List&lt;Blog&gt; queryAll() {
        String sql = "select blogId,title,content,userId,postTime from blog order by postTime desc" ;
        List&lt;Blog&gt; blogs = null;
        try {
            blogs = BaseDaoUtil.executeQuery(Blog.class,sql);
        } catch (SQLException e) {
            throw new RuntimeException(e);
        } catch (InstantiationException e) {
            throw new RuntimeException(e);
        } catch (IllegalAccessException e) {
            throw new RuntimeException(e);
        } catch (NoSuchFieldException e) {
            throw new RuntimeException(e);
        }
        return blogs;
    }

    public long getBlogNumByUserId(int userId) {
        String sql = "select count(*) as blogNum from blog where userId=?";
        List&lt;User&gt; users = null;
        try {
            users = BaseDaoUtil.executeQuery(User.class, sql, userId);
        } catch (SQLException e) {
            throw new RuntimeException(e);
        } catch (InstantiationException e) {
            throw new RuntimeException(e);
        } catch (IllegalAccessException e) {
            throw new RuntimeException(e);
        } catch (NoSuchFieldException e) {
            throw new RuntimeException(e);
        }
        return users.get(0).getBlogNum();
    }
}
</code></pre> 
<h3 id="6.3%20%F0%9F%8D%8EUserDao%E7%B1%BB">6.3 ğŸUserDaoç±»</h3> 
<blockquote> 
 <p>è¯¥ç±»ä½œä¸ºUseræ•°æ®çš„é€»è¾‘å¤„ç†ç±»ï¼Œ<span style="background-color:#fbd4d0;">å¯¹å‘æ•°æ®åº“ä¸­æ·»åŠ ç”¨æˆ·ã€åˆ é™¤ç”¨æˆ·ã€æŸ¥è¯¢ç”¨æˆ·ï¼ˆé‡è½½æ–¹æ³•ï¼‰çš„åŠŸèƒ½è¿›è¡Œäº†å°è£…</span>ï¼Œä¾›controllerå±‚è°ƒç”¨ã€‚</p> 
</blockquote> 
<pre><code class="language-java">package com.shuai.blogapp.model.dao;

import com.shuai.blogapp.model.bean.User;
import com.shuai.utils.BaseDaoUtil;

import java.sql.SQLException;
import java.util.List;

/**
 * The method which counters the service for users
 */
public class UserDao{
    /**
     * The method which is used to add user
     * @param user
     */
    public void addUser(User user) {
        if(user == null) {
            return;
        }
        String sql = "insert into user(username,password) values(?,?);";
        try {
            BaseDaoUtil.executeUpdate(sql,user.getUsername(),user.getPassword());
        } catch (SQLException e) {
            throw new RuntimeException(e);
        }
    }

    /**
     * The method which is used to delete user from user table by userId
     * @param user
     * @return The user object which is deleted
     */
    public User deleteUser(User user) {
        if(user == null) {
            return null;
        }
        List&lt;User&gt; users = null;
        User res = null;
        String sqlQuery = "select userId,username,password from user where userId=?;";
        try {
            users = BaseDaoUtil.executeQuery(User.class,sqlQuery,user.getUserId());
        } catch (SQLException e) {
            throw new RuntimeException(e);
        } catch (InstantiationException e) {
            throw new RuntimeException(e);
        } catch (IllegalAccessException e) {
            throw new RuntimeException(e);
        } catch (NoSuchFieldException e) {
            throw new RuntimeException(e);
        }

        if(users.size() == 0) {
            return null;
        }
        String sqlDelete = "delete from user where userId=?;";
        try {
            BaseDaoUtil.executeUpdate(sqlDelete,user.getUserId());
        } catch (SQLException e) {
            throw new RuntimeException(e);
        }
        return users.get(0);
    }

    public User selectByName(String username) {
        List&lt;User&gt; users = null;
        String sql = "select userId,username,password from user where username=?";
        try {
            users = BaseDaoUtil.executeQuery(User.class,sql,username);
        } catch (SQLException e) {
            throw new RuntimeException(e);
        } catch (InstantiationException e) {
            throw new RuntimeException(e);
        } catch (IllegalAccessException e) {
            throw new RuntimeException(e);
        } catch (NoSuchFieldException e) {
            throw new RuntimeException(e);
        }
        if(users.size()&gt;0) {
            return users.get(0);
        }
        return null;
    }

    public User selectById(int id) {
        List&lt;User&gt; users = null;
        String sql = "select userId,username,password from user where userId=?";
        try {
            users = BaseDaoUtil.executeQuery(User.class,sql,id);
        } catch (SQLException e) {
            throw new RuntimeException(e);
        } catch (InstantiationException e) {
            throw new RuntimeException(e);
        } catch (IllegalAccessException e) {
            throw new RuntimeException(e);
        } catch (NoSuchFieldException e) {
            throw new RuntimeException(e);
        }
        if(users.size()&gt; 0) {
            return users.get(0);
        }
        return null;
    }

}
</code></pre> 
<h3 id="6.4%20%F0%9F%8D%8EJDBC%E5%B7%A5%E5%85%B7%E7%B1%BB">6.4 ğŸJDBCå·¥å…·ç±»</h3> 
<blockquote> 
 <p>æˆ‘å¯¹äºmysqlè¿æ¥çš„è·å–å’Œæ•°æ®çš„å¢åˆ æ”¹æŸ¥åŸºäºJDBCåŸç”Ÿæ“ä½œå°è£…äº†ä¸¤ä¸ªå·¥å…·ç±»ã€‚<span style="background-color:#fbd4d0;">å…¶ä¸­çš„JDBCUtilæä¾›äº†è·å–è¿æ¥å’Œå›æ”¶è¿æ¥çš„æ–¹æ³•ï¼›BaseDaoUtilæä¾›äº†å¯¹æ•°æ®åº“ä¸­æ•°æ®è¿›è¡Œå¢åˆ æ”¹æŸ¥æ“ä½œçš„å°è£…ã€‚</span></p> 
</blockquote> 
<pre><code class="language-java">//JDBCUtil.java
package com.shuai.utils;


import com.alibaba.druid.pool.DruidDataSourceFactory;

import javax.sql.DataSource;
import java.io.IOException;
import java.io.InputStream;
import java.sql.Connection;
import java.sql.SQLException;
import java.util.Properties;

public class JDBCUtil {
    private static DataSource dataSource;
    private static ThreadLocal&lt;Connection&gt; th = new ThreadLocal&lt;&gt;();
    static {
        Properties properties = new Properties();
        InputStream inputStream = JDBCUtil.class.getClassLoader().getResourceAsStream("jdbc.properties");
        try {
            properties.load(inputStream);
        } catch (IOException e) {
            throw new RuntimeException(e);
        }
        try {
            dataSource = DruidDataSourceFactory.createDataSource(properties);
        } catch (Exception e) {
            throw new RuntimeException(e);
        }

    }

    public static Connection getConnection() throws SQLException {
        Connection connection = th.get();
        if(connection == null) {
            synchronized (JDBCUtil.class) {
                connection = dataSource.getConnection();
                th.set(connection);
            }
        }
        return connection;
    }


    public static void close() throws SQLException {
        Connection connection = th.get();
        if(connection != null) {
            connection.setAutoCommit(true);
            connection.close();
            th.remove();
        }
    }
}
</code></pre> 
<pre><code class="language-java">//BaseDaoUtil.java
package com.shuai.utils;

import java.lang.reflect.Field;
import java.sql.*;
import java.util.ArrayList;
import java.util.List;

public class BaseDaoUtil {
    /**
     * The method which package the operation to delete,update or insert the blog
     *
     * @param sql
     * @param param
     * @return
     */
    public static int executeUpdate(String sql, Object... param) throws SQLException {
        Connection connection = JDBCUtil.getConnection();
        PreparedStatement preparedStatement = connection.prepareStatement(sql);
        if (param != null) {
            //è®¾ç½®sqlè¯­å¥ä¸­çš„å‚æ•°
            for (int i = 0; i &lt; param.length; i++) {
                preparedStatement.setObject(i + 1, param[i]);
            }
        }
        int i = preparedStatement.executeUpdate();
        if(preparedStatement != null) {
            preparedStatement.close();
        }
        if(connection.getAutoCommit()) {    //å¦‚æœæ²¡æœ‰å¼€å¯äº‹åŠ¡ï¼Œå°±å…³é—­è¿æ¥ã€‚å¦åˆ™è®©æœåŠ¡å±‚å…³é—­
            JDBCUtil.close();
        }
        return i;
    }


    public static &lt;T&gt; List&lt;T&gt; executeQuery(Class&lt;T&gt; clazz, String sql, Object... param) throws SQLException, InstantiationException, IllegalAccessException, NoSuchFieldException {
        Connection connection = JDBCUtil.getConnection();
        List&lt;T&gt; beans = new ArrayList&lt;&gt;();
        PreparedStatement preparedStatement = connection.prepareStatement(sql);
        if (param != null) {
            for (int i = 0; i &lt; param.length; i++) {
                preparedStatement.setObject(i + 1, param[i]);
            }
        }
        ResultSet resultSet = preparedStatement.executeQuery();
        ResultSetMetaData metaData = resultSet.getMetaData();
        int columnCount = metaData.getColumnCount();
        while (resultSet.next()) {
            //é€šè¿‡åå°„åˆ›å»ºå¯¹è±¡å®ä¾‹
            T t = clazz.newInstance();
            for (int i = 0; i &lt; columnCount; i++) {
                Object object = resultSet.getObject(i + 1);
                Field declaredField = clazz.getDeclaredField(metaData.getColumnLabel(i + 1));
                declaredField.setAccessible(true);
                declaredField.set(t, object);
            }
            beans.add(t);
        }
        if(resultSet != null) {
            resultSet.close();
        }
        if(preparedStatement != null) {
            preparedStatement.close();
        }
        if(connection.getAutoCommit()) {
            JDBCUtil.close();
        }
        return beans;
    }
}
</code></pre> 
<h2 id="7.%20View%E5%B1%82%EF%BC%88%E8%A7%86%E5%9B%BE%E5%B1%82%E6%BA%90%E7%A0%81%EF%BC%89%F0%9F%90%BB">7. Viewå±‚ï¼ˆè§†å›¾å±‚æºç ï¼‰ğŸ»</h2> 
<h3 id="7.1%20%F0%9F%8D%8E%E5%85%AC%E5%85%B1%E6%A0%B7%E5%BC%8F%E6%96%87%E4%BB%B6">7.1 ğŸå…¬å…±æ ·å¼æ–‡ä»¶</h3> 
<pre><code class="language-css">&lt;!-- commom.css --&gt;
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

html,
body {
    width: 100%;
    height: 100%;
}

body {
    background-image: url(../images/bgi.png);
    background-repeat: no-repeat;
    background-position: center center;
    background-size: cover;
}

.nav {
    height: 40px;
    font-size: 14px;
    display: flex;
    align-items: center;
    background-color: rgba(51, 51, 51, 0.8);
    color: white;
    text-decoration: none;
}

.nav p {
    padding: 0px 10px;
    margin-right: 1050px;
    cursor: default;
}

.nav a {
    display: block;
    color: white;
    text-decoration: none;
    float: right;
    padding: 0 16px;
}

.nav img {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    margin-left: 40px;
}


.container {
    display: flex;
    width: 1000px;
    margin: 0 auto;
    height: calc(100vh - 40px);
    justify-content: space-between;
}

.container .left {
    cursor: default;
    /* background-color: green; */
    width: 200px;
    height: 360px;
    border-radius: 10px;
    padding: 30px;
    background-color: rgba(255, 255, 255, 0.6);
}


.container .left img {
    width: 140px;
    height: 140px;
    border-radius: 50%;
    padding: 10px;
}

.container .left p {
    font-size: 22px;
    text-align: center;
    font-weight: bold;
    padding: 10px;
}

.container .left a {
    display: block;
    text-decoration: none;
    text-align: center;
    color: rgb(114, 102, 218);
    padding: 10px;
}

.container .left .counter {
    display: flex;
    justify-content: space-around;
    padding: 4px;
}


.container .right {
    width: 795px;
    height: 100%;
    background-color: rgba(255, 255, 255, 0.6);
    border-radius: 10px;
}

.container .right {
    overflow: auto;
}

.container .right .content {
    text-indent: 2em;
}</code></pre> 
<h3 id="7.1%20%F0%9F%8D%8E%E7%99%BB%E9%99%86%E9%A1%B5%E9%9D%A2login%E7%9A%84%E5%AE%9E%E7%8E%B0">7.1 ğŸç™»é™†é¡µé¢loginçš„å®ç°</h3> 
<pre><code class="language-html">&lt;!-- login.html --&gt;
&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;

&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;meta http-equiv="X-UA-Compatible" content="IE=edge"&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
    &lt;title&gt;ç™»é™†é¡µé¢&lt;/title&gt;
    &lt;link rel="stylesheet" href="./CSS/login.css"&gt;
&lt;/head&gt;

&lt;body&gt;
&lt;!-- å¯¼èˆªæ  --&gt;
&lt;div class="nav"&gt;
    &lt;img src="./images/logo.png" alt=""&gt;
    &lt;p&gt;æˆ‘çš„åšå®¢ç³»ç»Ÿ&lt;/p&gt;
    &lt;a href="./blog_index.html"&gt;ä¸»é¡µ&lt;/a&gt;
    &lt;a href=""&gt;å†™åšå®¢&lt;/a&gt;
&lt;/div&gt;
&lt;div class="container"&gt;
    &lt;p&gt;ç™»å½•&lt;/p&gt;
    &lt;div class="login"&gt;&lt;span&gt;ç”¨æˆ·åï¼š&lt;/span&gt;&lt;input type="text" id="username" placeholder="è¯·è¾“å…¥ç”¨æˆ·å"&gt;&lt;/div&gt;
    &lt;div class="login"&gt;&lt;span&gt;å¯†ç ï¼š&lt;/span&gt;&lt;input type="password" id="password" placeholder="è¯·è¾“å…¥å¯†ç "&gt;&lt;/div&gt;
    &lt;div id="rem"&gt;&lt;input type="checkbox" id="remember"&gt;åå¤©å†…å…ç™»å½•&lt;/div&gt;
    &lt;button id="submit" type="button"&gt;ç™»å½•&lt;/button&gt;
&lt;/div&gt;
&lt;script type="text/javascript" src="./JS/login.js"&gt;&lt;/script&gt;
&lt;script src="./JS/jquery.min.js"&gt;&lt;/script&gt;
&lt;!--    ä¸ºäº†èƒ½å¤Ÿå®ç°ç™»å½•æ—¶å¼¹çª—çš„æ•ˆæœï¼Œè¿™é‡Œç™»å½•æˆ‘ä»¬ä½¿ç”¨ajaxè¯·æ±‚--&gt;
&lt;script&gt;
    $(function () {

        document.querySelector("#rem").addEventListener('click', function () {
            let myCheckbox = document.querySelector("#rem input")
            if (myCheckbox.hasAttribute("checked")) {
                myCheckbox.removeAttribute("checked")
            } else {
                myCheckbox.setAttribute("checked", "checked")
            }
        })
        let isRemLogin = function () {
            $.ajax({
                type: "get",
                url: "user/remLogin",
                success: function (jsonObj) {
                    console.log(jsonObj.ok)
                    if (jsonObj.ok === "1") {   //cookieä¿¡æ¯ç™»å½•
                        document.location.href = 'blog_index.html'
                    }
                }, error: function () {
                    console.log("error.......")
                }
            })
        }

        let doLoginRequest = function () {
            let $username = $("#username").val()
            let $password = $("#password").val()
            let $remember = $("#remember").attr("checked") ? "1" : "0"
            $.ajax({
                type: "post",
                url: "user/loginIn",
                data: {
                    username: $username,
                    password: $password,
                    remember: $remember
                },
                success: function (reqRes) {
                    console.log("æ¥æ”¶ç™»å½•å“åº”æˆåŠŸ")
                    if (reqRes === "error") {
                        alert('è´¦å·æˆ–å¯†ç é”™è¯¯!')
                        return
                    } else if (reqRes === "empty") {
                        alert("è¯·è¡¥å…¨è´¦å·æˆ–å¯†ç !")
                        return
                    } else {
                        alert("ç™»å½•æˆåŠŸ!")
                        //ç™»å½•æˆåŠŸ
                        document.location.href = "blog_index.html"
                    }
                }, errno: function () {
                    alert('è¯·æ±‚å¤±è´¥')
                }
            })
        }
        $('#submit').click(function () {
            doLoginRequest()
        })

        isRemLogin()    //åˆ¤æ–­æ˜¯å¦ä¿å­˜äº†ç”¨æˆ·ä¿¡æ¯è¿›è¡Œç™»å½•

    })
&lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre> 
<pre><code class="language-css">&lt;!-- login.css --&gt;

html,
body {
    height: 100%;
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    background-image: url(../images/bgi.png);
    background-position: center center;
    background-repeat: no-repeat;
    background-size: cover;
}

.nav {
    height: 40px;
    display: flex;
    align-items: center;
    background-color: rgba(51, 51, 51, 0.8);
    color: white;
    font-size: 14px;
}

.nav img {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    margin-left: 40px;
}

.nav p {
    padding: 10px;
    margin-right: 1050px;
}

.nav a {
    display: block;
    padding: 25px;
    text-decoration: none;
    color: white;
}

.container {
    user-select: none;
    width: 400px;
    height: 500px;
    border-radius: 15px;
    margin: 0 auto;
    margin-top: 80px;

    background-color: rgba(255, 255, 255, 0.6);
}

.container p {
    text-align: center;
    padding: 30px;
    font-size: 36px;
    font-weight: bold;
    padding-bottom: 150px;
}

.container input {
    height: 30px;
    background-color: rgba(236, 194, 104, 0.4);
    padding: 5px 10px;
    border-radius: 4px;
    transition: all .3s;
    border: none;
    outline: none;
}


.container input:focus {
    box-shadow: 2px 2px 2px 2px;
}

.container span {
    display: inline-block;
    width: 80px;
    font-size: 18px;
    font-weight: 400;
}

.container .login {
    text-align: center;
    padding: 10px;
}

.container button {
    display: block;
    padding: 6px 15px;
    background-color: rgb(143, 175, 143);
    border-radius: 6px;
    margin: 0 auto;
    position: relative;
    top: 60px;
    width: 120px;
    cursor: pointer;
    user-select: none;
    transition: all .5s;
    border: none;
    outline: none;
}

.container button:hover {
    background-color: #809c21;
}

#rem {
    width: 110px;
    text-align: center;
    background-color: rgba(143, 175, 143, 0.4);
    border-radius: 6px;
    position: relative;
    top: 10px;
    padding: 0;
    font-size: 11px;
    left: 250px;
    cursor: pointer;
    user-select: none;
    transition: all .3s;
}

#rem input {
    display: inline-block;
    /* height: 14px; */
    margin-right: 3px;
    vertical-align: middle;
}</code></pre> 
<h3 id="7.2%20%F0%9F%8D%8E%E5%8D%9A%E5%AE%A2%E5%88%97%E8%A1%A8%E9%A1%B5blog_index%E7%9A%84%E5%AE%9E%E7%8E%B0">7.2 ğŸåšå®¢åˆ—è¡¨é¡µblog_indexçš„å®ç°</h3> 
<pre><code class="language-html">&lt;!-- blog_index.html --&gt;
&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;

&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;meta http-equiv="X-UA-Compatible" content="IE=edge"&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
    &lt;title&gt;åšå®¢é¦–é¡µ&lt;/title&gt;

    &lt;link rel="stylesheet" href="./CSS/common.css"&gt;
    &lt;link rel="stylesheet" href="./CSS/blogIndex.css"&gt;
&lt;/head&gt;

&lt;body&gt;
&lt;!-- å¯¼èˆªæ  --&gt;
&lt;div class="nav"&gt;
    &lt;img src="./images/logo.png" alt=""&gt;
    &lt;p&gt;æˆ‘çš„åšå®¢ç³»ç»Ÿ&lt;/p&gt;
    &lt;a href="./blog_index.html"&gt;ä¸»é¡µ&lt;/a&gt;
    &lt;a href="blog_editor.html"&gt;å†™åšå®¢&lt;/a&gt;
    &lt;a href="user/loginOut"&gt;æ³¨é”€&lt;/a&gt;
&lt;/div&gt;
&lt;div class="container"&gt;
    &lt;div class="left"&gt;
        &lt;div class="card"&gt;
            &lt;img src="./images/touxiang.jpg" alt=""&gt;
            &lt;p&gt;&lt;/p&gt;
            &lt;a href="#"&gt;GitHubåœ°å€&lt;/a&gt;
            &lt;div class="counter"&gt;
                &lt;div&gt;æ–‡ç« &lt;/div&gt;
                &lt;div&gt;åˆ†ç±»&lt;/div&gt;
            &lt;/div&gt;
            &lt;div class="counter"&gt;
                &lt;div id="blog_num"&gt;2&lt;/div&gt;
                &lt;div&gt;1&lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class="right"&gt;
    &lt;/div&gt;
&lt;/div&gt;
&lt;script src="./JS/jquery.min.js"&gt;&lt;/script&gt;
&lt;!--éªŒè¯ç”¨æˆ·èº«ä»½ä¿¡æ¯çš„åˆæ³•æ€§--&gt;
&lt;script src="./JS/verify_user_legal.js"&gt;&lt;/script&gt;
&lt;script&gt;
    $(function () {
        //å‘é€å¼‚æ­¥ajaxè·å–æ‰€æœ‰çš„åšå®¢åˆ—è¡¨ä¿¡æ¯
        let getBlogList = function () {
            $.ajax({
                type: "GET",
                url: "blog/list",
                async: true,
                success: function (jsonArr) {
                    let right = document.querySelector('.right')
                    right.innerHTML = ''
                    for (const json of jsonArr) {
                        let textDiv = document.createElement('div')
                        textDiv.className = 'text'
                        //åˆ›å»ºæ ‡é¢˜èŠ‚ç‚¹
                        let h3 = document.createElement('h3')
                        h3.innerHTML = json.title
                        textDiv.appendChild(h3)
                        //åˆ›å»ºdateèŠ‚ç‚¹
                        let dateDiv = document.createElement('div')
                        dateDiv.className = 'date'
                        dateDiv.innerHTML = json.postTime
                        textDiv.appendChild(dateDiv)
                        //åˆ›å»ºå†…å®¹èŠ‚ç‚¹
                        let contentDiv = document.createElement('div')
                        contentDiv.className = 'content'
                        contentDiv.innerHTML = json.content
                        textDiv.appendChild(contentDiv)
                        //åˆ›å»ºè¶…é“¾æ¥èŠ‚ç‚¹
                        let a = document.createElement('a')
                        a.href = 'blog_detail.html?blogId=' + json.blogId
                        a.innerHTML = 'æŸ¥çœ‹å…¨æ–‡&amp;gt;&amp;gt;'
                        textDiv.appendChild(a)
                        //å°†textèŠ‚ç‚¹æŒ‚åˆ°domæ ‘ä¸Š
                        right.appendChild(textDiv)
                        //ä½œè€…çš„ç¼–å·ä¿¡æ¯è¿˜æ²¡æœ‰ç”¨ä¸Š
                        let hr = document.createElement('hr');
                        right.appendChild(hr)
                    }
                }, errno: function () {
                    alert('è·å–åšå®¢åˆ—è¡¨å¤±è´¥!')
                }
            })
        }
        getUserInfo("blog_index.html")  //è·å–ç”¨æˆ·ç™»å½•ä¿¡æ¯ï¼Œè¿™æ˜¯ä¸€ä¸ªå¼‚æ­¥è¯·æ±‚
        getBlogList()
    })
&lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre> 
<pre><code class="language-css">&lt;!-- blog_index.css --&gt;
.container .right .text {
    padding: 25px;
    width: 100%;
}

.container .right h3 {

    text-align: center;
    padding: 10px 0;
}

.container .right .date {
    text-align: center;
    padding-bottom: 10px;
}

.container .right .content {
    display: block;
    width: 100%;
    word-break: break-all;
    padding: 10px 0;
}

.container .right .text a {
    text-decoration: none;
    display: block;
    width: 110px;
    border-radius: 10px;
    text-align: center;
    padding: 5px;
    margin: 0 auto;
    border: 2px solid black;
    transition: all .3s;
    color: black;
}


.container .right .text a:hover {
    background-color: pink;
}</code></pre> 
<h3 id="7.3%20%F0%9F%8D%8E%E5%8D%9A%E5%AE%A2%E8%AF%A6%E6%83%85%E9%A1%B5blog_detail%E7%9A%84%E5%AE%9E%E7%8E%B0">7.3 ğŸåšå®¢è¯¦æƒ…é¡µblog_detailçš„å®ç°</h3> 
<pre><code class="language-html">&lt;!-- blog_detail.html --&gt;
&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;

&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;meta http-equiv="X-UA-Compatible" content="IE=edge"&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
    &lt;title&gt;åšå®¢è¯¦æƒ…é¡µ&lt;/title&gt;

    &lt;link rel="stylesheet" href="./CSS/common.css"&gt;
    &lt;link rel="stylesheet" href="./CSS/blogIndex.css"&gt;
    &lt;link rel="stylesheet" href="./CSS/blogDetail.css"&gt;
    &lt;!--    å¼•å…¥editor.mdç›¸å…³æ–‡ä»¶ï¼Œå°†æ™®é€šçš„å­—ç¬¦ä¸²å†…å®¹æ¸²æŸ“æˆmdè¯­æ³•è§£æåçš„å†…å®¹æ˜¾ç¤º--&gt;
    &lt;link rel="stylesheet" href="./editor.md/css/editormd.min.css"&gt;
    &lt;script src="./JS/jquery.min.js"&gt;&lt;/script&gt;
    &lt;script src="./editor.md/lib/marked.min.js"&gt;&lt;/script&gt;
    &lt;script src="./editor.md/lib/prettify.min.js"&gt;&lt;/script&gt;
    &lt;script src="./editor.md/editormd.js"&gt;&lt;/script&gt;
&lt;/head&gt;

&lt;body&gt;
&lt;!-- å¯¼èˆªæ  --&gt;
&lt;div class="nav"&gt;
    &lt;img src="./images/logo.png" alt=""&gt;
    &lt;p&gt;æˆ‘çš„åšå®¢ç³»ç»Ÿ&lt;/p&gt;
    &lt;a href="./blog_index.html"&gt;ä¸»é¡µ&lt;/a&gt;
    &lt;a href="blog_editor.html"&gt;å†™åšå®¢&lt;/a&gt;
    &lt;a href="user/loginOut"&gt;æ³¨é”€&lt;/a&gt;
&lt;/div&gt;
&lt;div class="container"&gt;
    &lt;div class="left"&gt;
        &lt;div class="card"&gt;
            &lt;img src="./images/touxiang.jpg" alt=""&gt;
            &lt;p&gt;&lt;/p&gt;
            &lt;a href="#"&gt;GitHubåœ°å€&lt;/a&gt;
            &lt;div class="counter"&gt;
                &lt;div&gt;æ–‡ç« &lt;/div&gt;
                &lt;div&gt;åˆ†ç±»&lt;/div&gt;
            &lt;/div&gt;
            &lt;div class="counter"&gt;
                &lt;div id="blog_num"&gt;2&lt;/div&gt;
                &lt;div&gt;1&lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class="right"&gt;
        &lt;div class="text"&gt;
            &lt;h3&gt;æˆ‘çš„ç¬¬ä¸€ç¯‡åšå®¢&lt;/h3&gt;
            &lt;div class="date"&gt;2023-04-08&lt;/div&gt;
            &lt;div id="content"&gt;

            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;
&lt;script&gt;
    $(function () {

        let getAuthorInfo = function (user) {
            $.ajax({
                type: "get",
                url: "author/authorInfo" + location.search,
                success: function (userJson) {
                    if (userJson.userId === -1) {
                        alert("è®¿é—®çš„åšå®¢ä¸å­˜åœ¨...")
                        document.location.href = "blog_index.html"
                        return
                    }
                    if (userJson.userId === 0) {
                        setUserInfo("[è¯¥ç”¨æˆ·å·²æ³¨é”€...]", "XXX")
                        return
                    }
                    //èƒ½æ‰§è¡Œåˆ°è¿™é‡Œï¼Œè¯´æ˜ä½œè€…ä¿¡æ¯å·²ç»åŠ è½½å®Œæˆäº†
                    setUserInfo(userJson.username, userJson.blogNum)
                    isShowDeleteBtn(userJson.username, user.username)  //å°†ä½œè€…ä¿¡æ¯ä¼ å…¥ï¼Œåˆ¤æ–­å½“å‰ä½œè€…ä¿¡æ¯å’Œç™»å½•çš„ç”¨æˆ·çš„ä¿¡æ¯æ˜¯å¦ç›¸åŒ
                }
            })
        }

        let setUserInfo = function (username, blogNum) {
            $(".card p").html(username)
            $(".card #blog_num").html(blogNum)
        }
        let getUserInfo = function (path) {
            $.ajax({
                type: "get",
                url: "user/verify",
                async: false,
                success: function (jsonObj) {
                    if (jsonObj.userId === 0) {
                        alert('æ‚¨è¿˜æœªç™»å½•ï¼Œè¯·ç™»å½•åè®¿é—®...')
                        document.location.href = 'login.html'   //å¦‚æœä¸å­˜åœ¨ç”¨æˆ·ä¿¡æ¯ï¼Œå°±è·³è½¬åˆ°ç™»å½•é¡µé¢
                        return
                    }

                    getAuthorInfo(jsonObj)

                }
            })

        }
        let doGetRequest = function () {
            $.ajax({
                type: "get",
                url: "blog/detail" + location.search,    //å¾—åˆ°blog_listé¡µé¢çš„blogIdæŸ¥è¯¢å¯¹åº”åšå®¢çš„è¯¦ç»†ä¿¡æ¯
                success: function (json) {
                    $(".text h3").html(json.title)
                    $(".date").html(json.postTime)
                    //å°†åç«¯ç›¸åº”çš„æ™®é€šå­—ç¬¦ä¸²æ•°æ®ç»è¿‡markdownè¯­æ³•è§£æåæ˜¾ç¤º
                    editormd.markdownToHTML("content", {
                        markdown: json.content
                    })
                }, error: function () {
                    alert('å†…å®¹åŠ è½½å¤±è´¥!')
                }
            })
        }
        //å‘é€åŒæ­¥è¯·æ±‚ï¼ŒéªŒè¯ç”¨æˆ·èº«ä»½ä¿¡æ¯çš„åˆæ³•æ€§
        getUserInfo("blog_detail.html")
        //æ‰§è¡Œå‡½æ•°ï¼Œå‘é€è¯·æ±‚
        doGetRequest()

        let isShowDeleteBtn = function (authorName, username) {
            console.log(authorName + "    " + username)
            if (username === authorName) {
                //æ˜¾ç¤ºæŒ‰é’®ä¿¡æ¯
                let navDiv = document.querySelector(".nav")
                let a = document.createElement('a')
                a.innerHTML = 'åˆ é™¤'
                navDiv.appendChild(a)   //å°†åˆ›å»ºçš„aæ ‡ç­¾æŒ‚åˆ°domæ ‘ä¸Š
                a.addEventListener('click', function () {
                    if (!window.confirm("ç¡®å®šåˆ é™¤å—?")) {
                        return;
                    }
                    $.ajax({
                        type: "get",
                        url: "blog/delete" + location.search,
                        success: function (delRes) {
                            //æ¥æ”¶åˆ é™¤çš„è¿”å›ä¿¡æ¯
                            switch (delRes) {
                                case "login_out_of_date":
                                    alert("ä¸¢å¤±ç™»é™†çŠ¶æ€ï¼Œè¯·é‡æ–°ç™»å½•...")
                                    document.location.href = 'login.html'
                                    break;
                                case "blog_not_exists":
                                    alert("blogä¿¡æ¯ä¸å­˜åœ¨ï¼Œè¯·æ£€æŸ¥")
                                    break
                                case "user_info_mismatching":
                                    alert("æ— æ³•åˆ é™¤ä»–äººçš„æ–‡ç« ...")
                                    break
                                case "delete_success":
                                    alert("åˆ é™¤æˆåŠŸ!")
                                    document.location.href = 'blog_index.html'
                                    break
                                case "delete_fault":
                                    alert("åˆ é™¤å¤±è´¥ï¼ŒæœªçŸ¥é”™è¯¯...")
                                    break
                            }
                        }
                    })
                })
            }

        }



    })
&lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre> 
<pre><code class="language-css">&lt;!-- blog_deatil.css --&gt;

#content {
    opacity: 70%;
}


.nav a {
    cursor: pointer;
    padding: 0 10px;
}</code></pre> 
<h3 id="7.4%20%F0%9F%8D%8E%E5%8D%9A%E5%AE%A2%E7%BC%96%E8%BE%91%E9%A1%B5%E9%9D%A2blog_editor%E7%9A%84%E5%AE%9E%E7%8E%B0">7.4 ğŸåšå®¢ç¼–è¾‘é¡µé¢blog_editorçš„å®ç°</h3> 
<pre><code class="language-html">&lt;!-- blog_editor.html --&gt;
&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;

&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;meta http-equiv="X-UA-Compatible" content="IE=edge"&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
    &lt;title&gt;åšå®¢ç¼–è¾‘é¡µé¢&lt;/title&gt;
    &lt;link rel="stylesheet" href="./CSS/common.css"&gt;
    &lt;link rel="stylesheet" href="./CSS/blog_editor.css"&gt;
    &lt;link rel="stylesheet" href="./editor.md/css/editormd.min.css"&gt;
    &lt;script src="./JS/jquery.min.js"&gt;&lt;/script&gt;
    &lt;script src="./editor.md/lib/marked.min.js"&gt;&lt;/script&gt;
    &lt;script src="./editor.md/lib/prettify.min.js"&gt;&lt;/script&gt;
    &lt;script src="./editor.md/editormd.js"&gt;&lt;/script&gt;
&lt;/head&gt;

&lt;body&gt;
&lt;!-- å¯¼èˆªæ  --&gt;
&lt;div class="nav"&gt;
    &lt;img src="./images/logo.png" alt=""&gt;
    &lt;p&gt;æˆ‘çš„åšå®¢ç³»ç»Ÿ&lt;/p&gt;
    &lt;a href="./blog_index.html"&gt;ä¸»é¡µ&lt;/a&gt;
    &lt;a href=""&gt;å†™åšå®¢&lt;/a&gt;
    &lt;a href="user/loginOut"&gt;æ³¨é”€&lt;/a&gt;
&lt;/div&gt;
&lt;div class="content_editor"&gt;
    &lt;form action="blog/save" method="post"&gt;
        &lt;div class="title_content"&gt;
            &lt;input type="text" placeholder="è¯·è¾“å…¥æ–‡ç« æ ‡é¢˜" name="title" id="ipt"&gt;
            &lt;input type="submit" id="subm" value="å‘å¸ƒ"&gt;
        &lt;/div&gt;
        &lt;div id="editor"&gt;
            &lt;textarea name="content" cols="30" rows="10" style="display: none"&gt;&lt;/textarea&gt;
        &lt;/div&gt;
    &lt;/form&gt;
&lt;/div&gt;
&lt;!-- éªŒè¯ç”¨æˆ·èº«ä»½ä¿¡æ¯çš„åˆæ³•æ€§ --&gt;
&lt;script src="./JS/verify_user_legal.js"&gt;&lt;/script&gt;
&lt;script&gt;
    let editor = editormd("editor", {
        width: "100%",
        height: "calc(100% - 40px)",
        markdown: "# åœ¨è¿™é‡Œå†™ä¸‹ä¸€ç¯‡åšå®¢",
        path: "./editor.md/lib/",
        saveHTMLToTextarea: true         //å°†editorç¼–è¾‘çš„å†…å®¹ä¿å­˜åœ¨textareaæ–‡æœ¬æ¡†ä¸­ï¼Œæ–¹ä¾¿formè¡¨å•çš„æäº¤
    })
    $(function () {
        getUserInfo("blog_editor.html") //éªŒè¯ç”¨æˆ·èº«ä»½ä¿¡æ¯çš„åˆæ³•æ€§
    })
&lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre> 
<pre><code class="language-css">&lt;!-- blog_editor.css --&gt;
.content_editor {
    margin: 0 auto;
    width: 1000px;
    height: calc(100vh - 40px);
}

.content_editor .title_content {
    width: 100%;
    height: 40px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.title_content #ipt {
    width: 890px;
    height: 30px;
    border: none;
    outline: none;
    padding-left: 15px;
    font-size: 16px;
    border-radius: 10px;
    transition: all .3s;
}

.title_content #subm {
    width: 100px;
    height: 30px;
    background-color: pink;
    border: none;
    outline: none;
    cursor: pointer;
    transition: all .3s;
    border-radius: 10px;
    font-size: 12px;
    padding-left: -10px;
}


.title_content #ipt:hover,
.title_content #sub:hover {
    box-shadow: 3px 5px 3px;
}

.content_editor #editor {
    opacity: 80%;
    border-radius: 10px;
}


.content_editor form {
    width: 100%;
    height: 100%;
}</code></pre> 
<h2 id="8.%20%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%F0%9F%90%BB">8. é…ç½®æ–‡ä»¶ğŸ»</h2> 
<h3 id="8.1%20%F0%9F%8D%8Emaven%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6">8.1 ğŸmavené…ç½®æ–‡ä»¶</h3> 
<pre><code class="language-XML">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;
    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;


    &lt;groupId&gt;org.example&lt;/groupId&gt;
    &lt;artifactId&gt;BlogSystem&lt;/artifactId&gt;
    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;

    &lt;properties&gt;
        &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;
        &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;
        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
    &lt;/properties&gt;

    &lt;dependencies&gt;

        &lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;
            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;
            &lt;version&gt;3.1.0&lt;/version&gt;
            &lt;scope&gt;provided&lt;/scope&gt;
        &lt;/dependency&gt;

        &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind --&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;
            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;
            &lt;version&gt;2.12.6.1&lt;/version&gt;
        &lt;/dependency&gt;


        &lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;mysql&lt;/groupId&gt;
            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;
            &lt;version&gt;5.1.47&lt;/version&gt;
        &lt;/dependency&gt;

        &lt;!-- https://mvnrepository.com/artifact/com.alibaba/druid --&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;com.alibaba&lt;/groupId&gt;
            &lt;artifactId&gt;druid&lt;/artifactId&gt;
            &lt;version&gt;1.1.10&lt;/version&gt;
        &lt;/dependency&gt;

    &lt;/dependencies&gt;
    &lt;packaging&gt;war&lt;/packaging&gt;

    &lt;build&gt;
        &lt;finalName&gt;test_last&lt;/finalName&gt;
    &lt;/build&gt;


&lt;/project&gt;</code></pre>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/93919c1f421cc5090d4ce33946edefae/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">HBaseæ¶æ„ç¯‡ - Hadoopå®¶æ—çš„å¤©ä¹‹éª„å­HBase</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/d7762e951d985345a2df649803a80c9a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">Pandas å¸¸ç”¨æŒ‰ç…§æŸ¥è¯¢æ¡ä»¶ç­›é€‰æ•°æ®</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ITå­¦ä¹ è€…åšå®¢.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>