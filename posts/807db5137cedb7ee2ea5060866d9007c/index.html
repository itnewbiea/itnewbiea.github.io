<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Servlet项目创建 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Servlet项目创建" />
<meta property="og:description" content="Servlet 1.Servlet是什么？ Servlet 是一种实现动态页面的技术，是一组 Tomcat 提供给程序猿的 API, 帮助程序猿简单高效的开发一个 web app，它是基于HTTP协议交换并且运行在Tomcat里的框架技术。
2.Servlet的主要工作？ 1）用户的URL到程序的映射
允许程序猿注册一个类, 在 Tomcat 收到某个特定的 HTTP 请求的时候, 执行这个类中的一些代码。
2）得到Request请求中的所有数据
帮助程序猿解析 HTTP 请求, 把 HTTP 请求从一个字符串解析成一个 HttpRequest 对象。
3）将服务器端处理的结果返回给用户
帮助程序猿构造 HTTP 响应。 程序猿只要给指定的 HttpResponse 对象填写一些属性字段, Servlet 就会自动的安装 HTTP 协议的方式构造出一个 HTTP 响应字符串, 并通过 Socket 写回给客户端。
3.第一个Servlet项目 1.创建项目
首先需要创建一个Maven项目，因为Servlet是基于Maven的。
File-&gt;New-&gt;Project-&gt;Maven-&gt;maven-archetype-webapp
贴心的idea会给我们再次显示maven的配置信息，确保国内源已经配置完成，否则项目会创建失败。之后点击Finish即可完成创建。
创建好servlet项目后，进入页面可以看到项目的目录，其中pom.xml中包含maven的配置文件。
其中最重要的还是dependencies标签内的所有依赖，里面有多个dependency，一个dependency就表示一个引用的jar包。
2.引入依赖
添加servlet框架，到中央仓库（[https://mvnrepository.com/]）下载依赖信息，搜索servlet。
其中，servlet的版本号取决于Tomact的版本号，在Tomcat的官网可以查询到官方建议的版本号。我使用的Tomcat版本是8.5的，所以应该使用3.1的servlet。
选择3.1版本servlet，复制依赖信息加入到pom.xml的dependencies中。
复制到pom.xml后，记得点击加载按钮，检查libraries中是否有servlet，存在说明加载成功。
3.创建目录
需要创建两个目录，一个是源代码目录，另一个是单元测试目录。
源代码目录：main-&gt;New -&gt;Directory-&gt;java
单元测试目录：main-&gt;New -&gt;Directory-&gt;test,再将灰色的普通文件夹test转换为单元测试文件夹，是绿色的。
4.编写代码
a)在java目录中创建一个类HelloServlet，继承HTTPServlet。
b)设置URL映射，能够将URL地址定位到当前类上。
c)重写doGet或doPost方法。
5.打包程序
点击maven生命周期中的package进行打包
打包后的项目路径位于右下角显示框中。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/807db5137cedb7ee2ea5060866d9007c/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-02-06T17:11:32+08:00" />
<meta property="article:modified_time" content="2023-02-06T17:11:32+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Servlet项目创建</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="Servlet_0"></a><strong>Servlet</strong></h2> 
<h3><a id="1Servlet_2"></a>1.Servlet是什么？</h3> 
<p>Servlet 是一种实现动态页面的技术，是一组 Tomcat 提供给程序猿的 API, 帮助程序猿简单高效的开发一个 web app，它是基于HTTP协议交换并且运行在Tomcat里的框架技术。</p> 
<h3><a id="2Servlet_5"></a>2.Servlet的主要工作？</h3> 
<p>1）用户的URL到程序的映射<br> 允许程序猿注册一个类, 在 Tomcat 收到某个特定的 HTTP 请求的时候, 执行这个类中的一些代码。<br> 2）得到Request请求中的所有数据<br> 帮助程序猿解析 HTTP 请求, 把 HTTP 请求从一个字符串解析成一个 HttpRequest 对象。<br> 3）将服务器端处理的结果返回给用户<br> 帮助程序猿构造 HTTP 响应。 程序猿只要给指定的 HttpResponse 对象填写一些属性字段, Servlet 就会自动的安装 HTTP 协议的方式构造出一个 HTTP 响应字符串, 并通过 Socket 写回给客户端。</p> 
<h3><a id="3Servlet_13"></a>3.第一个Servlet项目</h3> 
<p>1.创建项目<br> 首先需要创建一个Maven项目，因为Servlet是基于Maven的。<br> File-&gt;New-&gt;Project-&gt;Maven-&gt;maven-archetype-webapp<br> <img src="https://images2.imgbox.com/8d/82/AcdVQcvV_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/98/8c/UCwF1P6b_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/58/81/xV0VfTkI_o.png" alt="在这里插入图片描述"><br> 贴心的idea会给我们再次显示maven的配置信息，确保国内源已经配置完成，否则项目会创建失败。之后点击Finish即可完成创建。<br> <img src="https://images2.imgbox.com/97/81/TwwSSg5j_o.png" alt="在这里插入图片描述"><br> 创建好servlet项目后，进入页面可以看到项目的目录，其中pom.xml中包含maven的配置文件。<br> <img src="https://images2.imgbox.com/e8/95/h4irhKo1_o.png" alt="在这里插入图片描述"></p> 
<p>其中最重要的还是dependencies标签内的所有依赖，里面有多个dependency，一个dependency就表示一个引用的jar包。<br> <img src="https://images2.imgbox.com/78/05/l2D8otiU_o.png" alt="在这里插入图片描述"></p> 
<p>2.引入依赖<br> 添加servlet框架，到中央仓库（[https://mvnrepository.com/]）下载依赖信息，搜索servlet。<br> <img src="https://images2.imgbox.com/4c/bf/sePX8c9v_o.png" alt="在这里插入图片描述"><br> 其中，servlet的版本号取决于Tomact的版本号，在Tomcat的官网可以查询到官方建议的版本号。我使用的Tomcat版本是8.5的，所以应该使用3.1的servlet。<br> <img src="https://images2.imgbox.com/ea/6c/yNFRTwO3_o.png" alt="在这里插入图片描述"><br> 选择3.1版本servlet，复制依赖信息加入到pom.xml的dependencies中。<br> <img src="https://images2.imgbox.com/d9/4b/8mYSSxXV_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/f7/4c/iEoY1aK0_o.png" alt="在这里插入图片描述"><br> 复制到pom.xml后，记得点击加载按钮，检查libraries中是否有servlet，存在说明加载成功。<br> <img src="https://images2.imgbox.com/38/c9/CT5LGH3N_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/b3/d1/LjHBk1xW_o.png" alt="在这里插入图片描述"></p> 
<p>3.创建目录<br> 需要创建两个目录，一个是源代码目录，另一个是单元测试目录。<br> 源代码目录：main-&gt;New -&gt;Directory-&gt;java<br> <img src="https://images2.imgbox.com/f5/56/wq7WqESc_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/76/96/lkDh1sSC_o.png" alt="在这里插入图片描述"><br> 单元测试目录：main-&gt;New -&gt;Directory-&gt;test,再将灰色的普通文件夹test转换为单元测试文件夹，是绿色的。<br> <img src="https://images2.imgbox.com/b7/fe/y2DvClrA_o.png" alt="在这里插入图片描述"></p> 
<p>4.编写代码<br> a)在java目录中创建一个类HelloServlet，继承HTTPServlet。<br> b)设置URL映射，能够将URL地址定位到当前类上。<br> c)重写doGet或doPost方法。<br> <img src="https://images2.imgbox.com/26/2a/Lo664qo5_o.png" alt="在这里插入图片描述"></p> 
<p>5.打包程序<br> 点击maven生命周期中的package进行打包<br> <img src="https://images2.imgbox.com/d1/3e/ukdR6sEZ_o.png" alt="在这里插入图片描述"><br> 打包后的项目路径位于右下角显示框中。<br> <img src="https://images2.imgbox.com/cc/51/iF4UtR92_o.png" alt="在这里插入图片描述"><br> 打开此路径，即可看到打包的xxx.war包。</p> 
<p>6.部署程序<br> 将打包的war包放到Tomcat的webapps的根目录底下。<br> <img src="https://images2.imgbox.com/e8/1b/z45jLzyE_o.png" alt="在这里插入图片描述"><br> 启动Tomcat，访问网站。找到Tomcat的bin目录，双击startup.bat。<br> 此时，直接在浏览器中输入http://localhost:8080/hello并不能实现页面的跳转，原因在于没有加网站的名称，可以在Tomcat的webapps目录底下看到此时war包被解压，产生了一个新的文件夹。<br> <img src="https://images2.imgbox.com/ce/fb/YhQiHHvi_o.png" alt="在这里插入图片描述"></p> 
<p>所以在浏览器中打开网址http://localhost:8080/first-servlet/hello,即可实现项目的运行。<br> <img src="https://images2.imgbox.com/93/02/10hhWMBk_o.png" alt="在这里插入图片描述"><br> <strong>更简便的部署方式！</strong><br> 上述部署方式看起来非常麻烦，所以有一种更便捷的方式运行java web项目，将idea和Tomcat连接起来，让IDEA直接就可以运行Tomcat。<br> 首先，需要在IDEA社区版内安装插件。点击File-&gt;Settings-&gt;Plugins-&gt;Smart Tomcat。<br> <img src="https://images2.imgbox.com/40/1a/dynMaLy0_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>如果搜索Smart Tomcat未检索到，可能是因为应用市场是国外的，在搜索的时候有网络抖动，可尝试重启IDEA再次搜索。还可能是因为自己的IDEA社区版版本太高了，插件都有版本的兼容性，可以尝试到官网下载Smart Tomcat插件到IntelliJ IDEA 。</p> 
</blockquote> 
<p>接下来，需要配置tomcat环境<br> 点击Add Configuration,若安装成功，则Templates中会出现Smart Tomcat。这时候点击左上角的“＋”，选择Smart Tomcat，在配置页面填写配置信息。<br> <img src="https://images2.imgbox.com/34/00/r9eB0Klc_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/f0/25/BQXziOCh_o.png" alt="在这里插入图片描述"><br> 配置好后，原来的Add Configuration会显示配置好的Tomcat名称，如下所示：<br> <img src="https://images2.imgbox.com/f6/72/KSDPDhW1_o.png" alt="在这里插入图片描述"><br> 点击“Run”就可以运行项目了，运行成功后在控制台显示网址，打开即可访问网站。<br> <img src="https://images2.imgbox.com/57/3d/exqeJqG7_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="4_87"></a>4.访问出错</h3> 
<p>1.出现404<br> 404 表示用户访问的资源不存在，大概率是 URL 的路径写的不正确。</p> 
<p>错误实例1: 少写了 Context Path<br> 通过 /hello 访问服务器<br> <img src="https://images2.imgbox.com/76/df/wa0JfQLf_o.png" alt="在这里插入图片描述"></p> 
<p>错误实例2: 少写了 Servlet Path<br> 通过 /ServletHello访问服务器<br> <img src="https://images2.imgbox.com/d2/f9/Dg539tZv_o.png" alt="在这里插入图片描述"></p> 
<p>错误实例3: Servlet Path 写的和 URL 不匹配<br> 修改 @WebServlet 注解的路径<br> <img src="https://images2.imgbox.com/45/c3/0IlD6e1U_o.png" alt="在这里插入图片描述"><br> URL 中的路径写作 “/hello”, 而代码中写作的 Servlet Path 为 “/helloServlet”, 两者不匹配。<br> <img src="https://images2.imgbox.com/35/1e/1XFeULaI_o.png" alt="在这里插入图片描述"></p> 
<p>错误实例4: web.xml 写错了<br> 清除 web.xml 中的内容，重启 Tomcat 服务器。<br> <img src="https://images2.imgbox.com/d0/c2/cf9330LR_o.png" alt="在这里插入图片描述"></p> 
<p>通过浏览器访问 URL, 可以看到:<br> <img src="https://images2.imgbox.com/fa/9b/hyzBSnks_o.png" alt="在这里插入图片描述"></p> 
<p>2.出现405<br> 405 表示对应的 HTTP 请求方法没有实现。</p> 
<p>错误实例: 没有实现 doGet 方法。<img src="https://images2.imgbox.com/2a/23/hMoNRil5_o.png" alt="."><br> 重启 Tomcat 服务器,在浏览器中访问, 可以看到:<br> <img src="https://images2.imgbox.com/3f/51/RV8QCZvN_o.png" alt="在这里插入图片描述"><br> 在浏览器地址栏直接输入 URL , 会发送一个 HTTP GET 请求。此时就会根据 /first-servlet/hello 这个路径找到 HelloServlet 这个类。并且尝试调用HelloServlet 的 doGet 方法。但是如果没有实现 doGet 方法, 就会出现上述现象。</p> 
<p>3.出现500<br> 往往是 Servlet 代码中抛出异常导致的。</p> 
<p>错误实例:<br> 修改代码，重启服务器。<br> <img src="https://images2.imgbox.com/0b/4d/BtKs90pj_o.png" alt="在这里插入图片描述"><br> 出现空指针异常，访问出错。<br> <img src="https://images2.imgbox.com/32/c2/i7MXcqEv_o.png" alt="在这里插入图片描述"></p> 
<p>4.出现空白页面<br> 错误实例:<br> 修改代码, 去掉 resp.getWritter.write()操作。<br> <img src="https://images2.imgbox.com/bd/cb/Z7m7IJPQ_o.png" alt="在这里插入图片描述"><br> 重启服务器, 访问服务器, 可以看到一个空白页面：<br> <img src="https://images2.imgbox.com/48/38/S9ywe9sW_o.png" alt="在这里插入图片描述"></p> 
<p>5.出现无法访问此网页<br> 一般是 Tomcat 启动就失败了。<br> 错误实例: Servlet Path 写错了。<br> <img src="https://images2.imgbox.com/68/24/Hr5lxUgs_o.png" alt="在这里插入图片描述"><br> 应该写作 “/hello”, Tomcat 在启动的时候已经提示了相关的错误。<br> Tomcat 启动的日志里面报错信息可能比较多, 需要耐心观察, 找到关键的提示。<br> <img src="https://images2.imgbox.com/19/c9/aN0Fed3l_o.png" alt="在这里插入图片描述"><br> 在网页中看到的现象是：<br> <img src="https://images2.imgbox.com/e6/b2/ZIEpolsr_o.png" alt="在这里插入图片描述"></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/96bead716128d30fab2dd9dc2780625e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">argparse--- 命令行选项、参数和子命令解析器</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/933d3c839334969311d67132777852ff/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">微信小程序--》从零实现小程序项目案例</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>