<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>JDBCåŸºç¡€è¶…è¯¦ç»†ï¼ˆä¸€ï¼‰ï¼ˆè¿æ¥æ•°æ®åº“ï¼Œå®ç°å¢åˆ æ”¹æŸ¥å››é¡¹ä¸»è¦åŠŸèƒ½ï¼‰ - ITå­¦ä¹ è€…åšå®¢</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="JDBCåŸºç¡€è¶…è¯¦ç»†ï¼ˆä¸€ï¼‰ï¼ˆè¿æ¥æ•°æ®åº“ï¼Œå®ç°å¢åˆ æ”¹æŸ¥å››é¡¹ä¸»è¦åŠŸèƒ½ï¼‰" />
<meta property="og:description" content="JDBCåŸºç¡€è¶…è¯¦ç»†ï¼ˆäºŒï¼‰ï¼ˆPreparedStatementä¸Statementçš„åŒºåˆ«ï¼Œé¿å…mysqlæ³¨å…¥ï¼‰
æºç å¥‰ä¸Šï¼Œå¤§å®¶å’Œæˆ‘ä¸€èµ·æ“ä½œï¼Œå°è±¡æ›´åŠ æ·±åˆ»
import java.sql.*; public class Javatell { public static void main(String []args){ Connection connection=null; Statement statement=null; ResultSet resultSet=null; //æ³¨å†Œé©±åŠ¨ try { try { Class.forName(&#34;com.mysql.jdbc.Driver&#34;); } catch (ClassNotFoundException e) { e.printStackTrace(); } //è·å–é“¾æ¥ String url=&#34;jdbc:mysql://localhost:3306/user&#34;; String user=&#34;root&#34;; String password=&#34;200101&#34;; connection=DriverManager.getConnection(url,user,password); //è·å–æ•°æ®åº“æ“ä½œå¯¹è±¡ statement=connection.createStatement(); //å®šä¹‰æ’å…¥è¯­å¥ String insertSql=&#34;insert into user_information values (4,&#39;ä½ å¥½&#39;,&#39;123456&#39;)&#34;; //å®šä¹‰æ›´æ–°è¯­å¥ String updateSql=&#34;update user_information set user_name=&#39;ç‹äº”&#39; where user_name=&#39;æå››&#39;&#34;; //å®šä¹‰åˆ é™¤è¯­å¥ String deleteSql=&#34;delete from user_information where user_name=&#39;å¼ ä¸‰&#39; &#34;; //å®šä¹‰æŸ¥è¯¢è¯­å¥ String selectSql=&#34;select * from user_information &#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/bf590803549990a51a65700293e6c7db/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-12-12T13:51:07+08:00" />
<meta property="article:modified_time" content="2021-12-12T13:51:07+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ITå­¦ä¹ è€…åšå®¢" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ITå­¦ä¹ è€…åšå®¢</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">JDBCåŸºç¡€è¶…è¯¦ç»†ï¼ˆä¸€ï¼‰ï¼ˆè¿æ¥æ•°æ®åº“ï¼Œå®ç°å¢åˆ æ”¹æŸ¥å››é¡¹ä¸»è¦åŠŸèƒ½ï¼‰</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><a class="link-info" href="https://blog.csdn.net/qq_58510930/article/details/121889948" title="JDBCåŸºç¡€è¶…è¯¦ç»†ï¼ˆäºŒï¼‰ï¼ˆPreparedStatementä¸Statementçš„åŒºåˆ«ï¼Œé¿å…mysqlæ³¨å…¥ï¼‰">JDBCåŸºç¡€è¶…è¯¦ç»†ï¼ˆäºŒï¼‰ï¼ˆPreparedStatementä¸Statementçš„åŒºåˆ«ï¼Œé¿å…mysqlæ³¨å…¥ï¼‰</a></p> 
<p>æºç å¥‰ä¸Šï¼Œå¤§å®¶å’Œæˆ‘ä¸€èµ·æ“ä½œï¼Œå°è±¡æ›´åŠ æ·±åˆ»</p> 
<pre><code class="language-java">import java.sql.*;


public class Javatell {
    public static void main(String []args){
        Connection connection=null;
        Statement statement=null;
        ResultSet resultSet=null;
        //æ³¨å†Œé©±åŠ¨
        try {
            try {
                Class.forName("com.mysql.jdbc.Driver");
            } catch (ClassNotFoundException e) {
                e.printStackTrace();
            }
            //è·å–é“¾æ¥
            String url="jdbc:mysql://localhost:3306/user";
            String user="root";
            String password="200101";
            connection=DriverManager.getConnection(url,user,password);
            //è·å–æ•°æ®åº“æ“ä½œå¯¹è±¡
            statement=connection.createStatement();
            //å®šä¹‰æ’å…¥è¯­å¥
            String insertSql="insert into user_information values (4,'ä½ å¥½','123456')";
            //å®šä¹‰æ›´æ–°è¯­å¥
            String updateSql="update user_information set user_name='ç‹äº”' where user_name='æå››'";
            //å®šä¹‰åˆ é™¤è¯­å¥
            String deleteSql="delete from user_information where user_name='å¼ ä¸‰' ";
            //å®šä¹‰æŸ¥è¯¢è¯­å¥
            String selectSql="select * from user_information ";
            //é¦–å…ˆå®šä¹‰countè¡¨ç¤ºç»“æœå±•ç¤ºçš„è¡Œæ•°
            int count=0;
            //ä¸“é—¨æ‰§è¡Œdmlè¯­å¥ï¼ˆinsertï¼Œdeleteï¼Œupdateï¼‰
            count =  statement.executeUpdate(insertSql);
            //åˆ¤æ–­ç»“æœï¼Œå¦‚æœè¾“å‡ºä¸€è¡Œï¼Œè¡¨ç¤ºè¯¥è¯­å¥å½±å“åˆ°äº†ä¸€è¡Œï¼Œè¡¨ç¤ºæˆåŠŸ
            System.out.println(count==1?"æ’å…¥æˆåŠŸ":"æ’å…¥å¤±è´¥");
            count=statement.executeUpdate(updateSql);
            System.out.println(count==1?"æ›´æ–°æˆåŠŸ":"æ›´æ–°å¤±è´¥");
            count=statement.executeUpdate(deleteSql);
            System.out.println(count==1?"åˆ é™¤æˆåŠŸ":"åˆ é™¤å¤±è´¥");
            resultSet=statement.executeQuery(selectSql);
            while (resultSet.next()) {
                //ä¸ç®¡æ•°æ®åº“ä¸­æ˜¯ä»€ä¹ˆç±»å‹ï¼Œéƒ½æ˜¯å–å‡ºstring
                String userId= resultSet.getString("user_id");
                String userName= resultSet.getString("user_name");
                String userPassword= resultSet.getString("user_password");
                System.out.println(userId+userName+userPassword);
            }
        } catch (SQLException e) {
            e.printStackTrace();
        }
        finally {
            if (resultSet!=null){try{
                resultSet.close();

            }
            catch (SQLException e) {
                e.printStackTrace();}}
            try {
                if (statement!=null) {
                    statement.close();
                }
            } catch (SQLException e) {
                e.printStackTrace();
            }
            try{
                if (connection!=null){
                    connection.close();
                }
            }catch (SQLException e){
                e.printStackTrace();
            }
        }

    }
}
</code></pre> 
<h2>ä¸€ã€æ³¨å†Œé©±åŠ¨ï¼ˆç¬¬ä¸€æ­¥ï¼‰</h2> 
<h4>é©±åŠ¨</h4> 
<p>é©±åŠ¨ï¼Œå³æˆ‘ä»¬ä»å®˜ç½‘ä¸‹è½½çš„jaråŒ…ï¼Œå¦‚æœæ²¡æœ‰jaråŒ…ï¼Œæˆ‘ä»¬å¯ä»¥ç¼–è¯‘ç¨‹åºï¼Œä½†æ˜¯ç¨‹åºæ— æ³•è¿è¡Œï¼Œå°†å®˜ç½‘ä¸‹è½½çš„jaråŒ…æ·»åŠ åˆ°ä¾èµ–ã€‚å¦‚ä¸‹å›¾ï¼š</p> 
<p><img alt="" height="175" src="https://images2.imgbox.com/f8/13/DGjnGsMc_o.png" width="435"></p> 
<h4>é©±åŠ¨æ³¨å†Œçš„ä¸¤ç§æ–¹å¼</h4> 
<ul><li>å¤šå±‚æ³¨å†Œï¼ˆä¸ºäº†ä¿è¯ä»£ç çš„æ•´æ´ï¼Œè¿™é‡Œå°†æŠ›å‡ºå¼‚å¸¸çš„è¯­å¥åˆ é™¤ï¼Œ<span style="color:#38d8f0;"><strong>com.mysql.jdbc.Driver()è¿™ä¸€æ¡è¯­å¥æ˜¯æ¥æºäºåˆšåˆšå¯¼å…¥çš„jaråŒ…ï¼Œå¹¶ä¸æ˜¯ideaè‡ªå¸¦çš„</strong></span>ï¼‰</li></ul> 
<pre><code class="language-java">Driver driver=new com.mysql.jdbc.Driver();DriverManager.registerDriver(driver);</code></pre> 
<ul><li><strong><span style="color:#fe2c24;">åˆ©ç”¨åå°„æœºåˆ¶æ³¨å†Œï¼ˆæœ€å¸¸ç”¨ï¼Œç›´æ¥å¯¼å…¥Driverè¿™ä¸ªç±»</span></strong><strong><span style="color:#fe2c24;">ï¼‰</span></strong></li></ul> 
<pre><code class="language-java">Class.forName("com.mysql.jdbc.Driver");</code></pre> 
<h2>äºŒã€è·å–é“¾æ¥ä¸è·å–æ•°æ®åº“æ“ä½œå¯¹è±¡ï¼ˆç¬¬äºŒã€ä¸‰æ­¥ï¼‰</h2> 
<ul><li>ä»£ç ç¤ºä¾‹</li></ul> 
<pre><code class="language-java">//è·å–é“¾æ¥
Connection connection=DriverManager.getConnection(url,user,password);
//è·å–æ•°æ®åº“æ“ä½œå¯¹è±¡
Statement  statement=connection.createStatement();</code></pre> 
<ul><li>url(è¿™é‡Œä»¥MySqlæ•°æ®åº“ä¸ºä¾‹å­)ï¼šurl=jdbc:mysql://ipåœ°å€:ç«¯å£/æ•°æ®åº“åç§°</li></ul> 
<pre><code class="language-java">//æœ¬åœ°æ•°æ®åº“ï¼Œuserä¸ºæ•°æ®åº“åç§°
String url="jdbc:mysql://localhost:3306/user";
//æ•°æ®åº“çš„ç”¨æˆ·ä¸ºroot
String user="root";
//è¿›å…¥æ•°æ®åº“çš„å¯†ç ï¼Œä¸€å®šè¦æ›´æ”¹æˆè‡ªå·±çš„
String password="123456";</code></pre> 
<h2>ä¸‰ã€å®šä¹‰sqlè¯­å¥ä»¥åŠç»“æœåˆ¤æ–­</h2> 
<h3>å®šä¹‰sqlè¯­å¥ï¼ˆæŸ¥è¯¢å•ç‹¬è®²è§£ï¼‰</h3> 
<pre><code class="language-java">//å®šä¹‰æ’å…¥è¯­å¥
String insertSql="insert into user_information values (4,'ä½ å¥½','123456')";
//å®šä¹‰æ›´æ–°è¯­å¥
String updateSql="update user_information set user_name='ç‹äº”' where user_name='æå››'";
//å®šä¹‰åˆ é™¤è¯­å¥
String deleteSql="delete from user_information where user_name='å¼ ä¸‰' ";</code></pre> 
<h3>ç»“æœåˆ¤æ–­statement.<span style="color:#1a439c;">executeUpdate</span>ï¼ˆæ’å…¥ï¼Œæ›´æ–°ï¼Œåˆ é™¤ï¼‰Â </h3> 
<ul><li>è¿™æ˜¯æˆ‘çš„åˆå§‹è¡¨</li></ul> 
<p><img alt="" height="137" src="https://images2.imgbox.com/6e/09/r86v9oQM_o.png" width="608"></p> 
<ul><li>Â åˆ¤æ–­è¯­å¥</li></ul> 
<pre><code class="language-java">int count=0;
//ä¸“é—¨æ‰§è¡Œdmlè¯­å¥ï¼ˆinsertï¼Œdeleteï¼Œupdateï¼‰
count =  statement.executeUpdate(insertSql);
//åˆ¤æ–­ç»“æœï¼Œå¦‚æœè¾“å‡ºä¸€è¡Œï¼Œè¡¨ç¤ºè¯¥è¯­å¥å½±å“åˆ°äº†ä¸€è¡Œï¼Œè¡¨ç¤ºæˆåŠŸ
System.out.println(count==1?"æ’å…¥æˆåŠŸ":"æ’å…¥å¤±è´¥");
count=statement.executeUpdate(updateSql);
System.out.println(count==1?"æ›´æ–°æˆåŠŸ":"æ›´æ–°å¤±è´¥");
count=statement.executeUpdate(deleteSql);
System.out.println(count==1?"åˆ é™¤æˆåŠŸ":"åˆ é™¤å¤±è´¥");</code></pre> 
<ul><li>ç»“æœå±•ç¤º</li></ul> 
<p><img alt="" height="154" src="https://images2.imgbox.com/9e/5e/YImVWSa0_o.png" width="1200"></p> 
<p><img alt="" height="185" src="https://images2.imgbox.com/20/2b/FFNrtqqs_o.png" width="642"></p> 
<h3><span style="color:#fe2c24;">Â ç»“æœåˆ¤æ–­</span>statement.<span style="color:#1a439c;"><strong>executeQuery</strong></span><span style="color:#fe2c24;">ï¼ˆæŸ¥è¯¢ï¼‰</span></h3> 
<p>åœ¨Javaä¸­ï¼Œæœ‰ä¸€ä¸ª<span style="color:#956fe7;">ResultSet</span>çš„æ•°æ®ç±»å‹ï¼Œä¸“é—¨ç”¨äºå­˜å‚¨selectçš„è¯­å¥çš„ç»“æœï¼Œè€Œå…¶è¿˜æ‹¥æœ‰ä¸€ä¸ª</p> 
<p>resultSet.next()ç±»ä¼¼ä¸Cè¯­è¨€ä¸­æŒ‡é’ˆç±»å‹çš„æ“ä½œ,å…³ç³»å¦‚ä¸‹å›¾ï¼š</p> 
<p><img alt="" height="604" src="https://images2.imgbox.com/8f/b5/ZNIsPgFt_o.png" width="1200"></p> 
<p>Â æ‰€ä»¥æˆ‘ä»¬æ—¢ç„¶å¯ä»¥å®šä½åˆ°æ¯ä¸€ä¸ªè¡Œï¼Œå°±å¯ä»¥åœ¨è¡Œä¸­å®šä½åˆ°æ¯ä¸€åˆ—ï¼Œæœ€åè¾“å‡ºè¡Œåˆ—ä¸­çš„å€¼</p> 
<ul><li>åˆ¤æ–­è¯­å¥ä¸è¾“å‡ºè¯­å¥</li></ul> 
<pre><code class="language-java">Statement resultSet=statement.executeQuery(selectSql);
            while (resultSet.next()) {
                //ä¸ç®¡æ•°æ®åº“ä¸­æ˜¯ä»€ä¹ˆç±»å‹ï¼Œéƒ½æ˜¯å–å‡ºstring,å–å‡ºç›¸åº”çš„åˆ—æ•°
                String userId= resultSet.getString("user_id");
                String userName= resultSet.getString("user_name");
                String userPassword= resultSet.getString("user_password");
                //å¦å¤–ä¸€ç§æ–¹å¼ ï¼Œä¸å»ºè®®ï¼Œåˆ—æ•°å¯¹åº”ä¸€æ—¦æ”¹å˜å°±æ— æ³•ç²¾å‡†è¾“å‡º
                /*String userId= resultSet.getString(1);
                String userName= resultSet.getString(2);
                String userPassword= resultSet.getString(3);*/
                System.out.println(userId+userName+userPassword);
            }
        } catch (SQLException e) {
            e.printStackTrace();
        }</code></pre> 
<ul><li>ç»“æœå±•ç¤º</li></ul> 
<p><img alt="" height="98" src="https://images2.imgbox.com/20/9d/ycGVkynU_o.png" width="192"></p> 
<h2>å››ã€å…³é—­é€šé“ï¼ˆé‡è¦ï¼‰</h2> 
<ul><li>å½“æˆ‘ä»¬æ‰§è¡Œjdbcæ—¶ï¼Œè¿™ä¸ªæ—¶å€™æ˜¯å¤šä¸ªçº¿ç¨‹åœ¨åŒæ—¶è¿è¡Œï¼Œå¦‚æœæˆ‘ä»¬ç»“æŸæ—¶å€™æ²¡æœ‰ç»“æŸè¿™äº›çº¿ç¨‹ï¼Œä»–ä»¬ä¼šä¸€ç›´ä¿å­˜ç€ï¼Œè¿™ä¸ªè¿æ¥æ˜¯ä¸æ•°æ®åº“æœåŠ¡å™¨çš„ä¸€ä¸ªè¿æ¥ï¼Œè™½ç„¶ä½ çš„æ–¹æ³•ç»“æŸäº†ï¼Œä½†æ˜¯è¿™ä¸ªèµ„æºä¾ç„¶å­˜åœ¨æ•°æ®åº“è¿æ¥å¹¶æ²¡æœ‰é‡Šæ”¾ï¼Œå¦‚æœä¸è®¾ç½®closeï¼Œé•¿æ—¶é—´ä½¿ç”¨ï¼Œä½ ä¼šå‘ç°è‡ªå·±çš„ç”µè„‘å¡çš„é£èµ·ã€‚ğŸ‘»</li><li>çº¿ç¨‹ç»“æŸçš„é¡ºåºï¼ˆå°±åƒæ ˆé‚£æ ·ï¼Œå…ˆè¿›è¡Œé“¾æ¥ï¼Œåœ¨è·å–å¯¹è±¡ï¼Œæœ€åçœ‹ç»“æœï¼Œè€Œå…³é—­æ—¶ï¼Œå…ˆè¿›åå‡ºï¼‰ï¼š</li></ul> 
<p>æ‰“å¼€æ—¶ï¼šConnection -&gt; PreparedStatement -&gt; ResultSet<br> å…³é—­æ—¶ï¼šResultSet-&gt; PreparedStatement -&gt; Connection</p> 
<ul><li>ä»£ç æ¼”ç¤º(è¦åœ¨finallyè¯­å¥ä¸­è¿›è¡Œï¼Œä¿è¯ç»“æŸåä¸ä¼šåœ¨è¿›è¡Œå…¶ä»–æ“ä½œ)</li></ul> 
<pre><code>finally {
            if (resultSet!=null){try{
                resultSet.close();

            }
            catch (SQLException e) {
                e.printStackTrace();}}
            try {
                if (statement!=null) {
                    statement.close();
                }
            } catch (SQLException e) {
                e.printStackTrace();
            }
            try{
                if (connection!=null){
                    connection.close();
                }
            }catch (SQLException e){
                e.printStackTrace();
            }
        }</code></pre> 
<p></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/6884782ed9aa61fd5452396dd6d9bf39/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">OpenSSL 1.0.2qäº¤å‰ç¼–è¯‘æ ‘è“æ´¾4B</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/0adfbd39e9c539a670b4134c4b738044/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">c/c&#43;&#43;å’Œluaçš„äº¤äº’ä½¿ç”¨åˆ†äº«</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ITå­¦ä¹ è€…åšå®¢.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>