<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>spring cloud alibaba - 集成sentinel - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="spring cloud alibaba - 集成sentinel" />
<meta property="og:description" content=" 一、安装sentinel控制台 1、下载控制台jar 官网下载
高速下载
2、使用java命令运行 java -jar sentinel-dashboard-1.8.4.jar --server.port=8808 二、导入pom &lt;dependency&gt; &lt;groupId&gt;com.alibaba.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-alibaba-sentinel&lt;/artifactId&gt; &lt;/dependency&gt; 三、配置application.properties spring.cloud.sentinel.transport.dashboard=127.0.0.1:8808 四、使用sentinel @RestController public class HelloController { @DubboReference private HelloService helloService; /** * 可以在任何方法上使用 */ @SentinelResource(value = &#34;hello&#34;, fallback = &#34;fallback&#34;) @RequestMapping(&#34;/hello&#34;) public String sayHello() throws InterruptedException { Thread.sleep(800); helloService.sayHello(); return &#34;ok&#34;; } /** * 降级方法 */ public String fallback() { return &#34;fail&#34;; } } 五、配置限流规则 1、登录sentinel控制台 http://localhost:8808
默认用户名：sentinel 密码：sentinel
2、配置限流规则 3、使用jmeter测试 " />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/948c55f11e43ee3384b7ac4838580868/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-07-08T10:17:54+08:00" />
<meta property="article:modified_time" content="2022-07-08T10:17:54+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">spring cloud alibaba - 集成sentinel</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2 id="%E4%B8%80%E3%80%81%E5%AE%89%E8%A3%85sentinel%E6%8E%A7%E5%88%B6%E5%8F%B0"> 一、安装sentinel控制台</h2> 
<h4>        1、下载控制台jar</h4> 
<p>                <a href="https://github.com/alibaba/Sentinel/releases" title="官网下载">官网下载</a></p> 
<p>                <a href="https://download.csdn.net/download/u013059257/85464581" title="高速下载">高速下载</a></p> 
<h4 id="2.%E4%BD%BF%E7%94%A8java%E5%91%BD%E4%BB%A4%E8%BF%90%E8%A1%8C">        2、使用java命令运行</h4> 
<pre><code class="language-java">        java -jar sentinel-dashboard-1.8.4.jar --server.port=8808</code></pre> 
<h2 id="%E4%BA%8C%E3%80%81%E5%AF%BC%E5%85%A5pom">二、导入pom</h2> 
<pre><code class="language-XML">&lt;dependency&gt;
    &lt;groupId&gt;com.alibaba.cloud&lt;/groupId&gt;
    &lt;artifactId&gt;spring-cloud-starter-alibaba-sentinel&lt;/artifactId&gt;
&lt;/dependency&gt;</code></pre> 
<h2 id="%E4%B8%89%E3%80%81%E9%85%8D%E7%BD%AEapplication.properties">三、配置application.properties</h2> 
<pre><code>    spring.cloud.sentinel.transport.dashboard=127.0.0.1:8808</code></pre> 
<h2 id="%E5%9B%9B%E3%80%81%E4%BD%BF%E7%94%A8sentinel">四、使用sentinel</h2> 
<pre><code class="language-java">@RestController
public class HelloController {

    @DubboReference
    private HelloService helloService;

    /**
     * 可以在任何方法上使用
     */
    @SentinelResource(value = "hello", fallback = "fallback")
    @RequestMapping("/hello")
    public String sayHello() throws InterruptedException {
        Thread.sleep(800);
        helloService.sayHello();
        return "ok";
    }
    /**
     * 降级方法
     */
    public String fallback() {
        return "fail";
    }
}</code></pre> 
<h2 id="%E4%BA%94%E3%80%81%E9%85%8D%E7%BD%AE%E9%99%90%E6%B5%81%E8%A7%84%E5%88%99">五、配置限流规则</h2> 
<h4 id="1.%E7%99%BB%E5%BD%95sentinel%E6%8E%A7%E5%88%B6%E5%8F%B0">        1、登录sentinel控制台</h4> 
<p>                <a href="http://xn--ces6a2312a7ri/" rel="nofollow" title="http://localhost:8808">http://localhost:8808</a></p> 
<p>                默认用户名：sentinel 密码：sentinel</p> 
<h4>        2、配置限流规则</h4> 
<p>         <img alt="" height="219" src="https://images2.imgbox.com/22/ae/q0tHNAlc_o.png" width="616"></p> 
<p></p> 
<p>         <img alt="" height="277" src="https://images2.imgbox.com/b7/4e/YDJmT14B_o.png" width="616"></p> 
<h4>        3、使用jmeter测试</h4> 
<p>        <img alt="" height="397" src="https://images2.imgbox.com/58/1e/431Pw0dn_o.png" width="633"></p> 
<p></p> 
<p></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/c88c29e9bce950032cc8d7bdb56fdb06/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">tuxedo 服务发布</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/78b48e73ef6837238e9d6da7fd2a361a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">svg大小根据内容自适应</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>