<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>判断一个变量是数组还是对象 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="判断一个变量是数组还是对象" />
<meta property="og:description" content="javascript中如何准确判断一个变量是什么，面试中这是考一个人基本功扎不扎实必定会问的一个问题。如果你还不是很清楚，相信这篇文章会对你有所帮助。
一，判断方法 1.typeof 我们能够使用typeof判断变量的身份，判断字符串得到string，数字和NaN得到number，函数会得到function等，但是判断数组，对象和null时都会得到object，详细请看js数据类型，这就是typeof的局限性，并不能准确的判断该变量的&#34;真实身份&#34;。那如何判断一个变量是数组还是对象？
2.instanceof 使用instanceof可以用来判断一个变量是数组还是对象，原理如下： 数组也是对象的一种，使用instanceof都会返回true var arr = new Array(); var arr = [&#39;aa&#39;,&#39;bb&#39;,&#39;cc&#39;]; var obj = { a: &#39;aa&#39;, b: &#39;bb&#39;, c: &#39;cc&#39; }; console.log(arr instanceof Array); //true console.log(arr instanceof Object); //true console.log(obj instanceof Array); //false console.log(obj instanceof Object); //true 明确说一下instanceof是如何判断的：
instanceof 运算符用来测试一个对象在其原型链中是否存在一个构造函数的 prototype 属性，意思就是该变量通过原型链上能否找到构造函数的prototype 属性，还不清楚原型链的请看原型链
所以就能明白为什么instanceof判断一个变量可以分清楚它到底是数组还是对象：
Array.prototype === arr.__proto__ Object.prototype === arr.__proto__.__proto__ 因为arr的原型链上存在Array.prototype和Object.prototype
只有Array类型的变量才会满足arr instanceof Array和arr instanceof Object都返回true，
也只有Object类型变量才满足obj instanceof Array返回false，obj instanceof Object返回true 3.constructor var arr = [&#39;aa&#39;,&#39;bb&#39;,&#39;cc&#39;]; var obj = { &#39;a&#39;: &#39;aa&#39;, &#39;b&#39;: &#39;bb&#39;, &#39;c&#39;: &#39;cc&#39; }; console." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/721624710439726f3b72ad7f4d30810a/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-03-22T21:47:20+08:00" />
<meta property="article:modified_time" content="2018-03-22T21:47:20+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">判断一个变量是数组还是对象</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>javascript中如何准确判断一个变量是什么，面试中这是考一个人基本功扎不扎实必定会问的一个问题。如果你还不是很清楚，相信这篇文章会对你有所帮助。</p> 
<h3>一，判断方法</h3> 
<p></p> 
<h4>        1.typeof</h4> 
<p>                我们能够使用typeof判断变量的身份，判断字符串得到string，数字和NaN得到number，函数会得到function等，但是判断数组，对象和null时都会得到object，详细请看<a href="https://blog.csdn.net/yucihent/article/details/79417296">js数据类型</a>，这就是typeof的局限性，并不能准确的判断该变量的"真实身份"。那如何判断一个变量是数组还是对象？</p> 
<p><br></p> 
<h3>        2.instanceof</h3> 
<div>
                  使用instanceof可以用来判断一个变量是数组还是对象，原理如下： 
 <br> 
</div> 
<div>
                  数组也是对象的一种，使用instanceof都会返回true 
</div> 
<div> 
 <pre><code class="language-javascript">            var arr = new Array();</code></pre> 
</div> 
<div> 
 <pre><code class="language-javascript">            var arr = ['aa','bb','cc'];
            var obj = {
                a: 'aa',
                b: 'bb',
                c: 'cc'
            };
            console.log(arr instanceof Array);      //true
            console.log(arr instanceof Object);     //true
            console.log(obj instanceof Array);      //false
            console.log(obj instanceof Object);     //true</code></pre> 
 <p>                明确说一下instanceof是如何判断的：<br></p> 
 <p>                    <strong>instanceof 运算符用来测试一个对象在其原型链中是否存在一个构造函数的 prototype 属性，意思就是该变量通过原型链上能否找到构造函数的prototype 属性</strong>，还不清楚原型链的请看<a href="http://blog.csdn.net/yucihent/article/details/79424506">原型链</a><br></p> 
 <p>                    所以就能明白为什么instanceof判断一个变量可以分清楚它到底是数组还是对象：<br></p> 
 <pre><code class="language-javascript">            Array.prototype === arr.__proto__
            Object.prototype === arr.__proto__.__proto__</code></pre>                     
 <strong>因为arr的原型链上存在Array.prototype和Object.prototype<br>                    只有Array类型的变量才会满足arr instanceof Array和arr instanceof Object都返回true，<br>                    也只有Object类型变量才满足obj<strong> instanceof Array返回false，<strong>obj<strong> instanceof Object返回true</strong></strong></strong></strong> 
 <p>                    </p> 
 <h3>        3.constructor</h3> 
 <pre><code class="language-javascript">        var arr = ['aa','bb','cc'];
        var obj = {
            'a': 'aa',
            'b': 'bb',
            'c': 'cc'
        };
        console.log(arr.constructor === Array);      //true
        console.log(arr.constructor === Object);     //false
        console.log(obj.constructor === Object);     //true</code></pre> 
 <br> 
 <h4>         4.Object.prototype.toString.call()</h4> 
 <div>
                   Object.prototype.toString.call()方法可以精准判断变量类型，它返回[object constructorName]的字符串格式，这里的constructorName就是call参数的函数名 
 </div> 
 <div> 
  <pre><code class="language-javascript">        var a = NaN;
        var b= '222';
        var c = null; 
        var d = false;
        var e = undefined;
        var f = Symbol();
        var arr = ['aa','bb','cc'];
        var obj = {
            'a': 'aa',
            'b': 'bb',
            'c': 'cc'
        };
        var res = Object.prototype.toString.call(arr);
        console.log(res);   //[object Array]
        var res2 = Object.prototype.toString.call(obj);
        console.log(res2);   //[object Object]
        var res3 = Object.prototype.toString.call(a);
        console.log(res3);   //[object Number]
        var res4 = Object.prototype.toString.call(b);
        console.log(res4);   //[object String]
        var res4 = Object.prototype.toString.call(c);
        console.log(res4);   //[object Null]
        var res5 = Object.prototype.toString.call(d);
        console.log(res5);   //[object Boolean]
        var res6 = Object.prototype.toString.call(e);
        console.log(res6);   //[object Undefined]
        var res7 = Object.prototype.toString.call(f);
        console.log(res7);   //[object Symbol]</code></pre> 
  <br> 
  <h3>二，总结</h3>        判断简单数据类型可以用typeof，判断数组，对象使用 
  <strong><strong><strong><strong>instanceof，constructor和 Object.prototype.toString.call()，最好使用<strong><strong><strong><strong>Object.prototype.toString.call()</strong></strong></strong></strong>，更加精准<br></strong></strong></strong></strong> 
 </div> 
 <div> 
  <br> 
 </div> 
</div> 
<div> 
 <br> 
</div> 
<p></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/dbe246e603d9d378631b2bdaac973ff0/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">排序算法对比、总结(Python代码)</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/1196d43a1f5ffa5bb1bddf009ff526ff/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Mybatis的mapper xml文件中的常用标签。</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>