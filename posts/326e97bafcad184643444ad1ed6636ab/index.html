<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>2021-10-26 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="2021-10-26" />
<meta property="og:description" content="DML:数据操作语言，主要是操作表中的数据。主要是对数据增、删、改。 插入（insert） 语法：insert into 表名(字段1，字段2，字段3，…) values (值1，值2，值3，…);
- - 向表中字段1,字段2,字段3,…等插入一条数据
DQL limit：限制，作用是限制查询结果展现条数。
语法：limit x,y
x：从哪里开始输出，第一条是0
y：条数
--查询stu表中前两条数据 select * from stu limit 0,2; --在stu表中从第二条开始,查询三条数据 select * from stu limit 1,1; 多表联查：
表和表之间的关系：
一对一两张表内的数据，是一行对应一行一对多两张表内的数据，是一行对应多行多对多两张表内的数据，是多行对多行 合并结果集（联合查询） 将查询到的数据纵向拼接
/* 1.联合的表的列数，类型要对应 2.union 会去除两个表中重复数据 3.union all 会保留重复数据 */ select name,birthday from t1 union select id,name from t2; select id,name from t1 union all select id,name from t2; 函数 IF(expr1,expr2,expr3) 如果expr1是TRUE，则IF()的返回值为expr2；否则返回值则为expr3。IF()的返回值为数字值或字符串值，具体情况视其所在语境而定。
--查询学生姓名和成绩，如果没有参加考试，显示“缺考” select sname,if (score is null,&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/326e97bafcad184643444ad1ed6636ab/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-10-26T22:53:55+08:00" />
<meta property="article:modified_time" content="2021-10-26T22:53:55+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">2021-10-26</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2>DML:数据操作语言，主要是操作表中的数据。主要是对数据增、删、改。</h2> 
<h3><strong>插入（insert）</strong></h3> 
<p>语法：insert into  表名(字段1，字段2，字段3，…) values (值1，值2，值3，…);</p> 
<p>  - - 向表中字段1,字段2,字段3,…等插入一条数据</p> 
<h2>DQL</h2> 
<p>limit：限制，作用是限制查询结果展现条数。</p> 
<p>语法：limit x,y</p> 
<p>        x：从哪里开始输出，第一条是0</p> 
<p>        y：条数</p> 
<pre><code class="language-sql">--查询stu表中前两条数据
select * from stu limit 0,2;
--在stu表中从第二条开始,查询三条数据
select * from stu limit 1,1;</code></pre> 
<p>多表联查：</p> 
<p>表和表之间的关系：</p> 
<table border="1" cellpadding="1" cellspacing="1" style="width:500px;"><tbody><tr><td>一对一</td><td>两张表内的数据，是一行对应一行</td></tr><tr><td>一对多</td><td>两张表内的数据，是一行对应多行</td></tr><tr><td>多对多</td><td>两张表内的数据，是多行对多行</td></tr></tbody></table> 
<p></p> 
<h3>合并结果集（联合查询）</h3> 
<p>将查询到的数据纵向拼接</p> 
<pre><code class="language-sql">/*
1.联合的表的列数，类型要对应
2.union 会去除两个表中重复数据
3.union all 会保留重复数据
*/
select name,birthday from t1
union
select id,name from t2;
select id,name from t1
union all
select id,name from t2;</code></pre> 
<p> </p> 
<h3>函数</h3> 
<h3>IF(expr1,expr2,expr3)</h3> 
<p>如果expr1是TRUE，则IF()的返回值为expr2；否则返回值则为expr3。IF()的返回值为数字值或字符串值，具体情况视其所在语境而定。</p> 
<pre><code class="language-sql">--查询学生姓名和成绩，如果没有参加考试，显示“缺考”
select sname,if (score is null,"缺考",score) from stu;
--查询学生姓名和成绩(合格,不合规)
select sname,if(score&gt;=60,"合格","不合格")from stu;</code></pre> 
<h3>IFNULL(expr1,expr2)</h3> 
<p>假如expr1不为null，则IFNULL() 的返回值为expe1;否则其返回值为expr2。IFNULL()的返回值是数字或是字符串，具体情况取决于其所用的语境。</p> 
<h3>case when then else end</h3> 
<p><strong>case value when [compare-value] then result [when[compare-value] then result…]</strong></p> 
<p>[ELSE result] END</p> 
<pre><code class="language-sql">select case 3 when 1 then "一" when 2 then “二” else "三" end "结果" from dual;
select
case 3
    when 1 then "一"
    when 2 then "二"
    else "三"
end "结果"
from dual;
--======================
select
    case age
    when 18 then "18"
    else"不是18"
end "结果"
from stu</code></pre> 
<p><strong>case when [condition] then result [condition] then result…] [ELSE result] END</strong><br>  </p> 
<pre><code class="language-sql">/*

case when 条件 then [when 条件 then] [else result] end

==&gt;类似于java的if…else if…else

先判断when后的条件，如果为true，就执行后面的then，其余不再执行

如果为false，执行下一个when后的条件判断，如果为true，就执行then后的语句，其他不再执行

如果为false，执行下一个when…

如果所有的when后都为false，那就执行else后的结果

*/
-- 查询学生学号,姓名,成绩等级(0-59不及格,60-79及格,80-100优秀)
SELECT
	sid,
	sname,
	CASE
WHEN score &lt; 59 THEN
	"不及格"
WHEN score &lt; 79 THEN
	"及格"
WHEN score &lt;= 100 THEN
	"优秀"
END "等级"
FROM
	stu;</code></pre> 
<h3><strong>日期函数</strong></h3> 
<table border="1" cellpadding="1" cellspacing="1" style="width:500px;"><tbody><tr><td>sysdate( )</td><td>获得当前时间（年月日时分秒）</td></tr><tr><td>addtime(data2,time_interval)</td><td>将time_interval加到date2(时间，是加时分秒)</td></tr><tr><td>current_date( )</td><td>当前日期（年月日）</td></tr><tr><td>current_time( )</td><td>当前时间（时分秒）</td></tr><tr><td>current_timestamp( )</td><td>当前时间戳（年月日时分秒与sysdate()一样）</td></tr><tr><td>date_add(date2,interval d_value d_type)</td><td>在date2中加上日期或时间</td></tr><tr><td>date_sub(date2,interval d_value d_type)</td><td>在date2上减去一个时间</td></tr><tr><td>datediff(date1,date2)</td><td>两个日期差</td></tr><tr><td>now()</td><td>当前时间，与sysdate()一样</td></tr><tr><td>year|month|day(datetime)</td><td>只返回年|月|日</td></tr><tr><td>date(datetime)</td><td>返回datetime的日期部分</td></tr></tbody></table> 
<h2>字符——日期互相转换</h2> 
<table border="1" cellpadding="1" cellspacing="1" style="width:500px;"><caption></caption><tbody><tr><td>date_format(date,'%Y-%m-%d')</td><td>oracle中的to_char();</td><td></td></tr><tr><td>str_to_date(date,'%Y-%m-%d')</td><td>oracle中的to_date();</td><td></td></tr><tr><td>%Y</td><td>代表4位的年份</td><td></td></tr><tr><td>%y</td><td>代表2位的年份</td><td></td></tr><tr><td>%m</td><td>代表月</td><td>01~12</td></tr><tr><td>%c</td><td>代表月</td><td>1~12</td></tr><tr><td>%d</td><td>代表月份中的天数</td><td>00~31</td></tr><tr><td>%e</td><td>代表月份中的天数</td><td>0~31</td></tr><tr><td>%H</td><td>代表小时</td><td>00~23</td></tr><tr><td>%k</td><td>代表小时</td><td>0~23</td></tr><tr><td>%h</td><td>代表小时</td><td>01~12</td></tr><tr><td>%l</td><td>代表小时</td><td>1~12</td></tr><tr><td>%i</td><td>代表分钟</td><td>00~59</td></tr><tr><td>%r</td><td>代表时间</td><td>12小时（hh:mm:ss[AP]M）</td></tr><tr><td>%T</td><td>代表时间</td><td>24小时（hh:mm:ss）</td></tr><tr><td>%S</td><td>代表秒</td><td>00~59</td></tr><tr><td>%s</td><td>代表秒</td><td>00~59</td></tr></tbody></table> 
<p>日期转字符串:</p> 
<pre><code class="language-sql">select date_format(now(),'%Y年%m月%d日 %H:%i:%s') form dual;</code></pre> 
<p>字符串转换为日期：</p> 
<pre><code class="language-sql">select str_to_date("2010-11-11","%Y-%m-%d")from dual;</code></pre> 
<p> </p> 
<p> </p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/8c47e2e7c559ee3a352e90f2536feeec/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">基因组survey</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/f71b6f224ca56239304a0db0a686e085/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">一文读懂数据中台技术架构</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>