<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【s3c2440】第一课：程序烧写方法 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【s3c2440】第一课：程序烧写方法" />
<meta property="og:description" content="此系列笔记以韦东山老师的开发板为主。 本节会获得的知识：
使用openJTAG烧写的方法
使用DNW和uboot烧写的方法
整个操作系统的烧写方法
1、安装USB驱动和openJTAG驱动 在win10上安装openJTAG需要禁用驱动程序强制签名，详情在参考手册中。这里有简单的步骤：
（1）禁用驱动程序强制签名： 设置-&gt;更新和安全-&gt;选“恢复”-&gt; 立即重启-&gt;疑难解答-&gt;高级选项-&gt;启动设置-&gt;点击“重启”，重启后按数字7，禁用驱动程序强制签名，自动重启完成
（2）安装驱动： 设备管理器-&gt;更新驱动程序软件-&gt;手动查找驱动-&gt;选择驱动所在的位置-&gt;下一步完成
USB驱动也不是ch340的驱动，运行此程序即可安装：PL2303_Prolific_DriverInstaller_v1.7.0.exe
2、烧写软件oflash（不支持JLINK） 3、安装一个终端 //Xshell推荐 新建一个串口终端：波特率115200 无流控 com口请自行打开设备管理器查看。
4、烧写 （1）使用并口工具烧写：接线，使用oflash烧写，重新上电观察效果（电脑都没有并口了小老弟）
（2）使用openJTAG烧写：接线，使用oflash烧写（oflash烧写完后自动复位开发板，运行程序）
使用场景：烧写uboot必备
命令如下：
oflash xxx.bin
0#选择OpenJTAG
1#选择s3c2440
0#选择Nand Flash
0#再次确认Nand Flash
0#烧写到块0
也可以直接oflash 0 1 0 0 0 xxx.bin
（3）使用jLink烧写：（（没有jLink 操作不来）
jLink只支持Nor Flash，不支持Nand Flash，烧好u-boot.bin，使用Nor启动
（4）使用Nor Flash上的uboot来烧写 切记要把uboot烧写到nor Flash！！
使用场景：烧写大型文件，如OS
步骤：
oflash 0 1 1 1 0 uboot.bin
设置为nor Flash启动
连接USB到电脑（需要装驱动程序，在USB DNW里有安方法）
上电后快速在xshell里按空格进入uboot
在xshell中输入n #Download u-boot to Nand Flash" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/bc61cfd3fb1e67da6cf85b90befdd1b4/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-08-11T23:08:03+08:00" />
<meta property="article:modified_time" content="2019-08-11T23:08:03+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【s3c2440】第一课：程序烧写方法</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2 style="margin-left:0in;">此系列笔记以韦东山老师的开发板为主。</h2> 
<p style="margin-left:0in;"><strong>本节会获得的知识：</strong></p> 
<p style="margin-left:0in;"><span style="color:#000000;">  <strong>   使用openJTAG烧写的方法</strong></span></p> 
<p style="margin-left:0in;"><strong><span style="color:#000000;">     使用DNW和uboot烧写的方法</span></strong></p> 
<p style="margin-left:0in;"><strong><span style="color:#000000;">     整个操作系统的烧写方法</span></strong></p> 
<h4 style="margin-left:0in;">1、安装USB驱动和openJTAG驱动</h4> 
<p style="margin-left:0in;">    <strong> 在win10上安装openJTAG需要禁用驱动程序强制签名，详情在参考手册中。这里有简单的步骤：</strong></p> 
<p>   （1）禁用驱动程序强制签名：  设置-&gt;更新和安全-&gt;选“恢复”-&gt; 立即重启-&gt;疑难解答-&gt;高级选项-&gt;启动设置-&gt;点击“重启”，重启后按数字7，禁用驱动程序强制签名，自动重启完成</p> 
<p>   （2）安装驱动：  设备管理器-&gt;更新驱动程序软件-&gt;手动查找驱动-&gt;选择驱动所在的位置-&gt;下一步完成</p> 
<p style="margin-left:0in;">     <strong>USB驱动也不是ch340的驱动，运行此程序即可安装：</strong>PL2303_Prolific_DriverInstaller_v1.7.0.exe</p> 
<h4 style="margin-left:0in;">2、烧写软件oflash（不支持JLINK）</h4> 
<h4 style="margin-left:0in;">3、安装一个终端 //Xshell推荐</h4> 
<p style="margin-left:0in;">     新建一个串口终端：波特率115200 无流控 com口请自行打开设备管理器查看。</p> 
<h4 style="margin-left:0in;">4、<strong>烧写</strong></h4> 
<p style="margin-left:0in;"><span style="color:#757070;">  <s>（1）使用并口工具烧写：接线，使用oflash烧写，重新上电观察效果</s>（电脑都没有并口了小老弟）</span></p> 
<p style="margin-left:0in;">  （2）使用openJTAG烧写：接线，使用oflash烧写（oflash烧写完后自动复位开发板，运行程序）</p> 
<p style="margin-left:0in;"><strong>          使用场景：烧写</strong><strong>uboot</strong><strong>必备</strong></p> 
<p style="margin-left:0in;"><strong>          </strong>命令如下：</p> 
<p style="margin-left:0in;"> <strong>          </strong>    oflash xxx.bin</p> 
<p style="margin-left:0in;"> <strong>          </strong>    0#选择OpenJTAG</p> 
<p style="margin-left:0in;">  <strong>          </strong>   1#选择s3c2440</p> 
<p style="margin-left:0in;">  <strong>          </strong>   0#选择Nand Flash</p> 
<p style="margin-left:0in;">  <strong>          </strong>   0#再次确认Nand Flash</p> 
<p style="margin-left:0in;">   <strong>          </strong>  0#烧写到块0</p> 
<p style="margin-left:0in;"> </p> 
<p style="margin-left:0in;">   <strong>          </strong>  也可以直接oflash 0 1 0 0 0 xxx.bin</p> 
<p style="margin-left:0in;"><span style="color:#757070;">（</span>3）<s>使用jLink烧写：</s>（（没有jLink 操作不来）</p> 
<p style="margin-left:0in;">     jLink只支持Nor Flash，不支持Nand Flash，烧好u-boot.bin，使用Nor启动</p> 
<p style="margin-left:0in;"> </p> 
<p style="margin-left:0in;">（4）使用Nor Flash上的uboot来烧写 <strong><span style="color:#ff0000;">切记要把</span></strong><strong><span style="color:#ff0000;">uboot</span></strong><strong><span style="color:#ff0000;">烧写到</span></strong><strong><span style="color:#ff0000;">nor Flash</span></strong><strong><span style="color:#ff0000;">！！</span></strong></p> 
<p style="margin-left:0in;">     <strong>使用场景：烧写大型文件，如OS</strong></p> 
<p style="margin-left:0in;">     步骤：</p> 
<p style="margin-left:0in;">          oflash 0 1 1 1 0 uboot.bin</p> 
<p style="margin-left:0in;">          设置为nor Flash启动</p> 
<p style="margin-left:0in;">          连接USB到电脑（<strong>需要装驱动程序，在</strong><strong>USB DNW</strong><strong>里有安方法</strong>）</p> 
<p style="margin-left:0in;">         上电后快速在xshell里按空格进入uboot</p> 
<p style="margin-left:0in;">         在xshell中输入n #Download u-boot to Nand Flash</p> 
<p style="margin-left:0in;">         打开软件DNW即可发送bin文件到nand</p> 
<p style="margin-left:0in;">         断电，开关设置为nand启动，通电即可运行nand里的文件</p> 
<p style="margin-left:0in;"> </p> 
<p style="margin-left:0in;"><span style="color:#757070;">（5）<s>使用tftpboot烧写</s>（我没有网线设置不了tftp，所以也没有尝试</span>ヽ(´¬`)ノ<span style="color:#757070;">）</span></p> 
<p style="margin-left:0in;">     步骤：</p> 
<p style="margin-left:0in;">        <span style="color:#757070;">打开tftp32，打开hardware路径，查看ip地址</span></p> 
<p style="margin-left:0in;">         <span style="color:#757070;">板子设为<strong>nor Flash</strong><strong>启动（要把</strong><strong>uboot</strong><strong>烧写到</strong><strong>nor Flash</strong><strong>！！）</strong></span></p> 
<p style="margin-left:0in;">        <span style="color:#757070;">q退出</span></p> 
<p style="margin-left:0in;">         <span style="color:#757070;">print查看ipaddr</span></p> 
<p style="margin-left:0in;">        <span style="color:#757070;">set ipaddr 192.168.1.17设置ip地址到tftp32一个网段</span></p> 
<p style="margin-left:0in;">         <span style="color:#757070;">set serverip 192.168.1.98设置服务器ip也就是tftp32上的ip</span></p> 
<p style="margin-left:0in;">         <span style="color:#757070;">save保存</span></p> 
<p style="margin-left:0in;">         <span style="color:#757070;">连接网线</span></p> 
<p style="margin-left:0in;">        <span style="color:#757070;">ping一下试试网络是否连通</span></p> 
<p style="margin-left:0in;">        <span style="color:#757070;">tftp 30000000 xxx.bin即可烧写</span></p> 
<h4 style="margin-left:0in;">5、恢复出厂系统</h4> 
<p style="margin-left:0in;">     linux系统的结构：启动uboot-&gt;启动linux内核-&gt;挂载根文件系统</p> 
<p style="margin-left:0in;"> </p> 
<p style="margin-left:0in;">     在bootloader分区可以烧入uboot.bin</p> 
<p style="margin-left:0in;">     256M Nand flash</p> 
<table cellspacing="0" style="margin-left:1.0833in;width:310px;"><tbody><tr><td style="border-color:#a3a3a3;vertical-align:top;width:1.1027in;"> <p style="margin-left:0in;">BootLoader</p> </td></tr><tr><td style="border-color:#a3a3a3;vertical-align:top;width:1.0333in;"> <p style="margin-left:0in;">params</p> </td></tr><tr><td style="border-color:#a3a3a3;vertical-align:top;width:1.0333in;"> <p style="margin-left:0in;">kernel</p> </td></tr><tr><td style="border-color:#a3a3a3;vertical-align:top;width:1.0333in;"> <p style="margin-left:0in;">root fs</p> </td></tr></tbody></table> 
<p style="margin-left:0in;">     2M Nor flash</p> 
<table cellspacing="0" style="margin-left:1.0833in;width:314px;"><tbody><tr><td style="border-color:#a3a3a3;vertical-align:top;width:1.1027in;"> <p style="margin-left:0in;">BootLoader</p> </td></tr></tbody></table> 
<p style="margin-left:0in;">     恢复出厂系统步骤：</p> 
<p style="margin-left:0in;">          烧写uboot： <strong>使用open jtag或者easy open jtag 烧写到nor Flash</strong></p> 
<p style="margin-left:0in;">          烧写kernel：（<strong>使用</strong><strong>uboot</strong><strong>和</strong><strong>usb</strong><strong>烧写）</strong></p> 
<p style="margin-left:0in;">               在uboot选择项中输入k</p> 
<p style="margin-left:0in;">               使用DNW发送kernel文件 <strong>uImage_4.3</strong></p> 
<p style="margin-left:0in;">          烧写文件系统：</p> 
<p style="margin-left:0in;">               在uboot选择项中输入y</p> 
<p style="margin-left:0in;">               使用DNW发送文件系统 <strong>fs_qtopia.yaffs2</strong></p> 
<p style="margin-left:0in;">          删除params使用默认参数：</p> 
<p style="margin-left:0in;">               q退出uboot的选项</p> 
<p style="margin-left:0in;">               mtd查看分区</p> 
<p style="margin-left:0in;">               nand erase parems删除分区</p> 
<p style="margin-left:0in;">               重新上电</p> 
<p style="margin-left:0in;">          删除/etc/pointercal再重启可以校准触摸屏</p> 
<p style="margin-left:0in;"> </p> 
<p style="margin-left:0in;"> </p> 
<p style="margin-left:0in;"> </p> 
<p style="margin-left:0in;"> </p> 
<p style="margin-left:0in;"> </p> 
<p style="margin-left:0in;"> </p> 
<p style="margin-left:0in;"> </p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/8859116bb33fe7e241c316ad51bafc07/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">String的几种replace()方法</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/f496394b7770fb5d04f27630b82a38da/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">数据库之元数据——DatabaseMetaData的getMetaData()方法的简单使用</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>