<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>香橙派 arm64 ubuntu安装docker - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="香橙派 arm64 ubuntu安装docker" />
<meta property="og:description" content="目录
前言 ：
1.离线安装docker：
移除以前安装的docker：
下载docker的安装包：
复制docker目录下的文件到/usr/bin/目录
注册docker为系统服务：
在编辑器中添加以下内容：
设置 docker.service 文件权限
重载unit配置文件：
运行docker：
开机自启：
​编辑
前言 ： 我使用的是 香橙派3b Ubuntu 系统
官方的系统应该是没有docker包的
我这里用的是离线方式安装：
1.离线安装docker： 移除以前安装的docker： sudo apt-get remove docker docker-engine docker.io containerd runc 下载docker的安装包： 你可以选择自己在电脑下载，然后ftp传到你想要的目录：
root目录也可以
https://download.docker.com/linux/static/stable/aarch64/docker-24.0.6.tgz
wget https://download.docker.com/linux/static/stable/aarch64/docker-24.0.6.tgz 解压docker压缩包：
先cd到你的压缩包目录
tar -zxvf docker-19.03.9.tgz 复制docker目录下的文件到/usr/bin/目录 sudo cp -p docker/* /usr/bin/ 注册docker为系统服务： 这里会在：/usr/lib/systemd/system/下创建一个docker.service文件
sudo nano /usr/lib/systemd/system/docker.service 在编辑器中添加以下内容： docker.service [Unit] Description=Docker Application Container Engine Documentation=https://docs.docker.com After=network-online.target firewalld.service Wants=network-online.target [Service] Type=notify # the default is not to use systemd for cgroups because the delegate issues still # exists and systemd currently does not support the cgroup feature set required # for containers run by docker ExecStart=/usr/bin/dockerd ExecReload=/bin/kill -s HUP $MAINPID # Having non-zero Limit*s causes performance problems due to accounting overhead # in the kernel." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/9272485be6a10db7577e1e4cd8e69e64/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-10-06T12:13:31+08:00" />
<meta property="article:modified_time" content="2023-10-06T12:13:31+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">香橙派 arm64 ubuntu安装docker</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="%E5%89%8D%E8%A8%80%20%EF%BC%9A-toc" style="margin-left:0px;"><a href="#%E5%89%8D%E8%A8%80%20%EF%BC%9A" rel="nofollow">前言 ：</a></p> 
<p id="1.%E7%A6%BB%E7%BA%BF%E5%AE%89%E8%A3%85docker%EF%BC%9A-toc" style="margin-left:0px;"><a href="#1.%E7%A6%BB%E7%BA%BF%E5%AE%89%E8%A3%85docker%EF%BC%9A" rel="nofollow">1.离线安装docker：</a></p> 
<p id="%E7%A7%BB%E9%99%A4%E4%BB%A5%E5%89%8D%E5%AE%89%E8%A3%85%E7%9A%84docker%EF%BC%9A-toc" style="margin-left:40px;"><a href="#%E7%A7%BB%E9%99%A4%E4%BB%A5%E5%89%8D%E5%AE%89%E8%A3%85%E7%9A%84docker%EF%BC%9A" rel="nofollow">移除以前安装的docker：</a></p> 
<p id="%E4%B8%8B%E8%BD%BDdocker%E7%9A%84%E5%AE%89%E8%A3%85%E5%8C%85%EF%BC%9A-toc" style="margin-left:40px;"><a href="#%E4%B8%8B%E8%BD%BDdocker%E7%9A%84%E5%AE%89%E8%A3%85%E5%8C%85%EF%BC%9A" rel="nofollow">下载docker的安装包：</a></p> 
<p id="%E5%A4%8D%E5%88%B6docker%E7%9B%AE%E5%BD%95%E4%B8%8B%E7%9A%84%E6%96%87%E4%BB%B6%E5%88%B0%2Fusr%2Fbin%2F%E7%9B%AE%E5%BD%95-toc" style="margin-left:40px;"><a href="#%E5%A4%8D%E5%88%B6docker%E7%9B%AE%E5%BD%95%E4%B8%8B%E7%9A%84%E6%96%87%E4%BB%B6%E5%88%B0%2Fusr%2Fbin%2F%E7%9B%AE%E5%BD%95" rel="nofollow">复制docker目录下的文件到/usr/bin/目录</a></p> 
<p id="%E6%B3%A8%E5%86%8Cdocker%E4%B8%BA%E7%B3%BB%E7%BB%9F%E6%9C%8D%E5%8A%A1%EF%BC%9A-toc" style="margin-left:40px;"><a href="#%E6%B3%A8%E5%86%8Cdocker%E4%B8%BA%E7%B3%BB%E7%BB%9F%E6%9C%8D%E5%8A%A1%EF%BC%9A" rel="nofollow">注册docker为系统服务：</a></p> 
<p id="%E5%9C%A8%E7%BC%96%E8%BE%91%E5%99%A8%E4%B8%AD%E6%B7%BB%E5%8A%A0%E4%BB%A5%E4%B8%8B%E5%86%85%E5%AE%B9%EF%BC%9A-toc" style="margin-left:40px;"><a href="#%E5%9C%A8%E7%BC%96%E8%BE%91%E5%99%A8%E4%B8%AD%E6%B7%BB%E5%8A%A0%E4%BB%A5%E4%B8%8B%E5%86%85%E5%AE%B9%EF%BC%9A" rel="nofollow">在编辑器中添加以下内容：</a></p> 
<p id="%C2%A0%E8%AE%BE%E7%BD%AE%20docker.service%20%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90-toc" style="margin-left:40px;"><a href="#%C2%A0%E8%AE%BE%E7%BD%AE%20docker.service%20%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90" rel="nofollow"> 设置 docker.service 文件权限</a></p> 
<p id="%E9%87%8D%E8%BD%BDunit%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%EF%BC%9A-toc" style="margin-left:40px;"><a href="#%E9%87%8D%E8%BD%BDunit%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%EF%BC%9A" rel="nofollow">重载unit配置文件：</a></p> 
<p id="%E8%BF%90%E8%A1%8Cdocker%EF%BC%9A-toc" style="margin-left:40px;"><a href="#%E8%BF%90%E8%A1%8Cdocker%EF%BC%9A" rel="nofollow">运行docker：</a></p> 
<p id="%E5%BC%80%E6%9C%BA%E8%87%AA%E5%90%AF%EF%BC%9A-toc" style="margin-left:40px;"><a href="#%E5%BC%80%E6%9C%BA%E8%87%AA%E5%90%AF%EF%BC%9A" rel="nofollow">开机自启：</a></p> 
<p id="%E2%80%8B%E7%BC%96%E8%BE%91-toc" style="margin-left:0px;"><a href="#%E2%80%8B%E7%BC%96%E8%BE%91" rel="nofollow">​编辑</a></p> 
<hr id="hr-toc"> 
<p></p> 
<h2>前言 ：</h2> 
<p>我使用的是 香橙派3b Ubuntu 系统</p> 
<p>官方的系统应该是没有docker包的</p> 
<p>我这里用的是离线方式安装：</p> 
<h2 id="1.%E7%A6%BB%E7%BA%BF%E5%AE%89%E8%A3%85docker%EF%BC%9A">1.离线安装docker：</h2> 
<h3 id="%E7%A7%BB%E9%99%A4%E4%BB%A5%E5%89%8D%E5%AE%89%E8%A3%85%E7%9A%84docker%EF%BC%9A">移除以前安装的docker：</h3> 
<pre><code class="language-bash">sudo apt-get remove docker docker-engine docker.io containerd runc</code></pre> 
<h3 id="%E4%B8%8B%E8%BD%BDdocker%E7%9A%84%E5%AE%89%E8%A3%85%E5%8C%85%EF%BC%9A">下载docker的安装包：</h3> 
<p>你可以选择自己在电脑下载，然后ftp传到你想要的目录：</p> 
<p>root目录也可以</p> 
<p><a href="https://download.docker.com/linux/static/stable/aarch64/docker-24.0.6.tgz" rel="nofollow" title="https://download.docker.com/linux/static/stable/aarch64/docker-24.0.6.tgz">https://download.docker.com/linux/static/stable/aarch64/docker-24.0.6.tgz</a></p> 
<pre><code class="language-bash">wget https://download.docker.com/linux/static/stable/aarch64/docker-24.0.6.tgz</code></pre> 
<p>解压docker压缩包：</p> 
<p>先cd到你的压缩包目录</p> 
<pre><code class="language-bash">tar -zxvf docker-19.03.9.tgz</code></pre> 
<h3 id="%E5%A4%8D%E5%88%B6docker%E7%9B%AE%E5%BD%95%E4%B8%8B%E7%9A%84%E6%96%87%E4%BB%B6%E5%88%B0%2Fusr%2Fbin%2F%E7%9B%AE%E5%BD%95">复制docker目录下的文件到/usr/bin/目录</h3> 
<pre><code class="language-bash">sudo cp -p docker/* /usr/bin/
</code></pre> 
<h3 id="%E6%B3%A8%E5%86%8Cdocker%E4%B8%BA%E7%B3%BB%E7%BB%9F%E6%9C%8D%E5%8A%A1%EF%BC%9A">注册docker为系统服务：</h3> 
<p>这里会在：/usr/lib/systemd/system/下创建一个docker.service文件</p> 
<pre><code class="language-bash">sudo nano /usr/lib/systemd/system/docker.service
</code></pre> 
<h3 id="%E5%9C%A8%E7%BC%96%E8%BE%91%E5%99%A8%E4%B8%AD%E6%B7%BB%E5%8A%A0%E4%BB%A5%E4%B8%8B%E5%86%85%E5%AE%B9%EF%BC%9A">在编辑器中添加以下内容：</h3> 
<pre><code class="language-bash">docker.service
  
[Unit]
Description=Docker Application Container Engine
Documentation=https://docs.docker.com
After=network-online.target firewalld.service
Wants=network-online.target

[Service]
Type=notify
# the default is not to use systemd for cgroups because the delegate issues still
# exists and systemd currently does not support the cgroup feature set required
# for containers run by docker
ExecStart=/usr/bin/dockerd
ExecReload=/bin/kill -s HUP $MAINPID
# Having non-zero Limit*s causes performance problems due to accounting overhead
# in the kernel. We recommend using cgroups to do container-local accounting.
LimitNOFILE=infinity
LimitNPROC=infinity
LimitCORE=infinity
# Uncomment TasksMax if your systemd version supports it.
# Only systemd 226 and above support this version.
#TasksMax=infinity
TimeoutStartSec=0
# set delegate yes so that systemd does not reset the cgroups of docker containers
Delegate=yes
# kill only the docker process, not all processes in the cgroup
KillMode=process
# restart the docker process if it exits prematurely
Restart=on-failure
StartLimitBurst=3
StartLimitInterval=60s

[Install]
WantedBy=multi-user.target

</code></pre> 
<h3 id="%C2%A0%E8%AE%BE%E7%BD%AE%20docker.service%20%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90"> 设置 docker.service 文件权限</h3> 
<pre><code class="language-bash">chmod +x /etc/systemd/system/docker.service</code></pre> 
<h3 id="%E9%87%8D%E8%BD%BDunit%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%EF%BC%9A">重载unit配置文件：</h3> 
<pre><code class="language-bash">sudo systemctl daemon-reload</code></pre> 
<h3 id="%E8%BF%90%E8%A1%8Cdocker%EF%BC%9A">运行docker：</h3> 
<pre><code class="language-bash">sudo systemctl start docker</code></pre> 
<h3 id="%E5%BC%80%E6%9C%BA%E8%87%AA%E5%90%AF%EF%BC%9A">开机自启：</h3> 
<pre><code class="language-bash">sudo systemctl enable docker</code></pre> 
<h2 id="%E2%80%8B%E7%BC%96%E8%BE%91"><br><img alt="" height="460" src="https://images2.imgbox.com/68/5c/sTRsWZkx_o.jpg" width="700"></h2>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/6fd055c47d1009be41b980b3a0080e15/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">C语言-字符串与输入输出</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/6cfc426a34c280b52eef6b24b6bde945/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">合宙Air780e&#43;luatos&#43;腾讯云物联网平台完成设备通信与控制（属性上报&#43;4G远程点灯）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>