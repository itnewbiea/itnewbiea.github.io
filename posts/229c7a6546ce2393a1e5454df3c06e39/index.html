<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Flink-【时间语义、窗口、水位线】 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Flink-【时间语义、窗口、水位线】" />
<meta property="og:description" content="1. 时间语义 1.1 事件时间：数据产生的事件（机器时间）； 1.2 处理时间：数据处理的时间（系统时间）。 🌰：可乐
可乐的生产日期 = 事件时间（可乐产生的时间）；
可乐被喝的时间 = 处理时间（可乐被处理【喝掉=处理】的时间）。
机器时间：可能不准确（例如：A可乐厂的时钟比较慢，B可乐厂的时钟比较快，但实际上B产生可乐的时间比A产生可乐的时间慢，却被先处理了）
系统时间：相对准确（处理机器设置的时间，一般无误【当然分布式可能会有误差，但是一般会先校准同一个时钟再处理数据】）
2. 窗口 2.1 滑动窗口：设置窗口大小，步长大小； 🌰：窗口大小5，步长2
2.2 滚动窗口：一般设置窗口大小即可； 🌰：窗口大小5
2.3 会话窗口：设置会话窗口大小； 2.4 计数窗口：设置窗口处理数据的数目。 3. 水位线 水位线是Flink窗口处理数据的临界线；一般为了处理延迟数据，还会搭配一个容忍时间。
例如：使用滚动窗口，水位线为5，容忍时间为2，处理如下。
滚动窗口有两个，分别是【1，5）和【5，10）
处理时间有7个，分别是：1，2，7，3，6，5，20
1，2处理时间事件到达后，交给【1，5）窗口处理；
7处理时间事件到达后，由于7-2=5大于【1，5）这个窗口了（处理时间 - 容忍时间），所以关闭【1，5）窗口，进行计算...（就好比上课，有些同学没到，老师说晚2分钟再开始上课，7这个处理时间已经是在2分钟后了，所以开始讲课，不等了），7归类到【5，10）窗口进行计算；
3处理时间时间到达后，由于他是在【1，5）窗口的，但是该窗口已经关闭计算了，所以此时的3处理时间事件只能丢弃；
后面6，5，20处理时间事件分析同上..." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/229c7a6546ce2393a1e5454df3c06e39/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-02T18:03:53+08:00" />
<meta property="article:modified_time" content="2024-01-02T18:03:53+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Flink-【时间语义、窗口、水位线】</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2>1. 时间语义</h2> 
<h3>1.1 事件时间：数据产生的事件（机器时间）；</h3> 
<h3>1.2 处理时间：数据处理的时间（系统时间）。</h3> 
<p>🌰：可乐</p> 
<p><span style="color:#fe2c24;">可乐的生产日期 = 事件时间（可乐产生的时间）；</span></p> 
<p><span style="color:#fe2c24;">可乐被喝的时间 = 处理时间（可乐被处理【喝掉=处理】的时间）。</span></p> 
<p>机器时间：可能不准确（例如：A可乐厂的时钟比较慢，B可乐厂的时钟比较快，但实际上B产生可乐的时间比A产生可乐的时间慢，却被先处理了）</p> 
<p>系统时间：相对准确（处理机器设置的时间，一般无误【当然分布式可能会有误差，但是一般会先校准同一个时钟再处理数据】）</p> 
<p></p> 
<h2>2. 窗口</h2> 
<h3>2.1 滑动窗口：设置窗口大小，步长大小；</h3> 
<p>🌰：窗口大小5，步长2</p> 
<p class="img-center"><img alt="" height="432" src="https://images2.imgbox.com/9d/12/vu4Bua42_o.png" width="1200"></p> 
<h3>2.2 滚动窗口：一般设置窗口大小即可；</h3> 
<p>🌰：窗口大小5</p> 
<p class="img-center"><img alt="" height="405" src="https://images2.imgbox.com/12/ed/Fd3Kusdh_o.png" width="1200"></p> 
<h3>2.3 会话窗口：设置会话窗口大小；</h3> 
<p class="img-center"><img alt="" height="300" src="https://images2.imgbox.com/5b/fa/ZsitDTua_o.png" width="1200"></p> 
<h3>2.4 计数窗口：设置窗口处理数据的数目。</h3> 
<p class="img-center"><img alt="" height="362" src="https://images2.imgbox.com/9d/b6/UK2VSonV_o.png" width="484"></p> 
<p></p> 
<h2>3. 水位线</h2> 
<p><span style="color:#fe2c24;">水位线是Flink窗口处理数据的临界线；一般为了处理延迟数据，还会搭配一个容忍时间</span>。</p> 
<p>例如：使用滚动窗口，水位线为5，容忍时间为2，处理如下。</p> 
<p><img alt="" height="667" src="https://images2.imgbox.com/b6/32/BRhu9rI9_o.png" width="1026"></p> 
<p>滚动窗口有两个，分别是【1，5）和【5，10）</p> 
<p>处理时间有7个，分别是：1，2，7，3，6，5，20</p> 
<p>1，2处理时间事件到达后，交给【1，5）窗口处理；</p> 
<p>7处理时间事件到达后，由于7-2=5大于【1，5）这个窗口了（处理时间 - 容忍时间），所以关闭【1，5）窗口，进行计算...（就好比上课，有些同学没到，老师说晚2分钟再开始上课，7这个处理时间已经是在2分钟后了，所以开始讲课，不等了），7归类到【5，10）窗口进行计算；</p> 
<p>3处理时间时间到达后，由于他是在【1，5）窗口的，但是该窗口已经关闭计算了，所以此时的3处理时间事件只能丢弃；</p> 
<p>后面6，5，20处理时间事件分析同上...</p> 
<p></p> 
<p></p> 
<p></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/32df1ebad4c18b24ff9e8184f1ee40da/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">ASP.NET Core基础之图片文件(一)-WebApi访问静态图片</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/f0af3f286cc112e1e27a632638e05a22/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【MySQL】数据库之主从复制和读写分离</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>