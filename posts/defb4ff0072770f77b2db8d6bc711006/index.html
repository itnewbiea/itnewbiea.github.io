<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>招商银行2022FinTech数据赛道总结 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="招商银行2022FinTech数据赛道总结" />
<meta property="og:description" content="招商银行2022FinTech数据赛道总结 比赛链接：FinTech精英训练营官方网站。
第一次参加这种比赛，真的学到了不少东西，感谢其他大佬在交流群里的无私分享，小白又了解到了很多可以学习的东西。这次比赛排名还是很拉的，A榜只有0.952，B榜只有0.723，综合排名应该到了快400名吧。但不管怎么说，既然参加了这次比赛，还学习了很多东西，还是值得好好整理一下的。
文章目录 招商银行2022FinTech数据赛道总结1. 比赛简介2. 可提高的地方（1）探索性分析（2）数据预处理数据类型转换缺失值处理异常值处理数据规范化重采样 （3）特征工程特征过滤特征交叉特征选择 1. 比赛简介 数据是结构化的表格数据，一共49个属性（不含ID和标签），但没有具体的属性介绍，标签是二分类。
竞赛时间：4月29日9:00-5月12日17:00；
竞赛流程：4月29日9:00-5月9日24:00，赛题开放A榜数据（test_A榜），预测结果数据每天限提交3次；5月10日00:00-5月12日17:00，赛题开放B榜数据（test_B榜），预测结果数据每天限提交3次。重复提交或提交格式错误均扣除有效提交次数，请谨慎提交答案，结果提交后请务必点击“运行”按钮，方可查看当前个人排名。
排行榜依据“最终得分”计算排名，“最终得分”计算公式为：A榜最高分 * 0.3 &#43; B榜最高分 * 0.7。“最终得分”越大，成绩排名越前。
注：AUC这个指标和准确率不一样，它受到样本不均衡的影响很小，对正负比例不敏感，因此。只要是AUC做评价指标的，基本都不需要考虑正负样本比例的问题。
2. 可提高的地方 每一列的含义可以参考往年的资料进行分析→招商银行2020FinTech精英训练营数据赛道参赛回顾。
（1）探索性分析 之前都是使用pandas-profiling，这次数据出问题就跳过了EDA的步骤，但赛后换了一个eda的包之后就能用了。所以也先mark在这：
通用：pandas-profiling、SweetViz；Notebook上：LUX、AutoViz。 EDA可以分析的内容：
样本数量、数据字段的异常值、缺失值；数据（含标签）字段的类型及其分布、字段和标签的分布关系；字段之间的相关性分析；有时间特征的可以按不同时间窗口划分观察；训练集和测试集的分布差异。 （2）数据预处理 数据类型转换 数值型变量：转为float
有序型分类变量：使用LabelEncoder()编码；
无序型分类变量：使用独热编码。
缺失值处理 将“？”字段统一替换为Nan缺失值；
可以考虑将所有数值特征统一减2，“2”应该是出题方为了脱敏进行的变换，个人之前没有减是觉得“2”已经代表了一种属性，没必要调整，但未来遇到这样的情况获取可以考虑进行类似的变换。
填充方法：
删除：当缺失值的个数只占整体很小一部分的时候，可直接删除缺失值（行）
填补：
前填充/后填充：method=‘ffill’—前填充；method=‘bfill’–后填充；
均值、中位数、众数填充：fillna(df[‘XX’].mean()) # .mean()或.median()或.mode()
插值法：计算的是缺失值前一个值和后一个值的平均数：df[‘XX’] = df[‘XX’].interpolate()；
拟合：
回归填补：利用线性回归对缺失值进行填补；随机森林填充：对于一个有n个特征的数据来说，其中特征T有缺失，我们就将特征T当作标签，其他n-1个特征和原来的标签组成新的特征矩阵。对于特征T来说，他没有缺失的部分就是我们的y_train，这部分对应的标签就是X_train，缺失部分就是我们需要预测的部分，也即是y_predict，这部分对应的标签就是X_test，对于数据中有多个特征缺失的情况，需要从缺失值最少的特征开始填补（填补缺失值越少的特征需要的准确信息越少）。当填补一个特征时，将其他特征的缺失值用0代替，依次填补直到所有特征填补完全。 此外，还可以考虑用随机森林进行填充。
异常值处理 采用3σ原则或者孤立森林方法进行异常值检测。
处理：可以考虑将过大、过小的值都限定到一个上限和下限。
数据规范化 可选：最大-最小归一化、标准化、中心化，其中min-max不改变数据分布，标准化改变数据分布（具体看所选取的算法要求）；
重采样 过采样/欠采样：目的是为了平衡类别。
目前没有实践，有看到采用imblearn库来做的。eg：from imblearn.over_sampling import RandomOverSampler
（3）特征工程 特征过滤 基础：去除共线性：将相互之间热力值高（相关性高于0.9）的特征列去掉，仅保留一列（根据结果决定）；
过滤法：方差过滤法&#43;卡方检验法/F检验法/互信息法；
特征过滤主要是对冗余特征进行处理，常见处理方法有方差法、卡方检验法、F检验法、装代法、包裹法等，其中常用的组合为方差过滤法和F检验法，卡尔检验法常用来处理线性关系，F检验法即可以用来线性关系，还可以用来处理非线性关系。
找“毒特”（删除训练集与测试集分布不一致的特征）：
通过对抗验证的思路找到auc指标远大于0.5的特征进行删除；删除其他和“毒特”相关性较高的特征。 特征交叉 对于任何两列相关系数在指定范围（0." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/defb4ff0072770f77b2db8d6bc711006/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-05-19T13:17:59+08:00" />
<meta property="article:modified_time" content="2022-05-19T13:17:59+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">招商银行2022FinTech数据赛道总结</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="2022FinTech_1"></a>招商银行2022FinTech数据赛道总结</h2> 
<blockquote> 
 <p>比赛链接：<a href="https://career.cloud.cmbchina.com/index.html#fintech" rel="nofollow">FinTech精英训练营官方网站</a>。<br> 第一次参加这种比赛，真的学到了不少东西，感谢其他大佬在交流群里的无私分享，小白又了解到了很多可以学习的东西。这次比赛排名还是很拉的，A榜只有0.952，B榜只有0.723，综合排名应该到了快400名吧。但不管怎么说，既然参加了这次比赛，还学习了很多东西，还是值得好好整理一下的。</p> 
</blockquote> 
<p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#2022FinTech_1" rel="nofollow">招商银行2022FinTech数据赛道总结</a></li><li><ul><li><a href="#1__7" rel="nofollow">1. 比赛简介</a></li><li><a href="#2__21" rel="nofollow">2. 可提高的地方</a></li><li><ul><li><a href="#1_25" rel="nofollow">（1）探索性分析</a></li><li><a href="#2_42" rel="nofollow">（2）数据预处理</a></li><li><ul><li><a href="#_44" rel="nofollow">数据类型转换</a></li><li><a href="#_52" rel="nofollow">缺失值处理</a></li><li><a href="#_79" rel="nofollow">异常值处理</a></li><li><a href="#_85" rel="nofollow">数据规范化</a></li><li><a href="#_89" rel="nofollow">重采样</a></li></ul> 
    </li><li><a href="#3_97" rel="nofollow">（3）特征工程</a></li><li><ul><li><a href="#_99" rel="nofollow">特征过滤</a></li><li><a href="#_114" rel="nofollow">特征交叉</a></li><li><a href="#_128" rel="nofollow">特征选择</a></li></ul> 
   </li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h3><a id="1__7"></a>1. 比赛简介</h3> 
<p>数据是结构化的表格数据，一共49个属性（不含ID和标签），但没有具体的属性介绍，标签是二分类。</p> 
<p>竞赛时间：4月29日9:00-5月12日17:00；</p> 
<p>竞赛流程：4月29日9:00-5月9日24:00，赛题开放A榜数据（test_A榜），预测结果数据每天限提交3次；5月10日00:00-5月12日17:00，赛题开放B榜数据（test_B榜），预测结果数据每天限提交3次。重复提交或提交格式错误均扣除有效提交次数，请谨慎提交答案，结果提交后请务必点击“运行”按钮，方可查看当前个人排名。</p> 
<p>排行榜依据“最终得分”计算排名，“最终得分”计算公式为：A榜最高分 * 0.3 + B榜最高分 * 0.7。“最终得分”越大，成绩排名越前。</p> 
<blockquote> 
 <p>注：AUC这个指标和准确率不一样，它受到样本不均衡的影响很小，对正负比例不敏感，因此。<strong>只要是AUC做评价指标的，基本都不需要考虑正负样本比例的问题</strong>。</p> 
</blockquote> 
<h3><a id="2__21"></a>2. 可提高的地方</h3> 
<p>每一列的含义可以参考往年的资料进行分析→<a href="https://blog.csdn.net/weixin_45718907/article/details/106199036">招商银行2020FinTech精英训练营数据赛道参赛回顾</a>。</p> 
<h4><a id="1_25"></a>（1）探索性分析</h4> 
<p>之前都是使用pandas-profiling，这次数据出问题就跳过了EDA的步骤，但赛后换了一个eda的包之后就能用了。所以也先mark在这：</p> 
<ul><li>通用：pandas-profiling、SweetViz；</li><li>Notebook上：LUX、AutoViz。</li></ul> 
<p>EDA可以分析的内容：</p> 
<ol><li>样本数量、数据字段的异常值、缺失值；</li><li>数据（含标签）字段的类型及其分布、字段和标签的分布关系；</li><li>字段之间的相关性分析；</li><li>有时间特征的可以按不同时间窗口划分观察；</li><li><strong>训练集和测试集的分布差异</strong>。</li></ol> 
<h4><a id="2_42"></a>（2）数据预处理</h4> 
<h5><a id="_44"></a>数据类型转换</h5> 
<p>数值型变量：转为float</p> 
<p>有序型分类变量：使用LabelEncoder()编码；</p> 
<p>无序型分类变量：使用独热编码。</p> 
<h5><a id="_52"></a>缺失值处理</h5> 
<p>将“？”字段统一替换为Nan缺失值；</p> 
<blockquote> 
 <p>可以考虑将所有数值特征统一减2，“2”应该是出题方为了脱敏进行的变换，个人之前没有减是觉得“2”已经代表了一种属性，没必要调整，但未来遇到这样的情况获取可以考虑进行类似的变换。</p> 
</blockquote> 
<p>填充方法：</p> 
<ul><li> <p><strong>删除</strong>：当缺失值的个数只占整体很小一部分的时候，可直接删除缺失值（行）</p> </li><li> <p>填补：</p> 
  <ul><li> <p><strong>前填充/后填充</strong>：method=‘ffill’—前填充；method=‘bfill’–后填充；</p> </li><li> <p><strong>均值、中位数、众数填充</strong>：fillna(df[‘XX’].mean()) # .mean()或.median()或.mode()</p> <img src="https://images2.imgbox.com/57/91/Y2UvEvUL_o.png" alt="img"> </li><li> <p><strong>插值法</strong>：计算的是缺失值前一个值和后一个值的平均数：df[‘XX’] = df[‘XX’].interpolate()；</p> </li></ul> </li><li> <p>拟合：</p> 
  <ul><li><strong>回归填补</strong>：利用线性回归对缺失值进行填补；</li><li><strong>随机森林填充</strong>：对于一个有n个特征的数据来说，其中特征T有缺失，我们就将特征T当作标签，其他n-1个特征和原来的标签组成新的特征矩阵。对于特征T来说，他没有缺失的部分就是我们的y_train，这部分对应的标签就是X_train，缺失部分就是我们需要预测的部分，也即是y_predict，这部分对应的标签就是X_test，对于数据中有多个特征缺失的情况，需要从缺失值最少的特征开始填补（填补缺失值越少的特征需要的准确信息越少）。当填补一个特征时，将其他特征的缺失值用0代替，依次填补直到所有特征填补完全。</li></ul> </li></ul> 
<p>此外，还可以考虑用<strong>随机森林</strong>进行填充。</p> 
<h5><a id="_79"></a>异常值处理</h5> 
<p>采用3σ原则或者孤立森林方法进行异常值检测。</p> 
<blockquote> 
 <p>处理：可以考虑将过大、过小的值都限定到一个上限和下限。</p> 
</blockquote> 
<h5><a id="_85"></a>数据规范化</h5> 
<p>可选：最大-最小归一化、标准化、中心化，其中min-max不改变数据分布，标准化改变数据分布（具体看所选取的算法要求）；</p> 
<h5><a id="_89"></a>重采样</h5> 
<p>过采样/欠采样：目的是为了平衡类别。</p> 
<blockquote> 
 <p>目前没有实践，有看到采用imblearn库来做的。eg：from imblearn.over_sampling import RandomOverSampler</p> 
</blockquote> 
<h4><a id="3_97"></a>（3）特征工程</h4> 
<h5><a id="_99"></a>特征过滤</h5> 
<p>基础：去除共线性：将相互之间热力值高（相关性高于0.9）的特征列去掉，仅保留一列（根据结果决定）；</p> 
<p>过滤法：方差过滤法+卡方检验法/F检验法/互信息法；</p> 
<blockquote> 
 <p>特征过滤主要是对冗余特征进行处理，常见处理方法有方差法、卡方检验法、F检验法、装代法、包裹法等，其中常用的组合为方差过滤法和F检验法，卡尔检验法常用来处理线性关系，F检验法即可以用来线性关系，还可以用来处理非线性关系。</p> 
 <img src="https://images2.imgbox.com/68/10/gH37Rjk6_o.jpg" alt="img"> 
</blockquote> 
<p>找“毒特”（删除训练集与测试集分布不一致的特征）：</p> 
<ul><li>通过<strong>对抗验证</strong>的思路找到auc指标远大于0.5的特征进行删除；</li><li>删除其他和“毒特”相关性较高的特征。</li></ul> 
<h5><a id="_114"></a>特征交叉</h5> 
<p>对于任何两列相关系数在指定范围（0.3~0.8）内的特征做交叉衍生；</p> 
<blockquote> 
 <p>采用暴力全集特征交叉（二阶、<strong>加减乘除</strong>）、group组合提取<strong>偏离值</strong>特征以及数值变量与类别变量交叉（三阶）；</p> 
 <p><strong>类别变量组合特征</strong>，连续变量排序特征，trd和beh中提取tfidf和word2vec特征，交易聚集度特征等；</p> 
 <p>cate类交叉，num类分桶（等频、等宽、卡方）</p> 
 <p>使用featuretools这个包把三个表连接起来，基于“ <a href="https://link.zhihu.com/?target=http%3A//featurelabs1.wpengine.com/wp-content/uploads/2017/12/DSAA_DSM_2015-1.pdf" rel="nofollow">深度特征合成</a> ”的方法来自动生成特征。生成完之后大概500多维。参考资料：https://zhuanlan.zhihu.com/p/43630912、<a href="https://link.zhihu.com/?target=https%3A//www.cnblogs.com/wkang/p/10380500.html" rel="nofollow">https://www.cnblogs.com/wkang/p/103</a>。</p> 
</blockquote> 
<p>手工特征。</p> 
<h5><a id="_128"></a>特征选择</h5> 
<p>使用LGB+shap或者+rfe的方法进行筛选，具体可见：<a href="https://mp.weixin.qq.com/s/AfSG23U76N3OT7iElLPQTQ" rel="nofollow">特征选择方法总结</a>。</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/c34e016832242e9d83d12c15e51bba97/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">C#:Nullable object must have a value.</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/44603e7166dbfad3894017e39a4f8721/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">接口测试之Postman使用全指南(原来使用 Postman测试API接口如此简单)</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>