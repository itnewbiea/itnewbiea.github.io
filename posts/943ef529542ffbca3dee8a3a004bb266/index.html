<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Bellhop 从入门到上手 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Bellhop 从入门到上手" />
<meta property="og:description" content="文章目录 前言一、Bellhop 简介二、Bellhop 结构1、输入文件2、输出文件 三、Bellhop 环境文件1、OPTIONS12、OPTIONS23、OPTIONS34、OPTIONS45、其他参数 四、BELLHOP（Matlab_GUI）实例1、bellhop 工具箱自取2、解压缩工具箱3、设置路径4、添加并包含子文件夹5、运行 BELLHOP 五、声速剖面与声线轨迹1、环境文件2、第一步：绘制声速剖面3、第二步：计算声场并检查输入文件4、第三步：绘制声线轨迹 六、绘制本征声线1、环境文件2、第一步：计算声场并检查输入文件3、第二步：绘制本征声线 总结 前言 本文介绍了 Bellhop 工具箱的具体使用，通过介绍官方 demo 实例，对绘制声速剖面、声线轨迹和本征声线进行了讲解，便于新手快速入门。
一、Bellhop 简介 Bellhop，是一种水声工具箱，可以进行水下声学仿真，通过 env 文件设置环境参数，可得到与之对应的声线信息、多途等仿真；
目前 BELLHOP 可以用 Fortran、MATLAB 和 Python 实现，并可以用于（MAC，Windows 和 Linux）的多种平台。我们在 BELLHOP（MATLAB GUI）中输入海洋环境参数：信道几何结构、声速剖面、海底地形、界面反射损失等得出多径的数目 N，入射角、幅度和延时，进而可以给出系统的冲激响应，从而可以在后续的信道建模的修正及信道估计领域应用提供有效的参照。
二、Bellhop 结构 1、输入文件 BELLHOP 的整体结构图如下图所示：
输入文件有以下几个：
*.env：描述水体环境，必选。*.ati：描述海面形状，可选。*.bty：描述海底形状，可选。*.trc：描述顶部反射系数，可选。*.brc：描述底部反射系数，可选。*.ssp：描述声速剖面图，可选。 2、输出文件 输出文件有以下几个：
*.ray：描述声线和本征声线；*.shd：描述声线的传播损失；*.arr：描述声线到达的时间-幅度序列等参数 BELLHOP 的结构可以用下图直观的表示出来。
三、Bellhop 环境文件 *.env 文件，这是 Bellhop 调用的环境参数文件，其中包括了设置的海洋环境、计算选项等。
*.env 文件主要有 TITLE 和 OPTIONS1 至 OPTIONS5，各个部分相互独立并完成对水体环境不同方面的描述
1、OPTIONS1 OPTION1 是单引号中的五个字母组成的，下面我们分别介绍其含义。
&lt;1&gt;、OPTIONS1(1)
注： OPTIONS1（1）所指为 OPTIONS1 的第一个字母
主要描述了 BELLHOP 为了计算声速以及沿着声线相关的其他参数而采用的一些插值方法。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/943ef529542ffbca3dee8a3a004bb266/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-06-01T20:44:01+08:00" />
<meta property="article:modified_time" content="2023-06-01T20:44:01+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Bellhop 从入门到上手</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#_4" rel="nofollow">前言</a></li><li><a href="#Bellhop__8" rel="nofollow">一、Bellhop 简介</a></li><li><a href="#Bellhop__12" rel="nofollow">二、Bellhop 结构</a></li><li><ul><li><a href="#1_13" rel="nofollow">1、输入文件</a></li><li><a href="#2_23" rel="nofollow">2、输出文件</a></li></ul> 
  </li><li><a href="#Bellhop__31" rel="nofollow">三、Bellhop 环境文件</a></li><li><ul><li><a href="#1OPTIONS1_37" rel="nofollow">1、OPTIONS1</a></li><li><a href="#2OPTIONS2_95" rel="nofollow">2、OPTIONS2</a></li><li><a href="#3OPTIONS3_117" rel="nofollow">3、OPTIONS3</a></li><li><a href="#4OPTIONS4_168" rel="nofollow">4、OPTIONS4</a></li><li><a href="#5_192" rel="nofollow">5、其他参数</a></li></ul> 
  </li><li><a href="#BELLHOPMatlab_GUI_206" rel="nofollow">四、BELLHOP（Matlab_GUI）实例</a></li><li><ul><li><a href="#1bellhop__207" rel="nofollow">1、bellhop 工具箱自取</a></li><li><a href="#2_209" rel="nofollow">2、解压缩工具箱</a></li><li><a href="#3_212" rel="nofollow">3、设置路径</a></li><li><a href="#4_215" rel="nofollow">4、添加并包含子文件夹</a></li><li><a href="#5_BELLHOP_218" rel="nofollow">5、运行 BELLHOP</a></li></ul> 
  </li><li><a href="#_243" rel="nofollow">五、声速剖面与声线轨迹</a></li><li><ul><li><a href="#1_247" rel="nofollow">1、环境文件</a></li><li><a href="#2_307" rel="nofollow">2、第一步：绘制声速剖面</a></li><li><a href="#3_476" rel="nofollow">3、第二步：计算声场并检查输入文件</a></li><li><a href="#4_677" rel="nofollow">4、第三步：绘制声线轨迹</a></li></ul> 
  </li><li><a href="#_687" rel="nofollow">六、绘制本征声线</a></li><li><ul><li><a href="#1_695" rel="nofollow">1、环境文件</a></li><li><a href="#2_744" rel="nofollow">2、第一步：计算声场并检查输入文件</a></li><li><a href="#3_750" rel="nofollow">3、第二步：绘制本征声线</a></li></ul> 
  </li><li><a href="#_757" rel="nofollow">总结</a></li></ul> 
</div> 
<p></p> 
<hr> 
<h2><a id="_4"></a>前言</h2> 
<p>本文介绍了 Bellhop 工具箱的具体使用，通过介绍官方 demo 实例，对绘制声速剖面、声线轨迹和本征声线进行了讲解，便于新手快速入门。</p> 
<hr> 
<h2><a id="Bellhop__8"></a>一、Bellhop 简介</h2> 
<p>Bellhop，是一种水声工具箱，可以进行水下声学仿真，<font color="blue">通过 env 文件设置环境参数，可得到与之对应的声线信息、多途等仿真；</font></p> 
<p>目前 BELLHOP 可以用 Fortran、MATLAB 和 Python 实现，并可以用于（MAC，Windows 和 Linux）的多种平台。我们在 BELLHOP（MATLAB GUI）中<font color="blue">输入海洋环境参数：信道几何结构、声速剖面、海底地形、界面反射损失等得出多径的数目 N，入射角、幅度和延时，进而可以给出系统的冲激响应，从而可以在后续的信道建模的修正及信道估计领域应用提供有效的参照。</font></p> 
<h2><a id="Bellhop__12"></a>二、Bellhop 结构</h2> 
<h3><a id="1_13"></a>1、输入文件</h3> 
<p>BELLHOP 的整体结构图如下图所示：<br> <img src="https://images2.imgbox.com/31/7a/KYqJuOU7_o.png" alt="在这里插入图片描述"><br> <strong>输入文件有以下几个：</strong></p> 
<ul><li>*.env：描述水体环境，<font color="red">必选</font>。</li><li>*.ati：描述海面形状，可选。</li><li>*.bty：描述海底形状，可选。</li><li>*.trc：描述顶部反射系数，可选。</li><li>*.brc：描述底部反射系数，可选。</li><li>*.ssp：描述声速剖面图，可选。</li></ul> 
<h3><a id="2_23"></a>2、输出文件</h3> 
<p><strong>输出文件有以下几个：</strong></p> 
<ul><li>*.ray：描述声线和本征声线；</li><li>*.shd：描述声线的传播损失；</li><li>*.arr：描述声线到达的时间-幅度序列等参数</li></ul> 
<p>BELLHOP 的结构可以用下图直观的表示出来。<br> <img src="https://images2.imgbox.com/e4/3f/ibDwMZeO_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="Bellhop__31"></a>三、Bellhop 环境文件</h2> 
<p><font color="red">*.env 文件</font>，这是 Bellhop 调用的环境参数文件，其中包括了设置的海洋环境、计算选项等。</p> 
<p>*.env 文件主要有 TITLE 和 OPTIONS1 至 OPTIONS5，各个部分相互独立并完成对水体环境不同方面的描述</p> 
<p><img src="https://images2.imgbox.com/a7/33/XxilA9Fd_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="1OPTIONS1_37"></a>1、OPTIONS1</h3> 
<p>OPTION1 是单引号中的五个字母组成的，下面我们分别介绍其含义。</p> 
<p><strong>&lt;1&gt;、OPTIONS1(1)</strong></p> 
<p><code>注： OPTIONS1（1）所指为 OPTIONS1 的第一个字母</code></p> 
<p>主要描述了 BELLHOP 为了计算声速以及沿着声线相关的其他参数而采用的一些插值方法。</p> 
<p>下面是为声速剖面进行插值，所包括的字母如下：</p> 
<table><thead><tr><th>选项</th><th>说明</th></tr></thead><tbody><tr><td>S</td><td>三次样条插值（推荐）注：样条拟合产生外表更光滑的声线轨迹图</td></tr><tr><td>C</td><td>C 型线性插值</td></tr><tr><td>N</td><td>N2 线性插值</td></tr><tr><td>A</td><td>分析插值，需要 ssp 子程序的调整和模型的进一步重编译</td></tr><tr><td>Q</td><td>声场的二次逼近，需要另外编写 *.ssp 文件</td></tr></tbody></table> 
<p><strong>&lt;2&gt;、OPTIONS1(2)</strong></p> 
<p>主要描述海水表面的类型</p> 
<table><thead><tr><th>选项</th><th>说明</th></tr></thead><tbody><tr><td>V</td><td>表面真空</td></tr><tr><td>R</td><td>表面完全刚性的硬物</td></tr><tr><td>A</td><td>声学半空间</td></tr><tr><td>F</td><td>从一个*.brc 文件读入反射系数</td></tr></tbody></table> 
<p>如果不选’A’， BELLHOP 只用到前两个参数（<font color="red">每行要以“/” 结尾， 其余参数用默认的</font>），后面的参数是其他模型使用的。</p> 
<p>其中在描述为“A”的声学半空间中，SURFACE-LINE 格式如下:</p> 
<table><thead><tr><th align="center">z-surface</th><th align="center">cp-surface</th><th align="center">cs-surface</th><th align="center">density-surface</th><th align="center">AP-surface</th><th align="center">AS-surface</th></tr></thead><tbody><tr><td align="center">深度</td><td align="center">纵波声速</td><td align="center">横波声速</td><td align="center">表面密度</td><td align="center">纵波吸收系数</td><td align="center">横波吸收系数</td></tr></tbody></table> 
<p><strong>&lt;3&gt;、OPTIONS1(3)</strong></p> 
<p>描述底部的衰减所用的单位</p> 
<table><thead><tr><th>选项</th><th>说明</th></tr></thead><tbody><tr><td>F</td><td>(dB/m)kHz，F 指与频率相关</td></tr><tr><td>L</td><td>衰减单位对应于参数损失 损失参量（又称损失切线）</td></tr><tr><td>M</td><td>dB/m，M 指每米</td></tr><tr><td>N</td><td>Nepers/m</td></tr><tr><td>Q</td><td>品质因子</td></tr><tr><td>W</td><td>dB/λ， W 指波长</td></tr></tbody></table> 
<p><strong>&lt;4&gt;、OPTIONS1(4)</strong></p> 
<p>可选参数， 如果描述声音的 Thope Volume 衰减， 要设置为“T”</p> 
<p><strong>&lt;5&gt;、OPTIONS1(5)</strong></p> 
<p>可选参数， 如果不具体说明，就认为表面是平的；如果具体说明，则设置为’*'。在后一种情况下，表面坐标需要用*.ati 文件来描述， 如可以描述为高斯波浪等所需的海面形状。其结构如下：<br> <img src="https://images2.imgbox.com/75/f5/r0NIvCnn_o.png" alt="在这里插入图片描述"><br> 参数“ 插值类型” 是一个字符，等于‘L’（ 用于对表面进行线性插值） 或‘C’（ 用于对表面进行曲线插值）；表面的距离单位为 km，表面的深度单位为 m。</p> 
<p><strong>在 Bellhop 中不使用参数 nmesh 和 sigmas（ σ），参数 z(nssp)用于检测声速剖面的最后一行。 z( )和 cp( )的数值分别对应于以 m 为单位的深度和以 m/s 为单位的 p 波声速。</strong></p> 
<h3><a id="2OPTIONS2_95"></a>2、OPTIONS2</h3> 
<p>是用单引号括起来的两个字符的字符串，用来描述水柱下面的环境状况。</p> 
<p><strong>&lt;1&gt;、OPTIONS2(1)</strong></p> 
<p>描述水柱下面的介质类型</p> 
<table><thead><tr><th>选项</th><th>说明</th></tr></thead><tbody><tr><td>V</td><td>水柱下为真空</td></tr><tr><td>R</td><td>刚性物质</td></tr><tr><td>A</td><td>声学半空间， BOTTOM-LINE 格式如下</td></tr><tr><td>F</td><td>从一个*.brc 文件读入反射系数</td></tr></tbody></table> 
<p>其中在描述为“A”的声学半空间中，BOTTOM-LINE 格式如下:</p> 
<table><thead><tr><th align="center">z-surface</th><th align="center">cp-bottom</th><th align="center">cs-bottom</th><th align="center">density-bottom</th><th align="center">AP-bottom</th><th align="center">AS-bottom</th></tr></thead><tbody><tr><td align="center">深度</td><td align="center">纵波声速</td><td align="center">横波声速</td><td align="center">表面密度</td><td align="center">纵波吸收系数</td><td align="center">横波吸收系数</td></tr></tbody></table> 
<p><strong>&lt;2&gt;、OPTIONS2(2)</strong><br> 描述底部形状。可以空着（对应于平坦底面），也可以设置为 ‘*’ 。在后一种情况下，底部坐标用*.bty 文件来描述，结构如下：<br> <img src="https://images2.imgbox.com/99/3b/OThXRuAV_o.png" alt="在这里插入图片描述"><br> 同样， “ 插值类型” 可设置为‘L’或‘C’；底端的距离单位为 km，底端的深度单位为 m。</p> 
<h3><a id="3OPTIONS3_117"></a>3、OPTIONS3</h3> 
<p><font color="red"><strong>用五个字母来描述输出选项，很重要！！！</strong></font></p> 
<p><strong>&lt;1&gt;、OPTIONS3(1)</strong></p> 
<p>设定将写入输出文件的信息类型。</p> 
<table><thead><tr><th>选项</th><th>说明</th></tr></thead><tbody><tr><td>A</td><td>写入振幅和传播时间</td></tr><tr><td>E</td><td>写入本征射线坐标</td></tr><tr><td>R</td><td>写入射线坐标</td></tr><tr><td>C</td><td>写入相干声压</td></tr><tr><td>I</td><td>写入非相干声压</td></tr><tr><td>S</td><td>写入半相干声压</td></tr></tbody></table> 
<p><strong>&lt;2&gt;、OPTIONS3(2)</strong></p> 
<p>描述计算声压的近似方法。</p> 
<table><thead><tr><th>选项</th><th>说明</th></tr></thead><tbody><tr><td>G</td><td>采用几何波束（默认值）</td></tr><tr><td>C</td><td>采用笛卡尔波束</td></tr><tr><td>R</td><td>采用中心射线波束</td></tr><tr><td>B</td><td>采用高斯波束</td></tr></tbody></table> 
<p><strong>&lt;3&gt;、OPTIONS3(3)</strong></p> 
<p>设定包含波束移位效果等的选项。</p> 
<table><thead><tr><th>选项</th><th>说明</th></tr></thead><tbody><tr><td>‘ ’</td><td>不包括波束移位效果（默认值）</td></tr><tr><td>S</td><td>包括波束移位效果</td></tr><tr><td>*</td><td>使用一个波束类型文件 *.sbp， 格式与 *.ati 和 *.bty 一样</td></tr></tbody></table> 
<p><strong>&lt;4&gt;、OPTIONS3(4)</strong></p> 
<p>描述声源的类型。</p> 
<table><thead><tr><th>选项</th><th>说明</th></tr></thead><tbody><tr><td>R</td><td>圆柱坐标系中的点声源(default)</td></tr><tr><td>X</td><td>笛卡尔坐标系中的线声源</td></tr></tbody></table> 
<p><strong>&lt;5&gt;、OPTIONS3(5)</strong></p> 
<p>设置阵列类型。</p> 
<table><thead><tr><th>选项</th><th>说明</th></tr></thead><tbody><tr><td>R</td><td>直线网络的接收器</td></tr><tr><td>I</td><td>不规则网络的接收器</td></tr></tbody></table> 
<p><strong>整数 nbeams 表示出射角的数目， theta(1) 和 theta(nbeams) 是以度（ °） 为单位设定的第一个和最后一个出射角， 以指向底部的 出 射 角 为 正 值 ， 指 向 表 面 的 出 射 角 为 是 负 值</strong> 。 参 数 ray-step(m)、 zmax(m) 和 rmax (km) 定义射线和动态方程积分中的射线步距 ds 和“声线追踪区域（box） ” 的边界范围， “ 追踪区域” 外就停止射线的追踪。</p> 
<h3><a id="4OPTIONS4_168"></a>4、OPTIONS4</h3> 
<p>如果 OPTIONS3 只有一个字母的话，就没有必要在 *.env 文件继续写内容了.否则就要多加两行用来包含波束特性的额外信息，下面为字母说明：</p> 
<p><strong>&lt;1&gt;、OPTIONS4(1)</strong></p> 
<p>描述波束的类型。</p> 
<table><thead><tr><th>选项</th><th>说明</th></tr></thead><tbody><tr><td>C</td><td>Cerveny 类型</td></tr><tr><td>F</td><td>空间填充</td></tr><tr><td>M</td><td>最小宽度</td></tr><tr><td>W</td><td>WKB 波束</td></tr></tbody></table> 
<p><strong>&lt;2&gt;、OPTIONS4(2)</strong></p> 
<p>描述波束曲率的类型。</p> 
<table><thead><tr><th>选项</th><th>说明</th></tr></thead><tbody><tr><td>D</td><td>曲率翻倍</td></tr><tr><td>S</td><td>标准曲率</td></tr><tr><td>Z</td><td>零曲率</td></tr></tbody></table> 
<p>参数 epmult 和 rloop 应该为正实数， isingl、 nImage 和 ibwin 应该为整数。 整数 nImage 可以取 1、 2 或 3。 Component 是单个字符，只有在采用中心射线坐标（OPTIONS3(2)=’R’） 计算声压时才使用；它可以空着（ 将声压写进输出文件） 、 等于’H’（ 将声压的水平分量写入输出文件） 或等于’V’（ 将声压的垂直分量写入输出文件）。</p> 
<h3><a id="5_192"></a>5、其他参数</h3> 
<table><thead><tr><th>选项</th><th>说明</th></tr></thead><tbody><tr><td>NSD</td><td>声源在垂直方向上个数(&lt;51)；超过 50 个声源，声线图将会变得杂乱无章；</td></tr><tr><td>SD()</td><td>写入本征射线坐标</td></tr><tr><td>NRD</td><td>接收水听器的垂直方向上个数</td></tr><tr><td>RD()</td><td>接收水听器的深度</td></tr><tr><td>NR</td><td>接收水听器的水平方向上个数</td></tr><tr><td>R()</td><td>接收水听器的水平接收范围</td></tr><tr><td>STEP</td><td>声线跟踪的步长</td></tr><tr><td>ZBOX</td><td>接收水听器的最大深度</td></tr><tr><td>RBOX</td><td>接收水听器与声源的最大水平距离</td></tr></tbody></table> 
<p><img src="https://images2.imgbox.com/b3/0e/kP9nq9nh_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="BELLHOPMatlab_GUI_206"></a>四、BELLHOP（Matlab_GUI）实例</h2> 
<h3><a id="1bellhop__207"></a>1、bellhop 工具箱自取</h3> 
<p>链接：<a href="https://download.csdn.net/download/qq_41839588/87847840">bellhop 工具箱</a></p> 
<h3><a id="2_209"></a>2、解压缩工具箱</h3> 
<p>将压缩包解压至 D:\Matlab2019a\toolbox\matlab 目录下<br> <img src="https://images2.imgbox.com/04/dc/ZGWLORiR_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="3_212"></a>3、设置路径</h3> 
<p>在 matlab 里面添加路径<br> <img src="https://images2.imgbox.com/4e/6a/eVGdjpvg_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="4_215"></a>4、添加并包含子文件夹</h3> 
<p>在添加路径的过程中，选择添加并包含子文件夹<br> <img src="https://images2.imgbox.com/9d/f7/KSirXTIc_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="5_BELLHOP_218"></a>5、运行 BELLHOP</h3> 
<p>运行 D:\Matlab2019a\toolbox\matlab\atWin10_2020_11_4\tests\Munk 目录下的 runtests.m 文件</p> 
<pre><code class="prism language-matlab"><span class="token comment">% Munk profile test cases</span>
<span class="token comment">% mbp</span>
global units
units <span class="token operator">=</span> <span class="token string">'km'</span><span class="token punctuation">;</span>

<span class="token comment">%%</span>
figure
<span class="token function">plotssp</span><span class="token punctuation">(</span> <span class="token string">'MunkB_ray'</span> <span class="token punctuation">)</span> <span class="token comment">% 绘制声速剖面</span>

<span class="token function">bellhop</span><span class="token punctuation">(</span> <span class="token string">'MunkB_ray'</span> <span class="token punctuation">)</span> <span class="token comment">% 计算声场并检查输入文件</span>
figure
<span class="token function">plotray</span><span class="token punctuation">(</span> <span class="token string">'MunkB_ray'</span> <span class="token punctuation">)</span> <span class="token comment">% 绘制声线轨迹</span>

<span class="token function">bellhop</span><span class="token punctuation">(</span> <span class="token string">'MunkB_eigenray'</span> <span class="token punctuation">)</span> <span class="token comment">% 计算声场并检查输入文件</span>
figure
<span class="token function">plotray</span><span class="token punctuation">(</span> <span class="token string">'MunkB_eigenray'</span> <span class="token punctuation">)</span> <span class="token comment">% 绘制本征声线</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/76/0c/IQ3cR8wU_o.png" alt="在这里插入图片描述"><br> 执行结果如下：<br> 下图从左至右依次为 <strong>声速剖面</strong>，<strong>声线轨迹</strong>，<strong>本征声线</strong>。<br> <img src="https://images2.imgbox.com/75/41/qo5heCoU_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_243"></a>五、声速剖面与声线轨迹</h2> 
<p>作为第一个例子， 我们来考虑一个深海场景， Munk 声速剖面。通常我们应该以画出“声速剖面”并计算“声线轨迹”作为开始。输入文件（也称作环境文件）是一个简单的文本文件，可以用任何标准文本编辑器来创建，但扩展名必须是“.env”</p> 
<p>此处，考虑 D:\Matlab2019a\toolbox\matlab\atWin10_2020_11_4\tests\Munk\MunkB_ray.env：</p> 
<h3><a id="1_247"></a>1、环境文件</h3> 
<p><strong>MunkB_ray.env</strong></p> 
<pre><code class="prism language-matlab"><span class="token string">'Munk profile'</span>		<span class="token punctuation">!</span> TITLE
<span class="token number">50.0</span>			<span class="token punctuation">!</span> <span class="token function">FREQ</span> <span class="token punctuation">(</span>Hz<span class="token punctuation">)</span>
<span class="token number">1</span>			<span class="token punctuation">!</span> NMEDIA
<span class="token string">'PVF'</span>			<span class="token punctuation">!</span> <span class="token function">SSPOPT</span> <span class="token punctuation">(</span>Analytic or C<span class="token operator">-</span>linear interpolation<span class="token punctuation">)</span>
<span class="token number">51</span>  <span class="token number">0.0</span>  <span class="token number">5000.0</span>		<span class="token punctuation">!</span> DEPTH of <span class="token function">bottom</span> <span class="token punctuation">(</span>m<span class="token punctuation">)</span>
    <span class="token number">0.0</span>  <span class="token number">1548.52</span>  <span class="token operator">/</span>
  <span class="token number">200.0</span>  <span class="token number">1530.29</span>  <span class="token operator">/</span>
  <span class="token number">250.0</span>  <span class="token number">1526.69</span>  <span class="token operator">/</span>
  <span class="token number">400.0</span>  <span class="token number">1517.78</span>  <span class="token operator">/</span>
  <span class="token number">600.0</span>  <span class="token number">1509.49</span>  <span class="token operator">/</span>
  <span class="token number">800.0</span>  <span class="token number">1504.30</span>  <span class="token operator">/</span>
 <span class="token number">1000.0</span>  <span class="token number">1501.38</span>  <span class="token operator">/</span>
 <span class="token number">1200.0</span>  <span class="token number">1500.14</span>  <span class="token operator">/</span>
 <span class="token number">1400.0</span>  <span class="token number">1500.12</span>  <span class="token operator">/</span>
 <span class="token number">1600.0</span>  <span class="token number">1501.02</span>  <span class="token operator">/</span>
 <span class="token number">1800.0</span>  <span class="token number">1502.57</span>  <span class="token operator">/</span>
 <span class="token number">2000.0</span>  <span class="token number">1504.62</span>  <span class="token operator">/</span>
 <span class="token number">2200.0</span>  <span class="token number">1507.02</span>  <span class="token operator">/</span>
 <span class="token number">2400.0</span>  <span class="token number">1509.69</span>  <span class="token operator">/</span>
 <span class="token number">2600.0</span>  <span class="token number">1512.55</span>  <span class="token operator">/</span>
 <span class="token number">2800.0</span>  <span class="token number">1515.56</span>  <span class="token operator">/</span>
 <span class="token number">3000.0</span>  <span class="token number">1518.67</span>  <span class="token operator">/</span>
 <span class="token number">3200.0</span>  <span class="token number">1521.85</span>  <span class="token operator">/</span>
 <span class="token number">3400.0</span>  <span class="token number">1525.10</span>  <span class="token operator">/</span>
 <span class="token number">3600.0</span>  <span class="token number">1528.38</span>  <span class="token operator">/</span>
 <span class="token number">3800.0</span>  <span class="token number">1531.70</span>  <span class="token operator">/</span>
 <span class="token number">4000.0</span>  <span class="token number">1535.04</span>  <span class="token operator">/</span>
 <span class="token number">4200.0</span>  <span class="token number">1538.39</span>  <span class="token operator">/</span>
 <span class="token number">4400.0</span>  <span class="token number">1541.76</span>  <span class="token operator">/</span>
 <span class="token number">4600.0</span>  <span class="token number">1545.14</span>  <span class="token operator">/</span>
 <span class="token number">4800.0</span>  <span class="token number">1548.52</span>  <span class="token operator">/</span>
 <span class="token number">5000.0</span>  <span class="token number">1551.91</span>  <span class="token operator">/</span>
<span class="token string">'A'</span> <span class="token number">0.0</span>
 <span class="token number">5000.0</span>  <span class="token number">1600.00</span> <span class="token number">0.0</span> <span class="token number">1.0</span> <span class="token operator">/</span>
<span class="token number">2</span>				<span class="token punctuation">!</span> NSD
<span class="token number">1000.0</span> <span class="token number">4000</span> <span class="token operator">/</span>			<span class="token punctuation">!</span> <span class="token function">SD</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span>NSD<span class="token punctuation">)</span> <span class="token punctuation">(</span>m<span class="token punctuation">)</span>
<span class="token number">51</span>				<span class="token punctuation">!</span> NRD
<span class="token number">0.0</span> <span class="token number">5000.0</span> <span class="token operator">/</span>			<span class="token punctuation">!</span> <span class="token function">RD</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span>NRD<span class="token punctuation">)</span> <span class="token punctuation">(</span>m<span class="token punctuation">)</span>
<span class="token number">1001</span>				<span class="token punctuation">!</span> NR
<span class="token number">0.0</span>  <span class="token number">100.0</span> <span class="token operator">/</span>			<span class="token punctuation">!</span> <span class="token function">R</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span>NR <span class="token punctuation">)</span> <span class="token punctuation">(</span>km<span class="token punctuation">)</span>
<span class="token string">'R'</span>	  			<span class="token punctuation">!</span> <span class="token string">'R/C/I/S'</span>
<span class="token number">41</span>				<span class="token punctuation">!</span> NBeams
<span class="token operator">-</span><span class="token number">20.0</span> <span class="token number">20.0</span> <span class="token operator">/</span>		        <span class="token punctuation">!</span> ALPHA1<span class="token punctuation">,</span><span class="token number">2</span> <span class="token punctuation">(</span>degrees<span class="token punctuation">)</span>
<span class="token number">0.0</span>  <span class="token number">5500.0</span> <span class="token number">101.0</span>		<span class="token punctuation">!</span> <span class="token function">STEP</span> <span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">ZBOX</span> <span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">RBOX</span> <span class="token punctuation">(</span>km<span class="token punctuation">)</span>
</code></pre> 
<ul><li>第 2 行：声源频率对基本的声线轨迹并不十分重要。声线与频率无关，不过，频率对声线步长大小有影响，因为程序假定在<font color="red">更高的频率需要画出更精确的声线轨迹。</font></li><li>第 3 行：在 BELLHOP 中， NMedia <font color="red">总是设定为 1</font>。包含此参数是为了与声学工具箱中其他模型相兼容，那些模型能够处理多层介质问题。</li><li>第 4 行：接下来的顶端选项被设定为“PVF”， <font color="red">表明使用样条拟合来对声速剖面进行插值； 海面以上模拟成真空；所有衰减值都以dB/mkHz 为单位</font>。选择样条拟合是因为知道本例中的声速剖面变化平滑，在这种情况下，样条拟合将生成更加平滑的声线轨迹图。</li><li>第 5 行：<font color="red">唯一重要的参数是海底深度（5000 米）</font>，它标识了需要读取的声速剖面的最后一行。 BELHOP 不使用（该行的） 前两个参数。 
  <ul><li>第 6 行~第 32 行：接下来，我们看到顺序排列以<font color="blue">“深度-声速” 来定义的海洋声速剖面</font>。<font color="red">“声速剖面最后一行必须以上面指定的海底深度值为开始</font>。为了保证与声学工具箱中其他模型相兼容，我们通常用“/”来结束每一行。其他模型还需要衰减、剪切速度和密度作为附加参数， “/”表示停止读取该行并使用默认值。</li></ul> </li><li>第 33 行~第 34 行：这两行说明底部边界，字母选项“A”表示底部模拟为声弹性半空间。第二行表示该半空间声速为 1600m/s，密度为 1.0（这并不是实际海底底质的情况）。</li><li>第 35 行~第 40 行：描述了声源深度、接收器深度和接收器的距离。 
  <ul><li>深度单位总是为米，距离单位总是为公里。 对于程序首次运行，我们只生成声线轨迹，因此与接收器位置无关；但是，必须提供接收器位置。注意，此处设定了 51 个接收器深度。通常，为了展示声场，用户只想把接收器深度简单设为均匀分布。为了避免强迫用户必须键入所有这些深度数值， 还可以选择只简单地输入第一个和最后一个数值，并用“/”结束该行。 程序检测到预置的端点，然后通过插值产生一组完整的接收器深度值。<font color="blue"> 声源和接收器必须位于波导内部</font>。</li></ul> </li><li>第 41 行：接下来是运行类型（RunType）。<font color="red">对于求解声线轨迹的程序运行，选项设置为“R”。</font>。</li><li>第 42 行~第 43 行：设定声线扇面， 以声线数（第 42 行）和限制角（第 43 行）（单位： 度(°)） 给出。角度倾斜依循惯例，即：水平发出的声线为零度，向底部发出的声线为正角度。</li><li>第 44 行：设定声线追踪的步长（单位：米），以及声线追踪的深度与距离范围（box）， 范围外的声线不予追踪。 
  <ul><li>通常， 步长设为 0， BELLHOP 将自动选择水深的 1/10 作为步长。 <font color="blue">不管选择什么步长， BELLHOP 均会随着声线追踪动态调整步长，以确保每根声线精确着陆在所有给定声速的深度上。对于给定的声速剖面采样，可以通过设定小于默认值的步长来获得更精确的声线轨迹。</font></li></ul> </li></ul> 
<h3><a id="2_307"></a>2、第一步：绘制声速剖面</h3> 
<p>现在已经创建好了输入文件，可以使用 Matlab 程序 plotssp.m，开始来绘制声速剖面曲线。 其运行的 Matlab 命令的语法是：</p> 
<pre><code class="prism language-matlab"><span class="token function">plotssp</span><span class="token punctuation">(</span><span class="token string">'MunkB_ray'</span><span class="token punctuation">)</span>
</code></pre> 
<p>此处 ‘MunkB_ray’ 是 BELLHOP 输入文件的名称。运行后产生的 matlab 命令行窗口输出和绘图窗口输出如下表所示：</p> 
<pre><code class="prism language-matlab"><span class="token operator">&gt;</span><span class="token operator">&gt;</span> <span class="token function">plotssp</span><span class="token punctuation">(</span><span class="token string">'MunkB_ray'</span><span class="token punctuation">)</span>
__________________________________________________________________
Munk profile
Frequency <span class="token operator">=</span> <span class="token number">50</span> Hz 
Number of media <span class="token operator">=</span> <span class="token number">1</span> 

    PCHIP approximation to SSP
    Attenuation units<span class="token operator">:</span> dB<span class="token operator">/</span>mkHz
    VACUUM

     <span class="token function">z</span> <span class="token punctuation">(</span>m<span class="token punctuation">)</span>     <span class="token function">alphaR</span> <span class="token punctuation">(</span>m<span class="token operator">/</span>s<span class="token punctuation">)</span>      betaR       <span class="token function">rho</span> <span class="token punctuation">(</span>g<span class="token operator">/</span>cm<span class="token operator">^</span><span class="token number">3</span><span class="token punctuation">)</span>    alphaI        <span class="token function">betaI</span> 
    <span class="token punctuation">(</span> Number of pts <span class="token operator">=</span> <span class="token number">51</span>  Roughness <span class="token operator">=</span>   <span class="token number">0.00</span>  Depth <span class="token operator">=</span>  <span class="token number">5000.00</span> <span class="token punctuation">)</span> 
      <span class="token number">0.00</span>       <span class="token number">1548.52</span>          <span class="token number">0.00</span>          <span class="token number">1.00</span>        <span class="token number">0.0000</span>        <span class="token number">0.0000</span> 
    <span class="token number">200.00</span>       <span class="token number">1530.29</span>          <span class="token number">0.00</span>          <span class="token number">1.00</span>        <span class="token number">0.0000</span>        <span class="token number">0.0000</span> 
    <span class="token number">250.00</span>       <span class="token number">1526.69</span>          <span class="token number">0.00</span>          <span class="token number">1.00</span>        <span class="token number">0.0000</span>        <span class="token number">0.0000</span> 
    <span class="token number">400.00</span>       <span class="token number">1517.78</span>          <span class="token number">0.00</span>          <span class="token number">1.00</span>        <span class="token number">0.0000</span>        <span class="token number">0.0000</span> 
    <span class="token number">600.00</span>       <span class="token number">1509.49</span>          <span class="token number">0.00</span>          <span class="token number">1.00</span>        <span class="token number">0.0000</span>        <span class="token number">0.0000</span> 
    <span class="token number">800.00</span>       <span class="token number">1504.30</span>          <span class="token number">0.00</span>          <span class="token number">1.00</span>        <span class="token number">0.0000</span>        <span class="token number">0.0000</span> 
   <span class="token number">1000.00</span>       <span class="token number">1501.38</span>          <span class="token number">0.00</span>          <span class="token number">1.00</span>        <span class="token number">0.0000</span>        <span class="token number">0.0000</span> 
   <span class="token number">1200.00</span>       <span class="token number">1500.14</span>          <span class="token number">0.00</span>          <span class="token number">1.00</span>        <span class="token number">0.0000</span>        <span class="token number">0.0000</span> 
   <span class="token number">1400.00</span>       <span class="token number">1500.12</span>          <span class="token number">0.00</span>          <span class="token number">1.00</span>        <span class="token number">0.0000</span>        <span class="token number">0.0000</span> 
   <span class="token number">1600.00</span>       <span class="token number">1501.02</span>          <span class="token number">0.00</span>          <span class="token number">1.00</span>        <span class="token number">0.0000</span>        <span class="token number">0.0000</span> 
   <span class="token number">1800.00</span>       <span class="token number">1502.57</span>          <span class="token number">0.00</span>          <span class="token number">1.00</span>        <span class="token number">0.0000</span>        <span class="token number">0.0000</span> 
   <span class="token number">2000.00</span>       <span class="token number">1504.62</span>          <span class="token number">0.00</span>          <span class="token number">1.00</span>        <span class="token number">0.0000</span>        <span class="token number">0.0000</span> 
   <span class="token number">2200.00</span>       <span class="token number">1507.02</span>          <span class="token number">0.00</span>          <span class="token number">1.00</span>        <span class="token number">0.0000</span>        <span class="token number">0.0000</span> 
   <span class="token number">2400.00</span>       <span class="token number">1509.69</span>          <span class="token number">0.00</span>          <span class="token number">1.00</span>        <span class="token number">0.0000</span>        <span class="token number">0.0000</span> 
   <span class="token number">2600.00</span>       <span class="token number">1512.55</span>          <span class="token number">0.00</span>          <span class="token number">1.00</span>        <span class="token number">0.0000</span>        <span class="token number">0.0000</span> 
   <span class="token number">2800.00</span>       <span class="token number">1515.56</span>          <span class="token number">0.00</span>          <span class="token number">1.00</span>        <span class="token number">0.0000</span>        <span class="token number">0.0000</span> 
   <span class="token number">3000.00</span>       <span class="token number">1518.67</span>          <span class="token number">0.00</span>          <span class="token number">1.00</span>        <span class="token number">0.0000</span>        <span class="token number">0.0000</span> 
   <span class="token number">3200.00</span>       <span class="token number">1521.85</span>          <span class="token number">0.00</span>          <span class="token number">1.00</span>        <span class="token number">0.0000</span>        <span class="token number">0.0000</span> 
   <span class="token number">3400.00</span>       <span class="token number">1525.10</span>          <span class="token number">0.00</span>          <span class="token number">1.00</span>        <span class="token number">0.0000</span>        <span class="token number">0.0000</span> 
   <span class="token number">3600.00</span>       <span class="token number">1528.38</span>          <span class="token number">0.00</span>          <span class="token number">1.00</span>        <span class="token number">0.0000</span>        <span class="token number">0.0000</span> 
   <span class="token number">3800.00</span>       <span class="token number">1531.70</span>          <span class="token number">0.00</span>          <span class="token number">1.00</span>        <span class="token number">0.0000</span>        <span class="token number">0.0000</span> 
   <span class="token number">4000.00</span>       <span class="token number">1535.04</span>          <span class="token number">0.00</span>          <span class="token number">1.00</span>        <span class="token number">0.0000</span>        <span class="token number">0.0000</span> 
   <span class="token number">4200.00</span>       <span class="token number">1538.39</span>          <span class="token number">0.00</span>          <span class="token number">1.00</span>        <span class="token number">0.0000</span>        <span class="token number">0.0000</span> 
   <span class="token number">4400.00</span>       <span class="token number">1541.76</span>          <span class="token number">0.00</span>          <span class="token number">1.00</span>        <span class="token number">0.0000</span>        <span class="token number">0.0000</span> 
   <span class="token number">4600.00</span>       <span class="token number">1545.14</span>          <span class="token number">0.00</span>          <span class="token number">1.00</span>        <span class="token number">0.0000</span>        <span class="token number">0.0000</span> 
   <span class="token number">4800.00</span>       <span class="token number">1548.52</span>          <span class="token number">0.00</span>          <span class="token number">1.00</span>        <span class="token number">0.0000</span>        <span class="token number">0.0000</span> 
   <span class="token number">5000.00</span>       <span class="token number">1551.91</span>          <span class="token number">0.00</span>          <span class="token number">1.00</span>        <span class="token number">0.0000</span>        <span class="token number">0.0000</span> 
    Number of pts <span class="token operator">=</span> <span class="token number">51</span> 
    ACOUSTO<span class="token operator">-</span>ELASTIC half<span class="token operator">-</span>space
   <span class="token number">5000.00</span>       <span class="token number">1600.00</span>          <span class="token number">0.00</span>          <span class="token number">1.00</span>        <span class="token number">0.0000</span>        <span class="token number">0.0000</span> 

_______________________ 

 Number of source   depths<span class="token punctuation">,</span> NSz   <span class="token operator">=</span> <span class="token number">2</span> 

 Source depths<span class="token punctuation">,</span> <span class="token function">Sz</span> <span class="token punctuation">(</span>m<span class="token punctuation">)</span>
 <span class="token number">1000.00</span> 
 <span class="token number">4000.00</span> 

_______________________ 

 Number of receiver depths<span class="token punctuation">,</span> NRz   <span class="token operator">=</span> <span class="token number">51</span> 

 Receiver depths<span class="token punctuation">,</span> <span class="token function">Rz</span> <span class="token punctuation">(</span>m<span class="token punctuation">)</span>
    <span class="token number">0.00</span> <span class="token punctuation">...</span>  <span class="token number">5000.00</span> 

_______________________ 

 Number of receiver ranges<span class="token punctuation">,</span> NRr <span class="token operator">=</span> <span class="token number">1001</span> 

 Receiver ranges<span class="token punctuation">,</span> <span class="token function">Rr</span> <span class="token punctuation">(</span>km<span class="token punctuation">)</span> 
    <span class="token number">0.00</span> <span class="token punctuation">...</span>   <span class="token number">100.00</span> 
    

_______________________ 
Ray trace run
Geometric hat beams

Number of beams <span class="token operator">=</span> <span class="token number">41</span> 
Beam take<span class="token operator">-</span>off <span class="token function">angles</span> <span class="token punctuation">(</span>degrees<span class="token punctuation">)</span> 
<span class="token operator">-</span><span class="token number">20.000000</span> <span class="token number">20.000000</span> 

Step length<span class="token punctuation">,</span>       deltas <span class="token operator">=</span> <span class="token number">0</span> m 
Maximum ray depth<span class="token punctuation">,</span> zBox   <span class="token operator">=</span> <span class="token number">5500</span> m 
Maximum ray range<span class="token punctuation">,</span> rBox   <span class="token operator">=</span> <span class="token number">101</span> km
Default step length<span class="token punctuation">,</span>     deltas <span class="token operator">=</span> <span class="token number">500</span> m 
No beam shift in effect
Point <span class="token function">source</span> <span class="token punctuation">(</span>cylindrical coordinates<span class="token punctuation">)</span>
<span class="token operator">&gt;</span><span class="token operator">&gt;</span> <span class="token function">plotssp</span><span class="token punctuation">(</span><span class="token string">'MunkB_ray'</span><span class="token punctuation">)</span>
__________________________________________________________________
Munk profile
Frequency <span class="token operator">=</span> <span class="token number">50</span> Hz 
Number of media <span class="token operator">=</span> <span class="token number">1</span> 

    PCHIP approximation to SSP
    Attenuation units<span class="token operator">:</span> dB<span class="token operator">/</span>mkHz
    VACUUM

     <span class="token function">z</span> <span class="token punctuation">(</span>m<span class="token punctuation">)</span>     <span class="token function">alphaR</span> <span class="token punctuation">(</span>m<span class="token operator">/</span>s<span class="token punctuation">)</span>      betaR       <span class="token function">rho</span> <span class="token punctuation">(</span>g<span class="token operator">/</span>cm<span class="token operator">^</span><span class="token number">3</span><span class="token punctuation">)</span>    alphaI        <span class="token function">betaI</span> 
    <span class="token punctuation">(</span> Number of pts <span class="token operator">=</span> <span class="token number">51</span>  Roughness <span class="token operator">=</span>   <span class="token number">0.00</span>  Depth <span class="token operator">=</span>  <span class="token number">5000.00</span> <span class="token punctuation">)</span> 
      <span class="token number">0.00</span>       <span class="token number">1548.52</span>          <span class="token number">0.00</span>          <span class="token number">1.00</span>        <span class="token number">0.0000</span>        <span class="token number">0.0000</span> 
    <span class="token number">200.00</span>       <span class="token number">1530.29</span>          <span class="token number">0.00</span>          <span class="token number">1.00</span>        <span class="token number">0.0000</span>        <span class="token number">0.0000</span> 
    <span class="token number">250.00</span>       <span class="token number">1526.69</span>          <span class="token number">0.00</span>          <span class="token number">1.00</span>        <span class="token number">0.0000</span>        <span class="token number">0.0000</span> 
    <span class="token number">400.00</span>       <span class="token number">1517.78</span>          <span class="token number">0.00</span>          <span class="token number">1.00</span>        <span class="token number">0.0000</span>        <span class="token number">0.0000</span> 
    <span class="token number">600.00</span>       <span class="token number">1509.49</span>          <span class="token number">0.00</span>          <span class="token number">1.00</span>        <span class="token number">0.0000</span>        <span class="token number">0.0000</span> 
    <span class="token number">800.00</span>       <span class="token number">1504.30</span>          <span class="token number">0.00</span>          <span class="token number">1.00</span>        <span class="token number">0.0000</span>        <span class="token number">0.0000</span> 
   <span class="token number">1000.00</span>       <span class="token number">1501.38</span>          <span class="token number">0.00</span>          <span class="token number">1.00</span>        <span class="token number">0.0000</span>        <span class="token number">0.0000</span> 
   <span class="token number">1200.00</span>       <span class="token number">1500.14</span>          <span class="token number">0.00</span>          <span class="token number">1.00</span>        <span class="token number">0.0000</span>        <span class="token number">0.0000</span> 
   <span class="token number">1400.00</span>       <span class="token number">1500.12</span>          <span class="token number">0.00</span>          <span class="token number">1.00</span>        <span class="token number">0.0000</span>        <span class="token number">0.0000</span> 
   <span class="token number">1600.00</span>       <span class="token number">1501.02</span>          <span class="token number">0.00</span>          <span class="token number">1.00</span>        <span class="token number">0.0000</span>        <span class="token number">0.0000</span> 
   <span class="token number">1800.00</span>       <span class="token number">1502.57</span>          <span class="token number">0.00</span>          <span class="token number">1.00</span>        <span class="token number">0.0000</span>        <span class="token number">0.0000</span> 
   <span class="token number">2000.00</span>       <span class="token number">1504.62</span>          <span class="token number">0.00</span>          <span class="token number">1.00</span>        <span class="token number">0.0000</span>        <span class="token number">0.0000</span> 
   <span class="token number">2200.00</span>       <span class="token number">1507.02</span>          <span class="token number">0.00</span>          <span class="token number">1.00</span>        <span class="token number">0.0000</span>        <span class="token number">0.0000</span> 
   <span class="token number">2400.00</span>       <span class="token number">1509.69</span>          <span class="token number">0.00</span>          <span class="token number">1.00</span>        <span class="token number">0.0000</span>        <span class="token number">0.0000</span> 
   <span class="token number">2600.00</span>       <span class="token number">1512.55</span>          <span class="token number">0.00</span>          <span class="token number">1.00</span>        <span class="token number">0.0000</span>        <span class="token number">0.0000</span> 
   <span class="token number">2800.00</span>       <span class="token number">1515.56</span>          <span class="token number">0.00</span>          <span class="token number">1.00</span>        <span class="token number">0.0000</span>        <span class="token number">0.0000</span> 
   <span class="token number">3000.00</span>       <span class="token number">1518.67</span>          <span class="token number">0.00</span>          <span class="token number">1.00</span>        <span class="token number">0.0000</span>        <span class="token number">0.0000</span> 
   <span class="token number">3200.00</span>       <span class="token number">1521.85</span>          <span class="token number">0.00</span>          <span class="token number">1.00</span>        <span class="token number">0.0000</span>        <span class="token number">0.0000</span> 
   <span class="token number">3400.00</span>       <span class="token number">1525.10</span>          <span class="token number">0.00</span>          <span class="token number">1.00</span>        <span class="token number">0.0000</span>        <span class="token number">0.0000</span> 
   <span class="token number">3600.00</span>       <span class="token number">1528.38</span>          <span class="token number">0.00</span>          <span class="token number">1.00</span>        <span class="token number">0.0000</span>        <span class="token number">0.0000</span> 
   <span class="token number">3800.00</span>       <span class="token number">1531.70</span>          <span class="token number">0.00</span>          <span class="token number">1.00</span>        <span class="token number">0.0000</span>        <span class="token number">0.0000</span> 
   <span class="token number">4000.00</span>       <span class="token number">1535.04</span>          <span class="token number">0.00</span>          <span class="token number">1.00</span>        <span class="token number">0.0000</span>        <span class="token number">0.0000</span> 
   <span class="token number">4200.00</span>       <span class="token number">1538.39</span>          <span class="token number">0.00</span>          <span class="token number">1.00</span>        <span class="token number">0.0000</span>        <span class="token number">0.0000</span> 
   <span class="token number">4400.00</span>       <span class="token number">1541.76</span>          <span class="token number">0.00</span>          <span class="token number">1.00</span>        <span class="token number">0.0000</span>        <span class="token number">0.0000</span> 
   <span class="token number">4600.00</span>       <span class="token number">1545.14</span>          <span class="token number">0.00</span>          <span class="token number">1.00</span>        <span class="token number">0.0000</span>        <span class="token number">0.0000</span> 
   <span class="token number">4800.00</span>       <span class="token number">1548.52</span>          <span class="token number">0.00</span>          <span class="token number">1.00</span>        <span class="token number">0.0000</span>        <span class="token number">0.0000</span> 
   <span class="token number">5000.00</span>       <span class="token number">1551.91</span>          <span class="token number">0.00</span>          <span class="token number">1.00</span>        <span class="token number">0.0000</span>        <span class="token number">0.0000</span> 
    Number of pts <span class="token operator">=</span> <span class="token number">51</span> 
    ACOUSTO<span class="token operator">-</span>ELASTIC half<span class="token operator">-</span>space
   <span class="token number">5000.00</span>       <span class="token number">1600.00</span>          <span class="token number">0.00</span>          <span class="token number">1.00</span>        <span class="token number">0.0000</span>        <span class="token number">0.0000</span> 

_______________________ 

 Number of source   depths<span class="token punctuation">,</span> NSz   <span class="token operator">=</span> <span class="token number">2</span> 

 Source depths<span class="token punctuation">,</span> <span class="token function">Sz</span> <span class="token punctuation">(</span>m<span class="token punctuation">)</span>
 <span class="token number">1000.00</span> 
 <span class="token number">4000.00</span> 

_______________________ 

 Number of receiver depths<span class="token punctuation">,</span> NRz   <span class="token operator">=</span> <span class="token number">51</span> 

 Receiver depths<span class="token punctuation">,</span> <span class="token function">Rz</span> <span class="token punctuation">(</span>m<span class="token punctuation">)</span>
    <span class="token number">0.00</span> <span class="token punctuation">...</span>  <span class="token number">5000.00</span> 

_______________________ 

 Number of receiver ranges<span class="token punctuation">,</span> NRr <span class="token operator">=</span> <span class="token number">1001</span> 

 Receiver ranges<span class="token punctuation">,</span> <span class="token function">Rr</span> <span class="token punctuation">(</span>km<span class="token punctuation">)</span> 
    <span class="token number">0.00</span> <span class="token punctuation">...</span>   <span class="token number">100.00</span> 
    

_______________________ 
Ray trace run
Geometric hat beams

Number of beams <span class="token operator">=</span> <span class="token number">41</span> 
Beam take<span class="token operator">-</span>off <span class="token function">angles</span> <span class="token punctuation">(</span>degrees<span class="token punctuation">)</span> 
<span class="token operator">-</span><span class="token number">20.000000</span> <span class="token number">20.000000</span> 

Step length<span class="token punctuation">,</span>       deltas <span class="token operator">=</span> <span class="token number">0</span> m 
Maximum ray depth<span class="token punctuation">,</span> zBox   <span class="token operator">=</span> <span class="token number">5500</span> m 
Maximum ray range<span class="token punctuation">,</span> rBox   <span class="token operator">=</span> <span class="token number">101</span> km
Default step length<span class="token punctuation">,</span>     deltas <span class="token operator">=</span> <span class="token number">500</span> m 
No beam shift in effect
Point <span class="token function">source</span> <span class="token punctuation">(</span>cylindrical coordinates<span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/62/fb/utDjRrS0_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="3_476"></a>3、第二步：计算声场并检查输入文件</h3> 
<p>在实践中，建议首先尝试以 BELLHOP 运行输入文件。BELLHOP 会生成一个打印文件，通过检查打印文件，任何格式错误我们通常都能清楚地发现。</p> 
<p>运行 BELLHOP 的 MATLAB 命令是：</p> 
<pre><code class="prism language-matlab"><span class="token function">bellhop</span><span class="token punctuation">(</span> <span class="token string">'MunkB_ray'</span> <span class="token punctuation">)</span>
</code></pre> 
<p>此处 “MunkB_ray.env” 是输入文件的名称，<font color="red">BELLHOP 调用的计算文件为：</font><strong>D:\Matlab2019a\toolbox\matlab\atWin10_2020_11_4\at\bin\bellhop.exe</strong>。</p> 
<p><font color="blue">假设成功完成，BELHOP 生成一个名为 “MunkB_ray.prt” 的打印文件和一个名为 “MunkB_ray.ray” 的声线文件</font>。<font color="red">仔细检查打印文件，以查验问题是按照预想场景设定， BELLHOP 也完成运行。后者可以通过检查打印文件中没有错误消息来验证，打印文件的最后一行显示的是 CPU耗时</font>。</p> 
<p>回传输入数据的打印文件 <strong>MunkB_ray.prt</strong></p> 
<pre><code class="prism language-matlab"> BELLHOP<span class="token operator">/</span>BELLHOP3D

 BELLHOP<span class="token operator">-</span> Munk profile                                                           
 frequency <span class="token operator">=</span>   <span class="token number">50.00</span>     Hz

 Dummy parameter NMedia <span class="token operator">=</span>            <span class="token number">1</span>

     PCHIP approximation to SSP
     Attenuation units<span class="token operator">:</span> dB<span class="token operator">/</span>mkHz
     VACUUM

 Depth <span class="token operator">=</span>    <span class="token number">5000.00</span> m

 Sound speed profile<span class="token operator">:</span>
   <span class="token function">z</span> <span class="token punctuation">(</span>m<span class="token punctuation">)</span>     <span class="token function">alphaR</span> <span class="token punctuation">(</span>m<span class="token operator">/</span>s<span class="token punctuation">)</span>   betaR  <span class="token function">rho</span> <span class="token punctuation">(</span>g<span class="token operator">/</span>cm<span class="token operator">^</span><span class="token number">3</span><span class="token punctuation">)</span>  alphaI     betaI

      <span class="token number">0.00</span>      <span class="token number">1548.52</span>      <span class="token number">0.00</span>     <span class="token number">1.00</span>       <span class="token number">0.0000</span>    <span class="token number">0.0000</span>
    <span class="token number">200.00</span>      <span class="token number">1530.29</span>      <span class="token number">0.00</span>     <span class="token number">1.00</span>       <span class="token number">0.0000</span>    <span class="token number">0.0000</span>
    <span class="token number">250.00</span>      <span class="token number">1526.69</span>      <span class="token number">0.00</span>     <span class="token number">1.00</span>       <span class="token number">0.0000</span>    <span class="token number">0.0000</span>
    <span class="token number">400.00</span>      <span class="token number">1517.78</span>      <span class="token number">0.00</span>     <span class="token number">1.00</span>       <span class="token number">0.0000</span>    <span class="token number">0.0000</span>
    <span class="token number">600.00</span>      <span class="token number">1509.49</span>      <span class="token number">0.00</span>     <span class="token number">1.00</span>       <span class="token number">0.0000</span>    <span class="token number">0.0000</span>
    <span class="token number">800.00</span>      <span class="token number">1504.30</span>      <span class="token number">0.00</span>     <span class="token number">1.00</span>       <span class="token number">0.0000</span>    <span class="token number">0.0000</span>
   <span class="token number">1000.00</span>      <span class="token number">1501.38</span>      <span class="token number">0.00</span>     <span class="token number">1.00</span>       <span class="token number">0.0000</span>    <span class="token number">0.0000</span>
   <span class="token number">1200.00</span>      <span class="token number">1500.14</span>      <span class="token number">0.00</span>     <span class="token number">1.00</span>       <span class="token number">0.0000</span>    <span class="token number">0.0000</span>
   <span class="token number">1400.00</span>      <span class="token number">1500.12</span>      <span class="token number">0.00</span>     <span class="token number">1.00</span>       <span class="token number">0.0000</span>    <span class="token number">0.0000</span>
   <span class="token number">1600.00</span>      <span class="token number">1501.02</span>      <span class="token number">0.00</span>     <span class="token number">1.00</span>       <span class="token number">0.0000</span>    <span class="token number">0.0000</span>
   <span class="token number">1800.00</span>      <span class="token number">1502.57</span>      <span class="token number">0.00</span>     <span class="token number">1.00</span>       <span class="token number">0.0000</span>    <span class="token number">0.0000</span>
   <span class="token number">2000.00</span>      <span class="token number">1504.62</span>      <span class="token number">0.00</span>     <span class="token number">1.00</span>       <span class="token number">0.0000</span>    <span class="token number">0.0000</span>
   <span class="token number">2200.00</span>      <span class="token number">1507.02</span>      <span class="token number">0.00</span>     <span class="token number">1.00</span>       <span class="token number">0.0000</span>    <span class="token number">0.0000</span>
   <span class="token number">2400.00</span>      <span class="token number">1509.69</span>      <span class="token number">0.00</span>     <span class="token number">1.00</span>       <span class="token number">0.0000</span>    <span class="token number">0.0000</span>
   <span class="token number">2600.00</span>      <span class="token number">1512.55</span>      <span class="token number">0.00</span>     <span class="token number">1.00</span>       <span class="token number">0.0000</span>    <span class="token number">0.0000</span>
   <span class="token number">2800.00</span>      <span class="token number">1515.56</span>      <span class="token number">0.00</span>     <span class="token number">1.00</span>       <span class="token number">0.0000</span>    <span class="token number">0.0000</span>
   <span class="token number">3000.00</span>      <span class="token number">1518.67</span>      <span class="token number">0.00</span>     <span class="token number">1.00</span>       <span class="token number">0.0000</span>    <span class="token number">0.0000</span>
   <span class="token number">3200.00</span>      <span class="token number">1521.85</span>      <span class="token number">0.00</span>     <span class="token number">1.00</span>       <span class="token number">0.0000</span>    <span class="token number">0.0000</span>
   <span class="token number">3400.00</span>      <span class="token number">1525.10</span>      <span class="token number">0.00</span>     <span class="token number">1.00</span>       <span class="token number">0.0000</span>    <span class="token number">0.0000</span>
   <span class="token number">3600.00</span>      <span class="token number">1528.38</span>      <span class="token number">0.00</span>     <span class="token number">1.00</span>       <span class="token number">0.0000</span>    <span class="token number">0.0000</span>
   <span class="token number">3800.00</span>      <span class="token number">1531.70</span>      <span class="token number">0.00</span>     <span class="token number">1.00</span>       <span class="token number">0.0000</span>    <span class="token number">0.0000</span>
   <span class="token number">4000.00</span>      <span class="token number">1535.04</span>      <span class="token number">0.00</span>     <span class="token number">1.00</span>       <span class="token number">0.0000</span>    <span class="token number">0.0000</span>
   <span class="token number">4200.00</span>      <span class="token number">1538.39</span>      <span class="token number">0.00</span>     <span class="token number">1.00</span>       <span class="token number">0.0000</span>    <span class="token number">0.0000</span>
   <span class="token number">4400.00</span>      <span class="token number">1541.76</span>      <span class="token number">0.00</span>     <span class="token number">1.00</span>       <span class="token number">0.0000</span>    <span class="token number">0.0000</span>
   <span class="token number">4600.00</span>      <span class="token number">1545.14</span>      <span class="token number">0.00</span>     <span class="token number">1.00</span>       <span class="token number">0.0000</span>    <span class="token number">0.0000</span>
   <span class="token number">4800.00</span>      <span class="token number">1548.52</span>      <span class="token number">0.00</span>     <span class="token number">1.00</span>       <span class="token number">0.0000</span>    <span class="token number">0.0000</span>
   <span class="token number">5000.00</span>      <span class="token number">1551.91</span>      <span class="token number">0.00</span>     <span class="token number">1.00</span>       <span class="token number">0.0000</span>    <span class="token number">0.0000</span>

                                 <span class="token punctuation">(</span> RMS roughness <span class="token operator">=</span>   <span class="token number">0.00</span>     <span class="token punctuation">)</span>
     ACOUSTO<span class="token operator">-</span>ELASTIC half<span class="token operator">-</span>space
   <span class="token number">5000.00</span>      <span class="token number">1600.00</span>      <span class="token number">0.00</span>     <span class="token number">1.00</span>       <span class="token number">0.0000</span>    <span class="token number">0.0000</span>

 __________________________________________________________________________

 Number of Source   depths<span class="token punctuation">,</span> Sz <span class="token operator">=</span>            <span class="token number">2</span>
 Source   depths<span class="token punctuation">,</span> <span class="token function">Sz</span> <span class="token punctuation">(</span>m<span class="token punctuation">)</span>
   <span class="token number">1000.00</span>       <span class="token number">4000.00</span>    


 __________________________________________________________________________

 Number of Receiver depths<span class="token punctuation">,</span> Rz <span class="token operator">=</span>           <span class="token number">51</span>
 Receiver depths<span class="token punctuation">,</span> <span class="token function">Rz</span> <span class="token punctuation">(</span>m<span class="token punctuation">)</span>
   <span class="token number">0.00000</span>       <span class="token number">100.000</span>       <span class="token number">200.000</span>       <span class="token number">300.000</span>       <span class="token number">400.000</span>    
   <span class="token number">500.000</span>       <span class="token number">600.000</span>       <span class="token number">700.000</span>       <span class="token number">800.000</span>       <span class="token number">900.000</span>    
          <span class="token punctuation">...</span> 
   <span class="token number">5000.00</span>    


 __________________________________________________________________________

 Number of Receiver ranges<span class="token punctuation">,</span> Rr <span class="token operator">=</span>         <span class="token number">1001</span>
 Receiver ranges<span class="token punctuation">,</span> <span class="token function">Rr</span> <span class="token punctuation">(</span>km<span class="token punctuation">)</span>
   <span class="token number">0.00000</span>      <span class="token number">0.100000</span>      <span class="token number">0.200000</span>      <span class="token number">0.300000</span>      <span class="token number">0.400000</span>    
  <span class="token number">0.500000</span>      <span class="token number">0.600000</span>      <span class="token number">0.700000</span>      <span class="token number">0.800000</span>      <span class="token number">0.900000</span>    
          <span class="token punctuation">...</span> 
   <span class="token number">100.000</span>    


 Ray trace run
 Geometric hat beams in Cartesian coordinates
 Point <span class="token function">source</span> <span class="token punctuation">(</span>cylindrical coordinates<span class="token punctuation">)</span>
 Rectilinear receiver grid<span class="token operator">:</span> Receivers at <span class="token function">Rr</span><span class="token punctuation">(</span> <span class="token operator">:</span> <span class="token punctuation">)</span> x <span class="token function">Rz</span><span class="token punctuation">(</span> <span class="token operator">:</span> <span class="token punctuation">)</span>
 __________________________________________________________________________

 Number of beams in elevation   <span class="token operator">=</span>           <span class="token number">41</span>
 Beam take<span class="token operator">-</span>off <span class="token function">angles</span> <span class="token punctuation">(</span>degrees<span class="token punctuation">)</span>
  <span class="token operator">-</span><span class="token number">20.0000</span>      <span class="token operator">-</span><span class="token number">19.0000</span>      <span class="token operator">-</span><span class="token number">18.0000</span>      <span class="token operator">-</span><span class="token number">17.0000</span>      <span class="token operator">-</span><span class="token number">16.0000</span>    
  <span class="token operator">-</span><span class="token number">15.0000</span>      <span class="token operator">-</span><span class="token number">14.0000</span>      <span class="token operator">-</span><span class="token number">13.0000</span>      <span class="token operator">-</span><span class="token number">12.0000</span>      <span class="token operator">-</span><span class="token number">11.0000</span>    
          <span class="token punctuation">...</span> 
   <span class="token number">20.0000</span>    

 __________________________________________________________________________


 Step length<span class="token punctuation">,</span>       deltas <span class="token operator">=</span>   <span class="token number">0.000</span>     m

 Maximum ray depth<span class="token punctuation">,</span> Box<span class="token comment">%z  =   5500.     m</span>
 Maximum ray range<span class="token punctuation">,</span> Box<span class="token comment">%r  =   101.0    km</span>
 No beam shift in effect


 Step length<span class="token punctuation">,</span>       deltas <span class="token operator">=</span>   <span class="token number">500.0</span>     <span class="token function">m</span> <span class="token punctuation">(</span>automatically selected<span class="token punctuation">)</span>

Tracing beam       <span class="token number">1</span>    <span class="token operator">-</span><span class="token number">20.00</span>
Tracing beam       <span class="token number">2</span>    <span class="token operator">-</span><span class="token number">19.00</span>
Tracing beam       <span class="token number">3</span>    <span class="token operator">-</span><span class="token number">18.00</span>
Tracing beam       <span class="token number">4</span>    <span class="token operator">-</span><span class="token number">17.00</span>
Tracing beam       <span class="token number">5</span>    <span class="token operator">-</span><span class="token number">16.00</span>
Tracing beam       <span class="token number">6</span>    <span class="token operator">-</span><span class="token number">15.00</span>
Tracing beam       <span class="token number">7</span>    <span class="token operator">-</span><span class="token number">14.00</span>
Tracing beam       <span class="token number">8</span>    <span class="token operator">-</span><span class="token number">13.00</span>
Tracing beam       <span class="token number">9</span>    <span class="token operator">-</span><span class="token number">12.00</span>
Tracing beam      <span class="token number">10</span>    <span class="token operator">-</span><span class="token number">11.00</span>
Tracing beam      <span class="token number">11</span>    <span class="token operator">-</span><span class="token number">10.00</span>
Tracing beam      <span class="token number">12</span>     <span class="token operator">-</span><span class="token number">9.00</span>
Tracing beam      <span class="token number">13</span>     <span class="token operator">-</span><span class="token number">8.00</span>
Tracing beam      <span class="token number">14</span>     <span class="token operator">-</span><span class="token number">7.00</span>
Tracing beam      <span class="token number">15</span>     <span class="token operator">-</span><span class="token number">6.00</span>
Tracing beam      <span class="token number">16</span>     <span class="token operator">-</span><span class="token number">5.00</span>
Tracing beam      <span class="token number">17</span>     <span class="token operator">-</span><span class="token number">4.00</span>
Tracing beam      <span class="token number">18</span>     <span class="token operator">-</span><span class="token number">3.00</span>
Tracing beam      <span class="token number">19</span>     <span class="token operator">-</span><span class="token number">2.00</span>
Tracing beam      <span class="token number">20</span>     <span class="token operator">-</span><span class="token number">1.00</span>
Tracing beam      <span class="token number">21</span>      <span class="token number">0.00</span>
Tracing beam      <span class="token number">22</span>      <span class="token number">1.00</span>
Tracing beam      <span class="token number">23</span>      <span class="token number">2.00</span>
Tracing beam      <span class="token number">24</span>      <span class="token number">3.00</span>
Tracing beam      <span class="token number">25</span>      <span class="token number">4.00</span>
Tracing beam      <span class="token number">26</span>      <span class="token number">5.00</span>
Tracing beam      <span class="token number">27</span>      <span class="token number">6.00</span>
Tracing beam      <span class="token number">28</span>      <span class="token number">7.00</span>
Tracing beam      <span class="token number">29</span>      <span class="token number">8.00</span>
Tracing beam      <span class="token number">30</span>      <span class="token number">9.00</span>
Tracing beam      <span class="token number">31</span>     <span class="token number">10.00</span>
Tracing beam      <span class="token number">32</span>     <span class="token number">11.00</span>
Tracing beam      <span class="token number">33</span>     <span class="token number">12.00</span>
Tracing beam      <span class="token number">34</span>     <span class="token number">13.00</span>
Tracing beam      <span class="token number">35</span>     <span class="token number">14.00</span>
Tracing beam      <span class="token number">36</span>     <span class="token number">15.00</span>
Tracing beam      <span class="token number">37</span>     <span class="token number">16.00</span>
Tracing beam      <span class="token number">38</span>     <span class="token number">17.00</span>
Tracing beam      <span class="token number">39</span>     <span class="token number">18.00</span>
Tracing beam      <span class="token number">40</span>     <span class="token number">19.00</span>
Tracing beam      <span class="token number">41</span>     <span class="token number">20.00</span>
Tracing beam       <span class="token number">1</span>    <span class="token operator">-</span><span class="token number">20.00</span>
Tracing beam       <span class="token number">2</span>    <span class="token operator">-</span><span class="token number">19.00</span>
Tracing beam       <span class="token number">3</span>    <span class="token operator">-</span><span class="token number">18.00</span>
Tracing beam       <span class="token number">4</span>    <span class="token operator">-</span><span class="token number">17.00</span>
Tracing beam       <span class="token number">5</span>    <span class="token operator">-</span><span class="token number">16.00</span>
Tracing beam       <span class="token number">6</span>    <span class="token operator">-</span><span class="token number">15.00</span>
Tracing beam       <span class="token number">7</span>    <span class="token operator">-</span><span class="token number">14.00</span>
Tracing beam       <span class="token number">8</span>    <span class="token operator">-</span><span class="token number">13.00</span>
Tracing beam       <span class="token number">9</span>    <span class="token operator">-</span><span class="token number">12.00</span>
Tracing beam      <span class="token number">10</span>    <span class="token operator">-</span><span class="token number">11.00</span>
Tracing beam      <span class="token number">11</span>    <span class="token operator">-</span><span class="token number">10.00</span>
Tracing beam      <span class="token number">12</span>     <span class="token operator">-</span><span class="token number">9.00</span>
Tracing beam      <span class="token number">13</span>     <span class="token operator">-</span><span class="token number">8.00</span>
Tracing beam      <span class="token number">14</span>     <span class="token operator">-</span><span class="token number">7.00</span>
Tracing beam      <span class="token number">15</span>     <span class="token operator">-</span><span class="token number">6.00</span>
Tracing beam      <span class="token number">16</span>     <span class="token operator">-</span><span class="token number">5.00</span>
Tracing beam      <span class="token number">17</span>     <span class="token operator">-</span><span class="token number">4.00</span>
Tracing beam      <span class="token number">18</span>     <span class="token operator">-</span><span class="token number">3.00</span>
Tracing beam      <span class="token number">19</span>     <span class="token operator">-</span><span class="token number">2.00</span>
Tracing beam      <span class="token number">20</span>     <span class="token operator">-</span><span class="token number">1.00</span>
Tracing beam      <span class="token number">21</span>      <span class="token number">0.00</span>
Tracing beam      <span class="token number">22</span>      <span class="token number">1.00</span>
Tracing beam      <span class="token number">23</span>      <span class="token number">2.00</span>
Tracing beam      <span class="token number">24</span>      <span class="token number">3.00</span>
Tracing beam      <span class="token number">25</span>      <span class="token number">4.00</span>
Tracing beam      <span class="token number">26</span>      <span class="token number">5.00</span>
Tracing beam      <span class="token number">27</span>      <span class="token number">6.00</span>
Tracing beam      <span class="token number">28</span>      <span class="token number">7.00</span>
Tracing beam      <span class="token number">29</span>      <span class="token number">8.00</span>
Tracing beam      <span class="token number">30</span>      <span class="token number">9.00</span>
Tracing beam      <span class="token number">31</span>     <span class="token number">10.00</span>
Tracing beam      <span class="token number">32</span>     <span class="token number">11.00</span>
Tracing beam      <span class="token number">33</span>     <span class="token number">12.00</span>
Tracing beam      <span class="token number">34</span>     <span class="token number">13.00</span>
Tracing beam      <span class="token number">35</span>     <span class="token number">14.00</span>
Tracing beam      <span class="token number">36</span>     <span class="token number">15.00</span>
Tracing beam      <span class="token number">37</span>     <span class="token number">16.00</span>
Tracing beam      <span class="token number">38</span>     <span class="token number">17.00</span>
Tracing beam      <span class="token number">39</span>     <span class="token number">18.00</span>
Tracing beam      <span class="token number">40</span>     <span class="token number">19.00</span>
Tracing beam      <span class="token number">41</span>     <span class="token number">20.00</span>

 CPU Time <span class="token operator">=</span>       <span class="token number">0.781E-01</span>s

</code></pre> 
<h3><a id="4_677"></a>4、第三步：绘制声线轨迹</h3> 
<p>下一步是应用 MATLAB 命令绘制声线：</p> 
<pre><code class="prism language-matlab"><span class="token function">plotray</span><span class="token punctuation">(</span> <span class="token string">'MunkB_ray'</span> <span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/52/30/EllNeyvm_o.png" alt="在这里插入图片描述"><br> <code>请注意，距离轴单位为米。如果更喜欢千米，那么就简单地设置 MATLAB 全局变量：global units; units = 'km';</code></p> 
<p>依据声线是触碰单侧边界还是触碰两侧边界， 在绘图中使用不同颜色来表达。表面反弹和底端反弹数量均写入声线文件中，<strong>因此方便人们简单地修改 plotray 文件中的着色代码，以便以最好的方式来描述声线传播的物理机理</strong>。<br> <img src="https://images2.imgbox.com/06/0d/px2q3KS4_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_687"></a>六、绘制本征声线</h2> 
<p>BELLHOP 也能生成本征声线绘图，用以展示仅仅只连接声源到接收器的声线。只需将“运行类型（RunType）” 更改为“E”，即可完成此任务。</p> 
<p><font color="red">对于实际的本征声线计算，我们应采用默认波束，它具有由相邻声线形成的声线管所定义的波束宽度，我们称其为几何波束</font>。当采用默认波束类型时，所写入的声线将仅仅只是穿过接收器位置的声线。</p> 
<p><font color="red">通常需要采用更精细的扇面</font>。 比如，在前面的例子中，如果我们设定只计算 41 根声线，那么经过远距离传播后，这些声线就很发散了。当要保存穿过接收器的声线时，这些声线可能基本上都错过了接收器的位置。因此，本例中，我们将声线数设置为 5001。声线数设置得越多，本征声线就计算得越准确。当然，运行时间也相应地递增。</p> 
<p>我们通常只用一个声源和一个接收器来执行本征声线计算。否则，得到的声线图会很凌乱。 输入文件“MunkB_eigenray.env” 经过这些改变后列入下表。</p> 
<h3><a id="1_695"></a>1、环境文件</h3> 
<p><strong>MunkB_eigenray.env</strong></p> 
<pre><code class="prism language-matlab"><span class="token string">'Munk profile'</span>		<span class="token punctuation">!</span> TITLE
<span class="token number">50.0</span>			<span class="token punctuation">!</span> <span class="token function">FREQ</span> <span class="token punctuation">(</span>Hz<span class="token punctuation">)</span>
<span class="token number">1</span>			<span class="token punctuation">!</span> NMEDIA
<span class="token string">'CVF'</span>			<span class="token punctuation">!</span> <span class="token function">SSPOPT</span> <span class="token punctuation">(</span>Analytic or C<span class="token operator">-</span>linear interpolation<span class="token punctuation">)</span>
<span class="token number">51</span>  <span class="token number">0.0</span>  <span class="token number">5000.0</span>		<span class="token punctuation">!</span> DEPTH of <span class="token function">bottom</span> <span class="token punctuation">(</span>m<span class="token punctuation">)</span>
    <span class="token number">0.0</span>  <span class="token number">1548.52</span>  <span class="token operator">/</span>
  <span class="token number">200.0</span>  <span class="token number">1530.29</span>  <span class="token operator">/</span>
  <span class="token number">250.0</span>  <span class="token number">1526.69</span>  <span class="token operator">/</span>
  <span class="token number">400.0</span>  <span class="token number">1517.78</span>  <span class="token operator">/</span>
  <span class="token number">600.0</span>  <span class="token number">1509.49</span>  <span class="token operator">/</span>
  <span class="token number">800.0</span>  <span class="token number">1504.30</span>  <span class="token operator">/</span>
 <span class="token number">1000.0</span>  <span class="token number">1501.38</span>  <span class="token operator">/</span>
 <span class="token number">1200.0</span>  <span class="token number">1500.14</span>  <span class="token operator">/</span>
 <span class="token number">1400.0</span>  <span class="token number">1500.12</span>  <span class="token operator">/</span>
 <span class="token number">1600.0</span>  <span class="token number">1501.02</span>  <span class="token operator">/</span>
 <span class="token number">1800.0</span>  <span class="token number">1502.57</span>  <span class="token operator">/</span>
 <span class="token number">2000.0</span>  <span class="token number">1504.62</span>  <span class="token operator">/</span>
 <span class="token number">2200.0</span>  <span class="token number">1507.02</span>  <span class="token operator">/</span>
 <span class="token number">2400.0</span>  <span class="token number">1509.69</span>  <span class="token operator">/</span>
 <span class="token number">2600.0</span>  <span class="token number">1512.55</span>  <span class="token operator">/</span>
 <span class="token number">2800.0</span>  <span class="token number">1515.56</span>  <span class="token operator">/</span>
 <span class="token number">3000.0</span>  <span class="token number">1518.67</span>  <span class="token operator">/</span>
 <span class="token number">3200.0</span>  <span class="token number">1521.85</span>  <span class="token operator">/</span>
 <span class="token number">3400.0</span>  <span class="token number">1525.10</span>  <span class="token operator">/</span>
 <span class="token number">3600.0</span>  <span class="token number">1528.38</span>  <span class="token operator">/</span>
 <span class="token number">3800.0</span>  <span class="token number">1531.70</span>  <span class="token operator">/</span>
 <span class="token number">4000.0</span>  <span class="token number">1535.04</span>  <span class="token operator">/</span>
 <span class="token number">4200.0</span>  <span class="token number">1538.39</span>  <span class="token operator">/</span>
 <span class="token number">4400.0</span>  <span class="token number">1541.76</span>  <span class="token operator">/</span>
 <span class="token number">4600.0</span>  <span class="token number">1545.14</span>  <span class="token operator">/</span>
 <span class="token number">4800.0</span>  <span class="token number">1548.52</span>  <span class="token operator">/</span>
 <span class="token number">5000.0</span>  <span class="token number">1551.91</span>  <span class="token operator">/</span>
<span class="token string">'A'</span> <span class="token number">0.0</span>
 <span class="token number">5000.0</span>  <span class="token number">1600.00</span> <span class="token number">0.0</span> <span class="token number">1.0</span> <span class="token operator">/</span>
<span class="token number">1</span>				<span class="token punctuation">!</span> NSD
<span class="token number">1000.0</span> <span class="token operator">/</span>			<span class="token punctuation">!</span> <span class="token function">SD</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span>NSD<span class="token punctuation">)</span> <span class="token punctuation">(</span>m<span class="token punctuation">)</span>
<span class="token number">1</span>				<span class="token punctuation">!</span> NRD
<span class="token number">800.0</span> <span class="token operator">/</span>				<span class="token punctuation">!</span> <span class="token function">RD</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span>NRD<span class="token punctuation">)</span> <span class="token punctuation">(</span>m<span class="token punctuation">)</span>
<span class="token number">1</span>				<span class="token punctuation">!</span> NR
<span class="token number">100.0</span> <span class="token operator">/</span>				<span class="token punctuation">!</span> <span class="token function">R</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span>NR <span class="token punctuation">)</span> <span class="token punctuation">(</span>km<span class="token punctuation">)</span>
<span class="token string">'E'</span>	  			<span class="token punctuation">!</span> <span class="token string">'R/C/I/S'</span>
<span class="token number">5001</span>				<span class="token punctuation">!</span> NBeams
<span class="token operator">-</span><span class="token number">25.0</span> <span class="token number">25.0</span> <span class="token operator">/</span>		        <span class="token punctuation">!</span> ALPHA1<span class="token punctuation">,</span><span class="token number">2</span> <span class="token punctuation">(</span>degrees<span class="token punctuation">)</span>
<span class="token number">0.0</span>  <span class="token number">5500.0</span>  <span class="token number">101.0</span>		<span class="token punctuation">!</span> <span class="token function">STEP</span> <span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">ZBOX</span> <span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">RBOX</span> <span class="token punctuation">(</span>km<span class="token punctuation">)</span>
</code></pre> 
<h3><a id="2_744"></a>2、第一步：计算声场并检查输入文件</h3> 
<p>运行 BELLHOP 的 MATLAB 命令是：</p> 
<pre><code class="prism language-matlab"><span class="token function">bellhop</span><span class="token punctuation">(</span> <span class="token string">'MunkB_eigenray'</span> <span class="token punctuation">)</span>
</code></pre> 
<p>此处 “MunkB_eigenray.env” 是输入文件的名称。</p> 
<h3><a id="3_750"></a>3、第二步：绘制本征声线</h3> 
<p>本征声线用 plotray 命令绘制：</p> 
<pre><code class="prism language-matlab">figure
<span class="token function">plotray</span><span class="token punctuation">(</span> <span class="token string">'MunkB_eigenray'</span> <span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/55/3c/OOHEodM4_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_757"></a>总结</h2> 
<p>以上就是全部内容，本文仅仅简单介绍了 bellhop 的简单使用，对绘制声速剖面、声线轨迹和本征声线进行了讲解，后面会继续深入学习研究并分享。</p> 
<hr> 
<p><mark>我的qq：2442391036，欢迎交流！</mark></p> 
<hr>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/677bb4a45f5ba0360045240d33e9a533/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Windows环境下如何用GPT3微调自己的模型</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/025369f2ca277548221a9501be9b9f6e/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">下载idea</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>