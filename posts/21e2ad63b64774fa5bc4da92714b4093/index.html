<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>用原生js手写分页功能 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="用原生js手写分页功能" />
<meta property="og:description" content="分页功能如下：
数据分页显示，每页显示若干条数据，默认当前页码为第一页。例如：每页5条数据，则第一页显示 1-5 条，第二页显示 6-10 条，依此类推。当页码为第一页时，上一页为禁用状态，点击无任何变化。当页码为最后一页时，下一页为禁用状态，点击无任何变化。正确显示当前页数和总页数。 首先，要显示的数据如下：
// 课外书列表 const bookList = [{ &#34;name&#34;: &#34;带你从入门到实战全面掌握 uni-app&#34;, &#34;price&#34;: 8900 }, { &#34;name&#34;: &#34;初中级前端工程师面试宝典&#34;, &#34;price&#34;: 4900 }, { &#34;name&#34;: &#34;微信公众号开发入门&#34;, &#34;price&#34;: 3900 }, { &#34;name&#34;: &#34;从零入门 React 通关指北&#34;, &#34;price&#34;: 8900 }, { &#34;name&#34;: &#34;Flask 框架基础&#34;, &#34;price&#34;: 9800 }, { &#34;name&#34;: &#34;JavaScript 从零构建音乐播放器&#34;, &#34;price&#34;: 8900 }, { &#34;name&#34;: &#34;微信小程序开发入门&#34;, &#34;price&#34;: 1490 }, { &#34;name&#34;: &#34;SpringBoot&#43;Thymeleaf 开发 BBS 论坛&#34;, &#34;price&#34;: 13900 }, { &#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/21e2ad63b64774fa5bc4da92714b4093/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-03-04T19:53:22+08:00" />
<meta property="article:modified_time" content="2023-03-04T19:53:22+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">用原生js手写分页功能</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>分页功能如下：</p> 
<ol><li>数据分页显示，每页显示若干条数据，默认当前页码为第一页。例如：每页5条数据，则第一页显示 1-5 条，第二页显示 6-10 条，依此类推。</li><li>当页码为第一页时，上一页为禁用状态，点击无任何变化。</li><li>当页码为最后一页时，下一页为禁用状态，点击无任何变化。</li><li>正确显示当前页数和总页数。</li></ol> 
<p>首先，要显示的数据如下：</p> 
<pre><code class="prism language-jsx">// 课外书列表
  const bookList = [{
      "name": "带你从入门到实战全面掌握 uni-app",
      "price": 8900
    },
    {
      "name": "初中级前端工程师面试宝典",
      "price": 4900
    },
    {
      "name": "微信公众号开发入门",
      "price": 3900
    },
    {
      "name": "从零入门 React 通关指北",
      "price": 8900
    },
    {
      "name": "Flask 框架基础",
      "price": 9800
    },
    {
      "name": "JavaScript 从零构建音乐播放器",
      "price": 8900
    },
    {
      "name": "微信小程序开发入门",
      "price": 1490
    },
    {
      "name": "SpringBoot+Thymeleaf 开发 BBS 论坛",
      "price": 13900
    },
    {
      "name": "Vue.js 3 + Node.js 实现线上聊天室",
      "price": 8800
    },
    {
      "name": "Express.js 实现前后端分离的博客系统",
      "price": 8900
    },
    {
      "name": "经典项目：前后端分离网盘系统实战",
      "price": 8900
    },
    {
      "name": "21 个实验带你快速开发 Django 博客系统",
      "price":1000
    },
    {
      "name": "React Hook 打造精美在线记账本",
      "price": 8900
    },
    {
      "name":'红楼梦',
      "price": 5900
    },
    {
      "name": "Three.js 在网页中创建 3D 动画",
      "price": 6400
    },
    {
      "name": "Web 前端高级开发技术",
      "price": 16900
    }
  ]
</code></pre> 
<p>html结构如下：</p> 
<pre><code class="prism language-jsx">&lt;body&gt;
  &lt;div id="list"&gt;
    &lt;ul class="list-group"&gt;
      &lt;li&gt;书名：?,一本要10元&lt;/li&gt;
      &lt;li&gt;书名：?,一本要10元&lt;/li&gt;
      &lt;li&gt;书名：?,一本要10元&lt;/li&gt;
      &lt;li&gt;书名：?,一本要10元&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/div&gt;
  &lt;div&gt;
    &lt;button disabled="false" id="prev"&gt;上一页&lt;/button&gt;
    &lt;button id="next"&gt;下一页&lt;/button&gt;
  &lt;/div&gt;
  &lt;p id="pagination"&gt;共?页，当前?页&lt;/p&gt;
&lt;/body&gt;
</code></pre> 
<p>我们可以定义当前页数为pageNum，总页数为maxPage，每页显示的数据为limit条。</p> 
<pre><code class="prism language-jsx">let pageNum = 1; // 当前页数，默认为1
const limit = 5; // 每页显示多少条数据
const maxPage = Math.ceil(bookList.length / limit); // 最大页数
</code></pre> 
<p>当前显示数据索引受pageNum和limit影响。</p> 
<p>如果是第一页，即pageNum为1时，则显示数据所对应的索引为0<sub>4；第二页，pageNum为2时，为5</sub>9；第三页，pageNum为3时，为10~14。</p> 
<p>用变量来表示为：(pageNum-1)<em>limit ~ pageNum</em>limit</p> 
<p>所以，我们书写一个更新页面的函数，并在一开始的时候就调用该函数进行初始化页面。</p> 
<pre><code class="prism language-jsx">// 更新页面数据（n当前页数）
function updataData(n) {
  const listGroup = document.querySelector(".list-group")
  const pagination = document.getElementById("pagination")
  // 清空所有数据
  listGroup.innerHTML = ''
  // 循环遍历每一条数据
  for (let i = (n - 1) * limit; i &lt; n * limit; i++) {
    const obj = bookList[i]
    // 如果有值才添加到元素中。
    // 防止在最后一页时，数据条数小于limit，获取的obj为undefind，出现报错。
    obj &amp;&amp; (listGroup.innerHTML += `&lt;li&gt;书名：《${obj.name}》，价格为${obj.price}元&lt;/li&gt;`)
  }
  // 更新当前页数和总页数
  pagination.innerHTML = `共${maxPage}页，当前${pageNum}页`
}
</code></pre> 
<p>在点击下一页按钮时，需要更新当前页数（pageNum++）和当前页面显示的数据（调用updataData函数），最终还要更新按钮的状态，如果已经到了最后一页，则要将下一页按钮的状态设置为无法选中。</p> 
<pre><code class="prism language-jsx">const prev = document.getElementById("prev");
// 点击下一页
next.onclick = function () {
  // 如果当前页是最后一页了，则不做任何操作
  if (pageNum === maxPage) return
  pageNum++
  updataData(pageNum)
  next.disabled = pageNum &gt;= maxPage ? true : false
};
</code></pre> 
<p>不过这样做有个问题，”上一页”按钮一开始就被设置为disabled，点击下一页，也就是跳转到第2页的时候，此时还是不能点击上一页按钮。</p> 
<p>因此，在点击下一页时，还要根据当前页数，改变上一页按钮的状态，我们可以定义一个函数来实现更新按钮状态。</p> 
<pre><code class="prism language-jsx">// 更新按钮状态
function updateBtnStatu(pageNum) {
  prev.disabled = pageNum &lt;= 1 ? true : false
  next.disabled = pageNum &gt;= maxPage ? true : false
}
const next = document.getElementById("next");
// 点击下一页
next.onclick = function () {
    // 如果当前页是最后一页了，则不做任何操作
    if (pageNum === maxPage) return
    pageNum++
    updataData(pageNum)
    updateBtnStatu(pageNum)
  };
</code></pre> 
<p>点击上一页同理。</p> 
<pre><code class="prism language-jsx">// 更新按钮状态
const prev = document.getElementById("prev");
// 点击上一页
prev.onclick = function () {
  // 如果当前页是第一页，则不做任何操作
  if (pageNum === 1) return
  pageNum--
  updataData(pageNum)
  updateBtnStatu(pageNum)
};
</code></pre> 
<p>源代码如下：</p> 
<pre><code class="prism language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>X-UA-Compatible<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>IE=edge<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">*</span> <span class="token punctuation">{<!-- --></span>
      <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
      <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
      <span class="token property">box-sizing</span><span class="token punctuation">:</span> border-box<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token selector">body</span> <span class="token punctuation">{<!-- --></span>
      <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token selector">li</span> <span class="token punctuation">{<!-- --></span>
      <span class="token property">list-style</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
      <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token selector">#list</span> <span class="token punctuation">{<!-- --></span>
      <span class="token property">width</span><span class="token punctuation">:</span> 450px<span class="token punctuation">;</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span>
      <span class="token property">margin</span><span class="token punctuation">:</span> 30px auto<span class="token punctuation">;</span>
      <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
      <span class="token property">padding</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
      <span class="token property">border</span><span class="token punctuation">:</span> 3px solid skyblue<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>list<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>list-group<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>书名：?,一本要10元<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>书名：?,一本要10元<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>书名：?,一本要10元<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>书名：?,一本要10元<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">disabled</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>false<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>prev<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>上一页<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>next<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>下一页<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>pagination<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>共?页，当前?页<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token comment">// 课外书列表</span>
  <span class="token keyword">const</span> bookList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{<!-- --></span>
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"带你从入门到实战全面掌握 uni-app"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"price"</span><span class="token operator">:</span> <span class="token number">8900</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span>
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"初中级前端工程师面试宝典"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"price"</span><span class="token operator">:</span> <span class="token number">4900</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span>
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"微信公众号开发入门"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"price"</span><span class="token operator">:</span> <span class="token number">3900</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span>
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"从零入门 React 通关指北"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"price"</span><span class="token operator">:</span> <span class="token number">8900</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span>
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"Flask 框架基础"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"price"</span><span class="token operator">:</span> <span class="token number">9800</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span>
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"JavaScript 从零构建音乐播放器"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"price"</span><span class="token operator">:</span> <span class="token number">8900</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span>
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"微信小程序开发入门"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"price"</span><span class="token operator">:</span> <span class="token number">1490</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span>
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"SpringBoot+Thymeleaf 开发 BBS 论坛"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"price"</span><span class="token operator">:</span> <span class="token number">13900</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span>
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"Vue.js 3 + Node.js 实现线上聊天室"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"price"</span><span class="token operator">:</span> <span class="token number">8800</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span>
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"Express.js 实现前后端分离的博客系统"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"price"</span><span class="token operator">:</span> <span class="token number">8900</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span>
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"经典项目：前后端分离网盘系统实战"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"price"</span><span class="token operator">:</span> <span class="token number">8900</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span>
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"21 个实验带你快速开发 Django 博客系统"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"price"</span><span class="token operator">:</span> <span class="token number">1000</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span>
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"React Hook 打造精美在线记账本"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"price"</span><span class="token operator">:</span> <span class="token number">8900</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span>
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">'红楼梦'</span><span class="token punctuation">,</span>
      <span class="token string-property property">"price"</span><span class="token operator">:</span> <span class="token number">5900</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span>
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"Three.js 在网页中创建 3D 动画"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"price"</span><span class="token operator">:</span> <span class="token number">6400</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span>
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"Web 前端高级开发技术"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"price"</span><span class="token operator">:</span> <span class="token number">16900</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
  <span class="token keyword">let</span> pageNum <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 当前页数，默认为1</span>
  <span class="token keyword">const</span> limit <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">// 每页显示多少条数据</span>
  <span class="token keyword">const</span> maxPage <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span>bookList<span class="token punctuation">.</span>length <span class="token operator">/</span> limit<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 最大页数</span>
  <span class="token keyword">const</span> prev <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"prev"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> next <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"next"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 初始化数据</span>
  <span class="token function">updataData</span><span class="token punctuation">(</span>pageNum<span class="token punctuation">)</span>

  <span class="token comment">// 更新页面数据（n当前页数）</span>
  <span class="token keyword">function</span> <span class="token function">updataData</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">const</span> listGroup <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">".list-group"</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> pagination <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"pagination"</span><span class="token punctuation">)</span>
    <span class="token comment">// 清空所有数据</span>
    listGroup<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">''</span>
    <span class="token comment">// 循环遍历每一条数据</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> limit<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n <span class="token operator">*</span> limit<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">const</span> obj <span class="token operator">=</span> bookList<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
      <span class="token comment">// 如果有值才添加到元素中。</span>
      <span class="token comment">// 防止在最后一页时，数据条数小于limit，获取的obj为undefind，出现报错。</span>
      obj <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>listGroup<span class="token punctuation">.</span>innerHTML <span class="token operator">+=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;li&gt;书名：《</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span>obj<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">》，价格为</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span>obj<span class="token punctuation">.</span>price<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">元&lt;/li&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 更新当前页数和总页数</span>
    pagination<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">共</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span>maxPage<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">页，当前</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span>pageNum<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">页</span><span class="token template-punctuation string">`</span></span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 更新按钮状态</span>
  <span class="token keyword">function</span> <span class="token function">updateBtnStatu</span><span class="token punctuation">(</span><span class="token parameter">pageNum</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    prev<span class="token punctuation">.</span>disabled <span class="token operator">=</span> pageNum <span class="token operator">&lt;=</span> <span class="token number">1</span> <span class="token operator">?</span> <span class="token boolean">true</span> <span class="token operator">:</span> <span class="token boolean">false</span>
    next<span class="token punctuation">.</span>disabled <span class="token operator">=</span> pageNum <span class="token operator">&gt;=</span> maxPage <span class="token operator">?</span> <span class="token boolean">true</span> <span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 点击上一页</span>
  prev<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 如果当前页是第一页，则不做任何操作</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>pageNum <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span>
    pageNum<span class="token operator">--</span>
    <span class="token function">updataData</span><span class="token punctuation">(</span>pageNum<span class="token punctuation">)</span>
    <span class="token function">updateBtnStatu</span><span class="token punctuation">(</span>pageNum<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token comment">// 点击下一页</span>
  next<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 如果当前页是最后一页了，则不做任何操作</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>pageNum <span class="token operator">===</span> maxPage<span class="token punctuation">)</span> <span class="token keyword">return</span>
    pageNum<span class="token operator">++</span>
    <span class="token function">updataData</span><span class="token punctuation">(</span>pageNum<span class="token punctuation">)</span>
    <span class="token function">updateBtnStatu</span><span class="token punctuation">(</span>pageNum<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>最终实现的效果如下：<br> <img src="https://images2.imgbox.com/93/5e/iQbjYwpl_o.png" alt="请添加图片描述"></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/65c4e02ec5e79e3178202782c9ed49d8/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">毕设--基于深度学习的人脸识别（详细步骤&#43;代码）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a76a16e495d1e543f3886e3fd22e19f0/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">C语言程序,利用公式 e=1 &#43; 1/1! &#43; 1/2! &#43; 1/3! &#43; ... &#43; 1/n! 求出e的近似值,其中n由用户输入。</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>