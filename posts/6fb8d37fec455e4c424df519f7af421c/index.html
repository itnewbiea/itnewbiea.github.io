<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>SSHå…å¯†å¤±è´¥å¹¶æŠ¥é”™ï¼šno mutual signature algorithm - ITå­¦ä¹ è€…åšå®¢</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="SSHå…å¯†å¤±è´¥å¹¶æŠ¥é”™ï¼šno mutual signature algorithm" />
<meta property="og:description" content="ğŸ¹ ä¸ªäººç®€ä»‹ï¼šå¤§å®¶å¥½ï¼Œæˆ‘æ˜¯ é‡‘é±¼å“¥ï¼ŒCSDNè¿ç»´é¢†åŸŸæ–°æ˜Ÿåˆ›ä½œè€…ï¼Œåä¸ºäº‘Â·äº‘äº«ä¸“å®¶ï¼Œé˜¿é‡Œäº‘ç¤¾åŒºÂ·ä¸“å®¶åšä¸»
ğŸ“šä¸ªäººèµ„è´¨ï¼šCCNAã€HCNPã€CSNAï¼ˆç½‘ç»œåˆ†æå¸ˆï¼‰ï¼Œè½¯è€ƒåˆçº§ã€ä¸­çº§ç½‘ç»œå·¥ç¨‹å¸ˆã€RHCSAã€RHCEã€RHCAã€RHCIã€ITILğŸ˜œ
ğŸ’¬æ ¼è¨€ï¼šåŠªåŠ›ä¸ä¸€å®šæˆåŠŸï¼Œä½†è¦æƒ³æˆåŠŸå°±å¿…é¡»åŠªåŠ›ğŸ”¥
ğŸˆæ”¯æŒæˆ‘ï¼šå¯ç‚¹èµğŸ‘ã€å¯æ”¶è—â­ï¸ã€å¯ç•™è¨€ğŸ“
è¿ç»´è¦æ—¶åˆ»å…³æ³¨æ¼æ´æƒ…å†µå¹¶æ ¹æ®ç°åœ¨çš„ç‰ˆæœ¬è€Œè¿›è¡ŒçŸ¥è¯†çš„æ›´æ–°ï¼Œæœ¬ä¾‹å­å°±æ˜¯2022å¹´9æœˆ8æ—¥å½“å¤©å·¥ä½œæ‰€é‡åˆ°çš„é—®é¢˜ï¼Œç»è¿‡æ’æŸ¥å’Œæµ‹è¯•åï¼Œæœ€ç»ˆæˆåŠŸè§£å†³å¹¶äº†è§£åˆ°æ›´è¿›ä¸€æ­¥çš„è®¾ç½®ã€‚
æ–‡ç« ç›®å½• ğŸ“œå…å¯†ç™»å½•è®¾ç½®å¤±æ•ˆğŸ“œæ’æŸ¥è¿‡ç¨‹ğŸ“œå¤„ç†æ–¹æ³•ğŸ“‘ä¸´æ—¶æ–¹æ³•ğŸ“‘æœ€ä½³æ–¹å¼ ğŸ’¡æ€»ç»“ ğŸ“œå…å¯†ç™»å½•è®¾ç½®å¤±æ•ˆ ä¸€ä¸ªè€è¿ç»´ï¼Œè¦åšå…å¯†ç™»å½•ï¼Œå¦‚æœæ²¡ç‰¹æ®Šéœ€æ±‚ï¼Œå½“ç„¶ä¸€ä¸Šæ¥å°±æ˜¯ç›´æ¥ä¸€æ¡å‘½ä»¤ ssh-keygen å™¼é‡Œå•ªå•¦ï¼Œç„¶åæ‹·è´ç§˜é’¥ ssh-copy-id å°±ç›´æ¥äº†äº‹ï¼Œæ›´ä½•å†µè¦ç®¡æ§ä¸€å°æ–°ä¸‹å‘çš„æœºå™¨ï¼ˆäº‘å¹³å°ï¼Œä½ æ‡‚çš„ï¼‰ï¼Œå½“ç„¶æ˜¯ç›´æ¥è¿è¡Œ ssh-copy-id å°±ç›´æ¥å®Œäº‹ã€‚
è°çŸ¥é“ä¸€ ssh æµ‹è¯•ï¼Œå°±æç¤ºè¦è¾“å…¥å¯†ç ï¼Œå•Šè¿™ï¼Œæ²¡é“ç†å•Šï¼Œå’‹ä¼šç¿»è½¦å‘¢ï¼Ÿ
ğŸ“œæ’æŸ¥è¿‡ç¨‹ è¾“å…¥å¯†ç èƒ½ç™»å½•åˆ°ç³»ç»Ÿï¼Œä¹‹åæŸ¥çœ‹messageså’Œsecureæ—¥å¿—ï¼Œæ­£å¸¸å¾—å¾ˆã€‚
ä¹‹åæŸ¥çœ‹sshdé…ç½®ï¼Œå‘ç°ä¸ä¹‹å‰æœ‰äº›ä¸åŒçš„é…ç½®åœ°æ–¹ï¼Œå¥½åƒHostKeyé‚£é‡Œï¼Œå¤šäº†ed25519è¿™æ ·çš„ä¸œè¥¿ï¼ˆç®—æ³•ç±»å‹ï¼‰å¦‚ï¼š
[root@centos7-3 ~]# vim /etc/ssh/sshd_config #Port 22 #AddressFamily any #ListenAddress 0.0.0.0 #ListenAddress :: # The default requires explicit activation of protocol 1 #Protocol 2 # HostKey for protocol version 1 #HostKey /etc/ssh/ssh_host_key # HostKeys for protocol version 2 HostKey /etc/ssh/ssh_host_rsa_key #HostKey /etc/ssh/ssh_host_dsa_key HostKey /etc/ssh/ssh_host_ecdsa_key HostKey /etc/ssh/ssh_host_ed25519_key # Lifetime and size of ephemeral version 1 server key #KeyRegenerationInterval 1h #ServerKeyBits 1024 ." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/6fb8d37fec455e4c424df519f7af421c/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-09-13T17:31:12+08:00" />
<meta property="article:modified_time" content="2022-09-13T17:31:12+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ITå­¦ä¹ è€…åšå®¢" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ITå­¦ä¹ è€…åšå®¢</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">SSHå…å¯†å¤±è´¥å¹¶æŠ¥é”™ï¼šno mutual signature algorithm</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <blockquote> 
 <p>ğŸ¹ ä¸ªäººç®€ä»‹ï¼šå¤§å®¶å¥½ï¼Œæˆ‘æ˜¯ <strong>é‡‘é±¼å“¥ï¼ŒCSDNè¿ç»´é¢†åŸŸæ–°æ˜Ÿåˆ›ä½œè€…ï¼Œåä¸ºäº‘Â·äº‘äº«ä¸“å®¶ï¼Œé˜¿é‡Œäº‘ç¤¾åŒºÂ·ä¸“å®¶åšä¸»</strong><br> ğŸ“šä¸ªäººèµ„è´¨ï¼š<strong>CCNAã€HCNPã€CSNAï¼ˆç½‘ç»œåˆ†æå¸ˆï¼‰ï¼Œè½¯è€ƒåˆçº§ã€ä¸­çº§ç½‘ç»œå·¥ç¨‹å¸ˆã€RHCSAã€RHCEã€RHCAã€RHCIã€ITIL</strong>ğŸ˜œ<br> ğŸ’¬æ ¼è¨€ï¼šåŠªåŠ›ä¸ä¸€å®šæˆåŠŸï¼Œä½†è¦æƒ³æˆåŠŸå°±å¿…é¡»åŠªåŠ›ğŸ”¥</p> 
 <p>ğŸˆæ”¯æŒæˆ‘ï¼šå¯ç‚¹èµğŸ‘ã€å¯æ”¶è—â­ï¸ã€å¯ç•™è¨€ğŸ“</p> 
</blockquote> 
<hr> 
<blockquote> 
 <p>è¿ç»´è¦æ—¶åˆ»å…³æ³¨æ¼æ´æƒ…å†µå¹¶æ ¹æ®ç°åœ¨çš„ç‰ˆæœ¬è€Œè¿›è¡ŒçŸ¥è¯†çš„æ›´æ–°ï¼Œæœ¬ä¾‹å­å°±æ˜¯<strong>2022å¹´9æœˆ8æ—¥</strong>å½“å¤©å·¥ä½œæ‰€é‡åˆ°çš„é—®é¢˜ï¼Œç»è¿‡æ’æŸ¥å’Œæµ‹è¯•åï¼Œæœ€ç»ˆæˆåŠŸè§£å†³å¹¶äº†è§£åˆ°æ›´è¿›ä¸€æ­¥çš„è®¾ç½®ã€‚</p> 
</blockquote> 
<hr> 
<p></p> 
<div class="toc"> 
 <h4>æ–‡ç« ç›®å½•</h4> 
 <ul><li><ul><li><a href="#_13" rel="nofollow">ğŸ“œå…å¯†ç™»å½•è®¾ç½®å¤±æ•ˆ</a></li><li><a href="#_21" rel="nofollow">ğŸ“œæ’æŸ¥è¿‡ç¨‹</a></li><li><a href="#_213" rel="nofollow">ğŸ“œå¤„ç†æ–¹æ³•</a></li><li><ul><li><a href="#_219" rel="nofollow">ğŸ“‘ä¸´æ—¶æ–¹æ³•</a></li><li><a href="#_236" rel="nofollow">ğŸ“‘æœ€ä½³æ–¹å¼</a></li></ul> 
   </li><li><a href="#_285" rel="nofollow">ğŸ’¡æ€»ç»“</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h3><a id="_13"></a>ğŸ“œå…å¯†ç™»å½•è®¾ç½®å¤±æ•ˆ</h3> 
<p>ä¸€ä¸ªè€è¿ç»´ï¼Œè¦åšå…å¯†ç™»å½•ï¼Œå¦‚æœæ²¡ç‰¹æ®Šéœ€æ±‚ï¼Œå½“ç„¶ä¸€ä¸Šæ¥å°±æ˜¯ç›´æ¥ä¸€æ¡å‘½ä»¤ <code>ssh-keygen</code> å™¼é‡Œå•ªå•¦ï¼Œç„¶åæ‹·è´ç§˜é’¥ <code>ssh-copy-id</code> å°±ç›´æ¥äº†äº‹ï¼Œæ›´ä½•å†µè¦ç®¡æ§ä¸€å°æ–°ä¸‹å‘çš„æœºå™¨ï¼ˆäº‘å¹³å°ï¼Œä½ æ‡‚çš„ï¼‰ï¼Œå½“ç„¶æ˜¯ç›´æ¥è¿è¡Œ <code>ssh-copy-id</code> å°±ç›´æ¥å®Œäº‹ã€‚</p> 
<p>è°çŸ¥é“ä¸€ ssh æµ‹è¯•ï¼Œå°±æç¤ºè¦è¾“å…¥å¯†ç ï¼Œå•Šè¿™ï¼Œæ²¡é“ç†å•Šï¼Œå’‹ä¼šç¿»è½¦å‘¢ï¼Ÿ</p> 
<hr> 
<h3><a id="_21"></a>ğŸ“œæ’æŸ¥è¿‡ç¨‹</h3> 
<p>è¾“å…¥å¯†ç èƒ½ç™»å½•åˆ°ç³»ç»Ÿï¼Œä¹‹åæŸ¥çœ‹messageså’Œsecureæ—¥å¿—ï¼Œæ­£å¸¸å¾—å¾ˆã€‚</p> 
<p><img src="https://images2.imgbox.com/9b/20/mzc1SK56_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>ä¹‹åæŸ¥çœ‹sshdé…ç½®ï¼Œå‘ç°ä¸ä¹‹å‰æœ‰äº›ä¸åŒçš„é…ç½®åœ°æ–¹ï¼Œå¥½åƒHostKeyé‚£é‡Œï¼Œå¤šäº†ed25519è¿™æ ·çš„ä¸œè¥¿ï¼ˆç®—æ³•ç±»å‹ï¼‰å¦‚ï¼š</p> 
<pre><code class="prism language-shell"><span class="token punctuation">[</span>root@centos7-3 ~<span class="token punctuation">]</span><span class="token comment"># vim /etc/ssh/sshd_config</span>
<span class="token comment">#Port 22</span>
<span class="token comment">#AddressFamily any</span>
<span class="token comment">#ListenAddress 0.0.0.0</span>
<span class="token comment">#ListenAddress ::</span>

<span class="token comment"># The default requires explicit activation of protocol 1</span>
<span class="token comment">#Protocol 2</span>

<span class="token comment"># HostKey for protocol version 1</span>
<span class="token comment">#HostKey /etc/ssh/ssh_host_key</span>
<span class="token comment"># HostKeys for protocol version 2</span>
HostKey /etc/ssh/ssh_host_rsa_key
<span class="token comment">#HostKey /etc/ssh/ssh_host_dsa_key</span>
HostKey /etc/ssh/ssh_host_ecdsa_key
HostKey /etc/ssh/ssh_host_ed25519_key

<span class="token comment"># Lifetime and size of ephemeral version 1 server key</span>
<span class="token comment">#KeyRegenerationInterval 1h</span>
<span class="token comment">#ServerKeyBits 1024</span>

<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>
</code></pre> 
<p>ä¹‹åè‚¯å®šè¦ä½¿ç”¨ -vvv æ¥æ¼”ç¤ºæ›´è¯¦ç»†çš„ä¿¡æ¯è¿›è¡Œè¿›ä¸€æ­¥æ’æŸ¥ï¼š</p> 
<pre><code class="prism language-shell"><span class="token comment"># ssh  -vvv root@172.16.103.129</span>
OpenSSH_8.9p1, OpenSSL <span class="token number">1.1</span>.1n  <span class="token number">15</span> Mar <span class="token number">2022</span>
debug1: Reading configuration data /etc/ssh/ssh_config
debug2: resolve_canonicalize: <span class="token function">hostname</span> <span class="token number">172.16</span>.103.129 is address
debug3: expanded UserKnownHostsFile <span class="token string">'~/.ssh/known_hosts'</span> -<span class="token operator">&gt;</span> <span class="token string">'/root/.ssh/known_hosts'</span>
debug3: expanded UserKnownHostsFile <span class="token string">'~/.ssh/known_hosts2'</span> -<span class="token operator">&gt;</span> <span class="token string">'/root/.ssh/known_hosts2'</span>
debug1: Authenticator provider <span class="token variable">$SSH_SK_PROVIDER</span> did not resolve<span class="token punctuation">;</span> disabling
debug3: ssh_connect_direct: entering
debug1: Connecting to <span class="token number">172.16</span>.103.129 <span class="token punctuation">[</span><span class="token number">172.16</span>.103.129<span class="token punctuation">]</span> port <span class="token number">22</span>.
debug3: set_sock_tos: <span class="token builtin class-name">set</span> socket <span class="token number">3</span> IP_TOS 0x48
debug1: Connection established.
debug1: identity <span class="token function">file</span> /root/.ssh/id_rsa <span class="token builtin class-name">type</span> <span class="token number">0</span>
debug1: identity <span class="token function">file</span> /root/.ssh/id_rsa-cert <span class="token builtin class-name">type</span> -1
debug1: identity <span class="token function">file</span> /root/.ssh/id_ecdsa <span class="token builtin class-name">type</span> -1
debug1: identity <span class="token function">file</span> /root/.ssh/id_ecdsa-cert <span class="token builtin class-name">type</span> -1
debug1: identity <span class="token function">file</span> /root/.ssh/id_ecdsa_sk <span class="token builtin class-name">type</span> -1
debug1: identity <span class="token function">file</span> /root/.ssh/id_ecdsa_sk-cert <span class="token builtin class-name">type</span> -1
debug1: identity <span class="token function">file</span> /root/.ssh/id_ed25519 <span class="token builtin class-name">type</span> -1
debug1: identity <span class="token function">file</span> /root/.ssh/id_ed25519-cert <span class="token builtin class-name">type</span> -1
debug1: identity <span class="token function">file</span> /root/.ssh/id_ed25519_sk <span class="token builtin class-name">type</span> -1
debug1: identity <span class="token function">file</span> /root/.ssh/id_ed25519_sk-cert <span class="token builtin class-name">type</span> -1
debug1: identity <span class="token function">file</span> /root/.ssh/id_xmss <span class="token builtin class-name">type</span> -1
debug1: identity <span class="token function">file</span> /root/.ssh/id_xmss-cert <span class="token builtin class-name">type</span> -1
debug1: identity <span class="token function">file</span> /root/.ssh/id_dsa <span class="token builtin class-name">type</span> -1
debug1: identity <span class="token function">file</span> /root/.ssh/id_dsa-cert <span class="token builtin class-name">type</span> -1
debug1: Local version string SSH-2.0-OpenSSH_8.9
debug1: Remote protocol version <span class="token number">2.0</span>, remote software version OpenSSH_6.6.1
debug1: compat_banner: match: OpenSSH_6.6.1 pat OpenSSH_6.6.1* compat 0x04000002
debug2: fd <span class="token number">3</span> setting O_NONBLOCK
debug1: Authenticating to <span class="token number">172.16</span>.103.129:22 as <span class="token string">'root'</span>
debug3: record_hostkey: found key <span class="token builtin class-name">type</span> ED25519 <span class="token keyword">in</span> <span class="token function">file</span> /root/.ssh/known_hosts:10
debug3: load_hostkeys_file: loaded <span class="token number">1</span> keys from <span class="token number">172.16</span>.103.129
debug1: load_hostkeys: fopen /root/.ssh/known_hosts2: No such <span class="token function">file</span> or directory
debug1: load_hostkeys: fopen /etc/ssh/ssh_known_hosts: No such <span class="token function">file</span> or directory
debug1: load_hostkeys: fopen /etc/ssh/ssh_known_hosts2: No such <span class="token function">file</span> or directory
debug3: order_hostkeyalgs: have matching best-preference key <span class="token builtin class-name">type</span> ssh-ed25519-cert-v01@openssh.com, using HostkeyAlgorithms verbatim
debug3: send packet: <span class="token builtin class-name">type</span> <span class="token number">20</span>
debug1: SSH2_MSG_KEXINIT sent
debug3: receive packet: <span class="token builtin class-name">type</span> <span class="token number">20</span>
debug1: SSH2_MSG_KEXINIT received
debug2: <span class="token builtin class-name">local</span> client KEXINIT proposal
debug2: KEX algorithms: curve25519-sha256,curve25519-sha256@libssh.org,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,sntrup761x25519-sha512@openssh.com,diffie-hellman-group-exchange-sha256,diffie-hellman-group16-sha512,diffie-hellman-group18-sha512,diffie-hellman-group14-sha256,ext-info-c
debug2: <span class="token function">host</span> key algorithms: ssh-ed25519-cert-v01@openssh.com,ecdsa-sha2-nistp256-cert-v01@openssh.com,ecdsa-sha2-nistp384-cert-v01@openssh.com,ecdsa-sha2-nistp521-cert-v01@openssh.com,sk-ssh-ed25519-cert-v01@openssh.com,sk-ecdsa-sha2-nistp256-cert-v01@openssh.com,rsa-sha2-512-cert-v01@openssh.com,rsa-sha2-256-cert-v01@openssh.com,ssh-ed25519,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521,sk-ssh-ed25519@openssh.com,sk-ecdsa-sha2-nistp256@openssh.com,rsa-sha2-512,rsa-sha2-256
debug2: ciphers ctos: chacha20-poly1305@openssh.com,aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com
debug2: ciphers stoc: chacha20-poly1305@openssh.com,aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com
debug2: MACs ctos: umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1
debug2: MACs stoc: umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1
debug2: compression ctos: none,zlib@openssh.com,zlib
debug2: compression stoc: none,zlib@openssh.com,zlib
debug2: languages ctos: 
debug2: languages stoc: 
debug2: first_kex_follows <span class="token number">0</span> 
debug2: reserved <span class="token number">0</span> 
debug2: peer server KEXINIT proposal
debug2: KEX algorithms: curve25519-sha256@libssh.org,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1,diffie-hellman-group1-sha1
debug2: <span class="token function">host</span> key algorithms: ssh-rsa,ecdsa-sha2-nistp256,ssh-ed25519
debug2: ciphers ctos: aes128-ctr,aes192-ctr,aes256-ctr,arcfour256,arcfour128,aes128-gcm@openssh.com,aes256-gcm@openssh.com,chacha20-poly1305@openssh.com,aes128-cbc,3des-cbc,blowfish-cbc,cast128-cbc,aes192-cbc,aes256-cbc,arcfour,rijndael-cbc@lysator.liu.se
debug2: ciphers stoc: aes128-ctr,aes192-ctr,aes256-ctr,arcfour256,arcfour128,aes128-gcm@openssh.com,aes256-gcm@openssh.com,chacha20-poly1305@openssh.com,aes128-cbc,3des-cbc,blowfish-cbc,cast128-cbc,aes192-cbc,aes256-cbc,arcfour,rijndael-cbc@lysator.liu.se
debug2: MACs ctos: hmac-md5-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-ripemd160-etm@openssh.com,hmac-sha1-96-etm@openssh.com,hmac-md5-96-etm@openssh.com,hmac-md5,hmac-sha1,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96
debug2: MACs stoc: hmac-md5-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-ripemd160-etm@openssh.com,hmac-sha1-96-etm@openssh.com,hmac-md5-96-etm@openssh.com,hmac-md5,hmac-sha1,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96
debug2: compression ctos: none,zlib@openssh.com
debug2: compression stoc: none,zlib@openssh.com
debug2: languages ctos: 
debug2: languages stoc: 
debug2: first_kex_follows <span class="token number">0</span> 
debug2: reserved <span class="token number">0</span> 
debug1: kex: algorithm: curve25519-sha256@libssh.org
debug1: kex: <span class="token function">host</span> key algorithm: ssh-ed25519
debug1: kex: server-<span class="token operator">&gt;</span>client cipher: chacha20-poly1305@openssh.com MAC: <span class="token operator">&lt;</span>implicit<span class="token operator">&gt;</span> compression: none
debug1: kex: client-<span class="token operator">&gt;</span>server cipher: chacha20-poly1305@openssh.com MAC: <span class="token operator">&lt;</span>implicit<span class="token operator">&gt;</span> compression: none
debug3: send packet: <span class="token builtin class-name">type</span> <span class="token number">30</span>
debug1: expecting SSH2_MSG_KEX_ECDH_REPLY
debug3: receive packet: <span class="token builtin class-name">type</span> <span class="token number">31</span>
debug1: SSH2_MSG_KEX_ECDH_REPLY received
debug1: Server <span class="token function">host</span> key: ssh-ed25519 SHA256:umdF0tnveVEhk5QWECp4Frj8GqPgD1uyjxcmvud8dcg
debug3: record_hostkey: found key <span class="token builtin class-name">type</span> ED25519 <span class="token keyword">in</span> <span class="token function">file</span> /root/.ssh/known_hosts:10
debug3: load_hostkeys_file: loaded <span class="token number">1</span> keys from <span class="token number">172.16</span>.103.129
debug1: load_hostkeys: fopen /root/.ssh/known_hosts2: No such <span class="token function">file</span> or directory
debug1: load_hostkeys: fopen /etc/ssh/ssh_known_hosts: No such <span class="token function">file</span> or directory
debug1: load_hostkeys: fopen /etc/ssh/ssh_known_hosts2: No such <span class="token function">file</span> or directory
debug1: Host <span class="token string">'172.16.103.129'</span> is known and matches the ED25519 <span class="token function">host</span> key.
debug1: Found key <span class="token keyword">in</span> /root/.ssh/known_hosts:10
debug3: send packet: <span class="token builtin class-name">type</span> <span class="token number">21</span>
debug2: ssh_set_newkeys: mode <span class="token number">1</span>
debug1: rekey out after <span class="token number">134217728</span> blocks
debug1: SSH2_MSG_NEWKEYS sent
debug1: expecting SSH2_MSG_NEWKEYS
debug3: receive packet: <span class="token builtin class-name">type</span> <span class="token number">21</span>
debug1: SSH2_MSG_NEWKEYS received
debug2: ssh_set_newkeys: mode <span class="token number">0</span>
debug1: rekey <span class="token keyword">in</span> after <span class="token number">134217728</span> blocks
debug1: Will attempt key: /root/.ssh/id_rsa RSA SHA256:tFjK6AdypgKDhFpeoC9mZmGOui9TLuPIDxPzBBmJt98
debug1: Will attempt key: /root/.ssh/id_ecdsa 
debug1: Will attempt key: /root/.ssh/id_ecdsa_sk 
debug1: Will attempt key: /root/.ssh/id_ed25519 
debug1: Will attempt key: /root/.ssh/id_ed25519_sk 
debug1: Will attempt key: /root/.ssh/id_xmss 
debug1: Will attempt key: /root/.ssh/id_dsa 
debug2: pubkey_prepare: <span class="token keyword">done</span>
debug3: send packet: <span class="token builtin class-name">type</span> <span class="token number">5</span>
debug3: receive packet: <span class="token builtin class-name">type</span> <span class="token number">6</span>
debug2: service_accept: ssh-userauth
debug1: SSH2_MSG_SERVICE_ACCEPT received
debug3: send packet: <span class="token builtin class-name">type</span> <span class="token number">50</span>
debug3: receive packet: <span class="token builtin class-name">type</span> <span class="token number">51</span>
debug1: Authentications that can continue: publickey,gssapi-keyex,gssapi-with-mic,password
debug3: start over, passed a different list publickey,gssapi-keyex,gssapi-with-mic,password
debug3: preferred publickey,keyboard-interactive,password
debug3: authmethod_lookup publickey
debug3: remaining preferred: keyboard-interactive,password
debug3: authmethod_is_enabled publickey
debug1: Next authentication method: publickey
debug1: Offering public key: /root/.ssh/id_rsa RSA SHA256:tFjK6AdypgKDhFpeoC9mZmGOui9TLuPIDxPzBBmJt98
debug1: send_pubkey_test: no mutual signature algorithm
debug1: Trying private key: /root/.ssh/id_ecdsa
debug3: no such identity: /root/.ssh/id_ecdsa: No such <span class="token function">file</span> or directory
debug1: Trying private key: /root/.ssh/id_ecdsa_sk
debug3: no such identity: /root/.ssh/id_ecdsa_sk: No such <span class="token function">file</span> or directory
debug1: Trying private key: /root/.ssh/id_ed25519
debug3: no such identity: /root/.ssh/id_ed25519: No such <span class="token function">file</span> or directory
debug1: Trying private key: /root/.ssh/id_ed25519_sk
debug3: no such identity: /root/.ssh/id_ed25519_sk: No such <span class="token function">file</span> or directory
debug1: Trying private key: /root/.ssh/id_xmss
debug3: no such identity: /root/.ssh/id_xmss: No such <span class="token function">file</span> or directory
debug1: Trying private key: /root/.ssh/id_dsa
debug3: no such identity: /root/.ssh/id_dsa: No such <span class="token function">file</span> or directory
debug2: we did not send a packet, disable method
debug3: authmethod_lookup password
debug3: remaining preferred: ,password
debug3: authmethod_is_enabled password
debug1: Next authentication method: password
root@172.16.103.129's password: 
</code></pre> 
<p>ä¸€çœ‹æœ€åä¸­æ–­çš„è¿‡ç¨‹é‡Œï¼Œæœ‰å…³é”®æç¤ºï¼š<code>debug1: send_pubkey_test: no mutual signature algorithm</code> ï¼Œæç¤ºåå°±å¼€å§‹è¿›è¡Œç›¸å…³å°è¯•ï¼Œåªæ˜¯éƒ½å¤±è´¥äº†ï¼Œå¹¶ <code>we did not send a packet, disable method</code>ã€‚</p> 
<p>é‚£å°±æœ‰äº†æ’é”™çš„åˆæ­¥æŸ¥æ‰¾èµ„æ–™äº†ã€‚</p> 
<p>ç»è¿‡æŸ¥æ‰¾ï¼Œå…¶ä¸­ä¸€ç¯‡æ–‡ç« çš„è¯´æ˜ï¼š<a href="https://confluence.atlassian.com/bitbucketserverkb/ssh-rsa-key-rejected-with-message-no-mutual-signature-algorithm-1026057701.html" rel="nofollow">SSH-RSA key rejected with message "no mutual signature algorithm</a></p> 
<p><img src="https://images2.imgbox.com/cc/a7/ojPeNAHQ_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>æ–‡ä¸­æœ‰ä¸€å¥ï¼šä»»ä½•è¿è¡Œ<a href="https://www.openssh.com/txt/release-8.8" rel="nofollow">OpenSSH 8.8</a> æˆ–æ›´æ–°ç‰ˆæœ¬çš„ç³»ç»Ÿé»˜è®¤ä½¿ç”¨ SHA-1 å“ˆå¸Œç®—æ³•ç¦ç”¨ RSA ç­¾åã€‚</p> 
<p>å› æ­¤ï¼Œä»¥å¾€æˆ‘ä»¬è¿™äº›è€å¸æœºç›´æ¥çš„å™¼é‡Œå•ªå•¦ä¸€æ¡å‘½ä»¤ï¼Œæ­¤æ—¶å·²ç»ä¸å†é€‚ç”¨äº†ï¼Œç®—æ³•å¯¼è‡´æ—§çš„RSAç­¾åæ— æ•ˆã€‚</p> 
<p><img src="https://images2.imgbox.com/3d/60/RxSDFOli_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> <img src="https://images2.imgbox.com/c8/36/7W7xMFFm_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<hr> 
<h3><a id="_213"></a>ğŸ“œå¤„ç†æ–¹æ³•</h3> 
<p>ä¸éš¾çœ‹å‡ºï¼Œè§£å†³æ–¹æ³•å°±æ˜¯ç”Ÿæˆå¯†é’¥å¯¹æ—¶ï¼Œä½¿ç”¨ed25519çš„ç®—æ³•ï¼Œè¿™æ˜¯æœ€ä½³çš„å¤„ç†åŠæ³•ï¼Œéœ€è¦ä¹Ÿæœ‰ä¸´æ—¶çš„å¤„ç½®æ–¹æ³•ï¼Œé‚£å°±æ˜¯åœ¨sshæ—¶æ·»åŠ å¯¹åº”çš„é€‰é¡¹ï¼š<code>-o PubkeyAcceptedKeyTypes=+ssh-rsa</code> ï¼Œæœ‰äº›æ–‡ç« è¿˜å»ºè®®æ·»åŠ é…ç½®åˆ°é…ç½®æ–‡ä»¶ï¼Œä½†å¹¶ä¸å»ºè®®è¿™æ ·åšï¼Œå› ä¸ºæ—¢ç„¶æœ‰æ¼æ´ç›¸å…³ï¼Œé‚£å°±ç”¨ç°åœ¨çš„æ–¹æ³•ã€‚</p> 
<hr> 
<h4><a id="_219"></a>ğŸ“‘ä¸´æ—¶æ–¹æ³•</h4> 
<p>åœ¨sshæ—¶æ·»åŠ å¯¹åº”çš„é€‰é¡¹ï¼š<code>-o PubkeyAcceptedKeyTypes=+ssh-rsa</code></p> 
<p><img src="https://images2.imgbox.com/08/f2/6sBhgVvQ_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>ä¸å»ºè®®çš„å¤„ç½®æ–¹æ³•ï¼Œæ·»åŠ é…ç½®ï¼š</p> 
<pre><code class="prism language-shell"><span class="token comment"># vim /etc/ssh/ssh_config</span>
<span class="token comment"># æ·»åŠ ä»¥ä¸‹å†…å®¹</span>
PubkeyAcceptedKeyTypes +ssh-rsa
</code></pre> 
<hr> 
<h4><a id="_236"></a>ğŸ“‘æœ€ä½³æ–¹å¼</h4> 
<p>ä½¿ç”¨ed25519çš„ç®—æ³•ç”Ÿæˆå¯†é’¥ï¼Œä¹‹åå†ç›´æ¥å¤åˆ¶å¯†é’¥å»å¯¹åº”çš„æœºå™¨ã€‚</p> 
<pre><code class="prism language-shell"><span class="token comment"># ssh-keygen -t ed25519</span>
Generating public/private ed25519 key pair.
Enter <span class="token function">file</span> <span class="token keyword">in</span> <span class="token function">which</span> to save the key <span class="token punctuation">(</span>/root/.ssh/id_ed25519<span class="token punctuation">)</span>: 
Enter passphrase <span class="token punctuation">(</span>empty <span class="token keyword">for</span> no passphrase<span class="token punctuation">)</span>: 
Enter same passphrase again: 
Your identification has been saved <span class="token keyword">in</span> /root/.ssh/id_ed25519.
Your public key has been saved <span class="token keyword">in</span> /root/.ssh/id_ed25519.pub.
The key fingerprint is:
SHA256:m4fsH0mCqg3ovPLwVNQxJHlpmQjMb037iT+Unv0jCQM root@glusternode5
The key<span class="token string">'s randomart image is:
+--[ED25519 256]--+
| o...+++         |
|  o ooBo         |
|   ..=..         |
|   .o E.         |
|   .. .+So.      |
| . . ...B* .     |
|o o .  +==+.     |
|++ +   .=.+..    |
|.== .   .o.o..   |
+----[SHA256]-----+

# ssh-copy-id root@172.16.103.129
/usr/bin/ssh-copy-id: INFO: Source of key(s) to be installed: "/root/.ssh/id_ed25519.pub"
/usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out any that are already installed
/usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted now it is to install the new keys
root@172.16.103.129'</span>s password: 

Number of key<span class="token punctuation">(</span>s<span class="token punctuation">)</span> added: <span class="token number">1</span>

Now try logging into the machine, with:   <span class="token string">"ssh 'root@172.16.103.129'"</span>
and check to <span class="token function">make</span> sure that only the key<span class="token punctuation">(</span>s<span class="token punctuation">)</span> you wanted were added.

</code></pre> 
<p><img src="https://images2.imgbox.com/89/7f/fRhxc4bg_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p><img src="https://images2.imgbox.com/7a/05/iOCe2rMu_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>æœ€åï¼Œå½“ç„¶æ˜¯ç›´æ¥sshè¿‡å»å°±OKäº†ã€‚</p> 
<hr> 
<h3><a id="_285"></a>ğŸ’¡æ€»ç»“</h3> 
<p>æ•…éšœåˆ°æ­¤å·²å¤„ç†å®Œæ¯•ï¼Œåœ¨æŸ¥é˜…èµ„æ–™è¿‡ç¨‹ä¸­ï¼Œå‘ç°æœ‰ä¸€äº›åœºæ™¯æ˜¯è®¾ç½® git ä¸­çš„sshæ‹‰å–è€Œå‡ºç°ç±»ä¼¼çš„æ•…éšœç°è±¡ï¼Œä½†å½’å› éƒ½ä¸€è‡´ï¼Œéƒ½æ˜¯sshdæœåŠ¡çš„ç›¸å…³è®¾ç½®å’Œè¿ç”¨ã€‚</p> 
<p>é‡åˆ°æŠ¥é”™è¦å­¦ä¼šæŸ¥çœ‹æ—¥å¿—ï¼Œåˆ©ç”¨ç›¸å…³å‘½ä»¤å‚æ•°åšdebugï¼ŒæŠ½å–å…³é”®ä¿¡æ¯è¿›è¡Œæœç´¢å’Œæ£€ç´¢ã€‚</p> 
<p>æ‰å®çš„åŸºç¡€æœ‰åˆ©äºæ’é™¤æ•…éšœå¹¶å­¦ä¹ æ›´å¤šçš„çŸ¥è¯†å’ŒæŠ€èƒ½ï¼Œå…±åŒåŠªåŠ›ï¼Œå¥½å¥½åŠ æ²¹ğŸ¤ªã€‚</p> 
<p><img src="https://images2.imgbox.com/0a/b4/QpxmfuHr_o.png" alt=""></p> 
<p>ä»¥ä¸Šå°±æ˜¯ã€é‡‘é±¼å“¥ã€‘å¯¹ <strong>æ­¤æ¬¡SSHå…å¯†æ“ä½œæ‰€é‡æ•…éšœ</strong> çš„ç®€è¿°å’Œè®²è§£ã€‚å¸Œæœ›èƒ½å¯¹çœ‹åˆ°æ­¤æ–‡ç« çš„å°ä¼™ä¼´æœ‰æ‰€å¸®åŠ©ã€‚</p> 
<blockquote> 
 <p>ğŸ’¾<strong>æ—¥å¸¸æ•…éšœ</strong>ä¸“æ ç³»åˆ—ï¼š<a href="https://blog.csdn.net/qq_41765918/category_11630822.html">é‡‘é±¼å“¥çš„TroubleShooting</a></p> 
</blockquote> 
<p>å¦‚æœè¿™ç¯‡ã€æ–‡ç« ã€‘æœ‰å¸®åŠ©åˆ°ä½ ï¼Œå¸Œæœ›å¯ä»¥ç»™ã€é‡‘é±¼å“¥ã€‘ç‚¹ä¸ªèµğŸ‘ï¼Œåˆ›ä½œä¸æ˜“ï¼Œç›¸æ¯”å®˜æ–¹çš„é™ˆè¿°ï¼Œæˆ‘æ›´å–œæ¬¢ç”¨ã€é€šä¿—æ˜“æ‡‚ã€‘çš„æ–‡ç¬”å»è®²è§£æ¯ä¸€ä¸ªçŸ¥è¯†ç‚¹ã€‚</p> 
<p>å¦‚æœæœ‰å¯¹ã€è¿ç»´æŠ€æœ¯ã€‘æ„Ÿå…´è¶£ï¼Œä¹Ÿæ¬¢è¿å…³æ³¨â¤ï¸â¤ï¸â¤ï¸ ã€é‡‘é±¼å“¥ã€‘â¤ï¸â¤ï¸â¤ï¸ï¼Œæˆ‘å°†ä¼šç»™ä½ å¸¦æ¥å·¨å¤§çš„ã€æ”¶è·ä¸æƒŠå–œã€‘ğŸ’•ğŸ’•ï¼</p> 
<p><img src="https://images2.imgbox.com/60/b1/zZdIbbdf_o.png" alt=""></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/060177c319c9ba504c18d7aec63cebb7/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">Unity project å‘å¸ƒæˆStandalone EXEç‰ˆæœ¬åï¼Œå®ƒçš„Debug infomationåœ¨ä»€ä¹ˆä½ç½®</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/801e9e84642c7c129723f77c5f08b485/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">forEachã€mapå’Œfilterçš„åŒºåˆ«</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ITå­¦ä¹ è€…åšå®¢.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>