<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Ubuntu18.04成功安装QT5.15的避坑步骤 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Ubuntu18.04成功安装QT5.15的避坑步骤" />
<meta property="og:description" content="Ubuntu18.04安装QT5.15的避坑步骤 前言一、安装Ubuntu18.04系统二、安装编译工具链三、安装开发包——Linux/X11平台插件所需四、Ubuntu18.04升级GLIBC至2.28五、复制动态库文件libbz2.so.1六、下载运行QT Online Installer总结 前言 QT官网的文档中说明，QT5.15的Linux平台要求是Ubuntu18.04。
作者是第一次在Ubuntu18.04系统下安装QT5.15，安装过程中出现了一些问题。通过在网上查找大量资料，终于安装成功。
现将问题和解决方法记录下来，希望看到此文档的同仁能够轻松避坑。
一、安装Ubuntu18.04系统 QT支持很多体系架构的操作系统，但是同样对于操作系统平台有配置要求。对于Linux操作系统而言，其中一种就是Ubuntu18.04。1
安装Ubuntu18.04很简单。作者参考教科书2中的做法，采用VisualBox作为虚拟机。具体步骤参考另一篇博文。
二、安装编译工具链 适用于 Linux 的 Qt 安装程序假定主机操作系统提供 C&#43;&#43; 编译器、调试器、make 和其他开发工具。此外，构建图形 Qt 应用程序需要安装 OpenGL 库和头文件。大多数 Linux 发行版默认情况下不会安装所有这些，需要配置开发环境。
**失败教训：**作者第一次安装QT的时候就没有注意，导致在运行QT installer的时候报错。 如果参考了官方的文档，其实这一步很简单，只需要使用以下命令：
sudo apt-get update sudo apt-get install build-essential libgl1-mesa-dev sudo apt-get install libopengl0 sudo apt-get install bison sudo apt-get install gawk The Qt installers for Linux assume that a C&#43;&#43; compiler, debugger, make, and other development tools are provided by the host operating system." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/9c524d5446c0b38ed905d18e64e7710b/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-12-14T16:22:33+08:00" />
<meta property="article:modified_time" content="2021-12-14T16:22:33+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Ubuntu18.04成功安装QT5.15的避坑步骤</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>Ubuntu18.04安装QT5.15的避坑步骤</h4> 
 <ul><li><a href="#_7" rel="nofollow">前言</a></li><li><a href="#Ubuntu1804_16" rel="nofollow">一、安装Ubuntu18.04系统</a></li><li><a href="#_24" rel="nofollow">二、安装编译工具链</a></li><li><a href="#LinuxX11_43" rel="nofollow">三、安装开发包——Linux/X11平台插件所需</a></li><li><a href="#Ubuntu1804GLIBC228_77" rel="nofollow">四、Ubuntu18.04升级GLIBC至2.28</a></li><li><a href="#libbz2so1_91" rel="nofollow">五、复制动态库文件libbz2.so.1</a></li><li><a href="#QT_Online_Installer_107" rel="nofollow">六、下载运行QT Online Installer</a></li><li><a href="#_124" rel="nofollow">总结</a></li></ul> 
</div> 
<p></p> 
<hr color="#000000" size='1"'> 
<h2><a id="_7"></a>前言</h2> 
<p><font color="#000000">QT官网的文档中说明，QT5.15的Linux平台要求是Ubuntu18.04。<br> 作者是第一次在Ubuntu18.04系统下安装QT5.15，安装过程中出现了一些问题。通过在网上查找大量资料，终于安装成功。<br> 现将问题和解决方法记录下来，希望看到此文档的同仁能够轻松避坑。<br> </font></p> 
<hr color="#000000" size='1"'> 
<h2><a id="Ubuntu1804_16"></a>一、安装Ubuntu18.04系统</h2> 
<p>QT支持很多体系架构的操作系统，但是同样对于操作系统平台有配置要求。对于Linux操作系统而言，其中一种就是Ubuntu18.04。<sup class="footnote-ref"><a href="#fn1" rel="nofollow" id="fnref1">1</a></sup></p> 
<p><img src="https://images2.imgbox.com/bd/2a/v9JeL29v_o.png" alt="Qt for Linux/X11 支持的配置"></p> 
<p>安装Ubuntu18.04很简单。作者参考教科书<sup class="footnote-ref"><a href="#fn2" rel="nofollow" id="fnref2">2</a></sup>中的做法，采用VisualBox作为虚拟机。具体步骤参考另一篇博文。</p> 
<h2><a id="_24"></a>二、安装编译工具链</h2> 
<p>适用于 Linux 的 Qt 安装程序假定主机操作系统提供 C++ 编译器、调试器、make 和其他开发工具。此外，构建图形 Qt 应用程序需要安装 OpenGL 库和头文件。大多数 Linux 发行版默认情况下不会安装所有这些，需要配置开发环境。</p> 
<hr color="#000000" size='1"'> **失败教训：**作者第一次安装QT的时候就没有注意，导致在运行QT installer的时候报错。 
<hr color="#000000" size='1"'> 
<p>如果参考了官方的文档，其实这一步很简单，只需要使用以下命令：</p> 
<pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">apt-get</span> update
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> build-essential libgl1-mesa-dev
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> libopengl0
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> bison
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> <span class="token function">gawk</span>
</code></pre> 
<blockquote> 
 <p>The Qt installers for Linux assume that a C++ compiler, debugger, make, and other development tools are provided by the host operating system. In addition, building graphical Qt applications requires OpenGL libraries and headers installed. Most Linux distributions do not install all of these by default, but setting up a development environment is still straightforward.<sup class="footnote-ref"><a href="#fn1" rel="nofollow" id="fnref1:1">1</a></sup></p> 
</blockquote> 
<h2><a id="LinuxX11_43"></a>三、安装开发包——Linux/X11平台插件所需</h2> 
<p>在 Linux 上，使用xcb QPA（Qt Platform Abstraction）平台插件。它提供了Qt GUI和Qt Widgets在 X11 上运行所需的基本功能。其库依赖项如下表所述。要从其源代码构建 Qt，您还需要为您的系统安装这些库的开发包。<sup class="footnote-ref"><a href="#fn3" rel="nofollow" id="fnref3">3</a></sup></p> 
<hr color="#000000" size='1"'> **小贴士：**作者编写了一个简单的Shell脚本一次性安装如下开发包。 
<hr color="#000000" size='1"'> 
<p><font color="#999AAA">插件开发包如下：</font><br> libfontconfig1-dev<br> libfreetype6-dev<br> libx11-dev<br> libx11-xcb-dev<br> libxext-dev<br> libxfixes-dev<br> libxi-dev<br> libxrender-dev<br> libxcb1-dev<br> libxcb-glx0-dev<br> libxcb-keysyms1-dev<br> libxcb-image0-dev<br> libxcb-shm0-dev<br> libxcb-icccm4-dev<br> libxcb-sync0-dev<br> libxcb-xfixes0-dev<br> libxcb-shape0-dev<br> libxcb-randr0-dev<br> libxcb-render-util0-dev<br> libxcd-xinerama-dev<br> libxkbcommon-dev<br> libxkbcommon-x11-dev</p> 
<h2><a id="Ubuntu1804GLIBC228_77"></a>四、Ubuntu18.04升级GLIBC至2.28</h2> 
<hr color="#000000" size='1"'> **第一次安装QT失败：**作者第一次安装完成QT之后，运行./qtcreator的时候报错。错误提示需要GLIBC_2.28，但是Ubuntu18.04自带的版本是GLIB_C2.27。 
<pre><code class="prism language-bash">./qtcreator: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.28' not found <span class="token punctuation">(</span>required by /home/exynos4412/Qt/Tools/QtCreator/bin/<span class="token punctuation">..</span>/lib/Qt/lib/libQt6Core.so.6<span class="token punctuation">)</span>
</code></pre> 
<hr color="#000000" size='1"'> 
<p>升级GLIBC一定不能在当前系统中直接升级，会导致系统崩溃，就连安全模式都无法进入。<br> 完美升级GLIBC的方法步骤，可按照作者的另一篇博文<a href="https://blog.csdn.net/weixin_42408707/article/details/121915205">Ubuntu18.04完美升级GLIBC</a>，绝对成功<sup class="footnote-ref"><a href="#fn4" rel="nofollow" id="fnref4">4</a></sup>。都是作者的血泪史！</p> 
<h2><a id="libbz2so1_91"></a>五、复制动态库文件libbz2.so.1</h2> 
<hr color="#000000" size='1"'> **第二次安装QT失败：**作者第二次安装QT，当运行./qt-unified-linux-x64-4.2.0-online.run的时候报错。缺少动态依赖库文件libbz2.so.1。 
<pre><code class="prism language-bash">./qt-unified-linux-x64-4.2.0-online.run 
./qt-unified-linux-x64-4.2.0-online.run: error <span class="token keyword">while</span> loading shared libraries: libbz2.so.1: cannot <span class="token function">open</span> shared object file: No such <span class="token function">file</span> or directory
</code></pre> 
<p><a href="https://blog.csdn.net/weixin_42408707/article/details/121920629">按照作者另一篇博文的方法，问题得到解决。</a><sup class="footnote-ref"><a href="#fn5" rel="nofollow" id="fnref5">5</a></sup></p> 
<h2><a id="QT_Online_Installer_107"></a>六、下载运行QT Online Installer</h2> 
<p>以上前期准备工作完成之后，安装QT就非常顺利，水到渠成。</p> 
<ol><li>登录www.qt.io，注册QT账号并登录。</li><li>在<a href="https://www.qt.io/download" rel="nofollow">下载页面</a>选择“Go Open Source”，然后下载“the QT Online Installer”。</li><li>按照安装向导的步骤，完成QT的安装。</li><li>配置环境变量。在~/.bashrc文件的最后一行添加：</li></ol> 
<pre><code class="prism language-bash"><span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token environment constant">$PATH</span>:~/Qt/Tools/QtCreator/bin
</code></pre> 
<ol start="6"><li>运行qtcreator。</li></ol> 
<p>终于成功了！谢天谢地，功夫不负有心人！</p> 
<h2><a id="_124"></a>总结</h2> 
<p>碰到了问题不要着急，先仔细阅读错误提示，然后在网上找相近的解决方案，创造性地解决自己的问题。</p> 
<hr class="footnotes-sep"> 
<section class="footnotes"> 
 <ol class="footnotes-list"><li id="fn1" class="footnote-item"><p><a href="https://doc.qt.io/qt-5/linux.html" rel="nofollow">Qt for Linux/X11 支持的配置 </a> <a href="#fnref1" rel="nofollow" class="footnote-backref">↩︎</a> <a href="#fnref1:1" rel="nofollow" class="footnote-backref">↩︎</a></p> </li><li id="fn2" class="footnote-item"><p>沙洋.嵌入式系统与QT程序开发，北京：机械工业出版社，2016. <a href="#fnref2" rel="nofollow" class="footnote-backref">↩︎</a></p> </li><li id="fn3" class="footnote-item"><p><a href="https://doc.qt.io/qt-5/linux-requirements.html" rel="nofollow">Linux/X11平台插件所需开发包</a> <a href="#fnref3" rel="nofollow" class="footnote-backref">↩︎</a></p> </li><li id="fn4" class="footnote-item"><p><a href="https://blog.csdn.net/weixin_42408707/article/details/121915205">【亲测成功】Ubuntu18.04升级GLIBC2.27——解决报错：ibc.so.6: version `GLIBC_2.28‘ not found</a> <a href="#fnref4" rel="nofollow" class="footnote-backref">↩︎</a></p> </li><li id="fn5" class="footnote-item"><p><a href="https://blog.csdn.net/weixin_42408707/article/details/121920629">解决问题： libbz2.so.1: cannot open shared object file: No such file or directory</a> <a href="#fnref5" rel="nofollow" class="footnote-backref">↩︎</a></p> </li></ol> 
</section>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/1f2f3cf601787633e0bf44af0f889b5c/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Oracle体系结构篇之数据文件</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/d5be7d419fb177d91c3cc90ef15a0106/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【性能优化实战】宝宝知道小程序FMP优化实录，ffmpeg音视频开发实战6</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>