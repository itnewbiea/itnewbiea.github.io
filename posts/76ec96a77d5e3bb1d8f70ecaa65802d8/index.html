<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>嵌入式开发基础01：Ubuntu系统下简单C程序的编译和运行 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="嵌入式开发基础01：Ubuntu系统下简单C程序的编译和运行" />
<meta property="og:description" content="概述：本文主要讲解Ubuntu系统下，运用vim、gcc、makefile工具编译、运行简单的C程序（输出“hello ,world”）及
返回两整型参数的求和）。
一、开发工具 1、 开发工具简介 （1）vim文本编辑器 vim拥有各种各样的文本间移动/跳转的命令和其他的普通模式的编辑命令，并且能够灵活组合使用，比那些没有模式的编辑器更加高效的进行文本编辑。同时VIM与很多快捷键设置和正则表达式类似,可以辅助记忆。
Vim具有三种模式：命令模式、插入模式、低行模式。运用vim命令直接打开文件默认是在命令模式下。
命令模式：不能直接编辑文本，输入的字母会被当作命令执行。
插入模式：在命令模式下输入字母i可切换到插入模式，在当前光标前输入，插入模式下按Esc可以返回命令模式。
低行模式：在此模式下可进行保存、字符替换等操作，低行模式命令以回车结束，或者以Esc返回命令模式。
vim编辑器进入指令
vim 文件名（带后缀）
编辑器打开文件在低行模式下
q!&#43;回车 不保存退出
wq&#43;回车 保存退出
命令模式下光标移动：
h 左移
l 右移
k 上移
j 下移
H 当前屏幕第一行
M 当前屏幕中间
L 当前屏幕最后一行
插入文本或行：
a 在当前光标位置的右边添加文本
i 在当前光标位置的左边添加文本
A 在当前行的末尾位置添加文本
I 在当前行的开始处添加文本(非空字符的行首)
O 在当前行的上面新建一行
o 在当前行的下面新建一行
R 替换(覆盖)当前光标位置及后面的若干文本\nJ 合并光标所在行及下一行为一行(依然在命令模式)
（2）gcc编译器 GCC即GUN Compiler Collection，是由GUN开发的编程语言编译器经拓展后，由只能处理C语言拓展为能够支持C&#43;&#43;、java、Go以及各类处理器架构上的汇编语言等。现已被大多数类Unix操作系统（如Linux、BSD、MacOS X等）采纳为标准的编译器
在本文中，使用gcc编译C程序操作如下：
在hello.c文件保存后，在文件目录下打开命令窗口，输入命令：
gcc hello.c -o hello可以将hello.c文件编译链接为可执行文件hello.
然后通过命令./hello来运行可执行文件。（如果不指定文件名，如hello,gcc将生成名为a.out的文件，.out文件是用以区分编译后的文件，Linux下的可执行文件并没有标准的后缀，一般可执行文件没有后缀名。）
2、开发工具安装 在命令行中，执行以下命令完成开发工具的安装
sudo apt-get install vim sudo apt-get install gcc 二、运行hello world程序 1、建立文件 使用vim建立一个新文件的命令格式为“vim 文件名”。使用命令建立一个hello." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/76ec96a77d5e3bb1d8f70ecaa65802d8/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-09-14T21:43:34+08:00" />
<meta property="article:modified_time" content="2023-09-14T21:43:34+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">嵌入式开发基础01：Ubuntu系统下简单C程序的编译和运行</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>概述：本文主要讲解Ubuntu系统下，运用vim、gcc、makefile工具编译、运行简单的C程序（输出“hello ,world”）及<br> 返回两整型参数的求和）。</p> 
<h3><a id="_2"></a>一、开发工具</h3> 
<h4><a id="1__3"></a>1、 开发工具简介</h4> 
<h5><a id="1vim_4"></a>（1）vim文本编辑器</h5> 
<p>vim拥有各种各样的文本间移动/跳转的命令和其他的普通模式的编辑命令，并且能够灵活组合使用，比那些没有模式的编辑器更加高效的进行文本编辑。同时VIM与很多快捷键设置和正则表达式类似,可以辅助记忆。</p> 
<p>Vim具有三种模式：命令模式、插入模式、低行模式。运用vim命令直接打开文件默认是在命令模式下。<br> 命令模式：不能直接编辑文本，输入的字母会被当作命令执行。</p> 
<p>插入模式：在命令模式下输入字母i可切换到插入模式，在当前光标前输入，插入模式下按Esc可以返回命令模式。</p> 
<p>低行模式：在此模式下可进行保存、字符替换等操作，低行模式命令以回车结束，或者以Esc返回命令模式。</p> 
<p>vim编辑器进入指令</p> 
<blockquote> 
 <p>vim 文件名（带后缀）</p> 
</blockquote> 
<p>编辑器打开文件在低行模式下</p> 
<blockquote> 
 <p>q!+回车 不保存退出<br> wq+回车 保存退出</p> 
</blockquote> 
<p>命令模式下光标移动：</p> 
<blockquote> 
 <p>h 左移<br> l 右移<br> k 上移<br> j 下移<br> H 当前屏幕第一行<br> M 当前屏幕中间<br> L 当前屏幕最后一行</p> 
</blockquote> 
<p>插入文本或行：</p> 
<blockquote> 
 <p>a 在当前光标位置的右边添加文本<br> i 在当前光标位置的左边添加文本<br> A 在当前行的末尾位置添加文本<br> I 在当前行的开始处添加文本(非空字符的行首)<br> O 在当前行的上面新建一行<br> o 在当前行的下面新建一行<br> R 替换(覆盖)当前光标位置及后面的若干文本\nJ 合并光标所在行及下一行为一行(依然在命令模式)</p> 
</blockquote> 
<h5><a id="2gcc_42"></a>（2）gcc编译器</h5> 
<p>GCC即GUN Compiler Collection，是由GUN开发的编程语言编译器经拓展后，由只能处理C语言拓展为能够支持C++、java、Go以及各类处理器架构上的汇编语言等。现已被大多数类Unix操作系统（如Linux、BSD、MacOS X等）采纳为标准的编译器</p> 
<p>在本文中，使用gcc编译C程序操作如下：</p> 
<p>在hello.c文件保存后，在文件目录下打开命令窗口，输入命令：</p> 
<p><mark>gcc hello.c -o hello</mark>可以将hello.c文件编译链接为可执行文件hello.</p> 
<p>然后通过命令./hello来运行可执行文件。（如果不指定文件名，如hello,gcc将生成名为a.out的文件，.out文件是用以区分编译后的文件，Linux下的可执行文件并没有标准的后缀，一般可执行文件没有后缀名。）</p> 
<h4><a id="2_55"></a>2、开发工具安装</h4> 
<p>在命令行中，执行以下命令完成开发工具的安装</p> 
<pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> <span class="token function">vim</span>
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> gcc
</code></pre> 
<h3><a id="hello_world_64"></a>二、运行hello world程序</h3> 
<h4><a id="1_65"></a>1、建立文件</h4> 
<p>使用vim建立一个新文件的命令格式为“vim 文件名”。使用命令建立一个hello.c的C语言源文件，并同时将文件打开,输入i进入插入模式，编写代码。</p> 
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"hello world"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>编辑完成后，按<mark>Esc</mark>进入普通模式后输入 <mark>：wq</mark>保存并退出vim编辑器</p> 
<h4><a id="2_76"></a>2、编译运行</h4> 
<p>输入命令</p> 
<p><mark>gcc hello.c -o hello</mark></p> 
<p>生成可执行的hello文件，输入指令</p> 
<p><mark>./hello</mark></p> 
<p>运行结果如下<br> <img src="https://images2.imgbox.com/10/f1/rexBRc1g_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="UbuntnWindows_89"></a>三、Ubuntn系统与Windows系统下返回两整型参数和</h3> 
<h4><a id="1_91"></a>1、建立文件</h4> 
<p>首先在vim中编写main.c文件（步骤如上），编辑内容如下：</p> 
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token keyword">extern</span> <span class="token keyword">float</span> <span class="token function">x2x</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span><span class="token keyword">int</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">int</span> x<span class="token punctuation">,</span>y<span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"x="</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"y="</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">float</span> sum<span class="token punctuation">;</span>
sum<span class="token operator">=</span><span class="token function">x2x</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"sum=%f\n"</span><span class="token punctuation">,</span>sum<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>

</code></pre> 
<p>编辑sub1.c文件,代码如下:</p> 
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token keyword">float</span> <span class="token function">x2x</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span><span class="token keyword">int</span> y<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">float</span> sum<span class="token punctuation">;</span>
sum<span class="token operator">=</span>x<span class="token operator">+</span>y<span class="token punctuation">;</span>
<span class="token keyword">return</span> sum<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>输入命令<mark>gcc -o main main.c subq.c</mark>与==./main==运行结果如下：<br> <img src="https://images2.imgbox.com/59/7f/9LV2PEnE_o.png" alt="在这里插入图片描述"></p> 
<p>Windows 在dev集成开发环境下编译运行即可</p> 
<h3><a id="UbuntnMakefile_125"></a>四、Ubuntn系统下Makefile的使用</h3> 
<h4><a id="1Makefile_127"></a>1、Makefile简介</h4> 
<p>Makefile是在Linux环境下 C/C++ 程序开发必须要掌握的一个工程管理文件,描述了整个工程的编译和链接等规则。</p> 
<p>以下简单介绍以下Makefile文件的编写规则</p> 
<blockquote> 
 <p>target…：prerequisites…<br> command<br> …</p> 
</blockquote> 
<p>target是一个目标文件，可以是Object File、执行文件或者一个标签（Label）。</p> 
<p>prerequisites是要生成target所需要的文件或是目标。</p> 
<p>command是make需要执行的命令。</p> 
<h4><a id="2Makefile_142"></a>2、Makefile的使用</h4> 
<p>依次输入命令gcc -c main.c与gcc -c sub1.c生成文件main.o和sub1.o.</p> 
<p>然后，输入命令<mark>vim makefile</mark>在vim中编写makefile内容如下（makefile与main.c，sub1.c在同一目录下）<br> <img src="https://images2.imgbox.com/8e/16/ulOPdSrw_o.png" alt="在这里插入图片描述"><br> 输入<mark>make</mark>与==./main==，得到最终结果如下：<br> <img src="https://images2.imgbox.com/0c/d4/UQEBykkZ_o.png" alt="在这里插入图片描述"></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/dbf7e4fca09a57db43556d259c94ac0c/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">使用Jquery实现轮播图</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/8d92f333ca7e5a0259d0142f2c4b5195/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">AWK快速入门教程</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>