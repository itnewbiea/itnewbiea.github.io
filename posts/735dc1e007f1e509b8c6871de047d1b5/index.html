<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>C语言趣味小游戏扫雷（数组，函数） - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="C语言趣味小游戏扫雷（数组，函数）" />
<meta property="og:description" content="扫雷 扫雷游戏相关介绍扫雷游戏实现开始菜单布置棋盘打印棋盘布置雷排查雷 三个文件的所有代码test.cgame.hgame.c 扫雷游戏相关介绍 扫雷这种经典益智小游戏，相信不少人都玩过或听说过，若没听过，也没事下面有扫雷玩法的介绍。
扫雷的规则如下：
盘面上有许多方格，方格中随机分布着一些雷。你的目标是避开雷，打开其他所有格子。一个非雷格中的数字表示其相邻8格中的雷数，你可以利用这个信息推导出安全格和雷的位置。
看完上面的规则介绍，相信你已经对扫雷已经有一定的了解了，那么现在就让我们利用C语言，开发出一款属于我们自己的简易扫雷游戏。
注：游戏里面涉及的知识为函数，数组，循环，分支以及C语言头文件的创建，开发环境为 Visual Studio 2022。
扫雷游戏实现 首先我们先考虑完成扫雷游戏需要那写步骤：
第一步：开始菜单
第二步：布置棋盘
第三步：打印棋盘
第四步：布置雷
第五步：排查雷
注：
这个游戏一共分为三个部分来实现
test.c（写游戏的主函数）
game.c（写游戏中函数的实现等）
game.h（写游戏需要的库函数引用和函数声明等）
开始菜单 最开始，我们肯定是先打印出菜单，然后输入内容，来判断是开始游戏还是退出游戏去执行相应的分支。先输出再判断，C语言中的 do{ } while()语句 正好也是先执行再判断正好满足，接着我们打印菜单，写的过程中我们发现，打印菜单的代码写在主函数中，在阅读程序的时候主函数看上去不会很简洁，这个时候我们选择把打印菜单的语句放到menu()这个函数里。然后用switch语句来执行选择的不同分支，此外选择 0 作为退出游戏是因为在C语言中 0为假 非0为真，到while这里进行判断如果是0就直接退出，若为其他则不会退出 do{ } while()语句。game()这个函数放在game.c中。
void menu() { printf(&#34;**********************\n&#34;); printf(&#34;***** 1:开始游戏 *****\n&#34;); printf(&#34;***** 0:退出游戏 *****\n&#34;); printf(&#34;**********************\n&#34;); } int input = 0; do { menu(); printf(&#34;请选择:&gt; \n&#34;); scanf(&#34;%d&#34;,&amp;input); switch (input) { case 1: game(); break; case 0: printf(&#34;退出游戏\n&#34;); break; default: printf(&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/735dc1e007f1e509b8c6871de047d1b5/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-08-15T21:24:29+08:00" />
<meta property="article:modified_time" content="2023-08-15T21:24:29+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">C语言趣味小游戏扫雷（数组，函数）</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>扫雷</h4> 
 <ul><li><a href="#_1" rel="nofollow">扫雷游戏相关介绍</a></li><li><a href="#_9" rel="nofollow">扫雷游戏实现</a></li><li><ul><li><a href="#_23" rel="nofollow">开始菜单</a></li><li><a href="#_55" rel="nofollow">布置棋盘</a></li><li><a href="#_76" rel="nofollow">打印棋盘</a></li><li><a href="#_105" rel="nofollow">布置雷</a></li><li><a href="#_134" rel="nofollow">排查雷</a></li></ul> 
  </li><li><a href="#_205" rel="nofollow">三个文件的所有代码</a></li><li><ul><li><a href="#testc_206" rel="nofollow">test.c</a></li><li><a href="#gameh_244" rel="nofollow">game.h</a></li><li><a href="#gamec_268" rel="nofollow">game.c</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="_1"></a>扫雷游戏相关介绍</h2> 
<p><img src="https://images2.imgbox.com/e0/62/m0KXYFh8_o.jpg" alt="在这里插入图片描述"></p> 
<p>扫雷这种经典益智小游戏，相信不少人都玩过或听说过，若没听过，也没事下面有扫雷玩法的介绍。<br> 扫雷的规则如下：<br> 盘面上有许多方格，方格中随机分布着一些雷。你的目标是避开雷，打开其他所有格子。一个非雷格中的数字表示其相邻8格中的雷数，你可以利用这个信息推导出安全格和雷的位置。<br> 看完上面的规则介绍，相信你已经对扫雷已经有一定的了解了，那么现在就让我们利用C语言，开发出一款属于我们自己的简易扫雷游戏。<br> 注：游戏里面涉及的知识为函数，数组，循环，分支以及C语言头文件的创建，开发环境为 Visual Studio 2022。</p> 
<h2><a id="_9"></a>扫雷游戏实现</h2> 
<p>首先我们先考虑完成扫雷游戏需要那写步骤：<br> 第一步：开始菜单<br> 第二步：布置棋盘<br> 第三步：打印棋盘<br> 第四步：布置雷<br> 第五步：排查雷<br> 注：<br> 这个游戏一共分为三个部分来实现<br> <img src="https://images2.imgbox.com/41/72/iTzMnPpL_o.jpg" alt="666"></p> 
<p>test.c（写游戏的主函数）<br> game.c（写游戏中函数的实现等）<br> game.h（写游戏需要的库函数引用和函数声明等）</p> 
<h3><a id="_23"></a>开始菜单</h3> 
<p>最开始，我们肯定是先打印出菜单，然后输入内容，来判断是开始游戏还是退出游戏去执行相应的分支。先输出再判断，C语言中的 do{ } while()语句 正好也是先执行再判断正好满足，接着我们打印菜单，写的过程中我们发现，打印菜单的代码写在主函数中，在阅读程序的时候主函数看上去不会很简洁，这个时候我们选择把打印菜单的语句放到menu()这个函数里。然后用switch语句来执行选择的不同分支，此外选择 0 作为退出游戏是因为在C语言中 0为假 非0为真，到while这里进行判断如果是0就直接退出，若为其他则不会退出 do{ } while()语句。game()这个函数放在game.c中。</p> 
<pre><code class="prism language-c"><span class="token keyword">void</span> <span class="token function">menu</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"**********************\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"***** 1:开始游戏 *****\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"***** 0:退出游戏 *****\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"**********************\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
	<span class="token keyword">int</span> input <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">do</span> 
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">menu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"请选择:&gt; \n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>input<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">switch</span> <span class="token punctuation">(</span>input<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
		    <span class="token keyword">case</span> <span class="token number">1</span><span class="token operator">:</span>
				<span class="token function">game</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">break</span><span class="token punctuation">;</span>
			<span class="token keyword">case</span> <span class="token number">0</span><span class="token operator">:</span>
				<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"退出游戏\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">break</span><span class="token punctuation">;</span>
			<span class="token keyword">default</span><span class="token operator">:</span>
				<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"输入错误,重新输入\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span> <span class="token keyword">while</span> <span class="token punctuation">(</span>input<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h3><a id="_55"></a>布置棋盘</h3> 
<p>利用两个for循环把指定的字符存入整个二维数组，第一个for循环是遍历行，第二个for循环是遍历数组的列。就比如这个3行5列的二维数组，我们先是从i=0,j=0;的位置开始向后遍历一直遍历完j=5后，i++ i变成1,然后接着往后面循环，一直到整个二维数组遍历完。还有就是数组初始化的行和列一定要比实际显示出来的内容要多2行2列，因为在排查雷的时候，一个非雷格中的数字要表示其相邻8格中的雷数，若不这样去实现的话会造成数组的越界，出现程序运行错误。<br> <img src="https://images2.imgbox.com/29/85/xOMtZzIw_o.jpg" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-c"><span class="token comment">/*
*   函数功能：将指定的字符存入到二维字符数组
*   输入值：二维字符数组,数组的行，数组的列，存的值
*	 返回值：无
*/</span>
<span class="token keyword">void</span> <span class="token function">InitBoard</span><span class="token punctuation">(</span><span class="token keyword">char</span> Board<span class="token punctuation">[</span>ROWS<span class="token punctuation">]</span><span class="token punctuation">[</span>COLS<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> rows<span class="token punctuation">,</span> <span class="token keyword">int</span> cols<span class="token punctuation">,</span> <span class="token keyword">char</span> set<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> rows<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> cols<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			Board<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> set<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="_76"></a>打印棋盘</h3> 
<p>打印棋盘的原理和上面布置棋盘的原理几乎相同，只是把给数组赋值变为打印数组内容，从数组的1行1列开始一直到9行九列结束，并且在每打印完一行后进行换行。但是为了方便查找，又加了打印每个元素相对应的坐标，首先用一个for循环打印最上面的纵坐标，记得加上空格使数字间隔开来，接着在每一行开始处打印 i的值与空格，做为横坐标。<br> <img src="https://images2.imgbox.com/9e/68/8ZpgQ7tK_o.jpg" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-c"><span class="token comment">/*
*   函数功能：打印二维字符数组的内容到屏幕上
*   输入值：二维字符数组,数组的行，数组的列
*	 返回值：无
*/</span>
<span class="token keyword">void</span> <span class="token function">DisplayBoard</span><span class="token punctuation">(</span><span class="token keyword">char</span> Board<span class="token punctuation">[</span>ROWS<span class="token punctuation">]</span><span class="token punctuation">[</span>COLS<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> row<span class="token punctuation">,</span> <span class="token keyword">int</span> col<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
   <span class="token comment">//打印纵坐标</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> row<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> j<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> row<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//打印横坐标</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span>col<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%c "</span><span class="token punctuation">,</span> Board<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="_105"></a>布置雷</h3> 
<p>布置雷这里我们，需要用到C语言的两个库<br> #include “stdlib.h”<br> #include “time.h”<br> 分别引用 srand()初始化rand函数的种子,rand()返回一个范围在 0 到 RAND_MAX 之间的伪随机数,time()返回一个自 1970-01-01 起到现在时间相距的秒数 这三个函数，此外srand()和time()只需要调用一次所以就被放在game()函数里。</p> 
<pre><code class="prism language-c"><span class="token comment">/*
*   函数功能：将字符'1'存放到随机的二维数组中，一共存放10个
*   输入值：二维字符数组,数组的行，数组的列
*	 返回值：无
*/</span>
<span class="token keyword">void</span> <span class="token function">SetMine</span><span class="token punctuation">(</span><span class="token keyword">char</span> Board<span class="token punctuation">[</span>ROWS<span class="token punctuation">]</span><span class="token punctuation">[</span>COLS<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> row<span class="token punctuation">,</span> <span class="token keyword">int</span> col<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> count <span class="token operator">=</span> MODEL<span class="token punctuation">;</span><span class="token comment">//MOBEL为布置雷的个数，他的声明放在game.h中</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>count<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token punctuation">(</span>row <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//得到10以内的随机数赋值给变量X</span>
		<span class="token keyword">int</span> y <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token punctuation">(</span>col <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">&gt;=</span> <span class="token number">1</span>  <span class="token operator">&amp;&amp;</span> y <span class="token operator">&gt;=</span> <span class="token number">1</span> <span class="token punctuation">)</span><span class="token comment">//保证在扫雷的区域范围内</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>Board<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token char">'0'</span><span class="token punctuation">)</span><span class="token comment">//如果不是雷，就布置一个雷</span>
			<span class="token punctuation">{<!-- --></span>
				Board<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token char">'1'</span><span class="token punctuation">;</span>
				count<span class="token operator">--</span><span class="token punctuation">;</span><span class="token comment">//当count减到0时表示雷已经布置完成退出循环</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="_134"></a>排查雷</h3> 
<p>这部分，我们需要抓住三个点：<br> 1：输入两个值来确定这个扫雷棋盘要扫的雷的位置。<br> 2：如果输入的值不在我们棋盘的范围，就提示错误重新输入防止数组越界。<br> 3：判断是否为雷，如果是雷结束，若不是获取当前输入坐标周围的雷的个数，显示到要排查除雷的信息的数字里。<br> 这个时候我们就可以用到while循环保证一直多次输入，if判断是否超过范围，然后再来一个if来判断输入的坐标在棋盘里面是否为雷，要是为雷退出循环，若不为雷就调用GetMine()函数获取当前输入坐标周围的雷的个数，并且存入到在要排查雷的数组里。<br> 这里面最为特殊的就是整形类型的数字转字符类型的数字,通过加减字符’0’来进行转换。<br> 下图为要显示附近雷的个数的坐标图：<br> <img src="https://images2.imgbox.com/19/4e/Ar1nKaaz_o.jpg" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-c"><span class="token comment">/*
*   函数功能：查找一个非雷格中的数字要表示其相邻8格中的雷数
*   输入值：二维字符数组,数组的行，数组的列
*	 返回值：相邻8格中的雷数
*/</span>
<span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">GetMine</span><span class="token punctuation">(</span><span class="token keyword">char</span> Board<span class="token punctuation">[</span>ROWS<span class="token punctuation">]</span><span class="token punctuation">[</span>COLS<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> <span class="token punctuation">(</span>Board<span class="token punctuation">[</span>x <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>y <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> Board<span class="token punctuation">[</span>x <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">+</span>
		Board<span class="token punctuation">[</span>x <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>y <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> Board<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span>
		Board<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> Board<span class="token punctuation">[</span>x <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>y <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span>
		Board<span class="token punctuation">[</span>x <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">+</span> Board<span class="token punctuation">[</span>x <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>y <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token number">8</span><span class="token operator">*</span><span class="token char">'0'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/*
*   函数功能：排查雷
*   输入值：二维字符数组,二维字符数组，数组的行，数组的列
*	 返回值：无
*/</span>
<span class="token keyword">void</span> <span class="token function">FindMine</span><span class="token punctuation">(</span><span class="token keyword">char</span> Mine<span class="token punctuation">[</span>ROWS<span class="token punctuation">]</span><span class="token punctuation">[</span>COLS<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">char</span> Show<span class="token punctuation">[</span>ROWS<span class="token punctuation">]</span><span class="token punctuation">[</span>COLS<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> row<span class="token punctuation">,</span> <span class="token keyword">int</span> col<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>win<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>win<span class="token operator">&lt;</span><span class="token punctuation">(</span>row<span class="token operator">*</span>col<span class="token operator">-</span>MODEL<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//判断雷是否全部排完</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"请输入坐标:&gt;\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d %d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>x<span class="token punctuation">,</span><span class="token operator">&amp;</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//输入坐标</span>
		<span class="token comment">//保证输入要排查雷的坐标在棋盘的范围内</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>x<span class="token operator">&gt;=</span><span class="token number">1</span><span class="token operator">&amp;&amp;</span>x<span class="token operator">&lt;=</span>row<span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>y<span class="token operator">&gt;=</span><span class="token number">1</span><span class="token operator">&amp;&amp;</span>y<span class="token operator">&lt;=</span>col<span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span> 
		   <span class="token comment">//如果碰到雷</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>Mine<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token char">'1'</span><span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"被炸死了，游戏失败\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token comment">//打印布置好雷的棋盘</span>
				<span class="token function">DisplayBoard</span><span class="token punctuation">(</span>Mine<span class="token punctuation">,</span> ROW<span class="token punctuation">,</span> COL<span class="token punctuation">)</span><span class="token punctuation">;</span>
			  <span class="token comment">//跳出循环</span>
				<span class="token keyword">break</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token comment">//没有碰到雷</span>
			<span class="token keyword">else</span>
			<span class="token punctuation">{<!-- --></span>
			   <span class="token comment">//将GetMine()函数返回的int类型的数字，转换字符型数字</span>
				Show<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token operator">=</span><span class="token function">GetMine</span><span class="token punctuation">(</span>Mine<span class="token punctuation">,</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span><span class="token operator">+</span><span class="token char">'0'</span><span class="token punctuation">;</span>
				<span class="token comment">//打印要排查除雷的信息</span>
				<span class="token function">DisplayBoard</span><span class="token punctuation">(</span>Show<span class="token punctuation">,</span> ROW<span class="token punctuation">,</span> COL<span class="token punctuation">)</span><span class="token punctuation">;</span>
				win<span class="token operator">++</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"输入的坐标非法!,重新输入\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//如果雷全部找完了</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>win <span class="token operator">==</span> <span class="token punctuation">(</span>row <span class="token operator">*</span> col <span class="token operator">-</span> MODEL<span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"恭喜你，排雷成功\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">DisplayBoard</span><span class="token punctuation">(</span>Mine<span class="token punctuation">,</span> ROW<span class="token punctuation">,</span> COL<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="_205"></a>三个文件的所有代码</h2> 
<h3><a id="testc_206"></a>test.c</h3> 
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">_CRT_SECURE_NO_WARNINGS</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"game.h"</span></span>
<span class="token comment">//菜单</span>
<span class="token keyword">void</span> <span class="token function">menu</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"**********************\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"***** 1:开始游戏 *****\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"***** 0:退出游戏 *****\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"**********************\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> input <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">do</span> 
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">menu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"请选择:&gt; \n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>input<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">switch</span> <span class="token punctuation">(</span>input<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
		    <span class="token keyword">case</span> <span class="token number">1</span><span class="token operator">:</span>
				<span class="token function">game</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">break</span><span class="token punctuation">;</span>
			<span class="token keyword">case</span> <span class="token number">0</span><span class="token operator">:</span>
				<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"退出游戏\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">break</span><span class="token punctuation">;</span>
			<span class="token keyword">default</span><span class="token operator">:</span>
				<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"输入错误,重新输入\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span> <span class="token keyword">while</span> <span class="token punctuation">(</span>input<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="gameh_244"></a>game.h</h3> 
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;time.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">ROW</span> <span class="token expression"><span class="token number">9</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">COL</span> <span class="token expression"><span class="token number">9</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">ROWS</span> <span class="token expression">ROW<span class="token operator">+</span><span class="token number">2</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">COLS</span> <span class="token expression">COL<span class="token operator">+</span><span class="token number">2</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">MODEL</span> <span class="token expression"><span class="token number">10</span></span></span>
<span class="token comment">//游戏</span>
<span class="token keyword">void</span> <span class="token function">game</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//初始化棋盘</span>
<span class="token keyword">void</span> <span class="token function">InitBoard</span><span class="token punctuation">(</span><span class="token keyword">char</span> Board<span class="token punctuation">[</span>ROWS<span class="token punctuation">]</span><span class="token punctuation">[</span>COLS<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> rows<span class="token punctuation">,</span> <span class="token keyword">int</span> cols<span class="token punctuation">,</span> <span class="token keyword">char</span> set<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//打印棋盘</span>
<span class="token keyword">void</span> <span class="token function">DisplayBoard</span><span class="token punctuation">(</span><span class="token keyword">char</span> Board<span class="token punctuation">[</span>ROWS<span class="token punctuation">]</span><span class="token punctuation">[</span>COLS<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> row<span class="token punctuation">,</span> <span class="token keyword">int</span> col<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//布置雷</span>
<span class="token keyword">void</span> <span class="token function">SetMine</span><span class="token punctuation">(</span><span class="token keyword">char</span> Board<span class="token punctuation">[</span>ROWS<span class="token punctuation">]</span><span class="token punctuation">[</span>COLS<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">int</span> row<span class="token punctuation">,</span><span class="token keyword">int</span> col<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//排查雷</span>
<span class="token keyword">void</span> <span class="token function">FindMine</span><span class="token punctuation">(</span><span class="token keyword">char</span> Mine<span class="token punctuation">[</span>ROWS<span class="token punctuation">]</span><span class="token punctuation">[</span>COLS<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">char</span> Show<span class="token punctuation">[</span>ROWS<span class="token punctuation">]</span><span class="token punctuation">[</span>COLS<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">int</span> row <span class="token punctuation">,</span><span class="token keyword">int</span> col<span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre> 
<h3><a id="gamec_268"></a>game.c</h3> 
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">_CRT_SECURE_NO_WARNINGS</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"game.h"</span></span>
<span class="token keyword">void</span> <span class="token function">game</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">srand</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">char</span> mine<span class="token punctuation">[</span>ROWS<span class="token punctuation">]</span><span class="token punctuation">[</span>COLS<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//存放布置好的雷</span>
	<span class="token keyword">char</span> show<span class="token punctuation">[</span>ROWS<span class="token punctuation">]</span><span class="token punctuation">[</span>COLS<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//存放要排查除雷的信息</span>
	<span class="token comment">//布置棋盘</span>
	 <span class="token function">InitBoard</span><span class="token punctuation">(</span>mine<span class="token punctuation">,</span> ROWS<span class="token punctuation">,</span> COLS<span class="token punctuation">,</span> <span class="token char">'0'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	 <span class="token function">InitBoard</span><span class="token punctuation">(</span>show<span class="token punctuation">,</span> ROWS<span class="token punctuation">,</span> COLS<span class="token punctuation">,</span> <span class="token char">'*'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//打印棋盘</span>
	 <span class="token function">DisplayBoard</span><span class="token punctuation">(</span>show<span class="token punctuation">,</span> ROW<span class="token punctuation">,</span> COL<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//布置雷</span>
	 <span class="token function">SetMine</span><span class="token punctuation">(</span>mine<span class="token punctuation">,</span> ROW<span class="token punctuation">,</span> COL<span class="token punctuation">)</span><span class="token punctuation">;</span>
	 <span class="token comment">//DisplayBoard(mine, ROW, COL);</span>
	<span class="token comment">//排查雷</span>
	 <span class="token function">FindMine</span><span class="token punctuation">(</span>mine<span class="token punctuation">,</span>show<span class="token punctuation">,</span>ROW<span class="token punctuation">,</span>COL<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">/*
*   函数功能：将指定的字符存入到二维字符数组
*   输入值：二维字符数组,数组的行，数组的列，存的值
*	 返回值：无
*/</span>
<span class="token keyword">void</span> <span class="token function">InitBoard</span><span class="token punctuation">(</span><span class="token keyword">char</span> Board<span class="token punctuation">[</span>ROWS<span class="token punctuation">]</span><span class="token punctuation">[</span>COLS<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> rows<span class="token punctuation">,</span> <span class="token keyword">int</span> cols<span class="token punctuation">,</span> <span class="token keyword">char</span> set<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> rows<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> cols<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			Board<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> set<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">/*
*   函数功能：打印二维字符数组的内容到屏幕上
*   输入值：二维字符数组,数组的行，数组的列
*	 返回值：无
*/</span>
<span class="token keyword">void</span> <span class="token function">DisplayBoard</span><span class="token punctuation">(</span><span class="token keyword">char</span> Board<span class="token punctuation">[</span>ROWS<span class="token punctuation">]</span><span class="token punctuation">[</span>COLS<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> row<span class="token punctuation">,</span> <span class="token keyword">int</span> col<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
   <span class="token comment">//打印纵坐标</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> row<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> j<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> row<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//打印横坐标</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span>col<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%c "</span><span class="token punctuation">,</span> Board<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">/*
*   函数功能：将字符'1'存放到随机的二维数组中，一共存放10个
*   输入值：二维字符数组,数组的行，数组的列
*	 返回值：无
*/</span>
<span class="token keyword">void</span> <span class="token function">SetMine</span><span class="token punctuation">(</span><span class="token keyword">char</span> Board<span class="token punctuation">[</span>ROWS<span class="token punctuation">]</span><span class="token punctuation">[</span>COLS<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> row<span class="token punctuation">,</span> <span class="token keyword">int</span> col<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> count <span class="token operator">=</span> MODEL<span class="token punctuation">;</span><span class="token comment">//MOBEL为布置雷的个数，他的声明放在game.h中</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>count<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token punctuation">(</span>row <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//得到10以内的随机数赋值给变量X</span>
		<span class="token keyword">int</span> y <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token punctuation">(</span>col <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">&gt;=</span> <span class="token number">1</span>  <span class="token operator">&amp;&amp;</span> y <span class="token operator">&gt;=</span> <span class="token number">1</span> <span class="token punctuation">)</span><span class="token comment">//保证在扫雷的区域范围内</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>Board<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token char">'0'</span><span class="token punctuation">)</span><span class="token comment">//如果不是雷，就布置一个雷</span>
			<span class="token punctuation">{<!-- --></span>
				Board<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token char">'1'</span><span class="token punctuation">;</span>
				count<span class="token operator">--</span><span class="token punctuation">;</span><span class="token comment">//当count减到0时表示雷已经布置完成退出循环</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">/*
*   函数功能：查找一个非雷格中的数字要表示其相邻8格中的雷数
*   输入值：二维字符数组,数组的行，数组的列
*	 返回值：相邻8格中的雷数
*/</span>
<span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">GetMine</span><span class="token punctuation">(</span><span class="token keyword">char</span> Board<span class="token punctuation">[</span>ROWS<span class="token punctuation">]</span><span class="token punctuation">[</span>COLS<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> <span class="token punctuation">(</span>Board<span class="token punctuation">[</span>x <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>y <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> Board<span class="token punctuation">[</span>x <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">+</span>
		Board<span class="token punctuation">[</span>x <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>y <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> Board<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span>
		Board<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> Board<span class="token punctuation">[</span>x <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>y <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span>
		Board<span class="token punctuation">[</span>x <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">+</span> Board<span class="token punctuation">[</span>x <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>y <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token number">8</span><span class="token operator">*</span><span class="token char">'0'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/*
*   函数功能：排查雷
*   输入值：二维字符数组,二维字符数组，数组的行，数组的列
*	 返回值：无
*/</span>
<span class="token keyword">void</span> <span class="token function">FindMine</span><span class="token punctuation">(</span><span class="token keyword">char</span> Mine<span class="token punctuation">[</span>ROWS<span class="token punctuation">]</span><span class="token punctuation">[</span>COLS<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">char</span> Show<span class="token punctuation">[</span>ROWS<span class="token punctuation">]</span><span class="token punctuation">[</span>COLS<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> row<span class="token punctuation">,</span> <span class="token keyword">int</span> col<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>win<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>win<span class="token operator">&lt;</span><span class="token punctuation">(</span>row<span class="token operator">*</span>col<span class="token operator">-</span>MODEL<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//判断雷是否全部排完</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"请输入坐标:&gt;\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d %d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>x<span class="token punctuation">,</span><span class="token operator">&amp;</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//输入坐标</span>
		<span class="token comment">//保证输入要排查雷的坐标在棋盘的范围内</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>x<span class="token operator">&gt;=</span><span class="token number">1</span><span class="token operator">&amp;&amp;</span>x<span class="token operator">&lt;=</span>row<span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>y<span class="token operator">&gt;=</span><span class="token number">1</span><span class="token operator">&amp;&amp;</span>y<span class="token operator">&lt;=</span>col<span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span> 
		   <span class="token comment">//如果碰到雷</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>Mine<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token char">'1'</span><span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"被炸死了，游戏失败\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token comment">//打印布置好雷的棋盘</span>
				<span class="token function">DisplayBoard</span><span class="token punctuation">(</span>Mine<span class="token punctuation">,</span> ROW<span class="token punctuation">,</span> COL<span class="token punctuation">)</span><span class="token punctuation">;</span>
			  <span class="token comment">//跳出循环</span>
				<span class="token keyword">break</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token comment">//没有碰到雷</span>
			<span class="token keyword">else</span>
			<span class="token punctuation">{<!-- --></span>
			   <span class="token comment">//将GetMine()函数返回的int类型的数字，转换字符型数字</span>
				Show<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token operator">=</span><span class="token function">GetMine</span><span class="token punctuation">(</span>Mine<span class="token punctuation">,</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span><span class="token operator">+</span><span class="token char">'0'</span><span class="token punctuation">;</span>
				<span class="token comment">//打印要排查除雷的信息</span>
				<span class="token function">DisplayBoard</span><span class="token punctuation">(</span>Show<span class="token punctuation">,</span> ROW<span class="token punctuation">,</span> COL<span class="token punctuation">)</span><span class="token punctuation">;</span>
				win<span class="token operator">++</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"输入的坐标非法!,重新输入\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//如果雷全部找完了</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>win <span class="token operator">==</span> <span class="token punctuation">(</span>row <span class="token operator">*</span> col <span class="token operator">-</span> MODEL<span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"恭喜你，排雷成功\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">DisplayBoard</span><span class="token punctuation">(</span>Mine<span class="token punctuation">,</span> ROW<span class="token punctuation">,</span> COL<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>


</code></pre>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/5daaee21bd0dccdc034e57ffbfe58af8/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Linux程序前台后台切换</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b0a9905e4664f4f3cc093adf75205d13/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">vue vue3中使用高德地图</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>