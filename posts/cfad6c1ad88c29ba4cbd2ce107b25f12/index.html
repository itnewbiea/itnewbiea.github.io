<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>华纳云:MySQL数据库索引原理及优化策略是什么 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="华纳云:MySQL数据库索引原理及优化策略是什么" />
<meta property="og:description" content="这篇文章主要介绍“mysql数据库索引原理及优化策略是什么”的相关知识，小编通过实际案例向大家展示操作过程，操作方法简单快捷，实用性强，希望这篇“MySQL数据库索引原理及优化策略是什么”文章能帮助大家解决问题。
1 索引 索引概念
索引是一种特殊的文件，包含着对数据表里所有记录的引用指针。可以对表中的一列或多列创建索引，并指定索引的类型，各类索引有各自的数据结构实现。
索引作用
数据库中的表、数据、索引之间的关系，类似于书架上的图书、书籍内容和书籍目录的关系，索引所起的作用类似书籍目录，可用于快速定位、检索数据。索引可以极大地提高数据库的性能。
索引的使用场景
要考虑对数据库表的某列或某几列创建索引，需要考虑以下几点：
数据量较大，且经常对这些列进行条件查询。
该数据库表的插入操作，及对这些列的修改操作频率较低。
索引会占用额外的磁盘空间。
2 索引分类 唯一索引的创建
-- 在表定义时，在某列后直接指定unique唯一属性。 create table user4(id int primary key, name varchar(30) unique); -- 创建表时，在表的后面指定某列或某几列为unique create table user5(id int primary key, name varchar(30), unique(name)); -- 创建表以后再添加unique create table user6(id int primary key, name varchar(30)）； alter table user6 add unique(name); 唯一索引的特点：
普通索引的创建
--在表的定义最后，指定某列为索引 create table user8(id int primary key, name varchar(20), email varchar(30), index(name) ); --创建完表以后指定某列为普通索引 create table user9(id int primary key, name varchar(20), email varchar(30)); alter table user9 add index(name); -- 创建一个索引名为 idx_name 的索引 create table user10(id int primary key, name varchar(20), email varchar(30)); create index idx_name on user10(name)； 普通索引的特点：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/cfad6c1ad88c29ba4cbd2ce107b25f12/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-04-27T15:57:09+08:00" />
<meta property="article:modified_time" content="2023-04-27T15:57:09+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">华纳云:MySQL数据库索引原理及优化策略是什么</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>这篇文章主要介绍“mysql数据库索引原理及优化策略是什么”的相关知识，小编通过实际案例向大家展示操作过程，操作方法简单快捷，实用性强，希望这篇“MySQL数据库索引原理及优化策略是什么”文章能帮助大家解决问题。</p> 
<h4>1 索引</h4> 
<p>索引概念</p> 
<p>索引是一种特殊的文件，包含着对数据表里所有记录的引用指针。可以对表中的一列或多列创建索引，并指定索引的类型，各类索引有各自的数据结构实现。</p> 
<p>索引作用</p> 
<p>数据库中的表、数据、索引之间的关系，类似于书架上的图书、书籍内容和书籍目录的关系，索引所起的作用类似书籍目录，可用于快速定位、检索数据。索引可以极大地提高数据库的性能。</p> 
<p>索引的使用场景</p> 
<p>要考虑对数据库表的某列或某几列创建索引，需要考虑以下几点：</p> 
<ul><li> <p>数据量较大，且经常对这些列进行条件查询。</p> </li><li> <p>该数据库表的插入操作，及对这些列的修改操作频率较低。</p> </li><li> <p>索引会占用额外的磁盘空间。</p> </li></ul> 
<h4>2 索引分类</h4> 
<p></p> 
<p>唯一索引的创建</p> 
<pre>-- 在表定义时，在某列后直接指定unique唯一属性。
create table user4(id int primary key, name varchar(30) unique);
-- 创建表时，在表的后面指定某列或某几列为unique
create table user5(id int primary key, name varchar(30), unique(name));
-- 创建表以后再添加unique
create table user6(id int primary key, name varchar(30)）；
alter table user6 add unique(name);</pre> 
<p>唯一索引的特点：</p> 
<p></p> 
<p>普通索引的创建</p> 
<pre>--在表的定义最后，指定某列为索引
create table user8(id int primary key,
name varchar(20),
email varchar(30),
index(name)
);
--创建完表以后指定某列为普通索引
create table user9(id int primary key, name varchar(20), email varchar(30));
alter table user9 add index(name); 
-- 创建一个索引名为 idx_name 的索引
create table user10(id int primary key, name varchar(20), email varchar(30));
create index idx_name on user10(name)；</pre> 
<p>普通索引的特点：</p> 
<p></p> 
<p>查询索引</p> 
<p></p> 
<blockquote> 
 <p>mysql&gt; show keys from goods\G<br> *********** 1. row ***********<br> Table: goods &lt;= 表名<br> Non_unique: 0 &lt;= 0表示唯一索引<br> Key_name: PRIMARY &lt;= 主键索引<br> Seq_in_index: 1<br> Column_name: goods_id &lt;= 索引在哪列<br> Collation: A<br> Cardinality: 0<br> Sub_part: NULL<br> Packed: NULL<br> Null:<br> Index_type: BTREE &lt;= 以二叉树形式的索引<br> Comment:<br> 1 row in set (0.00 sec)</p> 
</blockquote> 
<p></p> 
<p>删除索引</p> 
<p></p> 
<pre>mysql&gt; alter table user10 drop index idx_name;</pre> 
<p></p> 
<pre>mysql&gt; drop index name on user8</pre> 
<p>索引创建原则</p> 
<p></p> 
<p>关于“MySQL数据库索引原理及优化策略是什么”的内容就介绍到这里了，感谢大家的阅读。</p> 
<ul><li> <p>从索引存储结构划分：BTree索引、Hash索引、FULLTEXT全文索引、RTree索引</p> </li><li> <p>从应用层次划分：普通索引，唯一索引，主键索引，复合索引</p> </li><li> <p>从索引键值类型划分，主键索引，辅助索引（二级索引）</p> </li><li> <p>从数据存储和索引键值逻辑关系划分：聚集索引（聚簇索引）非聚集泰引（非聚簇索)</p> </li><li> <p>从索引列数量划分：单列索引，复合索引</p> <p>区别:</p> <p>数据的保存位置不同：B+树保存在叶子节点，B树保存在所有的节点中</p> <p>体现出B+树优势：节点不存储data，这样一个节点就可以存储更多的key。可以使得树更矮，所以IO操作次数更少。 查询性能稳定：每次查询都是从根节点遍历到叶子节点，查询路径长度相同，即每次查询效率相当，时间复杂度固定是O（log（n)）</p> <p>叶子节点的指向：B+树相邻的叶子节点通过指针相连，B树没有</p> <p>体现出B+树优势：所有叶子节点形成有序链表，便于范围查找</p> <h4>3 索引操作</h4> <p>创建主键索引</p> <pre>-- 在创建表的时候，直接在字段名后指定 primary key
create table user1(id int primary key, name varchar(30));
-- 在创建表的最后，指定某列或某几列为主键索引
create table user2(id int, name varchar(30), primary key(id));
-- 创建表以后再添加主键
create table user3(id int, name varchar(30));
alter table user3 add primary key(id);</pre> <p>主键索引的特点：</p> </li><li> <p>一个表中，最多有一个主键索引，当然可以使符合主键</p> </li><li> <p>主键索引的效率高（主键不可重复）</p> </li><li> <p>创建主键索引的列，它的值不能为null，且不能重复</p> </li><li> <p>主键索引的列基本上是int</p> </li><li> <p>一个表中，可以有多个唯一索引</p> </li><li> <p>查询效率高</p> </li><li> <p>如果在某一列建立唯一索引，必须保证这列不能有重复数据</p> </li><li> <p>如果一个唯一索引上指定not null，等价于主键索引</p> </li><li> <p>一个表中可以有多个普通索引，普通索引在实际开发中用的比较多</p> </li><li> <p>如果某列需要创建索引，但是该列有重复的值，那么我们就应该使用普通索引</p> </li><li> <p>show keys from 表名</p> </li><li> <p>show index from 表名;</p> </li><li> <p>desc 表名</p> </li><li> <p>删除主键索引： alter table 表名 drop primary key;</p> </li><li> <p>其他索引的删除： alter table 表名 drop index 索引名； 索引名就是show keys from 表名中的Key_name 字段</p> </li><li> <p>drop index 索引名 on 表名</p> </li><li> <p>比较频繁作为查询条件的字段应该创建索引</p> </li><li> <p>唯一性太差的字段不适合单独创建索引，即使频繁作为查询条件</p> </li><li> <p>更新非常频繁的字段不适合作创建索引</p> </li><li> <p>不会出现在where子句中的字段不该创建索引</p> </li></ul>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/7dcec1c5b984fff3d24ba4ce52ddde8e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">JavaScript题解2652.倍数求和|容斥原理</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/bbabadbf16f224b19289648301122551/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">ROS2开发|将Pointcloud2数据</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>