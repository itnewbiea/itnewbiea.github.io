<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【JS案例】分页器——使用原生JavaScript实现 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【JS案例】分页器——使用原生JavaScript实现" />
<meta property="og:description" content="在使用vue编写完一个分页器组件后，我对分页器的底层逻辑产生了兴趣，想在此组件的基础上再深入了解一些分页器的底层逻辑，了解vue与原生js的区别。我在github上看了一些大神写的分页器，属实牛逼，之后自己也根据他们的编写逻辑，反复推敲了个七八遍，也算是对分页器的逻辑掌握的差不多了，以下则是小编对原生js编写的一些体会。
首先我们需要明白在编写js时，我们需要在页面中创建哪些标签？标签应该赋予什么属性？分页器需要哪些数据？需要哪些函数？函数需要传哪些参数？总之，需要考虑的问题非常多，从构建到渲染再到功能实现都需要亲力亲为的。
页面构建思路：
所有按钮用a标签表示，全部放在一个div盒子中
点击切换的按钮有正常使用的属性值（prevPage和nextPage）和禁用属性值（disabled）
数值页面按钮有选中时的属性值（current）和未选中的属性值
创建出来的html和css代码如下：
html代码：
&lt;div class=&#34;page&#34;&gt;&lt;/div&gt; css代码：
a { text-decoration: none; } .page { display: table; margin: 100px auto; } .page a { cursor: default; display: inline-block; color: #00C9A6; background-color: #D9F7F2; height: 25px; font-size: 10pt; line-height: 25px; padding: 0 9px; border: 1px solid #D9F7F2; margin: 0 2px; border-radius: 4px; vertical-align: middle; } .page a:not(.disabled):not(.current):hover { border: 1px solid #00C9A6; cursor: pointer; } .page a.current { display: inline-block; font-size: 10pt; height: 25px; line-height: 25px; padding: 0 9px; margin: 0 2px; color: #fff; background-color: #00C9A6; border: 1px solid #00C9A6; border-radius: 4px; vertical-align: middle; } ." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/1978bf9256052a2a09f3aa5bbbb54ac4/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-07-19T15:05:43+08:00" />
<meta property="article:modified_time" content="2022-07-19T15:05:43+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【JS案例】分页器——使用原生JavaScript实现</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>   在使用vue编写完一个分页器组件后，我对分页器的底层逻辑产生了兴趣，想在此组件的基础上再深入了解一些分页器的底层逻辑，了解vue与原生js的区别。我在github上看了一些大神写的分页器，属实牛逼，之后自己也根据他们的编写逻辑，反复推敲了个七八遍，也算是对分页器的逻辑掌握的差不多了，以下则是小编对原生js编写的一些体会。<br>    首先我们需要明白在编写js时，我们需要在页面中创建哪些标签？标签应该赋予什么属性？分页器需要哪些数据？需要哪些函数？函数需要传哪些参数？总之，需要考虑的问题非常多，从构建到渲染再到功能实现都需要亲力亲为的。</p> 
<p><strong>页面构建思路：</strong><br>    所有按钮用a标签表示，全部放在一个div盒子中<br>    点击切换的按钮有正常使用的属性值（prevPage和nextPage）和禁用属性值（disabled）<br>    数值页面按钮有选中时的属性值（current）和未选中的属性值</p> 
<p>创建出来的html和css代码如下：<br> html代码：</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>page<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>css代码：</p> 
<pre><code class="prism language-css">        <span class="token selector">a</span> <span class="token punctuation">{<!-- --></span>
            <span class="token property">text-decoration</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token selector">.page</span> <span class="token punctuation">{<!-- --></span>
            <span class="token property">display</span><span class="token punctuation">:</span> table<span class="token punctuation">;</span>
            <span class="token property">margin</span><span class="token punctuation">:</span> 100px auto<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token selector">.page a</span> <span class="token punctuation">{<!-- --></span>
            <span class="token property">cursor</span><span class="token punctuation">:</span> default<span class="token punctuation">;</span>
            <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>
            <span class="token property">color</span><span class="token punctuation">:</span> #00C9A6<span class="token punctuation">;</span>
            <span class="token property">background-color</span><span class="token punctuation">:</span> #D9F7F2<span class="token punctuation">;</span>
            <span class="token property">height</span><span class="token punctuation">:</span> 25px<span class="token punctuation">;</span>
            <span class="token property">font-size</span><span class="token punctuation">:</span> 10pt<span class="token punctuation">;</span>
            <span class="token property">line-height</span><span class="token punctuation">:</span> 25px<span class="token punctuation">;</span>
            <span class="token property">padding</span><span class="token punctuation">:</span> 0 9px<span class="token punctuation">;</span>
            <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #D9F7F2<span class="token punctuation">;</span>
            <span class="token property">margin</span><span class="token punctuation">:</span> 0 2px<span class="token punctuation">;</span>
            <span class="token property">border-radius</span><span class="token punctuation">:</span> 4px<span class="token punctuation">;</span>
            <span class="token property">vertical-align</span><span class="token punctuation">:</span> middle<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token selector">.page a:not(.disabled):not(.current):hover</span> <span class="token punctuation">{<!-- --></span>
            <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #00C9A6<span class="token punctuation">;</span>
            <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token selector">.page a.current</span> <span class="token punctuation">{<!-- --></span>
            <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>
            <span class="token property">font-size</span><span class="token punctuation">:</span> 10pt<span class="token punctuation">;</span>
            <span class="token property">height</span><span class="token punctuation">:</span> 25px<span class="token punctuation">;</span>
            <span class="token property">line-height</span><span class="token punctuation">:</span> 25px<span class="token punctuation">;</span>
            <span class="token property">padding</span><span class="token punctuation">:</span> 0 9px<span class="token punctuation">;</span>
            <span class="token property">margin</span><span class="token punctuation">:</span> 0 2px<span class="token punctuation">;</span>
            <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
            <span class="token property">background-color</span><span class="token punctuation">:</span> #00C9A6<span class="token punctuation">;</span>
            <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #00C9A6<span class="token punctuation">;</span>
            <span class="token property">border-radius</span><span class="token punctuation">:</span> 4px<span class="token punctuation">;</span>
            <span class="token property">vertical-align</span><span class="token punctuation">:</span> middle<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token selector">.page a.disabled</span> <span class="token punctuation">{<!-- --></span>
            <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>
            <span class="token property">font-size</span><span class="token punctuation">:</span> 10pt<span class="token punctuation">;</span>
            <span class="token property">height</span><span class="token punctuation">:</span> 25px<span class="token punctuation">;</span>
            <span class="token property">line-height</span><span class="token punctuation">:</span> 25px<span class="token punctuation">;</span>
            <span class="token property">padding</span><span class="token punctuation">:</span> 0 9px<span class="token punctuation">;</span>
            <span class="token property">margin</span><span class="token punctuation">:</span> 0 2px<span class="token punctuation">;</span>
            <span class="token property">color</span><span class="token punctuation">:</span> #ddd<span class="token punctuation">;</span>
            <span class="token property">background</span><span class="token punctuation">:</span> #D9F7F2<span class="token punctuation">;</span>
            <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #D9F7F2<span class="token punctuation">;</span>
            <span class="token property">border-radius</span><span class="token punctuation">:</span> 4px<span class="token punctuation">;</span>
            <span class="token property">vertical-align</span><span class="token punctuation">:</span> middle<span class="token punctuation">;</span>
            <span class="token property">cursor</span><span class="token punctuation">:</span> no-drop<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
</code></pre> 
<p><strong>功能实现思路：</strong><br>    创建一个分页器函数（Pagination），在它的原型链上编写分页器的功能函数，这样写的好处是可以让所有的对象都能共享原型上的方法，<strong>通过构造函数生成的实例所拥有的方法都指向一个函数的索引，节省内存</strong>。<br>    创建分页器所需要的数据，并存放在一个对象上（pages）。<br>       <strong>pageCount：页面总数</strong><br>       <strong>size：单页面数据量</strong><br>       <strong>pageNo：当前页</strong><br>       <strong>total：总数据量</strong><br>    创建函数：<br>       初始化数据的方法（init）：参数（pages）<br>          功能：将要使用的数据在init中初始化，并调用renderPage传入pages对象完成构建分页器<br>       构建页面的方法（renderPage）：参数（pages对象）<br>          功能：构建分页器按钮，并调用switchPage实现切换功能<br>       切换页面的方法（switchPage）：无参数<br>          功能：实现点击切换功能，调用gotoPage函数实现数值按钮的点击切换效果<br>       跳转页面的方法（gotoPage）：参数（current）<br>          功能：根据传入的current值跳转到对应的页面</p> 
<p>创建出来的js代码如下：</p> 
<pre><code class="prism language-javascript"><span class="token keyword">function</span> <span class="token function">Pagination</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">Pagination</span><span class="token punctuation">.</span>prototype<span class="token operator">=</span><span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">pages</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
                <span class="token literal-property property">pageCount</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token comment">//页面总数</span>
                <span class="token literal-property property">size</span><span class="token operator">:</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token comment">//单页面数据量</span>
                <span class="token literal-property property">pageNo</span><span class="token operator">:</span><span class="token number">1</span><span class="token comment">//当前页</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token comment">//初始化页面数据,参数:obj</span>
            <span class="token function-variable function">init</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                <span class="token keyword">var</span> pages<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>pages
                pages<span class="token punctuation">.</span>total<span class="token operator">=</span>obj<span class="token punctuation">.</span>total<span class="token comment">//总数据量</span>
                obj<span class="token punctuation">.</span>pageCount<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>total<span class="token operator">/</span>obj<span class="token punctuation">.</span>size<span class="token punctuation">)</span><span class="token comment">//总页码数</span>
                pages<span class="token punctuation">.</span>container<span class="token operator">=</span>obj<span class="token punctuation">.</span>container<span class="token comment">//外部容器</span>
                pages<span class="token punctuation">.</span>pageNo<span class="token operator">=</span>obj<span class="token punctuation">.</span>pageNo<span class="token comment">//当前页</span>
                pages<span class="token punctuation">.</span>pageCount<span class="token operator">=</span>obj<span class="token punctuation">.</span>pageCount<span class="token comment">//总页码数</span>
                pages<span class="token punctuation">.</span>eleHtml<span class="token operator">=</span>obj<span class="token punctuation">.</span>eleHtml<span class="token comment">//标签内部值</span>
                pages<span class="token punctuation">.</span>prevPage<span class="token operator">=</span>obj<span class="token punctuation">.</span>prevPage <span class="token operator">||</span> <span class="token string">'prevPage'</span><span class="token comment">//上一页按钮</span>
                pages<span class="token punctuation">.</span>nextPage<span class="token operator">=</span>obj<span class="token punctuation">.</span>nextPage <span class="token operator">||</span> <span class="token string">'nextPage'</span><span class="token comment">//下一页按钮</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">renderPage</span><span class="token punctuation">(</span>pages<span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token comment">//构建页面,参数:args</span>
            <span class="token function">renderPage</span><span class="token punctuation">(</span><span class="token parameter">args</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                <span class="token keyword">var</span> pageContainer<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">selectEle</span><span class="token punctuation">(</span>args<span class="token punctuation">.</span>container<span class="token punctuation">)</span>
                <span class="token keyword">var</span> pageStr<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">,</span>start<span class="token punctuation">,</span>end
                <span class="token comment">//构建左侧点击按钮</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>args<span class="token punctuation">.</span>pageNo<span class="token operator">&gt;</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                    pageStr<span class="token operator">=</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;a class="prevPage"&gt;上一页&lt;/a&gt;</span><span class="token template-punctuation string">`</span></span>
                <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
                    pageStr<span class="token operator">=</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;a class="disabled"&gt;上一页&lt;/a&gt;</span><span class="token template-punctuation string">`</span></span>
                <span class="token punctuation">}</span>
                <span class="token comment">//构建中间页面按钮区域</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>args<span class="token punctuation">.</span>pageCount<span class="token operator">&lt;</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token comment">//当总页码数小于6时</span>
                    <span class="token keyword">for</span><span class="token punctuation">(</span>start<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>start<span class="token operator">&lt;</span>args<span class="token punctuation">.</span>pageCount<span class="token punctuation">;</span>start<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                        end<span class="token operator">=</span>start<span class="token operator">+</span><span class="token number">1</span>
                        <span class="token keyword">if</span><span class="token punctuation">(</span>end<span class="token operator">==</span>args<span class="token punctuation">.</span>pageNo<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                            pageStr<span class="token operator">+=</span><span class="token string">'&lt;a class="current"&gt;'</span><span class="token operator">+</span>end<span class="token operator">+</span><span class="token string">'&lt;/a&gt;'</span>
                        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
                            pageStr<span class="token operator">+=</span><span class="token string">'&lt;a&gt;'</span><span class="token operator">+</span>end<span class="token operator">+</span><span class="token string">'&lt;/a&gt;'</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{<!-- --></span><span class="token comment">//当总页码大于等于6时</span>
                    start<span class="token operator">=</span>args<span class="token punctuation">.</span>pageNo<span class="token operator">-</span><span class="token number">1</span><span class="token comment">//确认遍历的起始位置为当前页的前一页</span>
                    end<span class="token operator">=</span>args<span class="token punctuation">.</span>pageNo<span class="token operator">+</span><span class="token number">1</span><span class="token comment">//确认遍历的结束位置为当前页的后一页</span>
                    <span class="token keyword">if</span><span class="token punctuation">(</span>args<span class="token punctuation">.</span>pageNo<span class="token operator">&gt;</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>pageStr<span class="token operator">+=</span><span class="token string">'&lt;a&gt;'</span><span class="token operator">+</span><span class="token number">1</span><span class="token operator">+</span><span class="token string">'&lt;/a&gt;'</span><span class="token punctuation">}</span><span class="token comment">//当前页大于2时，将页面1按钮写死</span>
                    <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>end <span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">}</span><span class="token comment">//当前页小于等于2时，将遍历的结束位置写死为4</span>
                    <span class="token keyword">if</span><span class="token punctuation">(</span>args<span class="token punctuation">.</span>pageNo<span class="token operator">&gt;</span>args<span class="token punctuation">.</span>pageCount<span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>start<span class="token operator">=</span>args<span class="token punctuation">.</span>pageCount<span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token comment">//当前页为最后四个页面时，将遍历的起始位置写死为倒数第四个页面值</span>
                    <span class="token keyword">if</span><span class="token punctuation">(</span>args<span class="token punctuation">.</span>pageNo<span class="token operator">&gt;</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>pageStr<span class="token operator">+=</span><span class="token string">'&lt;a&gt;...&lt;/a&gt;'</span><span class="token punctuation">}</span><span class="token comment">//当前页大于第三个页面时，将省略号按钮展现出来</span>
                    <span class="token comment">//对中间按钮进行遍历</span>
                    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token punctuation">;</span>start<span class="token operator">&lt;=</span>end<span class="token punctuation">;</span>start<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                        <span class="token keyword">if</span><span class="token punctuation">(</span>start<span class="token operator">&lt;=</span>args<span class="token punctuation">.</span>pageCount <span class="token operator">&amp;&amp;</span> start<span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                            <span class="token keyword">if</span><span class="token punctuation">(</span>start<span class="token operator">==</span>args<span class="token punctuation">.</span>pageNo<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                                pageStr<span class="token operator">+=</span><span class="token string">'&lt;a class="current"&gt;'</span><span class="token operator">+</span>start<span class="token operator">+</span><span class="token string">'&lt;/a&gt;'</span>
                            <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
                                pageStr<span class="token operator">+=</span><span class="token string">'&lt;a&gt;'</span><span class="token operator">+</span>start<span class="token operator">+</span><span class="token string">'&lt;/a&gt;'</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span>
                    <span class="token keyword">if</span><span class="token punctuation">(</span>args<span class="token punctuation">.</span>pageNo<span class="token operator">&lt;</span>args<span class="token punctuation">.</span>pageCount<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>pageStr <span class="token operator">+=</span> <span class="token string">'&lt;a&gt;...&lt;/a&gt;'</span><span class="token punctuation">}</span><span class="token comment">//当前页面小于倒数第三个页面时，将省略号按钮展现出来</span>
                    <span class="token keyword">if</span><span class="token punctuation">(</span>args<span class="token punctuation">.</span>pageNo<span class="token operator">&lt;</span>args<span class="token punctuation">.</span>pageCount<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>pageStr<span class="token operator">+=</span><span class="token string">'&lt;a&gt;'</span><span class="token operator">+</span>args<span class="token punctuation">.</span>pageCount<span class="token operator">+</span><span class="token string">'&lt;/a&gt;'</span><span class="token punctuation">}</span><span class="token comment">//当前页面小于倒数第二个页面，将最后的页面按钮锁死</span>
                <span class="token punctuation">}</span>
                <span class="token comment">//构建右侧按钮</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>args<span class="token punctuation">.</span>pageNo<span class="token operator">&lt;</span>args<span class="token punctuation">.</span>pageCount<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                    pageStr<span class="token operator">+=</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;a class="nextPage"&gt;下一页&lt;/a&gt;</span><span class="token template-punctuation string">`</span></span>
                <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
                    pageStr<span class="token operator">+=</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;a class="disabled"&gt;下一页&lt;/a&gt;</span><span class="token template-punctuation string">`</span></span>
                <span class="token punctuation">}</span>
                pageContainer<span class="token punctuation">.</span>innerHTML<span class="token operator">=</span>pageStr
                <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">switchPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token comment">//切换页面</span>
            <span class="token function">switchPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                <span class="token keyword">var</span> pages<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>pages<span class="token punctuation">,</span>g<span class="token operator">=</span><span class="token keyword">this</span>
                <span class="token keyword">var</span> aList<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">selectEle</span><span class="token punctuation">(</span>pages<span class="token punctuation">.</span>container<span class="token operator">+</span><span class="token string">" a"</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token comment">//获取所有的a标签</span>
                <span class="token keyword">var</span> current<span class="token comment">//定义一个当前页的标识</span>
                <span class="token comment">//对所有的a标签遍历，绑定点击事件</span>
                <span class="token keyword">for</span><span class="token punctuation">(</span>i <span class="token keyword">in</span> aList<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                        <span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">&lt;</span>aList<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                            aList<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"click"</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                            <span class="token keyword">var</span> eleHtml<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>innerHTML<span class="token comment">//定义一个属性值来获取数字按钮</span>
                            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>className<span class="token operator">==</span>pages<span class="token punctuation">.</span>prevPage<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                                pages<span class="token punctuation">.</span>pageNo<span class="token operator">&gt;</span><span class="token number">1</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>pageNo<span class="token operator">=</span>pages<span class="token punctuation">.</span>pageNo<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
                            <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>className<span class="token operator">==</span>pages<span class="token punctuation">.</span>nextPage<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                                pages<span class="token punctuation">.</span>pageNo<span class="token operator">&lt;</span>pages<span class="token punctuation">.</span>pageCount <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>pageNo<span class="token operator">=</span>pages<span class="token punctuation">.</span>pageNo<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span>
                            <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
                                pageNo<span class="token operator">=</span><span class="token function">parseInt</span><span class="token punctuation">(</span>eleHtml<span class="token punctuation">)</span>
                            <span class="token punctuation">}</span>
                            pageNo <span class="token operator">&amp;&amp;</span> g<span class="token punctuation">.</span><span class="token function">gotoPage</span><span class="token punctuation">(</span>pageNo<span class="token punctuation">)</span>
                        <span class="token punctuation">}</span><span class="token punctuation">)</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token comment">//跳转页面,参数:current</span>
            <span class="token function">gotoPage</span><span class="token punctuation">(</span><span class="token parameter">current</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>pages<span class="token punctuation">.</span>pageNo<span class="token operator">=</span>current
                <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">renderPage</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>pages<span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token comment">//获取页面元素</span>
            <span class="token function">selectEle</span><span class="token punctuation">(</span><span class="token parameter">select<span class="token punctuation">,</span>all</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                <span class="token keyword">return</span> all <span class="token operator">?</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span>select<span class="token punctuation">)</span> <span class="token operator">:</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span>select<span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">var</span> p<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Pagination</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">container</span><span class="token operator">:</span> <span class="token string">'.page'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">size</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
            <span class="token literal-property property">pageNo</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token literal-property property">total</span><span class="token operator">:</span> <span class="token number">100</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> 
<p>代码解释：<br>    实现该分页器的主要逻辑在renderPage函数中，在构建的时候，我们要考虑到当页面数据发生变化时，其样式也要随之变化<br>       （1）首先构建左侧上一页按钮以及右侧下一页按钮，如果当前页面大于1或者小于页码最后一页，两个按钮正常使用，否则则禁用两个按钮<br>       （2）构建中间的数字按钮<br>          （2.1）总页码数小于6时，直接遍历展现出所有的数字按钮<br>          （2.2）总页码数大于6时，令起始值为当前的页码数-1，结束值为当前的页码数+1，再遍历出所有的数字按钮<br>             （2.2.1）当前页大于第二页或者当前页小于倒数第二个页面，分别将1按钮以及最后一个按钮写死。如果当前页小于等于2时，或者当前页为最后四个页面时，为了保证展示的按钮有三个，我们需要将初始值或者结束值写死<br>             （2.2.2）当前页大于第三页或者当前页小于倒数第三个页面，分别展示左侧和右侧的省略号按钮</p> 
<p>最后我们产生的页面如图所示:<br> <img src="https://images2.imgbox.com/7d/b0/vTqw6jOc_o.png" alt="在这里插入图片描述"></p> 
<p>通过对分页器采用原生js以及用vue，相比较之下我体会到了<strong>vue的优势</strong>在于：<br>    1.提高了代码的可复用性，以及对代码的维护比较方便，例如，如果我们想添加一个输入框去选择我们想要跳转的页面，在vue中直接添加一个组件，而在原生js中我们需要在构建页面的函数中添加构建输入框的代码，维护性很差。<br>    2.vue将一些常用的js操作封装起来供我们使用，例如v-for就是对js中的for循环进行封装，使用起来更加简便。<br>    3.页面的灵活性更强，例如标签的类名我们可以动态进行赋值来应对页面的数据变化产生相应的样式变化。</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/bdd8989a97f7ec87aba9b2431f87c422/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">微信小程序的转发分享功能</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/e17268151636255ae3bb526474c3e8f2/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">接口自动化测试---单接口自动化测试与业务场景自动化测试之间的区别？</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>