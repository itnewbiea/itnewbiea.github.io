<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>5.6 Mybatis代码生成器Mybatis Generator (MBG)实战详解 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="5.6 Mybatis代码生成器Mybatis Generator (MBG)实战详解" />
<meta property="og:description" content="文章目录 前言一、Mybatis Generator简介二、Maven插件运行方式三、生成配置 generatorConfig.xmlMyBatis3Simple风格MyBatis3风格MyBatis3DynamicSql风格 四、Java代码运行方式五、MGB生成全部表六、增加Ext包七、Git提交总结 前言 本文我们主要实战Mybatis官方的代码生成器：Mybatis Generator(MBG)，掌握它以后，可以简化大部分手写代码，我们只需要写复杂逻辑代码！
通过前几篇，我们掌握了在SpringBoot下Mybatis的基本用法，操作步骤回顾一下：
创建与MySQL表对应的Java PO对象，字段一一对应；创建Mapper接口，和对应的XML映射文件(或注解)。 在实际开发中，你会发现有很多重复的工作：
首先是PO对象，我们往往创建与数据库表字段一一对应的PO对象;其次在Mapper里，通常都会写基本的增删改查代码。 重复不符合我们程序员的风格：
其实对于PO对象，只需要读取数据库表字段，然后做SQL列类型与Java字段类型转换，再将列名转成骆驼命名就可以实现，所以能实现的代码生成器也非常多！再者对于单表的基本增删改查是ORM的基本功能，像JPA对单表的基本增删改查都进行了封装！
那么在Mybatis里，这些当然也不在话下，Mybatis官方为我们提供了非常好用的代码生成器：Mybatis Generator (MBG) 。 本文就带大家实战一下Mybatis Generator，用它生成实战项目全部表的PO对象和基本增删改查代码！
一、Mybatis Generator简介 Mybatis Generator（MBG）是Mybatis官方提供的一个代码生成工具，它可以根据数据库表自动生成对应的Java Model、Mapper和XML文件，甚至还可以生成一些高级查询功能，使用Mybatis-Generator可以大大降低开发者的工作量，提高开发效率！
支持使用Maven插件生成，也支持编写Java代码生成，还有命令行等等多种方式！
支持生成XML映射文件风格的代码，也支持生成全注解风格的代码！
二、Maven插件运行方式 首先在工程tg-book-dal的pom.xml中，根节点project下添加build节点，如下：
&lt;build&gt; &lt;resources&gt; &lt;resource&gt; &lt;directory&gt;src/main/resources&lt;/directory&gt; &lt;filtering&gt;true&lt;/filtering&gt; &lt;/resource&gt; &lt;/resources&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.mybatis.generator&lt;/groupId&gt; &lt;artifactId&gt;mybatis-generator-maven-plugin&lt;/artifactId&gt; &lt;version&gt;1.3.7&lt;/version&gt; &lt;configuration&gt; &lt;verbose&gt;true&lt;/verbose&gt; &lt;overwrite&gt;true&lt;/overwrite&gt; &lt;/configuration&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;version&gt;8.0.21&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt; 然后刷新tg-book-dal的Maven依赖，你就能看到mybatis-generator插件了，如下图：
注意，这时生成时会报错，因为我们还需要添加配置文件，接着向下看.
三、生成配置 generatorConfig.xml 在tg-book-dal 的 src/main/resources 下 添加配置文件： generatorConfig.xml ，用于配置生成风格，数据库连接、生成代码包路径、生成哪些表等等，各配置参数详解参考注释：
注意：==我增加了几个实用的可选配置，像生成时覆盖原文件、去除注释、自增主键列、columnOverride ==" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/75c64523313f98c234822baeb646fc18/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-05-15T06:51:53+08:00" />
<meta property="article:modified_time" content="2023-05-15T06:51:53+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">5.6 Mybatis代码生成器Mybatis Generator (MBG)实战详解</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#_7" rel="nofollow">前言</a></li><li><a href="#Mybatis_Generator_30" rel="nofollow">一、Mybatis Generator简介</a></li><li><a href="#Maven_39" rel="nofollow">二、Maven插件运行方式</a></li><li><a href="#_generatorConfigxml_75" rel="nofollow">三、生成配置 generatorConfig.xml</a></li><li><ul><li><a href="#MyBatis3Simple_125" rel="nofollow">MyBatis3Simple风格</a></li><li><a href="#MyBatis3_144" rel="nofollow">MyBatis3风格</a></li><li><a href="#MyBatis3DynamicSql_158" rel="nofollow">MyBatis3DynamicSql风格</a></li></ul> 
  </li><li><a href="#Java_175" rel="nofollow">四、Java代码运行方式</a></li><li><a href="#MGB_239" rel="nofollow">五、MGB生成全部表</a></li><li><a href="#Ext_280" rel="nofollow">六、增加Ext包</a></li><li><a href="#Git_298" rel="nofollow">七、Git提交</a></li><li><a href="#_304" rel="nofollow">总结</a></li></ul> 
</div> 
<p></p> 
<hr> 
<h2><a id="_7"></a>前言</h2> 
<p>本文我们主要实战Mybatis官方的代码生成器：Mybatis Generator(MBG)，掌握它以后，可以简化大部分手写代码，我们只需要写复杂逻辑代码！</p> 
<blockquote> 
 <p>通过前几篇，我们掌握了在SpringBoot下Mybatis的基本用法，操作步骤回顾一下：</p> 
</blockquote> 
<ol><li>创建与MySQL表对应的Java PO对象，字段一一对应；</li><li>创建Mapper接口，和对应的XML映射文件(或注解)。</li></ol> 
<blockquote> 
 <p>在实际开发中，你会发现有很多重复的工作：</p> 
</blockquote> 
<ol><li>首先是PO对象，我们往往创建与数据库表字段一一对应的PO对象;</li><li>其次在Mapper里，通常都会写基本的增删改查代码。</li></ol> 
<blockquote> 
 <p>重复不符合我们程序员的风格：</p> 
</blockquote> 
<ol><li>其实对于PO对象，只需要读取数据库表字段，然后做SQL列类型与Java字段类型转换，再将列名转成骆驼命名就可以实现，所以能实现的代码生成器也非常多！</li><li>再者对于单表的基本增删改查是ORM的基本功能，像JPA对单表的基本增删改查都进行了封装！<br> 那么在Mybatis里，这些当然也不在话下，Mybatis官方为我们提供了非常好用的代码生成器：Mybatis Generator (MBG) 。</li></ol> 
<blockquote> 
 <p>本文就带大家实战一下Mybatis Generator，用它生成实战项目全部表的PO对象和基本增删改查代码！</p> 
</blockquote> 
<hr> 
<h2><a id="Mybatis_Generator_30"></a>一、Mybatis Generator简介</h2> 
<p>Mybatis Generator（MBG）是Mybatis官方提供的一个代码生成工具，<mark>它可以根据数据库表自动生成对应的Java Model、Mapper和XML文件</mark>，甚至还可以生成一些<mark>高级查询</mark>功能，使用Mybatis-Generator可以大大降低开发者的工作量，提高开发效率！</p> 
<blockquote> 
 <p>支持使用<mark>Maven插件</mark>生成，也支持<mark>编写Java代码</mark>生成，还有命令行等等多种方式！<br> 支持生成<mark>XML映射文件风格</mark>的代码，也支持生成<mark>全注解风格</mark>的代码！</p> 
</blockquote> 
<hr> 
<h2><a id="Maven_39"></a>二、Maven插件运行方式</h2> 
<p>首先在工程tg-book-dal的pom.xml中，根节点project下添加<strong>build节点</strong>，如下：</p> 
<pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resources</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resource</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>directory</span><span class="token punctuation">&gt;</span></span>src/main/resources<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>directory</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filtering</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filtering</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resource</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resources</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugins</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.mybatis.generator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mybatis-generator-maven-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.3.7<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>verbose</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>verbose</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>overwrite</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>overwrite</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>mysql<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mysql-connector-java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>8.0.21<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugins</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>build</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>然后刷新tg-book-dal的Maven依赖，你就能看到<strong>mybatis-generator插件</strong>了，如下图：<br> <img src="https://images2.imgbox.com/69/56/SOAPZor1_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>注意，这时生成时会报错，因为我们还需要添加配置文件，接着向下看.</p> 
</blockquote> 
<hr> 
<h2><a id="_generatorConfigxml_75"></a>三、生成配置 generatorConfig.xml</h2> 
<p>在tg-book-dal 的 src/main/resources 下 添加配置文件： <strong>generatorConfig.xml</strong> ，用于配置<code>生成风格，数据库连接、生成代码包路径、生成哪些表</code>等等，各配置参数详解参考注释：<br> <code>注意</code>：==我增加了几个实用的可选配置，像生成时覆盖原文件、去除注释、自增主键列、columnOverride ==</p> 
<pre><code class="prism language-xml"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">generatorConfiguration</span> <span class="token name">PUBLIC</span>
        <span class="token string">"-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN"</span>
        <span class="token string">"http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd"</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>generatorConfiguration</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- MyBatis3Simple风格 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>context</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>simple<span class="token punctuation">"</span></span> <span class="token attr-name">targetRuntime</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>MyBatis3Simple<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>javaFileEncoding<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!--生成mapper.xml时覆盖原文件--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>org.mybatis.generator.plugins.UnmergeableXmlMappersPlugin<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>commentGenerator</span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!-- 是否去除自动生成的注释 true：是 ： false:否。 自动生成注释太啰嗦，可以编码扩展CommentGenerator --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>suppressAllComments<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>commentGenerator</span><span class="token punctuation">&gt;</span></span>

        <span class="token comment">&lt;!-- 数据库连接 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>jdbcConnection</span> <span class="token attr-name">driverClass</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.mysql.cj.jdbc.Driver<span class="token punctuation">"</span></span>
                        <span class="token attr-name">connectionURL</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>jdbc:mysql://localhost:3306/db_book?useUnicode=true<span class="token entity named-entity" title="&amp;">&amp;amp;</span>characterEncoding=utf8<span class="token entity named-entity" title="&amp;">&amp;amp;</span>tinyInt1isBit=true<span class="token entity named-entity" title="&amp;">&amp;amp;</span>serverTimezone=UTC<span class="token punctuation">"</span></span>
                        <span class="token attr-name">userId</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>root<span class="token punctuation">"</span></span> <span class="token attr-name">password</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>root<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!-- 设置为true就只读取db_book下的表, 否则会优先读取到mysql的user表  --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>nullCatalogMeansCurrent<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>jdbcConnection</span><span class="token punctuation">&gt;</span></span>

        <span class="token comment">&lt;!-- 生成PO的包名和位置 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>javaModelGenerator</span> <span class="token attr-name">targetPackage</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>org.tg.book.dal.po.mbg<span class="token punctuation">"</span></span> <span class="token attr-name">targetProject</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>src/main/java<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>

        <span class="token comment">&lt;!-- 生成XML映射文件的包名和位置 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>sqlMapGenerator</span> <span class="token attr-name">targetPackage</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>org.tg.book.dal.mapper.mbg<span class="token punctuation">"</span></span> <span class="token attr-name">targetProject</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>src/main/resources<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>

        <span class="token comment">&lt;!-- 生成Mapper接口的包名和位置 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>javaClientGenerator</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>XMLMAPPER<span class="token punctuation">"</span></span> <span class="token attr-name">targetPackage</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>org.tg.book.dal.mapper.mbg<span class="token punctuation">"</span></span> <span class="token attr-name">targetProject</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>src/main/java<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>

        <span class="token comment">&lt;!-- 要生成对应表配置 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span> <span class="token attr-name">tableName</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>user<span class="token punctuation">"</span></span> <span class="token attr-name">domainObjectName</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>User<span class="token punctuation">"</span></span> <span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!-- 自增主键列 --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>generatedKey</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>id<span class="token punctuation">"</span></span> <span class="token attr-name">sqlStatement</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>MYSQL<span class="token punctuation">"</span></span> <span class="token attr-name">identity</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token comment">&lt;!-- tinyint映射为Integer --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>columnOverride</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>role<span class="token punctuation">"</span></span> <span class="token attr-name">javaType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Integer<span class="token punctuation">"</span></span> <span class="token attr-name">jdbcType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>TINYINT<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>context</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>generatorConfiguration</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<h3><a id="MyBatis3Simple_125"></a>MyBatis3Simple风格</h3> 
<p>上面配置的是MyBatis3Simple风格，只配置了一个表：user，双击插件的mybatis-generator:generate以后，生成的代码如下：<br> <img src="https://images2.imgbox.com/24/1e/AOyhKZ8b_o.png" alt="在这里插入图片描述"></p> 
<p><strong>MyBatis3Simple</strong>风格生成的代码比较精简，看一看UserMapper的接口方法，只有基本的增删改查方法：</p> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">UserMapper</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> <span class="token function">deleteByPrimaryKey</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">int</span> <span class="token function">insert</span><span class="token punctuation">(</span><span class="token class-name">User</span> <span class="token keyword">record</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">User</span> <span class="token function">selectByPrimaryKey</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> <span class="token function">selectAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">int</span> <span class="token function">updateByPrimaryKey</span><span class="token punctuation">(</span><span class="token class-name">User</span> <span class="token keyword">record</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="MyBatis3_144"></a>MyBatis3风格</h3> 
<p>我们再看看<strong>MyBatis3</strong>风格，只需要将 <mark>targetRuntime=“MyBatis3Simple”</mark> 修改为 <mark>targetRuntime=“MyBatis3”</mark>，然后再双击插件的mybatis-generator:generate，就可以看到增加了 <mark>“by example” 和 “selective” 方法</mark><br> <img src="https://images2.imgbox.com/70/91/2PbrW4xo_o.png" alt="在这里插入图片描述"></p> 
<ul><li><strong>selective方法</strong>：选择性插入或更新，<mark>判断PO字段不为空才插入或修改</mark>。在只需要插入或修改个别字段值时使用，对应生成的SQL不包括<code>=null</code>的字段，但同样也需要注意，你无法用它将字段设置为null。 😜</li><li><strong>by example方法</strong>：这个东西有点小强大，<mark>可以动态生成各种查询条件</mark>，在后面的接口开发实战中我们再使用。但就是生成的代码有点多，没有实现example代码的复用。对于单表复杂查询喜欢直接SQL的，可以禁用生成example，可以通过table节点的如下配置来指定是否启用。</li></ul> 
<table><thead><tr><th align="left">属性</th><th align="left">说明</th></tr></thead><tbody><tr><td align="left">enableSelectByExample</td><td align="left">是否启用生成selectByExample</td></tr><tr><td align="left">enableDeleteByExample</td><td align="left">是否启用生成deleteByExample</td></tr><tr><td align="left">enableCountByExample</td><td align="left">是否启用生成countByExample</td></tr><tr><td align="left">enableUpdateByExample</td><td align="left">是否启用生成updateByExample和updateByExampleSelective</td></tr></tbody></table> 
<h3><a id="MyBatis3DynamicSql_158"></a>MyBatis3DynamicSql风格</h3> 
<p>只需要将 <mark>targetRuntime=“MyBatis3”</mark> 修改为 <mark>targetRuntime=“MyBatis3DynamicSql”</mark>。<br> 生成的代码是全注解风格的，也就不会生成UserMapper.xml和UserExample类，而是新生成了UserDynamicSqlSupport类。</p> 
<p>需要增加<strong>mybatis-dynamic-sql</strong>依赖包：</p> 
<pre><code class="prism language-xml"><span class="token comment">&lt;!--mybatis-dynamic-sql--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.mybatis.dynamic-sql<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mybatis-dynamic-sql<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.1.4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<hr> 
<h2><a id="Java_175"></a>四、Java代码运行方式</h2> 
<p>除了使用插件运行方式来生成，我们还可以以Java代码方式运行，添加<strong>mybatis-generator-core</strong>依赖包，如下：</p> 
<pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.mybatis.generator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mybatis-generator-core<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.3.7<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>添加<strong>main方法</strong>，如下：</p> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>tg<span class="token punctuation">.</span>book<span class="token punctuation">.</span>dal</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>mybatis<span class="token punctuation">.</span>generator<span class="token punctuation">.</span>api<span class="token punctuation">.</span></span><span class="token class-name">MyBatisGenerator</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>mybatis<span class="token punctuation">.</span>generator<span class="token punctuation">.</span>config<span class="token punctuation">.</span></span><span class="token class-name">Configuration</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>mybatis<span class="token punctuation">.</span>generator<span class="token punctuation">.</span>config<span class="token punctuation">.</span>xml<span class="token punctuation">.</span></span><span class="token class-name">ConfigurationParser</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>mybatis<span class="token punctuation">.</span>generator<span class="token punctuation">.</span>exception<span class="token punctuation">.</span></span><span class="token class-name">InvalidConfigurationException</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>mybatis<span class="token punctuation">.</span>generator<span class="token punctuation">.</span>exception<span class="token punctuation">.</span></span><span class="token class-name">XMLParserException</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>mybatis<span class="token punctuation">.</span>generator<span class="token punctuation">.</span>internal<span class="token punctuation">.</span></span><span class="token class-name">DefaultShellCallback</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">File</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">SQLException</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MybatisGeneratorRunner</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">XMLParserException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span><span class="token punctuation">,</span> <span class="token class-name">InvalidConfigurationException</span><span class="token punctuation">,</span> <span class="token class-name">SQLException</span><span class="token punctuation">,</span> <span class="token class-name">InterruptedException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> warnings <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">boolean</span> overwrite <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token comment">// 使用xml配置文件的方式</span>
        <span class="token class-name">File</span> configFile <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token class-name">MybatisGeneratorRunner</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getResource</span><span class="token punctuation">(</span><span class="token string">"generatorConfig.xml"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ConfigurationParser</span> cp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConfigurationParser</span><span class="token punctuation">(</span>warnings<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Configuration</span> config <span class="token operator">=</span> cp<span class="token punctuation">.</span><span class="token function">parseConfiguration</span><span class="token punctuation">(</span>configFile<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 使用纯Java代码配置的方式, 相当于把 generatorConfig.xml配置的都用java代码配置到config中</span>
        <span class="token comment">// config = new Configuration();</span>

        <span class="token class-name">DefaultShellCallback</span> callback <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DefaultShellCallback</span><span class="token punctuation">(</span>overwrite<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">MyBatisGenerator</span> myBatisGenerator <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyBatisGenerator</span><span class="token punctuation">(</span>config<span class="token punctuation">,</span> callback<span class="token punctuation">,</span> warnings<span class="token punctuation">)</span><span class="token punctuation">;</span>
        myBatisGenerator<span class="token punctuation">.</span><span class="token function">generate</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>warnings<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<blockquote> 
 <p>注意：我执行后生成到父项目下了🤣，需要修改<code>generatorConfig.xml</code> 将<code>targetProject</code>加上项目名称，如下：</p> 
</blockquote> 
<pre><code class="prism language-xml"><span class="token comment">&lt;!-- 生成PO的包名和位置 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>javaModelGenerator</span> <span class="token attr-name">targetPackage</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>org.tg.book.dal.po.mbg<span class="token punctuation">"</span></span> <span class="token attr-name">targetProject</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tg-book-dal/src/main/java<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>

<span class="token comment">&lt;!-- 生成XML映射文件的包名和位置 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>sqlMapGenerator</span> <span class="token attr-name">targetPackage</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>org.tg.book.dal.mapper.mbg<span class="token punctuation">"</span></span> <span class="token attr-name">targetProject</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tg-book-dal/src/main/resources<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>

<span class="token comment">&lt;!-- 生成Mapper接口的包名和位置 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>javaClientGenerator</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>XMLMAPPER<span class="token punctuation">"</span></span> <span class="token attr-name">targetPackage</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>org.tg.book.dal.mapper.mbg<span class="token punctuation">"</span></span> <span class="token attr-name">targetProject</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tg-book-dal/src/main/java<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre> 
<blockquote> 
 <p>targetProject加上tg-book-dal以后用插件生成，又提示目录找不到，汗(⊙﹏⊙)b</p> 
</blockquote> 
<pre><code>[WARNING] The specified target project directory tg-book-dal/src/main/resources does not exist
[WARNING] The specified target project directory tg-book-dal/src/main/java does not exist
[WARNING] The specified target project directory tg-book-dal/src/main/java does not exist
[WARNING] The specified target project directory tg-book-dal/src/main/java does not exist
</code></pre> 
<hr> 
<h2><a id="MGB_239"></a>五、MGB生成全部表</h2> 
<p>一共8张表，主要<code>注意点</code>：</p> 
<ul><li>generatedKey：配置自增id</li><li>columnOverride：指定tinyint列映射到Java类型是Integer还是Boolean</li></ul> 
<blockquote> 
 <p>除了user的另外7张表配置：</p> 
</blockquote> 
<pre><code class="prism language-java"><span class="token operator">&lt;</span>table tableName<span class="token operator">=</span><span class="token string">"book"</span> domainObjectName<span class="token operator">=</span><span class="token string">"Book"</span> <span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>generatedKey column<span class="token operator">=</span><span class="token string">"id"</span> sqlStatement<span class="token operator">=</span><span class="token string">"MYSQL"</span> identity<span class="token operator">=</span><span class="token string">"true"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>columnOverride column<span class="token operator">=</span><span class="token string">"status"</span> javaType<span class="token operator">=</span><span class="token string">"Integer"</span> jdbcType<span class="token operator">=</span><span class="token string">"TINYINT"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>columnOverride column<span class="token operator">=</span><span class="token string">"is_recommend"</span> javaType<span class="token operator">=</span><span class="token string">"Boolean"</span> jdbcType<span class="token operator">=</span><span class="token string">"TINYINT"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>table<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>table tableName<span class="token operator">=</span><span class="token string">"book_borrowing"</span> domainObjectName<span class="token operator">=</span><span class="token string">"BookBorrowing"</span> <span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>generatedKey column<span class="token operator">=</span><span class="token string">"id"</span> sqlStatement<span class="token operator">=</span><span class="token string">"MYSQL"</span> identity<span class="token operator">=</span><span class="token string">"true"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>columnOverride column<span class="token operator">=</span><span class="token string">"status"</span> javaType<span class="token operator">=</span><span class="token string">"Integer"</span> jdbcType<span class="token operator">=</span><span class="token string">"TINYINT"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>table<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>table tableName<span class="token operator">=</span><span class="token string">"book_comment"</span> domainObjectName<span class="token operator">=</span><span class="token string">"BookComment"</span> <span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>generatedKey column<span class="token operator">=</span><span class="token string">"id"</span> sqlStatement<span class="token operator">=</span><span class="token string">"MYSQL"</span> identity<span class="token operator">=</span><span class="token string">"true"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>columnOverride column<span class="token operator">=</span><span class="token string">"score"</span> javaType<span class="token operator">=</span><span class="token string">"Integer"</span> jdbcType<span class="token operator">=</span><span class="token string">"TINYINT"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>table<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>table tableName<span class="token operator">=</span><span class="token string">"book_favorite"</span> domainObjectName<span class="token operator">=</span><span class="token string">"BookFavorite"</span> <span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>generatedKey column<span class="token operator">=</span><span class="token string">"id"</span> sqlStatement<span class="token operator">=</span><span class="token string">"MYSQL"</span> identity<span class="token operator">=</span><span class="token string">"true"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>columnOverride column<span class="token operator">=</span><span class="token string">"is_cancelled"</span> javaType<span class="token operator">=</span><span class="token string">"Boolean"</span> jdbcType<span class="token operator">=</span><span class="token string">"TINYINT"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>table<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>table tableName<span class="token operator">=</span><span class="token string">"notice"</span> domainObjectName<span class="token operator">=</span><span class="token string">"Notice"</span> <span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>generatedKey column<span class="token operator">=</span><span class="token string">"id"</span> sqlStatement<span class="token operator">=</span><span class="token string">"MYSQL"</span> identity<span class="token operator">=</span><span class="token string">"true"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>columnOverride column<span class="token operator">=</span><span class="token string">"is_deleted"</span> javaType<span class="token operator">=</span><span class="token string">"Boolean"</span> jdbcType<span class="token operator">=</span><span class="token string">"TINYINT"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>table<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>table tableName<span class="token operator">=</span><span class="token string">"qualification"</span> domainObjectName<span class="token operator">=</span><span class="token string">"Qualification"</span> <span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>generatedKey column<span class="token operator">=</span><span class="token string">"id"</span> sqlStatement<span class="token operator">=</span><span class="token string">"MYSQL"</span> identity<span class="token operator">=</span><span class="token string">"true"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>columnOverride column<span class="token operator">=</span><span class="token string">"status"</span> javaType<span class="token operator">=</span><span class="token string">"Integer"</span> jdbcType<span class="token operator">=</span><span class="token string">"TINYINT"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>table<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>table tableName<span class="token operator">=</span><span class="token string">"student"</span> domainObjectName<span class="token operator">=</span><span class="token string">"Student"</span> <span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>generatedKey column<span class="token operator">=</span><span class="token string">"id"</span> sqlStatement<span class="token operator">=</span><span class="token string">"MYSQL"</span> identity<span class="token operator">=</span><span class="token string">"true"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>columnOverride column<span class="token operator">=</span><span class="token string">"is_approved"</span> javaType<span class="token operator">=</span><span class="token string">"Boolean"</span> jdbcType<span class="token operator">=</span><span class="token string">"TINYINT"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>columnOverride column<span class="token operator">=</span><span class="token string">"is_frozen"</span> javaType<span class="token operator">=</span><span class="token string">"Boolean"</span> jdbcType<span class="token operator">=</span><span class="token string">"TINYINT"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>table<span class="token operator">&gt;</span>
</code></pre> 
<hr> 
<h2><a id="Ext_280"></a>六、增加Ext包</h2> 
<p>mbg包的代码我们不做任何修改，为了便于区分，我们将自定义的PO和Mapper单独放到ext包下，命名以Ext结尾。</p> 
<ul><li>原来的UserMapper修改为UserMapperExt</li><li>删除原来的BookMapper和BookMapperImpl，用MBG生成的BookMapper替代，原来引用的关联代码都修改一下</li><li>删除原来的PO对象：User和Book，用MBG生成的User和Book替代，原来引用的关联代码都修改一下</li><li>AuthServiceImpl、BookServiceImpl、UserServiceImpl都有修改的点</li></ul> 
<p>最终结构dal的 mapper和po包，如下：<br> <img src="https://images2.imgbox.com/d8/ae/obIwlReL_o.png" alt="在这里插入图片描述"><br> 最终的mapper XML映射文件，如下：<br> <img src="https://images2.imgbox.com/c9/f4/0Akwduuq_o.png" alt="在这里插入图片描述"></p> 
<hr> 
<h2><a id="Git_298"></a>七、Git提交</h2> 
<p>养成好习惯，一步一提交！<br> <img src="https://images2.imgbox.com/ab/d0/Kqq59GcF_o.png" alt="在这里插入图片描述"></p> 
<hr> 
<h2><a id="_304"></a>总结</h2> 
<p>本文主要介绍了Mybatis Generator (MBG)生成代码的<strong>2种生成方式</strong>(当然还支持其它方式)：</p> 
<ol><li>Maven插件方式</li><li>Java代码方式</li></ol> 
<p>以及generatorConfig.xml配置的<strong>3种生成风格</strong>：</p> 
<ol><li>MyBatis3Simple风格</li><li>MyBatis3风格</li><li>MyBatis3DynamicSql风格</li></ol>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ddf22ece6d32a6865996eb2fae461a0c/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">YOLOv5算法的一些心得（框架&#43;目录）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/886a1c4aa6b92acb36a2119198c0d25b/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Python查看已安装模块</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>