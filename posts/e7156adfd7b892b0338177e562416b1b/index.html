<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>XBMC研究之C-Pluff熟悉 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="XBMC研究之C-Pluff熟悉" />
<meta property="og:description" content="转载自：http://blog.sina.com.cn/s/blog_6c14c17e0100ln87.html 在XBMC中，有不少libraries没用过，在研究XBMC框架前，先把它们过一遍。 在XBMC中，扩展功能模块采用了c-pluff，c-pluff是一个用于访问扩展功能和管理插件依赖关系的框架。 下面来介绍一下常用的函数： 1) Call cp_init to initializing the plug-in framework #include &lt;cpluff.h&gt; ctx = cp_init(); if (ctx == NULL) { ... } 2) Call cp_create_context to creating a plug-in context #include &lt;cpluff.h&gt; ctx = cp_create_context(&amp;status); if (ctx == NULL) { ... } 3) Loading plug-ins the main program can load individual plug-ins from known locations using cp_load_plugin_descriptor and cp_install_plugin. #include &lt;stdio.h&gt; #include &lt;cpluff.h&gt; extern cp_context_t *ctx; static char *plugindir[] = { &#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/e7156adfd7b892b0338177e562416b1b/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2013-07-12T22:41:54+08:00" />
<meta property="article:modified_time" content="2013-07-12T22:41:54+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">XBMC研究之C-Pluff熟悉</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)">转载自：http://blog.sina.com.cn/s/blog_6c14c17e0100ln87.html </span><wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr><span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span><wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr><span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span></p> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> 在XBMC中，有不少libraries没用过，在研究XBMC框架前，先把它们过一遍。</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> 在XBMC中，扩展功能模块采用了c-pluff，c-pluff是一个用于访问扩展功能和管理插件依赖关系的框架。</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> 
<a target="_blank" style="text-decoration:underline; color:rgb(145,38,108); font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"><img src="https://images2.imgbox.com/ac/2f/jKSHiGv6_o.gif" width="401" height="202" alt="XBMC研究之C-Pluff熟悉" title="XBMC研究之C-Pluff熟悉" style="margin:0px; padding:0px; border:0px; list-style:none"></a> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> 下面来介绍一下常用的函数：</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> 1) Call cp_init to initializing the plug-in framework</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> #include &lt;cpluff.h&gt;</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> ctx = cp_init();</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> if (ctx == NULL)</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> {<!-- --></span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr>  <wbr></wbr> <wbr></wbr>  <wbr></wbr> <wbr></wbr> ...</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> }</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> 2) Call cp_create_context to creating a plug-in context</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> #include &lt;cpluff.h&gt;</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> ctx = cp_create_context(&amp;status);</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> if (ctx == NULL)</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> {<!-- --></span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr>  <wbr></wbr> <wbr></wbr>  <wbr></wbr> <wbr></wbr> ...</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> }</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> 3) Loading plug-ins</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> the main program can load individual plug-ins from known locations using cp_load_plugin_descriptor and cp_install_plugin.</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> #include &lt;stdio.h&gt;</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> #include &lt;cpluff.h&gt;</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> extern cp_context_t *ctx;</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> static char *plugindir[] = { "/home/addons/skin.beagle", "/User/addons/confluence",};</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> void load_plugins(void)</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> {<!-- --></span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> int i = 0;</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> // Load each listed plug-in</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> for(i = 0; i &lt; 2; i )</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> {<!-- --></span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> cp_plugin_info_t *plugininfo;</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> cp_status_t status;</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> // Load plug-in descriptor</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> plugininfo = cp_load_plugin_descriptor(ctx, plugindir[i], &amp;status);</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> if (plugininfo == NULL) {<!-- --></span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> // ... handle loading failure ...</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> }</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> // Install plug-in descriptor</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> status = cp_install_plugin(ctx, plugininfo);</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> if (status != CP_OK) {<!-- --></span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> // ... handle loading failure ...</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> }</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> // Release plug-in descriptor information</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> cp_release_info(ctx, plugininfo);</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> }</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> }</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> 4) using cp_register_pcollection to register a plug-in context, and using cp_scan_plugins to scan/load plug-in</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> #include &lt;cpluff.h&gt;</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> extern cp_context_t *ctx;</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> static const char pluginCollectionDir[] = "/home/addon";</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> void load_plugins(void) {<!-- --></span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> cp_status_t status;</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> status = cp_register_pcollection(ctx, pluginCollectionDir);</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> if (status != CP_OK) {<!-- --></span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> // ... handle loading failure ...</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> }</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> status = cp_scan_plugins(ctx, 0);</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> if (status != CP_OK) {<!-- --></span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> // ... handle loading failure ...</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> // (notice that some plug-ins might have been loaded)</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> }</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> }</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> 5) start the core plug-in using cp_start_plugin and then execute plug-in run functions using cp_run_plugins.</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> #include &lt;cpluff.h&gt;</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> extern cp_context_t *ctx;</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> static const char corePluginId[] = "org.example.core";</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> void run_plugins(char *argv[]) {<!-- --></span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> cp_status_t status;</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> // Set plug-in startup arguments</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> cp_set_context_args(ctx, argv);</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> // Start the core plug-in, possibly activating other plug-ins as well</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> status = cp_start_plugin(ctx, corePluginId);</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> if (status != CP_OK) {<!-- --></span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> // ... handle startup failure ...</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> }</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> // Execute plug-ins until there is no more work to be done</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> cp_run_plugins(ctx);</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> }</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> int main(int argc, char *argv[]) {<!-- --></span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> // ... do initialization and load plug-ins ...</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> run_plugins(argv);</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> // ... do destruction ...</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> }</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> 插件介绍</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> 每个插件都保存在单独的目录（目录命名与addon id一致），并命名为addon.xml。在插件目录也会有一些资源文件如icon.png，fanart.jpg等，用于直观的显示到UI上。</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> &lt;?xml version="1.0" encoding="UTF-8"?&gt;</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> &lt;addon id="skin.beagle" version="1.0.0" name="Beagle" provider-name="topfs2, Team XBMC"&gt;</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr>  <wbr></wbr> <wbr></wbr> <wbr></wbr> &lt;requires&gt;</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr>  <wbr></wbr> <wbr></wbr> <wbr></wbr>  <wbr></wbr> <wbr></wbr> <wbr></wbr> &lt;import addon="xbmc.gui" version="2.11"/&gt;</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr>  <wbr></wbr> <wbr></wbr> <wbr></wbr> &lt;/requires&gt;</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> &lt;extension point="xbmc.gui.skin" defaultresolution="720p" defaultresolutionwide="720p" defaultthemename="textures.xbt" effectslowdown="1.0" debugging="false"/&gt;</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> &lt;extension point="xbmc.addon.metadata"&gt;</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> &lt;summary&gt;Beagle skin by topfs2&lt;/summary&gt;</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> &lt;description&gt;Beagle is a skin created in Google Summer of Code 2010 meant to be an extremely lightweight skin for use on embedded systems&lt;/description&gt;</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> &lt;platform&gt;all&lt;/platform&gt;</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> &lt;/extension&gt;</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207); color:rgb(157,187,97)"> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207); color:rgb(157,187,97)"> <wbr></wbr> <wbr></wbr> <wbr></wbr> &lt;/addon&gt;</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<span style="word-wrap:normal; word-break:normal; line-height:18px; font-family:simsun; background-color:rgb(204,232,207)">以上面的plug-in为例，分析如下：<br>  <wbr></wbr> <wbr></wbr> <wbr></wbr> 1) requires子元素用于插件依赖项</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> 2) extension子元素用于描述扩展项功能</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> 3) addon id属性是此扩展功能的唯一性标识。只能使用小写字母和半角点号、下划线、连字符以及数字。这个标识符同时用于保存此扩展功能模块的目录名。为便于查找，建议使用类似&lt;扩展功能类型&gt;.&lt;唯一性名称&gt;的形式。</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> 4) addon version属性由XBMC用来判断是否有可用更新。</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> 5) addon name属性是扩展功能在用户界面中显示的名称。</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> 6) addon provider-name属性是开发者信息。</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> 7) addon requires元素的import子元素用于插入依赖的其它扩展功能及版本</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> 一些推荐的规则：</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> icon.png有一些规则：</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> 1) 用于向用户表述这个扩展功能；</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> 2) 256x256的正方形PNG文件；</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> 3) 没有阴影、光泽或类似特效</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> 4) 它不应该有阴影、光泽或类似特效－－XBMC皮肤系统会处理这些；</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> 5) 采用在平面背景（非透明）下的logo。</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> fanart.png规则如下：</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> 1) 用作背景，应该简洁没有文字；</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> 2) 为1280x720的JPG文件，分辨率不要高于1920x1080；</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> </span> 
<wbr style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"></wbr> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> 3) 文件字节尽量小。</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)">参考：</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)">http://www.c-pluff.org/reference/c-api/plugin.html</span> 
<br style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)"> 
<span style="font-family:simsun; line-height:18px; background-color:rgb(204,232,207)">http://bbs.htpc1.com/archiver/tid-98828.html</span>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/b6e042b8a842f3e3d09e18b343dbdc90/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">各种乱码问题</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/4e24e86122d2fcb6cab4e2295d2a2c19/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">关于——const究竟能不能强制类型转换</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>