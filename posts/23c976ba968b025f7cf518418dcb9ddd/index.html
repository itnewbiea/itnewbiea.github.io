<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>BootstrapTable父子表 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="BootstrapTable父子表" />
<meta property="og:description" content="目录
1、案例图：
2、代码部分
3、对JavaScript部分讲解
1、案例图： 1-1、展开父表的子表图：
1-2、在父表的每一行的最前面显示一个加号，点开就是子表信息
2、代码部分 2-1HTML、
&lt;!-- 模态框 --&gt; &lt;div class=&#34;modal fade bs-example-modal-lg&#34; tabindex=&#34;-1&#34; role=&#34;dialog&#34; aria-labelledby=&#34;myLargeModalLabel&#34; id=&#34;seatModal&#34;&gt; &lt;div class=&#34;modal-dialog seatFrame modal-lg&#34; role=&#34;document&#34;&gt; &lt;div class=&#34;modal-content&#34;&gt; &lt;div class=&#34;modal-header&#34;&gt; &lt;div style=&#34;display: flex;justify-content: space-between;&#34;&gt; &lt;h2 class=&#34;modal-title&#34; id=&#34;myModalLabel&#34;&gt;考场信息&lt;/h2&gt; &lt;div class=&#34;input-group&#34;&gt; &lt;span class=&#34;input-group-addon&#34;&gt;考试场次&lt;span id=&#34;seatInformationNo&#34;&gt;&lt;/span&gt;&lt;/span&gt; &lt;/div&gt; &lt;button type=&#34;button&#34; class=&#34;close&#34; data-dismiss=&#34;modal&#34; aria-label=&#34;Close&#34;&gt;&lt;span aria-hidden=&#34;true&#34;&gt;&amp;times;&lt;/span&gt;&lt;/button&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&#34;modal-body&#34;&gt; &lt;table id=&#34;trainingInformation&#34; class=&#34;table table-striped table-hover&#34; style=&#34;margin-top: 0px;&#34;&gt; &lt;tbody id=&#34;seatTable&#34;&gt; &lt;/tbody&gt; &lt;/table&gt; &lt;/div&gt; &lt;div class=&#34;modal-footer&#34;&gt; &lt;button type=&#34;button&#34; class=&#34;btn btn-default&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/23c976ba968b025f7cf518418dcb9ddd/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-09-26T17:19:11+08:00" />
<meta property="article:modified_time" content="2023-09-26T17:19:11+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">BootstrapTable父子表</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="1%E3%80%81%E6%A1%88%E4%BE%8B%E5%9B%BE%EF%BC%9A-toc" style="margin-left:40px;"><a href="#1%E3%80%81%E6%A1%88%E4%BE%8B%E5%9B%BE%EF%BC%9A" rel="nofollow">1、案例图：</a></p> 
<p id="2%E3%80%81%E4%BB%A3%E7%A0%81%E9%83%A8%E5%88%86-toc" style="margin-left:40px;"><a href="#2%E3%80%81%E4%BB%A3%E7%A0%81%E9%83%A8%E5%88%86" rel="nofollow">2、代码部分</a></p> 
<p id="%C2%A03%E3%80%81%E5%AF%B9JavaScript%E9%83%A8%E5%88%86%E8%AE%B2%E8%A7%A3-toc" style="margin-left:40px;"><a href="#%C2%A03%E3%80%81%E5%AF%B9JavaScript%E9%83%A8%E5%88%86%E8%AE%B2%E8%A7%A3" rel="nofollow"> 3、对JavaScript部分讲解</a></p> 
<hr id="hr-toc"> 
<h3 id="1%E3%80%81%E6%A1%88%E4%BE%8B%E5%9B%BE%EF%BC%9A">1、案例图：</h3> 
<p><img alt="" height="603" src="https://images2.imgbox.com/c9/cf/qbo2sbTq_o.png" width="890"></p> 
<blockquote> 
 <p>1-1、展开父表的子表图：</p> 
</blockquote> 
<p><img alt="" height="780" src="https://images2.imgbox.com/be/a8/9WAPvw1F_o.png" width="896"></p> 
<blockquote> 
 <p>1-2、在父表的每一行的最前面显示一个加号，点开就是子表信息</p> 
</blockquote> 
<h3 id="2%E3%80%81%E4%BB%A3%E7%A0%81%E9%83%A8%E5%88%86">2、代码部分</h3> 
<blockquote> 
 <p>2-1HTML、</p> 
</blockquote> 
<pre><code class="language-html">&lt;!-- 模态框 --&gt;
&lt;div class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel"
		id="seatModal"&gt;
		&lt;div class="modal-dialog seatFrame modal-lg" role="document"&gt;
			&lt;div class="modal-content"&gt;
				&lt;div class="modal-header"&gt;

                    &lt;div style="display: flex;justify-content: space-between;"&gt;
					&lt;h2 class="modal-title" id="myModalLabel"&gt;考场信息&lt;/h2&gt;

                    &lt;div class="input-group"&gt;
                        &lt;span class="input-group-addon"&gt;考试场次&lt;span id="seatInformationNo"&gt;&lt;/span&gt;&lt;/span&gt;
                    &lt;/div&gt;
					&lt;button type="button" class="close" data-dismiss="modal" aria-label="Close"&gt;&lt;span aria-hidden="true"&gt;&amp;times;&lt;/span&gt;&lt;/button&gt;
                    &lt;/div&gt;
				&lt;/div&gt;
				&lt;div class="modal-body"&gt;
					&lt;table id="trainingInformation" class="table table-striped table-hover" style="margin-top: 0px;"&gt;
                        &lt;tbody id="seatTable"&gt;
                        &lt;/tbody&gt;
                    &lt;/table&gt;
				&lt;/div&gt;
				&lt;div class="modal-footer"&gt;
					&lt;button type="button" class="btn btn-default" data-dismiss="modal"&gt;关闭&lt;/button&gt;
					&lt;button type="button" class="btn btn-primary" id="sava-edit-btn"&gt;保存&lt;/button&gt;
				&lt;/div&gt;
			&lt;/div&gt;
		&lt;/div&gt;
	&lt;/div&gt;</code></pre> 
<blockquote> 
 <p>2-2、js部分</p> 
</blockquote> 
<pre><code class="language-javascript">


$("#seatButton").click(function () {
    debugger

    // 获取所有场次的考试列表
    let roomIndex = $("#seatSession").val()
    let roomData = Zax.roomData[roomIndex];
    $('#seatInformationNo').text(roomData.name)
    let selectedRoom = RoomDiv.selectedRoom
    let exams = Zax.roomData[selectedRoom].exams
    let users=RoomDiv.roomArray[selectedRoom]
    exams.filter(exam=&gt;{
        let userArray=users.filter(user=&gt;user.zaxExamId==exam.zaxExamId)
        exam.userArray=userArray
        console.log(exam.userArray);
    })
    $('#seatModal').modal();
    $('#trainingInformation').bootstrapTable('removeAll'); //清空表的数据

    $('#trainingInformation').bootstrapTable('append', exams);  //添加新的表数据

    $('#trainingInformation').bootstrapTable({
        data: exams,
        sortable: false,
        //search: true,
        pagination: true, //开启分页
        pageNumber: 1, //初始化加载第一页，默认第一页
        queryParamsType: 'limit', //查询参数组织方式
        pageSize: 10, //单页记录数
        pageList: [5, 10, 20, 30], //分页步进值
        toolbar: "#toolboxPlatfrom",
        singleSelect: false, //只选择一行
        maintainSelected: true, //开启分页保持选择状态，就是用户点击下一页再次返回上一页
        clickToSelect: true,
        showSearch: false,
        showRefresh: false,
        showToggle: false,
        showColumns: false,
        classes: "table  table-striped table-hover ", //这里设置表格样式
        detailView: true,
        columns:
            [
                {
                    checkbox: true
                },
                { field: 'zaxExamId', title: 'ID' },
                { field: 'name', title: '考试名称' },
                { field: 'subject', title: '科目' },
                { field: 'personType', title: '人员类型' },
                { field: 'timeStart', title: '开考时间' },
                { field: 'timeEnd', title: '结束时间' },
                { field: 'userArray.length', title:'当前人数'}
            ],

        //注册加载子表的事件
        onExpandRow: function (index, row, $detail) {
            //点击左侧的加号 展开查看详情的时候调用（加载子菜单）  在这里做了递归调用自身再次构建一张表   这里的child-table-row.id是为了修改或者删除，刷新子表使用
            createSubTable(index, row, $detail);
        },
        //加载成功之后执行
        onLoadSuccess: function (data) {
        }

    });
})





//加载子菜单列表
createSubTable = function (index, row, $detail) {
    debugger
    var parentId = row.menuId;
    let childData = row.userArray
    var childTable = $detail.html('&lt;table&gt;&lt;/table&gt;').find('table');
    $(childTable).bootstrapTable({
        data:childData,
        classes: 'table table-hover table-striped',
        sortable: false,
        //search: true,
        pagination: true, //开启分页
        pageNumber: 1, //初始化加载第一页，默认第一页
        queryParamsType: 'limit', //查询参数组织方式
        pageSize: 10, //单页记录数
        pageList: [5, 10, 20, 30], //分页步进值
        toolbar: "#toolboxPlatfrom",
        singleSelect: false, //只选择一行
        maintainSelected: true, //开启分页保持选择状态，就是用户点击下一页再次返回上一页
        clickToSelect: true,
        showSearch: false,
        showRefresh: false,
        showToggle: false,
        showColumns: false,
        detailView: false,
        columns: [
            {
                checkbox: true
            },
            { field: 'zaxExamId', title: 'ID' },
            { field: 'name', title: '姓名' },
            { field: 'subject', title: '科目' },
            { field: 'personType', title: '人员类型' },
            { field: 'seatNo', title: '座位' },


        ],
    })
};


$('#seatModal').modal('hide');












</code></pre> 
<blockquote> 
 <p>2-3、css部分可以自己随意发挥</p> 
</blockquote> 
<h3 id="%C2%A03%E3%80%81%E5%AF%B9JavaScript%E9%83%A8%E5%88%86%E8%AE%B2%E8%A7%A3"> 3、对JavaScript部分讲解</h3> 
<blockquote> 
 <p>3-1、对表中的部分进行解释：</p> 
</blockquote> 
<pre><code class="language-javascript">"classes": "定义Bootstrap样式。'table'表示表格，'table-hover'使得鼠标悬停在表格行上时会有浅灰色背景，'table-striped'使得表格的奇数行和偶数行有不同的背景颜色。",

"sortable": "是否允许表格内容排序。在此设为'false'，表示不允许。",

"pagination": "是否开启分页。这里设为'true'，表示开启。",

"pageNumber": "初始化加载的页码。这里设为'1'，表示默认加载第一页。",

"queryParamsType": "查询参数的组织方式。这里设为'limit'，表示使用'limit'方式组织查询参数。",

"pageSize": "单页显示的记录数量。这里设为'10'，表示每页显示10条记录。",

"pageList": "分页的步进值，即用户可以选择的分页大小列表。这里设为[5, 10, 20, 30]，表示用户可以选择每页5、10、20或30条记录。",

"toolbar": "定义工具栏的HTML元素。这里设为'#toolboxPlatfrom'，表示工具栏的HTML元素是id为'toolboxPlatfrom'的元素。",

"singleSelect": "是否只允许选择一行。这里设为'false'，表示不允许（可以多选）。",

"maintainSelected": "是否在分页时保持已选择的行。这里设为'true'，表示保持选择状态。",

"clickToSelect": "是否允许点击行来选择。这里设为'true'，表示允许。",

"showSearch": "是否显示搜索框。这里设为'false'，表示不显示。",

"showRefresh": "是否显示刷新按钮。这里设为'false'，表示不显示。",

"showToggle": "是否显示切换显示/隐藏列的按钮。这里设为'false'，表示不显示。",

"showColumns": "是否显示列选择框。这里设为'false'，表示不显示。",

"detailView": "是否显示详情折叠(开启父子表)，会在每一行的最前面显示一个加号。"</code></pre> 
<blockquote> 
 <p>3-2、在要增加了一个新表的时候，直接清空表的数据，添加新数据就使用sppend就行了，清空数据使用removeAll方法。对比使用create方法的话，removeAll比create方法性能优化方面强很多，不建议使用create方法创建表。</p> 
</blockquote> 
<blockquote> 
 <p>3-3、对于父表的数据生成了要增加子表的方法是：</p> 
</blockquote> 
<pre><code class="language-javascript"> detailView: true,   //是否显示详情折叠(开启父子表)，会在每一行的最前面显示一个加号


//注册加载子表的事件
        onExpandRow: function (index, row, $detail) {
            //点击左侧的加号 展开查看详情的时候调用（加载子菜单）  在这里做了递归调用自身再次构建一张表   这里的child-table-row.id是为了修改或者删除，刷新子表使用
            createSubTable(index, row, $detail);
        },
        //加载成功之后执行
        onLoadSuccess: function (data) {
        }
</code></pre> 
<blockquote> 
 <p>这两行代码不能少，这样就在父表下创建了子表，子表的数据就是row，index，$detail，对应着子表可以去取数据。</p> 
</blockquote> 
<p>参考地址：</p> 
<p><a href="https://www.cnblogs.com/landeanfen/p/4993979.html" rel="nofollow" title="https://www.cnblogs.com/landeanfen/p/4993979.html"></a> </p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f209cf31483773c6d1dd6f3a6f3d66cf/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">电脑提示找不到msvcp71.dll丢失怎样修复，几种修复办法</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/1ab6cfb56e300769742144e7ba2654af/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">微信小程序自定义按钮触发转发分享功能</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>