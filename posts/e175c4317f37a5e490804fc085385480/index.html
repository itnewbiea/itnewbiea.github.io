<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>滚动抽奖点名JS实现 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="滚动抽奖点名JS实现" />
<meta property="og:description" content="滚动抽奖纯JS实现 最近老师让我用html&#43;css&#43;js实现一个课堂抽奖点名问答问题的一个功能，
因为之前用过轮播图的代码，所以就想到用类似轮播的方式来实现。
通过设置容器left定位负数容器会向左移动
效果如下： 代码： &lt;!DOCTYPE html&gt; &lt;html lang=&#34;en&#34;&gt; &lt;head&gt; &lt;meta charset=&#34;UTF-8&#34;&gt; &lt;title&gt;Title&lt;/title&gt; &lt;/head&gt; &lt;style&gt; .lucky-draw { padding-top: 20px; overflow: hidden; position: relative; height: 320px; left: 50%; transform: translateX(-50%); top: 120px; } .lucky-draw-item { float: left; width: 200px; height: 200px; position: relative; /*background: red;*/ text-align: center; line-height: 120px; } .lucky-draw-item img { width: 200px; height: 200px; } .lucky-element-wrap { position: absolute; } #btn { position: absolute; width: 100px; height: 25px; background: beige; bottom: 10px; left: calc(50% - 50px); } ." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/e175c4317f37a5e490804fc085385480/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-12-22T10:26:39+08:00" />
<meta property="article:modified_time" content="2023-12-22T10:26:39+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">滚动抽奖点名JS实现</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="JS_0"></a>滚动抽奖纯JS实现</h2> 
<p>最近老师让我用html+css+js实现一个课堂抽奖点名问答问题的一个功能，</p> 
<p>因为之前用过轮播图的代码，所以就想到用类似轮播的方式来实现。</p> 
<p>通过设置容器left定位负数容器会向左移动</p> 
<h3><a id="_8"></a>效果如下：</h3> 
<p><img src="https://images2.imgbox.com/32/cc/YiwJQUBS_o.gif" alt="请添加图片描述"></p> 
<h3><a id="_13"></a>代码：</h3> 
<pre><code class="prism language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">.lucky-draw</span> <span class="token punctuation">{<!-- --></span>
        <span class="token property">padding-top</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
        <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
        <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
        <span class="token property">height</span><span class="token punctuation">:</span> 320px<span class="token punctuation">;</span>
        <span class="token property">left</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
        <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateX</span><span class="token punctuation">(</span>-50%<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token property">top</span><span class="token punctuation">:</span> 120px<span class="token punctuation">;</span>

    <span class="token punctuation">}</span>
    <span class="token selector">.lucky-draw-item</span> <span class="token punctuation">{<!-- --></span>
        <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
        <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
        <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
        <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
        <span class="token comment">/*background: red;*/</span>
        <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
        <span class="token property">line-height</span><span class="token punctuation">:</span> 120px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.lucky-draw-item img</span> <span class="token punctuation">{<!-- --></span>
        <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
        <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.lucky-element-wrap</span> <span class="token punctuation">{<!-- --></span>
        <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">#btn</span> <span class="token punctuation">{<!-- --></span>
        <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
        <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
        <span class="token property">height</span><span class="token punctuation">:</span> 25px<span class="token punctuation">;</span>
        <span class="token property">background</span><span class="token punctuation">:</span> beige<span class="token punctuation">;</span>
        <span class="token property">bottom</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
        <span class="token property">left</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span>50% - 50px<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token selector">.lucky-draw-name</span> <span class="token punctuation">{<!-- --></span>
        <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
        <span class="token property">font-size</span><span class="token punctuation">:</span> 15px<span class="token punctuation">;</span>
        <span class="token property">font-weight</span><span class="token punctuation">:</span> bold<span class="token punctuation">;</span>
        <span class="token property">color</span><span class="token punctuation">:</span> black<span class="token punctuation">;</span>
        <span class="token property">width</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span>
        <span class="token property">height</span><span class="token punctuation">:</span> 30px<span class="token punctuation">;</span>
        <span class="token property">bottom</span><span class="token punctuation">:</span> -5px<span class="token punctuation">;</span>
        <span class="token property">left</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
        <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateX</span><span class="token punctuation">(</span>-50%<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.lucky-draw-results</span> <span class="token punctuation">{<!-- --></span>
        <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
        <span class="token property">padding-top</span><span class="token punctuation">:</span> 25px<span class="token punctuation">;</span>
        <span class="token property">width</span><span class="token punctuation">:</span> 250px<span class="token punctuation">;</span>
        <span class="token property">height</span><span class="token punctuation">:</span> 290px<span class="token punctuation">;</span>
        <span class="token property">background</span><span class="token punctuation">:</span> beige<span class="token punctuation">;</span>
        <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
        <span class="token property">left</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
        <span class="token property">top</span><span class="token punctuation">:</span> -30px<span class="token punctuation">;</span>
        <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateX</span><span class="token punctuation">(</span>-50%<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.lucky-draw-results p</span> <span class="token punctuation">{<!-- --></span>
        <span class="token property">padding-left</span><span class="token punctuation">:</span> 35px<span class="token punctuation">;</span>
        <span class="token property">text-indent</span><span class="token punctuation">:</span> 1em<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.lucky-draw-results img</span> <span class="token punctuation">{<!-- --></span>
        <span class="token property">width</span><span class="token punctuation">:</span> 130px<span class="token punctuation">;</span>
        <span class="token property">height</span><span class="token punctuation">:</span> 130px<span class="token punctuation">;</span>
        <span class="token property">border-radius</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
        <span class="token property">margin-left</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span>50% - 65px<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token property">margin-top</span><span class="token punctuation">:</span> 30px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.lucky-draw-results&gt;input</span> <span class="token punctuation">{<!-- --></span>
        <span class="token property">width</span><span class="token punctuation">:</span> 60px<span class="token punctuation">;</span>
        <span class="token property">margin-left</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span>50% - 30px<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token property">background</span><span class="token punctuation">:</span> beige<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    <span class="token comment">/* 图片放大放小 */</span>
    <span class="token selector">.ballon</span><span class="token punctuation">{<!-- --></span>
        <span class="token property">-webkit-animation-name</span><span class="token punctuation">:</span> likes<span class="token punctuation">;</span> <span class="token comment">/*关键帧名称*/</span>
        <span class="token property">-webkit-animation-timing-function</span><span class="token punctuation">:</span> linear<span class="token punctuation">;</span> <span class="token comment">/*动画的速度曲线*/</span>
        <span class="token property">-webkit-animation-iteration-count</span><span class="token punctuation">:</span> infinite<span class="token punctuation">;</span>  <span class="token comment">/*动画播放的次数*/</span>
        <span class="token property">-webkit-animation-duration</span><span class="token punctuation">:</span> 1s<span class="token punctuation">;</span> <span class="token comment">/*动画所花费的时间*/</span>
    <span class="token punctuation">}</span>

    <span class="token atrule"><span class="token rule">@keyframes</span> likes</span> <span class="token punctuation">{<!-- --></span>
        <span class="token selector">0%</span><span class="token punctuation">{<!-- --></span>
            <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scale</span><span class="token punctuation">(</span>1.2<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token selector">25%</span><span class="token punctuation">{<!-- --></span>
            <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scale</span><span class="token punctuation">(</span>1.1<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token selector">50%</span><span class="token punctuation">{<!-- --></span>
            <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scale</span><span class="token punctuation">(</span>1.05<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token selector">75%</span><span class="token punctuation">{<!-- --></span>
            <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scale</span><span class="token punctuation">(</span>1.1<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token selector">100%</span><span class="token punctuation">{<!-- --></span>
            <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scale</span><span class="token punctuation">(</span>1.2<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- 外层容器 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>lucky-draw<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--  抽奖元素容器通过 -left 移动 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>lucky-element-wrap<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>lucky-draw-item<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>../luckImg/aiHuanZhi.jpg<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>lucky-draw-name<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 抽奖结果 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>lucky-draw-results<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>../luckImg/aiHuanZhi.jpg<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ballon<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>中奖啦！！请XXX同学
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>br</span><span class="token punctuation">&gt;</span></span>起立问答问题<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>确认<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>抽奖<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btn<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>../js/jquery-1.7.2.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">let</span> random<span class="token punctuation">;</span>              <span class="token comment">// 随机数</span>
    <span class="token keyword">let</span> perWidth <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">;</span>     <span class="token comment">// 一张图片的宽度</span>
    <span class="token keyword">let</span> luckyDrawWrapper <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.lucky-draw'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 最外层容器</span>
    <span class="token keyword">let</span> index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>          <span class="token comment">// 当前是第几张图片</span>
    <span class="token keyword">let</span> timer<span class="token punctuation">;</span>              <span class="token comment">// 定时器标识</span>
    <span class="token keyword">let</span> turnsNumber <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>    <span class="token comment">// 空转圈数，空转圈数要比总圈数数少，总圈数 = 填充数组数</span>
    <span class="token keyword">let</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#btn'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> luckyResult <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.lucky-draw-results'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 中奖结果</span>
    <span class="token comment">// 生成空转元素两个空转数组data1、data2,抽奖数组data3、data4补位数组data5</span>
    <span class="token keyword">let</span> data1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">13</span><span class="token punctuation">,</span><span class="token number">14</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">16</span><span class="token punctuation">,</span><span class="token number">17</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">,</span><span class="token number">19</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">21</span><span class="token punctuation">,</span><span class="token number">22</span><span class="token punctuation">,</span><span class="token number">23</span><span class="token punctuation">,</span><span class="token number">24</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> dataName <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">13</span><span class="token punctuation">,</span><span class="token number">14</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">16</span><span class="token punctuation">,</span><span class="token number">17</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">,</span><span class="token number">19</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">21</span><span class="token punctuation">,</span><span class="token number">22</span><span class="token punctuation">,</span><span class="token number">23</span><span class="token punctuation">,</span><span class="token number">24</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> dataImg <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token string">"../luckImg/ai.jpg"</span><span class="token punctuation">,</span>
        <span class="token string">"../luckImg/ai.jpg"</span><span class="token punctuation">,</span>
        <span class="token string">"../luckImg/ai.jpg"</span><span class="token punctuation">,</span>
        <span class="token string">"../luckImg/ai.jpg"</span><span class="token punctuation">,</span>
        <span class="token string">"../luckImg/ai.jpg"</span><span class="token punctuation">,</span>
        <span class="token string">"../luckImg/ai.jpg"</span><span class="token punctuation">,</span>
        <span class="token string">"../luckImg/ai.jpg"</span><span class="token punctuation">,</span>
        <span class="token string">"../luckImg/ai.jpg"</span><span class="token punctuation">,</span>
        <span class="token string">"../luckImg/ai.jpg"</span><span class="token punctuation">,</span>
        <span class="token string">"../luckImg/ai.jpg"</span><span class="token punctuation">,</span>
        <span class="token string">"../luckImg/ai.jpg"</span><span class="token punctuation">,</span>
        <span class="token string">"../luckImg/ai.jpg"</span><span class="token punctuation">,</span>
        <span class="token string">"../luckImg/ai.jpg"</span><span class="token punctuation">,</span>
        <span class="token string">"../luckImg/ai.jpg"</span><span class="token punctuation">,</span>
        <span class="token string">"../luckImg/ai.jpg"</span><span class="token punctuation">,</span>
        <span class="token string">"../luckImg/ai.jpg"</span><span class="token punctuation">,</span>
        <span class="token string">"../luckImg/ai.jpg"</span><span class="token punctuation">,</span>
        <span class="token string">"../luckImg/ai.jpg"</span><span class="token punctuation">,</span>
        <span class="token string">"../luckImg/ai.jpg"</span><span class="token punctuation">,</span>
        <span class="token string">"../luckImg/ai.jpg"</span><span class="token punctuation">,</span>
        <span class="token string">"../luckImg/ai.jpg"</span><span class="token punctuation">,</span>
        <span class="token string">"../luckImg/ai.jpg"</span><span class="token punctuation">,</span>
        <span class="token string">"../luckImg/ai.jpg"</span><span class="token punctuation">,</span>
         <span class="token string">"../luckImg/ai.jpg"</span>
    <span class="token punctuation">]</span>

    <span class="token keyword">function</span> <span class="token function">appendItem</span><span class="token punctuation">(</span><span class="token parameter">data<span class="token punctuation">,</span>count</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> count<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> data<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">let</span> item <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"&lt;div class='lucky-draw-item'"</span> <span class="token operator">+</span>
                    <span class="token string">" data-index='"</span><span class="token operator">+</span> i <span class="token operator">+</span><span class="token string">"'&gt;&lt;/div&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">let</span> img <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"&lt;img src='"</span> <span class="token operator">+</span> dataImg<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">"'&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">let</span> pName <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"&lt;p class=\"lucky-draw-name\"&gt;"</span> <span class="token operator">+</span> dataName<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">"&lt;/p&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token function">$</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>img<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token function">$</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>pName<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".lucky-element-wrap"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token function">appendItem</span><span class="token punctuation">(</span>data1<span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 填充抽奖数组</span>
   	<span class="token keyword">let</span> luckyElementWrapper <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.lucky-element-wrap'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 抽奖元素容器</span>
	<span class="token keyword">let</span> itemWrapper <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'.lucky-draw-item'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">// 抽奖元素项容器</span>
	luckyDrawWrapper<span class="token punctuation">.</span>style<span class="token punctuation">.</span>width <span class="token operator">=</span> perWidth <span class="token operator">*</span> <span class="token number">7</span> <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>                       <span class="token comment">// 一行显示7个</span>
	luckyElementWrapper<span class="token punctuation">.</span>style<span class="token punctuation">.</span>width <span class="token operator">=</span> perWidth <span class="token operator">*</span> itemWrapper<span class="token punctuation">.</span>length <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>   <span class="token comment">// 设置抽奖元素容器总宽度</span>
    <span class="token comment">//封装生成随机数函数</span>
    <span class="token keyword">function</span> <span class="token function">getRandom</span><span class="token punctuation">(</span><span class="token parameter">n<span class="token punctuation">,</span> m</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>m <span class="token operator">-</span> n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// wrapper 初始化</span>
    <span class="token keyword">function</span> <span class="token function">swiperInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        luckyElementWrapper<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token string">'-'</span> <span class="token operator">+</span> perWidth <span class="token operator">*</span> index <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 移动</span>
    <span class="token keyword">function</span> <span class="token function">leftMove</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        index<span class="token operator">++</span><span class="token punctuation">;</span>
        luckyElementWrapper<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token string">'-'</span> <span class="token operator">+</span> perWidth <span class="token operator">*</span> index <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
        luckyElementWrapper<span class="token punctuation">.</span>style<span class="token punctuation">.</span>transition <span class="token operator">=</span> <span class="token string">'left 0.5s ease-out'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 自动滚动</span>
    <span class="token keyword">function</span> <span class="token function">autoplay</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        timer <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">leftMove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">&gt;=</span> data1<span class="token punctuation">.</span>length <span class="token operator">*</span> turnsNumber <span class="token operator">-</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// 空转之后开始减慢</span>
                <span class="token function">clearInterval</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span>
                timer <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
                    luckyElementWrapper<span class="token punctuation">.</span>style<span class="token punctuation">.</span>transition <span class="token operator">=</span> <span class="token string">'left 0.5s ease-in-out'</span><span class="token punctuation">;</span>
                    <span class="token function">leftMove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">===</span> random <span class="token operator">-</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>  <span class="token comment">// 中奖图片要停留到中间，如果刚刚好它中奖图片会停留在第一个位置，所以要减少移动三个图片的位置</span>
                        <span class="token keyword">var</span> luckNode <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span>itemWrapper<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>random<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                            <span class="token comment">// 显示中奖结果</span>
                            <span class="token keyword">let</span> index <span class="token operator">=</span> luckNode<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"data-index"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                            <span class="token function">$</span><span class="token punctuation">(</span>luckyResult<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">"img"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">"src"</span><span class="token punctuation">,</span>dataImg<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                            <span class="token keyword">let</span> text <span class="token operator">=</span> <span class="token string">"中奖啦！！请"</span> <span class="token operator">+</span> dataName<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">+</span><span class="token string">"同学&lt;/br&gt;起立问答问题"</span>
                            <span class="token function">$</span><span class="token punctuation">(</span>luckyResult<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">"p"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">;</span>
                            <span class="token function">$</span><span class="token punctuation">(</span>luckyResult<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">slideDown</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">550</span><span class="token punctuation">)</span>
                        <span class="token function">clearInterval</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 抽奖点击</span>
    <span class="token function">$</span><span class="token punctuation">(</span>btn<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".lucky-draw-results"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">slideUp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">clearInterval</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span>
        luckyElementWrapper<span class="token punctuation">.</span>style<span class="token punctuation">.</span>transition <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
        index <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        random <span class="token operator">=</span> <span class="token function">getRandom</span><span class="token punctuation">(</span>data1<span class="token punctuation">.</span>length <span class="token operator">*</span> turnsNumber<span class="token punctuation">,</span> data1<span class="token punctuation">.</span>length <span class="token operator">*</span> <span class="token number">4</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">swiperInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">autoplay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token comment">// 确认点击</span>
    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".lucky-draw-results input"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".lucky-draw-results"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">slideUp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token comment">// 初始化设置</span>
    <span class="token keyword">function</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

        <span class="token function">swiperInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<h3><a id="_274"></a>具体实现：</h3> 
<p>设置抽奖元素容器总宽度</p> 
<pre><code class="prism language-js"><span class="token keyword">let</span> luckyElementWrapper <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.lucky-element-wrap'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 抽奖元素容器</span>
<span class="token keyword">let</span> itemWrapper <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'.lucky-draw-item'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">// 抽奖元素项容器</span>
luckyDrawWrapper<span class="token punctuation">.</span>style<span class="token punctuation">.</span>width <span class="token operator">=</span> perWidth <span class="token operator">*</span> <span class="token number">7</span> <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>                       <span class="token comment">// 一行显示7个</span>
luckyElementWrapper<span class="token punctuation">.</span>style<span class="token punctuation">.</span>width <span class="token operator">=</span> perWidth <span class="token operator">*</span> itemWrapper<span class="token punctuation">.</span>length <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>   <span class="token comment">// 设置抽奖元素容器总宽度</span>
</code></pre> 
<p>每次左移 = luckElementWrapper.style.left = - perWidth * index px<br> 填充抽奖元素数组，我这填充了五次就有五组相同的数据左移实现了轮滚的效果</p> 
<blockquote> 
 <p>appendItem(data1,5); // 填充抽奖数组</p> 
</blockquote> 
<p>一二数组用来空滚，三四用来抽奖，五用来补位，假如随机到最后一个下标，</p> 
<p>就会出现留白的情况所以需要补位填充</p> 
<p><img src="https://images2.imgbox.com/82/65/iVBag7dc_o.png" alt="img"></p> 
<p>随机的下标范围数组2-4，这个下标是相对于抽奖容器的所有元素</p> 
<blockquote> 
 <p>random = getRandom(data1.length * turnsNumber, data1.length * 4 - 1); // 随机下标</p> 
</blockquote> 
<p>空转之后减慢滚动速度寻找中奖的下标</p> 
<blockquote> 
 <p>if (index &gt;= data1.length * turnsNumber - 4) // 空转之后减慢滚动速度寻找中奖的下标</p> 
</blockquote> 
<p>滚动两圈之后变慢，虽然实现了滚动减慢的效果但不是很好，不是慢慢减慢我使用的是定时器只是固定一个大</p> 
<p>间隔也设置过间隔变量让间隔持续变大但是行不通，欢迎指正。</p> 
<p>最后：</p> 
<p>通过这个抽奖的小Demo，发现因为很久没敲js很多前端的东西都记不清了，当时的作的笔记也不详细</p> 
<p>笔记很重要呀，我得找个时间复习补补笔记了bye。</p> 
<p>11-26补充：<br> 距离中奖的下标还有七张图片的距离减慢，定时器间隔为250</p> 
<blockquote> 
 <p>if (index &gt;= random - 7) { // 空转之后开始减慢,random空转两次的下标</p> 
</blockquote> 
<h2><a id="1127_316"></a>11-27更新：带停止的抽奖</h2> 
<h3><a id="_317"></a>效果：</h3> 
<p><img src="https://images2.imgbox.com/f1/c6/iJE7aVCi_o.gif" alt="请添加图片描述"></p> 
<h3><a id="_322"></a>代码：</h3> 
<pre><code class="prism language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- 外层容器 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>lucky-draw<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--    &amp;lt;!&amp;ndash; 中间标识箭头 &amp;ndash;&amp;gt;--&gt;</span>
    <span class="token comment">&lt;!--    &lt;div class="lucky-draw-line"&gt;&lt;/div&gt;--&gt;</span>
    <span class="token comment">&lt;!--  抽奖元素容器通过 -left 移动 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>lucky-element-wrap<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>lucky-draw-item<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>../luckImg/aiHuanZhi.jpg<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
       	 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>lucky-draw-name<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>0&lt;/p
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 抽奖结果 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>lucky-draw-results<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>../luckImg/aiHuanZhi.jpg<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ballon<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>中奖啦！！请XXX同学
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>br</span><span class="token punctuation">&gt;</span></span>起立问答问题<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>确认<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>抽奖<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btn<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>../js/jquery-1.7.2.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">let</span> random<span class="token punctuation">;</span>              <span class="token comment">// 随机数</span>
    <span class="token keyword">let</span> perWidth <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">;</span>     <span class="token comment">// 一张图片的宽度</span>
    <span class="token keyword">let</span> luckyDrawWrapper <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.lucky-draw'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 最外层容器</span>
    <span class="token keyword">let</span> index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>          <span class="token comment">// 当前是第几张图片</span>
    <span class="token keyword">let</span> timer<span class="token punctuation">;</span>              <span class="token comment">// 定时器标识</span>
    <span class="token keyword">let</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#btn'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> luckyResult <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.lucky-draw-results'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 中奖结果</span>
    <span class="token keyword">let</span> dataObject <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{<!-- --></span><span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"1"</span><span class="token punctuation">,</span><span class="token string-property property">"imgSrc"</span><span class="token operator">:</span> <span class="token string">"../luckImg/aiHuanZhi.jpg"</span><span class="token punctuation">,</span> <span class="token string-property property">"weight"</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{<!-- --></span><span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"2"</span><span class="token punctuation">,</span><span class="token string-property property">"imgSrc"</span><span class="token operator">:</span> <span class="token string">"../luckImg/duanJunTao.jpg"</span><span class="token punctuation">,</span> <span class="token string-property property">"weight"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{<!-- --></span><span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"3"</span><span class="token punctuation">,</span><span class="token string-property property">"imgSrc"</span><span class="token operator">:</span> <span class="token string">"../luckImg/gaoJiaFu.jpg"</span><span class="token punctuation">,</span> <span class="token string-property property">"weight"</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{<!-- --></span><span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"4"</span><span class="token punctuation">,</span><span class="token string-property property">"imgSrc"</span><span class="token operator">:</span> <span class="token string">"../luckImg/gouYaoKun.jpg"</span><span class="token punctuation">,</span> <span class="token string-property property">"weight"</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{<!-- --></span><span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"5"</span><span class="token punctuation">,</span><span class="token string-property property">"imgSrc"</span><span class="token operator">:</span> <span class="token string">"../luckImg/heLiang.jpg"</span><span class="token punctuation">,</span> <span class="token string-property property">"weight"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{<!-- --></span><span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"6"</span><span class="token punctuation">,</span><span class="token string-property property">"imgSrc"</span><span class="token operator">:</span> <span class="token string">"../luckImg/huangShang.jpg"</span><span class="token punctuation">,</span> <span class="token string-property property">"weight"</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{<!-- --></span><span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"7"</span><span class="token punctuation">,</span><span class="token string-property property">"imgSrc"</span><span class="token operator">:</span> <span class="token string">"../luckImg/huangYing.jpg"</span><span class="token punctuation">,</span> <span class="token string-property property">"weight"</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{<!-- --></span><span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"8"</span><span class="token punctuation">,</span><span class="token string-property property">"imgSrc"</span><span class="token operator">:</span> <span class="token string">"../luckImg/kuangLiPing.jpg"</span><span class="token punctuation">,</span> <span class="token string-property property">"weight"</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{<!-- --></span><span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"9"</span><span class="token punctuation">,</span><span class="token string-property property">"imgSrc"</span><span class="token operator">:</span> <span class="token string">"../luckImg/leiChenYu.jpg"</span><span class="token punctuation">,</span> <span class="token string-property property">"weight"</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{<!-- --></span><span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"11"</span><span class="token punctuation">,</span><span class="token string-property property">"imgSrc"</span><span class="token operator">:</span> <span class="token string">"../luckImg/leiKang.jpg"</span><span class="token punctuation">,</span> <span class="token string-property property">"weight"</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{<!-- --></span><span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"12"</span><span class="token punctuation">,</span><span class="token string-property property">"imgSrc"</span><span class="token operator">:</span> <span class="token string">"../luckImg/liuJinXiang.jpg"</span><span class="token punctuation">,</span> <span class="token string-property property">"weight"</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{<!-- --></span><span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"李12"</span><span class="token punctuation">,</span><span class="token string-property property">"imgSrc"</span><span class="token operator">:</span> <span class="token string">"../luckImg/liYuQing.jpg"</span><span class="token punctuation">,</span> <span class="token string-property property">"weight"</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{<!-- --></span><span class="token string-property property">"name"</span><span class="token operator">:</span>  <span class="token string">"唐12"</span><span class="token punctuation">,</span><span class="token string-property property">"imgSrc"</span><span class="token operator">:</span> <span class="token string">"../luckImg/tangCaiQing.jpg"</span><span class="token punctuation">,</span> <span class="token string-property property">"weight"</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{<!-- --></span><span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"唐23"</span><span class="token punctuation">,</span><span class="token string-property property">"imgSrc"</span><span class="token operator">:</span> <span class="token string">"../luckImg/tangErHuang.jpg"</span><span class="token punctuation">,</span> <span class="token string-property property">"weight"</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{<!-- --></span><span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"唐213"</span><span class="token punctuation">,</span><span class="token string-property property">"imgSrc"</span><span class="token operator">:</span> <span class="token string">"../luckImg/tangJiaYing.jpg"</span><span class="token punctuation">,</span> <span class="token string-property property">"weight"</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{<!-- --></span><span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"唐12"</span><span class="token punctuation">,</span><span class="token string-property property">"imgSrc"</span><span class="token operator">:</span> <span class="token string">"../luckImg/tangZhiJiang.jpg"</span><span class="token punctuation">,</span> <span class="token string-property property">"weight"</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{<!-- --></span><span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"王12"</span><span class="token punctuation">,</span><span class="token string-property property">"imgSrc"</span><span class="token operator">:</span> <span class="token string">"../luckImg/wangDong.jpg"</span><span class="token punctuation">,</span> <span class="token string-property property">"weight"</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{<!-- --></span><span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"王123"</span><span class="token punctuation">,</span><span class="token string-property property">"imgSrc"</span><span class="token operator">:</span>  <span class="token string">"../luckImg/wangPeng.jpg"</span><span class="token punctuation">,</span> <span class="token string-property property">"weight"</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{<!-- --></span><span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"文213"</span><span class="token punctuation">,</span><span class="token string-property property">"imgSrc"</span><span class="token operator">:</span> <span class="token string">"../luckImg/tangZhiJiang.jpg"</span><span class="token punctuation">,</span> <span class="token string-property property">"weight"</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{<!-- --></span><span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"文123"</span><span class="token punctuation">,</span><span class="token string-property property">"imgSrc"</span><span class="token operator">:</span>  <span class="token string">"../luckImg/wenYiHui.jpg"</span><span class="token punctuation">,</span> <span class="token string-property property">"weight"</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{<!-- --></span><span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"曾123"</span><span class="token punctuation">,</span><span class="token string-property property">"imgSrc"</span><span class="token operator">:</span> <span class="token string">"../luckImg/zengBinYan.jpg"</span><span class="token punctuation">,</span> <span class="token string-property property">"weight"</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{<!-- --></span><span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"李123"</span><span class="token punctuation">,</span><span class="token string-property property">"imgSrc"</span><span class="token operator">:</span> <span class="token string">"../luckImg/liYiLi.jpg"</span><span class="token punctuation">,</span><span class="token string-property property">"weight"</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{<!-- --></span><span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"孙123"</span><span class="token punctuation">,</span><span class="token string-property property">"imgSrc"</span><span class="token operator">:</span> <span class="token string">"../luckImg/sunJieSong.jpg"</span><span class="token punctuation">,</span> <span class="token string-property property">"weight"</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>


    <span class="token keyword">function</span> <span class="token function">fillItem</span><span class="token punctuation">(</span><span class="token parameter">data<span class="token punctuation">,</span> count</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">let</span> wrap <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"&lt;div class='lucky-element-wrap'&gt;&lt;/div&gt;&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> count<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> data<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">let</span> item <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"&lt;div class='lucky-draw-item'"</span> <span class="token operator">+</span>
                    <span class="token string">" data-index='"</span><span class="token operator">+</span> i <span class="token operator">+</span><span class="token string">"'&gt;&lt;/div&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">let</span> img <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"&lt;img src='"</span> <span class="token operator">+</span> dataObject<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>imgSrc <span class="token operator">+</span> <span class="token string">"'&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">let</span> pName <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"&lt;p class=\"lucky-draw-name\"&gt;"</span> <span class="token operator">+</span> dataObject<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">"&lt;/p&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token function">$</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>img<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token function">$</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>pName<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token function">$</span><span class="token punctuation">(</span>wrap<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".lucky-element-wrap"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replaceWith</span><span class="token punctuation">(</span>wrap<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">fillItem</span><span class="token punctuation">(</span>dataObject<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 填充抽奖数组</span>
    <span class="token comment">// wrapper 初始化</span>
    <span class="token keyword">let</span> luckyElementWrapper <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.lucky-element-wrap'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 抽奖元素容器</span>
    <span class="token keyword">let</span> itemWrapper <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'.lucky-draw-item'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">function</span> <span class="token function">swiperInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        luckyDrawWrapper<span class="token punctuation">.</span>style<span class="token punctuation">.</span>width <span class="token operator">=</span> perWidth <span class="token operator">*</span> <span class="token number">7</span> <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>                       <span class="token comment">// 一行显示7个</span>
        luckyElementWrapper<span class="token punctuation">.</span>style<span class="token punctuation">.</span>width <span class="token operator">=</span> perWidth <span class="token operator">*</span> <span class="token punctuation">(</span>itemWrapper<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>   <span class="token comment">// 设置抽奖元素容器总宽度,空填6实测减7</span>
        luckyElementWrapper<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token string">'-'</span> <span class="token operator">+</span> perWidth <span class="token operator">*</span> index <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 向右移动一张图片的距离</span>
    <span class="token keyword">let</span> iSpeed <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">200</span><span class="token punctuation">;</span>
    <span class="token keyword">function</span> <span class="token function">fnMove</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">//图片向左移动时的条件，即在div里的抽奖容器的offsetLeft小于一个抽奖容器的宽度</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>luckyElementWrapper<span class="token punctuation">.</span>offsetLeft <span class="token operator">&lt;</span> <span class="token operator">-</span>luckyElementWrapper<span class="token punctuation">.</span>offsetWidth <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">//将整个复制的抽奖容器向右拖拽直至整个抽奖容器中的第一张图归位到起点</span>
            luckyElementWrapper<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">//图片向右移动时的条件，即在div里的抽奖容器的offsetLeft大于等于0</span>
        <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>luckyElementWrapper<span class="token punctuation">.</span>offsetLeft <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">//将整个复制的抽奖容器向左拖拽直至整个抽奖容器中的第一张图归位到起点</span>
            luckyElementWrapper<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token operator">-</span>luckyElementWrapper<span class="token punctuation">.</span>offsetWidth <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token string">"px"</span><span class="token punctuation">;</span>
            <span class="token comment">// alert(luckyElementWrapper.offsetLeft)</span>
        <span class="token punctuation">}</span>
        <span class="token comment">//给抽奖容器一个速度让整个抽奖容器的offsetLeft增加或减少，速度为正则向右移动，速度为负则向左移动</span>
        luckyElementWrapper<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> luckyElementWrapper<span class="token punctuation">.</span>offsetLeft <span class="token operator">+</span> iSpeed <span class="token operator">+</span> <span class="token string">"px"</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> index <span class="token operator">=</span>  Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span><span class="token function">parseInt</span><span class="token punctuation">(</span>luckyElementWrapper<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">function</span> <span class="token function">showResult</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">let</span> index <span class="token operator">=</span>  Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span><span class="token function">parseInt</span><span class="token punctuation">(</span>luckyElementWrapper<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 加三超出数组范围的下标</span>
             <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">===</span> dataObject<span class="token punctuation">.</span>length <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                index <span class="token operator">=</span> <span class="token number">4</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">===</span> dataObject<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                index <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">===</span> dataObject<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">===</span> dataObject<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                index <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">===</span> dataObject<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                 index <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
             <span class="token punctuation">}</span>
             <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
                index <span class="token operator">+=</span> <span class="token number">3</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"index"</span> <span class="token operator">+</span> index<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">$</span><span class="token punctuation">(</span>luckyResult<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">"img"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">"src"</span><span class="token punctuation">,</span>dataObject<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>imgSrc<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">let</span> text <span class="token operator">=</span> <span class="token string">"中奖啦！！请"</span> <span class="token operator">+</span> dataObject<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>name <span class="token operator">+</span><span class="token string">"同学&lt;/br&gt;起立问答问题"</span>
            <span class="token function">$</span><span class="token punctuation">(</span>luckyResult<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">"p"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">$</span><span class="token punctuation">(</span>luckyResult<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">slideDown</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    <span class="token keyword">let</span> flag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token comment">// 抽奖点击</span>
    <span class="token function">$</span><span class="token punctuation">(</span>btn<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>flag<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">$</span><span class="token punctuation">(</span>luckyResult<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">slideUp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            timer <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span>fnMove<span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token string">"停止"</span><span class="token punctuation">)</span>
            flag <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span>  <span class="token punctuation">{<!-- --></span>
            <span class="token function">showResult</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">clearInterval</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token string">"开始"</span><span class="token punctuation">)</span>
            flag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token comment">// 确认能点击</span>
    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".lucky-draw-results input"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".lucky-draw-results"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">slideUp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token comment">// 初始化设置</span>
    <span class="token keyword">function</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">swiperInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>参考https://blog.csdn.net/m0_62617719/article/details/128087076</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/92ae492f1b5f0224c5b745734267d405/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">人流量监测识别摄像机</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/2c4267dc494b70b48721b7fc3ece68ec/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">RISC-V搭建嵌入式QT开发环境</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>