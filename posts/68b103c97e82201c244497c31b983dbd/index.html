<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>OpenApi接口的一次调用经历(附代码) - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="OpenApi接口的一次调用经历(附代码)" />
<meta property="og:description" content="去弄一个api_key：https://platform.openai.com/account/api-keys 先看所有能用的模型：
​ import openai openai.api_key = &#39;sk-3MXseSpzjlPaPg0jKMPuT3BlbkFJ70WHA5twkr&#39; # 列出所有GPT-3模型 models = openai.Model.list() for model in models[&#34;data&#34;]: print(model[&#34;id&#34;]) ​ 返回：
babbage davinci text-davinci-edit-001 babbage-code-search-code text-similarity-babbage-001 code-davinci-edit-001 text-davinci-001 ada curie-instruct-beta babbage-code-search-text babbage-similarity whisper-1 code-search-babbage-text-001 text-curie-001 code-search-babbage-code-001 text-ada-001 text-embedding-ada-002 text-similarity-ada-001 ada-code-search-code ada-similarity text-davinci-003 code-search-ada-text-001 text-search-ada-query-001 davinci-search-document ada-code-search-text text-search-ada-doc-001 davinci-instruct-beta text-similarity-curie-001 code-search-ada-code-001 ada-search-query text-search-davinci-query-001 curie-search-query gpt-3.5-turbo-0301 davinci-search-query babbage-search-document ada-search-document text-search-curie-query-001 text-search-babbage-doc-001 gpt-3.5-turbo curie-search-document text-search-curie-doc-001 babbage-search-query text-babbage-001 text-search-davinci-doc-001 text-search-babbage-query-001 curie-similarity curie text-similarity-davinci-001 text-davinci-002 davinci-similarity cushman:2020-05-03 ada:2020-05-03 babbage:2020-05-03 curie:2020-05-03 davinci:2020-05-03 if-davinci-v2 if-curie-v2 if-davinci:3." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/68b103c97e82201c244497c31b983dbd/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-03-28T15:15:18+08:00" />
<meta property="article:modified_time" content="2023-03-28T15:15:18+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">OpenApi接口的一次调用经历(附代码)</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>去弄一个api_key：<a href="https://platform.openai.com/account/api-keys" rel="nofollow" title="https://platform.openai.com/account/api-keys">https://platform.openai.com/account/api-keys</a> </p> 
<p><img alt="" height="703" src="https://images2.imgbox.com/88/65/Tko5A6nc_o.png" width="1200"></p> 
<p> 先看所有能用的模型：</p> 
<pre><code>​
import openai

openai.api_key = 'sk-3MXseSpzjlPaPg0jKMPuT3BlbkFJ70WHA5twkr'

# 列出所有GPT-3模型
models = openai.Model.list()
for model in models["data"]:
    print(model["id"])

​</code></pre> 
<p>返回：</p> 
<blockquote> 
 <p>babbage davinci text-davinci-edit-001 babbage-code-search-code text-similarity-babbage-001 code-davinci-edit-001 text-davinci-001 ada curie-instruct-beta babbage-code-search-text babbage-similarity whisper-1 code-search-babbage-text-001 text-curie-001 code-search-babbage-code-001 text-ada-001 text-embedding-ada-002 text-similarity-ada-001 ada-code-search-code ada-similarity text-davinci-003 code-search-ada-text-001 text-search-ada-query-001 davinci-search-document ada-code-search-text text-search-ada-doc-001 davinci-instruct-beta text-similarity-curie-001 code-search-ada-code-001 ada-search-query text-search-davinci-query-001 curie-search-query gpt-3.5-turbo-0301 davinci-search-query babbage-search-document ada-search-document text-search-curie-query-001 text-search-babbage-doc-001 gpt-3.5-turbo curie-search-document text-search-curie-doc-001 babbage-search-query text-babbage-001 text-search-davinci-doc-001 text-search-babbage-query-001 curie-similarity curie text-similarity-davinci-001 text-davinci-002 davinci-similarity cushman:2020-05-03 ada:2020-05-03 babbage:2020-05-03 curie:2020-05-03 davinci:2020-05-03 if-davinci-v2 if-curie-v2 if-davinci:3.0.0 davinci-if:3.0.0 davinci-instruct-beta:2.0.0 text-ada:001 text-davinci:001 text-curie:001 text-babbage:001</p> 
</blockquote> 
<p>您可以使用这些模型中的大多数模型。但是，某些模型可能需要不同的API密钥或使用不同的API端点。例如，一些模型只能用于文本生成，而另一些模型只能用于编码或搜索。您需要仔细查看OpenAI文档，以了解每个模型的用途和限制，并确保您的代码正确地调用所选模型。</p> 
<p>值得注意的是，某些模型可能需要更高的OpenAI订阅级别，以获得更好的性能和额外的功能。例如，某些模型可能需要使用较大的最大生成长度，而其他模型可能需要使用更多的API调用以实现更好的文本生成质量。如果您想要使用这些功能，则需要升级您的OpenAI订阅。</p> 
<h4><strong>gpt-3.5-turbo模型 需要订阅吗？</strong></h4> 
<blockquote> 
 <p>是的，gpt-3.5-turbo模型需要付费订阅，而且需要较高的OpenAI订阅级别。如果您想使用gpt-3.5-turbo模型，您需要拥有OpenAI的Developer Pro或Team Pro订阅才能使用。同时，请注意，使用该模型会产生相对较高的费用。因此，在使用该模型之前，请确保您已经了解了OpenAI的价格计划并做好了相应的预算。</p> 
</blockquote> 
<p>然后选用了这个模型：davinci</p> 
<pre><code>import openai
import time

openai.api_key = 'sk-3MXseSpzjlPaPg0jKMPuT3BlbkFJ70WHA5twkr'

def ask_openai(question, model, max_tokens=50):
    """Asks a question to OpenAI's API and returns the response."""
    prompt = f"Q: {question}\nA:"
    response = openai.Completion.create(
        engine=model,
        prompt=prompt,
        max_tokens=max_tokens,
        n=1,
        stop=None,
        temperature=0.7,
    )
    answer = response.choices[0].text.strip()
    return answer

model = "davinci"
while True:
    question = input("You: ")
    if question.lower() == "exit":
        break
    start_time = time.time()
    answer = ask_openai(question, model)
    end_time = time.time()
    print(f"Bot: {answer} ({end_time - start_time:.2f} seconds)")</code></pre> 
<p><img alt="" height="201" src="https://images2.imgbox.com/2b/ef/3HlyLeLD_o.png" width="334"></p> 
<p> 算了，不用了。。。</p> 
<p></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/cf52165a9e3e164e3489fd85d24bcc83/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Linux-磁盘挂载</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/2eeaddb6d1e7c28b6ed3a22bd8e17fa3/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">输入框正则表达式</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>