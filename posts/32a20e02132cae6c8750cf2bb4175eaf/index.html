<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>无向图 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="无向图" />
<meta property="og:description" content="无向图 术语表表示无向图的数据类型深度优先搜索广度优先搜索连通分量 在很多计算机应用中，由相连的节点所表示的模型起到了关键作用。为了描述这些问题，我们要使用一种抽象的数学对象，叫做图。
图论作为数学领域中的一个重要分支已经有数百年的历史了，关于图的算法研究相对来说才开始不久。尽管有些基础的算法在几个世纪前就已经发现了，但大多数有趣的结论都是近几十年才被发现。
图论有着广泛的应用，比如地图、计算机网络、电路、任务调度、社交网络等等。
术语表 在无向图中，边仅仅是两个顶点之间的连接。
图是由一组顶点和一组能够将两个顶点相连的边组成的
我们使用0至V-1来表示一张含有V个顶点的图中各个顶点，这样是为了方便使用数组索引来编写能够高效访问各个顶点中信息的代码。
特殊的图
自环：即一条连接一个顶点和其自身的边
平行边：连接同一对顶点的多条边
如果从任意一个顶点都存在一条路径到达另一个任意顶点，我们称这幅图是连通图。一幅非连通的图由若干连通的部分组成，它们都是极大连通子图。一般来说，要处理一张图就要一个个地处理它的连通分量。树是一幅无环连通图。
树的定义非常有用，稍作改动就可以变成用来描述程序行为的（函数调用层次）模型和数据结构（二叉查找树）。
当且仅当一幅含有V个顶点的图G满足下列5个条件之一是，它就是一棵树：
G有V-1条边且不含环G有V-1条边且是连通的G是连通的，但删除任意一条边都会使它不再连通G是无环的，但添加任意一条边都会产生一条环G中任意一对顶点之间仅存在一条简单路径 图的密度是指已经连接的顶点对占所有可能被连接的顶点对的比例。在稀疏图中，被连接的顶点对很少，而在稠密图中，只有少部分定点对之间没有边连接。
二分图是一种能够将所有节点分为两部分的图，其中图的每条边所连接的两个顶点都分别属于不同的部分。
表示无向图的数据类型 数据结构需要有以下两种要求：
它必须为可能在应用中碰到的各种类型的图预留出足够的空间Graph的实例方法的实现一定要快 邻接矩阵：邻接矩阵对内存的要求太高，不满足第一个条件。
事实上，我们可以使用邻接表数组，我们可以使用一个以顶点为索引的列表数组，其中每个元素都是和该顶点相邻的顶点列表。
数据结构使用的空间和V&#43;E成正比
添加一条边所需的时间为常数
遍历顶点V的所有相邻顶点所需的时间和V的度数成正比
多个不同的邻接表可能表示同一幅图
class Graph { private: const int V; // vertex num int E = 0; // edge num std::vector&lt;std::vector&lt;int&gt;&gt; adj; public: Graph(int V) : V(V) { adj.resize(V); } int getV() { return V; } int getE() { return E; } void addEdge(int v, int w) { adj[v]." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/32a20e02132cae6c8750cf2bb4175eaf/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-01-01T21:40:05+08:00" />
<meta property="article:modified_time" content="2021-01-01T21:40:05+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">无向图</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>无向图</h4> 
 <ul><li><ul><li><a href="#_8" rel="nofollow">术语表</a></li><li><a href="#_36" rel="nofollow">表示无向图的数据类型</a></li><li><a href="#_68" rel="nofollow">深度优先搜索</a></li><li><a href="#_135" rel="nofollow">广度优先搜索</a></li><li><a href="#_194" rel="nofollow">连通分量</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<p>在很多计算机应用中，由相连的节点所表示的模型起到了关键作用。为了描述这些问题，我们要使用一种抽象的数学对象，叫做<strong>图</strong>。</p> 
<p>图论作为数学领域中的一个重要分支已经有数百年的历史了，关于图的算法研究相对来说才开始不久。尽管有些基础的算法在几个世纪前就已经发现了，但大多数有趣的结论都是近几十年才被发现。</p> 
<p>图论有着广泛的应用，比如地图、计算机网络、电路、任务调度、社交网络等等。</p> 
<h3><a id="_8"></a>术语表</h3> 
<p>在无向图中，边仅仅是两个顶点之间的连接。</p> 
<blockquote> 
 <p>图是由一组顶点和一组能够将两个顶点相连的边组成的</p> 
</blockquote> 
<p>我们使用0至V-1来表示一张含有V个顶点的图中各个顶点，这样是为了方便使用数组索引来编写能够高效访问各个顶点中信息的代码。</p> 
<p><strong>特殊的图</strong></p> 
<blockquote> 
 <p>自环：即一条连接一个顶点和其自身的边<br> 平行边：连接同一对顶点的多条边</p> 
</blockquote> 
<p>如果从任意一个顶点都存在一条路径到达另一个任意顶点，我们称这幅图是连通图。一幅非连通的图由若干连通的部分组成，它们都是极大连通子图。一般来说，要处理一张图就要一个个地处理它的连通分量。<strong>树</strong>是一幅无环连通图。</p> 
<p>树的定义非常有用，稍作改动就可以变成用来描述程序行为的（函数调用层次）模型和数据结构（二叉查找树）。</p> 
<p>当且仅当一幅含有V个顶点的图G满足下列5个条件之一是，它就是一棵树：</p> 
<ul><li>G有V-1条边且不含环</li><li>G有V-1条边且是连通的</li><li>G是连通的，但删除任意一条边都会使它不再连通</li><li>G是无环的，但添加任意一条边都会产生一条环</li><li>G中任意一对顶点之间仅存在一条简单路径</li></ul> 
<p>图的<strong>密度</strong>是指已经连接的顶点对占所有可能被连接的顶点对的比例。在<strong>稀疏图</strong>中，被连接的顶点对很少，而在<strong>稠密图</strong>中，只有少部分定点对之间没有边连接。</p> 
<p><strong>二分图</strong>是一种能够将所有节点分为两部分的图，其中图的每条边所连接的两个顶点都分别属于不同的部分。</p> 
<h3><a id="_36"></a>表示无向图的数据类型</h3> 
<p>数据结构需要有以下两种要求：</p> 
<ul><li>它必须为可能在应用中碰到的各种类型的图预留出足够的空间</li><li>Graph的实例方法的实现一定要快</li></ul> 
<p><strong>邻接矩阵</strong>：邻接矩阵对内存的要求太高，不满足第一个条件。</p> 
<p>事实上，我们可以使用<strong>邻接表数组</strong>，我们可以使用一个以顶点为索引的列表数组，其中每个元素都是和该顶点相邻的顶点列表。</p> 
<blockquote> 
 <p>数据结构使用的空间和V+E成正比<br> 添加一条边所需的时间为常数<br> 遍历顶点V的所有相邻顶点所需的时间和V的度数成正比<br> 多个不同的邻接表可能表示同一幅图</p> 
</blockquote> 
<pre><code class="prism language-cpp"><span class="token keyword">class</span> <span class="token class-name">Graph</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">private</span><span class="token operator">:</span>
    <span class="token keyword">const</span> <span class="token keyword">int</span> V<span class="token punctuation">;</span>      <span class="token comment">// vertex num</span>
    <span class="token keyword">int</span> E <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token comment">// edge num</span>
    std<span class="token operator">::</span>vector<span class="token operator">&lt;</span>std<span class="token operator">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;&gt;</span> adj<span class="token punctuation">;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token function">Graph</span><span class="token punctuation">(</span><span class="token keyword">int</span> V<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">V</span><span class="token punctuation">(</span>V<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> adj<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>V<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">int</span> <span class="token function">getV</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token keyword">return</span> V<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">int</span> <span class="token function">getE</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token keyword">return</span> E<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">void</span> <span class="token function">addEdge</span><span class="token punctuation">(</span><span class="token keyword">int</span> v<span class="token punctuation">,</span> <span class="token keyword">int</span> w<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> adj<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>w<span class="token punctuation">)</span><span class="token punctuation">;</span> adj<span class="token punctuation">[</span>w<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span> E<span class="token operator">++</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
    std<span class="token operator">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token function">getAdj</span><span class="token punctuation">(</span><span class="token keyword">int</span> v<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token keyword">return</span> adj<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">auto</span> <span class="token function">getAdjs</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token keyword">return</span> adj<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<h3><a id="_68"></a>深度优先搜索</h3> 
<p>要搜索一幅图，只需用一个递归方法来遍历所有顶点，在访问其中一个顶点时：</p> 
<ol><li>将它标记为已访问</li><li>递归的访问它的所有没有被标记过的邻居顶点</li></ol> 
<p>在图中，我们会路过每条边两次（在它的两个端点各一次），这意味着深度优先搜索的轨迹可能会比预想的长一倍。标记数组防止了死循环。</p> 
<p>算法遍历边和访问顶点的顺序与图的表示是有关的，而不只是与图的结构或是算法有关。</p> 
<pre><code class="prism language-cpp"><span class="token keyword">class</span> <span class="token class-name">DepthFirstSearch</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">private</span><span class="token operator">:</span>
    std<span class="token operator">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">bool</span><span class="token operator">&gt;</span> marked <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">dfs</span><span class="token punctuation">(</span>Graph G<span class="token punctuation">,</span> <span class="token keyword">int</span> v<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        marked<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        count<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> w <span class="token operator">:</span> G<span class="token punctuation">.</span><span class="token function">getAdj</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>marked<span class="token punctuation">[</span>w<span class="token punctuation">]</span><span class="token punctuation">)</span>
                <span class="token function">dfs</span><span class="token punctuation">(</span>G<span class="token punctuation">,</span> w<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token function">DepthFirstSearch</span><span class="token punctuation">(</span>Graph G<span class="token punctuation">,</span> <span class="token keyword">int</span> s<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> marked<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>G<span class="token punctuation">.</span><span class="token function">getV</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">dfs</span><span class="token punctuation">(</span>G<span class="token punctuation">,</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">bool</span> <span class="token function">getMarked</span><span class="token punctuation">(</span><span class="token keyword">int</span> w<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token keyword">return</span> marked<span class="token punctuation">[</span>w<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">int</span> <span class="token function">getCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token keyword">return</span> count<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<p>深度优先搜索能有效处理许多和图有关的任务，例如“判断两个顶点的连通性”和“计算图中连通子图的个数”。</p> 
<p>我们可以使用深度优先搜索来寻找路径。</p> 
<pre><code class="prism language-cpp"><span class="token keyword">class</span> <span class="token class-name">DepthFirstPaths</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">private</span><span class="token operator">:</span>
    std<span class="token operator">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">bool</span><span class="token operator">&gt;</span> marked <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    std<span class="token operator">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> edgeTo<span class="token punctuation">;</span>
    <span class="token keyword">int</span> s<span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">dfs</span><span class="token punctuation">(</span>Graph G<span class="token punctuation">,</span> <span class="token keyword">int</span> v<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        marked<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> w <span class="token operator">:</span> G<span class="token punctuation">.</span><span class="token function">getAdj</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>marked<span class="token punctuation">[</span>w<span class="token punctuation">]</span><span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                edgeTo<span class="token punctuation">[</span>w<span class="token punctuation">]</span> <span class="token operator">=</span> v<span class="token punctuation">;</span>
                <span class="token function">dfs</span><span class="token punctuation">(</span>G<span class="token punctuation">,</span> w<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token function">DepthFirstPaths</span><span class="token punctuation">(</span>Graph G<span class="token punctuation">,</span> <span class="token keyword">int</span> s<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">s</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> marked<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>G<span class="token punctuation">.</span><span class="token function">getV</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> edgeTo<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>G<span class="token punctuation">.</span><span class="token function">getV</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">dfs</span><span class="token punctuation">(</span>G<span class="token punctuation">,</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">bool</span> <span class="token function">hasPathTo</span><span class="token punctuation">(</span><span class="token keyword">int</span> v<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token keyword">return</span> marked<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    std<span class="token operator">::</span>stack<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token function">pathTo</span><span class="token punctuation">(</span><span class="token keyword">int</span> v<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">hasPathTo</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">;</span>
        std<span class="token operator">::</span>stack<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> path<span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> x <span class="token operator">=</span> v<span class="token punctuation">;</span> x <span class="token operator">!=</span> s<span class="token punctuation">;</span> x <span class="token operator">=</span> edgeTo<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span>
            path<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
        path<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> path<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<blockquote> 
 <p>深度优先搜索标记与起点连通的所有顶点所需的时间和顶点的度数之和成正比<br> 使用深度优先搜索得到从给定起点到任意标记顶点的路径所需的时间与路径的长度成正比</p> 
</blockquote> 
<h3><a id="_135"></a>广度优先搜索</h3> 
<p>深度优先搜索无法解决单点最短路径，但是广度优先搜索可以。</p> 
<p>在搜索一幅图时遇到有多条边需要遍历的情况时，我们会选择其中一条并将其他通道留到以后再继续搜索。在深度优先搜索中，我们使用一个可以下压的栈（这是由系统管理的，以支持递归搜索方法），在广度优先搜索中，使用队列来代替栈即可。</p> 
<p>首先，先将起点加入队列，然后重复一下步骤直至队列为空：</p> 
<ol><li>取队列的下一个顶点v并标记它</li><li>将与v相邻的所有未被标记过的顶点加入队列</li></ol> 
<pre><code class="prism language-cpp"><span class="token keyword">class</span> <span class="token class-name">BreadthFirstPaths</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">private</span><span class="token operator">:</span>
    std<span class="token operator">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">bool</span><span class="token operator">&gt;</span> marked <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    std<span class="token operator">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> edgeTo<span class="token punctuation">;</span>
    <span class="token keyword">int</span> s<span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">bfs</span><span class="token punctuation">(</span>Graph G<span class="token punctuation">,</span> <span class="token keyword">int</span> s<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        std<span class="token operator">::</span>queue<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> q<span class="token punctuation">;</span>
        marked<span class="token punctuation">[</span>s<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>q<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">int</span> v <span class="token operator">=</span> q<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            q<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> w <span class="token operator">:</span> G<span class="token punctuation">.</span><span class="token function">getAdj</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>marked<span class="token punctuation">[</span>w<span class="token punctuation">]</span><span class="token punctuation">)</span>
                <span class="token punctuation">{<!-- --></span>
                    edgeTo<span class="token punctuation">[</span>w<span class="token punctuation">]</span> <span class="token operator">=</span> v<span class="token punctuation">;</span>
                    marked<span class="token punctuation">[</span>w<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
                    q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>w<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token function">BreadthFirstPaths</span><span class="token punctuation">(</span>Graph G<span class="token punctuation">,</span> <span class="token keyword">int</span> s<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">s</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> marked<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>G<span class="token punctuation">.</span><span class="token function">getV</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> edgeTo<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>G<span class="token punctuation">.</span><span class="token function">getV</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">bfs</span><span class="token punctuation">(</span>G<span class="token punctuation">,</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">bool</span> <span class="token function">hasPathTo</span><span class="token punctuation">(</span><span class="token keyword">int</span> v<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token keyword">return</span> marked<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    std<span class="token operator">::</span>stack<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token function">pathTo</span><span class="token punctuation">(</span><span class="token keyword">int</span> v<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">hasPathTo</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">;</span>
        std<span class="token operator">::</span>stack<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> path<span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> x <span class="token operator">=</span> v<span class="token punctuation">;</span> x <span class="token operator">!=</span> s<span class="token punctuation">;</span> x <span class="token operator">=</span> edgeTo<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span>
            path<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
        path<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> path<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<blockquote> 
 <p>对于从s可达的任意顶点v，广度优先搜索都能找到一条从s到v的最短路径<br> 广度优先搜索所需的时间在最坏情况下和V+E成正比</p> 
</blockquote> 
<p>在搜索中，我们都会先将起点存入数据结构中，然后重复以下步骤直到数据结构被清空</p> 
<ol><li>取其中的下一个顶点并标记它</li><li>将v的所有相邻而又未被标记的顶点加入数据结构</li></ol> 
<p>这两种算法的不同之处仅在于从数据结构中获取下一个顶点的规则。</p> 
<h3><a id="_194"></a>连通分量</h3> 
<p>深度优先搜索和广度优先搜索还可以用来找出一幅图的连通分量。</p> 
<pre><code class="prism language-cpp"><span class="token keyword">class</span> <span class="token class-name">CC</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">private</span><span class="token operator">:</span>
    std<span class="token operator">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">bool</span><span class="token operator">&gt;</span> marked <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    std<span class="token operator">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> id<span class="token punctuation">;</span>
    <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">dfs</span><span class="token punctuation">(</span>Graph G<span class="token punctuation">,</span> <span class="token keyword">int</span> v<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        marked<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        id<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">=</span> count<span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> w <span class="token operator">:</span> G<span class="token punctuation">.</span><span class="token function">getAdj</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>marked<span class="token punctuation">[</span>w<span class="token punctuation">]</span><span class="token punctuation">)</span>
                <span class="token function">dfs</span><span class="token punctuation">(</span>G<span class="token punctuation">,</span> w<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token function">CC</span><span class="token punctuation">(</span>Graph G<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        marked<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>G<span class="token punctuation">.</span><span class="token function">getV</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        id<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>G<span class="token punctuation">.</span><span class="token function">getV</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> s <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> s <span class="token operator">&lt;</span> G<span class="token punctuation">.</span><span class="token function">getV</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> s<span class="token operator">++</span><span class="token punctuation">)</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>marked<span class="token punctuation">[</span>s<span class="token punctuation">]</span><span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                <span class="token function">dfs</span><span class="token punctuation">(</span>G<span class="token punctuation">,</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>
                count<span class="token operator">++</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">bool</span> <span class="token function">connected</span><span class="token punctuation">(</span><span class="token keyword">int</span> v<span class="token punctuation">,</span> <span class="token keyword">int</span> w<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token keyword">return</span> id<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">==</span> id<span class="token punctuation">[</span>w<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">int</span> <span class="token function">getId</span><span class="token punctuation">(</span><span class="token keyword">int</span> v<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token keyword">return</span> id<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">int</span> <span class="token function">getCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token keyword">return</span> count<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<blockquote> 
 <p>深度优先搜索的预处理使用的时间和空间与V+E成正比，且可以在常数时间内处理关于图的连通性查询。</p> 
</blockquote> 
<p>下一篇介绍<strong>有向图</strong>。</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/296c732662dfd1d85c6c17487ce32e52/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">rto净化效率计算公式_【搞懂】如何计算RTO空车运行天然气消耗量</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/d9b60c5092caf03c856c6a00afa6e73e/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Linux遇到Aborted (core dumped)</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>