<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>asp.net cookie - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="asp.net cookie" />
<meta property="og:description" content="以下是关于asp.net中cookie的一些相关用法
一、没有子健写入cookie
1、（写）
Response.Cookies[&#34;username&#34;].value=&#34;xiaomengjie&#34;;//设置cookie的值
Response.Cookies[&#34;username&#34;].Expires=DateTime.Now.AddDays(1); //设置cookie的过期时间
（读）
Request.Cookies[&#34;username&#34;].Value;
2、（写）
HttpCookie mycookie = new HttpCookie(&#34;secondcookie&#34;);//创建一个cookie
mycookie.Value = &#34;chengshubo&#34;;//给cookie添加值
mycookie.Expires = DateTime.Now.AddDays(1);//给cookie设置过期时间
Response.AppendCookie(mycookie);//把这个cookie添加到response的cookies集合中
（读）
Request.Cookies[&#34;secondcookie&#34;].Value;
二、带子健的写入cookie
1、（写）
HttpCookie cookie = new HttpCookie(&#34;people&#34;); //创建一个cookie
cookie[&#34;cheng&#34;] = &#34;chengshubo&#34;; //给cookie添加子健
cookie[&#34;xiao&#34;] = &#34;xiaomengjie&#34;;
cookie[&#34;ta&#34;] = &#34;tamen&#34;;
cookie.Expires = DateTime.Now.AddDays(1); //给cookie设置过期时间
Response.Cookies.Add(cookie); //把这个cookie添加到response的cookies集合中
（读）
if (Request.Cookies[&#34;people&#34;] != null)
｛
Request.Cookies[&#34;people&#34;][&#34;cheng&#34;];
Request.Cookies[&#34;people&#34;][&#34;xiao&#34;];
Request.Cookies[&#34;people&#34;][&#34;ta&#34;];
｝
HttpCookie peoplecookies = Request.Cookies[&#34;people&#34;];
if (peoplecookies != null)
{
Response.Write(&#34;子健ta&#34; &#43; peoplecookies[&#34;ta&#34;]);" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/6f2b73b3400c7484eb428f77eaaf7693/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2012-11-02T14:17:57+08:00" />
<meta property="article:modified_time" content="2012-11-02T14:17:57+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">asp.net cookie</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>以下是关于asp.net中cookie的一些相关用法</p> 
<p> </p> 
<p>  一、没有子健写入cookie</p> 
<p>     1、（写）</p> 
<p>      Response.Cookies["username"].value="xiaomengjie";//设置cookie的值</p> 
<p>      Response.Cookies["username"].Expires=DateTime.Now.AddDays(1); //设置cookie的过期时间</p> 
<p>     （读）</p> 
<p>      Request.Cookies["username"].Value;</p> 
<p>      </p> 
<p>     2、（写）</p> 
<p>       HttpCookie mycookie = new HttpCookie("secondcookie");//创建一个cookie<br>        mycookie.Value = "chengshubo";//给cookie添加值<br>        mycookie.Expires = DateTime.Now.AddDays(1);//给cookie设置过期时间<br>        Response.AppendCookie(mycookie);//把这个cookie添加到response的cookies集合中</p> 
<p>      （读）</p> 
<p>       Request.Cookies["secondcookie"].Value;</p> 
<p> </p> 
<p>  二、带子健的写入cookie</p> 
<p>     1、（写）</p> 
<p>      HttpCookie cookie = new HttpCookie("people"); //创建一个cookie<br>       cookie["cheng"] = "chengshubo";  //给cookie添加子健<br>       cookie["xiao"] = "xiaomengjie";<br>       cookie["ta"] = "tamen";<br>       cookie.Expires = DateTime.Now.AddDays(1);  //给cookie设置过期时间<br>       Response.Cookies.Add(cookie);  //把这个cookie添加到response的cookies集合中</p> 
<p>    （读）</p> 
<p>     if (Request.Cookies["people"] != null)</p> 
<p>   ｛</p> 
<p>       Request.Cookies["people"]["cheng"];</p> 
<p>       Request.Cookies["people"]["xiao"];</p> 
<p>       Request.Cookies["people"]["ta"];</p> 
<p>     ｝</p> 
<p>     HttpCookie peoplecookies = Request.Cookies["people"];<br>         if (peoplecookies != null)<br>         {<!-- --><br>             Response.Write("子健ta" + peoplecookies["ta"]);<br>         }  </p> 
<p>      2、（写）</p> 
<p>       HttpCookie newcookie = new HttpCookie("user");//创建一个cookie<br>        newcookie.Values["aaa"] = "chengxiao";//给cookie添加子健<br>        newcookie.Values["pwd"] = "111";<br>        newcookie.Expires = DateTime.Now.AddDays(1);//给cookie设置过期时间<br>        Response.AppendCookie(newcookie);//把这个cookie添加到response的cookies集合中</p> 
<p>     （读）</p> 
<p>     if (Request.Cookies["user"] != null)</p> 
<p>     {<!-- --></p> 
<p>       Request.Cookies["user"].Values["aaa"];</p> 
<p>       HttpCookie mycookie = Request.Cookies["user"];</p> 
<p>       string aaa = mycookie.Values["aaa"];</p> 
<p>     }</p> 
<p>      </p> 
<p>当然以上方式可以混着用，这样标是是看的清楚点。</p> 
<p>  </p> 
<p> 修改和删除 Cookie</p> 
<p>      HttpCookie clearCookie = Request.Cookies["user"];<br>         if (clearCookie != null)<br>         {<!-- --><br>             clearCookie.Expires = DateTime.Now.AddDays(-1);//把过期时间修改为前一天，那么浏览器就人为它过期了，并将其删除<br>             Response.Cookies.Set(clearCookie);<br>         }</p> 
<p>1. 其实你不能直接修改一个Cookie，是创建一个同名的 Cookie，并把该 Cookie发送到浏览器，覆盖客户机上旧的 Cookie。</p> 
<p>2. 同样您无法直接将其删除一个Cookie，可以通过修改一个Cookie达到让浏览器帮你删除Cookie的目的，修改Cookie的有效期为过去的某个时间，当浏览器检查Cookie 的有效期时，就会删除这个已过期的 Cookie。</p> 
<p><a href="http://hi.baidu.com/1898tz/item/b58e1a2969ceab93b73263af" rel="nofollow">http://hi.baidu.com/1898tz/item/b58e1a2969ceab93b73263af</a>仅做参考</p> 
<p> </p> 
<p>  加密Cookie 中的数据<br>    <span style="font-family:宋体; color:#333333; font-size:10.5pt">为了避免用户信息被他人窃取</span>, <span style="font-family:宋体; color:#333333; font-size:10.5pt">增强网站的安全性</span>, <span style="font-family:宋体; color:#333333; font-size:10.5pt">通常需要对</span> Cookie <span style="font-family:宋体; color:#333333; font-size:10.5pt">中的数据进行加密</span>, <span style="font-family:宋体; color:#333333; font-size:10.5pt">加密代码如下</span>: <br>    <br>   string data = "<span style="font-family:宋体; color:#333333; font-size:10.5pt">对</span>Cookie<span style="font-family:宋体; color:#333333; font-size:10.5pt">中的数据加密。</span>"; <br>   Response.Cookies["data"].Value = FormsAuthentication.HashPasswordForStoringInConfigFile(data, "md5"); <br>   Response.Write(Request.Cookies["data"].Value); <br> </p> 
<p> </p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/60896c1a5166daa049673afb2bee0ce6/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">asp.net viewstate原理</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b3356ea02c35a0bbf706ccf2b79a068f/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">xss之用户提交脚本攻击</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>