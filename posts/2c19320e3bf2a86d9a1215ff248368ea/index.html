<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Docker常用命令-自用 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Docker常用命令-自用" />
<meta property="og:description" content="Docker常用命令-自用 1. 镜像仓库 1.1 登陆/登出 登陆-默认Docker Hub
docker login -u [username] -p [password] 登陆到指定镜像
docker login -u [username] -p [password] [镜像地址] 登出
docker logout 1.2 拉取镜像 拉取镜像
docker pull mcr.microsoft.com/dotnet/core/aspnet 拉取指定tag的镜像
docker pull mcr.microsoft.com/dotnet/core/aspnet:3.1-buster-slim 拉取镜像所有tag
docker pull --all-tags mcr.microsoft.com/dotnet/core/aspnet 1.3 推送镜像 PS：推送到Docker Hub镜像仓库时候莫名会出现权限问题，把镜像重命名为[用户名/镜像名]后可以解决
docker push [username/]NAME:TAG 2 镜像操作 2.1 查看镜像 默认显示所有顶级图像，隐藏了中间镜像，以下命令作用相同
docker images docker image ls docker image list 显示所有镜像，包括中间镜像
docker images -a 仅显示镜像ID
docker images -q format序列化，列出镜像ID和仓库名的命令，和列出ID、Repository和tag的命令
docker images --format &#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/2c19320e3bf2a86d9a1215ff248368ea/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-09-11T14:53:11+08:00" />
<meta property="article:modified_time" content="2020-09-11T14:53:11+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Docker常用命令-自用</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="Docker_0"></a>Docker常用命令-自用</h2> 
<h3><a id="1__1"></a>1. 镜像仓库</h3> 
<h5><a id="11__2"></a>1.1 登陆/登出</h5> 
<p>登陆-默认Docker Hub</p> 
<pre><code class="prism language-bash">docker login -u <span class="token punctuation">[</span>username<span class="token punctuation">]</span> -p <span class="token punctuation">[</span>password<span class="token punctuation">]</span>
</code></pre> 
<p>登陆到指定镜像</p> 
<pre><code class="prism language-bash">docker login -u <span class="token punctuation">[</span>username<span class="token punctuation">]</span> -p <span class="token punctuation">[</span>password<span class="token punctuation">]</span> <span class="token punctuation">[</span>镜像地址<span class="token punctuation">]</span>
</code></pre> 
<p>登出</p> 
<pre><code class="prism language-bash">docker <span class="token function">logout</span>
</code></pre> 
<h5><a id="12__15"></a>1.2 拉取镜像</h5> 
<p>拉取镜像</p> 
<pre><code class="prism language-bash">docker pull mcr.microsoft.com/dotnet/core/aspnet
</code></pre> 
<p>拉取指定tag的镜像</p> 
<pre><code class="prism language-bash">docker pull mcr.microsoft.com/dotnet/core/aspnet:3.1-buster-slim
</code></pre> 
<p>拉取镜像所有tag</p> 
<pre><code class="prism language-bash">docker pull --all-tags mcr.microsoft.com/dotnet/core/aspnet
</code></pre> 
<h5><a id="13__28"></a>1.3 推送镜像</h5> 
<p>PS：推送到Docker Hub镜像仓库时候莫名会出现权限问题，把镜像重命名为[用户名/镜像名]后可以解决</p> 
<pre><code class="prism language-bash">docker push <span class="token punctuation">[</span>username/<span class="token punctuation">]</span>NAME:TAG
</code></pre> 
<h3><a id="2__33"></a>2 镜像操作</h3> 
<h5><a id="21__34"></a>2.1 查看镜像</h5> 
<p>默认显示所有顶级图像，隐藏了中间镜像，以下命令作用相同</p> 
<pre><code class="prism language-bash">docker images
docker image <span class="token function">ls</span>
docker image list
</code></pre> 
<p>显示所有镜像，包括中间镜像</p> 
<pre><code class="prism language-bash">docker images -a
</code></pre> 
<p>仅显示镜像ID</p> 
<pre><code class="prism language-bash">docker images -q
</code></pre> 
<p>format序列化，列出镜像ID和仓库名的命令，和列出ID、Repository和tag的命令</p> 
<pre><code class="prism language-bash">docker images --format <span class="token string">"{<!-- -->{.ID}:    {.Repository}}"</span>
docker images --format <span class="token string">"table {<!-- -->{.ID}}\t{<!-- -->{.Repository}}\t{<!-- -->{.Tag}}"</span>
</code></pre> 
<p>仅列出给定仓库<code>nginx</code>的所有镜像</p> 
<pre><code class="prism language-bash">docker images java
</code></pre> 
<h5><a id="22__58"></a>2.2 移除镜像</h5> 
<p>移除<code>nginx</code>镜像</p> 
<pre><code class="prism language-bash">docker image <span class="token function">rm</span> nginx
</code></pre> 
<p>移除ID或Repository与给定字符串匹配的镜像</p> 
<pre><code class="prism language-bash">docker rmi <span class="token punctuation">[</span>ID/Repository<span class="token punctuation">]</span>
</code></pre> 
<h5><a id="23_67"></a>2.3镜像进阶操作</h5> 
<p>查看镜像所有细节</p> 
<pre><code class="prism language-bash">docker inspect nginx
</code></pre> 
<p>PS: 在Windows系统中，可以通过<code>docker inspect aspdotnetcoreapp|findstr "ASPNETCORE_URLS"</code>命令查看aspnetcore应用监听的端口</p> 
<p>移除悬虚(<em>未被使用的，官方：dangling</em>)镜像，亦即docker image 返回的Repository为""的镜像</p> 
<pre><code class="prism language-bash">docker image prune
</code></pre> 
<p>移除所有悬虚镜像，且包含所有未被容器使用的镜像</p> 
<pre><code class="prism language-bash">docker image prune -a
</code></pre> 
<p>移除所有镜像</p> 
<pre><code class="prism language-bash">docker rmi <span class="token variable"><span class="token variable">$(</span>docker image -p<span class="token variable">)</span></span>
</code></pre> 
<h3><a id="3__86"></a>3 容器操作</h3> 
<h5><a id="31__87"></a>3.1 查看</h5> 
<p>查看运行中的容器</p> 
<pre><code class="prism language-bash">docker <span class="token function">ps</span>
</code></pre> 
<p>查看所有的容器</p> 
<pre><code class="prism language-bash">docker <span class="token function">ps</span> -a
</code></pre> 
<h5><a id="32__96"></a>3.2 运行/新建</h5> 
<p>启动/停止指定容器</p> 
<pre><code class="prism language-bash">docker start containerID
docker stop containerID
</code></pre> 
<p>运行一个新的容器，自动分配容器名称</p> 
<pre><code class="prism language-bash">docker run nginx
</code></pre> 
<p>运行一个新的容器，然后10秒后退出</p> 
<pre><code class="prism language-bash">docker run nginx <span class="token function">sleep</span> 10
</code></pre> 
<p><code>ducker run [option] nginx</code>命令的参数</p> 
<table><thead><tr><th>参数(及示例)</th><th>描述</th></tr></thead><tbody><tr><td>-d</td><td>后台运行</td></tr><tr><td>-it</td><td>以交互模式运行，并且未容器重新分配一个"伪输入终端"</td></tr><tr><td>-p 8000:80</td><td>将容器中的80端口映射到宿主机的8000端口</td></tr><tr><td>-P</td><td>容器内部端口随机映射到主机的端口。如果发布的是aspnetcore应用(应用自身会指定监听端口)，随机分配的容器内部端口与应用自身监听的端口不一致\n应用将无法正常访问</td></tr><tr><td>–expose=[]</td><td>开发一个或一组端口</td></tr><tr><td>–name containername</td><td>指定新容器的名称</td></tr><tr><td>–net=“bridge”</td><td>指定容器的网络连接类型，支持 bridge/host/none/container: 四种类型</td></tr></tbody></table> 
<p>进入容器环境，container是可选参数</p> 
<pre><code class="prism language-bash">docker <span class="token punctuation">[</span>container<span class="token punctuation">]</span> <span class="token function">exec</span> -it NAME <span class="token function">bash</span>
</code></pre> 
<h5><a id="33__124"></a>3.3 容器进阶操作</h5> 
<p>列出所有容器ID</p> 
<pre><code class="prism language-bash">docker <span class="token function">ps</span> -a -p
</code></pre> 
<p>启动/停止所有容器</p> 
<pre><code class="prism language-bash">docker start <span class="token variable"><span class="token variable">$(</span>docker <span class="token function">ps</span> -a -p<span class="token variable">)</span></span>
docker stop <span class="token variable"><span class="token variable">$(</span>docker <span class="token function">ps</span> -a -p<span class="token variable">)</span></span>
</code></pre> 
<p>强制结束所有容器（<strong>慎用</strong>）</p> 
<pre><code class="prism language-bash">docker <span class="token function">kill</span> <span class="token variable"><span class="token variable">$(</span>docker <span class="token function">ps</span> -a -p<span class="token variable">)</span></span>
</code></pre> 
<p>删除所有容器（<strong>慎用</strong>）</p> 
<pre><code class="prism language-bash">docker <span class="token function">rm</span> <span class="token variable"><span class="token variable">$(</span>docker <span class="token function">ps</span> -a -p<span class="token variable">)</span></span>
</code></pre> 
<p>参考文件：<br> [1] <a href="https://docs.docker.com/engine/reference/commandline/docker/" rel="nofollow">Docker Documentation</a></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/bc91575a83f12be84a2b716c793149ce/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【学习总结】Lidar与IMU标定</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/e8abdc49fa05d68096a2f0b378fed027/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Vue  Itea软件里直接npm run build 报错npm ERR！ missing script :build</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>