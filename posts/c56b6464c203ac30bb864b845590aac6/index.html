<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>vue2和vue3的 区别 （深度篇） - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="vue2和vue3的 区别 （深度篇）" />
<meta property="og:description" content="1、vue3完全支持typescript，提高项目的可维护性 2、Fragment：模板更简单。 vue3用到了一个虚拟的父级，可以多个根节点dom
vue2只能有一个父级节点
3、vue2用 new Vue(); vue3用createApp(); 多个实例时，vue2中的vue实例共享一个Vue构造函数，无法做到完全隔离
createApp方法返回一个提供上下文的应用实例，应用实例挂载的整个组件共享同一个上下文
4、vue2 的双向数据绑定是利用ES5 Object.definePropert()对数据进行劫持 结合 发布订阅模式的方式来实现的。 vue3 中使用了 es6 的 ProxyAPI 对数据代理。
5、Vue2与Vue3 最大的区别 — Vue2使用选项类型API（Options API）对比Vue3合成型API（Composition API）
6、建立数据 data Vue2 - 这里把数据放入data属性中
Vue3 setup()方法里。
7、生命周期 Vue2--------------vue3
beforeCreate -&gt; setup()
created -&gt; setup()
beforeMount -&gt; onBeforeMount
mounted -&gt; onMounted
beforeUpdate -&gt; onBeforeUpdate
updated -&gt; onUpdated
beforeDestroy -&gt; onBeforeUnmount
destroyed -&gt; onUnmounted
activated -&gt; onActivated
deactivated -&gt; onDeactivated
vue3还提供了两个调试的钩子 onRenderTracked 状态跟踪,onRenderTriggered 状态触发" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/c56b6464c203ac30bb864b845590aac6/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-03-17T13:19:14+08:00" />
<meta property="article:modified_time" content="2023-03-17T13:19:14+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">vue2和vue3的 区别 （深度篇）</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div class="kdocs-document"> 
 <p style="text-align:null;"></p> 
 <h6 style="text-align:null;">1、vue3完全支持typescript，提高项目的可维护性</h6> 
 <h6 style="text-align:null;">2、Fragment：模板更简单。</h6> 
 <p style="text-align:null;"><span class="kdocs-fontSize" style="font-size:9pt;"> vue3用到了一个虚拟的父级，可以多个根节点dom</span></p> 
 <p style="text-align:null;"><span class="kdocs-fontSize" style="font-size:9pt;"> vue2只能有一个父级节点</span></p> 
 <h6 style="text-align:null;">3、vue2用 new Vue(); vue3用createApp();</h6> 
 <p style="text-align:null;"><span class="kdocs-fontSize" style="font-size:9pt;"> 多个实例时，vue2中的vue实例共享一个Vue构造函数，无法做到完全隔离</span></p> 
 <p style="text-align:null;"><span class="kdocs-fontSize" style="font-size:9pt;"> createApp方法返回一个提供上下文的应用实例，应用实例挂载的整个组件共享同一个上下文</span></p> 
 <h6 style="text-align:null;">4、vue2 的双向数据绑定是利用ES5 Object.definePropert()对数据进行劫持 结合 发布订阅模式的方式来实现的。</h6> 
 <p style="text-align:null;"><span class="kdocs-fontSize" style="font-size:9pt;"> vue3 中使用了 es6 的 ProxyAPI 对数据代理。</span></p> 
 <h6 style="text-align:null;">5、Vue2与Vue3 最大的区别 —</h6> 
 <p style="text-align:null;"><span class="kdocs-fontSize" style="font-size:9pt;"> Vue2使用选项类型API（Options API）对比Vue3合成型API（Composition API）</span></p> 
 <h6 style="text-align:null;">6、建立数据 data</h6> 
 <p style="text-align:null;"><span class="kdocs-fontSize" style="font-size:9pt;"> Vue2 - 这里把数据放入data属性中</span></p> 
 <p style="text-align:null;"><span class="kdocs-fontSize" style="font-size:9pt;"> Vue3 setup()方法里。</span></p> 
 <h6 style="text-align:null;">7、生命周期</h6> 
 <p style="text-align:null;"><span class="kdocs-fontSize" style="font-size:9pt;"> Vue2--------------vue3</span></p> 
 <p style="text-align:null;"><span class="kdocs-fontSize" style="font-size:9pt;"> beforeCreate -&gt; setup()</span></p> 
 <p style="text-align:null;"><span class="kdocs-fontSize" style="font-size:9pt;"> created -&gt; setup()</span></p> 
 <p style="text-align:null;"><span class="kdocs-fontSize" style="font-size:9pt;"> beforeMount -&gt; onBeforeMount</span></p> 
 <p style="text-align:null;"><span class="kdocs-fontSize" style="font-size:9pt;"> mounted -&gt; onMounted</span></p> 
 <p style="text-align:null;"><span class="kdocs-fontSize" style="font-size:9pt;"> beforeUpdate -&gt; onBeforeUpdate</span></p> 
 <p style="text-align:null;"><span class="kdocs-fontSize" style="font-size:9pt;"> updated -&gt; onUpdated</span></p> 
 <p style="text-align:null;"><span class="kdocs-fontSize" style="font-size:9pt;"> beforeDestroy -&gt; onBeforeUnmount</span></p> 
 <p style="text-align:null;"><span class="kdocs-fontSize" style="font-size:9pt;"> destroyed -&gt; onUnmounted</span></p> 
 <p style="text-align:null;"><span class="kdocs-fontSize" style="font-size:9pt;"> activated -&gt; onActivated</span></p> 
 <p style="text-align:null;"><span class="kdocs-fontSize" style="font-size:9pt;"> deactivated -&gt; onDeactivated</span></p> 
 <p style="text-align:null;"><span class="kdocs-fontSize" style="font-size:9pt;"> vue3还提供了两个调试的钩子 onRenderTracked 状态跟踪,onRenderTriggered 状态触发</span></p> 
 <h6 style="text-align:null;">8、父子传参不同</h6> 
 <p style="text-align:null;"><span class="kdocs-fontSize" style="font-size:9pt;"> vue3是通过setup里的两个参数 props接收和 第二参数里的emit 向外传递 </span></p> 
 <h6 style="text-align:null;"><span class="kdocs-italic" style="font-style:italic;">9、vue3多了Teleport组件（瞬移组件） 和Suspense组件 （异步组件)</span></h6> 
 <p style="text-align:null;"><span class="kdocs-fontSize" style="font-size:9pt;">　　移动前：</span></p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:413px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:45.03632%;height:0;"> 
    <img src="https://images2.imgbox.com/75/49/bwecRNbi_o.png" style="margin-left:;display:block;width:413px;margin-top:-45.03632%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:null;"><span class="kdocs-fontSize" style="font-size:9pt;"> 移动后：</span></p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:367px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:92.09809%;height:0;"> 
    <img src="https://images2.imgbox.com/ed/23/WFmHgPeB_o.png" style="margin-left:;display:block;width:367px;margin-top:-92.09809%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:null;"><span class="kdocs-fontSize" style="font-size:9pt;"> 异步组件: 会先执行fallback插槽</span></p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:315px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:76.507935%;height:0;"> 
    <img src="https://images2.imgbox.com/70/7e/wwJEZ7zc_o.png" style="margin-left:;display:block;width:315px;margin-top:-76.507935%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <h6 style="text-align:null;">10、v-if和v-for的优先级</h6> 
 <p style="text-align:null;"><span class="kdocs-fontSize" style="font-size:9pt;"> 在vue2中：当v-if和v-for同时使用时，v-for的优先级高于v-if（因此我们通常需要计算属性先对数据进行加工处理，以达到性能优化的目的）</span></p> 
 <p style="text-align:null;"><span class="kdocs-fontSize" style="font-size:9pt;"> 在vue3中：当v-if和v-for同时使用时，v-if的优先级高于v-for</span></p> 
 <h6 style="text-align:null;">11、.sync修饰符</h6> 
 <p style="text-align:null;"><span class="kdocs-fontSize" style="font-size:9pt;"> vue2中：由于vue中是单向数据流，父子组件在传值时想要实现v-model的效果就要用到.sync修饰符来实现“双向绑定”</span></p> 
 <p style="text-align:null;"><span class="kdocs-fontSize" style="font-size:9pt;"> vue3中：对v-model进行了改造，不再需要 .sync 修饰符即可达到数据双向绑定的效果。在vue3中支持多个 v-model属性，默认使用 modelValue 作为 prop，update:modelValue作为事件，当多个v-model绑定时，书写为例：v-model:title="title"，此时 title 作为prop，update:title 作为事件</span></p> 
 <p style="text-align:null;"></p> 
 <h6 style="text-align:null;">12、全局挂载问题</h6> 
 <p style="text-align:null;"><span class="kdocs-fontSize" style="font-size:9pt;"> vue2中：绑定全局的变量、方法等：Vue.prototype.$ajax = xxx</span></p> 
 <p style="text-align:null;"><span class="kdocs-fontSize" style="font-size:9pt;"> vue3中：const app = createApp({}); app.config.globalProperties.$ajax = xxx</span></p> 
 <p style="text-align:null;"></p> 
 <h6 style="text-align:null;">13、key在template和v-if上的使用</h6> 
 <p style="text-align:null;"><span class="kdocs-fontSize" style="font-size:9pt;"> vue2中：在使用v-if、vi-else、v-else-if时，为了保证dom节点渲染的正确性，通常需要在对应的节点添加不同的key，以确保vue在进行虚拟dom对比时是准确的；vue2中template在v-for循环时是不能设置key的，否则会产生警告（需要给子节点设置key）。</span></p> 
 <p style="text-align:null;"><span class="kdocs-fontSize" style="font-size:9pt;"> vue3中：在使用v-if、vi-else、v-else-if时，不用提供唯一的key对dom节点进行区分，因为vue内部会自动生成唯一的key，如果你提供了key，那你就要保证它的唯一性；vue3中template在v-for循环时，key应该设置在template标签上</span></p> 
 <h6 style="text-align:null;">14、vue3 $listeners深层监听被移除</h6> 
 <p style="text-align:null;"><span class="kdocs-fontSize" style="font-size:9pt;"> vue2中：使用$attrs访问传递给组件的属性，使用$listeners访问传递给组件的事件 （需要结合inheritAttrs:false）。</span></p> 
 <p style="text-align:null;"><span class="kdocs-fontSize" style="font-size:9pt;"> vue3中：虚拟dom中，事件监听器仅仅是以on为前缀的属性</span></p> 
 <h6 style="text-align:null;">15、this问题</h6> 
 <p style="text-align:null;"><span class="kdocs-fontSize" style="font-size:9pt;"> vue2中：无时无刻都要使用this</span></p> 
 <p style="text-align:null;"><span class="kdocs-fontSize" style="font-size:9pt;"> vue3中：因为setup函数的存在，所有的props、data等都不需要用this进行访问（vue3对vue2绝大多数是兼容的，如果你用了vue2相关的东西，那你还是需要像vue2一样书写）</span></p> 
 <p style="text-align:null;"></p> 
 <p style="text-align:null;"></p> 
 <p style="text-align:null;"><span class="kdocs-fontSize" style="font-size:9pt;"><span class="kdocs-color" style="color:#C21C13;">如有不足请大神们指正</span></span></p> 
 <p style=""></p> 
</div>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/6857aff341fb5d7fcecfe2f161e5eba3/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">playwright--iframe操作</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/823e309f5b7ab121955da281441d075b/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">CPU使用率100%如何定位分析？</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>