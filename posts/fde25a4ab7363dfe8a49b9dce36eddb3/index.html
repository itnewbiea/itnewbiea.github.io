<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Visual Studio&#43;PCL环境配置及各步骤意义简介 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Visual Studio&#43;PCL环境配置及各步骤意义简介" />
<meta property="og:description" content="文章目录 一、简介二、准备工作2.1 安装PCL 1.11.12.2 安装Visual Studio 2019 三、配置方法四、结论 一、简介 pcl是应用最广泛的点云处理库之一，使用pcl也是进行相关领域科研或者找相关工作必备的一个技能点。pcl的配置方法网上一抓一大把，回想我大四最开始接触点云的时候，也是照搬博客里的操作一步一步完成了配置，但很多步骤是在做什么其实都不懂。现在是研一下，这段时间也做了一些小项目，学了一些新操作，也大概能理解这些步骤到底是在做什么。写这篇文章的目的就是给跟我一样在配置pcl时候知其然又想知其所以然的编程小白做一些普及，说不定哪句内容就会解答你之前的一个疑惑（内容很浅显，大佬请绕道）
并且本文废话比较多，如果只是想完成配置，可以看下面的博客：Windows &#43; VS2022超详细点云库（PCL）配置
二、准备工作 2.1 安装PCL 1.11.1 首先进入https://github.com/PointCloudLibrary/pcl/releases，到2023年5月18日，PCL已经更新到了1.13.1版本，并且还有人在持续维护，这种我就很喜欢:) ，关于PCL版本的选择，我的建议是先选1.11及以前的。因为1.12中对一个点云数据结构进行了更改，如果你用了这个版本，就会惊奇的发现网上大部分的教程运行起来会报内存错误，这肯定不适合刚入门的来折腾，所以干脆直接安低版本的吧~
以1.11.1版本为例，github上的发行包长成这样子
需要关注这几个文件
AllInOne.exe：这个文件可以安装pcl以及其第三方依赖库。需要注意，文件名中包含msvc2019，代表这个版本的库是使用msvc2019版本的编译器编译的，由于不同版本的编译器的输出结果可能有不兼容，所以我们要安装和这个编译器版本匹配的Visual Studio版本，自然接下来我们要安装Visual Studio 2019。pdb.zip：后面我们可以看到，AllInOne的安装结果是一堆dll库，如果某天你对某个pcl模块的内部实现非常感兴趣，想起了C语言老师的教导“要记得使用单步调试来学习代码”，你就会惊奇的发现，pcl的函数没有办法调试进入，问题可能就出在你没有安装pdb。 pdb是Progam Debug DataBase，显然他是一个与debug有关的文件，会在编译dll的同时生成 。pdb通常会用在协作开发中，A封装了A.dll，B封装了B.dll，如果发布的应用程序出现了未知错误，运行程序崩溃时生成的dump文件，配合A和B提供的pdb文件，就可以很快定位到究竟是谁写的哪行代码出现了bug，这时候主管就会找你来追责啦：）。如果没有这文件，那就只能凭客户的描述来猜究竟是哪里出了问题，效率很低。但好像有了pdb文件就可以反编译了，所以要注意只能在内部使用噢 Source code：这里是PCL的源码。如果你需要换一个编译器，这时候就要对源码进行编译了，这部分怎么搞之后再说。 记得添加环境变量
记得修改安装路径，并记住！ 安装过程中如果遇到OpenNI的问题，可以不用管，后边找到OpenNI的位置，然后单独安装到3rdParty文件夹中即可。 安装完成后的文件结构如下
3rdParty中包含PCL的依赖库，其中最重要的几个 Boost（必须）：PCL中使用了boost中的共享指针和线程操作Eigen（必须）： 方便的进行矩阵运算FLANN（必须）：用来实现点云处理中的重要步骤——K近邻搜索VTK（必须）：用于点云的渲染和可视化 bin文件夹中是构建生成的一些文件，包含例程的可执行文件以及一堆dll库，注意这里有两种dll库，一种是用于Debug模式文件名以d结尾，另一种是用于Release版本，这个后边配置的时候要注意与使用的模式相匹配。cmake：我们因为不使用cmakelist，所以这部分可以先不用关注include文件夹里是dll对应的头文件lib是dll库的引入库，这部分之后会详细说明share里是相关文档 将pdb压缩文件解压到bin文件夹下，与dll文件放到一起
2.2 安装Visual Studio 2019 刚才提到了，我们选择的PCL版本是1.11.1，官方使用了msvc2019编译器预先对源码进行了编译以方便开发者的使用，所以我们安装VS 2019来避免一些未知错误，这个安装方法更是一抓一大把，也没啥内容，你奶奶来了都能安上，我就不写了。
说句题外话，网友总是会对哪种编译器更好产生争论，这个我认为duck不必，用的顺手比啥都强。但对于初学者，我非常建议直接使用Visual Studio来进行开发，虽然其总因为巨大的体量和复杂的工程被广大程序员看不起，但的的的确确确可以减少很多配置步骤，并且功能齐全。咱还是把时间花到刀刃上，别纠结咋配置环境了吧：）
三、配置方法 创建一个新工程右键工程名，点击最下边的属性（Properties）修改最上方模式，我这里选择的是Release和x64选择Configuration Properties–&gt;VC&#43;&#43; Directories 修改Include Directories，指定这个是为了编译器可以找到我们#include的头文件，因此我们需要在这里添加pcl以及第三方依赖库的头文件路径，一般会放在include文件夹中，以我的路径为例，需要添加以下路径，需要结合自己的路径进行修改 D:\PCL1.11.1\PCL 1.11.1\include\pcl-1.11 D:\PCL1.11.1\PCL 1.11.1\3rdParty\Boost\include\boost-1_74 D:\PCL1.11.1\PCL 1.11.1\3rdParty\Eigen\eigen3 D:\PCL1.11.1\PCL 1.11.1\3rdParty\FLANN\include D:\PCL1.11.1\PCL 1.11.1\3rdParty\VTK\include\vtk-8.2 D:\PCL1.11.1\PCL 1.11.1\3rdParty\OpenNI2\Include 修改Library Directories， 指定这个是为了编译器可以找到dll的引入库，注意Eigen因为是纯模板库，所以不需要指定（TODO：这个模板库是咋回事现在还没太搞懂） D:\PCL1." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/fde25a4ab7363dfe8a49b9dce36eddb3/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-11-10T15:09:52+08:00" />
<meta property="article:modified_time" content="2023-11-10T15:09:52+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Visual Studio&#43;PCL环境配置及各步骤意义简介</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#_1" rel="nofollow">一、简介</a></li><li><a href="#_8" rel="nofollow">二、准备工作</a></li><li><ul><li><a href="#21_PCL_1111_9" rel="nofollow">2.1 安装PCL 1.11.1</a></li><li><a href="#22_Visual_Studio_2019_43" rel="nofollow">2.2 安装Visual Studio 2019</a></li></ul> 
  </li><li><a href="#_48" rel="nofollow">三、配置方法</a></li><li><a href="#_181" rel="nofollow">四、结论</a></li></ul> 
</div> 
<p></p> 
<h2><a id="_1"></a>一、简介</h2> 
<center> 
 <img src="https://images2.imgbox.com/9d/ca/6ot8HXRz_o.png"> 
</center> 
<p>pcl是应用最广泛的点云处理库之一，使用pcl也是进行相关领域科研或者找相关工作必备的一个技能点。pcl的配置方法网上一抓一大把，回想我大四最开始接触点云的时候，也是照搬博客里的操作一步一步完成了配置，但很多步骤是在做什么其实都不懂。现在是研一下，这段时间也做了一些小项目，学了一些新操作，也大概能理解这些步骤到底是在做什么。写这篇文章的目的就是给跟我一样在配置pcl时候知其然又想知其所以然的编程小白做一些普及，说不定哪句内容就会解答你之前的一个疑惑（内容很浅显，大佬请绕道）</p> 
<p>并且本文废话比较多，如果只是想完成配置，可以看下面的博客：<a href="https://blog.csdn.net/qq_42676511/article/details/126054136">Windows + VS2022超详细点云库（PCL）配置</a></p> 
<h2><a id="_8"></a>二、准备工作</h2> 
<h3><a id="21_PCL_1111_9"></a>2.1 安装PCL 1.11.1</h3> 
<p>首先进入<a href="https://github.com/PointCloudLibrary/pcl/releases">https://github.com/PointCloudLibrary/pcl/releases</a>，到2023年5月18日，PCL已经更新到了1.13.1版本，并且还有人在持续维护，这种我就很喜欢:) ，关于PCL版本的选择，我的建议是先<code>选1.11及以前的</code>。因为1.12中对一个点云数据结构进行了更改，如果你用了这个版本，就会惊奇的发现网上大部分的教程运行起来会报内存错误，这肯定不适合刚入门的来折腾，所以干脆直接安低版本的吧~</p> 
<p>以1.11.1版本为例，github上的发行包长成这样子<br> <img src="https://images2.imgbox.com/7e/b3/vlII892X_o.png" alt="在这里插入图片描述"><br> 需要关注这几个文件</p> 
<ul><li>AllInOne.exe：这个文件可以安装pcl以及其第三方依赖库。需要注意，文件名中包含<code>msvc2019</code>，代表这个版本的库是使用msvc2019版本的编译器编译的，由于不同版本的编译器的输出结果可能有不兼容，所以我们要安装和这个编译器版本匹配的Visual Studio版本，自然接下来我们要安装Visual Studio 2019。</li><li>pdb.zip：后面我们可以看到，AllInOne的安装结果是一堆dll库，如果某天你对某个pcl模块的内部实现非常感兴趣，想起了C语言老师的教导“要记得使用单步调试来学习代码”，你就会惊奇的发现，pcl的函数没有办法调试进入，问题可能就出在你没有安装pdb。 
  <ul><li>pdb是<strong>P</strong>rogam <strong>D</strong>ebug Data<strong>B</strong>ase，显然他是一个与debug有关的文件，会在编译dll的同时生成 。</li><li>pdb通常会用在协作开发中，A封装了A.dll，B封装了B.dll，如果发布的应用程序出现了未知错误，运行程序崩溃时生成的dump文件，配合A和B提供的pdb文件，就可以很快定位到究竟是谁写的哪行代码出现了bug，这时候主管就会找你来追责啦：）。如果没有这文件，那就只能凭客户的描述来猜究竟是哪里出了问题，效率很低。</li><li>但好像有了pdb文件就可以反编译了，所以要注意只能在内部使用噢</li></ul> </li><li>Source code：这里是PCL的源码。如果你需要换一个编译器，这时候就要对源码进行编译了，这部分怎么搞之后再说。</li></ul> 
<p>记得添加环境变量</p> 
<center> 
 <img src="https://images2.imgbox.com/1d/19/LrqnZGEn_o.png" width="500"> 
</center> 记得修改安装路径，并记住！ 
<center> 
 <img src="https://images2.imgbox.com/8b/56/3NtJmO4N_o.png" width="500"> 
</center> 安装过程中如果遇到OpenNI的问题，可以不用管，后边找到OpenNI的位置，然后单独安装到3rdParty文件夹中即可。 
<p>安装完成后的文件结构如下</p> 
<center> 
 <img src="https://images2.imgbox.com/ef/95/kLMDogDK_o.png" width="600"> 
</center> 
<ul><li>3rdParty中包含PCL的依赖库，其中最重要的几个 
  <ul><li>Boost（必须）：PCL中使用了boost中的共享指针和线程操作</li><li>Eigen（必须）： 方便的进行矩阵运算</li><li>FLANN（必须）：用来实现点云处理中的重要步骤——K近邻搜索</li><li>VTK（必须）：用于点云的渲染和可视化</li></ul> </li><li>bin文件夹中是构建生成的一些文件，包含例程的可执行文件以及一堆dll库，注意这里有两种dll库，一种是用于Debug模式文件名以d结尾，另一种是用于Release版本，这个后边配置的时候要注意与使用的模式相匹配。</li><li>cmake：我们因为不使用cmakelist，所以这部分可以先不用关注</li><li>include文件夹里是dll对应的头文件</li><li>lib是dll库的引入库，这部分之后会详细说明</li><li>share里是相关文档</li></ul> 
<p>将pdb压缩文件解压到bin文件夹下，与dll文件放到一起</p> 
<h3><a id="22_Visual_Studio_2019_43"></a>2.2 安装Visual Studio 2019</h3> 
<p>刚才提到了，我们选择的PCL版本是1.11.1，官方使用了msvc2019编译器预先对源码进行了编译以方便开发者的使用，所以我们安装VS 2019来避免一些未知错误，这个安装方法更是一抓一大把，也没啥内容，你奶奶来了都能安上，我就不写了。</p> 
<p>说句题外话，网友总是会对哪种编译器更好产生争论，这个我认为duck不必，用的顺手比啥都强。但对于初学者，我非常建议直接使用Visual Studio来进行开发，虽然其总因为巨大的体量和复杂的工程被广大程序员看不起，但<strong>的的的确确确</strong>可以减少很多配置步骤，并且功能齐全。咱还是把时间花到刀刃上，别纠结咋配置环境了吧：）</p> 
<h2><a id="_48"></a>三、配置方法</h2> 
<ol><li>创建一个新工程</li><li>右键工程名，点击最下边的属性（Properties）</li><li>修改最上方模式，我这里选择的是<code>Release</code>和<code>x64</code></li><li>选择Configuration Properties–&gt;VC++ Directories</li></ol> 
<center> 
 <img src="https://images2.imgbox.com/d3/16/HNxD9HFZ_o.png" width="600"> 
</center> 
<ol start="5"><li>修改Include Directories，指定这个是为了编译器可以找到我们#include的头文件，因此我们需要在这里添加pcl以及第三方依赖库的头文件路径，一般会放在include文件夹中，以我的路径为例，需要添加以下路径，需要结合自己的路径进行修改</li></ol> 
<pre><code class="prism language-c++">D:\PCL1.11.1\PCL 1.11.1\include\pcl-1.11
D:\PCL1.11.1\PCL 1.11.1\3rdParty\Boost\include\boost-1_74
D:\PCL1.11.1\PCL 1.11.1\3rdParty\Eigen\eigen3
D:\PCL1.11.1\PCL 1.11.1\3rdParty\FLANN\include
D:\PCL1.11.1\PCL 1.11.1\3rdParty\VTK\include\vtk-8.2
D:\PCL1.11.1\PCL 1.11.1\3rdParty\OpenNI2\Include
</code></pre> 
<center> 
 <img src="https://images2.imgbox.com/1d/81/JTTQoHcq_o.png"> 
</center> 
<ol start="6"><li>修改Library Directories， 指定这个是为了编译器可以找到dll的引入库，注意Eigen因为是纯模板库，所以不需要指定<font color="red">（TODO：这个模板库是咋回事现在还没太搞懂）</font></li></ol> 
<pre><code class="prism language-c++">D:\PCL1.11.1\PCL 1.11.1\lib
D:\PCL1.11.1\PCL 1.11.1\3rdParty\Boost\lib
D:\PCL1.11.1\PCL 1.11.1\3rdParty\FLANN\lib
D:\PCL1.11.1\PCL 1.11.1\3rdParty\VTK\lib
D:\PCL1.11.1\PCL 1.11.1\3rdParty\OpenNI2\Lib
</code></pre> 
<center> 
 <img src="https://images2.imgbox.com/8a/90/Jmss5bDx_o.png"> 
</center> 
<ol start="7"><li>选择Configuration Properties–&gt;Linker-&gt;Input</li></ol> 
<center> 
 <img src="https://images2.imgbox.com/25/eb/FbtMECb9_o.png" width="600"> 
</center> 在附加依赖项中添加需要链接的dll的引入库，需要加入pcl和vtk lib文件夹下的内容 
<font color="red">（TODO:boost和flann为啥不加，我没想过，挠头。。。）</font> 
<p>注意：debug模式和release模式下需要加入的lib不同，一般来说结尾带有gd、d字样的是用与debug模式的lib，什么都没写的是用于release的，rd则代表debug和release都可（这个是从别人的博客看见的，我倒是没试过rd是不是两种模式都可以）。比如<code>pcl_common.lib</code>和<code>pcl_commond.lib</code>，<code>vtkChartsCore-8.2-gd.lib</code>和<code>vtkChartsCore-8.2.lib</code></p> 
<p>我这里写了一个不太优雅的脚本文件来提取文件名，大家如果不嫌弃可以一用：<br> 在下图目录下新建get.txt文件，写入以下内容：</p> 
<center> 
 <img src="https://images2.imgbox.com/ef/7c/tkiNPlzX_o.png" width="600"> 
</center> 
<pre><code class="prism language-powershell">cd <span class="token punctuation">.</span><span class="token operator">/</span>lib
<span class="token function">DIR</span> <span class="token operator">*</span><span class="token punctuation">.</span>lib <span class="token operator">/</span>B &gt;<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">/</span>liblist<span class="token punctuation">.</span>txt
cd <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">/</span>3rdParty/VTK/lib
<span class="token function">DIR</span> <span class="token operator">*</span><span class="token punctuation">.</span>lib <span class="token operator">/</span>B &gt;&gt;<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">/</span>liblist<span class="token punctuation">.</span>txt
cd <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">/</span>
findstr <span class="token operator">/</span>e <span class="token string">"d.lib"</span> liblist<span class="token punctuation">.</span>txt &gt;debug_lib<span class="token punctuation">.</span>txt
findstr <span class="token operator">/</span>e <span class="token operator">/</span>v <span class="token string">"d.lib"</span> liblist<span class="token punctuation">.</span>txt &gt;release_lib<span class="token punctuation">.</span>txt
pause
</code></pre> 
<p>保存后将后缀改为.bat，然后双击运行，当前目录下就会出现debug_lib.txt和release_lib.txt，将里面的内容复制到对应模式下的附加依赖项中即可。</p> 
<p>新建下面的测试文件test.cpp（网上随便搜的）</p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;pcl/common/common_headers.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;pcl/io/pcd_io.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;pcl/visualization/pcl_visualizer.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;pcl/visualization/cloud_viewer.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;pcl/console/parse.h&gt;</span></span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span><span class="token operator">*</span> argv<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Test PCL !!!"</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>

    pcl<span class="token double-colon punctuation">::</span>PointCloud<span class="token operator">&lt;</span>pcl<span class="token double-colon punctuation">::</span>PointXYZRGB<span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>Ptr <span class="token function">point_cloud_ptr</span><span class="token punctuation">(</span><span class="token keyword">new</span> pcl<span class="token double-colon punctuation">::</span>PointCloud<span class="token operator">&lt;</span>pcl<span class="token double-colon punctuation">::</span>PointXYZRGB<span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">uint8_t</span> <span class="token function">r</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">g</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">b</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">float</span> <span class="token function">z</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> z <span class="token operator">&lt;=</span> <span class="token number">1.0</span><span class="token punctuation">;</span> z <span class="token operator">+=</span> <span class="token number">0.05</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">float</span> <span class="token function">angle</span><span class="token punctuation">(</span><span class="token number">0.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> angle <span class="token operator">&lt;=</span> <span class="token number">360.0</span><span class="token punctuation">;</span> angle <span class="token operator">+=</span> <span class="token number">5.0</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            pcl<span class="token double-colon punctuation">::</span>PointXYZRGB point<span class="token punctuation">;</span>
            point<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">0.5</span> <span class="token operator">*</span> <span class="token function">cosf</span><span class="token punctuation">(</span>pcl<span class="token double-colon punctuation">::</span><span class="token function">deg2rad</span><span class="token punctuation">(</span>angle<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            point<span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token function">sinf</span><span class="token punctuation">(</span>pcl<span class="token double-colon punctuation">::</span><span class="token function">deg2rad</span><span class="token punctuation">(</span>angle<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            point<span class="token punctuation">.</span>z <span class="token operator">=</span> z<span class="token punctuation">;</span>
            <span class="token keyword">uint32_t</span> rgb <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword">uint32_t</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>r<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token number">16</span> <span class="token operator">|</span>
                <span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword">uint32_t</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>g<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token number">8</span> <span class="token operator">|</span> <span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword">uint32_t</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            point<span class="token punctuation">.</span>rgb <span class="token operator">=</span> <span class="token operator">*</span><span class="token generic-function"><span class="token function">reinterpret_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword">float</span><span class="token operator">*</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token operator">&amp;</span>rgb<span class="token punctuation">)</span><span class="token punctuation">;</span>
            point_cloud_ptr<span class="token operator">-&gt;</span>points<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>point<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>z <span class="token operator">&lt;</span> <span class="token number">0.0</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            r <span class="token operator">-=</span> <span class="token number">12</span><span class="token punctuation">;</span>
            g <span class="token operator">+=</span> <span class="token number">12</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span>
        <span class="token punctuation">{<!-- --></span>
            g <span class="token operator">-=</span> <span class="token number">12</span><span class="token punctuation">;</span>
            b <span class="token operator">+=</span> <span class="token number">12</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    point_cloud_ptr<span class="token operator">-&gt;</span>width <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>point_cloud_ptr<span class="token operator">-&gt;</span>points<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    point_cloud_ptr<span class="token operator">-&gt;</span>height <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

    pcl<span class="token double-colon punctuation">::</span>visualization<span class="token double-colon punctuation">::</span>CloudViewer <span class="token function">viewer</span><span class="token punctuation">(</span><span class="token string">"test"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    viewer<span class="token punctuation">.</span><span class="token function">showCloud</span><span class="token punctuation">(</span>point_cloud_ptr<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>viewer<span class="token punctuation">.</span><span class="token function">wasStopped</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>


</code></pre> 
<p>点击运行<code>注意运行前的模式和平台要与刚才配置的一致，否则一样会找不到头文件</code><br> 正常情况会报下边的错误<br> <img src="https://images2.imgbox.com/2b/83/S2D9VIo2_o.png" alt="在这里插入图片描述"><br> 提示的已经很清楚了，Properties-&gt;C/C+±&gt;Preprocessor-&gt;Preprocessor Definitions，添加_CRT_SECURE_NO_WARNINGS</p> 
<p>以及这个错误<br> <img src="https://images2.imgbox.com/40/44/YzLDEk9B_o.png" alt="在这里插入图片描述"><br> 这种看起来没啥大问题的错误，通常是由于开启了SDL检查导致的，微软的SDL检查会让一些警告变成错误，关闭即可，Propertie-&gt;C/C++ -&gt;All Options-&gt;SDL checks，选择否。</p> 
<p>修改之后再次运行，哎漂亮！还是不行<br> <img src="https://images2.imgbox.com/63/25/AYq5N3Lc_o.png" alt="在这里插入图片描述"><br> 所以我们添加的lib文件里是啥东西，有点搞不懂了，还需要重新指定dll的路径</p> 
<p>Windows下dll的搜索路径如下：</p> 
<ul><li>应用程序所在的路径；</li><li>Windows的SYSTEM目录，如C:\Windows\System，通过调用GetSystemDirectory函数 可以获取这个目录的路径；</li><li>Windows目录，如C:\Windows，通过调用GetWindowsDirectory函数可以获取这个目录的路径；</li><li>PATH环境变量指定的路径。</li></ul> 
<p>第二个和第三个都有点离谱，把一大堆dll放进C盘就有点脑瘫，第一个要把所有dll都放到exe的相同目录下，也不是很优雅，所以我选择把库的bin文件夹路径添加到环境变量中。<br> <img src="https://images2.imgbox.com/5d/31/yTW0ESsx_o.png" alt="在这里插入图片描述"><br> 在系统变量中添加PCL_ROOT，他的值是你自己的PCL路径<br> 然后在系统变量/用户变量的Path中添加如下内容：</p> 
<pre><code class="prism language-cpp"><span class="token operator">%</span>PCL_ROOT<span class="token operator">%</span>\bin
<span class="token operator">%</span>PCL_ROOT<span class="token operator">%</span>\<span class="token number">3</span>rdParty\Boost\lib
<span class="token operator">%</span>PCL_ROOT<span class="token operator">%</span>\<span class="token number">3</span>rdParty\FLANN\bin
<span class="token operator">%</span>PCL_ROOT<span class="token operator">%</span>\<span class="token number">3</span>rdParty\VTK\bin
<span class="token operator">%</span>PCL_ROOT<span class="token operator">%</span>\<span class="token number">3</span>rdParty\OpenNI2\Tools
</code></pre> 
<p>确定后，重启电脑，等待起飞<br> <img src="https://images2.imgbox.com/e5/6f/jnuxnVAY_o.png" alt="在这里插入图片描述"><br> 至此配置完成。</p> 
<h2><a id="_181"></a>四、结论</h2> 
<p>不管是什么编程环境配置什么库，配置过程无外乎就是这些步</p> 
<ul><li>安装库以及编程环境</li><li>在IDE（不严格的说法）中指定头文件路径(include)，引入库路径(lib)，附加依赖项(.lib)</li><li>确定dll路径，如果使用的dll比较少，可以直接将他移动大exe的相同路径下，如果使用的比较多，那还是在系统环境变量中指定该库的dll所在路径(通常位于bin文件夹下，但也不一定，比如OpenNI的dll就位于Tools下)</li></ul> 
<p>写的比较匆忙，如有遗漏还请补充<br> 之后会补充动态库的相关内容，并且会把本文中提出的两个TODO思考一下</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/8e8b58b9e2e8ccef40bb0da27cc7e516/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">初识STM32CubeIDE：创建与配置你的第一个工程</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/aabdee36117fb1f72433e530ce854f69/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">LDR6023AQ-PDHUB最简外围成本低搂到底就是干</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>