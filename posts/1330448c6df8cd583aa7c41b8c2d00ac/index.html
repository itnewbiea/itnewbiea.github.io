<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>matlab修改证件照背景颜色 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="matlab修改证件照背景颜色" />
<meta property="og:description" content="最近要用到背景为白色的证件照，可是手头上只有红底的，故用matlab弄了一个改背景颜色的程序，大体上效果还行。注意：matrix为背景区域，不同照片可能要修改一下rgb的范围。
img = imread(&#39;a.jpg&#39;); [height,width,a] = size(img); %% 选择相应的颜色背景区域 % matrix = (img(:,:,1)&gt;250) | (img(:,:,2)&gt;=250) | (img(:,:,2)&gt;=190); %选择白色的像素点 % matrix = (img(:,:,1)&lt;=150) &amp; (img(:,:,2)&lt;=200) &amp; (img(:,:,3)&gt;120); %选择蓝色的像素点 matrix = (img(:, :, 1)&gt;=90) &amp; (img(:, :, 2)&lt;=50) &amp; (img(:, :, 3)&lt;=50); % 选择红色像素点 matrix(0.2*height:0.5*height,0.23*width:0.72*width) = 0; %中间人像区域保持不变 se = strel(&#39;disk&#39;,3); matrix = imclose(matrix,se); %关操作平滑边缘 %% 选择要改变背景的颜色 [a,b] = find(matrix ==1); blue = [67,142,219]; %改成蓝色 red = [255, 0, 0]; %改成红色 white = [255,255,255]; %改成白色 color = white; for i = 1:size(a) img(a(i),b(i),1) = color(1); img(a(i),b(i),2) = color(2); img(a(i),b(i),3) = color(3); end %% 平滑处理 g1=medfilt2(img(:,:,1));%红 g2=medfilt2(img(:,:,2));%绿 g3=medfilt2(img(:,:,3));%蓝 img1(:,:,1) = g1; img1(:,:,2) = g2; img1(:,:,3) = g3; imshow(img1); imwrite(img1,&#39;b." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/1330448c6df8cd583aa7c41b8c2d00ac/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-08-23T15:02:05+08:00" />
<meta property="article:modified_time" content="2018-08-23T15:02:05+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">matlab修改证件照背景颜色</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>最近要用到背景为白色的证件照，可是手头上只有红底的，故用matlab弄了一个改背景颜色的程序，大体上效果还行。注意：matrix为背景区域，不同照片可能要修改一下rgb的范围。</p> 
<pre class="prettyprint"><code class=" hljs ruby">img = imread(<span class="hljs-string">'a.jpg'</span>);
[height,width,a] = size(img);
<span class="hljs-string">%% 选择相应的颜色背景区域
%</span> matrix = (img(<span class="hljs-symbol">:</span>,<span class="hljs-symbol">:</span>,<span class="hljs-number">1</span>)&gt;<span class="hljs-number">250</span>) | (img(<span class="hljs-symbol">:</span>,<span class="hljs-symbol">:</span>,<span class="hljs-number">2</span>)&gt;=<span class="hljs-number">250</span>) | (img(<span class="hljs-symbol">:</span>,<span class="hljs-symbol">:</span>,<span class="hljs-number">2</span>)&gt;=<span class="hljs-number">190</span>); %选择白色的像素点
% matrix = (img(<span class="hljs-symbol">:</span>,<span class="hljs-symbol">:</span>,<span class="hljs-number">1</span>)&lt;=<span class="hljs-number">150</span>) &amp; (img(<span class="hljs-symbol">:</span>,<span class="hljs-symbol">:</span>,<span class="hljs-number">2</span>)&lt;=<span class="hljs-number">200</span>) &amp; (img(<span class="hljs-symbol">:</span>,<span class="hljs-symbol">:</span>,<span class="hljs-number">3</span>)&gt;<span class="hljs-number">120</span>); %选择蓝色的像素点
matrix = (img(<span class="hljs-symbol">:</span>, <span class="hljs-symbol">:</span>, <span class="hljs-number">1</span>)&gt;=<span class="hljs-number">90</span>) &amp; (img(<span class="hljs-symbol">:</span>, <span class="hljs-symbol">:</span>, <span class="hljs-number">2</span>)&lt;=<span class="hljs-number">50</span>) &amp; (img(<span class="hljs-symbol">:</span>, <span class="hljs-symbol">:</span>, <span class="hljs-number">3</span>)&lt;=<span class="hljs-number">50</span>); % 选择红色像素点
matrix(<span class="hljs-number">0</span>.<span class="hljs-number">2</span>*<span class="hljs-symbol">height:</span><span class="hljs-number">0</span>.<span class="hljs-number">5</span>*height,<span class="hljs-number">0</span>.<span class="hljs-number">23</span>*<span class="hljs-symbol">width:</span><span class="hljs-number">0</span>.<span class="hljs-number">72</span>*width) = <span class="hljs-number">0</span>;  %中间人像区域保持不变
se = strel(<span class="hljs-string">'disk'</span>,<span class="hljs-number">3</span>);
matrix = imclose(matrix,se); %关操作平滑边缘
<span class="hljs-string">%% 选择要改变背景的颜色
[a,b] = find(matrix ==1);
blue = [67,142,219]; %</span>改成蓝色
red = [<span class="hljs-number">255</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>]; %改成红色
white = [<span class="hljs-number">255</span>,<span class="hljs-number">255</span>,<span class="hljs-number">255</span>]; %改成白色
color = white; 
<span class="hljs-keyword">for</span> i = <span class="hljs-number">1</span><span class="hljs-symbol">:size</span>(a)
    img(a(i),b(i),<span class="hljs-number">1</span>) = color(<span class="hljs-number">1</span>);
    img(a(i),b(i),<span class="hljs-number">2</span>) = color(<span class="hljs-number">2</span>);
    img(a(i),b(i),<span class="hljs-number">3</span>) = color(<span class="hljs-number">3</span>);
<span class="hljs-keyword">end</span>
<span class="hljs-string">%% 平滑处理
g1=medfilt2(img(:,:,1));%</span>红
g2=medfilt2(img(<span class="hljs-symbol">:</span>,<span class="hljs-symbol">:</span>,<span class="hljs-number">2</span>));%绿
g3=medfilt2(img(<span class="hljs-symbol">:</span>,<span class="hljs-symbol">:</span>,<span class="hljs-number">3</span>));%蓝
img1(<span class="hljs-symbol">:</span>,<span class="hljs-symbol">:</span>,<span class="hljs-number">1</span>) = g1;
img1(<span class="hljs-symbol">:</span>,<span class="hljs-symbol">:</span>,<span class="hljs-number">2</span>) = g2;
img1(<span class="hljs-symbol">:</span>,<span class="hljs-symbol">:</span>,<span class="hljs-number">3</span>) = g3;
imshow(img1);
imwrite(img1,<span class="hljs-string">'b.jpg'</span>)</code></pre>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f2b165bd3a48953e825d5f0b0e0cc5b9/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">vue采坑记之echarts动态数据刷新</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/694869323d8c1865ac541fa59b2e797c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">iOS三种页面跳转方法</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>