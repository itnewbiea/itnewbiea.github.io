<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>python读取csv文件命令 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="python读取csv文件命令" />
<meta property="og:description" content="python操作csv文件命令大全（一） 读文件和看文件 df = pd.read_csv（&#39;文件名.csv&#39;） df.head() #默认前五行，若是想看更多行，括号里自行输入 合并文件 pd.merge(left, right, how=&#39; &#39;, on=None, left_on=None, right_on=None, left_index=False, right_index=False, sort=True, suffixes=(&#39;_x&#39;, &#39;_y&#39;), copy=True, indicator=False, validate=None) 各参数如下：
left: 拼接的左侧DataFrame对象right: 拼接的右侧DataFrame对象on: 要加入列或索引的名称，名称必须在两个DataFrame对象中都能找到，因为是根据该名称就行合并。（如果未传递且left_index和right_index为False，则DataFrame中的列的交集将被推断为连接键）。left_on:左侧DataFrame中的列或索引级别用作键。 可以是列名，索引级名称，也可以是长度等于DataFrame长度的数组。right_on: 左侧DataFrame中的列或索引级别用作键。 可以是列名，索引级名称，也可以是长度等于DataFrame长度的数组。left_index: 如果为True，则使用左侧DataFrame中的索引（行标签）作为其连接键。
对于具有MultiIndex（分层）的DataFrame，级别数必须与右侧DataFrame中的连接键数相匹配。right_index: 与left_index功能相似。how: One of ‘left’, ‘right’, ‘outer’, ‘inner’.默认inner。inner是取交集，outer取并集，left为左连接，right为右连接，标签不能对齐的部分，用NAN进行填充。sort: 按字典顺序通过连接键对结果DataFrame进行排序。 默认为True，设置为False将在很多情况下显着提高性能。suffixes: 用于重叠列的字符串后缀元组。 默认为（‘x’，’ y’）。copy: 始终从传递的DataFrame对象复制数据（默认为True），即使不需要重建索引也是如此。indicator:在pd.concat()中可以通过参数设定显示拼接后的表中哪些信息来自于哪一个表格，在pd.merge()中也可以进行这样的操作，就是通过indicator参数设置，默认是False不显示数据来源，把参数设置为True就可以了。
例子： dff = all_data.merge(df,on = &#39;start_id&#39;,how = &#39;left&#39;) 左连接保留左表的信息，把右表中主键与左表一致的信息拼接进来，标签不能对齐的部分，用NAN进行填充。
文件保存为csv 保存路径 df.to_csv(&#39;text.csv&#39;) #相对位置，保存在getwcd()获得的路径下 df.to_csv(&#39;C:/Users/name/Desktop/text.csv&#39;) #绝对位置 查询当前工作路径 import os os.getcwd() #获取当前工作路径 分隔符 df.to_csv(&#39;text.csv&#39;,sep=&#39;?&#39;)#使用?分隔需要保存的数据，不写则默认是 替换空值 df." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/7149d2bc54525022412a9861a65fd6f2/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-03-27T20:08:12+08:00" />
<meta property="article:modified_time" content="2022-03-27T20:08:12+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">python读取csv文件命令</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="pythoncsv_0"></a>python操作csv文件命令大全（一）</h2> 
<h4><a id="_1"></a>读文件和看文件</h4> 
<pre><code class="prism language-python">df <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv（<span class="token string">'文件名.csv'</span>）
df<span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">#默认前五行，若是想看更多行，括号里自行输入</span>
</code></pre> 
<h4><a id="_7"></a>合并文件</h4> 
<pre><code class="prism language-python">pd<span class="token punctuation">.</span>merge<span class="token punctuation">(</span>left<span class="token punctuation">,</span> right<span class="token punctuation">,</span> how<span class="token operator">=</span><span class="token string">' '</span><span class="token punctuation">,</span> on<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span> left_on<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span> right_on<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span>
         left_index<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> right_index<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> sort<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span>
         suffixes<span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">'_x'</span><span class="token punctuation">,</span> <span class="token string">'_y'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> copy<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> indicator<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span>
         validate<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span>
</code></pre> 
<p>各参数如下：</p> 
<ul><li>left: 拼接的左侧DataFrame对象</li><li>right: 拼接的右侧DataFrame对象</li><li>on: 要加入列或索引的名称，名称必须在两个DataFrame对象中都能找到，因为是根据该名称就行合并。（如果未传递且left_index和right_index为False，则DataFrame中的列的交集将被推断为连接键）。</li><li>left_on:左侧DataFrame中的列或索引级别用作键。 可以是列名，索引级名称，也可以是长度等于DataFrame长度的数组。</li><li>right_on: 左侧DataFrame中的列或索引级别用作键。 可以是列名，索引级名称，也可以是长度等于DataFrame长度的数组。</li><li>left_index: 如果为True，则使用左侧DataFrame中的索引（行标签）作为其连接键。<br> 对于具有MultiIndex（分层）的DataFrame，级别数必须与右侧DataFrame中的连接键数相匹配。</li><li>right_index: 与left_index功能相似。</li><li>how: One of ‘left’, ‘right’, ‘outer’, ‘inner’.</li><li>默认inner。inner是取交集，outer取并集，left为左连接，right为右连接，标签不能对齐的部分，用NAN进行填充。</li><li>sort: 按字典顺序通过连接键对结果DataFrame进行排序。 默认为True，设置为False将在很多情况下显着提高性能。</li><li>suffixes: 用于重叠列的字符串后缀元组。 默认为（‘x’，’ y’）。</li><li>copy: 始终从传递的DataFrame对象复制数据（默认为True），即使不需要重建索引也是如此。</li><li>indicator:在pd.concat()中可以通过参数设定显示拼接后的表中哪些信息来自于哪一个表格，在pd.merge()中也可以进行这样的操作，就是通过indicator参数设置，默认是False不显示数据来源，把参数设置为True就可以了。<br> <em><strong>例子：</strong></em></li></ul> 
<pre><code class="prism language-python">dff <span class="token operator">=</span> all_data<span class="token punctuation">.</span>merge<span class="token punctuation">(</span>df<span class="token punctuation">,</span>on <span class="token operator">=</span> <span class="token string">'start_id'</span><span class="token punctuation">,</span>how <span class="token operator">=</span> <span class="token string">'left'</span><span class="token punctuation">)</span>
</code></pre> 
<p>左连接保留左表的信息，把右表中主键与左表一致的信息拼接进来，标签不能对齐的部分，用NAN进行填充。</p> 
<h4><a id="csv_37"></a>文件保存为csv</h4> 
<h5><a id="_38"></a>保存路径</h5> 
<pre><code class="prism language-python">df<span class="token punctuation">.</span>to_csv<span class="token punctuation">(</span><span class="token string">'text.csv'</span><span class="token punctuation">)</span> <span class="token comment">#相对位置，保存在getwcd()获得的路径下</span>
df<span class="token punctuation">.</span>to_csv<span class="token punctuation">(</span><span class="token string">'C:/Users/name/Desktop/text.csv'</span><span class="token punctuation">)</span> <span class="token comment">#绝对位置</span>
</code></pre> 
<h6><a id="_43"></a>查询当前工作路径</h6> 
<pre><code class="prism language-python"><span class="token keyword">import</span> os
os<span class="token punctuation">.</span>getcwd<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">#获取当前工作路径</span>
</code></pre> 
<h5><a id="_49"></a>分隔符</h5> 
<pre><code class="prism language-python">df<span class="token punctuation">.</span>to_csv<span class="token punctuation">(</span><span class="token string">'text.csv'</span><span class="token punctuation">,</span>sep<span class="token operator">=</span><span class="token string">'?'</span><span class="token punctuation">)</span><span class="token comment">#使用?分隔需要保存的数据，不写则默认是</span>
</code></pre> 
<h5><a id="_54"></a>替换空值</h5> 
<pre><code class="prism language-python">df<span class="token punctuation">.</span>to_csv<span class="token punctuation">(</span><span class="token string">'text.csv'</span>，<span class="token punctuation">,</span>na_rep<span class="token operator">=</span><span class="token string">'NAN'</span><span class="token punctuation">)</span><span class="token comment">#缺失值保存为NAN，如果不写，默认是空</span>
</code></pre> 
<h5><a id="_59"></a>保存格式</h5> 
<pre><code class="prism language-python">df<span class="token punctuation">.</span>to_csv<span class="token punctuation">(</span><span class="token string">'text.csv'</span><span class="token punctuation">,</span><span class="token punctuation">,</span>float_format<span class="token operator">=</span><span class="token string">'%.2f'</span><span class="token punctuation">)</span><span class="token comment">#保留两位小数</span>
</code></pre> 
<h5><a id="_64"></a>是否保留列名</h5> 
<pre><code class="prism language-python">df<span class="token punctuation">.</span>to_csv<span class="token punctuation">(</span><span class="token string">'text.csv'</span><span class="token punctuation">,</span>header<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">#不保存列名</span>
</code></pre> 
<h5><a id="_69"></a>是否保留行索引</h5> 
<pre><code class="prism language-python">df<span class="token punctuation">.</span>to_csv<span class="token punctuation">(</span><span class="token string">'text.csv'</span><span class="token punctuation">,</span>index<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">#不保存行索引</span>
</code></pre> 
<h4><a id="_74"></a>计算列中各元素的数量</h4> 
<pre><code class="prism language-python">df<span class="token operator">=</span>模块名<span class="token punctuation">.</span>groupby<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'列名'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>reset_index<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">'weight'</span><span class="token punctuation">)</span>
</code></pre> 
<h4><a id="_79"></a>给每列重命名，并输出某列</h4> 
<pre><code class="prism language-python">df<span class="token punctuation">.</span>columns <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'A'</span><span class="token punctuation">,</span><span class="token string">'B'</span><span class="token punctuation">,</span><span class="token string">'C'</span><span class="token punctuation">,</span><span class="token string">'D'</span><span class="token punctuation">,</span><span class="token string">'E'</span><span class="token punctuation">]</span>  <span class="token comment">#‘填重命的列名’，有几列就要命名几列</span>
df<span class="token punctuation">.</span>drop<span class="token punctuation">(</span>columns<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'B'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>   <span class="token comment">#删除B列</span>
</code></pre>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/bc5da7232d421394a26d6c8e948191ac/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">安装华为eNSP2019亲测有用</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/1304fa5fefe64c824e44bf6a45a0d0b5/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">SLAM学习笔记（一）Lio-sam安装与运行 ubuntu18.04&#43;ros melodic</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>