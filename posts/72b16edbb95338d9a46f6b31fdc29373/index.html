<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>PHP验证登录用户名和密码 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="PHP验证登录用户名和密码" />
<meta property="og:description" content="登录页面
login.html 负责收集用户填写的登录信息
&lt;html&gt; &lt;head&gt;用户登录&lt;/head&gt; &lt;form name=&#34;LoginForm&#34; method=&#34;post&#34; action=&#34;login.php&#34; onSubmit=&#34;return InputCheck(this)&#34;&gt; &lt;p&gt; &lt;label for=&#34;username&#34; class=&#34;label&#34;&gt;用户名:&lt;/label&gt; &lt;input id=&#34;username&#34; name=&#34;username&#34; type=&#34;text&#34; class=&#34;input&#34; /&gt; &lt;p/&gt; &lt;p&gt; &lt;label for=&#34;password&#34; class=&#34;label&#34;&gt;密 码:&lt;/label&gt; &lt;input id=&#34;password&#34; name=&#34;password&#34; type=&#34;password&#34; class=&#34;input&#34; /&gt; &lt;p/&gt; &lt;p&gt; &lt;input type=&#34;submit&#34; name=&#34;submit&#34; value=&#34; 确 定 &#34; class=&#34;left&#34; /&gt; &lt;/p&gt; &lt;/form&gt; &lt;/html&gt; 登录处理
login.php 负责处理用户登录与退出动作。
&lt;?php //登录 if(!isset($_POST[&#39;submit&#39;])){ exit(&#39;非法访问!&#39;); } $username = htmlspecialchars($_POST[&#39;username&#39;]); $password = MD5($_POST[&#39;password&#39;]); //包含数据库连接文件 include(&#39;conn.php&#39;); //检测用户名及密码是否正确 $check_query = mysql_query(&#34;select userid from user_list where username=&#39;$username&#39; and password=&#39;$password&#39; limit 1&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/72b16edbb95338d9a46f6b31fdc29373/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2014-03-12T18:50:20+08:00" />
<meta property="article:modified_time" content="2014-03-12T18:50:20+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">PHP验证登录用户名和密码</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>登录页面</p> 
<p>login.html 负责收集用户填写的登录信息</p> 
<p> </p> 
<pre class="has"><code class="language-html">&lt;html&gt;
&lt;head&gt;用户登录&lt;/head&gt;
&lt;form name="LoginForm" method="post" action="login.php" onSubmit="return InputCheck(this)"&gt;
&lt;p&gt;
&lt;label for="username" class="label"&gt;用户名:&lt;/label&gt;
&lt;input id="username" name="username" type="text" class="input" /&gt;
&lt;p/&gt;
&lt;p&gt;
&lt;label for="password" class="label"&gt;密 码:&lt;/label&gt;
&lt;input id="password" name="password" type="password" class="input" /&gt;
&lt;p/&gt;
&lt;p&gt;
&lt;input type="submit" name="submit" value="  确 定  " class="left" /&gt;
&lt;/p&gt;
&lt;/form&gt;
&lt;/html&gt;
</code></pre> 
<p><br> 登录处理<br> login.php 负责处理用户登录与退出动作。</p> 
<pre class="has"><code class="language-php">&lt;?php
//登录
if(!isset($_POST['submit'])){
    exit('非法访问!');
}
$username = htmlspecialchars($_POST['username']);
$password = MD5($_POST['password']);

//包含数据库连接文件
include('conn.php');
//检测用户名及密码是否正确
$check_query = mysql_query("select userid from user_list where username='$username' and password='$password' limit 1");
if($result = mysql_fetch_array($check_query)){
    //登录成功
    session_start();
    $_SESSION['username'] = $username;
    $_SESSION['userid'] = $result['userid'];
    echo $username,' 欢迎你！进入 &lt;a href="my.php"&gt;用户中心&lt;/a&gt;&lt;br /&gt;';
    echo '点击此处 &lt;a href="login.php?action=logout"&gt;注销&lt;/a&gt; 登录！&lt;br /&gt;';
    exit;
} else {
    exit('登录失败！点击此处 &lt;a href="javascript:history.back(-1);"&gt;返回&lt;/a&gt; 重试');
}



//注销登录
if($_GET['action'] == "logout"){
    unset($_SESSION['userid']);
    unset($_SESSION['username']);
    echo '注销登录成功！点击此处 &lt;a href="login.html"&gt;登录&lt;/a&gt;';
    exit;
}

?&gt;</code></pre> 
<p> </p> 
<p>用户中心<br> my.php 是用户中心，作为用户登录检测。</p> 
<pre class="has"><code class="language-php">&lt;?php
session_start();

//检测是否登录，若没登录则转向登录界面
if(!isset($_SESSION['userid'])){
    header("Location:login.html");
    exit();
}
//包含数据库连接文件
include('conn.php');
$userid = $_SESSION['userid'];
$username = $_SESSION['username'];
$user_query = mysql_query("select * from user_list where userid = '$userid' limit 1");
$row = mysql_fetch_array($user_query);
echo '用户信息：&lt;br /&gt;';
echo '用户ID：',$userid,'&lt;br /&gt;';
echo '用户名：',$username,'&lt;br /&gt;';
echo '&lt;a href="login.php?action=logout"&gt;注销&lt;/a&gt; 登录&lt;br /&gt;';
?&gt;
</code></pre> 
<p><br> conn.php,用于连接数据库</p> 
<pre class="has"><code class="language-php">&lt;?php 

 $conn = mysql_connect("127.0.0.1","root","") or die("数据库链接错误".mysql_error());
 mysql_select_db("info_db",$conn) or die("数据库访问错误".mysql_error());
 mysql_query("set names gb2312");
?&gt;</code></pre> 
<p>原文地址：<a href="http://www.exchen.net/php%E9%AA%8C%E8%AF%81%E7%99%BB%E5%BD%95%E7%94%A8%E6%88%B7%E5%90%8D%E5%92%8C%E5%AF%86%E7%A0%81.html" rel="nofollow">http://www.exchen.net/php%E9%AA%8C%E8%AF%81%E7%99%BB%E5%BD%95%E7%94%A8%E6%88%B7%E5%90%8D%E5%92%8C%E5%AF%86%E7%A0%81.html</a></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/fb36bf8e122bd5ef8d196fcea687f876/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">全面讲解远程桌面无法连接方案</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/17a70cb67d9f52626b7e0d2a555445c8/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">使用objdump objcopy查看与修改符号表</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>