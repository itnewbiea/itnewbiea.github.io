<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>C&#43;&#43;库函数——string类 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="C&#43;&#43;库函数——string类" />
<meta property="og:description" content="目录
1. 简介
①什么是string类
②string类的作用
2. string类的常见接口
①string类对象的常见构造
②string类对象的容量操作
⑴size、length、 capacity
⑵reserve、resize
⑶clear、shrink_to_fit
③string类对象的访问及遍历操作
⑴使用[]
⑵使用迭代器iterator
⑶使用范围for
④string类对象的修改操作
⑴&#43;=、append、push_back与insert
⑵assign、erase、replace与pop_back
⑶c_str、substr
⑷find、rfind、find_first_of、find_last_of、find_first_not_of、find_last_not_of
⑤string类的非成员函数
⑴operator&#43;
⑵relational operators
⑶operator&lt;&lt;、operator&gt;&gt;
⑷getline
1. 简介 ①什么是string类 源文档
译：
1. 字符串是表示字符序列的类 2. 标准的字符串类提供了对此类对象的支持，其接口类似于标准字符容器的接口，但添加了专门用于操作单字节字符字符串的设计特性。 3. string 类是使用 char( 即作为它的字符类型，使用它的默认 char_traits 和分配器类型 ( 关于模板的更多信息，请参阅basic_string) 。 4. string 类是 basic_string 模板类的一个实例，它使用 char 来实例化 basic_string 模板类，并用 char_traits和allocator 作为 basic_string 的默认参数 ( 根于更多的模板信息请参考 basic_string) 。 5. 注意，这个类独立于所使用的编码来处理字节 : 如果用来处理多字节或变长字符 ( 如 UTF-8) 的序列，这个类的所有成员( 如长度或大小 ) 以及它的迭代器，将仍然按照字节 ( 而不是实际编码的字符 ) 来操作。 ②string类的作用 string类是一个用于处理字符串的类，它可以存储任意数目的字符。它可以用来表示文本或其他字符串数据，例如：文本文件内容、网络传输的数据、数据库中的文本列、用户输入或输出等等。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/80055814fcd92f5648b33a02fd12d76e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-06-01T23:55:15+08:00" />
<meta property="article:modified_time" content="2023-06-01T23:55:15+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">C&#43;&#43;库函数——string类</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="1.%20%E7%AE%80%E4%BB%8B-toc" style="margin-left:0px;"><a href="#1.%20%E7%AE%80%E4%BB%8B" rel="nofollow">1. 简介</a></p> 
<p id="%E2%91%A0%E4%BB%80%E4%B9%88%E6%98%AFstring%E7%B1%BB-toc" style="margin-left:40px;"><a href="#%E2%91%A0%E4%BB%80%E4%B9%88%E6%98%AFstring%E7%B1%BB" rel="nofollow">①什么是string类</a></p> 
<p id="%E2%91%A1string%E7%B1%BB%E7%9A%84%E4%BD%9C%E7%94%A8-toc" style="margin-left:40px;"><a href="#%E2%91%A1string%E7%B1%BB%E7%9A%84%E4%BD%9C%E7%94%A8" rel="nofollow">②string类的作用</a></p> 
<p id="2.%20string%E7%B1%BB%E7%9A%84%E5%B8%B8%E8%A7%81%E6%8E%A5%E5%8F%A3-toc" style="margin-left:0px;"><a href="#2.%20string%E7%B1%BB%E7%9A%84%E5%B8%B8%E8%A7%81%E6%8E%A5%E5%8F%A3" rel="nofollow">2. string类的常见接口</a></p> 
<p id="%E2%91%A0string%E7%B1%BB%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%B8%B8%E8%A7%81%E6%9E%84%E9%80%A0-toc" style="margin-left:40px;"><a href="#%E2%91%A0string%E7%B1%BB%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%B8%B8%E8%A7%81%E6%9E%84%E9%80%A0" rel="nofollow">①string类对象的常见构造</a></p> 
<p id="%E2%91%A1string%E7%B1%BB%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%AE%B9%E9%87%8F%E6%93%8D%E4%BD%9C-toc" style="margin-left:40px;"><a href="#%E2%91%A1string%E7%B1%BB%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%AE%B9%E9%87%8F%E6%93%8D%E4%BD%9C" rel="nofollow">②string类对象的容量操作</a></p> 
<p id="%E2%91%B4size%E3%80%81length%E3%80%81%20capacity-toc" style="margin-left:80px;"><a href="#%E2%91%B4size%E3%80%81length%E3%80%81%20capacity" rel="nofollow">⑴size、length、 capacity</a></p> 
<p id="%E2%91%B5reserve%E3%80%81resize-toc" style="margin-left:80px;"><a href="#%E2%91%B5reserve%E3%80%81resize" rel="nofollow">⑵reserve、resize</a></p> 
<p id="%E2%91%B6clear%E3%80%81shrink_to_fit-toc" style="margin-left:80px;"><a href="#%E2%91%B6clear%E3%80%81shrink_to_fit" rel="nofollow">⑶clear、shrink_to_fit</a></p> 
<p id="%E2%91%A2string%E7%B1%BB%E5%AF%B9%E8%B1%A1%E7%9A%84%E8%AE%BF%E9%97%AE%E5%8F%8A%E9%81%8D%E5%8E%86%E6%93%8D%E4%BD%9C-toc" style="margin-left:40px;"><a href="#%E2%91%A2string%E7%B1%BB%E5%AF%B9%E8%B1%A1%E7%9A%84%E8%AE%BF%E9%97%AE%E5%8F%8A%E9%81%8D%E5%8E%86%E6%93%8D%E4%BD%9C" rel="nofollow">③string类对象的访问及遍历操作</a></p> 
<p id="%E2%91%B4%E4%BD%BF%E7%94%A8%5B%5D-toc" style="margin-left:80px;"><a href="#%E2%91%B4%E4%BD%BF%E7%94%A8%5B%5D" rel="nofollow">⑴使用[]</a></p> 
<p id="%E2%91%B5%E4%BD%BF%E7%94%A8%E8%BF%AD%E4%BB%A3%E5%99%A8iterator-toc" style="margin-left:80px;"><a href="#%E2%91%B5%E4%BD%BF%E7%94%A8%E8%BF%AD%E4%BB%A3%E5%99%A8iterator" rel="nofollow">⑵使用迭代器iterator</a></p> 
<p id="%E2%91%B6%E4%BD%BF%E7%94%A8%E8%8C%83%E5%9B%B4for-toc" style="margin-left:80px;"><a href="#%E2%91%B6%E4%BD%BF%E7%94%A8%E8%8C%83%E5%9B%B4for" rel="nofollow">⑶使用范围for</a></p> 
<p id="%E2%91%A3string%E7%B1%BB%E5%AF%B9%E8%B1%A1%E7%9A%84%E4%BF%AE%E6%94%B9%E6%93%8D%E4%BD%9C-toc" style="margin-left:40px;"><a href="#%E2%91%A3string%E7%B1%BB%E5%AF%B9%E8%B1%A1%E7%9A%84%E4%BF%AE%E6%94%B9%E6%93%8D%E4%BD%9C" rel="nofollow">④string类对象的修改操作</a></p> 
<p id="%E2%91%B4%2B%3D%E3%80%81append%E3%80%81push_back%E4%B8%8Einsert-toc" style="margin-left:80px;"><a href="#%E2%91%B4%2B%3D%E3%80%81append%E3%80%81push_back%E4%B8%8Einsert" rel="nofollow">⑴+=、append、push_back与insert</a></p> 
<p id="%E2%91%B5assign%E3%80%81erase%E3%80%81replace%E4%B8%8Epop_back-toc" style="margin-left:80px;"><a href="#%E2%91%B5assign%E3%80%81erase%E3%80%81replace%E4%B8%8Epop_back" rel="nofollow">⑵assign、erase、replace与pop_back</a></p> 
<p id="%E2%91%B6c_str%E3%80%81substr-toc" style="margin-left:80px;"><a href="#%E2%91%B6c_str%E3%80%81substr" rel="nofollow">⑶c_str、substr</a></p> 
<p id="%E2%91%B7find%E3%80%81rfind%E3%80%81find_first_of%E3%80%81find_last_of%E3%80%81find_first_not_of%E3%80%81find_last_not_of-toc" style="margin-left:80px;"><a href="#%E2%91%B7find%E3%80%81rfind%E3%80%81find_first_of%E3%80%81find_last_of%E3%80%81find_first_not_of%E3%80%81find_last_not_of" rel="nofollow">⑷find、rfind、find_first_of、find_last_of、find_first_not_of、find_last_not_of</a></p> 
<p id="%E2%91%A4string%E7%B1%BB%E7%9A%84%E9%9D%9E%E6%88%90%E5%91%98%E5%87%BD%E6%95%B0-toc" style="margin-left:40px;"><a href="#%E2%91%A4string%E7%B1%BB%E7%9A%84%E9%9D%9E%E6%88%90%E5%91%98%E5%87%BD%E6%95%B0" rel="nofollow">⑤string类的非成员函数</a></p> 
<p id="%E2%91%B4operator%2B-toc" style="margin-left:80px;"><a href="#%E2%91%B4operator%2B" rel="nofollow">⑴operator+</a></p> 
<p id="%E2%91%B5relational%20operators-toc" style="margin-left:80px;"><a href="#%E2%91%B5relational%20operators" rel="nofollow">⑵relational operators</a></p> 
<p id="%E2%91%B6operator%3C%3C%E3%80%81operator%3E%3E-toc" style="margin-left:80px;"><a href="#%E2%91%B6operator%3C%3C%E3%80%81operator%3E%3E" rel="nofollow">⑶operator&lt;&lt;、operator&gt;&gt;</a></p> 
<p id="%E2%91%B7getline-toc" style="margin-left:80px;"><a href="#%E2%91%B7getline" rel="nofollow">⑷getline</a></p> 
<hr id="hr-toc"> 
<p></p> 
<h2>1. 简介</h2> 
<h3 id="%E2%91%A0%E4%BB%80%E4%B9%88%E6%98%AFstring%E7%B1%BB">①什么是string类</h3> 
<p>源文档</p> 
<p><img alt="" height="464" src="https://images2.imgbox.com/33/04/niCAXbU5_o.png" width="1200"></p> 
<p>译：</p> 
<blockquote> 
 <div> 
  <span style="color:#777777;">1. </span> 
  <span style="color:#777777;">字符串是表示字符序列的类 </span> 
 </div> 
 <div> 
  <span style="color:#777777;">2. </span> 
  <span style="color:#777777;">标准的字符串类提供了对此类对象的支持，其接口类似于标准字符容器的接口，但添加了专门用于操作单字节字符字符串的设计特性。 </span> 
 </div> 
 <div> 
  <span style="color:#777777;">3. string</span> 
  <span style="color:#777777;">类是使用</span> 
  <span style="color:#777777;">char(</span> 
  <span style="color:#777777;">即作为它的字符类型，使用它的默认</span> 
  <span style="color:#777777;">char_traits</span> 
  <span style="color:#777777;">和分配器类型</span> 
  <span style="color:#777777;">(</span> 
  <span style="color:#777777;">关于模板的更多信息，请参阅basic_string)</span> 
  <span style="color:#777777;">。 </span> 
 </div> 
 <div> 
  <span style="color:#777777;">4. string</span> 
  <span style="color:#777777;">类是</span> 
  <span style="color:#777777;">basic_string</span> 
  <span style="color:#777777;">模板类的一个实例，它使用</span> 
  <span style="color:#777777;">char</span> 
  <span style="color:#777777;">来实例化</span> 
  <span style="color:#777777;">basic_string</span> 
  <span style="color:#777777;">模板类，并用</span> 
  <span style="color:#777777;">char_traits和allocator</span> 
  <span style="color:#777777;">作为</span> 
  <span style="color:#777777;">basic_string</span> 
  <span style="color:#777777;">的默认参数</span> 
  <span style="color:#777777;">(</span> 
  <span style="color:#777777;">根于更多的模板信息请参考</span> 
  <span style="color:#777777;">basic_string)</span> 
  <span style="color:#777777;">。 </span> 
 </div> 
 <div> 
  <span style="color:#777777;">5. </span> 
  <span style="color:#777777;">注意，这个类独立于所使用的编码来处理字节</span> 
  <span style="color:#777777;">:</span> 
  <span style="color:#777777;">如果用来处理多字节或变长字符</span> 
  <span style="color:#777777;">(</span> 
  <span style="color:#777777;">如</span> 
  <span style="color:#777777;">UTF-8)</span> 
  <span style="color:#777777;">的序列，这个类的所有成员(</span> 
  <span style="color:#777777;">如长度或大小</span> 
  <span style="color:#777777;">)</span> 
  <span style="color:#777777;">以及它的迭代器，将仍然按照字节</span> 
  <span style="color:#777777;">(</span> 
  <span style="color:#777777;">而不是实际编码的字符</span> 
  <span style="color:#777777;">)</span> 
  <span style="color:#777777;">来操作。 </span> 
 </div> 
</blockquote> 
<h3 id="%E2%91%A1string%E7%B1%BB%E7%9A%84%E4%BD%9C%E7%94%A8">②string类的作用</h3> 
<p>string类是一个用于处理字符串的类，它可以存储任意数目的字符。它可以用来表示文本或其他字符串数据，例如：文本文件内容、网络传输的数据、数据库中的文本列、用户输入或输出等等。</p> 
<p>string类的作用有以下几个方面：</p> 
<blockquote> 
 <ol><li> <p>存储和处理文本数据：string类可以存储和操作任意数目的字符，可以处理文本数据，如搜索、替换、截取子串等操作。</p> </li><li> <p>方便字符串操作：使用string类可以方便地进行字符串操作，如连接（concatenate）两个字符串、删除（erase）字符串中的一些字符、复制（copy）字符串等。</p> </li><li> <p>兼容性：string类是C++标准库的一部分，可用于在不同的计算机和操作系统之间进行可靠的代码交换。</p> </li></ol> 
</blockquote> 
<h2 id="2.%20string%E7%B1%BB%E7%9A%84%E5%B8%B8%E8%A7%81%E6%8E%A5%E5%8F%A3">2. string类的常见接口</h2> 
<h3 id="%E2%91%A0string%E7%B1%BB%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%B8%B8%E8%A7%81%E6%9E%84%E9%80%A0">①string类对象的常见构造</h3> 
<p>源文档</p> 
<p><img alt="" height="407" src="https://images2.imgbox.com/58/39/bAuwtpGM_o.png" width="1200"></p> 
<p>在这里我们只对部分作讲解 ，以如下代码为例</p> 
<pre><code class="language-cpp">int main()
{
	string s1;// 创建一个没有初始值的字符串s1
	string s2("张三");// 创建一个以"张三"为初始值的字符串s2
	string s3("hello world");// 同上
	string s4(10, '*');// 创建一个s4字符串并以10个'*'初始化它
	string s5(s2);// 拷贝构造一个s5字符串

    string s6(s3, 6, 5);// 将s3中第6个位置的及之后的5个字符串拷贝构造到s6中

    string s7(s3, 6);// 将s3中第6个位置及之后的所有字符串（这里的nops为一个极大的无符号整形数，其为size_t nops = -1）拷贝构造到s7中

    string s8(s3, 6, 100);// 类似于s6，是将s3中第6个位置的及之后的100个字符串拷贝构造到s8中

    return 0;
}</code></pre> 
<p>分别打印它们有</p> 
<p><img alt="" height="862" src="https://images2.imgbox.com/93/39/BrExwl5H_o.png" width="1183"></p> 
<h3 id="%E2%91%A1string%E7%B1%BB%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%AE%B9%E9%87%8F%E6%93%8D%E4%BD%9C">②string类对象的容量操作</h3> 
<p>源文档</p> 
<p><img alt="" height="319" src="https://images2.imgbox.com/69/f8/0sQiJTbu_o.png" width="1156"></p> 
<p>同样的这里只对部分函数作讲解</p> 
<h4 id="%E2%91%B4size%E3%80%81length%E3%80%81%20capacity">⑴size、length、 capacity</h4> 
<p>源文档如下</p> 
<p><img alt="" height="378" src="https://images2.imgbox.com/49/ab/g9igF4tb_o.png" width="1103"></p> 
<p><img alt="" height="379" src="https://images2.imgbox.com/e5/45/tZnsQXXA_o.png" width="1121"></p> 
<p><img alt="" height="464" src="https://images2.imgbox.com/15/83/ZdoxDNvk_o.png" width="1114"></p> 
<p>测试代码如下</p> 
<pre><code class="language-cpp">int main()
{
	string s("hello, world");

	cout &lt;&lt; s.size() &lt;&lt; endl;// 显示字符串的有效长度
	cout &lt;&lt; s.length() &lt;&lt; endl;// 同上
	cout &lt;&lt; s.capacity() &lt;&lt; endl;// 显示字符串的容量
	cout &lt;&lt; s &lt;&lt; endl;
}</code></pre> 
<p>运行如下</p> 
<p><img alt="" height="619" src="https://images2.imgbox.com/8d/bf/M3khgVpf_o.png" width="1065"></p> 
<h4 id="%E2%91%B5reserve%E3%80%81resize">⑵reserve、resize</h4> 
<p>原文档如下</p> 
<p><img alt="" height="313" src="https://images2.imgbox.com/21/00/AawVrcTw_o.png" width="1116"></p> 
<p><img alt="" height="316" src="https://images2.imgbox.com/c5/ba/gOcmyEt9_o.png" width="1135"></p> 
<p>测试代码如下</p> 
<pre><code class="language-cpp">int main()
{
    string str = "hello world";
    cout &lt;&lt; "Str: " &lt;&lt; str &lt;&lt; endl;
    cout &lt;&lt; "Size: " &lt;&lt; str.size() &lt;&lt; endl;
    cout &lt;&lt; "Capacity: " &lt;&lt; str.capacity() &lt;&lt; endl;
    cout &lt;&lt; endl;

    str.resize(5);// 将str的长度改为5，超过5的部分全部被截断
    cout &lt;&lt; "Resized: " &lt;&lt; str &lt;&lt; endl;
    cout &lt;&lt; "Size: " &lt;&lt; str.size() &lt;&lt; endl;
    cout &lt;&lt; "Capacity: " &lt;&lt; str.capacity() &lt;&lt; endl;
    cout &lt;&lt; endl;

    str.resize(15,'*');// 将str的长度改为15，没有字符的部分全部用'*'填充
    cout &lt;&lt; "Resized: " &lt;&lt; str &lt;&lt; endl;
    cout &lt;&lt; "Size: " &lt;&lt; str.size() &lt;&lt; endl;
    cout &lt;&lt; "Capacity: " &lt;&lt; str.capacity() &lt;&lt; endl;
    cout &lt;&lt; endl;

    str.reserve(20);// 将capacity预置为20,不对size更改
    cout &lt;&lt; "Reserved: " &lt;&lt; str &lt;&lt; endl;
    cout &lt;&lt; "Size: " &lt;&lt; str.size() &lt;&lt; endl;
    cout &lt;&lt; "Capacity: " &lt;&lt; str.capacity() &lt;&lt; endl;
    cout &lt;&lt; endl;

    str.reserve(10);// 将capacity预置为小于size时，编译器可能不会对其作出更改
    cout &lt;&lt; "Reserved: " &lt;&lt; str &lt;&lt; endl;
    cout &lt;&lt; "Size: " &lt;&lt; str.size() &lt;&lt; endl;
    cout &lt;&lt; "Capacity: " &lt;&lt; str.capacity() &lt;&lt; endl;
    cout &lt;&lt; endl;

    return 0;
}</code></pre> 
<p>运行有</p> 
<p><img alt="" height="790" src="https://images2.imgbox.com/e3/f9/EMNRXd1A_o.png" width="1131"></p> 
<h4 id="%E2%91%B6clear%E3%80%81shrink_to_fit">⑶clear、shrink_to_fit</h4> 
<p><img alt="" height="175" src="https://images2.imgbox.com/1d/12/uD1B1mYI_o.png" width="1152"></p> 
<p><img alt="" height="248" src="https://images2.imgbox.com/12/d0/kP9YKhlT_o.png" width="1136"></p> 
<p>测试代码</p> 
<pre><code class="language-cpp">int main()
{
    string str = "hello world";
    cout &lt;&lt; "Str: " &lt;&lt; str &lt;&lt; endl;
    cout &lt;&lt; "Size: " &lt;&lt; str.size() &lt;&lt; endl;
    cout &lt;&lt; "Capacity: " &lt;&lt; str.capacity() &lt;&lt; endl;
    cout &lt;&lt; endl;

    // 清空字符串(将size置为0)，但不改变容量大小
    str.clear();
    cout &lt;&lt; "Cleared: " &lt;&lt; str &lt;&lt; endl;
    cout &lt;&lt; "Size: " &lt;&lt; str.size() &lt;&lt; endl;
    cout &lt;&lt; "Capacity: " &lt;&lt; str.capacity() &lt;&lt; endl;
    cout &lt;&lt; endl;

    // 提出将capacity缩小到适应大小的请求，最后是否缩小由编译器确定(与resever类似)
    str.shrink_to_fit();
    cout &lt;&lt; "Capacity after shrink: " &lt;&lt; str.capacity() &lt;&lt; endl;

    return 0;
}</code></pre> 
<p> 运行有</p> 
<p><img alt="" height="832" src="https://images2.imgbox.com/93/fd/NYtjqvrp_o.png" width="1200"></p> 
<h3 id="%E2%91%A2string%E7%B1%BB%E5%AF%B9%E8%B1%A1%E7%9A%84%E8%AE%BF%E9%97%AE%E5%8F%8A%E9%81%8D%E5%8E%86%E6%93%8D%E4%BD%9C">③string类对象的访问及遍历操作</h3> 
<h4 id="%E2%91%B4%E4%BD%BF%E7%94%A8%5B%5D">⑴使用[]</h4> 
<p>源文档</p> 
<p><img alt="" height="611" src="https://images2.imgbox.com/bf/69/Zjp8e0IX_o.png" width="1141"></p> 
<p> 我们使用以下代码进行举例</p> 
<pre><code class="language-cpp">int main()
{
	string s1("hello world");
	const string s2("Hello World");
	cout &lt;&lt; s1 &lt;&lt; " " &lt;&lt; s2 &lt;&lt; endl;
	cout &lt;&lt; s1[0] &lt;&lt; " " &lt;&lt; s2[0] &lt;&lt; endl;

	s1[0] = 'H';
	cout &lt;&lt; s1 &lt;&lt; endl;

	// s2[0] = 'h';   代码编译失败，因为const类型对象不能修改

	//使用时，可以同时改变字符串的内容
	for (size_t i = 0; i &lt; s1.size(); ++i)
	{
		cout &lt;&lt; s1[i] &lt;&lt; endl;
	}

	return 0;
}</code></pre> 
<p> 运行有</p> 
<p><img alt="" height="803" src="https://images2.imgbox.com/9c/f8/ZYUpJQE8_o.png" width="1200"></p> 
<h4 id="%E2%91%B5%E4%BD%BF%E7%94%A8%E8%BF%AD%E4%BB%A3%E5%99%A8iterator">⑵使用迭代器iterator</h4> 
<p>迭代器是什么？</p> 
<blockquote> 
 <p>  C++迭代器（Iterator）是一种对象，它允许遍历容器中的元素。迭代器提供了对容器元素的访问和操作，使程序员能够对容器进行遍历、查找、修改等操作。</p> 
 <p>  而迭代器本质上是一个泛型指针，它实现了对指向容器元素的指针的抽象，使得我们可以在不了解容器内部细节的情况下对其进行访问和操作。当我们需要遍历、查找或修改容器中的元素时，迭代器为我们提供了一种统一的接口，使得我们可以将不同类型的容器当作同一类型来处理。</p> 
</blockquote> 
<p>迭代器源文档</p> 
<p><img alt="" height="284" src="https://images2.imgbox.com/98/24/z1bm3FM2_o.png" width="1126"></p> 
<p>我们以如下代码举例</p> 
<pre><code class="language-cpp">int main()
{
	string s("hello world");
	string::iterator it = s.begin();
	while (it != s.end())
	{
		//也可以通过解引用来改变字符串内容
		(*it)++;
		cout &lt;&lt; *it &lt;&lt; " ";
		++it;
	}

	cout &lt;&lt; endl;

	// 倒着遍历字符串
	string::reverse_iterator rit = s.rbegin();
	// C++11之后，直接使用auto定义迭代器，让编译器推到迭代器的类型
	// 即可以使用auto rit = s.rbegin();
	while (rit != s.rend())
	{
		(*rit)--;
		cout &lt;&lt; *rit &lt;&lt; " ";
	}

	return 0;
}</code></pre> 
<p> 运行有</p> 
<p><img alt="" height="687" src="https://images2.imgbox.com/39/b2/F1obDzbx_o.png" width="1200"></p> 
<p>对于一些只读的字符串，需要使用const修饰，对应的begin()等也要对于更换为const形式，部分源文档如下</p> 
<p><img alt="" height="127" src="https://images2.imgbox.com/64/d3/QRPBiC8H_o.png" width="308"></p> 
<p><img alt="" height="138" src="https://images2.imgbox.com/b9/d0/pbQ7wRki_o.png" width="354"></p> 
<p><img alt="" height="139" src="https://images2.imgbox.com/74/32/AgahvpnD_o.png" width="289"></p> 
<pre><code class="language-cpp">void func(const string&amp; s)
{
    // 对于const常量字符串
    // 只能使用const修饰的迭代器，以防造成权限的放大
	string::const_iterator it = s.begin(); 
	while (it != s.end())
	{
		// it += 2;
		cout &lt;&lt;*it &lt;&lt;" ";
		++it;
	}
	cout &lt;&lt;endl;

	// string::const_reverse_iterator rit = s.rbegin( );
    // 可以使用auto来自动识别
	auto rit = s.rbegin();
	while (rit != s.rend( ))
	{
		// (*rit) += 3;
		cout &lt;&lt;*rit &lt;&lt;" ";
		++rit;
	}
}</code></pre> 
<h4 id="%E2%91%B6%E4%BD%BF%E7%94%A8%E8%8C%83%E5%9B%B4for">⑶使用范围for</h4> 
<p>以如下代码为例</p> 
<pre><code class="language-cpp">int main()
{
	string s = "hello world";
	for (auto&amp; ch : s)
	{
		ch += 1;
		cout &lt;&lt; ch &lt;&lt; " ";
	}

	return 0;
}</code></pre> 
<p>运行有</p> 
<p><img alt="" height="520" src="https://images2.imgbox.com/68/4b/LGcE90Ta_o.png" width="1074"></p> 
<h3 id="%E2%91%A3string%E7%B1%BB%E5%AF%B9%E8%B1%A1%E7%9A%84%E4%BF%AE%E6%94%B9%E6%93%8D%E4%BD%9C">④string类对象的修改操作</h3> 
<p>源文档</p> 
<p><img alt="" height="763" src="https://images2.imgbox.com/89/2a/SPg0tJWt_o.png" width="1131"></p> 
<h4 id="%E2%91%B4%2B%3D%E3%80%81append%E3%80%81push_back%E4%B8%8Einsert">⑴+=、append、push_back与insert</h4> 
<p><img alt="" height="283" src="https://images2.imgbox.com/f9/bd/FVkFK2ge_o.png" width="1113"></p> 
<p><img alt="" height="751" src="https://images2.imgbox.com/dd/6d/9zFNnivH_o.png" width="1106"></p> 
<p><img alt="" height="139" src="https://images2.imgbox.com/b1/2d/HiG6RCQD_o.png" width="1112"><img alt="" height="844" src="https://images2.imgbox.com/78/f8/fMHUoLoL_o.png" width="1127">测试代码</p> 
<pre><code class="language-cpp">int main()
{
    string str = "hello ";
    cout &lt;&lt; "str:" &lt;&lt; str &lt;&lt; endl;
    cout &lt;&lt; "strSize: " &lt;&lt; str.size() &lt;&lt; endl;
    cout &lt;&lt; "strCapacity: " &lt;&lt; str.capacity() &lt;&lt; endl;

    str += "world";// 向str追加"world"
    str += '!';
    cout &lt;&lt; "str:" &lt;&lt; str &lt;&lt; endl;
    cout &lt;&lt; "strSize: " &lt;&lt; str.size() &lt;&lt; endl;
    cout &lt;&lt; "strCapacity: " &lt;&lt; str.capacity() &lt;&lt; endl;
    cout &lt;&lt; endl;

    string str1 = "hello ";
    cout &lt;&lt; "str1:" &lt;&lt; str1 &lt;&lt; endl;
    cout &lt;&lt; "str1Size: " &lt;&lt; str1.size() &lt;&lt; endl;
    cout &lt;&lt; "str1Capacity: " &lt;&lt; str1.capacity() &lt;&lt; endl;

    str1.append("world", 3);// 向str1后追加"world"的前3个字符
    cout &lt;&lt; "str1:" &lt;&lt; str1 &lt;&lt; endl;

    str1.append(2, '!');// 向str1后追加两个'!'
    cout &lt;&lt; "str1:" &lt;&lt; str1 &lt;&lt; endl;
    cout &lt;&lt; "str1Size: " &lt;&lt; str1.size() &lt;&lt; endl;
    cout &lt;&lt; "str1Capacity: " &lt;&lt; str1.capacity() &lt;&lt; endl;
    cout &lt;&lt; endl;

    string str2 = "hello ";
    cout &lt;&lt; "str2:" &lt;&lt; str2 &lt;&lt; endl;
    cout &lt;&lt; "str2Size: " &lt;&lt; str2.size() &lt;&lt; endl;
    cout &lt;&lt; "str2Capacity: " &lt;&lt; str2.capacity() &lt;&lt; endl;

    // 遍历字符串"world"，并将每个字符尾插到str2中
    for (char c : "world")
    {
        str2.push_back(c);
    }
    cout &lt;&lt; "str2:" &lt;&lt; str2 &lt;&lt; endl;
    cout &lt;&lt; "str2Size: " &lt;&lt; str2.size() &lt;&lt; endl;
    cout &lt;&lt; "str2Capacity: " &lt;&lt; str2.capacity() &lt;&lt; endl;
    cout &lt;&lt; endl;

    string str3 = "hello ";
    cout &lt;&lt; "str3:" &lt;&lt; str3 &lt;&lt; endl;
    cout &lt;&lt; "str3Size: " &lt;&lt; str3.size() &lt;&lt; endl;
    cout &lt;&lt; "str3Capacity: " &lt;&lt; str3.capacity() &lt;&lt; endl;

    // 在str3的第6个位置插入字符串"world"
    str3.insert(6, "world");
    cout &lt;&lt; "str3:" &lt;&lt; str3 &lt;&lt; endl;

    // 在str3的最后的位置插入"!"
    str3.insert(str3.size(), "!");
    cout &lt;&lt; "str3:" &lt;&lt; str3 &lt;&lt; endl;
    cout &lt;&lt; "str3Size: " &lt;&lt; str3.size() &lt;&lt; endl;
    cout &lt;&lt; "str3Capacity: " &lt;&lt; str3.capacity() &lt;&lt; endl;


    return 0;
}</code></pre> 
<p>运行有</p> 
<p><img alt="" height="915" src="https://images2.imgbox.com/3a/8b/Ijy6Mk9j_o.png" width="1200"></p> 
<p>在插入数据时，会设计到扩容的问题， 实际上在不同的环境下扩容的方式各不相同</p> 
<pre><code class="language-cpp">int main()
{
	string s1("hello world"); 
	cout &lt;&lt; s1.size() &lt;&lt; endl;
	cout &lt;&lt; "初始容量:" &lt;&lt; s1.capacity() &lt;&lt; endl;

	size_t old = s1.capacity();
	for (size_t i = 0; i &lt; 100; i++) 
	{
		s1 += 'x';
		if (old != s1.capacity()) 
		{
			cout &lt;&lt; "扩容:" &lt;&lt; s1.capacity() &lt;&lt; endl; old = s1.capacity();
		}
	}

	return 0;
}</code></pre> 
<p>对于这样一段代码，在g++和vs两种环境下有着不同的结果，即</p> 
<p>g++：</p> 
<p><img alt="" height="177" src="https://images2.imgbox.com/cf/36/MkemtX5p_o.png" width="497"></p> 
<p>vs：</p> 
<p><img alt="" height="712" src="https://images2.imgbox.com/2f/6f/GfY8I96M_o.png" width="1200"></p> 
<p>通过观察我们发现在g++中string使用的是2倍扩容，在vs中使用的是1.5倍扩容 。</p> 
<h4 id="%E2%91%B5assign%E3%80%81erase%E3%80%81replace%E4%B8%8Epop_back">⑵assign、erase、replace与pop_back</h4> 
<p>源文档</p> 
<p><img alt="" height="829" src="https://images2.imgbox.com/fa/83/d33FSYt7_o.png" width="1118"></p> 
<p><img alt="" height="468" src="https://images2.imgbox.com/03/ab/Ho2PHaJO_o.png" width="1114"></p> 
<p><img alt="" height="895" src="https://images2.imgbox.com/84/16/f3NdcHvI_o.png" width="1117"><img alt="" height="133" src="https://images2.imgbox.com/b8/09/er2nRAEm_o.png" width="1114">测试代码</p> 
<pre><code class="language-cpp">int main()
{
    string str = "hello world";
    string str1, str2, str3, str4;

    // 将str对象的从下标为0到下标为5的字符拷贝构造到str1上
    str1.assign(str, 0, 5);
    cout &lt;&lt; "str1:" &lt;&lt; str1 &lt;&lt; endl;

    str2 = str;
    // 将str2对象的从下标为6的位置往后的5个字符删除
    str2.erase(6, 5);
    cout &lt;&lt; "str2:" &lt;&lt; str2 &lt;&lt; endl;

    str3 = str;
    // 将str3对象的从下标为2的位置往后的5个字符替换为"*****"
    str3.replace(2, 5, "*****");
    cout &lt;&lt; "str3:" &lt;&lt; str3 &lt;&lt; endl;

    str4 = str;
    // 尾删str4
    str4.pop_back();
    cout &lt;&lt; "str4:" &lt;&lt; str4 &lt;&lt; endl;

    return 0;
}</code></pre> 
<p>运行有</p> 
<p><img alt="" height="831" src="https://images2.imgbox.com/79/b5/1d57enk9_o.png" width="1200"></p> 
<h4 id="%E2%91%B6c_str%E3%80%81substr">⑶c_str、substr</h4> 
<p>源文档</p> 
<p><img alt="" height="409" src="https://images2.imgbox.com/0a/69/8NYwEWuw_o.png" width="1127"></p> 
<p><img alt="" height="205" src="https://images2.imgbox.com/0a/53/IfWscnmj_o.png" width="1119">测试代码</p> 
<pre><code class="language-cpp">int main()
{
    string str = "hello world";

    // 将string类对象转化成const char* 的C语言字符类型
    const char* cstr = str.c_str();
    cout &lt;&lt; "cstr:" &lt;&lt; cstr &lt;&lt; endl;

    // 将str从下标为6向后5个字符拷贝构造到sub中
    string sub = str.substr(6, 5);
    cout &lt;&lt; "sub:" &lt;&lt; sub &lt;&lt; endl;

    return 0;
}</code></pre> 
<p>运行有</p> 
<p><img alt="" height="651" src="https://images2.imgbox.com/3d/40/bdXkW57e_o.png" width="1200"></p> 
<h4 id="%E2%91%B7find%E3%80%81rfind%E3%80%81find_first_of%E3%80%81find_last_of%E3%80%81find_first_not_of%E3%80%81find_last_not_of">⑷find、rfind、find_first_of、find_last_of、find_first_not_of、find_last_not_of</h4> 
<p>源文档</p> 
<p><img alt="" height="398" src="https://images2.imgbox.com/19/2a/125twvrL_o.png" width="1111"></p> 
<p><img alt="" height="332" src="https://images2.imgbox.com/3e/44/CxhWL9XR_o.png" width="1118"><img alt="" height="398" src="https://images2.imgbox.com/69/39/8sQpAaey_o.png" width="1119"></p> 
<p><img alt="" height="332" src="https://images2.imgbox.com/79/24/MuDJ5lj8_o.png" width="1114"></p> 
<p><img alt="" height="332" src="https://images2.imgbox.com/72/19/XtgUdRcn_o.png" width="1114"></p> 
<p><img alt="" height="325" src="https://images2.imgbox.com/28/c0/iFm5ReFO_o.png" width="1105"></p> 
<p>测试代码</p> 
<pre><code class="language-cpp">int main()
{
    string str = "hello world";

    // 从头开始查找字符 l
    size_t pos1 = str.find('l');
    cout &lt;&lt; "pos1:" &lt;&lt; pos1 &lt;&lt; endl;

    // 从尾开始查找字符 l
    size_t pos2 = str.rfind('l');
    cout &lt;&lt; "pos2:" &lt;&lt; pos2 &lt;&lt; endl;

    // 从前往后查找"world"中任意一个字符(即'w'、'o'、'r'、'l'、'd')第一次出现的位置
    size_t pos3 = str.find_first_of("world");
    cout &lt;&lt; "pos3:" &lt;&lt; pos3 &lt;&lt; endl;

    // 从后往前查找"world"中任意一个字符(即'w'、'o'、'r'、'l'、'd')第一次出现的位置
    size_t pos4 = str.find_last_of("world");
    cout &lt;&lt; "pos4:" &lt;&lt; pos4 &lt;&lt; endl;

    // 从前往后查找不在"helord"中任意一个字符(即'h'、'e'、'l'、'o'、'r'、'd')第一次出现的位置
    size_t pos5 = str.find_first_not_of("helord");
    cout &lt;&lt; "pos5:" &lt;&lt; pos5 &lt;&lt; endl;

    // 从后往前查找不在"helord"中任意一个字符(即'h'、'e'、'l'、'o'、'r'、'd')第一次出现的位置
    size_t pos6 = str.find_last_not_of("helord");
    cout &lt;&lt; "pos6:" &lt;&lt; pos6 &lt;&lt; endl;

    return 0;
}</code></pre> 
<p>运行有</p> 
<p><img alt="" height="839" src="https://images2.imgbox.com/e0/87/NnA0UjZ1_o.png" width="1200"> 在这里再举一个实际运用的例子</p> 
<pre><code class="language-cpp">int main()
{
	//分别获得网络的协议、域名和资源名
	// string url = "ftp://www.baidu.com/?tn=65081411_1_oem_dg";
	// https://gitee.com/xuanxuan-qujiu-pavilion
	string url = "https://zh.wikipedia.org/wiki/Wikipedia:%E9%A6%96%E9%A1%B5";
	// 协议  域名  资源名
	size_t pos1 = url.find("://");
	string protocol;
	if (pos1 != string::npos)
	{
		protocol = url.substr(0, pos1);
	}
	cout &lt;&lt; protocol &lt;&lt; endl;

	string domain;
	string uri;

	size_t pos2 = url.find('/', pos1 + 3);
	if (pos2 != string::npos)
	{
		domain = url.substr(pos1 + 3, pos2 - (pos1 + 3));
		uri = url.substr(pos2 + 1);
	}
	cout &lt;&lt; domain &lt;&lt; endl;
	cout &lt;&lt; uri &lt;&lt; endl;

	return 0;
}</code></pre> 
<h3 id="%E2%91%A4string%E7%B1%BB%E7%9A%84%E9%9D%9E%E6%88%90%E5%91%98%E5%87%BD%E6%95%B0">⑤string类的非成员函数</h3> 
<p>源文档</p> 
<p><img alt="" height="238" src="https://images2.imgbox.com/c7/c2/1Piknaec_o.png" width="1120"></p> 
<p>依旧仅对部分函数举例</p> 
<h4 id="%E2%91%B4operator%2B">⑴operator+</h4> 
<p>源文档</p> 
<p><img alt="" height="445" src="https://images2.imgbox.com/7f/d7/9KbRvnkO_o.png" width="1119"></p> 
<p>测试代码</p> 
<pre><code class="language-cpp">int main()
{
    string str1 = "hello";
    string str2 = " world";

    // 将str1和str2拼接起来拷贝构造给str3
    string str3 = str1 + str2;
    cout &lt;&lt; "str3:" &lt;&lt; str3 &lt;&lt; endl;

    // 将一个字符串和str1拼接再拷贝构造给str4
    string str4 = "I am " + str1;
    cout &lt;&lt; "str4:" &lt;&lt; str4 &lt;&lt; endl;

    return 0;
}</code></pre> 
<p>运行有</p> 
<p><img alt="" height="707" src="https://images2.imgbox.com/2a/d5/kt62WWM6_o.png" width="1200"></p> 
<h4 id="%E2%91%B5relational%20operators">⑵relational operators</h4> 
<p><img alt="" height="651" src="https://images2.imgbox.com/00/ce/0DfBpsQA_o.png" width="1132"></p> 
<p>测试代码</p> 
<pre><code class="language-cpp">int main()
{
    string str1 = "abc";
    string str2 = "Abc";
    string str3 = "xyz";

    if (str1 == str2)
        cout &lt;&lt; "str1 == str2" &lt;&lt; endl;
    else
        cout &lt;&lt; "str1 != str2" &lt;&lt; endl;

    if (str1 != str3)
        cout &lt;&lt; "str1 != str3" &lt;&lt; endl;
    else
        cout &lt;&lt; "str1 == str3" &lt;&lt; endl;

    if (str1 &lt; str3)
        cout &lt;&lt; "str1 &lt; str3" &lt;&lt; endl;
    else
        cout &lt;&lt; "str1 &gt;= str3" &lt;&lt; endl;

    if (str2 &gt; str3)
        cout &lt;&lt; "str2 &gt; str3" &lt;&lt; endl;
    else
        cout &lt;&lt; "str2 &lt;= str3" &lt;&lt; endl;

    return 0;
}</code></pre> 
<p>运行有</p> 
<p><img alt="" height="718" src="https://images2.imgbox.com/6e/43/IysQKYRu_o.png" width="1200"></p> 
<h4 id="%E2%91%B6operator%3C%3C%E3%80%81operator%3E%3E">⑶operator&lt;&lt;、operator&gt;&gt;</h4> 
<p><img alt="" height="205" src="https://images2.imgbox.com/51/1c/lyedCVVd_o.png" width="1115"></p> 
<p><img alt="" height="397" src="https://images2.imgbox.com/d2/e5/YxwrgnqK_o.png" width="1105"> 测试代码</p> 
<pre><code class="language-cpp">int main()
{
    string str;

    cout &lt;&lt; "Please enter a string: ";
    cin &gt;&gt; str;

    cout &lt;&lt; "You entered: " &lt;&lt; str &lt;&lt; endl;

    return 0;
}</code></pre> 
<p>运行有</p> 
<p><img alt="" height="542" src="https://images2.imgbox.com/35/62/DtcA9c0O_o.png" width="1200"></p> 
<p>我们可以发现，输出的只有hello这一个字符串，这是因为cin是读取到' '或'\0'就算作读取一次，因此就需要下面这个函数 </p> 
<h4 id="%E2%91%B7getline">⑷getline</h4> 
<p><img alt="" height="438" src="https://images2.imgbox.com/47/94/Tjpg6wAD_o.png" width="1116"></p> 
<p>测试代码</p> 
<pre><code class="language-cpp">int main()
{
    string str;

    cout &lt;&lt; "Please enter a string: ";
    getline(cin, str);

    cout &lt;&lt; "You entered: " &lt;&lt; str &lt;&lt; endl;

    return 0;
}</code></pre> 
<p>运行有</p> 
<p><img alt="" height="511" src="https://images2.imgbox.com/58/f0/CUvg21tr_o.png" width="1200"></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/d65dfd745d604e75c208d817ce2a3d8e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">通过day.js获取一个月有多少天,生成日历</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/9a247829d55520849ee1dfe656026fab/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Oracle数据库死锁检测以及处理方式</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>