<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【共享中间件】知识点杂记 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【共享中间件】知识点杂记" />
<meta property="og:description" content="文章目录 1、`@TargetDataSource`2、`mybaits中，setting的的配置参数如下(如果不在配置文件中配置将使用默认值)`3、`@WebFilter`4、java中可以让程序暂停几秒执行的代码 `Thread.sleep (1000);//停留1秒`5、MySQL 中 BETWEEN AND 的边界是左闭右闭6、xml文件中的小于号的问题6、MySQL时间 1、@TargetDataSource 基于springboot开箱即用的多数据源动态调整插件，在service层使用注解@TargetDataSource(“ds1”)可以直接切换数据源，如果不使用，调用默认配置的数据源
2、mybaits中，setting的的配置参数如下(如果不在配置文件中配置将使用默认值) 设置参数 描述 有效值 默认值 cacheEnabled 该配置影响的所有映射器中配置的缓存的全局开关 true | false true lazyLoadingEnabled 延迟加载的全局开关。当开启时，所有关联对象都会延迟加载。 特定关联关系中可通过设置fetchType属性来覆盖该项的开关状态 true | false false aggressiveLazyLoading 当启用时，对任意延迟属性的调用会使带有延迟加载属性的对象完整加载；反之，每种属性将会按需加载。 true | false true multipleResultSetsEnabled 是否允许单一语句返回多结果集（需要兼容驱动）。 true | false true useColumnLabel 使用列标签代替列名。不同的驱动在这方面会有不同的表现， 具体可参考相关驱动文档或通过测试这两种不同的模式来观察所用驱动的结果。 true | false true useGeneratedKeys 允许 JDBC 支持自动生成主键，需要驱动兼容。 如果设置为 true 则这个设置强制使用自动生成主键，尽管一些驱动不能兼容但仍可正常工作（比如 Derby）。 true | false False autoMappingBehavior 指定 MyBatis 应如何自动映射列到字段或属性。 NONE 表示取消自动映射；PARTIAL 只会自动映射没有定义嵌套结果集映射的结果集。 FULL 会自动映射任意复杂的结果集（无论是否嵌套）。 NONE, PARTIAL, FULL PARTIAL defaultExecutorType 配置默认的执行器。SIMPLE 就是普通的执行器；REUSE 执行器会重用预处理语句（prepared statements）； BATCH 执行器将重用语句并执行批量更新。 SIMPLE REUSE BATCH SIMPLE defaultStatementTimeout 设置超时时间，它决定驱动等待数据库响应的秒数。 Any positive integer Not Set (null) defaultFetchSize Sets the driver a hint as to control fetching size for return results." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/eb18e5185fcd8e9ef12354e7d29c25e6/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-10-08T16:36:16+08:00" />
<meta property="article:modified_time" content="2019-10-08T16:36:16+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【共享中间件】知识点杂记</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#1TargetDataSource_1" rel="nofollow">1、`@TargetDataSource`</a></li><li><a href="#2mybaitssetting_5" rel="nofollow">2、`mybaits中，setting的的配置参数如下(如果不在配置文件中配置将使用默认值)`</a></li><li><a href="#3WebFilter_191" rel="nofollow">3、`@WebFilter`</a></li><li><a href="#4java_Threadsleep_10001_200" rel="nofollow">4、java中可以让程序暂停几秒执行的代码 `Thread.sleep (1000);//停留1秒`</a></li><li><a href="#5MySQL__BETWEEN_AND__201" rel="nofollow">5、MySQL 中 BETWEEN AND 的边界是左闭右闭</a></li><li><a href="#6xml_202" rel="nofollow">6、xml文件中的小于号的问题</a></li><li><a href="#6MySQL_207" rel="nofollow">6、MySQL时间</a></li></ul> 
</div> 
<p></p> 
<h2><a id="1TargetDataSource_1"></a>1、<code>@TargetDataSource</code></h2> 
<p>基于springboot开箱即用的多数据源动态调整插件，在service层使用注解@TargetDataSource(“ds1”)可以直接切换数据源，如果不使用，调用默认配置的数据源</p> 
<h2><a id="2mybaitssetting_5"></a>2、<code>mybaits中，setting的的配置参数如下(如果不在配置文件中配置将使用默认值)</code></h2> 
<div class="table-box"> 
 <table border="1" cellspacing="1" cellpadding="1"><tbody><tr><td> 设置参数</td><td> 描述</td><td> 有效值</td><td> 默认值</td></tr><tr><td> cacheEnabled</td><td> 该配置影响的所有映射器中配置的缓存的全局开关</td><td> true | false</td><td> true</td></tr><tr><td> lazyLoadingEnabled</td><td> 延迟加载的全局开关。当开启时，所有关联对象都会延迟加载。 特定关联关系中可通过设置<tt>fetchType</tt>属性来覆盖该项的开关状态</td><td> true | false</td><td> false</td></tr><tr><td> aggressiveLazyLoading</td><td> 当启用时，对任意延迟属性的调用会使带有延迟加载属性的对象完整加载；反之，每种属性将会按需加载。</td><td> true | false</td><td> true</td></tr><tr><td> multipleResultSetsEnabled</td><td> 是否允许单一语句返回多结果集（需要兼容驱动）。</td><td> true | false</td><td> true</td></tr><tr><td> useColumnLabel</td><td> 使用列标签代替列名。不同的驱动在这方面会有不同的表现， 具体可参考相关驱动文档或通过测试这两种不同的模式来观察所用驱动的结果。</td><td> true | false</td><td> true</td></tr><tr><td> useGeneratedKeys</td><td> 允许 JDBC 支持自动生成主键，需要驱动兼容。 如果设置为 true 则这个设置强制使用自动生成主键，尽管一些驱动不能兼容但仍可正常工作（比如 Derby）。</td><td> true | false</td><td> False</td></tr><tr><td> autoMappingBehavior</td><td> 指定 MyBatis 应如何自动映射列到字段或属性。 NONE 表示取消自动映射；PARTIAL 只会自动映射没有定义嵌套结果集映射的结果集。 FULL 会自动映射任意复杂的结果集（无论是否嵌套）。</td><td> NONE, PARTIAL, FULL</td><td> PARTIAL</td></tr><tr><td> defaultExecutorType</td><td> 配置默认的执行器。SIMPLE 就是普通的执行器；REUSE 执行器会重用预处理语句（prepared statements）； BATCH 执行器将重用语句并执行批量更新。</td><td> SIMPLE REUSE BATCH</td><td> SIMPLE</td></tr><tr><td> defaultStatementTimeout</td><td> 设置超时时间，它决定驱动等待数据库响应的秒数。</td><td> Any positive integer</td><td> Not Set (null)</td></tr><tr><td> defaultFetchSize</td><td> Sets the driver a hint as to control fetching size for return results. This parameter value can be override by a query setting.</td><td> Any positive integer</td><td> Not Set (null)</td></tr><tr><td> safeRowBoundsEnabled</td><td> 允许在嵌套语句中使用分页（RowBounds）。</td><td> true | false</td><td> False</td></tr><tr><td> mapUnderscoreToCamelCase</td><td> 是否开启自动驼峰命名规则（camel case）映射，即从经典数据库列名 A_COLUMN 到经典 Java 属性名 aColumn 的类似映射。</td><td> true | false</td><td> False</td></tr><tr><td> localCacheScope</td><td> MyBatis 利用本地缓存机制（Local Cache）防止循环引用（circular references）和加速重复嵌套查询。 默认值为 SESSION，这种情况下会缓存一个会话中执行的所有查询。 若设置值为 STATEMENT，本地会话仅用在语句执行上，对相同 SqlSession 的不同调用将不会共享数据。</td><td> SESSION | STATEMENT</td><td> SESSION</td></tr><tr><td> jdbcTypeForNull</td><td> 当没有为参数提供特定的 JDBC 类型时，为空值指定 JDBC 类型。 某些驱动需要指定列的 JDBC 类型，多数情况直接用一般类型即可，比如 NULL、VARCHAR 或 OTHER。</td><td> JdbcType enumeration. Most common are: NULL, VARCHAR and OTHER</td><td> OTHER</td></tr><tr><td> lazyLoadTriggerMethods</td><td> 指定哪个对象的方法触发一次延迟加载。</td><td> A method name list separated by commas</td><td> equals,clone,hashCode,toString</td></tr><tr><td> defaultScriptingLanguage</td><td> 指定动态 SQL 生成的默认语言。</td><td> A type alias or fully qualified class name.</td><td> org.apache.ibatis.scripting.xmltags.XMLDynamicLanguageDriver</td></tr><tr><td> callSettersOnNulls</td><td> 指定当结果集中值为 null 的时候是否调用映射对象的 setter（map 对象时为 put）方法，这对于有 Map.keySet() 依赖或 null 值初始化的时候是有用的。注意基本类型（int、boolean等）是不能设置成 null 的。</td><td> true | false</td><td> false</td></tr><tr><td> logPrefix</td><td> 指定 MyBatis 增加到日志名称的前缀。</td><td> Any String</td><td> Not set</td></tr><tr><td> logImpl</td><td> 指定 MyBatis 所用日志的具体实现，未指定时将自动查找。</td><td> SLF4J | LOG4J | LOG4J2 | JDK_LOGGING | COMMONS_LOGGING | STDOUT_LOGGING | NO_LOGGING</td><td> Not set</td></tr><tr><td> proxyFactory</td><td> 指定 Mybatis 创建具有延迟加载能力的对象所用到的代理工具。</td><td> CGLIB | JAVASSIST</td><td> JAVASSIST (MyBatis 3.3 or above)</td></tr></tbody></table> 
</div> 常用的一些配置 
<pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>settings</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>setting</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>jdbcTypeF
orNull<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>NULL<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
		<span class="token comment">&lt;!--也可以使用自己的日志类--&gt;</span>
        <span class="token comment">&lt;!--&lt;setting name="logImpl" value="net.sjt.config.MyBatisLogger"/&gt;--&gt;</span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>setting</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>logImpl<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>SLF4J<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>setting</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>mapUnderscoreToCamelCase<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>setting</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>defaultExecutorType<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>BATCH<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>settings</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<h2><a id="3WebFilter_191"></a>3、<code>@WebFilter</code></h2> 
<p>@WebFilter 用于将一个类声明为<mark>过滤器</mark>，该注解将会在部署时被容器处理，容器将根据具体的属性配置将相应的类部署为过滤器。该注解具有下表给出的一些常用属性 ( 以下所有属性均为可选属性，但是 value、urlPatterns、servletNames 三者必需至少包含一个，且 value 和 urlPatterns 不能共存，如果同时指定，通常忽略 value 的取值 )</p> 
<p>@ClassName: FilterDemo01<br> @Description:filter的三种典型应用： <br><br> 1、可以在filter中根据条件决定是否调用chain.doFilter(request, response)方法， 即是否让目标资源执行<br> 2、在让目标资源执行之前，可以对request\response作预处理，再让目标资源执行<br> 3、在目标资源执行之后，可以捕获目标资源的执行结果，从而实现一些特殊的功能</p> 
<h2><a id="4java_Threadsleep_10001_200"></a>4、java中可以让程序暂停几秒执行的代码 <code>Thread.sleep (1000);//停留1秒</code></h2> 
<h2><a id="5MySQL__BETWEEN_AND__201"></a>5、MySQL 中 BETWEEN AND 的边界是左闭右闭</h2> 
<h2><a id="6xml_202"></a>6、xml文件中的小于号的问题</h2> 
<p>在xml里，不能用 &lt; , &gt;，= 之类的符号。一般都是用下面的字符来代替&lt;、&gt;、=，如下所示：</p> 
<table><thead><tr><th>原符号</th><th>&lt;</th><th>&lt;=</th><th>&gt;</th><th>&gt;=</th><th>=</th><th>&amp;</th><th>’</th><th>"</th></tr></thead><tbody><tr><td>替换符号</td><td><code>&amp;lt;</code></td><td><code>&amp;lt;=</code></td><td><code>&amp;gt;</code></td><td><code>&amp;gt;=</code></td><td>=</td><td><code>&amp;amp;</code></td><td><code>&amp;apos;</code></td><td><code>&amp;quot;</code></td></tr></tbody></table> 
<h2><a id="6MySQL_207"></a>6、MySQL时间</h2> 
<p>取当前天：</p> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> CONCAT<span class="token punctuation">(</span>date_sub<span class="token punctuation">(</span>curdate<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">interval</span> <span class="token number">1</span> <span class="token keyword">day</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">' 00:00:00'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> CONCAT<span class="token punctuation">(</span>DATE_FORMAT<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">'%Y-%m-%d'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">' 00:00:00'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>取前一天：</p> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> date_sub<span class="token punctuation">(</span>curdate<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">interval</span> <span class="token number">1</span> <span class="token keyword">day</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>取所给时间的年月日</p> 
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> <span class="token keyword">YEAR</span><span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token keyword">MONTH</span><span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token keyword">DAY</span><span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token keyword">YEAR</span><span class="token punctuation">(</span><span class="token string">'2019-03-05'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">MONTH</span><span class="token punctuation">(</span><span class="token string">'2019-03-05'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">DAY</span><span class="token punctuation">(</span><span class="token string">'2019-03-05'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> CONCAT<span class="token punctuation">(</span><span class="token keyword">YEAR</span><span class="token punctuation">(</span><span class="token string">'2019-03-05'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">MONTH</span><span class="token punctuation">(</span><span class="token string">'2019-03-05'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">DAY</span><span class="token punctuation">(</span><span class="token string">'2019-03-05'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/2f4e6938c502dcccf86c8b0e8944ac22/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Arcpy批量裁剪（掩膜方法矢量裁剪栅格）（1个shp，多个raster文件）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/01e1562a385e982c234e9cbaa6634617/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">default(Nullable(type)) vs default(type)</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>