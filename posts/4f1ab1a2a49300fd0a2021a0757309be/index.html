<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>一个简单的加载模块弹出ProgressBar 加载进度条 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="一个简单的加载模块弹出ProgressBar 加载进度条" />
<meta property="og:description" content="效果图：
import mx.managers.PopUpManager; import mx.modules.IModuleInfo; import mx.modules.Module; import mx.modules.ModuleLoader; import mx.modules.ModuleManager; import mx.controls.ProgressBar; import mx.events.FlexEvent; private var myProgressBar:ProgressBar; private var _group:Group; private var m1:ModuleLoader; private function init():void{ inits(&#34;widgets/Leftbox/Disaster.swf&#34;);//模块生成swf的路径。 } private function inits(_url:String):void{ m1 = new ModuleLoader(); m1.url = _url; m1.addEventListener(FlexEvent.LOADING,popUpProgressBar); m1.addEventListener(ModuleEvent.PROGRESS,loading); m1.addEventListener(ModuleEvent.READY,getModule); m1.loadModule(); } private function popUpProgressBar(event:Event):void{ //制作进度条的背景图 _group = new Group(); _group.width = 400; _group.height = 93; var biap:BitmapFill = new BitmapFill(); biap.source = &#34;@Embed(&#39;icos/rightbg.png&#39;)&#34;; var rect:Rect = new Rect(); rect." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/4f1ab1a2a49300fd0a2021a0757309be/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2012-09-18T14:42:28+08:00" />
<meta property="article:modified_time" content="2012-09-18T14:42:28+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">一个简单的加载模块弹出ProgressBar 加载进度条</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h4>效果图：<br> </h4> 
<p><img src="https://images2.imgbox.com/5d/43/YsEf7o7f_o.png" alt=""></p> 
<p></p> 
<pre><code class="language-java">import mx.managers.PopUpManager;
import mx.modules.IModuleInfo;
import mx.modules.Module;
import mx.modules.ModuleLoader;
import mx.modules.ModuleManager;
import mx.controls.ProgressBar;
import mx.events.FlexEvent;

private var myProgressBar:ProgressBar;
private var _group:Group;
private var m1:ModuleLoader;

private function init():void{
   inits("widgets/Leftbox/Disaster.swf");//模块生成swf的路径。
}
private function inits(_url:String):void{
                m1 = new ModuleLoader();
                m1.url = _url;
                m1.addEventListener(FlexEvent.LOADING,popUpProgressBar);
                m1.addEventListener(ModuleEvent.PROGRESS,loading);
                m1.addEventListener(ModuleEvent.READY,getModule);
                m1.loadModule();
}
private function popUpProgressBar(event:Event):void{
                //制作进度条的背景图
                 _group = new Group();
                _group.width = 400; _group.height = 93;
                
                var biap:BitmapFill = new BitmapFill();
                biap.source = "@Embed('icos/rightbg.png')";
                var rect:Rect = new Rect();
                rect.width= 400; rect.height = 93; rect.alpha = 0.8;
                rect.fill  = biap;
                _group.addElement(rect);
                this.stage.addChild(_group); 
                _group.horizontalCenter  = 0;
                _group.verticalCenter = 0;
                //弹出
                myProgressBar = new ProgressBar();
                
                myProgressBar.width = 304;
                myProgressBar= PopUpManager.createPopUp(group, ProgressBar, true) as ProgressBar;
                myProgressBar.mode = "manual";//设置Progress的模式
                              
                //设置Progress的样式
               myProgressBar.labelPlacement = "bottom";  

                myProgressBar.setStyle("textAlign","center");                
                myProgressBar.setStyle("barColor",0x12b9bb);                
                myProgressBar.setStyle("trackColors",["white","haloSilver"]);
                myProgressBar.setStyle("color",0x333333);
                myProgressBar.setStyle("labelWidth", myProgressBar.width);
                myProgressBar.setStyle("trackHeight",15);
                myProgressBar.setStyle("fontWeight","normal");
                myProgressBar.setStyle("fontFamily","宋体"); 
                PopUpManager.centerPopUp(myProgressBar);
                
                myProgressBar.x = (this.stage.width - myProgressBar.width)/2;
                myProgressBar.y = (this.stage.height - myProgressBar.height)/2;
 }
private function loading(event:ProgressEvent):void{
                myProgressBar.setProgress(event.bytesLoaded, event.bytesTotal); 
                myProgressBar.label="模块已加载"+Math.round((event.bytesLoaded * 100 / event.bytesTotal)) + "%";
}
private function getModule(event:ModuleEvent):void{

                //清除
                this.stage.removeChild(_group);
                PopUpManager.removePopUp(myProgressBar);
}

</code></pre>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/a6ca68feaba1dfec3cdb5d95af4cc7cc/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">QT SQL链接</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/31e557319398e7b7a62eda8fbf1bb17a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Silverlight应用</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>