<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>知识图谱综述（三） - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="知识图谱综述（三）" />
<meta property="og:description" content="知识图谱综述（三） 论文原文链接
这部分为数据图（页码4）部分，主要包括了： 图结构数据模型的介绍：有向边标签图（多关系图）、异构体、属性图、图数据集、其他图数据模型、图存储；查询（语言）：图模式、复杂的图模式、导航图模式、其他特性。 下文的每一小点即论文中的一个段落。 任何KG的建立都要事先将数据抽象成图模型，本章选取一些在实际中常用的图结构数据模型来表示数据图。然后，我们在图查询语言的基础上，讨论了此类数据图的查询原语。
一、图结构数据模型 撇开图表不谈，先假设我们所呈现示例中的旅游董事会尚未决定如何对有关景点、活动、服务等的相关数据进行建模。首先董事会会先使用一个表格结构来表示所需的数据，尤其是关系型数据库。尽管他们不知道真正需要捕获哪些数据，但他们起初设计了一个关系模式。
他们设计的活动表格有五列，其中下划线表示表的主键，以唯一标识重复活动的发生（同样的活动可能反复举行）：
活动（活动名称，活动地点，活动类型，开始时间，结束时间）
但是，他们采用这种方法会遇到以下问题：
活动可能有多个名字，如用不同的语言；活动地点可能有多个；他们甚至还不知道未来活动的开始和结束时间；活动有多种类型；…… 随着数据变得多样化，问题被逐步得到解决，他们为活动生成内部标识符并调整它们的关系模式：
活动名称（id, name），活动开始时间（id, start），活动结束时间（id, end），活动地点（id, venue），活动类型（id, type）
使用上述模式，该组织现在对活动进行建模时可以使用0-n个活动名称、活动地点和活动类型，以及使用0–1标明活动是否有开始日期和活动结束日期（不需要在表格上使用关系空值/空白单元格，id=0，则start/end=null；id=1，则start/end=某个时间点）。
在此过程中，董事会为了与新数据进行同步，必须多次改变该模式，并且每次改变都要对数据进行昂贵的重构、重新载入数据、重新索引数据（此处我们仅考虑一张表）。董事会在关系模型上苦苦挣扎，因为他们不知道哪些数据应该被建模，以及将使用哪些数据源。
然而，当董事会实现了后一种关系模式后，他们可以在不进行更多更改的情况下整合更多的数据资源：对多重性的最小假设（如1对1,1对n等），该模式为集成不完整和多样化的数据提供了很大的灵活性。
事实上，董事会最后得到的模式本质上是对实体之间的一系列二元关系进行建模，这实际上就可以看作是对图进行建模。如果从一开始就采用图数据模型，董事会就可以摒弃之前所考虑的模式，并且可以随时定义任意实体对之间的任何（二元）关系。
下面开始介绍实际应用中常用的图数据模型。
有向带标签边图（又：多关系图） 由一些 节 点 \color{#FF0000}{节点} 节点（例如圣地亚哥、阿里卡、EID16、2018-03-22 12:00）和一些节点之间带标签的 有 向 边 \color{#FF0000}{有向边} 有向边（例如“圣卢西亚–城市–&gt;圣地亚哥”）组成；
在KG中，“节点”表示“实体”，“边”表示这些实体之间的（二元）关系。下图提供了一个多关系图的例子，旅游董事会将一些相关活动的数据建模为多关系图。图1中的数据包括：活动名称、活动类型、活动开始和结束时间、以及活动地点。
我们使用双向边来更加简洁地描述两种方向的边，例如图1中的“比尼亚德尔马&lt;–巴士–&gt;阿里卡”。此外，虽然一些命名约定推荐包含动词的更完整边标签，如has venue或is valid from，但是在本论文中，为了便于演示，将省略这些标签中的“has”和“is”动词，而只使用venue或valid from。
向这样的多关系图中添加新信息通常包括添加新的节点和边（除了之后提到的一些例外情况）。表述不完整的信息只需要省略某个边，例如图1中还没有定义Food Truck festival的开始和结束时间。
以下是多关系图的形式化定义（附录B中将进行更加细致的描述）：
相比于标准的关系模型（模式必须预先定义，并且每一步都要遵循），这种将数据建模成图的方法可以更加灵活地整合新数据源。尽管其他结构化数据模型，比如树结构（XML、JSON等）也同样灵活，但是图不需要分层组织数据（比如“活动地点”是父节点、孩子节点还是兄弟节点类型呢？）。图还可以使用 环 \color{#FF0000}{环} 环进行表示和查询（比如图1中圣地亚哥、阿里卡和比尼亚德尔马之间路径上的有向环）。
多关系图的标准数据模型是RDF（资源描述框架），它由W3C所推荐。RDF模型定义了不同类型的节点，包括：
IRIs（国际化资源标识符），它可以对web上的实体进行全方位识别；字面量（literal）则能够表示字符串（带或不带语言标签）和其他数据类型的值（整型、日期等）；空节点是还未分配标识符的匿名节点，比如可以在RDF中使用空白节点，而不是创建像EID15、EID16这样的内部标识符。（我们将在3.2节讨论标识符时，进一步讨论不同类型的节点） 异构图（Heterogeneous graphs）
异构图（又：异构信息网络）的每个节点和边都分配了一种类型。因此，异构图类似于del图（边标签与边类型相对应），但异构图中节点的 类 型 \color{#FF0000}{类型} 类型 构成了图模型本身的一部分，而不是像del图中的类型那样被表示为一种特殊的关系，如图2所示。 如果某个边是在相同类型的两个节点之间，那么该边（如borders）是同质的（homogeneous），否则该边（如capital）是异构的（heterogeneous）。异构图的一个好处是：它们允许根据节点的类型进行划分，例如为了实现某种机器学习任务。反之，异构图通常只支持节点和类型间一种一对一的关系，即一个节点只会和一种类型相关联（该情况不会出现于del图中，例如图1中Santiago是0类型的，而EID15具有多种类型）
异构图的形式化定义：
属性图（property graph，PG）
属性图可以灵活地建模更加复杂的关系。整合输入的数据后，它们将提供“哪些公司提供哪些航班的票价信息”，从而让旅游董事会更好地了解城市间的可以利用的线路（例如国际航班）。在多关系图中，我们无法说明提供某条航线的公司，如边“圣地亚哥–航班–&gt;阿里卡”。但是我们可以添加一个新节点（LA380、LA381）来表示航班，并将它与始发地、目的地、公司和交通类型相关联，如下图3所示。 然而，将属性图运用于图1中的所有路径上需要对图进行大改。另一种办法可以将不同公司的航班放在不同的已命名的图中，但是如果已经使用命名图来追踪图中的始发地点（？），那么这将变得很麻烦。
因此，属性图的提出是为了将数据建模为图的时候提供额外的灵活性。属性图允许一些“属性-值”对和一个标签同时与节点和边相关联（即PG中每个节点或边拥有一个标签（节点名）和一些属性（值））。如下图4是一个简单的PG例子，它与图3相似。
上图，我们使用边上的“属性-值”对来对公司进行建模（在PG的实际应用中，属性可能会有多个值，例如可表示为一个数组。但这样的情形并不影响图的表现力，也不影响我们的讨论）。关系的类型被赋予标签“flight”。我们进一步使用节点标签来表示两个节点的类型，并使用“属性-值”对来表示它们的纬度和经度。
PG最常用于目前流行的图数据库中，如Neo4j。在图模型的选择上，最重要的是PG可以在不丢失任何信息的情况下与多关系图（MG）进行相互转换。如上图4。总之，MG提供了一个更小的模型，而PG提供了一个更加灵活的模型。通常来说，相比于其他实际因素（比如不同模型的可实现性），模型的选择是次要的。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/0d2786309a4100cc2b1db7ecb9fdf639/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-04-15T01:31:29+08:00" />
<meta property="article:modified_time" content="2022-04-15T01:31:29+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">知识图谱综述（三）</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-github-gist">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="_0"></a>知识图谱综述（三）</h2> 
<p><a href="https://arxiv.org/pdf/2003.02320.pdf" rel="nofollow">论文原文链接</a></p> 
<h3><a id="4_4"></a>这部分为数据图（页码4）部分，主要包括了：</h3> 
<ul><li><strong>图结构数据模型</strong>的介绍：有向边标签图（多关系图）、异构体、属性图、图数据集、其他图数据模型、图存储；</li><li><strong>查询（语言）</strong>：图模式、复杂的图模式、导航图模式、其他特性。</li></ul> 
<h3><a id="_9"></a>下文的每一小点即论文中的一个段落。</h3> 
<ul><li> <p>任何KG的建立都要事先<strong>将数据抽象成图模型</strong>，本章选取一些在实际中常用的<strong>图结构数据模型</strong>来表示数据图。然后，我们在<u>图查询语言的基础上</u>，讨论了此类数据图的<strong>查询原语</strong>。</p> 
  <hr> </li></ul> 
<h3><a id="_15"></a>一、图结构数据模型</h3> 
<ul><li> <p>撇开图表不谈，先假设我们所呈现示例中的<strong>旅游董事会</strong>尚未决定<u>如何对有关景点、活动、服务等的相关数据进行建模</u>。首先董事会会先使用一个<strong>表格结构</strong>来表示所需的数据，尤其是<strong>关系型数据库</strong>。尽管他们不知道真正需要捕获哪些数据，但他们起初设计了<strong>一个关系模式</strong>。</p> </li><li> <p>他们设计的活动表格有五列，其中下划线表示表的<strong>主键</strong>，以唯一标识重复活动的发生（同样的活动可能反复举行）：</p> 
  <blockquote> 
   <p>活动（<u>活动名称</u>，活动地点，活动类型，<u>开始时间</u>，结束时间）</p> 
  </blockquote> </li><li> <p>但是，他们采用这种方法会遇到以下问题：</p> 
  <ul><li>活动可能有<strong>多个名字</strong>，如用不同的语言；</li><li>活动<strong>地点可能有多个</strong>；</li><li>他们甚至还<strong>不知道</strong>未来活动的<strong>开始和结束时间</strong>；</li><li>活动有<strong>多种类型</strong>；</li><li>……</li></ul> </li><li> <p>随着数据变得多样化，问题被逐步得到解决，他们为活动生成<strong>内部标识符</strong>并调整它们的关系模式：</p> 
  <blockquote> 
   <p>活动名称（<u>id</u>, <u>name</u>），活动开始时间（<u>id</u>, start），活动结束时间（<u>id</u>, end），活动地点（<u>id</u>, <u>venue</u>），活动类型（<u>id</u>, <u>type</u>）</p> 
  </blockquote> </li><li> <p>使用上述模式，该组织现在对活动进行建模时可以使用<strong>0-n个</strong>活动名称、活动地点和活动类型，以及使用0–1标明活动是否有开始日期和活动结束日期（<strong>不需要</strong>在表格上使用<strong>关系空值/空白单元格</strong>，id=0，则start/end=null；id=1，则start/end=某个时间点）。</p> </li><li> <p>在此过程中，董事会为了与新数据进行同步，必须<strong>多次改变该模式</strong>，并且每次改变都要对数据进行昂贵的重构、重新载入数据、重新索引数据（此处我们仅考虑一张表）。董事会在关系模型上苦苦挣扎，因为他们不知道<strong>哪些数据应该被建模</strong>，以及<strong>将使用哪些数据源</strong>。</p> </li><li> <p>然而，当董事会实现了后一种关系模式后，他们可以在<strong>不进行更多更改</strong>的情况下整合更多的数据资源：对多重性的最小假设（如1对1,1对n等），该模式为集成<strong>不完整和多样化的数据</strong>提供了很大的<strong>灵活性</strong>。</p> </li><li> <p>事实上，董事会最后得到的模式本质上是对<strong>实体之间的一系列二元关系</strong>进行建模，这实际上就可以看作是<strong>对图进行建模</strong>。如果从一开始就采用<strong>图数据模型</strong>，董事会就可以摒弃之前所考虑的模式，并且可以随时定义任意<strong>实体对之间的任何（二元）关系</strong>。</p> </li><li> <p>下面开始介绍实际应用中<strong>常用的</strong>图数据模型。</p> </li></ul> 
<ol><li>有向带标签边图（又：多关系图） 
  <ul><li> <p>由一些<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
         
          
           
            
             
             
               节 
              
             
               点 
              
             
            
           
          
            \color{#FF0000}{节点} 
           
          
        </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0em; vertical-align: 0em;"></span><span class="mord" style="color: rgb(255, 0, 0);"><span class="mord cjk_fallback" style="color: rgb(255, 0, 0);">节</span><span class="mord cjk_fallback" style="color: rgb(255, 0, 0);">点</span></span></span></span></span></span>（例如圣地亚哥、阿里卡、EID16、2018-03-22 12:00）和一些节点之间带标签的<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
         
          
           
            
             
             
               有 
              
             
               向 
              
             
               边 
              
             
            
           
          
            \color{#FF0000}{有向边} 
           
          
        </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0em; vertical-align: 0em;"></span><span class="mord" style="color: rgb(255, 0, 0);"><span class="mord cjk_fallback" style="color: rgb(255, 0, 0);">有</span><span class="mord cjk_fallback" style="color: rgb(255, 0, 0);">向</span><span class="mord cjk_fallback" style="color: rgb(255, 0, 0);">边</span></span></span></span></span></span>（例如“圣卢西亚–城市–&gt;圣地亚哥”）组成；</p> </li><li> <p>在KG中，“节点”表示“实体”，“边”表示这些<strong>实体之间的（二元）关系</strong>。下图提供了一个<strong>多关系图的例子</strong>，旅游董事会将<u>一些相关活动的数据</u>建模为<strong>多关系图</strong>。图1中的数据包括：活动名称、活动类型、活动开始和结束时间、以及活动地点。</p> </li><li> <p>我们使用<strong>双向边</strong>来<strong>更加简洁地</strong>描述两种方向的边，例如图1中的“比尼亚德尔马&lt;–巴士–&gt;阿里卡”。此外，虽然一些命名约定推荐包含动词的更完整边标签，如has venue或is valid from，但是在本论文中，为了便于演示，将省略这些标签中的“has”和“is”动词，而只使用venue或valid from。</p> </li><li> <p>向这样的多关系图中添加新信息通常包括<strong>添加新的节点和边</strong>（除了之后提到的一些例外情况）。<strong>表述不完整的信息</strong>只需要<u>省略某个边</u>，例如图1中还没有定义Food Truck festival的开始和结束时间。</p> </li></ul> </li></ol> 
<p><img src="https://images2.imgbox.com/23/a7/6BgrFeXp_o.png" alt="在这里插入图片描述"></p> 
<ul><li> <p>以下是<strong>多关系图的形式化定义</strong>（附录B中将进行更加细致的描述）：<br> <img src="https://images2.imgbox.com/7a/61/yT3lvojf_o.png" alt="在这里插入图片描述"></p> </li><li> <p>相比于标准的关系模型（模式必须<strong>预先定义</strong>，并且<strong>每一步都要遵循</strong>），<strong>这种将数据建模成图的方法</strong>可以更加<strong>灵活地</strong>整合新数据源。尽管其他结构化数据模型，比如树结构（XML、JSON等）也同样灵活，但是图<strong>不需要分层组织数据</strong>（比如“活动地点”是父节点、孩子节点还是兄弟节点类型呢？）。图还可以使用<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
       
        
         
          
          
            环 
           
          
         
        
          \color{#FF0000}{环} 
         
        
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0em; vertical-align: 0em;"></span><span class="mord" style="color: rgb(255, 0, 0);"><span class="mord cjk_fallback" style="color: rgb(255, 0, 0);">环</span></span></span></span></span></span>进行表示和查询（比如图1中圣地亚哥、阿里卡和比尼亚德尔马之间路径上的<strong>有向环</strong>）。</p> </li><li> <p>多关系图的标准数据模型是<strong>RDF（资源描述框架）</strong>，它由W3C所推荐。RDF模型定义了不同类型的节点，包括：</p> 
  <ul><li><strong>IRIs（国际化资源标识符）</strong>，它可以对web上的实体进行全方位识别；</li><li><strong>字面量</strong>（literal）则能够表示字符串（带或不带语言标签）和其他数据类型的值（整型、日期等）；</li><li><strong>空节点</strong>是<u>还未分配标识符的匿名节点</u>，比如可以在RDF中使用空白节点，而不是创建像EID15、EID16这样的内部标识符。（我们将在3.2节讨论<strong>标识</strong>符时，进一步讨论<strong>不同类型的节点</strong>）</li></ul> </li></ul> 
<ol start="2"><li> <p>异构图（Heterogeneous graphs）</p> 
  <ul><li>异构图（又：异构信息网络）的<strong>每个节点和边</strong>都分配了<strong>一种类型</strong>。因此，异构图类似于del图（边标签与边类型相对应），但异构图中节点的<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
        
         
          
           
            
            
              类 
             
            
              型 
             
            
           
          
         
           \color{#FF0000}{类型} 
          
         
       </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0em; vertical-align: 0em;"></span><span class="mord" style="color: rgb(255, 0, 0);"><span class="mord cjk_fallback" style="color: rgb(255, 0, 0);">类</span><span class="mord cjk_fallback" style="color: rgb(255, 0, 0);">型</span></span></span></span></span></span> 构成了图模型本身的一部分，而不是像<strong>del图中的类型</strong>那样被表示为<u>一种特殊的关系</u>，如图2所示。</li></ul> </li></ol> 
<p><img src="https://images2.imgbox.com/11/b7/pzdoQ32o_o.png" alt="在这里插入图片描述"></p> 
<ul><li> <p>如果某个边是在相同类型的两个节点之间，那么该边（如borders）是<strong>同质的</strong>（homogeneous），否则该边（如capital）是<strong>异构的</strong>（heterogeneous）。异构图的一个<strong>好处</strong>是：它们允许根据<strong>节点的类型</strong>进行<strong>划分</strong>，例如<u>为了实现某种机器学习任务</u>。反之，异构图通常只支持<strong>节点和类型</strong>间一种<strong>一对一的关系</strong>，即<u>一个节点只会和一种类型相关联</u>（该情况不会出现于del图中，例如图1中Santiago是0类型的，而EID15具有多种类型）</p> </li><li> <p>异构图的形式化定义：</p> </li></ul> 
<p><img src="https://images2.imgbox.com/b2/9c/LZ9vntXq_o.png" alt="在这里插入图片描述"></p> 
<ol start="3"><li> <p>属性图（property graph，PG）</p> 
  <ul><li>属性图可以灵活地建模<strong>更加复杂的关系</strong>。整合输入的数据后，它们将提供“哪些公司提供哪些航班的票价信息”，从而让旅游董事会更好地了解<u>城市间的可以利用的线路</u>（例如国际航班）。在多关系图中，我们<strong>无法说明</strong>提供某条航线的<strong>公司</strong>，如边“圣地亚哥–航班–&gt;阿里卡”。但是我们可以<strong>添加一个新节点</strong>（LA380、LA381）来表示航班，并将它与始发地、目的地、公司和交通类型<strong>相关联</strong>，如下图3所示。</li></ul> </li></ol> 
<p><img src="https://images2.imgbox.com/22/de/AuoPNlVX_o.png" alt="在这里插入图片描述"></p> 
<ul><li> <p>然而，将属性图运用于图1中的所有路径上需要对图进行大改。另一种办法可以将不同公司的航班放在不同的已命名的图中，但是如果已经使用命名图来追踪图中的始发地点（？），那么这将变得很麻烦。</p> </li><li> <p>因此，属性图的提出是为了将数据建模为图的时候<strong>提供额外的灵活性</strong>。属性图允许<strong>一些“属性-值”对和一个标签</strong>同时与<u>节点和边</u>相关联（即PG中每个节点或边拥有一个标签（节点名）和一些属性（值））。如下图4是一个简单的PG例子，它与图3相似。</p> </li></ul> 
<p><img src="https://images2.imgbox.com/5c/32/j6qO2ukx_o.png" alt="在这里插入图片描述"></p> 
<ul><li> <p>上图，我们使用边上的“属性-值”对来对公司进行建模（在PG的实际应用中，属性可能会有多个值，例如可表示为<strong>一个数组</strong>。但这样的情形并不影响图的表现力，也不影响我们的讨论）。关系的类型被赋予标签“flight”。我们进一步使用<strong>节点标签</strong>来表示<u>两个节点的类型</u>，并使用“<strong>属性-值</strong>”对来表示它们的纬度和经度。</p> </li><li> <p>PG最常用于目前流行的图数据库中，如<strong>Neo4j</strong>。在图模型的选择上，最重要的是PG可以<strong>在不丢失任何信息的情况下</strong>与多关系图（MG）进行相互转换。如上图4。总之，MG提供了一个<strong>更小的模型</strong>，而PG提供了一个<strong>更加灵活的</strong>模型。通常来说，相比于其他实际因素（比如不同模型的<strong>可实现性</strong>），<strong>模型的选择</strong>是<strong>次要的</strong>。</p> </li><li> <p>下面是PG的<strong>形式化定义</strong>：</p> </li></ul> 
<p><img src="https://images2.imgbox.com/2b/5b/bEKTmKMQ_o.png" alt="在这里插入图片描述"></p> 
<ol start="4"><li> <p>图数据集</p> 
  <ul><li>即使多个MG可以通过它们的<strong>并集</strong>进行结合，但通常要求对<strong>多个图</strong>进行管理而不单是管理一个巨大的图。例如，管理多个<strong>来自不同数据源的图</strong>可能是有好处的，这使得对<strong>同源数据</strong>的<strong>更新或细化</strong>成为可能，从而可以进一步<u>区分不可信来源和更可信来源</u>。一个图集由<strong>一些已命名图</strong>和<strong>一个默认图</strong>组成，每个已命名图是由<strong>一个图ID</strong>和<strong>一个图</strong>共同配对组成的。默认图是<strong>没有ID的图</strong>，即如果没有指定图ID，则该图将<strong>被默认引用</strong>。如下图5所示，活动和路线被分别被存储在两张已命名图中，默认图管理<strong>已命名图的元数据</strong>。（图数据集的形式化定义见附录B.7）</li></ul> </li></ol> 
<p><img src="https://images2.imgbox.com/02/6e/o2aZdNHj_o.png" alt="在这里插入图片描述"></p> 
<ul><li> <p>图的名字可以作为<strong>一个图上的节点</strong>。此外，节点和边可以在多张图上重复，不同图中的相同节点通常指的是相同的实体，从而使得在<strong>合并图的时候</strong>可以很容易<strong>整合实体上的数据</strong>。尽管该例子是一个MG的数据集，但这个概念可以直接推广到其他类型的图。</p> </li><li> <p>图数据集的一个常见应用是<strong>管理和查询</strong><u>被链接的数据</u>，这些数据由被散播在网络中的RDF图上<strong>相互链接的文档</strong>组成。当处理web数据时，追踪数据来源变得尤为重要。我们将在3.2节中讨论<strong>被链接的数据</strong>，并在3.3节中讨论其出处。</p> </li><li> <p>图数据集的形式化定义：<br> <img src="https://images2.imgbox.com/9e/80/WhIu5IV5_o.png" alt="在这里插入图片描述"></p> </li></ul> 
<ol start="5"><li> <p>其他图数据模型</p> 
  <ul><li>前面的模型是实现图表示的典型例子。其他图数据模型存在<strong>可能包含单独边或嵌套图的“复杂节点”</strong>（有时也被称为“<strong>超节点</strong>”）。同样，一个“<strong>超图</strong>”的数学概念定义了<u>连接多个集合（而不是一些节点对）的复杂边</u>。</li><li>在我们看来，一个KG可以采用任何一种<strong>基于节点和边的</strong>图数据模型：通常数据可以实现两个模型间的相互转换（如图3和图4）。本论文接下来的部分将<strong>更多讨论MG</strong>，因为其相对更简洁，但大部分讨论可以很自然地扩展到其他模型。</li></ul> </li><li> <p>图存储</p> 
  <ul><li>已经有一些用于<strong>存储和索引图的技术</strong>被提出，使用这些技术实现<strong>查询的高效运算</strong>（正如接下来所讨论）。MG被存储在关系型数据库中，其中要么是一种单一的<strong>三元组关系</strong>（三元表格），要么是一种针对每个属性的<strong>二元关系</strong>（垂直划分），又或是某种<strong>给定类型实体间的n元关系</strong>（属性表）。</li><li>此外，还有为各种图模型开发的<strong>自定义存储技术</strong>，它们为<strong>节点、边及其相邻元素的查询</strong>提供了<strong>高效的访问技术</strong>。许多系统进一步支持将图分布在多台机器上，该技术基于<strong>目前流行的NoSQL存储</strong>或者<strong>自定义分区方案</strong>。有关更多详细信息，请参阅 Janke 和 Staab 的书籍相关章节以及 Wylot 等人在该主题上的研究综述。</li></ul> </li></ol> 
<h3><a id="_132"></a>二、查询语言</h3> 
<ul><li>目前已经有一些实用的语言来查询图，包括用于RDF图的<strong>SPARQL查询语言</strong>，以及用于查询PG的Cypher、Gremlin和G-CORE语言。这些查询语言的基础是一些常见的原语，包括（基本的）<strong>图模式</strong>、<strong>关系运算符</strong>、<strong>路径表达式</strong>等等。现在我们依次描述这些<strong>查询图的核心特征</strong>，从<strong>图模式</strong>开始。</li></ul> 
<ol><li> <p>图模式</p> 
  <ul><li> <p>每种图的结构化查询语言核心是（基本的）<strong>图模式</strong>，它遵循与待查询数据图<strong>相同的模型</strong>（见2.1节），此外它允许变量作为术语。因此，图模式中的术语被分为<strong>常量</strong>（如阿里卡或者“活动地点”）、<strong>变量</strong>（以问好为前缀，如“?event”或者”?关系“）。</p> </li><li> <p>然后，通过生成从<strong>图模式中变量</strong>到<strong>数据图中常量</strong>的映射，根据数据图对图模式进行计算，如此一来，在这一映射下<strong>图模式的映像</strong>(用指定的常量替换变量)就<strong>包含在</strong>了数据图中（即该数据图<strong>体现了/符合</strong>这一图模式的一切特征）。</p> </li><li> <p>如下图6所示，我们提供了一个图模式的例子，该模式查询“Food Festival”的活动地点。右表为该图模式根据图1中所呈现的数据图<strong>产生的可能映射</strong>。在一些映射中（最后两列），多个变量映射到映射到同一个术语（右表3~4行），是否需要这样做则取决于<strong>具体应用场景</strong>。因此<strong>一些语义</strong>被提出用来<strong>计算图模式</strong>，其中最重要的是：</p> 
    <ul><li>基于<strong>同态</strong>的语义。它允许<strong>多个变量</strong>映射到<strong>同一个术语</strong>，于是图6中的所有映射都将被视为结果。</li><li>基于<strong>同构</strong>的语义。它要求节点<strong>或/和</strong>边上的变量映射到<strong>唯一的术语</strong>，因此从结果中排除右表中的后三个映射。</li></ul> </li></ul> </li></ol> 
<p><img src="https://images2.imgbox.com/7d/c6/ZIYmHPwV_o.png" alt="在这里插入图片描述"></p> 
<ul><li> <p><strong>不同的应用语言</strong>在计算图模式时采用<strong>不同的语义</strong>，例如SPARQL采用基于同态的语义，而Cypher<strong>在边的选取上</strong>采用基于同构的语义。</p> </li><li> <p>在后面的例子中（尤其是图8），图模式也可以形成<strong>环</strong>（他们是有向或者无向的），并且可以变量替换边标签。类似地，图模式在其他模型的上下文中（如PG），可以通过让变量<strong>在模型的任何位置</strong>对术语进行替换来定义（<em>就是我要查什么节点或边，我就用变量替换掉PG上的那个标签，然后在前面写个?，表示我要查询这中类型的实体或关系</em>）。在附录B.2.1中提供了MG和PG的图模式的<strong>形式化定义</strong>及其<strong>运算</strong>。</p> </li></ul> 
<ol start="2"><li> <p>复杂图模式</p> 
  <ul><li> <p>图模式将输入的一张图转换为<strong>一张表作为结果</strong>（如图6所示）。然后，我们可以考虑使用<strong>关系代数</strong>来结合和/或转换这些表，以便从<strong>一个或多个图模式中</strong>形成<strong>更复杂的查询</strong>。回忆关系语言可知，关系代数由接受一个输入表的<strong>一元运算符</strong>和接受两个输入表的<strong>二元运算符</strong>组成。</p> </li><li> <p>一元运算符有：投影<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
         
          
           
           
             π 
            
           
          
            \pi 
           
          
        </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathdefault" style="margin-right: 0.03588em;">π</span></span></span></span></span>（输出列的子集）、选择<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
         
          
           
           
             σ 
            
           
          
            \sigma 
           
          
        </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathdefault" style="margin-right: 0.03588em;">σ</span></span></span></span></span>（输出符合给定条件的一些行）、重命名列<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
         
          
           
           
             ρ 
            
           
          
            \rho 
           
          
        </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.625em; vertical-align: -0.19444em;"></span><span class="mord mathdefault">ρ</span></span></span></span></span>。</p> </li><li> <p>二元运算符有：并集<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
         
          
           
           
             ∪ 
            
           
          
            \cup 
           
          
        </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.55556em; vertical-align: 0em;"></span><span class="mord">∪</span></span></span></span></span>（将两个表的行合并为一个表）、差集<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
         
          
           
           
             − 
            
           
          
            - 
           
          
        </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.66666em; vertical-align: -0.08333em;"></span><span class="mord">−</span></span></span></span></span>（删除第一张表中在第二张表内有的行）、连接<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
         
          
           
           
             ⋈ 
            
           
          
            \bowtie 
           
          
        </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.51em; vertical-align: -0.005em;"></span><span class="mrel">⋈</span></span></span></span></span>（用<strong>另外一张表中满足某个连接条件的行</strong>扩展<strong>第一张表中的行</strong>）。</p> </li><li> <p>选择和连接<strong>条件运算符</strong>通常有：等式<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
         
          
           
           
             = 
            
           
          
            = 
           
          
        </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.36687em; vertical-align: 0em;"></span><span class="mrel">=</span></span></span></span></span>、不等式<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
         
          
           
           
             ≤ 
            
           
          
            \leq 
           
          
        </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.77194em; vertical-align: -0.13597em;"></span><span class="mrel">≤</span></span></span></span></span>、取非<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
         
          
           
           
             ¬ 
            
           
          
            \lnot 
           
          
        </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord">¬</span></span></span></span></span>、析取<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
         
          
           
           
             ∨ 
            
           
          
            \vee 
           
          
        </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.55556em; vertical-align: 0em;"></span><span class="mord">∨</span></span></span></span></span>等等。</p> </li><li> <p>从以上这些操作中，我们可以进一步定义其他（语法）操作，比如交集<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
         
          
           
           
             ∩ 
            
           
          
            \cap 
           
          
        </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.55556em; vertical-align: 0em;"></span><span class="mord">∩</span></span></span></span></span>（输出两个表中共有的行）、反连接<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
         
          
           
           
             ▹ 
            
           
          
            \triangleright 
           
          
        </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.46528em; vertical-align: 0em;"></span><span class="mord">▹</span></span></span></span></span>（又：不存在。在表1中寻找<strong>表2中无法进行连接操作的行</strong>）、左连接⟕（又：可选的。执行连接操作，但<strong>在第二张表中没有兼容表1的行的情况下</strong>保留第一个表中的行）等等。</p> </li><li> <p>之后，图模式可以用<strong>关系代数的子集</strong>来表示（即<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
         
          
           
           
             π 
            
           
          
            \pi 
           
          
        </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathdefault" style="margin-right: 0.03588em;">π</span></span></span></span></span>、<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
         
          
           
           
             σ 
            
           
          
            \sigma 
           
          
        </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathdefault" style="margin-right: 0.03588em;">σ</span></span></span></span></span>、<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
         
          
           
           
             ρ 
            
           
          
            \rho 
           
          
        </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.625em; vertical-align: -0.19444em;"></span><span class="mord mathdefault">ρ</span></span></span></span></span>、<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
         
          
           
           
             ⋈ 
            
           
          
            \bowtie 
           
          
        </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.51em; vertical-align: -0.005em;"></span><span class="mrel">⋈</span></span></span></span></span>）。例如，假设一个<strong>三元组关系</strong><span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
         
          
           
           
             G 
            
           
             ( 
            
           
             s 
            
           
             , 
            
           
             p 
            
           
             , 
            
           
             o 
            
           
             ) 
            
           
          
            G(s,p,o) 
           
          
        </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">G</span><span class="mopen">(</span><span class="mord mathdefault">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathdefault">p</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathdefault">o</span><span class="mclose">)</span></span></span></span></span>表示一张图（即一个有三个列“<strong>主谓宾</strong>”<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
         
          
           
           
             s 
            
           
             , 
            
           
             p 
            
           
             , 
            
           
             o 
            
           
          
            s,p,o 
           
          
        </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.625em; vertical-align: -0.19444em;"></span><span class="mord mathdefault">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathdefault">p</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathdefault">o</span></span></span></span></span>的表<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
         
          
           
           
             G 
            
           
          
            G 
           
          
        </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.68333em; vertical-align: 0em;"></span><span class="mord mathdefault">G</span></span></span></span></span>），图6的查询用<strong>关系代数</strong>可表示为：</p> </li></ul> </li></ol> 
<p><img src="https://images2.imgbox.com/b2/7d/K4K29Alf_o.png" alt="在这里插入图片描述">其中，<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         ⋈ 
        
       
      
        \bowtie 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.51em; vertical-align: -0.005em;"></span><span class="mrel">⋈</span></span></span></span></span>为自然连接（在两张表中的<strong>同名列</strong>间检查<strong>相等性</strong>，此处连接操作是在<strong>主语</strong>列<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         s 
        
       
      
        s 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathdefault">s</span></span></span></span></span>上进行的 ）。查询结果是一张表，其中<strong>每个变量是一列</strong>：<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         e 
        
       
         v 
        
       
         , 
        
       
         v 
        
       
         n 
        
       
         1 
        
       
         , 
        
       
         v 
        
       
         n 
        
       
         2 
        
       
      
        ev,vn1,vn2 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.83888em; vertical-align: -0.19444em;"></span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right: 0.03588em;">v</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathdefault" style="margin-right: 0.03588em;">v</span><span class="mord mathdefault">n</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathdefault" style="margin-right: 0.03588em;">v</span><span class="mord mathdefault">n</span><span class="mord">2</span></span></span></span></span>。但是，并非所有在<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         G 
        
       
      
        G 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.68333em; vertical-align: 0em;"></span><span class="mord mathdefault">G</span></span></span></span></span>上使用<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         π 
        
       
      
        \pi 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathdefault" style="margin-right: 0.03588em;">π</span></span></span></span></span>、<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         σ 
        
       
      
        \sigma 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathdefault" style="margin-right: 0.03588em;">σ</span></span></span></span></span>、<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         ρ 
        
       
      
        \rho 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.625em; vertical-align: -0.19444em;"></span><span class="mord mathdefault">ρ</span></span></span></span></span>、<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         ⋈ 
        
       
      
        \bowtie 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.51em; vertical-align: -0.005em;"></span><span class="mrel">⋈</span></span></span></span></span>的查询都可以表示为图模式；例如，我们无法在图模式中选择投影哪些变量，而是必须投影所有<strong>未固定为常量的变量</strong>。</p> 
<ul><li>SPARQL和Cypher等图查询语言允许在图模式的结果上完全使用<strong>关系运算符</strong>，从而引发<strong>复杂图模式</strong>。下图 7 呈现了一个<strong>复杂图模式</strong>的示例，其中<strong>投影变量</strong>以粗体显示，选择特定变量呈现在最终结果中。在术语的表现力上，具有这种（不受限制的）形式进行投影的图模式等同于<strong>在图上进行连接查询</strong>。</li></ul> 
<p><img src="https://images2.imgbox.com/46/35/2tNKUk6u_o.png" alt="在这里插入图片描述"></p> 
<ul><li>在图 8 中，我们给出了另一个复杂图模式的示例，用于查找<strong>不在圣地亚哥举行的</strong>美食节或饮料节，可选地返回<strong>其开始日期和名称</strong>（如果有）。这样的查询——允许<strong>在图模式上</strong>充分使用<strong>关系运算符</strong>——等同于在图上进行<strong>一阶查询（first-order queries）</strong>。在附录 B.2.2 中，我们<strong>形式化了</strong><u>复杂图模式及其在数据图上的运算</u>。</li></ul> 
<p><img src="https://images2.imgbox.com/b4/20/eOjJ23YZ_o.png" alt="在这里插入图片描述"></p> 
<ul><li>复杂图模式会产生重复结果；例如，图7中的第一个结果出现了两次，这是因为在一个结果中 ?city1 与 Arica 匹配，?city2 与 Viña del Mar 相匹配，<strong>在另一种结果里两者恰好相反</strong>。查询语言提供<strong>两种语义</strong>：<strong>bag 语义</strong>根据底层映射的多样性保留重复项，而 <strong>set 语义</strong>（通常使用 DISTINCT 关键字）从结果中删除重复项。</li></ul> 
<ol start="3"><li> <p>导航图模式</p> 
  <ul><li> <p>区分图查询语言的一个关键特征是其能够在查询中包含<strong>路径表达式</strong>。一个路径表达式<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
         
          
           
           
             r 
            
           
          
            r 
           
          
        </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathdefault" style="margin-right: 0.02778em;">r</span></span></span></span></span>是<strong>一个正则表达式</strong>，它能够匹配<strong>两个节点间任意长度的路径</strong>，表示为一个<strong>正则路径查询</strong><span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
         
          
           
           
             ( 
            
           
             x 
            
           
             , 
            
           
             r 
            
           
             , 
            
           
             y 
            
           
             ) 
            
           
          
            (x,r,y) 
           
          
        </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathdefault" style="margin-right: 0.02778em;">r</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathdefault" style="margin-right: 0.03588em;">y</span><span class="mclose">)</span></span></span></span></span>，其中<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
         
          
           
           
             x 
            
           
          
            x 
           
          
        </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathdefault">x</span></span></span></span></span>和<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
         
          
           
           
             y 
            
           
          
            y 
           
          
        </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.625em; vertical-align: -0.19444em;"></span><span class="mord mathdefault" style="margin-right: 0.03588em;">y</span></span></span></span></span>可以是<strong>变量或常量</strong>（或者甚至是同一个术语）。基本的路径表达式中<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
         
          
           
           
             r 
            
           
          
            r 
           
          
        </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathdefault" style="margin-right: 0.02778em;">r</span></span></span></span></span>是一个<strong>常量</strong>（一个边标签）。</p> </li><li> <p>此外，如果<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
         
          
           
           
             r 
            
           
          
            r 
           
          
        </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathdefault" style="margin-right: 0.02778em;">r</span></span></span></span></span>是一个路径表达式，那么<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
         
          
           
            
            
              r 
             
            
              − 
             
            
           
          
            r^- 
           
          
        </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.771331em; vertical-align: 0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.02778em;">r</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.771331em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">−</span></span></span></span></span></span></span></span></span></span></span></span>（逆向查询）和<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
         
          
           
            
            
              r 
             
            
              ∗ 
             
            
           
          
            r^* 
           
          
        </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.688696em; vertical-align: 0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.02778em;">r</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.688696em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span></span></span></span></span>（可莱尼星Kleene star：0个或更多个）也是路径表达式。一些作者区分<strong>两路正则路径查询</strong>和<strong>正则路径查询</strong>，只有前者支持<strong>逆向查询</strong>。最后，<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
         
          
           
            
            
              r 
             
            
              1 
             
            
           
          
            r_1 
           
          
        </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.58056em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.02778em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span>和<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
         
          
           
            
            
              r 
             
            
              2 
             
            
           
          
            r_2 
           
          
        </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.58056em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.02778em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span>如果是路径表达式，那么<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
         
          
           
            
            
              r 
             
            
              1 
             
            
           
             ∣ 
            
            
            
              r 
             
            
              2 
             
            
           
          
            r_1|r_2 
           
          
        </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.02778em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mord">∣</span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.02778em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span>（析取）和<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
         
          
           
            
            
              r 
             
            
              1 
             
            
           
             ⋅ 
            
            
            
              r 
             
            
              2 
             
            
           
          
            r_1\cdot r_2 
           
          
        </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.59445em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.02778em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.58056em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.02778em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span>（连接）也是正则表达式。</p> </li><li> <p>之后，正则路径表达式在<strong>一些不同的语义下</strong>被计算。例如，根据图1计算的<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
         
          
           
           
             ( 
            
           
             A 
            
           
             r 
            
           
             i 
            
           
             c 
            
           
             a 
            
           
             , 
            
           
             b 
            
           
             u 
            
           
             s 
            
           
             ∗ 
            
           
             , 
            
           
             ? 
            
           
             c 
            
           
             i 
            
           
             t 
            
           
             y 
            
           
             ) 
            
           
          
            (Arica, bus*, ?city) 
           
          
        </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">A</span><span class="mord mathdefault" style="margin-right: 0.02778em;">r</span><span class="mord mathdefault">i</span><span class="mord mathdefault">c</span><span class="mord mathdefault">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathdefault">b</span><span class="mord mathdefault">u</span><span class="mord mathdefault">s</span><span class="mord">∗</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mclose">?</span><span class="mord mathdefault">c</span><span class="mord mathdefault">i</span><span class="mord mathdefault">t</span><span class="mord mathdefault" style="margin-right: 0.03588em;">y</span><span class="mclose">)</span></span></span></span></span>可能匹配下图9中的路径。实际上，由于存在环，因此可能匹配到<strong>无限数量的路径</strong>。由于这个原因，通常使用<strong>受限制的语义</strong>，只返回最短路径，或者没有重复节点或边的路径（如在Cypher中。将变量映射到路径需要特殊处理，Cypher返回一个编码为路径的字符串，这样一来某些函数可被使用，如<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
         
          
           
           
             l 
            
           
             e 
            
           
             n 
            
           
             g 
            
           
             t 
            
           
             h 
            
           
             ( 
            
           
             ⋅ 
            
           
             ) 
            
           
          
            length(\cdot) 
           
          
        </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault" style="margin-right: 0.01968em;">l</span><span class="mord mathdefault">e</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right: 0.03588em;">g</span><span class="mord mathdefault">t</span><span class="mord mathdefault">h</span><span class="mopen">(</span><span class="mord">⋅</span><span class="mclose">)</span></span></span></span></span>；另一方面，G-CORE支持返回路径，并且支持其他运算符，包括投影为图，应用成本函数等）。除了返回路径外，另外一种选择是返回<strong>匹配的路径中</strong>所连接的（有限）<strong>节点对</strong>的集合（SQPARQL 1.1中是这样）。</p> </li></ul> </li></ol> 
<p><img src="https://images2.imgbox.com/29/51/9bkx4zw0_o.png" alt="在这里插入图片描述"></p> 
<ul><li>然后，为了表达<strong>导航图模式</strong>，我们在图模式中使用<strong>正则路径查询</strong>。下图10说明了一个查询，它搜索举办美食节的城市，要求从阿里卡坐公共汽车或飞机出发可到达（递归地）的城市。</li></ul> 
<p><img src="https://images2.imgbox.com/49/2c/sNuvLdmo_o.png" alt="图10"></p> 
<ul><li>此外，当<strong>正则路径查询和图模式</strong>与<strong>操作符（如投影、选择、并集、差集和可选）<strong>相结合时，则称为</strong>复杂导航图模式</strong>。附录 B.2.3 提供了（复杂）导航图模式的<strong>定义及其运算</strong>。</li></ul> 
<ol start="4"><li> <p>其他特性</p> 
  <ul><li>到目前为止，我们已经讨论了形成<strong>任何图查询语言的实践和理论基础</strong>所具有的特征。然而，特殊的图查询语言可以支持<strong>其他实际特性</strong>，例如聚合（group by，count等）、更复杂的过滤器和数据类型操作符（从一个日期中提取的年份范围查询）、用于通过Web远程查询托管图的联邦、用于更新图的语言、语义蕴涵机制的支持。</li><li>对于更多的信息，我们参考了多种查询语言的文档和Angles的综述。</li></ul> </li></ol>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/49e84ec0161afb1195062c6f6207cda0/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">报错：Incorrect string value: ‘\xE5\x90\x83\xE9\xA5\xAD‘ for column ‘msg‘ at row 1</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/009cdaec500a528bb09fb4d8cf8abc28/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">第二届无线通信AI大赛参赛总结</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>