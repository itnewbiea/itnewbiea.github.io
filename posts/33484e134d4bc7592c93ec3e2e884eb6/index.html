<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>mybatisplus多表查询返回vo对象，如何在java代码中实现 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="mybatisplus多表查询返回vo对象，如何在java代码中实现" />
<meta property="og:description" content="在使用MyBatis-Plus进行多表查询时，可以使用`@TableName`注解来指定表名，使用`@TableField`注解来指定表字段，使用`@JoinQuery`注解来指定关联查询条件。例如，我们有两个表`user`和`order`，它们的关联字段是`user_id`，现在需要查询出用户信息和对应的订单信息，可以定义一个VO类`UserOrderVO`，如下：
```java
@TableName(&#34;user&#34;)
public class UserOrderVO {
@TableField(&#34;user_id&#34;)
private Long userId;
@TableField(&#34;user_name&#34;)
private String userName;
@TableField(exist = false)
private List&lt;Order&gt; orders; // 关联查询结果
// 省略getter/setter方法
}
```
在VO类中，使用`@TableName`注解指定表名，使用`@TableField`注解指定表字段，`exist = false`表示该字段不是表中的字段，只是用来存放关联查询结果。
接下来，使用`@JoinQuery`注解指定关联查询条件，如下：
```java
@Mapper
public interface UserOrderMapper extends BaseMapper&lt;UserOrderVO&gt; {
@JoinQuery(value = &#34;order&#34;, condition = &#34;user.user_id = order.user_id&#34;, type = JoinType.LEFT_JOIN)
List&lt;UserOrderVO&gt; selectUserOrder();
}
```
在Mapper接口中，使用`@JoinQuery`注解指定关联查询条件，`value`属性指定关联表名，`condition`属性指定关联条件，`type`属性指定关联方式（此处使用左连接查询）。
最后，在Service层中调用Mapper接口查询数据，如下：
```java
@Service
public class UserOrderService {
@Autowired
private UserOrderMapper userOrderMapper;
public List&lt;UserOrderVO&gt; getUserOrder() {" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/33484e134d4bc7592c93ec3e2e884eb6/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-04-11T00:12:59+08:00" />
<meta property="article:modified_time" content="2023-04-11T00:12:59+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">mybatisplus多表查询返回vo对象，如何在java代码中实现</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>在使用MyBatis-Plus进行多表查询时，可以使用`@TableName`注解来指定表名，使用`@TableField`注解来指定表字段，使用`@JoinQuery`注解来指定关联查询条件。例如，我们有两个表`user`和`order`，它们的关联字段是`user_id`，现在需要查询出用户信息和对应的订单信息，可以定义一个VO类`UserOrderVO`，如下：</p> 
<p>```java<br> @TableName("user")<br> public class UserOrderVO {<!-- --><br>     @TableField("user_id")<br>     private Long userId;<br>     @TableField("user_name")<br>     private String userName;<br>     @TableField(exist = false)<br>     private List&lt;Order&gt; orders; // 关联查询结果</p> 
<p>    // 省略getter/setter方法<br> }<br> ```</p> 
<p>在VO类中，使用`@TableName`注解指定表名，使用`@TableField`注解指定表字段，`exist = false`表示该字段不是表中的字段，只是用来存放关联查询结果。</p> 
<p>接下来，使用`@JoinQuery`注解指定关联查询条件，如下：</p> 
<p>```java<br> @Mapper<br> public interface UserOrderMapper extends BaseMapper&lt;UserOrderVO&gt; {<!-- --><br>     @JoinQuery(value = "order", condition = "user.user_id = order.user_id", type = JoinType.LEFT_JOIN)<br>     List&lt;UserOrderVO&gt; selectUserOrder();<br> }<br> ```</p> 
<p>在Mapper接口中，使用`@JoinQuery`注解指定关联查询条件，`value`属性指定关联表名，`condition`属性指定关联条件，`type`属性指定关联方式（此处使用左连接查询）。</p> 
<p>最后，在Service层中调用Mapper接口查询数据，如下：</p> 
<p>```java<br> @Service<br> public class UserOrderService {<!-- --><br>     @Autowired<br>     private UserOrderMapper userOrderMapper;</p> 
<p>    public List&lt;UserOrderVO&gt; getUserOrder() {<!-- --><br>         return userOrderMapper.selectUserOrder();<br>     }<br> }<br> ```</p> 
<p>这样就可以实现多表查询并返回VO对象了。</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/4833fbdb36c47ab993e7898b9bc09792/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【例6】计算e=1&#43;1/1!&#43;1/2!&#43;1/3!&#43;...当1/n!＜1e-7停止</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/c23b26faa7d6e3554920d2b31a7db48c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">yolov5改进之加入CBAM,SE,ECA,CA,SimAM,ShuffleAttention,Criss-CrossAttention,CrissCrossAttention多种注意力机制</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>