<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>resulttype和resultMap区别详解 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="resulttype和resultMap区别详解" />
<meta property="og:description" content="目录
一、对象不同
1. resultMap
2. resultType
3. 分析
二、描述不同
1、resultMap
2、resulTtype
三、类型适用不同
一、对象不同 1. resultMap 如果查询出来的结果的列名和实体属性不一致，通过定义一个resultMap对列名和pojo属性名之间作一个映射关系（示例代码如下）。
&lt;!--结果返回类型采用resultMap定义--&gt; &lt;select id=&#34;findCardById&#34; parameterType=&#34;int&#34; resultMap=&#34;findCard&#34;&gt; select * from card where id=#{id} &lt;/select&gt; &lt;!--对上述resultMap进行自定义映射--&gt; &lt;resultMap id=&#34;findCard&#34; type=&#34;card&#34;&gt; &lt;id property=&#34;id&#34; column=&#34;id&#34;/&gt; &lt;result property=&#34;number&#34; column=&#34;number&#34;/&gt; &lt;/resultMap&gt; 2. resultType resultType使用resultType进行输出映射，只有查询结果显示的列名和实体的属性名一致时，该列才可以映射成功。
&lt;!--结果返回类型采用resultType定义--&gt; &lt;select id=&#34;findCardById&#34; parameterType=&#34;int&#34; resultType=&#34;card&#34;&gt; select * from card where id=#{id} &lt;/select&gt; 3. 分析 从上述的实例代码可以看出，针对相同的类的映射，resultType和resultMap均可实现。
对于resultMap而言，除了需要在&lt;select&gt;标签中进行申明外，还需要单独使用&lt;resultMap&gt;&lt;/resultMap&gt;实现实体属性与数据库表列名之间的自定义映射，适合多表查询。对于resultType而言，仅需在&lt;select&gt;标签中用resultType属性申明结果返回类型即可，适合单表查询。 二、描述不同 1、resultMap 对于一对一表连接的处理方式通常为在主表A的实体中添加嵌套另一个表B的实体，然后在mapper.xml中采用&lt;association&gt;元素进行对另一个表B的连接处理，其中&lt;association&gt;元素中的select的值为表B对应的SQL语句的唯一标识，一般为namespace&#43;SQL语句的id。
在下述例子中，person实体与card实体是一对一的关系，查询要求是：根据person表中id的值查询用户的id,name,age,sex以及卡号number，但是在person表中只有number对应的card表的id值，故需要采用resulMap。
1.1 Cad类
package com.chen.pojo; public class Card { private int id; private String number; //toString方法、set以及get方法省略 } 1." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/015da1be84784da8b53ba811735ac60e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-11-16T13:51:53+08:00" />
<meta property="article:modified_time" content="2022-11-16T13:51:53+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">resulttype和resultMap区别详解</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="%E4%B8%80%E3%80%81%E5%AF%B9%E8%B1%A1%E4%B8%8D%E5%90%8C-toc" style="margin-left:0px;"><a href="#%E4%B8%80%E3%80%81%E5%AF%B9%E8%B1%A1%E4%B8%8D%E5%90%8C" rel="nofollow"><span style="color:#4da8ee;">一、对象不同</span></a></p> 
<p id="1.%20resultMap-toc" style="margin-left:40px;"><a href="#1.%20resultMap" rel="nofollow"><span style="color:#4da8ee;">1. resultMap</span></a></p> 
<p id="2.%20resultType-toc" style="margin-left:40px;"><a href="#2.%20resultType" rel="nofollow"><span style="color:#4da8ee;">2. resultType</span></a></p> 
<p id="3.%20%E5%88%86%E6%9E%90-toc" style="margin-left:40px;"><a href="#3.%20%E5%88%86%E6%9E%90" rel="nofollow"><span style="color:#4da8ee;">3. 分析</span></a></p> 
<p id="%E4%BA%8C%E3%80%81%E6%8F%8F%E8%BF%B0%E4%B8%8D%E5%90%8C-toc" style="margin-left:0px;"><a href="#%E4%BA%8C%E3%80%81%E6%8F%8F%E8%BF%B0%E4%B8%8D%E5%90%8C" rel="nofollow"><span style="color:#4da8ee;">二、描述不同</span></a></p> 
<p id="1%E3%80%81resultMap-toc" style="margin-left:40px;"><a href="#1%E3%80%81resultMap" rel="nofollow"><span style="color:#4da8ee;">1、resultMap</span></a></p> 
<p id="2%E3%80%81resulTtype-toc" style="margin-left:40px;"><a href="#2%E3%80%81resulTtype" rel="nofollow"><span style="color:#4da8ee;">2、resulTtype</span></a></p> 
<p id="%E4%B8%89%E3%80%81%E7%B1%BB%E5%9E%8B%E9%80%82%E7%94%A8%E4%B8%8D%E5%90%8C-toc" style="margin-left:0px;"><a href="#%E4%B8%89%E3%80%81%E7%B1%BB%E5%9E%8B%E9%80%82%E7%94%A8%E4%B8%8D%E5%90%8C" rel="nofollow"><span style="color:#4da8ee;">三、类型适用不同</span></a></p> 
<hr id="hr-toc"> 
<p></p> 
<h2 id="%E4%B8%80%E3%80%81%E5%AF%B9%E8%B1%A1%E4%B8%8D%E5%90%8C"><span style="color:#0d0016;">一、对象不同</span></h2> 
<h3 id="1.%20resultMap"><span style="color:#4da8ee;">1. resultMap</span></h3> 
<p>如果查询出来的结果的列名和实体属性不一致，通过定义一个resultMap对列名和pojo属性名之间作一个映射关系（示例代码如下）。</p> 
<pre><code class="language-XML">&lt;!--结果返回类型采用resultMap定义--&gt;
&lt;select id="findCardById" parameterType="int" resultMap="findCard"&gt;
    select * from card where id=#{id}
&lt;/select&gt;

&lt;!--对上述resultMap进行自定义映射--&gt;
&lt;resultMap id="findCard" type="card"&gt;
    &lt;id property="id" column="id"/&gt;
    &lt;result property="number" column="number"/&gt;
&lt;/resultMap&gt;</code></pre> 
<h3 id="2.%20resultType"><span style="color:#4da8ee;">2. resultType</span></h3> 
<p>resultType使用resultType进行输出映射，只有查询结果显示的列名和实体的属性名一致时，该列才可以映射成功。</p> 
<pre><code class="language-XML">&lt;!--结果返回类型采用resultType定义--&gt;
&lt;select id="findCardById" parameterType="int" resultType="card"&gt;
    select * from card where id=#{id}
&lt;/select&gt;</code></pre> 
<h3 id="3.%20%E5%88%86%E6%9E%90"><span style="color:#4da8ee;">3. 分析</span></h3> 
<p><span style="color:#0d0016;">从上述的实例代码可以看出，针对相同的类的映射，resultType和resultMap均可实现。</span></p> 
<ol><li><span style="color:#0d0016;">对于resultMap而言，除了需要在&lt;select&gt;标签中进行申明外，还需要单独使用&lt;resultMap&gt;&lt;/resultMap&gt;实现实体属性与数据库表列名之间的自定义映射，</span><strong><span style="color:#fe2c24;">适合多表查询</span></strong><span style="color:#0d0016;">。</span></li><li><span style="color:#0d0016;">对于resultType而言，仅需在&lt;select&gt;标签中用resultType属性申明结果返回类型即可，</span><strong><span style="color:#fe2c24;">适合单表查询</span></strong><span style="color:#0d0016;">。</span></li></ol> 
<h2 id="%E4%BA%8C%E3%80%81%E6%8F%8F%E8%BF%B0%E4%B8%8D%E5%90%8C"><span style="color:#0d0016;">二、描述不同</span></h2> 
<h3 id="1%E3%80%81resultMap"><span style="color:#4da8ee;">1、resultMap</span></h3> 
<p>对于一对一表连接的处理方式通常为在主表A的实体中添加嵌套另一个表B的实体，然后在mapper.xml中采用&lt;association&gt;元素进行对另一个表B的连接处理，其中&lt;association&gt;元素中的select的值为表B对应的SQL语句的唯一标识，一般为namespace+SQL语句的id。</p> 
<blockquote> 
 <p>在下述例子中，person实体与card实体是一对一的关系，查询要求是：根据person表中id的值查询用户的id,name,age,sex以及卡号number，但是在person表中只有number对应的card表的id值，故需要采用resulMap。</p> 
</blockquote> 
<p>1.1 Cad类</p> 
<pre><code class="language-java">package com.chen.pojo;
public class Card {
    private int id;
    private String number;
    //toString方法、set以及get方法省略
}
</code></pre> 
<p>1.2 Cad类对应数据库表</p> 
<p><img alt="" height="117" src="https://images2.imgbox.com/a5/7b/7wCyQq0h_o.png" width="712"></p> 
<p> 1.3 Cad类对应映射文件</p> 
<pre><code class="language-XML">&lt;mapper namespace="com.chen.mapper.CardMapper" &gt;
    &lt;select id="findCardById" parameterType="int"   resultMap="findCard"&gt;
        select * from card where id=#{id}
    &lt;/select&gt;
    &lt;resultMap id="findCard" type="card"&gt;
        &lt;id property="id" column="id"/&gt;
        &lt;result property="number" column="number"/&gt;
    &lt;/resultMap&gt;
&lt;/mapper&gt;</code></pre> 
<p>1.4 Person类</p> 
<pre><code class="language-java">package com.chen.pojo;
public class Person {
    private int id;
    private String name;
    private int age;
    private String sex;
    //toString方法、set以及get方法省略
}</code></pre> 
<p> 1.5 Person类应数据库表</p> 
<p><img alt="" height="196" src="https://images2.imgbox.com/0d/d9/qJVoKg6N_o.png" width="774"></p> 
<p>1.6  Person类对应映射文件</p> 
<pre><code class="language-XML">&lt;select id="findPersonById"
            parameterType="Integer"
            resultMap="CardWithPerson"&gt;
        select * from person where id=#{id}
    &lt;/select&gt;
    &lt;!--自定义结果集映射，对上述resultMap进行映射处理--&gt;
    &lt;resultMap id="CardWithPerson" type="person"&gt;
        &lt;id property="id" column="id"/&gt;
        &lt;result property="name" column="name"/&gt;
        &lt;result property="sex" column="sex"/&gt;
        &lt;result property="age" column="age"/&gt;
        &lt;!--使用association实现一对一映射
        property为实体属性
        javaType为该实体属性的类型
        select指向SQL语句值为对应语句的唯一标识，由于该参数来自上一条语句的及如果，
        所以值为即namespace+id
        column为所需属性对应在库表中的列名
        --&gt;
        &lt;association property="cardnumber" javaType="Card" column="card_id"
            select="com.chen.mapper.CardMapper.findCardById"/&gt;
    &lt;/resultMap&gt;</code></pre> 
<h3 id="2%E3%80%81resulTtype"><span style="color:#4da8ee;">2、resulTtype</span></h3> 
<p>resultType无法查询结果映射到pojo对象的pojo属性中，根据对结构集查询遍历的需要选择使用resultType还是resultMap。适用于单表查询。</p> 
<h2 id="%E4%B8%89%E3%80%81%E7%B1%BB%E5%9E%8B%E9%80%82%E7%94%A8%E4%B8%8D%E5%90%8C">三、类型适用不同</h2> 
<p>1、resultmap：mybatis中在查询进行select映射的时候，返回类型可以用resultType，也可以用resultMap，只不过采用resultMap时需要对该resultMap进行自定义映射处理，即采用&lt;resultMap&gt;元素定义映射。</p> 
<p>2、resulttype：resultType是直接表示返回类型的,而resultMap则是对外部ResultMap的引用，但是resultType跟resultMap不能同时存在。<br>  </p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/eddfd2c2e9232b9c71d660d27ed0173b/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">jquery ajax post请求下载文件</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/19d38bca71fdf4a342e97b7f0cd85c8d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">多种动态绑定class和style</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>