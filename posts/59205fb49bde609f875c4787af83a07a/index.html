<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>AI Studio 永久性使用pytorch框架 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="AI Studio 永久性使用pytorch框架" />
<meta property="og:description" content="（亲测有效）
登录百度AI Studio创建项目
网址：百度 AI Studio
步骤
1.选择Notebook类型，然后下一步 2.我选择的AI Studio经典版；PaddlePaddle 选择2.0版本，点击下一步 3.项目名称、标签、描述自己根据需求设置；注：这里这个数据集选项—1.如果是自己的数据集，选择创建数据集，只需要把自己的数据集在电脑中压缩，然后以压缩包的形式上传即可。2.如果是使用他人的公开数据集直接添加数据集即可。 4.创建项目中的环境 4.1 上步骤创建完成以后，显示如下界面（下面这个界面是添加别人的数据集显示的界面） 4.2 下面是创建自己数据集显示的界面，我们会发现少了notebook编译界面以及启动环境选项等 如上图所示，再次点击创建项目，这里你会发现和第一次创建项目的界面一模一样。此时类型继续选择Notebook，PaddlePaddle 选择2.0版本，项目的名称简介再写一次，此时你刚才上传的自己的数据集是存在的，点击创建即可。
5. 上步骤创建完成后，生成的界面就如下所示 5.1 启动环境后界面如下： 6. 准备自己的程序以及数据集 在生成的Notebook的编译中就说了（如上图所示），work文件夹下的内容是永久保留的，所以我们把程序都放在work文件夹下。在此之前，我们需要只在在住文件夹下或者在work文件夹下把自己的程序压缩包上传，直接就有上传的功能，注意，程序中可以包含预训练的权值文件（也就是.pth文件）但是不能包含数据集，因为数据集在你创建项目时已经添加了，此时在你的工作环境中，有data文件夹下就是你的数据集。你要做的就是打包程序，解压缩程序到work文件夹下，然后将你的数据集也解压缩到你解压程序的文件对应的数据集的路径下即可。
解压缩的程序直接在Notebook下新添加一栏运行即可：
6.1 解压程序压缩包 #解压自己上传的程序压缩包，解压到work文件夹下，然后自己根据需要重命名 import zipfile f = zipfile.ZipFile(&#34;mobilenet-v4-torch-AI.zip&#34;,&#39;r&#39;) for file in f.namelist(): f.extract(file,&#34;work/&#34;)#将文件解压到当前文件夹下 f.close() 6.2 解压数据集到解压程序的路径下 #data111434/JPEGImages.zip这是自己的图片路径，自己选择;v4/VOCdevkit/VOC2007/是自己要解压缩的位置 !unzip /home/aistudio/data/data111434/JPEGImages.zip -d work/v4/VOCdevkit/VOC2007/ #data111434/Annotations.zip这是自己图片标注压缩包路径；v4/VOCdevkit/VOC2007/是自己要解压缩的位置 !unzip /home/aistudio/data/data111434/Annotations.zip -d work/v4/VOCdevkit/VOC2007/ 为了更直观，附上两张图片方便理解：
7. 配置环境 在配置环境之前，我们要在该网站下载Minianaconda：Miniconda3，至于下载的版本建议：Miniconda3-4.7.12.1-Linux-x86_64.sh。浏览器下载到本地，然后同样在AI Studio平台work文件夹下新建conda3文件夹（conda3是我自己建的文件夹，建议采取我这个），然后将本地下载的sh文件上传到新建的conda3文件夹下（在conda3文件夹下直接上传sh文件更方便）。接下来就是一连串的配置环境：如上图所示在终端输入：
#第一步 cd work/conda3 #第二步 #一直回车或者yes,直到输出如下的路径，然后在路径后输入 #第三步 bash Miniconda3-4.7.12.1-Linux-x86_64.sh #第三步 *conda3相当于把这个虚拟的软件找一个安装路径，work文件夹下，名称自取 #出现选择：选择yes ~/work/*conda3 #第四步 激活anaconda环境 source ~/work/*conda3/bin/activate或者source activate #第五步 在激活的anaconda环境中配置自己想要的环境：比如pytorch（name后为环境名，随便命名） conda create --name LYD python=3." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/59205fb49bde609f875c4787af83a07a/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-10-09T22:13:48+08:00" />
<meta property="article:modified_time" content="2021-10-09T22:13:48+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">AI Studio 永久性使用pytorch框架</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>（亲测有效）<br> <strong>登录百度AI Studio创建项目</strong><br> 网址：<a href="https://aistudio.baidu.com/aistudio/index" rel="nofollow">百度 AI Studio</a><br> <strong>步骤</strong></p> 
<h5><a id="1Notebook_4"></a>1.选择Notebook类型，然后下一步</h5> 
<p><img src="https://images2.imgbox.com/27/2e/3uGjfIg6_o.png" alt="在这里插入图片描述" width="600" height="500"></p> 
<h5><a id="2AI_StudioPaddlePaddle_20_6"></a>2.我选择的AI Studio经典版；PaddlePaddle 选择2.0版本，点击下一步</h5> 
<p><img src="https://images2.imgbox.com/38/fd/TKYcNXLq_o.png" alt="在这里插入图片描述" width="600" height="600"></p> 
<h5><a id="312_8"></a>3.项目名称、标签、描述自己根据需求设置；注：这里这个数据集选项—1.如果是自己的数据集，选择创建数据集，只需要把自己的数据集在电脑中压缩，然后以压缩包的形式上传即可。2.如果是使用他人的公开数据集直接添加数据集即可。</h5> 
<p><img src="https://images2.imgbox.com/49/0b/NrdUKKQj_o.png" alt="在这里插入图片描述" width="600" height="500"></p> 
<h5><a id="4_10"></a>4.创建项目中的环境</h5> 
<h6><a id="41__11"></a>4.1 上步骤创建完成以后，显示如下界面（下面这个界面是添加别人的数据集显示的界面）</h6> 
<p><img src="https://images2.imgbox.com/34/66/4sZLfg7T_o.png" alt="在这里插入图片描述"></p> 
<h6><a id="42_notebook_13"></a>4.2 下面是创建自己数据集显示的界面，我们会发现少了notebook编译界面以及启动环境选项等</h6> 
<p><img src="https://images2.imgbox.com/1d/f1/6gotbPHh_o.png" alt="在这里插入图片描述"><br> <strong>如上图所示，再次点击创建项目，这里你会发现和第一次创建项目的界面一模一样。此时类型继续选择Notebook，PaddlePaddle 选择2.0版本，项目的名称简介再写一次，此时你刚才上传的自己的数据集是存在的，点击创建即可。</strong><br> <img src="https://images2.imgbox.com/4b/a8/JBCDWe8N_o.png" alt="在这里插入图片描述" width="500" height="500"></p> 
<h5><a id="5__17"></a>5. 上步骤创建完成后，生成的界面就如下所示</h5> 
<p><img src="https://images2.imgbox.com/3e/28/Q6MklHQy_o.png" alt="在这里插入图片描述" width="800" height="600"></p> 
<h6><a id="51__19"></a>5.1 启动环境后界面如下：</h6> 
<p><img src="https://images2.imgbox.com/11/be/GkEesfyi_o.png" alt="在这里插入图片描述" width="800" height="700"></p> 
<h5><a id="6__21"></a>6. 准备自己的程序以及数据集</h5> 
<p>在生成的Notebook的编译中就说了（如上图所示），work文件夹下的内容是永久保留的，所以我们把程序都放在work文件夹下。在此之前，我们需要只在在住文件夹下或者在work文件夹下把自己的程序压缩包上传，直接就有上传的功能，注意，程序中可以包含预训练的权值文件（也就是.pth文件）但是不能包含数据集，因为数据集在你创建项目时已经添加了，此时在你的工作环境中，有data文件夹下就是你的数据集。你要做的就是打包程序，解压缩程序到work文件夹下，然后将你的数据集也解压缩到你解压程序的文件对应的数据集的路径下即可。<br> 解压缩的程序直接在Notebook下新添加一栏运行即可：</p> 
<h6><a id="61__24"></a>6.1 解压程序压缩包</h6> 
<pre><code class="prism language-python"><span class="token comment">#解压自己上传的程序压缩包，解压到work文件夹下，然后自己根据需要重命名</span>
<span class="token keyword">import</span> zipfile
f <span class="token operator">=</span> zipfile<span class="token punctuation">.</span>ZipFile<span class="token punctuation">(</span><span class="token string">"mobilenet-v4-torch-AI.zip"</span><span class="token punctuation">,</span><span class="token string">'r'</span><span class="token punctuation">)</span> 
<span class="token keyword">for</span> <span class="token builtin">file</span> <span class="token keyword">in</span> f<span class="token punctuation">.</span>namelist<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>   
    f<span class="token punctuation">.</span>extract<span class="token punctuation">(</span><span class="token builtin">file</span><span class="token punctuation">,</span><span class="token string">"work/"</span><span class="token punctuation">)</span><span class="token comment">#将文件解压到当前文件夹下            </span>
f<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<h6><a id="62__33"></a>6.2 解压数据集到解压程序的路径下</h6> 
<pre><code class="prism language-python"><span class="token comment">#data111434/JPEGImages.zip这是自己的图片路径，自己选择;v4/VOCdevkit/VOC2007/是自己要解压缩的位置</span>
!unzip <span class="token operator">/</span>home<span class="token operator">/</span>aistudio<span class="token operator">/</span>data<span class="token operator">/</span>data111434<span class="token operator">/</span>JPEGImages<span class="token punctuation">.</span><span class="token builtin">zip</span> <span class="token operator">-</span>d work<span class="token operator">/</span>v4<span class="token operator">/</span>VOCdevkit<span class="token operator">/</span>VOC2007<span class="token operator">/</span>
</code></pre> 
<pre><code class="prism language-python"><span class="token comment">#data111434/Annotations.zip这是自己图片标注压缩包路径；v4/VOCdevkit/VOC2007/是自己要解压缩的位置</span>
!unzip <span class="token operator">/</span>home<span class="token operator">/</span>aistudio<span class="token operator">/</span>data<span class="token operator">/</span>data111434<span class="token operator">/</span>Annotations<span class="token punctuation">.</span><span class="token builtin">zip</span> <span class="token operator">-</span>d work<span class="token operator">/</span>v4<span class="token operator">/</span>VOCdevkit<span class="token operator">/</span>VOC2007<span class="token operator">/</span>
</code></pre> 
<p><strong>为了更直观，附上两张图片方便理解：</strong><br> <img src="https://images2.imgbox.com/0e/bf/Ht9BaOww_o.png" alt="在这里插入图片描述" width="600" height="600"><br> <img src="https://images2.imgbox.com/3c/0d/QJJiks9O_o.png" alt="在这里插入图片描述" width="400" height="500"></p> 
<h5><a id="7__45"></a>7. 配置环境</h5> 
<p>在配置环境之前，我们要在该网站下载Minianaconda：<a href="https://repo.anaconda.com/miniconda/" rel="nofollow">Miniconda3</a>，至于下载的版本建议：Miniconda3-4.7.12.1-Linux-x86_64.sh。浏览器下载到本地，然后同样在AI Studio平台work文件夹下新建conda3文件夹（conda3是我自己建的文件夹，建议采取我这个），然后将本地下载的sh文件上传到新建的conda3文件夹下（在conda3文件夹下直接上传sh文件更方便）。接下来就是一连串的配置环境：如上图所示在终端输入：</p> 
<pre><code class="prism language-python"><span class="token comment">#第一步</span>
cd work<span class="token operator">/</span>conda3
</code></pre> 
<pre><code class="prism language-python"><span class="token comment">#第二步</span>
<span class="token comment">#一直回车或者yes,直到输出如下的路径，然后在路径后输入 #第三步</span>
bash Miniconda3<span class="token operator">-</span><span class="token number">4.7</span><span class="token number">.12</span><span class="token number">.1</span><span class="token operator">-</span>Linux<span class="token operator">-</span>x86_64<span class="token punctuation">.</span>sh
</code></pre> 
<pre><code class="prism language-python"><span class="token comment">#第三步 *conda3相当于把这个虚拟的软件找一个安装路径，work文件夹下，名称自取</span>
<span class="token comment">#出现选择：选择yes</span>
<span class="token operator">~</span><span class="token operator">/</span>work<span class="token operator">/</span><span class="token operator">*</span>conda3
</code></pre> 
<pre><code class="prism language-python"><span class="token comment">#第四步 激活anaconda环境</span>
source <span class="token operator">~</span><span class="token operator">/</span>work<span class="token operator">/</span><span class="token operator">*</span>conda3<span class="token operator">/</span><span class="token builtin">bin</span><span class="token operator">/</span>activate或者source activate
</code></pre> 
<pre><code class="prism language-python"><span class="token comment">#第五步 在激活的anaconda环境中配置自己想要的环境：比如pytorch（name后为环境名，随便命名）</span>
conda create <span class="token operator">-</span><span class="token operator">-</span>name LYD python<span class="token operator">=</span><span class="token number">3.7</span>
</code></pre> 
<pre><code class="prism language-python"><span class="token comment">#第六步 激活自己的环境</span>
source activate LYD
</code></pre> 
<pre><code class="prism language-python"><span class="token comment">#第七步 在自己的环境下安装pytorch环境，建议启动环境的时候选择免费cpu环境，另外就是cuda版本选择0.9版本</span>
<span class="token comment">#直接复制这段指令，安装即可（我一直在使用）：安装时系统可能会提示你在使用pytorch框架，就会强制中断。</span>
<span class="token comment">#中断也没关系，重新启动cpu免费环境，不用担心之前解压的程序和数据集清空，都在work文件夹下。</span>
<span class="token comment">#直接在终端激活anaconda环境：source ~/work/**conda3/bin/activate</span>
<span class="token comment">#然后激活自己的环境：source activate LYD</span>
<span class="token comment">#你就会发现这些都是配置好的，然后就是重现输入下面的指令（安装起来可能会比较慢，十分钟左右）</span>
pip install torch<span class="token operator">==</span><span class="token number">1.5</span><span class="token number">.0</span><span class="token operator">+</span>cu92 torchvision<span class="token operator">==</span><span class="token number">0.6</span><span class="token number">.0</span><span class="token operator">+</span>cu92 <span class="token operator">-</span>f https<span class="token punctuation">:</span><span class="token operator">//</span>download<span class="token punctuation">.</span>pytorch<span class="token punctuation">.</span>org<span class="token operator">/</span>whl<span class="token operator">/</span>torch_stable<span class="token punctuation">.</span>html
</code></pre> 
<pre><code class="prism language-python"><span class="token comment">#第八步 到这里如果成功了，就配置了永久的pytorch环境了</span>
<span class="token comment">#直接在终端运行自己的程序即可：比如：python work/v4/train.py</span>
<span class="token comment">#work/v4 这是train.py文件的路径</span>
<span class="token comment">#缺那个库，直接:pip install **</span>
</code></pre> 
<h5><a id="8__88"></a>8. 关于程序内的路径问题</h5> 
<p>因为你是在work文件夹下，所以数据集路径，预训练权重路径，以及分类文件的路径都要修改，如下图所示（根据自己的路径修改）：<br> <img src="https://images2.imgbox.com/2b/fb/G3zeXoJd_o.png" alt="在这里插入图片描述" width="500" height="300"></p> 
<h5><a id="9__91"></a>9. 每次启动项目，环境配置问题</h5> 
<p>每次启动自己的项目，只需要在终端输入：</p> 
<ul><li>1、激活anaconda环境：source ~/work/*conda3/bin/activate</li><li>2、激活自己的pytorch环境：source activate LYD</li><li>3、在终端运行自己的程序：比如：python train.py</li></ul> 
<p>永久的环境就配置好了，这个环境不会每次启动百度AI Studio就清除。但是存在一个问题就是在终端运行程序，平台可能会给你强制中断，我遇到过好多次，这个不妨碍，配置好的环境依然在。如果你在训练模型，只需要在终端重新输入刚才训练的指令即可（python work/v4/train.py），平台不会一直中断。至于有的伙伴想在notebook中直接运行pytorch的程序，这个目前是不行的，在notebook中，平台直接就会停止，反正就是不可以。最好的就是配置好环境在终端运行，输出的结果他会给你新建在主页面的文件夹中，当然自己创建输出文件的路径也是可以的。<br> （我在国庆节期间尝试搭建环境好多次，唯一这个方式成功了，而且每天我都在修改程序在运行，亲测有效，有问题可以私信我，尽可能帮助解决）</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/288232953483188e26a6ae532026be33/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">MySQL可视化工具HeidiSQL安装与使用</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/370b7b731ecaddf271c396638aa074ca/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">对抗样本生成算法-FGSM、I-FGSM、ILCM、PGD</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>