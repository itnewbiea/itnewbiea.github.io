<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>C语言文件fopen函数 fclose函数的使用 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="C语言文件fopen函数 fclose函数的使用" />
<meta property="og:description" content="文件目录 文件的打开和关闭操作流的函数三种不同的格式化输入输出函数解释标准流所有流字符 文件的打开和关闭 文件打开函数 fopen
FILE * fopen ( const char * filename, const char * mode ); 返回值：打开成功返回一个指向要打开文件的文件信息区的文件指针,打开失败返回NULL
传入参数：
1：要打开的文件名
引用文件名这里，可以使用相对路径和绝对路径
相对路径：
**.**表示当前文件所在路径
** . . **表示当前文件的上层路径
//当前路径的上层路径的hehe文件夹的test.txt文件 FILE* pf = fopen(&#34;./../hehe/test.txt&#34;,&#34;w&#34;); 绝对路径：
//test.txt所存在的绝对位置 FILE* pf = fopen(&#34;C:\\Users\\hui\\Desktop\\test.txt&#34;, &#34;w&#34;); 如果不加路径直接使用文件名打开，它的默认打开路径是当前源文件所在的位置
FILE* pf = fopen(&#34;test.txt&#34;, &#34;w&#34;); 2：打开的方式
文件关闭函数 fclose
这个函数是配合文件打开函数一起使用的，每当打开一个文件不再使用后就必须进行关闭操作
int fclose ( FILE * stream ); 返回值：
关闭成功返回0.失败返回EOF
传入参数：
关闭的文件指针
操作流的函数 从指定的流中读取一个字符，后标记指针自动向后移动一位，并返回对应的ASCii值，读取失败会返回EOF
字符输⼊函数 fgetc
int fgetc ( FILE * stream ); 字符输出函数 fputc" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/e1b7b0b2f579667faa42832846d1f2fc/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-10-03T12:20:33+08:00" />
<meta property="article:modified_time" content="2023-10-03T12:20:33+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">C语言文件fopen函数 fclose函数的使用</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文件目录</h4> 
 <ul><li><a href="#_1" rel="nofollow">文件的打开和关闭</a></li><li><a href="#_39" rel="nofollow">操作流的函数</a></li><li><a href="#_63" rel="nofollow">三种不同的格式化输入输出函数解释</a></li><li><ul><li><a href="#_64" rel="nofollow">标准流</a></li><li><a href="#_77" rel="nofollow">所有流</a></li><li><a href="#_91" rel="nofollow">字符</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="_1"></a>文件的打开和关闭</h2> 
<p>文件打开函数 fopen</p> 
<pre><code class="prism language-c">FILE <span class="token operator">*</span> <span class="token function">fopen</span> <span class="token punctuation">(</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span> filename<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span> mode <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>返回值：打开成功返回一个指向要打开文件的文件信息区的文件指针,打开失败返回NULL<br> 传入参数：<br> 1：要打开的文件名<br> 引用文件名这里，可以使用相对路径和绝对路径<br> 相对路径：<br> **.**表示当前文件所在路径<br> ** . . **表示当前文件的上层路径</p> 
<pre><code class="prism language-c"><span class="token comment">//当前路径的上层路径的hehe文件夹的test.txt文件</span>
FILE<span class="token operator">*</span> pf <span class="token operator">=</span> <span class="token function">fopen</span><span class="token punctuation">(</span><span class="token string">"./../hehe/test.txt"</span><span class="token punctuation">,</span><span class="token string">"w"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>绝对路径：</p> 
<pre><code class="prism language-c"><span class="token comment">//test.txt所存在的绝对位置</span>
FILE<span class="token operator">*</span> pf <span class="token operator">=</span> <span class="token function">fopen</span><span class="token punctuation">(</span><span class="token string">"C:\\Users\\hui\\Desktop\\test.txt"</span><span class="token punctuation">,</span> <span class="token string">"w"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>如果不加路径直接使用文件名打开，它的默认打开路径是当前源文件所在的位置</p> 
<pre><code class="prism language-c">FILE<span class="token operator">*</span> pf <span class="token operator">=</span> <span class="token function">fopen</span><span class="token punctuation">(</span><span class="token string">"test.txt"</span><span class="token punctuation">,</span> <span class="token string">"w"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>2：打开的方式<br> <img src="https://images2.imgbox.com/f9/8d/MYeAN7R5_o.jpg" alt="在这里插入图片描述"><img src="https://images2.imgbox.com/e8/25/rLHqd5bu_o.jpg" alt="在这里插入图片描述">文件关闭函数 fclose<br> 这个函数是配合文件打开函数一起使用的，每当打开一个文件不再使用后就<strong>必须进行关闭操作</strong></p> 
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">fclose</span> <span class="token punctuation">(</span> FILE <span class="token operator">*</span> stream <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>返回值：<br> 关闭成功返回0.失败返回EOF<br> 传入参数：<br> 关闭的文件指针</p> 
<h2><a id="_39"></a>操作流的函数</h2> 
<p>从指定的流中读取一个字符，后标记指针自动向后移动一位，并返回对应的ASCii值，读取失败会返回EOF<br> 字符输⼊函数 fgetc</p> 
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">fgetc</span> <span class="token punctuation">(</span> FILE <span class="token operator">*</span> stream <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>字符输出函数 fputc<br> 从指定的流中输出一个字符，写入错误返回EOF</p> 
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">fputc</span> <span class="token punctuation">(</span> <span class="token keyword">int</span> character<span class="token punctuation">,</span> FILE <span class="token operator">*</span> stream <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>⽂本⾏输⼊函数 fgets<br> 将从指定流读取到的字符串存储到 str 数组 中，直到读取 （num-1） 个字符或到达换行符或 文件末尾结束，读取失败会返回NULL</p> 
<pre><code class="prism language-c"><span class="token keyword">char</span> <span class="token operator">*</span> <span class="token function">fgets</span> <span class="token punctuation">(</span> <span class="token keyword">char</span> <span class="token operator">*</span> str<span class="token punctuation">,</span> <span class="token keyword">int</span> num<span class="token punctuation">,</span> FILE <span class="token operator">*</span> stream <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>⽂本⾏输出函数 fputs<br> 将要输出的数据通过str,输出到指定的流</p> 
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">fputs</span> <span class="token punctuation">(</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span> str<span class="token punctuation">,</span> FILE <span class="token operator">*</span> stream <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h2><a id="_63"></a>三种不同的格式化输入输出函数解释</h2> 
<h3><a id="_64"></a>标准流</h3> 
<p>scanf-针对标准输入流（stdin）的格式化输入函数</p> 
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">scanf</span> <span class="token punctuation">(</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span> format<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>printf-针对标准输出流（stdout）的格式化输出函数</p> 
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">printf</span> <span class="token punctuation">(</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span> format<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h3><a id="_77"></a>所有流</h3> 
<p>用法和标准的输入输出流差不多，只不过多了一个想要操作对应流的参数<br> fscanf-针对所有输入流的格式化输入函数</p> 
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">fscanf</span> <span class="token punctuation">(</span> FILE <span class="token operator">*</span> stream<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span> format<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>fprintf-针对所有输出流的格式化输出函数</p> 
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">fprintf</span> <span class="token punctuation">(</span> FILE <span class="token operator">*</span> stream<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span> format<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h3><a id="_91"></a>字符</h3> 
<p>用法和标准的输入输出流差不多，只不过多了一个想要操作字符串的参数<br> sscanf-从字符中读取格式化的数据</p> 
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">sscanf</span> <span class="token punctuation">(</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span> s<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span> format<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>sprintf-把格式化的数据转换成字符串</p> 
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">sprintf</span> <span class="token punctuation">(</span> <span class="token keyword">char</span> <span class="token operator">*</span> str<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span> format<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/4b8092eb4a9c7580e7872a019bd06571/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">python pygbag教程 —— 在网页上运行pygame程序（全网中文教程首发）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/45d145d2cdaac6df7b189647946d1195/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【读博感悟】关于读博期间科研训练的想法</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>