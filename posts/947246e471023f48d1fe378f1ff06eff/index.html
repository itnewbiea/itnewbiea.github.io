<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Gradio使用介绍 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Gradio使用介绍" />
<meta property="og:description" content="与他人分享你的机器学习模型、API或数据科学工作流的最佳方式之一，就是创建一个交互式应用程序，让用户或同事可以在他们的浏览器中尝试演示,Gradio是创建提供了用非常方便的方式快速创建一个前端交互应用，那如何使用Gradio呢？因为用Gradio创建的所有前端交互应用，所以，需要按照Python环境，安装后可以下载VSCode作为IDE工具，环境安装后，pip install gradio后即可开始用gradio框架快速搭建一个前端应用。 下图是一个用gradio搭建的包含name，password等输入信息的前端应用，这里使用了gradio提供的Interface方法，Interface 是 Gradio 的主要高级类，它允许你在几行代码中围绕机器学习模型（或任何 Python 函数）创建一个基于 Web 的图形用户界面（GUI）/ 演示。你需要指定三个参数：（1）要为之创建 GUI 的函数，（2）所需的输入组件，以及（3）所需的输出组件。还可以使用其他参数来控制演示的外观和行为。使用gradio.Interface class的使用格式如下所示：
gradio.Interface(fn, inputs, outputs, ···) import gradio as gr def generate_human_message(username, password, sex, age): human = {} human[&#34;name&#34;] = username human[&#34;password &#34;] = password human[&#34;sex&#34;] = &#34;man&#34; if sex == &#34;Male&#34; else &#34;woman&#34; human[&#34;age&#34;] = age return list(human.values()) demo1 = gr.Interface(fn=generate_human_message, inputs=[ &#34;text&#34;, &#34;text&#34;, gr.Radio([&#34;Male&#34;, &#34;Female&#34;], label=&#34;sex&#34;, info=&#34;choose sex&#34;), gr.Slider(1, 100, value=20, label=&#34;age&#34;, info=&#34;show age&#34;)], outputs=&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/947246e471023f48d1fe378f1ff06eff/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-08-30T17:35:12+08:00" />
<meta property="article:modified_time" content="2023-08-30T17:35:12+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Gradio使用介绍</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>  与他人分享你的机器学习模型、API或数据科学工作流的最佳方式之一，就是创建一个交互式应用程序，让用户或同事可以在他们的浏览器中尝试演示,Gradio是创建提供了用非常方便的方式快速创建一个前端交互应用，那如何使用Gradio呢？因为用Gradio创建的所有前端交互应用，所以，需要按照Python环境，安装后可以下载VSCode作为IDE工具，环境安装后，pip install gradio后即可开始用gradio框架快速搭建一个前端应用。  </p> 
<p>  下图是一个用gradio搭建的包含name，password等输入信息的前端应用，这里使用了gradio提供的Interface方法，Interface 是 Gradio 的主要高级类，它允许你在几行代码中围绕机器学习模型（或任何 Python 函数）创建一个基于 Web 的图形用户界面（GUI）/ 演示。你需要指定三个参数：（1）要为之创建 GUI 的函数，（2）所需的输入组件，以及（3）所需的输出组件。还可以使用其他参数来控制演示的外观和行为。使用gradio.Interface class的使用格式如下所示：</p> 
<pre><code>gradio.Interface(fn, inputs, outputs, ···)</code></pre> 
<pre><code class="language-python">import gradio as gr

def generate_human_message(username, password, sex, age):
    human = {}
    human["name"] = username
    human["password "] = password
    human["sex"] = "man" if sex == "Male" else "woman"
    human["age"] = age
    return list(human.values())

demo1 = gr.Interface(fn=generate_human_message, inputs=[
    "text", "text", gr.Radio(["Male", "Female"], label="sex", info="choose sex"), gr.Slider(1, 100, value=20, label="age", info="show age")], outputs="text")
demo1.launch()</code></pre> 
<p>  最后一行代码是demo1.launch(),这样运行代码后，默认在7860端口启动应用，应用启动的截图如下所示，输入相关信息，提交Submit button，执行就是generate_human_message这个function。</p> 
<p><img alt="" height="888" src="https://images2.imgbox.com/16/3e/N8va2Yk6_o.png" width="1200"></p> 
<p>  inputs里面放入需要在前端显示的coponent，这些component可以是text类型的input，也可以是Radio,Slider等，这些component负责接收用户的输入，输入的内容传入function，作为function的参数，这里，outputs也是一个text类型的input，function返回的内容，默认显示在outputs的component上。Clear，Submit，Flag button是Interface这个class默认自带的。</p> 
<p>  实际，Gradio除了支持上面的component外，还支持CheckBox，DropDownList等component。如下图所示，这里定义了TextBox，CheckBox，Radio，Dropdown，Slider五种类型的component，在定义每个component时，可以给该component制定label名称，对于TextBox还可以制定type类型，type类型包括text，password，email。</p> 
<p><img alt="" height="1162" src="https://images2.imgbox.com/84/9a/r3OE9bsB_o.png" width="1200"></p> 
<p>  运行这个代码，应用启动后入下图所示：可以看到可以选择下拉列表信息等，也可以选择多选框和单选框等。</p> 
<p><img alt="" height="260" src="https://images2.imgbox.com/60/12/mW01Tv4q_o.png" width="611"></p> 
<p>  除了通过Interface在快速编写一个用于前端交互的应用，还可以使用Blocks，Blocks 是 Gradio 的低级 API，它允许你创建比 Interface 更自定义的 Web 应用程序和演示，而这些都是完全使用 Python 实现的。与 Interface 类相比，Blocks 在以下方面提供了更多的灵活性和控制：（1）组件布局，（2）触发函数执行的事件，（3）数据流（例如，输入可以触发输出，而输出可以触发下一层输出）。Blocks 还提供了将相关演示组合在一起的方式，例如使用选项卡。</p> 
<pre><code class="language-python">import gradio as gr

def return_result(name, password):
    return f""" my name is {name}, my password is {password}"""

with gr.Blocks(css=".gradio-container {background-color: white}") as demo:
    gr.Markdown("Here is a block demo")
    with gr.Row():
        usernameText = gr.Textbox(label="email", type="email")
        passwordText = gr.Textbox(label="password", type="password")
        number = gr.Number(label="number")
        out = gr.TextArea(label="out", line=5)
    button = gr.Button(label="Submit")
    button.click(fn=return_result, inputs=[
                 usernameText, passwordText], outputs=out)
    demo.launch()</code></pre> 
<p>  gr.Blocks()以with开头，通过with gr.Row()和with gr.column()可以自定义布局。上面的应用启动后显示如下图所示，可以看到除了布局外，还可以对component的样式进行处理，比如设置颜色等。</p> 
<p><img alt="" height="640" src="https://images2.imgbox.com/18/1d/YJQRLTov_o.png" width="1200"></p> 
<p>  除了在component中添加css样式外，还可以把css相关内容放到统一的地方，component引用已有的样式即可，具体代码如下所示，在css中，#表示element Id，.表示element class.</p> 
<pre><code class="language-python">import gradio as gr
css = """
#warning {background-color: #FFCCCB}
.feedback textarea {font-size: 24px !important}
"""

with gr.Blocks(css=css) as demo:
    with gr.Row():
        with gr.Column(scale=1):
            gr.Textbox(label="name", elem_id="warning")
            gr.Textbox(label="age", elem_classes="feedback")
        with gr.Column(scale=2):
            gr.Dropdown(["one", "two", "tree"], label="class")
            gr.CheckboxGroup(["male", "female"], label="sex")
        with gr.Column(scale=1):
            gr.Radio(["is_girl"], label="is_girl")
            gr.Slider(1, 100, 20)
    with gr.Row():
        gr.Button(value="Submit")
        gr.Button(value="Clear")
demo.launch()
</code></pre> 
<p>  应用启动后的界面入下图所示，可以看到，通过Blocks()可以更加自由的进行页面布局。</p> 
<p><img alt="" height="540" src="https://images2.imgbox.com/9f/31/ENFfE9il_o.png" width="1200"></p> 
<p>   除了上面使用到的component，Gradio还提供很多其他Component，包括一些用于显示数据的图表等，详细信息可参见<a class="link-info" href="https://www.gradio.app/docs/components" rel="nofollow" title="官网">官网</a>。</p> 
<p>   除了基本功能外，Gradio还提供很多其他功能，例如gr.TabbedInterface()可以将多个页面进行组合，前面的例子中，删除掉demo.launch()方法，引入demo1，demo2，使用gr.TabbedInterface（）方法就可以对多个UI tab进行整合。</p> 
<pre><code class="language-python">from interface_demo import demo1
from component_demo import demo2
import gradio as gr

app = gr.TabbedInterface([demo1, demo2], ["First", "Second"])
app.launch()</code></pre> 
<p>   如果应用的并发流量很大，gradio还提供排队处理机制,在demo.queue()中可以指定并发处理数量，例如</p> 
<pre><code>demo.queue(concurrency_count=3)</code></pre> 
<pre><code class="language-python">with gr.Blocks() as demo:
    #...
demo.queue()
demo.launch()</code></pre> 
<p>以上就是Gradio提供的常用功能，更多信息可以查看<a class="link-info" href="https://www.gradio.app/docs/interface" rel="nofollow" title="官网">官网</a>进行熟悉使用。</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/9eaa0b5808fb8f296423668a466cc3a0/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">学习笔记230810--vue项目中get请求的两种传参方式</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/0e45ba2d1e93baa9e78075e82bee9163/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">c&#43;&#43;结构体可以直接进行赋值吗</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>