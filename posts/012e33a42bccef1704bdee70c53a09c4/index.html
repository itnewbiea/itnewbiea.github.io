<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>华为欧拉安装部署：Oracle11g - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="华为欧拉安装部署：Oracle11g" />
<meta property="og:description" content="一、环境准备 1、下载安装低版本的libaio包；libaio版本太高，会造成编译错误 查看libaio1库版本不能大于0.3.109
[oracle@s3 install]$ rpm -qa libaio libaio-0.3.110-12.el8.x86_64 # 查看欧拉操作系统版本 [oracle@localhost bin]$ cat /etc/os-release NAME=&#34;openEuler&#34; VERSION=&#34;22.03 (LTS-SP1)&#34; ID=&#34;openEuler&#34; VERSION_ID=&#34;22.03&#34; PRETTY_NAME=&#34;openEuler 22.03 (LTS-SP1)&#34; ANSI_COLOR=&#34;0;31&#34; # 下载 wget http://mirrors.ustc.edu.cn/centos/7.9.2009/os/x86_64/Packages/libaio-0.3.109-13.el7.x86_64.rpm # 备份原来的libaio.so.1 mv /usr/lib64/libaio.so.1.0.1 /usr/lib64/libaio.so.1.0.120240103 # 解压 rpm2cpio libaio-0.3.109-13.el7.x86_64.rpm |cpio -idmv # 把解压后的文件拷贝到/usr/lib64下 cp -r /root/lib64/libaio.so.1 /usr/lib64 mv /root/lib64/libaio.so.1.0.1 /usr/lib64 2、修改系统时间 [root@localhost ~]# date -s “2022-05-09 09:11:40” [root@localhost ~]# hwclock -w 3、修改host，绑定主机名 修改 vim /etc/hosts文件
[root@localhost ~]# hostname localhost.localdomain [root@localhost ~]# vim /etc/hosts 192." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/012e33a42bccef1704bdee70c53a09c4/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-05T11:01:06+08:00" />
<meta property="article:modified_time" content="2024-01-05T11:01:06+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">华为欧拉安装部署：Oracle11g</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <table><tbody><tr><td bgcolor="#C0FF3E"><font size="6" face="楷体">一、环境准备</font></td></tr></tbody></table> 
<h3><a id="font_size6_color921sdd_face_1libaiolibaiofont_2"></a><font size="6" color="#921sdd" face="楷体"> 1、下载安装低版本的libaio包；libaio版本太高，会造成编译错误</font></h3> 
<p><mark>查看libaio1库版本不能大于0.3.109</mark></p> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>oracle@s3 install<span class="token punctuation">]</span>$ <span class="token function">rpm</span> <span class="token parameter variable">-qa</span> libaio
libaio-0.3.110-12.el8.x86_64

<span class="token comment"># 查看欧拉操作系统版本</span>
<span class="token punctuation">[</span>oracle@localhost bin<span class="token punctuation">]</span>$ <span class="token function">cat</span> /etc/os-release
<span class="token assign-left variable">NAME</span><span class="token operator">=</span><span class="token string">"openEuler"</span>
<span class="token assign-left variable">VERSION</span><span class="token operator">=</span><span class="token string">"22.03 (LTS-SP1)"</span>
<span class="token assign-left variable">ID</span><span class="token operator">=</span><span class="token string">"openEuler"</span>
<span class="token assign-left variable">VERSION_ID</span><span class="token operator">=</span><span class="token string">"22.03"</span>
<span class="token assign-left variable">PRETTY_NAME</span><span class="token operator">=</span><span class="token string">"openEuler 22.03 (LTS-SP1)"</span>
<span class="token assign-left variable">ANSI_COLOR</span><span class="token operator">=</span><span class="token string">"0;31"</span>
</code></pre> 
<pre><code class="prism language-bash"><span class="token comment"># 下载</span>
<span class="token function">wget</span> http://mirrors.ustc.edu.cn/centos/7.9.2009/os/x86_64/Packages/libaio-0.3.109-13.el7.x86_64.rpm

<span class="token comment"># 备份原来的libaio.so.1</span>
<span class="token function">mv</span> /usr/lib64/libaio.so.1.0.1 /usr/lib64/libaio.so.1.0.120240103

<span class="token comment"># 解压</span>
rpm2cpio libaio-0.3.109-13.el7.x86_64.rpm <span class="token operator">|</span>cpio <span class="token parameter variable">-idmv</span>

<span class="token comment"># 把解压后的文件拷贝到/usr/lib64下</span>
<span class="token function">cp</span> <span class="token parameter variable">-r</span> /root/lib64/libaio.so.1 /usr/lib64
<span class="token function">mv</span> /root/lib64/libaio.so.1.0.1 /usr/lib64
</code></pre> 
<h3><a id="font_size6_color921sdd_face_2font_34"></a><font size="6" color="#921sdd" face="楷体"> 2、修改系统时间</font></h3> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># date -s “2022-05-09 09:11:40”</span>

<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># hwclock -w</span>
</code></pre> 
<h3><a id="font_size6_color921sdd_face_3hostfont_41"></a><font size="6" color="#921sdd" face="楷体"> 3、修改host，绑定主机名</font></h3> 
<p>修改 vim /etc/hosts文件</p> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># hostname</span>
localhost.localdomain
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># vim /etc/hosts</span>
<span class="token number">192.168</span>.9.138    localhost.localdomain
</code></pre> 
<h3><a id="font_size6_color921sdd_face_4selinuxSELINUX_enforcing_SELINUXdisabledfont_50"></a><font size="6" color="#921sdd" face="楷体"> 4、关闭selinux，设置SELINUX= enforcing 为SELINUX=disabled</font></h3> 
<pre><code class="prism language-bash">setenforce <span class="token number">0</span>
<span class="token function">vim</span> /etc/selinux/config
命令方式：
	<span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">'s/SELINUX=enforcing/SELINUX=disabled/g'</span> /etc/selinux/config
</code></pre> 
<h3><a id="font_size6_color921sdd_face_5font_59"></a><font size="6" color="#921sdd" face="楷体"> 5、关闭防火墙</font></h3> 
<pre><code class="prism language-bash">systemctl stop firewalld
systemctl disable firewalld
</code></pre> 
<table><tbody><tr><td bgcolor="#C0FF3E"><font size="6" face="楷体">二、安装配置</font></td></tr></tbody></table> 
<h3><a id="font_size6_color921sdd_face_21font_67"></a><font size="6" color="#921sdd" face="楷体"> 2.1、安装依赖</font></h3> 
<pre><code class="prism language-bash">在线安装
yum <span class="token function">install</span> <span class="token parameter variable">-y</span> binutils compat-libcap1 compat-libstdc++-33 gcc gcc-c++ glibc glibc-devel ksh libaio libaio-devel libgcc libstdc++ libstdc++-devel libXi libXtst <span class="token function">make</span> sysstat elfutils-libelf-devel unixODBC unixODBC-devel numactl-devel elfutils-libelf-devel-static pcre-devel

离线安装：先找台公网机器下载
yum <span class="token parameter variable">-y</span> <span class="token function">install</span> binutils compat-libcap1 compat-libstdc++-33 gcc gcc-c++ glibc glibc-devel ksh libaio libaio-devel libgcc libstdc++ libstdc++-devel libXi libXtst <span class="token function">make</span> sysstat elfutils-libelf-devel unixODBC unixODBC-devel numactl-devel elfutils-libelf-devel-static pcre-devel <span class="token parameter variable">--downloadonly</span> <span class="token parameter variable">--downloaddir</span> /root/rpm
</code></pre> 
<h3><a id="font_size6_color921sdd_face_22oinstall_dba_oracleoinstalldbafont_77"></a><font size="6" color="#921sdd" face="楷体"> 2.2、添加oinstall 、dba 组，新建oracle用户并加入oinstall、dba组中</font></h3> 
<pre><code class="prism language-bash"><span class="token function">groupadd</span> oinstall
<span class="token function">groupadd</span> dba
<span class="token function">useradd</span> <span class="token parameter variable">-g</span> oinstall <span class="token parameter variable">-G</span> dba oracle
<span class="token function">passwd</span> oracle
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># id oracle</span>
</code></pre> 
<h3><a id="font_size6_color921sdd_face_23font_87"></a><font size="6" color="#921sdd" face="楷体"> 2.3、修改内核参数</font></h3> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>root@localhost db<span class="token punctuation">]</span><span class="token comment"># vim /etc/sysctl.conf</span>

（在文件末尾添加）内容如下：

fs.aio-max-nr <span class="token operator">=</span> <span class="token number">1048576</span>
fs.file-max <span class="token operator">=</span> <span class="token number">6815744</span>
kernel.shmall <span class="token operator">=</span> <span class="token number">2097152</span>
kernel.shmmax <span class="token operator">=</span> <span class="token number">536870912</span>
kernel.shmmni <span class="token operator">=</span> <span class="token number">4096</span>
kernel.sem <span class="token operator">=</span> <span class="token number">250</span> <span class="token number">32000</span> <span class="token number">100</span> <span class="token number">128</span>
net.ipv4.ip_local_port_range <span class="token operator">=</span> <span class="token number">9000</span> <span class="token number">65500</span>
net.core.rmem_default <span class="token operator">=</span> <span class="token number">262144</span>
net.core.rmem_max <span class="token operator">=</span> <span class="token number">4194304</span>
net.core.wmem_default <span class="token operator">=</span> <span class="token number">262144</span>
net.core.wmem_max <span class="token operator">=</span> <span class="token number">1048576</span>

让参数生效： 
/sbin/sysctl <span class="token parameter variable">-p</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/d3/fe/RVf22cHl_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="font_size6_color921sdd_face_24Oraclefont_112"></a><font size="6" color="#921sdd" face="楷体"> 2.4、配置Oracle用户参数</font></h3> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>root@localhost /<span class="token punctuation">]</span><span class="token comment"># vim /etc/security/limits.conf</span>

（在文件末尾添加）内容如下：
oracle soft nproc <span class="token number">2047</span>
oracle hard nproc <span class="token number">16384</span>
oracle soft nofile <span class="token number">1024</span>
oracle hard nofile <span class="token number">65536</span>
oracle soft stack <span class="token number">10240</span>
</code></pre> 
<h3><a id="font_size6_color921sdd_face_25etcpamdlogin_font_124"></a><font size="6" color="#921sdd" face="楷体"> 2.5、修改/etc/pam.d/login 文件</font></h3> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># vim /etc/pam.d/login</span>

（在文件末尾添加）内容如下：
session  required   /lib64/security/pam_limits.so
session  required   pam_limits.so
</code></pre> 
<h3><a id="font_size6_color921sdd_face26etcprofile_font_134"></a><font size="6" color="#921sdd" face="楷体">2.6、修改/etc/profile 文件</font></h3> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># vim /etc/profile</span>
在如下位置添加：
……
<span class="token builtin class-name">unset</span> i
<span class="token builtin class-name">unset</span> <span class="token parameter variable">-f</span> pathmunge

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token environment constant">$USER</span> <span class="token operator">=</span> <span class="token string">"oracle"</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>

    <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token environment constant">$SHELL</span> <span class="token operator">=</span> <span class="token string">"/bin/ksh"</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>

        <span class="token builtin class-name">ulimit</span> <span class="token parameter variable">-p</span> <span class="token number">16384</span>

        <span class="token builtin class-name">ulimit</span> <span class="token parameter variable">-n</span> <span class="token number">65536</span>

    <span class="token keyword">else</span>

        <span class="token builtin class-name">ulimit</span> <span class="token parameter variable">-u</span> <span class="token number">16384</span> <span class="token parameter variable">-n</span> <span class="token number">65536</span>

    <span class="token keyword">fi</span>

<span class="token keyword">fi</span>
</code></pre> 
<h6><a id="_159"></a><mark>使之生效：</mark></h6> 
<pre><code class="prism language-bash"><span class="token builtin class-name">source</span> /etc/profile
</code></pre> 
<p><img src="https://images2.imgbox.com/10/19/3cUnuy02_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="font_size6_color921sdd_face27appetcfont_166"></a><font size="6" color="#921sdd" face="楷体">2.7、创建安装目录app&amp;&amp;静默安装目录etc</font></h3> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>root@localhost home<span class="token punctuation">]</span><span class="token comment"># mkdir -p /apps/oracle/app/</span>
<span class="token punctuation">[</span>root@localhost home<span class="token punctuation">]</span><span class="token comment"># mkdir -p /apps/oracle/etc/</span>
<span class="token punctuation">[</span>root@localhost home<span class="token punctuation">]</span><span class="token comment"># chown -R oracle:oinstall /apps/oracle</span>
<span class="token punctuation">[</span>root@localhost home<span class="token punctuation">]</span><span class="token comment"># chmod 775 /apps/oracle</span>
</code></pre> 
<h3><a id="font_size6_color921sdd_face28oracleappsoracleappdatabasefont_175"></a><font size="6" color="#921sdd" face="楷体">2.8、上传oracle安装包到：/apps/oracle/app/下，并解压，会生成一个database目录</font></h3> 
<pre><code class="prism language-bash"><span class="token function">unzip</span> p13390677_112040_Linux-x86-64_1of7.zip
<span class="token function">unzip</span> p13390677_112040_Linux-x86-64_2of7.zip
</code></pre> 
<p><mark>拷贝/apps/oracle/app/database/response的.rsp文件到/apps/oracle/etc/目录下</mark></p> 
<h3><a id="font_size6_color921sdd_face29font_183"></a><font size="6" color="#921sdd" face="楷体">2.9、添加环境变量</font></h3> 
<pre><code class="prism language-bash"><span class="token comment"># 切换oracle用户</span>
<span class="token function">su</span>  oracle

编辑环境变量，并生效
<span class="token punctuation">[</span>oracle@localhost ~<span class="token punctuation">]</span>$ <span class="token function">vim</span> /home/oracle/.bash_profile
<span class="token punctuation">[</span>oracle@localhost ~<span class="token punctuation">]</span>$ <span class="token builtin class-name">source</span> .bash_profile

内容如下：
<span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token environment constant">$PATH</span><span class="token builtin class-name">:</span><span class="token environment constant">$HOME</span>/.local/bin:<span class="token environment constant">$HOME</span>/bin
<span class="token comment"># oracle安装目录</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">ORACLE_BASE</span><span class="token operator">=</span>/apps/oracle/app
<span class="token builtin class-name">export</span> <span class="token assign-left variable">ORACLE_HOME</span><span class="token operator">=</span><span class="token variable">$ORACLE_BASE</span>/product/11.2.0
<span class="token comment"># oracle实例SID名称</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">ORACLE_SID</span><span class="token operator">=</span>xwtechdb
<span class="token comment"># 同SID</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">ORACLE_TERM</span><span class="token operator">=</span>xwtechdb
<span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token variable">$ORACLE_HOME</span>/bin:/usr/sbin:<span class="token environment constant">$PATH</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">LD_LIBRARY_PATH</span><span class="token operator">=</span><span class="token variable">$ORACLE_HOME</span>/lib:/lib:/usr/lib
<span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">LANG</span></span><span class="token operator">=</span>C
<span class="token builtin class-name">export</span> <span class="token assign-left variable">NLS_LANG</span><span class="token operator">=</span>AMERICAN_AMERICA.AL32UTF8
<span class="token comment"># 同SID</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">ORACLE_UNQNAME</span><span class="token operator">=</span>xwtechdb
<span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token variable">$ORACLE_HOME</span>/bin:<span class="token environment constant">$PATH</span>
<span class="token builtin class-name">export</span> <span class="token environment constant">PATH</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">SQLPATH</span><span class="token operator">=</span>/apps/oracle/labs
</code></pre> 
<table><tbody><tr><td bgcolor="#C0FF3E"><font size="6" face="楷体">三、部署</font></td></tr></tbody></table> 
<h3><a id="font_size6_color921sdd_face31appsoracleetcdb_installrspfont_215"></a><font size="6" color="#921sdd" face="楷体">3.1、编辑/apps/oracle/etc/目录下db_install.rsp（根据实际编写）</font></h3> 
<pre><code class="prism language-bash"><span class="token assign-left variable">oracle.install.responseFileVersion</span><span class="token operator">=</span>/oracle/install/rspfmt_dbinstall_response_schema_v11_2_0
<span class="token assign-left variable">oracle.install.option</span><span class="token operator">=</span>INSTALL_DB_SWONLY
<span class="token assign-left variable">ORACLE_HOSTNAME</span><span class="token operator">=</span>localhost
<span class="token assign-left variable">UNIX_GROUP_NAME</span><span class="token operator">=</span>oinstall
<span class="token assign-left variable">INVENTORY_LOCATION</span><span class="token operator">=</span>/apps/oracle/app/oraInventory
<span class="token assign-left variable">SELECTED_LANGUAGES</span><span class="token operator">=</span>en,zh_CN,zh_TW
<span class="token assign-left variable">ORACLE_HOME</span><span class="token operator">=</span>/apps/oracle/app/product/11.2.0
<span class="token assign-left variable">ORACLE_BASE</span><span class="token operator">=</span>/apps/oracle/app
<span class="token assign-left variable">oracle.install.db.InstallEdition</span><span class="token operator">=</span>EE
<span class="token assign-left variable">oracle.install.db.EEOptionsSelection</span><span class="token operator">=</span>false
<span class="token assign-left variable">oracle.install.db.DBA_GROUP</span><span class="token operator">=</span>dba
<span class="token assign-left variable">oracle.install.db.OPER_GROUP</span><span class="token operator">=</span>oinstall
<span class="token assign-left variable">oracle.install.db.config.starterdb.characterSet</span><span class="token operator">=</span>AL32UTF8
<span class="token assign-left variable">oracle.install.db.config.starterdb.memoryOption</span><span class="token operator">=</span>true
<span class="token assign-left variable">oracle.install.db.config.starterdb.memoryLimit</span><span class="token operator">=</span>
<span class="token assign-left variable">oracle.install.db.config.starterdb.installExampleSchemas</span><span class="token operator">=</span>false
<span class="token assign-left variable">oracle.install.db.config.starterdb.enableSecuritySettings</span><span class="token operator">=</span>true
<span class="token assign-left variable">DECLINE_SECURITY_UPDATES</span><span class="token operator">=</span>true
</code></pre> 
<h3><a id="font_size6_color921sdd_face32font_238"></a><font size="6" color="#921sdd" face="楷体">3.2、安装数据库</font></h3> 
<p>3.2.1、在路径：/apps/oracle/app/database下执行命令</p> 
<pre><code class="prism language-bash">./runInstaller <span class="token parameter variable">-silent</span> <span class="token parameter variable">-force</span> <span class="token parameter variable">-responseFile</span> /apps/oracle/etc/db_install.rsp <span class="token parameter variable">-ignorePrereq</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/7a/24/xLnI6kwr_o.png" alt="在这里插入图片描述"><br> 3.2.2、切换root用户，执行root.sh</p> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>root@localhost database<span class="token punctuation">]</span>$ <span class="token function">sh</span> /apps/oracle/app/product/11.2.0/root.sh
</code></pre> 
<h3><a id="font_size6_color921sdd_face33font_250"></a><font size="6" color="#921sdd" face="楷体">3.3、配置监听文件，并执行安装</font></h3> 
<p>3.3.1、编辑/apps/oracle/etc/目录下netca.rsp</p> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>oracle@localhost database<span class="token punctuation">]</span>$ <span class="token function">vim</span> /apps/oracle/etc/netca.rsp

（文件末尾添加）
Parsing <span class="token builtin class-name">command</span> line arguments:
Parameter <span class="token string">"silent"</span> <span class="token operator">=</span> <span class="token boolean">true</span>
Parameter <span class="token string">"responsefile"</span> <span class="token operator">=</span> /apps/oracle/etc/netca.rsp
Done parsing <span class="token builtin class-name">command</span> line arguments.
Oracle Net Services Configuration:
Profile configuration complete.
Oracle Net Listener Startup:
Running Listener Control:
/apps/oracle/app/product/11.2.0/bin/lsnrctl start LISTENER  <span class="token comment"># 实际安装目录</span>
Listener Control complete.
Listener started successfully.
Listener configuration complete.
Oracle Net Services configuration successful. The <span class="token builtin class-name">exit</span> code is <span class="token number">0</span>
</code></pre> 
<p>3.3.2、安装：</p> 
<pre><code class="prism language-bash"><span class="token builtin class-name">cd</span> /apps/oracle/app/product/11.2.0/bin
netca /silent /responsefile /apps/oracle/etc/netca.rsp
</code></pre> 
<p><img src="https://images2.imgbox.com/1e/2c/9HxVGwmJ_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="font_size6_color921sdd_face34font_278"></a><font size="6" color="#921sdd" face="楷体">3.4、启动监听</font></h3> 
<p><mark>先查看lsnrctl文件大小是否为0，如果为0，考虑lib64.so.1文件是否安装低版本</mark></p> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>oracle@localhost bin<span class="token punctuation">]</span>$ <span class="token function">ls</span> <span class="token parameter variable">-l</span> lsnrctl
-rwxr-x--x <span class="token number">1</span> oracle oinstall <span class="token number">158440</span> Jan  <span class="token number">3</span> <span class="token number">13</span>:53 lsnrctl
<span class="token punctuation">[</span>oracle@localhost bin<span class="token punctuation">]</span>$

<span class="token comment"># 启动监听</span>
<span class="token punctuation">[</span>oracle@localhost bin<span class="token punctuation">]</span>$ lsnrctl start

LSNRCTL <span class="token keyword">for</span> Linux: Version <span class="token number">11.2</span>.0.4.0 - Production on 03-JAN-2024 <span class="token number">14</span>:15:03

Copyright <span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token number">1991</span>, <span class="token number">2013</span>, Oracle.  All rights reserved.

TNS-01106: Listener using listener name LISTENER has already been started
</code></pre> 
<p><img src="https://images2.imgbox.com/17/5c/JpGlKKF9_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="font_size6_color921sdd_face35font_295"></a><font size="6" color="#921sdd" face="楷体">3.5、静默建库</font></h3> 
<p>3.5.1、编辑文件：vim /apps/oracle/etc/dbca.rsp</p> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>GENERAL<span class="token punctuation">]</span>                                                                                                                                                                                                              
RESPONSEFILE_VERSION <span class="token operator">=</span> <span class="token string">"11.2.0"</span>                                                                                                                                                                                                                                             
OPERATION_TYPE <span class="token operator">=</span> <span class="token string">"createDatabase"</span>                                                                                                                                                                                                                                           
<span class="token punctuation">[</span>CREATEDATABASE<span class="token punctuation">]</span>                                                                                                                                                                                                                   
GDBNAME <span class="token operator">=</span> <span class="token string">"xwtechdb"</span>         <span class="token comment">#数据库的名字,与环境变量配置保持一致                                                                                                                                                                                                                                          </span>
SID <span class="token operator">=</span> <span class="token string">"xwtechdb"</span>             <span class="token comment">#对应的实例名字,与环境变量配置保持一致                                                                                                                                                                                                                                                    </span>
SYSPASSWORD <span class="token operator">=</span> <span class="token string">"sysdba"</span>         <span class="token comment">#SYS管理员密码                                                                                                                                                                                                                                             </span>
SYSTEMPASSWORD <span class="token operator">=</span> <span class="token string">"sysdba"</span>     <span class="token comment">#SYSTEM管理员密码                                                                                                                                                                                                                                              </span>
SYSMANPASSWORD <span class="token operator">=</span> <span class="token string">"sysdba"</span>                                                                                                                                                                                                                                                   
DBSNMPPASSWORD <span class="token operator">=</span> <span class="token string">"sysdba"</span>                                                                                                                                                                                                                                                                                                                                                                                                                                               
CHARACTERSET <span class="token operator">=</span> <span class="token string">"ZHS16GBK"</span>   
</code></pre> 
<p>3.5.2、执行建库命令：</p> 
<pre><code class="prism language-bash"><span class="token builtin class-name">cd</span> /apps/oracle/app/product/11.2.0/bin
dbca <span class="token parameter variable">-silent</span> <span class="token parameter variable">-responseFile</span> /apps/oracle/etc/dbca.rsp
</code></pre> 
<p><img src="https://images2.imgbox.com/b9/f3/RXGnmSrP_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="font_size6_color921sdd_face36font_317"></a><font size="6" color="#921sdd" face="楷体">3.6、启动</font></h3> 
<pre><code class="prism language-bash"><span class="token comment"># 复制启动文件：$oracle_base的pfile下的init.ora文件到$oracle_home的dbs下为init(数据库名).ora</span>
<span class="token function">cp</span> /apps/oracle/app/admin/orcl11g/pfile/init.ora.032024142145 /apps/oracle/app/product/11.2.0/dbs/initxwtechdb.ora

<span class="token comment"># 启动</span>
<span class="token punctuation">[</span>oracle@localhost bin<span class="token punctuation">]</span>$ sqlplus / as sysdba
SQL<span class="token operator">&gt;</span> startup
ORACLE instance started.

Total System Global Area  <span class="token number">534462464</span> bytes
Fixed Size                  <span class="token number">2254952</span> bytes
Variable Size             <span class="token number">218105752</span> bytes
Database Buffers          <span class="token number">306184192</span> bytes
Redo Buffers                <span class="token number">7917568</span> bytes
Database mounted.
Database opened.
SQL<span class="token operator">&gt;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/d0/cd/6iZ1D7Og_o.png" alt="在这里插入图片描述"></p> 
<table><tbody><tr><td bgcolor="#C0FF3E"><font size="6" face="楷体">遇到错误：</font></td></tr></tbody></table> 如遇到，重启一下机器，再启动即可 
<pre><code class="prism language-bash">SQL<span class="token operator">&gt;</span> startup
ORACLE instance started.

Total System Global Area  <span class="token number">534462464</span> bytes
Fixed Size                  <span class="token number">2254952</span> bytes
Variable Size             <span class="token number">218105752</span> bytes
Database Buffers          <span class="token number">306184192</span> bytes
Redo Buffers                <span class="token number">7917568</span> bytes
ORA-01102: cannot <span class="token function">mount</span> database <span class="token keyword">in</span> EXCLUSIVE mode
</code></pre> 
<p>启动失败参考文档<br> https://blog.csdn.net/lzwgood/article/details/26368323</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/96cf51ea057ab05ec369a70e971aa80b/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">shell脚本</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/9cc6d2b49c83392bd65256b24be4fe2d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">C&#43;&#43;中string的库函数</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>