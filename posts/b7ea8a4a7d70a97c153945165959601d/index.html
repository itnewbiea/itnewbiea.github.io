<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>vue中高德地图使用 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="vue中高德地图使用" />
<meta property="og:description" content="1、安装
npm i @amap/amap-jsapi-loader --save 2、封装地图组件
&lt;template&gt; &lt;div id=&#34;map&#34; ref=&#34;mapcontainer&#34;&gt;&lt;/div&gt; &lt;/template&gt; &lt;script&gt; import AMapLoader from &#34;@amap/amap-jsapi-loader&#34;; export default { beforeCreate() { AMapLoader.load({ key: &#34;aa3dac8335f8831b0bf80a66a28b57e4&#34;, // 申请好的Web端开发者Key，首次调用 load 时必填 version: &#34;1.4.15&#34;, // 指定要加载的 JSAPI 的版本，缺省时默认为 1.4.15 plugins: [], // 需要使用的的插件列表，如比例尺&#39;AMap.Scale&#39;等 AMapUI: { // 是否加载 AMapUI，缺省不加载 version: &#34;1.1&#34;, // AMapUI 缺省 1.1 plugins: [], // 需要加载的 AMapUI ui插件 }, Loca: { // 是否加载 Loca， 缺省不加载 version: &#34;1.3.2&#34;, // Loca 版本，缺省 1.3.2 }, }) ." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/b7ea8a4a7d70a97c153945165959601d/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-05T15:07:20+08:00" />
<meta property="article:modified_time" content="2024-01-05T15:07:20+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">vue中高德地图使用</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>1、安装</p> 
<p></p> 
<pre><code class="language-javascript">npm i @amap/amap-jsapi-loader --save
</code></pre> 
<p>2、封装地图组件</p> 
<p></p> 
<pre><code class="language-javascript">&lt;template&gt;
  &lt;div id="map" ref="mapcontainer"&gt;&lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
import AMapLoader from "@amap/amap-jsapi-loader";
export default {
  beforeCreate() {
    AMapLoader.load({
      key: "aa3dac8335f8831b0bf80a66a28b57e4", // 申请好的Web端开发者Key，首次调用 load 时必填
      version: "1.4.15", // 指定要加载的 JSAPI 的版本，缺省时默认为 1.4.15
      plugins: [], // 需要使用的的插件列表，如比例尺'AMap.Scale'等
      AMapUI: {
        // 是否加载 AMapUI，缺省不加载
        version: "1.1", // AMapUI 缺省 1.1
        plugins: [], // 需要加载的 AMapUI ui插件
      },
      Loca: {
        // 是否加载 Loca， 缺省不加载
        version: "1.3.2", // Loca 版本，缺省 1.3.2
      },
    })
      .then((AMap) =&gt; {
        this.$nextTick(() =&gt; this.initMap(AMap));
      })
      .catch((e) =&gt; {
        console.error(e);
      });
  },
  mounted() {
    // console.log(window.AMap, "window.AMap");
  },
  methods: {
    initMap(AMap) {
      // 初始化map实例
      this.map = new AMap.Map(this.$refs.mapcontainer);
      var that = this;
      AMap.plugin(["AMap.Geolocation", "AMap.Driving"], function () {
        //异步同时加载多个插件
        var geolocation = new AMap.Geolocation();
        that.map.addControl(geolocation);
        // var driving = new AMap.Driving(); //驾车路线规划
        // driving.search(/*参数*/);
      });

      // 或者使用 $refs 获取节点
      // this.map = new AMap.Map(this.$refs.container);
    },
  },
};
&lt;/script&gt;

&lt;style scoped lang="scss"&gt;
#map {
  width: 800px;
  height: 500px;
  background-color: pink;
  margin: 0 auto;
  margin-top: 15px;
}
&lt;/style&gt;
</code></pre> 
<p>3、在需要的地方引入组件并使用</p> 
<p></p> 
<pre><code class="language-javascript"> //使用组件
&lt;templete&gt;
   &lt;MyMap/&gt;
&lt;/templete&gt;

//引入组件
import MyMap from './MyMap.vue'
components:{
MyMap //祖册组件
}
</code></pre>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/15168d4cab3d677b289290046ba1402c/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">JVM面试系列-03</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/f9a77129d1228bab7003f7758730d659/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">[NISACTF 2022]bingdundun~</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>