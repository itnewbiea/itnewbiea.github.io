<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>linux mysql的使用_linux下mysql使用手册 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="linux mysql的使用_linux下mysql使用手册" />
<meta property="og:description" content="linux下mysql使用手册
发布时间:2013-12-12 15:02:50来源:红联作者:js54520062
linux 下的mysql数据库运行管理和操作并没有windows下那么直观 就本文对mysql常见操作做一个汇总
1、MySQL的几个重要目录
MySQL安装完成后不象SQL Server默认安装在一个目录，天信网络数据中心(简称天信网络)它的
数据库文件、配置文件和命令文件分别在不同的目录，了解这些目录非常重要，尤其对于Linux的初学者
，因为Linux本身的目录结构就比较复杂，如果搞不清楚MySQL的安装目录那就无从谈起深入学习。
下面就介绍一下这几个目录。
1、数据库目录
/var/lib/mysql/
2、配置文件
/usr/share/mysql(mysql.server命令及配置文件)
3、相关命令
/usr/bin(mysqladmin mysqldump等命令)
4、启动脚本
/etc/rc.d/init.d/(启动脚本文件mysql的目录)
一 登录MySQL
登录MySQL的命令是mysql， mysql 的使用语法如下：
mysql [-u username] [-h host] [-p[password]] [dbname]
username 与 password 分别是 MySQL 的用户名与密码，mysql的初始管理帐号是root，没有密码
，注意：这个root用户不是Linux的系统用户。MySQL默认用户是root，由于初始没有密码，第一次进时
只需键入mysql即可。
[root@test1 local]# mysql
Welcome to the MySQL monitor.　Commands end with ; or g.
Your MySQL connection id is 1 to server version: 4.0.16-standard
Type &#39;help;&#39; or &#39;h&#39; for help." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/a5d05fedf7a3b61453e2895799d435bc/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-01-27T05:14:35+08:00" />
<meta property="article:modified_time" content="2021-01-27T05:14:35+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">linux mysql的使用_linux下mysql使用手册</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div style="font-size:16px;"> 
 <p>linux下mysql使用手册</p> 
 <p>发布时间:2013-12-12 15:02:50来源:红联作者:js54520062</p> 
 <p>linux 下的mysql数据库运行管理和操作并没有windows下那么直观 就本文对mysql常见操作做一个汇总</p> 
 <p>1、MySQL的几个重要目录</p> 
 <p>MySQL安装完成后不象SQL Server默认安装在一个目录，天信网络数据中心(简称天信网络)它的</p> 
 <p>数据库文件、配置文件和命令文件分别在不同的目录，了解这些目录非常重要，尤其对于Linux的初学者</p> 
 <p>，因为Linux本身的目录结构就比较复杂，如果搞不清楚MySQL的安装目录那就无从谈起深入学习。</p> 
 <p>下面就介绍一下这几个目录。</p> 
 <p>1、数据库目录</p> 
 <p>/var/lib/mysql/</p> 
 <p>2、配置文件</p> 
 <p>/usr/share/mysql(mysql.server命令及配置文件)</p> 
 <p>3、相关命令</p> 
 <p>/usr/bin(mysqladmin mysqldump等命令)</p> 
 <p>4、启动脚本</p> 
 <p>/etc/rc.d/init.d/(启动脚本文件mysql的目录)</p> 
 <p>一 登录MySQL</p> 
 <p>登录MySQL的命令是mysql， mysql 的使用语法如下：</p> 
 <p>mysql [-u username] [-h host] [-p[password]] [dbname]</p> 
 <p>username 与 password 分别是 MySQL 的用户名与密码，mysql的初始管理帐号是root，没有密码</p> 
 <p>，注意：这个root用户不是Linux的系统用户。MySQL默认用户是root，由于初始没有密码，第一次进时</p> 
 <p>只需键入mysql即可。</p> 
 <p>[root@test1 local]# mysql</p> 
 <p>Welcome to the MySQL monitor.　Commands end with ; or g.</p> 
 <p>Your MySQL connection id is 1 to server version: 4.0.16-standard</p> 
 <p>Type 'help;' or 'h' for help. Type 'c' to clear the buffer.</p> 
 <p>mysql&gt;</p> 
 <p>出现了“mysql&gt;”提示符，恭喜你，安装成功！</p> 
 <p>增加了密码后的登录格式如下：</p> 
 <p>mysql -u root -p</p> 
 <p>Enter password: (输入密码)</p> 
 <p>其中-u后跟的是用户名，-p要求输入密码，回车后在输入密码处输入密码。</p> 
 <p>注意：这个mysql文件在/usr/bin目录下，与后面讲的启动文件/etc/init.d/mysql不是一个文件。</p> 
 <p>二、修改登录密码</p> 
 <p>MySQL默认没有密码，安装完毕增加密码的重要性是不言而喻的。</p> 
 <p>1、命令</p> 
 <p>usr/bin/mysqladmin -u root password 'new-password'</p> 
 <p>格式：mysqladmin -u用户名 -p旧密码 password 新密码</p> 
 <p>2、例子</p> 
 <p>例1：给root加个密码123456。</p> 
 <p>键入以下命令 ：</p> 
 <p>[root@test1 local]# /usr/bin/mysqladmin -u root password 123456</p> 
 <p>注：因为开始时root没有密码，所以-p旧密码一项就可以省略了。</p> 
 <p>3、测试是否修改成功</p> 
 <p>1)不用密码登录</p> 
 <p>[root@test1 local]# mysql</p> 
 <p>ERROR 1045: Access denied for user: 'root@localhost' (Using password: NO)</p> 
 <p>显示错误，说明密码已经修改。</p> 
 <p>2)用修改后的密码登录</p> 
 <p>[root@test1 local]# mysql -u root -p</p> 
 <p>Enter password: (输入修改后的密码123456)</p> 
 <p>Welcome to the MySQL monitor.　Commands end with ; or g.</p> 
 <p>Your MySQL connection id is 4 to server version: 4.0.16-standard</p> 
 <p>Type 'help;' or 'h' for help. Type 'c' to clear the buffer.</p> 
 <p>mysql&gt;</p> 
 <p>成功！</p> 
 <p>这是通过mysqladmin命令修改口令，也可通过修改库来更改口令。</p> 
 <p>三、启动与停止</p> 
 <p>1、启动</p> 
 <p>MySQL安装完成后启动文件mysql在/etc/init.d目录下，在需要启动时运行下面命令即可。</p> 
 <p>[root@test1 init.d]# /etc/init.d/mysql start</p> 
 <p>2、停止</p> 
 <p>/usr/bin/mysqladmin -u root -p shutdown</p> 
 <p>3、自动启动</p> 
 <p>1)察看mysql是否在自动启动列表中</p> 
 <p>[root@test1 local]#　/sbin/chkconfig -list</p> 
 <p>2)把MySQL添加到你系统的启动服务组里面去</p> 
 <p>[root@test1 local]#　/sbin/chkconfig　- add　mysql</p> 
 <p>3)把MySQL从启动服务组里面删除。</p> 
 <p>[root@test1 local]#　/sbin/chkconfig　- del　mysql</p> 
 <p>四、更改MySQL目录</p> 
 <p>MySQL默认的数据文件存储目录为/var/lib/mysql。假如要把目录移到/home/data下需要进行下面</p> 
 <p>几步：</p> 
 <p>1、home目录下建立data目录</p> 
 <p>cd /home</p> 
 <p>mkdir data</p> 
 <p>2、把MySQL服务进程停掉：</p> 
 <p>mysqladmin -u root -p shutdown</p> 
 <p>3、把/var/lib/mysql整个目录移到/home/data</p> 
 <p>mv /var/lib/mysql　/home/data/</p> 
 <p>这样就把MySQL的数据文件移动到了/home/data/mysql下</p> 
 <p>4、找到my.cnf配置文件</p> 
 <p>如果/etc/目录下没有my.cnf配置文件，请到/usr/share/mysql/下找到*.cnf文件，拷贝其中一个</p> 
 <p>到/etc/并改名为my.cnf)中。命令如下：</p> 
 <p>[root@test1 mysql]# cp /usr/share/mysql/my-medium.cnf　/etc/my.cnf</p> 
 <p>5、编辑MySQL的配置文件/etc/my.cnf</p> 
 <p>为保证MySQL能够正常工作，需要指明mysql.sock文件的产生位置。 修改</p> 
 <p>socket=/var/lib/mysql/mysql.sock一行中等号右边的值为：/home/mysql/mysql.sock 。操作如下：</p> 
 <p>vi　 my.cnf　　　 (用vi工具编辑my.cnf文件，找到下列数据修改之)</p> 
 <p># The MySQL server</p> 
 <p>[mysqld]</p> 
 <p>port　　　= 3306</p> 
 <p>#socket　 = /var/lib/mysql/mysql.sock(原内容，为了更稳妥用“#”注释此行)</p> 
 <p>socket　 = /home/data/mysql/mysql.sock　　　(加上此行)</p> 
 <p>6、修改MySQL启动脚本/etc/rc.d/init.d/mysql</p> 
 <p>最后，需要修改MySQL启动脚本/etc/rc.d/init.d/mysql，把其中datadir=/var/lib/mysql一行中</p> 
 <p>，等号右边的路径改成你现在的实际存放路径：home/data/mysql。</p> 
 <p>[root@test1 etc]# vi　/etc/rc.d/init.d/mysql</p> 
 <p>#datadir=/var/lib/mysql　　　　(注释此行)</p> 
 <p>datadir=/home/data/mysql　　 (加上此行)</p> 
 <p>7、重新启动MySQL服务</p> 
 <p>/etc/rc.d/init.d/mysql　start</p> 
 <p>或用reboot命令重启Linux</p> 
 <p>如果工作正常移动就成功了，否则对照前面的7步再检查一下。</p> 
 <p>五、MySQL的常用操作</p> 
 <p>注意：MySQL中每个命令后都要以分号；结尾。</p> 
 <p>1、显示数据库</p> 
 <p>mysql&gt; show databases;</p> 
 <p>+----------+</p> 
 <p>| Database |</p> 
 <p>+----------+</p> 
 <p>| mysql　　|</p> 
 <p>| test　　 |</p> 
 <p>+----------+</p> 
 <p>2 rows in set (0.04 sec)</p> 
 <p>Mysql刚安装完有两个数据库：mysql和test。mysql库非常重要，它里面有MySQL的系统信息，我们</p> 
 <p>改密码和新增用户，实际上就是用这个库中的相关表进行操作。</p> 
 <p>2、显示数据库中的表</p> 
 <p>mysql&gt; use mysql; (打开库，对每个库进行操作就要打开此库，类似于foxpro )</p> 
 <p>Database changed</p> 
 <p>mysql&gt; show tables;</p> 
 <p>+-----------------+</p> 
 <p>| Tables_in_mysql |</p> 
 <p>+-----------------+</p> 
 <p>| columns_priv　　|</p> 
 <p>| db　　　　　　　|</p> 
 <p>| func　　　　　　|</p> 
 <p>| host　　　　　　|</p> 
 <p>| tables_priv　　 |</p> 
 <p>| user　　　　　　|</p> 
 <p>+-----------------+</p> 
 <p>6 rows in set (0.01 sec)</p> 
 <p>3、显示数据表的结构：</p> 
 <p>describe 表名;</p> 
 <p>4、显示表中的记录：</p> 
 <p>select * from 表名;</p> 
 <p>例如：显示mysql库中user表中的纪录。所有能对MySQL用户操作的用户都在此表中。</p> 
 <p>Select * from user;</p> 
 <p>5、建库：</p> 
 <p>create database 库名;</p> 
 <p>例如：创建一个名字位aaa的库</p> 
 <p>mysql&gt; create databases aaa;</p> 
 <p>6、建表：</p> 
 <p>use 库名；</p> 
 <p>create table 表名 (字段设定列表)；</p> 
 <p>例如：在刚创建的aaa库中建立表name,表中有id(序号，自动增长)，xm(姓名),xb(性别),csny</p> 
 <p>(出身年月)四个字段</p> 
 <p>use aaa;</p> 
 <p>mysql&gt; create table name (id int(3) auto_increment not null primary key, xm char(8),xb</p> 
 <p>char(2),csny date);</p> 
 <p>可以用describe命令察看刚建立的表结构。</p> 
 <p>mysql&gt; describe name;</p> 
 <p>+-------+---------+------+-----+---------+----------------+</p> 
 <p>| Field | Type　　| Null | Key | Default | Extra　　　　　|</p> 
 <p>+-------+---------+------+-----+---------+----------------+</p> 
 <p>| id　　| int(3)　|　　　| PRI | NULL　　| auto_increment |</p> 
 <p>| xm　　| char(8) | YES　|　　 | NULL　　|　　　　　　　　|</p> 
 <p>| xb　　| char(2) | YES　|　　 | NULL　　|　　　　　　　　|</p> 
 <p>| csny　| date　　| YES　|　　 | NULL　　|　　　　　　　　|</p> 
 <p>+-------+---------+------+-----+---------+----------------+</p> 
 <p>7、增加记录</p> 
 <p>例如：增加几条相关纪录。</p> 
 <p>mysql&gt; insert into name values('','张三','男','1971-10-01');</p> 
 <p>mysql&gt; insert into name values('','白云','女','1972-05-20');</p> 
 <p>可用select命令来验证结果。</p> 
 <p>mysql&gt; select * from name;</p> 
 <p>+----+------+------+------------+</p> 
 <p>| id | xm　 | xb　 | csny　　　 |</p> 
 <p>+----+------+------+------------+</p> 
 <p>|　1 | 张三 | 男　 | 1971-10-01 |</p> 
 <p>|　2 | 白云 | 女　 | 1972-05-20 |</p> 
 <p>+----+------+------+------------+</p> 
 <p>8、修改纪录</p> 
 <p>例如：将张三的出生年月改为1971-01-10</p> 
 <p>mysql&gt; update name set csny='1971-01-10' where xm='张三';</p> 
 <p>9、删除纪录</p> 
 <p>例如：删除张三的纪录。</p> 
 <p>mysql&gt; delete from name where xm='张三';</p> 
 <p>10、删库和删表</p> 
 <p>drop database 库名;</p> 
 <p>drop table 表名；</p> 
 <p>九、增加MySQL用户</p> 
 <p>格式：grant select on 数据库.* to 用户名@登录主机 identified by "密码"</p> 
 <p>例1、增加一个用户user_1密码为123，让他可以在任何主机上登录，并对所有数据库有查询、插入、修</p> 
 <p>改、删除的权限。首先用以root用户连入MySQL，然后键入以下命令：</p> 
 <p>mysql&gt; grant select,insert,update,delete on *.* to user_1@"%" Identified by "123";</p> 
 <p>例1增加的用户是十分危险的，如果知道了user_1的密码，那么他就可以在网上的任何一台电脑上登录你</p> 
 <p>的MySQL数据库并对你的数据为所欲为了，解决办法见例2。</p> 
 <p>例2、增加一个用户user_2密码为123,让此用户只可以在localhost上登录，并可以对数据库aaa进</p> 
 <p>行查询、插入、修改、删除的操作(localhost指本地主机，即MySQL数据库所在的那台主机)，这样用</p> 
 <p>户即使用知道user_2的密码，他也无法从网上直接访问数据库，只能通过MYSQL主机来操作aaa库。</p> 
 <p>mysql&gt;grant select,insert,update,delete on aaa.* to user_2@localhost identified by</p> 
 <p>"123";</p> 
 <p>用新增的用户如果登录不了MySQL，在登录时用如下命令：</p> 
 <p>mysql -u user_1 -p　-h 192.168.113.50　(-h后跟的是要登录主机的ip地址)</p> 
 <p>六、备份与恢复</p> 
 <p>1、备份</p> 
 <p>例如：将上例创建的aaa库备份到文件back_aaa中</p> 
 <p>[root@test1 root]# cd　/home/data/mysql　(进入到库目录，本例库已由val/lib/mysql转</p> 
 <p>到/home/data/mysql，见上述第七部分内容)</p> 
 <p>[root@test1 mysql]# mysqldump -u root -p --opt aaa &gt; back_aaa</p> 
 <p>2、恢复</p> 
 <p>[root@test mysql]# mysql -u root -p ccc &lt; back_aaa</p> 
 <p>用户管理</p> 
 <p>创建完全控制用户</p> 
 <p>GRANT ALL PRIVILEGES on (name).* to (" identified by "888888";</p> 
 <p>删除用户权限</p> 
 <p>revoke all privileges on (name).* from ()";</p> 
 <p>删除用户</p> 
 <p>drop user (username)";</p> 
 <p>查询用户</p> 
 <p>use mysql;</p> 
 <p>select Host,User,Password,Select_priv from user;</p> 
 <p>查询数据库对应用户权限</p> 
 <p>select * from db;</p> 
 <p>查询数据库表结构</p> 
 <p>desc table name;</p> 
 <p>如果在插入数据时数据库提示table is read only</p> 
 <p>mysqladmin -u root -p flush-tables</p> 
 <p>mysqladmin -u root -p reload</p> 
</div>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/9294649fb5a6de76b170bbe45964c1ef/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Halcon特征提取</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/e7b6bd540e81d1cf845dceaca2ef5da4/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">入门学习爬取贴吧图片（附完整代码），2021/1/27有效</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>