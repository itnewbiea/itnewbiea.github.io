<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>model.compile函数详解 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="model.compile函数详解" />
<meta property="og:description" content="model.compile函数详解 前言方法的历史方法的优点与其他方法的不同之处使用方法示例代码参数介绍结构图计算过程总结 前言 在深度学习模型训练中，model.compile()函数是一个非常重要的步骤。该函数用于编译模型，并为训练过程指定各种参数和配置。本文将详细介绍model.compile()函数的使用方法，包括历史、优点和与其他方法的差异，并给出详细的步骤和示例代码。
方法的历史 model.compile()函数是Keras框架提供的API之一，它的出现可以追溯到深度学习框架早期（约2015年）。最初的Keras版本是一个高阶神经网络API，并且可以在多个深度学习后端（如TensorFlow、Theano等）上运行。随着Keras在深度学习社区的不断普及和发展，人们开始更多地使用Keras本身以及其默认后端TensorFlow。
model.compile()函数被设计为一个编译器，用于将模型的图形结构定义与计算引擎进行链接，以实现优化、损失函数的选择和训练过程的配置。
方法的优点 使用model.compile()函数的主要优点如下：
灵活的优化选择：model.compile()函数允许用户选择不同的优化器（optimizer），如Adam、SGD等。这使得用户可以根据需求选择最适合特定任务的优化算法。
自定义损失函数：通过loss参数，用户可以自定义模型的损失函数。这种灵活性使得用户可以应对各种不同的学习任务，如分类、回归等。
评估指标的选择：用户可以使用metrics参数自定义评估指标。这些指标将在训练过程中被计算和记录，并可用于判断模型的性能。
其他可选参数配置：model.compile()还接受其他一些可选参数，如学习率（learning rate）、权重衰减（weight decay）等。这些参数可用于进一步优化模型的训练过程。
与其他方法的不同之处 在其他深度学习框架（如PyTorch）中，相当于model.compile()的函数通常是在模型定义之后进行的。然而，Keras采用了一种不同的方式，将模型定义、编译以及最终的训练过程归为一个整体。这种设计使得使用Keras编写、训练和评估模型变得更加方便和简洁。
另外，与一些底层深度学习框架相比，Keras提供了更高层次的抽象，并隐藏了许多底层细节。这使得初学者能够更容易地上手，并且可以更快地构建、训练和测试模型。
使用方法 以下是使用model.compile()函数的基本步骤：
创建模型对象（例如 model = Sequential()）。
向模型中添加各种层和配置参数（例如 model.add(Dense(64, activation=&#39;relu&#39;))）。
使用model.compile()函数进行编译，并指定相关参数。例如：
model.compile(optimizer=&#39;adam&#39;, loss=&#39;categorical_crossentropy&#39;, metrics=[&#39;accuracy&#39;]) 在上述示例中，我们选择了Adam优化器、交叉熵损失函数，并指定了精度作为评估指标。
在编译完成后，可以使用model.fit()函数对模型进行训练。
示例代码 下面是一个使用model.compile()函数的示例代码：
import tensorflow as tf from tensorflow.keras.models import Sequential from tensorflow.keras.layers import Dense # 创建模型 model = Sequential() # 添加层 model.add(Dense(64, activation=&#39;relu&#39;)) model.add(Dense(10, activation=&#39;softmax&#39;)) # 编译模型 model.compile(optimizer=&#39;adam&#39;, loss=&#39;categorical_crossentropy&#39;, metrics=[&#39;accuracy&#39;]) 参数介绍 下面是model.compile()函数的常用参数：
optimizer：选择优化器，例如&#39;adam&#39;、&#39;sgd&#39;等。
loss：指定损失函数，例如&#39;categorical_crossentropy&#39;。
metrics：选择评估指标，可以是一个或多个。
loss_weights：指定不同损失函数的权重。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/ef8101964099ce187cf79d4ffd2f375a/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-08-25T15:48:32+08:00" />
<meta property="article:modified_time" content="2023-08-25T15:48:32+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">model.compile函数详解</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>model.compile函数详解</h4> 
 <ul><li><ul><li><a href="#_1" rel="nofollow">前言</a></li><li><a href="#_5" rel="nofollow">方法的历史</a></li><li><a href="#_11" rel="nofollow">方法的优点</a></li><li><a href="#_23" rel="nofollow">与其他方法的不同之处</a></li><li><a href="#_29" rel="nofollow">使用方法</a></li><li><a href="#_49" rel="nofollow">示例代码</a></li><li><a href="#_71" rel="nofollow">参数介绍</a></li><li><a href="#_89" rel="nofollow">结构图</a></li><li><a href="#_101" rel="nofollow">计算过程</a></li><li><a href="#_137" rel="nofollow">总结</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h3><a id="_1"></a>前言</h3> 
<p>在深度学习模型训练中，<code>model.compile()</code>函数是一个非常重要的步骤。该函数用于编译模型，并为训练过程指定各种参数和配置。本文将详细介绍<code>model.compile()</code>函数的使用方法，包括历史、优点和与其他方法的差异，并给出详细的步骤和示例代码。</p> 
<h3><a id="_5"></a>方法的历史</h3> 
<p><code>model.compile()</code>函数是Keras框架提供的API之一，它的出现可以追溯到深度学习框架早期（约2015年）。最初的Keras版本是一个高阶神经网络API，并且可以在多个深度学习后端（如TensorFlow、Theano等）上运行。随着Keras在深度学习社区的不断普及和发展，人们开始更多地使用Keras本身以及其默认后端TensorFlow。</p> 
<p><code>model.compile()</code>函数被设计为一个编译器，用于将模型的图形结构定义与计算引擎进行链接，以实现优化、损失函数的选择和训练过程的配置。</p> 
<h3><a id="_11"></a>方法的优点</h3> 
<p>使用<code>model.compile()</code>函数的主要优点如下：</p> 
<ol><li> <p><strong>灵活的优化选择</strong>：<code>model.compile()</code>函数允许用户选择不同的优化器（optimizer），如Adam、SGD等。这使得用户可以根据需求选择最适合特定任务的优化算法。</p> </li><li> <p><strong>自定义损失函数</strong>：通过<code>loss</code>参数，用户可以自定义模型的损失函数。这种灵活性使得用户可以应对各种不同的学习任务，如分类、回归等。</p> </li><li> <p><strong>评估指标的选择</strong>：用户可以使用<code>metrics</code>参数自定义评估指标。这些指标将在训练过程中被计算和记录，并可用于判断模型的性能。</p> </li><li> <p><strong>其他可选参数配置</strong>：<code>model.compile()</code>还接受其他一些可选参数，如学习率（learning rate）、权重衰减（weight decay）等。这些参数可用于进一步优化模型的训练过程。</p> </li></ol> 
<h3><a id="_23"></a>与其他方法的不同之处</h3> 
<p>在其他深度学习框架（如PyTorch）中，相当于<code>model.compile()</code>的函数通常是在模型定义之后进行的。然而，Keras采用了一种不同的方式，将模型定义、编译以及最终的训练过程归为一个整体。这种设计使得使用Keras编写、训练和评估模型变得更加方便和简洁。</p> 
<p>另外，与一些底层深度学习框架相比，Keras提供了更高层次的抽象，并隐藏了许多底层细节。这使得初学者能够更容易地上手，并且可以更快地构建、训练和测试模型。</p> 
<h3><a id="_29"></a>使用方法</h3> 
<p>以下是使用<code>model.compile()</code>函数的基本步骤：</p> 
<ol><li> <p>创建模型对象（例如 <code>model = Sequential()</code>）。</p> </li><li> <p>向模型中添加各种层和配置参数（例如 <code>model.add(Dense(64, activation='relu'))</code>）。</p> </li><li> <p>使用<code>model.compile()</code>函数进行编译，并指定相关参数。例如：</p> <pre><code class="prism language-python">model<span class="token punctuation">.</span><span class="token builtin">compile</span><span class="token punctuation">(</span>optimizer<span class="token operator">=</span><span class="token string">'adam'</span><span class="token punctuation">,</span>
              loss<span class="token operator">=</span><span class="token string">'categorical_crossentropy'</span><span class="token punctuation">,</span>
              metrics<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'accuracy'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> <p>在上述示例中，我们选择了Adam优化器、交叉熵损失函数，并指定了精度作为评估指标。</p> </li><li> <p>在编译完成后，可以使用<code>model.fit()</code>函数对模型进行训练。</p> </li></ol> 
<h3><a id="_49"></a>示例代码</h3> 
<p>下面是一个使用<code>model.compile()</code>函数的示例代码：</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> tensorflow <span class="token keyword">as</span> tf
<span class="token keyword">from</span> tensorflow<span class="token punctuation">.</span>keras<span class="token punctuation">.</span>models <span class="token keyword">import</span> Sequential
<span class="token keyword">from</span> tensorflow<span class="token punctuation">.</span>keras<span class="token punctuation">.</span>layers <span class="token keyword">import</span> Dense

<span class="token comment"># 创建模型</span>
model <span class="token operator">=</span> Sequential<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># 添加层</span>
model<span class="token punctuation">.</span>add<span class="token punctuation">(</span>Dense<span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">,</span> activation<span class="token operator">=</span><span class="token string">'relu'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
model<span class="token punctuation">.</span>add<span class="token punctuation">(</span>Dense<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> activation<span class="token operator">=</span><span class="token string">'softmax'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment"># 编译模型</span>
model<span class="token punctuation">.</span><span class="token builtin">compile</span><span class="token punctuation">(</span>optimizer<span class="token operator">=</span><span class="token string">'adam'</span><span class="token punctuation">,</span>
              loss<span class="token operator">=</span><span class="token string">'categorical_crossentropy'</span><span class="token punctuation">,</span>
              metrics<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'accuracy'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> 
<h3><a id="_71"></a>参数介绍</h3> 
<p>下面是<code>model.compile()</code>函数的常用参数：</p> 
<ul><li> <p><code>optimizer</code>：选择优化器，例如<code>'adam'</code>、<code>'sgd'</code>等。</p> </li><li> <p><code>loss</code>：指定损失函数，例如<code>'categorical_crossentropy'</code>。</p> </li><li> <p><code>metrics</code>：选择评估指标，可以是一个或多个。</p> </li><li> <p><code>loss_weights</code>：指定不同损失函数的权重。</p> </li><li> <p><code>weighted_metrics</code>：为不同样本赋予不同权重的评估指标。</p> </li><li> <p><code>run_eagerly</code>：布尔值，确定是否以 eager 模式运行。</p> </li></ul> 
<p>等等。对于更详细的参数介绍，请查阅相关文档。</p> 
<h3><a id="_89"></a>结构图</h3> 
<p>下面是使用Mermaid绘制的模型结构图的示例代码：</p> 
<div class="mermaid"> 
 <svg id="mermaid-svg-XKnQzut0qRxsDgf1" width="556.0390625" xmlns="http://www.w3.org/2000/svg" height="62.002601623535156" viewbox="0 0 556.0390625 62.002601623535156" class="mermaid-svg"> 
  <style>#mermaid-svg-XKnQzut0qRxsDgf1 {font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#mermaid-svg-XKnQzut0qRxsDgf1 .error-icon{fill:#552222;}#mermaid-svg-XKnQzut0qRxsDgf1 .error-text{fill:#552222;stroke:#552222;}#mermaid-svg-XKnQzut0qRxsDgf1 .edge-thickness-normal{stroke-width:2px;}#mermaid-svg-XKnQzut0qRxsDgf1 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-svg-XKnQzut0qRxsDgf1 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-svg-XKnQzut0qRxsDgf1 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-svg-XKnQzut0qRxsDgf1 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-svg-XKnQzut0qRxsDgf1 .marker{fill:#333333;stroke:#333333;}#mermaid-svg-XKnQzut0qRxsDgf1 .marker.cross{stroke:#333333;}#mermaid-svg-XKnQzut0qRxsDgf1 svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-svg-XKnQzut0qRxsDgf1 .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#mermaid-svg-XKnQzut0qRxsDgf1 .cluster-label text{fill:#333;}#mermaid-svg-XKnQzut0qRxsDgf1 .cluster-label span{color:#333;}#mermaid-svg-XKnQzut0qRxsDgf1 .label text,#mermaid-svg-XKnQzut0qRxsDgf1 span{fill:#333;color:#333;}#mermaid-svg-XKnQzut0qRxsDgf1 .node rect,#mermaid-svg-XKnQzut0qRxsDgf1 .node circle,#mermaid-svg-XKnQzut0qRxsDgf1 .node ellipse,#mermaid-svg-XKnQzut0qRxsDgf1 .node polygon,#mermaid-svg-XKnQzut0qRxsDgf1 .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaid-svg-XKnQzut0qRxsDgf1 .node .label{text-align:center;}#mermaid-svg-XKnQzut0qRxsDgf1 .node.clickable{cursor:pointer;}#mermaid-svg-XKnQzut0qRxsDgf1 .arrowheadPath{fill:#333333;}#mermaid-svg-XKnQzut0qRxsDgf1 .edgePath .path{stroke:#333333;stroke-width:2.0px;}#mermaid-svg-XKnQzut0qRxsDgf1 .flowchart-link{stroke:#333333;fill:none;}#mermaid-svg-XKnQzut0qRxsDgf1 .edgeLabel{background-color:#e8e8e8;text-align:center;}#mermaid-svg-XKnQzut0qRxsDgf1 .edgeLabel rect{opacity:0.5;background-color:#e8e8e8;fill:#e8e8e8;}#mermaid-svg-XKnQzut0qRxsDgf1 .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaid-svg-XKnQzut0qRxsDgf1 .cluster text{fill:#333;}#mermaid-svg-XKnQzut0qRxsDgf1 .cluster span{color:#333;}#mermaid-svg-XKnQzut0qRxsDgf1 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-svg-XKnQzut0qRxsDgf1 :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style> 
  <g> 
   <g class="output"> 
    <g class="clusters"></g> 
    <g class="edgePaths"> 
     <g class="edgePath LS-A LE-B" id="L-A-B" style="opacity: 1;"> 
      <path class="path" d="M76.0078125,31.001300811767578L80.17447916666667,31.001300811767578C84.34114583333333,31.001300811767578,92.67447916666667,31.001300811767578,101.0078125,31.001300811767578C109.34114583333333,31.001300811767578,117.67447916666667,31.001300811767578,121.84114583333333,31.001300811767578L126.0078125,31.001300811767578" marker-end="url(#arrowhead147)" style="fill:none"></path> 
      <defs> 
       <marker id="arrowhead147" viewbox="0 0 10 10" refx="9" refy="5" markerunits="strokeWidth" markerwidth="8" markerheight="6" orient="auto"> 
        <path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path> 
       </marker> 
      </defs> 
     </g> 
     <g class="edgePath LS-B LE-C" style="opacity: 1;" id="L-B-C"> 
      <path class="path" d="M194.015625,31.001300811767578L198.18229166666666,31.001300811767578C202.34895833333334,31.001300811767578,210.68229166666666,31.001300811767578,219.015625,31.001300811767578C227.34895833333334,31.001300811767578,235.68229166666666,31.001300811767578,239.84895833333334,31.001300811767578L244.015625,31.001300811767578" marker-end="url(#arrowhead148)" style="fill:none"></path> 
      <defs> 
       <marker id="arrowhead148" viewbox="0 0 10 10" refx="9" refy="5" markerunits="strokeWidth" markerwidth="8" markerheight="6" orient="auto"> 
        <path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path> 
       </marker> 
      </defs> 
     </g> 
     <g class="edgePath LS-C LE-D" style="opacity: 1;" id="L-C-D"> 
      <path class="path" d="M312.0234375,31.001300811767578L316.1901041666667,31.001300811767578C320.3567708333333,31.001300811767578,328.6901041666667,31.001300811767578,337.0234375,31.001300811767578C345.3567708333333,31.001300811767578,353.6901041666667,31.001300811767578,357.8567708333333,31.001300811767578L362.0234375,31.001300811767578" marker-end="url(#arrowhead149)" style="fill:none"></path> 
      <defs> 
       <marker id="arrowhead149" viewbox="0 0 10 10" refx="9" refy="5" markerunits="strokeWidth" markerwidth="8" markerheight="6" orient="auto"> 
        <path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path> 
       </marker> 
      </defs> 
     </g> 
     <g class="edgePath LS-D LE-E" style="opacity: 1;" id="L-D-E"> 
      <path class="path" d="M430.03125,31.001300811767578L434.1979166666667,31.001300811767578C438.3645833333333,31.001300811767578,446.6979166666667,31.001300811767578,455.03125,31.001300811767578C463.3645833333333,31.001300811767578,471.6979166666667,31.001300811767578,475.8645833333333,31.001300811767578L480.03125,31.001300811767578" marker-end="url(#arrowhead150)" style="fill:none"></path> 
      <defs> 
       <marker id="arrowhead150" viewbox="0 0 10 10" refx="9" refy="5" markerunits="strokeWidth" markerwidth="8" markerheight="6" orient="auto"> 
        <path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path> 
       </marker> 
      </defs> 
     </g> 
    </g> 
    <g class="edgeLabels"> 
     <g class="edgeLabel" transform="" style="opacity: 1;"> 
      <g transform="translate(0,0)" class="label"> 
       <rect rx="0" ry="0" width="0" height="0"></rect> 
       <foreignobject width="0" height="0"> 
        <div style="display: inline-block; white-space: nowrap;"> 
         <span id="L-L-A-B" class="edgeLabel L-LS-A' L-LE-B"></span> 
        </div> 
       </foreignobject> 
      </g> 
     </g> 
     <g class="edgeLabel" style="opacity: 1;" transform=""> 
      <g transform="translate(0,0)" class="label"> 
       <rect rx="0" ry="0" width="0" height="0"></rect> 
       <foreignobject width="0" height="0"> 
        <div style="display: inline-block; white-space: nowrap;"> 
         <span id="L-L-B-C" class="edgeLabel L-LS-B' L-LE-C"></span> 
        </div> 
       </foreignobject> 
      </g> 
     </g> 
     <g class="edgeLabel" style="opacity: 1;" transform=""> 
      <g transform="translate(0,0)" class="label"> 
       <rect rx="0" ry="0" width="0" height="0"></rect> 
       <foreignobject width="0" height="0"> 
        <div style="display: inline-block; white-space: nowrap;"> 
         <span id="L-L-C-D" class="edgeLabel L-LS-C' L-LE-D"></span> 
        </div> 
       </foreignobject> 
      </g> 
     </g> 
     <g class="edgeLabel" style="opacity: 1;" transform=""> 
      <g transform="translate(0,0)" class="label"> 
       <rect rx="0" ry="0" width="0" height="0"></rect> 
       <foreignobject width="0" height="0"> 
        <div style="display: inline-block; white-space: nowrap;"> 
         <span id="L-L-D-E" class="edgeLabel L-LS-D' L-LE-E"></span> 
        </div> 
       </foreignobject> 
      </g> 
     </g> 
    </g> 
    <g class="nodes"> 
     <g class="node default" id="flowchart-A-88" transform="translate(42.00390625,31.001300811767578)" style="opacity: 1;"> 
      <rect rx="0" ry="0" x="-34.00390815734863" y="-23.001301765441895" width="68.00781631469727" height="46.00260353088379" class="label-container"></rect> 
      <g class="label" transform="translate(0,0)"> 
       <g transform="translate(-24.003908157348633,-13.001301765441895)"> 
        <foreignobject width="48.0078125" height="26.00260353088379"> 
         <div style="display: inline-block; white-space: nowrap;">
           输入层 
         </div> 
        </foreignobject> 
       </g> 
      </g> 
     </g> 
     <g class="node default" style="opacity: 1;" id="flowchart-B-89" transform="translate(160.01171875,31.001300811767578)"> 
      <rect rx="0" ry="0" x="-34.00390815734863" y="-23.001301765441895" width="68.00781631469727" height="46.00260353088379" class="label-container"></rect> 
      <g class="label" transform="translate(0,0)"> 
       <g transform="translate(-24.003908157348633,-13.001301765441895)"> 
        <foreignobject width="48.0078125" height="26.00260353088379"> 
         <div style="display: inline-block; white-space: nowrap;">
           隐藏层 
         </div> 
        </foreignobject> 
       </g> 
      </g> 
     </g> 
     <g class="node default" style="opacity: 1;" id="flowchart-C-91" transform="translate(278.01953125,31.001300811767578)"> 
      <rect rx="0" ry="0" x="-34.00390815734863" y="-23.001301765441895" width="68.00781631469727" height="46.00260353088379" class="label-container"></rect> 
      <g class="label" transform="translate(0,0)"> 
       <g transform="translate(-24.003908157348633,-13.001301765441895)"> 
        <foreignobject width="48.0078125" height="26.00260353088379"> 
         <div style="display: inline-block; white-space: nowrap;">
           隐藏层 
         </div> 
        </foreignobject> 
       </g> 
      </g> 
     </g> 
     <g class="node default" style="opacity: 1;" id="flowchart-D-93" transform="translate(396.02734375,31.001300811767578)"> 
      <rect rx="0" ry="0" x="-34.00390815734863" y="-23.001301765441895" width="68.00781631469727" height="46.00260353088379" class="label-container"></rect> 
      <g class="label" transform="translate(0,0)"> 
       <g transform="translate(-24.003908157348633,-13.001301765441895)"> 
        <foreignobject width="48.0078125" height="26.00260353088379"> 
         <div style="display: inline-block; white-space: nowrap;">
           输出层 
         </div> 
        </foreignobject> 
       </g> 
      </g> 
     </g> 
     <g class="node default" style="opacity: 1;" id="flowchart-E-95" transform="translate(514.03515625,31.001300811767578)"> 
      <rect rx="0" ry="0" x="-34.00390815734863" y="-23.001301765441895" width="68.00781631469727" height="46.00260353088379" class="label-container"></rect> 
      <g class="label" transform="translate(0,0)"> 
       <g transform="translate(-24.003908157348633,-13.001301765441895)"> 
        <foreignobject width="48.0078125" height="26.00260353088379"> 
         <div style="display: inline-block; white-space: nowrap;">
           输出层 
         </div> 
        </foreignobject> 
       </g> 
      </g> 
     </g> 
    </g> 
   </g> 
  </g> 
 </svg> 
</div> 
<h3><a id="_101"></a>计算过程</h3> 
<p>以下是模型中部分层的计算过程的示例代码：</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np

<span class="token comment"># 输入数据</span>
x <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment"># 第一个隐藏层的权重和偏差</span>
w1 <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0.1</span><span class="token punctuation">,</span> <span class="token number">0.2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token number">0.4</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
b1 <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.6</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment"># 第一个隐藏层的输出</span>
h1 <span class="token operator">=</span> np<span class="token punctuation">.</span>dot<span class="token punctuation">(</span>x<span class="token punctuation">,</span> w1<span class="token punctuation">)</span> <span class="token operator">+</span> b1

<span class="token comment"># 第二个隐藏层的权重和偏差</span>
w2 <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.6</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">0.7</span><span class="token punctuation">,</span> <span class="token number">0.8</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
b2 <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0.9</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment"># 第二个隐藏层的输出</span>
h2 <span class="token operator">=</span> np<span class="token punctuation">.</span>dot<span class="token punctuation">(</span>h1<span class="token punctuation">,</span> w2<span class="token punctuation">)</span> <span class="token operator">+</span> b2

<span class="token comment"># 输出层的权重和偏差</span>
w3 <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0.2</span><span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">0.4</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
b3 <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0.6</span><span class="token punctuation">,</span> <span class="token number">0.7</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment"># 输出层的输出</span>
y <span class="token operator">=</span> np<span class="token punctuation">.</span>dot<span class="token punctuation">(</span>h2<span class="token punctuation">,</span> w3<span class="token punctuation">)</span> <span class="token operator">+</span> b3

<span class="token keyword">print</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span>
</code></pre> 
<p>以上代码演示了一个简单的前向传播过程，其中涉及了权重、偏差和输入数据的矩阵相乘运算。</p> 
<h3><a id="_137"></a>总结</h3> 
<p>本文详细介绍了<code>model.compile()</code>函数的使用方法。通过该函数，我们可以灵活配置深度学习模型的编译过程，包括优化器、损失函数和评估指标的选择。同时，我们还讨论了<code>model.compile()</code>函数与其他方法的不同之处，并给出了详细的步骤和示例代码。通过充分理解和灵活应用<code>model.compile()</code>函数，我们能更好地进行模型训练和优化，并取得更好的结果。</p> 
<p>参考文献：</p> 
<ul><li>Keras Documentation: Model Compilation. (https://keras.io/api/models/model_training_apis/)</li></ul> 
<hr>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/4af0f8f4265263bbe779bb4f6ff03f3e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">利用ChatGPT和MAKE法实现新知识快速学习及变现——退火算法（半小时MAKE）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/e9c89a94374494b8823908ea632c990c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">OpenShift 4 - Knative教程 (3) 了解Knative Serving的核心对象</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>