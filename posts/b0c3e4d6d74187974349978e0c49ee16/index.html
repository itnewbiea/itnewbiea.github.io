<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>varchar和Nvarchar区别 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="varchar和Nvarchar区别" />
<meta property="og:description" content="Unicode字符集就是为了解决字符集这种不兼容的问题而产生的，它所有的字符都用两个字节表示，即英文字符也是用两个字节表示
如果还为了这个纠结，就直接看看后面的解说，做决定吧。
一般如果用到中文或者其它特殊字符，我就会使用n开头的类型，否则的话直接使用var开头的。 sql server中的varchar和Nvarchar有什么区别？
答： varchar(n) 长度为 n 个字节的可变长度且非 Unicode 的字符数据。n 必须是一个介于 1 和 8,000 之间的数值。存储大小为输入数据的字节的实际长度，而不是 n 个字节。 nvarchar(n) 包含 n 个字符的可变长度 Unicode 字符数据。n 的值必须介于 1 与 4,000 之间。字节的存储大小是所输入字符个数的两倍。 两字段分别有字段值：我和coffee
那么varchar字段占2×2&#43;6=10个字节的存储空间，而nvarchar字段占8×2=16个字节的存储空间。
如字段值只是英文可选择varchar，而字段值存在较多的双字节（中文、韩文等）字符时用nvarchar char varchar nvarchar区别 联机帮助上的：
char(n) 定长 索引效率高 程序里面使用trim去除多余的空白 n 必须是一个介于 1 和 8,000 之间的数值,存储大小为 n 个字节 varchar(n) 变长 效率没char高 灵活 n 必须是一个介于 1 和 8,000 之间的数值。存储大小为输入数据的字节的实际长度，而不是 n 个字节 text(n) 变长 非Unicode数据 nchar(n) 定长 处理unicode数据类型(所有的字符使用两个字节表示) n 的值必须介于 1 与 4,000 之间。存储大小为 n 字节的两倍 nvarchar(n) 变长 处理unicode数据类型(所有的字符使用两个字节表示) n 的值必须介于 1 与 4,000 之间。字节的存储大小是所输入字符个数的两倍。所输入的数据字符长度可以为零 ntext(n) 变长 处理unicode数据类型(所有的字符使用两个字节表示) 出处： http://blog." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/b0c3e4d6d74187974349978e0c49ee16/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2013-02-24T21:23:06+08:00" />
<meta property="article:modified_time" content="2013-02-24T21:23:06+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">varchar和Nvarchar区别</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p style="margin:5px auto; font-size:13px; line-height:1.4; font-family:Verdana,Geneva,Arial,Helvetica,sans-serif"> <span style="color:#ff0000; font-size:22px"><strong>Unicode字符集就是为了解决字符集这种不兼容的问题而产生的，它所有的字符都用两个字节表示，即英文字符也是用两个字节表示</strong></span></p> 
<p style="margin:5px auto; font-size:13px; line-height:1.4; font-family:Verdana,Geneva,Arial,Helvetica,sans-serif"> 如果还为了这个纠结，就直接看看后面的解说，做决定吧。</p> 
<p style="margin:5px auto; font-size:13px; line-height:1.4; font-family:Verdana,Geneva,Arial,Helvetica,sans-serif"> 一般如果用到中文或者其它特殊字符，我就会使用n开头的类型，否则的话直接使用var开头的。 </p> 
<p style="margin:5px auto; font-size:13px; line-height:1.4; font-family:Verdana,Geneva,Arial,Helvetica,sans-serif"> <wbr></wbr></p> 
<p style="margin:5px auto; font-size:13px; line-height:1.4; font-family:Verdana,Geneva,Arial,Helvetica,sans-serif"> sql server中的varchar和Nvarchar有什么区别？</p> 
<div style="font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:13px; line-height:19px">
    
 <wbr></wbr> 
</div> 
<div style="font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:13px; line-height:19px">
  答： 
 <br> varchar(n) 
 <br> 长度为 n 个字节的可变长度且非 Unicode 的字符数据。n 必须是一个介于 1 和 8,000 之间的数值。存储大小为输入数据的字节的实际长度，而不是 n 个字节。 
 <br> 
 <br> nvarchar(n) 
 <br> 包含 n 个字符的可变长度 Unicode 字符数据。n 的值必须介于 1 与 4,000 之间。字节的存储大小是所输入字符个数的两倍。 
 <br> 
 <br> 
 <strong><span style="color:#ff6600">两字段分别有字段值：我和coffee<br> 那么varchar字段占2×2+6=10个字节的存储空间，而nvarchar字段占8×2=16个字节的存储空间。<br> <br> 如字段值只是英文可选择varchar，而字段值存在较多的双字节（中文、韩文等）字符时用nvarchar</span></strong> 
</div> 
<div style="font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:13px; line-height:19px">
    
 <wbr></wbr> 
</div> 
<div style="font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:13px; line-height:19px">
    
 <wbr></wbr> 
</div> 
<div class="postTitle" style="padding-left:3px; font-size:13px; padding-bottom:3px; padding-top:3px; border-bottom-color:rgb(220,220,220); border-bottom-width:1px; border-bottom-style:solid; background-color:rgb(245,245,245); font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; line-height:19px"> 
 <a id="AjaxHolder_ctl01_TitleUrl" class="postTitle2" href="http://www.cnblogs.com/ant520/archive/2007/12/05/983822.html" rel="nofollow noopener noreferrer" name="AjaxHolder_ctl01_TitleUrl" target="_blank" style="color:rgb(91,157,202); text-decoration:initial; padding:1px 2px"><span style="color:#6d5887">char varchar nvarchar区别</span></a> 
</div> 
<div style="font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:13px; line-height:19px"> 
 <span style="font-family:Courier New">联机帮助上的：<br> </span> 
</div> 
<div style="font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:13px; line-height:19px"> 
 <table border="1" cellspacing="2" cellpadding="2" style="border:1px solid rgb(192,192,192); border-collapse:collapse; width:750px; height:414px"><tbody><tr><td style="font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; border:1px solid rgb(192,192,192); border-collapse:collapse; padding:3px; word-break:normal!important"> <span style="font-family:Courier New">char(n) <wbr></wbr></span></td><td style="font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; border:1px solid rgb(192,192,192); border-collapse:collapse; padding:3px; word-break:normal!important"> 定长</td><td style="font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; border:1px solid rgb(192,192,192); border-collapse:collapse; padding:3px; word-break:normal!important"> 索引效率高 程序里面使用trim去除多余的空白</td><td style="font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; border:1px solid rgb(192,192,192); border-collapse:collapse; padding:3px; word-break:normal!important"> <em>n</em> 必须是一个介于 1 和 8,000 之间的数值,存储大小为 <em>n</em> 个字节</td></tr><tr><td style="font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; border:1px solid rgb(192,192,192); border-collapse:collapse; padding:3px; word-break:normal!important"> varchar(n)</td><td style="font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; border:1px solid rgb(192,192,192); border-collapse:collapse; padding:3px; word-break:normal!important"> 变长</td><td style="font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; border:1px solid rgb(192,192,192); border-collapse:collapse; padding:3px; word-break:normal!important"> 效率没char高 灵活</td><td style="font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; border:1px solid rgb(192,192,192); border-collapse:collapse; padding:3px; word-break:normal!important"> <em>n</em> 必须是一个介于 1 和 8,000 之间的数值。存储大小为输入数据的字节的实际长度，而不是 <em>n</em> 个字节</td></tr><tr><td style="font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; border:1px solid rgb(192,192,192); border-collapse:collapse; padding:3px; word-break:normal!important"> text(n)</td><td style="font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; border:1px solid rgb(192,192,192); border-collapse:collapse; padding:3px; word-break:normal!important"> 变长</td><td style="font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; border:1px solid rgb(192,192,192); border-collapse:collapse; padding:3px; word-break:normal!important"> 非Unicode数据</td><td style="font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; border:1px solid rgb(192,192,192); border-collapse:collapse; padding:3px; word-break:normal!important">  </td></tr><tr><td style="font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; border:1px solid rgb(192,192,192); border-collapse:collapse; padding:3px; word-break:normal!important"> nchar(n)</td><td style="font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; border:1px solid rgb(192,192,192); border-collapse:collapse; padding:3px; word-break:normal!important"> 定长</td><td style="font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; border:1px solid rgb(192,192,192); border-collapse:collapse; padding:3px; word-break:normal!important"> 处理unicode数据类型(所有的字符使用两个字节表示)</td><td style="font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; border:1px solid rgb(192,192,192); border-collapse:collapse; padding:3px; word-break:normal!important"> <em>n</em> 的值必须介于 1 与 4,000 之间。存储大小为 <em>n</em> 字节的两倍</td></tr><tr><td style="font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; border:1px solid rgb(192,192,192); border-collapse:collapse; padding:3px; word-break:normal!important"> nvarchar(n)</td><td style="font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; border:1px solid rgb(192,192,192); border-collapse:collapse; padding:3px; word-break:normal!important"> 变长</td><td style="font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; border:1px solid rgb(192,192,192); border-collapse:collapse; padding:3px; word-break:normal!important"> 处理unicode数据类型(所有的字符使用两个字节表示)</td><td style="font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; border:1px solid rgb(192,192,192); border-collapse:collapse; padding:3px; word-break:normal!important"> <em>n</em> 的值必须介于 1 与 4,000 之间。字节的存储大小是所输入字符个数的两倍。所输入的数据字符长度可以为零</td></tr><tr><td style="font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; border:1px solid rgb(192,192,192); border-collapse:collapse; padding:3px; word-break:normal!important"> ntext(n) <wbr></wbr></td><td style="font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; border:1px solid rgb(192,192,192); border-collapse:collapse; padding:3px; word-break:normal!important"> 变长</td><td style="font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; border:1px solid rgb(192,192,192); border-collapse:collapse; padding:3px; word-break:normal!important"> 处理unicode数据类型(所有的字符使用两个字节表示)</td><td style="font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; border:1px solid rgb(192,192,192); border-collapse:collapse; padding:3px; word-break:normal!important">  </td></tr></tbody></table> 
</div> 
<div style="font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:13px; line-height:19px">
  出处： 
 <a href="http://blog.sina.com.cn/s/blog_44e571d70100cagf.html" rel="nofollow noopener noreferrer" target="_blank" style="color:rgb(91,157,202); text-decoration:initial; padding:1px 2px">http://blog.sina.com.cn/s/blog_44e571d70100cagf.html</a> 
 <br> 
 <br> 
 <span style="color:red">一般来说，如果含有中文字符，用nchar/nvarchar，如果纯英文和数字，用char/varchar</span> 
 <br> 
 <br> 这里总结的不错 
 <br> 
 <a href="http://www.cnblogs.com/ebaidu/archive/2007/08/14/854778.html" rel="nofollow noopener noreferrer" target="_blank" style="color:rgb(91,157,202); text-decoration:initial; padding:1px 2px"><span style="font-family:Courier New; color:#6d5887">http://www.cnblogs.com/ebaidu/archive/2007/08/14/854778.html</span></a> 
</div> 
<div style="font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:13px; line-height:19px">
    
 <wbr></wbr> 
</div> 
<div style="font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:13px; line-height:19px">
    
 <wbr></wbr> 
</div> 
<div style="font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:13px; line-height:19px">
  很多开发者进行数据库设计的时候往往并没有太多的考虑char， varchar类型，有的是根本就没注意，因为存储价格变得越来越便宜了，忘记了最开始的一些基本设计理论和原则，这点让我想到了现在的年轻人，大手一挥一把人民币就从他手里溜走了，其实我想不管是做人也好，做开发也好，细节的把握直接决定很多东西。当然还有一部分人是根本就没弄清楚他们的区别，也就随便选一个。在这里我想对他们做个简单的分析，当然如果有不对的地方希望大家指教。 
 <p style="margin:5px auto; line-height:1.4">1、CHAR。<span style="line-height:1.5"><span style="font-family:Verdana">CHAR存储定长数据很方便，CHAR字段上的索引效率级高，<span style="color:#ff6600">比如定义char(10)，那么不论你存储的数据是否达到了10个字节，都要占去10个字节的空间,不足的自动用空格填充，所以在读取的时候可能要多次用到trim（）</span>。</span></span></p> 
 <p style="margin:5px auto; line-height:1.4"><span style="line-height:1.5"><span style="font-family:Verdana">2、VARCHAR。<span style="color:#ff0000">存储变长数据</span>，但存储效率没有CHAR高。</span><span style="font-family:宋体,Simsun">如果一个字段可能的值是不固定长度的，我们只知道它不可能超过10个字符，把它定义为 VARCHAR(10)是最合算的。VARCHAR类型的实际长度是它的值的实际长度+1。为什么“+1”呢？这一个字节用于保存实际使用了多大的长度。</span></span><span style="line-height:1.5"><span style="font-family:宋体"><span style="color:#ff6600">从空间上考虑，用varchar合适；<span style="line-height:1.5">从效率上考虑，用char合适，关键是根据实际情况找到权衡点。</span></span></span></span></p> 
 <p style="margin:5px auto; line-height:1.4"><span style="line-height:1.5"><span style="font-family:Verdana">3、TEXT。text存储可变长度的非Unicode数据，最大长度为2^31-1(2,147,483,647)个字符。</span></span></p> 
 <p style="margin:5px auto; line-height:1.4"><span style="line-height:1.5"><span style="font-family:Verdana">4、NCHAR、NVARCHAR、NTEXT。这三种从名字上看比前面三种多了个“N”。它表示存储的是Unicode数据类型的字符。我们知道字符中，英文字符只需要一个字节存储就足够了，但汉字众多，需要两个字节存储，英文与汉字同时存在时容易造成混乱，<span style="color:#ff0000">Unicode字符集就是为了解决字符集这种不兼容的问题而产生的，它所有的字符都用两个字节表示，即英文字符也是用两个字节表示。</span>nchar、nvarchar的长度是在1到4000之间。和char、varchar比较起来，nchar、nvarchar则最多存储4000个字符，不论是英文还是汉字；而char、varchar最多能存储8000个英文，4000个汉字。可以看出使用nchar、nvarchar数据类型时不用担心输入的字符是英文还是汉字，较为方便，但在存储英文时数量上有些损失。</span></span></p> 
 <div> 
  <div> 
   <span style="line-height:1.5"><span style="font-family:Verdana">所以一般来说，如果含有中文字符，用nchar/nvarchar，如果纯英文和数字，用char/varchar<br> <br> 我把他们的区别概括成：<br> </span><span style="font-family:Times New Roman">CHAR，</span><span style="font-family:Verdana">NCHAR 定长，速度快，占空间大，需处理<br> VARCHAR，NVARCHAR，TEXT 不定长，空间小，速度慢，无需处理<br> NCHAR、NVARCHAR、NTEXT处理Unicode码</span></span> 
  </div> 
  <div> 
   <span style="line-height:1.5"></span>  
  </div> 
  <div> 
   <span style="line-height:1.5">下面找到一段资料，来源<a href="http://wenku.baidu.com/view/eee97bf5f61fb7360b4c652b.html" rel="nofollow" style="color:rgb(91,157,202); text-decoration:initial; padding:1px 2px">http://wenku.baidu.com/view/eee97bf5f61fb7360b4c652b.html</a></span> 
  </div> 
  <div> 
   <span style="line-height:1.5"></span>  
  </div> 
  <div> 
   <span style="line-height:1.5">varchar在SQL Server中是采用单字节来存储数据的，nvarchar是使用Unicode来存储数据的．中文字符存储到SQL Server中会保存为两个字节（一般采用Unico编码），英文字符保存到数据库中，如果字段的类型为varchar，则只会占用</span> 
   <span style="line-height:1.5; color:red"><strong>一个字节</strong></span> 
   <span style="line-height:1.5">，而如果字段的类型为nvarchar，则会占用</span> 
   <span style="line-height:1.5; color:red"><strong>两个字节</strong></span> 
   <span style="line-height:1.5">． <br> 　　正常情况下，我们使用varchar</span> 
   <span style="line-height:1.5; color:red"><strong>也可以存储中文字符</strong></span> 
   <span style="line-height:1.5">，但是如果遇到操作系统是英文操作系统并且对中文字体的</span> 
   <span style="line-height:1.5; color:red"><strong>支持不全面时</strong></span> 
   <span style="line-height:1.5">, 在SQL Server存储中文字符为varchar就会出现乱码(显示为??)．而且正常情况下，主机都会支持中文的环境，所以如果使用varchar来存储数据，在开发阶段是发现不了的．多数情况下，在</span> 
   <span style="line-height:1.5; color:red"><strong>布署</strong><br> 　　</span> 
   <span style="line-height:1.5">当然，使用nvarchar存储英文字符会增大一倍的存储空间．但是在存储代价已经很低廉的情况下，优先考虑兼容性会给你带来更多好处的．</span> 
   <span style="line-height:1.5; color:red"><br> </span> 
   <span style="line-height:1.5">　　<strong>所以在Design的时候应该尽量使用nvarchar来存储数据．只有在你确保该字段不会保存中文的时候，才采用varchar来存储．</strong></span> 
   <span style="line-height:1.5"><strong>的时候也不会有问题．<br> </strong>　　但是！如果布署的主机是英文操作系统，并且不支持中文环境，那问题就出来了．所有的varchar字段在存储中文的时候都会变成乱码（显示为??）．而且一般情况下你不会知道这是因为你采用了错误的数据类型来存储所造成的，你会试着去装中文字体，试着去设置操作系统的语言环境．．．这些都不能解决问题，唯一能解决问题的是把数据库字段的类型个性为nvarchar（或者nchar）．对项目管理比较熟悉的朋友应该都知道，到布署阶段再来修改数据库是一个很恐怖的事情．<br> 　　<strong>使用nvarchar的另一个非常好处就是在判断字符串的时候可以不需要考虑中英文两种字符的差别．</strong></span> 
  </div> 
 </div> 
 <div> 
  <span style="line-height:1.5"><strong>出自http://www.cnblogs.com/yelaiju/archive/2010/05/29/1746826.html</strong></span> 
 </div> 
</div>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/86eda8e7cc59b7b51828fbc4ce64400a/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">POJ2031--Building a Space Station--最小生成树</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/f1dbec9aa1c555e91548890c888d1fc0/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">MySQL中varchar最大长度是多少？</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>