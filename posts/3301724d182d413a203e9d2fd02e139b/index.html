<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>将JSON写入文件 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="将JSON写入文件" />
<meta property="og:description" content="首先需要引入fastjson的依赖文件，以下是maven的依赖：
&lt;dependency&gt;&lt;groupId&gt;com.alibaba&lt;/groupId&gt;&lt;artifactId&gt;fastjson&lt;/artifactId&gt;&lt;version&gt;1.2.73&lt;/version&gt;&lt;/dependency&gt; 然后是将json字符串写到文件中去：
import com.alibaba.fastjson.JSON; import com.alibaba.fastjson.serializer.SerializerFeature; import java.io.File; import java.io.FileOutputStream; import java.io.OutputStreamWriter; import java.io.Writer; import java.nio.charset.StandardCharsets; public class JsonUtils { private static final String DEFAULT_SAVE_DIRECTORY = &#34;upload/file/&#34;; private static String SEPARATOR = File.separator; private static SimpleDateFormat DateSdf = new SimpleDateFormat(&#34;yyyyMMdd&#34;); public static void saveJson(JSONObject data,Long taskId,Long cmdId) { //写入操作 String content = JSON.toJSONString(data, SerializerFeature.PrettyFormat, SerializerFeature.WriteMapNullValue, SerializerFeature.WriteDateUseDateFormat); String filePath =DEFAULT_SAVE_DIRECTORY&#43; getStrDate() &#43;&#34;/&#34;&#43; &#34;taskId-&#34;&#43;taskId&#43;&#34;cmdId-&#34;&#43;cmdId&#43;&#34;.txt&#34;; try { File file = new File(filePath); // 创建上级目录 if (!" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/3301724d182d413a203e9d2fd02e139b/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-05-19T17:39:18+08:00" />
<meta property="article:modified_time" content="2023-05-19T17:39:18+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">将JSON写入文件</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <ul><li> <p>首先需要引入fastjson的依赖文件，以下是maven的依赖：</p> <pre></pre> 
  <table><tbody><tr><td></td><td><code>&lt;dependency&gt;</code></td></tr><tr><td></td><td><code>&lt;groupId&gt;com.alibaba&lt;/groupId&gt;</code></td></tr><tr><td></td><td><code>&lt;artifactId&gt;fastjson&lt;/artifactId&gt;</code></td></tr><tr><td></td><td><code>&lt;version&gt;1.2.73&lt;/version&gt;</code></td></tr><tr><td></td><td><code>&lt;/dependency&gt;</code></td></tr></tbody></table></li><li> <p>然后是将json字符串写到文件中去：</p> <pre></pre>   <pre><code class="hljs">

import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.serializer.SerializerFeature;
 
import java.io.File;
import java.io.FileOutputStream;
import java.io.OutputStreamWriter;
import java.io.Writer;
import java.nio.charset.StandardCharsets;
 
public class JsonUtils {
 
    private static final String DEFAULT_SAVE_DIRECTORY = "upload/file/";

    private static String SEPARATOR = File.separator;

    private static SimpleDateFormat DateSdf = new SimpleDateFormat("yyyyMMdd");

    public static void saveJson(JSONObject data,Long taskId,Long cmdId) {

//写入操作
        String content = JSON.toJSONString(data, SerializerFeature.PrettyFormat, SerializerFeature.WriteMapNullValue,
                SerializerFeature.WriteDateUseDateFormat);
        String filePath =DEFAULT_SAVE_DIRECTORY+ getStrDate() +"/"+ "taskId-"+taskId+"cmdId-"+cmdId+".txt";
        try {
            File file = new File(filePath);
            // 创建上级目录
            if (!file.getParentFile().exists()) {
                file.getParentFile().mkdirs();
            }
            // 如果文件存在，则删除文件
            if (file.exists()) {
                file.delete();
            }
            // 创建文件
            file.createNewFile();
            // 写入文件
            Writer write = new OutputStreamWriter(new FileOutputStream(file), StandardCharsets.UTF_8);
            write.write(content);
            write.flush();
            write.close();
        } catch (Exception e) {
            e.printStackTrace();
        }
    }

    private static String getStrDate() {
        return DateSdf.format(new Date());
    }
}</code></pre> <span style="color:#4d4d4d;"> </span></li></ul>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/b2bf2343ad47c58e801805ee4fde2483/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">SpringBoot开发实用篇1</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/e9b3d08307e1213d12e1bce15f64080d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">VUE3 使用百度地图 【点击获取对应坐标】</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>