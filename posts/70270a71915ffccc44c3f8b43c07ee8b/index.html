<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Android Toast的几种使用方式 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Android Toast的几种使用方式" />
<meta property="og:description" content="Toast是Android中常用的组件，下面介绍下Toast使用的几种方式和注意事项。
Toast的使用方式简单来说有下面五种：
1、默认的显示
// 第一个参数：当前的上下文环境。可用getApplicationContext()或Activity的context // 第二个参数：要显示的字符串。也可是R.string中字符串ID // 第三个参数：显示的时间长短。Toast默认的有两个LENGTH_LONG(长)和LENGTH_SHORT(短)，也可以使用毫秒如2000ms Toast toast=Toast.makeText(mContext, &#34;默认的Toast&#34;, Toast.LENGTH_SHORT); //显示toast信息 toast.show(); 2、自定义位置显示（值改变位置）
Toast toast=Toast.makeText(mContext, &#34;自定义显示位置的Toast&#34;, Toast.LENGTH_SHORT); //第一个参数：设置toast在屏幕中显示的位置。这里设置是居中靠顶 //第二个参数：相对于第一个参数设置toast位置的横向X轴的偏移量，正数向右偏移，负数向左偏移 //第三个参数：相对于第一个参数设置toast位置的纵向y轴的偏移量，正数向下偏移，负数向上偏移 //如果你设置的偏移量超过了屏幕的范围，toast将在屏幕内靠近超出的那个边界显示 toast.setGravity(Gravity.TOP|Gravity.CENTER, -50, 100); //屏幕居中显示，X轴和Y轴偏移量都是0 //toast.setGravity(Gravity.CENTER, 0, 0); toast.show(); 3、带图片显示（能够显示一个图标）
Toast toast=Toast.makeText(mContext, &#34;显示带图片的toast&#34;, 2000); toast.setGravity(Gravity.CENTER, 0, 0); //创建图片视图对象 ImageView imageView= new ImageView(mContext); //设置图片 imageView.setImageResource(R.drawable.image); //获得toast的布局 LinearLayout toastView = (LinearLayout) toast.getView(); //设置此布局为横向的 toastView.setOrientation(LinearLayout.HORIZONTAL); //将ImageView在加入到此布局中的第一个位置 toastView.addView(imageView, 0); toast.show(); 4、完全自定义显示
LayoutInflater inflater = getLayoutInflater(); //通过制定XML文件及布局ID来填充一个视图对象 View layout = inflater.inflate(R.layout.test,(ViewGroup)findViewById(R.id.toast)); ImageView image = (ImageView) layout." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/70270a71915ffccc44c3f8b43c07ee8b/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-04-07T15:19:44+08:00" />
<meta property="article:modified_time" content="2022-04-07T15:19:44+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Android Toast的几种使用方式</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>Toast是Android中常用的组件，下面介绍下Toast使用的几种方式和注意事项。</p> 
<p>Toast的使用方式简单来说有下面五种：</p> 
<p>1、默认的显示</p> 
<pre><code>// 第一个参数：当前的上下文环境。可用getApplicationContext()或Activity的context 
// 第二个参数：要显示的字符串。也可是R.string中字符串ID 
// 第三个参数：显示的时间长短。Toast默认的有两个LENGTH_LONG(长)和LENGTH_SHORT(短)，也可以使用毫秒如2000ms 
Toast toast=Toast.makeText(mContext, "默认的Toast", Toast.LENGTH_SHORT); 
//显示toast信息 
toast.show();</code></pre> 
<p><br> 2、自定义位置显示（值改变位置）</p> 
<pre><code>Toast toast=Toast.makeText(mContext, "自定义显示位置的Toast", Toast.LENGTH_SHORT); 
//第一个参数：设置toast在屏幕中显示的位置。这里设置是居中靠顶 
//第二个参数：相对于第一个参数设置toast位置的横向X轴的偏移量，正数向右偏移，负数向左偏移 
//第三个参数：相对于第一个参数设置toast位置的纵向y轴的偏移量，正数向下偏移，负数向上偏移 
//如果你设置的偏移量超过了屏幕的范围，toast将在屏幕内靠近超出的那个边界显示 
toast.setGravity(Gravity.TOP|Gravity.CENTER, -50, 100); 
//屏幕居中显示，X轴和Y轴偏移量都是0 
//toast.setGravity(Gravity.CENTER, 0, 0); 
toast.show();</code></pre> 
<p><br> 3、带图片显示（能够显示一个图标）</p> 
<pre><code>Toast toast=Toast.makeText(mContext, "显示带图片的toast", 2000); 
toast.setGravity(Gravity.CENTER, 0, 0); 
//创建图片视图对象 
ImageView imageView= new ImageView(mContext); 
//设置图片 
imageView.setImageResource(R.drawable.image); 
//获得toast的布局 
LinearLayout toastView = (LinearLayout) toast.getView(); 
//设置此布局为横向的 
toastView.setOrientation(LinearLayout.HORIZONTAL); 
//将ImageView在加入到此布局中的第一个位置 
toastView.addView(imageView, 0); 
toast.show();</code></pre> 
<p><br> 4、完全自定义显示</p> 
<pre><code>
LayoutInflater inflater = getLayoutInflater(); 
//通过制定XML文件及布局ID来填充一个视图对象 
View layout = inflater.inflate(R.layout.test,(ViewGroup)findViewById(R.id.toast)); 

ImageView image = (ImageView) layout.findViewById(R.id.image); 
//设置布局中图片视图中图片 
image.setImageResource(R.drawable.toast_image); 

TextView title = (TextView) layout.findViewById(R.id.title); 
//设置标题 
title.setText("标题"); 

TextView text = (TextView) layout.findViewById(R.id.content); 
//设置内容 
text.setText("自定义Toast"); 

Toast toast= new Toast(mContext); 
toast.setGravity(Gravity.CENTER , 0, 0); 
toast.setDuration(Toast.LENGTH_LONG); 
toast.setView(layout); 
toast.show();</code></pre> 
<p><br> 5、在其他线程中调用显示</p> 
<p>Toast只能运行在主UI线程，所以在线程中使用时必须结合Handler，通过发消息的方式最终在主线程显示Toast</p> 
<pre><code>Handler handler=new Handler(){ 
    @Override 
    public void handleMessage(Message msg) { 
    int what=msg.what; 
    switch (what) { 
        case 1: 
            showToast(); 
        break; 
    } 

};


public void showToast(){ 
    Toast toast=Toast.makeText(getApplicationContext(), "Toast在其他线程中显示",         Toast.LENGTH_SHORT); 
    toast.show(); 
} 


Runnable runnable = new Runnable(){

    @Override 
    public void run() { 
        handler.sendEmptyMessage(1); 
    }
}

</code></pre> 
<p></p> 
<p></p> 
<p>Toast使用注意事项：</p> 
<p>1、Toast只能在UI线程当中使用，在非UI线程使用会抛异常；</p> 
<p>2、使用Toast时最好定义一个全局的 Toast 对象，这样可以避免连续显示<br> Toast 时不能取消上一次 Toast 消息的情况(如果你有连续弹出 Toast 的情况，避免<br> 使用 Toast.makeText)。</p> 
<p>取消toast的方法为toast.cancel();</p> 
<p></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/7e4a0e9a1912393ca03cbb3c7c12615b/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">STM32 串口乱码</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/42f72021b3a7388000598e0e1d99aa9f/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">数组有值，但是获取不到内容，长度也为0</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>