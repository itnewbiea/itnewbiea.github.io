<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>linux-samba-install - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="linux-samba-install" />
<meta property="og:description" content="1、 centos 命令错误 [root@lucky /]# sudo apt-get install samba
sudo: apt-get: command not found
改为：
sudo yum install samba
2 、命令执行到最后出现 Error downloading packages:
samba-4.8.3-4.el7.x86_64: [Errno 256] No more mirrors to try.
pytalloc-2.1.13-1.el7.x86_64: [Errno 256] No more mirrors to try.
samba-libs-4.8.3-4.el7.x86_64: [Errno 256] No more mirrors to try.
samba-common-tools-4.8.3-4.el7.x86_64: [Errno 256] No more mirrors to try.
需要执行：
1.yum clean all
2.yum makecache
3.yum update 3 执行 yum makecache 出现如下错误 静态ip配置问题" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/1b506007779bfffc535d02597685650a/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-06-19T11:52:31+08:00" />
<meta property="article:modified_time" content="2019-06-19T11:52:31+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">linux-samba-install</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2><strong>1、 centos 命令错误</strong></h2> 
<p><img alt="" class="has" height="44" src="https://images2.imgbox.com/8d/f3/4Yc7zqtD_o.png" width="501"></p> 
<p>[root@lucky /]# sudo apt-get install samba<br> sudo: apt-get: command not found</p> 
<p>改为：</p> 
<p><img alt="" class="has" height="24" src="https://images2.imgbox.com/6a/85/1d4m866O_o.png" width="423"></p> 
<p>sudo yum install samba</p> 
<h2><strong>2 、命令执行到最后出现</strong></h2> 
<p><img alt="" class="has" height="111" src="https://images2.imgbox.com/15/fb/LZmsnQhN_o.png" width="856"></p> 
<p>Error downloading packages:<br>   samba-4.8.3-4.el7.x86_64: [Errno 256] No more mirrors to try.<br>   pytalloc-2.1.13-1.el7.x86_64: [Errno 256] No more mirrors to try.<br>   samba-libs-4.8.3-4.el7.x86_64: [Errno 256] No more mirrors to try.<br>   samba-common-tools-4.8.3-4.el7.x86_64: [Errno 256] No more mirrors to try.</p> 
<p>需要执行：</p> 
<p>1.yum clean all<br> 2.yum makecache<br> 3.yum update </p> 
<h2>3 执行 yum makecache 出现如下错误</h2> 
<p><img alt="" class="has" height="456" src="https://images2.imgbox.com/65/c3/7r5uLHCB_o.png" width="851"></p> 
<p>静态ip配置问题</p> 
<p>改为：</p> 
<p>vim /etc/sysconfig/network-scripts/ifcfg-eth0</p> 
<p><img alt="" class="has" height="410" src="https://images2.imgbox.com/9e/cd/sXjzm9pl_o.png" width="717"></p> 
<p> </p> 
<p>vi /etc/resolv.conf </p> 
<p><img alt="" class="has" height="70" src="https://images2.imgbox.com/58/05/r57k5jxM_o.png" width="336"></p> 
<p>重启：</p> 
<p>service network restart </p> 
<p>静态ip配置连接：</p> 
<p><a href="https://www.cnblogs.com/justuntil/p/7879748.html" rel="nofollow">https://www.cnblogs.com/justuntil/p/7879748.html</a></p> 
<h2>4 查看samba安装命令</h2> 
<p>rpm -qa | grep samba</p> 
<p><img alt="" class="has" height="144" src="https://images2.imgbox.com/9a/ff/b8JV8xpM_o.png" width="534"></p> 
<h2>5 、进程启用与查看</h2> 
<p>[root@lucky samba]# ps -ef | grep -E 'smb|nmb'<br> root     106335 103375  0 13:56 pts/2    00:00:00 grep --color=auto -E smb|nmb<br> [root@lucky samba]# <br> [root@lucky samba]# ps -ef | grep -E 'smb|nmb'<br> root     106337 103375  0 13:57 pts/2    00:00:00 grep --color=auto -E smb|nmb<br> [root@lucky samba]# systemctl start smb nmb<br> [root@lucky samba]# <br> [root@lucky samba]# ps -ef | grep -E 'smb|nmb'<br> root     106353      1  7 13:57 ?        00:00:00 /usr/sbin/smbd --foreground --no-process-group<br> root     106354      1  2 13:57 ?        00:00:00 /usr/sbin/nmbd --foreground --no-process-group<br> root     106356 106353  0 13:57 ?        00:00:00 /usr/sbin/smbd --foreground --no-process-group<br> root     106357 106353  0 13:57 ?        00:00:00 /usr/sbin/smbd --foreground --no-process-group<br> root     106358 106353  1 13:57 ?        00:00:00 /usr/sbin/smbd --foreground --no-process-group<br> root     106361 103375  0 13:57 pts/2    00:00:00 grep --color=auto -E smb|nmb</p> 
<p> </p> 
<p><img alt="" class="has" height="306" src="https://images2.imgbox.com/6d/42/LAVEYCwv_o.png" width="1069"></p> 
<p>查看Samba应用服务端口</p> 
<p>smbd应用进程主要监听139和445端口， nmbd应用进程主要监听137与138端口。</p> 
<p>[root@lucky samba]# netstat -tunlp | grep -E 'smbd|nmbd'<br> tcp        0      0 0.0.0.0:445             0.0.0.0:*               LISTEN      106353/smbd         <br> tcp        0      0 0.0.0.0:139             0.0.0.0:*               LISTEN      106353/smbd         <br> tcp6       0      0 :::445                  :::*                    LISTEN      106353/smbd         <br> tcp6       0      0 :::139                  :::*                    LISTEN      106353/smbd         <br> udp        0      0 192.168.122.255:137     0.0.0.0:*                           106354/nmbd         <br> udp        0      0 192.168.122.1:137       0.0.0.0:*                           106354/nmbd         <br> udp        0      0 192.168.177.255:137     0.0.0.0:*                           106354/nmbd         <br> udp        0      0 192.168.177.130:137     0.0.0.0:*                           106354/nmbd         <br> udp        0      0 0.0.0.0:137             0.0.0.0:*                           106354/nmbd         <br> udp        0      0 192.168.122.255:138     0.0.0.0:*                           106354/nmbd         <br> udp        0      0 192.168.122.1:138       0.0.0.0:*                           106354/nmbd         <br> udp        0      0 192.168.177.255:138     0.0.0.0:*                           106354/nmbd         <br> udp        0      0 192.168.177.130:138     0.0.0.0:*                           106354/nmbd         <br> udp        0      0 0.0.0.0:138             0.0.0.0:*                           106354/nmbd </p> 
<p><img alt="" class="has" height="301" src="https://images2.imgbox.com/a2/17/Kr4YiBNS_o.png" width="1040"></p> 
<p> </p> 
<p>6 </p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/94db4a4df4b64fdfd6f10bd232f9c74f/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">JSP中xmlhttp.responseText 返回的是Html代码</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/775943f9569be7b756a36e129b0170a5/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">详解C/C&#43;&#43;中volatile关键字</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>