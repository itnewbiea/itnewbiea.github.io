<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>argparse命令行解析模块 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="argparse命令行解析模块" />
<meta property="og:description" content="argparse命令行解析模块 基本用法ArgumentParser对象add_argument（）方法parse_args（）方法其他工具官方文档 argparse命令行解析模块 导入包
import argparse
基本用法 import argparse # 导入包 parser = argparse.ArgumentParser() # 构造解析器对象 parser.add_argument(&#34;echo&#34;) # 添加属性 args = parser.parse_args() # 解析参数 print(args.echo) # 获取输入的参数 ArgumentParser对象 class ArgumentParser(prog=None, usage=None, description=None, epilog=None, parents=[], formatter_class=argparse.HelpFormatter, prefix_chars=&#39;-&#39;, fromfile_prefix_chars=None, argument_default=None, conflict_handler=&#39;error&#39;, add_help=True)
PROG -程序的名称（默认：sys.argv[0]） usage - 描述程序用法的字符串（默认值：从添加到解析器的参数生成） description - 参数help之前显示的文本（默认值：none） epilog - 参数help后显示的文本（默认值：none） parents - ArgumentParser还应包含其参数的对象列表(相当于继承其他解析器的参数,不能覆盖重新,父解析器指定add_help=False,防止help参数冲突) formatter_class - 用于自定义帮助输出的类:
argparse.RawDescriptionHelpFormatter:表示描述和收尾已经正确格式化argparse.RawTextHelpFormatterargparse.ArgumentDefaultsHelpFormatterargparse.MetavarTypeHelpFormatter prefix_chars - 前缀可选参数的字符集（默认值：’ - ‘）,例如:prefix_chars=’-&#43;’ fromfile_prefix_chars -特定符号（默认值：None）,参数中此特定符号加文件名表示读取该文件的内容,作为参数.文件的每行代表一个参数,顺序表示在命令行中的顺序 argument_default -为参数的全局默认值（默认值：None） conflict_handler - 解决冲突选项的策略（通常是不必要的）,conflict_handler=’resolve’ add_help -添加-h/–help选项解析器（默认值：True） allow_abbrev - 如果缩写是明确的，则允许缩写长选项。（默认值：True）" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/66104e4daec5902a2fd1e5c9aad0e3ec/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-09-16T15:37:29+08:00" />
<meta property="article:modified_time" content="2018-09-16T15:37:29+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">argparse命令行解析模块</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night-eighties">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <div id="top"></div> 
<p></p> 
<div class="toc"> 
 <ul><li><a href="#argparse%E5%91%BD%E4%BB%A4%E8%A1%8C%E8%A7%A3%E6%9E%90%E6%A8%A1%E5%9D%97" rel="nofollow">argparse命令行解析模块</a> 
   <ul><li><a href="#%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95" rel="nofollow">基本用法</a></li><li><a href="#argumentparser%E5%AF%B9%E8%B1%A1" rel="nofollow">ArgumentParser对象</a></li><li><a href="#addargument%E6%96%B9%E6%B3%95" rel="nofollow">add_argument（）方法</a></li><li><a href="#parseargs%E6%96%B9%E6%B3%95" rel="nofollow">parse_args（）方法</a></li><li><a href="#%E5%85%B6%E4%BB%96%E5%B7%A5%E5%85%B7" rel="nofollow">其他工具</a></li><li><a href="#%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3" rel="nofollow">官方文档</a></li></ul> </li></ul> 
</div> 
<p></p> 
<h2 id="argparse命令行解析模块">argparse命令行解析模块</h2> 
<p>导入包</p> 
<p>import argparse</p> 
<h3 id="基本用法">基本用法</h3> 
<pre class="prettyprint"><code class=" hljs avrasm">import argparse  <span class="hljs-preprocessor"># 导入包</span>
parser = argparse<span class="hljs-preprocessor">.ArgumentParser</span>() <span class="hljs-preprocessor"># 构造解析器对象</span>
parser<span class="hljs-preprocessor">.add</span>_argument(<span class="hljs-string">"echo"</span>) <span class="hljs-preprocessor"># 添加属性</span>
args = parser<span class="hljs-preprocessor">.parse</span>_args() <span class="hljs-preprocessor"># 解析参数</span>
print(args<span class="hljs-preprocessor">.echo</span>) <span class="hljs-preprocessor"># 获取输入的参数</span></code></pre> 
<h3 id="argumentparser对象">ArgumentParser对象</h3> 
<p><code>class ArgumentParser(prog=None, usage=None, description=None, epilog=None, parents=[], formatter_class=argparse.HelpFormatter, prefix_chars='-', fromfile_prefix_chars=None, argument_default=None, conflict_handler='error', add_help=True)</code></p> 
<p>PROG -程序的名称（默认：sys.argv[0]） <br> usage - 描述程序用法的字符串（默认值：从添加到解析器的参数生成） <br> description - 参数help之前显示的文本（默认值：none） <br> epilog - 参数help后显示的文本（默认值：none） <br> parents - ArgumentParser还应包含其参数的对象列表(相当于继承其他解析器的参数,不能覆盖重新,父解析器指定add_help=False,防止help参数冲突) <br> formatter_class - 用于自定义帮助输出的类:</p> 
<ul><li>argparse.RawDescriptionHelpFormatter:表示描述和收尾已经正确格式化</li><li>argparse.RawTextHelpFormatter</li><li>argparse.ArgumentDefaultsHelpFormatter</li><li>argparse.MetavarTypeHelpFormatter</li></ul> 
<p>prefix_chars - 前缀可选参数的字符集（默认值：’ - ‘）,例如:prefix_chars=’-+’ <br> fromfile_prefix_chars -特定符号（默认值：None）,参数中此特定符号加文件名表示读取该文件的内容,作为参数.文件的每行代表一个参数,顺序表示在命令行中的顺序 <br> argument_default -为参数的全局默认值（默认值：None） <br> conflict_handler - 解决冲突选项的策略（通常是不必要的）,conflict_handler=’resolve’ <br> add_help -添加-h/–help选项解析器（默认值：True） <br> allow_abbrev - 如果缩写是明确的，则允许缩写长选项。（默认值：True）</p> 
<h3 id="addargument方法">add_argument（）方法</h3> 
<p><code>ArgumentParser.add_argument(name or flags...[, action][, nargs][, const][, default][, type][, choices][, required][, help][, metavar][, dest])</code></p> 
<p>name or flags - 选项字符串的名称或列表，例如foo(位置参数) 或-f, –foo(可选参数) <br> action - 在命令行遇到此参数时要采取的基本操作类型:</p> 
<ul><li>‘store’ - 这只是存储参数的值。这是默认操作</li><li>‘store_const’- 它存储const关键字参数指定的值,常用于指定某种标志的可选参数</li><li>‘store_true’和’store_false’-默认参数的值分别False和True</li><li>‘append’ - 它存储一个列表，并将每个参数值附加到列表中</li><li>‘append_const’- 它存储一个列表，并将const关键字参数指定的值附加到列表中</li><li>‘count’ - 这计算关键字参数出现的次数</li><li>‘help’ - 这将打印当前解析器中所有选项的完整帮助消息，然后退出</li><li>‘version’- 这需要调用中version=关键字参数,并打印版本信息并在调用时退出</li></ul> 
<p>nargs - 应该使用的命令行参数的数量:</p> 
<ul><li>N（整数）将命令行中的N个参数一起收集到一个列表中</li><li>‘?’。如果可能，将从命令行使用一个参数，并将其作为单个项生成。如果不存在命令行参数，则将生成默认值default 。对于可选参数，还有一种情况 - 选项字符串存在但后面没有命令行参数。在这种情况下，将生成const的值。</li><li>‘*’。存在的所有命令行参数都收集到列表中</li><li>‘+’。就像’*’，所有存在的命令行参数都被收集到一个列表中。此外，如果不存在至少一个命令行参数，将生成错误消息。</li><li>argparse.REMAINDER。所有剩余的命令行参数都收集到一个列表中</li></ul> 
<p>const - 某些操作和nargs选择所需的常量值。 <br> default - 如果命令行中不存在参数，则生成的值。 <br> type - 应转换命令行参数的类型:</p> 
<ul><li>open对文件</li><li>argparse.FileType可以对文件提供更详细的控制,argparse.FileType(‘w’)创建可写文件</li></ul> 
<p>choices - 参数允许值的容器。 <br> required - 是否可以省略命令行选项（仅限可选参数）。 <br> help - 对参数的作用的简要描述。 <br> metavar - 用法消息中参数的显示名称。 <br> dest - 要添加到返回的对象的属性的名称 <br> class argparse.Action（option_strings，dest，nargs = None，const = None，default = None，type = None，choices = None，required = False，help = None，metavar = None ）</p> 
<h3 id="parseargs方法">parse_args（）方法</h3> 
<p>ArgumentParser.parse_args（args = None，namespace = None ）:将参数字符串转换为对象并将其指定为命名空间的属性。返回填充的命名空间</p> 
<h3 id="其他工具">其他工具</h3> 
<p><code>ArgumentParser.add_subparsers（[ title ] [，description ] [，prog ] [，parser_class ] [，action ] [，option_string ] [，dest ] [，required ] [，help ] [，metavar ] ）</code>:创建子命令 </p> 
<pre class="prettyprint"><code class=" hljs mathematica">title - 帮助输出中的子解析器组的标题; 默认情况下为“subcommands”（如果提供了description），否则使用title作为位置参数
description - 默认情况下，帮助输出中的子解析器组的描述 <span class="hljs-keyword">None</span>
prog - 将使用子命令帮助显示的使用信息，默认情况下，程序的名称和subparser参数之前的任何位置参数
parser_class - 将用于创建子解析器实例的类，默认情况下是当前解析器的类（例如ArgumentParser）
action - 在命令行遇到此参数时要采取的基本操作类型
dest - 将存储子命令名称的属性的名称; 默认情况下<span class="hljs-keyword">None</span>，不存储任何值
required - 默认情况下是否必须提供子命令 <span class="hljs-keyword">False</span>。
help - 默认情况下，帮助输出中的子解析器组的帮助<span class="hljs-keyword">None</span>
metavar - 在帮助中显示可用子命令的字符串; 默认情况下它是，<span class="hljs-keyword">None</span>并以<span class="hljs-list">{cmd1，cmd2，..}</span>形式显示子命令</code></pre> 
<p><code>class argparse.FileType（mode ='r'，bufsize = -1，encoding = None，errors = None ）</code>:创建一个可以传递给类型参数的对象ArgumentParser.add_argument()。具有 FileType对象作为其类型的参数将打开命令行参数作为具有所请求的模式，缓冲区大小，编码和错误处理的文件</p> 
<p><code>ArgumentParser.add_argument_group（title = None，description = None ）</code>:返回一个参数组对象，该对象和ArgumentParser对象类似,选项分组</p> 
<pre class="prettyprint"><code class=" hljs python"><span class="hljs-prompt">&gt;&gt;&gt; </span>parser = argparse.ArgumentParser(prog=<span class="hljs-string">'PROG'</span>, add_help=<span class="hljs-keyword">False</span>)
<span class="hljs-prompt">&gt;&gt;&gt; </span>group = parser.add_argument_group(<span class="hljs-string">'group'</span>)
<span class="hljs-prompt">&gt;&gt;&gt; </span>group.add_argument(<span class="hljs-string">'--foo'</span>, help=<span class="hljs-string">'foo help'</span>)</code></pre> 
<p><code>ArgumentParser.add_mutually_exclusive_group(required=False)</code>:创建一个互斥的组,该对象和ArgumentParser对象类似</p> 
<pre class="prettyprint"><code class=" hljs cs">&gt;&gt;&gt; <span class="hljs-keyword">group</span> = parser.add_mutually_exclusive_group()
&gt;&gt;&gt; <span class="hljs-keyword">group</span>.add_argument(<span class="hljs-string">'--foo'</span>, action=<span class="hljs-string">'store_true'</span>)
&gt;&gt;&gt; <span class="hljs-keyword">group</span>.add_argument(<span class="hljs-string">'--bar'</span>, action=<span class="hljs-string">'store_false'</span>)</code></pre> 
<p><code>ArgumentParser.set_defaults（** kwargs ）</code>:添加属性及值</p> 
<pre class="prettyprint"><code class=" hljs ocaml">&gt;&gt;&gt; <span class="hljs-keyword">parser</span>.add_argument(<span class="hljs-string">'foo'</span>, <span class="hljs-class"><span class="hljs-keyword">type</span>=</span><span class="hljs-built_in">int</span>)
&gt;&gt;&gt; <span class="hljs-keyword">parser</span>.set_defaults(bar=<span class="hljs-number">42</span>, baz=<span class="hljs-string">'badger'</span>)</code></pre> 
<p><code>ArgumentParser.get_default（dest ）</code>:获取命名空间属性的默认值</p> 
<pre class="prettyprint"><code class=" hljs python"><span class="hljs-prompt">&gt;&gt;&gt; </span>parser.add_argument(<span class="hljs-string">'--foo'</span>, default=<span class="hljs-string">'badger'</span>)
<span class="hljs-prompt">&gt;&gt;&gt; </span>parser.get_default(<span class="hljs-string">'foo'</span>)</code></pre> 
<h3 id="官方文档">官方文档</h3> 
<p>[官方教程翻译]<a href="https://blog.ixxoo.me/argparse.html" rel="nofollow">https://blog.ixxoo.me/argparse.html</a> <br> [官方文档]<a href="https://docs.python.org/3/library/argparse.html#argparse.ArgumentParser.add_argument" rel="nofollow">https://docs.python.org/3/library/argparse.html#argparse.ArgumentParser.add_argument</a> </p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/13c4a820fe1f030cbea4b114260ef072/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">8、最少交换次数</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/0acb7b190fa54b8d08fca12310269881/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">从一道CTF题学习PHP反序列化漏洞</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>