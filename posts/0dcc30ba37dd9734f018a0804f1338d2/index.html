<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>C&#43;&#43;引用详解 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="C&#43;&#43;引用详解" />
<meta property="og:description" content="❤️ 引用(&amp;) 文章目录 ❤️ 引用(&amp;)💟 1、引用🖊 1.1 概念🖊 1.2 书写形式✏️ 1.3 注意事项 🖤 2、引用特性💛 3、常引用💘 4、引用使用的场景🐒 4.1 引用做参数🐷 4.2 引用做返回值 💚 5、引用和指针的区别 💟 1、引用 🖊 1.1 概念 引用变量是一个别名，也就是说，它是某个已存在变量的名字。一旦把引用初始化为某个变量，就可以使用该引用名称或者变量名称来指向变量。
🖊 1.2 书写形式 ​ 类型&amp; 引用变量名(对象名)=引用实体
int main() { int a = 10; int&amp; ra = a; // ra为a的引用 return 0; } ✏️ 1.3 注意事项 1、引用不是新定义一个变量，而是给已存在变量取一个别名，编译器不会为引用变量开辟内存空间，它和它引用的变量共用同一块内存空间。
在vs编译器调试下我们可以看到，a和ra的值相同，并且他们的地址也相同。如图：
2、引用类型必须和引用实体类型是同种类型的。
int类型的数据必须使用相应类型的引用，否则编译器会报错！！！
🖤 2、引用特性 1、引用在定义时必须初始化
2、一个变量可以有多个引用
3、引用一旦引用一个实体，再不能引用其他实体
执行ra = b这条语句后，并不是改变了ra这个引用，ra仍为a的引用，从图中可以看到ra的地址仍为a的地址。
💛 3、常引用 int main() { const int a = 10; int&amp; ra = a; //权限放大，不行 const int&amp; rra = a; //权限平移可以 int b = 20; const int&amp; rb = b; //权限缩小，可以 const int&amp; rc = 10; //权限平移，必须加上const return 0; } 小结：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/0dcc30ba37dd9734f018a0804f1338d2/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-11-17T20:50:21+08:00" />
<meta property="article:modified_time" content="2022-11-17T20:50:21+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">C&#43;&#43;引用详解</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="__0"></a>❤️ 引用(&amp;)</h2> 
<p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#__0" rel="nofollow">❤️ 引用(&amp;)</a></li><li><ul><li><a href="#_1_3" rel="nofollow">💟 1、引用</a></li><li><ul><li><a href="#_11__5" rel="nofollow">🖊 1.1 概念</a></li><li><a href="#_12__9" rel="nofollow">🖊 1.2 书写形式</a></li><li><a href="#_13__22" rel="nofollow">✏️ 1.3 注意事项</a></li></ul> 
   </li><li><a href="#_2_35" rel="nofollow">🖤 2、引用特性</a></li><li><a href="#_3_50" rel="nofollow">💛 3、常引用</a></li><li><a href="#_4_74" rel="nofollow">💘 4、引用使用的场景</a></li><li><ul><li><a href="#_41__76" rel="nofollow">🐒 4.1 引用做参数</a></li><li><a href="#_42__94" rel="nofollow">🐷 4.2 引用做返回值</a></li></ul> 
   </li><li><a href="#_5_130" rel="nofollow">💚 5、引用和指针的区别</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h3><a id="_1_3"></a>💟 1、引用</h3> 
<h4><a id="_11__5"></a>🖊 1.1 概念</h4> 
<blockquote> 
 <p><strong><font color="red">引用变量是一个别名，也就是说，它是某个已存在变量的名字。一旦把引用初始化为某个变量，就可以使用该引用名称或者变量名称来指向变量。</font></strong></p> 
</blockquote> 
<h4><a id="_12__9"></a>🖊 1.2 书写形式</h4> 
<p>​ <strong><font color="red">类型&amp; 引用变量名(对象名)=引用实体</font></strong></p> 
<pre><code class="prism language-c++">int main()
{
	int a = 10;
	int&amp; ra = a;    //  ra为a的引用
	return 0;
}
</code></pre> 
<h4><a id="_13__22"></a>✏️ 1.3 注意事项</h4> 
<blockquote> 
 <p><font color="blue"><strong>1、引用不是新定义一个变量，而是给已存在变量取一个别名，编译器不会为引用变量开辟内存空间，它和它引用的变量共用同一块内存空间。</strong></font></p> 
 <p><strong>在vs编译器调试下我们可以看到，a和ra的值相同，并且他们的地址也相同。如图：</strong><br> <img src="https://images2.imgbox.com/95/a2/TgNjfNpp_o.png" alt="在这里插入图片描述"></p> 
 <p><font color="blue"><strong>2、引用类型必须和引用实体类型是同种类型的。</strong></font></p> 
 <p>i<strong>nt类型的数据必须使用相应类型的引用，否则编译器会报错！！！</strong><br> <img src="https://images2.imgbox.com/33/31/3t6qYoTr_o.png" alt="在这里插入图片描述"></p> 
</blockquote> 
<h3><a id="_2_35"></a>🖤 2、引用特性</h3> 
<blockquote> 
 <p><font color="blue"><strong>1、引用在定义时必须初始化</strong></font></p> 
 <p><img src="https://images2.imgbox.com/18/4c/vdf0fBJs_o.png" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-sKZ4ec7j-1668688148688)(C:\Users\25584\AppData\Roaming\Typora\typora-user-images\image-20221117122117325.png)]"></p> 
 <p><font color="blue"><strong>2、一个变量可以有多个引用</strong><br> <img src="https://images2.imgbox.com/92/af/cKfyya5K_o.png" alt="在这里插入图片描述"></font></p> 
 <p><font color="blue"><strong>3、引用一旦引用一个实体，再不能引用其他实体</strong><br> <img src="https://images2.imgbox.com/d4/24/POxax5bu_o.png" alt="在这里插入图片描述"></font></p> 
 <p><font color="red"><strong>执行ra = b这条语句后，并不是改变了ra这个引用，ra仍为a的引用，从图中可以看到ra的地址仍为a的地址。</strong></font></p> 
</blockquote> 
<h3><a id="_3_50"></a>💛 3、常引用</h3> 
<blockquote> 
 <pre><code class="prism language-c++">int main()
{
	const int a = 10;
	int&amp; ra = a;  //权限放大，不行 
	const int&amp; rra = a;  //权限平移可以

	int b = 20;
	const int&amp; rb = b;  //权限缩小，可以
	     const int&amp; rc = 10;  //权限平移，必须加上const
	return 0;
}
</code></pre> 
</blockquote> 
<p><font color="red"><strong>小结：</strong></font></p> 
<blockquote> 
 <p><font color="blue"> <strong>指针和引用赋值中，权限可以平移、缩小，但是不能放大。</strong></font></p> 
 <p><font color="blue"><strong>所以当引用做参数时，为了防止权限放大，都是一般用const 引用</strong></font></p> 
 <p><font color="blue"><strong>引用在可以被定义为const的情况下，应当尽量被定义成const。</strong></font></p> 
</blockquote> 
<h3><a id="_4_74"></a>💘 4、引用使用的场景</h3> 
<h4><a id="_41__76"></a>🐒 4.1 引用做参数</h4> 
<pre><code class="prism language-c++">void Swap(int&amp; left,int&amp; right)
{
    int tmp = left;
    left = right;
    right = tmp;
}
void Swap1(int* left,int* right)
{
    int tmp = *left;
    *left = *right;
    *right = tmp;
}
//引用做参数相当于C语言中的指针做参数
</code></pre> 
<h4><a id="_42__94"></a>🐷 4.2 引用做返回值</h4> 
<pre><code class="prism language-c++">//正确形式
int&amp; Count_1()
{
    static int n = 0;  //静态变量，存储在静态区
    n++;
    return n;
}
//错误形式
int&amp; Count_2()
{
    int m = 0;  //局部变量，存储在栈中
    m++;
    return m;
}
</code></pre> 
<p><font color="red"><strong>解释：</strong></font></p> 
<blockquote> 
 <p><font color="blue">函数运行时，系统需要给该函数开辟独立的<font color="red"><strong>栈空间</strong>，<font color="blue">用来保存该函数的<font color="red"><strong>形参，局部变量以及一些寄存器的信息</strong>等。</font></font></font></font></p> 
 <p><font color="blue"><strong>但函数运行结束后，该函数对应的栈空间就被系统回收了，但是对应的内存还在。</strong></font></p> 
 <p><font color="blue"> <strong>如果这时使用传引用返回，由于那块空间已经不属于此函数，再去访问数据时，得到的结果就是随机值</strong>。</font></p> 
</blockquote> 
<p><strong><font color="red">解决方法：</font></strong></p> 
<blockquote> 
 <p><font color="blue">- <strong>为局部变量加上static修饰，这样变量就存储在静态区</strong><br> <font color="blue"> - <strong>使用全局变量（不推荐）</strong></font></font></p> 
</blockquote> 
<p><strong>总结：</strong></p> 
<blockquote> 
 <p><font color="red"><strong>如果函数返回时，出了函数作用域，如果返回对象还在（还没返回系统），则可以使用引用返回，如果已经还给系统，则必须使用传值返回。</strong></font></p> 
</blockquote> 
<h3><a id="_5_130"></a>💚 5、引用和指针的区别</h3> 
<blockquote> 
 <p><font color="blue"><strong>1、引用概念上定义一个变量的别名，指针存储一个变量</strong>地址。</font></p> 
 <p><img src="https://images2.imgbox.com/8f/f9/2Ny44mx4_o.png" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-LtUKbDL2-1668688148690)(C:\Users\25584\AppData\Roaming\Typora\typora-user-images\image-20221117200343908.png)]"></p> 
 <blockquote> 
  <p><font color="red"><strong>ra的地址和a的地址相同，b的地址和 pb的地址不同</strong>。</font></p> 
 </blockquote> 
 <p><font color="blue"><strong>2、引用在定义时必须初始化，指针则没有要求</strong>。</font></p> 
 <p><font color="blue"><strong>3、引用在初始化时引用一个实体后，就不能再引用其他实体，而指针可以在任何时候指向任何一个同类型实体。</strong></font></p> 
 <p><img src="https://images2.imgbox.com/7c/7f/W2p49zmn_o.png" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-p6Ife0UV-1668688148690)(C:\Users\25584\AppData\Roaming\Typora\typora-user-images\image-20221117200637019.png)]"></p> 
 <blockquote> 
  <p><font color="red"><strong>可以将c的地址赋值给pb，即指针可以指向任何一个同类型的实体，但是引用不可以</strong></font></p> 
 </blockquote> 
 <p><font color="blue"> <strong>4、没有NULL引用，但是有NULL指针。</strong></font></p> 
 <p><font color="blue"><strong>5、在sizeof中含义不同：引用结果为引用类型的大小，但指针始终是地址空间所在字节个数（32位平台下为4个字节，64为平台下为8个字节）</strong></font></p> 
 <p><img src="https://images2.imgbox.com/5b/a0/NjaixEaD_o.png" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-bvRZmZoa-1668688148691)(C:\Users\25584\AppData\Roaming\Typora\typora-user-images\image-20221117200920631.png)]"></p> 
 <p><font color="blue"><strong>6、引用自加即引用实体加1，指针自加即指针向后偏移一个类型字节的大小。</strong></font></p> 
 <p><font color="blue"><strong>7、有多级指针，但是没有多级引用。</strong></font></p> 
 <p><font color="blue"><strong>8、访问实体方式不同，指针需要显示解引用，引用编译器自己处理。</strong></font></p> 
 <p><font color="blue"> <strong>9、引用比指针使用起来相对更安全。</strong></font></p> 
</blockquote>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e9ca465113694ecb65452ec3aa4c89f7/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">C语言的简单运用——扫雷(基础篇)</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a50dd2e66f52fd6a1729e824b3990761/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">break、continue、return的使用与区别</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>