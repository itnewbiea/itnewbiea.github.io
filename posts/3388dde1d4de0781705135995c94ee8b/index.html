<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>将像素转换为 dp - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="将像素转换为 dp" />
<meta property="og:description" content="问： 我为分辨率为 480x800 的 Pantech 设备创建了我的应用程序，其高度和宽度以像素为单位。
我需要为 G1 设备转换高度和宽度。我认为将其转换为 dp 将解决问题并为两种设备提供相同的解决方案。
有什么简单的方法可以将像素转换为 dp？有什么建议么？
答1: HuntsBot周刊–不定时分享成功产品案例，学习他们如何成功建立自己的副业–huntsbot.com
Java代码：
// Converts 14 dip into its equivalent px float dip = 14f; Resources r = getResources(); float px = TypedValue.applyDimension( TypedValue.COMPLEX_UNIT_DIP, dip, r.getDisplayMetrics() ); 科特林代码：
val dip = 14f val r: Resources = resources val px = TypedValue.applyDimension( TypedValue.COMPLEX_UNIT_DIP, dip, r.displayMetrics ) Kotlin 扩展：
val Number.toPx get() = TypedValue.applyDimension( TypedValue.COMPLEX_UNIT_DIP, this.toFloat(), Resources.getSystem().displayMetrics) huntsbot.com全球7大洲远程工作机会，探索不一样的工作方式" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/3388dde1d4de0781705135995c94ee8b/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-01-19T08:31:50+08:00" />
<meta property="article:modified_time" content="2023-01-19T08:31:50+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">将像素转换为 dp</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="_0"></a>问：</h2> 
<p>我为分辨率为 480x800 的 Pantech 设备创建了我的应用程序，其高度和宽度以像素为单位。</p> 
<p>我需要为 G1 设备转换高度和宽度。我认为将其转换为 dp 将解决问题并为两种设备提供相同的解决方案。</p> 
<p>有什么简单的方法可以将像素转换为 dp？有什么建议么？</p> 
<h2><a id="1_7"></a>答1:</h2> 
<blockquote> 
 <p>HuntsBot周刊–不定时分享成功产品案例，学习他们如何成功建立自己的副业–huntsbot.com</p> 
</blockquote> 
<p>Java代码：</p> 
<pre><code class="prism language-java"><span class="token comment">// Converts 14 dip into its equivalent px</span>
<span class="token keyword">float</span> dip <span class="token operator">=</span> <span class="token number">14f</span><span class="token punctuation">;</span>
<span class="token class-name">Resources</span> r <span class="token operator">=</span> <span class="token function">getResources</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">float</span> px <span class="token operator">=</span> <span class="token class-name">TypedValue</span><span class="token punctuation">.</span><span class="token function">applyDimension</span><span class="token punctuation">(</span>
    <span class="token class-name">TypedValue</span><span class="token punctuation">.</span><span class="token constant">COMPLEX_UNIT_DIP</span><span class="token punctuation">,</span>
    dip<span class="token punctuation">,</span>
    r<span class="token punctuation">.</span><span class="token function">getDisplayMetrics</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre> 
<p>科特林代码：</p> 
<pre><code class="prism language-java"> val dip <span class="token operator">=</span> <span class="token number">14f</span>
 val r<span class="token operator">:</span> <span class="token class-name">Resources</span> <span class="token operator">=</span> resources
 val px <span class="token operator">=</span> <span class="token class-name">TypedValue</span><span class="token punctuation">.</span><span class="token function">applyDimension</span><span class="token punctuation">(</span>
     <span class="token class-name">TypedValue</span><span class="token punctuation">.</span><span class="token constant">COMPLEX_UNIT_DIP</span><span class="token punctuation">,</span>
     dip<span class="token punctuation">,</span>
     r<span class="token punctuation">.</span>displayMetrics
 <span class="token punctuation">)</span>

</code></pre> 
<p>Kotlin 扩展：</p> 
<pre><code class="prism language-java">val <span class="token class-name">Number</span><span class="token punctuation">.</span>toPx <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token class-name">TypedValue</span><span class="token punctuation">.</span><span class="token function">applyDimension</span><span class="token punctuation">(</span>
  <span class="token class-name">TypedValue</span><span class="token punctuation">.</span><span class="token constant">COMPLEX_UNIT_DIP</span><span class="token punctuation">,</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">toFloat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token class-name">Resources</span><span class="token punctuation">.</span><span class="token function">getSystem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>displayMetrics<span class="token punctuation">)</span>

</code></pre> 
<blockquote> 
 <p>huntsbot.com全球7大洲远程工作机会，探索不一样的工作方式</p> 
</blockquote> 
<p><code>注意：以上是将 DIP 转换为像素。最初的问题询问如何将像素转换为 Dips！</code></p> 
<p><code>这是对 OP 的真实答案：stackoverflow.com/questions/6656540/…</code></p> 
<p><code>有趣的是，当它没有真正回答问题时答案如何更有帮助-_-我以为我想要问题所问的，然后我意识到我没有！这么棒的答案。我确实有一个问题。如何获取 applyDimension 的最后一个参数？我可以只做getResource().getDisplayMetrics()，还是有别的？</code></p> 
<p><code>注意：相对昂贵的操作。尝试缓存这些值以便更快地访问</code></p> 
<p><code>如果无权访问 Context 对象，请使用 Resources.getSystem().getDisplayMetrics()</code></p> 
<h2><a id="2_65"></a>答2:</h2> 
<blockquote> 
 <p>huntsbot.com洞察每一个产品背后的需求与收益，从而捕获灵感</p> 
</blockquote> 
<pre><code class="prism language-java"><span class="token comment">/**
 * This method converts dp unit to equivalent pixels, depending on device density. 
 * 
 * @param dp A value in dp (density independent pixels) unit. Which we need to convert into pixels
 * @param context Context to get resources and device specific display metrics
 * @return A float value to represent px equivalent to dp depending on device density
 */</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">float</span> <span class="token function">convertDpToPixel</span><span class="token punctuation">(</span><span class="token keyword">float</span> dp<span class="token punctuation">,</span> <span class="token class-name">Context</span> context<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> dp <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">float</span><span class="token punctuation">)</span> context<span class="token punctuation">.</span><span class="token function">getResources</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDisplayMetrics</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>densityDpi <span class="token operator">/</span> <span class="token class-name">DisplayMetrics</span><span class="token punctuation">.</span><span class="token constant">DENSITY_DEFAULT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/**
 * This method converts device specific pixels to density independent pixels.
 * 
 * @param px A value in px (pixels) unit. Which we need to convert into db
 * @param context Context to get resources and device specific display metrics
 * @return A float value to represent dp equivalent to px value
 */</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">float</span> <span class="token function">convertPixelsToDp</span><span class="token punctuation">(</span><span class="token keyword">float</span> px<span class="token punctuation">,</span> <span class="token class-name">Context</span> context<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> px <span class="token operator">/</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">float</span><span class="token punctuation">)</span> context<span class="token punctuation">.</span><span class="token function">getResources</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDisplayMetrics</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>densityDpi <span class="token operator">/</span> <span class="token class-name">DisplayMetrics</span><span class="token punctuation">.</span><span class="token constant">DENSITY_DEFAULT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> 
<p><code>可能值得返回一个 int Math.round(px) 因为大多数方法都需要一个整数值</code></p> 
<p><code>@MuhammadBabar 这是因为 160 dpi (mdpi) 是计算其他密度的基线密度。例如 hdpi 被认为是 mdpi 密度的 1.5 倍，这实际上只是 240 dpi 的另一种说法。有关所有密度，请参见下面的 Zsolt Safrany 的答案。</code></p> 
<p><code>@TomTasche：来自 Resource.getSystem() 的文档（强调我的）：“返回一个全局共享资源对象，该对象仅提供对系统资源（无应用程序资源）的访问，并且未针对当前屏幕进行配置（不能使用尺寸单位，不会因方向等而改变）。”</code></p> 
<p><code>开发商可以选择上限/下限价值。最好将控制权交给开发人员。</code></p> 
<p><code>我会推荐 DisplayMetrics.DENSITY_DEFAULT 而不是 160f developer.android.com/reference/android/util/…</code></p> 
<h2><a id="3_105"></a>答3:</h2> 
<blockquote> 
 <p>huntsbot.com高效搞钱，一站式跟进超10+任务平台外包需求</p> 
</blockquote> 
<p>最好放入 Util.java 类</p> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">float</span> <span class="token function">dpFromPx</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">Context</span> context<span class="token punctuation">,</span> <span class="token keyword">final</span> <span class="token keyword">float</span> px<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> px <span class="token operator">/</span> context<span class="token punctuation">.</span><span class="token function">getResources</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDisplayMetrics</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>density<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">float</span> <span class="token function">pxFromDp</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">Context</span> context<span class="token punctuation">,</span> <span class="token keyword">final</span> <span class="token keyword">float</span> dp<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> dp <span class="token operator">*</span> context<span class="token punctuation">.</span><span class="token function">getResources</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDisplayMetrics</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>density<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> 
<blockquote> 
 <p>huntsbot.com高效搞钱，一站式跟进超10+任务平台外包需求</p> 
</blockquote> 
<p><code>这不适用于所有设备！这个答案的结果与使用 TypedValue.applyDimension 的结果在 OnePlus 3T 上是不一样的（可能是因为 OnePlus 在操作系统中内置了自定义缩放）。使用 TypedValue.applyDimension 会导致跨设备的行为一致。</code></p> 
<h2><a id="4_127"></a>答4:</h2> 
<blockquote> 
 <p>huntsbot.com汇聚了国内外优秀的初创产品创意，可按收入、分类等筛选，希望这些产品与实践经验能给您带来灵感。</p> 
</blockquote> 
<pre><code class="prism language-java"><span class="token keyword">float</span> density <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">getResources</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDisplayMetrics</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>density<span class="token punctuation">;</span>
<span class="token keyword">float</span> px <span class="token operator">=</span> someDpValue <span class="token operator">*</span> density<span class="token punctuation">;</span>
<span class="token keyword">float</span> dp <span class="token operator">=</span> somePxValue <span class="token operator">/</span> density<span class="token punctuation">;</span>

</code></pre> 
<p>density 等于</p> 
<p>.75 在 ldpi (120 dpi)</p> 
<p>1.0 on mdpi（160 dpi；基线）</p> 
<p>1.5 在 hdpi (240 dpi)</p> 
<p>2.0 xhdpi (320 dpi)</p> 
<p>3.0 在 xxhdpi (480 dpi)</p> 
<p>4.0 在 xxxhdpi (640 dpi)</p> 
<p>使用此 online converter 来处理 dpi 值。</p> 
<p>编辑：dpi 存储桶和 density 之间似乎没有 1:1 的关系。看起来 Nexus 5X 是 xxhdpi 的 density 值为 2.625（而不是 3）。请在 Device Metrics 中亲自查看。</p> 
<p><code>“看起来 Nexus 5X 是 xxhdpi 的密度值为 2.6（而不是 3）” - 从技术上讲，Nexus 5X 是 420dpi，而 Nexus 6/6P 是 560dpi，两者都没有直接落在标准存储桶之一中，就像带有 tvdpi (213dpi) 的 Nexus 7。因此，将这些列为 xxdpi 和 xxxhdpi 的网站是一场闹剧。您的图表是正确的，并且这些设备将根据其“特殊”dpi 存储桶正确缩放。</code></p> 
<h2><a id="5_159"></a>答5:</h2> 
<blockquote> 
 <p>huntsbot.com提供全网独家一站式外包任务、远程工作、创意产品分享与订阅服务!</p> 
</blockquote> 
<p>你可以使用这个 … 没有上下文</p> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">pxToDp</span><span class="token punctuation">(</span><span class="token keyword">int</span> px<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>px <span class="token operator">/</span> <span class="token class-name">Resources</span><span class="token punctuation">.</span><span class="token function">getSystem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDisplayMetrics</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>density<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">dpToPx</span><span class="token punctuation">(</span><span class="token keyword">int</span> dp<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>dp <span class="token operator">*</span> <span class="token class-name">Resources</span><span class="token punctuation">.</span><span class="token function">getSystem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDisplayMetrics</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>density<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> 
<p>正如@Stan 提到的…如果系统改变密度，使用这种方法可能会导致问题。所以要注意这一点！</p> 
<p>就我个人而言，我正在使用 Context 来做到这一点。这只是我想与您分享的另一种方法</p> 
<blockquote> 
 <p>huntsbot.com提供全网独家一站式外包任务、远程工作、创意产品分享与订阅服务!</p> 
</blockquote> 
<p><code>您可能不想使用它。 getSystem() 的文档 - “返回一个全局共享资源对象，该对象仅提供对系统资源（无应用程序资源）的访问，并且未针对当前屏幕进行配置（不能使用维度单位，不会根据方向等进行更改） 。”</code></p> 
<p><code>附和@Stan 所说的话：这是危险的，你不应该使用它，尤其是现在设备外形变得如此复杂。</code></p> 
<p><code>这不考虑可折叠设备和 ChromeOS 设备</code></p> 
<h2><a id="6_189"></a>答6:</h2> 
<blockquote> 
 <p>huntsbot.com精选全球7大洲远程工作机会，涵盖各领域，帮助想要远程工作的数字游民们能更精准、更高效的找到对方。</p> 
</blockquote> 
<p>如果您可以使用尺寸 XML，那就很简单了！</p> 
<p>在您的 res/values/dimens.xml 中：</p> 
<pre><code class="prism language-java">

    <span class="token number">120d</span>p
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>


</code></pre> 
<p>然后在你的 Java 中：</p> 
<pre><code class="prism language-java"><span class="token function">getResources</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDimensionPixelSize</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>dimen<span class="token punctuation">.</span>thumbnail_height<span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre> 
<p><code>由于 px to dp 取决于屏幕密度，我不知道 OP 一开始是如何获得 120 的，除非他或她在所有不同的屏幕尺寸上测试了 px to dp 方法。</code></p> 
<h2><a id="7_219"></a>答7:</h2> 
<blockquote> 
 <p>huntsbot.com高效搞钱，一站式跟进超10+任务平台外包需求</p> 
</blockquote> 
<p>根据Android开发指南：</p> 
<pre><code class="prism language-java">px <span class="token operator">=</span> dp <span class="token operator">*</span> <span class="token punctuation">(</span>dpi <span class="token operator">/</span> <span class="token number">160</span><span class="token punctuation">)</span>

</code></pre> 
<p>但是，当您收到以像素为单位的设计时，您通常会希望以相反的方式执行此操作。所以：</p> 
<pre><code class="prism language-java">dp <span class="token operator">=</span> px <span class="token operator">/</span> <span class="token punctuation">(</span>dpi <span class="token operator">/</span> <span class="token number">160</span><span class="token punctuation">)</span>

</code></pre> 
<p>如果您使用的是 240dpi 设备，则此比率为 1.5（如前所述），因此这意味着 60px 图标在应用程序中等于 40dp。</p> 
<p><code>Indhu，您可以参考这里 developer.android.com/guide/practices/… 和 developer.android.com/reference/android/util/…</code></p> 
<p><code>160不变，床答</code></p> 
<p><code>user25 实际上答案很好。你没有在安卓屏幕上阅读过任何文档吗？在谈论 android 屏幕密度时，160 是一个普遍的常数。引用文档：“中等密度（mdpi）屏幕（~160dpi）。（这是基线密度）”。来吧，伙计</code></p> 
<h2><a id="8_248"></a>答8:</h2> 
<blockquote> 
 <p>保持自己快人一步,享受全网独家提供的一站式外包任务、远程工作、创意产品订阅服务–huntsbot.com</p> 
</blockquote> 
<p>没有 Context，优雅的静态方法：</p> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">dpToPx</span><span class="token punctuation">(</span><span class="token keyword">int</span> dp<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>dp <span class="token operator">*</span> <span class="token class-name">Resources</span><span class="token punctuation">.</span><span class="token function">getSystem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDisplayMetrics</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>density<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">pxToDp</span><span class="token punctuation">(</span><span class="token keyword">int</span> px<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>px <span class="token operator">/</span> <span class="token class-name">Resources</span><span class="token punctuation">.</span><span class="token function">getSystem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDisplayMetrics</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>density<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> 
<p><code>Resources.getSystem() javadoc 说“返回一个全局共享资源对象，该对象仅提供对系统资源（无应用程序资源）的访问，并且未针对当前屏幕进行配置（不能使用维度单位，不根据方向更改等）。 "这几乎说明你不应该这样做，即使它以某种方式有效。</code></p> 
<p><code>我刚刚阅读了@AustynMahoney 的评论，并意识到这个答案并不像我最初想象的那么好，但是SO won't let me undo my upvote！啊！</code></p> 
<h2><a id="9_272"></a>答9:</h2> 
<blockquote> 
 <p>huntsbot.com – 高效赚钱，自由工作</p> 
</blockquote> 
<p>使用 kotlin-extension 让它变得更好</p> 
<pre><code class="prism language-java">fun <span class="token class-name">Int</span><span class="token punctuation">.</span><span class="token function">toPx</span><span class="token punctuation">(</span>context<span class="token operator">:</span> <span class="token class-name">Context</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token class-name">Int</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">*</span> context<span class="token punctuation">.</span>resources<span class="token punctuation">.</span>displayMetrics<span class="token punctuation">.</span>density<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

fun <span class="token class-name">Int</span><span class="token punctuation">.</span><span class="token function">toDp</span><span class="token punctuation">(</span>context<span class="token operator">:</span> <span class="token class-name">Context</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token class-name">Int</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">/</span> context<span class="token punctuation">.</span>resources<span class="token punctuation">.</span>displayMetrics<span class="token punctuation">.</span>density<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre> 
<p>更新：</p> 
<p>由于 displayMetrics 是 global shared Resources 的一部分，我们可以使用 Resources.getSystem()</p> 
<pre><code class="prism language-java">val <span class="token class-name">Float</span><span class="token punctuation">.</span>toPx <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">this</span> <span class="token operator">*</span> <span class="token class-name">Resources</span><span class="token punctuation">.</span><span class="token function">getSystem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>displayMetrics<span class="token punctuation">.</span>density
    
val <span class="token class-name">Float</span><span class="token punctuation">.</span>toDp <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">this</span> <span class="token operator">/</span> <span class="token class-name">Resources</span><span class="token punctuation">.</span><span class="token function">getSystem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>displayMetrics<span class="token punctuation">.</span>density
    

    
val <span class="token class-name">Int</span><span class="token punctuation">.</span>toPx <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">*</span> <span class="token class-name">Resources</span><span class="token punctuation">.</span><span class="token function">getSystem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>displayMetrics<span class="token punctuation">.</span>density<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    
val <span class="token class-name">Int</span><span class="token punctuation">.</span>toDp <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">/</span> <span class="token class-name">Resources</span><span class="token punctuation">.</span><span class="token function">getSystem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>displayMetrics<span class="token punctuation">.</span>density<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    

</code></pre> 
<p>PS：根据@EpicPandaForce 的评论：</p> 
<p>您不应该为此使用 Resources.getSystem()，因为它不处理可折叠设备和 Chrome OS 设备。</p> 
<p><code>为什么要将它添加为 Int 的扩展，责任不必对 Int 类型做任何事情。</code></p> 
<p><code>@htafoya 感谢您的反馈。我考虑你在上一版中的提及。</code></p> 
<p><code>您不应为此使用 Resources.getSystem()，因为它不处理可折叠设备和 Chrome OS 设备。</code></p> 
<h2><a id="10_316"></a>答10:</h2> 
<blockquote> 
 <p>HuntsBot周刊–不定时分享成功产品案例，学习他们如何成功建立自己的副业–huntsbot.com</p> 
</blockquote> 
<p>对于DP to Pixel</p> 
<p>在 dimens.xml 中创建一个值</p> 
<pre><code class="prism language-java"><span class="token number">20d</span>p

</code></pre> 
<p>在 pixel 中获取该值：</p> 
<pre><code class="prism language-java"><span class="token keyword">int</span> sizeInPixel <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">getResources</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDimensionPixelSize</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>dimen<span class="token punctuation">.</span>textSize<span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre> 
<h2><a id="11_339"></a>答11:</h2> 
<blockquote> 
 <p>huntsbot.com洞察每一个产品背后的需求与收益，从而捕获灵感</p> 
</blockquote> 
<p>对于使用 Kotlin 的任何人：</p> 
<pre><code class="prism language-java">val <span class="token class-name">Int</span><span class="token punctuation">.</span>toPx<span class="token operator">:</span> <span class="token class-name">Int</span>
    <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">*</span> <span class="token class-name">Resources</span><span class="token punctuation">.</span><span class="token function">getSystem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>displayMetrics<span class="token punctuation">.</span>density<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

val <span class="token class-name">Int</span><span class="token punctuation">.</span>toDp<span class="token operator">:</span> <span class="token class-name">Int</span>
    <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">/</span> <span class="token class-name">Resources</span><span class="token punctuation">.</span><span class="token function">getSystem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>displayMetrics<span class="token punctuation">.</span>density<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre> 
<p>用法：</p> 
<pre><code class="prism language-java"><span class="token number">64.</span>toPx
<span class="token number">32.</span>toDp

</code></pre> 
<p><code>来自 Resource.getSystem() 的文档：“返回一个全局共享资源对象，该对象仅提供对系统资源（无应用程序资源）的访问，并且未针对当前屏幕进行配置（不能使用维度单位，不会根据方向等）。”</code></p> 
<p><code>@HendraWD 文档可能令人困惑，它提到的维度单位是您的应用程序级别的维度资源。 displayMetrics 不是应用程序级资源。它是一个系统资源，它返回正确的值。此代码在我所有的 Prod 应用程序上运行良好。从来没有问题。</code></p> 
<p><code>我喜欢这个解决方案，但我最初将逻辑理解为倒退。我想输入 dp 值并说 myVal.dp。如果您认为我想要做的事情读起来更好，那么您将需要交换除法和乘法逻辑。另外我认为在这里使用 roundToInt() 而不是 toInt() 会更好一些。</code></p> 
<p><code>@AdamJohns 因为所有与视图相关的函数都使用像素作为参数，所以我认为 64.toPx 会更有意义。我将其读取为 64 以转换为像素。但您可以随意更改顺序和名称。最后，重要的部分是是否将值乘以密度。</code></p> 
<p><code>您不应该为此使用 Resources.getSystem() 。</code></p> 
<p>原文链接：<a href="https://www.huntsbot.com/qa/QEYP/converting-pixels-to-dp?lang=zh_CN&amp;from=csdn" rel="nofollow">https://www.huntsbot.com/qa/QEYP/converting-pixels-to-dp?lang=zh_CN&amp;from=csdn</a></p> 
<blockquote> 
 <p>huntsbot.com全球7大洲远程工作机会，探索不一样的工作方式</p> 
</blockquote>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/129d5585f472548765251f6d3f706588/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Xcode 项目的 Git 忽略文件</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/242e3535f49daa5db5c2c13c6540e467/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">[C/C&#43;&#43;]对象指针</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>