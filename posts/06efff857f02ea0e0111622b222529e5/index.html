<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>干货请收好：终于有人把用户画像的流程、方法讲明白了 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="干货请收好：终于有人把用户画像的流程、方法讲明白了" />
<meta property="og:description" content="导读：用户画像将产品设计的焦点放在目标用户的动机和行为上，从而避免产品设计人员草率地代表用户。产品设计人员经常不自觉的把自己当作用户代表，根据自己的需求设计产品，导致无法抓住实际用户的需求。往往对产品做了很多功能的升级，用户却觉得体验变差了。
在大数据领域，用户画像的作用远不止于此。用户的行为数据无法直接用于数据分析和模型训练，我们也无法从用户的行为日志中直接获取有用的信息。而将用户的行为数据标签化以后，我们对用户就有了一个直观的认识。
同时计算机也能够理解用户，将用户的行为信息用于个性化推荐、个性化搜索、广告精准投放和智能营销等领域。
作者：马海平 于俊 吕昕 向海
本文摘编自《Spark机器学习进阶实战》，如需转载请联系我们
01 概述
用户画像的核心工作就是给用户打标签，标签通常是人为规定的高度精炼的特征标识，如年龄、性别、地域、兴趣等。这些标签集合就能抽象出一个用户的信息全貌，如图10-1所示是某个用户的标签集合，每个标签分别描述了该用户的一个维度，各个维度之间相互联系，共同构成对用户的一个整体描述。
▲图10-1 用户标签集合
02 用户画像流程
1. 整体流程
我们对构建用户画像的方法进行总结归纳，发现用户画像的构建一般可以分为目标分析、体系构建、画像建立三步。 画像构建中用到的技术有数据统计、机器学习和自然语言处理技术（NLP）等，如图10-3所示。具体的画像构建方法会在本章后面的部分详细介绍。
▲图10-3 用户画像的构建技术
2. 标签体系
目前主流的标签体系都是层次化的，如下图10-4所示。首先标签分为几个大类，每个大类下进行逐层细分。在构建标签时，我们只需要构建最下层的标签，就能够映射到上面两级标签。
上层标签都是抽象的标签集合，一般没有实用意义，只有统计意义。例如我们可以统计有人口属性标签的用户比例，但用户有人口属性标签本身对广告投放没有任何意义。
▲图10-4 互联网大数据领域常用标签体系
用于广告投放和精准营销的一般是底层标签，对于底层标签有两个要求：一个是每个标签只能表示一种含义，避免标签之间的重复和冲突，便于计算机处理；另一个是标签必须有一定的语义，方便相关人员理解每个标签的含义。
此外，标签的粒度也是需要注意的，标签粒度太粗会没有区分度，粒度过细会导致标签体系太过复杂而不具有通用性。
表10-1列举了各个大类常见的底层标签。
标签类别
标签内容
人口标签
性别、年龄、地域、教育水平、出生日期、职业、星座
兴趣特征
兴趣爱好、使用APP/网站、浏览/收藏内容、互动内容、品牌偏好、产品偏好
社会特征
婚姻状况、家庭情况、社交/信息渠道偏好
消费特征
收入状况、购买力水平、已购商品、购买渠道偏好、最后购买时间、购买频次
▲表10-1：常见标签
最后介绍一下各类标签构建的优先级。构建的优先级需要综合考虑业务需求、构建难易程度等，业务需求各有不同，这里介绍的优先级排序方法主要依据构建的难易程度和各类标签的依存关系，优先级如图10-5所示。
▲图10-5 各类标签的构建优先级
基于原始数据首先构建的是事实标签，事实标签可以从数据库直接获取（如注册信息），或通过简单的统计得到。这类标签构建难度低、实际含义明确，且部分标签可用作后续标签挖掘的基础特征（如产品购买次数可用来作为用户购物偏好的输入特征数据）。
事实标签的构造过程，也是对数据加深理解的过程。对数据进行统计的同时，不仅完成了数据的处理与加工，也对数据的分布有了一定的了解，为高级标签的构造做好了准备。
模型标签是标签体系的核心，也是用户画像工作量最大的部分，大多数用户标签的核心都是模型标签。模型标签的构造大多需要用到机器学习和自然语言处理技术，我们下文中介绍的标签构造方法主要指的是模型标签，具体的构造算法会在本文第03章详细介绍。
最后构造的是高级标签，高级标签是基于事实标签和模型标签进行统计建模得出的，它的构造多与实际的业务指标紧密联系。只有完成基础标签的构建，才能够构造高级标签。构建高级标签使用的模型，可以是简单的数据统计，也可以是复杂的机器学习模型。
03 构建用户画像
我们把标签分为三类，这三类标签有较大的差异，构建时用到的技术差别也很大。
第一类是人口属性，这一类标签比较稳定，一旦建立很长一段时间基本不用更新，标签体系也比较固定；第二类是兴趣属性，这类标签随时间变化很快，标签有很强的时效性，标签体系也不固定；第三类是地理属性，这一类标签的时效性跨度很大，如GPS轨迹标签需要做到实时更新，而常住地标签一般可以几个月不用更新，挖掘的方法和前面两类也大有不同，如图10-6所示。
▲图10-6 三类标签属性
1. 人口属性画像
人口属性包括年龄、性别、学历、人生阶段、收入水平、消费水平、所属行业等。这些标签基本是稳定的，构建一次可以很长一段时间不用更新，标签的有效期都在一个月以上。同时标签体系的划分也比较固定，表10-2是MMA中国无线营销联盟对人口属性的一个划分。
大部分主流的人口属性标签都和这个体系比较类似，有些在分段上有一些区别。
性别
男
女
未知
年龄
12 以下
12-17
18-19
20-24
25-29" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/06efff857f02ea0e0111622b222529e5/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-11-08T21:15:00+08:00" />
<meta property="article:modified_time" content="2018-11-08T21:15:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">干货请收好：终于有人把用户画像的流程、方法讲明白了</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div class="rich_media_content" id="js_content"> 
 <p style="font-family:'微软雅黑';font-size:16px;text-align:center;"><img style="color:rgb(73,59,59);font-size:15px;letter-spacing:.544px;text-align:justify;line-height:25.6px;width:558px;" src="https://images2.imgbox.com/c2/e0/BMLR3Txi_o.gif" alt="640?wx_fmt=gif"><br></p> 
 <span style="line-height:26.25px;color:rgb(73,59,59);font-size:15px;"></span> 
 <p><strong>导读：</strong>用户画像将产品设计的焦点放在目标用户的动机和行为上，从而避免产品设计人员草率地代表用户。产品设计人员经常不自觉的把自己当作用户代表，根据自己的需求设计产品，导致无法抓住实际用户的需求。<strong>往往对产品做了很多功能的升级，用户却觉得体验变差了。</strong></p> 
 <p style="font-family:'微软雅黑';font-size:16px;"><br></p> 
 <p style="font-family:'微软雅黑';font-size:16px;text-align:justify;line-height:1.75em;"><span style="font-size:15px;color:rgb(73,59,59);">在大数据领域，用户画像的作用远不止于此。用户的行为数据无法直接用于数据分析和模型训练，我们也无法从用户的行为日志中直接获取有用的信息。而将用户的行为数据标签化以后，我们对用户就有了一个直观的认识。</span></p> 
 <p style="font-family:'微软雅黑';font-size:16px;text-align:justify;line-height:1.75em;"><br></p> 
 <p style="font-family:'微软雅黑';font-size:16px;text-align:justify;line-height:1.75em;"><span style="font-size:15px;color:rgb(73,59,59);">同时计算机也能够理解用户，将用户的行为信息用于个性化推荐、个性化搜索、广告精准投放和智能营销等领域。</span></p> 
 <p><br></p> 
 <p style="font-size:16px;font-family:'微软雅黑';line-height:1.75em;"><span style="color:rgb(127,127,127);font-size:14px;text-align:justify;">作者：马海平 于俊 吕昕 向海</span></p> 
 <p style="font-size:16px;font-family:'微软雅黑';line-height:1.75em;"><span style="color:rgb(127,127,127);font-size:14px;text-align:justify;">本文摘编自《</span><span style="color:rgb(127,127,127);font-size:14px;text-align:justify;letter-spacing:.544px;background-color:rgb(255,255,255);">Spark机器学习进阶实战</span><span style="color:rgb(127,127,127);font-size:14px;text-align:justify;">》，如需转载请联系我们</span></p> 
 <p style="text-align:justify;line-height:1.75em;"><br></p> 
 <p><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><strong><span style="color:#007AAA;font-size:18px;">01 概述</span></strong></p> 
 <p><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><span style="font-size:15px;color:#493B3B;">用户画像的核心工作就是给用户打标签，标签通常是人为规定的高度精炼的特征标识，如年龄、性别、地域、兴趣等。这些标签集合就能抽象出一个用户的信息全貌，如图10-1所示是某个用户的标签集合，每个标签分别描述了该用户的一个维度，各个维度之间相互联系，共同构成对用户的一个整体描述。</span></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><br></p> 
 <p style="text-align:center;"><img src="https://images2.imgbox.com/55/a8/QMfOOreC_o.png" alt="640?wx_fmt=png"></p> 
 <p style="text-align:center;letter-spacing:0px;line-height:1.75em;"><span style="color:#7F7F7F;font-size:14px;">▲图10-1 用户标签集合</span></p> 
 <p><br></p> 
 <p><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><strong><span style="color:#007AAA;font-size:18px;">02 用户画像流程</span></strong></p> 
 <p><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><strong><span style="font-size:15px;color:#007AAA;">1. 整体流程</span></strong></p> 
 <p><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><span style="font-size:15px;color:#493B3B;">我们对构建用户画像的方法进行总结归纳，发现用户画像的构建一般可以分为</span><strong><span style="font-size:15px;color:#007AAA;">目标分析、体系构建、画像建立</span></strong><span style="font-size:15px;color:#493B3B;">三步。 </span></p> 
 <p><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><span style="font-size:15px;color:#493B3B;">画像构建中用到的技术有数据统计、机器学习和自然语言处理技术（NLP）等，如图10-3所示。具体的画像构建方法会在本章后面的部分详细介绍。</span></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><br></p> 
 <p style="text-align:center;"><img src="https://images2.imgbox.com/7f/56/tN0zRDJX_o.png" alt="640?wx_fmt=png"></p> 
 <p style="text-align:center;letter-spacing:0px;line-height:1.75em;"><span style="color:#7F7F7F;font-size:14px;">▲图10-3 用户画像的构建技术</span></p> 
 <p><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><strong><span style="font-size:15px;color:#007AAA;">2. 标签体系</span></strong></p> 
 <p><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><span style="font-size:15px;color:#493B3B;">目前主流的标签体系都是层次化的，如下图10-4所示。首先标签分为几个大类，每个大类下进行逐层细分。在构建标签时，我们只需要构建最下层的标签，就能够映射到上面两级标签。</span></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><span style="font-size:15px;color:#493B3B;">上层标签都是抽象的标签集合，一般没有实用意义，只有统计意义。例如我们可以统计有人口属性标签的用户比例，但用户有人口属性标签本身对广告投放没有任何意义。</span></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><br></p> 
 <p style="text-align:center;"><img src="https://images2.imgbox.com/21/35/IDclFoxO_o.png" alt="640?wx_fmt=png"></p> 
 <p style="text-align:center;letter-spacing:0px;line-height:1.75em;"><span style="color:#7F7F7F;font-size:14px;">▲图10-4 互联网大数据领域常用标签体系</span></p> 
 <p><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><span style="font-size:15px;color:#493B3B;">用于广告投放和精准营销的一般是底层标签，对于底层标签有两个要求：一个是每个标签只能表示一种含义，避免标签之间的重复和冲突，便于计算机处理；另一个是标签必须有一定的语义，方便相关人员理解每个标签的含义。</span></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><span style="font-size:15px;color:#493B3B;">此外，标签的</span><strong><span style="font-size:15px;color:#007AAA;">粒度</span></strong><span style="font-size:15px;color:#493B3B;">也是需要注意的，标签粒度太粗会没有区分度，粒度过细会导致标签体系太过复杂而不具有通用性。</span></p> 
 <p><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><span style="font-size:15px;color:#493B3B;">表10-1列举了各个大类常见的底层标签。</span></p> 
 <p><br></p> 
 <table cellspacing="0" cellpadding="0"><tbody><tr><td width="83" style="background:rgb(197,224,179);"><p style="text-align:justify;line-height:1.75em;"><span style="color:rgb(127,127,127);font-size:14px;"><strong><span style="font-size:14px;color:rgb(127,127,127);line-height:150%;">标签类别</span></strong></span></p></td><td width="485" style="background:rgb(197,224,179);"><p style="text-align:justify;line-height:1.75em;"><span style="color:rgb(127,127,127);font-size:14px;"><strong><span style="font-size:14px;color:rgb(127,127,127);line-height:150%;">标签内容</span></strong></span></p></td></tr><tr><td width="83"><p style="text-align:justify;line-height:1.75em;"><span style="line-height:150%;color:rgb(127,127,127);font-size:14px;">人口标签</span></p></td><td width="485"><p style="background:#FFFFFF;text-align:justify;line-height:1.75em;"><span style="line-height:150%;font-family:'等线';color:rgb(127,127,127);font-size:14px;">性别、年龄、地域、教育水平、出生日期、职业、星座</span></p></td></tr><tr><td width="83"><p style="text-align:justify;line-height:1.75em;"><span style="line-height:150%;color:rgb(127,127,127);font-size:14px;">兴趣特征</span></p></td><td width="485"><p style="background:#FFFFFF;text-align:justify;line-height:1.75em;"><span style="color:rgb(127,127,127);font-size:14px;"><span style="font-size:14px;color:rgb(127,127,127);line-height:150%;font-family:'等线';">兴趣爱好、使用</span><span style="font-size:14px;color:rgb(127,127,127);line-height:150%;">APP/</span><span style="font-size:14px;color:rgb(127,127,127);line-height:150%;font-family:'等线';">网站、浏览</span><span style="font-size:14px;color:rgb(127,127,127);line-height:150%;">/</span><span style="font-size:14px;color:rgb(127,127,127);line-height:150%;font-family:'等线';">收藏内容、互动内容、品牌偏好、产品偏好</span></span></p></td></tr><tr><td width="83"><p style="text-align:justify;line-height:1.75em;"><span style="line-height:150%;color:rgb(127,127,127);font-size:14px;">社会特征</span></p></td><td width="485"><p style="text-align:justify;line-height:1.75em;"><span style="line-height:150%;color:rgb(127,127,127);font-size:14px;">婚姻状况、家庭情况、社交/信息渠道偏好</span></p></td></tr><tr><td width="83"><p style="text-align:justify;line-height:1.75em;"><span style="line-height:150%;color:rgb(127,127,127);font-size:14px;">消费特征</span></p></td><td width="485"><p style="background:#FFFFFF;text-align:justify;line-height:1.75em;"><span style="line-height:150%;font-family:'等线';color:rgb(127,127,127);font-size:14px;">收入状况、购买力水平、已购商品、购买渠道偏好、最后购买时间、购买频次</span></p></td></tr></tbody></table> 
 <p style="text-align:center;letter-spacing:0px;line-height:1.75em;"><span style="color:#7F7F7F;font-size:14px;">▲表10-1：常见标签</span></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><span style="font-size:15px;color:#493B3B;">最后介绍一下各类标签构建的优先级。构建的优先级需要综合考虑业务需求、构建难易程度等，业务需求各有不同，这里介绍的优先级排序方法主要依据构建的难易程度和各类标签的依存关系，优先级如图10-5所示。</span></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><br></p> 
 <p style="text-align:center;"><img src="https://images2.imgbox.com/f0/94/V9R74mPn_o.png" alt="640?wx_fmt=png"></p> 
 <p style="text-align:center;letter-spacing:0px;line-height:1.75em;"><span style="color:#7F7F7F;font-size:14px;">▲图10-5 各类标签的构建优先级</span></p> 
 <p><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><span style="font-size:15px;color:#493B3B;">基于原始数据首先构建的是</span><strong><span style="font-size:15px;color:#007AAA;">事实标签</span></strong><span style="font-size:15px;color:#493B3B;">，事实标签可以从数据库直接获取（如注册信息），或通过简单的统计得到。这类标签构建难度低、实际含义明确，且</span><strong><span style="font-size:15px;color:#007AAA;">部分标签可用作后续标签挖掘的基础特征</span></strong><span style="font-size:15px;color:#493B3B;">（如产品购买次数可用来作为用户购物偏好的输入特征数据）。</span></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><span style="font-size:15px;color:#493B3B;">事实标签的构造过程，也是对数据加深理解的过程。对数据进行统计的同时，不仅完成了数据的处理与加工，也对数据的分布有了一定的了解，为高级标签的构造做好了准备。</span></p> 
 <p><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><strong><span style="font-size:15px;color:#007AAA;">模型标签</span></strong><span style="font-size:15px;color:#493B3B;">是标签体系的核心，也是用户画像工作量最大的部分，</span><strong><span style="font-size:15px;color:#007AAA;">大多数用户标签的核心都是模型标签。</span></strong><span style="font-size:15px;color:#493B3B;">模型标签的构造大多需要用到机器学习和自然语言处理技术，我们下文中介绍的标签构造方法主要指的是模型标签，具体的构造算法会在本文第03章详细介绍。</span></p> 
 <p><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><span style="font-size:15px;color:#493B3B;">最后构造的是</span><strong><span style="font-size:15px;color:#007AAA;">高级标签</span></strong><span style="font-size:15px;color:#493B3B;">，高级标签是基于事实标签和模型标签进行统计建模得出的，它的构造多与实际的业务指标紧密联系。只有完成基础标签的构建，才能够构造高级标签。</span><strong><span style="font-size:15px;color:#007AAA;">构建高级标签使用的模型，可以是简单的数据统计，也可以是复杂的机器学习模型。</span></strong></p> 
 <p><br></p> 
 <p><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><strong><span style="color:#007AAA;font-size:18px;">03 构建用户画像</span></strong></p> 
 <p><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><span style="font-size:15px;color:#493B3B;">我们把标签分为三类，这三类标签有较大的差异，构建时用到的技术差别也很大。</span></p> 
 <p><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><span style="font-size:15px;color:#493B3B;">第一类是</span><strong><span style="font-size:15px;color:#007AAA;">人口属性</span></strong><span style="font-size:15px;color:#493B3B;">，这一类标签比较稳定，一旦建立很长一段时间基本不用更新，标签体系也比较固定；第二类是</span><strong><span style="font-size:15px;color:#007AAA;">兴趣属性</span></strong><span style="font-size:15px;color:#493B3B;">，这类标签随时间变化很快，标签有很强的时效性，标签体系也不固定；第三类是</span><strong><span style="font-size:15px;color:#007AAA;">地理属性</span></strong><span style="font-size:15px;color:#493B3B;">，这一类标签的时效性跨度很大，如GPS轨迹标签需要做到实时更新，而常住地标签一般可以几个月不用更新，挖掘的方法和前面两类也大有不同，如图10-6所示。</span></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><br></p> 
 <p style="text-align:center;"><img src="https://images2.imgbox.com/fc/c4/3xGAuGUV_o.png" alt="640?wx_fmt=png"></p> 
 <p style="text-align:center;letter-spacing:0px;line-height:1.75em;"><span style="color:#7F7F7F;font-size:14px;">▲图10-6 三类标签属性</span></p> 
 <p><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><strong><span style="font-size:15px;color:#007AAA;">1. 人口属性画像</span></strong></p> 
 <p><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><span style="font-size:15px;color:#493B3B;">人口属性包括年龄、性别、学历、人生阶段、收入水平、消费水平、所属行业等。</span><strong><span style="font-size:15px;color:#007AAA;">这些标签基本是稳定的，构建一次可以很长一段时间不用更新，标签的有效期都在一个月以上。</span></strong><span style="font-size:15px;color:#493B3B;">同时标签体系的划分也比较固定，表10-2是MMA中国无线营销联盟对人口属性的一个划分。</span></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><span style="font-size:15px;color:#493B3B;">大部分主流的人口属性标签都和这个体系比较类似，有些在分段上有一些区别。</span></p> 
 <p><br></p> 
 <table cellspacing="0" cellpadding="0"><tbody><tr><td width="200" rowspan="3" style="border-width:1px;border-style:solid;"><p style="text-align:left;"><span style="font-family:'宋体';color:rgb(127,127,127);font-size:14px;">性别</span></p></td><td width="200" style="border-top:1px solid;border-right:1px solid;border-bottom:1px solid;border-left:none;"><p style="text-align:left;"><span style="font-family:'宋体';color:rgb(127,127,127);font-size:14px;">男</span></p></td></tr><tr><td style="border-top:none;border-left:none;border-bottom:solid 1px;border-right:solid 1px;"><p style="text-align:left;"><span style="font-family:'宋体';color:rgb(127,127,127);font-size:14px;">女</span></p></td></tr><tr><td style="border-top:none;border-left:none;border-bottom:solid 1px;border-right:solid 1px;"><p style="text-align:left;"><span style="font-family:'宋体';color:rgb(127,127,127);font-size:14px;">未知</span></p></td></tr><tr><td width="200" rowspan="14" style="border-right:1px solid;border-bottom:1px solid;border-left:1px solid;border-top:none;"><p style="text-align:left;"><span style="font-family:'宋体';color:rgb(127,127,127);font-size:14px;">年龄</span></p></td><td width="200" style="border-top:none;border-left:none;border-bottom:1px solid;border-right:1px solid;"><p style="text-align:left;"><span style="color:rgb(127,127,127);font-size:14px;">12 <span style="font-size:14px;color:rgb(127,127,127);font-family:'宋体';">以下</span></span></p></td></tr><tr><td style="border-top:none;border-left:none;border-bottom:solid 1px;border-right:solid 1px;"><p style="text-align:left;"><span style="color:rgb(127,127,127);font-size:14px;">12-17</span></p></td></tr><tr><td style="border-top:none;border-left:none;border-bottom:solid 1px;border-right:solid 1px;"><p style="text-align:left;"><span style="color:rgb(127,127,127);font-size:14px;">18-19</span></p></td></tr><tr><td style="border-top:none;border-left:none;border-bottom:solid 1px;border-right:solid 1px;"><p style="text-align:left;"><span style="color:rgb(127,127,127);font-size:14px;">20-24</span></p></td></tr><tr><td style="border-top:none;border-left:none;border-bottom:solid 1px;border-right:solid 1px;"><p style="text-align:left;"><span style="color:rgb(127,127,127);font-size:14px;">25-29</span></p></td></tr><tr><td style="border-top:none;border-left:none;border-bottom:solid 1px;border-right:solid 1px;"><p style="text-align:left;"><span style="color:rgb(127,127,127);font-size:14px;">30-34</span></p></td></tr><tr><td style="border-top:none;border-left:none;border-bottom:solid 1px;border-right:solid 1px;"><p style="text-align:left;"><span style="color:rgb(127,127,127);font-size:14px;">35-39</span></p></td></tr><tr><td style="border-top:none;border-left:none;border-bottom:solid 1px;border-right:solid 1px;"><p style="text-align:left;"><span style="color:rgb(127,127,127);font-size:14px;">40-44</span></p></td></tr><tr><td style="border-top:none;border-left:none;border-bottom:solid 1px;border-right:solid 1px;"><p style="text-align:left;"><span style="color:rgb(127,127,127);font-size:14px;">45-49</span></p></td></tr><tr><td style="border-top:none;border-left:none;border-bottom:solid 1px;border-right:solid 1px;"><p style="text-align:left;"><span style="color:rgb(127,127,127);font-size:14px;">50-54</span></p></td></tr><tr><td style="border-top:none;border-left:none;border-bottom:solid 1px;border-right:solid 1px;"><p style="text-align:left;"><span style="color:rgb(127,127,127);font-size:14px;">55-59</span></p></td></tr><tr><td style="border-top:none;border-left:none;border-bottom:solid 1px;border-right:solid 1px;"><p style="text-align:left;"><span style="color:rgb(127,127,127);font-size:14px;">60-64</span></p></td></tr><tr><td style="border-top:none;border-left:none;border-bottom:solid 1px;border-right:solid 1px;"><p style="text-align:left;"><span style="color:rgb(127,127,127);font-size:14px;">65 <span style="font-size:14px;color:rgb(127,127,127);font-family:'宋体';">及以上</span></span></p></td></tr><tr><td style="border-top:none;border-left:none;border-bottom:solid 1px;border-right:solid 1px;"><p style="text-align:left;"><span style="font-family:'宋体';color:rgb(127,127,127);font-size:14px;">未知</span></p></td></tr><tr><td width="200" rowspan="8" style="border-right:1px solid;border-bottom:1px solid;border-left:1px solid;border-top:none;"><p style="text-align:left;"><span style="font-family:'宋体';color:rgb(127,127,127);font-size:14px;">月收入</span></p></td><td width="200" style="border-top:none;border-left:none;border-bottom:1px solid;border-right:1px solid;"><p style="text-align:left;"><span style="color:rgb(127,127,127);font-size:14px;">3500 <span style="font-size:14px;color:rgb(127,127,127);font-family:'宋体';">元以下</span></span></p></td></tr><tr><td style="border-top:none;border-left:none;border-bottom:solid 1px;border-right:solid 1px;"><p style="text-align:left;"><span style="color:rgb(127,127,127);font-size:14px;">3500-5000 <span style="font-size:14px;color:rgb(127,127,127);font-family:'宋体';">元</span></span></p></td></tr><tr><td style="border-top:none;border-left:none;border-bottom:solid 1px;border-right:solid 1px;"><p style="text-align:left;"><span style="color:rgb(127,127,127);font-size:14px;">5000-8000 <span style="font-size:14px;color:rgb(127,127,127);font-family:'宋体';">元</span></span></p></td></tr><tr><td style="border-top:none;border-left:none;border-bottom:solid 1px;border-right:solid 1px;"><p style="text-align:left;"><span style="color:rgb(127,127,127);font-size:14px;">8000-12500 <span style="font-size:14px;color:rgb(127,127,127);font-family:'宋体';">元</span></span></p></td></tr><tr><td style="border-top:none;border-left:none;border-bottom:solid 1px;border-right:solid 1px;"><p style="text-align:left;"><span style="color:rgb(127,127,127);font-size:14px;">12500-25000 <span style="font-size:14px;color:rgb(127,127,127);font-family:'宋体';">元</span></span></p></td></tr><tr><td style="border-top:none;border-left:none;border-bottom:solid 1px;border-right:solid 1px;"><p style="text-align:left;"><span style="color:rgb(127,127,127);font-size:14px;">25001-40000</span></p></td></tr><tr><td style="border-top:none;border-left:none;border-bottom:solid 1px;border-right:solid 1px;"><p style="text-align:left;"><span style="color:rgb(127,127,127);font-size:14px;">40000 <span style="font-size:14px;color:rgb(127,127,127);font-family:'宋体';">元以上</span></span></p></td></tr><tr><td style="border-top:none;border-left:none;border-bottom:solid 1px;border-right:solid 1px;"><p style="text-align:left;"><span style="font-family:'宋体';color:rgb(127,127,127);font-size:14px;">未知</span></p></td></tr><tr><td width="200" rowspan="4" style="border-right:1px solid;border-bottom:1px solid;border-left:1px solid;border-top:none;"><p style="text-align:left;"><span style="font-family:'宋体';color:rgb(127,127,127);font-size:14px;">婚姻状态</span></p></td><td width="200" style="border-top:none;border-left:none;border-bottom:1px solid;border-right:1px solid;"><p style="text-align:left;"><span style="font-family:'宋体';color:rgb(127,127,127);font-size:14px;">未婚</span></p></td></tr><tr><td style="border-top:none;border-left:none;border-bottom:solid 1px;border-right:solid 1px;"><p style="text-align:left;"><span style="font-family:'宋体';color:rgb(127,127,127);font-size:14px;">已婚</span></p></td></tr><tr><td style="border-top:none;border-left:none;border-bottom:solid 1px;border-right:solid 1px;"><p style="text-align:left;"><span style="font-family:'宋体';color:rgb(127,127,127);font-size:14px;">离异</span></p></td></tr><tr><td style="border-top:none;border-left:none;border-bottom:solid 1px;border-right:solid 1px;"><p style="text-align:left;"><span style="font-family:'宋体';color:rgb(127,127,127);font-size:14px;">未知</span></p></td></tr><tr><td width="200" rowspan="18" style="border-right:1px solid;border-bottom:1px solid;border-left:1px solid;border-top:none;"><p style="text-align:left;"><span style="font-family:'宋体';color:rgb(127,127,127);font-size:14px;">从事行业</span></p></td><td width="200" style="border-top:none;border-left:none;border-bottom:1px solid;border-right:1px solid;"><p style="text-align:left;"><span style="color:rgb(127,127,127);font-size:14px;"><span style="font-size:14px;color:rgb(127,127,127);font-family:'宋体';">广告</span>/<span style="font-size:14px;color:rgb(127,127,127);font-family:'宋体';">营销</span>/<span style="font-size:14px;color:rgb(127,127,127);font-family:'宋体';">公关</span></span></p></td></tr><tr><td style="border-top:none;border-left:none;border-bottom:solid 1px;border-right:solid 1px;"><p style="text-align:left;"><span style="font-family:'宋体';color:rgb(127,127,127);font-size:14px;">航天</span></p></td></tr><tr><td width="200" style="border-top:none;border-left:none;border-bottom:1px solid;border-right:1px solid;"><p style="text-align:left;"><span style="font-family:'宋体';color:rgb(127,127,127);font-size:14px;">农林化工</span></p></td></tr><tr><td width="200" style="border-top:none;border-left:none;border-bottom:1px solid;border-right:1px solid;"><p style="text-align:left;"><span style="font-family:'宋体';color:rgb(127,127,127);font-size:14px;">汽车</span></p></td></tr><tr><td width="200" style="border-top:none;border-left:none;border-bottom:1px solid;border-right:1px solid;"><p style="text-align:left;"><span style="color:rgb(127,127,127);font-size:14px;"><span style="font-size:14px;color:rgb(127,127,127);font-family:'宋体';">计算机</span>/<span style="font-size:14px;color:rgb(127,127,127);font-family:'宋体';">互联网</span></span></p></td></tr><tr><td width="200" style="border-top:none;border-left:none;border-bottom:1px solid;border-right:1px solid;"><p style="text-align:left;"><span style="font-family:'宋体';color:rgb(127,127,127);font-size:14px;">建筑</span></p></td></tr><tr><td width="200" style="border-top:none;border-left:none;border-bottom:1px solid;border-right:1px solid;"><p style="text-align:left;"><span style="color:rgb(127,127,127);font-size:14px;"><span style="font-size:14px;color:rgb(127,127,127);font-family:'宋体';">教育</span>/<span style="font-size:14px;color:rgb(127,127,127);font-family:'宋体';">学生</span></span></p></td></tr><tr><td width="200" style="border-top:none;border-left:none;border-bottom:1px solid;border-right:1px solid;"><p style="text-align:left;"><span style="color:rgb(127,127,127);font-size:14px;"><span style="font-size:14px;color:rgb(127,127,127);font-family:'宋体';">能源</span>/<span style="font-size:14px;color:rgb(127,127,127);font-family:'宋体';">采矿</span></span></p></td></tr><tr><td width="200" style="border-top:none;border-left:none;border-bottom:1px solid;border-right:1px solid;"><p style="text-align:left;"><span style="color:rgb(127,127,127);font-size:14px;"><span style="font-size:14px;color:rgb(127,127,127);font-family:'宋体';">金融</span>/<span style="font-size:14px;color:rgb(127,127,127);font-family:'宋体';">保险</span>/<span style="font-size:14px;color:rgb(127,127,127);font-family:'宋体';">房地产</span></span></p></td></tr><tr><td width="200" style="border-top:none;border-left:none;border-bottom:1px solid;border-right:1px solid;"><p style="text-align:left;"><span style="color:rgb(127,127,127);font-size:14px;"><span style="font-size:14px;color:rgb(127,127,127);font-family:'宋体';">政府</span>/<span style="font-size:14px;color:rgb(127,127,127);font-family:'宋体';">军事</span>/<span style="font-size:14px;color:rgb(127,127,127);font-family:'宋体';">房地产</span></span></p></td></tr><tr><td width="200" style="border-top:none;border-left:none;border-bottom:1px solid;border-right:1px solid;"><p style="text-align:left;"><span style="font-family:'宋体';color:rgb(127,127,127);font-size:14px;">服务业</span></p></td></tr><tr><td width="200" style="border-top:none;border-left:none;border-bottom:1px solid;border-right:1px solid;"><p style="text-align:left;"><span style="color:rgb(127,127,127);font-size:14px;"><span style="font-size:14px;color:rgb(127,127,127);font-family:'宋体';">传媒</span>/<span style="font-size:14px;color:rgb(127,127,127);font-family:'宋体';">出版</span>/<span style="font-size:14px;color:rgb(127,127,127);font-family:'宋体';">娱乐</span></span></p></td></tr><tr><td width="200" style="border-top:none;border-left:none;border-bottom:1px solid;border-right:1px solid;"><p style="text-align:left;"><span style="color:rgb(127,127,127);font-size:14px;"><span style="font-size:14px;color:rgb(127,127,127);font-family:'宋体';">医疗</span>/<span style="font-size:14px;color:rgb(127,127,127);font-family:'宋体';">保险服务</span></span></p></td></tr><tr><td width="200" style="border-top:none;border-left:none;border-bottom:1px solid;border-right:1px solid;"><p style="text-align:left;"><span style="font-family:'宋体';color:rgb(127,127,127);font-size:14px;">制药</span></p></td></tr><tr><td width="200" style="border-top:none;border-left:none;border-bottom:1px solid;border-right:1px solid;"><p style="text-align:left;"><span style="font-family:'宋体';color:rgb(127,127,127);font-size:14px;">零售</span></p></td></tr><tr><td width="200" style="border-top:none;border-left:none;border-bottom:1px solid;border-right:1px solid;"><p style="text-align:left;"><span style="color:rgb(127,127,127);font-size:14px;"><span style="font-size:14px;color:rgb(127,127,127);font-family:'宋体';">电信</span>/<span style="font-size:14px;color:rgb(127,127,127);font-family:'宋体';">网络</span></span></p></td></tr><tr><td width="200" style="border-top:none;border-left:none;border-bottom:1px solid;border-right:1px solid;"><p style="text-align:left;"><span style="color:rgb(127,127,127);font-size:14px;"><span style="font-size:14px;color:rgb(127,127,127);font-family:'宋体';">旅游</span>/<span style="font-size:14px;color:rgb(127,127,127);font-family:'宋体';">交通</span></span></p></td></tr><tr><td width="200" style="border-top:none;border-left:none;border-bottom:1px solid;border-right:1px solid;"><p style="text-align:left;"><span style="font-family:'宋体';color:rgb(127,127,127);font-size:14px;">其它</span></p></td></tr><tr><td width="200" rowspan="7" style="border-right:1px solid;border-bottom:1px solid;border-left:1px solid;border-top:none;"><p style="text-align:left;"><span style="font-family:'宋体';color:rgb(127,127,127);font-size:14px;">教育程度</span></p></td><td width="200" style="border-top:none;border-left:none;border-bottom:1px solid;border-right:1px solid;"><p style="text-align:left;"><span style="font-family:'宋体';color:rgb(127,127,127);font-size:14px;">初中及以下</span></p></td></tr><tr><td style="border-top:none;border-left:none;border-bottom:solid 1px;border-right:solid 1px;"><p style="text-align:left;"><span style="font-family:'宋体';color:rgb(127,127,127);font-size:14px;">高中</span></p></td></tr><tr><td style="border-top:none;border-left:none;border-bottom:solid 1px;border-right:solid 1px;"><p style="text-align:left;"><span style="font-family:'宋体';color:rgb(127,127,127);font-size:14px;">中专</span></p></td></tr><tr><td style="border-top:none;border-left:none;border-bottom:solid 1px;border-right:solid 1px;"><p style="text-align:left;"><span style="font-family:'宋体';color:rgb(127,127,127);font-size:14px;">大专</span></p></td></tr><tr><td style="border-top:none;border-left:none;border-bottom:solid 1px;border-right:solid 1px;"><p style="text-align:left;"><span style="font-family:'宋体';color:rgb(127,127,127);font-size:14px;">本科</span></p></td></tr><tr><td style="border-top:none;border-left:none;border-bottom:solid 1px;border-right:solid 1px;"><p style="text-align:left;"><span style="font-family:'宋体';color:rgb(127,127,127);font-size:14px;">硕士</span></p></td></tr><tr><td style="border-top:none;border-left:none;border-bottom:solid 1px;border-right:solid 1px;"><p style="text-align:left;"><span style="font-family:'宋体';color:rgb(127,127,127);font-size:14px;">博士</span></p></td></tr></tbody></table> 
 <p style="text-align:center;letter-spacing:0px;line-height:1.75em;"><span style="color:#7F7F7F;font-size:14px;">▲表10-2  人口标签</span></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><span style="font-size:15px;color:#493B3B;">很多产品（如QQ、facebook等）都会引导用户填写基本信息，这些信息就包括年龄、性别、收入等大多数的人口属性，但</span><strong><span style="font-size:15px;color:#007AAA;">完整填写个人信息的用户只占很少一部分。</span></strong><span style="font-size:15px;color:#493B3B;">而对于无社交属性的产品（如输入法、团购APP、视频网站等）用户信息的填充率非常低，有的甚至不足5%。</span></p> 
 <p><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><span style="font-size:15px;color:#493B3B;">在这种情况下，我们一般会用填写了信息的这部分用户作为样本，把用户的行为数据作为特征训练模型，对无标签的用户进行人口属性的预测。这种模型把用户的标签传给和他行为相似的用户，可以认为是对人群进行了</span><strong><span style="font-size:15px;color:#007AAA;">标签扩散</span></strong><span style="font-size:15px;color:#493B3B;">，因此常被称为标签扩散模型。</span></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><span style="font-size:15px;color:#493B3B;">下面我们用视频网站性别年龄画像的例子来说明标签扩散模型是如何构建的。</span></p> 
 <p><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><span style="font-size:15px;color:#493B3B;">一个视频网站，希望了解自己的用户组成，于是对用户的性别进行画像。通过数据统计，有大约30%的用户注册时填写了个人信息，我们将这30%的用户作为训练集，来构建全量用户的性别画像，我们的数据如表10-3所示。</span></p> 
 <p><br></p> 
 <table cellspacing="0" cellpadding="0"><tbody><tr><td width="50" style="border-width:1px;border-style:solid;background:rgb(197,224,179);" height="22"><p style="line-height:150%;"><span style="font-size:14px;color:rgb(127,127,127);"><strong><span style="color:rgb(127,127,127);font-size:14px;line-height:150%;">Uid</span></strong></span></p></td><td width="57" style="border-top:1px solid;border-right:1px solid;border-bottom:1px solid;border-left:none;background:rgb(197,224,179);" height="22"><p style="line-height:150%;"><span style="font-size:14px;color:rgb(127,127,127);"><strong><span style="color:rgb(127,127,127);font-size:14px;line-height:150%;">Gender</span></strong></span></p></td><td width="293" style="border-top:1px solid;border-right:1px solid;border-bottom:1px solid;border-left:none;background:rgb(197,224,179);" height="22"><p style="line-height:150%;"><span style="font-size:14px;color:rgb(127,127,127);"><strong><span style="color:rgb(127,127,127);font-size:14px;line-height:150%;">Watched  videos</span></strong></span></p></td></tr><tr><td width="50" style="border-right:1px solid;border-bottom:1px solid;border-left:1px solid;border-top:none;" height="20"><p style="line-height:150%;"><span style="line-height:150%;color:rgb(127,127,127);font-size:14px;">525252</span></p></td><td width="57" style="border-top:none;border-left:none;border-bottom:1px solid;border-right:1px solid;" height="20"><p style="line-height:150%;"><span style="line-height:150%;color:rgb(127,127,127);font-size:14px;">Male</span></p></td><td width="293" style="border-top:none;border-left:none;border-bottom:1px solid;border-right:1px solid;" height="20"><p style="line-height:150%;"><span style="line-height:150%;color:rgb(127,127,127);font-size:14px;">Game  of throat</span></p></td></tr><tr><td width="50" style="border-right:1px solid;border-bottom:1px solid;border-left:1px solid;border-top:none;" height="20"><p style="line-height:150%;"><span style="line-height:150%;color:rgb(127,127,127);font-size:14px;">532626</span></p></td><td width="57" style="border-top:none;border-left:none;border-bottom:1px solid;border-right:1px solid;" height="20"><br></td><td width="293" style="border-top:none;border-left:none;border-bottom:1px solid;border-right:1px solid;" height="20"><p style="line-height:150%;"><span style="line-height:150%;color:rgb(127,127,127);font-size:14px;">Runing  men、最强大脑</span></p></td></tr><tr><td width="50" style="border-right:1px solid;border-bottom:1px solid;border-left:1px solid;border-top:none;" height="20"><p style="line-height:150%;"><span style="line-height:150%;color:rgb(127,127,127);font-size:14px;">526267</span></p></td><td width="57" style="border-top:none;border-left:none;border-bottom:1px solid;border-right:1px solid;" height="20"><br></td><td width="293" style="border-top:none;border-left:none;border-bottom:1px solid;border-right:1px solid;" height="20"><p style="line-height:150%;"><span style="line-height:150%;color:rgb(127,127,127);font-size:14px;">琅琊榜、伪装者</span></p></td></tr><tr><td width="50" style="border-right:1px solid;border-bottom:1px solid;border-left:1px solid;border-top:none;" height="20"><p style="line-height:150%;"><span style="line-height:150%;color:rgb(127,127,127);font-size:14px;">573373</span></p></td><td width="57" style="border-top:none;border-left:none;border-bottom:1px solid;border-right:1px solid;" height="20"><p style="line-height:150%;"><span style="line-height:150%;color:rgb(127,127,127);font-size:14px;">Female</span></p></td><td width="293" style="border-top:none;border-left:none;border-bottom:1px solid;border-right:1px solid;" height="20"><p style="line-height:150%;"><span style="line-height:150%;color:rgb(127,127,127);font-size:14px;">欢乐喜剧人</span></p></td></tr></tbody></table> 
 <p style="text-align:center;letter-spacing:0px;line-height:1.75em;"><span style="color:#7F7F7F;font-size:14px;">▲表10-3：视频网站用户数据</span></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><span style="font-size:15px;color:#493B3B;">下面我们来构建特征。通过分析，我们发现男性和女性，对于影片的偏好是有差别的，因此使用观看的影片列表来预测用户性别有一定的可行性。此外我们还可以考虑用户的观看时间、浏览器、观看时长等，为了简化，这里我们只使用用户观看的影片特征。</span></p> 
 <p><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><span style="font-size:15px;color:#493B3B;">由于观看影片特征是稀疏特征，我们可以使用调用MLlib，使用LR、线性SVM等模型进行训练。考虑到注册用户填写的用户信息本身的准确率不高，我们可以从30%的样本集中提取准确率较高的部分（如用户信息填写较完备的）用于训练，因此我们整体的训练流程如图10-7所示。</span></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><strong><span style="font-size:15px;color:#007AAA;">对于预测性别这样的二分类模型，如果行为的区分度较好，一般准确率和覆盖率都可以达到70%左右。</span></strong></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><br></p> 
 <p style="text-align:center;"><img src="https://images2.imgbox.com/7c/83/mvUIHJmf_o.png" alt="640?wx_fmt=png"></p> 
 <p style="text-align:center;letter-spacing:0px;line-height:1.75em;"><span style="color:#7F7F7F;font-size:14px;">▲图10-7 训练流程</span></p> 
 <p><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><span style="font-size:15px;color:#493B3B;">对于人口属性标签，只要有一定的样本标签数据，并找到能够区分标签分类的用户行为特征，就可以构建标签扩散模型。其中使用的技术方法主要是机器学习中的分类技术，常用的模型有LR、FM、SVM、GBDT等。</span></p> 
 <p><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><strong><span style="font-size:15px;color:#007AAA;">2. 兴趣画像</span></strong></p> 
 <p><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><strong><span style="font-size:15px;color:#007AAA;">兴趣画像是互联网领域使用最广泛的画像</span></strong><span style="font-size:15px;color:#493B3B;">，互联网广告、个性化推荐、精准营销等各个领域最核心的标签都是</span><strong><span style="font-size:15px;color:#007AAA;">兴趣标签</span></strong><span style="font-size:15px;color:#493B3B;">。兴趣画像主要是从用户海量行为日志中进行核心信息的抽取、标签化和统计，因此在构建用户兴趣画像之前需要先对用户有行为的内容进行内容建模。</span></p> 
 <p><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><span style="font-size:15px;color:#493B3B;">内容建模需要注意粒度，过细的粒度会导致标签没有泛化能力和使用价值，过粗的粒度会导致没有区分度。</span></p> 
 <p><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><span style="font-size:15px;color:#493B3B;">为了保证兴趣画像既有一定的准确度又有较好的泛化性，我们会构建层次化的兴趣标签体系，使用中同时用几个粒度的标签去匹配，既保证了标签的准确性，又保证了标签的泛化性。下面我们用新闻的用户兴趣画像举例，介绍如何构建层次化的兴趣标签。</span></p> 
 <p><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><span style="font-size:15px;color:#007AAA;">2.1 内容建模</span></p> 
 <p><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><span style="font-size:15px;color:#493B3B;">新闻数据本身是非结构化的，首先需要人工构建一个层次的标签体系。我们考虑如下图10-9的一篇新闻，看看哪些内容可以表示用户的兴趣。</span></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><br></p> 
 <p style="text-align:center;"><img src="https://images2.imgbox.com/b8/61/NMLWUoPJ_o.png" alt="640?wx_fmt=png"></p> 
 <p style="text-align:center;letter-spacing:0px;line-height:1.75em;"><span style="color:#7F7F7F;font-size:14px;">▲图10-9 新闻例子</span></p> 
 <p><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><span style="font-size:15px;color:#493B3B;">首先，这是一篇体育新闻，体育这个新闻分类可以表示用户兴趣，但是这个标签太粗了，用户可能只对足球感兴趣，体育这个标签就显得不够准确。</span></p> 
 <p><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><span style="font-size:15px;color:#493B3B;">其次，我们可以使用新闻中的</span><strong><span style="font-size:15px;color:#007AAA;">关键词</span></strong><span style="font-size:15px;color:#493B3B;">，尤其是里面的专有名词（人名、机构名），如“桑切斯”、“阿森纳”、“厄齐尔”，这些词也表示了用户的兴趣。关键词的主要问题在于粒度太细，如果一天的新闻里没有这些关键词出现，就无法给用户推荐内容。</span></p> 
 <p><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><span style="font-size:15px;color:#493B3B;">最后，我们希望有一个中间粒度的标签，</span><strong><span style="font-size:15px;color:#007AAA;">既有一定的准确度，又有一定的泛化能力。</span></strong><span style="font-size:15px;color:#493B3B;">于是我们尝试对关键词进行聚类，把一类关键词当成一个标签，或者把一个分类下的新闻进行拆分，生成像“足球”这种粒度介于关键词和分类之间的主题标签。我们可以使用文本主题聚类完成主题标签的构建。</span></p> 
 <p><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><span style="font-size:15px;color:#493B3B;">至此我们就完成了对新闻内容从粗到细的“</span><strong><span style="font-size:15px;color:#007AAA;">分类-主题-关键词</span></strong><span style="font-size:15px;color:#493B3B;">”三层标签体系内容建模，新闻的三层标签如表10-4所示。</span></p> 
 <p><br></p> 
 <table cellspacing="0" cellpadding="0"><tbody><tr><td width="57" style="background:rgb(197,224,179);"><br></td><td width="129" style="background:rgb(197,224,179);"><p style="line-height:150%;"><span style="color:rgb(127,127,127);font-size:14px;"><strong><span style="font-size:14px;color:rgb(127,127,127);line-height:150%;">分类</span></strong></span></p></td><td width="132" style="background:rgb(197,224,179);"><p style="line-height:150%;"><span style="color:rgb(127,127,127);font-size:14px;"><strong><span style="font-size:14px;color:rgb(127,127,127);line-height:150%;">主题</span></strong></span></p></td><td width="164" style="background:rgb(197,224,179);"><p style="line-height:150%;"><span style="color:rgb(127,127,127);font-size:14px;"><strong><span style="font-size:14px;color:rgb(127,127,127);line-height:150%;">关键词</span></strong></span></p></td></tr><tr><td width="63"><p style="line-height:150%;"><span style="line-height:150%;color:rgb(127,127,127);font-size:14px;">使用算法</span></p></td><td width="129"><p style="line-height:150%;"><span style="line-height:150%;color:rgb(127,127,127);font-size:14px;">文本分类、SVM、LR、Bayes</span></p></td><td width="132"><p style="line-height:150%;"><span style="line-height:150%;color:rgb(127,127,127);font-size:14px;">PLSA、LDA</span></p></td><td width="164"><p style="line-height:150%;"><span style="line-height:150%;color:rgb(127,127,127);font-size:14px;">Tf*idf、专门识别、领域词表</span></p></td></tr><tr><td width="63"><p style="line-height:150%;"><span style="line-height:150%;color:rgb(127,127,127);font-size:14px;">粒度</span></p></td><td width="129"><p style="line-height:150%;"><span style="line-height:150%;color:rgb(127,127,127);font-size:14px;">粗</span></p></td><td width="132"><p style="line-height:150%;"><span style="line-height:150%;color:rgb(127,127,127);font-size:14px;">中</span></p></td><td width="164"><p style="line-height:150%;"><span style="line-height:150%;color:rgb(127,127,127);font-size:14px;">细</span></p></td></tr><tr><td width="63"><p style="line-height:150%;"><span style="line-height:150%;color:rgb(127,127,127);font-size:14px;">泛化性</span></p></td><td width="129"><p style="line-height:150%;"><span style="line-height:150%;color:rgb(127,127,127);font-size:14px;">好</span></p></td><td width="132"><p style="line-height:150%;"><span style="line-height:150%;color:rgb(127,127,127);font-size:14px;">中</span></p></td><td width="164"><p style="line-height:150%;"><span style="line-height:150%;color:rgb(127,127,127);font-size:14px;">差</span></p></td></tr><tr><td width="63"><p style="line-height:150%;"><span style="line-height:150%;color:rgb(127,127,127);font-size:14px;">举例</span></p></td><td width="129"><p style="line-height:150%;"><span style="line-height:150%;color:rgb(127,127,127);font-size:14px;">体育、财经、娱乐</span></p></td><td width="132"><p style="line-height:150%;"><span style="line-height:150%;color:rgb(127,127,127);font-size:14px;">足球、理财</span></p></td><td width="164"><p style="line-height:150%;"><span style="line-height:150%;color:rgb(127,127,127);font-size:14px;">梅西、川普、机器学习</span></p></td></tr><tr><td width="63"><p style="line-height:150%;"><span style="line-height:150%;color:rgb(127,127,127);font-size:14px;">量级</span></p></td><td width="129"><p style="line-height:150%;"><span style="line-height:150%;color:rgb(127,127,127);font-size:14px;">10-30</span></p></td><td width="132"><p style="line-height:150%;"><span style="line-height:150%;color:rgb(127,127,127);font-size:14px;">100-1000</span></p></td><td width="164"><p style="line-height:150%;"><span style="line-height:150%;color:rgb(127,127,127);font-size:14px;">百万</span></p></td></tr></tbody></table> 
 <p style="text-align:center;letter-spacing:0px;line-height:1.75em;"><span style="color:#7F7F7F;font-size:14px;">▲表10-4  三层标签体系</span></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><span style="font-size:15px;color:#493B3B;">既然主题的准确率和覆盖率都不错，我们只使用主题不就可以了嘛？为什么还要构建分类和关键词这两层标签呢？这么做是为了给用户进行尽可能精确和全面的内容推荐。</span></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><span style="font-size:15px;color:#493B3B;">当用户的关键词命中新闻时，显然能够给用户更准确的推荐，这时就不需要再使用主题标签；而对于比较小众的主题（如体育类的冰上运动主题），若当天没有新闻覆盖，我们就可以根据分类标签进行推荐。层次标签兼顾了对用户兴趣刻画的覆盖率和准确性。</span></p> 
 <p><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><span style="font-size:15px;color:#007AAA;">2.2 兴趣衰减</span></p> 
 <p><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><span style="font-size:15px;color:#493B3B;">在完成内容建模以后，我们就可以根据用户点击，计算用户对分类、主题、关键词的兴趣，得到用户兴趣标签的权重。最简单的计数方法是用户点击一篇新闻，就把用户对该篇新闻的所有标签在用户兴趣上加一，用户对每个词的兴趣计算就使用如下的公式：</span></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><br></p> 
 <p style="text-align:center;"><img style="width:252px;" src="https://images2.imgbox.com/e2/1b/pembhW5J_o.png" alt="640?wx_fmt=png"></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><span style="font-size:15px;color:#493B3B;">其中：词在这次浏览的新闻中出现C=1，否则C=0，weight表示词在这篇新闻中的权重。</span></p> 
 <p><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><span style="font-size:15px;color:#493B3B;">这样做有</span><strong><span style="font-size:15px;color:#007AAA;">两个问题</span></strong><span style="font-size:15px;color:#493B3B;">：一个是用户的</span><strong><span style="font-size:15px;color:#007AAA;">兴趣累加</span></strong><span style="font-size:15px;color:#493B3B;">是线性的，数值会非常大，老的兴趣权重会特别高；另一个是用户的兴趣有很强的</span><strong><span style="font-size:15px;color:#007AAA;">时效性</span></strong><span style="font-size:15px;color:#493B3B;">，昨天的点击要比一个月之前的点击重要的多，线性叠加无法突出近期兴趣。</span></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><span style="font-size:15px;color:#493B3B;">为了解决这个问题，需要要对用户兴趣得分进行衰减，我们使用如下的方法对兴趣得分进行次数衰减和时间衰减。 </span></p> 
 <p><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><span style="font-size:15px;color:#493B3B;">次数衰减的公式如下：</span></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><br></p> 
 <p style="text-align:center;"><img style="width:351px;" src="https://images2.imgbox.com/74/d0/YhXPADO3_o.png" alt="640?wx_fmt=png"></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><span style="font-size:15px;color:#493B3B;">其中，α是衰减因子，每次都对上一次的分数做衰减，最终得分会收敛到一个稳定值 ，<span style="color:rgb(73,59,59);font-family:'微软雅黑';font-size:15px;text-align:justify;">α</span>取0.9时，得分会无限接近10。</span></p> 
 <p><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><span style="font-size:15px;color:#493B3B;">时间衰减的公式如下：</span></p> 
 <p><br></p> 
 <p style="text-align:center;"><img style="width:296px;" src="https://images2.imgbox.com/24/4e/Zu7cvwto_o.png" alt="640?wx_fmt=png"></p> 
 <p><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><span style="font-size:15px;color:#493B3B;">它表示根据时间对兴趣进行衰减，</span><strong><span style="font-size:15px;color:#007AAA;">这样做可以保证时间较早的兴趣会在一段时间以后变的非常弱，同时近期的兴趣会有更大的权重。</span></strong><span style="font-size:15px;color:#493B3B;">根据用户兴趣变化的速度、用户活跃度等因素，也可以对兴趣进行周级别、月级别或小时级别的衰减。</span></p> 
 <p><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><strong><span style="font-size:15px;color:#007AAA;">3. 地理位置画像</span></strong></p> 
 <p><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><span style="font-size:15px;color:#493B3B;">地理位置画像一般分为两部分：一部分是常驻地画像；一部分是GPS画像。</span><strong><span style="font-size:15px;color:#007AAA;">两类画像的差别很大，</span></strong><strong><span style="font-size:15px;color:#007AAA;">常驻地画像比较容易构造，且标签比较稳定，GPS画像需要实时更新。</span></strong></p> 
 <p><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><span style="font-size:15px;color:#493B3B;">常驻地包括国家、省份、城市三级，一般只细化到城市粒度。常驻地的挖掘基于用户的IP地址信息，对用户的IP地址进行解析，对应到相应的城市，对用户IP出现的城市进行统计就可以得到常驻城市标签。</span></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><span style="font-size:15px;color:#493B3B;">用户的常驻城市标签，不仅可以用来统计各个地域的用户分布，还可以根据用户在各个城市之间的出行轨迹识别出差人群、旅游人群等，如图10-10所示是人群出行轨迹的一个示例。</span></p> 
 <p><br></p> 
 <p style="text-align:center;"><img src="https://images2.imgbox.com/61/be/yGLGxHIr_o.png" alt="640?wx_fmt=png"></p> 
 <p style="text-align:center;letter-spacing:0px;line-height:1.75em;"><span style="color:#7F7F7F;font-size:14px;">▲图10-10 人群出行轨迹</span></p> 
 <p><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><span style="font-size:15px;color:#493B3B;">GPS数据一般从手机端收集，但很多手机APP没有获取用户 GPS信息的权限。能够获取用户GPS信息的主要是百度地图、滴滴打车等出行导航类APP，此外收集到的用户GPS数据比较稀疏。</span></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><span style="font-size:15px;color:#493B3B;">百度地图使用该方法结合时间段数据，构建了用户公司和家的GPS标签。此外百度地图还基于GPS信息，统计各条路上的车流量，进行路况分析，如图10-11是北京市的实时路况图，红色表示拥堵线路。</span></p> 
 <p><br></p> 
 <p style="text-align:center;"><img src="https://images2.imgbox.com/1e/42/UXfbtueE_o.png" alt="640?wx_fmt=png"></p> 
 <p style="text-align:center;letter-spacing:0px;line-height:1.75em;"><span style="color:#7F7F7F;font-size:14px;">▲图10-11 北京的实时路况图</span></p> 
 <p><br></p> 
 <p><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><strong><span style="color:#007AAA;font-size:18px;">04 用户画像评估和使用</span></strong></p> 
 <p><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><span style="font-size:15px;color:#493B3B;">人口属性画像的相关指标比较容易评估，而兴趣画像的标签比较模糊，兴趣画像的人为评估比较困难，</span><strong><span style="font-size:15px;color:#007AAA;">我们对于兴趣画像的常用评估方法是设计小流量的A/B-test进行验证。</span></strong></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><span style="font-size:15px;color:#493B3B;">我们可以筛选一部分标签用户，给这部分用户进行和标签相关的推送，看标签用户对相关内容是否有更好的反馈。</span></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><span style="font-size:15px;color:#493B3B;">例如，在新闻推荐中，我们给用户构建了兴趣画像，我们从体育类兴趣用户中选取一小批用户，给他们推送体育类新闻，</span><strong><span style="font-size:15px;color:#007AAA;">如果这批用户的点击率和阅读时长明显高于平均水平，就说明标签是有效的。</span></strong></p> 
 <p><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><strong><span style="font-size:15px;color:#007AAA;">1. 效果评估</span></strong></p> 
 <p><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><span style="font-size:15px;color:#493B3B;">用户画像效果最直接的评估方法就是看其对实际业务的提升，如互联网广告投放中画像效果主要看使用画像以后点击率和收入的提升，精准营销过程中主要看使用画像后销量的提升等。</span></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><span style="font-size:15px;color:#493B3B;">但是如果把一个没有经过效果评估的模型直接用到线上，风险是很大的，因此我们需要一些上线前可计算的指标来衡量用户画像的质量。</span></p> 
 <p><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><span style="font-size:15px;color:#493B3B;">用户画像的评估指标主要是指</span><strong><span style="font-size:15px;color:#007AAA;">准确率、覆盖率、时效性</span></strong><span style="font-size:15px;color:#493B3B;">等指标。</span></p> 
 <p><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><span style="font-size:15px;color:#007AAA;">1.1 准确率</span></p> 
 <p><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><span style="font-size:15px;color:#493B3B;">标签的准确率指的是被打上正确标签的用户比例，</span><strong><span style="font-size:15px;color:#007AAA;">准确率是用户画像最核心的指标</span></strong><span style="font-size:15px;color:#493B3B;">，一个准确率非常低的标签是没有应用价值的。准确率的计算公式如下：</span></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><br></p> 
 <p style="text-align:center;"><img style="width:169px;" src="https://images2.imgbox.com/9e/18/d4gIs2zR_o.png" alt="640?wx_fmt=png"></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><span style="font-size:15px;color:#493B3B;">其中| U<sub>tag</sub> |表示被打上标签的用户数，| U<sub>tag=true</sub> |表示有标签用户中被打对标签的用户数。准确率的评估一般有两种方法：一种是在标注数据集里留一部分测试数据用于计算模型的准确率；另一种是在全量用户中抽一批用户，进行人工标注，评估准确率。</span></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><span style="font-size:15px;color:#493B3B;">由于初始的标注数据集的分布和全量用户分布相比可能有一定偏差，故后一种方法的数据更可信。准确率一般是对每个标签分别评估，多个标签放在一起评估准确率是没有意义的。</span></p> 
 <p><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><span style="font-size:15px;color:#007AAA;">1.2 覆盖率</span></p> 
 <p><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><span style="font-size:15px;color:#493B3B;">标签的覆盖率指的是被打上标签的用户占全量用户的比例，我们希望标签的覆盖率尽可能的高。</span><strong><span style="font-size:15px;color:#007AAA;">但覆盖率和准确率是一对矛盾的指标，需要对二者进行权衡，一般的做法是在准确率符合一定标准的情况下，尽可能的提升覆盖率。</span></strong></p> 
 <p><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><span style="font-size:15px;color:#493B3B;">我们希望覆盖尽可能多的用户，同时给每个用户打上尽可能多的标签，因此标签整体的覆盖率一般拆解为两个指标来评估。一个是标签覆盖的用户比例，另一个是覆盖用户的人均标签数，前一个指标是覆盖的广度，后一个指标表示覆盖的密度。</span></p> 
 <p><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><span style="font-size:15px;color:#493B3B;">用户覆盖比例的计算方法是：</span></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><br></p> 
 <p style="text-align:center;"><img style="width:154px;" src="https://images2.imgbox.com/31/dc/VboI2kET_o.png" alt="640?wx_fmt=png"></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><span style="font-size:15px;color:#493B3B;">其中| U |表示用户的总数，<span style="color:rgb(73,59,59);font-family:'微软雅黑';font-size:15px;text-align:justify;">| U</span><sub style="color:rgb(73,59,59);font-family:'微软雅黑';text-align:justify;">tag</sub><span style="color:rgb(73,59,59);font-family:'微软雅黑';font-size:15px;text-align:justify;"> |</span>表示被打上标签的用户数。</span></p> 
 <p><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><span style="font-size:15px;color:#493B3B;">人均标签数的计算方法是：</span></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><br></p> 
 <p style="text-align:center;"><img style="width:149px;" src="https://images2.imgbox.com/de/e8/cKxbdMmC_o.png" alt="640?wx_fmt=png"></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><span style="font-size:15px;color:#493B3B;">其中<span style="color:rgb(73,59,59);font-family:'微软雅黑';font-size:15px;text-align:justify;">| tag</span><sub style="color:rgb(73,59,59);font-family:'微软雅黑';text-align:justify;">i</sub><span style="color:rgb(73,59,59);font-family:'微软雅黑';font-size:15px;text-align:justify;"> |</span>表示每个用户的标签数，<span style="color:rgb(73,59,59);font-family:'微软雅黑';font-size:15px;text-align:justify;">| U</span><sub style="color:rgb(73,59,59);font-family:'微软雅黑';text-align:justify;">tag</sub><span style="color:rgb(73,59,59);font-family:'微软雅黑';font-size:15px;text-align:justify;"> |</span>表示被打上标签的用户数。覆盖率既可以对单一标签计算，也可以对某一类标签计算，还可以对全量标签计算，这些都是有统计意义的。</span></p> 
 <p><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><span style="font-size:15px;color:#007AAA;">1.3 时效性</span></p> 
 <p><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><span style="font-size:15px;color:#493B3B;">有些标签的时效性很强，如兴趣标签、出现轨迹标签等，一周之前的就没有意义了；有些标签基本没有时效性，如性别、年龄等，可以有一年到几年的有效期。对于不同的标签，需要建立合理的更新机制，以保证标签时间上的有效性。</span></p> 
 <p><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><span style="font-size:15px;color:#007AAA;">1.4 其他指标</span></p> 
 <p><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><span style="font-size:15px;color:#493B3B;">标签还需要有一定的可解释性，便于理解；同时需要便于维护且有一定的可扩展性，方便后续标签的添加。这些指标难以给出量化的标准，但在构架用户画像时也需要注意。</span></p> 
 <p><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><strong><span style="font-size:15px;color:#007AAA;">2. 画像使用</span></strong></p> 
 <p><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><span style="font-size:15px;color:#493B3B;">用户画像在构建和评估之后，就可以在业务中应用，一般需要一个可视化平台，对标签进行查看和检索。画像的可视化一般使用饼图、柱状图等对标签的覆盖人数、覆盖比例等指标做形象的展示，如下图10-12所示是用户画像的一个可视化界面。</span></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><br></p> 
 <p style="text-align:center;"><img src="https://images2.imgbox.com/cb/a1/UYGfIPaV_o.png" alt="640?wx_fmt=png"></p> 
 <p style="text-align:center;letter-spacing:0px;line-height:1.75em;"><span style="color:#7F7F7F;font-size:14px;">▲图10-12 用户画像的可视化界面</span></p> 
 <p><br></p> 
 <p style="text-align:justify;letter-spacing:0px;line-height:1.75em;"><span style="font-size:15px;color:#493B3B;">此外，对于构建的画像，</span><strong><span style="font-size:15px;color:#007AAA;">我们还可以使用不同维度的标签，进行高级的组合分析，产出高质量的分析报告。</span></strong><span style="font-size:15px;color:#493B3B;">在智能营销、计算广告、个性化推荐等领域用户画像都可以得到应用，具体的应用方法，与其应用领域结合比较紧密，我们不再详细介绍。</span></p> 
 <p><br></p> 
 <p style="line-height:1.75em;"><span style="color:rgb(127,127,127);font-family:'微软雅黑';font-size:14px;text-align:justify;">本文摘编自《</span><span style="color:rgb(127,127,127);font-family:'微软雅黑';font-size:14px;text-align:justify;"><span style="letter-spacing:.544px;background-color:rgb(255,255,255);"><span style="letter-spacing:.544px;">Spark机器学习进阶实战</span></span></span><span style="color:rgb(127,127,127);font-family:'微软雅黑';font-size:14px;text-align:justify;">》，经出版方授权发布。</span></p> 
 <p><br></p> 
 <p style="min-height:1em;color:rgb(51,51,51);line-height:1.75em;text-align:center;"><span style="color:rgb(127,127,127);background-color:rgb(255,255,255);font-family:'微软雅黑';font-size:14px;letter-spacing:.544px;">延伸阅读《</span><span style="color:rgb(127,127,127);background-color:rgb(255,255,255);font-family:'微软雅黑';font-size:14px;letter-spacing:.544px;text-align:justify;"><span style="letter-spacing:.544px;">Spark机器学习进阶实战</span></span><span style="color:rgb(127,127,127);background-color:rgb(255,255,255);font-family:'微软雅黑';font-size:14px;letter-spacing:.544px;">》</span></p> 
 <p style="min-height:1em;letter-spacing:.544px;background-color:rgb(255,255,255);font-family:'微软雅黑';text-align:center;font-size:14px;color:rgb(63,63,63);line-height:1.75em;"><span style="color:rgb(127,127,127);"><span style="letter-spacing:.544px;">点击上图了解及购买</span></span></p> 
 <p style="min-height:1em;letter-spacing:.544px;background-color:rgb(255,255,255);font-family:'微软雅黑';font-size:14px;color:rgb(63,63,63);text-align:center;line-height:1.75em;"><span style="color:rgb(127,127,127);">转载请联系微信：</span><span style="color:rgb(127,127,127);"></span><span style="color:rgb(127,127,127);">togo-maruko</span></p> 
 <p style="font-size:16px;min-height:1em;color:rgb(51,51,51);letter-spacing:.544px;background-color:rgb(255,255,255);font-family:'微软雅黑';text-align:center;"><br></p> 
 <p style="font-size:16px;min-height:1em;color:rgb(51,51,51);letter-spacing:.544px;text-align:justify;background-color:rgb(255,255,255);font-family:'微软雅黑';line-height:1.75em;"><strong><span style="color:rgb(127,127,127);font-size:14px;">推荐语：</span></strong><span style="color:rgb(127,127,127);font-size:14px;">科大讯飞大数据专家撰写，从基础到应用，面面俱到。</span></p> 
 <p><br></p> 
 <p style="font-size:16px;font-family:'微软雅黑';text-align:center;line-height:1.75em;"><img title="音符" style="color:rgb(51,51,51);letter-spacing:.544px;line-height:25.6px;background-color:rgb(255,255,255);" src="https://images2.imgbox.com/f5/99/rI3e6Z3h_o.gif" alt="640?"></p> 
 <p style="font-size:16px;font-family:'微软雅黑';text-align:justify;line-height:1.75em;"><br></p> 
 <p style="font-size:16px;font-family:'微软雅黑';text-align:center;line-height:1.75em;"><span style="font-size:15px;color:rgb(73,59,59);">据统计，99%的大咖都完成了这个神操作</span></p> 
 <p style="font-size:16px;font-family:'微软雅黑';text-align:center;line-height:1.75em;"><span style="font-size:15px;color:rgb(73,59,59);">▼</span></p> 
 <p style="font-size:16px;font-family:'微软雅黑';text-align:center;line-height:1.75em;"><span style="font-size:15px;color:rgb(73,59,59);"><br></span></p> 
 <p style="font-size:16px;font-family:'微软雅黑';text-align:center;"><img style="width:265px;" src="https://images2.imgbox.com/0c/ca/16kdnIOC_o.png" alt="640?wx_fmt=png"></p> 
 <p style="min-height:1em;color:rgb(51,51,51);font-family:'-apple-system-font', BlinkMacSystemFont, Arial, sans-serif;font-size:17px;text-align:center;letter-spacing:.5px;line-height:1.75em;"><br></p> 
 <p style="min-height:1em;color:rgb(51,51,51);font-family:'-apple-system-font', BlinkMacSystemFont, Arial, sans-serif;font-size:17px;text-align:center;letter-spacing:.5px;line-height:1.75em;"><span style="color:rgb(0,122,170);font-family:'微软雅黑';font-size:20px;">更多精彩</span></p> 
 <p style="min-height:1em;color:rgb(51,51,51);font-family:'-apple-system-font', BlinkMacSystemFont, Arial, sans-serif;font-size:17px;text-align:justify;letter-spacing:.5px;line-height:1.75em;"><span style="font-family:'微软雅黑';color:rgb(127,127,127);font-size:14px;"><br></span></p> 
 <p style="text-align:center;line-height:1.75em;"><span style="font-size:15px;color:rgb(73,59,59);">在公众号后台对话框输入以下</span><strong><span style="font-size:15px;color:rgb(0,122,170);">关键词</span></strong></p> 
 <p style="text-align:center;line-height:1.75em;"><span style="font-size:15px;color:rgb(73,59,59);">查看更多优质内容！</span></p> 
 <p style="text-align:center;line-height:1.75em;"><strong style="color:rgb(73,59,59);"><span style="font-size:15px;"><strong style="font-size:16px;"><span style="font-size:15px;color:rgb(0,122,170);"><br></span></strong></span></strong></p> 
 <p style="text-align:center;line-height:1.75em;"><strong style="color:rgb(73,59,59);"><span style="font-size:15px;"><strong style="font-size:16px;"><span style="font-size:15px;color:rgb(0,122,170);">PPT</span></strong> </span></strong><span style="font-size:15px;color:rgb(73,59,59);">|</span><strong style="color:rgb(73,59,59);"><span style="font-size:15px;"> <strong style="font-size:16px;"><span style="font-size:15px;color:rgb(0,122,170);">报告</span></strong> </span></strong><span style="font-size:15px;color:rgb(73,59,59);">|</span><strong style="color:rgb(73,59,59);"><span style="font-size:15px;"> <strong style="font-size:16px;"><span style="font-size:15px;color:rgb(0,122,170);">读书</span></strong> </span></strong><span style="font-size:15px;color:rgb(73,59,59);">|</span><strong style="color:rgb(73,59,59);"><span style="font-size:15px;"> <strong style="font-size:16px;"><span style="font-size:15px;color:rgb(0,122,170);">书单</span></strong></span></strong></p> 
 <p style="text-align:center;line-height:1.75em;"><span style="font-size:15px;"><strong style="color:rgb(73,59,59);font-size:16px;"><span style="font-size:15px;color:rgb(0,122,170);">Python</span></strong><span style="color:rgb(73,59,59);"> | </span><span style="color:rgb(0,122,170);"><strong>机器学习</strong></span><span style="color:rgb(73,59,59);"> | </span></span><span style="font-size:15px;color:rgb(73,59,59);"><strong style="font-size:16px;"><span style="font-size:15px;"><strong style="font-size:16px;"><span style="font-size:15px;color:rgb(0,122,170);">深度学习</span></strong></span></strong></span><span style="font-size:15px;color:rgb(73,59,59);"> | </span><span style="font-size:15px;color:rgb(73,59,59);"><strong style="font-size:16px;"><span style="font-size:15px;"><strong style="font-size:16px;"><span style="font-size:15px;color:rgb(0,122,170);">神经网络</span></strong></span></strong></span></p> 
 <p style="text-align:center;line-height:1.75em;"><span style="font-size:15px;"><strong style="color:rgb(73,59,59);font-size:16px;"><span style="font-size:15px;color:rgb(0,122,170);">区块链</span></strong><span style="color:rgb(73,59,59);"> | <strong style="font-size:16px;"><span style="font-size:15px;color:rgb(0,122,170);">揭秘<span style="color:rgb(73,59,59);"></span></span></strong> | </span></span><span style="font-size:15px;color:rgb(73,59,59);"><strong style="font-size:16px;"><span style="font-size:15px;"><strong style="font-size:16px;"><span style="font-size:15px;color:rgb(0,122,170);"><strong style="color:rgb(73,59,59);"><strong style="font-size:16px;"><span style="font-size:15px;color:rgb(0,122,170);">干货</span></strong></strong></span></strong></span></strong></span><span style="font-size:15px;"><span style="color:rgb(73,59,59);"> | </span><span style="color:rgb(0,122,170);"><strong>数学</strong></span></span></p> 
 <p style="min-height:1em;color:rgb(51,51,51);font-family:'-apple-system-font', BlinkMacSystemFont, Arial, sans-serif;font-size:17px;text-align:center;letter-spacing:.5px;line-height:1.75em;"><br></p> 
 <p><span style="color:rgb(0,122,170);font-size:20px;">猜你想看</span></p> 
 <p style="text-align:justify;"><br></p> 
 <ul class="list-paddingleft-2" style="list-style-type:square;"><li><p style="text-align:justify;"><a href="http://mp.weixin.qq.com/s?__biz=MjM5ODE1NDYyMA==&amp;mid=2653388736&amp;idx=1&amp;sn=3e71bf54687fd165e3defa36ff41ae7e&amp;chksm=bd1cc7d38a6b4ec5f063d5117623195a62d13b07dc8ef65c4504b184aba9b7d78f74a4ebd9b8&amp;scene=21#wechat_redirect" rel="nofollow"><span style="color:rgb(0,128,255);line-height:25.6px;font-size:15px;">那个陪你聊微信、发自拍的妹子，可能不是人</span></a><br></p></li><li><p style="text-align:justify;"><a href="http://mp.weixin.qq.com/s?__biz=MjM5ODE1NDYyMA==&amp;mid=2653388689&amp;idx=2&amp;sn=804e532ee19f9695254b117d0cac9199&amp;chksm=bd1cc7828a6b4e94a1cf42fde816be0dd7b8a18fc9de50cf7a64fee9b57d1629f6cf06dffd57&amp;scene=21#wechat_redirect" rel="nofollow"><span style="line-height:25.6px;color:rgb(0,128,255);font-size:15px;">从AI到IA，你愿意买一个机器人伴侣同居吗？</span></a><br></p></li><li><p style="text-align:justify;"><span style="color:rgb(0,128,255);line-height:25.6px;font-size:15px;">谁再问你“天天爬那些数据有什么用”，就把这5本书扔给他！</span><br></p></li><li><p style="text-align:justify;"><a href="http://mp.weixin.qq.com/s?__biz=MjM5ODE1NDYyMA==&amp;mid=2653388632&amp;idx=2&amp;sn=b0bbaa7bd57d859b895187c8504598bf&amp;chksm=bd1cc74b8a6b4e5df51fe61e0b2d0c4fa62667c7cc3bde223b938a41ff3daa6b0a20116f7078&amp;scene=21#wechat_redirect" rel="nofollow"><span style="color:rgb(0,128,255);line-height:25.6px;font-size:15px;">没看过这10本程序员必读烧脑经典，别说你是敲代码的</span></a><br></p></li></ul> 
 <p style="text-align:justify;"><br></p> 
 <p style="text-align:justify;"><br></p> 
 <p style="font-size:16px;font-family:'微软雅黑';line-height:25.6px;min-height:1em;color:rgb(62,62,62);text-align:center;"><span style="font-size:20px;font-style:italic;text-align:justify;color:rgb(0,122,170);">Q:</span><span style="color:rgb(73,59,59);"> 你都做过哪些网站、app的用户画像</span><span style="color:rgb(73,59,59);">？</span></p> 
 <p style="font-size:16px;font-family:'微软雅黑';line-height:25.6px;min-height:1em;color:rgb(62,62,62);text-align:center;"><span style="color:rgb(73,59,59);">欢迎留言与大家分享</span></p> 
 <p style="font-size:16px;font-family:'微软雅黑';line-height:25.6px;min-height:1em;color:rgb(62,62,62);text-align:center;"><span style="color:rgb(136,136,136);font-size:14px;">觉得不错，请把这篇文章分享给你的朋友</span></p> 
 <p style="font-size:16px;font-family:'微软雅黑';line-height:25.6px;min-height:1em;color:rgb(62,62,62);text-align:center;"><span style="color:rgb(136,136,136);font-size:14px;">转载 / 投稿请联系：baiyu@hzbook.com</span></p> 
 <p style="font-size:16px;font-family:'微软雅黑';line-height:25.6px;min-height:1em;color:rgb(62,62,62);text-align:center;"><span style="color:rgb(136,136,136);font-size:14px;">更多精彩，请在后台点击“历史文章”查看</span></p> 
 <p><img style="line-height:25.6px;width:558px;" src="https://images2.imgbox.com/01/bd/zANbHlb5_o.png" alt="640?wx_fmt=jpeg"></p> 
 <p><img class="__bg_gif" style="font-family:'微软雅黑';font-size:16px;text-align:justify;color:rgb(62,62,62);vertical-align:middle;width:32px;" src="https://images2.imgbox.com/83/cf/O2cO4Ajt_o.gif" alt="640?wx_fmt=gif"><span style="font-family:'微软雅黑';text-align:justify;color:rgb(62,62,62);font-size:12px;">点击<span style="color:rgb(52,83,145);">阅读原文</span>，了解更多</span></p> 
</div>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/282d2a6e31c7054d5f8f24ae5e250897/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Linux各目录及每个目录的详细介绍</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/50e47a7e5c0e5f8ffbd93056ddca5bae/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">oracle关联表更新（一）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>