<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>linux下安装mysql8/5.6/5.7&#43;设置远程连接全攻略 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="linux下安装mysql8/5.6/5.7&#43;设置远程连接全攻略" />
<meta property="og:description" content="目录 安装mysql8
安装mysql5.6
安装mysql5.7
一、安装mysql8 基本命令
安装 :　yum install mysql-community-server
启动 :　service mysqld start/restart
停止 :　service mysqld stop
查看状态: service mysqld status
本文包括： mysql安装 修改密码 开启远程访问 忘记密码后重置密码 卸载mysql
【安装步骤】
contos7默认安装了mariadb数据库,这里把他移除：yum remove mariadb-libs.x86_64
创建文件目录 mkdir /etc/mysql
获取下载链接
4. 在该目录下 下载刚刚的安装链接。wget https://dev.mysql.com/get/mysql80-community-release-el7-1.noarch.rpm
下载完成后，会得到这个文件名，直接yum localinstall把它添加到本地。
5. 这时可以先看添加成功没有 yum search mysql
6. 安装：yum install mysql-community-server
启动测试： service mysqld start service mysqld status
【修改密码】
1. 刚刚启动成功之后, 用命令查看默认密码并且登录
查看：cat /var/log/mysqld.log | grep password" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/4b6216003c581956a90be372b2aae7fc/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-11-10T17:14:32+08:00" />
<meta property="article:modified_time" content="2021-11-10T17:14:32+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">linux下安装mysql8/5.6/5.7&#43;设置远程连接全攻略</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="_0"></a>目录</h3> 
<p>安装mysql8<br> 安装mysql5.6<br> 安装mysql5.7</p> 
<h3><a id="mysql8_5"></a>一、安装mysql8</h3> 
<p>基本命令</p> 
<p>安装 :　　yum install mysql-community-server</p> 
<p>启动 :　　service mysqld start/restart</p> 
<p>停止 :　　service mysqld stop</p> 
<p>查看状态: service mysqld status</p> 
<p>本文包括： mysql安装 修改密码 开启远程访问 忘记密码后重置密码 卸载mysql</p> 
<p><strong>【安装步骤】</strong></p> 
<p>contos7默认安装了mariadb数据库,这里把他移除：<code>yum remove mariadb-libs.x86_64</code><br> 创建文件目录 <code>mkdir /etc/mysql</code><br> 获取下载链接<br> 　　<img src="https://images2.imgbox.com/4e/0f/82wPpRtQ_o.png" alt="在这里插入图片描述"></p> 
<p>4. 在该目录下 下载刚刚的安装链接。<code>wget https://dev.mysql.com/get/mysql80-community-release-el7-1.noarch.rpm</code><br> 　　下载完成后，会得到这个文件名，直接yum localinstall把它添加到本地。<br> 　　<img src="https://images2.imgbox.com/a9/69/nmkjrNlm_o.png" alt="在这里插入图片描述"></p> 
<p>5. 这时可以先看添加成功没有 <code>yum search mysql</code></p> 
<p><img src="https://images2.imgbox.com/ab/9c/wROJDmkH_o.png" alt="在这里插入图片描述"></p> 
<p>6. 　安装：<code>yum install mysql-community-server</code><br> 　　 启动测试： <code>service mysqld start service mysqld status</code></p> 
<p><strong>【修改密码】</strong></p> 
<p>1. 刚刚启动成功之后, 用命令查看默认密码并且登录</p> 
<p>查看：<code>cat /var/log/mysqld.log | grep password</code><br> 　　　　<img src="https://images2.imgbox.com/d3/5c/JC47XOEp_o.png" alt="在这里插入图片描述"></p> 
<p>登陆：<code>mysql -u root -p</code> 然后输入上图中的密码</p> 
<p>2. 修改密码</p> 
<p>（1）先修改初始密码</p> 
<pre><code class="prism language-sql"><span class="token keyword">ALTER</span> <span class="token keyword">USER</span> <span class="token string">"root"</span><span class="token variable">@"localhost"</span> IDENTIFIED  <span class="token keyword">BY</span> <span class="token string">"Root#1234"</span><span class="token punctuation">;</span>   <span class="token comment">// 新密码为 Root#1234</span>
</code></pre> 
<p>（2）再设置mysql全局变量使他支持简单密码</p> 
<p></p> 
<pre><code class="prism language-sql"><span class="token keyword">set</span> <span class="token keyword">global</span> validate_password<span class="token punctuation">.</span>policy<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>

　　　　<span class="token keyword">set</span> <span class="token keyword">global</span> validate_password<span class="token punctuation">.</span>length<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/cb/66/OXaVItfF_o.png" alt="在这里插入图片描述"></p> 
<p>（3）最后将密码设置为简单密码</p> 
<pre><code class="prism language-sql"><span class="token keyword">ALTER</span> <span class="token keyword">USER</span> <span class="token string">"root"</span><span class="token variable">@"localhost"</span> IDENTIFIED  <span class="token keyword">BY</span> <span class="token string">"1234"</span><span class="token punctuation">;</span>   <span class="token comment">// 新密码为 1234</span>
</code></pre> 
<p>3. exit 退出<br> 　　<br> <strong>【授权远程访问】</strong></p> 
<p><strong>首先确保关闭了防火墙 并重启mysql。</strong></p> 
<p><code>mysql -u root -p</code> 然后输入密码即可登录</p> 
<ol><li>选择数据库 <code>use mysql</code></li><li>查看用户表 <code>select host, user, plugin from user;</code><br> <img src="https://images2.imgbox.com/08/7a/y17Q7TN9_o.png" alt="在这里插入图片描述"><br> 可以看到root用户的host为localhost，表示root用户没法远程连接。<br> 需要新增一条记录：host为%，user为root；</li></ol> 
<p>（1）新增用户</p> 
<pre><code class="prism language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">USER</span> <span class="token punctuation">`</span>root<span class="token punctuation">`</span><span class="token variable">@`%`</span> IDENTIFIED <span class="token keyword">BY</span> <span class="token string">'1234'</span><span class="token punctuation">;</span>
</code></pre> 
<p>（2）授权</p> 
<pre><code class="prism language-sql"><span class="token keyword">GRANT</span> <span class="token keyword">ALL</span> <span class="token keyword">ON</span> <span class="token operator">*</span><span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">TO</span> <span class="token punctuation">`</span>root<span class="token punctuation">`</span><span class="token variable">@`%`</span> <span class="token keyword">WITH</span> <span class="token keyword">GRANT</span> <span class="token keyword">OPTION</span><span class="token punctuation">;</span>
</code></pre> 
<p>（3）刷新权限</p> 
<pre><code class="prism language-sql">FLUSH <span class="token keyword">PRIVILEGES</span><span class="token punctuation">;</span>
</code></pre> 
<p><strong>【更改连接的密码校验方式】</strong></p> 
<p><code>caching_sha2_password</code>加密方式在远程访问时候不支持。<br> 需要改成：<code>mysql_native_password</code><br> <img src="https://images2.imgbox.com/0e/8f/P5nxxR7c_o.png" alt="在这里插入图片描述"><br> （1）更改连接方式</p> 
<pre><code class="prism language-sql">mysql<span class="token operator">&gt;</span> <span class="token keyword">ALTER</span> <span class="token keyword">USER</span> <span class="token string">'root'</span><span class="token variable">@'%'</span> IDENTIFIED <span class="token keyword">WITH</span> mysql_native_password <span class="token keyword">BY</span> <span class="token string">'1234'</span><span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> <span class="token number">0</span> <span class="token keyword">rows</span> affected <span class="token punctuation">(</span><span class="token number">0.09</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> host<span class="token punctuation">,</span><span class="token keyword">user</span><span class="token punctuation">,</span>plugin <span class="token keyword">from</span> <span class="token keyword">user</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-----------+------------------+-----------------------+</span>
<span class="token operator">|</span> host      <span class="token operator">|</span> <span class="token keyword">user</span>             <span class="token operator">|</span> plugin                <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------+------------------+-----------------------+</span>
<span class="token operator">|</span> <span class="token operator">%</span>         <span class="token operator">|</span> root             <span class="token operator">|</span> mysql_native_password <span class="token operator">|</span>
<span class="token operator">|</span> localhost <span class="token operator">|</span> mysql<span class="token punctuation">.</span>infoschema <span class="token operator">|</span> caching_sha2_password <span class="token operator">|</span>
<span class="token operator">|</span> localhost <span class="token operator">|</span> mysql<span class="token punctuation">.</span><span class="token keyword">session</span>    <span class="token operator">|</span> caching_sha2_password <span class="token operator">|</span>
<span class="token operator">|</span> localhost <span class="token operator">|</span> mysql<span class="token punctuation">.</span>sys        <span class="token operator">|</span> caching_sha2_password <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------+------------------+-----------------------+</span>
<span class="token number">4</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> 
</code></pre> 
<p>（2）刷新权限</p> 
<pre><code class="prism language-sql">mysql<span class="token operator">&gt;</span> FLUSH <span class="token keyword">PRIVILEGES</span><span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> <span class="token number">0</span> <span class="token keyword">rows</span> affected <span class="token punctuation">(</span><span class="token number">0.04</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> 
</code></pre> 
<p>（3）远程连接<br> <img src="https://images2.imgbox.com/da/93/irfH5cLT_o.png" alt="在这里插入图片描述"></p> 
<p><strong>【卸载mysql】</strong><br> 　　首先 ， 停止mysql service mysqld stop</p> 
<p>总共分两步： 1.卸载mysql组件 2.删除相关文件夹</p> 
<pre><code class="prism language-powershell">【第一步卸载mysql组件】
【 查看MySQL组件 】
<span class="token namespace">[root@localhost ~]</span><span class="token comment"># rpm -qa | grep -i mysql</span>
mysql<span class="token operator">-</span>community<span class="token operator">-</span>libs<span class="token operator">-</span>8<span class="token punctuation">.</span>0<span class="token punctuation">.</span>12<span class="token operator">-</span>1<span class="token punctuation">.</span>el7<span class="token punctuation">.</span>x86_64
mysql<span class="token operator">-</span>community<span class="token operator">-</span>common<span class="token operator">-</span>8<span class="token punctuation">.</span>0<span class="token punctuation">.</span>12<span class="token operator">-</span>1<span class="token punctuation">.</span>el7<span class="token punctuation">.</span>x86_64
mysql<span class="token operator">-</span>community<span class="token operator">-</span>client<span class="token operator">-</span>8<span class="token punctuation">.</span>0<span class="token punctuation">.</span>12<span class="token operator">-</span>1<span class="token punctuation">.</span>el7<span class="token punctuation">.</span>x86_64
mysql<span class="token operator">-</span>community<span class="token operator">-</span>server<span class="token operator">-</span>8<span class="token punctuation">.</span>0<span class="token punctuation">.</span>12<span class="token operator">-</span>1<span class="token punctuation">.</span>el7<span class="token punctuation">.</span>x86_64
【删除】
<span class="token namespace">[root@localhost ~]</span><span class="token comment"># rpm -ev mysql-community-server-8.0.12-1.el7.x86_64</span>
Preparing packages<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
mysql<span class="token operator">-</span>community<span class="token operator">-</span>server<span class="token operator">-</span>8<span class="token punctuation">.</span>0<span class="token punctuation">.</span>12<span class="token operator">-</span>1<span class="token punctuation">.</span>el7<span class="token punctuation">.</span>x86_64
warning: <span class="token operator">/</span>etc<span class="token operator">/</span>my<span class="token punctuation">.</span>cnf saved as <span class="token operator">/</span>etc<span class="token operator">/</span>my<span class="token punctuation">.</span>cnf<span class="token punctuation">.</span>rpmsave
【删除】
<span class="token namespace">[root@localhost ~]</span><span class="token comment"># rpm -ev mysql-community-client-8.0.12-1.el7.x86_64</span>
Preparing packages<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
mysql<span class="token operator">-</span>community<span class="token operator">-</span>client<span class="token operator">-</span>8<span class="token punctuation">.</span>0<span class="token punctuation">.</span>12<span class="token operator">-</span>1<span class="token punctuation">.</span>el7<span class="token punctuation">.</span>x86_64
【删除失败】
<span class="token namespace">[root@localhost ~]</span><span class="token comment"># rpm -ev mysql-community-common-8.0.12-1.el7.x86_64</span>
error: Failed dependencies:
    mysql<span class="token operator">-</span>community<span class="token operator">-</span>common<span class="token punctuation">(</span>x86<span class="token operator">-</span>64<span class="token punctuation">)</span> &gt;= 8<span class="token punctuation">.</span>0<span class="token punctuation">.</span>0 is needed by <span class="token punctuation">(</span>installed<span class="token punctuation">)</span> mysql<span class="token operator">-</span>community<span class="token operator">-</span>libs<span class="token operator">-</span>8<span class="token punctuation">.</span>0<span class="token punctuation">.</span>12<span class="token operator">-</span>1<span class="token punctuation">.</span>el7<span class="token punctuation">.</span>x86_64
【继续查看】
<span class="token namespace">[root@localhost ~]</span><span class="token comment"># rpm -qa | grep -i mysql</span>
mysql<span class="token operator">-</span>community<span class="token operator">-</span>libs<span class="token operator">-</span>8<span class="token punctuation">.</span>0<span class="token punctuation">.</span>12<span class="token operator">-</span>1<span class="token punctuation">.</span>el7<span class="token punctuation">.</span>x86_64
mysql<span class="token operator">-</span>community<span class="token operator">-</span>common<span class="token operator">-</span>8<span class="token punctuation">.</span>0<span class="token punctuation">.</span>12<span class="token operator">-</span>1<span class="token punctuation">.</span>el7<span class="token punctuation">.</span>x86_64
【删除】
<span class="token namespace">[root@localhost ~]</span><span class="token comment"># rpm -e --noscripts mysql-community-libs-8.0.12-1.el7.x86_64</span>
<span class="token namespace">[root@localhost ~]</span><span class="token comment"># </span>
【删除】
<span class="token namespace">[root@localhost ~]</span><span class="token comment"># rpm -e --noscripts mysql-community-common-8.0.12-1.el7.x86_64</span>
<span class="token namespace">[root@localhost ~]</span><span class="token comment"># </span>
【查看】
<span class="token namespace">[root@localhost ~]</span><span class="token comment"># rpm -qa | grep -i mysql</span>
<span class="token namespace">[root@localhost ~]</span><span class="token comment"># </span>

【第二步：删除相关目录】
【查看】
<span class="token namespace">[root@localhost ~]</span><span class="token comment"># find / -name mysql</span>
<span class="token operator">/</span>etc<span class="token operator">/</span>mysql
<span class="token operator">/</span>etc<span class="token operator">/</span>selinux<span class="token operator">/</span>targeted<span class="token operator">/</span>active<span class="token operator">/</span>modules<span class="token operator">/</span>100<span class="token operator">/</span>mysql
<span class="token operator">/</span><span class="token keyword">var</span><span class="token operator">/</span>lib<span class="token operator">/</span>mysql
<span class="token operator">/</span><span class="token keyword">var</span><span class="token operator">/</span>lib<span class="token operator">/</span>mysql<span class="token operator">/</span>mysql
【删除】
<span class="token namespace">[root@localhost ~]</span><span class="token comment"># rm -rf /etc/mysql</span>
<span class="token namespace">[root@localhost ~]</span><span class="token comment"># rm -rf /etc/selinux/targeted/active/modules/100/mysql</span>
<span class="token namespace">[root@localhost ~]</span><span class="token comment"># rm -rf /var/lib/mysql</span>
<span class="token namespace">[root@localhost ~]</span><span class="token comment"># find / -name mysql</span>
【再次检查，什么都没有说明卸载成功了】
<span class="token namespace">[root@localhost ~]</span><span class="token comment"># rpm -qa | grep -i mysql</span>
<span class="token namespace">[root@localhost ~]</span><span class="token comment">#</span>
</code></pre> 
<h3><a id="mysql56_195"></a>二、安装mysql5.6</h3> 
<ol><li>下载mysql　　https://dev.mysql.com/downloads/mysql/5.6.html#downloads</li></ol> 
<p><img src="https://images2.imgbox.com/79/c8/zHoEQglJ_o.png" alt="在这里插入图片描述"><br> 2. 上传解压</p> 
<p><img src="https://images2.imgbox.com/2b/5e/6w9slWUT_o.png" alt="在这里插入图片描述"><br> 3. 删除安装包， 重命名解压后的文件</p> 
<p><img src="https://images2.imgbox.com/89/ad/vylaBBbU_o.png" alt="在这里插入图片描述"><br> 4. 先检查是否有mysql用户组和mysql用户,没有就添加有就忽略： groups mysql<br> 添加用户组和用户 groupadd mysql &amp;&amp; useradd -r -g mysql mysql</p> 
<p><img src="https://images2.imgbox.com/25/9f/WrbQ1Isa_o.png" alt="在这里插入图片描述"><br> 5. 进入mysql目录修改权限 cd mysql/ chown -R mysql:mysql ./</p> 
<p><img src="https://images2.imgbox.com/58/8b/NHeU0eXT_o.png" alt="在这里插入图片描述"><br> 6. 安装依赖库 yum -y install autoconf &amp;&amp; yum install libaio* -y &amp;&amp; yum -y install numactl</p> 
<ol start="7"><li> <p>执行安装脚本 ./scripts/mysql_install_db --user=mysql</p> </li><li> <p>脚本安装完之后修改当前目录拥有者为root用户，修改data目录拥有者为mysql</p> </li></ol> 
<p>chown -R root:root ./ &amp;&amp; chown -R mysql:mysql data<br> 　　<img src="https://images2.imgbox.com/f6/7a/5Pbvt7w3_o.png" alt="在这里插入图片描述"><br> 9. 创建默认日志文件 mkdir /var/log/mariadb &amp;&amp; touch /var/log/mariadb/mariadb.log</p> 
<ol start="10"><li> <p>my.cnf设置为用户可读写,其他用户不可写 。 chmod 644 /usr/local/mysql/my.cnf</p> </li><li> <p>启动mysql ./support-files/mysql.server start</p> </li><li> <p>修改密码 ./bin/mysqladmin -u root -h localhost.localdomain password ‘123456’</p> </li><li> <p>登陆mysql ./bin/mysql -h127.0.0.1 -uroot -p123456</p> </li><li> <p>授权远程登陆 grant all privileges on <em>.</em> to root@’%’ identified by ‘123456’; flush privileges;</p> </li></ol> 
<p><img src="https://images2.imgbox.com/b9/ce/Wzav0tUV_o.png" alt="在这里插入图片描述"></p> 
<p>【卸载】</p> 
<ol><li> <p>rm -rf /root/.mysql_sercret</p> </li><li> <p>rm -rf /var/lib/mysql</p> </li><li> <p>rm -rf /usr/local/mysql</p> </li></ol> 
<p>【mysql5.6 开机自启动】</p> 
<p>1，将服务文件复制一份到init.d下，并重命名为mysqld<br> 　　cp /usr/local/mysql/support-files/mysql.server /etc/init.d/mysqld<br> 2，对文件赋予执行权限<br> 　　chmod +x /etc/init.d/mysqld 或 chmod 777 /etc/init.d/mysqld<br> 3，增加mysqld服务<br> 　　chkconfig --add mysqld<br> 4，查询mysqld服务情况<br> 　　chkconfig --list mysqld</p> 
<p><img src="https://images2.imgbox.com/ad/19/SNUSxpsU_o.png" alt="在这里插入图片描述"><br> 5, 如果3，4，5 为off：<br> 　　chkconfig --level 345 mysqld on<br> 6, 重启服务器验证：reboot</p> 
<h3><a id="mysql57_259"></a>三、安装mysql5.7</h3> 
<ol><li>解压 tar -zxvf mysql-5.7.34-linux-glibc2.12-x86_64.tar.gz</li></ol> 
<p><img src="https://images2.imgbox.com/49/9d/ixkCBkgx_o.png" alt="在这里插入图片描述"></p> 
<p>mv mysql-5.7.34-linux-glibc2.12-x86_64 mysql</p> 
<p><img src="https://images2.imgbox.com/ab/da/oSSsOwXC_o.png" alt="在这里插入图片描述"></p> 
<ol start="2"><li> <p>先检查是否有mysql用户组和mysql用户,没有就添加有就忽略： groups mysql</p> <p>添加用户组和用户 groupadd mysql &amp;&amp; useradd -r -g mysql mysql<br> <img src="https://images2.imgbox.com/5e/37/okKioGou_o.png" alt="在这里插入图片描述"></p> </li><li> <p>创建数据目录并赋予权限</p> </li></ol> 
<p>mkdir -p /data/mysql<br> 　　chown mysql:mysql -R /data/mysql</p> 
<p><img src="https://images2.imgbox.com/1f/06/BYdwH9i2_o.png" alt="在这里插入图片描述"></p> 
<ol start="4"><li>修改配置文件 vim /etc/my.cnf</li></ol> 
<pre><code class="prism language-powershell"><span class="token namespace">[mysqld]</span>
bind<span class="token operator">-</span>address=0<span class="token punctuation">.</span>0<span class="token punctuation">.</span>0<span class="token punctuation">.</span>0
port=3306
user=mysql
basedir=<span class="token operator">/</span>usr<span class="token operator">/</span>local<span class="token operator">/</span>mysql
datadir=<span class="token operator">/</span><span class="token keyword">data</span><span class="token operator">/</span>mysql
socket=<span class="token operator">/</span>tmp<span class="token operator">/</span>mysql<span class="token punctuation">.</span>sock
log<span class="token operator">-</span>error=<span class="token operator">/</span><span class="token keyword">data</span><span class="token operator">/</span>mysql<span class="token operator">/</span>mysql<span class="token punctuation">.</span>err
pid<span class="token operator">-</span>file=<span class="token operator">/</span><span class="token keyword">data</span><span class="token operator">/</span>mysql<span class="token operator">/</span>mysql<span class="token punctuation">.</span>pid
<span class="token comment">#character config</span>
character_set_server=utf8mb4
symbolic<span class="token operator">-</span>links=0
explicit_defaults_for_timestamp=true
</code></pre> 
<p><img src="https://images2.imgbox.com/2a/6a/w0X1ihJG_o.png" alt="在这里插入图片描述"></p> 
<ol start="5"><li>初始化</li></ol> 
<p>cd /usr/local/mysql/bin/<br> ./mysqld --defaults-file=/etc/my.cnf --basedir=/usr/local/mysql/ --datadir=/data/mysql/ --user=mysql --initialize</p> 
<ol start="6"><li>查看密码</li></ol> 
<p>cat /data/mysql/mysql.err<br> <img src="https://images2.imgbox.com/36/4a/Y7LwbqaO_o.png" alt="在这里插入图片描述"></p> 
<ol start="7"><li>启动mysql</li></ol> 
<p>cp /usr/local/mysql/support-files/mysql.server /etc/init.d/mysql<br> 　　service mysql start<br> 　　<img src="https://images2.imgbox.com/7f/09/mjcwhGoo_o.png" alt="在这里插入图片描述"></p> 
<p>修改密码</p> 
<ol><li> <p>登录<br> 　　./mysql -u root -p</p> </li><li> <p>修改密码<br> 　　SET PASSWORD = PASSWORD(‘123456’);<br> 　　ALTER USER ‘root’@‘localhost’ PASSWORD EXPIRE NEVER;<br> 　　FLUSH PRIVILEGES;<br> 　　<img src="https://images2.imgbox.com/f1/22/I23HdZcs_o.png" alt="在这里插入图片描述"></p> </li><li> <p>刷新规则允许外部访问<br> 　　use mysql 　　　　 #访问mysql库<br> 　　update user set host = ‘%’ where user = ‘root’; 　　　　 #使root能再任何host访问<br> 　　FLUSH PRIVILEGES; 　　 　　 #刷新<br> 　　<img src="https://images2.imgbox.com/24/6c/i63670a6_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/70/2c/mA9AmwUp_o.png" alt="在这里插入图片描述"><br> 卸载</p> </li><li> <p>kill -9 pid</p> </li><li> <p>rm -rf /root/.mysql_sercret</p> </li><li> <p>rm -rf /var/lib/mysql</p> </li><li> <p>rm -rf /usr/local/mysql</p> </li><li> <p>rm -rf /data/mysql</p> </li></ol>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/a23e740ade088280d156f3944436e377/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">数据结构考研 结构体类型总结</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b148c25746de1c5bd941802a65d43a80/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">javaWeb:连接池学习druid</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>