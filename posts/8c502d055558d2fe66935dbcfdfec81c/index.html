<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Vue3最佳实践 第八章 ESLint 与 测试 ( ESLint ) - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Vue3最佳实践 第八章 ESLint 与 测试 ( ESLint )" />
<meta property="og:description" content="ESLint ​在所有的JavaScript 项目开发中我们都会接触到 ESLint 这个词，ESLint 是个什么样的组件会给为项目做些什么吗？ESLint 是一种检查语法错误以及代码是否按照预定规则编写的工具。ESLint 可以帮助开发者发现代码中潜在的错误。在Vue项目中Eslint一般都会配合其他语法检测工具一起使用，最经典的组合是Eslint&#43; Prettier 。
​Eslint 和 Prettier 并不局限于 Vue.js，而是掌握 JavaScript 的必备知识，所以推荐给不懂 ESLint 的同学。即使你看了这篇文章，你也会无法理解 ESLint 和 Prettier 的所有规则，但是通过查看运行你可以完全理解 ESLint 和 Prettier 是做什么的。下面让我们通过实际检查操作而不是用文字解释来轻松理解 ESLint 的作用与使用。
目录 ESLint1 ESLint创建2 ESLint 规则设置3 ESLint验证设置4 ESLint格式化设置5 ESLint自动修复6 Prettier7 Babel8 airbnb 与 standard9 ESLint 中TypeSript设置 第一章 Vue3项目创建 1 Vue CLI 创建vue项目
第一章 Vue3项目创建 2 使用 Webpack 5 搭建 vue项目
第一章 Vue3项目创建 3 Vite 创建 vue项目
第二章 Vue3 基础语法指令
第三章 Vue Router路由器的使用" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/8c502d055558d2fe66935dbcfdfec81c/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-10-30T09:45:16+08:00" />
<meta property="article:modified_time" content="2023-10-30T09:45:16+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Vue3最佳实践 第八章 ESLint 与 测试 ( ESLint )</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-github-gist">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><img src="https://images2.imgbox.com/7f/30/VSPTMYfG_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="ESLint_1"></a>ESLint</h2> 
<p>  ​在所有的JavaScript 项目开发中我们都会接触到 ESLint 这个词，ESLint 是个什么样的组件会给为项目做些什么吗？ESLint 是一种检查语法错误以及代码是否按照预定规则编写的工具。ESLint 可以帮助开发者发现代码中潜在的错误。在Vue项目中Eslint一般都会配合其他语法检测工具一起使用，最经典的组合是Eslint+ Prettier 。</p> 
<p>  ​Eslint 和 Prettier 并不局限于 Vue.js，而是掌握 JavaScript 的必备知识，所以推荐给不懂 ESLint 的同学。即使你看了这篇文章，你也会无法理解 ESLint 和 Prettier 的所有规则，但是通过查看运行你可以完全理解 ESLint 和 Prettier 是做什么的。下面让我们通过实际检查操作而不是用文字解释来轻松理解 ESLint 的作用与使用。<br> </p> 
<div class="toc"> 
 <h4>目录 </h4> 
 <ul><li><a href="#ESLint_1" rel="nofollow">ESLint</a></li><li><ul><li><a href="#1__ESLint_30" rel="nofollow">1 ESLint创建</a></li><li><a href="#2__ESLint__161" rel="nofollow">2 ESLint 规则设置</a></li><li><a href="#3_ESLint_221" rel="nofollow">3 ESLint验证设置</a></li><li><a href="#4_ESLint_259" rel="nofollow">4 ESLint格式化设置</a></li><li><a href="#5_ESLint_342" rel="nofollow">5 ESLint自动修复</a></li><li><a href="#6_Prettier_377" rel="nofollow">6 Prettier</a></li><li><a href="#7__Babel_587" rel="nofollow">7 Babel</a></li><li><a href="#8_airbnb__standard_718" rel="nofollow">8 airbnb 与 standard</a></li><li><a href="#9_ESLint_TypeSript_801" rel="nofollow">9 ESLint 中TypeSript设置</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<blockquote> 
 <p><a href="https://zhtbs.blog.csdn.net/article/details/132100874" rel="nofollow">第一章 Vue3项目创建 1 Vue CLI 创建vue项目</a><br> <a href="https://zhtbs.blog.csdn.net/article/details/132101685" rel="nofollow">第一章 Vue3项目创建 2 使用 Webpack 5 搭建 vue项目</a><br> <a href="https://zhtbs.blog.csdn.net/article/details/132102287" rel="nofollow">第一章 Vue3项目创建 3 Vite 创建 vue项目</a><br> <a href="https://zhtbs.blog.csdn.net/article/details/132730023" rel="nofollow">第二章 Vue3 基础语法指令</a><br> <a href="https://zhtbs.blog.csdn.net/article/details/132735796" rel="nofollow"> 第三章 Vue Router路由器的使用</a><br> <a href="https://zhtbs.blog.csdn.net/article/details/132736600" rel="nofollow">第四章 VUE常用 UI 库 1 ( element-plus,Ant ,naiveui,ArcoDesign)</a><br> <a href="https://zhtbs.blog.csdn.net/article/details/132739570" rel="nofollow">第四章 VUE常用 UI 库 2 ( ailwind 后台框架)</a><br> <a href="https://zhtbs.blog.csdn.net/article/details/132740972" rel="nofollow"> 第五章 Vue 组件应用 1( Props )</a><br> <a href="https://zhtbs.blog.csdn.net/article/details/132759263" rel="nofollow"> 第五章 Vue 组件应用 2 ( Emit )</a><br> <a href="https://zhtbs.blog.csdn.net/article/details/132759687" rel="nofollow">第五章 Vue 组件应用 3( Slots )</a><br> <a href="https://zhtbs.blog.csdn.net/article/details/132759746" rel="nofollow">第五章 Vue 组件应用 4 ( provide 和 inject )</a><br> <a href="https://zhtbs.blog.csdn.net/article/details/132986483" rel="nofollow">第五章 Vue 组件应用 5 (Vue 插件)</a><br> <a href="https://zhtbs.blog.csdn.net/article/details/133139202" rel="nofollow">第六章 Pinia,Vuex与axios,VueUse 1（Pinia）</a><br> <a href="https://zhtbs.blog.csdn.net/article/details/133139256" rel="nofollow">第六章 Pinia,Vuex与axios,VueUse 2(Vuex)</a><br> <a href="https://zhtbs.blog.csdn.net/article/details/133139299" rel="nofollow">第六章 Pinia,Vuex与axios,VueUse 3（VueUse）</a><br> <a href="https://zhtbs.blog.csdn.net/article/details/133139367" rel="nofollow">第六章 Pinia,Vuex与axios,VueUse 4（axios）</a><br> <a href="https://zhtbs.blog.csdn.net/article/details/133631493" rel="nofollow">第七章 TypeScript 上</a><br> <a href="https://zhtbs.blog.csdn.net/article/details/133632192" rel="nofollow">第七章 TypeScript 中</a><br> <a href="https://zhtbs.blog.csdn.net/article/details/133632739" rel="nofollow"> 第七章 TypeScript 下 创建Trello 任务管理器</a><br> <a href="https://zhtbs.blog.csdn.net/article/details/133808433" rel="nofollow">第八章 ESLint 与 测试 ( ESLint )</a><br> <a href="https://zhtbs.blog.csdn.net/article/details/133808488" rel="nofollow">第八章 ESLint 与 测试 ( Jest )</a><br> <a href="https://zhtbs.blog.csdn.net/article/details/133808510" rel="nofollow">第八章 ESLint 与 测试 (TypeScript 中Jest与检测环境集成)</a></p> 
</blockquote> 
<h3><a id="1__ESLint_30"></a>1 ESLint创建</h3> 
<p>在Vue项目中导入ESLint组件，ESLint官网 https://eslint.org/docs/latest/地址。</p> 
<ol><li>首先，安装 ESLint：</li></ol> 
<pre><code class="prism language-bash"><span class="token function">npm</span> <span class="token function">install</span> eslint --save-dev
//安装vue项目中eslint插件
<span class="token function">npm</span> <span class="token function">install</span> eslint-plugin-vue --save-dev
</code></pre> 
<ol start="2"><li>然后，初始化 ESLint 配置文件：</li></ol> 
<pre><code class="prism language-bash"><span class="token function">npm</span> init @eslint/config
或者
npx eslint <span class="token parameter variable">--init</span>

? How would you like to use ESLint? <span class="token punctuation">..</span>.
  To check syntax only //仅检查语法
<span class="token operator">&gt;</span> To check syntax and <span class="token function">find</span> problems //检查语法并发现问题
  //检查语法、发现问题并强制执行代码风格
  To check syntax, <span class="token function">find</span> problems, and enforce code style
//对项目代码质量要求不高的项目可以选择一和二
//选择“检查语法并发现问题”，因为稍后我们还将使用 Prettier 来强制执行代码样式。

? What <span class="token builtin class-name">type</span> of modules does your project use? <span class="token punctuation">..</span>.
<span class="token operator">&gt;</span> JavaScript modules <span class="token punctuation">(</span>import/export<span class="token punctuation">)</span>
  CommonJS <span class="token punctuation">(</span>require/exports<span class="token punctuation">)</span>
  None of these
//选择 JavaScript 模块主要是因为 Vue3 使用它们。
  
? Which framework does your project use? <span class="token punctuation">..</span>.
  React
<span class="token operator">&gt;</span> Vue.js
  None of these 
//选择Vue项目
  
//选择是否验证TypeScript语法
 ? Does your project use TypeScript? » No / Yes 
//项目没有使用TypeScript选择no

//你的代码在哪里运行 
? Where does your code run? <span class="token punctuation">..</span>.  <span class="token punctuation">(</span>Press <span class="token operator">&lt;</span>space<span class="token operator">&gt;</span> to select, <span class="token operator">&lt;</span>a<span class="token operator">&gt;</span> to toggle all, <span class="token operator">&lt;</span>i<span class="token operator">&gt;</span> to invert selection<span class="token punctuation">)</span>
√ Browser
√ Node 
//选择Browser“浏览器”，因为 Vue项目需要在浏览器上运行web项目，如果是桌面或者是app选择Node。

//您希望您的配置文件采用什么格式
? What <span class="token function">format</span> <span class="token keyword">do</span> you want your config <span class="token function">file</span> to be in? … 
  JavaScript
  YAML
▸ JSON
//开发中一般会使用JavaScript与JSON作为配置 .eslintrc文件格式。

eslint-plugin-vue@latest @typescript-eslint/eslint-plugin@latest @typescript-eslint/parser@latest

//你想现在用 <span class="token function">npm</span> 安装它们吗？ 选择是
? Which package manager <span class="token keyword">do</span> you want to use? <span class="token punctuation">..</span>.
<span class="token operator">&gt;</span> <span class="token function">npm</span>
  <span class="token function">yarn</span>
  <span class="token function">pnpm</span>

</code></pre> 
<p>执行完成后将在项目中新创建一个 .eslintrc.cjs 文件。</p> 
<pre><code>项目
 |---node_modules
 |---src       
 |---.eslintrc.cjs    ESLint配置文件  
 |---package.json     项目组件文件
 |---vite.config.js   vite配置文件
</code></pre> 
<p>接下来在项目中的 package.json 文件中添加以下脚本。</p> 
<pre><code>"scripts": {
  "lint": "eslint --ext .js,.vue src"
}
</code></pre> 
<p>最后，可以在终端中运行 <code>npm run lint</code> 命令来检测代码。</p> 
<pre><code class="prism language-bash"><span class="token function">npm</span> run lint
<span class="token operator">&gt;</span> vue-line@0.0.0 lint      
<span class="token operator">&gt;</span> eslint <span class="token parameter variable">--ext</span> .js,.vue src
</code></pre> 
<p>  ​在 ESLint 初始化成功后，在项目中出现一个.eslintrc.js文件，文件内容如下。</p> 
<pre><code class="prism language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    <span class="token string-property property">"env"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token string-property property">"browser"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token string-property property">"es2021"</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string-property property">"extends"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">"eslint:recommended"</span><span class="token punctuation">,</span>
        <span class="token string">"plugin:vue/vue3-essential"</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string-property property">"overrides"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string-property property">"parserOptions"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token string-property property">"ecmaVersion"</span><span class="token operator">:</span> <span class="token string">"latest"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"sourceType"</span><span class="token operator">:</span> <span class="token string">"module"</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string-property property">"plugins"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">"vue"</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string-property property">"rules"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>  ​你可以在 package.json 文件中检查到eslint与eslint-plugin-vue导入的规则版本。</p> 
<pre><code class="prism language-javascript"><span class="token punctuation">{<!-- --></span>
 <span class="token operator">...</span><span class="token operator">...</span>
  <span class="token string-property property">"devDependencies"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token string-property property">"@vitejs/plugin-vue"</span><span class="token operator">:</span> <span class="token string">"^4.0.0"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"eslint"</span><span class="token operator">:</span> <span class="token string">"^8.32.0"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"eslint-plugin-vue"</span><span class="token operator">:</span> <span class="token string">"^9.9.0"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"vite"</span><span class="token operator">:</span> <span class="token string">"^4.0.0"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="2__ESLint__161"></a>2 ESLint 规则设置</h3> 
<p>  ​在项目根目录下的**.eslintrc.cjs<strong>文件中的</strong>extends**属性中定义了项目使用的规则组件。以后与ESLint有关的其他规则组件都需要在extends中进行加入，后边会涉及的Prettier 组件也会在extends中设置。只有在extends中引入的规则组件才会在ESLint检测的中被使用到。</p> 
<ul><li><strong>eslint:recommended</strong> 是ESLint的原始规则。</li><li><strong>plugin:vue/vue3-essential</strong> 是vue语法模板规则。</li></ul> 
<pre><code class="prism language-javascript"><span class="token string-property property">"extends"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">"eslint:recommended"</span><span class="token punctuation">,</span>
    <span class="token string">"plugin:vue/vue3-essential"</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span>
</code></pre> 
<p>  ​从ESLint文档https://eslint.org/docs中查看“eslint:recommended”应用的验证规则内容。</p> 
<p>  ​从eslint-plugin-vue官网上https://eslint.vuejs.org/rules/查看到Vue的验证规则内容。</p> 
<p>为了验证规则的有效性，我们将App.vue文件中的代码进行了修改。</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> HelloWorld <span class="token keyword">from</span> <span class="token string">'./components/HelloWorld.vue'</span>
<span class="token keyword">let</span> msg<span class="token operator">=</span><span class="token string">"测试验证lint"</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>  ​执行lint语法检测功能，编辑器会提示一些语法规则检测错误信息。</p> 
<pre><code class="prism language-bash"><span class="token function">npm</span> run lint
<span class="token operator">&gt;</span> vue-line@0.0.0 lint
<span class="token operator">&gt;</span> eslint <span class="token parameter variable">--ext</span> .js,.vue src
D:<span class="token punctuation">\</span>vue<span class="token punctuation">\</span>vue-line<span class="token punctuation">\</span>src<span class="token punctuation">\</span>App.vue
  <span class="token number">2</span>:8  error  <span class="token string">'HelloWorld'</span> is defined but never used    no-unused-vars
  <span class="token number">3</span>:5  error  <span class="token string">'msg'</span> is assigned a value but never used  no-unused-vars
  <span class="token number">5</span>:1  error  The template requires child element       vue/valid-template-root
✖ <span class="token number">3</span> problems <span class="token punctuation">(</span><span class="token number">3</span> errors, <span class="token number">0</span> warnings<span class="token punctuation">)</span>
</code></pre> 
<p>  ​上面前两个编译失败发生错误的“no-unused-vars”提示，是由于ESLint 规则检测到的。ESLint 规则的与 vue 规则不同，开头没有“vue/”的错误提示都是ESLint中的原始规则错误。 vue/valid-template-root是eslint-plugin-vue检测出来Vue语法错误的规则提示。</p> 
<p>在ESLint官网中查询到no-unused-vars错误信息内容，没有未使用定义的变量。</p> 
<p><img src="https://images2.imgbox.com/31/b8/ntUeKm2V_o.png" alt="在这里插入图片描述"></p> 
<p>在eslint.vuejs官网中可以查询到 vue/valid-template-root规则信息提示内容，提示错误信息模板中没有内容。</p> 
<p><img src="https://images2.imgbox.com/60/3e/2yXNfuT2_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="3_ESLint_221"></a>3 ESLint验证设置</h3> 
<p>  ​ <strong>.eslintrc.js</strong> 文件中的<strong>rules</strong>属性是用于设置ESLint的验证的地方，通过设置<strong>rules</strong>中的属性来控制整个ESLint检测内容，例如关闭有冲突的规则，关闭不想使用的规则，缩进格式等等内容。下面我们要关闭上面出现错误提示的vue/valid-template-root规则，编辑 .eslintrc.js 文件中的rules属性，在rules属性里添加vue/valid-template-root，并设置其值为off，off表示错误级别，表示关闭验证。</p> 
<pre><code class="prism language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    <span class="token operator">...</span><span class="token operator">...</span>
    <span class="token string-property property">"plugins"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">"vue"</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string-property property">"rules"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">//关闭vue/valid-template-root验证</span>
        <span class="token string-property property">'vue/valid-template-root'</span><span class="token operator">:</span><span class="token string">'off'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>  ​设置完成后，再次执行 npm run lint命令，编译成功后会发现错误提示中的vue/valid-template-root信息不见了。</p> 
<pre><code class="prism language-bash"> <span class="token function">npm</span> run lint
<span class="token operator">&gt;</span> vue-line@0.0.0 lint
<span class="token operator">&gt;</span> eslint <span class="token parameter variable">--ext</span> .js,.vue src
D:<span class="token punctuation">\</span>vue<span class="token punctuation">\</span>vue-line<span class="token punctuation">\</span>src<span class="token punctuation">\</span>App.vue
  <span class="token number">2</span>:8  error  <span class="token string">'HelloWorld'</span> is defined but never used        no-unused-vars
  <span class="token number">3</span>:5  error  <span class="token string">'msg'</span> is assigned a value but never used      no-unused-vars
</code></pre> 
<p>  ​错误级别除了“off”之外还有“warn”（警告）和“error”（错误）都是规则的设置值。设置为error会导致编译失败。如果设置为warn，会显示警告信息，但是编译会正常运行。为了开发调试方便将项目中的console与debugger错误关闭，在项目发布打包的时候可以将这个检测在打开。</p> 
<pre><code class="prism language-javascript">  <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token string-property property">'vue/valid-template-root'</span><span class="token operator">:</span><span class="token string">'off'</span>
    <span class="token string-property property">'no-console'</span><span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">'production'</span> <span class="token operator">?</span> <span class="token string">'error'</span> <span class="token operator">:</span> <span class="token string">'off'</span><span class="token punctuation">,</span>
    <span class="token string-property property">'no-debugger'</span><span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">'production'</span> <span class="token operator">?</span> <span class="token string">'error'</span> <span class="token operator">:</span> <span class="token string">'off'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> 
<h3><a id="4_ESLint_259"></a>4 ESLint格式化设置</h3> 
<p>  ​ESLint 也可以用作格式化程序（代码格式化），所以我也会检查如何设置它。通过使用格式化程序，您可以设置缩进并统一整个项目文件中是否存在引号和分号。</p> 
<p>  ​使用 ESLint 规则将缩进从 2 更改为 4。格式化程序也可以写在 .eslintrc.js 文件中。设置是在一个数组中进行的，在第一个元素中设置错误级别，在第二个元素中设置设置值。</p> 
<pre><code class="prism language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    <span class="token operator">...</span><span class="token operator">...</span>
    <span class="token string-property property">"plugins"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">"vue"</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string-property property">"rules"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token string-property property">'vue/valid-template-root'</span><span class="token operator">:</span><span class="token string">'off'</span><span class="token punctuation">,</span>
        <span class="token string-property property">'no-console'</span><span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">'production'</span> <span class="token operator">?</span> <span class="token string">'error'</span> <span class="token operator">:</span> <span class="token string">'off'</span><span class="token punctuation">,</span>
        <span class="token string-property property">'no-debugger'</span><span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">'production'</span> <span class="token operator">?</span> <span class="token string">'error'</span> <span class="token operator">:</span> <span class="token string">'off'</span><span class="token punctuation">,</span>
        <span class="token comment">//格式化验证缩进4行</span>
        <span class="token string-property property">'indent'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>在这里，我们将检查缩进设置。查看 App.vue 文件，当前缩进为 2。</p> 
<pre><code class="prism language-vue">&lt;script setup&gt;
let msg="测试验证lint";
const onfind=()=&gt;{
//当前缩进为2空格    
  alert(1);
}
&lt;/script&gt;
&lt;template&gt;
  &lt;div @click="onfind"&gt;我格式缩进2格&lt;/div&gt;
&lt;/template&gt;
&lt;style scoped&gt;
&lt;/style&gt;
</code></pre> 
<p>  ​ 执行lint语法检测命令，编辑器会出现编译错误。第 5-1 行是错误的，因为它们只缩进了 2 格，正确的缩进4个空格。</p> 
<pre><code class="prism language-bash"><span class="token function">npm</span> run lint
<span class="token operator">&gt;</span> vue-line@0.0.0 lint
<span class="token operator">&gt;</span> eslint <span class="token parameter variable">--ext</span> .js,.vue src
D:<span class="token punctuation">\</span>vue<span class="token punctuation">\</span>vue-line<span class="token punctuation">\</span>src<span class="token punctuation">\</span>App.vue
  <span class="token number">2</span>:5  error  <span class="token string">'msg'</span> is assigned a value but never used      no-unused-vars
  <span class="token number">5</span>:1  error  Expected indentation of <span class="token number">4</span> spaces but found <span class="token number">2</span>  indent
</code></pre> 
<p><strong>vue模板格式设置</strong></p> 
<p>  ​ 这个时候你会发现在App.vue代码中的规则验证，只对script标签中的代码缩进4格规则进行了检测，但是template标签里面的HTML缩进并没有进行规则检测。你要对模板中的HTML缩进进行验证就需要在 .eslintrc.js文件中设置模板的验证项，加入 vue/html-indent 规则验证改模板标签的缩进。</p> 
<pre><code class="prism language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    <span class="token operator">...</span><span class="token operator">...</span>
    <span class="token string-property property">"plugins"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">"vue"</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string-property property">"rules"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token string-property property">'vue/valid-template-root'</span><span class="token operator">:</span><span class="token string">'off'</span><span class="token punctuation">,</span>
        <span class="token string-property property">'indent'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token comment">//模板格式设置</span>
        <span class="token string-property property">"vue/html-indent"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"error"</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>执行lint语法检测命令就会看到针对template标签里面的HTML缩进的错误提示了。</p> 
<pre><code class="prism language-bash"> <span class="token function">npm</span> run lint
<span class="token operator">&gt;</span> vue-line@0.0.0 lint
<span class="token operator">&gt;</span> eslint <span class="token parameter variable">--ext</span> .js,.vue src
D:<span class="token punctuation">\</span>vue<span class="token punctuation">\</span>vue-line<span class="token punctuation">\</span>src<span class="token punctuation">\</span>App.vue
  <span class="token number">2</span>:5  error  <span class="token string">'msg'</span> is assigned a value but never used             no-unused-vars
  <span class="token number">5</span>:1  error  Expected indentation of <span class="token number">4</span> spaces but found <span class="token number">2</span>         indent
  <span class="token number">9</span>:1  error  Expected indentation of <span class="token number">4</span> spaces but found <span class="token number">0</span> spaces  vue/html-indent
</code></pre> 
<p>第 9-1 行是错误提示没有缩进4个空格。</p> 
<h3><a id="5_ESLint_342"></a>5 ESLint自动修复</h3> 
<p>​  ​ 我们可以在代码中来修改缩进4个空格的错误，但是有的时候代码量巨大的时候这就是一个艰巨的任务。在ESLint指令中提供了一个自动修复错误的指令，可以帮助我们轻松解决这个问题。在npm run lint后边加上-- --fix参数。</p> 
<pre><code class="prism language-bash"><span class="token function">npm</span> run lint -- <span class="token parameter variable">--fix</span>
</code></pre> 
<p>运行命令对项目中所有的代码进行检测与修复。</p> 
<pre><code class="prism language-bash"><span class="token function">npm</span> run lint -- <span class="token parameter variable">--fix</span>
<span class="token operator">&gt;</span> vue-line@0.0.0 lint
<span class="token operator">&gt;</span> eslint <span class="token parameter variable">--ext</span> .js,.vue src <span class="token string">"--fix"</span>
D:<span class="token punctuation">\</span>vue<span class="token punctuation">\</span>vue-line<span class="token punctuation">\</span>src<span class="token punctuation">\</span>App.vue
  <span class="token number">2</span>:5  error  <span class="token string">'msg'</span> is assigned a value but never used  no-unused-vars
</code></pre> 
<p>App.vue中的代码缩进格数都变成了4格。</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">let</span> msg<span class="token operator">=</span><span class="token string">"测试验证lint"</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">onfind</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
<span class="token comment">//当前缩进为2空格    </span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>onfind<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>我格式缩进2格<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<h3><a id="6_Prettier_377"></a>6 Prettier</h3> 
<p>​  ​ Prettier是一款超强的代码格式化工具，与ESLint，TSLint等各种格式化工具不同的是，Prettier只检测代码格式化的格式问题，而不关心语法问题。所以在项目中可以单独用ESLint检测代码的质量，但由于ESLint专门针对语法进行分析，所以有些代码部分会覆盖不到，这个时候需要使用到Prettier来进行代码的格式检测了。</p> 
<pre><code class="prism language-bash"><span class="token function">npm</span> <span class="token function">install</span> prettier --save-dev 
<span class="token function">npm</span> <span class="token function">install</span> @vue/eslint-config-prettier eslint-plugin-prettier --save-dev
</code></pre> 
<ul><li><strong>prettier</strong> prettier格式化。</li><li><strong>eslint-config-prettier</strong> 它提供了一个设置来关闭所有 Prettier 可以覆盖的 ESLint 规则，解决 ESLint 与 Prettier 冲突。</li><li><strong>vue/eslint-config-prettier</strong> 用与Vue 项目中，它禁用了所有与 Prettier 冲突的 ESLint 规则，以保证 Prettier 的代码格式化功能在Vue项目中可以正常工作。</li></ul> 
<p>在package.json 文件中会看到，新增加“@vue/eslint-config-prettier”、“eslint-plugin-prettier”、“prettier”三个包。</p> 
<pre><code class="prism language-javascript"><span class="token punctuation">{<!-- --></span>
  <span class="token string-property property">"devDependencies"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token string-property property">"@vitejs/plugin-vue"</span><span class="token operator">:</span> <span class="token string">"^4.0.0"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"@vue/eslint-config-prettier"</span><span class="token operator">:</span> <span class="token string">"^7.0.0"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"eslint"</span><span class="token operator">:</span> <span class="token string">"^8.33.0"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"eslint-plugin-prettier"</span><span class="token operator">:</span> <span class="token string">"^4.2.1"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"eslint-plugin-vue"</span><span class="token operator">:</span> <span class="token string">"^9.9.0"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"prettier"</span><span class="token operator">:</span> <span class="token string">"^2.8.3"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"vite"</span><span class="token operator">:</span> <span class="token string">"^4.0.0"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>在ESLint的 配置文件.eslintrc.cjs中，extends属性中加入“@vue/prettier”格式化组件。</p> 
<pre><code class="prism language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    <span class="token operator">...</span><span class="token operator">...</span>
    <span class="token string-property property">"extends"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">"eslint:recommended"</span><span class="token punctuation">,</span>
        <span class="token string">"plugin:vue/vue3-essential"</span><span class="token punctuation">,</span>
        <span class="token string">"@vue/prettier"</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>​  ​运行检测指令，会发现 prettier 组件检测到代码中所有的格式化的错误信息。例如代码结尾“;”冒号，提示双引号改成了单引号，代码的缩进不规范等等问题。</p> 
<pre><code class="prism language-bash"><span class="token function">npm</span> run lint
<span class="token operator">&gt;</span> vue-line@0.0.0 lint
<span class="token operator">&gt;</span> eslint <span class="token parameter variable">--ext</span> .js,.vue src
D:<span class="token punctuation">\</span>vue<span class="token punctuation">\</span>vue-line<span class="token punctuation">\</span>src<span class="token punctuation">\</span>App.vue
   <span class="token number">2</span>:5   error    <span class="token string">'msg'</span> is assigned a value but never used      no-unused-vars
   <span class="token number">2</span>:8   warning  Replace <span class="token variable"><span class="token variable">`</span><span class="token operator">=</span><span class="token string">"测试验证lint"</span><span class="token variable">`</span></span> with <span class="token variable"><span class="token variable">`</span>·<span class="token operator">=</span>·<span class="token string">"测试验证lint"</span><span class="token punctuation">;</span><span class="token variable">`</span></span>   prettier/prettier
   <span class="token number">3</span>:13  warning  Replace <span class="token variable"><span class="token variable">`</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token variable">`</span></span> with <span class="token variable"><span class="token variable">`</span>·<span class="token operator">=</span>·<span class="token punctuation">(</span><span class="token punctuation">)</span>·<span class="token operator">=</span><span class="token operator">&gt;</span>·<span class="token variable">`</span></span>              prettier/prettier
   <span class="token number">4</span>:1   warning  Replace <span class="token variable"><span class="token variable">`</span>//当前缩进为2空格····<span class="token variable">`</span></span> with <span class="token variable"><span class="token variable">`</span>··//当前缩进为2空格<span class="token variable">`</span></span>  prettier/prettier 
   <span class="token number">5</span>:1   error    Expected indentation of <span class="token number">4</span> spaces but found <span class="token number">2</span>  indent
   <span class="token number">6</span>:2   warning  Insert <span class="token variable"><span class="token variable">`</span><span class="token punctuation">;</span><span class="token variable">`</span></span>                                    prettier/prettier
  <span class="token number">11</span>:15  warning  Delete <span class="token variable"><span class="token variable">`</span>⏎<span class="token variable">`</span></span>                                    prettier/prettier
D:<span class="token punctuation">\</span>vue<span class="token punctuation">\</span>vue-line<span class="token punctuation">\</span>src<span class="token punctuation">\</span>main.js
  <span class="token number">1</span>:27  warning  Replace <span class="token variable"><span class="token variable">`</span>'vue'<span class="token variable">`</span></span> with <span class="token variable"><span class="token variable">`</span>"vue"<span class="token punctuation">;</span><span class="token variable">`</span></span>                  prettier/prettier
  <span class="token number">2</span>:8   warning  Replace <span class="token variable"><span class="token variable">`</span>'./style.css'<span class="token variable">`</span></span> with <span class="token variable"><span class="token variable">`</span>"./style.css"<span class="token punctuation">;</span><span class="token variable">`</span></span>  prettier/prettier
  <span class="token number">3</span>:17  warning  Replace <span class="token variable"><span class="token variable">`</span>'./App.vue'<span class="token variable">`</span></span> with <span class="token variable"><span class="token variable">`</span>"./App.vue"<span class="token punctuation">;</span><span class="token variable">`</span></span>      prettier/prettier
  <span class="token number">5</span>:22  warning  Replace <span class="token variable"><span class="token variable">`</span>'<span class="token comment">#app')</span><span class="token variable">`</span></span> with <span class="token variable"><span class="token variable">`</span>"#app"<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">`</span></span>              prettier/prettier
✖ <span class="token number">15</span> problems <span class="token punctuation">(</span><span class="token number">3</span> errors, <span class="token number">12</span> warnings<span class="token punctuation">)</span>
  <span class="token number">1</span> error and <span class="token number">12</span> warnings potentially fixable with the <span class="token variable"><span class="token variable">`</span><span class="token parameter variable">--fix</span><span class="token variable">`</span></span> option.
</code></pre> 
<p>​  ​当运行自动自动修正指令后， Prettier组件也会做同样的事情。Prettier 会根据默认规则自动修正vue项目中的代码，而无需手工修改代码格式。</p> 
<pre><code class="prism language-bash"> <span class="token function">npm</span> run lint -- <span class="token parameter variable">--fix</span>
<span class="token operator">&gt;</span> vue-line@0.0.0 lint
<span class="token operator">&gt;</span> eslint <span class="token parameter variable">--ext</span> .js,.vue src <span class="token string">"--fix"</span>
D:<span class="token punctuation">\</span>vue<span class="token punctuation">\</span>vue-line<span class="token punctuation">\</span>src<span class="token punctuation">\</span>App.vue
  <span class="token number">2</span>:5  error    <span class="token string">'msg'</span> is assigned a value but never used      no-unused-vars
  <span class="token number">4</span>:3  warning  Delete <span class="token variable"><span class="token variable">`</span>··<span class="token variable">`</span></span>                                   prettier/prettier
  <span class="token number">5</span>:1  error    Expected indentation of <span class="token number">4</span> spaces but found <span class="token number">2</span>  inden
 ✖ <span class="token number">4</span> problems <span class="token punctuation">(</span><span class="token number">3</span> errors, <span class="token number">1</span> warning<span class="token punctuation">)</span>
  <span class="token number">1</span> error and <span class="token number">1</span> warning potentially fixable with the <span class="token variable"><span class="token variable">`</span><span class="token parameter variable">--fix</span><span class="token variable">`</span></span> option.
</code></pre> 
<p>​  ​可以看到App.vue中的代码格式已经变得符合规范了，无需我们自己手动调整代码格式。</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">let</span> msg <span class="token operator">=</span> <span class="token string">"测试验证lint"</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">onfind</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">//当前缩进为2空格</span>
  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>onfind<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>我格式缩进2格<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p><strong>1 .prettierrc文件配置</strong></p> 
<p>​  ​在 Vue 项目安装文件夹中创建一个Prettier的配置文件 .prettierrc。<strong>.prettierrc</strong> 文件是Prettier组件的配置文件，用于配置Prettier的格式化规则，如换行符、默认缩进2，行尾分号，双引号等格式。在.prettierrc文件中根据项目实际情况来定义自己的定义检测项目。</p> 
<pre><code class="prism language-txt">项目
 |---node_modules
 |---src       
 |---.eslintrc.cjs    ESLint配置文件
 |---.prettierrc      Prettier配置文件   
 |---package.json     项目组件文件
 |---vite.config.js   vite配置文件
</code></pre> 
<p>在.prettierrc文件中写入一下配置。</p> 
<pre><code class="prism language-javascript"><span class="token punctuation">{<!-- --></span>
  <span class="token string-property property">"tabWidth"</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token comment">//缩进宽度</span>
  <span class="token string-property property">"semi"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span><span class="token comment">//代码结尾不使用;号</span>
  <span class="token string-property property">"singleQuote"</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token comment">//使用单引号而不是双引号</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>在官网中可以https://prettier.io/docs/en/options.html查看到全部的检测格式说明。</p> 
<p><img src="https://images2.imgbox.com/3f/e5/cPkMH0rM_o.png" alt="在这里插入图片描述"></p> 
<p>运行 npm run lint 查看到代码格式错误提示。</p> 
<pre><code class="prism language-bash"> <span class="token function">npm</span> run lint
<span class="token operator">&gt;</span> vue-line@0.0.0 lint
<span class="token operator">&gt;</span> eslint <span class="token parameter variable">--ext</span> .js,.vue src
D:<span class="token punctuation">\</span>vue<span class="token punctuation">\</span>vue-line<span class="token punctuation">\</span>src<span class="token punctuation">\</span>App.vue
  <span class="token number">2</span>:5   error    <span class="token string">'msg'</span> is assigned a value but never used      no-unused-vars
  <span class="token number">2</span>:11  warning  Replace <span class="token variable"><span class="token variable">`</span>"测试验证lint"<span class="token punctuation">;</span><span class="token variable">`</span></span> with <span class="token variable"><span class="token variable">`</span>'测试验证lint'<span class="token variable">`</span></span>       prettier/prettier
  <span class="token number">4</span>:1   warning  Replace <span class="token variable"><span class="token variable">`</span>··<span class="token variable">`</span></span> with <span class="token variable"><span class="token variable">`</span>····<span class="token variable">`</span></span>                      prettier/prettier
  <span class="token number">4</span>:1   error    Expected indentation of <span class="token number">4</span> spaces but found <span class="token number">2</span>  indent
  <span class="token number">5</span>:1   warning  Replace <span class="token variable"><span class="token variable">`</span>··alert<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">`</span></span> with <span class="token variable"><span class="token variable">`</span>····alert<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token variable">`</span></span>     prettier/prettier
  <span class="token number">5</span>:1   error    Expected indentation of <span class="token number">4</span> spaces but found <span class="token number">2</span>  indent
  <span class="token number">9</span>:1   warning  Insert <span class="token variable"><span class="token variable">`</span>··<span class="token variable">`</span></span>                                   prettier/prettier
 ✖ <span class="token number">8</span> problems <span class="token punctuation">(</span><span class="token number">4</span> errors, <span class="token number">4</span> warnings<span class="token punctuation">)</span>
  <span class="token number">2</span> errors and <span class="token number">4</span> warnings potentially fixable with the <span class="token variable"><span class="token variable">`</span><span class="token parameter variable">--fix</span><span class="token variable">`</span></span> option.
</code></pre> 
<p>同样可以使用npm run lint – --fix指令自动修复代码格式规则。</p> 
<pre><code class="prism language-bash"><span class="token function">npm</span> run lint -- <span class="token parameter variable">--fix</span>
<span class="token operator">&gt;</span> vue-line@0.0.0 lint
<span class="token operator">&gt;</span> eslint <span class="token parameter variable">--ext</span> .js,.vue src <span class="token string">"--fix"</span>
D:<span class="token punctuation">\</span>vue<span class="token punctuation">\</span>vue-line<span class="token punctuation">\</span>src<span class="token punctuation">\</span>App.vue
  <span class="token number">2</span>:5  error  <span class="token string">'msg'</span> is assigned a value but never used  no-unused-vars
✖ <span class="token number">2</span> problems <span class="token punctuation">(</span><span class="token number">2</span> errors, <span class="token number">0</span> warnings<span class="token punctuation">)</span>
</code></pre> 
<p>App.vue中的代码发生变化，格式错误被修复。代码中的;号消失了，双引号变成引号，缩进变成4格。</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">let</span> msg <span class="token operator">=</span> <span class="token string">'测试验证lint'</span>
<span class="token keyword">const</span> <span class="token function-variable function">onfind</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">//当前缩进为2空格</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>onfind<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>我格式缩进2格<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p><strong>2 .eslintrc.cjs 中设置Prettier配置</strong></p> 
<p>​  ​可以在.eslintrc.cjs 文件中来配置.prettierrc中的相同功能。这样在项目中就不需要使用**.prettierrc**配置文件来设置格式检测规则，可以使项目更加整洁一些。</p> 
<pre><code class="prism language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    <span class="token string-property property">"env"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token string-property property">"browser"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token string-property property">"es2021"</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string-property property">"extends"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">"eslint:recommended"</span><span class="token punctuation">,</span>
        <span class="token string">"plugin:vue/vue3-essential"</span><span class="token punctuation">,</span>
        <span class="token string">"@vue/prettier"</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string-property property">"overrides"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string-property property">"parserOptions"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token string-property property">"ecmaVersion"</span><span class="token operator">:</span> <span class="token string">"latest"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"sourceType"</span><span class="token operator">:</span> <span class="token string">"module"</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string-property property">"plugins"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">"vue"</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string-property property">"rules"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token string-property property">'vue/valid-template-root'</span><span class="token operator">:</span><span class="token string">'off'</span><span class="token punctuation">,</span>
        <span class="token string-property property">'no-console'</span><span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">'production'</span> <span class="token operator">?</span> <span class="token string">'error'</span> <span class="token operator">:</span> <span class="token string">'off'</span><span class="token punctuation">,</span>
        <span class="token string-property property">'no-debugger'</span><span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">'production'</span> <span class="token operator">?</span> <span class="token string">'error'</span> <span class="token operator">:</span> <span class="token string">'off'</span><span class="token punctuation">,</span>
        <span class="token comment">//prettier验证设置</span>
        <span class="token string-property property">"prettier/prettier"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token string">"error"</span><span class="token punctuation">,</span>
            <span class="token punctuation">{<!-- --></span>
              <span class="token literal-property property">tabWidth</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
              <span class="token literal-property property">singleQuote</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
              <span class="token literal-property property">semi</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="7__Babel_587"></a>7 Babel</h3> 
<p>​​  ​Babel是种JavaScript代码编译器，它可以将ES6、ES7、ES8等的代码转换为ES5代码，更好理解的说法就是将node语法代码转换成可以在浏览器中运行的javascript代码。Babel可以和ESLint组合在一起来完成vue项目中的代码质量检测，Babel做代码的转换工作，ESLint做代码中的语法错误检查和修复。</p> 
<p>​​  ​将它们两个组合在一起，可以实现代码的静态分析与检测，排查可能出现的问题与风险点，它会将node语法代码和css样式html模板样式在不启动服务器执行的情况下就可以检测到整个项目代码中潜在的问题。Babel与ESLint组件在集成到项目的时候需要引入多种类型的@babel组件，可以在官网中找到你要使用的编译的对应类型组件。如果项目版本较低可以使用babel-eslint组件。Babel的官方网址https://babeljs.io/。</p> 
<p>1 在项目中导入babel依赖组件。</p> 
<pre><code class="prism language-bash"><span class="token function">npm</span> <span class="token function">install</span>  @babel/core @babel/eslint-parser --save-dev
<span class="token function">npm</span> <span class="token function">install</span>  @babel/preset-env --save-dev
<span class="token function">npm</span> <span class="token function">install</span>  @babel/preset-react --save-dev
</code></pre> 
<p>2 在**.eslintrc.cjs**文件中的设置babel信息，parser属性中配置"@babel/eslint-parser"，可以在<code>parserOptions</code>属性中设置其他配置选项。</p> 
<ul><li><strong>requireConfigFile</strong> false 允许@babel/eslint-parser 在没有 Babel 配置的文件的情况下运行。</li><li><strong>babelOptions</strong> Babel 解析器的配置对象，代替配置文件的配置Babel 基础设置项目。</li></ul> 
<pre><code class="prism language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    <span class="token string-property property">"env"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token string-property property">"browser"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token string-property property">"es2021"</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string-property property">"extends"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">"eslint:recommended"</span><span class="token punctuation">,</span>
        <span class="token string">"plugin:vue/vue3-essential"</span><span class="token punctuation">,</span>
        <span class="token string">"@vue/prettier"</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string-property property">"overrides"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token comment">//vue-eslint-parser</span>
    <span class="token string-property property">"parserOptions"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token string-property property">"ecmaVersion"</span><span class="token operator">:</span> <span class="token string">"latest"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"sourceType"</span><span class="token operator">:</span> <span class="token string">"module"</span><span class="token punctuation">,</span>
        <span class="token comment">//无配置文件模式</span>
        <span class="token string-property property">"requireConfigFile"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token comment">//ESLint集成babel插件</span>
        <span class="token string-property property">"parser"</span><span class="token operator">:</span> <span class="token string">'@babel/eslint-parser'</span><span class="token punctuation">,</span>
        <span class="token comment">//babel配置信息设置</span>
        <span class="token string-property property">"babelOptions"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">babelrc</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
            <span class="token literal-property property">configFile</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
            <span class="token comment">//babel使用什么类型的编辑器组件</span>
            <span class="token literal-property property">presets</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"@babel/preset-env"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>           
            <span class="token string-property property">"parserOpts"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                <span class="token string-property property">"plugins"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"jsx"</span><span class="token punctuation">]</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> 
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string-property property">"plugins"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">"vue"</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string-property property">"rules"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>App.vue文件中的代码内容，我们使用ESLint+Prettier与Babel进行质量检测。</p> 
<pre><code class="prism language-vue">&lt;script setup&gt;
const msg='测试验证lint'
const onfind =()=&gt; {
// 当前缩进为2空格
alert(1)
}
&lt;/script&gt;
&lt;template&gt;
&lt;div @click="onfind"&gt;我格式缩进2格&lt;/div&gt;
&lt;/template&gt;
&lt;style scoped&gt;
</code></pre> 
<p>运行npm run lint 指令验证Babel是否配置成功，后端没有异常，有检测语法错误提示出来，表示Babel组件集成成功。</p> 
<pre><code class="prism language-bash"><span class="token function">npm</span> run lint

<span class="token operator">&gt;</span> vue-line@0.0.0 lint
<span class="token operator">&gt;</span> eslint <span class="token parameter variable">--ext</span> .js,.vue src

D:<span class="token punctuation">\</span>vue<span class="token punctuation">\</span>vue-line<span class="token punctuation">\</span>src<span class="token punctuation">\</span>App.vue
   <span class="token number">2</span>:7   error    <span class="token string">'msg'</span> is assigned a value but never used     no-unused-vars
   <span class="token number">2</span>:10  warning  Replace <span class="token variable"><span class="token variable">`</span><span class="token operator">=</span><span class="token string">'测试验证lint'</span><span class="token variable">`</span></span> with <span class="token variable"><span class="token variable">`</span>·<span class="token operator">=</span>·<span class="token string">"测试验证lint"</span><span class="token punctuation">;</span><span class="token variable">`</span></span>  prettier/prettier
   <span class="token number">3</span>:15  warning  Replace <span class="token variable"><span class="token variable">`</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token variable">`</span></span> with <span class="token variable"><span class="token variable">`</span>·<span class="token punctuation">(</span><span class="token punctuation">)</span>·<span class="token variable">`</span></span>                     prettier/prettier
   <span class="token number">4</span>:1   warning  Insert <span class="token variable"><span class="token variable">`</span>··<span class="token variable">`</span></span>                                  prettier/prettier
   <span class="token number">5</span>:1   warning  Replace <span class="token variable"><span class="token variable">`</span>alert<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token variable">`</span></span> with <span class="token variable"><span class="token variable">`</span>··alert<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">`</span></span>        prettier/prettier
   <span class="token number">6</span>:2   warning  Insert <span class="token variable"><span class="token variable">`</span><span class="token punctuation">;</span><span class="token variable">`</span></span>                                   prettier/prettier
   <span class="token number">9</span>:1   warning  Insert <span class="token variable"><span class="token variable">`</span>··<span class="token variable">`</span></span>                                  prettier/prettier
  <span class="token number">12</span>:5   warning  Insert <span class="token variable"><span class="token variable">`</span>·<span class="token variable">`</span></span>                                   prettier/prettier
  <span class="token number">13</span>:1   warning  Replace <span class="token variable"><span class="token variable">`</span>font-size:<span class="token variable">`</span></span> with <span class="token variable"><span class="token variable">`</span>··font-size:·<span class="token variable">`</span></span>    prettier/prettier

D:<span class="token punctuation">\</span>vue<span class="token punctuation">\</span>vue-line<span class="token punctuation">\</span>src<span class="token punctuation">\</span>components<span class="token punctuation">\</span>HelloWorld.vue
  <span class="token number">2</span>:10  error    <span class="token string">'ref'</span> is defined but never used      no-unused-vars
  <span class="token number">2</span>:21  warning  Replace <span class="token variable"><span class="token variable">`</span>'vue'<span class="token variable">`</span></span> with <span class="token variable"><span class="token variable">`</span>"vue"<span class="token punctuation">;</span><span class="token variable">`</span></span>        prettier/prettier
  <span class="token number">5</span>:1   error    The template requires child element  vue/valid-template-root

D:<span class="token punctuation">\</span>vue<span class="token punctuation">\</span>vue-line<span class="token punctuation">\</span>src<span class="token punctuation">\</span>main.js
  <span class="token number">1</span>:27  warning  Replace <span class="token variable"><span class="token variable">`</span>'vue'<span class="token variable">`</span></span> with <span class="token variable"><span class="token variable">`</span>"vue"<span class="token punctuation">;</span><span class="token variable">`</span></span>                  prettier/prettier
  <span class="token number">2</span>:8   warning  Replace <span class="token variable"><span class="token variable">`</span>'./style.css'<span class="token variable">`</span></span> with <span class="token variable"><span class="token variable">`</span>"./style.css"<span class="token punctuation">;</span><span class="token variable">`</span></span>  prettier/prettier
  <span class="token number">3</span>:17  warning  Replace <span class="token variable"><span class="token variable">`</span>'./App.vue'<span class="token variable">`</span></span> with <span class="token variable"><span class="token variable">`</span>"./App.vue"<span class="token punctuation">;</span><span class="token variable">`</span></span>      prettier/prettier
  <span class="token number">5</span>:22  warning  Replace <span class="token variable"><span class="token variable">`</span>'<span class="token comment">#app')</span><span class="token variable">`</span></span> with <span class="token variable"><span class="token variable">`</span>"#app"<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">`</span></span>              prettier/prettier
✖ <span class="token number">16</span> problems <span class="token punctuation">(</span><span class="token number">3</span> errors, <span class="token number">13</span> warnings<span class="token punctuation">)</span>
</code></pre> 
<p>​​  ​如果将要使用Babel配置文件来设置Babel功能，需要在**.eslintrc.cjs<strong>文件中</strong>requireConfigFile** 属性删除。在项目的根目录中创建**.babelrc<strong>文件，在</strong>.babelrc**文件设置Babel功能项。</p> 
<p><strong>.babelrc</strong>文件中设置@babel/preset-env组件内容，.babelrc文件中的参数属性可以在官网查看。</p> 
<pre><code class="prism language-javascript"><span class="token punctuation">{<!-- --></span>
    <span class="token string-property property">"presets"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">[</span>
        <span class="token string">"@babel/preset-env"</span><span class="token punctuation">,</span>
          <span class="token punctuation">{<!-- --></span>
            <span class="token string-property property">"targets"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
              <span class="token string-property property">"ie"</span><span class="token operator">:</span> <span class="token number">11</span><span class="token punctuation">,</span>
              <span class="token string-property property">"esmodules"</span><span class="token operator">:</span> <span class="token boolean">true</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token string-property property">"useBuiltIns"</span><span class="token operator">:</span> <span class="token string">"usage"</span><span class="token punctuation">,</span>
            <span class="token string-property property">"corejs"</span><span class="token operator">:</span> <span class="token number">3</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">]</span>
 <span class="token punctuation">}</span>
</code></pre> 
<p>​​  ​Babel 在编辑JavaScript，CSS,HTML,TyptSricpt，其他模板语言的时候，会用到它们对应的@Babel 组件。我们需要在官网上查到这些对应语言的使用组件，使用将它们导入到项目中，在.babelrc文件中配置组件的插入就可以使用ESLint+Babel模式来检查和提高代码质量了。</p> 
<h3><a id="8_airbnb__standard_718"></a>8 airbnb 与 standard</h3> 
<p>​​  ​在上面介绍了Prettier，Babel与ESLint集成使用的情况。但是在实际开发中配置ESLint与这些第三方组件联合使用的过程非常繁琐麻烦，需要解决各种版本冲突和兼容性，语言编译解析等等问题。当这些检测，格式，编译转录组件的规则配置信息数量庞大后，组件之间的冲突与维护会变得非常困难。我们会把配置文件写的复杂又难以理解，有的时候会出现各种奇怪的问题，需要花费大量的时间去调试它们，项目会变得非常难以维护。为了很好的解决上面的问题，出现了一种整套的规则检测组件，不需要在维护这些复杂的组件关系和它们在配置文件中的各种规则设置。我们直接导入一套规则组件，在项目中只对这一套规则组件进行配置与维护。</p> 
<p>​​  ​现在比较流行的 standard 和 airbnb 两个规则组件，它们是现阶段使用最多最流行，整体实践效果最好的规则组件。我们只需要直接拿来使用它们的功能，而不需要在设置其他组件来进行质量检验了。standard 和 airbnb检测组件可以很方便的帮助我们在项目中检查出代码中的可能错误和潜在问题，以保证项目的质量和可维护性。如果你从来没有使用过 airbnb 之类的检测规则来检测过项目代码，那么你编写的代码中的各个地方都有可能出现错误。</p> 
<p><strong>1 airbnb</strong></p> 
<p>​​  ​导入airbnb组件到项目中来，它的验证规则属性可以在https://github.com/lin-123/javascript中查看到。</p> 
<pre><code class="prism language-bash"><span class="token function">npm</span> <span class="token function">install</span> --save-dev @vue/eslint-config-airbnb 
<span class="token function">npm</span> <span class="token function">install</span> --save-dev eslint-config-airbnb-base
</code></pre> 
<p>在ESLint的配置文件.eslintrc.cjs 中的extends属性里设置 ‘@vue/airbnb’，它可以同时设置使用多个规则组件内容。</p> 
<pre><code class="prism language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    <span class="token string-property property">"env"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token string-property property">"browser"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token string-property property">"es2021"</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string-property property">"extends"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">'plugin:vue/vue3-essential'</span><span class="token punctuation">,</span>
        <span class="token string">'@vue/airbnb'</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string-property property">"overrides"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string-property property">"parserOptions"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token string-property property">"ecmaVersion"</span><span class="token operator">:</span> <span class="token string">"latest"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"sourceType"</span><span class="token operator">:</span> <span class="token string">"module"</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string-property property">"plugins"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">"vue"</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string-property property">"rules"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token string-property property">'no-console'</span><span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">'production'</span> <span class="token operator">?</span> <span class="token string">'warn'</span> <span class="token operator">:</span> <span class="token string">'off'</span><span class="token punctuation">,</span>
        <span class="token string-property property">'no-debugger'</span><span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">'production'</span> <span class="token operator">?</span> <span class="token string">'warn'</span> <span class="token operator">:</span> <span class="token string">'off'</span><span class="token punctuation">,</span>
        <span class="token string-property property">'vuejs-accessibility/click-events-have-key-events'</span><span class="token operator">:</span> <span class="token string">'off'</span><span class="token punctuation">,</span>   
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<p>运行检测npm run lint检测指令，可以看到项目代码已经运行airbnb中设置的验证规则了。</p> 
<pre><code class="prism language-bash"><span class="token function">npm</span> run lint
<span class="token function">npm</span> run lint -- <span class="token parameter variable">--fix</span>
</code></pre> 
<p><strong>standard使用</strong></p> 
<p>​​  ​standard使用与airbnb 基本一样，在项目中导入它的基础组件包和eslint兼容包，在eslint中加载这个standard规则。standard中所有验证规则在https://github.com/standard/standard/blob/master/docs/RULES-zhcn.md#javascript-standard-style中查看到。</p> 
<pre><code class="prism language-bash"><span class="token function">npm</span> <span class="token function">install</span> standard --save-dev
<span class="token function">npm</span> <span class="token function">install</span> @vue/eslint-config-standard --save-dev
//加入.eslintrc.cjs 文件中
module.exports <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    <span class="token string">"extends"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
       <span class="token string">'plugin:vue/vue3-essential'</span>,
       <span class="token string">'@vue/standard'</span>
    <span class="token punctuation">]</span>,
<span class="token punctuation">}</span>
//检测与自动修复
<span class="token function">npm</span> run lint
<span class="token function">npm</span> run lint -- <span class="token parameter variable">--fix</span>
</code></pre> 
<p>大家在实际的开发中可以根据自己项目情况来选择最适合的组合方式。</p> 
<ul><li> <p>ESLint</p> </li><li> <p>ESLint+Prettier</p> </li><li> <p>ESLint+Prettier+Babel</p> </li><li> <p>ESLint+airbnb</p> </li><li> <p>ESLint+standard</p> </li></ul> 
<h3><a id="9_ESLint_TypeSript_801"></a>9 ESLint 中TypeSript设置</h3> 
<p>​​  ​TypeSript类型的项目中加入ESLint的TypeSript规则检测，第一种方式是通过初始化eslint来导入TypeSript检测所需要的包，</p> 
<pre><code class="prism language-bash"><span class="token function">npm</span> init vite@latest ESLint-TypeSript
<span class="token builtin class-name">cd</span> ESLint-TypeSript
<span class="token function">npm</span> <span class="token function">install</span>
//安装vue项目中eslint插件
<span class="token function">npm</span> <span class="token function">install</span> eslint --save-dev
//安装vue项目中eslint插件
<span class="token function">npm</span> <span class="token function">install</span> eslint-plugin-vue --save-dev
<span class="token function">npm</span> init @eslint/config

? How would you like to use ESLint? <span class="token punctuation">..</span>.
  To check syntax only //仅检查语法
<span class="token operator">&gt;</span> To check syntax and <span class="token function">find</span> problems //检查语法并发现问题
? What <span class="token builtin class-name">type</span> of modules does your project use? <span class="token punctuation">..</span>.
<span class="token operator">&gt;</span> JavaScript modules <span class="token punctuation">(</span>import/export<span class="token punctuation">)</span>

? Which framework does your project use? <span class="token punctuation">..</span>.
  React
<span class="token operator">&gt;</span> Vue.js
? Does your project use TypeScript? » No / Yes 

? Where does your code run? <span class="token punctuation">..</span>.  <span class="token punctuation">(</span>Press <span class="token operator">&lt;</span>space<span class="token operator">&gt;</span> to select, <span class="token operator">&lt;</span>a<span class="token operator">&gt;</span> to toggle all, <span class="token operator">&lt;</span>i<span class="token operator">&gt;</span> to invert selection<span class="token punctuation">)</span>
√ Browser
? Which package manager <span class="token keyword">do</span> you want to use? <span class="token punctuation">..</span>.
<span class="token operator">&gt;</span> <span class="token function">npm</span>
  <span class="token function">yarn</span>
  <span class="token function">pnpm</span>
</code></pre> 
<p>已有eslint项目中可以不使用初始化的方式来创建typescript-eslint，可以直接使用npm导入的方式导入typescript-eslint规则验证包。</p> 
<pre><code class="prism language-bash"><span class="token function">npm</span> <span class="token function">install</span> --save-dev eslint @typescript-eslint/parser @typescript-eslint/eslint-plugin eslint-plugin-vue
</code></pre> 
<ul><li>@typescript-eslint/parser 允许 ESLint 加载 Typescript 的解析器。</li><li>@typescript-eslint/eslint-plugin 为 Typescript 提供 Lint 规则的插件。</li></ul> 
<p><strong>.eslintrc.cjs文件设置</strong></p> 
<p>在.eslintrc.cjs文件中的parserOptions元素中加入parser属性和值<code>@typescript-eslint/parser</code>，在语法检测的时候可以检测typesrcipt语法内容。</p> 
<pre><code class="prism language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    <span class="token string-property property">"env"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token string-property property">"browser"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token string-property property">"es2021"</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string-property property">"extends"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">"eslint:recommended"</span><span class="token punctuation">,</span>
        <span class="token string">"plugin:vue/vue3-essential"</span><span class="token punctuation">,</span>
        <span class="token string">"plugin:@typescript-eslint/recommended"</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string-property property">"overrides"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string-property property">"parser"</span><span class="token operator">:</span> <span class="token string">"vue-eslint-parser"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"parserOptions"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token string-property property">"ecmaVersion"</span><span class="token operator">:</span> <span class="token string">"latest"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"sourceType"</span><span class="token operator">:</span> <span class="token string">"module"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"parser"</span><span class="token operator">:</span> <span class="token string">"@typescript-eslint/parser"</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string-property property">"plugins"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">"vue"</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string-property property">"rules"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>“parser”: “vue-eslint-parser” 这句很重要，必须要加上。</p> 
<pre><code class="prism language-javascript"><span class="token string-property property">"lint"</span><span class="token operator">:</span> <span class="token string">"eslint --ext .js,.vue,.ts src"</span>
<span class="token string-property property">"lint"</span><span class="token operator">:</span> <span class="token string">"eslint . --ext .vue,.js,.ts,.jsx,.tsx --fix"</span>
</code></pre> 
<p>prettier配置文件的写法。</p> 
<pre><code class="prism language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    <span class="token string-property property">"env"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token string-property property">"browser"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token string-property property">"es2021"</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string-property property">"extends"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">"eslint:recommended"</span><span class="token punctuation">,</span>
        <span class="token string">"plugin:vue/vue3-essential"</span><span class="token punctuation">,</span>
        <span class="token string">"plugin:@typescript-eslint/recommended"</span><span class="token punctuation">,</span>
        <span class="token string">"@vue/prettier"</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string-property property">"overrides"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string-property property">"parser"</span><span class="token operator">:</span> <span class="token string">"vue-eslint-parser"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"parserOptions"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token string-property property">"ecmaVersion"</span><span class="token operator">:</span> <span class="token string">"latest"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"sourceType"</span><span class="token operator">:</span> <span class="token string">"module"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"parser"</span><span class="token operator">:</span> <span class="token string">"@typescript-eslint/parser"</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string-property property">"plugins"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">"vue"</span><span class="token punctuation">,</span>
        <span class="token string">"@typescript-eslint"</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string-property property">"rules"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><strong>standard 规则引入</strong></p> 
<p>在eslint+typescript项目环境中加入standard规则组件，需要先引入standard-with-typescript包到项目中来。</p> 
<pre><code class="prism language-bash"><span class="token function">npm</span> <span class="token function">install</span> @vue/eslint-config-standard-with-typescript --save-dev 

module.exports <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    <span class="token string">"env"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token string">"browser"</span><span class="token builtin class-name">:</span> true,
        <span class="token string">"es2021"</span><span class="token builtin class-name">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>,
    <span class="token string">"extends"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
        <span class="token string">"plugin:vue/vue3-essential"</span>,
        <span class="token string">'@vue/eslint-config-standard-with-typescript'</span>
    <span class="token punctuation">]</span>,
    <span class="token string">"overrides"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">]</span>,
    <span class="token string">"parser"</span><span class="token builtin class-name">:</span> <span class="token string">""</span>,
    <span class="token string">"parserOptions"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token string">"ecmaVersion"</span><span class="token builtin class-name">:</span> <span class="token string">"latest"</span>,
        <span class="token string">"sourceType"</span><span class="token builtin class-name">:</span> <span class="token string">"module"</span>,
    <span class="token punctuation">}</span>,
    <span class="token string">"plugins"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
        <span class="token string">"vue"</span>
    <span class="token punctuation">]</span>,
    <span class="token string">"rules"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{<!-- --></span>
    //关闭引入规则 vite/client, use <span class="token variable"><span class="token variable">`</span><span class="token function">import</span><span class="token variable">`</span></span> style instead
    <span class="token string">'@typescript-eslint/triple-slash-reference'</span><span class="token builtin class-name">:</span> <span class="token string">'off'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/99f1a3297d0180ada255dc6de0589f3e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">vue3中动态设置网页图标</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/21c3a13d702be8ae58c401b320c3d409/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">python字符串压缩以及还原</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>