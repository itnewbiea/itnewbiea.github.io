<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>pandas行转列 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="pandas行转列" />
<meta property="og:description" content="需求 原始文件 Year Country medal no of medals 1896 Afghanistan Gold 5 1896 Afghanistan Silver 4 1896 Afghanistan Bronze 3 1896 Algeria Gold 1 1896 Algeria Silver 2 1896 Algeria Bronze 3 目标 Year Country Gold Silver Bronze 1896 Afghanistan 5 4 3 1896 Algeria 1 2 3 方法 保存为’/home/yanghao3/pandas.csv’脚本 df = pd.read_csv(&#39;/home/yanghao3/pandas.csv&#39;) medals = df.pivot_table(&#39;no&#39;, [&#39;Year&#39;, &#39;Country&#39;], &#39;medal&#39;) medals.reset_index(level=0,inplace=True) medals.reset_index(level=0,inplace=True) #改变列的顺序 medals = medals.reindex_axis([&#39;Year&#39;, &#39;Country&#39;, &#39;Gold&#39;, &#39;Silver&#39;, &#39;Bronze&#39;], axis = 1) medals." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/fbd3fd2b3aaab9fd996430c3b55614bb/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2015-12-01T21:02:41+08:00" />
<meta property="article:modified_time" content="2015-12-01T21:02:41+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">pandas行转列</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2 id="需求">需求</h2> 
<h5 id="原始文件">原始文件</h5> 
<pre class="prettyprint"><code class=" hljs coffeescript">Year    Country medal   <span class="hljs-literal">no</span> <span class="hljs-keyword">of</span> medals
<span class="hljs-number">1896</span>    Afghanistan Gold    <span class="hljs-number">5</span>
<span class="hljs-number">1896</span>    Afghanistan Silver  <span class="hljs-number">4</span>
<span class="hljs-number">1896</span>    Afghanistan Bronze  <span class="hljs-number">3</span>
<span class="hljs-number">1896</span>    Algeria Gold    <span class="hljs-number">1</span>
<span class="hljs-number">1896</span>    Algeria Silver  <span class="hljs-number">2</span>
<span class="hljs-number">1896</span>    Algeria Bronze  <span class="hljs-number">3</span></code></pre> 
<h5 id="目标">目标</h5> 
<pre class="prettyprint"><code class=" hljs vbscript"><span class="hljs-built_in">Year</span>    Country Gold    Silver  Bronze
<span class="hljs-number">1896</span>    Afghanistan <span class="hljs-number">5</span>   <span class="hljs-number">4</span>   <span class="hljs-number">3</span>
<span class="hljs-number">1896</span>    Algeria     <span class="hljs-number">1</span>   <span class="hljs-number">2</span>   <span class="hljs-number">3</span></code></pre> 
<h2 id="方法">方法</h2> 
<ol><li>保存为’/home/yanghao3/pandas.csv’</li><li>脚本</li></ol> 
<pre class="prettyprint"><code class=" hljs php">df = pd.read_csv(<span class="hljs-string">'/home/yanghao3/pandas.csv'</span>)
medals = df.pivot_table(<span class="hljs-string">'no'</span>, [<span class="hljs-string">'Year'</span>, <span class="hljs-string">'Country'</span>], <span class="hljs-string">'medal'</span>)
medals.reset_index(level=<span class="hljs-number">0</span>,inplace=<span class="hljs-keyword">True</span>)
medals.reset_index(level=<span class="hljs-number">0</span>,inplace=<span class="hljs-keyword">True</span>)
<span class="hljs-comment">#改变列的顺序</span>
medals = medals.reindex_axis([<span class="hljs-string">'Year'</span>, <span class="hljs-string">'Country'</span>, <span class="hljs-string">'Gold'</span>, <span class="hljs-string">'Silver'</span>, <span class="hljs-string">'Bronze'</span>], axis = <span class="hljs-number">1</span>)
medals.to_csv(<span class="hljs-string">'/home/yanghao3/result.csv'</span>)</code></pre> 
<ol><li>结果<code>/home/yanghao3/result.csv</code></li></ol> 
<h2 id="参考">参考</h2> 
<ol><li><a href="http://www.4byte.cn/question/678172/python-pandas-convert-rows-as-column-headers.html" rel="nofollow">http://www.4byte.cn/question/678172/python-pandas-convert-rows-as-column-headers.html</a></li><li><a href="http://stackoverflow.com/questions/20461165/how-to-convert-pandas-index-in-a-dataframe-to-a-column" rel="nofollow">http://stackoverflow.com/questions/20461165/how-to-convert-pandas-index-in-a-dataframe-to-a-column</a></li></ol>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/a616eb731c274f10032b4c9e6ed21d4b/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">C&#43;&#43;-day07-指向对象的指针－student.cpp</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/23e5792b64f1d5cdfbcc5300a1a69ce2/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">gitlab傻瓜式安装</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>