<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>大数据毕业设计 股票量化分析与股票预测系统 - Python - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="大数据毕业设计 股票量化分析与股票预测系统 - Python" />
<meta property="og:description" content="文章目录 0 前言1 课题背景2 实现效果3 设计原理QTChartsarma模型预测K-means聚类算法算法实现关键问题说明 4 部分核心代码5 最后 0 前言 🔥 这两年开始毕业设计和毕业答辩的要求和难度不断提升，传统的毕设题目缺少创新和亮点，往往达不到毕业答辩的要求，这两年不断有学弟学妹告诉学长自己做的项目系统达不到老师的要求。
为了大家能够顺利以及最少的精力通过毕设，学长分享优质毕业设计项目，今天要分享的是
🚩 基于大数据的股票量化分析与股价预测系统
🥇学长这里给一个题目综合评分(每项满分5分)
难度系数：3分工作量：3分创新点：4分 1 课题背景 基于大数据的股票可视化分析平台设计，对股票数据进行预处理，清洗以及可视化分析，同时设计了软件界面。
2 实现效果 价格可视化
魔梯访问与指标计算
聚类分析
3 设计原理 QTCharts 简介
QtCharts是Qt自带的组件库，其中包含折线、曲线、饼图、棒图、散点图、雷达图等各种常用的图表。而在地面站开发过程中，使用折线图可以对无人机的一些状态数据进行监测，更是可以使用散点图来模拟飞机所在位置，实现平面地图的感觉。
使用Qt Charts绘制，大概可以分为四个部分：数据(QXYSeries)、图表(QChart)、坐标轴(QAbstractAXis)和视图(QChartView)。这里就不一一给大家介绍了，下面给大家说一下QtCharts的配置安装。
QtCharts模块的C&#43;&#43;类
arma模型预测 简介
ARMA模型，又称为ARMA (p,q)模型。其核心思想就是当前正如名字所显示的，整个模型的核心就是要确定p和q这两个参数。其中，p决定了我们要用几个滞后时期的价格数据，而q决定了我们要用几个滞后时期的预测误差。
简单来说，ARMA模型做了两件事。一是基于趋势理论，用历史数据来回归出一个当前的价格预测，这个预测反映了自回归的思想。但是这个预测必然是有差异的，所以ARMA模型根据历史的预测误差也回归出一个当前的误差预测，这个预测反映了加权平均的思想。用价格预测加上误差预测修正，才最终得到一个理论上更加精确的最终价格预测。
比起简单的自回归模型或者以时间为基础的简单趋势预测模型，ARMA模型最大的优势，在于综合了趋势理论和均值回归理论，理论上的精确度会比较高。
&#39;&#39;&#39; 自回归滑动平均模型 &#39;&#39;&#39; from statsmodels.tsa.arima_model import ARMA from itertools import product def myARMA(data): p = range(0, 9) q = range(0, 9) parameters = list(product(p, q)) # 生成(p,q)从(0,0)到(9,9)的枚举 best_aic = float(&#39;inf&#39;) result = None for param in parameters: try: model = ARMA(endog=data, order=(param[0], param[1]))." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/f42120b9bddd1f344282885d52af733c/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-02-16T11:00:06+08:00" />
<meta property="article:modified_time" content="2023-02-16T11:00:06+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">大数据毕业设计 股票量化分析与股票预测系统 - Python</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#0__3" rel="nofollow">0 前言</a></li><li><a href="#1__17" rel="nofollow">1 课题背景</a></li><li><a href="#2__21" rel="nofollow">2 实现效果</a></li><li><a href="#3__31" rel="nofollow">3 设计原理</a></li><li><ul><li><a href="#QTCharts_33" rel="nofollow">QTCharts</a></li><li><a href="#arma_46" rel="nofollow">arma模型预测</a></li><li><a href="#Kmeans_87" rel="nofollow">K-means聚类算法</a></li><li><a href="#_131" rel="nofollow">算法实现关键问题说明</a></li></ul> 
  </li><li><a href="#4__152" rel="nofollow">4 部分核心代码</a></li><li><a href="#5__291" rel="nofollow">5 最后</a></li></ul> 
</div> 
<p></p> 
<hr size='1"' color="#000000"> 
<h2><a id="0__3"></a>0 前言</h2> 
<p>🔥 这两年开始毕业设计和毕业答辩的要求和难度不断提升，传统的毕设题目缺少创新和亮点，往往达不到毕业答辩的要求，这两年不断有学弟学妹告诉学长自己做的项目系统达不到老师的要求。</p> 
<p>为了大家能够顺利以及最少的精力通过毕设，学长分享优质毕业设计项目，今天要分享的是</p> 
<p>🚩 <strong>基于大数据的股票量化分析与股价预测系统</strong></p> 
<p>🥇学长这里给一个题目综合评分(每项满分5分)</p> 
<ul><li>难度系数：3分</li><li>工作量：3分</li><li>创新点：4分</li></ul> 
<h2><a id="1__17"></a>1 课题背景</h2> 
<p>基于大数据的股票可视化分析平台设计，对股票数据进行预处理，清洗以及可视化分析，同时设计了软件界面。</p> 
<h2><a id="2__21"></a>2 实现效果</h2> 
<p><strong>价格可视化</strong><br> <img src="https://images2.imgbox.com/ae/4e/0lUrZTXi_o.png" alt="在这里插入图片描述"><br> <strong>魔梯访问与指标计算</strong></p> 
<p><img src="https://images2.imgbox.com/7a/0b/xKtdjq62_o.png" alt="在这里插入图片描述"><br> <strong>聚类分析</strong><br> <img src="https://images2.imgbox.com/f2/71/e7Psprru_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="3__31"></a>3 设计原理</h2> 
<h3><a id="QTCharts_33"></a>QTCharts</h3> 
<p><strong>简介</strong></p> 
<p>QtCharts是Qt自带的组件库，其中包含折线、曲线、饼图、棒图、散点图、雷达图等各种常用的图表。而在地面站开发过程中，使用折线图可以对无人机的一些状态数据进行监测，更是可以使用散点图来模拟飞机所在位置，实现平面地图的感觉。</p> 
<p>使用Qt Charts绘制，大概可以分为四个部分：数据(QXYSeries)、图表(QChart)、坐标轴(QAbstractAXis)和视图(QChartView)。这里就不一一给大家介绍了，下面给大家说一下QtCharts的配置安装。</p> 
<p><strong>QtCharts模块的C++类</strong></p> 
<p><img src="https://images2.imgbox.com/b7/97/FRrQa8vV_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="arma_46"></a>arma模型预测</h3> 
<p><strong>简介</strong></p> 
<p>ARMA模型，又称为ARMA (p,q)模型。其核心思想就是当前正如名字所显示的，整个模型的核心就是要确定p和q这两个参数。其中，p决定了我们要用几个滞后时期的价格数据，而q决定了我们要用几个滞后时期的预测误差。</p> 
<p><img src="https://images2.imgbox.com/5e/de/lBB5f4KV_o.png" alt="在这里插入图片描述"></p> 
<p>简单来说，ARMA模型做了两件事。一是基于趋势理论，用历史数据来回归出一个当前的价格预测，这个预测反映了自回归的思想。但是这个预测必然是有差异的，所以ARMA模型根据历史的预测误差也回归出一个当前的误差预测，这个预测反映了加权平均的思想。用价格预测加上误差预测修正，才最终得到一个理论上更加精确的最终价格预测。</p> 
<p>比起简单的自回归模型或者以时间为基础的简单趋势预测模型，ARMA模型最大的优势，在于综合了趋势理论和均值回归理论，理论上的精确度会比较高。</p> 
<pre><code class="prism language-python"><span class="token triple-quoted-string string">'''
    自回归滑动平均模型
'''</span>
<span class="token keyword">from</span> statsmodels<span class="token punctuation">.</span>tsa<span class="token punctuation">.</span>arima_model <span class="token keyword">import</span> ARMA
<span class="token keyword">from</span> itertools <span class="token keyword">import</span> product
 
 
<span class="token keyword">def</span> <span class="token function">myARMA</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">:</span>
    p <span class="token operator">=</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span>
    q <span class="token operator">=</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span>
    parameters <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>product<span class="token punctuation">(</span>p<span class="token punctuation">,</span> q<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 生成(p,q)从(0,0)到(9,9)的枚举</span>
    best_aic <span class="token operator">=</span> <span class="token builtin">float</span><span class="token punctuation">(</span><span class="token string">'inf'</span><span class="token punctuation">)</span>
    result <span class="token operator">=</span> <span class="token boolean">None</span>
    <span class="token keyword">for</span> param <span class="token keyword">in</span> parameters<span class="token punctuation">:</span>
        <span class="token keyword">try</span><span class="token punctuation">:</span>
            model <span class="token operator">=</span> ARMA<span class="token punctuation">(</span>endog<span class="token operator">=</span>data<span class="token punctuation">,</span> order<span class="token operator">=</span><span class="token punctuation">(</span>param<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> param<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>fit<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">except</span> ValueError<span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"参数错误："</span><span class="token punctuation">,</span> param<span class="token punctuation">)</span>
            <span class="token keyword">continue</span>
        aic <span class="token operator">=</span> model<span class="token punctuation">.</span>aic
        <span class="token keyword">if</span> aic <span class="token operator">&lt;</span> best_aic<span class="token punctuation">:</span>  <span class="token comment"># 选取最优的aic</span>
            best_aic <span class="token operator">=</span> model<span class="token punctuation">.</span>aic
            result <span class="token operator">=</span> <span class="token punctuation">(</span>model<span class="token punctuation">,</span> param<span class="token punctuation">)</span>
    <span class="token keyword">return</span> result
</code></pre> 
<h3><a id="Kmeans_87"></a>K-means聚类算法</h3> 
<p><strong>基本原理</strong></p> 
<p>k-Means算法是一种使用最普遍的聚类算法，它是一种无监督学习算法，目的是将相似的对象归到同一个簇中。簇内的对象越相似，聚类的效果就越好。该算法不适合处理离散型属性，但对于连续型属性具有较好的聚类效果。</p> 
<p><strong>聚类效果判定标准</strong></p> 
<p>使各个样本点与所在簇的质心的误差平方和达到最小，这是评价k-means算法最后聚类效果的评价标准。</p> 
<p><img src="https://images2.imgbox.com/66/ff/cmUwI1Kn_o.png" alt="在这里插入图片描述"></p> 
<p><strong>算法实现步骤</strong></p> 
<p>1）选定k值</p> 
<p>2）创建k个点作为k个簇的起始质心。</p> 
<p>3）分别计算剩下的元素到k个簇的质心的距离，将这些元素分别划归到距离最小的簇。</p> 
<p>4）根据聚类结果，重新计算k个簇各自的新的质心，即取簇中全部元素各自维度下的算术平均值。</p> 
<p>5）将全部元素按照新的质心重新聚类。</p> 
<p>6）重复第5步，直到聚类结果不再变化。</p> 
<p>7）最后，输出聚类结果。</p> 
<p><strong>算法缺点</strong></p> 
<p>虽然K-Means算法原理简单，但是有自身的缺陷：</p> 
<p>1）聚类的簇数k值需在聚类前给出，但在很多时候中k值的选定是十分难以估计的，很多情况我们聚类前并不清楚给出的数据集应当分成多少类才最恰当。</p> 
<p>2）k-means需要人为地确定初始质心，不一样的初始质心可能会得出差别很大的聚类结果，无法保证k-means算法收敛于全局最优解。</p> 
<p>3）对离群点敏感。</p> 
<p>4）结果不稳定（受输入顺序影响）。</p> 
<p>5）时间复杂度高O(nkt)，其中n是对象总数，k是簇数，t是迭代次数。</p> 
<h3><a id="_131"></a>算法实现关键问题说明</h3> 
<p><strong>K值的选定说明</strong></p> 
<p>根据聚类原则：组内差距要小，组间差距要大。我们先算出不同k值下各个SSE(Sum of<br> squared<br> errors)值，然后绘制出折线图来比较，从中选定最优解。从图中，我们可以看出k值到达5以后，SSE变化趋于平缓，所以我们选定5作为k值。</p> 
<p><img src="https://images2.imgbox.com/e4/9c/VogeWKKR_o.png" alt="在这里插入图片描述"></p> 
<p><strong>初始的K个质心选定说明</strong></p> 
<p>初始的k个质心选定是采用的随机法。从各列数值最大值和最小值中间按正太分布随机选取k个质心。</p> 
<p><strong>关于离群点</strong></p> 
<p>离群点就是远离整体的，非常异常、非常特殊的数据点。因为k-means算法对离群点十分敏感，所以在聚类之前应该将这些“极大”、“极小”之类的离群数据都去掉，否则会对于聚类的结果有影响。离群点的判定标准是根据前面数据可视化分析过程的散点图和箱线图进行判定。</p> 
<h2><a id="4__152"></a>4 部分核心代码</h2> 
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"kmeans.h"</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"ui_kmeans.h"</span></span>

kmeans<span class="token operator">::</span><span class="token function">kmeans</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>parent<span class="token punctuation">)</span> <span class="token operator">:</span>
    <span class="token function">QDialog</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ui</span><span class="token punctuation">(</span>new Ui<span class="token operator">::</span>kmeans<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    this<span class="token operator">-&gt;</span><span class="token function">setWindowFlags</span><span class="token punctuation">(</span>Qt<span class="token operator">::</span>Dialog <span class="token operator">|</span> Qt<span class="token operator">::</span>WindowMinMaxButtonsHint <span class="token operator">|</span> Qt<span class="token operator">::</span>WindowCloseButtonHint<span class="token punctuation">)</span><span class="token punctuation">;</span>
    ui<span class="token operator">-&gt;</span><span class="token function">setupUi</span><span class="token punctuation">(</span>this<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

kmeans<span class="token operator">::</span><span class="token operator">~</span><span class="token function">kmeans</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    delete ui<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> kmeans<span class="token operator">::</span><span class="token function">closeEvent</span><span class="token punctuation">(</span>QCloseEvent <span class="token operator">*</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    end_flag<span class="token operator">=</span>true<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> kmeans<span class="token operator">::</span><span class="token function">on_pushButton_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    end_flag<span class="token operator">=</span>false<span class="token punctuation">;</span>
    <span class="token comment">//读取数据</span>
    QFile <span class="token function">sharpe</span><span class="token punctuation">(</span><span class="token string">"sharpe.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    sharpe<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>QIODevice<span class="token operator">::</span>ReadOnly<span class="token operator">|</span>QIODevice<span class="token operator">::</span>Text<span class="token punctuation">)</span><span class="token punctuation">;</span>
    std<span class="token operator">::</span>vector<span class="token operator">&lt;</span>std<span class="token operator">::</span>array<span class="token operator">&lt;</span><span class="token keyword">double</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token operator">&gt;&gt;</span> data<span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">!</span>sharpe<span class="token punctuation">.</span><span class="token function">atEnd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        QStringList linels<span class="token operator">=</span><span class="token function">QString</span><span class="token punctuation">(</span>sharpe<span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token char">','</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        qreal mean<span class="token operator">=</span>linels<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toDouble</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        qreal sd<span class="token operator">=</span>linels<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toDouble</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>mean<span class="token operator">&gt;</span><span class="token operator">-</span><span class="token number">0.06</span><span class="token operator">&amp;&amp;</span>mean<span class="token operator">&lt;</span><span class="token number">0.06</span><span class="token operator">&amp;&amp;</span>sd<span class="token operator">&lt;</span><span class="token number">0.12</span><span class="token punctuation">)</span>data<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>mean<span class="token punctuation">,</span>sd<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    std<span class="token operator">::</span><span class="token function">random_shuffle</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>data<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    sharpe<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//聚类</span>
    ui<span class="token operator">-&gt;</span>pushButton<span class="token operator">-&gt;</span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">"聚类中..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    QApplication<span class="token operator">::</span><span class="token function">processEvents</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">auto</span> labels<span class="token operator">=</span>std<span class="token operator">::</span>get<span class="token operator">&lt;</span><span class="token number">1</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>dkm<span class="token operator">::</span><span class="token function">kmeans_lloyd</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ui<span class="token operator">-&gt;</span>pushButton<span class="token operator">-&gt;</span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">"开始"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    QApplication<span class="token operator">::</span><span class="token function">processEvents</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//作图</span>
    QChart <span class="token operator">*</span>chart <span class="token operator">=</span> new <span class="token function">QChart</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//chart-&gt;setAnimationOptions(QChart::SeriesAnimations);</span>
    <span class="token comment">//chart-&gt;legend()-&gt;setVisible(false);</span>

    QList<span class="token operator">&lt;</span>QScatterSeries<span class="token operator">*</span><span class="token operator">&gt;</span> serieses<span class="token punctuation">;</span>
    QList<span class="token operator">&lt;</span>QColor<span class="token operator">&gt;</span> colors<span class="token punctuation">{<!-- --></span>
        <span class="token function">QColor</span><span class="token punctuation">(</span>Qt<span class="token operator">::</span>black<span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token function">QColor</span><span class="token punctuation">(</span>Qt<span class="token operator">::</span>cyan<span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token function">QColor</span><span class="token punctuation">(</span>Qt<span class="token operator">::</span>red<span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token function">QColor</span><span class="token punctuation">(</span>Qt<span class="token operator">::</span>green<span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token function">QColor</span><span class="token punctuation">(</span>Qt<span class="token operator">::</span>magenta<span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token function">QColor</span><span class="token punctuation">(</span>Qt<span class="token operator">::</span>yellow<span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token function">QColor</span><span class="token punctuation">(</span>Qt<span class="token operator">::</span>gray<span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token function">QColor</span><span class="token punctuation">(</span>Qt<span class="token operator">::</span>blue<span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token function">QColor</span><span class="token punctuation">(</span><span class="token string">"#A27E36"</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">9</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        QScatterSeries <span class="token operator">*</span>temp <span class="token operator">=</span> new <span class="token function">QScatterSeries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        temp<span class="token operator">-&gt;</span><span class="token function">setName</span><span class="token punctuation">(</span>QString<span class="token operator">::</span><span class="token function">number</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        temp<span class="token operator">-&gt;</span><span class="token function">setColor</span><span class="token punctuation">(</span>colors<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        temp<span class="token operator">-&gt;</span><span class="token function">setMarkerSize</span><span class="token punctuation">(</span><span class="token number">10.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        serieses<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span>
        chart<span class="token operator">-&gt;</span><span class="token function">addSeries</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    chart<span class="token operator">-&gt;</span><span class="token function">createDefaultAxes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">/*
                             v4
-------------------------------------------------------------
      Percentiles      Smallest
 1%     -.023384        -.35985
 5%    -.0115851       -.349373
10%    -.0078976       -.325249       Obs             613,849
25%    -.0037067       -.324942       Sum of Wgt.     613,849

50%     .0000567                      Mean           .0004866
                        Largest       Std. Dev.      .0130231
75%     .0041332        1.28376
90%     .0091571        1.52169       Variance       .0001696
95%     .0132541        2.73128       Skewness       95.21884
99%     .0273964        4.56203       Kurtosis       28540.15

                             v5
-------------------------------------------------------------
      Percentiles      Smallest
 1%     .0073016       4.68e-07
 5%     .0112397       7.22e-07
10%     .0135353       7.84e-07       Obs             613,849
25%     .0180452       8.21e-07       Sum of Wgt.     613,849

50%     .0248626                      Mean           .0282546
                        Largest       Std. Dev.      .0213631
75%     .0343356         3.2273
90%     .0458472        3.32199       Variance       .0004564
95%     .0549695        4.61189       Skewness       68.11651
99%     .0837288        4.75981       Kurtosis       11569.69

     */</span>

    QValueAxis <span class="token operator">*</span>axisX <span class="token operator">=</span> qobject_cast<span class="token operator">&lt;</span>QValueAxis <span class="token operator">*</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>chart<span class="token operator">-&gt;</span><span class="token function">axes</span><span class="token punctuation">(</span>Qt<span class="token operator">::</span>Horizontal<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    axisX<span class="token operator">-&gt;</span><span class="token function">setRange</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">0.06</span><span class="token punctuation">,</span><span class="token number">0.06</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    axisX<span class="token operator">-&gt;</span><span class="token function">setTitleText</span><span class="token punctuation">(</span><span class="token string">"平均值"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    axisX<span class="token operator">-&gt;</span><span class="token function">setLabelFormat</span><span class="token punctuation">(</span><span class="token string">"%.2f"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    QValueAxis <span class="token operator">*</span>axisY <span class="token operator">=</span> qobject_cast<span class="token operator">&lt;</span>QValueAxis <span class="token operator">*</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>chart<span class="token operator">-&gt;</span><span class="token function">axes</span><span class="token punctuation">(</span>Qt<span class="token operator">::</span>Vertical<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    axisY<span class="token operator">-&gt;</span><span class="token function">setRange</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0.12</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    axisY<span class="token operator">-&gt;</span><span class="token function">setTitleText</span><span class="token punctuation">(</span><span class="token string">"标准差"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    axisY<span class="token operator">-&gt;</span><span class="token function">setLabelFormat</span><span class="token punctuation">(</span><span class="token string">"%.2f"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    ui<span class="token operator">-&gt;</span>widget<span class="token operator">-&gt;</span><span class="token function">setRenderHint</span><span class="token punctuation">(</span>QPainter<span class="token operator">::</span>Antialiasing<span class="token punctuation">)</span><span class="token punctuation">;</span>
    ui<span class="token operator">-&gt;</span>widget<span class="token operator">-&gt;</span><span class="token function">setChart</span><span class="token punctuation">(</span>chart<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">auto</span> labelsiter<span class="token operator">=</span>labels<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">auto</span> <span class="token operator">&amp;&amp;</span>point <span class="token operator">:</span> data<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>end_flag<span class="token punctuation">)</span><span class="token keyword">return</span><span class="token punctuation">;</span>
        serieses<span class="token punctuation">[</span><span class="token operator">*</span>labelsiter<span class="token punctuation">]</span><span class="token operator">-&gt;</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token function">QPointF</span><span class="token punctuation">(</span>point<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>point<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        i<span class="token operator">++</span><span class="token punctuation">;</span>
        labelsiter<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">%</span><span class="token number">1000</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            QApplication<span class="token operator">::</span><span class="token function">processEvents</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> kmeans<span class="token operator">::</span><span class="token function">on_pushButton_2_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    end_flag<span class="token operator">=</span>true<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="5__291"></a>5 最后</h2>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/964c17614d91c4244a52f13436eeca29/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Vue 之 视频流 - Streamedian.js</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b360417ec41fb341ea871aaca4983048/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">php微信公众号的token认证</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>