<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>《HarmonyOS实战—入门到开发，浅析原子化服务》 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="《HarmonyOS实战—入门到开发，浅析原子化服务》" />
<meta property="og:description" content="【本文正在参与“有奖征文 | HarmonyOS征文大赛”活动】
HarmonyOS操作系统 在介绍鸿蒙系统前，我们有必要了解下鸿蒙系统应运而生的时代背景。近年来，我国在电子信息技术领域中愈发觉需要“独立”，资源的匮乏，人才的稀缺正是当务之急。
犹记得前段时间网上流传着这样的言论：华为终端设备存在通信安全的威胁，终端系统存在 ”后台” ，这样的情况下，我们就更需要用实力证明自己。于是，2021年6月2日，华为正式公布了其自主研发的操作系统—HarmonyOS，也就是鸿蒙。
发布会上，令我印象最深刻的莫过于HarmonyOS万物互联、分布式的强大特性以及其Feature Ability（元服务）的用户界面展现形式，这使得它与用户的交互更加流畅、简洁、方便。下面我们就来细品HarmonyOS的 “服务卡片” 功能。
原子化服务 在此之前呢，我们不得不去了解下与 “服务卡片” 有着密切关系的原子化服务。原子化服务是由HarmonyOS 提供的一种面向未来的服务提供方式，它拥有独立、非驱动、轻便（无需安装）等特性，旨在为用户提供一种效率极佳的服务方式。
它具有随处可见、跨设备、服务直达等特性：
（1）服务发现：原子化服务可在服务中心发现并使用。
（2）智能推荐：原子化服务可以基于合适场景被主动推荐给用户使用；用户可在服务中心和小艺建议中发现系统推荐的服务。
（3）服务卡片：支持用户无需打开原子化服务便可获取服务内重要信息的展示和动态变化，如天气、关键事务备忘、热点新闻列表。
（4）支持跨设备分享：例如接入华为分享后，用户可分享原子化服务给好友，好友确认后打开分享的服务。
（5）支持多端协同：例如手机用作文档翻页和批注，配合智慧屏显示完成分布式办公；手机作为手柄，与智慧屏配合玩游戏。
服务卡片 相信不少朋友第一次听到 “服务卡片” 这个词汇，都会在想：这不就是我手机屏幕上的 “小组件” 吗？哎！你还别说，它们之间还真有不同之处，但又有异曲同工之妙。
首先呢，大家可以回想一下我们日常使用电子产品的操作习惯，我们在使用小组件的时候：比如在主屏幕上新添加一个 “照片” 的小组件，这个小组件可以实现不定期的自动更换、主题筛选、人物分类等等这些功能。那么如你恰巧看到了一张非常感兴趣的照片，想要查看它，是不是需要点击照片进入详情查看呢？这样的交互方式相信大家都非常了解。但是你是否思考过，它可以更加地 “人性化”，更加 ”懂你“ 呢？
没错，这就是HarmonyOS，它做到了。在鸿蒙的设计中，服务卡片的引入是与以往EMUI最大的不同，在屏幕上我们只需要找到图标下方有 “小横线” 的app，当然，这些也正是那些支持HarmonyOS的app。我们只需要在图标位置处，轻轻上划，就能呼出相对应的应用卡片，这些卡片还可以实现自定义大小 、固定在主屏幕等功能。
相较于封闭式的IOS系统来说，我个人认为就是把3DTouch功能变得不需要 ”3D“ 了，无需用力，仅需轻扫。 又更像是小组件的父类，承接其外。这样的设计方式在使用上显得尤为灵活，并不需要在特定的位置才能使用。可以这么说，只要你屏幕放得下，随便你怎么用。
开发者们可以为这些服务卡片 ”量体裁衣“，定制特有的功能，提高日常使用效率。在子菜单能力的加持下，像我们日常使用的某宝支付，打开地铁卡根本无需进入app，只要 “蹦” 出来一张小卡片方可实现功能。这是我们不得不惊叹：这是多么快捷、高效的交互体验啊！
在服务卡片的开发过程中有三者参与，分别是卡片提供方、卡片使用方和卡片管理服务，它们之间相互作用，共同维持着便捷功能的实现。
HarmonyOS Developer中我们可以了解到这三者的分工：
· 提供方模块 提供卡片显示内容的HarmonyOS应用或原子化服务，控制卡片的显示内容、控件布局以及控件点击事件。
卡片服务： 由卡片提供方开发者实现，开发者实现onCreateForm、onUpdateForm和onDeleteForm处理创建卡片、更新卡片以及删除卡片等请求，提供相应的卡片服务。
通信适配层： 由HarmonyOS SDK提供，负责与卡片管理服务通信，用于将卡片的更新数据主动推送到卡片管理服务。
卡片提供方实例管理： 由卡片提供方开发者实现，负责对卡片管理服务分配的卡片实例进行持久化管理。
· 使用方模块 显示卡片内容的宿主应用，控制卡片在宿主中展示的位置。
· 管理服务模块 用于管理系统中所添加卡片的常驻代理服务，包括卡片对象的管理与使用，以及卡片周期性刷新等。
在卡片使用方和提供方需要添加/删除/请求更新卡片时，卡片管理服务会拉起卡片提供方获取卡片信息。
通信适配层： 负责与卡片使用方和提供方进行RPC通信。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/92a93871a721560aafac210056f48da1/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-08-05T23:53:27+08:00" />
<meta property="article:modified_time" content="2021-08-05T23:53:27+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">《HarmonyOS实战—入门到开发，浅析原子化服务》</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-dracula">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><a href="https://marketing.csdn.net/p/ad3879b53f4b8b31db27382b5fc65bbc">【本文正在参与“有奖征文 | HarmonyOS征文大赛”活动】</a></p> 
<h2><a id="HarmonyOS_2"></a>HarmonyOS操作系统</h2> 
<p>  在介绍鸿蒙系统前，我们有必要了解下鸿蒙系统应运而生的时代背景。近年来，我国在电子信息技术领域中愈发觉需要“独立”，资源的匮乏，人才的稀缺正是当务之急。</p> 
<img src="https://images2.imgbox.com/c3/7f/pJzhEfZa_o.png" width="85%"> 
<p>  犹记得前段时间网上流传着这样的言论：华为终端设备存在通信安全的威胁，终端系统存在 ”后台” ，这样的情况下，我们就更需要用实力证明自己。于是，2021年6月2日，华为正式公布了其自主研发的操作系统—HarmonyOS，也就是鸿蒙。</p> 
<img src="https://images2.imgbox.com/67/66/g1P4MdMp_o.jpg" width="85%"> 
<p>  发布会上，令我印象最深刻的莫过于HarmonyOS万物互联、分布式的强大特性以及其Feature Ability（元服务）的用户界面展现形式，这使得它与用户的交互更加流畅、简洁、方便。下面我们就来细品HarmonyOS的 “服务卡片” 功能。</p> 
<h3><a id="_12"></a>原子化服务</h3> 
<p>  在此之前呢，我们不得不去了解下与 “服务卡片” 有着密切关系的原子化服务。原子化服务是由HarmonyOS 提供的一种面向未来的服务提供方式，它拥有独立、非驱动、轻便（无需安装）等特性，旨在为用户提供一种效率极佳的服务方式。<br> <img src="https://images2.imgbox.com/76/95/olmVFOdw_o.png" alt="在这里插入图片描述"><br>   它具有随处可见、跨设备、服务直达等特性：</p> 
<blockquote> 
 <p>（1）服务发现：原子化服务可在服务中心发现并使用。<br> （2）智能推荐：原子化服务可以基于合适场景被主动推荐给用户使用；用户可在服务中心和小艺建议中发现系统推荐的服务。<br> （3）服务卡片：支持用户无需打开原子化服务便可获取服务内重要信息的展示和动态变化，如天气、关键事务备忘、热点新闻列表。<br> （4）支持跨设备分享：例如接入华为分享后，用户可分享原子化服务给好友，好友确认后打开分享的服务。<br> （5）支持多端协同：例如手机用作文档翻页和批注，配合智慧屏显示完成分布式办公；手机作为手柄，与智慧屏配合玩游戏。</p> 
</blockquote> 
<h2><a id="_21"></a>服务卡片</h2> 
<img src="https://images2.imgbox.com/23/f3/ZeKfsIb5_o.jpg" width="70%"> 
<p>  相信不少朋友第一次听到 “服务卡片” 这个词汇，都会在想：这不就是我手机屏幕上的 “小组件” 吗？哎！你还别说，它们之间还真有不同之处，但又有异曲同工之妙。<br>   首先呢，大家可以回想一下我们日常使用电子产品的操作习惯，我们在使用小组件的时候：比如在主屏幕上新添加一个 “照片” 的小组件，这个小组件可以实现不定期的自动更换、主题筛选、人物分类等等这些功能。那么如你恰巧看到了一张非常感兴趣的照片，想要查看它，是不是需要点击照片进入详情查看呢？这样的交互方式相信大家都非常了解。但是你是否思考过，它可以更加地 “人性化”，更加 ”懂你“ 呢？</p> 
<img src="https://images2.imgbox.com/7d/4f/nPuU54xq_o.jpg" width="60%"> 
<p>  没错，这就是HarmonyOS，它做到了。在鸿蒙的设计中，服务卡片的引入是与以往EMUI最大的不同，在屏幕上我们只需要找到图标下方有 “小横线” 的app，当然，这些也正是那些支持HarmonyOS的app。我们只需要在图标位置处，轻轻上划，就能呼出相对应的应用卡片，这些卡片还可以实现自定义大小 、固定在主屏幕等功能。</p> 
<img src="https://images2.imgbox.com/dd/83/4ObdGCzH_o.png" width="30%"> 
<p>  相较于封闭式的IOS系统来说，我个人认为就是把3DTouch功能变得不需要 ”3D“ 了，无需用力，仅需轻扫。 又更像是小组件的父类，承接其外。这样的设计方式在使用上显得尤为灵活，并不需要在特定的位置才能使用。可以这么说，只要你屏幕放得下，随便你怎么用。</p> 
<img src="https://images2.imgbox.com/8e/11/55aFkSCO_o.png" width="30%"> 
<p>  开发者们可以为这些服务卡片 ”量体裁衣“，定制特有的功能，提高日常使用效率。在子菜单能力的加持下，像我们日常使用的某宝支付，打开地铁卡根本无需进入app，只要 “蹦” 出来一张小卡片方可实现功能。这是我们不得不惊叹：这是多么快捷、高效的交互体验啊！</p> 
<img src="https://images2.imgbox.com/dd/3e/lbrRvlF9_o.png" width="30%"> 
<p>  在服务卡片的开发过程中有三者参与，分别是卡片提供方、卡片使用方和卡片管理服务，它们之间相互作用，共同维持着便捷功能的实现。</p> 
<img src="https://images2.imgbox.com/4e/fc/7qISFAn2_o.png" width="80%"> 
<p>HarmonyOS Developer中我们可以了解到这三者的分工：</p> 
<h3><a id="__47"></a><strong>·</strong> 提供方模块</h3> 
<blockquote> 
 <p>  提供卡片显示内容的HarmonyOS应用或原子化服务，控制卡片的显示内容、控件布局以及控件点击事件。</p> 
</blockquote> 
<h5><a id="_49"></a>卡片服务：</h5> 
<blockquote> 
 <p>  由卡片提供方开发者实现，开发者实现onCreateForm、onUpdateForm和onDeleteForm处理创建卡片、更新卡片以及删除卡片等请求，提供相应的卡片服务。</p> 
</blockquote> 
<h5><a id="_51"></a>通信适配层：</h5> 
<blockquote> 
 <p>  由HarmonyOS SDK提供，负责与卡片管理服务通信，用于将卡片的更新数据主动推送到卡片管理服务。</p> 
</blockquote> 
<h5><a id="_53"></a>卡片提供方实例管理：</h5> 
<blockquote> 
 <p>  由卡片提供方开发者实现，负责对卡片管理服务分配的卡片实例进行持久化管理。</p> 
</blockquote> 
<h3><a id="__59"></a>· 使用方模块</h3> 
<blockquote> 
 <p>  显示卡片内容的宿主应用，控制卡片在宿主中展示的位置。</p> 
</blockquote> 
<h3><a id="__65"></a>· 管理服务模块</h3> 
<blockquote> 
 <p>  用于管理系统中所添加卡片的常驻代理服务，包括卡片对象的管理与使用，以及卡片周期性刷新等。<br> 在卡片使用方和提供方需要添加/删除/请求更新卡片时，卡片管理服务会拉起卡片提供方获取卡片信息。</p> 
</blockquote> 
<h5><a id="_68"></a>通信适配层：</h5> 
<blockquote> 
 <p>  负责与卡片使用方和提供方进行RPC通信。</p> 
</blockquote> 
<h5><a id="_70"></a>周期性刷新：</h5> 
<blockquote> 
 <p>  在卡片添加后，根据卡片的刷新策略启动定时任务周期性触发卡片的刷新。</p> 
</blockquote> 
<h5><a id="_72"></a>卡片缓存管理：</h5> 
<blockquote> 
 <p>  在卡片添加到卡片管理服务后，对卡片的视图信息进行缓存，以便下次获取卡片时可以直接返回缓存数据，降低时延。</p> 
</blockquote> 
<h5><a id="_74"></a>卡片生命周期管理：</h5> 
<blockquote> 
 <p>  对于卡片切换到后台或者被遮挡时，暂停卡片的刷新；以及卡片的升级/卸载场景下对卡片数据的更新和清理。</p> 
</blockquote> 
<h5><a id="_76"></a>卡片使用方对象管理：</h5> 
<blockquote> 
 <p>  对卡片使用方的RPC对象进行管理，用于使用方请求进行校验以及对卡片更新后的回调处理。</p> 
</blockquote> 
<h2><a id="_79"></a>环境搭建</h2> 
<p>  有关JDK的环境配置，请参考博主前不久的<a href="https://blog.csdn.net/m0_51269961/article/details/118875967">文章</a>。安装好之后，我们到华为官网下载<a href="https://developer.harmonyos.com/cn/develop/deveco-studio#download" rel="nofollow">DevEco Studio</a>（官方IDE），无需更改，选择默认配置即可。由于没有具体项目开发，此处不再放置源码，后续学习中将不断更新，还请多多关注，下面实现华为穿戴设备—智能手表中 Hello World 的输出。</p> 
<p>新建项目</p> 
<img src="https://images2.imgbox.com/d9/af/QEdVtOmg_o.png" width="85%"> 
<p>至少选择一个类型</p> 
<img src="https://images2.imgbox.com/70/2d/JnhYYFIe_o.png" width="85%"> 
<p>进入之后显示如下界面</p> 
<img src="https://images2.imgbox.com/d4/31/r5e7Lg7A_o.png" width="85%"> 
<p>单击运行显示 Hello World</p> 
<img src="https://images2.imgbox.com/05/6a/VjK0zY7y_o.png" width="85%"> 
<p>简单的鸿蒙版 Hello World 到这里就完成啦，还不赶快动手试试 ^ _^</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f3ab7e6769a0ddb59a76ae2c65989167/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">和平精英出现竞赛服务器没有响应怎么办,和平精英进不去怎么办？卡在登录界面解决方法...</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/71a650f2142cb9306578b9438121c427/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">如何截获服务器信息,如何截获提交道SQLServer服务器上的SQL语句？</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>