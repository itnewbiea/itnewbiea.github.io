<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>原生js实现table 横向纵向全选功能 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="原生js实现table 横向纵向全选功能" />
<meta property="og:description" content="要实现这种功能，很明显用elment ui实现不了。element ui 纵向需要prop名字不一样才能展示，很明显，我这个一层二层是名字一样的数组
期望后台返回数组
是这种格式。
所有需要自己用table tr td 去画表格，而且使用element ui 的checkbox我实现不了纵向全选，所有全部使用了原生js。
//templat部分 &lt;table class=&#34;table-style&#34;&gt; //纵向全选表头 &lt;th v-for=&#34;(item,index) in thList&#34; :key=&#34;&#39;th&#39;&#43;index&#34;&gt; &lt;div v-show=&#34;index!==0&#34;&gt; &lt;input type=&#34;checkbox&#34; class=&#34;check&#34; @click=&#34;verCheck(index)&#34;/&gt; &lt;span&gt;全选&lt;/span&gt; &lt;/div&gt; &lt;/th&gt; &lt;div&gt;&lt;/div&gt; &lt;tr v-for=&#34;(item,xIndex) in trList&#34; :key=&#34;xIndex&#34; class=&#34;check-unit&#34;&gt; //横向表头 &lt;td&gt; &lt;input type=&#34;checkbox&#34; class=&#34;check&#34; @click=&#34;transverseClick(xIndex)&#34;/&gt; {{item.floor}}层 &lt;/td&gt; //单元表格 &lt;td v-for=&#34;(citem,yIndex) in item.unitList&#34; :key=&#34;citem.keys&#34; &gt; &lt;div&gt; &lt;input type=&#34;checkbox&#34; class=&#34;check&#34; @click=&#34;(e)=&gt;unitCheckClick(e,xIndex,yIndex)&#34; :class=&#34;[&#39;verCheck&#39;&#43;yIndex,&#39;tran&#39;&#43;xIndex]&#34;/&gt; {{citem.unit}} &lt;/div&gt; &lt;/td&gt; &lt;/tr&gt; &lt;/table&gt; data() { return { trList: [ { floor: 1, key: 1, unitList: [ { keys: 1, unit: &#39;101&#39;, area: &#39;90m²&#39;, house: &#39;2室1厅1卫1阳台&#39; }, { keys: 2, unit: &#39;102&#39;, area: &#39;90m²&#39;, house: &#39;2室1厅1卫1阳台&#39; }, { keys: 3, unit: &#39;103&#39;, area: &#39;90m&#39;, house: &#39;2室1厅1卫1阳台&#39; }, { keys: 4, unit: &#39;104&#39;, area: &#39;90m&#39;, house: &#39;2室1厅1卫1阳台&#39; }, { keys: 5, unit: &#39;105&#39;, area: &#39;90m&#39;, house: &#39;2室1厅1卫1阳台&#39; }, { keys: 6, unit: &#39;106&#39;, area: &#39;90m&#39;, house: &#39;2室1厅1卫1阳台&#39; } ] }, { floor: 2, key: 2, unitList: [ { keys: 1, unit: &#39;201&#39;, area: &#39;90m&#39;, house: &#39;2室1厅1卫1阳台&#39; }, { keys: 2, unit: &#39;202&#39;, area: &#39;90m&#39;, house: &#39;2室1厅1卫1阳台&#39; } ] }, { floor: 3, key: 3, unitList: [ { keys: 1, unit: &#39;301&#39;, area: &#39;90m&#39;, house: &#39;2室1厅1卫1阳台&#39; } ] } ], thList: [],//表头全选数组 checkedUitList: [] // 被选中单元列表 } }, methods: { // 填充无单元信息表格 fillTd() { let max = 0 max = this." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/166fc5eac49e038d7e467735da7596d8/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-05-10T16:25:47+08:00" />
<meta property="article:modified_time" content="2022-05-10T16:25:47+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">原生js实现table 横向纵向全选功能</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><img src="https://images2.imgbox.com/7f/56/l2XN09t2_o.png" alt="在这里插入图片描述"><br> 要实现这种功能，很明显用elment ui实现不了。element ui 纵向需要prop名字不一样才能展示，很明显，我这个一层二层是名字一样的数组<br> 期望后台返回数组<br> <img src="https://images2.imgbox.com/e4/a6/JclbX1xl_o.png" alt="在这里插入图片描述"><br> 是这种格式。<br> 所有需要自己用table tr td 去画表格，而且使用element ui 的checkbox我实现不了纵向全选，所有全部使用了原生js。</p> 
<pre><code class="prism language-javascript"><span class="token comment">//templat部分</span>
	<span class="token operator">&lt;</span>table <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"table-style"</span><span class="token operator">&gt;</span>
	<span class="token comment">//纵向全选表头</span>
        <span class="token operator">&lt;</span>th  v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">"(item,index) in thList"</span> <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">"'th'+index"</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>div v<span class="token operator">-</span>show<span class="token operator">=</span><span class="token string">"index!==0"</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>input  type<span class="token operator">=</span><span class="token string">"checkbox"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"check"</span> @click<span class="token operator">=</span><span class="token string">"verCheck(index)"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>span<span class="token operator">&gt;</span>全选<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>tr v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">"(item,xIndex) in trList"</span> <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">"xIndex"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"check-unit"</span><span class="token operator">&gt;</span>
        <span class="token comment">//横向表头</span>
          <span class="token operator">&lt;</span>td<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">"checkbox"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"check"</span> @click<span class="token operator">=</span><span class="token string">"transverseClick(xIndex)"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span>item<span class="token punctuation">.</span>floor<span class="token punctuation">}</span><span class="token punctuation">}</span>层
          <span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span>
          <span class="token comment">//单元表格</span>
          <span class="token operator">&lt;</span>td v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">"(citem,yIndex) in item.unitList"</span> <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">"citem.keys"</span> <span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">"checkbox"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"check"</span> @click<span class="token operator">=</span><span class="token string">"(e)=&gt;unitCheckClick(e,xIndex,yIndex)"</span> <span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"['verCheck'+yIndex,'tran'+xIndex]"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
              <span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span>citem<span class="token punctuation">.</span>unit<span class="token punctuation">}</span><span class="token punctuation">}</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>tr<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>table<span class="token operator">&gt;</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">trList</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">floor</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
          <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
          <span class="token literal-property property">unitList</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">keys</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">unit</span><span class="token operator">:</span> <span class="token string">'101'</span><span class="token punctuation">,</span> <span class="token literal-property property">area</span><span class="token operator">:</span> <span class="token string">'90m²'</span><span class="token punctuation">,</span> <span class="token literal-property property">house</span><span class="token operator">:</span> <span class="token string">'2室1厅1卫1阳台'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">keys</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token literal-property property">unit</span><span class="token operator">:</span> <span class="token string">'102'</span><span class="token punctuation">,</span> <span class="token literal-property property">area</span><span class="token operator">:</span> <span class="token string">'90m²'</span><span class="token punctuation">,</span> <span class="token literal-property property">house</span><span class="token operator">:</span> <span class="token string">'2室1厅1卫1阳台'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">keys</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token literal-property property">unit</span><span class="token operator">:</span> <span class="token string">'103'</span><span class="token punctuation">,</span> <span class="token literal-property property">area</span><span class="token operator">:</span> <span class="token string">'90m'</span><span class="token punctuation">,</span> <span class="token literal-property property">house</span><span class="token operator">:</span> <span class="token string">'2室1厅1卫1阳台'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">keys</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token literal-property property">unit</span><span class="token operator">:</span> <span class="token string">'104'</span><span class="token punctuation">,</span> <span class="token literal-property property">area</span><span class="token operator">:</span> <span class="token string">'90m'</span><span class="token punctuation">,</span> <span class="token literal-property property">house</span><span class="token operator">:</span> <span class="token string">'2室1厅1卫1阳台'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">keys</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token literal-property property">unit</span><span class="token operator">:</span> <span class="token string">'105'</span><span class="token punctuation">,</span> <span class="token literal-property property">area</span><span class="token operator">:</span> <span class="token string">'90m'</span><span class="token punctuation">,</span> <span class="token literal-property property">house</span><span class="token operator">:</span> <span class="token string">'2室1厅1卫1阳台'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">keys</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token literal-property property">unit</span><span class="token operator">:</span> <span class="token string">'106'</span><span class="token punctuation">,</span> <span class="token literal-property property">area</span><span class="token operator">:</span> <span class="token string">'90m'</span><span class="token punctuation">,</span> <span class="token literal-property property">house</span><span class="token operator">:</span> <span class="token string">'2室1厅1卫1阳台'</span> <span class="token punctuation">}</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">floor</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
          <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
          <span class="token literal-property property">unitList</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">keys</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">unit</span><span class="token operator">:</span> <span class="token string">'201'</span><span class="token punctuation">,</span> <span class="token literal-property property">area</span><span class="token operator">:</span> <span class="token string">'90m'</span><span class="token punctuation">,</span> <span class="token literal-property property">house</span><span class="token operator">:</span> <span class="token string">'2室1厅1卫1阳台'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">keys</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token literal-property property">unit</span><span class="token operator">:</span> <span class="token string">'202'</span><span class="token punctuation">,</span> <span class="token literal-property property">area</span><span class="token operator">:</span> <span class="token string">'90m'</span><span class="token punctuation">,</span> <span class="token literal-property property">house</span><span class="token operator">:</span> <span class="token string">'2室1厅1卫1阳台'</span> <span class="token punctuation">}</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">floor</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
          <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
          <span class="token literal-property property">unitList</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">keys</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">unit</span><span class="token operator">:</span> <span class="token string">'301'</span><span class="token punctuation">,</span> <span class="token literal-property property">area</span><span class="token operator">:</span> <span class="token string">'90m'</span><span class="token punctuation">,</span> <span class="token literal-property property">house</span><span class="token operator">:</span> <span class="token string">'2室1厅1卫1阳台'</span> <span class="token punctuation">}</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">thList</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token comment">//表头全选数组</span>
      <span class="token literal-property property">checkedUitList</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token comment">// 被选中单元列表</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 填充无单元信息表格</span>
    <span class="token function">fillTd</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">let</span> max <span class="token operator">=</span> <span class="token number">0</span>
      max <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>trList<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>unitList<span class="token punctuation">.</span>length
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> i <span class="token keyword">in</span> <span class="token keyword">this</span><span class="token punctuation">.</span>trList<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">const</span> cur <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>trList<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>unitList<span class="token punctuation">.</span>length
        cur <span class="token operator">&gt;</span> max <span class="token operator">?</span> max <span class="token operator">=</span> cur <span class="token operator">:</span> <span class="token keyword">null</span>
      <span class="token punctuation">}</span>
      <span class="token comment">// 根据最长单元数获取表头</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> max <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>thList<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 单元checkbox</span>
    <span class="token function">unitCheckClick</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">//传入点击单个checkbox的横纵索引，通过索引获取单元信息</span>
      <span class="token keyword">const</span> unit <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>trList<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">.</span>unitList<span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">.</span>unit
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'check'</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>checked<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>trList<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">.</span>unitList<span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">.</span>unit<span class="token punctuation">)</span>
      <span class="token comment">//checkedUitList为提交数组，如果选中push选中数据，如果取消选中，则移除之前选中数据</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>checked<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>checkedUitList<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>unit<span class="token punctuation">)</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>checkedUitList<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">i<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">===</span> unit<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>checkedUitList<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>checkedUitList<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 纵向全选checkbox</span>
    <span class="token function">verCheck</span><span class="token punctuation">(</span><span class="token parameter">index</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">//传入纵向索引</span>
      <span class="token keyword">const</span> num <span class="token operator">=</span> index <span class="token operator">-</span> <span class="token number">1</span>
      <span class="token keyword">const</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'.verCheck'</span> <span class="token operator">+</span> num<span class="token punctuation">)</span>
      <span class="token comment">// div.checked = true</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> div<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        div<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>checked <span class="token operator">=</span> <span class="token operator">!</span>div<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>checked
        <span class="token keyword">if</span> <span class="token punctuation">(</span>div<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>checked<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>trList<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">i</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
          <span class="token comment">//纵向单元格可以为3，也可以为2，所以i.unitList[index - 1]可能为undefined，报错，所以判断是否存在，存在push数据</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>i<span class="token punctuation">.</span>unitList<span class="token punctuation">[</span>index <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
              <span class="token keyword">this</span><span class="token punctuation">.</span>checkedUitList<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>i<span class="token punctuation">.</span>unitList<span class="token punctuation">[</span>index <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>unit<span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
          <span class="token comment">//数组去重</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>checkedUitList <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">unique</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>checkedUitList<span class="token punctuation">)</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>checkedUitList<span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">//去除取消选中值</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>trList<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">i</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>checkedUitList<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">j<span class="token punctuation">,</span> jIndex</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
              <span class="token keyword">if</span> <span class="token punctuation">(</span>i<span class="token punctuation">.</span>unitList<span class="token punctuation">[</span>index <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>i<span class="token punctuation">.</span>unitList<span class="token punctuation">[</span>index <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>unit <span class="token operator">===</span> j<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                  <span class="token keyword">this</span><span class="token punctuation">.</span>checkedUitList<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>jIndex<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
                <span class="token punctuation">}</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>checkedUitList<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 横向全选</span>
    <span class="token function">transverseClick</span><span class="token punctuation">(</span><span class="token parameter">index</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">const</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'.tran'</span> <span class="token operator">+</span> index<span class="token punctuation">)</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> div<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        div<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>checked <span class="token operator">=</span> <span class="token operator">!</span>div<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>checked
        <span class="token keyword">if</span> <span class="token punctuation">(</span>div<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>checked<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>trList<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>unitList<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">i</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>checkedUitList<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>i<span class="token punctuation">.</span>unit<span class="token punctuation">)</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>trList<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>unitList<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">i</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>checkedUitList<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">j<span class="token punctuation">,</span> jIndex</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
              <span class="token keyword">if</span> <span class="token punctuation">(</span>i<span class="token punctuation">.</span>unit <span class="token operator">===</span> j<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>checkedUitList<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>jIndex<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>div<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>checkedUitList<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 数组去重</span>
    <span class="token function">unique</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> j <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">===</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
          <span class="token comment">// 如果第一个等于第二个，splice方法删除第二个</span>
            arr<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>j<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
            j<span class="token operator">--</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> arr
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre> 
<p>全选纵向横向不可同时选择，使用name=‘tranCheckAll[]’<br> &lt;input type=“checkbox” :class=“[‘check’+‘floor’+xIndex]” name=‘tranCheckAll[]’ @click=“transverseClick(xIndex)”/&gt;<br> 使用document.getElementsByName(‘tranCheckAll[]’)获取该行选择框使用循环去改变是否可以选择<br> for (let j = 0; j &lt; tranCheckAll.length; j++) {<!-- --><br> tranCheckAll[j].disabled = false<br> }</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/eb23206e7e51a3f32813dfcccede2606/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">(zichao)VUE3基础（仅作简单整理，未深入探究）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/e0ade040b4f809e8b784d1fe27ac42a4/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">golang高级进阶（二）：goroutine性能、channel管道</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>