<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Pythoné‡‡é›†æ‹›è˜æ•°æ®ä¿¡æ¯(&#43;è¯¦æƒ…é¡µ)å¹¶å®ç°å¯è§†åŒ– - ITå­¦ä¹ è€…åšå®¢</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Pythoné‡‡é›†æ‹›è˜æ•°æ®ä¿¡æ¯(&#43;è¯¦æƒ…é¡µ)å¹¶å®ç°å¯è§†åŒ–" />
<meta property="og:description" content="ç›®å½•ï¼ˆå¯ç‚¹å‡»è‡ªå·±æƒ³çœ‹çš„åœ°æ–¹ğŸ’—ï¼‰ æœ¬ç¯‡ä»£ç æä¾›è€…: é’ç¯æ•™è‚²-è‡ªæ¸¸è€å¸ˆ [ç¯å¢ƒä½¿ç”¨]:[æ¨¡å—ä½¿ç”¨]:å¦‚æœå®‰è£…pythonç¬¬ä¸‰æ–¹æ¨¡å—:å¦‚ä½•é…ç½®pycharmé‡Œé¢çš„pythonè§£é‡Šå™¨?pycharmå¦‚ä½•å®‰è£…æ’ä»¶? åŸºæœ¬æµç¨‹æ€è·¯: &lt;å¯ä»¥é€šç”¨&gt;ä¸€. æ•°æ®æ¥æºåˆ†æäºŒ. ä»£ç å®ç°è¿‡ç¨‹: ä»£ç å¯¼å…¥æ¨¡å—1. å‘é€è¯·æ±‚,2. è·å–æ•°æ®3. è§£ææ•°æ®, æå–æˆ‘ä»¬æƒ³è¦æ•°æ®å†…å®¹ è¯¦æƒ…é¡µæ•°æ®å¯¼å…¥æ¨¡å— å¯è§†åŒ–ä»£ç éƒ¨åˆ†æ•ˆæœå±•ç¤º å°¾è¯­ æœ¬ç¯‡ä»£ç æä¾›è€…: é’ç¯æ•™è‚²-è‡ªæ¸¸è€å¸ˆ [ç¯å¢ƒä½¿ç”¨]: Python 3.8Pycharm [æ¨¡å—ä½¿ç”¨]: requests &gt;&gt;&gt; pip install requestsrejsoncsv å¦‚æœå®‰è£…pythonç¬¬ä¸‰æ–¹æ¨¡å—: win &#43; R è¾“å…¥ cmd ç‚¹å‡»ç¡®å®š, è¾“å…¥å®‰è£…å‘½ä»¤ pip install æ¨¡å—å (pip install requests) å›è½¦åœ¨pycharmä¸­ç‚¹å‡»Terminal(ç»ˆç«¯) è¾“å…¥å®‰è£…å‘½ä»¤ å¦‚ä½•é…ç½®pycharmé‡Œé¢çš„pythonè§£é‡Šå™¨? é€‰æ‹©file(æ–‡ä»¶) &gt;&gt;&gt; setting(è®¾ç½®) &gt;&gt;&gt; Project(é¡¹ç›®) &gt;&gt;&gt; python interpreter(pythonè§£é‡Šå™¨)
ç‚¹å‡»é½¿è½®, é€‰æ‹©add
æ·»åŠ pythonå®‰è£…è·¯å¾„
pycharmå¦‚ä½•å®‰è£…æ’ä»¶? é€‰æ‹©file(æ–‡ä»¶) &gt;&gt;&gt; setting(è®¾ç½®) &gt;&gt;&gt; Plugins(æ’ä»¶)
ç‚¹å‡» Marketplace è¾“å…¥æƒ³è¦å®‰è£…çš„æ’ä»¶åå­— æ¯”å¦‚:ç¿»è¯‘æ’ä»¶ è¾“å…¥ translation / æ±‰åŒ–æ’ä»¶ è¾“å…¥ Chinese" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/f61c026313f3f9c9ef8340b1a7c0cc47/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-06-20T20:03:22+08:00" />
<meta property="article:modified_time" content="2022-06-20T20:03:22+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ITå­¦ä¹ è€…åšå®¢" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ITå­¦ä¹ è€…åšå®¢</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Pythoné‡‡é›†æ‹›è˜æ•°æ®ä¿¡æ¯(&#43;è¯¦æƒ…é¡µ)å¹¶å®ç°å¯è§†åŒ–</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night-eighties">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>ç›®å½•ï¼ˆå¯ç‚¹å‡»è‡ªå·±æƒ³çœ‹çš„åœ°æ–¹ğŸ’—ï¼‰</h4> 
 <ul><li><ul><li><ul><li><a href="#__3" rel="nofollow">æœ¬ç¯‡ä»£ç æä¾›è€…: é’ç¯æ•™è‚²-è‡ªæ¸¸è€å¸ˆ</a></li></ul> 
  </li></ul> 
  </li><li><a href="#_6" rel="nofollow">[ç¯å¢ƒä½¿ç”¨]:</a></li><li><a href="#_12" rel="nofollow">[æ¨¡å—ä½¿ç”¨]:</a></li><li><ul><li><a href="#python_21" rel="nofollow">å¦‚æœå®‰è£…pythonç¬¬ä¸‰æ–¹æ¨¡å—:</a></li><li><a href="#pycharmpython_27" rel="nofollow">å¦‚ä½•é…ç½®pycharmé‡Œé¢çš„pythonè§£é‡Šå™¨?</a></li><li><a href="#pycharm_35" rel="nofollow">pycharmå¦‚ä½•å®‰è£…æ’ä»¶?</a></li></ul> 
  </li><li><a href="#___46" rel="nofollow">åŸºæœ¬æµç¨‹æ€è·¯: &lt;å¯ä»¥é€šç”¨&gt;</a></li><li><ul><li><ul><li><a href="#__48" rel="nofollow">ä¸€. æ•°æ®æ¥æºåˆ†æ</a></li><li><a href="#__54" rel="nofollow">äºŒ. ä»£ç å®ç°è¿‡ç¨‹:</a></li></ul> 
  </li></ul> 
  </li><li><a href="#_61" rel="nofollow">ä»£ç </a></li><li><ul><li><ul><li><a href="#_62" rel="nofollow">å¯¼å…¥æ¨¡å—</a></li><li><a href="#1__101" rel="nofollow">1. å‘é€è¯·æ±‚,</a></li><li><a href="#2__127" rel="nofollow">2. è·å–æ•°æ®</a></li><li><a href="#3___134" rel="nofollow">3. è§£ææ•°æ®, æå–æˆ‘ä»¬æƒ³è¦æ•°æ®å†…å®¹</a></li></ul> 
   </li><li><a href="#_174" rel="nofollow">è¯¦æƒ…é¡µæ•°æ®</a></li><li><ul><li><a href="#_184" rel="nofollow">å¯¼å…¥æ¨¡å—</a></li></ul> 
   </li><li><a href="#_207" rel="nofollow">å¯è§†åŒ–</a></li><li><ul><li><a href="#_208" rel="nofollow">ä»£ç </a></li><li><a href="#_562" rel="nofollow">éƒ¨åˆ†æ•ˆæœå±•ç¤º</a></li></ul> 
  </li></ul> 
  </li><li><a href="#_571" rel="nofollow">å°¾è¯­</a></li></ul> 
</div> 
<p></p> 
<hr> 
<h4><a id="__3"></a>æœ¬ç¯‡ä»£ç æä¾›è€…: é’ç¯æ•™è‚²-è‡ªæ¸¸è€å¸ˆ</h4> 
<hr> 
<h2><a id="_6"></a>[ç¯å¢ƒä½¿ç”¨]:</h2> 
<ul><li>Python 3.8</li><li>Pycharm</li></ul> 
<hr> 
<h2><a id="_12"></a>[æ¨¡å—ä½¿ç”¨]:</h2> 
<ul><li>requests &gt;&gt;&gt; pip install requests</li><li>re</li><li>json</li><li>csv</li></ul> 
<hr> 
<h3><a id="python_21"></a>å¦‚æœå®‰è£…pythonç¬¬ä¸‰æ–¹æ¨¡å—:</h3> 
<ol><li>win + R è¾“å…¥ cmd ç‚¹å‡»ç¡®å®š, è¾“å…¥å®‰è£…å‘½ä»¤ pip install æ¨¡å—å (pip install requests) å›è½¦</li><li>åœ¨pycharmä¸­ç‚¹å‡»Terminal(ç»ˆç«¯) è¾“å…¥å®‰è£…å‘½ä»¤</li></ol> 
<hr> 
<h3><a id="pycharmpython_27"></a>å¦‚ä½•é…ç½®pycharmé‡Œé¢çš„pythonè§£é‡Šå™¨?</h3> 
<ol><li> <p>é€‰æ‹©file(æ–‡ä»¶) &gt;&gt;&gt; setting(è®¾ç½®) &gt;&gt;&gt; Project(é¡¹ç›®) &gt;&gt;&gt; python interpreter(pythonè§£é‡Šå™¨)</p> </li><li> <p>ç‚¹å‡»é½¿è½®, é€‰æ‹©add</p> </li><li> <p>æ·»åŠ pythonå®‰è£…è·¯å¾„</p> </li></ol> 
<hr> 
<h3><a id="pycharm_35"></a>pycharmå¦‚ä½•å®‰è£…æ’ä»¶?</h3> 
<ol><li> <p>é€‰æ‹©file(æ–‡ä»¶) &gt;&gt;&gt; setting(è®¾ç½®) &gt;&gt;&gt; Plugins(æ’ä»¶)</p> </li><li> <p>ç‚¹å‡» Marketplace è¾“å…¥æƒ³è¦å®‰è£…çš„æ’ä»¶åå­— æ¯”å¦‚:ç¿»è¯‘æ’ä»¶ è¾“å…¥ translation / æ±‰åŒ–æ’ä»¶ è¾“å…¥ Chinese</p> </li><li> <p>é€‰æ‹©ç›¸åº”çš„æ’ä»¶ç‚¹å‡» install(å®‰è£…) å³å¯</p> </li><li> <p>å®‰è£…æˆåŠŸä¹‹å æ˜¯ä¼šå¼¹å‡º é‡å¯pycharmçš„é€‰é¡¹ ç‚¹å‡»ç¡®å®š, é‡å¯å³å¯ç”Ÿæ•ˆ</p> </li></ol> 
<hr> 
<h2><a id="___46"></a>åŸºæœ¬æµç¨‹æ€è·¯: &lt;å¯ä»¥é€šç”¨&gt;</h2> 
<h4><a id="__48"></a>ä¸€. æ•°æ®æ¥æºåˆ†æ</h4> 
<p>ç½‘é¡µå¼€å‘è€…å·¥å…·è¿›è¡ŒæŠ“åŒ…åˆ†æâ€¦</p> 
<ol><li>F12æ‰“å¼€å¼€å‘è€…å·¥å…·, åˆ·æ–°ç½‘é¡µ</li><li>é€šè¿‡å…³é”®å­—è¿›è¡Œæœç´¢, æ‰¾åˆ°ç›¸åº”çš„æ•°æ®, æŸ¥çœ‹responseå“åº”æ•°æ®</li><li>ç¡®å®šæ•°æ®ä¹‹å, æŸ¥çœ‹headersç¡®å®šè¯·æ±‚urlåœ°å€ è¯·æ±‚æ–¹å¼ ä»¥åŠ è¯·æ±‚å‚æ•°</li></ol> 
<h4><a id="__54"></a>äºŒ. ä»£ç å®ç°è¿‡ç¨‹:</h4> 
<ol><li>å‘é€è¯·æ±‚, ç”¨pythonä»£ç æ¨¡æ‹Ÿæµè§ˆå™¨å¯¹äºurlåœ°å€å‘é€è¯·æ±‚</li><li>è·å–æ•°æ®, è·å–æœåŠ¡å™¨è¿”å›responseå“åº”æ•°æ®</li><li>è§£ææ•°æ®, æå–æˆ‘ä»¬æƒ³è¦æ‹›è˜ä¿¡æ¯æ•°æ®</li><li>ä¿å­˜æ•°æ®, ä¿å­˜åˆ°è¡¨æ ¼æ–‡ä»¶é‡Œé¢</li></ol> 
<h2><a id="_61"></a>ä»£ç </h2> 
<h4><a id="_62"></a>å¯¼å…¥æ¨¡å—</h4> 
<pre><code class="prism language-python"><span class="token comment"># å¯¼å…¥æ•°æ®è¯·æ±‚æ¨¡å—</span>
<span class="token keyword">import</span> requests
<span class="token comment"># å¯¼å…¥æ­£åˆ™è¡¨è¾¾å¼æ¨¡å—</span>
<span class="token keyword">import</span> re
<span class="token comment"># å¯¼å…¥jsonæ¨¡å—</span>
<span class="token keyword">import</span> json
<span class="token comment"># å¯¼å…¥æ ¼å¼åŒ–è¾“å‡ºæ¨¡å—</span>
<span class="token keyword">import</span> pprint
<span class="token comment"># å¯¼å…¥csvæ¨¡å—</span>
<span class="token keyword">import</span> csv
<span class="token comment"># å¯¼å…¥æ—¶é—´æ¨¡å—</span>
<span class="token keyword">import</span> time
<span class="token comment"># å¯¼å…¥éšæœºæ¨¡å—</span>
<span class="token keyword">import</span> random
<span class="token comment"># æœ‰æ²¡æœ‰ç”¨utf-8ä¿å­˜è¡¨æ ¼æ•°æ®,ä¹±ç çš„?</span>
æºç ã€è§£ç­”ã€æ•™ç¨‹å¯åŠ Qè£™ï¼š<span class="token number">832157862</span>å…è´¹é¢†å–
</code></pre> 
<pre><code class="prism language-c">f <span class="token operator">=</span> <span class="token function">open</span><span class="token punctuation">(</span><span class="token char">'dataå¤šé¡µ_1.csv'</span><span class="token punctuation">,</span> mode<span class="token operator">=</span><span class="token char">'a'</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token char">'utf-8'</span><span class="token punctuation">,</span> newline<span class="token operator">=</span><span class="token char">''</span><span class="token punctuation">)</span>  # æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ data<span class="token punctuation">.</span>csv
csv_writer <span class="token operator">=</span> csv<span class="token punctuation">.</span><span class="token function">DictWriter</span><span class="token punctuation">(</span>f<span class="token punctuation">,</span> fieldnames<span class="token operator">=</span><span class="token punctuation">[</span>
    <span class="token char">'èŒä½'</span><span class="token punctuation">,</span>
    <span class="token char">'åŸå¸‚'</span><span class="token punctuation">,</span>
    <span class="token char">'ç»éªŒ'</span><span class="token punctuation">,</span>
    <span class="token char">'å­¦å†'</span><span class="token punctuation">,</span>
    <span class="token char">'è–ªèµ„'</span><span class="token punctuation">,</span>
    <span class="token char">'å…¬å¸'</span><span class="token punctuation">,</span>
    <span class="token char">'ç¦åˆ©å¾…é‡'</span><span class="token punctuation">,</span>
    <span class="token char">'å…¬å¸é¢†åŸŸ'</span><span class="token punctuation">,</span>
    <span class="token char">'å…¬å¸è§„æ¨¡'</span><span class="token punctuation">,</span>
    <span class="token char">'å…¬å¸ç±»å‹'</span><span class="token punctuation">,</span>
    <span class="token char">'å‘å¸ƒæ—¥æœŸ'</span><span class="token punctuation">,</span>
    <span class="token char">'èŒä½è¯¦æƒ…é¡µ'</span><span class="token punctuation">,</span>
    <span class="token char">'å…¬å¸è¯¦æƒ…é¡µ'</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>
csv_writer<span class="token punctuation">.</span><span class="token function">writeheader</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<h4><a id="1__101"></a>1. å‘é€è¯·æ±‚,</h4> 
<p>ç”¨pythonä»£ç æ¨¡æ‹Ÿæµè§ˆå™¨å¯¹äºurlåœ°å€å‘é€è¯·æ±‚</p> 
<p>ä¸è¦ä¼å›¾ä¸€èŠ‚è¯¾, æŒæ¡æ‰€æœ‰å†…å®¹, è¦å­¦ä¹ å¬æ‡‚æ€è·¯, æ¯ä¸€æ­¥æˆ‘ä»¬ä¸ºä»€ä¹ˆè¿™ä¹ˆåšâ€¦<br> çŸ¥é“headers 1<br> ä¸çŸ¥é“headers 2</p> 
<p>headers è¯·æ±‚å¤´, ä½œç”¨ä¼ªè£…pythonä»£ç , ä¼ªè£…æˆæµè§ˆå™¨<br> å­—å…¸å½¢å¼, æ„å»ºå®Œæ•´é”®å€¼å¯¹</p> 
<p>å¦‚æœå½“ä½ headersä¼ªè£…ä¸å¤Ÿçš„æ—¶å€™, ä½ å¯èƒ½ä¼šè¢«æœåŠ¡å™¨è¯†åˆ«å‡ºæ¥, ä½ æ˜¯çˆ¬è™«ç¨‹åº, ä»è€Œä¸ç»™ä½ ç›¸åº”çš„æ•°æ®å†…å®¹</p> 
<pre><code class="prism language-c"><span class="token keyword">for</span> page in <span class="token function">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token operator">:</span>
    <span class="token function">print</span><span class="token punctuation">(</span>f<span class="token char">'æ­£åœ¨é‡‡é›†ç¬¬{page}é¡µçš„æ•°æ®å†…å®¹'</span><span class="token punctuation">)</span>
    time<span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span>random<span class="token punctuation">.</span><span class="token function">randint</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    url <span class="token operator">=</span> f'https<span class="token operator">:</span><span class="token comment">//search.51job.com/list/010000%252C020000%252C030200%252C040000%252C090200,000000,0000,00,9,99,python,2,{page}.html'</span>
    headers <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
        <span class="token char">'User-Agent'</span><span class="token operator">:</span> 'Mozilla<span class="token operator">/</span><span class="token number">5.0</span> <span class="token punctuation">(</span>Windows NT <span class="token number">10.0</span><span class="token punctuation">;</span> WOW64<span class="token punctuation">)</span> AppleWebKit<span class="token operator">/</span><span class="token number">537.36</span> <span class="token punctuation">(</span>KHTML<span class="token punctuation">,</span> like Gecko<span class="token punctuation">)</span> Chrome<span class="token operator">/</span><span class="token number">101.0</span><span class="token number">.0</span><span class="token number">.0</span> Safari<span class="token operator">/</span><span class="token number">537.36</span>'
    <span class="token punctuation">}</span>
    response <span class="token operator">=</span> requests<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>url<span class="token operator">=</span>url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
    <span class="token function">print</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span>  # <span class="token operator">&lt;</span>Response <span class="token punctuation">[</span><span class="token number">200</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> å“åº”å¯¹è±¡
    æºç ã€è§£ç­”ã€æ•™ç¨‹å¯åŠ Qè£™ï¼š<span class="token number">832157862</span>å…è´¹é¢†å–
</code></pre> 
<h4><a id="2__127"></a>2. è·å–æ•°æ®</h4> 
<p>å¾—åˆ°æ•°æ®, ä¸æ˜¯ä½ æƒ³è¦æ•°æ®å†…å®¹, ä½ å¯èƒ½æ˜¯è¢«åçˆ¬äº†, è¦å¤šåŠ ä¸€äº›ä¼ªè£… &lt;å°ä¼ç¬”&gt;</p> 
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span> <span class="token directive keyword">print</span><span class="token expression"><span class="token punctuation">(</span>response<span class="token punctuation">.</span>text<span class="token punctuation">)</span>  å­—ç¬¦ä¸²æ•°æ®ç±»å‹</span></span>
</code></pre> 
<h4><a id="3___134"></a>3. è§£ææ•°æ®, æå–æˆ‘ä»¬æƒ³è¦æ•°æ®å†…å®¹</h4> 
<p>re.findall() å°±æ˜¯ä»ä»€ä¹ˆåœ°æ–¹å»æ‰¾ä»€ä¹ˆæ ·æ•°æ®å†…å®¹</p> 
<p>[0] è¡¨ç¤ºæå–åˆ—è¡¨é‡Œé¢ç¬¬ä¸€ä¸ªå…ƒç´  â€”&gt; list index out of range æ‰€ä»¥ä½ çš„åˆ—è¡¨æ˜¯ç©ºåˆ—è¡¨</p> 
<p>ç”¨æ­£åˆ™è¡¨è¾¾å¼/css/xpathæå–æ•°æ®è¿”å›æ˜¯ç©ºåˆ—è¡¨ â€”&gt; 1. ä½ è¯­æ³•å†™é”™ 2. response.text æ²¡æœ‰ä½ æƒ³è¦æ•°æ®</p> 
<p>â€”&gt; æ˜¯ä¸æ˜¯è¢«åçˆ¬(éªŒè¯ç  éœ€è¦ç™»é™†) æ˜¯ä¸æ˜¯headerså‚æ•°ç»™å°‘äº† æ˜¯ä¸æ˜¯è¢«å°IP</p> 
<pre><code class="prism language-c">    html_data <span class="token operator">=</span> re<span class="token punctuation">.</span><span class="token function">findall</span><span class="token punctuation">(</span>'window<span class="token punctuation">.</span>__SEARCH_RESULT__ <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token operator">*</span><span class="token operator">?</span><span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>'<span class="token punctuation">,</span> response<span class="token punctuation">.</span>text<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
    <span class="token macro property"><span class="token directive-hash">#</span> <span class="token directive keyword">print</span><span class="token expression"><span class="token punctuation">(</span>html_data<span class="token punctuation">)</span></span></span>
    json_data <span class="token operator">=</span> json<span class="token punctuation">.</span><span class="token function">loads</span><span class="token punctuation">(</span>html_data<span class="token punctuation">)</span>
    <span class="token macro property"><span class="token directive-hash">#</span> <span class="token directive keyword">pprint</span><span class="token expression"><span class="token punctuation">.</span><span class="token function">pprint</span><span class="token punctuation">(</span>json_data<span class="token punctuation">)</span></span></span>
    # é€šè¿‡å­—å…¸å–å€¼æ–¹æ³• æŠŠèŒä½ä¿¡æ¯åˆ—è¡¨æå–å‡ºæ¥<span class="token punctuation">,</span> é€šè¿‡<span class="token keyword">for</span>å¾ªç¯éå†ä¸€ä¸ªä¸€ä¸ªæå–èŒä½ä¿¡æ¯
    <span class="token keyword">for</span> index in json_data<span class="token punctuation">[</span><span class="token char">'engine_jds'</span><span class="token punctuation">]</span><span class="token operator">:</span>
        # æ ¹æ®å†’å·å·¦è¾¹çš„å†…å®¹<span class="token punctuation">,</span> æå–å†’å·å³è¾¹çš„å†…å®¹
        <span class="token macro property"><span class="token directive-hash">#</span> <span class="token directive keyword">pprint</span><span class="token expression"><span class="token punctuation">.</span><span class="token function">pprint</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span></span></span>
        try<span class="token operator">:</span>
            dit <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
                <span class="token char">'èŒä½'</span><span class="token operator">:</span> index<span class="token punctuation">[</span><span class="token char">'job_title'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token char">'åŸå¸‚'</span><span class="token operator">:</span> index<span class="token punctuation">[</span><span class="token char">'attribute_text'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token char">'ç»éªŒ'</span><span class="token operator">:</span> index<span class="token punctuation">[</span><span class="token char">'attribute_text'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token char">'å­¦å†'</span><span class="token operator">:</span> index<span class="token punctuation">[</span><span class="token char">'attribute_text'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token char">'è–ªèµ„'</span><span class="token operator">:</span> index<span class="token punctuation">[</span><span class="token char">'providesalary_text'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token char">'å…¬å¸'</span><span class="token operator">:</span> index<span class="token punctuation">[</span><span class="token char">'company_name'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token char">'ç¦åˆ©å¾…é‡'</span><span class="token operator">:</span> index<span class="token punctuation">[</span><span class="token char">'jobwelf'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token char">'å…¬å¸é¢†åŸŸ'</span><span class="token operator">:</span> index<span class="token punctuation">[</span><span class="token char">'companyind_text'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token char">'å…¬å¸è§„æ¨¡'</span><span class="token operator">:</span> index<span class="token punctuation">[</span><span class="token char">'companysize_text'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token char">'å…¬å¸ç±»å‹'</span><span class="token operator">:</span> index<span class="token punctuation">[</span><span class="token char">'companytype_text'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token char">'å‘å¸ƒæ—¥æœŸ'</span><span class="token operator">:</span> index<span class="token punctuation">[</span><span class="token char">'issuedate'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token char">'èŒä½è¯¦æƒ…é¡µ'</span><span class="token operator">:</span> index<span class="token punctuation">[</span><span class="token char">'job_href'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token char">'å…¬å¸è¯¦æƒ…é¡µ'</span><span class="token operator">:</span> index<span class="token punctuation">[</span><span class="token char">'company_href'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                æºç ã€è§£ç­”ã€æ•™ç¨‹å¯åŠ Qè£™ï¼š<span class="token number">832157862</span>å…è´¹é¢†å–
            <span class="token punctuation">}</span>
            csv_writer<span class="token punctuation">.</span><span class="token function">writerow</span><span class="token punctuation">(</span>dit<span class="token punctuation">)</span>
            <span class="token function">print</span><span class="token punctuation">(</span>dit<span class="token punctuation">)</span>
        except<span class="token operator">:</span>
            pass
</code></pre> 
<h3><a id="_174"></a>è¯¦æƒ…é¡µæ•°æ®</h3> 
<p>----&gt; çˆ¬è™«åŸºæœ¬æ€è·¯æ˜¯ä»€ä¹ˆ?</p> 
<p>æ•°æ®æ¥æºåˆ†æ</p> 
<p>è¯·æ±‚å“åº” è¯·æ±‚é‚£ä¸ªç½‘ç«™å‘¢? ç½‘å€æ˜¯ä»€ä¹ˆ è¯·æ±‚æ–¹å¼æ˜¯ä»€ä¹ˆ è¯·æ±‚å‚æ•°è¦ä»€ä¹ˆ?</p> 
<p>å‘é€è¯·æ±‚ â€”&gt; è·å–æ•°æ® â€”&gt; è§£ææ•°æ® â€”&gt; ä¿å­˜æ•°æ®</p> 
<h4><a id="_184"></a>å¯¼å…¥æ¨¡å—</h4> 
<pre><code class="prism language-python"><span class="token keyword">import</span> requests
<span class="token keyword">import</span> parsel
</code></pre> 
<pre><code class="prism language-python">url <span class="token operator">=</span> <span class="token string">'https://jobs.51job.com/shanghai-jdq/137393082.html?s=sou_sou_soulb&amp;t=0_0'</span>
headers <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    <span class="token string">'User-Agent'</span><span class="token punctuation">:</span> <span class="token string">'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/101.0.0.0 Safari/537.36'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
response <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token operator">=</span>url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
response<span class="token punctuation">.</span>encoding <span class="token operator">=</span> response<span class="token punctuation">.</span>apparent_encoding  <span class="token comment"># è‡ªåŠ¨è¯†åˆ«ç¼–ç </span>
<span class="token keyword">print</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>text<span class="token punctuation">)</span>
selector <span class="token operator">=</span> parsel<span class="token punctuation">.</span>Selector<span class="token punctuation">(</span>response<span class="token punctuation">.</span>text<span class="token punctuation">)</span>
content_1 <span class="token operator">=</span> selector<span class="token punctuation">.</span>css<span class="token punctuation">(</span><span class="token string">'.cn'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span>
content_2 <span class="token operator">=</span> selector<span class="token punctuation">.</span>css<span class="token punctuation">(</span><span class="token string">'.tCompany_main'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span>
content <span class="token operator">=</span> content_1 <span class="token operator">+</span> content_2
<span class="token comment"># æ–‡ä»¶å å…¬å¸åå­— + èŒä½åå­—</span>
<span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'python.html'</span><span class="token punctuation">,</span> mode<span class="token operator">=</span><span class="token string">'w'</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
    f<span class="token punctuation">.</span>write<span class="token punctuation">(</span>content<span class="token punctuation">)</span>
</code></pre> 
<h3><a id="_207"></a>å¯è§†åŒ–</h3> 
<h4><a id="_208"></a>ä»£ç </h4> 
<pre><code class="prism language-c">import pandas as pd
from pyecharts<span class="token punctuation">.</span>charts import <span class="token operator">*</span>
from pyecharts import options as opts
import re
from pyecharts<span class="token punctuation">.</span>globals import ThemeType
from pyecharts<span class="token punctuation">.</span>commons<span class="token punctuation">.</span>utils import JsCode
</code></pre> 
<pre><code class="prism language-c">df <span class="token operator">=</span> pd<span class="token punctuation">.</span><span class="token function">read_csv</span><span class="token punctuation">(</span><span class="token string">"æ‹›è˜æ•°æ®.csv"</span><span class="token punctuation">)</span>
df<span class="token punctuation">.</span><span class="token function">head</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code class="prism language-c">df<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code class="prism language-c">df<span class="token punctuation">[</span><span class="token char">'è–ªèµ„'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">unique</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
df<span class="token punctuation">[</span><span class="token char">'bottom'</span><span class="token punctuation">]</span><span class="token operator">=</span>df<span class="token punctuation">[</span><span class="token char">'è–ªèµ„'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>str<span class="token punctuation">.</span><span class="token function">extract</span><span class="token punctuation">(</span><span class="token char">'^(\d+).*'</span><span class="token punctuation">)</span>
df<span class="token punctuation">[</span><span class="token char">'top'</span><span class="token punctuation">]</span><span class="token operator">=</span>df<span class="token punctuation">[</span><span class="token char">'è–ªèµ„'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>str<span class="token punctuation">.</span><span class="token function">extract</span><span class="token punctuation">(</span><span class="token char">'^.*?-(\d+).*'</span><span class="token punctuation">)</span>
df<span class="token punctuation">[</span><span class="token char">'top'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">fillna</span><span class="token punctuation">(</span>df<span class="token punctuation">[</span><span class="token char">'bottom'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>inplace<span class="token operator">=</span>True<span class="token punctuation">)</span>

df<span class="token punctuation">[</span><span class="token char">'commision_pct'</span><span class="token punctuation">]</span><span class="token operator">=</span>df<span class="token punctuation">[</span><span class="token char">'è–ªèµ„'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>str<span class="token punctuation">.</span><span class="token function">extract</span><span class="token punctuation">(</span><span class="token char">'^.*?Â·(\d{2})è–ª'</span><span class="token punctuation">)</span>
df<span class="token punctuation">[</span><span class="token char">'commision_pct'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">fillna</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span>inplace<span class="token operator">=</span>True<span class="token punctuation">)</span>
df<span class="token punctuation">[</span><span class="token char">'commision_pct'</span><span class="token punctuation">]</span><span class="token operator">=</span>df<span class="token punctuation">[</span><span class="token char">'commision_pct'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">astype</span><span class="token punctuation">(</span><span class="token char">'float64'</span><span class="token punctuation">)</span>
df<span class="token punctuation">[</span><span class="token char">'commision_pct'</span><span class="token punctuation">]</span><span class="token operator">=</span>df<span class="token punctuation">[</span><span class="token char">'commision_pct'</span><span class="token punctuation">]</span><span class="token operator">/</span><span class="token number">12</span>

df<span class="token punctuation">.</span><span class="token function">dropna</span><span class="token punctuation">(</span>inplace<span class="token operator">=</span>True<span class="token punctuation">)</span>
æºç ã€è§£ç­”ã€æ•™ç¨‹å¯åŠ Qè£™ï¼š<span class="token number">832157862</span>å…è´¹é¢†å–
df<span class="token punctuation">[</span><span class="token char">'bottom'</span><span class="token punctuation">]</span> <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token char">'bottom'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">astype</span><span class="token punctuation">(</span><span class="token char">'int64'</span><span class="token punctuation">)</span>
df<span class="token punctuation">[</span><span class="token char">'top'</span><span class="token punctuation">]</span> <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token char">'top'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">astype</span><span class="token punctuation">(</span><span class="token char">'int64'</span><span class="token punctuation">)</span>
df<span class="token punctuation">[</span><span class="token char">'å¹³å‡è–ªèµ„'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span>df<span class="token punctuation">[</span><span class="token char">'bottom'</span><span class="token punctuation">]</span><span class="token operator">+</span>df<span class="token punctuation">[</span><span class="token char">'top'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span><span class="token operator">*</span>df<span class="token punctuation">[</span><span class="token char">'commision_pct'</span><span class="token punctuation">]</span>
df<span class="token punctuation">[</span><span class="token char">'å¹³å‡è–ªèµ„'</span><span class="token punctuation">]</span> <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token char">'å¹³å‡è–ªèµ„'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">astype</span><span class="token punctuation">(</span><span class="token char">'int64'</span><span class="token punctuation">)</span>

df<span class="token punctuation">.</span><span class="token function">head</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code class="prism language-c">df<span class="token punctuation">[</span><span class="token char">'è–ªèµ„'</span><span class="token punctuation">]</span> <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token char">'è–ªèµ„'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>lambda x<span class="token operator">:</span>re<span class="token punctuation">.</span><span class="token function">sub</span><span class="token punctuation">(</span><span class="token char">'.*åƒ/æœˆ'</span><span class="token punctuation">,</span> <span class="token char">'0.3-0.7ä¸‡/æœˆ'</span><span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">)</span>
df<span class="token punctuation">[</span><span class="token string">"è–ªèµ„"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">unique</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code class="prism language-c">df<span class="token punctuation">[</span><span class="token char">'bottom'</span><span class="token punctuation">]</span> <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token char">'è–ªèµ„'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>str<span class="token punctuation">.</span><span class="token function">extract</span><span class="token punctuation">(</span><span class="token char">'^(.*?)-.*?'</span><span class="token punctuation">)</span>
df<span class="token punctuation">[</span><span class="token char">'top'</span><span class="token punctuation">]</span> <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token char">'è–ªèµ„'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>str<span class="token punctuation">.</span><span class="token function">extract</span><span class="token punctuation">(</span><span class="token char">'^.*?-(\d\.\d|\d)'</span><span class="token punctuation">)</span>
df<span class="token punctuation">.</span><span class="token function">dropna</span><span class="token punctuation">(</span>inplace<span class="token operator">=</span>True<span class="token punctuation">)</span>
df<span class="token punctuation">[</span><span class="token char">'bottom'</span><span class="token punctuation">]</span> <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token char">'bottom'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">astype</span><span class="token punctuation">(</span><span class="token char">'float64'</span><span class="token punctuation">)</span>
df<span class="token punctuation">[</span><span class="token char">'top'</span><span class="token punctuation">]</span> <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token char">'top'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">astype</span><span class="token punctuation">(</span><span class="token char">'float64'</span><span class="token punctuation">)</span>
df<span class="token punctuation">[</span><span class="token char">'å¹³å‡è–ªèµ„'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span>df<span class="token punctuation">[</span><span class="token char">'bottom'</span><span class="token punctuation">]</span><span class="token operator">+</span>df<span class="token punctuation">[</span><span class="token char">'top'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span> <span class="token operator">*</span> <span class="token number">10</span>
df<span class="token punctuation">.</span><span class="token function">head</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code class="prism language-c">mean <span class="token operator">=</span> df<span class="token punctuation">.</span><span class="token function">groupby</span><span class="token punctuation">(</span><span class="token char">'å­¦å†'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token char">'å¹³å‡è–ªèµ„'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">mean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sort_values</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
x <span class="token operator">=</span> mean<span class="token punctuation">.</span>index<span class="token punctuation">.</span><span class="token function">tolist</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
y <span class="token operator">=</span> mean<span class="token punctuation">.</span>values<span class="token punctuation">.</span><span class="token function">tolist</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
c <span class="token operator">=</span> <span class="token punctuation">(</span>
    <span class="token function">Bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">add_xaxis</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">add_yaxis</span><span class="token punctuation">(</span>
        <span class="token string">"å­¦å†"</span><span class="token punctuation">,</span>
        y
    <span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">set_global_opts</span><span class="token punctuation">(</span>title_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span><span class="token function">TitleOpts</span><span class="token punctuation">(</span>title<span class="token operator">=</span><span class="token string">"ä¸åŒå­¦å†çš„å¹³å‡è–ªèµ„"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>datazoom_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span><span class="token function">DataZoomOpts</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">set_series_opts</span><span class="token punctuation">(</span>label_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span><span class="token function">LabelOpts</span><span class="token punctuation">(</span>is_show<span class="token operator">=</span>False<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>
c<span class="token punctuation">.</span><span class="token function">render_notebook</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code class="prism language-c">color_js <span class="token operator">=</span> <span class="token string">""</span>"new echarts<span class="token punctuation">.</span>graphic<span class="token punctuation">.</span><span class="token function">LinearGradient</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token punctuation">{<!-- --></span>offset<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> color<span class="token operator">:</span> <span class="token char">'#63e6be'</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>offset<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> color<span class="token operator">:</span> <span class="token char">'#0b7285'</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> false<span class="token punctuation">)</span><span class="token string">""</span>"

color_js1 <span class="token operator">=</span> <span class="token string">""</span>"new echarts<span class="token punctuation">.</span>graphic<span class="token punctuation">.</span><span class="token function">LinearGradient</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">{<!-- --></span>
                            offset<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                            color<span class="token operator">:</span> <span class="token char">'#ed1941'</span>
                        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
                            offset<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                            color<span class="token operator">:</span> <span class="token char">'#009ad6'</span>
                        <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> false<span class="token punctuation">)</span><span class="token string">""</span>"

dq <span class="token operator">=</span> df<span class="token punctuation">.</span><span class="token function">groupby</span><span class="token punctuation">(</span><span class="token char">'åŸå¸‚'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token char">'èŒä½'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">to_frame</span><span class="token punctuation">(</span><span class="token char">'æ•°é‡'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sort_values</span><span class="token punctuation">(</span>by<span class="token operator">=</span><span class="token char">'æ•°é‡'</span><span class="token punctuation">,</span>ascending<span class="token operator">=</span>False<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reset_index</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
x_data <span class="token operator">=</span> dq<span class="token punctuation">[</span><span class="token char">'åŸå¸‚'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>values<span class="token punctuation">.</span><span class="token function">tolist</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token operator">:</span><span class="token number">20</span><span class="token punctuation">]</span>
y_data <span class="token operator">=</span> dq<span class="token punctuation">[</span><span class="token char">'æ•°é‡'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>values<span class="token punctuation">.</span><span class="token function">tolist</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token operator">:</span><span class="token number">20</span><span class="token punctuation">]</span>
b1 <span class="token operator">=</span> <span class="token punctuation">(</span>
        <span class="token function">Bar</span><span class="token punctuation">(</span>init_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span><span class="token function">InitOpts</span><span class="token punctuation">(</span>theme<span class="token operator">=</span>ThemeType<span class="token punctuation">.</span>DARK<span class="token punctuation">,</span>bg_color<span class="token operator">=</span><span class="token function">JsCode</span><span class="token punctuation">(</span>color_js1<span class="token punctuation">)</span><span class="token punctuation">,</span>width<span class="token operator">=</span><span class="token char">'1000px'</span><span class="token punctuation">,</span>height<span class="token operator">=</span><span class="token char">'600px'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">add_xaxis</span><span class="token punctuation">(</span>x_data<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">add_yaxis</span><span class="token punctuation">(</span><span class="token char">''</span><span class="token punctuation">,</span>
                   y_data <span class="token punctuation">,</span>
                   category_gap<span class="token operator">=</span><span class="token string">"50%"</span><span class="token punctuation">,</span>
                   label_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span><span class="token function">LabelOpts</span><span class="token punctuation">(</span>
                        font_size<span class="token operator">=</span><span class="token number">12</span><span class="token punctuation">,</span>
                        color<span class="token operator">=</span><span class="token char">'yellow'</span><span class="token punctuation">,</span>
                        font_weight<span class="token operator">=</span><span class="token char">'bold'</span><span class="token punctuation">,</span> 
                        font_family<span class="token operator">=</span><span class="token char">'monospace'</span><span class="token punctuation">,</span>
                        position<span class="token operator">=</span><span class="token char">'insideTop'</span><span class="token punctuation">,</span>  
                        formatter <span class="token operator">=</span> <span class="token char">'{b}\n{c}'</span>  
                    <span class="token punctuation">)</span><span class="token punctuation">,</span>
                  <span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">set_series_opts</span><span class="token punctuation">(</span>
        æºç ã€è§£ç­”ã€æ•™ç¨‹å¯åŠ Qè£™ï¼š<span class="token number">832157862</span>å…è´¹é¢†å–
            itemstyle_opts<span class="token operator">=</span><span class="token punctuation">{<!-- --></span>
                <span class="token string">"normal"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token string">"color"</span><span class="token operator">:</span> <span class="token function">JsCode</span><span class="token punctuation">(</span>color_js<span class="token punctuation">)</span><span class="token punctuation">,</span>
                    <span class="token string">"barBorderRadius"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                    <span class="token string">"shadowColor"</span><span class="token operator">:</span> <span class="token string">"rgb(0, 160, 221)"</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">set_global_opts</span><span class="token punctuation">(</span>
            title_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span><span class="token function">TitleOpts</span><span class="token punctuation">(</span>title<span class="token operator">=</span><span class="token char">'æ‹› è˜ æ•° é‡ å‰ 20 çš„ åŸ å¸‚ åŒº åŸŸ'</span><span class="token punctuation">,</span>
                                       title_textstyle_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span><span class="token function">TextStyleOpts</span><span class="token punctuation">(</span>color<span class="token operator">=</span><span class="token string">"yellow"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                                       pos_top<span class="token operator">=</span><span class="token char">'7%'</span><span class="token punctuation">,</span>pos_left <span class="token operator">=</span> <span class="token char">'center'</span>
                                     <span class="token punctuation">)</span><span class="token punctuation">,</span>
            legend_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span><span class="token function">LegendOpts</span><span class="token punctuation">(</span>is_show<span class="token operator">=</span>False<span class="token punctuation">)</span><span class="token punctuation">,</span>
            xaxis_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span><span class="token function">AxisOpts</span><span class="token punctuation">(</span>axislabel_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span><span class="token function">LabelOpts</span><span class="token punctuation">(</span>rotate<span class="token operator">=</span><span class="token operator">-</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            yaxis_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span><span class="token function">AxisOpts</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">""</span><span class="token punctuation">,</span>
                                     name_location<span class="token operator">=</span><span class="token char">'middle'</span><span class="token punctuation">,</span>
                                     name_gap<span class="token operator">=</span><span class="token number">40</span><span class="token punctuation">,</span>
                                     name_textstyle_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span><span class="token function">TextStyleOpts</span><span class="token punctuation">(</span>font_size<span class="token operator">=</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                         datazoom_opts<span class="token operator">=</span><span class="token punctuation">[</span>opts<span class="token punctuation">.</span><span class="token function">DataZoomOpts</span><span class="token punctuation">(</span>range_start<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span>range_end<span class="token operator">=</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
                        <span class="token punctuation">)</span>

    <span class="token punctuation">)</span>
b1<span class="token punctuation">.</span><span class="token function">render_notebook</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code class="prism language-c">boss <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token char">'å­¦å†'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">value_counts</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
x <span class="token operator">=</span> boss<span class="token punctuation">.</span>index<span class="token punctuation">.</span><span class="token function">tolist</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
y <span class="token operator">=</span> boss<span class="token punctuation">.</span>values<span class="token punctuation">.</span><span class="token function">tolist</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
data_pair <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token function">list</span><span class="token punctuation">(</span>z<span class="token punctuation">)</span> <span class="token keyword">for</span> z in <span class="token function">zip</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">]</span>
c <span class="token operator">=</span> <span class="token punctuation">(</span>
    <span class="token function">Pie</span><span class="token punctuation">(</span>init_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span><span class="token function">InitOpts</span><span class="token punctuation">(</span>width<span class="token operator">=</span><span class="token string">"1000px"</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token string">"600px"</span><span class="token punctuation">,</span> bg_color<span class="token operator">=</span><span class="token string">"#2c343c"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
        series_name<span class="token operator">=</span><span class="token string">"å­¦å†éœ€æ±‚å æ¯”"</span><span class="token punctuation">,</span>
        data_pair<span class="token operator">=</span>data_pair<span class="token punctuation">,</span>
        label_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span><span class="token function">LabelOpts</span><span class="token punctuation">(</span>is_show<span class="token operator">=</span>False<span class="token punctuation">,</span> position<span class="token operator">=</span><span class="token string">"center"</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">"rgba(255, 255, 255, 0.3)"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">set_series_opts</span><span class="token punctuation">(</span>
        tooltip_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span><span class="token function">TooltipOpts</span><span class="token punctuation">(</span>
            trigger<span class="token operator">=</span><span class="token string">"item"</span><span class="token punctuation">,</span> formatter<span class="token operator">=</span><span class="token string">"{a} &lt;br/&gt;{b}: {c} ({d}%)"</span>
        <span class="token punctuation">)</span><span class="token punctuation">,</span>
        label_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span><span class="token function">LabelOpts</span><span class="token punctuation">(</span>color<span class="token operator">=</span><span class="token string">"rgba(255, 255, 255, 0.3)"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">set_global_opts</span><span class="token punctuation">(</span>
        title_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span><span class="token function">TitleOpts</span><span class="token punctuation">(</span>
            title<span class="token operator">=</span><span class="token string">"å­¦å†éœ€æ±‚å æ¯”"</span><span class="token punctuation">,</span>
            pos_left<span class="token operator">=</span><span class="token string">"center"</span><span class="token punctuation">,</span>
            pos_top<span class="token operator">=</span><span class="token string">"20"</span><span class="token punctuation">,</span>
            title_textstyle_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span><span class="token function">TextStyleOpts</span><span class="token punctuation">(</span>color<span class="token operator">=</span><span class="token string">"#fff"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span><span class="token punctuation">,</span>
        legend_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span><span class="token function">LegendOpts</span><span class="token punctuation">(</span>is_show<span class="token operator">=</span>False<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">set_colors</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"#D53A35"</span><span class="token punctuation">,</span> <span class="token string">"#334B5C"</span><span class="token punctuation">,</span> <span class="token string">"#61A0A8"</span><span class="token punctuation">,</span> <span class="token string">"#D48265"</span><span class="token punctuation">,</span> <span class="token string">"#749F83"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>
c<span class="token punctuation">.</span><span class="token function">render_notebook</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code class="prism language-c">boss <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token char">'ç»éªŒ'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">value_counts</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
x <span class="token operator">=</span> boss<span class="token punctuation">.</span>index<span class="token punctuation">.</span><span class="token function">tolist</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
y <span class="token operator">=</span> boss<span class="token punctuation">.</span>values<span class="token punctuation">.</span><span class="token function">tolist</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
data_pair <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token function">list</span><span class="token punctuation">(</span>z<span class="token punctuation">)</span> <span class="token keyword">for</span> z in <span class="token function">zip</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">]</span>
c <span class="token operator">=</span> <span class="token punctuation">(</span>
    <span class="token function">Pie</span><span class="token punctuation">(</span>init_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span><span class="token function">InitOpts</span><span class="token punctuation">(</span>width<span class="token operator">=</span><span class="token string">"1000px"</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token string">"600px"</span><span class="token punctuation">,</span> bg_color<span class="token operator">=</span><span class="token string">"#2c343c"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
        series_name<span class="token operator">=</span><span class="token string">"ç»éªŒéœ€æ±‚å æ¯”"</span><span class="token punctuation">,</span>
        data_pair<span class="token operator">=</span>data_pair<span class="token punctuation">,</span>
        label_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span><span class="token function">LabelOpts</span><span class="token punctuation">(</span>is_show<span class="token operator">=</span>False<span class="token punctuation">,</span> position<span class="token operator">=</span><span class="token string">"center"</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">"rgba(255, 255, 255, 0.3)"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">set_series_opts</span><span class="token punctuation">(</span>
        tooltip_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span><span class="token function">TooltipOpts</span><span class="token punctuation">(</span>
            trigger<span class="token operator">=</span><span class="token string">"item"</span><span class="token punctuation">,</span> formatter<span class="token operator">=</span><span class="token string">"{a} &lt;br/&gt;{b}: {c} ({d}%)"</span>
        <span class="token punctuation">)</span><span class="token punctuation">,</span>
        label_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span><span class="token function">LabelOpts</span><span class="token punctuation">(</span>color<span class="token operator">=</span><span class="token string">"rgba(255, 255, 255, 0.3)"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">set_global_opts</span><span class="token punctuation">(</span>
        title_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span><span class="token function">TitleOpts</span><span class="token punctuation">(</span>
            title<span class="token operator">=</span><span class="token string">"ç»éªŒéœ€æ±‚å æ¯”"</span><span class="token punctuation">,</span>
            pos_left<span class="token operator">=</span><span class="token string">"center"</span><span class="token punctuation">,</span>
            pos_top<span class="token operator">=</span><span class="token string">"20"</span><span class="token punctuation">,</span>
            title_textstyle_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span><span class="token function">TextStyleOpts</span><span class="token punctuation">(</span>color<span class="token operator">=</span><span class="token string">"#fff"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span><span class="token punctuation">,</span>
        legend_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span><span class="token function">LegendOpts</span><span class="token punctuation">(</span>is_show<span class="token operator">=</span>False<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">set_colors</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"#D53A35"</span><span class="token punctuation">,</span> <span class="token string">"#334B5C"</span><span class="token punctuation">,</span> <span class="token string">"#61A0A8"</span><span class="token punctuation">,</span> <span class="token string">"#D48265"</span><span class="token punctuation">,</span> <span class="token string">"#749F83"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>
c<span class="token punctuation">.</span><span class="token function">render_notebook</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code class="prism language-c">boss <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token char">'å…¬å¸é¢†åŸŸ'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">value_counts</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
x <span class="token operator">=</span> boss<span class="token punctuation">.</span>index<span class="token punctuation">.</span><span class="token function">tolist</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
y <span class="token operator">=</span> boss<span class="token punctuation">.</span>values<span class="token punctuation">.</span><span class="token function">tolist</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
data_pair <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token function">list</span><span class="token punctuation">(</span>z<span class="token punctuation">)</span> <span class="token keyword">for</span> z in <span class="token function">zip</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">]</span>
c <span class="token operator">=</span> <span class="token punctuation">(</span>
    <span class="token function">Pie</span><span class="token punctuation">(</span>init_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span><span class="token function">InitOpts</span><span class="token punctuation">(</span>width<span class="token operator">=</span><span class="token string">"1000px"</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token string">"600px"</span><span class="token punctuation">,</span> bg_color<span class="token operator">=</span><span class="token string">"#2c343c"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
        series_name<span class="token operator">=</span><span class="token string">"å…¬å¸é¢†åŸŸå æ¯”"</span><span class="token punctuation">,</span>
        data_pair<span class="token operator">=</span>data_pair<span class="token punctuation">,</span>
        label_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span><span class="token function">LabelOpts</span><span class="token punctuation">(</span>is_show<span class="token operator">=</span>False<span class="token punctuation">,</span> position<span class="token operator">=</span><span class="token string">"center"</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">"rgba(255, 255, 255, 0.3)"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">set_series_opts</span><span class="token punctuation">(</span>
        tooltip_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span><span class="token function">TooltipOpts</span><span class="token punctuation">(</span>
            trigger<span class="token operator">=</span><span class="token string">"item"</span><span class="token punctuation">,</span> formatter<span class="token operator">=</span><span class="token string">"{a} &lt;br/&gt;{b}: {c} ({d}%)"</span>
        <span class="token punctuation">)</span><span class="token punctuation">,</span>
        label_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span><span class="token function">LabelOpts</span><span class="token punctuation">(</span>color<span class="token operator">=</span><span class="token string">"rgba(255, 255, 255, 0.3)"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">set_global_opts</span><span class="token punctuation">(</span>
        title_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span><span class="token function">TitleOpts</span><span class="token punctuation">(</span>
            title<span class="token operator">=</span><span class="token string">"å…¬å¸é¢†åŸŸå æ¯”"</span><span class="token punctuation">,</span>
            pos_left<span class="token operator">=</span><span class="token string">"center"</span><span class="token punctuation">,</span>
            pos_top<span class="token operator">=</span><span class="token string">"20"</span><span class="token punctuation">,</span>
            title_textstyle_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span><span class="token function">TextStyleOpts</span><span class="token punctuation">(</span>color<span class="token operator">=</span><span class="token string">"#fff"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span><span class="token punctuation">,</span>
        legend_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span><span class="token function">LegendOpts</span><span class="token punctuation">(</span>is_show<span class="token operator">=</span>False<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">set_colors</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"#D53A35"</span><span class="token punctuation">,</span> <span class="token string">"#334B5C"</span><span class="token punctuation">,</span> <span class="token string">"#61A0A8"</span><span class="token punctuation">,</span> <span class="token string">"#D48265"</span><span class="token punctuation">,</span> <span class="token string">"#749F83"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>
c<span class="token punctuation">.</span><span class="token function">render_notebook</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code class="prism language-c">from pyecharts import options as opts
from pyecharts<span class="token punctuation">.</span>charts import Pie
from pyecharts<span class="token punctuation">.</span>faker import Faker
boss <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token char">'ç»éªŒ'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">value_counts</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
x <span class="token operator">=</span> boss<span class="token punctuation">.</span>index<span class="token punctuation">.</span><span class="token function">tolist</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
y <span class="token operator">=</span> boss<span class="token punctuation">.</span>values<span class="token punctuation">.</span><span class="token function">tolist</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
data_pair <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token function">list</span><span class="token punctuation">(</span>z<span class="token punctuation">)</span> <span class="token keyword">for</span> z in <span class="token function">zip</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">]</span>
æºç ã€è§£ç­”ã€æ•™ç¨‹å¯åŠ Qè£™ï¼š<span class="token number">832157862</span>å…è´¹é¢†å–
c <span class="token operator">=</span> <span class="token punctuation">(</span>
    <span class="token function">Pie</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">,</span> data_pair<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">set_colors</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"blue"</span><span class="token punctuation">,</span> <span class="token string">"green"</span><span class="token punctuation">,</span> <span class="token string">"yellow"</span><span class="token punctuation">,</span> <span class="token string">"red"</span><span class="token punctuation">,</span> <span class="token string">"pink"</span><span class="token punctuation">,</span> <span class="token string">"orange"</span><span class="token punctuation">,</span> <span class="token string">"purple"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">set_global_opts</span><span class="token punctuation">(</span>title_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span><span class="token function">TitleOpts</span><span class="token punctuation">(</span>title<span class="token operator">=</span><span class="token string">"ç»éªŒè¦æ±‚å æ¯”"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">set_series_opts</span><span class="token punctuation">(</span>label_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span><span class="token function">LabelOpts</span><span class="token punctuation">(</span>formatter<span class="token operator">=</span><span class="token string">"{b}: {c}"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>
c<span class="token punctuation">.</span><span class="token function">render_notebook</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre> 
<pre><code class="prism language-c">from pyecharts import options as opts
from pyecharts<span class="token punctuation">.</span>charts import Pie
from pyecharts<span class="token punctuation">.</span>faker import Faker
boss <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token char">'ç»éªŒ'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">value_counts</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
x <span class="token operator">=</span> boss<span class="token punctuation">.</span>index<span class="token punctuation">.</span><span class="token function">tolist</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
y <span class="token operator">=</span> boss<span class="token punctuation">.</span>values<span class="token punctuation">.</span><span class="token function">tolist</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
data_pair <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token function">list</span><span class="token punctuation">(</span>z<span class="token punctuation">)</span> <span class="token keyword">for</span> z in <span class="token function">zip</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">]</span>

c <span class="token operator">=</span> <span class="token punctuation">(</span>
    <span class="token function">Pie</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
        <span class="token string">""</span><span class="token punctuation">,</span>
        data_pair<span class="token punctuation">,</span>
        radius<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"40%"</span><span class="token punctuation">,</span> <span class="token string">"55%"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        label_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span><span class="token function">LabelOpts</span><span class="token punctuation">(</span>
            position<span class="token operator">=</span><span class="token string">"outside"</span><span class="token punctuation">,</span>
            formatter<span class="token operator">=</span><span class="token string">"{a|{a}}{abg|}\n{hr|}\n {b|{b}: }{c}  {per|{d}%}  "</span><span class="token punctuation">,</span>
            background_color<span class="token operator">=</span><span class="token string">"#eee"</span><span class="token punctuation">,</span>
            border_color<span class="token operator">=</span><span class="token string">"#aaa"</span><span class="token punctuation">,</span>
            border_width<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span>
            border_radius<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">,</span>
            rich<span class="token operator">=</span><span class="token punctuation">{<!-- --></span>
                <span class="token string">"a"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span><span class="token string">"color"</span><span class="token operator">:</span> <span class="token string">"#999"</span><span class="token punctuation">,</span> <span class="token string">"lineHeight"</span><span class="token operator">:</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token string">"align"</span><span class="token operator">:</span> <span class="token string">"center"</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token string">"abg"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token string">"backgroundColor"</span><span class="token operator">:</span> <span class="token string">"#e3e3e3"</span><span class="token punctuation">,</span>
                    <span class="token string">"width"</span><span class="token operator">:</span> <span class="token string">"100%"</span><span class="token punctuation">,</span>
                    <span class="token string">"align"</span><span class="token operator">:</span> <span class="token string">"right"</span><span class="token punctuation">,</span>
                    <span class="token string">"height"</span><span class="token operator">:</span> <span class="token number">22</span><span class="token punctuation">,</span>
                    <span class="token string">"borderRadius"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token string">"hr"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token string">"borderColor"</span><span class="token operator">:</span> <span class="token string">"#aaa"</span><span class="token punctuation">,</span>
                    <span class="token string">"width"</span><span class="token operator">:</span> <span class="token string">"100%"</span><span class="token punctuation">,</span>
                    <span class="token string">"borderWidth"</span><span class="token operator">:</span> <span class="token number">0.5</span><span class="token punctuation">,</span>
                    <span class="token string">"height"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token string">"b"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span><span class="token string">"fontSize"</span><span class="token operator">:</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token string">"lineHeight"</span><span class="token operator">:</span> <span class="token number">33</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token string">"per"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token string">"color"</span><span class="token operator">:</span> <span class="token string">"#eee"</span><span class="token punctuation">,</span>
                    <span class="token string">"backgroundColor"</span><span class="token operator">:</span> <span class="token string">"#334455"</span><span class="token punctuation">,</span>
                    <span class="token string">"padding"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                    <span class="token string">"borderRadius"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">set_global_opts</span><span class="token punctuation">(</span>title_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span><span class="token function">TitleOpts</span><span class="token punctuation">(</span>title<span class="token operator">=</span><span class="token string">"Pie-å¯Œæ–‡æœ¬ç¤ºä¾‹"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    
<span class="token punctuation">)</span>
c<span class="token punctuation">.</span><span class="token function">render_notebook</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code class="prism language-c">gsly <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token char">'å…¬å¸é¢†åŸŸ'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">value_counts</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token operator">:</span><span class="token number">10</span><span class="token punctuation">]</span>
x1 <span class="token operator">=</span> gsly<span class="token punctuation">.</span>index<span class="token punctuation">.</span><span class="token function">tolist</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
y1 <span class="token operator">=</span> gsly<span class="token punctuation">.</span>values<span class="token punctuation">.</span><span class="token function">tolist</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
c <span class="token operator">=</span> <span class="token punctuation">(</span>
    <span class="token function">Bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">add_xaxis</span><span class="token punctuation">(</span>x1<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">add_yaxis</span><span class="token punctuation">(</span>
        <span class="token string">"å…¬å¸é¢†åŸŸ"</span><span class="token punctuation">,</span>
        y1
    <span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">set_global_opts</span><span class="token punctuation">(</span>title_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span><span class="token function">TitleOpts</span><span class="token punctuation">(</span>title<span class="token operator">=</span><span class="token string">"å…¬å¸é¢†åŸŸ"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>datazoom_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span><span class="token function">DataZoomOpts</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">set_series_opts</span><span class="token punctuation">(</span>label_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span><span class="token function">LabelOpts</span><span class="token punctuation">(</span>is_show<span class="token operator">=</span>False<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>
c<span class="token punctuation">.</span><span class="token function">render_notebook</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre> 
<pre><code class="prism language-c">gsgm <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token char">'å…¬å¸è§„æ¨¡'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">value_counts</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">10</span><span class="token punctuation">]</span>
x2 <span class="token operator">=</span> gsgm<span class="token punctuation">.</span>index<span class="token punctuation">.</span><span class="token function">tolist</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
y2 <span class="token operator">=</span> gsgm<span class="token punctuation">.</span>values<span class="token punctuation">.</span><span class="token function">tolist</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
c <span class="token operator">=</span> <span class="token punctuation">(</span>
    <span class="token function">Bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">add_xaxis</span><span class="token punctuation">(</span>x2<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">add_yaxis</span><span class="token punctuation">(</span>
        <span class="token string">"å…¬å¸è§„æ¨¡"</span><span class="token punctuation">,</span>
        y2
    <span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">set_global_opts</span><span class="token punctuation">(</span>title_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span><span class="token function">TitleOpts</span><span class="token punctuation">(</span>title<span class="token operator">=</span><span class="token string">"å…¬å¸è§„æ¨¡"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>datazoom_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span><span class="token function">DataZoomOpts</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">set_series_opts</span><span class="token punctuation">(</span>label_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span><span class="token function">LabelOpts</span><span class="token punctuation">(</span>is_show<span class="token operator">=</span>False<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>
c<span class="token punctuation">.</span><span class="token function">render_notebook</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code class="prism language-c">import stylecloud
from PIL import Image
welfares <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token char">'ç¦åˆ©'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">dropna</span><span class="token punctuation">(</span>how<span class="token operator">=</span><span class="token char">'all'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>values<span class="token punctuation">.</span><span class="token function">tolist</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
welfares_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">for</span> welfare in welfares<span class="token operator">:</span>
    welfares_list <span class="token operator">+=</span> welfare<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token char">'ï¼Œ'</span><span class="token punctuation">)</span>
pic_name <span class="token operator">=</span> <span class="token char">'ç¦åˆ©è¯äº‘.png'</span>
stylecloud<span class="token punctuation">.</span><span class="token function">gen_stylecloud</span><span class="token punctuation">(</span>
    text<span class="token operator">=</span><span class="token char">' '</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>welfares_list<span class="token punctuation">)</span><span class="token punctuation">,</span>
    font_path<span class="token operator">=</span><span class="token char">'msyh.ttc'</span><span class="token punctuation">,</span>
    palette<span class="token operator">=</span><span class="token char">'cartocolors.qualitative.Bold_5'</span><span class="token punctuation">,</span>
    max_font_size<span class="token operator">=</span><span class="token number">100</span><span class="token punctuation">,</span>
    icon_name<span class="token operator">=</span><span class="token char">'fas fa-yen-sign'</span><span class="token punctuation">,</span>
    background_color<span class="token operator">=</span><span class="token char">'#212529'</span><span class="token punctuation">,</span>
    output_name<span class="token operator">=</span>pic_name<span class="token punctuation">,</span>
    æºç ã€è§£ç­”ã€æ•™ç¨‹å¯åŠ Qè£™ï¼š<span class="token number">832157862</span>å…è´¹é¢†å–
    <span class="token punctuation">)</span>
Image<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>pic_name<span class="token punctuation">)</span>
</code></pre> 
<h4><a id="_562"></a>éƒ¨åˆ†æ•ˆæœå±•ç¤º</h4> 
<p><img src="https://images2.imgbox.com/8a/95/bgyO02yD_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p><img src="https://images2.imgbox.com/36/76/AiinHCK4_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p><img src="https://images2.imgbox.com/33/03/nd8seCvJ_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><img src="https://images2.imgbox.com/e2/b6/R6ASWj8L_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p><img src="https://images2.imgbox.com/7d/77/IPGe3BO2_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h2><a id="_571"></a>å°¾è¯­</h2> 
<p>å¥½äº†ï¼Œæˆ‘çš„è¿™ç¯‡æ–‡ç« å†™åˆ°è¿™é‡Œå°±ç»“æŸå•¦ï¼</p> 
<p>æœ‰æ›´å¤šå»ºè®®æˆ–é—®é¢˜å¯ä»¥è¯„è®ºåŒºæˆ–ç§ä¿¡æˆ‘å“¦ï¼ä¸€èµ·åŠ æ²¹åŠªåŠ›å­(à¸‡ â€¢_â€¢)à¸‡</p> 
<p>å–œæ¬¢å°±å…³æ³¨ä¸€ä¸‹åšä¸»ï¼Œæˆ–ç‚¹èµæ”¶è—è¯„è®ºä¸€ä¸‹æˆ‘çš„æ–‡ç« å­ï¼ï¼ï¼</p> 
<p><img src="https://images2.imgbox.com/e0/73/obL6SzAI_o.gif" alt=""></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/dbd4c853c826c172845d8daafda5c610/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">jmeterå‡½æ•°åŠ©æ‰‹äºŒæ¬¡å¼€å‘ä¹‹åŠ è§£å¯†</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/8d5febba6b13a975e57bf1fd991b9492/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">MegaCli64å·¥å…·ç£ç›˜ä¿®å¤å¤„ç†</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ITå­¦ä¹ è€…åšå®¢.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>