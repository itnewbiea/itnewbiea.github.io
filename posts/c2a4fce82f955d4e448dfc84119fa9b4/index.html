<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>URL报错：unknown protocol - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="URL报错：unknown protocol" />
<meta property="og:description" content="URL报错：unknown protocol，未知协议 问题分析： 在使用new URL(filePath)出现此错误，原因是传入的字符串不是一个URL，所以无法识别。
解决方法： 若是本地文件，检查路径前面是否添加了file://
示例：String filePath = &#34;D:/Users/Administrator/Desktop/test.txt&#34;; // 添加文件协议 filePath = &#34;file://&#34;&#43;filePath; URL url = new URL(filePath); 2.若是网络路径， 检查传入的字符串是否以http:// 开头，或者以https://开头
扩展 报错：unknown protocol: f
解决一： 解析的文件包括路径不能有中文字符
解决二：将URL路径转码
URLEncoder.encode(filePath, &#34;utf-8&#34;); URL常用协议类型：
① file 资源是本地计算机上的文件。格式file://
② ftp 通过 FTP访问资源。格式 FTP://
③ http 通过 HTTP 访问该资源。 格式 http://
④ https 通过安全的 HTTPS 访问该资源。 格式 https://
⑤ mailto 资源为电子邮件地址，通过 SMTP 访问。 格式 mailto:" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/c2a4fce82f955d4e448dfc84119fa9b4/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-02-25T10:14:05+08:00" />
<meta property="article:modified_time" content="2021-02-25T10:14:05+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">URL报错：unknown protocol</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="URLunknown_protocol_1"></a>URL报错：unknown protocol，未知协议</h2> 
<h3><a id="_2"></a>问题分析：</h3> 
<p>在使用new URL(filePath)出现此错误，原因是传入的字符串不是一个URL，所以无法识别。</p> 
<h3><a id="_5"></a>解决方法：</h3> 
<ol><li>若是本地文件，检查路径前面是否添加了file://<br> 示例：<pre><code class="prism language-java">String filePath <span class="token operator">=</span> <span class="token string">"D:/Users/Administrator/Desktop/test.txt"</span><span class="token punctuation">;</span>
<span class="token comment">// 添加文件协议</span>
filePath <span class="token operator">=</span> <span class="token string">"file://"</span><span class="token operator">+</span>filePath<span class="token punctuation">;</span>
URL url <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URL</span><span class="token punctuation">(</span>filePath<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> </li></ol> 
<p>2.若是网络路径， 检查传入的字符串是否以http:// 开头，或者以https://开头</p> 
<h3><a id="_17"></a>扩展</h3> 
<ol><li> <p>报错：unknown protocol: f<br> 解决一： 解析的文件包括路径不能有中文字符<br> 解决二：将URL路径转码</p> <pre><code class="prism language-java">URLEncoder<span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span>filePath<span class="token punctuation">,</span> <span class="token string">"utf-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> </li><li> <p>URL常用协议类型：<br> ① file 资源是本地计算机上的文件。格式file://<br> ② ftp 通过 FTP访问资源。格式 FTP://<br> ③ http 通过 HTTP 访问该资源。 格式 http://<br> ④ https 通过安全的 HTTPS 访问该资源。 格式 https://<br> ⑤ mailto 资源为电子邮件地址，通过 SMTP 访问。 格式 mailto:</p> </li></ol>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/47ce7a79ca6c4b32cfd636d6c6235de0/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【蓝桥杯省赛JavaB组真题详解】剪邮票（2016）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/d3ca0d4c9d193c4fbc025878703d46bc/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">python3之多线程</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>