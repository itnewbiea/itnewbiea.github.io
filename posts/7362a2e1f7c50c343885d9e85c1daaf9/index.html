<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>使用Indemind双目模组跑ORB_SLAM3 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="使用Indemind双目模组跑ORB_SLAM3" />
<meta property="og:description" content="文章目录 Indemind双目模组跑通ORB_SLAM31.下载源码编译2.ROS编译错误3.配置文件 Indmeind跑ORB_SLAM3的VIO1.按照ORB_SLAM3正常编译即可2.运行 Indemind双目模组跑ORB_SLAM3实测 Indemind双目模组跑通ORB_SLAM3 首先感谢作者的贡献与开源。ORB_Slam3的介绍不做叙述，这里只对编译过程做出详细介绍。ORB_Slam3的介绍创新有时间在更新。
1.下载源码编译 ORB_SLAM3地址
纯视觉或加IMU跑Euroc数据集效果很好。
纯视觉跑或加IMU跑Indmeind双目模组表现也很好，注意在录制数据集的时候可以参考Euroc数据集初始的摆动，时间大概在20-30秒之间即可完成初始化。(ORB_SLAM3的对初始化的要求比较高)
//按照官方编译即可 //正常ROS编译 catkin_make //编译ORB_SLAM3 cd ORB_SLAM3 chmod &#43;x build.sh ./build.sh 这里对ROS进行编译会有一些错误。
2.ROS编译错误 1.类似与这种的错误
[rosbuild] rospack found package &#34;ORB_SLAM2&#34; at &#34;&#34;, but the current directory is &#34;/home/angelo/ORB_SLAM2/Examples/ROS/ORB_SLAM2&#34;. You should double-check your ROS_PACKAGE_PATH to ensure that packages are found in the correct precedence order. 将所有代码下的命名空间由ORB_SLAM2改为ORB_SLAM3
这样改完之后你还会遇到错误
2.某个.h文件的GeometricCamera.h、KannalaBrandt8.h、Pinhole.h文件找不到
1.在该.h文件添加正确的路径 2.其实这三个.h文件是在报错的.h文件的下一级目录，可以复制到上一级 别高兴，你应该还会遇到一类错误
3.boost文件找不到Makefile，这个主要是你编译了多个ORB_SLAM
解决办法Examples/ROS/ORB_SLAM3/Cmakelist.txt里面添加
target_link_libraries(Stereo boost_system boost_filesystem) target_link_libraries(RGBD boost_system boost_filesystem) target_link_libraries(Mono boost_system boost_filesystem) 注意一些topic问题，安装sdk，启动sdk看之前博客，这样你就可以顺利的跑起来SDK" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/7362a2e1f7c50c343885d9e85c1daaf9/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-08-03T14:44:49+08:00" />
<meta property="article:modified_time" content="2020-08-03T14:44:49+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">使用Indemind双目模组跑ORB_SLAM3</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-dracula">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#IndemindORB_SLAM3_2" rel="nofollow">Indemind双目模组跑通ORB_SLAM3</a></li><li><ul><li><a href="#1_4" rel="nofollow">1.下载源码编译</a></li><li><a href="#2ROS_18" rel="nofollow">2.ROS编译错误</a></li><li><a href="#3_46" rel="nofollow">3.配置文件</a></li></ul> 
  </li><li><a href="#IndmeindORB_SLAM3VIO_188" rel="nofollow">Indmeind跑ORB_SLAM3的VIO</a></li><li><ul><li><a href="#1ORB_SLAM3_190" rel="nofollow">1.按照ORB_SLAM3正常编译即可</a></li><li><a href="#2_200" rel="nofollow">2.运行</a></li></ul> 
  </li><li><a href="#IndemindORB_SLAM3_216" rel="nofollow">Indemind双目模组跑ORB_SLAM3实测</a></li></ul> 
</div> 
<p></p> 
<h2><a id="IndemindORB_SLAM3_2"></a>Indemind双目模组跑通ORB_SLAM3</h2> 
<p><em><strong>首先感谢作者的贡献与开源</strong></em>。ORB_Slam3的介绍不做叙述，这里只对编译过程做出详细介绍。ORB_Slam3的介绍创新有时间在更新。</p> 
<h3><a id="1_4"></a>1.下载源码编译</h3> 
<p><a href="https://github.com/UZ-SLAMLab/ORB_SLAM3">ORB_SLAM3地址</a><br> 纯视觉或加IMU跑Euroc数据集效果很好。<br> 纯视觉跑或加IMU跑Indmeind双目模组表现也很好，注意在录制数据集的时候可以参考Euroc数据集初始的摆动，时间大概在20-30秒之间即可完成初始化。(ORB_SLAM3的对初始化的要求比较高)</p> 
<pre><code class="prism language-cpp"><span class="token comment">//按照官方编译即可</span>
<span class="token comment">//正常ROS编译</span>
catkin_make
<span class="token comment">//编译ORB_SLAM3</span>
cd ORB_SLAM3
chmod <span class="token operator">+</span>x build<span class="token punctuation">.</span>sh
<span class="token punctuation">.</span><span class="token operator">/</span>build<span class="token punctuation">.</span>sh
</code></pre> 
<p>这里对ROS进行编译会有一些错误。</p> 
<h3><a id="2ROS_18"></a>2.ROS编译错误</h3> 
<p>1.类似与这种的错误</p> 
<pre><code class="prism language-cpp"><span class="token punctuation">[</span>rosbuild<span class="token punctuation">]</span> rospack found package <span class="token string">"ORB_SLAM2"</span> at <span class="token string">""</span><span class="token punctuation">,</span> but the current   directory is <span class="token string">"/home/angelo/ORB_SLAM2/Examples/ROS/ORB_SLAM2"</span><span class="token punctuation">.</span>  You should   <span class="token keyword">double</span><span class="token operator">-</span>check your ROS_PACKAGE_PATH to ensure that packages are found in the   correct precedence order<span class="token punctuation">.</span>
</code></pre> 
<p>将所有代码下的命名空间由<code>ORB_SLAM2</code>改为<code>ORB_SLAM3</code><br> 这样改完之后你还会遇到错误<br> 2.某个<code>.h</code>文件的<code>GeometricCamera.h、KannalaBrandt8.h、Pinhole.h</code>文件找不到</p> 
<pre><code class="prism language-cpp"><span class="token number">1.</span>在该<span class="token punctuation">.</span>h文件添加正确的路径
<span class="token number">2.</span>其实这三个<span class="token punctuation">.</span>h文件是在报错的<span class="token punctuation">.</span>h文件的下一级目录，可以复制到上一级
</code></pre> 
<p>别高兴，你应该还会遇到一类错误<br> 3.boost文件找不到Makefile，这个主要是你编译了多个ORB_SLAM<br> 解决办法<code>Examples/ROS/ORB_SLAM3/Cmakelist.txt</code>里面添加</p> 
<pre><code class="prism language-cpp"><span class="token function">target_link_libraries</span><span class="token punctuation">(</span>Stereo boost_system boost_filesystem<span class="token punctuation">)</span>  
<span class="token function">target_link_libraries</span><span class="token punctuation">(</span>RGBD boost_system boost_filesystem<span class="token punctuation">)</span> 
<span class="token function">target_link_libraries</span><span class="token punctuation">(</span>Mono boost_system boost_filesystem<span class="token punctuation">)</span> 
</code></pre> 
<p>注意一些topic问题，<code>安装sdk，启动sdk</code>看之前博客，这样你就可以顺利的跑起来SDK<br> 注意<code>实时双目或者单目，有时可以有时会卡死，建议录制成ros包</code><br> 下面这图是纯双目，跑的自己录制的ros包，效果不错。<br> <img src="https://images2.imgbox.com/6c/95/3eDKWKZl_o.png" alt="在这里插入图片描述"><img src="https://images2.imgbox.com/55/72/U1ZG1E2x_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="3_46"></a>3.配置文件</h3> 
<p>标定<code>Indmeind读取配置文件看上一篇文章，或者其他标定方法也可，直接对Euroc数据集的配置文件进行更改，即便参数设置为0，下面贴出一份我手里模组的配置文件</code></p> 
<pre><code class="prism language-cpp"><span class="token operator">%</span>YAML<span class="token operator">:</span><span class="token number">1.0</span>

#<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
<span class="token macro property"># Camera Parameters. Adjust them!</span>
#<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
Camera<span class="token punctuation">.</span>type<span class="token operator">:</span> <span class="token string">"PinHole"</span>

<span class="token macro property"># Camera calibration and distortion parameters (OpenCV) (equal for both cameras after stereo rectification)</span>
Camera<span class="token punctuation">.</span>fx<span class="token operator">:</span>  <span class="token number">260.561</span>
Camera<span class="token punctuation">.</span>fy<span class="token operator">:</span> <span class="token number">260.561</span>
Camera<span class="token punctuation">.</span>cx<span class="token operator">:</span> <span class="token number">317.946</span>
Camera<span class="token punctuation">.</span>cy<span class="token operator">:</span> <span class="token number">195.495</span>

Camera<span class="token punctuation">.</span>k1<span class="token operator">:</span> <span class="token number">0.0</span>
Camera<span class="token punctuation">.</span>k2<span class="token operator">:</span> <span class="token number">0.0</span>
Camera<span class="token punctuation">.</span>p1<span class="token operator">:</span> <span class="token number">0.0</span>
Camera<span class="token punctuation">.</span>p2<span class="token operator">:</span> <span class="token number">0.0</span>

Camera<span class="token punctuation">.</span>width<span class="token operator">:</span> <span class="token number">640</span>
Camera<span class="token punctuation">.</span>height<span class="token operator">:</span> <span class="token number">400</span>

<span class="token macro property"># Camera frames per second </span>
Camera<span class="token punctuation">.</span>fps<span class="token operator">:</span> <span class="token number">25</span>

<span class="token macro property"># stereo baseline times fx</span>
Camera<span class="token punctuation">.</span>bf<span class="token operator">:</span> <span class="token number">31.26732</span> #<span class="token number">31.26732</span>

<span class="token macro property"># Color order of the images (0: BGR, 1: RGB. It is ignored if images are grayscale)</span>
Camera<span class="token punctuation">.</span>RGB<span class="token operator">:</span> <span class="token number">1</span>

<span class="token macro property"># Close/Far threshold. Baseline times.</span>
ThDepth<span class="token operator">:</span> <span class="token number">35</span> # <span class="token number">35</span>

<span class="token macro property"># Transformation from camera 0 to body-frame (imu)</span>
Tbc<span class="token operator">:</span> <span class="token operator">!</span><span class="token operator">!</span>opencv<span class="token operator">-</span>matrix
   rows<span class="token operator">:</span> <span class="token number">4</span>
   cols<span class="token operator">:</span> <span class="token number">4</span>
   dt<span class="token operator">:</span> f
   data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">0.999977</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.006624</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.001162</span><span class="token punctuation">,</span> <span class="token number">0.0060095</span><span class="token punctuation">,</span> <span class="token number">0.006621</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.999975</span><span class="token punctuation">,</span> <span class="token number">0.002465</span><span class="token punctuation">,</span> <span class="token number">2.61872e-05</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.001178</span><span class="token punctuation">,</span> <span class="token number">0.002458</span><span class="token punctuation">,</span> <span class="token number">0.999996</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.002</span><span class="token punctuation">,</span>
         <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">]</span>

<span class="token macro property"># IMU noise</span>
IMU<span class="token punctuation">.</span>NoiseGyro<span class="token operator">:</span> <span class="token number">1.000000000000000e-1</span>  # <span class="token number">1.6968e-04</span> 
IMU<span class="token punctuation">.</span>NoiseAcc<span class="token operator">:</span> <span class="token number">1.000000000000000e-1</span> # <span class="token number">2.0000e-3</span>
IMU<span class="token punctuation">.</span>GyroWalk<span class="token operator">:</span> <span class="token number">4.000000000000000e-3</span>  
IMU<span class="token punctuation">.</span>AccWalk<span class="token operator">:</span> <span class="token number">4.0000000000000000e-3</span> # <span class="token number">3.0000e-3</span>
IMU<span class="token punctuation">.</span>Frequency<span class="token operator">:</span> <span class="token number">200</span>

#<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
<span class="token macro property"># Stereo Rectification. Only if you need to pre-rectify the images.</span>
<span class="token macro property"># Camera.fx, .fy, etc must be the same as in LEFT.P</span>
#<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
LEFT<span class="token punctuation">.</span>height<span class="token operator">:</span> <span class="token number">400</span>
LEFT<span class="token punctuation">.</span>width<span class="token operator">:</span> <span class="token number">640</span>
LEFT<span class="token punctuation">.</span>D<span class="token operator">:</span> <span class="token operator">!</span><span class="token operator">!</span>opencv<span class="token operator">-</span>matrix
   rows<span class="token operator">:</span> <span class="token number">1</span>
   cols<span class="token operator">:</span> <span class="token number">5</span>
   dt<span class="token operator">:</span> d
   data<span class="token operator">:</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">0.</span><span class="token punctuation">,</span> <span class="token number">0.</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">]</span>
LEFT<span class="token punctuation">.</span>K<span class="token operator">:</span> <span class="token operator">!</span><span class="token operator">!</span>opencv<span class="token operator">-</span>matrix
   rows<span class="token operator">:</span> <span class="token number">3</span>
   cols<span class="token operator">:</span> <span class="token number">3</span>
   dt<span class="token operator">:</span> d
   data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">245.96</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">318.423</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">245.793</span><span class="token punctuation">,</span> <span class="token number">195.635</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">]</span>
LEFT<span class="token punctuation">.</span>R<span class="token operator">:</span>  <span class="token operator">!</span><span class="token operator">!</span>opencv<span class="token operator">-</span>matrix
   rows<span class="token operator">:</span> <span class="token number">3</span>
   cols<span class="token operator">:</span> <span class="token number">3</span>
   dt<span class="token operator">:</span> d
   data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0.999988</span><span class="token punctuation">,</span> <span class="token number">0.0036888</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.00331281</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.00368906</span><span class="token punctuation">,</span> <span class="token number">0.999993</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">7.24943e-05</span><span class="token punctuation">,</span> <span class="token number">0.00331252</span><span class="token punctuation">,</span> <span class="token number">8.47145e-05</span><span class="token punctuation">,</span> <span class="token number">0.999995</span><span class="token punctuation">]</span>
LEFT<span class="token punctuation">.</span>Rf<span class="token operator">:</span>  <span class="token operator">!</span><span class="token operator">!</span>opencv<span class="token operator">-</span>matrix
   rows<span class="token operator">:</span> <span class="token number">3</span>
   cols<span class="token operator">:</span> <span class="token number">3</span>
   dt<span class="token operator">:</span> f
   data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>
LEFT<span class="token punctuation">.</span>P<span class="token operator">:</span>  <span class="token operator">!</span><span class="token operator">!</span>opencv<span class="token operator">-</span>matrix
   rows<span class="token operator">:</span> <span class="token number">3</span>
   cols<span class="token operator">:</span> <span class="token number">4</span>
   dt<span class="token operator">:</span> d
   data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">260.561</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">317.946</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">260.561</span><span class="token punctuation">,</span> <span class="token number">195.495</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span>  <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span>

RIGHT<span class="token punctuation">.</span>height<span class="token operator">:</span> <span class="token number">400</span>
RIGHT<span class="token punctuation">.</span>width<span class="token operator">:</span>  <span class="token number">640</span>
RIGHT<span class="token punctuation">.</span>D<span class="token operator">:</span> <span class="token operator">!</span><span class="token operator">!</span>opencv<span class="token operator">-</span>matrix
   rows<span class="token operator">:</span> <span class="token number">1</span>
   cols<span class="token operator">:</span> <span class="token number">5</span>
   dt<span class="token operator">:</span> d
   data<span class="token operator">:</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">0.</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.00</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">]</span>
RIGHT<span class="token punctuation">.</span>K<span class="token operator">:</span> <span class="token operator">!</span><span class="token operator">!</span>opencv<span class="token operator">-</span>matrix
   rows<span class="token operator">:</span> <span class="token number">3</span>
   cols<span class="token operator">:</span> <span class="token number">3</span>
   dt<span class="token operator">:</span> d
   data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">245.861</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">312.777</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">246.03</span><span class="token punctuation">,</span> <span class="token number">195.784</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span>
RIGHT<span class="token punctuation">.</span>R<span class="token operator">:</span>  <span class="token operator">!</span><span class="token operator">!</span>opencv<span class="token operator">-</span>matrix
   rows<span class="token operator">:</span> <span class="token number">3</span>
   cols<span class="token operator">:</span> <span class="token number">3</span>
   dt<span class="token operator">:</span> d
   data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0.999915</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.00648092</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.011273</span><span class="token punctuation">,</span> <span class="token number">0.00648181</span><span class="token punctuation">,</span> <span class="token number">0.999979</span><span class="token punctuation">,</span> <span class="token number">4.20702e-05</span><span class="token punctuation">,</span> <span class="token number">0.0112724</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.000115136</span><span class="token punctuation">,</span> <span class="token number">0.999936</span><span class="token punctuation">]</span>
RIGHT<span class="token punctuation">.</span>P<span class="token operator">:</span>  <span class="token operator">!</span><span class="token operator">!</span>opencv<span class="token operator">-</span>matrix
   rows<span class="token operator">:</span> <span class="token number">3</span>
   cols<span class="token operator">:</span> <span class="token number">4</span>
   dt<span class="token operator">:</span> d
   data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">260.561</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">317.946</span> <span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">31.161</span><span class="token punctuation">,</span> <span class="token number">0</span> <span class="token punctuation">,</span><span class="token number">260.561</span><span class="token punctuation">,</span> <span class="token number">195.495</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span>

#<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
<span class="token macro property"># ORB Parameters</span>
#<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>

<span class="token macro property"># ORB Extractor: Number of features per image</span>
ORBextractor<span class="token punctuation">.</span>nFeatures<span class="token operator">:</span> <span class="token number">2400</span>

<span class="token macro property"># ORB Extractor: Scale factor between levels in the scale pyramid 	</span>
ORBextractor<span class="token punctuation">.</span>scaleFactor<span class="token operator">:</span> <span class="token number">1.2</span>

<span class="token macro property"># ORB Extractor: Number of levels in the scale pyramid	</span>
ORBextractor<span class="token punctuation">.</span>nLevels<span class="token operator">:</span> <span class="token number">8</span>

<span class="token macro property"># ORB Extractor: Fast threshold</span>
<span class="token macro property"># Image is divided in a grid. At each cell FAST are extracted imposing a minimum response.</span>
<span class="token macro property"># Firstly we impose iniThFAST. If no corners are detected we impose a lower value minThFAST</span>
<span class="token macro property"># You can lower these values if your images have low contrast			</span>
ORBextractor<span class="token punctuation">.</span>iniThFAST<span class="token operator">:</span> <span class="token number">20</span>
ORBextractor<span class="token punctuation">.</span>minThFAST<span class="token operator">:</span> <span class="token number">7</span>

#<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
<span class="token macro property"># Viewer Parameters</span>
#<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
Viewer<span class="token punctuation">.</span>KeyFrameSize<span class="token operator">:</span> <span class="token number">0.05</span>
Viewer<span class="token punctuation">.</span>KeyFrameLineWidth<span class="token operator">:</span> <span class="token number">1</span>
Viewer<span class="token punctuation">.</span>GraphLineWidth<span class="token operator">:</span> <span class="token number">0.9</span>
Viewer<span class="token punctuation">.</span>PointSize<span class="token operator">:</span><span class="token number">2</span>
Viewer<span class="token punctuation">.</span>CameraSize<span class="token operator">:</span> <span class="token number">0.08</span>
Viewer<span class="token punctuation">.</span>CameraLineWidth<span class="token operator">:</span> <span class="token number">3</span>
Viewer<span class="token punctuation">.</span>ViewpointX<span class="token operator">:</span> <span class="token number">0</span>
Viewer<span class="token punctuation">.</span>ViewpointY<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">0.7</span>
Viewer<span class="token punctuation">.</span>ViewpointZ<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1.8</span>
Viewer<span class="token punctuation">.</span>ViewpointF<span class="token operator">:</span> <span class="token number">500</span>

</code></pre> 
<h2><a id="IndmeindORB_SLAM3VIO_188"></a>Indmeind跑ORB_SLAM3的VIO</h2> 
<p>首先，官方没有提供VIO的ROS接口，<strong>依赖于热心网友（大神）的贡献，现在贴出地址<a href="https://github.com/xiefei2929/ORB_SLAM3-ROS-Interface">xiefei2929</a> 作者也是做出了改进，读取速度更快</strong></p> 
<h3><a id="1ORB_SLAM3_190"></a>1.按照ORB_SLAM3正常编译即可</h3> 
<pre><code class="prism language-cpp">cd ORB_SLAM3
chmod <span class="token operator">+</span>x build<span class="token punctuation">.</span>sh
<span class="token punctuation">.</span><span class="token operator">/</span>build<span class="token punctuation">.</span>sh

chmod <span class="token operator">+</span>x build_ros<span class="token punctuation">.</span>sh
<span class="token punctuation">.</span><span class="token operator">/</span>build_ros<span class="token punctuation">.</span>sh
</code></pre> 
<h3><a id="2_200"></a>2.运行</h3> 
<p>首先<code>ORB_SLAM3初始化要求比较高，先完成初始化，初始化完成之后，在进行一些其他的运动。而且实时的SDK会很卡，1秒10M，建议还是录制ros包完成测试。</code><br> （1）启动<code>sdk</code><br> （2）启动<code>ORB_SLAM3</code></p> 
<pre><code class="prism language-cpp">Mono_inertial<span class="token operator">:</span> rosrun ORB_SLAM3 Mono_inertial <span class="token operator">/</span>YOUR_PATH<span class="token operator">/</span>ORBvoc<span class="token punctuation">.</span>bin <span class="token operator">/</span>YOUR_PATH<span class="token operator">/</span>EuRoC<span class="token punctuation">.</span>yaml
Stereo_inertial<span class="token operator">:</span> rosrun ORB_SLAM3 Stereo_inertial <span class="token operator">/</span>YOUR_PATH<span class="token operator">/</span>ORBvoc<span class="token punctuation">.</span>bin <span class="token operator">/</span>YOUR_PATH<span class="token operator">/</span>EuRoC<span class="token punctuation">.</span>yaml
</code></pre> 
<p>这里放上几张跑的自己采的数据集的图，三个数据集，效果还是不错的。<br> <img src="https://images2.imgbox.com/e1/93/XDX8oxoq_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/41/9f/FJWBKUTY_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/22/2f/tNXFNzpi_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/8c/1d/R88OYJrL_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/1d/b1/PGC3BTfL_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="IndemindORB_SLAM3_216"></a>Indemind双目模组跑ORB_SLAM3实测</h2> 
<p><a href="https://v.qq.com/x/page/h3128ilymaw.html" rel="nofollow">实测视频</a></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/941aa1b7041ad5b3942ef6614663cb82/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">串口收发乱码解决方案</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a8e8970e3a73480daec5197daebb8d35/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">社会网络分析中的基本概念</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>