<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>C语言编程中的8位、16位、32位整数的分解与合并 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="C语言编程中的8位、16位、32位整数的分解与合并" />
<meta property="og:description" content="在单片机的编程中对于8位、16位、32位整数的分解与合并用的比较多，今天做了简要学习，后面还需要加以总结。
练习在VC&#43;&#43;6.0编程环境中进行，源程序：
#include &lt;stdio.h&gt; #include &#34;string.h&#34; int main(int argc, char* argv[]) { unsigned int Data_Uint32=0x12345678; unsigned short int Data_Uint16_1,Data_Uint16_2; unsigned char Data_Uint8_1,Data_Uint8_2,Data_Uint8_3,Data_Uint8_4; struct StructByte8{ unsigned char Byte01:1; unsigned char Byte02:1; unsigned char Byte03:1; unsigned char Byte04:1; unsigned char Byte05:1; unsigned char Byte06:1; unsigned char Byte07:1; unsigned char Byte08:1; } Test1; unsigned char C1[]=&#34;A&#34;; //定义16位的指针将32位地址强制转为16位，高位丢弃取低位 unsigned short int *p16=(unsigned short int *)(&amp;Data_Uint32); unsigned short int Data_Uint16_2p,Data_Uint16_1p; printf(&#34;32位整数：0x%x\n&#34;,Data_Uint32); printf(&#34;-------------------通过指针运算-------------------\n&#34;); Data_Uint16_2p=*(unsigned short int *)p16; Data_Uint16_1p=*((unsigned short int *)p16&#43;1); printf(&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/fa731e5d5fc54ffa491b9b1be15baab4/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-03-24T19:53:04+08:00" />
<meta property="article:modified_time" content="2019-03-24T19:53:04+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">C语言编程中的8位、16位、32位整数的分解与合并</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>　　在单片机的编程中对于8位、16位、32位整数的分解与合并用的比较多，今天做了简要学习，后面还需要加以总结。</p> 
<p>　　练习在VC++6.0编程环境中进行，源程序：</p> 
<pre class="has"><code class="language-cpp">#include &lt;stdio.h&gt;
#include "string.h"

int main(int argc, char* argv[])
{    
	  unsigned int Data_Uint32=0x12345678;
	  unsigned short int Data_Uint16_1,Data_Uint16_2;
	  unsigned char Data_Uint8_1,Data_Uint8_2,Data_Uint8_3,Data_Uint8_4;
	  struct StructByte8{
		  unsigned char Byte01:1;
		  unsigned char Byte02:1;
		  unsigned char Byte03:1;
		  unsigned char Byte04:1;
		  unsigned char Byte05:1;
		  unsigned char Byte06:1;
		  unsigned char Byte07:1;
		  unsigned char Byte08:1;
	  } Test1;
      unsigned char C1[]="A";
      //定义16位的指针将32位地址强制转为16位，高位丢弃取低位
	  unsigned short int *p16=(unsigned short int *)(&amp;Data_Uint32);
	  unsigned short int Data_Uint16_2p,Data_Uint16_1p;

	  printf("32位整数：0x%x\n",Data_Uint32);
	  printf("-------------------通过指针运算-------------------\n");
	  Data_Uint16_2p=*(unsigned short int *)p16;
	  Data_Uint16_1p=*((unsigned short int *)p16+1);
	  printf("转换后的16位整数：0x%x,0x%x\n",Data_Uint16_1p,Data_Uint16_2p);

	  Data_Uint8_1= *(unsigned char *)p16;
	  Data_Uint8_2= *((unsigned char *)p16+1);
	  Data_Uint8_3= *((unsigned char *)p16+2);
	  Data_Uint8_4= *((unsigned char *)p16+3);
	  printf("转换后的8位整数：0x%x,0x%x,0x%x,0x%x\n",Data_Uint8_1,Data_Uint8_2,
                                                     Data_Uint8_3,Data_Uint8_4);
	  Data_Uint8_1=0;Data_Uint8_2=0;Data_Uint8_3=0;Data_Uint8_4=0;
	  //直接根据指针取值
	  //将32位的整数分解成两个16位的整数,再取低位的16位
	  //强制转换，丢弃高位的16位
	  //32位转16位
	  Data_Uint16_1=(unsigned short int)(Data_Uint32&gt;&gt;16);
	  Data_Uint16_2=(unsigned short int)Data_Uint32;

	  //32位转8位
	  Data_Uint8_1= (unsigned char)(Data_Uint32&gt;&gt;24);
	  Data_Uint8_2= (unsigned char)(Data_Uint32&gt;&gt;16);
	  Data_Uint8_3= (unsigned char)(Data_Uint32&gt;&gt;8);
	  Data_Uint8_4= (unsigned char)Data_Uint32;

	  printf("-------------------通过位运算-------------------\n");
	  printf("转换后的16位整数：0x%x,0x%x\n",Data_Uint16_1,Data_Uint16_2);
	  printf("转换后的8位整数：0x%x,0x%x,0x%x,0x%x\n",Data_Uint8_1,Data_Uint8_2,
                                                    Data_Uint8_3,Data_Uint8_4);
	  
	  printf("-------------------通过结构运算-------------------\n");     
	  printf("字符A，ASCII为01000001，结构转换后的内容\n");  
      memcpy(&amp;Test1, C1, sizeof(Test1));  
	  printf("Test1.Byte08=%d \n",Test1.Byte08);  
	  printf("Test1.Byte07=%d \n",Test1.Byte07);  
	  printf("Test1.Byte06=%d \n",Test1.Byte06);  
	  printf("Test1.Byte05=%d \n",Test1.Byte05);  
	  printf("Test1.Byte04=%d \n",Test1.Byte04);  
	  printf("Test1.Byte03=%d \n",Test1.Byte03);  
	  printf("Test1.Byte02=%d \n",Test1.Byte02);  
	  printf("Test1.Byte01=%d \n",Test1.Byte01);  
      
	  Data_Uint8_1=0x89;Data_Uint8_2=0xAB;Data_Uint8_3=0xCD;Data_Uint8_4=0xEF;
	  printf("-------------------通过位运算合并-------------------\n");
	  Data_Uint16_1 = (unsigned short int)(Data_Uint8_1 &lt;&lt; 8) | (unsigned short int)(Data_Uint8_2);
	  Data_Uint16_2 = (unsigned short int)(Data_Uint8_3 &lt;&lt; 8) | (unsigned short int)(Data_Uint8_4);
	  Data_Uint32=(unsigned int) (Data_Uint16_1 &lt;&lt; 16) | (unsigned int)(Data_Uint16_2);
	  printf("合并前的8位整数：0x%x,0x%x,0x%x,0x%x\n",Data_Uint8_1,Data_Uint8_2,Data_Uint8_3,Data_Uint8_4);
	  printf("合并后的16位整数：0x%x,0x%x\n",Data_Uint16_1,Data_Uint16_2);
	  printf("合并后的32位整数：0x%x\n",Data_Uint32);

	return 0;
}</code></pre> 
<p>输出：</p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/db/f9/BM73oKlB_o.jpg"></p> 
<p>在这里练习以后进入Keil uVision5编程，想写个通用的转换函数，后面想没有必要，难道8、16位、32位相互转换这么复杂吗？如果这样，写在Keil uVision5里面的程序会是多么复杂，以后自己看起来也会繁琐的。</p> 
<p>接着写：</p> 
<p>直接强制转换：</p> 
<pre class="has"><code class="language-cpp">	  printf("-------------------8位到32位转换-------------------\n");
	  Data_Uint8_1=0x00;
	  Data_Uint8_2=0x19;
	  Data_Uint16_2=0x00;
	  Data_Uint16_1 = (unsigned short int)(0x00 &lt;&lt; 8) | (unsigned short int)(Data_Uint8_2);
      Data_Uint32=(unsigned int) (0x00 &lt;&lt; 16) | (unsigned int)(Data_Uint16_1);
	  printf("转换前的8位整数：0x%x,%d\n",Data_Uint8_2,sizeof(Data_Uint8_2));
	  printf("8位到32位转换1======&gt;转换后的32位整数：0x%x,数据长度：%d\n",Data_Uint32,sizeof(Data_Uint32));
	  Data_Uint32=(unsigned int) (0x00 &lt;&lt; 16) | (unsigned int)( (unsigned short int)(0x00 &lt;&lt; 8) | (unsigned short int)(Data_Uint8_2));
	  printf("8位到32位转换2======&gt;转换后的32位整数：0x%x,数据长度：%d\n",Data_Uint32,sizeof(Data_Uint32));
	  //Data_Uint32=(unsigned int) (0x00 &lt;&lt; 24) | (unsigned int)(Data_Uint8_2);
	  Data_Uint32= (unsigned int)(Data_Uint8_2);
	  printf("8位到32位转换3======&gt;转换后的32位整数：0x%x,数据长度：%d\n",Data_Uint32,sizeof(Data_Uint32));
      Data_Uint32=0x69;
      Data_Uint8_1= (unsigned char)(Data_Uint32);
	  printf("32位整数：0x%x,数据长度：%d\n",Data_Uint32,sizeof(Data_Uint32));
	  printf("32位到8位转换======&gt;转换后的8位整数：0x%x,数据长度：%d\n",Data_Uint8_1,sizeof(Data_Uint8_1));</code></pre> 
<p>实际输出：</p> 
<p>-------------------8位到32位转换-------------------<br> 转换前的8位整数：0x19,1<br> 8位到32位转换1======&gt;转换后的32位整数：0x19,数据长度：4<br> 8位到32位转换2======&gt;转换后的32位整数：0x19,数据长度：4<br> 8位到32位转换3======&gt;转换后的32位整数：0x19,数据长度：4<br> 32位整数：0x69,数据长度：4<br> 32位到8位转换======&gt;转换后的8位整数：0x69,数据长度：1</p> 
<p> </p> 
<p>说明：8位强制转32位，前面系统自动加了24位的0；32位强制转8位，系统只截取了最后的8位。</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/751d83a7da9d173d3fa4f23d81c7d1ff/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">python实现批量修改文件名</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/22f1afc44e31df7c3cbbf5fa09b25efe/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Hashcat 破解 wifi WPA2 PMKID</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>