<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>消息摘要算法与密码加密 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="消息摘要算法与密码加密" />
<meta property="og:description" content="目录
一、有关密码加密的问题 二、消息摘要算法
三、如何保障用户密码的安全
一、有关密码加密的问题 首先，对密码进行加密后，再存储，是非常有必要的,并且主要的防范对象通常是内部员工！需要注意，对密码进行加密处理时，不可以使用加密算法！因为，所有的加密算法都是可以加密，也可以解密的！加密算法的核心价值在于保证数据在传输过程中是安全的，并不保证数据存储的安全！对需要存储的密码进行加密处理时，应该使用消息摘要算法，其本质是一种哈希算法，是不可逆向运算的！ 在pring Boot项目中，提供了DigestUtils工具类，此工具类的方法可以轻松实现“使用MD5算法”进行运算，从而，可以实现将原始密码进行加密，得到一个加密后的结果。
import lombok.extern.slf4j.Slf4j; import org.junit.jupiter.api.Test; import org.springframework.util.DigestUtils; @Slf4j public class DigestTests { @Test public void testEncode() { String rawPassword = &#34;123456&#34;; String encodedPassword = DigestUtils .md5DigestAsHex(rawPassword.getBytes()); log.debug(&#34;原始密码={}，MD5运算结果={}&#34;, rawPassword, encodedPassword); } } 运算后的结果就是:
二、消息摘要算法 1、消息摘要算法的典型特征：
消息相同，则摘要相同 无论消息长度，摘要的长度是固定的（同一种算法）消息不同，则摘要几乎不会相同 2、常见的消息摘要算法：
MD系列：MD2（128bit）、MD4（128bit）、MD5（128bit）SHA家族：SHA-1（160bit）、SHA-256（256bit）、SHA-384（384bit）、SHA-512（512bit） 以MD5为例，其运算结果是128个二进制组成，通常，会转换成十六进制数来表示，则是32位长度的十六进制数。
所以，MD5算法的运算结果的种类有2的128次方种，即：340282366920938463463374607431768211456
由于消息算法在运算过程中会丢失一部分的数据，所以，消息算法都是不可逆的！
使用消息摘要算法处理密码加密时，任何“破解”都不会是“根据密文计算得到原文”的！
在网络上，有一些平台记录了简单的明文密文的对应关系的数据库，以实现“根据密文查询出原文”的效果，但是，只要原文足够复杂（8位长度以上），这些平台不可能收录其对应关系！
例如md5解密|md5在线解密 - 全球唯一8位小写&#43;数字全收录的解密网站
我们可以去尝试一下，将之前的密码123456加密后的密文去进行解密：
我们可以看出平台记录了简单的明文密文的对应关系，对于一些简单的长度小的密码是可以解密的，但是当我们的密码足够复杂长度够长后这些平台就不可能对其进行解密。
所以为了保证密码原文的复杂性，应该使用“盐”，它将作为被运算数据的组件部分之一，例如：
String rawPassword = &#34;123456&#34;; String salt = &#34;jhfdiu78543hjfdo8&#34;; String encodedPassword = DigestUtils.md5DigestAsHex((rawPassword &#43; salt)." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/0a81917552f92353ca02ace3f3f5257f/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-11-09T11:49:43+08:00" />
<meta property="article:modified_time" content="2022-11-09T11:49:43+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">消息摘要算法与密码加密</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="%E4%B8%80%E3%80%81%E6%9C%89%E5%85%B3%E5%AF%86%E7%A0%81%E5%8A%A0%E5%AF%86%E7%9A%84%E9%97%AE%E9%A2%98%C2%A0-toc" style="margin-left:40px;"><a href="#%E4%B8%80%E3%80%81%E6%9C%89%E5%85%B3%E5%AF%86%E7%A0%81%E5%8A%A0%E5%AF%86%E7%9A%84%E9%97%AE%E9%A2%98%C2%A0" rel="nofollow">一、有关密码加密的问题 </a></p> 
<p id="%E4%BA%8C%E3%80%81%E6%B6%88%E6%81%AF%E6%91%98%E8%A6%81%E7%AE%97%E6%B3%95-toc" style="margin-left:40px;"><a href="#%E4%BA%8C%E3%80%81%E6%B6%88%E6%81%AF%E6%91%98%E8%A6%81%E7%AE%97%E6%B3%95" rel="nofollow">二、消息摘要算法</a></p> 
<p id="%E4%B8%89%E3%80%81%E5%A6%82%E4%BD%95%E4%BF%9D%E9%9A%9C%E7%94%A8%E6%88%B7%E5%AF%86%E7%A0%81%E7%9A%84%E5%AE%89%E5%85%A8-toc" style="margin-left:40px;"><a href="#%E4%B8%89%E3%80%81%E5%A6%82%E4%BD%95%E4%BF%9D%E9%9A%9C%E7%94%A8%E6%88%B7%E5%AF%86%E7%A0%81%E7%9A%84%E5%AE%89%E5%85%A8" rel="nofollow">三、如何保障用户密码的安全</a></p> 
<hr id="hr-toc"> 
<p></p> 
<h3>一、有关密码加密的问题 </h3> 
<ul><li>首先，对密码进行加密后，再存储，是非常有必要的,并且主要的防范对象通常是内部员工！</li><li>需要注意，对密码进行加密处理时，不可以使用加密算法！因为，<span style="color:#fe2c24;"><span style="background-color:#ffd900;">所有的加密算法都是可以加密，也可以解密的</span></span>！</li><li>加密算法的核心价值在于<span style="color:#fe2c24;"><strong><span style="background-color:#f9eda6;">保证数据在传输过程中是安全的，并不保证数据存储的安全</span></strong><span style="background-color:#f9eda6;">！</span></span></li><li>对需要存储的密码进行加密处理时，应该使用<span style="color:#fe2c24;"><strong><span style="background-color:#ffd900;">消息摘要算法</span></strong></span>，其本质是一种哈希算法，是<span style="color:#fe2c24;"><strong><span style="background-color:#f9eda6;">不可逆向运算</span></strong></span>的！</li></ul> 
<hr> 
<p>在pring Boot项目中，提供了<span style="color:#fe2c24;"><strong>DigestUtils</strong></span>工具类，此工具类的方法可以轻松实现“使用MD5算法”进行运算，从而，可以实现将原始密码进行加密，得到一个加密后的结果。</p> 
<pre style="color:#000000;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;margin-left:0;"><code class="language-java" style="color:rgb(56,58,66);background:rgb(250,250,250);line-height:22px;font-size:14px;font-family:'Source Code Pro', 'DejaVu Sans Mono', 'Ubuntu Mono', 'Anonymous Pro', 'Droid Sans Mono', Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, 'PingFang SC', 'Microsoft YaHei', sans-serif;">import lombok.extern.slf4j.Slf4j;
import org.junit.jupiter.api.Test;
import org.springframework.util.DigestUtils;

@Slf4j
public class DigestTests {

    @Test
    public void testEncode() {
        String rawPassword = "123456";
        String encodedPassword = DigestUtils
                .md5DigestAsHex(rawPassword.getBytes());
        log.debug("原始密码={}，MD5运算结果={}", rawPassword, encodedPassword);
    }

}</code></pre> 
<p>运算后的结果就是:</p> 
<p><img alt="" src="https://images2.imgbox.com/52/d4/EZMRXf8Y_o.png"></p> 
<h3 id="%E4%BA%8C%E3%80%81%E6%B6%88%E6%81%AF%E6%91%98%E8%A6%81%E7%AE%97%E6%B3%95">二、消息摘要算法</h3> 
<p><strong>1、消息摘要算法的典型特征：</strong></p> 
<ul><li>消息相同，则摘要相同 </li><li>无论消息长度，摘要的长度是固定的（同一种算法）</li><li>消息不同，则摘要几乎不会相同</li></ul> 
<p><strong>2、常见的消息摘要算法：</strong></p> 
<ul><li>MD系列：MD2（128bit）、MD4（128bit）、MD5（128bit）</li><li>SHA家族：SHA-1（160bit）、SHA-256（256bit）、SHA-384（384bit）、SHA-512（512bit）</li></ul> 
<p> 以MD5为例，其运算结果是128个二进制组成，通常，会转换成十六进制数来表示，则是32位长度的十六进制数。</p> 
<p>所以，MD5算法的运算结果的种类有2的128次方种，即：340282366920938463463374607431768211456</p> 
<p>由于<span style="color:#fe2c24;"><span style="background-color:#ffd900;">消息算法在运算过程中会丢失一部分的数据，所以，消息算法都是不可逆的</span></span>！</p> 
<p>使用消息摘要算法处理密码加密时，任何“破解”都不会是“根据密文计算得到原文”的！</p> 
<p>在网络上，有一些平台记录了简单的明文密文的对应关系的数据库，以实现“根据密文查询出原文”的效果，但是，只要原文足够复杂（8位长度以上），这些平台不可能收录其对应关系！</p> 
<p>例如<a href="http://www.ttmd5.com/" rel="nofollow" title="md5解密|md5在线解密 - 全球唯一8位小写+数字全收录的解密网站">md5解密|md5在线解密 - 全球唯一8位小写+数字全收录的解密网站</a></p> 
<p>我们可以去尝试一下，将之前的密码123456加密后的密文去进行解密：</p> 
<p><img alt="" class="left" src="https://images2.imgbox.com/ee/8e/Vq0eQIzb_o.png"></p> 
<p> 我们可以看出平台记录了简单的明文密文的对应关系，对于一些简单的长度小的密码是可以解密的，但是当我们的密码足够复杂长度够长后这些平台就不可能对其进行解密。</p> 
<p>所以<span style="color:#fe2c24;"><span style="background-color:#ffd900;">为了保证密码原文的复杂性，应该使用“盐”，它将作为被运算数据的组件部分之一</span></span>，例如：</p> 
<pre style="color:#000000;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;margin-left:0;"><code class="language-java" style="color:rgb(56,58,66);background:rgb(250,250,250);line-height:22px;font-size:14px;font-family:'Source Code Pro', 'DejaVu Sans Mono', 'Ubuntu Mono', 'Anonymous Pro', 'Droid Sans Mono', Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, 'PingFang SC', 'Microsoft YaHei', sans-serif;">String rawPassword = "123456";
String salt = "jhfdiu78543hjfdo8";
String encodedPassword = DigestUtils.md5DigestAsHex((rawPassword + salt).getBytes());</code></pre> 
<p>当添加盐后，即使原密码非常简单，但是，对于运算过程而言，真正的原始数据已经变成了123456jhfdiu78543hjfdo8，这样的原文与其密文的对应关系是不可能被各平台收录的！</p> 
<p>我们可以将得到的密文去测试一下：</p> 
<pre style="color:#000000;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;margin-left:0;"><code class="language-java" style="color:rgb(56,58,66);background:rgb(250,250,250);line-height:22px;font-size:14px;font-family:'Source Code Pro', 'DejaVu Sans Mono', 'Ubuntu Mono', 'Anonymous Pro', 'Droid Sans Mono', Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, 'PingFang SC', 'Microsoft YaHei', sans-serif;">原文： 123456
所加的盐：jhfdiu78543hjfdo8
加盐得到的密文：4eddcdd18bc7d8af88916114bf763189</code></pre> 
<p><img alt="" class="left" src="https://images2.imgbox.com/31/5f/kh2DOrjl_o.png"></p> 
<p> 可以看出结果并没有和之前一样成功解密</p> 
<h3 id="%E4%B8%89%E3%80%81%E5%A6%82%E4%BD%95%E4%BF%9D%E9%9A%9C%E7%94%A8%E6%88%B7%E5%AF%86%E7%A0%81%E7%9A%84%E5%AE%89%E5%85%A8">三、如何保障用户密码的安全</h3> 
<p>所以为了保障用户密码的安全，可行的做法有：</p> 
<p><strong>1、要求用户使用强度更高的原始密码</strong></p> 
<ul><li>要求使用较长的密码</li><li>要求密码中包含的字符种类更多样化</li></ul> 
<p><strong>2、加盐</strong></p> 
<ul><li>理论上，盐值越复杂越好，但是，也没有必要过度复杂</li><li> 盐值的具体使用也没有规定，原则上，只要能使得被运算数据变复杂即可</li></ul> 
<p><strong>3、循环加密</strong></p> 
<ul><li>将第1次运算得到的密文，作为原文，进行第2次的运算，如此循环多次</li><li>使用位长更长的消息摘要算法 - 综合使用以上各种做法</li></ul>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/3dc9298c9222abe10d4f59789adb0d44/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">IDEA最牛逼的五款插件，没有之一，堪称神器</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/3f360ed3181a7794841f69980317c958/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">windows系统下压力测试工具（cpu使用率，内存使用率，磁盘使用率，磁盘空间）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>