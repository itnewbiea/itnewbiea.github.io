<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>laravel yii thinkphp 框架对比_PHP框架之Laravel基础知识最全总结 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="laravel yii thinkphp 框架对比_PHP框架之Laravel基础知识最全总结" />
<meta property="og:description" content="编程小丸子 2019-12-19 21:50:07
laravel框架基础知识
一、laravel简介
laravel是一套优雅简介的PHP开发框架，受欢迎程度非常之高，功能强大，工具齐全；今天我们一起来看看框架的基础知识
二、版本选择
本篇学习笔记以laravel5.2.15版本为框架的版本基础；更多版本请移步https://www.golaravel.com/
三、laravel下载安装以及开发环境搭建
（一）：环境搭建
由于laravel使用较多的php新特性，所以新版本的laravel对PHP的版本要求比较高，这里选择的laravel5.2.15要求 PHP&gt;5.5.9&#43; 。Win系统下推荐使用集成的开发环境比如wamp、phpStudy、Xampp都可以，下载安装的时候需要注意PHP版本，Linux系统下需要编译安装。
（二）：下载、安装及大致介绍
1、安装包下载安装
原本laravel中文网是可以下载一键安装包的，但是等我去下载的时候发现没地方可以下载，也只能通过度娘找其它下载资源下载安装包然后安装；我的资源：https://github.com/yuwenbo5/laravel5.2.15.git；下载安装包后解压更改名称(laravel)，直接拷贝到环境根目录www（win下wamp环境）或者 /var/www/html（linux下lamp环境）中；打开浏览器输入url：localhost/laravel/public 然后回车，出现如下画面表示安装成功：
laravel5启动页面
2、composer安装
cd到环境根目录，使用命令：composer create-project --prefer-dist laravel/laravel=5.2.15 laravel(项目名称,可修改)
3、简单介绍
laravel是基于mvc模式的php框架，m——模型层，v——视图层，c——控制器层；以下为laravel框架的目录文件，框出来的文件目录将在后续中用到：
框架目录
app是应用的核心代码文件目录，以后的代码基本都在这里完成；app/Http/Controller目录是应用的控制器文件；routes.php是框架的路由文件，负责路由分配和映射；Http下的类文件，比如上面目录中的User.php、Menu.php文件是应用的模型文件；config目录是所有应用的配置文件目录；public是框架的入口文件及静态资源文件目录；resources/views则是应用的视图文件目录。
四、laravel路由
（一）：简介
用过thinkPHP的开发者都知道，传统的MVC的url都是对应应用的控制器及控制器中的方法，laravel中的MVC则是通过路由功能映射到对应的程序(控制器方法)，通过路由将用户的请求发送到对应的程序进行处理，其作用就是建立url和处理程序之间的映射关系，这样做有一个好处，对url进行美化只需要修改路由而无需对程序本身进行修改。
laravel中请求类型包括：get、post、put、patch、delete。
前面说了route.php是laravel的路由文件，所有的路由映射都要通过编辑route.php文件进行代码书写。
（二）：路由学习
1、基本路由
get请求：
1 &lt;?php 2 3 //基本路由的get请求 4 5 Route::get(&#39;get_base&#39;, function(){ 6 return &#39;get request base&#39;; 7 }); 8 9 10 浏览器输入：http://127.0.0.1/laravel/public/get_base 11 页面输出：get request base post请求：
1 &lt;?php 2 3 //基本路由的post请求 4 5 Route::post(&#39;post_base&#39;, function(){ 6 return &#39;post request base&#39;; 7 }); 8 9 10 以上路由需要通过post方式请求，这里不做演示 11 请求后页面输出：post request base 2、多请求路由" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/ef1da7c92a2d6abc0a4dd08e26c000f4/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-11-27T15:58:01+08:00" />
<meta property="article:modified_time" content="2020-11-27T15:58:01+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">laravel yii thinkphp 框架对比_PHP框架之Laravel基础知识最全总结</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div> 
 <p>编程小丸子 2019-12-19 21:50:07</p> 
 <p></p> 
 <div style="text-align:center;"> 
  <img src="https://images2.imgbox.com/d4/e6/RRpJz0AB_o.png" alt="ff5e62a248c18a873710f87402b2c403.png"> 
 </div> 
 <p>laravel框架基础知识<br>一、laravel简介<br>laravel是一套优雅简介的PHP开发框架，受欢迎程度非常之高，功能强大，工具齐全；今天我们一起来看看框架的基础知识<br>二、版本选择<br>本篇学习笔记以laravel5.2.15版本为框架的版本基础；更多版本请移步https://www.golaravel.com/<br>三、laravel下载安装以及开发环境搭建<br>（一）：环境搭建<br>由于laravel使用较多的php新特性，所以新版本的laravel对PHP的版本要求比较高，这里选择的laravel5.2.15要求 PHP&gt;5.5.9+ 。Win系统下推荐使用集成的开发环境比如wamp、phpStudy、Xampp都可以，下载安装的时候需要注意PHP版本，Linux系统下需要编译安装。<br>（二）：下载、安装及大致介绍<br>1、安装包下载安装<br>原本laravel中文网是可以下载一键安装包的，但是等我去下载的时候发现没地方可以下载，也只能通过度娘找其它下载资源下载安装包然后安装；我的资源：https://github.com/yuwenbo5/laravel5.2.15.git；下载安装包后解压更改名称(laravel)，直接拷贝到环境根目录www（win下wamp环境）或者 /var/www/html（linux下lamp环境）中；打开浏览器输入url：localhost/laravel/public 然后回车，出现如下画面表示安装成功：</p> 
 <p></p> 
 <div style="text-align:center;"> 
  <img src="https://images2.imgbox.com/c0/3f/YzMV1Hjq_o.png" alt="be40a7dd85ca3c8202eb65ae94f28b27.png"> 
 </div> 
 <p>laravel5启动页面<br>2、composer安装<br>cd到环境根目录，使用命令：composer create-project --prefer-dist laravel/laravel=5.2.15 laravel(项目名称,可修改)<br>3、简单介绍<br>laravel是基于mvc模式的php框架，m——模型层，v——视图层，c——控制器层；以下为laravel框架的目录文件，框出来的文件目录将在后续中用到：</p> 
 <p></p> 
 <div style="text-align:center;"> 
  <img src="https://images2.imgbox.com/58/16/qVuIGU33_o.png" alt="c090debc9a1693bbd43329f14ca2f88d.png"> 
 </div> 
 <p>框架目录<br>app是应用的核心代码文件目录，以后的代码基本都在这里完成；app/Http/Controller目录是应用的控制器文件；routes.php是框架的路由文件，负责路由分配和映射；Http下的类文件，比如上面目录中的User.php、Menu.php文件是应用的模型文件；config目录是所有应用的配置文件目录；public是框架的入口文件及静态资源文件目录；resources/views则是应用的视图文件目录。<br>四、laravel路由<br>（一）：简介<br>用过thinkPHP的开发者都知道，传统的MVC的url都是对应应用的控制器及控制器中的方法，laravel中的MVC则是通过路由功能映射到对应的程序(控制器方法)，通过路由将用户的请求发送到对应的程序进行处理，其作用就是建立url和处理程序之间的映射关系，这样做有一个好处，对url进行美化只需要修改路由而无需对程序本身进行修改。<br>laravel中请求类型包括：get、post、put、patch、delete。<br>前面说了route.php是laravel的路由文件，所有的路由映射都要通过编辑route.php文件进行代码书写。<br>（二）：路由学习<br>1、基本路由<br>get请求：</p> 
 <div class="has"> 
  <pre><code>1 &lt;?php 
2  
3 //基本路由的get请求 
4  
5 Route::get('get_base', function(){ 
6     return 'get request base'; 
7 }); 
8  
9 
10 浏览器输入：http://127.0.0.1/laravel/public/get_base
11 页面输出：get request base</code></pre> 
 </div> 
 <p><br>post请求：</p> 
 <div class="has"> 
  <pre><code>1 &lt;?php 
2  
3 //基本路由的post请求 
4  
5 Route::post('post_base', function(){ 
6     return 'post request base'; 
7 }); 
8  
9 
10 以上路由需要通过post方式请求，这里不做演示
11 请求后页面输出：post request base</code></pre> 
 </div> 
 <p><br>2、多请求路由<br>顾名思义，多请求路由则是可以通过多种请求方式进行请求，多请求路由主要有两种方式，match和any<br>(1)、match接收请求类型的数组从而限定请求的类型：</p> 
 <div class="has"> 
  <pre><code>1 &lt;php 
2  
3 //多请求路由match 
4  
5 Route::match(['get','post'], 'multi', function(){ 
6     return 'multi post or get'; 
7 }); 
8  
9 url：http://127.0.0.1/laravel/public/multi
10 此路由可通过get、post请求11 请求后返回字符串：multi post or get</code></pre> 
 </div> 
 <p><br>(2)、any方式</p> 
 <div class="has"> 
  <pre><code>1 &lt;?php 
2  
3 //any方式 
4  
5 Route::any('multi', function(){ 
6    return 'multi get or post'; 
7 }); 
8  
9 
10 url：http://127.0.0.1/laravel/public/multi
11 请求返回字符串：multi get or post</code></pre> 
 </div> 
 <p><br>3、路由参数<br>给路由绑定参数，接收参数进行处理<br>(1)、必选参数</p> 
 <div class="has"> 
  <pre><code>1 &lt;?php 
2  
3 //带参数的路由 
4  
5 Route::get('myname/{name}', function($name){ 
6     return 'my name is '.$name; 
7 }); 
8  
9 
10 url：http://127.0.0.1/laravel/public/myname/yuwenbo
11 get访问后页面输出：my name is yuwenbo</code></pre> 
 </div> 
 <p><br>(2)、可选参数($userid=null表示默认值，可设置没有参数时的默认值)</p> 
 <div class="has"> 
  <pre><code>1 &lt;?php 
2  
3 //可选参数绑定 
4  
5 Route::get('user/{userid?}', function($userid=null){ 
6     return 'userid is '.$userid; 
7 }); 
8  
9 访问url：http://127.0.0.1/laravel/public/user/username
10 输出：userid is username
11 
12 访问url：http://127.0.0.1/laravel/public/user
13 输出：userid is
14 
15 可选参数绑定使得路由很灵活</code></pre> 
 </div> 
 <p><br>(3)、路由参数过滤(用正则表达式对传入的参数进行过滤)</p> 
 <div class="has"> 
  <pre><code>1 &lt;?php 
2  
3 /* 
4 参数过滤 
5 */ 
6  
7 //单个参数过滤 
8 Route::get('num/{num?}', function($num=15){ 
9     return 'this num is '.$num;
10 })-&gt;where('num','[0-9]+');
11 
12 访问url：http://127.0.0.1/laravel/public/num/5
13 返回输出：this num is 5
14 
15 访问url：http://127.0.0.1/laravel/public/num
16 返回输出：this num is 15
17 
18 访问url：http://127.0.0.1/laravel/public/num/fhdja
19 页面报错
20 
21 //多个参数过滤
22 Route::get('info/{name}/{age?}', function($name,$age=null){
23     return 'name is '.$name.', age is '.$age;
24 })-&gt;where(['name' =&gt; '[a-zA-Z]+', 'age' =&gt; '[1-9]+']);
25 
26 可使用数组形式过滤多个参数</code></pre> 
 </div> 
 <p><br>4、路由别名<br>给路由通过['as' =&gt; 'alias']数组使用别名后，可通过route('别名')生成url，请看代码理解：</p> 
 <div class="has"> 
  <pre><code>1 &lt;?php 
2  
3 //路由别名 
4  
5 Route::get('student/info',['as' =&gt; 'studentInfo' ,function(){ 
6  
7     //通过route('studentInfo')生成完成url后返回 
8     return route('studentInfo'); 
9 
10 }]);
11 
12 
13 访问url：http://127.0.0.1/laravel/public/student/info
14 页面返回：http://127.0.0.1/laravel/public/student/info
15 
16 注：别名的好处在于，以后在控制器中使用route('别名')的方式生成url后，即便修改了路由的名字，也不用再修改控制器程序，因为通过别名程序能自动生成修改后的url</code></pre> 
 </div> 
 <p><br>5、路由群组<br>通过关键字group创建路由群组</p> 
 <div class="has"> 
  <pre><code>1 &lt;?php 
2  
3 /* 
4 *路由群组 
5 */ 
6  
7 Route::group(['prefix' =&gt; 'admin'], function(){
8      
9     //此时的访问地址：http://127.0.0.1/laravel/public/admin/student/info
10     Route::get('student/info',['as' =&gt; 'studentInfo' ,function(){
11         return route('studentInfo');
12     }]);
13 
14     //此时的访问地址：http://127.0.0.1/laravel/public/admin/info/yuwenbo/20
15     Route::get('info/{name}/{age?}', function($name,$age=null){
16         return 'name is '.$name.', age is '.$age;
17     })-&gt;where(['name' =&gt; '[a-zA-Z]+', 'age' =&gt; '[1-9]+']);
18     
19 });
20 
21 此时的访问地址url必须要加上群组前缀，否则将不能访问</code></pre> 
 </div> 
 <p><br>6、路由中输出视图<br>通过view()函数输入视图</p> 
 <div class="has"> 
  <pre><code>1 &lt;?php 
2  
3 /** 
4 * 路由中输出视图 
5 */ 
6  
7 //框架的欢迎界面路由 
8  
9 Route::get('/',function(){
10    return view('welcome');
11 });
12 
13 访问url：http://127.0.0.1/laravel/public
14 浏览器显示laravel的欢迎界面
15 
16 
17 //做如下修改
18 Route::get('welcome',function(){
19    return view('welcome');
20 });
21 
22 修改后访问url：http://127.0.0.1/laravel/public/welcome
23 浏览器同样显示laravel的欢迎界面</code></pre> 
 </div> 
 <p><br>一般情况是不会在路由中输出视图的。<br>五、控制器<br>控制器目录app/Http/Controller，此目录下有一个基本的控制器Controller，新增的控制器统一继承此Controller；<br>命名空间：namespce AppHttpController；<br>命名规则：控制器文件名跟类名统一首字母大写，以 控制器名+Controller 为命名规则，比如新建一个控制器 ：AdminController.php</p> 
 <div class="has"> 
  <pre><code>1 &lt;?php 
2 /** 
3  * Created by PhpStorm. 
4  * User: Administrator 
5  * Date: 2018/8/25/025 
6  * Time: 0:51 
7  */ 
8  
9 namespace AppHttpControllers;
10 
11 class AdminController extends Controller
12 {
13     public function index()
14     {
15         return view('admin/index');
16     }
17 }
18 
19 
20 新建控制器AdminController继承于基类Controller</code></pre> 
 </div> 
 <p><br>1、路由关联控制器，通过路由访问控制器程序：</p> 
 <div class="has"> 
  <pre><code>1 &lt;?php 
2  
3 //路由关联映射控制器方法一： 
4  
5 Route::get('admin/index', 'AdminController@index'); 
6  
7  
8 //路由关联控制器方法二： 
9 
10 Route::get('admin/index', ['uses' =&gt; 'AdminController@index']);
11 
12 
13 //路由别名关联控制器：
14 
15 Route::get('admin/index', [
16     'uses' =&gt; 'AdminController@index',
17     'as' =&gt; 'adminindex'
18 ]);</code></pre> 
 </div> 
 <p><br>2、路由关联控制器进行参数绑定：</p> 
 <div class="has"> 
  <pre><code>1 //路由书写 route.php 
2 &lt;?php 
3 //结合之前学习的参数过滤 
4 Route::get('admin/index/{num}', [ 
5     'uses' =&gt; 'AdminController@index', 
6     'as' =&gt; 'adminindex' 
7 ])-&gt;where('num', '[0-9]+'); 
8  
9 ?&gt;
10 
11 
12 
13 //控制器代码 AdminController.php
14 &lt;?php
15 /**
16  * Created by PhpStorm.
17  * User: Administrator
18  * Date: 2018/8/25/025
19  * Time: 0:51
20  */
21 namespace AppHttpControllers;
22 
23 class AdminController extends Controller
24 {
25     public function index($num)
26     {
27         return 'num is '.$num;
28     }
29 }
30 
31 ?&gt;
32 
33 访问url：127.0.0.1/laravel/public/admin/index/5
34 页面输出：num is 5</code></pre> 
 </div> 
 <p><br>六、模型<br>laravel框架的模型文件在app目录下，统一首字母大写，文件名与类名一致，统一继承于 IlluminateDatabaseEloquentModel 基类；<br>（一）、新建模型及使用</p> 
 <div class="has"> 
  <pre><code>1 //模型文件 Admin.php 
2 &lt;?php 
3 /** 
4  * Created by PhpStorm. 
5  * User: Administrator 
6  * Date: 2018/8/25/025 
7  * Time: 13:35 
8  */ 
9 namespace App;
10 use IlluminateDatabaseEloquentModel;
11 
12 class Admin extends Model
13 {
14     public static function getAdmin()
15     {
16         return 'this is admin model static getAdmin action';
17     }
18 
19 }
20 
21 ?&gt;
22 
23 
24 //控制器文件 AdminController.php
25 &lt;?php
26 /**
27  * Created by PhpStorm.
28  * User: Administrator
29  * Date: 2018/8/25/025
30  * Time: 0:51
31  */
32 namespace AppHttpControllers;
33 
34 class AdminController extends Controller
35 {
36     public function index()
37     {
38         return Admin::getAdmin();
39     }
40 }</code></pre> 
 </div> 
 <p><br>（二）、数据库操作<br>连接数据库mysql，laravel的数据库连接只需要配置好数据库的配置文件即可，也就是config目录下的database.php</p> 
 <div class="has"> 
  <pre><code>1 //database.php文件 
2  
3  
4 'mysql' =&gt; [
5             'driver' =&gt; 'mysql', 
6             'host' =&gt; env('DB_HOST', 'localhost'), 
7             'port' =&gt; env('DB_PORT', '3306'), 
8             'database' =&gt; env('DB_DATABASE', 'forge'), 
9             'username' =&gt; env('DB_USERNAME', 'forge'),
10             'password' =&gt; env('DB_PASSWORD', ''),
11             'charset' =&gt; 'utf8',
12             'collation' =&gt; 'utf8_unicode_ci',
13             'prefix' =&gt; 'shop_',
14             'strict' =&gt; false,
15             'engine' =&gt; null,
16      ]
17 
18 //配置文件读取的是.env文件的内容</code></pre> 
 </div> 
 <p><br>打开.env文件，做如下配置修改即可连接到mysql数据库</p> 
 <div class="has"> 
  <pre><code>1 APP_ENV=local 
2 APP_DEBUG=true 
3 APP_KEY=base64:IxkVvrRLqdJeU9h8vGu1W58OG3NVuDtkMWyC6nIT4qs= 
4 APP_URL=http://localhost 
5  
6 //mysql连接配置 
7 DB_CONNECTION=mysql 
8 DB_HOST=localhost 
9 DB_PORT=3308
10 DB_DATABASE=shop
11 DB_USERNAME=root
12 DB_PASSWORD=root
13 
14 CACHE_DRIVER=file
15 SESSION_DRIVER=file
16 QUEUE_DRIVER=sync
17 
18 REDIS_HOST=127.0.0.1
19 REDIS_PASSWORD=null
20 REDIS_PORT=6379
21 
22 MAIL_DRIVER=smtp
23 MAIL_HOST=mailtrap.io
24 MAIL_PORT=2525
25 MAIL_USERNAME=null
26 MAIL_PASSWORD=null
27 MAIL_ENCRYPTION=null</code></pre> 
 </div> 
 <p><br>1、使用DB facade操作数据库<br>类似原生的sql语句进行curd操作，例如：新建一个表user包含id、username、passwrod、email、sex、create_time、update_time字段</p> 
 <div class="has"> 
  <pre><code>1 &lt;?php 
2 /** 
3  * 使用DB facade进行CURD操作 
4  * Created by PhpStorm. 
5  * User: Administrator 
6  * Date: 2018/8/25/025 
7  * Time: 0:51 
8  */ 
9 namespace AppHttpControllers;
10 use AppHttpControllersController;
11 use IlluminateHttpRequest;
12 use IlluminateSupportFacadesDB;
13 
14 class AdminController extends Controller
15 {
16 
17     public function query()
18     {
19         //查询
20         $user_list = DB::select('select * from user');//返回数组
21 
22 
23         //新增
24         $bool = DB::insert('insert into user(username,email,sex) values(?, ? ,?)',
25 ['admin', 'example@mail.com', '1']);//返回布尔值
26 
27         //修改
28          $rows = DB::update('update user set password=? where username=?',['123456', 'admin']);//返回影响的行数
29 
30         //删除
31         $rows = DB::delete('delete from user where username=?', ['admin']);//返回删除的行数
32 
33     }
34 }</code></pre> 
 </div> 
 <p><br>使用DB facade操作数据库，初学还是很简单的，因为原生的sql还是比较熟的。<br>2、使用查询构造器操作数据库<br>使用查询构造器进行数据库操作使得操作简介、方便，示例使用上面的user表进行演示<br>查询构造器----新增数据</p> 
 <div class="has"> 
  <pre><code>1 &lt;?php 
2 /** 
3  * 查询构造器之新增数据 
4  * Created by PhpStorm. 
5  * User: Administrator 
6  * Date: 2018/8/25/025
7  * Time: 0:51 
8  */
9 namespace AppHttpControllers;
10 use AppHttpControllersController;
11 use IlluminateHttpRequest;
12 use IlluminateSupportFacadesDB;
13 
14 class AdminController extends Controller
15 {
16 
17     public function query()
18     {
19         //插入一条数据
20         $bool = DB::table('user')-&gt;insert(
21             ['username' =&gt; 'yuwenbo', 'email' =&gt; 'example@mail.com', 'sex' =&gt; 1]
22         );//返回布尔值
23 
24         //插入一条数据返回插入的id
25         $insert_id = DB::table('user')-&gt;insertGetId(
26             ['username' =&gt; 'yuwenbo', 'email' =&gt; 'example@mail.com', 'sex' =&gt; 1]
27         );
28 
29 
30         //插入多条数据
31         $bool = DB::table('user')-&gt;insert([
32             ['username' =&gt; 'yuwenbo', 'email' =&gt; 'example@mail.com', 'sex' =&gt; 1],
33             ['username' =&gt; 'tom', 'email' =&gt; 'example@mail.com', 'sex' =&gt; 0]
34         ]);
35 
36     }
37 
38 }</code></pre> 
 </div> 
 <p><br>查询构造器-----更新数据：更新指定内容和自增自减两种方式</p> 
 <div class="has"> 
  <pre><code>1 &lt;?php 
2 /** 
3  * 查询构造器之更新数据 
4  * Created by PhpStorm. 
5  * User: Administrator 
6  * Date: 2018/8/25/025 
7  * Time: 0:51 
8  */ 
9 namespace AppHttpControllers;
11 use AppHttpControllersController;
12 use IlluminateHttpRequest;
13 use IlluminateSupportFacadesDB;
14 
15 class AdminController extends Controller
16 {
17 
18     public function query()
19     {
20         //更新指定内容
21         $rows = DB::table('user')-&gt;where('username','admin')-&gt;update(['password' =&gt; '123456']);//返回影响的行数
22 
23         //更新自增自减24         $rows = DB::table('user')-&gt;where('username','admin')-&gt;increment('sex');//自增1
25         $rows = DB::table('user')-&gt;where('username','admin')-&gt;increment('sex',$n);//自增n
26
27         $rows = DB::table('user')-&gt;where('username','admin')-&gt;decrement('sex');//自减1
28         $rows = DB::table('user')-&gt;where('username','admin')-&gt;decrement('sex',$n);//自减n
29 
30         //自增同时修改其它内容
31         $rows = DB::table('user')-&gt;where('username','admin')-&gt;increment('sex', 3, ['email' =&gt; '4546464684@mail.com']);//自增同时修改内容
32 
33     }
34 
35 }</code></pre> 
 </div> 
 <p><br>查询构造器----删除数据</p> 
 <div class="has"> 
  <pre><code>1 &lt;?php 
2 /** 
3  * 查询构造器之删除数据 
4  * Created by PhpStorm. 
5  * User: Administrator 
6  * Date: 2018/8/25/025 
7  * Time: 0:51 
8  */ 
9 namespace AppHttpControllers;
10 use AppHttpControllersController;
11 use IlluminateHttpRequest;
12 use IlluminateSupportFacadesDB;
13 
14 class AdminController extends Controller
15 {
16 
17     public function query()
18     {
19         //删除数据
20         $rows = DB::table('user')-&gt;where('username','admin')-&gt;delete();
21 
22         //清空数据(危险，谨慎使用)
23         DB::table('user')-&gt;truncate();
24 
25     }
26 
27 }</code></pre> 
 </div> 
 <p><br>查询构造器-----查询数据</p> 
 <div class="has"> 
  <pre><code>1 &lt;?php 
2 /** 
3  * 查询构造器之查询数据 
4  * Created by PhpStorm.
5  * User: Administrator 
6  * Date: 2018/8/25/025 
7  * Time: 0:51 
8  */ 
9 namespace AppHttpControllers;
10 use AppHttpControllersController;
11 use IlluminateHttpRequest;
12 use IlluminateSupportFacadesDB;
13 
14 class AdminController extends Controller
15 {
16 
17     public function query()
18     {
19         //返回所有的数据get()
20         $user_list = DB::table('user')-&gt;get();
21         $user_list = DB::table('user')-&gt;where('id','&gt;=',2)-&gt;get();
22 
23         //多条件查询
24         $user_list = DB::table('user')-&gt;whereRaw('id &gt;= ? and sex = ?', ['5' ,'1'])-&gt;get();
25 
26         //按照默认排序返回第一条数据first()
27         $user = DB::table('user')-&gt;first();
28         $user = DB::table('user')-&gt;orderBy('id','desc')-&gt;first();
29         $user = DB::table('user')-&gt;where('id', 2)-&gt;first();
30 
31         //返回结果集中指定的字段pluck
32         $usernames = DB::table('user')-&gt;whereRaw('id &gt;= ? and sex = ?', ['5' ,'1'])-&gt;pluck('username');
33
34         //返回指定字段的下标lists
35         $usernames = DB::table('user')-&gt;whereRaw('id &gt;= ? and sex = ?', ['5' ,'1'])-&gt;lists('username', 'id');//以id作为下标
36 
37         //返回指定的多个字段select()
38         $user_list = DB::table('user')-&gt;where('id', '&gt;=', '1')-&gt;select('username','email','sex')-&gt;get();
39 
40         //每次查指定的条数chunk
41         DB::table('user')-&gt;chunk(2, function($user_list){
42             dd($user_list);
43         });
44 
45     }
46 
47 }</code></pre> 
 </div> 
 <p><br>mysql中的聚合函数对应的构造器方法count()、max()、min()、avg()、sum()，使用都比较简单也很好理解，这里不再赘述<br>七、视图<br>laravel框架的视图支持原生的php文件，视图的目录 resources/views；<br>命名：统一以.php为后缀的PHP文件，规则：视图名+.+blade，例如新建一个视图文件：index.blade.php<br>一般情况下一个控制器会建一个视图目录，例如AdminController控制器，我们将在views下新建一个admin目录<br>（一）、新建视图</p> 
 <div class="has"> 
  <pre><code>1 //模板文件 views/admin/index.blade.php2 3 this is views/admin/index.blade</code></pre> 
 </div> 
 <p><br>（二）、输出视图</p> 
 <div class="has"> 
  <pre><code>1 //路由文件 
2 &lt;?php 
3     //绑定控制器方法 
4     Route::get('admin/index', 'AdminController@index'); 
5  
6 ?&gt; 
7  
8  
9 //控制器文件 AdminController.php
10 &lt;?php
11 /**
12  * Created by PhpStorm.
13  * User: Administrator
14  * Date: 2018/8/25/025
15  * Time: 0:51
16  */
17 namespace AppHttpControllers;
18 
19 class AdminController extends Controller
20 {
21     public function index()
22     {
23         return view('adminindex');//传入要输出的模板名即可
24     }
25 }
26 
27 访问url：http://127.0.0.1/laravel/public/admin/index
28 页面显示：this is views/admin/index.blade</code></pre> 
 </div> 
 <p><br>输出视图时可以携带变量然后在模板中输出出来，这点将在后面的模板的详细使用中用到；<br>（三）、模板详解<br>1、模板继承<br>由于多数页面有相同部分，所以使用模板继承简化模板使用；以下首先在views/common下新建一个基本的公共模板文件base.blade.php，公共的模板文件放在views/common文件夹下<br>base.blade.php</p> 
 <div class="has"> 
  <pre><code>1 &lt;!DOCTYPE html&gt; 
2 &lt;html&gt; 
3 &lt;head&gt; 
4 &lt;meta charset="utf-8"/&gt; 
5 &lt;title&gt;后台管理-@yield('title')&lt;/title&gt; 
6 &lt;meta name="author" content="DeathGhost" /&gt; 
7 &lt;link rel="stylesheet" type="text/css" href="{<!-- -->{ asset('admin/static/css/style.css') }}"&gt; 
8 @section('style') 
9     //样式代码区
10 @show
11 &lt;!--[if lt IE 9]&gt;
12 &lt;script src="{<!-- -->{ asset('admin/static/js/html5.js') }}"&gt;&lt;/script&gt;
13 &lt;![endif]--&gt;
14 &lt;script src="{<!-- -->{  asset('admin/static/js/jquery.js') }}"&gt;&lt;/script&gt;
15 &lt;script src="{<!-- -->{ asset('admin/static/js/jquery.mCustomScrollbar.concat.min.js') }}"&gt;&lt;/script&gt;
16 &lt;/head&gt;
17 &lt;body&gt;
18 &lt;!--header--&gt;
19 @section('header')
20   &lt;header&gt;
21   //头部
22   &lt;/header&gt;
23 @show
24 &lt;!--aside nav--&gt;
25 &lt;!--aside nav--&gt;
26 @section('leftmenu')
27 &lt;aside class="lt_aside_nav content mCustomScrollbar"&gt;
28      //左边菜单
29 &lt;/aside&gt;
30 @show
31 
32 &lt;section class="rt_wrap content mCustomScrollbar"&gt;
33 
34   @yield('content')  //主内容区域
35 
36 &lt;/section&gt;
37 @section('footer')
38     //页面底部
39 @show
40 @section('javascript')
41     //javascript代码区
42 @show
43 &lt;/body&gt;
44 &lt;/html&gt;</code></pre> 
 </div> 
 <p><br>在views下新建首页index.blade.php继承公共模板文件<br>index.blade.php</p> 
 <div class="has"> 
  <pre><code>1 @extends('common.base')
2  
3 @section('title') 
4   首页 
5 @stop 
6  
7 @section('style') 
8  &lt;style&gt; 
9   .dataStatistic{width:400px;height:200px;border:1px solid #ccc;margin:0 auto;margin:10px;overflow:hidden}
10   #cylindrical{width:400px;height:200px;margin-top:-15px}
11   #line{width:400px;height:200px;margin-top:-15px}
12   #pie{width:400px;height:200px;margin-top:-15px}
13  &lt;/style&gt;
14 @stop
15 
16 @section('leftmenu')
17 &lt;aside class="lt_aside_nav content mCustomScrollbar"&gt;
18  &lt;h2&gt;&lt;a href="{<!-- -->{ url('admin/index') }}"&gt;系统首页&lt;/a&gt;&lt;/h2&gt;
19  &lt;ul&gt;
20   &lt;li&gt;
21    &lt;dl&gt;
22     &lt;dt&gt;商品管理&lt;/dt&gt;
23     &lt;!--当前链接则添加class:active--&gt;
24     &lt;dd&gt;&lt;a href="{<!-- -->{ url('admin/product/list') }}" class="{<!-- -->{ Request::getPathInfo() == '/admin/product/list' ? 'active' : '' }}"&gt;商品列表&lt;/a&gt;&lt;/dd&gt;
25     &lt;dd&gt;&lt;a href="{<!-- -->{ url('admin/product/detail') }}" class="{<!-- -->{ Request::getPathInfo() == '/admin/product/detail' ? 'active' : '' }}"&gt;商品详情&lt;/a&gt;&lt;/dd&gt;
26     &lt;dd&gt;&lt;a href="{<!-- -->{ url('admin/product/recycle') }}" class="{<!-- -->{ Request::getPathInfo() == '/admin/product/recycle' ? 'active' : '' }}"&gt;商品回收站&lt;/a&gt;&lt;/dd&gt;
27    &lt;/dl&gt;28   &lt;/li&gt;29   &lt;li&gt;30    &lt;dl&gt;31     &lt;dt&gt;订单信息&lt;/dt&gt;32     &lt;dd&gt;&lt;a href="order_list.html"&gt;订单列表&lt;/a&gt;&lt;/dd&gt;
33     &lt;dd&gt;&lt;a href="order_detail.html"&gt;订单详情&lt;/a&gt;&lt;/dd&gt;34    &lt;/dl&gt;35   &lt;/li&gt;36  &lt;/ul&gt;37 &lt;/aside&gt;38 @stop39 40 @section('content')
41  &lt;div class="rt_content"&gt;42   &lt;!--开始：以下内容则可删除，仅为素材引用参考--&gt;
43   &lt;h1 style="color:red;font-size:20px;font-weight:bold;text-align:center;"&gt;相关版块涉及样式示例文档（文档说明）&lt;/h1&gt;
44   &lt;p style="color:red;font-size:16px;font-weight:bold;text-align:center;margin:8px 0;background:#FFC;padding:8px;"&gt;这里是相关常用性样式预设，具体根据内容版块调整，列表添加字段注意考虑笔记本屏幕显示；
&lt;br/&gt;此页面仅为样式参考，程序对接可移除，具体布局根据项目内容而定&lt;br/&gt;注意保留rt_content.parent&lt;br/&gt;常用
&lt;b style="color:#090; text-decoration:underline"&gt;“统计图”&lt;/b&gt;
&lt;b style="color:#090; text-decoration:underline"&gt;“Tab切换”&lt;/b&gt;
&lt;b style="color:#090; text-decoration:underline"&gt;“加载进度”&lt;/b&gt;
&lt;b style="color:#090; text-decoration:underline"&gt;“弹窗效果”&lt;/b&gt;
&lt;b style="color:#090; text-decoration:underline"&gt;“基础按钮及表格布局”&lt;/b&gt;&lt;b style="color:#090; text-decoration:underline"&gt;“HTML5canvas特效”&lt;/b&gt;等等，具体根据实际需求添加修改追加！&lt;/p&gt;
45  &lt;/div&gt;46 @stop</code></pre> 
 </div> 
 <p><br>模板继承语法：@extends('目录.文件名')；例如：@extends('common.base')，就可以继承common目录下的base.blade.php模板<br>使用@section重写子模板，使用@yield展示某个指定的section的内容；<br>@yield不能被子模板扩展，@section可以被子模板扩展<br>如果需要展示父模板内容，可使用@parent；例如：</p> 
 <div class="has"> 
  <pre><code>1 @extends('common.base')
2 
3 @section('header')
4     @parent
5     header6 @stop</code></pre> 
 </div> 
 <p><br>2、基础语法及使用<br>输出变量，使用{<!-- -->{ $变量名 }}，如下所示：</p> 
 <div class="has"> 
  <pre><code>1 //例如控制器中 
2  
3 public function index(){ 
4        
5         return view('index',['name' =&gt; 'yuwenbo']); 
6  
7 } 
8  
9 
11 
12 //模板中输出index.blade.php
13 
14 
15 &lt;p&gt;{<!-- -->{ $name }}&lt;/p&gt;
16 
17 
18 结果输出：yuwenbo</code></pre> 
 </div> 
 <p><br>使用php函数，blade模板允许我们使用原生的php，也可以在模板中使用函数及运算符</p> 
 <div class="has"> 
  <pre><code>1 //模板中使用php函数 
2  
3  
4 //输出时间戳 
5 &lt;p&gt;{<!-- -->{ time() }}&lt;/p&gt; 
6  
7 //格式化当前时间 
8 &lt;p&gt;{<!-- -->{ date('Y-m-d H:i:s', time()) }}&lt;/p&gt; 
9 
10 //三元运算符
11 &lt;p&gt;{<!-- -->{ in_array($name,$array) ? 'true' : false }}&lt;/p&gt;</code></pre> 
 </div> 
 <p><br>模板中短语法：{<!-- -->{ isset($age) ? $age : 'default value' }} 等同于 {<!-- -->{ $age or 'default value' }}<br>原样输出：<br>使用@{<!-- -->{ $count }}即可原样输出 ‘{<!-- -->{ $count }}’。<br>子视图引入<br>使用@include关键字；例如在views下新建模板leftmenu.blade.php</p> 
 <div class="has"> 
  <pre><code>1 @extends('common.base') 
2  
3 @section('header') 
4     @parent 
5     header 
6 @stop 
7  
8 @section('leftmenu) 
9     //引入子视图
10     @include('leftmenu')
11 @stop</code></pre> 
 </div> 
 <p><br>3、流程控制</p> 
 <p>if判断语句</p> 
 <div class="has"> 
  <pre><code>1 //if流程判断语句
2 
3 @if($user == 'admin')
4    i am admin
5 @elseif($user == 'yuwenbo')
6    i am yuwenbo
7 @else
8    i am default9 @endif</code></pre> 
 </div> 
 <p><br>for循环语句</p> 
 <div class="has"> 
  <pre><code>1 //for循环语句
2 
3 @for($i = 1; $i &lt;= 10; $i ++)
4     &lt;p&gt;i is {<!-- -->{ $i }}&lt;/p&gt;
5 @endfor</code></pre> 
 </div> 
 <p><br>foreach循环语句</p> 
 <div class="has"> 
  <pre><code>1 //控制器 
2 public function index() 
3 {
4      $data_list = array('name' =&gt; 'yuwenbo', 'age' =&gt; 22, 'job' =&gt; 'php');
5  
6      return views('index', ['data' =&gt; $data_list]); 
7 } 
8 
9 
10 //视图输出
11 @foreach($data as $key =&gt; $val)
12     {<!-- -->{ $key }} =&gt; {<!-- -->{ $val }}
13 @endforeach
1 //控制器 2 public function index() 3 { 4      $data_list = array( 5          array('name' =&gt; 'admin', 'age' =&gt; 20), 6          array('name' =&gt; 'word', 'age' =&gt; 18) 7      ); 8  9      return views('index', ['data' =&gt; $data_list]);10 }11 12 13 //模板输出14 @foreach($data as $key =&gt; $val)15     &lt;p&gt;name is {<!-- -->{ $val-&gt;name }}, age is {<!-- -->{ $val-&gt;age }}&lt;/p&gt;16 @endforeach</code></pre> 
 </div> 
 <div class="has"> 
  <pre><code>1 //控制器 
2 public function index() 
3 { 
4      $data_list = array( 
5          array('name' =&gt; 'admin', 'age' =&gt; 20), 
6          array('name' =&gt; 'word', 'age' =&gt; 18) 
7      ); 
8  
9      return views('index', ['data' =&gt; $data_list]);
10 }
11 
12 
13 //模板输出
14 @foreach($data as $key =&gt; $val)
15     &lt;p&gt;name is {<!-- -->{ $val-&gt;name }}, age is {<!-- -->{ $val-&gt;age }}&lt;/p&gt;
16 @endforeach</code></pre> 
 </div> 
 <p><br>4、模板中使用url<br>url()--&gt;通过路由的名字生成url<br>action()--&gt;通过指定控制器及方法名生成url<br>route()--&gt;通过路由别名生成url</p> 
 <div class="has"> 
  <pre><code> 1 //路由 route.php
 2  
 3 
 Route('index',[ 
 4     'uses' =&gt; 'IndexController@index',  
 5     'as' =&gt; 'in' 
 6 ]);
 7
 8 
 9
 10 //模板中生成url的方式
 11
 12 &lt;a href="{<!-- -->{ url('index') }}"&gt;url方式&lt;/a&gt;
 13
 14 &lt;a href="{<!-- -->{ action('IndexController@index') }}"&gt;action方式&lt;/a&gt;
 15
 16 &lt;a href="{<!-- -->{ route('in') }}"&gt;route方式&lt;/a&gt;
 17
 18
 19 //以上三种方式均生成url:20 http://127.0.0.1/laravel/public/index</code></pre> 
 </div> 
 <p>以上三种方式在实际使用时都可以用，一般情况下，使用url()和route()较多，因为写法简介方便。</p> 
</div>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/85ee9c19b6322ddee690a3340a4590f2/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">aes 加密_Jmeter处理AES加密接口</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/032b30e889a91b399adbc5cc1c3102ef/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">性能优化之电量和网络</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>