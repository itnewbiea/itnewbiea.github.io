<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>点云数据增强方法 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="点云数据增强方法" />
<meta property="og:description" content="1 随机剔除(Dropout)代码实现：
def random_point_dropout(point,max_dropout_ratio=0.875): &#39;&#39;&#39; point:batch*1024*3,numpy类型 随机剔除 随机选取一部分点来用第一个点代替 &#39;&#39;&#39; for batch in range(point.shape[0]): dropout_ratio=np.random.random()*max_dropout_ratio # 0~0.875 # 获取随机剔除的点的索引 drop_idx=np.where(np.random.random((point.shape[1]))&lt;=dropout_ratio)[0] if len(drop_idx)&gt;0: point[batch,drop_idx,:]=point[batch,0,:] return point 随机缩放
物体随机缩放，点云数据的每个点的(x,y,z)数值大小在[scale_low，scale_high]之间随机改变，
def random_point_scale(point,scale_low=0.8,scale_high=1.25): &#39;&#39;&#39; point: Batch*N*3,numpy类型 随机缩放 每个点的数值大小在scale_low~scale_high之间随机改变 &#39;&#39;&#39; B,N,C=point.shape scales=np.random.uniform(scale_low,scale_high,B) for batch in range(B): point[batch,:,:] *= scales[batch] return point 随机平移 点云数据所有点的坐标值(x,y,z)同时加(减)一个数，实现物体的平移
def random_point_shift(point,shift_range=0.1): &#39;&#39;&#39; point:Batch*N*3,numpy类型 随机平移 每个点的数值随机加(减)范围为(-shift_range,shift_range)的随机数 &#39;&#39;&#39; B,N,C=point.shape shifts=np.random.uniform(-shift_range,shift_range,(B,3)) for batch in range(B): point[batch,:,:] &#43;= shifts[batch,:] return point 4 在XYZ上加高斯噪声
def jitter_point(point, sigma=0." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/7e24e6eacc935d21d2999946ecffdfae/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-07-06T14:59:27+08:00" />
<meta property="article:modified_time" content="2023-07-06T14:59:27+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">点云数据增强方法</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>1 随机剔除(Dropout)代码实现：</p> 
<pre><code class="prism language-cpp">def <span class="token function">random_point_dropout</span><span class="token punctuation">(</span>point<span class="token punctuation">,</span>max_dropout_ratio<span class="token operator">=</span><span class="token number">0.875</span><span class="token punctuation">)</span><span class="token operator">:</span>
    <span class="token char">''</span>'
    point<span class="token operator">:</span>batch<span class="token operator">*</span><span class="token number">1024</span><span class="token operator">*</span><span class="token number">3</span><span class="token punctuation">,</span>numpy类型
    随机剔除
    随机选取一部分点来用第一个点代替
    <span class="token char">''</span>'
    <span class="token keyword">for</span> batch in <span class="token function">range</span><span class="token punctuation">(</span>point<span class="token punctuation">.</span>shape<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span>
        dropout_ratio<span class="token operator">=</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span>max_dropout_ratio  # <span class="token number">0</span><span class="token operator">~</span><span class="token number">0.875</span>
        # 获取随机剔除的点的索引
        drop_idx<span class="token operator">=</span>np<span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">(</span>point<span class="token punctuation">.</span>shape<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">&lt;=</span>dropout_ratio<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
        <span class="token keyword">if</span> <span class="token function">len</span><span class="token punctuation">(</span>drop_idx<span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token number">0</span><span class="token operator">:</span>
            point<span class="token punctuation">[</span>batch<span class="token punctuation">,</span>drop_idx<span class="token punctuation">,</span><span class="token operator">:</span><span class="token punctuation">]</span><span class="token operator">=</span>point<span class="token punctuation">[</span>batch<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token operator">:</span><span class="token punctuation">]</span>
    <span class="token keyword">return</span> point 
</code></pre> 
<ol start="2"><li> <p>随机缩放</p> <p>物体随机缩放，点云数据的每个点的(x,y,z)数值大小在[scale_low，scale_high]之间随机改变，</p> </li></ol> 
<pre><code class="prism language-bash">def random_point_scale<span class="token punctuation">(</span>point,scale_low<span class="token operator">=</span><span class="token number">0.8</span>,scale_high<span class="token operator">=</span><span class="token number">1.25</span><span class="token punctuation">)</span>:
    <span class="token string">''</span>'
    point: Batch*N*3,numpy类型
    随机缩放
    每个点的数值大小在scale_low~scale_high之间随机改变
    <span class="token string">''</span>'
    B,N,C<span class="token operator">=</span>point.shape
    <span class="token assign-left variable">scales</span><span class="token operator">=</span>np.random.uniform<span class="token punctuation">(</span>scale_low,scale_high,B<span class="token punctuation">)</span>
    <span class="token keyword">for</span> <span class="token for-or-select variable">batch</span> <span class="token keyword">in</span> range<span class="token punctuation">(</span>B<span class="token punctuation">)</span>:
        point<span class="token punctuation">[</span>batch,:,:<span class="token punctuation">]</span> *<span class="token operator">=</span> scales<span class="token punctuation">[</span>batch<span class="token punctuation">]</span>
    <span class="token builtin class-name">return</span> point 
</code></pre> 
<ol start="3"><li>随机平移</li></ol> 
<p>点云数据所有点的坐标值(x,y,z)同时加(减)一个数，实现物体的平移</p> 
<pre><code class="prism language-bash">def random_point_shift<span class="token punctuation">(</span>point,shift_range<span class="token operator">=</span><span class="token number">0.1</span><span class="token punctuation">)</span>:
    <span class="token string">''</span>'
    point:Batch*N*3,numpy类型
    随机平移
    每个点的数值随机加<span class="token punctuation">(</span>减<span class="token punctuation">)</span>范围为<span class="token punctuation">(</span>-shift_range,shift_range<span class="token punctuation">)</span>的随机数
    <span class="token string">''</span>'
    B,N,C<span class="token operator">=</span>point.shape
    <span class="token assign-left variable">shifts</span><span class="token operator">=</span>np.random.uniform<span class="token punctuation">(</span>-shift_range,shift_range,<span class="token punctuation">(</span>B,3<span class="token punctuation">))</span>
    <span class="token keyword">for</span> <span class="token for-or-select variable">batch</span> <span class="token keyword">in</span> range<span class="token punctuation">(</span>B<span class="token punctuation">)</span>:
        point<span class="token punctuation">[</span>batch,:,:<span class="token punctuation">]</span> <span class="token operator">+=</span> shifts<span class="token punctuation">[</span>batch,:<span class="token punctuation">]</span>
    <span class="token builtin class-name">return</span> point 
</code></pre> 
<p>4 在XYZ上加高斯噪声</p> 
<pre><code class="prism language-bash">def jitter_point<span class="token punctuation">(</span>point, <span class="token assign-left variable">sigma</span><span class="token operator">=</span><span class="token number">0.01</span>, <span class="token assign-left variable">clip</span><span class="token operator">=</span><span class="token number">0.05</span><span class="token punctuation">)</span>:
    assert<span class="token punctuation">(</span>clip <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
    point <span class="token operator">=</span> np.array<span class="token punctuation">(</span>point<span class="token punctuation">)</span>
    point <span class="token operator">=</span> point.reshape<span class="token punctuation">(</span>-1,3<span class="token punctuation">)</span>
    Row, Col <span class="token operator">=</span> point.shape
    jittered_point <span class="token operator">=</span> np.clip<span class="token punctuation">(</span>sigma * np.random.randn<span class="token punctuation">(</span>Row, Col<span class="token punctuation">)</span>, -1*clip, clip<span class="token punctuation">)</span>
    jittered_point <span class="token operator">+=</span> point
    <span class="token builtin class-name">return</span> jittered_point
</code></pre> 
<p>5 绕Z轴旋转</p> 
<pre><code class="prism language-bash">def rotate_point<span class="token punctuation">(</span>point, rotation_angle<span class="token punctuation">)</span>:
    point <span class="token operator">=</span> np.array<span class="token punctuation">(</span>point<span class="token punctuation">)</span>
    cos_theta <span class="token operator">=</span> np.cos<span class="token punctuation">(</span>rotation_angle<span class="token punctuation">)</span>
    sin_theta <span class="token operator">=</span> np.sin<span class="token punctuation">(</span>rotation_angle<span class="token punctuation">)</span>
    rotation_matrix <span class="token operator">=</span> np.array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span>cos_theta, sin_theta, <span class="token number">0</span><span class="token punctuation">]</span>,
                                <span class="token punctuation">[</span>-sin_theta, cos_theta, <span class="token number">0</span><span class="token punctuation">]</span>,
                                <span class="token punctuation">[</span><span class="token number">0</span>, <span class="token number">0</span>, <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    rotated_point <span class="token operator">=</span> np.dot<span class="token punctuation">(</span>point.reshape<span class="token punctuation">(</span>-1, <span class="token number">3</span><span class="token punctuation">)</span>, rotation_matrix<span class="token punctuation">)</span>
    <span class="token builtin class-name">return</span> rotated_point
</code></pre>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/497f6f28043a1f1d84750f405b01ed87/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">untiy连接mysql数据库</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/fd79a736caaa8620dd9b3fbed46416ed/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">CF补题：Educational Codeforces Round 151 (Rated for Div. 2)（A,B,C,D）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>