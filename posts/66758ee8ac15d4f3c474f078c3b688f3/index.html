<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>mac 微信备份到外接硬盘方案（软链接） - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="mac 微信备份到外接硬盘方案（软链接）" />
<meta property="og:description" content="mac版本微信中并没有指定备份路径的功能，备份的聊天记录文件也在一个很难找的位置。对于使用256g硬盘的mac的用户，微信聊天记录动辄十几G、几十G的大小，会造成非常严重的硬盘容量恐慌。所以把微信备份文件迁移到外置硬盘是一件非常有意义的工作。
微信的备份路径 微信的备份在 ~/Library/Containers/com.tencent.xinWeChat/Data/Library/Application\ Support/com.tencent.xinWeChat/2.0b4.0.9这个目录下面的 Backup 文件夹里面。
每一个微信账号的聊天记录备份对应这个目录下的一个文件夹（名称为一长串的字母及数字）
知道了文件备份在那个目录，其实我们只需要每次备份完成之后，把这个里面的文件夹剪切粘贴到移动硬盘的指定位置即可。
需要恢复备份的时候再从移动硬盘里面把文件拷贝回这个目录即可。
软链接备份 前一种方式操作起来稍微有点麻烦，需要自己来回复制，怎么才能省略掉这两个手动复制粘贴的操作呢，答案就是使用软连接的方式。
如果你的mac版微信没有执行过备份操作，那可能没有这个Backup目录，或者Backup目录下面没有子目录，为了保证文件权限一致，需要先执行一次备份生成这个目录（无需全量备份，只备份一个人的聊天记录都行）
备份完成之后，将该 Backup 目录复制到移动硬盘下的某个目录，比如 /Volumes/硬盘名/backup/wechat
复制完成之后就可以把微信默认备份路径下的 Backup 目录删除了，当然你不放心的话，也可以删除前先备份一下。
然后创建软连接，打开终端，执行如下命令。（注意。此处的 硬盘名 要改成你自己的外置硬盘的盘符名称）
ln -s /Volumes/硬盘名/backup/wechat/Backup ~/Library/Containers/com.tencent.xinWeChat/Data/Library/Application\ Support/com.tencent.xinWeChat/2.0b4.0.9/Backup 此时就能看到软连接已经创建好了，微信目录下的Backup已经指向到了移动硬盘下的Backup目录
第一步的时候我们已经备份了一次，此时进入微信的备份设置那里进入管理备份文件栏目之后，按道理是能看到一个备份的，但是实际上却毛都没有，这又是闹哪样呢因为mac下的应用是以沙盒模式运行，无法直接读取不在该应用程序目录以外的目录，所以虽然创建软连接把备份目录指向外置硬盘了，但实际上还是读取不到的。要解决这个问题需要先退出微信，然后重新签名微信，再执行如下代码即可给微信重新签名。 sudo codesign --sign - --force --deep /Applications/WeChat.app 重签之后再打开微信，再次进入管理备份文件 栏目,会弹出一个是否允许访问外挂硬盘的提示，点击同意之后就能看到我们之前的备份了。
Ending 软链接的方式更方便，只要硬盘插着的，你执行备份、恢复的操作都会直接走移动硬盘，相当于直接正常操作就会把文件备份到移动硬盘里面。既不占用电脑存储空间，又不需要额外操作。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/66758ee8ac15d4f3c474f078c3b688f3/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-12-19T14:38:15+08:00" />
<meta property="article:modified_time" content="2022-12-19T14:38:15+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">mac 微信备份到外接硬盘方案（软链接）</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <blockquote> 
 <p>mac版本微信中并没有指定备份路径的功能，备份的聊天记录文件也在一个很难找的位置。对于使用256g硬盘的mac的用户，微信聊天记录动辄十几G、几十G的大小，会造成非常严重的硬盘容量恐慌。所以把微信备份文件迁移到外置硬盘是一件非常有意义的工作。</p> 
</blockquote> 
<h3><a id="_2"></a>微信的备份路径</h3> 
<p>微信的备份在 <code>~/Library/Containers/com.tencent.xinWeChat/Data/Library/Application\ Support/com.tencent.xinWeChat/2.0b4.0.9</code>这个目录下面的 <code>Backup</code> 文件夹里面。</p> 
<p>每一个微信账号的聊天记录备份对应这个目录下的一个文件夹（名称为一长串的字母及数字）</p> 
<p>知道了文件备份在那个目录，其实我们只需要每次备份完成之后，把这个里面的文件夹剪切粘贴到移动硬盘的指定位置即可。<br> 需要恢复备份的时候再从移动硬盘里面把文件拷贝回这个目录即可。</p> 
<h3><a id="_11"></a>软链接备份</h3> 
<p>前一种方式操作起来稍微有点麻烦，需要自己来回复制，怎么才能省略掉这两个手动复制粘贴的操作呢，答案就是使用软连接的方式。</p> 
<p>如果你的mac版微信没有执行过备份操作，那可能没有这个Backup目录，或者Backup目录下面没有子目录，为了保证文件权限一致，需要先执行一次备份生成这个目录（无需全量备份，只备份一个人的聊天记录都行）<br> 备份完成之后，将该 Backup 目录复制到移动硬盘下的某个目录，比如 /Volumes/硬盘名/backup/wechat<br> 复制完成之后就可以把微信默认备份路径下的 Backup 目录删除了，当然你不放心的话，也可以删除前先备份一下。<br> 然后创建软连接，打开终端，执行如下命令。（注意。此处的 硬盘名 要改成你自己的外置硬盘的盘符名称）</p> 
<pre><code class="prism language-bash"><span class="token function">ln</span> <span class="token parameter variable">-s</span> /Volumes/硬盘名/backup/wechat/Backup ~/Library/Containers/com.tencent.xinWeChat/Data/Library/Application<span class="token punctuation">\</span> Support/com.tencent.xinWeChat/2.0b4.0.9/Backup
</code></pre> 
<p>此时就能看到软连接已经创建好了，微信目录下的Backup已经指向到了移动硬盘下的Backup目录<br> <img src="https://images2.imgbox.com/61/42/bclfxqY4_o.png" alt="在这里插入图片描述"></p> 
<ul><li>第一步的时候我们已经备份了一次，此时进入微信的备份设置那里进入管理备份文件栏目之后，按道理是能看到一个备份的，但是实际上却毛都没有，这又是闹哪样呢</li><li>因为mac下的应用是以沙盒模式运行，无法直接读取不在该应用程序目录以外的目录，所以虽然创建软连接把备份目录指向外置硬盘了，但实际上还是读取不到的。要解决这个问题需要先退出微信，然后重新签名微信，再执行如下代码即可给微信重新签名。</li></ul> 
<pre><code class="prism language-bash"><span class="token function">sudo</span> codesign <span class="token parameter variable">--sign</span> - <span class="token parameter variable">--force</span> <span class="token parameter variable">--deep</span> /Applications/WeChat.app
</code></pre> 
<p>重签之后再打开微信，再次进入管理备份文件 栏目,会弹出一个是否允许访问外挂硬盘的提示，点击同意之后就能看到我们之前的备份了。<br> <img src="https://images2.imgbox.com/ce/2e/16DwzoCg_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="Ending_32"></a>Ending</h3> 
<p>软链接的方式更方便，只要硬盘插着的，你执行备份、恢复的操作都会直接走移动硬盘，相当于直接正常操作就会把文件备份到移动硬盘里面。既不占用电脑存储空间，又不需要额外操作。</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/c12ae288837b9a5d2f139e65822eea1b/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">win11的Linux子系统root密码重置</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a24ffe741c3dadbab3133f21c43245f6/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">基于Node.js-http模块的Express框架</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>