<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Nginx如何安装SSL证书，在编辑nginx.conf，替换一下代码 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Nginx如何安装SSL证书，在编辑nginx.conf，替换一下代码" />
<meta property="og:description" content="Nginx.conf 路径 一般 在 /usr/local/nginx/nginx.conf
也可以使用代码找到路径
nginx -t 1.nginx如何修改SSL证书?
首先已经把证书上传服务器
路径任何都行，但是要绝对路径放在哪，路径就在那例图 路径在 /usr/local/nginx/cert
######################## default ############################ #只需要将下面部分替换掉，从这开始 ，只需要改SSL证书文件路径 ########################## server { listen 80; listen 443 ssl; server_name _; access_log /data/wwwlogs/access_nginx.log combined; # ssl证书地址 ssl_certificate /usr/local/nginx/cert/x.derfoe.cn.pem; # pem文件的路径 ssl_certificate_key /usr/local/nginx/cert/x.derfoe.cn.key; # key文件的路径 # ssl验证相关配置 ssl_session_timeout 5m; #缓存有效期 ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4; #加密算法 ssl_protocols TLSv1 TLSv1.1 TLSv1.2; #安全链接可选的加密协议 ssl_prefer_server_ciphers on; #使用服务器端的首选算法 root /data/wwwroot/default; index index.html index.htm index.php; #error_page 404 /404.html; #error_page 502 /502.html; location /nginx_status { stub_status on; access_log off; allow 127." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/6fb033347f75b82d2ed0f9d3b2b2e855/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-09-05T21:36:07+08:00" />
<meta property="article:modified_time" content="2023-09-05T21:36:07+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Nginx如何安装SSL证书，在编辑nginx.conf，替换一下代码</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>Nginx.conf 路径 一般 在 /usr/local/nginx/nginx.conf</p> 
<p>也可以使用代码找到路径</p> 
<p></p> 
<pre><code>nginx -t</code></pre> 
<p></p> 
<p>1.nginx如何修改SSL证书?</p> 
<p>首先已经把证书上传服务器</p> 
<p>路径任何都行，但是要绝对路径放在哪，路径就在那例图 路径在  /usr/local/nginx/cert</p> 
<p></p> 
<p></p> 
<pre><code>######################## default ############################
#只需要将下面部分替换掉，从这开始   ，只需要改SSL证书文件路径 ##########################


server {
    listen 80;
    listen 443 ssl;
    server_name _;
    access_log /data/wwwlogs/access_nginx.log combined;
    # ssl证书地址
    ssl_certificate     /usr/local/nginx/cert/x.derfoe.cn.pem;  # pem文件的路径   
    ssl_certificate_key  /usr/local/nginx/cert/x.derfoe.cn.key; # key文件的路径
    
    # ssl验证相关配置
    ssl_session_timeout  5m;    #缓存有效期
    ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4;    #加密算法
    ssl_protocols TLSv1 TLSv1.1 TLSv1.2;    #安全链接可选的加密协议
    ssl_prefer_server_ciphers on;   #使用服务器端的首选算法
    root /data/wwwroot/default;
    index index.html index.htm index.php;
    #error_page 404 /404.html;
    #error_page 502 /502.html;
    location /nginx_status {
      stub_status on;
      access_log off;
      allow 127.0.0.1;
      deny all;
    }
    location ~ [^/]\.php(/|$) {
      #fastcgi_pass remote_php_ip:9000;
      fastcgi_pass unix:/dev/shm/php-cgi.sock;
      fastcgi_index index.php;
      include fastcgi.conf;
    }
    location ~ .*\.(gif|jpg|jpeg|png|bmp|swf|flv|mp4|ico)$ {
      expires 30d;
      access_log off;
    }
    location ~ .*\.(js|css)?$ {
      expires 7d;
      access_log off;
    }
    location ~ ^/(\.user.ini|\.ht|\.git|\.svn|\.project|LICENSE|README.md) {
      deny all;
    }
  }
 ###################  结束  ##########################
########################## vhost #############################</code></pre> 
<p>结束必须要重启 Nginx</p> 
<p></p> 
<pre><code>systemctl restart nginx</code></pre> 
<p><img alt="" height="444" src="https://images2.imgbox.com/af/37/unYF9ce5_o.png" width="1086">systemctl restart nginx 执行成功是什么都不显示，如果出现显示就是出现配置问题。</p> 
<p></p> 
<p>打开域名已经可以正常https访问</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/d38df92dfb399cf0136c0ddda8f48153/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">大数据从入门到精通(超详细版)之Yarn的使用，安装与部署</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/bf4ee4af6b9d46f727d2e54b6e55b92c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">C&#43;&#43; 离群点检测</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>