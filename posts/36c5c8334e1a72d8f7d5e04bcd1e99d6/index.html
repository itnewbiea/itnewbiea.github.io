<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Linux安装VMware17报错Before you can run VMware,several modules must be compiled and…… - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Linux安装VMware17报错Before you can run VMware,several modules must be compiled and……" />
<meta property="og:description" content="一、报错提示 出现这种报错一般是vmmon和vmnet这俩模块没有经过签名认证,软件认为不安全,所以无法正常完成安装，那我们完成签名认证就行
二、centos 1.生成密钥和证书文件 openssl req -new -x509 -newkey rsa:2048 -keyout MOK.priv -outform DER -out MOK.der -nodes -days 36500 -subj &#34;/CN=VMware/&#34; 2.签名内核模块: 先找到模块的位置
sudo find /lib/modules/ -name vmmon.ko sudo find /lib/modules/ -name vmnet.ko 正常会返回两个路径，接下来替换下面代码中后面的路径代码
sudo /usr/src/kernels/$(uname -r)/scripts/sign-file sha256 ./MOK.priv ./MOK.der /lib/modules/3.10.0-957.el7.x86_64/misc/vmmon.ko sudo /usr/src/kernels/$(uname -r)/scripts/sign-file sha256 ./MOK.priv ./MOK.der /lib/modules/3.10.0-957.el7.x86_64/misc/vmnet.ko 3.导入MOK密钥: sudo mokutil --import MOK.der 注意这步要在第一步生成密钥的路径下执行
即 ls 能看到有 MOK.priv 和 MOK.der 文件
4.重启电脑 reboot 重启后有几个选项
选第二个：Enroll MOK 如果不一样反正是选带MOK的
三、ubuntu 1.生成密钥和证书文件 openssl req -new -x509 -newkey rsa:2048 -keyout MOK." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/36c5c8334e1a72d8f7d5e04bcd1e99d6/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-12-20T21:41:20+08:00" />
<meta property="article:modified_time" content="2023-12-20T21:41:20+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Linux安装VMware17报错Before you can run VMware,several modules must be compiled and……</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2>一、报错提示</h2> 
<h2><img alt="" height="195" src="https://images2.imgbox.com/a4/fe/torLKmJl_o.png" width="504"></h2> 
<p>出现这种报错一般是vmmon和vmnet这俩模块没有经过签名认证,软件认为不安全,所以无法正常完成安装，那我们完成签名认证就行</p> 
<h2>二、centos</h2> 
<h3>1.生成密钥和证书文件</h3> 
<pre><code>openssl req -new -x509 -newkey rsa:2048 -keyout MOK.priv -outform DER -out MOK.der -nodes -days 36500 -subj "/CN=VMware/"
</code></pre> 
<h3>2.<strong>签名内核模块</strong>:</h3> 
<p>先找到模块的位置</p> 
<pre><code>sudo find /lib/modules/ -name vmmon.ko
sudo find /lib/modules/ -name vmnet.ko</code></pre> 
<p>正常会返回两个路径，<strong><span style="color:#fe2c24;">接下来替换下面代码中后面的路径代码</span></strong></p> 
<pre><code>sudo /usr/src/kernels/$(uname -r)/scripts/sign-file sha256 ./MOK.priv ./MOK.der /lib/modules/3.10.0-957.el7.x86_64/misc/vmmon.ko
sudo /usr/src/kernels/$(uname -r)/scripts/sign-file sha256 ./MOK.priv ./MOK.der /lib/modules/3.10.0-957.el7.x86_64/misc/vmnet.ko
</code></pre> 
<h3>3.<strong>导入MOK密钥</strong>:</h3> 
<pre><code>sudo mokutil --import MOK.der
</code></pre> 
<p><span style="color:#fe2c24;">注意这步要在第一步生成密钥的路径下执行</span></p> 
<p><span style="color:#fe2c24;">即 </span><span style="color:#0d0016;">ls</span><span style="color:#fe2c24;"> 能看到有   </span>MOK.priv      和      MOK.der      文件</p> 
<h3>4.重启电脑</h3> 
<pre><code>reboot</code></pre> 
<p> 重启后有几个选项</p> 
<p><img alt="" height="1080" src="https://images2.imgbox.com/3a/23/u72aqeJY_o.jpg" width="1200"></p> 
<p>选第二个：<strong><span style="color:#fe2c24;">Enroll MOK    </span></strong><span style="color:#0d0016;">             如果不一样反正是选带MOK的</span></p> 
<h2>三、ubuntu</h2> 
<h3>1.生成密钥和证书文件</h3> 
<pre><code>openssl req -new -x509 -newkey rsa:2048 -keyout MOK.priv -outform DER -out MOK.der -nodes -days 36500 -subj "/CN=VMware/"</code></pre> 
<h3>2.<strong>签名内核模块</strong>: </h3> 
<pre><code>sudo /usr/src/linux-headers-`uname -r`/scripts/sign-file sha256 ./MOK.priv ./MOK.der $(modinfo -n vmmon)

sudo /usr/src/linux-headers-`uname -r`/scripts/sign-file sha256 ./MOK.priv ./MOK.der $(modinfo -n vmnet)</code></pre> 
<h3>3.<strong>导入MOK密钥</strong>:  </h3> 
<pre><code>sudo mokutil --import MOK.der</code></pre> 
<p><span style="color:#fe2c24;">注意这步要在第一步生成密钥的路径下执行</span></p> 
<p><span style="color:#fe2c24;">即 </span><span style="color:#0d0016;">ls</span><span style="color:#fe2c24;"> 能看到有   </span>MOK.priv      和      MOK.der      文件</p> 
<h3> 4.重启</h3> 
<pre><code>reboot</code></pre> 
<p><span style="color:#fe2c24;">选择带MOK的</span></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/78c6a45fe41305372329b46ef22e6fe9/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Android RecyclerView 动画处理 流程 原理（源码分析第三篇）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/005382efde1431b4a6e69cf40a188624/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">uniapp数据缓存（存储/获取/移除/清空）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>