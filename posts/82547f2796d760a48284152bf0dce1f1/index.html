<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Linux系统的三种挂载方式 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Linux系统的三种挂载方式" />
<meta property="og:description" content="在服务器使用过程中，mount挂载几乎是最常用的一种操作了，今天就给大家介绍一下linux文件挂载相关介绍。 介绍： mount是Linux下的一个命令，它可以将分区挂载或挂接到Linux的一个文件夹下，从而将分区和该目录联系起来，当我们只要访问这个文件夹时，就相当于访问该分区了。
一、手动挂载 命令格式：
mount [-t vfstype] [-o options] device dir 1、-t vfstype 指定文件系统的类型，通常不必指定，mount 会自动选择正确的类型。
光盘或光盘镜像：iso9660
DOS fat16文件系统：msdos
Windows 9x fat32文件系统：vfat
Windows NT ntfs文件系统：ntfs
Mount Windows文件网络共享：smbfs UNIX(LINUX) 文件网络共享：nfs
2、-o options 主要用来描述设备或档案的挂接方式。
loop：用来把一个文件当成硬盘分区挂接上系统
ro：采用只读方式挂接设备
rw：采用读写方式挂接设备
iocharset：指定访问文件系统所用字符集
3、device 要挂接(mount)的设备。
4、dir设备在系统上的挂接点(mount point)。
挂接光盘镜像文件 ---从光盘制作光盘镜像文件。将光盘放入光驱，执行下面的命令。
#cp /dev/cdrom /home/xiuxiu/mydisk.iso 或 #dd if=/dev/cdrom of=/home/xiuxiu/mydisk.iso 注：执行上面的任何一条命令都可将当前光驱里的光盘制作成光盘镜像文件/home/xiuxiu/mydisk.iso
---将文件和目录制作成光盘镜像文件，执行下面的命令，genisoimage和mkisofs是同一个命令，-r或-rational-rock表示使用Rock Ridge Extensions，并开放所有的文件读取权限，针对 UNIX系统的 ISO-9660文件系统，-J或-joliet表示使用Joliet格式的目录或者文件名称，微软公司自定义的光盘文件系统 ，也是ISO-9660 的一种扩展，-V &lt;光盘ID&gt;或-volid &lt;光盘ID&gt;表示指定光盘的卷册集ID
mkisofs -r -J -V mydisk -o /home/xiuxiu/mydisk.iso /home/xiuxiu/mydir 注：这条命令将/home/xiuxiu/mydir目录下所有的目录和文件制作成光盘镜像文件/home/xiuxiu/mydisk.iso，光盘卷标为：mydisk
---光盘镜像文件的挂接(mount)" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/82547f2796d760a48284152bf0dce1f1/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-06-08T10:43:54+08:00" />
<meta property="article:modified_time" content="2023-06-08T10:43:54+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Linux系统的三种挂载方式</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2 style="margin-left:.0001pt;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#222222;">      在服务器使用过程中，</span></span><span style="background-color:#FFFFFF;"><span style="color:#222222;">mount</span></span><span style="background-color:#FFFFFF;"><span style="color:#222222;">挂载几乎是最常用的一种操作了，今天就给大家介绍一下</span></span><span style="background-color:#FFFFFF;"><span style="color:#222222;">linux</span></span><span style="background-color:#FFFFFF;"><span style="color:#222222;">文件挂载相关介绍。</span></span></span></h2> 
<p></p> 
<hr> 
<h3 style="margin-left:0px;text-align:justify;"></h3> 
<h2 style="margin-left:0px;text-align:justify;"><span style="color:#333333;"><strong><em><span style="background-color:#FFFFFF;"><span style="color:#121212;">介绍：</span></span></em></strong></span></h2> 
<p style="margin-left:0;text-align:justify;"></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">    mount</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">是</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">Linux</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">下的一个命令，它可以将分区挂载或挂接到</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">Linux</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">的一个文件夹下，从而将分区和该目录联系起来，当我们只要访问这个文件夹时，就相当于访问该分区了。</span></span></span></p> 
<p style="margin-left:0;text-align:justify;"></p> 
<h2 style="margin-left:0px;text-align:justify;"><span style="color:#333333;"><strong><em><span style="background-color:#FFFFFF;"><span style="color:#121212;">一、手动挂载</span></span></em></strong></span></h2> 
<p></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">命令格式：</span></span></span></p> 
<pre><code class="hljs">mount [-t vfstype] [-o options] device dir</code></pre> 
<p style="margin-left:0;text-align:justify;"><strong><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">1</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">、</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">-t vfstype </span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">指定文件系统的类型，通常不必指定，</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">mount </span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">会自动选择正确的类型。</span></span></span></strong></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">光盘或光盘镜像：</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">iso9660</span></span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">DOS fat16</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">文件系统：</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">msdos</span></span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">Windows 9x fat32</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">文件系统：</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">vfat</span></span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">Windows NT ntfs</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">文件系统：</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">ntfs</span></span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">Mount Windows</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">文件网络共享：</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">smbfs UNIX(LINUX) </span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">文件网络共享：</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">nfs</span></span></span></p> 
<p style="margin-left:0;text-align:justify;"><strong><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">2</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">、</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">-o options </span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">主要用来描述设备或档案的挂接方式。</span></span></span></strong></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">loop</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">：用来把一个文件当成硬盘分区挂接上系统</span></span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">ro</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">：采用只读方式挂接设备</span></span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">rw</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">：采用读写方式挂接设备</span></span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">iocharset</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">：指定访问文件系统所用字符集</span></span></span></p> 
<p style="margin-left:0;text-align:justify;"><strong><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">3</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">、</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">device </span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">要挂接</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">(mount)</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">的设备。</span></span></span></strong></p> 
<p style="margin-left:0;text-align:justify;"><strong><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">4</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">、</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">dir</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">设备在系统上的挂接点</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">(mount point)</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">。</span></span></span></strong></p> 
<p style="margin-left:0;text-align:justify;"></p> 
<h3 style="margin-left:0px;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">挂接光盘镜像文件</span></span></span></h3> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">---</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">从光盘制作光盘镜像文件。将光盘放入光驱，执行下面的命令。</span></span></span></p> 
<pre><code class="hljs">#cp /dev/cdrom /home/xiuxiu/mydisk.iso 或 #dd if=/dev/cdrom of=/home/xiuxiu/mydisk.iso</code></pre> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">注：执行上面的任何一条命令都可将当前光驱里的光盘制作成光盘镜像文件</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">/home/xiuxiu/mydisk.iso</span></span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">---</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">将文件和目录制作成光盘镜像文件，执行下面的命令，</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">genisoimage</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">和</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">mkisofs</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">是同一个命令，</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">-r</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">或</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">-rational-rock</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">表示使用</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">Rock Ridge Extensions</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">，并开放所有的文件读取权限，针对</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;"> UNIX</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">系统的</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;"> ISO-9660</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">文件系统，</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">-J</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">或</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">-joliet</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">表示使用</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">Joliet</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">格式的目录或者文件名称，微软公司自定义的光盘文件系统 ，也是</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">ISO-9660 </span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">的一种扩展，</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">-V &lt;</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">光盘</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">ID&gt;</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">或</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">-volid &lt;</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">光盘</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">ID&gt;</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">表示指定光盘的卷册集</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">ID</span></span></span></p> 
<pre><code class="hljs">mkisofs -r -J -V mydisk -o /home/xiuxiu/mydisk.iso /home/xiuxiu/mydir</code></pre> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">注：这条命令将</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">/home/xiuxiu/mydir</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">目录下所有的目录和文件制作成光盘镜像文件</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">/home/xiuxiu/mydisk.iso</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">，光盘卷标为：</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">mydisk</span></span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">---</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">光盘镜像文件的挂接</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">(mount)</span></span></span></p> 
<pre><code class="hljs">mkdir /mnt/vcdrom</code></pre> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">注：建立一个目录用来作挂接点</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">(mount point)</span></span></span></p> 
<pre><code class="hljs">mount -o loop -t iso9660 /home/xiuxiu/mydisk.iso /mnt/vcdrom</code></pre> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">注：使用</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">/mnt/vcdrom</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">就可以访问光盘镜像文件</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">mydisk.iso</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">里的所有文件了。</span></span></span></p> 
<p style="margin-left:0;text-align:justify;"></p> 
<h3 style="margin-left:0px;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">挂接移动硬盘</span></span></span></h3> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">对</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">linux</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">系统而言，</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">USB</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">接口的移动硬盘是当作</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">SCSI</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">设备对待的。插入移动硬盘之前，应先用</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">fdisk –l</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">或</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">more /proc/partitions</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">查看系统的硬盘和硬盘分区情况。接好移动硬盘后，再用</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">fdisk –l</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">或</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">more</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">。应该可以发现多了一个</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">SCSI</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">硬盘，假定是</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">/dev/sdc</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">和它的两个磁盘分区</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">/dev/sdc1</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">、</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">/dev/sdc2</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">，</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">/dev/sdc5</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">是</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">/dev/sdc2</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">分区的逻辑分区，我们可以使用下面的命令挂接</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">/dev/sdc1</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">和</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">/dev/sdc5</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">。</span></span></span></p> 
<pre><code class="hljs">mkdir -p /mnt/usbhd1 #mkdir -p /mnt/usbhd2</code></pre> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">注：建立目录用来作挂接点</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">(mount point)</span></span></span></p> 
<pre><code class="hljs">mount -t ntfs /dev/sdc1 /mnt/usbhd1 #mount -t vfat /dev/sdc5 /mnt/usbhd2</code></pre> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">注：对</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">ntfs</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">格式的磁盘分区应使用</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">-t ntfs</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">参数，对</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">fat32</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">格式的磁盘分区应使用</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">-t vfat</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">参数。若汉字文件名显示为乱码或不显示，可以使用下面的命令格式。</span></span></span></p> 
<pre><code class="hljs">mount -t ntfs -o iocharset=cp936 /dev/sdc1 /mnt/usbhd1 #mount -t vfat -o iocharset=cp936 /dev/sdc5 /mnt/usbhd2</code></pre> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">linux</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">系统下使用</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">fdisk</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">分区命令和</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">mkfs</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">文件系统创建命令可以将移动硬盘的分区制作成</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">linux</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">系统所特有的</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">ext2</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">、</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">ext3</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">、</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">ext4</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">格式。这样，在</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">linux</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">下使用下面的命令直接挂接即可。</span></span></span></p> 
<pre><code class="hljs">mount /dev/sdc1 /mnt/usbhd1</code></pre> 
<h3 style="margin-left:0px;text-align:justify;"></h3> 
<h3 style="margin-left:0px;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">挂接</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">U</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">盘</span></span></span></h3> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">和</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">USB</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">接口的移动硬盘一样对</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">linux</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">系统而言</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">U</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">盘也是当作</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">SCSI</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">设备对待的。使用方法和移动硬盘完全一样。插入</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">U</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">盘之前，应先用</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">fdisk –l </span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">或</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">more /proc/partitions</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">查看系统的硬盘和硬盘分区情况。</span></span></span></p> 
<pre><code class="hljs">mount -t vfat -o iocharset=cp936 /dev/sdd1 /mnt/usb</code></pre> 
<h3 style="margin-left:0px;text-align:justify;"></h3> 
<h3 style="margin-left:0px;text-align:justify;"><strong><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">挂接</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">Windows</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">文件共享</span></span></span></strong></h3> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">Windows</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">网络共享的核心是</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">SMB/CIFS</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">，</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">SMB</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">使用点对点的通讯方式，一个客户端向一个服务器提出请求，服务器相应地回答。在</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">linux</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">下要挂接</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">(mount)windows</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">的磁盘共享，就必须安装和使用</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">samba</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">软件包。现在流行的</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">linux</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">发行版绝大多数已经包含了</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">samba</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">软件包，如果安装</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">linux</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">系统时未安装</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">samba</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">请首先安装</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">samba</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">。当</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">windows</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">系统共享设置好以后，就可以在</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">linux</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">客户端挂接</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">(mount)</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">了，具体操作如下：</span></span></span></p> 
<pre><code class="hljs">mkdir –p /mnt/samba</code></pre> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">注：建立一个目录用来作挂接点</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">(mount point)</span></span></span></p> 
<pre><code class="hljs">mount -t smbfs -o username=administrator,password=pas123 //10.140.133.25/c$ /mnt/samba</code></pre> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">注：</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">administrator </span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">和</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;"> pas123 </span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">是</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">ip</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">地址为</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">10.140.133.25 windows</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">计算机的一个用户名和密码，</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">c$</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">是这台计算机的一个磁盘共享。</span></span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">如此就可以在</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">linux</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">系统上通过</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">/mnt/samba</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">来访问</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">windows</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">系统磁盘上的文件了。</span></span></span></p> 
<p style="margin-left:0;text-align:justify;"></p> 
<h3 style="margin-left:0px;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">挂接</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">UNIX</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">系统</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">NFS</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">文件共享</span></span></span></h3> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">类似于</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">windows</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">的网络共享，</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">UNIX(Linux)</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">系统也有自己的网络共享，那就是</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">NFS(</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">网络文件系统</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">)</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">，下面我们就以</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">SUN Solaris2.8</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">和</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">REDHAT as server 3 </span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">为例简单介绍一下在</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">linux</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">下如何</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">mount nfs</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">网络共享。</span></span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">在</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">linux</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">客户端挂接</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">(mount)NFS</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">磁盘共享之前，必须先配置好</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">NFS</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">服务端。</span></span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">linux</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">客户端挂接</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">(mount)</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">其他</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">linux</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">系统或</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">UNIX</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">系统的</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">NFS</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">共享</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;"># mkdir –p /mnt/nfs</span></span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">注：建立一个目录用来作挂接点</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">(mount point)</span></span></span></p> 
<pre><code class="hljs">mount -t nfs -o rw 10.140.133.10:/export/home/xiuxiu /mnt/nfs</code></pre> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">注：这里假设</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">10.140.133.10</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">是</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">NFS</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">服务端的主机</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">IP</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">地址，当然这里也可以使用主机名，但必须在本机</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">/etc/hosts</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">文件里增加服务端</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">ip</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">定义。</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">/export/home/sunky</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">为服务端共享的目录。</span></span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">如此就可以在</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">linux</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">客户端通过</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">/mnt/nfs</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">来访问其它</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">linux</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">系统或</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">UNIX</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">系统以</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">NFS</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">方式共享出来的文件了。</span></span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">补充</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">1</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">：</span></span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">SMB</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">（</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">Server Message Block</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">，又称</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">Common Internet File System</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">（</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">CIFS</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">））是由微软开发的一种软件程序级的网络传输协议，主要用来使得一个网络上的机器共享计算机文件、打印机、串行端口和通讯等资源。它也提供认证的行程间通讯机能。它主要用在装有</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">Microsoft Windows</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">的机器上，在这样的机器上被称为</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">Microsoft Windows Network</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">。经过</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">Unix</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">服务器厂商重新开发后，它可以用于连接</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">Unix</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">服务器和</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">Windows</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">客户机，执行打印和文件共享等任务。</span></span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">CIFS </span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">的消息格式不同与</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">NFS</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">的固定长度格式， 大多数消息体都包含可变长的数据，这带来一定的协议复杂性。</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">CIFS </span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">消息一般在</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">netbios</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">或</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">Tcp</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">协议层上，分别使用不同的端口</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;"> 139 </span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">或</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">445</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">， 目前倾向于使用</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">445</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">端口。</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">CIFS</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">的消息包括一个消息头（</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">32</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">字节）和消息体（</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">1</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">个或多个，可变长）。</span></span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">Samba</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">能够为选定的</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">Unix</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">目录（包括所有子目录）建立网络共享。该功能使得</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">Windows</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">用户可以像访问普通</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">Windows</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">下的文件夹那样来通过网络访问这些</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">Unix</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">目录。</span></span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">补充</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">2</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">：</span></span></span></p> 
<p style="margin-left:0;text-align:justify;"><strong><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">1</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">、</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">Solaris</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">系统</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">NFS</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">服务端配置方法如下：</span></span></span></strong></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">(1)</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">修改</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;"> /etc/dfs/dfstab, </span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">增加共享目录</span></span></span></p> 
<pre><code class="hljs">share -F nfs -o rw /export/home/xiuxiu</code></pre> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">(2)</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">启动</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">nfs</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">服务</span></span></span></p> 
<pre><code class="hljs">/etc/init.d/nfs.server start</code></pre> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">(3)NFS</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">服务启动以后，也可以使用下面的命令增加新的共享</span></span></span></p> 
<pre><code class="hljs"> share /export/home/xiuxiu1 # share /export/home/xiuxiu2</code></pre> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">注：</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">/export/home/xiuxiu1</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">和</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">/export/home/xiuxiu2</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">是准备共享的目录</span></span></span></p> 
<p style="margin-left:0;text-align:justify;"><strong><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">2</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">、</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">linux</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">系统</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">NFS</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">服务端配置方法如下：</span></span></span></strong></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">(1)</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">修改</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;"> /etc/exports,</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">增加共享目录</span></span></span></p> 
<pre><code class="hljs">/export/home/xiuxiu 10.140.133.25(rw) /export/home/xiuxiu1 *(rw) /export/home/xiuxiu2 linux-client(rw)</code></pre> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">注：</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">/export/home/</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">目录下的</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">xiuxiu</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">、</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">xiuxiu1</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">、</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">xiuxiu2</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">是准备共享的目录，</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">10.140.133.25</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">、</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">*</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">、</span></span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">linux-client</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">是被允许挂接此共享</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">linux</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">客户机的</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">IP</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">地址或主机名。如果要使用主机名</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">linux-client</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">必须在服务端主机</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">/etc/hosts</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">文件里增加</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">linux-client</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">主机</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">ip</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">定义。格式如下：</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">10.140.133.25 linux-client</span></span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">(2)</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">启动与停止</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">NFS</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">服务</span></span></span></p> 
<pre><code class="hljs">/etc/rc.d/init.d/portmap start (在REDHAT中PORTMAP是默认启动的)

/etc/rc.d/init.d/nfs start 启动NFS服务 /etc/rc.d/init.d/nfs stop 停止NFS服务</code></pre> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">注：若修改</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">/etc/export</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">文件增加新的共享，应先停止</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">NFS</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">服务，再启动</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">NFS</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">服务方能使新增加的共享起作用。</span></span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">使用命令</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">exportfs -rv</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">也可以达到同样的效果。</span></span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">补充</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">3</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">：</span></span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">linux</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">加载光驱：</span></span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">（</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">1</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">）使用光驱前，要先</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">mount</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">一下：</span></span></span></p> 
<pre><code class="hljs">mount /dev/cdrom /mnt/cdrom</code></pre> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">然后您就可以进入</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">/mnt/cdrom</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">目录下读取光盘内容了。</span></span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">（</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">2</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">）当您想退出光盘时，须使用</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">umout</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">命令，否则光驱就会一直处于死锁状态：</span></span></span></p> 
<pre><code class="hljs">umount /mnt/cdrom</code></pre> 
<p style="margin-left:0;text-align:justify;"></p> 
<h2 style="margin-left:0px;text-align:justify;"><span style="color:#333333;"><strong><em><span style="background-color:#FFFFFF;"><span style="color:#121212;">二、开机自动挂载</span></span></em></strong><strong><em><span style="background-color:#FFFFFF;"><span style="color:#121212;">(</span></span></em></strong><strong><em><span style="background-color:#FFFFFF;"><span style="color:#121212;">永久挂载</span></span></em></strong><strong><em><span style="background-color:#FFFFFF;"><span style="color:#121212;">)</span></span></em></strong></span></h2> 
<p></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">在</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">/etc/fstab</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">添加挂载信息，可以使用命令 先获取</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">UUID</span></span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">通过</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">blkid</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">查看</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">UUID</span></span></span></p> 
<pre><code class="hljs">blkid</code></pre> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">##</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">可使用设备名，或</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">UUID</span></span></span></p> 
<pre><code class="hljs">vim /etc/fstab</code></pre> 
<p style="margin-left:0;text-align:justify;"></p> 
<h2 style="margin-left:0px;text-align:justify;"><span style="color:#333333;"><strong><em><span style="background-color:#FFFFFF;"><span style="color:#121212;">三、自动挂载</span></span></em></strong></span></h2> 
<p></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">实现原理：</span></span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">先配置规则文件，配置子目录和挂载点。</span></span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">然后配置监听目录，定义监听的父目录，指定规则文件的地址。</span></span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">重启服务后，只要访问该目录，就会自动挂载上。</span></span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">1.</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">安装自动挂载的包</span></span></span></p> 
<pre><code class="hljs">yum install autofs -y</code></pre> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">启动服务并设置开机自启动</span></span></span></p> 
<pre><code class="hljs">systemctl start autofs.service

systemctl enable autofs.service</code></pre> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">配置规则文件</span></span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">参考的模板：</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">/etc/auto.misc</span></span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">监听的文件格式没有限制 可以拷贝模板作为修改</span></span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">cp /etc/auto.misc /etc/auto.aa(</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">命名随意</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">) </span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">下面以自动挂载</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">nfs</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">为参考 编辑规则文件</span></span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">vim /etc/auto.nfs </span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">规则文件 监听哪个子目录</span></span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;">public -fstype=nfs serverb.lab.example.com:/shares/public</span></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">子目录 文件系统类型 共享目录地址</span></span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">配置监听目录</span></span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">编辑监听文件</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;"> vim /etc/auto.master </span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">移动到最下行添加</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;"> /mnt /etc/auto.aa </span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">要监听的目录的父目录，和规则文件地址 父目录 规则文件地址 持续监听的是</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">/mnt ---&gt; </span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">根据规则文件：</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">/etc/auto.aa</span></span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">2.</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">启动服务</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">,</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">关闭防火墙和</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">SELINUX</span></span></span></p> 
<pre><code class="hljs">systemctl restart autofs

vim /etc/auto.master

vim /etc/auto.httpd</code></pre> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">实例：给网页实现自动挂载</span></span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">1.</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">编辑</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">http</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">配置文件</span></span></span></p> 
<pre><code class="hljs">vim /etc/httpd/conf.d/vhosts.conf</code></pre> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">编辑内容如下：</span></span></span></p> 
<pre><code class="hljs">&lt;VirtualHost 192.168.220.129:80&gt;

        DocumentRoot /public/test

        ServerName 192.168.220.129

&lt;/VirtualHost&gt;

&lt;Directory /public/test&gt;

        AllowOverride none

        Require all granted

        Options +Indexes

&lt;/Directory&gt;</code></pre> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">2.</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">开启服务创建资源文件</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">,</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">挂载</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">(</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">临时</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">)</span></span></span></p> 
<pre><code class="hljs">#mkdir -p /public/test

#echo this is a test &gt; /public/test/index.html

#systemctl stop firewalld

#setenforce 0

#systemctl restart httpd

#mount /dev/sr0 /public/test</code></pre> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">3.</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">安装</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">autofs</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">，编辑配置文件</span></span></span></p> 
<pre><code class="hljs">#yum install -y autofs

#systemctl restart autofs

#vim /etc/auto.master

#vim /etc/auto.httpd

#systemctl restart autofs</code></pre> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">通过</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">mount</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">查看挂载情况</span></span></span></p> 
<pre><code class="hljs">mount | grep /dev/sr0</code></pre> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">自动挂载成功！！！</span></span></span></p> 
<p style="margin-left:0;text-align:justify;"></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">其次，提醒大家在挂载一些共享文件服务器时，一定要</span></span><strong><span style="background-color:#FFFFFF;"><span style="color:#ff2941;">谨慎使用</span></span></strong><span style="background-color:#FFFFFF;"><span style="color:#121212;">rm -rf</span></span><span style="background-color:#FFFFFF;"><span style="color:#121212;">指令，以免造成服务器数据丢失的情况，在使用挂载结束后一定要</span></span><strong><span style="background-color:#FFFFFF;"><span style="color:#ff2941;">及时取消挂载</span></span></strong><span style="background-color:#FFFFFF;"><span style="color:#121212;">，养成良好的工作习惯。（本人亲身经历过，很恐怖）</span></span></span></p> 
<p style="margin-left:0;text-align:justify;"></p> 
<p style="margin-left:0;text-align:justify;"><em><span style="color:#333333;"><span style="background-color:#FFFFFF;"><span style="color:#121212;">好了，今天的分享就到这类，欢迎点赞评论收藏转发，感谢！！</span></span></span></em></p> 
<p style="margin-left:0;text-align:justify;"></p> 
<p style="margin-left:0;"></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/51682d168a2a32e5c4d05a9258d1cf17/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">图表示学习和异质信息网络</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/96b9e2afa88bdf1a3166f81480ebbc3e/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">使用flex布局，el-table自适应失效的问题</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>