<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>ã€Pythonã€‘pandas ç­›é€‰æ•°æ®çš„ 8 ä¸ªéªšæ“ä½œ - ITå­¦ä¹ è€…åšå®¢</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="ã€Pythonã€‘pandas ç­›é€‰æ•°æ®çš„ 8 ä¸ªéªšæ“ä½œ" />
<meta property="og:description" content="è‚äº†ä¸€ä¸ªæœˆçš„pandasè¿›é˜¶å°å†Œå­å‡ºç‚‰äº†ğŸ‘‰ã€Œpandasè¿›é˜¶å®å…¸ã€
æ—¥å¸¸ç”¨Pythonåšæ•°æ®åˆ†ææœ€å¸¸ç”¨åˆ°çš„å°±æ˜¯æŸ¥è¯¢ç­›é€‰äº†ï¼ŒæŒ‰å„ç§æ¡ä»¶ã€å„ç§ç»´åº¦ä»¥åŠç»„åˆæŒ‘å‡ºæˆ‘ä»¬æƒ³è¦çš„æ•°æ®ï¼Œä»¥æ–¹ä¾¿æˆ‘ä»¬åˆ†ææŒ–æ˜ã€‚
ä¸œå“¥æ€»ç»“äº†æ—¥å¸¸æŸ¥è¯¢å’Œç­›é€‰å¸¸ç”¨çš„ç§éªšæ“ä½œï¼Œä¾›å„ä½å­¦ä¹ å‚è€ƒã€‚æœ¬æ–‡é‡‡ç”¨sklearnçš„bostonæ•°æ®ä¸¾ä¾‹ä»‹ç»ã€‚
fromÂ sklearnÂ importÂ datasets importÂ pandasÂ asÂ pd bostonÂ =Â datasets.load_boston() dfÂ =Â pd.DataFrame(boston.data,Â columns=boston.feature_names) 1. [] ç¬¬ä¸€ç§æ˜¯æœ€å¿«æ·æ–¹ä¾¿çš„ï¼Œç›´æ¥åœ¨dataframeçš„[]ä¸­å†™ç­›é€‰çš„æ¡ä»¶æˆ–è€…ç»„åˆæ¡ä»¶ã€‚æ¯”å¦‚ä¸‹é¢ï¼Œæƒ³è¦ç­›é€‰å‡ºå¤§äºNOXè¿™å˜é‡å¹³å‡å€¼çš„æ‰€æœ‰æ•°æ®ï¼Œç„¶åæŒ‰NOXé™åºæ’åºã€‚
df[df[&#39;NOX&#39;]&gt;df[&#39;NOX&#39;].mean()].sort_values(by=&#39;NOX&#39;,ascending=False).head() å½“ç„¶ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ç»„åˆæ¡ä»¶ï¼Œæ¡ä»¶ä¹‹é—´ä½¿ç”¨é€»è¾‘ç¬¦å·&amp; |ç­‰ã€‚æ¯”å¦‚ä¸‹é¢è¿™ä¸ªä¾‹å­é™¤äº†ä¸Šé¢æ¡ä»¶å¤–å†åŠ ä¸Šä¸”æ¡ä»¶CHASä¸º1ï¼Œæ³¨æ„é€»è¾‘ç¬¦å·åˆ†å¼€çš„æ¡ä»¶è¦ç”¨()éš”å¼€ã€‚
df[(df[&#39;NOX&#39;]&gt;df[&#39;NOX&#39;].mean())&amp;Â (df[&#39;CHAS&#39;]Â ==1)].sort_values(by=&#39;NOX&#39;,ascending=False).head() 2. loc/iloc é™¤[]ä¹‹å¤–ï¼Œloc/ilocåº”è¯¥æ˜¯æœ€å¸¸ç”¨çš„ä¸¤ç§æŸ¥è¯¢æ–¹æ³•äº†ã€‚locæŒ‰æ ‡ç­¾å€¼ï¼ˆåˆ—åå’Œè¡Œç´¢å¼•å–å€¼ï¼‰è®¿é—®ï¼ŒilocæŒ‰æ•°å­—ç´¢å¼•è®¿é—®ï¼Œå‡æ”¯æŒå•å€¼è®¿é—®æˆ–åˆ‡ç‰‡æŸ¥è¯¢ã€‚é™¤äº†å¯ä»¥åƒ[]æŒ‰æ¡ä»¶ç­›é€‰æ•°æ®ä»¥å¤–ï¼Œlocè¿˜å¯ä»¥æŒ‡å®šè¿”å›çš„åˆ—å˜é‡ï¼Œä»è¡Œå’Œåˆ—ä¸¤ä¸ªç»´åº¦ç­›é€‰ã€‚
æ¯”å¦‚ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼ŒæŒ‰æ¡ä»¶ç­›é€‰å‡ºæ•°æ®ï¼Œå¹¶ç­›é€‰å‡ºæŒ‡å®šå˜é‡ï¼Œç„¶åèµ‹å€¼ã€‚
df.loc[(df[&#39;NOX&#39;]&gt;df[&#39;NOX&#39;].mean()),[&#39;CHAS&#39;]]Â =Â 2 3. isin ä¸Šé¢æˆ‘ä»¬ç­›é€‰æ¡ä»¶&lt; &gt; == !=éƒ½æ˜¯ä¸ªèŒƒå›´ï¼Œä½†å¾ˆå¤šæ—¶å€™æ˜¯éœ€è¦é”å®šæŸäº›å…·ä½“çš„å€¼çš„ï¼Œè¿™æ—¶å€™å°±éœ€è¦isinäº†ã€‚æ¯”å¦‚æˆ‘ä»¬è¦é™å®šNOXå–å€¼åªèƒ½ä¸º0.538,0.713,0.437ä¸­æ—¶ã€‚
df.loc[df[&#39;NOX&#39;].isin([0.538,0.713,0.437]),:].sample(5) å½“ç„¶ï¼Œä¹Ÿå¯ä»¥åšå–åæ“ä½œï¼Œåœ¨ç­›é€‰æ¡ä»¶å‰åŠ ~ç¬¦å·å³å¯ã€‚
df.loc[~df[&#39;NOX&#39;].isin([0.538,0.713,0.437]),:].sample(5) 4. str.contains ä¸Šé¢çš„ä¸¾ä¾‹éƒ½æ˜¯æ•°å€¼å¤§å°æ¯”è¾ƒçš„ç­›é€‰æ¡ä»¶ï¼Œé™¤æ•°å€¼ä»¥å¤–å½“ç„¶ä¹Ÿæœ‰å­—ç¬¦ä¸²çš„æŸ¥è¯¢éœ€æ±‚ã€‚pandasé‡Œå®ç°å­—ç¬¦ä¸²çš„æ¨¡ç³Šç­›é€‰ï¼Œå¯ä»¥ç”¨.str.contains()æ¥å®ç°ï¼Œæœ‰ç‚¹åƒåœ¨SQLè¯­å¥é‡Œç”¨çš„æ˜¯likeã€‚
ä¸‹é¢åˆ©ç”¨titanicçš„æ•°æ®ä¸¾ä¾‹ï¼Œç­›é€‰å‡ºäººåä¸­åŒ…å«Mrsæˆ–è€…Lilyçš„æ•°æ®ï¼Œ|æˆ–é€»è¾‘ç¬¦å·åœ¨å¼•å·å†…ã€‚
train.loc[train[&#39;Name&#39;].str.contains(&#39;Mrs|Lily&#39;),:].head() .str.contains()ä¸­è¿˜å¯ä»¥è®¾ç½®æ­£åˆ™åŒ–ç­›é€‰é€»è¾‘ã€‚
case=Trueï¼šä½¿ç”¨caseæŒ‡å®šåŒºåˆ†å¤§å°å†™
na=Trueï¼šå°±è¡¨ç¤ºæŠŠæœ‰NANçš„è½¬æ¢ä¸ºå¸ƒå°”å€¼True
flags=re.IGNORECASEï¼šæ ‡å¿—ä¼ é€’åˆ°reæ¨¡å—ï¼Œä¾‹å¦‚re.IGNORECASE
regex=Trueï¼šregex ï¼šå¦‚æœä¸ºTrueï¼Œåˆ™å‡å®šç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯æ­£åˆ™è¡¨è¾¾å¼ï¼Œå¦åˆ™è¿˜æ˜¯å­—ç¬¦ä¸²
5. where/mask åœ¨SQLé‡Œï¼Œæˆ‘ä»¬çŸ¥é“whereçš„åŠŸèƒ½æ˜¯è¦æŠŠæ»¡è¶³æ¡ä»¶çš„ç­›é€‰å‡ºæ¥ã€‚pandasä¸­whereä¹Ÿæ˜¯ç­›é€‰ï¼Œä½†ç”¨æ³•ç¨æœ‰ä¸åŒã€‚
whereæ¥å—çš„æ¡ä»¶éœ€è¦æ˜¯å¸ƒå°”ç±»å‹çš„ï¼Œå¦‚æœä¸æ»¡è¶³åŒ¹é…æ¡ä»¶ï¼Œå°±è¢«èµ‹å€¼ä¸ºé»˜è®¤çš„NaNæˆ–å…¶ä»–æŒ‡å®šå€¼ã€‚ä¸¾ä¾‹å¦‚ä¸‹ï¼Œå°†Sexä¸ºmaleå½“ä½œç­›é€‰æ¡ä»¶ï¼Œcondå°±æ˜¯ä¸€åˆ—å¸ƒå°”å‹çš„Seriesï¼Œémaleçš„å€¼å°±éƒ½è¢«èµ‹å€¼ä¸ºé»˜è®¤çš„NaNç©ºå€¼äº†ã€‚
condÂ =Â train[&#39;Sex&#39;]Â ==Â &#39;male&#39; train[&#39;Sex&#39;].where(cond,Â inplace=True) train.head() ä¹Ÿå¯ä»¥ç”¨otherèµ‹ç»™æŒ‡å®šå€¼ã€‚
condÂ =Â train[&#39;Sex&#39;]Â ==Â &#39;male&#39; train[&#39;Sex&#39;]." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/9cf4eec381321eb2b10876021ea2ff66/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-06-13T12:00:30+08:00" />
<meta property="article:modified_time" content="2023-06-13T12:00:30+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ITå­¦ä¹ è€…åšå®¢" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ITå­¦ä¹ è€…åšå®¢</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">ã€Pythonã€‘pandas ç­›é€‰æ•°æ®çš„ 8 ä¸ªéªšæ“ä½œ</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div id="js_content"> 
 <p>è‚äº†ä¸€ä¸ªæœˆçš„pandasè¿›é˜¶å°å†Œå­å‡ºç‚‰äº†ğŸ‘‰ã€Œ<a href="" rel="nofollow">pandasè¿›é˜¶å®å…¸</a>ã€</p> 
 <hr> 
 <p>æ—¥å¸¸ç”¨<code>Python</code>åšæ•°æ®åˆ†ææœ€å¸¸ç”¨åˆ°çš„å°±æ˜¯æŸ¥è¯¢ç­›é€‰äº†ï¼ŒæŒ‰å„ç§æ¡ä»¶ã€å„ç§ç»´åº¦ä»¥åŠç»„åˆæŒ‘å‡ºæˆ‘ä»¬æƒ³è¦çš„æ•°æ®ï¼Œä»¥æ–¹ä¾¿æˆ‘ä»¬åˆ†ææŒ–æ˜ã€‚</p> 
 <p>ä¸œå“¥æ€»ç»“äº†æ—¥å¸¸æŸ¥è¯¢å’Œç­›é€‰å¸¸ç”¨çš„ç§éªšæ“ä½œï¼Œä¾›å„ä½å­¦ä¹ å‚è€ƒã€‚æœ¬æ–‡é‡‡ç”¨<code>sklearn</code>çš„<code>boston</code>æ•°æ®ä¸¾ä¾‹ä»‹ç»ã€‚</p> 
 <pre class="has"><code class="language-go">fromÂ sklearnÂ importÂ datasets
importÂ pandasÂ asÂ pd

bostonÂ =Â datasets.load_boston()
dfÂ =Â pd.DataFrame(boston.data,Â columns=boston.feature_names)</code></pre> 
 <img src="https://images2.imgbox.com/67/46/lkmyhAGd_o.png" alt="6b57719a915cc9235850edbd5aa98374.png"> 
 <h3>1. []</h3> 
 <p>ç¬¬ä¸€ç§æ˜¯æœ€å¿«æ·æ–¹ä¾¿çš„ï¼Œç›´æ¥åœ¨dataframeçš„<code>[]</code>ä¸­å†™ç­›é€‰çš„æ¡ä»¶æˆ–è€…ç»„åˆæ¡ä»¶ã€‚æ¯”å¦‚ä¸‹é¢ï¼Œæƒ³è¦ç­›é€‰å‡ºå¤§äº<code>NOX</code>è¿™å˜é‡å¹³å‡å€¼çš„æ‰€æœ‰æ•°æ®ï¼Œç„¶åæŒ‰<code>NOX</code>é™åºæ’åºã€‚</p> 
 <pre class="has"><code class="language-go">df[df['NOX']&gt;df['NOX'].mean()].sort_values(by='NOX',ascending=False).head()</code></pre> 
 <img src="https://images2.imgbox.com/df/ac/dGL0q1wm_o.png" alt="d97c50783879efb5f013488a0a2192ac.png"> 
 <p>å½“ç„¶ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ç»„åˆæ¡ä»¶ï¼Œæ¡ä»¶ä¹‹é—´ä½¿ç”¨é€»è¾‘ç¬¦å·<code>&amp; |</code>ç­‰ã€‚æ¯”å¦‚ä¸‹é¢è¿™ä¸ªä¾‹å­é™¤äº†ä¸Šé¢æ¡ä»¶å¤–å†åŠ ä¸Šä¸”æ¡ä»¶<code>CHASä¸º1</code>ï¼Œæ³¨æ„é€»è¾‘ç¬¦å·åˆ†å¼€çš„æ¡ä»¶è¦ç”¨<code>()</code>éš”å¼€ã€‚</p> 
 <pre class="has"><code class="language-go">df[(df['NOX']&gt;df['NOX'].mean())&amp;Â (df['CHAS']Â ==1)].sort_values(by='NOX',ascending=False).head()</code></pre> 
 <img src="https://images2.imgbox.com/ce/36/ShSdrUhR_o.png" alt="2ad8f2c594d90a70d42243b341690c74.png"> 
 <h3>2. loc/iloc</h3> 
 <p>é™¤<code>[]</code>ä¹‹å¤–ï¼Œ<code>loc/iloc</code>åº”è¯¥æ˜¯æœ€å¸¸ç”¨çš„ä¸¤ç§æŸ¥è¯¢æ–¹æ³•äº†ã€‚<code>loc</code>æŒ‰æ ‡ç­¾å€¼ï¼ˆåˆ—åå’Œè¡Œç´¢å¼•å–å€¼ï¼‰è®¿é—®ï¼Œ<code>iloc</code>æŒ‰æ•°å­—ç´¢å¼•è®¿é—®ï¼Œå‡æ”¯æŒå•å€¼è®¿é—®æˆ–åˆ‡ç‰‡æŸ¥è¯¢ã€‚é™¤äº†å¯ä»¥åƒ<code>[]</code>æŒ‰æ¡ä»¶ç­›é€‰æ•°æ®ä»¥å¤–ï¼Œ<code>loc</code>è¿˜å¯ä»¥æŒ‡å®šè¿”å›çš„åˆ—å˜é‡ï¼Œ<strong>ä»è¡Œå’Œåˆ—ä¸¤ä¸ªç»´åº¦ç­›é€‰ã€‚</strong></p> 
 <p>æ¯”å¦‚ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼ŒæŒ‰æ¡ä»¶ç­›é€‰å‡ºæ•°æ®ï¼Œå¹¶ç­›é€‰å‡ºæŒ‡å®šå˜é‡ï¼Œç„¶åèµ‹å€¼ã€‚</p> 
 <pre class="has"><code class="language-go">df.loc[(df['NOX']&gt;df['NOX'].mean()),['CHAS']]Â =Â 2</code></pre> 
 <img src="https://images2.imgbox.com/e6/38/f4tgE41Q_o.png" alt="ce48d1c7a059b4d8d2cd333674b8d624.png"> 
 <h3>3. isin</h3> 
 <p>ä¸Šé¢æˆ‘ä»¬ç­›é€‰æ¡ä»¶<code>&lt; &gt; == !=</code>éƒ½æ˜¯ä¸ªèŒƒå›´ï¼Œä½†å¾ˆå¤šæ—¶å€™æ˜¯éœ€è¦é”å®šæŸäº›å…·ä½“çš„å€¼çš„ï¼Œè¿™æ—¶å€™å°±éœ€è¦<code>isin</code>äº†ã€‚æ¯”å¦‚æˆ‘ä»¬è¦é™å®š<code>NOX</code>å–å€¼åªèƒ½ä¸º<code>0.538,0.713,0.437</code>ä¸­æ—¶ã€‚</p> 
 <pre class="has"><code class="language-go">df.loc[df['NOX'].isin([0.538,0.713,0.437]),:].sample(5)</code></pre> 
 <img src="https://images2.imgbox.com/ca/79/i7vHvilN_o.png" alt="34641bec2b65639403d53c39edb197c1.png"> 
 <p>å½“ç„¶ï¼Œä¹Ÿå¯ä»¥åšå–åæ“ä½œï¼Œåœ¨ç­›é€‰æ¡ä»¶å‰åŠ <code>~</code>ç¬¦å·å³å¯ã€‚</p> 
 <pre class="has"><code class="language-go">df.loc[~df['NOX'].isin([0.538,0.713,0.437]),:].sample(5)</code></pre> 
 <img src="https://images2.imgbox.com/fd/83/Me5SFtai_o.png" alt="cd29ed1def32f7eec703edfea14747ac.png"> 
 <h3>4. str.contains</h3> 
 <p>ä¸Šé¢çš„ä¸¾ä¾‹éƒ½æ˜¯<strong>æ•°å€¼å¤§å°æ¯”è¾ƒ</strong>çš„ç­›é€‰æ¡ä»¶ï¼Œé™¤æ•°å€¼ä»¥å¤–å½“ç„¶ä¹Ÿæœ‰<strong>å­—ç¬¦ä¸²çš„æŸ¥è¯¢éœ€æ±‚</strong>ã€‚<code>pandas</code>é‡Œå®ç°å­—ç¬¦ä¸²çš„æ¨¡ç³Šç­›é€‰ï¼Œå¯ä»¥ç”¨<code>.str.contains()</code>æ¥å®ç°ï¼Œæœ‰ç‚¹åƒåœ¨SQLè¯­å¥é‡Œç”¨çš„æ˜¯<code>like</code>ã€‚</p> 
 <p>ä¸‹é¢åˆ©ç”¨titanicçš„æ•°æ®ä¸¾ä¾‹ï¼Œç­›é€‰å‡ºäººåä¸­åŒ…å«<code>Mrs</code>æˆ–è€…<code>Lily</code>çš„æ•°æ®ï¼Œ<code>|</code>æˆ–é€»è¾‘ç¬¦å·åœ¨å¼•å·å†…ã€‚</p> 
 <pre class="has"><code class="language-go">train.loc[train['Name'].str.contains('Mrs|Lily'),:].head()</code></pre> 
 <img src="https://images2.imgbox.com/ba/9a/gBK9QN8d_o.png" alt="a151ebf875889072935b40cfcdce1978.png"> 
 <p><code>.str.contains()</code>ä¸­è¿˜å¯ä»¥è®¾ç½®æ­£åˆ™åŒ–ç­›é€‰é€»è¾‘ã€‚</p> 
 <ul><li><p>case=Trueï¼šä½¿ç”¨caseæŒ‡å®šåŒºåˆ†å¤§å°å†™</p></li><li><p>na=Trueï¼šå°±è¡¨ç¤ºæŠŠæœ‰NANçš„è½¬æ¢ä¸ºå¸ƒå°”å€¼True</p></li><li><p>flags=re.IGNORECASEï¼šæ ‡å¿—ä¼ é€’åˆ°reæ¨¡å—ï¼Œä¾‹å¦‚re.IGNORECASE</p></li><li><p>regex=Trueï¼šregex ï¼šå¦‚æœä¸ºTrueï¼Œåˆ™å‡å®šç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯æ­£åˆ™è¡¨è¾¾å¼ï¼Œå¦åˆ™è¿˜æ˜¯å­—ç¬¦ä¸²</p></li></ul> 
 <h3>5. where/mask</h3> 
 <p>åœ¨SQLé‡Œï¼Œæˆ‘ä»¬çŸ¥é“<code>where</code>çš„åŠŸèƒ½æ˜¯è¦æŠŠæ»¡è¶³æ¡ä»¶çš„ç­›é€‰å‡ºæ¥ã€‚pandasä¸­<code>where</code>ä¹Ÿæ˜¯ç­›é€‰ï¼Œä½†ç”¨æ³•ç¨æœ‰ä¸åŒã€‚</p> 
 <p><code>where</code>æ¥å—çš„æ¡ä»¶éœ€è¦æ˜¯<strong>å¸ƒå°”ç±»å‹</strong>çš„ï¼Œå¦‚æœä¸æ»¡è¶³åŒ¹é…æ¡ä»¶ï¼Œå°±è¢«èµ‹å€¼ä¸ºé»˜è®¤çš„<code>NaN</code>æˆ–å…¶ä»–æŒ‡å®šå€¼ã€‚ä¸¾ä¾‹å¦‚ä¸‹ï¼Œå°†<code>Sex</code>ä¸º<code>male</code>å½“ä½œç­›é€‰æ¡ä»¶ï¼Œ<code>cond</code>å°±æ˜¯ä¸€åˆ—å¸ƒå°”å‹çš„Seriesï¼Œémaleçš„å€¼å°±éƒ½è¢«èµ‹å€¼ä¸ºé»˜è®¤çš„<code>NaN</code>ç©ºå€¼äº†ã€‚</p> 
 <pre class="has"><code class="language-go">condÂ =Â train['Sex']Â ==Â 'male'
train['Sex'].where(cond,Â inplace=True)
train.head()</code></pre> 
 <img src="https://images2.imgbox.com/d6/bb/JE8kl0F7_o.png" alt="5d3ae010d3cefdefb7aa3e3229e2e319.png"> 
 <p>ä¹Ÿå¯ä»¥ç”¨<code>other</code>èµ‹ç»™æŒ‡å®šå€¼ã€‚</p> 
 <pre class="has"><code class="language-go">condÂ =Â train['Sex']Â ==Â 'male'
train['Sex'].where(cond,Â other='FEMALE',Â inplace=True)</code></pre> 
 <img src="https://images2.imgbox.com/db/0c/B0vNKi9z_o.png" alt="c737723947aedd3bdfc29ef3794930e8.png"> 
 <p>ç”šè‡³è¿˜å¯ä»¥å†™ç»„åˆæ¡ä»¶ã€‚</p> 
 <pre class="has"><code class="language-go">train['quality']Â =Â ''
traincond1Â =Â train['Sex']Â ==Â 'male'
cond2Â =Â train['Age']Â &gt;Â 25

train['quality'].where(cond1Â &amp;Â cond2,Â other='ä½è´¨é‡ç”·æ€§',Â inplace=True)</code></pre> 
 <img src="https://images2.imgbox.com/2e/de/yfsagkfe_o.png" alt="ec24cf573be3d93223a84763c78fa64d.png"> 
 <p><code>mask</code>å’Œ<code>where</code>æ˜¯ä¸€å¯¹æ“ä½œï¼Œä¸<code>where</code>æ­£å¥½åè¿‡æ¥ã€‚</p> 
 <pre class="has"><code class="language-go">train['quality'].mask(cond1Â &amp;Â cond2,Â other='ä½è´¨é‡ç”·æ€§',Â inplace=True)</code></pre> 
 <img src="https://images2.imgbox.com/e8/77/T5HHyURy_o.png" alt="edadbec6c055b734adf552cc88abf2ff.png"> 
 <h3>6. query</h3> 
 <p>è¿™æ˜¯ä¸€ç§éå¸¸ä¼˜é›…çš„ç­›é€‰æ•°æ®æ–¹å¼ã€‚æ‰€æœ‰çš„ç­›é€‰æ“ä½œéƒ½åœ¨<code>''</code>ä¹‹å†…å®Œæˆã€‚</p> 
 <pre class="has"><code class="language-go">#Â å¸¸ç”¨æ–¹å¼
train[train.AgeÂ &gt;Â 25]
#Â queryæ–¹å¼
train.query('AgeÂ &gt;Â 25')</code></pre> 
 <p>ä¸Šé¢çš„ä¸¤ç§æ–¹å¼æ•ˆæœä¸Šæ˜¯ä¸€æ ·çš„ã€‚å†æ¯”å¦‚å¤æ‚ç‚¹çš„ï¼ŒåŠ å…¥ä¸Šé¢çš„<code>str.contains</code>ç”¨æ³•çš„ç»„åˆæ¡ä»¶ï¼Œæ³¨æ„æ¡ä»¶é‡Œæœ‰<code>''</code>æ—¶ï¼Œä¸¤è¾¹è¦ç”¨<code>""</code>åŒ…ä½ã€‚</p> 
 <pre class="has"><code class="language-go">train.query("Name.str.contains('William')Â &amp;Â AgeÂ &gt;Â 25")</code></pre> 
 <img src="https://images2.imgbox.com/48/bf/sJLArwyy_o.png" alt="3badd56b61bfb8f85e590a47eeb4e979.png"> 
 <p>åœ¨<code>query</code>é‡Œè¿˜å¯ä»¥é€šè¿‡<code>@</code>æ¥è®¾å®šå˜é‡ã€‚</p> 
 <pre class="has"><code class="language-go">nameÂ =Â 'William'
train.query("Name.str.contains(@name)")</code></pre> 
 <h3>7. filter</h3> 
 <p><code>filter</code>æ˜¯å¦å¤–ä¸€ä¸ªç‹¬ç‰¹çš„ç­›é€‰åŠŸèƒ½ã€‚<code>filter</code>ä¸ç­›é€‰å…·ä½“æ•°æ®ï¼Œè€Œæ˜¯ç­›é€‰ç‰¹å®šçš„è¡Œæˆ–åˆ—ã€‚å®ƒæ”¯æŒä¸‰ç§ç­›é€‰æ–¹å¼ï¼š</p> 
 <ul><li><p>itemsï¼šå›ºå®šåˆ—å</p></li><li><p>regexï¼šæ­£åˆ™è¡¨è¾¾å¼</p></li><li><p>likeï¼šä»¥åŠæ¨¡ç³ŠæŸ¥è¯¢</p></li><li><p>axisï¼šæ§åˆ¶æ˜¯è¡Œindexæˆ–åˆ—columnsçš„æŸ¥è¯¢</p></li></ul> 
 <p>ä¸‹é¢ä¸¾ä¾‹ä»‹ç»ä¸‹ã€‚</p> 
 <pre class="has"><code class="language-go">train.filter(items=['Age',Â 'Sex'])</code></pre> 
 <img src="https://images2.imgbox.com/75/8d/YWw0bmFI_o.png" alt="e07a42d0144466aee0ec9f313a8f44ff.png"> 
 <pre class="has"><code class="language-go">train.filter(regex='S',Â axis=1)Â #Â åˆ—ååŒ…å«Sçš„</code></pre> 
 <img src="https://images2.imgbox.com/a0/b0/4kuJMeHB_o.png" alt="a4f5da019a6ef3dca2550f7f33e50efd.png"> 
 <pre class="has"><code class="language-go">train.filter(like='2',Â axis=0)Â #Â ç´¢å¼•ä¸­æœ‰2çš„</code></pre> 
 <img src="https://images2.imgbox.com/6a/b2/gNMci9vO_o.png" alt="4d4d1c6450aac0c257f98bc093867c71.png"> 
 <pre class="has"><code class="language-go">train.filter(regex='^2',Â axis=0).filter(like='S',Â axis=1)</code></pre> 
 <img src="https://images2.imgbox.com/cb/e3/sXtqaYT0_o.png" alt="160fd48f7c8f6b5117b5f0f3d9b79e3b.png"> 
 <h3>8. any/all</h3> 
 <p><code>any</code>æ–¹æ³•æ„æ€æ˜¯ï¼Œå¦‚æœè‡³å°‘æœ‰ä¸€ä¸ªå€¼ä¸º<code>True</code>ç»“æœä¾¿ä¸º<code>True</code>ï¼Œ<code>all</code>éœ€è¦æ‰€æœ‰å€¼ä¸º<code>True</code>ç»“æœæ‰ä¸º<code>True</code>ï¼Œæ¯”å¦‚ä¸‹é¢è¿™æ ·ã€‚</p> 
 <pre class="has"><code class="language-go">&gt;&gt;Â train['Cabin'].all()
&gt;&gt;Â False
&gt;&gt;Â train['Cabin'].any()
&gt;&gt;Â True</code></pre> 
 <p><code>any</code>å’Œ<code>all</code>ä¸€èˆ¬æ˜¯éœ€è¦å’Œå…¶å®ƒæ“ä½œé…åˆä½¿ç”¨çš„ï¼Œæ¯”å¦‚æŸ¥çœ‹æ¯åˆ—çš„ç©ºå€¼æƒ…å†µã€‚</p> 
 <pre class="has"><code class="language-go">train.isnull().any(axis=0)</code></pre> 
 <img src="https://images2.imgbox.com/f5/7e/msR4oRg9_o.png" alt="d99c0903f484d0505902cd3f49cbb254.png"> 
 <p>å†æ¯”å¦‚æŸ¥çœ‹å«æœ‰ç©ºå€¼çš„è¡Œæ•°ã€‚</p> 
 <pre class="has"><code class="language-go">&gt;&gt;&gt;Â train.isnull().any(axis=1).sum()
&gt;&gt;&gt;Â 708</code></pre> 
 <p>å‚è€ƒï¼š</p> 
 <p>[1] https://pandas.pydata.org/</p> 
 <p>[2]Â https://www.gairuo.com/p/pandas-selecting-data</p> 
 <p>[3]Â https://blog.csdn.net/weixin_43484764/article/details/89847241</p> 
 <pre></pre> 
 <p><img src="https://images2.imgbox.com/1f/b4/4qotQ3QV_o.png" alt="dfc25e366d52972946da39ad2f503582.jpeg"></p> 
 <pre></pre> 
 <pre></pre> 
 <pre></pre> 
 <pre></pre> 
 <pre class="has"><code class="language-go">å¾€æœŸç²¾å½©å›é¡¾




é€‚åˆåˆå­¦è€…å…¥é—¨äººå·¥æ™ºèƒ½çš„è·¯çº¿åŠèµ„æ–™ä¸‹è½½(å›¾æ–‡+è§†é¢‘)æœºå™¨å­¦ä¹ å…¥é—¨ç³»åˆ—ä¸‹è½½æœºå™¨å­¦ä¹ åŠæ·±åº¦å­¦ä¹ ç¬”è®°ç­‰èµ„æ–™æ‰“å°ã€Šç»Ÿè®¡å­¦ä¹ æ–¹æ³•ã€‹çš„ä»£ç å¤ç°ä¸“è¾‘æœºå™¨å­¦ä¹ äº¤æµqqç¾¤955171419ï¼ŒåŠ å…¥å¾®ä¿¡ç¾¤è¯·æ‰«ç </code></pre> 
</div>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/39b7a09c535ad75f818e0599bf9b0216/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">ä¸€å¼ å›¾è¡¨ä¸Šå¤šä¸ªæŒ‡æ ‡ï¼ˆç¬¬ 04 éƒ¨åˆ†ï¼‰ï¼šæ™‹å‡ä¸ºä¸€æ¬¾æ™ºèƒ½äº¤æ˜“ç³»ç»Ÿ</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/062b768895570edd1c124a3aed559613/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">ã€Springæ¡†æ¶å­¦ä¹ ã€‘äº†è§£ä»€ä¹ˆæ˜¯Springæ¡†æ¶ï¼ŸSpringæ¡†æ¶æœ‰ä»€ä¹ˆç”¨ï¼Ÿåˆ›å»ºç¬¬ä¸€ä¸ªSpringBooté¡¹ç›®</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ITå­¦ä¹ è€…åšå®¢.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>