<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>1-ARP欺骗及攻击 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="1-ARP欺骗及攻击" />
<meta property="og:description" content="一、ARP协议 ARP（Address Resolution Protocol，地址解析协议）是一种用于通过网络层地址（比如IP地址）获取链路层地址（比如MAC地址）的通信协议。它将网络层的IP地址与数据链路层的MAC地址相互映射，使得在计算机进行网络通信时，能够正确地将数据包发送到对应的目标主机
二、ARP协议工作流程 当计算机需要向某个目的主机发送数据时，首先在本地ARP缓存（ARP Cache）中查找是否有目标IP地址对应的MAC地址。如果本地ARP缓存中没有对应的MAC地址，则计算机会发送一个广播消息，称为ARP请求（ARP Request），请求目标主机回复其MAC地址。当目标主机收到ARP请求后，如果发现自己的IP地址与请求中的IP地址匹配，则会将自己的MAC地址发送回来，称为ARP响应（ARP Reply）。发送ARP请求的计算机接收到ARP响应后，将得到目标主机的MAC地址，并将其保存在本地ARP缓存中，以备将来使用。 三、ARP攻击与欺骗 ARP（地址解析协议）欺骗是一种网络攻击技术，攻击者利用这种技术向网络中发送虚假的ARP响应，从而欺骗其他计算机的网络配置。当攻击成功时，攻击者可以将数据流量重定向到自己的计算机上，同时可以窃取敏感信息。
具体来说，ARP欺骗攻击主要有两种方式：
MAC地址欺骗：攻击者在网络中发送虚假的ARP响应，将自己的MAC地址伪装成目标计算机的MAC地址，使其他设备将数据包发送到攻击者的计算机上。双边ARP欺骗：攻击者在网络中发送虚假的ARP请求和ARP响应，将两台计算机的MAC地址都伪装成对方的MAC地址，从而使它们之间的通信流量经过攻击者的计算机 1. ARP攻击 主机A要和出口路由器通信，向网络中发送ARP请求，攻击主机C伪装成路由器的IP地址，响应一个虚假的网络中不存在MAC地址66-66给主机A，就会造成主机A无法通信。
2、ARP欺骗 欺骗网关
攻击主告诉A主机的是真实存在的MAC地址。
攻击主机C开启IP转发功能 ，接受A主机发送的信息，之后再将信息转发给出口路由器，以实现数据监听功能。
三、对于ARP攻击与欺骗可采取的措施 使用静态ARP缓存记录，从而避免频繁的ARP查询和响应。确认网络中所有计算机的真实MAC地址，并使用网络访问控制列表（ACL）限制不受信任的计算机的访问。启用网络中的端口安全功能，只允许已知的MAC地址访问网络。在网络中使用安全协议（如SSL、SSH等）来加密数据，从而防止被窃取。 四、实施ARP欺骗与攻击 工具：虚拟机、kali、windows7、dsniff工具
1、 kali配置 配置源及工具安装
root权限运行 - vim /etc/apt/sources.list # 在打开的文件里插入下面的镜像源 // 1.按小写o --插入 // 2.按#号把原来的注释掉 // 3.按ESC 取消插入在 按：和 wq ----保存 2.清华大学镜像源 deb http://mirrors.tuna.tsinghua.edu.cn/kali kali-rolling main contrib non-free deb-src https://mirrors.tuna.tsinghua.edu.cn/kali kali-rolling main contrib non-free 3.apt-get update // 更新一下镜像源 4.apt-get install dsniff //安装工具 2.攻击 攻击
arpspoof -i eth0 -t 192." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/e7ee89c848aa5d20f5e8fcc1f6fa3a28/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-05-11T14:04:51+08:00" />
<meta property="article:modified_time" content="2023-05-11T14:04:51+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">1-ARP欺骗及攻击</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="ARP_0"></a>一、ARP协议</h2> 
<p>ARP（Address Resolution Protocol，地址解析协议）是一种用于通过网络层地址（比如IP地址）获取链路层地址（比如MAC地址）的通信协议。它将网络层的IP地址与数据链路层的MAC地址相互映射，使得在计算机进行网络通信时，能够正确地将数据包发送到对应的目标主机</p> 
<h2><a id="ARP_3"></a>二、ARP协议工作流程</h2> 
<ol><li>当计算机需要向某个目的主机发送数据时，首先在本地ARP缓存（ARP Cache）中查找是否有目标IP地址对应的MAC地址。</li><li>如果本地ARP缓存中没有对应的MAC地址，则计算机会发送一个广播消息，称为ARP请求（ARP Request），请求目标主机回复其MAC地址。</li><li>当目标主机收到ARP请求后，如果发现自己的IP地址与请求中的IP地址匹配，则会将自己的MAC地址发送回来，称为ARP响应（ARP Reply）。</li><li>发送ARP请求的计算机接收到ARP响应后，将得到目标主机的MAC地址，并将其保存在本地ARP缓存中，以备将来使用。</li></ol> 
<h2><a id="ARP_10"></a>三、ARP攻击与欺骗</h2> 
<p>ARP（地址解析协议）欺骗是一种网络攻击技术，攻击者利用这种技术向网络中发送虚假的ARP响应，从而欺骗其他计算机的网络配置。当攻击成功时，攻击者可以将数据流量重定向到自己的计算机上，同时可以窃取敏感信息。</p> 
<p>具体来说，ARP欺骗攻击主要有两种方式：</p> 
<ol><li>MAC地址欺骗：攻击者在网络中发送虚假的ARP响应，将自己的MAC地址伪装成目标计算机的MAC地址，使其他设备将数据包发送到攻击者的计算机上。</li><li>双边ARP欺骗：攻击者在网络中发送虚假的ARP请求和ARP响应，将两台计算机的MAC地址都伪装成对方的MAC地址，从而使它们之间的通信流量经过攻击者的计算机</li></ol> 
<h3><a id="1_ARP_17"></a>1. ARP攻击</h3> 
<p>主机A要和出口路由器通信，向网络中发送ARP请求，攻击主机C伪装成路由器的IP地址，响应一个虚假的网络中不存在MAC地址66-66给主机A，就会造成主机A无法通信。<img src="https://images2.imgbox.com/95/4b/NQl30vYY_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="2ARP_20"></a>2、ARP欺骗</h3> 
<p>欺骗网关<br> 攻击主告诉A主机的是真实存在的MAC地址。<br> 攻击主机C开启IP转发功能 ，接受A主机发送的信息，之后再将信息转发给出口路由器，以<strong>实现数据监听功能</strong>。<img src="https://images2.imgbox.com/62/59/ofANDjQx_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="ARP_24"></a>三、对于ARP攻击与欺骗可采取的措施</h2> 
<ol><li>使用<strong>静态ARP缓存记录</strong>，从而避免频繁的ARP查询和响应。</li><li>确认网络中所有计算机的真实MAC地址，并使用网络访问控制列表（ACL）限制不受信任的计算机的访问。</li><li>启用网络中的端口安全功能，只允许已知的MAC地址访问网络。</li><li>在网络中使用安全协议（如SSL、SSH等）来加密数据，从而防止被窃取。</li></ol> 
<h2><a id="ARP_31"></a>四、实施ARP欺骗与攻击</h2> 
<p>工具：虚拟机、kali、windows7、dsniff工具</p> 
<h3><a id="1_kali_34"></a>1、 kali配置</h3> 
<p>配置源及工具安装</p> 
<pre><code class="prism language-bash">root权限运行
 - <span class="token function">vim</span> /etc/apt/sources.list
	<span class="token comment"># 在打开的文件里插入下面的镜像源 </span>
	// <span class="token number">1</span>.按小写o --插入 
	// <span class="token number">2</span>.按<span class="token comment">#号把原来的注释掉 </span>
	// <span class="token number">3</span>.按ESC 取消插入在 按：和 wq  ----保存
<span class="token number">2</span>.清华大学镜像源
deb http://mirrors.tuna.tsinghua.edu.cn/kali kali-rolling main contrib non-free
deb-src https://mirrors.tuna.tsinghua.edu.cn/kali kali-rolling main contrib non-free
<span class="token number">3</span>.apt-get update  // 更新一下镜像源
<span class="token number">4</span>.apt-get <span class="token function">install</span> dsniff   //安装工具
</code></pre> 
<h3><a id="2_50"></a>2.攻击</h3> 
<p><strong>攻击</strong><br> <code>arpspoof -i eth0 -t 192.168.204.130 192.168.204.2 </code></p> 
<ul><li>其中eth0是kali主机的网卡名称 （命令–ifconfig即可查看 ）</li><li>-t 后面的内容是要攻击的主机的ip地址和MAC地址（攻击的是虚拟机中的windows7，命令–ipconfig查看地址）<br> <img src="https://images2.imgbox.com/b1/31/HWAKISxN_o.png" alt="在这里插入图片描述"><br> 攻击前可以访问网络<img src="https://images2.imgbox.com/15/da/PSrxeLhz_o.png" alt="在这里插入图片描述"></li></ul> 
<p>攻击后访问不了<img src="https://images2.imgbox.com/2c/c3/hS3ROnwR_o.png" alt="在这里插入图片描述"><strong>欺骗</strong></p> 
<p>另外再打开一个命令终端输入<code>echo 1 &gt;&gt; /proc/sys/net/ipv4/ip_forward </code><br> 开启IP转发功能，此时被攻击主机可以上网，但kali可以监听被攻击主机的信息<img src="https://images2.imgbox.com/28/d2/obgglPkn_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/ef/37/rO6lOlLn_o.png" alt="在这里插入图片描述"></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/1d0256f940d8850cd8dd79eb40e01ffc/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">在滴滴和字节跳动划水4年，过于真实了...</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/258a4ef60a2ab3ed902425227e5b1f0c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">flutter中state生命周期与app生命周期与路由监听</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>