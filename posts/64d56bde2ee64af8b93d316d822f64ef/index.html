<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【Linux】磁盘分区与永久挂载，实操模拟损坏文件系统，只要一个命令即可修复！！！ - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【Linux】磁盘分区与永久挂载，实操模拟损坏文件系统，只要一个命令即可修复！！！" />
<meta property="og:description" content="目录
一、磁盘基础内容
1、了解扇区的大小，以及与块的关系
2、磁盘的第一个扇区的内容
二、在Linux中使用硬盘的三大步骤
1、分区
----分区的作用：提高硬盘的性能
----分区的命令
----分区的分类：
----实操分区实验
2、创建文件系统
----文件系统类型：
----创建文件系统的命令
----查看是否文件系统是否创建成功
3、挂载（临时挂载及永久挂载）
----挂载的目的：
挂载点的条件：
----挂载的分类：
①临时挂载：mount
②永久挂载
三、模拟永久挂载配置文件错误重启系统失败，该如何解决
四、模拟损坏磁盘以及修复使用
五、总结
一、磁盘基础内容 1、了解扇区的大小，以及与块的关系 扇区的最小单位是512字节，一般块block的大小是8个扇区即4k（这个是可以改的，但是一般不改）
2、磁盘的第一个扇区的内容 所有磁盘的第一个扇区都存放了三个信息：MBR主引导记录、分区表、结束位
①MBR主引导记录：引导硬件去寻找操作系统，占位446字节
②分区表：记录分区表的信息，MBR分区最多为4个主分区，占位64字节，每个分区占16字节
③结束位：55 aa 占2字节
总结，总共加起来446&#43;64&#43;2=512字节
二、在Linux中使用硬盘的三大步骤 1、分区 ----分区的作用：提高硬盘的性能 ----分区的命令 fdisk -l 设备名：查看该设备的分区信息
fdisk 设备名：交互分区
fdisk交互添加分区的选项n添加新分区p打印分区表t修改分区id类型w保存m寻求帮助 ----分区的分类： 分区分类分区描述MBR分区
（fdisk针对2T以内）主分区可以直接使用，可以装操作系统，编号1-4扩展分区不能直接使用，大小1k存放逻辑分区表，需要逻辑分区，是特殊的主分区，编号1-4，但是最多1个扩展分区逻辑分区可以直接使用，大小不能超过扩展分区的大小，编号从5开始gdisk针对2T以上可以有128个分区不限制 ----实操分区实验 创建主分区
创建扩展分区
创建逻辑分区
创建交换分区
2、创建文件系统 ----文件系统类型： 操作系统文件系统Linux系统centos 6ext4centos7xfs（可以存放文件和目录数据，高性能的日志文件系统，擅长处理大文件）Windows系统64位操作系统ntfs（可以存64G以内的文件）32位操作系统fta32（最大存放4G的文件） ----创建文件系统的命令 查看相关命令，后面跟着的就是文件系统的类型
语法：mkfs.文件系统类型 设备名称
注意！！！！扩展分区不能创建文件系统！！！！只有1K，用来放逻辑分区表
swap分区也是需要创建文件系统的！！
语法：mkswap 设备名称
----查看是否文件系统是否创建成功 lsblk -f ：没有挂载情况下查看文件系统是否创建成功
df -hT：挂载的情况下查看文件系统是什么" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/64d56bde2ee64af8b93d316d822f64ef/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-10-31T20:46:18+08:00" />
<meta property="article:modified_time" content="2023-10-31T20:46:18+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【Linux】磁盘分区与永久挂载，实操模拟损坏文件系统，只要一个命令即可修复！！！</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="-toc" style="margin-left:0px;"></p> 
<p id="%E4%B8%80%E3%80%81%E7%A3%81%E7%9B%98%E5%9F%BA%E7%A1%80%E5%86%85%E5%AE%B9-toc" style="margin-left:0px;"><a href="#%E4%B8%80%E3%80%81%E7%A3%81%E7%9B%98%E5%9F%BA%E7%A1%80%E5%86%85%E5%AE%B9" rel="nofollow">一、磁盘基础内容</a></p> 
<p id="1%E3%80%81%E4%BA%86%E8%A7%A3%E6%89%87%E5%8C%BA%E7%9A%84%E5%A4%A7%E5%B0%8F%EF%BC%8C%E4%BB%A5%E5%8F%8A%E4%B8%8E%E5%9D%97%E7%9A%84%E5%85%B3%E7%B3%BB-toc" style="margin-left:40px;"><a href="#1%E3%80%81%E4%BA%86%E8%A7%A3%E6%89%87%E5%8C%BA%E7%9A%84%E5%A4%A7%E5%B0%8F%EF%BC%8C%E4%BB%A5%E5%8F%8A%E4%B8%8E%E5%9D%97%E7%9A%84%E5%85%B3%E7%B3%BB" rel="nofollow">1、了解扇区的大小，以及与块的关系</a></p> 
<p id="2%E3%80%81%E7%A3%81%E7%9B%98%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AA%E6%89%87%E5%8C%BA%E7%9A%84%E5%86%85%E5%AE%B9-toc" style="margin-left:40px;"><a href="#2%E3%80%81%E7%A3%81%E7%9B%98%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AA%E6%89%87%E5%8C%BA%E7%9A%84%E5%86%85%E5%AE%B9" rel="nofollow">2、磁盘的第一个扇区的内容</a></p> 
<p id="%E4%BA%8C%E3%80%81%E5%9C%A8Linux%E4%B8%AD%E4%BD%BF%E7%94%A8%E7%A1%AC%E7%9B%98%E7%9A%84%E4%B8%89%E5%A4%A7%E6%AD%A5%E9%AA%A4-toc" style="margin-left:0px;"><a href="#%E4%BA%8C%E3%80%81%E5%9C%A8Linux%E4%B8%AD%E4%BD%BF%E7%94%A8%E7%A1%AC%E7%9B%98%E7%9A%84%E4%B8%89%E5%A4%A7%E6%AD%A5%E9%AA%A4" rel="nofollow">二、在Linux中使用硬盘的三大步骤</a></p> 
<p id="1%E3%80%81%E5%88%86%E5%8C%BA-toc" style="margin-left:40px;"><a href="#1%E3%80%81%E5%88%86%E5%8C%BA" rel="nofollow">1、分区</a></p> 
<p id="----%E5%88%86%E5%8C%BA%E7%9A%84%E4%BD%9C%E7%94%A8%EF%BC%9A%E6%8F%90%E9%AB%98%E7%A1%AC%E7%9B%98%E7%9A%84%E6%80%A7%E8%83%BD-toc" style="margin-left:80px;"><a href="#----%E5%88%86%E5%8C%BA%E7%9A%84%E4%BD%9C%E7%94%A8%EF%BC%9A%E6%8F%90%E9%AB%98%E7%A1%AC%E7%9B%98%E7%9A%84%E6%80%A7%E8%83%BD" rel="nofollow">----分区的作用：提高硬盘的性能</a></p> 
<p id="----%E5%88%86%E5%8C%BA%E7%9A%84%E5%91%BD%E4%BB%A4-toc" style="margin-left:80px;"><a href="#----%E5%88%86%E5%8C%BA%E7%9A%84%E5%91%BD%E4%BB%A4" rel="nofollow">----分区的命令</a></p> 
<p id="----%E5%88%86%E5%8C%BA%E7%9A%84%E5%88%86%E7%B1%BB%EF%BC%9A-toc" style="margin-left:80px;"><a href="#----%E5%88%86%E5%8C%BA%E7%9A%84%E5%88%86%E7%B1%BB%EF%BC%9A" rel="nofollow">----分区的分类：</a></p> 
<p id="----%E5%AE%9E%E6%93%8D%E5%88%86%E5%8C%BA%E5%AE%9E%E9%AA%8C-toc" style="margin-left:80px;"><a href="#----%E5%AE%9E%E6%93%8D%E5%88%86%E5%8C%BA%E5%AE%9E%E9%AA%8C" rel="nofollow">----实操分区实验</a></p> 
<p id="2%E3%80%81%E5%88%9B%E5%BB%BA%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F-toc" style="margin-left:40px;"><a href="#2%E3%80%81%E5%88%9B%E5%BB%BA%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F" rel="nofollow">2、创建文件系统</a></p> 
<p id="----%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E7%B1%BB%E5%9E%8B%EF%BC%9A-toc" style="margin-left:80px;"><a href="#----%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E7%B1%BB%E5%9E%8B%EF%BC%9A" rel="nofollow">----文件系统类型：</a></p> 
<p id="----%E5%88%9B%E5%BB%BA%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%91%BD%E4%BB%A4-toc" style="margin-left:80px;"><a href="#----%E5%88%9B%E5%BB%BA%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%91%BD%E4%BB%A4" rel="nofollow">----创建文件系统的命令</a></p> 
<p id="----%E6%9F%A5%E7%9C%8B%E6%98%AF%E5%90%A6%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E6%98%AF%E5%90%A6%E5%88%9B%E5%BB%BA%E6%88%90%E5%8A%9F-toc" style="margin-left:80px;"><a href="#----%E6%9F%A5%E7%9C%8B%E6%98%AF%E5%90%A6%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E6%98%AF%E5%90%A6%E5%88%9B%E5%BB%BA%E6%88%90%E5%8A%9F" rel="nofollow">----查看是否文件系统是否创建成功</a></p> 
<p id="3%E3%80%81%E6%8C%82%E8%BD%BD%EF%BC%88%E4%B8%B4%E6%97%B6%E6%8C%82%E8%BD%BD%E5%8F%8A%E6%B0%B8%E4%B9%85%E6%8C%82%E8%BD%BD%EF%BC%89-toc" style="margin-left:40px;"><a href="#3%E3%80%81%E6%8C%82%E8%BD%BD%EF%BC%88%E4%B8%B4%E6%97%B6%E6%8C%82%E8%BD%BD%E5%8F%8A%E6%B0%B8%E4%B9%85%E6%8C%82%E8%BD%BD%EF%BC%89" rel="nofollow">3、挂载（临时挂载及永久挂载）</a></p> 
<p id="----%E6%8C%82%E8%BD%BD%E7%9A%84%E7%9B%AE%E7%9A%84%EF%BC%9A-toc" style="margin-left:80px;"><a href="#----%E6%8C%82%E8%BD%BD%E7%9A%84%E7%9B%AE%E7%9A%84%EF%BC%9A" rel="nofollow">----挂载的目的：</a></p> 
<p id="%E6%8C%82%E8%BD%BD%E7%82%B9%E7%9A%84%E6%9D%A1%E4%BB%B6%EF%BC%9A-toc" style="margin-left:120px;"><a href="#%E6%8C%82%E8%BD%BD%E7%82%B9%E7%9A%84%E6%9D%A1%E4%BB%B6%EF%BC%9A" rel="nofollow">挂载点的条件：</a></p> 
<p id="----%E6%8C%82%E8%BD%BD%E7%9A%84%E5%88%86%E7%B1%BB%EF%BC%9A-toc" style="margin-left:80px;"><a href="#----%E6%8C%82%E8%BD%BD%E7%9A%84%E5%88%86%E7%B1%BB%EF%BC%9A" rel="nofollow">----挂载的分类：</a></p> 
<p id="%E2%91%A0%E4%B8%B4%E6%97%B6%E6%8C%82%E8%BD%BD%EF%BC%9Amount-toc" style="margin-left:120px;"><a href="#%E2%91%A0%E4%B8%B4%E6%97%B6%E6%8C%82%E8%BD%BD%EF%BC%9Amount" rel="nofollow">①临时挂载：mount</a></p> 
<p id="%E2%91%A1%E6%B0%B8%E4%B9%85%E6%8C%82%E8%BD%BD-toc" style="margin-left:120px;"><a href="#%E2%91%A1%E6%B0%B8%E4%B9%85%E6%8C%82%E8%BD%BD" rel="nofollow">②永久挂载</a></p> 
<p id="%E4%B8%89%E3%80%81%E6%A8%A1%E6%8B%9F%E6%B0%B8%E4%B9%85%E6%8C%82%E8%BD%BD%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E9%94%99%E8%AF%AF%E9%87%8D%E5%90%AF%E7%B3%BB%E7%BB%9F%E5%A4%B1%E8%B4%A5%EF%BC%8C%E8%AF%A5%E5%A6%82%E4%BD%95%E8%A7%A3%E5%86%B3-toc" style="margin-left:0px;"><a href="#%E4%B8%89%E3%80%81%E6%A8%A1%E6%8B%9F%E6%B0%B8%E4%B9%85%E6%8C%82%E8%BD%BD%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E9%94%99%E8%AF%AF%E9%87%8D%E5%90%AF%E7%B3%BB%E7%BB%9F%E5%A4%B1%E8%B4%A5%EF%BC%8C%E8%AF%A5%E5%A6%82%E4%BD%95%E8%A7%A3%E5%86%B3" rel="nofollow">三、模拟永久挂载配置文件错误重启系统失败，该如何解决</a></p> 
<p id="%E5%9B%9B%E3%80%81%E6%A8%A1%E6%8B%9F%E6%8D%9F%E5%9D%8F%E7%A3%81%E7%9B%98%E4%BB%A5%E5%8F%8A%E4%BF%AE%E5%A4%8D%E4%BD%BF%E7%94%A8-toc" style="margin-left:0px;"><a href="#%E5%9B%9B%E3%80%81%E6%A8%A1%E6%8B%9F%E6%8D%9F%E5%9D%8F%E7%A3%81%E7%9B%98%E4%BB%A5%E5%8F%8A%E4%BF%AE%E5%A4%8D%E4%BD%BF%E7%94%A8" rel="nofollow">四、模拟损坏磁盘以及修复使用</a></p> 
<p id="%E4%BA%94%E3%80%81%E6%80%BB%E7%BB%93-toc" style="margin-left:0px;"><a href="#%E4%BA%94%E3%80%81%E6%80%BB%E7%BB%93" rel="nofollow">五、总结</a></p> 
<hr id="hr-toc"> 
<p></p> 
<h2 id="%E4%B8%80%E3%80%81%E7%A3%81%E7%9B%98%E5%9F%BA%E7%A1%80%E5%86%85%E5%AE%B9">一、磁盘基础内容</h2> 
<h3 id="1%E3%80%81%E4%BA%86%E8%A7%A3%E6%89%87%E5%8C%BA%E7%9A%84%E5%A4%A7%E5%B0%8F%EF%BC%8C%E4%BB%A5%E5%8F%8A%E4%B8%8E%E5%9D%97%E7%9A%84%E5%85%B3%E7%B3%BB">1、了解扇区的大小，以及与块的关系</h3> 
<p><strong><span style="background-color:#ffd900;">扇区的最小单位是512字节，一般块block的大小是8个扇区即4k</span></strong>（这个是可以改的，但是一般不改）</p> 
<h3 id="2%E3%80%81%E7%A3%81%E7%9B%98%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AA%E6%89%87%E5%8C%BA%E7%9A%84%E5%86%85%E5%AE%B9">2、磁盘的第一个扇区的内容</h3> 
<p>所有磁盘的第一个扇区都存放了<span style="color:#fe2c24;"><strong><span style="background-color:#ffd900;">三个信息：MBR主引导记录、分区表、结束位</span></strong></span></p> 
<p><strong><span style="background-color:#ffd900;">①MBR主引导记录：</span></strong>引导硬件去寻找操作系统，占位<strong>446字节</strong></p> 
<p><strong><span style="background-color:#ffd900;">②分区表：</span></strong>记录分区表的信息，MBR分区最多为4个主分区，占位<strong>64字节</strong>，每个分区占16字节</p> 
<p><strong><span style="background-color:#ffd900;">③结束位：</span></strong>55 aa 占<strong>2字节</strong></p> 
<p>总结，总共加起来446+64+2=512字节</p> 
<p></p> 
<h2 id="%E4%BA%8C%E3%80%81%E5%9C%A8Linux%E4%B8%AD%E4%BD%BF%E7%94%A8%E7%A1%AC%E7%9B%98%E7%9A%84%E4%B8%89%E5%A4%A7%E6%AD%A5%E9%AA%A4">二、在Linux中使用硬盘的三大步骤</h2> 
<h3 id="1%E3%80%81%E5%88%86%E5%8C%BA">1、分区</h3> 
<h4 id="----%E5%88%86%E5%8C%BA%E7%9A%84%E4%BD%9C%E7%94%A8%EF%BC%9A%E6%8F%90%E9%AB%98%E7%A1%AC%E7%9B%98%E7%9A%84%E6%80%A7%E8%83%BD">----分区的作用：提高硬盘的性能</h4> 
<h4 id="----%E5%88%86%E5%8C%BA%E7%9A%84%E5%91%BD%E4%BB%A4">----分区的命令</h4> 
<p><strong><span style="background-color:#ffd900;">fdisk -l 设备名：</span></strong>查看该设备的分区信息</p> 
<p><strong><span style="background-color:#ffd900;">fdisk 设备名：交互分区</span></strong></p> 
<table cellspacing="0" style="width:192pt;"><tbody><tr><td colspan="2" style="background-color:#c00000;text-align:center;vertical-align:middle;width:192pt;"><span style="color:#ffffff;">fdisk交互添加分区的选项</span></td></tr><tr><td style="border-color:#000000;text-align:center;vertical-align:middle;width:96pt;"><span style="color:#000000;">n</span></td><td style="border-color:#000000;text-align:center;vertical-align:middle;width:96pt;"><span style="color:#000000;">添加新分区</span></td></tr><tr><td style="border-color:#000000;text-align:center;vertical-align:middle;width:96pt;"><span style="color:#000000;">p</span></td><td style="border-color:#000000;text-align:center;vertical-align:middle;width:96pt;"><span style="color:#000000;">打印分区表</span></td></tr><tr><td style="border-color:#000000;text-align:center;vertical-align:middle;width:96pt;"><span style="color:#000000;">t</span></td><td style="border-color:#000000;text-align:center;vertical-align:middle;width:96pt;"><span style="color:#000000;">修改分区id类型</span></td></tr><tr><td style="border-color:#000000;text-align:center;vertical-align:middle;width:96pt;"><span style="color:#000000;">w</span></td><td style="border-color:#000000;text-align:center;vertical-align:middle;width:96pt;"><span style="color:#000000;">保存</span></td></tr><tr><td style="border-color:#000000;text-align:center;vertical-align:middle;width:96pt;"><span style="color:#000000;">m</span></td><td style="border-color:#000000;text-align:center;vertical-align:middle;width:96pt;"><span style="color:#000000;">寻求帮助</span></td></tr></tbody></table> 
<h4 id="----%E5%88%86%E5%8C%BA%E7%9A%84%E5%88%86%E7%B1%BB%EF%BC%9A">----分区的分类：</h4> 
<table cellspacing="0" style="width:419pt;"><tbody><tr><td style="background-color:#c00000;border-color:#000000;text-align:center;vertical-align:middle;width:103pt;"><span style="color:#ffffff;">分区分类</span></td><td style="background-color:#c00000;border-color:#000000;text-align:center;vertical-align:middle;width:96pt;"><span style="color:#ffffff;">分区</span></td><td style="background-color:#c00000;border-color:#000000;text-align:center;vertical-align:middle;width:220pt;"><span style="color:#ffffff;">描述</span></td></tr><tr><td rowspan="3" style="text-align:center;vertical-align:middle;width:103pt;"><span style="color:#000000;">MBR分区<br> （fdisk针对2T以内）</span></td><td style="border-color:#000000;text-align:center;vertical-align:middle;width:96pt;"><span style="color:#000000;">主分区</span></td><td style="border-color:#000000;text-align:center;vertical-align:middle;width:220pt;"><span style="color:#000000;">可以直接使用，可以装操作系统，编号1-4</span></td></tr><tr><td style="border-color:#000000;text-align:center;vertical-align:middle;width:96pt;"><span style="color:#000000;">扩展分区</span></td><td style="border-color:#000000;text-align:center;vertical-align:middle;width:220pt;"><span style="color:#000000;">不能直接使用，大小1k存放逻辑分区表，需要逻辑分区，是特殊的主分区，编号1-4，但是最多1个扩展分区</span></td></tr><tr><td style="border-color:#000000;text-align:center;vertical-align:middle;width:96pt;"><span style="color:#000000;">逻辑分区</span></td><td style="border-color:#000000;text-align:center;vertical-align:middle;width:220pt;"><span style="color:#000000;">可以直接使用，大小不能超过扩展分区的大小，编号从5开始</span></td></tr><tr><td style="background-color:#d9d9d9;border-color:#000000;text-align:center;vertical-align:middle;width:103pt;"><span style="color:#000000;">gdisk针对2T以上</span></td><td style="background-color:#d9d9d9;border-color:#000000;text-align:center;vertical-align:middle;width:96pt;"><span style="color:#000000;">可以有128个分区</span></td><td style="background-color:#d9d9d9;border-color:#000000;text-align:center;vertical-align:middle;width:220pt;"><span style="color:#000000;">不限制</span></td></tr></tbody></table> 
<h4 id="----%E5%AE%9E%E6%93%8D%E5%88%86%E5%8C%BA%E5%AE%9E%E9%AA%8C">----实操分区实验</h4> 
<p><img alt="" height="801" src="https://images2.imgbox.com/c8/09/Eiol7Ngu_o.png" width="1200"></p> 
<p>创建主分区</p> 
<p><img alt="" height="904" src="https://images2.imgbox.com/6f/ff/Ro2nfTKk_o.png" width="1200"></p> 
<p>创建扩展分区</p> 
<p><img alt="" height="840" src="https://images2.imgbox.com/3a/1a/WPyLh00Y_o.png" width="1200"></p> 
<p><img alt="" height="514" src="https://images2.imgbox.com/f6/e0/YXeTEUPL_o.png" width="1200"></p> 
<p>创建逻辑分区</p> 
<p><img alt="" height="832" src="https://images2.imgbox.com/65/d7/di0CYl1a_o.png" width="1200"></p> 
<p>创建交换分区</p> 
<p><img alt="" height="1075" src="https://images2.imgbox.com/66/bc/aK7cjIMt_o.png" width="1200"></p> 
<p><img alt="" height="1011" src="https://images2.imgbox.com/fa/52/HnjBJXM1_o.png" width="1200"></p> 
<h3 id="2%E3%80%81%E5%88%9B%E5%BB%BA%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F">2、创建文件系统</h3> 
<h4 id="----%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E7%B1%BB%E5%9E%8B%EF%BC%9A">----文件系统类型：</h4> 
<table cellspacing="0" style="width:419pt;"><tbody><tr><td colspan="2" style="background-color:#c00000;text-align:center;vertical-align:middle;width:199pt;"><span style="color:#ffffff;">操作系统</span></td><td style="background-color:#c00000;border-color:#000000;text-align:center;vertical-align:middle;width:220pt;"><span style="color:#ffffff;">文件系统</span></td></tr><tr><td rowspan="2" style="text-align:center;vertical-align:middle;width:103pt;"><span style="color:#000000;">Linux系统</span></td><td style="border-color:#000000;text-align:center;vertical-align:middle;width:96pt;"><span style="color:#000000;">centos 6</span></td><td style="border-color:#000000;text-align:center;vertical-align:middle;width:220pt;"><span style="color:#000000;">ext4</span></td></tr><tr><td style="border-color:#000000;text-align:center;vertical-align:middle;width:96pt;"><span style="color:#000000;">centos7</span></td><td style="border-color:#000000;text-align:center;vertical-align:middle;width:220pt;"><span style="color:#000000;">xfs（可以存放文件和目录数据，高性能的日志文件系统，擅长处理大文件）</span></td></tr><tr><td rowspan="2" style="text-align:center;vertical-align:middle;width:103pt;"><span style="color:#000000;">Windows系统</span></td><td style="border-color:#000000;text-align:center;vertical-align:middle;width:96pt;"><span style="color:#000000;">64位操作系统</span></td><td style="border-color:#000000;text-align:center;vertical-align:middle;width:220pt;"><span style="color:#000000;">ntfs（可以存64G以内的文件）</span></td></tr><tr><td style="border-color:#000000;text-align:center;vertical-align:middle;width:96pt;"><span style="color:#000000;">32位操作系统</span></td><td style="border-color:#000000;text-align:center;vertical-align:middle;width:220pt;"><span style="color:#000000;">fta32（最大存放4G的文件）</span></td></tr></tbody></table> 
<p></p> 
<h4 id="----%E5%88%9B%E5%BB%BA%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%91%BD%E4%BB%A4">----创建文件系统的命令</h4> 
<p>查看相关命令，后面跟着的就是文件系统的类型</p> 
<p><img alt="" height="193" src="https://images2.imgbox.com/41/84/q9gV5FLr_o.png" width="1200"></p> 
<p><strong><span style="background-color:#ffd900;">语法：mkfs.文件系统类型  设备名称</span></strong></p> 
<p><strong><span style="background-color:#ffd900;">注意！！！！扩展分区不能创建文件系统！！！！只有1K，用来放逻辑分区表</span></strong></p> 
<p><img alt="" height="727" src="https://images2.imgbox.com/b0/af/RL1UucAC_o.png" width="1200"></p> 
<p><strong>swap分区也是需要创建文件系统的！！</strong></p> 
<p><strong><span style="background-color:#ffd900;">语法：mkswap 设备名称</span></strong></p> 
<p><img alt="" height="700" src="https://images2.imgbox.com/ea/5f/VDNYczTQ_o.png" width="1200"></p> 
<p><img alt="" height="438" src="https://images2.imgbox.com/3d/35/2SftjY2n_o.png" width="1200"></p> 
<p><img alt="" height="484" src="https://images2.imgbox.com/02/7f/Unfu2bLY_o.png" width="1200"></p> 
<h4 id="----%E6%9F%A5%E7%9C%8B%E6%98%AF%E5%90%A6%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E6%98%AF%E5%90%A6%E5%88%9B%E5%BB%BA%E6%88%90%E5%8A%9F">----查看是否文件系统是否创建成功</h4> 
<p><strong><span style="background-color:#ffd900;">lsblk  -f  ：</span></strong>没有挂载情况下查看文件系统是否创建成功</p> 
<p><strong><span style="background-color:#ffd900;">df -hT：</span></strong>挂载的情况下查看文件系统是什么</p> 
<p><img alt="" height="580" src="https://images2.imgbox.com/61/a6/ghvo5OWt_o.png" width="1200"></p> 
<p><img alt="" height="448" src="https://images2.imgbox.com/a2/c7/kwzAAtDf_o.png" width="1200"></p> 
<h3 id="3%E3%80%81%E6%8C%82%E8%BD%BD%EF%BC%88%E4%B8%B4%E6%97%B6%E6%8C%82%E8%BD%BD%E5%8F%8A%E6%B0%B8%E4%B9%85%E6%8C%82%E8%BD%BD%EF%BC%89">3、挂载（临时挂载及永久挂载）</h3> 
<h4 id="----%E6%8C%82%E8%BD%BD%E7%9A%84%E7%9B%AE%E7%9A%84%EF%BC%9A">----挂载的目的：</h4> 
<p><strong><span style="background-color:#ffd900;">将硬盘与文件目录做连接，提供一个可以对硬盘读写存储内容的窗口，要不然硬盘用不起来</span></strong></p> 
<h5 id="%E6%8C%82%E8%BD%BD%E7%82%B9%E7%9A%84%E6%9D%A1%E4%BB%B6%EF%BC%9A">挂载点的条件：</h5> 
<p>①挂载点必须是一个<strong><span style="color:#fe2c24;">已存在的目录</span></strong>，且最好是<span style="color:#fe2c24;"><strong>空目录</strong></span>，要不然容易数据丢失；</p> 
<p>②挂载一个设备最好只挂载一个目录，多个设备不能挂载同一个目录；</p> 
<p></p> 
<h4 id="----%E6%8C%82%E8%BD%BD%E7%9A%84%E5%88%86%E7%B1%BB%EF%BC%9A"><strong><span style="background-color:#ffd900;">----挂载的分类：</span></strong></h4> 
<h5 id="%E2%91%A0%E4%B8%B4%E6%97%B6%E6%8C%82%E8%BD%BD%EF%BC%9Amount">①临时挂载：mount</h5> 
<p>临时挂载在系统重启以后就会失效</p> 
<p>临时挂载语法：mount 设备名称 挂载点</p> 
<p>重新挂载语法：mount -o remouunt,ro 挂载点（该硬盘只允许读，不允许写，还可以设置其他功能）</p> 
<p><img alt="" height="556" src="https://images2.imgbox.com/e6/d2/CMT93Rzt_o.png" width="1200"></p> 
<p><img alt="" height="279" src="https://images2.imgbox.com/30/a3/ZXPeccnf_o.png" width="1200"></p> 
<p><img alt="" height="267" src="https://images2.imgbox.com/ee/da/SD9hmvgi_o.png" width="1200"></p> 
<h5 id="%E2%91%A1%E6%B0%B8%E4%B9%85%E6%8C%82%E8%BD%BD">②永久挂载</h5> 
<p><strong><span style="background-color:#ffd900;">如果想要挂载永久生效，需要修改挂载的配置文件 /etc/fstsb</span></strong></p> 
<p>先模拟实验环境，创建一个/dev/sdc1硬盘，并格式化文件系统为xfs，创建一个空目录/sdc1为挂载做准备</p> 
<p><img alt="" height="735" src="https://images2.imgbox.com/08/9d/5nLhokQw_o.png" width="1200"></p> 
<p><img alt="" height="232" src="https://images2.imgbox.com/93/ec/GVTApLX9_o.png" width="1200"></p> 
<h2 id="%E4%B8%89%E3%80%81%E6%A8%A1%E6%8B%9F%E6%B0%B8%E4%B9%85%E6%8C%82%E8%BD%BD%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E9%94%99%E8%AF%AF%E9%87%8D%E5%90%AF%E7%B3%BB%E7%BB%9F%E5%A4%B1%E8%B4%A5%EF%BC%8C%E8%AF%A5%E5%A6%82%E4%BD%95%E8%A7%A3%E5%86%B3">三、模拟永久挂载配置文件错误重启系统失败，该如何解决</h2> 
<p>实验模拟写错挂载配置文件重启系统</p> 
<p><img alt="" height="216" src="https://images2.imgbox.com/aa/ff/GSFnFK87_o.png" width="1200"></p> 
<p><img alt="" height="703" src="https://images2.imgbox.com/71/e0/6sswjml9_o.png" width="1200"></p> 
<p><img alt="" height="354" src="https://images2.imgbox.com/f4/a6/uolT7BNN_o.png" width="1182"></p> 
<p><img alt="" height="660" src="https://images2.imgbox.com/90/57/PEdCXOkQ_o.png" width="1200"></p> 
<p></p> 
<h2 id="%E5%9B%9B%E3%80%81%E6%A8%A1%E6%8B%9F%E6%8D%9F%E5%9D%8F%E7%A3%81%E7%9B%98%E4%BB%A5%E5%8F%8A%E4%BF%AE%E5%A4%8D%E4%BD%BF%E7%94%A8">四、模拟损坏磁盘以及修复使用</h2> 
<p><span style="color:#494949;"><strong><em>实验模拟思路：先准备一个环境，硬盘分区/dev/sdb1 文件系统是 xfs   临时挂载点 /sdb1  然后复制用户信息和用户密码文件至挂载点目录，然后用dd 模拟破坏硬盘，再解挂载，使用修复命令，然后重新挂载，查看修复情况。</em></strong></span></p> 
<p><img alt="" height="766" src="https://images2.imgbox.com/e6/db/bwrulkyJ_o.png" width="1200"></p> 
<p><img alt="" height="817" src="https://images2.imgbox.com/fa/7a/NJmnkRpP_o.png" width="1200"></p> 
<h2 id="%E4%BA%94%E3%80%81%E6%80%BB%E7%BB%93">五、总结</h2> 
<p><span style="color:#fe2c24;"><strong><span style="background-color:#ffd900;">每一步操作一定要边执行边验证执行结果</span></strong></span></p> 
<table cellspacing="0" style="width:423pt;"><tbody><tr><td style="background-color:#c00000;border-color:#000000;text-align:center;vertical-align:middle;width:84pt;"><span style="color:#ffffff;">操作</span></td><td style="background-color:#c00000;border-color:#000000;text-align:center;vertical-align:middle;width:136pt;"><span style="color:#ffffff;">验证命令</span></td><td style="background-color:#c00000;border-color:#000000;text-align:center;vertical-align:middle;width:203pt;"><span style="color:#ffffff;">解决办法</span></td></tr><tr><td style="border-color:#000000;text-align:center;vertical-align:middle;width:84pt;"><span style="color:#000000;">新加硬盘</span></td><td style="border-color:#000000;text-align:center;vertical-align:middle;width:136pt;"><span style="color:#000000;">lsblk查看是否有该硬盘</span></td><td style="border-color:#000000;text-align:center;vertical-align:middle;width:203pt;"><span style="color:#000000;">scan刷新接口</span></td></tr><tr><td style="border-color:#000000;text-align:center;vertical-align:middle;width:84pt;"><span style="color:#000000;">新加分区</span></td><td style="border-color:#000000;text-align:center;vertical-align:middle;width:136pt;"><span style="color:#000000;">lsblk查看是否有新分区</span></td><td style="border-color:#000000;text-align:center;vertical-align:middle;width:203pt;"><span style="color:#000000;">partprobe刷新分区</span></td></tr><tr><td style="border-color:#000000;text-align:center;vertical-align:middle;width:84pt;"><span style="color:#000000;">创建文件系统</span></td><td style="border-color:#000000;text-align:center;vertical-align:middle;width:136pt;"><span style="color:#000000;">lsblk -f 查看是否创建成功</span></td><td style="border-color:#000000;text-align:center;vertical-align:middle;width:203pt;"><span style="color:#000000;">重新创建，或者-f强制创建文件系统</span></td></tr><tr><td style="border-color:#000000;text-align:center;vertical-align:middle;width:84pt;"><span style="color:#000000;">临时挂载</span></td><td style="border-color:#000000;text-align:center;vertical-align:middle;width:136pt;"><span style="color:#000000;">df -hT查看挂载是否成功</span></td><td style="border-color:#000000;text-align:center;vertical-align:middle;width:203pt;"><span style="color:#000000;">没成功就重新挂载</span></td></tr><tr><td style="border-color:#000000;text-align:center;vertical-align:middle;width:84pt;"><span style="color:#000000;">永久挂载</span></td><td style="border-color:#000000;text-align:center;vertical-align:middle;width:136pt;"><span style="color:#000000;">mount -a查看是否报错</span></td><td style="border-color:#000000;text-align:center;vertical-align:middle;width:203pt;"><span style="color:#000000;">针对报错修改/etc/fstab 内容</span></td></tr></tbody></table>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/07a590b7e5c4b1c9326eed484304c1aa/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">C#在Winform中使用Spire.OCR进行图片文字识别</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/6e988a44832808a0baa7017cb4dda386/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Python中turtle的基础用法</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>