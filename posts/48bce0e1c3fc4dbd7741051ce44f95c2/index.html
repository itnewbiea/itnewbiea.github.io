<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>为什么要用@Param - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="为什么要用@Param" />
<meta property="og:description" content="版权声明：本文转载自https://blog.csdn.net/sinat_33010325/article/details/84261662
目录
1.关于@Param
2.原始的方法
3.使用@Param
4.后记
1.关于@Param
@Param是MyBatis所提供的(org.apache.ibatis.annotations.Param)，作为Dao层的注解，作用是用于传递参数，从而可以与SQL中的的字段名相对应，一般在2=&lt;参数数&lt;=5时使用最佳。
2.原始的方法
当只有一个参数时，没什么好说的，传进去一个值也只有一个参数可以匹配。当存在多个参数时，传进去的值就区分不开了，这时可以考虑用Map，例如接口
public List&lt;Role&gt; findRoleByMap(Map&lt;String, Object&gt; parameter); xml文件 ---------------（1）
&lt;select id=&#34;findRoleByMap&#34; parameterType=&#34;map&#34; resultType=&#34;role&#34;&gt; SELECT id,name FROM t_role WHERE roleName=#{roleName} AND note=#{note} &lt;select&gt; 测试文件
RoleMapper roleMapper = sqlSession.getMapper(RoleMapper.class); Map&lt;String, Object&gt; parameter = new HashMap&lt;&gt;(); parameter.put(&#34;roleName&#34;, &#34;剑士&#34;); parameter.put(&#34;note&#34;, &#34;决战紫禁之巅&#34;); List&lt;Role&gt; roles = roleMapper.findRolesByMap(parameter); 3.使用@Param
很明显上面的缺点就在于可读性差，每次必须阅读他的键，才能明白其中的作用，并且不能限定其传递的数据类型，下面是使用@Param的情况，需要将接口改为
public List&lt;Role&gt; findRoleByAnnotation(@Param(&#34;roleName&#34;) String roleName, @Param(&#34;note&#34;) String note); 这样我们就可以直接传入对应的值了。
当然也可以使用Java Bean来传递多个参数，定义一个POJO
public class RoleParam { private String roleName; private String note; /*getter和setter*/ } 此时接口就变为" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/48bce0e1c3fc4dbd7741051ce44f95c2/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-09-19T09:35:15+08:00" />
<meta property="article:modified_time" content="2019-09-19T09:35:15+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">为什么要用@Param</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>版权声明：本文转载自https://blog.csdn.net/sinat_33010325/article/details/84261662<br> 目录</p> 
<p>1.关于@Param</p> 
<p>2.原始的方法</p> 
<p>3.使用@Param</p> 
<p>4.后记</p> 
<p>1.关于@Param<br> @Param是MyBatis所提供的(org.apache.ibatis.annotations.Param)，作为Dao层的注解，作用是用于传递参数，从而可以与SQL中的的字段名相对应，一般在2=&lt;参数数&lt;=5时使用最佳。</p> 
<p>2.原始的方法<br> 当只有一个参数时，没什么好说的，传进去一个值也只有一个参数可以匹配。当存在多个参数时，传进去的值就区分不开了，这时可以考虑用Map，例如接口</p> 
<pre class="has"><code>public List&lt;Role&gt; findRoleByMap(Map&lt;String, Object&gt; parameter);</code></pre> 
<p><br> xml文件 ---------------（1）</p> 
<pre class="has"><code>&lt;select id="findRoleByMap" parameterType="map" resultType="role"&gt;
    SELECT id,name FROM t_role
    WHERE roleName=#{roleName}
    AND note=#{note}
&lt;select&gt;</code></pre> 
<p><br> 测试文件</p> 
<pre class="has"><code class="language-java">RoleMapper roleMapper = sqlSession.getMapper(RoleMapper.class);
Map&lt;String, Object&gt; parameter = new HashMap&lt;&gt;();
parameter.put("roleName", "剑士");
parameter.put("note", "决战紫禁之巅");
List&lt;Role&gt; roles = roleMapper.findRolesByMap(parameter);</code></pre> 
<p><br> 3.使用@Param<br> 很明显上面的缺点就在于可读性差，每次必须阅读他的键，才能明白其中的作用，并且不能限定其传递的数据类型，下面是使用@Param的情况，需要将接口改为</p> 
<pre class="has"><code>public List&lt;Role&gt; findRoleByAnnotation(@Param("roleName") String roleName, @Param("note") String note);</code></pre> 
<p><br> 这样我们就可以直接传入对应的值了。</p> 
<p>当然也可以使用Java Bean来传递多个参数，定义一个POJO</p> 
<pre class="has"><code>public class RoleParam {
    private String roleName;
    private String note;
    /*getter和setter*/
}
</code></pre> 
<p>此时接口就变为</p> 
<pre class="has"><code>public List&lt;Role&gt; findRoleByBean(RoleParam role);</code></pre> 
<p><br> 这样对应的xml文件与1处的区别就在于id和parameterType发生了变化，id对应的方法和parameterType对应该类的权限定名。</p> 
<p>而使用更多的场景可能是这样的，对应多个POJO</p> 
<pre class="has"><code>public List&lt;Role&gt; findRoleByMix(@Param("roleP") RoleParam role, @Param("permissionP") PermissionParam permission);</code></pre> 
<p><br> 这样就可以进行如下映射</p> 
<pre class="has"><code>&lt;select id="findRoleByMix" resultType="role"&gt;
    SELECT id,name FROM t_role
    WHERE roleName=#{roleP.roleName}
    AND note=#{rolep.note}
    AND level=#{permissionP.level}
&lt;select&gt;</code></pre> 
<p><br> 注意此时并不需要写出parameterType属性，Mybatis会进行自动搜索。</p> 
<p>4.后记<br> 最后也许会有小火办会问，那@Param和@RequestParam是什么关系呢？其实它们没有关系，就跟Java和JavaScript，雷锋和雷锋塔一样，拥有相似的外表，其实作用是不一样的，@Param是地处Dao层，是为了传递多个参数，解决的是可读性和直观性；而@RequestParam是位列Controller层，作用是为获取前端参数，解决的是前后端参数不一致的问题。所以它们没有关系！<br><br> 原文链接：https://blog.csdn.net/sinat_33010325/article/details/84261662</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/933e1e29c069173bd521f97983134bc9/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Precision@N</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/07b39ead133325afe3058bf82ba7986e/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Win10任务栏调整小工具（任务栏改到左侧且设置窄）——实测好用的7 taskbar tweaker</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>