<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>POJ2031--Building a Space Station--最小生成树 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="POJ2031--Building a Space Station--最小生成树" />
<meta property="og:description" content="Description
You are a member of the space station engineering team, and are assigned a task in the construction process of the station. You are expected to write a computer program to complete the task. The space station is made up with a number of units, called cells. All cells are sphere-shaped, but their sizes are not necessarily uniform. Each cell is fixed at its predetermined position shortly after the station is successfully put into its orbit." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/86eda8e7cc59b7b51828fbc4ce64400a/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2013-02-23T22:53:12+08:00" />
<meta property="article:modified_time" content="2013-02-23T22:53:12+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">POJ2031--Building a Space Station--最小生成树</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p class="pst">Description</p> 
<div lang="en-US" class="ptx">
  You are a member of the space station engineering team, and are assigned a task in the construction process of the station. You are expected to write a computer program to complete the task. 
 <br> The space station is made up with a number of units, called cells. All cells are sphere-shaped, but their sizes are not necessarily uniform. Each cell is fixed at its predetermined position shortly after the station is successfully put into its orbit. It is quite strange that two cells may be touching each other, or even may be overlapping. In an extreme case, a cell may be totally enclosing another one. I do not know how such arrangements are possible. 
 <br> 
 <br> All the cells must be connected, since crew members should be able to walk from any cell to any other cell. They can walk from a cell A to another cell B, if, (1) A and B are touching each other or overlapping, (2) A and B are connected by a `corridor', or (3) there is a cell C such that walking from A to C, and also from B to C are both possible. Note that the condition (3) should be interpreted transitively. 
 <br> 
 <br> You are expected to design a configuration, namely, which pairs of cells are to be connected with corridors. There is some freedom in the corridor configuration. For example, if there are three cells A, B and C, not touching nor overlapping each other, at least three plans are possible in order to connect all three cells. The first is to build corridors A-B and A-C, the second B-C and B-A, the third C-A and C-B. The cost of building a corridor is proportional to its length. Therefore, you should choose a plan with the shortest total length of the corridors. 
 <br> 
 <br> You can ignore the width of a corridor. A corridor is built between points on two cells' surfaces. It can be made arbitrarily long, but of course the shortest one is chosen. Even if two corridors A-B and C-D intersect in space, they are not considered to form a connection path between (for example) A and C. In other words, you may consider that two corridors never intersect. 
 <br> 
</div> 
<p class="pst">Input</p> 
<div lang="en-US" class="ptx">
  The input consists of multiple data sets. Each data set is given in the following format. 
 <br> 
 <br> n 
 <br> x1 y1 z1 r1 
 <br> x2 y2 z2 r2 
 <br> ... 
 <br> xn yn zn rn 
 <br> 
 <br> The first line of a data set contains an integer n, which is the number of cells. n is positive, and does not exceed 100. 
 <br> 
 <br> The following n lines are descriptions of cells. Four values in a line are x-, y- and z-coordinates of the center, and radius (called r in the rest of the problem) of the sphere, in this order. Each value is given by a decimal fraction, with 3 digits after the decimal point. Values are separated by a space character. 
 <br> 
 <br> Each of x, y, z and r is positive and is less than 100.0. 
 <br> 
 <br> The end of the input is indicated by a line containing a zero. 
 <br> 
</div> 
<p class="pst">Output</p> 
<div lang="en-US" class="ptx">
  For each data set, the shortest total length of the corridors should be printed, each in a separate line. The printed values should have 3 digits after the decimal point. They may not have an error greater than 0.001. 
 <br> 
 <br> Note that if no corridors are necessary, that is, if all the cells are connected without corridors, the shortest total length of the corridors is 0.000. 
 <br> 
</div> 
<p class="pst">Sample Input</p> 
<pre class="sio">3
10.000 10.000 50.000 10.000
40.000 10.000 50.000 10.000
40.000 40.000 50.000 10.000
2
30.000 30.000 30.000 20.000
40.000 40.000 40.000 20.000
5
5.729 15.143 3.996 25.837
6.013 14.372 4.818 10.671
80.115 63.292 84.477 15.120
64.095 80.924 70.029 14.881
39.472 85.116 71.369 5.553
0</pre> 
<p class="pst">Sample Output</p> 
<pre class="sio">20.000
0.000
73.834
<pre><code class="language-cpp">/*此题是一道Kruskal算法的应用。把细胞看成点。然后开始计算边长。圆心距小于半径之和的边权为0
否则边权=圆心距-半径之和。。只需n-1条边即可让整个图联通。
*/
#include &lt;iostream&gt;
#include &lt;cstdio&gt;
#include &lt;cmath&gt;
#include &lt;algorithm&gt;
using namespace std;
#define maxn 108
struct CELL
{
	double x,y,z,r;
}cell[maxn];
struct Edge
{
	int from,to;
	double len;
}edge[maxn*maxn];
int father[maxn];
double qlen(CELL a,CELL b)
{
	return sqrt((a.x-b.x)*(a.x-b.x)+(a.y-b.y)*(a.y-b.y)+(a.z-b.z)*(a.z-b.z));
}
int find(int x)
{
	if(x==father[x]) return x;
	return find(father[x]);
}
bool cmp(Edge a,Edge b)
{
	return a.len&gt;=b.len?0:1;
}
int main()
{
	int n;
	while(scanf("%d",&amp;n)!=EOF&amp;&amp;n)
	{
		for(int i=1;i&lt;=n;i++)
		{
			scanf("%lf%lf%lf%lf",&amp;cell[i].x,&amp;cell[i].y,&amp;cell[i].z,&amp;cell[i].r);
		}
		for(int i=1;i&lt;=n;i++)
		{
			father[i]=i;
		}
		int k=0;
		for(int i=1;i&lt;=n;i++)
		{
			for(int j=1;j&lt;=n;j++)
			{
				if(j==i)continue;
				double len=cell[i].r+cell[j].r;
				if(len&gt;=qlen(cell[i],cell[j]))
				{
					edge[++k].from=i;
					edge[k].to=j;
					edge[k].len=0;
					
				}
				else 
				{
					edge[++k].from=i;
					edge[k].to=j;
					edge[k].len=qlen(cell[i],cell[j])-len;
					
				}
			}
		}
		sort(edge+1,edge+k+1,cmp);
		double minlen=0;
		int z=0;
		for(int i=1;i&lt;=k;i++)
		{
			if(find(edge[i].from)!=find(edge[i].to))
			{
				minlen+=edge[i].len;
				father[find(edge[i].from)]=edge[i].to;
				z++;
				if(z==n-1)
				{
					break;
				}
			}
		}
		printf("%.3lf\n",minlen);
	}
	return 0;
}
</code></pre><br></pre>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/471c2098f59bfbfa7e8bbfb4a4931034/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Konig定理</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b0c3e4d6d74187974349978e0c49ee16/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">varchar和Nvarchar区别</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>