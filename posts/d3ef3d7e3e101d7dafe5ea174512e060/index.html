<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>selenium加载插件自动化控制插件 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="selenium加载插件自动化控制插件" />
<meta property="og:description" content="项目背景 最近我想把自己在哔哩哔哩上发的视频全部下载下来，发现哔哩哔哩网页版没有下载功能，app客户端只能一个一个缓存，
然后我找到网上的一些教程，发现大多数都是让我去下载一些客户端的软件，我不想用，最后发现一个chrome插件bilibili-helper-2.1.7.crx
可以帮我一个一个下载，但它不能满足我一下子下载的全部视频的功能，然后，我思考了片刻，
决定利用这个插件加上我所学的自动化测试框架，简单写一些代码，尝试完成这个批量下载某个up主的全部视频的功能，
于是就有了这个项目，虽然它很小，而且是寄生在bilibili-helper-2.1.7.crx插件之上的，但不得不说它确实解决了
我当下的小问题。
原理： chromedriver 加载bilibili-helper插件---&gt;打开浏览器---&gt;控制台输入up主的mid ---&gt; 查到它的所有视频id(它是分页的，需要处理下哈)---&gt;根据每个视频id页次访问页面---&gt;使用selenium 点击下载按钮 ---&gt;等待页面出现下载完成文字，然后进行下一个视频的下载--&gt;直至视频列表被遍历完,该up主的所有视频被下载 使用说明: 1.先运行 LoadChromeDriver.py 会自动下载与你浏览器匹配的chromedriver 2.再运行LoadExtensionPlug.py 文件输入up主的mid mid 是每个up主的唯一id，例如up主老番茄的主页url为: https://space.bilibili.com/546195/，那么后面的数字546195即是老番茄的 mid
3.然后生成的视频会在你的 D:\myVideo\ 文件夹下，如果你没有D盘，请更改代码里的path变量，当然你也可以改为其他
4.使用前请关掉你的浏览器，不然会报错，这是一个bug，如果下载失败，请清空一下浏览器的缓存
我用的浏览器版本如下 版本 107.0.5304.88（正式版本） （64 位）
如果你使用的是其他版本的浏览器，请如 chromedriver 下载站点下载与浏览器版本对应的chromedriver
你也可以运行 本项目中的LoadChromeDriver.py 自动帮你下载和你浏览器匹配的chromedriver，但你事先必须安装chrome浏览器、
效果: 输入 up主老番茄 的 mid 并按回车键
![在这里插入图片描述]
参考 1.bilibili-helper 下载地址
2.使用selenium 加载chrome插件
3.selenium 下载文件时 出现保存弹窗让选路径，下载被卡主问题
4.Web自动化遇到shadowDOM节点操作
5.selenium 获取shadow-root的元素
6.自动下载与用户浏览器匹配的ChromeDriver
我的 我的博客
github链接
免责声明 该项目和文章只是用于selenium的学习和研究，不得使用它来进行其他违法行为，使用该教程进行的一切违法行为与本博主
无关。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/d3ef3d7e3e101d7dafe5ea174512e060/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-11-04T19:43:29+08:00" />
<meta property="article:modified_time" content="2022-11-04T19:43:29+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">selenium加载插件自动化控制插件</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="_0"></a>项目背景</h2> 
<p>最近我想把自己在哔哩哔哩上发的视频全部下载下来，发现哔哩哔哩网页版没有下载功能，app客户端只能一个一个缓存，<br> 然后我找到网上的一些教程，发现大多数都是让我去下载一些客户端的软件，我不想用，最后发现一个chrome插件bilibili-helper-2.1.7.crx<br> 可以帮我一个一个下载，但它不能满足我一下子下载的全部视频的功能，然后，我思考了片刻，<br> 决定利用这个插件加上我所学的自动化测试框架，简单写一些代码，尝试完成这个批量下载某个up主的全部视频的功能，<br> 于是就有了这个项目，虽然它很小，而且是寄生在bilibili-helper-2.1.7.crx插件之上的，但不得不说它确实解决了<br> 我当下的小问题。</p> 
<h3><a id="_7"></a>原理：</h3> 
<pre><code>	 chromedriver 加载bilibili-helper插件---&gt;打开浏览器---&gt;控制台输入up主的mid
	  ---&gt; 查到它的所有视频id(它是分页的，需要处理下哈)---&gt;根据每个视频id页次访问页面---&gt;使用selenium 点击下载按钮
	  ---&gt;等待页面出现下载完成文字，然后进行下一个视频的下载--&gt;直至视频列表被遍历完,该up主的所有视频被下载
</code></pre> 
<h3><a id="_11"></a>使用说明:</h3> 
<p>1.先运行 LoadChromeDriver.py 会自动下载与你浏览器匹配的chromedriver <br><br> 2.再运行LoadExtensionPlug.py 文件输入up主的mid <br><br> mid 是每个up主的唯一id，例如up主老番茄的主页url为: https://space.bilibili.com/546195/，那么后面的数字546195即是老番茄的 mid<br><br> 3.然后生成的视频会在你的 D:\myVideo\ 文件夹下，如果你没有D盘，请更改代码里的path变量，当然你也可以改为其他<br><br> 4.使用前请关掉你的浏览器，不然会报错，这是一个bug，如果下载失败，请清空一下浏览器的缓存</p> 
<h4><a id="_17"></a>我用的浏览器版本如下</h4> 
<p>版本 107.0.5304.88（正式版本） （64 位）<br> 如果你使用的是其他版本的浏览器，请如 <a href="https://registry.npmmirror.com/binary.html?path=chromedriver/" rel="nofollow">chromedriver 下载站点</a>下载与浏览器版本对应的chromedriver<br> 你也可以运行 本项目中的LoadChromeDriver.py 自动帮你下载和你浏览器匹配的chromedriver，但你事先必须安装chrome浏览器、</p> 
<h3><a id="_21"></a>效果:</h3> 
<p>输入 up主老番茄 的 mid 并按回车键<br> <img src="https://images2.imgbox.com/c6/2d/XIw93QFd_o.png" alt="在这里插入图片描述">![在这里插入图片描述]<img src="https://images2.imgbox.com/62/83/sqMeIDRn_o.png" alt="(https://img-blog.csdnimg.cn/09c0288a84fb4b919556c12f1e656cf0.png"><br> <img src="https://images2.imgbox.com/94/fe/2nZxvuNn_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_28"></a>参考</h4> 
<p>1.<a href="https://csser.top/" rel="nofollow">bilibili-helper 下载地址</a><br><br> 2.<a href="https://blog.csdn.net/CY19980216/article/details/120808137">使用selenium 加载chrome插件</a><br><br> 3.<a href="%E5%9C%A8%E4%B8%80%E4%B8%AA%E5%A4%96%E5%9B%BD%E7%9A%84%E7%BD%91%E7%AB%99%E6%89%BE%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88%EF%BC%8C%E7%BD%91%E4%BA%86%E5%9C%B0%E5%9D%80%E4%BA%86" rel="nofollow">selenium 下载文件时 出现保存弹窗让选路径，下载被卡主问题</a><br><br> 4.<a href="https://blog.csdn.net/weixin_53519100/article/details/114760056?spm=1001.2101.3001.6650.8&amp;utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7EESLANDING%7Edefault-8-114760056-blog-101566770.pc_relevant_landingrelevant&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7EESLANDING%7Edefault-8-114760056-blog-101566770.pc_relevant_landingrelevant&amp;utm_relevant_index=9">Web自动化遇到shadowDOM节点操作</a><br><br> 5.<a href="https://blog.csdn.net/dyfDewey/article/details/116454716?spm=1001.2101.3001.6650.8&amp;utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-8-116454716-blog-119808566.pc_relevant_3mothn_strategy_recovery&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-8-116454716-blog-119808566.pc_relevant_3mothn_strategy_recovery&amp;utm_relevant_index=12">selenium 获取shadow-root的元素</a><br><br> 6.<a href="https://blog.csdn.net/sinat_41870148/article/details/109263847">自动下载与用户浏览器匹配的ChromeDriver</a><br></p> 
<h4><a id="_35"></a>我的</h4> 
<p><a href="https://blog.csdn.net/weixin_43225966">我的博客</a><br> <a href="https://github.com/ranhaoliu/selenium_download_bibli_video">github链接</a></p> 
<h4><a id="_39"></a>免责声明</h4> 
<p>该项目和文章只是用于selenium的学习和研究，不得使用它来进行其他违法行为，使用该教程进行的一切违法行为与本博主<br> 无关。</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e409e965c4a1b2e1da2010135d1d44c6/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">电子元器件篇---MOS管</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/925b10e89cc08f60dfff1091b484d0cc/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">深度学习入门（二十四）卷积神经网络——填充和步幅</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>