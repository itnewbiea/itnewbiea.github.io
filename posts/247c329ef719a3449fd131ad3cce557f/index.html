<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【algorithm】自动驾驶常见常考的几个模型和推导，顺便总结自己遇到的考题经验不断更新之———控制版 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【algorithm】自动驾驶常见常考的几个模型和推导，顺便总结自己遇到的考题经验不断更新之———控制版" />
<meta property="og:description" content="写在前面 本来快达成目标了，没想到公司遭受了问题，公司和同事我感觉还是挺好的，有国企的正规也有小企业的灵活，大家都很有学习欲望。
作为本次再次复习回忆如下：
把之前面试准备的 机器学习（基本搬运到CSDN平台了）、规划（基于之前的公司同事教导和常见算法轨迹 lattice em 路径 diji a star rrt rrt*）、控制（控制器和模型），工具链（matlab ide repo git anaconda ros linux操作）其他（frenet 、大地车辆坐标转换、点到线距离、找投影、插值、离散点求曲率（以及各种几何问题）、卡尔曼 三次道路多项式 地图处理 滤波 轨迹优化）刷题和有cpp相关的作为小白接触到的知识都总结成了word。 本文先总结搬运模型相关，希望大佬们给点方向提建议，渴望进步，其实对于经典现代控制论本身，很多东西都忘记了，只能作为笔记和考试记录存在了，实践中感觉一直用不上或者不需要再推导了。 现在的烦恼是：其中有很多新东西和非规划控制的内容由于工作方向我只能自己demo，最希望讨论和接触的是实践中积累的问题处理办法，还有能实际在工作中部署最新论文的东西，可惜工作就是工作，同时被专业方向卡住，只能积累再积累。
outline stanley pp动力学 运动学 简单推导mpcpidacado 和osqp求解 见另外两篇文章
Acado：https://blog.csdn.net/weixin_46479223/article/details/133743263的实例中展示了acado如何求解mpc问题，
另一篇是osqposqp：https://blog.csdn.net/weixin_46479223/article/details/135107257临时简略EM planner 信息 Stanley and pure pursuit 运动学 动力学 并联pid 预瞄 2个点 近：lateraldisdiff lateraldisdiffrate 远headingdiff headingdiffrateyawrate 要稳 pd要控制好找瞄准点用几何法 串联pid MPC控制横向 pid纵向 （纵向mpc osqp见另一篇文章的demo）https://blog.csdn.net/weixin_46479223/article/details/135107257
会找投影点 预瞄要选好 用acado osqp ，具体模型一会更新
模型推导 在我的文章Acado：https://blog.csdn.net/weixin_46479223/article/details/133743263的实例中展示了acado如何求解mpc问题
可见acado很方便，直接给出车辆模型的微分方程，以及求解时域（步长）、约束、和目标函数就可以生成相关代码。
因此我们直接得出状态量之间的递推表达关系即可（状态转移方程），推导如下（当然也可以使用之前的动力学和运动学的推导来建立mpc，这里展示使用的另一种横向模型）
以下是除了模型之外的，mpc控制部分的处理（找投影点，预瞄点），以及纵向pid的设置 其他： -颠簸" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/247c329ef719a3449fd131ad3cce557f/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-05T15:51:55+08:00" />
<meta property="article:modified_time" content="2024-01-05T15:51:55+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【algorithm】自动驾驶常见常考的几个模型和推导，顺便总结自己遇到的考题经验不断更新之———控制版</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="_0"></a>写在前面</h2> 
<p>本来快达成目标了，没想到公司遭受了问题，公司和同事我感觉还是挺好的，有国企的正规也有小企业的灵活，大家都很有学习欲望。<br> <strong>作为本次再次复习回忆如下：</strong><br> 把之前面试准备的 机器学习（基本搬运到CSDN平台了）、规划（基于之前的公司同事教导和常见算法轨迹 lattice em 路径 diji a star rrt rrt*）、控制（控制器和模型），工具链（matlab ide repo git anaconda ros linux操作）其他（frenet 、大地车辆坐标转换、点到线距离、找投影、插值、离散点求曲率（以及各种几何问题）、卡尔曼 三次道路多项式 地图处理 滤波 轨迹优化）刷题和有cpp相关的作为小白接触到的知识都总结成了word。 本文先总结搬运模型相关，希望大佬们给点方向提建议，渴望进步，其实对于经典现代控制论本身，很多东西都忘记了，只能作为笔记和考试记录存在了，实践中感觉一直用不上或者不需要再推导了。 现在的烦恼是：其中有很多新东西和非规划控制的内容由于工作方向我只能自己demo，最希望讨论和接触的是实践中积累的问题处理办法，还有能实际在工作中部署最新论文的东西，可惜工作就是工作，同时被专业方向卡住，只能积累再积累。</p> 
<h2><a id="outline_5"></a>outline</h2> 
<ul><li>stanley pp</li><li>动力学 运动学 简单推导</li><li>mpc</li><li>pid</li><li>acado 和osqp求解 见另外两篇文章<br> <a href="https://blog.csdn.net/weixin_46479223/article/details/133743263">Acado：https://blog.csdn.net/weixin_46479223/article/details/133743263</a>的实例中展示了acado如何求解mpc问题，<br> 另一篇是osqp<a href="https://blog.csdn.net/weixin_46479223/article/details/135107257">osqp：https://blog.csdn.net/weixin_46479223/article/details/135107257</a></li><li><strong>临时简略EM planner 信息</strong></li></ul> 
<h2><a id="Stanley_and_pure_pursuit_17"></a>Stanley and pure pursuit</h2> 
<p><img src="https://images2.imgbox.com/0d/c7/MJkPUL0a_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_22"></a>运动学</h2> 
<p><img src="https://images2.imgbox.com/6c/f6/JEAQuyyB_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/75/b4/QQtDTT8D_o.jpg" alt="在这里插入图片描述"></p> 
<h2><a id="_27"></a>动力学</h2> 
<p><img src="https://images2.imgbox.com/0a/6a/0ePIYwNF_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/7f/bb/sYlxyV1c_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/e5/28/QLYjeogP_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="pid_34"></a>并联pid</h2> 
<ul><li>预瞄 2个点 近：lateraldisdiff lateraldisdiffrate 远headingdiff headingdiffrate</li><li>yawrate 要稳 pd要控制好</li><li>找瞄准点用几何法</li></ul> 
<h2><a id="pid_39"></a>串联pid</h2> 
<p><img src="https://images2.imgbox.com/63/cf/nVw5PBty_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="MPC_pid_44"></a>MPC控制横向 pid纵向</h2> 
<p>（纵向mpc osqp见另一篇文章的demo）<a href="https://blog.csdn.net/weixin_46479223/article/details/135107257">https://blog.csdn.net/weixin_46479223/article/details/135107257</a></p> 
<p>会找投影点 预瞄要选好 用acado osqp ，<s>具体模型一会更新</s></p> 
<h3><a id="_49"></a>模型推导</h3> 
<p>在我的文章<a href="https://blog.csdn.net/weixin_46479223/article/details/133743263">Acado：https://blog.csdn.net/weixin_46479223/article/details/133743263</a>的实例中展示了acado如何求解mpc问题</p> 
<p>可见acado很方便，直接给出车辆模型的微分方程，以及求解时域（步长）、约束、和目标函数就可以生成相关代码。<br> <img src="https://images2.imgbox.com/e9/18/9eoUHMgV_o.png" alt="在这里插入图片描述"></p> 
<p>因此我们直接得出状态量之间的递推表达关系即可（状态转移方程），推导如下（当然也可以使用之前的动力学和运动学的推导来建立mpc，这里展示使用的另一种横向模型）<br> <img src="https://images2.imgbox.com/c5/d4/zf6l0cnG_o.jpg" alt="在这里插入图片描述"></p> 
<h3><a id="mpcpid_60"></a>以下是除了模型之外的，mpc控制部分的处理（找投影点，预瞄点），以及纵向pid的设置</h3> 
<p><img src="https://images2.imgbox.com/4a/ac/Xb4G9dvd_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/3e/b3/xVyXtC2s_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/06/67/PX5c1YKZ_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_69"></a>其他：</h2> 
<p>-颠簸<br> -手力<br> -控制接口转化<br> -握手<br> -滤波<br> -限幅<br> -限rate<br> -侧倾<br> -前置车道线处理<br> -激活退方向盘稳定渐入渐出<br> -canoe ape分析<br> -matlab回放 ros回放</p> 
<ul><li>usw.</li></ul> 
<h2><a id="EM_planner_85"></a>临时EM planner</h2> 
<p><img src="https://images2.imgbox.com/5a/28/QzW2LPgQ_o.png" alt="在这里插入图片描述"><br> <strong>补充</strong>：找起点时间要顺延一个planning cycle</p> 
<ul><li>轨迹筛选、碰撞检测</li><li>巡航为四次多项式 没有终点s</li><li>frenet下的平滑不代表卡迪尔下平滑<br> <strong>注意 以下图片均出自于老王 bilibili</strong><br> <img src="https://images2.imgbox.com/3d/f5/1yEYFrrc_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/e7/14/nkTCRdIy_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/5b/7f/ryeYPncn_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/86/cc/Vwo7soKH_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/a3/91/Y5zlC8cQ_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/8f/89/GWp2Nu1x_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/14/fd/Sb18cXWP_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/97/a3/eDQ2xzQZ_o.png" alt="在这里插入图片描述"></li></ul> 
<h3><a id="_100"></a>特殊情况</h3> 
<p><img src="https://images2.imgbox.com/2d/9e/C5fvF43W_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/07/e9/JF6FEDiU_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_103"></a>以前的杂乱总结版本</h3> 
<p><img src="https://images2.imgbox.com/ba/f5/72Jr1Ftm_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/85/b7/cGyEEAoo_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_109"></a>最后听讲</h3> 
<p><img src="https://images2.imgbox.com/09/20/IXzLSb2M_o.jpg" alt="在这里插入图片描述"></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/5b6e9b3d995df5e81994a23f3194e568/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Python制作【大麦网】抢票程序，看演唱会再也不怕没票了</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/0d50c1207f33e2584f3ca9c6afff66e7/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【mac-m1 docker 安装upload-labs靶场】</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>