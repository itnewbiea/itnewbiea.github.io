<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>四、Pinia 的安装及其基本使用 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="四、Pinia 的安装及其基本使用" />
<meta property="og:description" content="前言 Pinia 是 Vue 的存储库，它允许您跨组件/页面共享状态。
Pinia API 与 Vuex ≤4 有很大不同，即：
mutations 不再存在。他们经常被认为是 非常 冗长。他们最初带来了 devtools 集成，但这不再是问题。无需创建自定义复杂包装器来支持 TypeScript，所有内容都是类型化的，并且 API 的设计方式尽可能利用 TS 类型推断。不再需要注入、导入函数、调用函数、享受自动完成功能！无需动态添加 Store，默认情况下它们都是动态的，您甚至都不会注意到。请注意，您仍然可以随时手动使用 Store 进行注册，但因为它是自动的，您无需担心。不再有 modules 的嵌套结构。您仍然可以通过在另一个 Store 中导入和 使用 来隐式嵌套 Store，但 Pinia 通过设计提供平面结构，同时仍然支持 Store 之间的交叉组合方式。 您甚至可以拥有 Store 的循环依赖关系。没有 命名空间模块。鉴于 Store 的扁平架构，“命名空间” Store 是其定义方式所固有的，您可以说所有 Store 都是命名空间的。 1、安装 Pinia
pnpm install pinia 提示
如果您的应用使用 Vue 2，您还需要安装组合 API：@vue/composition-api。
2、main.ts 中创建一个 pinia 并挂载
import { createApp } from &#34;vue&#34;; import App from &#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/35acf8313b9c63e8b1e3f32cbe9c824e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-10-27T15:19:04+08:00" />
<meta property="article:modified_time" content="2022-10-27T15:19:04+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">四、Pinia 的安装及其基本使用</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2>前言</h2> 
<p>Pinia 是 Vue 的存储库，它允许您跨组件/页面共享状态。</p> 
<p>Pinia API 与 Vuex ≤4 有很大不同，即：</p> 
<ul><li><em>mutations</em> 不再存在。他们经常被认为是 <strong><em>非常</em> 冗长</strong>。他们最初带来了 devtools 集成，但这不再是问题。</li><li>无需创建自定义复杂包装器来支持 TypeScript，所有内容都是类型化的，并且 API 的设计方式尽可能利用 TS 类型推断。</li><li>不再需要注入、导入函数、调用函数、享受自动完成功能！</li><li>无需动态添加 Store，默认情况下它们都是动态的，您甚至都不会注意到。请注意，您仍然可以随时手动使用 Store 进行注册，但因为它是自动的，您无需担心。</li><li>不再有 <em>modules</em> 的嵌套结构。您仍然可以通过在另一个 Store 中导入和 <em>使用</em> 来隐式嵌套 Store，但 Pinia 通过设计提供平面结构，同时仍然支持 Store 之间的交叉组合方式。 <strong>您甚至可以拥有 Store 的循环依赖关系</strong>。</li><li>没有 <em>命名空间模块</em>。鉴于 Store 的扁平架构，“命名空间” Store 是其定义方式所固有的，您可以说所有 Store 都是命名空间的。</li></ul> 
<p>1、安装 Pinia</p> 
<pre><code>pnpm install pinia</code></pre> 
<blockquote> 
 <p>提示</p> 
 <p>如果您的应用使用 Vue 2，您还需要安装组合 API：<code>@vue/composition-api</code>。</p> 
</blockquote> 
<p>2、main.ts 中创建一个 pinia 并挂载</p> 
<pre><code>import { createApp } from "vue";
import App from "./App.vue";
import { createPinia } from "pinia";

...

const app = createApp(App);

app.use(createPinia());

app.mount("#app");
</code></pre> 
<p> 3、在 store 文件夹创建 home.ts</p> 
<pre><code>import { defineStore } from "pinia";

export const useHomeStore = defineStore("home", {
  state: () =&gt; {
    return {
      msg: "I`m Pinia!!!",
    };
  },
  getters: {},
  actions: {
    handleChangeMessage() {
      this.msg == "I`m Pinia!!!"
        ? (this.msg = "yeah!!!")
        : (this.msg = "I`m Pinia!!!");
    },
  },
});
</code></pre> 
<p>4、页面中使用以及获取 Pinia 中的值</p> 
<pre><code>&lt;template&gt;
  &lt;el-main&gt;
    &lt;img src="../assets/img/logo.png" alt="logo" width="700" /&gt;
    &lt;div&gt;首页&lt;/div&gt;
    &lt;div&gt;{<!-- -->{ home.msg }}&lt;/div&gt;
    &lt;el-button type="primary" @click="changeMessage"
      &gt;更改打招呼的方式&lt;/el-button
    &gt;
  &lt;/el-main&gt;
&lt;/template&gt;

&lt;script setup lang="ts"&gt;
import { useHomeStore } from "../store/home";

const home = useHomeStore();

const changeMessage = () =&gt; {
  home.handleChangeMessage();
};
&lt;/script&gt;

&lt;style lang="less" scoped&gt;
.el-main {
  text-align: center;
  font-size: 80px;
  margin-top: 10px;

  img {
    width: 700px;
    height: auto;
  }
}
&lt;/style&gt;
</code></pre> 
<p>至此，Pinia 的基本使用方法如上所述。</p> 
<p>效果预览</p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/b3/3b/tYsn09mU_o.png" width="1200"></p> 
<p></p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/4c/42/gZDYzjoY_o.png" width="1200"></p> 
<h3>往期文章回顾</h3> 
<p><a href="https://blog.csdn.net/qq_43683753/article/details/127446500?spm=1001.2014.3001.5502" title="公司后台管理系统搭建（Vue3+Vite+Element Plus+TypeScript+Pinia）">公司后台管理系统搭建（Vue3+Vite+Element Plus+TypeScript+Pinia）</a></p> 
<p><a href="https://blog.csdn.net/qq_43683753/article/details/127449506" title="二、公司后台管理系统：项目结构整理">二、公司后台管理系统：项目结构整理</a> </p> 
<p><a href="https://blog.csdn.net/qq_43683753/article/details/127550771?spm=1001.2014.3001.5502" title="三、后台管理系统页面布局基本结构">三、后台管理系统页面布局基本结构</a> </p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ad34219723a1442cc08c61f0115e2194/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">论文阅读笔记《Self-Supervised Hypergraph Convolutional Networks for Session-based Recommendation》</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/bb15e972b213aef29631b4d5aec9920b/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">python中Request Payload参数使用（持续更新）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>