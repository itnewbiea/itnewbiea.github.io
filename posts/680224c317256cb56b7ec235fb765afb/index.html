<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【Qt开发】StyleSheet使用总结 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【Qt开发】StyleSheet使用总结" />
<meta property="og:description" content="概述 转眼七年过去了，我是一个彻底拥抱过MFC的人，记得老大的一个需求要把按钮做成圆角，并添加背景颜色，做前端html的可能认为很简单，然而放到MFC上那可真的是很...很麻烦的，自定义类继承Button ，新手估计还搞不定，怎么也有上百行代码，实在不友好，Qt诞生大大简化了这些工作，只需要使用QSS（Qt Style Sheet）就可以轻松做到，最近详细了解了QSS，做了个百度网盘的登录界面，整理好我会把源码放出来，供大家参考。
QSS语法 background-color:rgb(6, 168, 255);　背景色
color:red;　字体颜色
border-radius:5px; 边框圆角半径
border:2px solid green;　边框2像素，实现，绿色
font:10pt;　字体大小10
设置QSS方法 方法一：UI界面设置
鼠标到按钮上右键，&#34;改变样式表&#34;，在编辑样式表对话框中添加QSS样式。
方法二：程序添加
每一个控件都有setStyleSheet(const QString &amp;styleSheet)方法，样式字符串直接传参即可，例：
ui.pushButton1-&gt;setStyleSheet(&#34;QPushButton{background-color: white; color: rgb(100, 100, 100) ;}&#34;);
方法三：通过QSS文件添加
新建文件StyleSheet.qss文件，添加内容如下：
/*按钮静止无操作样式*/ QPushButton { background-color:rgb(255,255,255); color:rgb(6,168,255); border:2px solid rgb(6,168,255); font-size:14px; border-radius:10px; } /*鼠标悬停在按钮*/ QPushButton:hover { background-color: rgb(212,243,255); color:rgb(6,168,255); border:2px solid rgb(6,168,255); border-radius:14px; } /*鼠标按下按钮*/ QPushButton:pressed { background-color: rgb(175,232,255); color:white; border:2px solid rgb(6,168,255); border-radius:14px; } 读取配置文件设置指定按钮样式：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/680224c317256cb56b7ec235fb765afb/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-04-23T13:33:19+08:00" />
<meta property="article:modified_time" content="2019-04-23T13:33:19+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【Qt开发】StyleSheet使用总结</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h3>概述</h3> 
<p>转眼七年过去了，我是一个彻底拥抱过MFC的人，记得老大的一个需求要把按钮做成圆角，并添加背景颜色，做前端html的可能认为很简单，然而放到MFC上那可真的是很...很麻烦的，自定义类继承Button ，新手估计还搞不定，怎么也有上百行代码，实在不友好，Qt诞生大大简化了这些工作，只需要使用QSS（Qt Style Sheet）就可以轻松做到，最近详细了解了QSS，做了个百度网盘的登录界面，整理好我会把源码放出来，供大家参考。</p> 
<h3>QSS语法</h3> 
<p>background-color:rgb(6, 168, 255);　　　   背景色</p> 
<p>color:red;　　　　　　　　　　　　  　　  字体颜色</p> 
<p>border-radius:5px;   　　　　　　　　　　 边框圆角半径</p> 
<p>border:2px solid green;　　　　　　　　　边框2像素，实现，绿色</p> 
<p>font:10pt;　　　　　　　　　　　　　　　字体大小10</p> 
<p> </p> 
<h3>设置QSS方法</h3> 
<p><strong>方法一：UI界面设置</strong></p> 
<p>鼠标到按钮上右键，"改变样式表"，在编辑样式表对话框中添加QSS样式。</p> 
<p><img alt="" class="has" height="237" src="https://images2.imgbox.com/d0/55/n20Ks0cG_o.png" width="436"></p> 
<p><strong>方法二：程序添加</strong></p> 
<p>每一个控件都有<a href="https://www.cnblogs.com/woniu201/p/qwidget.html#styleSheet-prop" rel="nofollow">setStyleSheet</a>(const QString &amp;styleSheet)方法，样式字符串直接传参即可，例：</p> 
<p>ui.pushButton1-&gt;setStyleSheet("QPushButton{background-color: white;  color: rgb(100, 100, 100) ;}");</p> 
<p> </p> 
<p><strong>方法三：通过QSS文件添加</strong></p> 
<p>新建文件StyleSheet.qss文件，添加内容如下：</p> 
<p> </p> 
<pre class="has"><code class="language-cpp">/*按钮静止无操作样式*/
QPushButton 
{
    background-color:rgb(255,255,255); 
    color:rgb(6,168,255); 
    border:2px solid rgb(6,168,255); 
    font-size:14px; 
    border-radius:10px;
}

/*鼠标悬停在按钮*/
QPushButton:hover
{
    background-color: rgb(212,243,255); 
    color:rgb(6,168,255);
    border:2px solid rgb(6,168,255); 
    border-radius:14px;
}

/*鼠标按下按钮*/
QPushButton:pressed
{
    background-color: rgb(175,232,255); 
    color:white; 
    border:2px solid rgb(6,168,255); 
    border-radius:14px;
}</code></pre> 
<p> </p> 
<p>读取配置文件设置指定按钮样式：</p> 
<p> </p> 
<pre class="has"><code class="language-cpp">StyleDialog::StyleDialog(QWidget *parent)
    : QDialog(parent)
{
    ui.setupUi(this);
    QString strStyle = ReadQssFile("StyleSheet.qss");
    ui.pushButton2-&gt;setStyleSheet(strStyle);
}

StyleDialog::~StyleDialog()
{
}


QString StyleDialog::ReadQssFile(const QString&amp; filePath)
{
    QString strStyleSheet = "";
    QFile file(filePath);
    file.open(QFile::ReadOnly);
    if (file.isOpen())
    {
        strStyleSheet = QLatin1String(file.readAll());
    }
    return  strStyleSheet;
}</code></pre> 
<p> </p> 
<p>实际项目中一般qss文件直接添加到资源里面，一起打包到EXE文件中，这样文件不会直接暴露给用户。</p> 
<p><img alt="" class="has" height="209" src="https://images2.imgbox.com/f9/a1/o6XqwilZ_o.png" width="464"></p> 
<p> </p> 
<h3>Selector</h3> 
<p>一个UI界面有很多控件，使用一个qss文件来指定样式时，可以使用Selector来分别设置控件的样式</p> 
<p>1.属性覆盖，一个qss文件里，后面定义的style会覆盖先前的style。</p> 
<p>2.同一行中多个类型需要用逗号分隔。</p> 
<pre class="has"><code class="language-cpp">QPushButton, QLineEdit, QCheckBox
{
    background: color: black;
}</code></pre> 
<p>3.属性分类</p> 
<p>例如：有6个PushButton控件，3个设置为样式一，另外三个设置为样式二</p> 
<p>方法一：</p> 
<p>设置前3个控件的whatsThis为style1，后三个控件为style2</p> 
<p><img alt="" class="has" height="181" src="https://images2.imgbox.com/b6/b4/DyakvnCk_o.png" width="413"></p> 
<p>修改StyleSheet.qss文件内容</p> 
<p> </p> 
<pre class="has"><code>QPushButton[whatsThis="style1"]
{
    background-color: rgb(63,141,215);
    color:green;
}

QPushButton[whatsThis="style2"]
{
    background-color: rgb(63,141,215);
    color:red;
}</code></pre> 
<p> </p> 
<p>方法二：</p> 
<p>直接在qss文件里指定object name，不推荐这种方式，6个控件需要些六遍，分别指定object name。</p> 
<pre class="has"><code class="language-cpp">QPushButton#pushButton1
{
    background-color: rgb(63,141,215);
    color:red;
}</code></pre> 
<p>最后在程序的入口函数设置如下代码：</p> 
<pre class="has"><code class="language-cpp">    QApplication a(argc, argv);

    StyleDialog styleDialog;
    a.setStyleSheet(styleDialog.ReadQssFile(":/qtlearn/Resources/StyleSheet.qss"));</code></pre> 
<p> 最后附上一张使用QSS技术仿的百度网盘界面：</p> 
<p><img alt="" class="has" height="385" src="https://images2.imgbox.com/c8/21/Osk2GTFr_o.png" width="577"></p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/bc/7d/AHK5t0Lb_o.png"></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/8380bc0a860f2e923a9c0c65145235a1/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Volatile与CAS的底层原理</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/c84be3adb63259d1162abb406bc849dd/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">java使用代理请求https</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>