<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>个推实人认证SDK使用初体验 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="个推实人认证SDK使用初体验" />
<meta property="og:description" content="以下是一位开发者在集成个推实人认证SDK时的亲身经历：
概述：
在某次产品迭代中，公司项目要用到对用户身份证信息的实人认证，我作为移动端的新晋萌新，Team Leader 把这个光荣的任务交给我来集成开发。小心翼翼地打开搜索引擎一看，我发现网上大部分公司所采取的方案是接入市面上形形色色的身份认证SDK，来进行实人信息的校验，但很多 SDK文档繁杂，接入工作量大，让人望而却步。平时喜欢拿来主义的我迫切想知道有没有什么已经封装好的实人认证SDK，可以简单集成，直接使用。于是，我在网上搜索了下，突然发现个推公司提供的实人认证SDK，说是对权威机构的身份认证API进行了封装，服务端也做了相应的部署，方便用户快捷接入、极易上手。这也太适合我这种日常瑟瑟发抖的研发萌新了吧。[bigbao1] 抱着试一试的态度，我集成了个推实人认证SDK。
个推实人认证系统的初体验：
个推的实人认证系统，又名CTID平台，为金融、文旅、广告等多个行业提供统一、权威、多级可信的网络身份服务。系统基于公安部法定证件制证数据，采用国密算法，对居民身份信息进行脱敏、去标识化处理，统一生成不可逆、不含明文信息、且与法定证件一一映射的数据文件，能够在不泄露身份信息的前提下实现在线身份认证。
实人认证的一般适用场景：实名认证、风险核验；
个人认为的个推实人认证产品优势：
1、安全性高，采用更符合终端的公钥体制，CTID不慎遗失后不会造成隐私泄露；
2、权威性高：统一使用公安系统法定证件制证数据作为对比源，其结果权威、可信；
3、法理性强：以《居民身份证法》和各行各业条例法规作为支撑，适用性广；
4、便捷性好：SDK结合证件信息、持证人照片等因子，可形成多层级认证。
个推实人认证的接入方法：
1、登录个推官网的开发者中心网址https://dev.getui.com ，联系个推的技术支持人员申请获取个推实人认证的SDK资料包。如果还没有个推开发者账号，则需要我们先行注册个推开发者账号，如下图所示：
2、获取并配置个推应用参数：
拥有了个推开发者账号后，我们就可以进入个推开发者中心了。在应用管理中，我们要先与个推商务进行联系与对接，确认无误后则会启用实人认证的管理控制平台，获取所对应的APPID。接着，我们就可以进行实人认证应用的创建与使用了：
1）创建实人认证APP并填写相关基础信息，进而获取应用对应的APPID：
2）实人认证APP创建完成后的效果图：
至此，实人认证APP就已经在个推开发者平台上注册好了！
个推实人认证的依赖配置：
个推实人认证SDK的接入方法非常简单，由于统一采用Maven的接入方式，仅仅需要几行代码就可以搞定。开发者在Android Studio开发工程的 app/build.gradle 文件中android.defaultConfig字段中添加如下代码：
manifestPlaceholders = [
GETUI_APPID : &#34;请填写您所申请的GETUI_APPID&#34;,
]
同时，在当前文件的dependencies{}模块中添加如下依赖:
dependencies {
...
implementation &#39;com.getui:ctid:1.1.0.0&#39;
...
}
最后，在开发工程的根目录build.gradle文件中选择allprojects{}下的repositories{}模块，添加如下Maven仓库的配置：
maven {
url &#34;http://mvn.gt.igexin.com/nexus/content/repositories/releases/&#34;
}
至此，只要短短几行配置，我们就完成了实人认证SDK的Maven接入！
个推实人认证的使用方法：
实人认证的核心类为 com.getui.ctid.CTIDManager，其核心接口方法共有三个：
1、实人认证的初始化接口：
实人认证的初始化方法很简单，只有一行代码：
CTIDManager.getInstance().init(Context context, CTIDCallBack callback);
其中Context即为上下文，callback为回调对象，⽤用于接受初始化结果回调。代码示例如下所示，是不是特别简单：
CTIDManager.getInstance().init(context, new CTIDCallBack() {
@Override
public void onSuccess(String gtcid) {" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/bdd95ccbcb406a29108e006155cda5af/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-01-08T19:48:29+08:00" />
<meta property="article:modified_time" content="2021-01-08T19:48:29+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">个推实人认证SDK使用初体验</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p style="margin-left:0cm;">以下是一位开发者在集成个推实人认证SDK时的亲身经历：</p> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;"><strong>概述：</strong></p> 
<p style="margin-left:0cm;">在某次产品迭代中，公司项目要用到对用户身份证信息的实人认证，我作为移动端的新晋萌新，Team Leader 把这个光荣的任务交给我来集成开发。小心翼翼地打开搜索引擎一看，我发现网上大部分公司所采取的方案是接入市面上形形色色的身份认证SDK，来进行实人信息的校验，但很多 SDK文档繁杂，接入工作量大，让人望而却步。平时喜欢拿来主义的我迫切想知道有没有什么已经封装好的实人认证SDK，可以简单集成，直接使用。于是，我在网上搜索了下，突然发现个推公司提供的实人认证SDK，说是对权威机构的身份认证API进行了封装，服务端也做了相应的部署，方便用户快捷接入、极易上手。这也太适合我这种日常瑟瑟发抖的研发萌新了吧。<a class="msocomanchor" href="#_msocom_1" rel="nofollow" id="_anchor_1" name="_msoanchor_1">[bigbao1]</a> 抱着试一试的态度，我集成了个推实人认证SDK。</p> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;"><strong>个推实人认证系统的初体验：</strong></p> 
<p style="margin-left:0cm;">个推的实人认证系统，又名CTID平台，为金融、文旅、广告等多个行业提供统一、权威、多级可信的网络身份服务。系统基于公安部法定证件制证数据，采用国密算法，对居民身份信息进行脱敏、去标识化处理，统一生成不可逆、不含明文信息、且与法定证件一一映射的数据文件，能够在不泄露身份信息的前提下实现在线身份认证。</p> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;"><img alt="" height="396" src="https://images2.imgbox.com/1a/30/3anloMQT_o.png" width="553"></p> 
<p style="margin-left:0cm;">实人认证的一般适用场景：实名认证、风险核验；</p> 
<p style="margin-left:0cm;">个人认为的个推实人认证产品优势：</p> 
<p style="margin-left:0cm;">1、安全性高，采用更符合终端的公钥体制，CTID不慎遗失后不会造成隐私泄露；</p> 
<p style="margin-left:0cm;">2、权威性高：统一使用公安系统法定证件制证数据作为对比源，其结果权威、可信；</p> 
<p style="margin-left:0cm;">3、法理性强：以《居民身份证法》和各行各业条例法规作为支撑，适用性广；</p> 
<p style="margin-left:0cm;">4、便捷性好：SDK结合证件信息、持证人照片等因子，可形成多层级认证。</p> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;"><strong>个推实人认证的接入方法：</strong></p> 
<p style="margin-left:0cm;">1、登录个推官网的开发者中心网址https://dev.getui.com ，联系个推的技术支持人员申请获取个推实人认证的SDK资料包。如果还没有个推开发者账号，则需要我们先行注册个推开发者账号，如下图所示：</p> 
<p style="margin-left:0cm;"><img alt="" height="395" src="https://images2.imgbox.com/7a/90/cxy6EcKV_o.png" width="553"></p> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;">2、获取并配置个推应用参数：</p> 
<p style="margin-left:0cm;">拥有了个推开发者账号后，我们就可以进入个推开发者中心了。在应用管理中，我们要先与个推商务进行联系与对接，确认无误后则会启用实人认证的管理控制平台，获取所对应的APPID。接着，我们就可以进行实人认证应用的创建与使用了：</p> 
<p style="margin-left:0cm;"><img alt="" height="330" src="https://images2.imgbox.com/b9/f6/wdMWu6bb_o.png" width="553"></p> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;">1）创建实人认证APP并填写相关基础信息，进而获取应用对应的APPID：</p> 
<p style="margin-left:0cm;"><img alt="" height="352" src="https://images2.imgbox.com/2b/1d/71Qfb3NH_o.png" width="552"></p> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;">2）实人认证APP创建完成后的效果图：</p> 
<p style="margin-left:0cm;"><img alt="" height="236" src="https://images2.imgbox.com/34/e8/6PoDU70O_o.png" width="552"></p> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;">至此，实人认证APP就已经在个推开发者平台上注册好了！</p> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;"><strong>个推实人认证的依赖配置：</strong></p> 
<p style="margin-left:0cm;">个推实人认证SDK的接入方法非常简单，由于统一采用Maven的接入方式，仅仅需要几行代码就可以搞定。开发者在Android Studio开发工程的 app/build.gradle 文件中android.defaultConfig字段中添加如下代码：</p> 
<p style="margin-left:0cm;">manifestPlaceholders = [</p> 
<p style="margin-left:0cm;">          GETUI_APPID       : "请填写您所申请的GETUI_APPID",</p> 
<p style="margin-left:0cm;">]</p> 
<p style="margin-left:0cm;">同时，在当前文件的dependencies{}模块中添加如下依赖:</p> 
<p style="margin-left:0cm;">dependencies {<!-- --></p> 
<p style="margin-left:0cm;">...</p> 
<p style="margin-left:0cm;">implementation 'com.getui:ctid:1.1.0.0'</p> 
<p style="margin-left:0cm;">...</p> 
<p style="margin-left:0cm;">}</p> 
<p style="margin-left:0cm;">最后，在开发工程的根目录build.gradle文件中选择allprojects{}下的repositories{}模块，添加如下Maven仓库的配置：</p> 
<p style="margin-left:0cm;">maven {<!-- --></p> 
<p style="margin-left:0cm;">url "http://mvn.gt.igexin.com/nexus/content/repositories/releases/"</p> 
<p style="margin-left:0cm;">}</p> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;">至此，只要短短几行配置，我们就完成了实人认证SDK的Maven接入！</p> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;"><strong>个推实人认证的使用方法：</strong></p> 
<p style="margin-left:0cm;">实人认证的核心类为 com.getui.ctid.CTIDManager，其核心接口方法共有三个：</p> 
<p style="margin-left:0cm;"><img alt="" height="138" src="https://images2.imgbox.com/88/3a/XsqteCDk_o.png" width="309"></p> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;">1、实人认证的初始化接口：</p> 
<p style="margin-left:0cm;">实人认证的初始化方法很简单，只有一行代码：</p> 
<p style="margin-left:0cm;">CTIDManager.getInstance().init(Context context, CTIDCallBack callback);</p> 
<p style="margin-left:0cm;">其中Context即为上下文，callback为回调对象，⽤用于接受初始化结果回调。代码示例如下所示，是不是特别简单：</p> 
<p style="margin-left:0cm;">CTIDManager.getInstance().init(context, new CTIDCallBack() {<!-- --></p> 
<p style="margin-left:0cm;">     @Override</p> 
<p style="margin-left:0cm;">     public void onSuccess(String gtcid) {<!-- --></p> 
<p style="margin-left:0cm;">         Log.d(TAG, "gtcid:"+gtcid );</p> 
<p style="margin-left:0cm;">}</p> 
<p style="margin-left:0cm;">     @Override</p> 
<p style="margin-left:0cm;">     public void onFailure(String error) {<!-- --></p> 
<p style="margin-left:0cm;">//返回失败的原因</p> 
<p style="margin-left:0cm;">         Log.d(TAG, "init onFailure:"+error );</p> 
<p style="margin-left:0cm;">     }</p> 
<p style="margin-left:0cm;">});</p> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;">2、实人认证的验证接口：</p> 
<p style="margin-left:0cm;">实人认证的验证接口同样非常简单，同样只有一行代码：</p> 
<p style="margin-left:0cm;">CTIDManager.getInstance().auth(String name, String idNum, String imageStr ,Context context, AuthCallBack callback);</p> 
<p style="margin-left:0cm;">依次填入相应的校验信息，代码示例如下所示，同样非常简单：</p> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;">CTIDManager.getInstance().auth(name, idNum, imageStr, context, new Aut</p> 
<p style="margin-left:0cm;"> hCallBack() {<!-- --></p> 
<p style="margin-left:0cm;">     @Override</p> 
<p style="margin-left:0cm;">     public void onSuccess(JSONObject jsonObject) {<!-- --></p> 
<p style="margin-left:0cm;">// 成功或失败，均会返回⼀一个 JSONObejct</p> 
<p style="margin-left:0cm;">            Log.e("auth success", jsonObject.toString());</p> 
<p style="margin-left:0cm;">     }</p> 
<p style="margin-left:0cm;">     @Override</p> 
<p style="margin-left:0cm;">     public void onFailure(JSONObject jsonObject) {<!-- --></p> 
<p style="margin-left:0cm;">// 成功或失败，均会返回⼀一个 JSONObejct</p> 
<p style="margin-left:0cm;">            Log.e("auth failure", jsonObject.toString());</p> 
<p style="margin-left:0cm;">     }</p> 
<p style="margin-left:0cm;">});</p> 
<p style="margin-left:0cm;">如果想知道实人认证接口返回的JSON字符串中的各个字段的含义与取值范围，可以联系个推的技术支持小哥哥，QQ上和他们取得联系后，他们会和商务进行确认，确认完后会将实人认证的资料包发给我们，里面有详细的字段释义和Demo演示。</p> 
<p style="margin-left:0cm;">3、实人认证的版本接口：</p> 
<p style="margin-left:0cm;">实人认证的版本接口，用于返回给用户当前SDK的版本号，协助确认版本或排查问题，代码示例更为简单：</p> 
<p style="margin-left:0cm;">String version = CTIDManager.getInstance().getVersion();</p> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;">以上便是个推实人认证的全部API接口使用方法和示例了。说实话，对我们这些苦哈哈的研发来说，接入成本低、性能强劲的SDK一直是我们的追求。个推实人认证SDK正符合这些特点，用起来轻便、好使<span style="color:#333333;">（此处确实是一条广告实锤了</span><span style="color:#333333;">~</span><span style="color:#333333;">）</span>，正如有位互联网前辈曾经说过，让用户爽的产品才是好产品！说了这么多，现在我得赶紧去写 Bug 了，告辞👋👋👋~~~</p> 
<div> 
 <hr> 
 <div> 
  <div id="_com_1"> 
   <a name="_msocom_1"></a> 
   <p style="margin-left:0cm;"> </p> 
  </div> 
 </div> 
</div>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/fa100536830172df2dd4671a8a08c277/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">SpringCloud采用Jackson序列化统一响应不正当的消息转换器导致的异常问题</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/48da9f6d9c1881d15524f6420b5ea2c5/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">五行名字的由来</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>