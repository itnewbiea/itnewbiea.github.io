<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>js-----用户注册页面实现，验证用户名、密码、验证码等是否符合需求 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="js-----用户注册页面实现，验证用户名、密码、验证码等是否符合需求" />
<meta property="og:description" content="这是在经过断断续续学习html、css和js后，写的第一个算是比较完善，依然比较初级的小案例，用户注册界面，其中用的html以及css知识都比较少，主要是js代码中各种【验证功能】实现。
html部分：标题&#43;form表单&#43;table表格的运用。另外在head部分写入少量的css样式，以及部分js代码。该页面并没有连接数据库对数据进行提交处理。
下图就是完成界面展示。
用户在注册时，按照要求即可注册，分别需要填写用户名、密码、确认、邮箱、手机号、性别、爱好、籍贯、个人介绍、以及验证码、是否同意本公司协议，除了个人介绍可以不用填写外。其他都需要进行填写或则选择，只有这些都选择过后才能够点击注册按钮，否则注册按钮为不可读属性，此外验证码需要在页面加载时就进行实现，通过onload属性即可完成。如图所示：
其中如红色提示等信息提示，是在各种input、select标签后添加span标签，在标签中能够填充其他展示内容。
每当用户填写一个数据，点击其他地方时，就会触发失去焦点事件，“onblur”，这个input的属性在这个案例中应用十分重要！
每当失去焦点，就要触发onblur所代表的函数或者事件。
这些事件大多数都是验证事件！
验证事件的实现步骤为：
1.建立函数
2.获取用户输入或选择的信息
3.创建校验规则（符合条件的是特殊的，不符合条件则有各种各样的情况，因此设定条件反而会更简单些）
4.获取span对象
5.开始校验（校验情况分3中，当用户输入为空值、当用户输入符合条件、用户输入不符合条件）
6.输出校验结果
在对几个信息进行校验后，就能够发现代码充裕率比较高，因此可以进行【封装校验】，设定一个函数，传递要校验的id、相应的校验规则，输出结果进行一定的变更即可，相应id的value&#43;“通过”或者“不通过”即可。
因此在设定span的id时，同一设定为“**Span”，比如用户名id=“uname”，则span的id=“unameSpan”。
在爱好选择中，则需要对每一个爱好的选择进行事件触发。一旦有一个爱好被选择，即可通过校验，此时就需要获得爱好的所有选项，id是唯一的，但name可以多个标签公用，此时getElementByName，之后遍历数组，如果有一个爱好被选择，则该checked的值为1，就能通过校验，失去焦点后，触发校验事件，不通过校验的提示会一直显示，直到通过校验则立即返回。
在校验验证码时，需要获得codespan的innerHTML的值，将该值和用户输入值进行比较，相同则通过。
当开始注册按钮的属性disabled为不可读，只有当用户勾选同意协议时（checked值为true），变为可读（disabled值为false），此时二者正好相反。
再点击提交按钮时，需要进行时间阻断，触发之前定义的所有校验事件，只有之前的校验事件全部通过，该submit才能够实现。οnsubmit=“return checkSub()”
&lt;html&gt; &lt;head&gt; &lt;title&gt;注册界面&lt;/title&gt; &lt;meta charset=&#34;UTF-8&#34;/&gt; &lt;style type=&#34;text/css&#34;&gt; body{background: url(img/a.jpg) no-repeat center 0}; font{color=&#34;darkgray&#34;}; tr{height:60px} &lt;/style&gt; &lt;!--声明js代码域--&gt; &lt;script type=&#34;text/javascript&#34;&gt; //常见验证码 function createCode(){ //创建随机4位数字，math.floor向下取整 var code=Math.floor(Math.random()*9000&#43;1000); //获取元素对象 var span=document.getElementById(&#34;codeSpan&#34;); //将数字存放到span中 span.innerHTML=code; //给span添加背景图片 } //验证用户名 function checkUname(){ //获取用户获得用户名信息 var uname=document.getElementById(&#34;uname&#34;).value; //创建校验规则,用户名2-4个 var reg=/^[\u4e00-\u9fa5]{2,4}$/ //获取span对象 var unameSpan=document.getElementById(&#34;unameSpan&#34;); //开始交验 if(unameSpan==&#34;&#34;||unameSpan==null){ //输入校验结果 unameSpan.innerHTML=&#34;*用户名不能为空&#34;; unameSpan." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/bc13e11ac1a086d3a7d4bae216995c9e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-07-22T16:10:48+08:00" />
<meta property="article:modified_time" content="2019-07-22T16:10:48+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">js-----用户注册页面实现，验证用户名、密码、验证码等是否符合需求</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>这是在经过断断续续学习html、css和js后，写的第一个算是比较完善，依然比较初级的小案例，用户注册界面，其中用的html以及css知识都比较少，主要是js代码中各种【验证功能】实现。<br> html部分：标题+form表单+table表格的运用。另外在head部分写入少量的css样式，以及部分js代码。该页面并没有连接数据库对数据进行提交处理。<br> 下图就是完成界面展示。<br> <img src="https://images2.imgbox.com/bf/58/clbZXPF5_o.png" alt="在这里插入图片描述"><br> 用户在注册时，按照要求即可注册，分别需要填写用户名、密码、确认、邮箱、手机号、性别、爱好、籍贯、个人介绍、以及验证码、是否同意本公司协议，除了个人介绍可以不用填写外。其他都需要进行填写或则选择，只有这些都选择过后才能够点击注册按钮，否则注册按钮为不可读属性，此外验证码需要在页面加载时就进行实现，通过onload属性即可完成。如图所示：<br> <img src="https://images2.imgbox.com/62/5a/1DIonIAd_o.png" alt="在这里插入图片描述"><br> 其中如红色提示等信息提示，是在各种input、select标签后添加span标签，在标签中能够填充其他展示内容。<br> 每当用户填写一个数据，点击其他地方时，就会触发失去焦点事件，“onblur”，这个input的属性在这个案例中应用十分重要！<br> 每当失去焦点，就要触发onblur所代表的函数或者事件。<br> 这些事件大多数都是验证事件！<br> 验证事件的实现步骤为：<br> 1.建立函数<br> 2.获取用户输入或选择的信息<br> 3.创建校验规则（符合条件的是特殊的，不符合条件则有各种各样的情况，因此设定条件反而会更简单些）<br> 4.获取span对象<br> 5.开始校验（校验情况分3中，当用户输入为空值、当用户输入符合条件、用户输入不符合条件）<br> 6.输出校验结果<br> 在对几个信息进行校验后，就能够发现代码充裕率比较高，因此可以进行【封装校验】，设定一个函数，传递要校验的id、相应的校验规则，输出结果进行一定的变更即可，相应id的value+“通过”或者“不通过”即可。<br> 因此在设定span的id时，同一设定为“**Span”，比如用户名id=“uname”，则span的id=“unameSpan”。<br> 在爱好选择中，则需要对每一个爱好的选择进行事件触发。一旦有一个爱好被选择，即可通过校验，此时就需要获得爱好的所有选项，id是唯一的，但name可以多个标签公用，此时getElementByName，之后遍历数组，如果有一个爱好被选择，则该checked的值为1，就能通过校验，失去焦点后，触发校验事件，不通过校验的提示会一直显示，直到通过校验则立即返回。<br> 在校验验证码时，需要获得codespan的innerHTML的值，将该值和用户输入值进行比较，相同则通过。<br> 当开始注册按钮的属性disabled为不可读，只有当用户勾选同意协议时（checked值为true），变为可读（disabled值为false），此时二者正好相反。<br> 再点击提交按钮时，需要进行时间阻断，触发之前定义的所有校验事件，只有之前的校验事件全部通过，该submit才能够实现。οnsubmit=“return checkSub()”</p> 
<pre><code>&lt;html&gt;
	&lt;head&gt;
		&lt;title&gt;注册界面&lt;/title&gt;
		&lt;meta charset="UTF-8"/&gt;
		&lt;style type="text/css"&gt;
		body{background: url(img/a.jpg) no-repeat center 0};
		font{color="darkgray"};
		tr{height:60px}
		&lt;/style&gt;
		&lt;!--声明js代码域--&gt;
		&lt;script type="text/javascript"&gt;
			//常见验证码
				function createCode(){
					//创建随机4位数字，math.floor向下取整
					var code=Math.floor(Math.random()*9000+1000);
					//获取元素对象
					var  span=document.getElementById("codeSpan");
					//将数字存放到span中
					span.innerHTML=code;
					//给span添加背景图片
				}
			//验证用户名
				function checkUname(){
					//获取用户获得用户名信息
						var uname=document.getElementById("uname").value;
					//创建校验规则,用户名2-4个
						var reg=/^[\u4e00-\u9fa5]{2,4}$/
					//获取span对象
						var unameSpan=document.getElementById("unameSpan");
					//开始交验
						if(unameSpan==""||unameSpan==null){
							//输入校验结果
							unameSpan.innerHTML="*用户名不能为空";
							unameSpan.style.color="red";
							return false;
						}else if(reg.test(uname)){
							//输入校验结果
							unameSpan.innerHTML="*用户名通过";
							unameSpan.style.color="green";
							return true;
						}else{
							//输入校验结果
							unameSpan.innerHTML="*用户名格式不符"
							unameSpan.style.color="red";
							return false;
						}
					
				}
			//验证密码
				function checkPwd(){
					//获取用户获得用户名信息
						var upwd=document.getElementById("pwd").value;
					//创建校验规则,密码要求6-8位，首位为字母，后面5-7位是数字
						var reg=/^[a-z]\w{5,7}$/;
					//获取span对象
						var span=document.getElementById("pwdSpan");
					//开始交验
						if(span==""||span==null){
							//输入校验结果
							span.innerHTML="*密码不能为空";
							span.style.color="red";
							return false;
						}else if(reg.test(upwd)){
							//输入校验结果
							span.innerHTML="*密码通过";
							span.style.color="green";
							return true;
						}else{
							//输入校验结果
							span.innerHTML="*密码格式不符"
							span.style.color="red";
							return false;
						}
		//第一次密码为a123456，第二次密码为a1234567，则修改的第一次密码，确认密码也会重新校验	
					checkPwd2();
				}
				//校验确认密码
					function checkPwd2(){
						//获取第一次校验密码
							var pwd=document.getElementById("pwd").value;
						//获取确认密码
							var pwd2=document.getElementById("pwd2").value;
						//获取span对象
							var span=document.getElementById("pwd2Span");
						//比较前两次密码是否相同
							if( pwd2==""|| pwd2==null){
							//输入校验结果
							span.innerHTML="*密码不能为空";
							span.style.color="red";
							return false;
						}else if(pwd===pwd2){
							//输入校验结果
							span.innerHTML="*密码通过";
							span.style.color="green";
							return true;
						}else{
							//输入校验结果
							span.innerHTML="*密码不同，请重新输入"
							span.style.color="red";
							return false;
						}
					}
				//校验手机号
					function checkPhone(){
						return checkField("phone",/^1[3456789]\d{9}$/);
					}
				//校验邮箱
					function checkmail(){
						return checkField("mail",/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/)
					}
				//校验籍贯
					function checkAddress(){
						//获取用户选择的数据
						var sel=document.getElementById("address").value;
						//获取span
						var span=document.getElementById("addressSpan");
						//校验，只要不为value="0"即可
						if(sel!=0){
							span.innerHTML="籍贯选择成功";
							span.style.color="green";
							return true;
						}else{
							span.innerHTML="请选择籍贯";
							span.style.color="red";
							return false;
						}
					}
				//校验爱好选择
					function checkFav(){
						//获取所有的爱好
						var favs=document.getElementsByName("fav");
						//获取span对象
						var span=document.getElementById("favSpan");
						//遍历
						for(var i=0;i&lt;favs.length;i++){
							if(favs[i].checked){
								span.innerHTML="*爱好通过";
								span.style.color="green";
								return true;
							}
						}
						//这段代码一直会被执行，所以当选择过爱好后，直接return结束即可
						span.innerHTML="爱好至少选择一项";
						span.style.color="red";
						return false;
					}
					//校验确认验证码------------------
						function checkCode(){
							//获取用户输入验证码
								var code=document.getElementById("code").value;
							//获取随机验证码
								var code2=document.getElementById("codeSpan").innerHTML;
							//获取span对象
								var span=document.getElementById("codeSpan2");
							//比较前两次密码是否相同
								if( code==""|| code==null){
								//输入校验结果
								span.innerHTML="*验证码不能为空";
								span.style.color="red";
								createCode();
								return false;
							}else if(code==code2){
								//输入校验结果
								span.innerHTML="*验证码通过";
								span.style.color="green";
								return true;
							}else{
								//输入校验结果
								span.innerHTML="*验证码错误"
								span.style.color="red";
								createCode();
								return false;
							}
						}
					//校验是否同意公司协议
						function checkAgree(){
//							//获取提交按钮的disable属性,选中框后disabled的值为1.
//							alert(document.getElementById("sub").disabled);
							document.getElementById("sub").disabled=!document.getElementById("agree").checked;
						}
					//提交判断
						function checkSub(){
							checkUname();
							checkPwd();
							checkPwd2();
							checkmail();
							checkPhone();
							checkFav();
							checkAddress();
							checkCode();
							return checkUname()&amp;&amp;checkPwd()&amp;&amp;checkPwd2()&amp;&amp;checkmail()&amp;&amp;checkPhone()&amp;&amp;checkFav()&amp;&amp;checkAddress()&amp;&amp;checkCode();
						}
//----------------------------------------------------------------------------------------------------------------------
				//封装校验：相同的保留，不同的传参
					function checkField(id,reg){
						//获取用户数据
							var inp=document.getElementById(id);
							var	va=inp.value;
							var	alt=inp.alt;
						//创建校验规则
						//获取span对象
							var span=document.getElementById(id+"Span");
						//开始校验
							if(va==""||va==null){
							//输入校验结果
								span.innerHTML="*"+alt+"不能为空";
								span.style.color="red";
								return false;
							}else if(reg.test(va)){
							//输入校验结果
								span.innerHTML="*"+alt+"通过";
								span.style.color="green";
								return true;
							}else{
							//输入校验结果
								span.innerHTML="*"+alt+"格式不符";
								span.style.color="red";
								return false;
						}
					}
		&lt;/script&gt;
	&lt;/head&gt;
	&lt;body onload="createCode()"&gt;
		&lt;h3 align="center"&gt;注册界面&lt;/h3&gt;
		&lt;hr /&gt;
		&lt;form action="#" method="get" onsubmit="return checkSub()"&gt;
			&lt;table border="0px" cellspacing="0" cellpadding="2px" align="center"&gt;
				&lt;tr&gt;
					&lt;td width="80px"&gt;用户名：&lt;/td&gt;
					&lt;td width="400px"&gt;
						&lt;input type="text" name="uname" id="uname" value="" onblur="checkUname()" alt="用户名"/&gt;
						&lt;span id="unameSpan"&gt;
							&lt;font&gt;2-4位汉字&lt;/font&gt;
						&lt;/span&gt;
					&lt;/td&gt;
				&lt;/tr&gt;
				&lt;tr&gt;
					&lt;td&gt;密码：&lt;/td&gt;
					&lt;td&gt;
						&lt;input type="password" name="pwd" id="pwd" value="" onblur="checkPwd()"/&gt;
						&lt;span id="pwdSpan"&gt;
						&lt;font&gt;要求6-8位密码，首位必须为字母&lt;/font&gt;
						&lt;/span&gt;
					&lt;/td&gt;
				&lt;/tr&gt;
				&lt;tr&gt;
					&lt;td&gt;确认密码：&lt;/td&gt;
					&lt;td&gt;
						&lt;input type="password" name="pwd2" id="pwd2" value="" " onblur="checkPwd2()"/&gt;
						&lt;span id="pwd2Span"&gt;&lt;/span&gt;
					&lt;/td&gt;
				&lt;/tr&gt;
				&lt;tr&gt;
					&lt;td&gt;邮箱：&lt;/td&gt;
					&lt;td&gt;
						&lt;input type="text" name="mail" id="mail" value="" alt="邮箱" onblur="checkmail()"/&gt;
						&lt;span id="mailSpan"&gt;&lt;/span&gt;
					&lt;/td&gt;
				&lt;/tr&gt;
				&lt;tr&gt;
					&lt;td&gt;手机号：&lt;/td&gt;
					&lt;td&gt;
						&lt;input type="text" name="phone" id="phone" value="" alt="手机号" onblur="checkPhone()"/&gt;
						&lt;span id="phoneSpan"&gt;&lt;/span&gt;
					&lt;/td&gt;
				&lt;/tr&gt;
				&lt;tr&gt;
					&lt;td&gt;性别&lt;/td&gt;
					&lt;td&gt;
						男&lt;input type="radio" name="sex" id="sex" value="1"checked="checked" /&gt;
						女&lt;input type="radio" name="sex" id="sex" value="0" /&gt;
					&lt;/td&gt;
				&lt;/tr&gt;
				&lt;tr&gt;
					&lt;td&gt;爱好&lt;/td&gt;
					&lt;td&gt;
						读书&lt;input type="checkbox" name="fav" id="fav" value="1" onclick="checkFav()"/&gt;
						听音乐&lt;input type="checkbox" name="fav" id="fav" value="2" onclick="checkFav()" /&gt;
						看电影&lt;input type="checkbox" name="fav" id="fav" value="3" onclick="checkFav()" /&gt;
						打羽毛球&lt;input type="checkbox" name="fav" id="fav" value="4" onclick="checkFav()" /&gt;&lt;br /&gt;
						其他&lt;input type="checkbox" name="fav" id="fav" value="5" onclick="checkFav()" /&gt;
						&lt;span id="favSpan"&gt;&lt;/span&gt;
					&lt;/td&gt;
				&lt;/tr&gt;
				&lt;tr&gt;
					&lt;td&gt;籍贯：&lt;/td&gt;
					&lt;td&gt;
						&lt;select name="address" id="address" onchange="checkAddress()"&gt;
							&lt;option value="0" selected="selected"&gt;--请选择--&lt;/option&gt;
							&lt;option value="1"&gt;信阳&lt;/option&gt;
							&lt;option value="2"&gt;新乡&lt;/option&gt;
							&lt;option value="3"&gt;武汉&lt;/option&gt;
							&lt;option value="4"&gt;郑州&lt;/option&gt;
						&lt;/select&gt;
						&lt;span id="addressSpan"&gt;&lt;/span&gt;
					&lt;/td&gt;
				&lt;/tr&gt;
				&lt;tr height="80px"&gt;
					&lt;td&gt;个人介绍：&lt;/td&gt;
					&lt;td&gt;
						&lt;textarea name="jieshao" rows="4" cols="10"&gt;&lt;/textarea&gt;
					&lt;/td&gt;
				&lt;/tr&gt;
				&lt;tr align="center"&gt;
					&lt;td colspan="2"&gt;是否同意本公司的协议
					&lt;input type="checkbox" name="agree" id="agree" value="" onclick="checkAgree()" /&gt;
					&lt;/td&gt;
					
				&lt;/tr&gt;
				&lt;tr&gt;
					&lt;td&gt;验证码：&lt;/td&gt;
					&lt;td&gt;
						&lt;input type="text" id="code" value="" style="width:100px;" onblur="checkCode()" /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;
						&lt;span id="codeSpan" style="background-image: url(img/背景.png);color: black;" onclick="createCode()"&gt;
						&lt;/span&gt;
						&lt;span id="codeSpan2"&gt;&lt;/span&gt;
					&lt;/td&gt;
				&lt;/tr&gt;
				&lt;tr&gt;
					&lt;td colspan="2" align="center"&gt;
						&lt;input type="submit" id="sub" name="sub" value="注册" disabled="disabled" /&gt;
					&lt;/td&gt;
				&lt;/tr&gt;
			&lt;/table&gt;
		&lt;/form&gt;
	&lt;/body&gt;
&lt;/html&gt;
</code></pre>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/d8b881b4b1e33b822c4fc3b723cbd5e0/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">SQL在线练习 工具</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/68434077855990adcc2c5ff1a7e998fd/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">让ubuntu18.04开机进入命令行模式或还原</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>