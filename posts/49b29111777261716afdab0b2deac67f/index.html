<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Unity AI Sentis 基础教程 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Unity AI Sentis 基础教程" />
<meta property="og:description" content="Unity AI Sentis基础教程 Unity AI Sentis基础教程Unity AI 内测资格申请Unity 项目Package Manager开始尝试模型下载识别图片完整代码代码搭载运行 射线绘画 URP（扩展）射线绘画脚本脚本搭载效果 Sentis 是 AI 模型的本地推理引擎，它利用最终用户设备上的计算，而不是云服务器。它可以在可以部署 Unity 运行时的任何位置运行。它取代了 Barracuda 并解决了我们在 Barracuda 处于早期原型阶段时收到的许多反馈。最重要的是，Sentis 可以以游戏速度运行许多神经网络。Sentis 目前处于开放测试阶段，公开发布时可用于商业用途。届时Sentis 将对所有 Unity 用户免费开放，并可用于无限制的本地推理。 Unity AI Sentis基础教程 Sentis 允许您在ONNX 格式 进入 Unity 编辑器，然后在所有 Unity 的用户设备上实时优化和运行推理支持的平台。
可应用示例：
1.图像放大：放大低分辨率图像、模型、纹理等
2.风格迁移：将场景的外观或图像效果转换为新风格
3.不可玩角色 （NPC）：自动对话
4.语音识别 （NLP）：解释实时语音
5.身体/物体检测：使用相机
6.深度估计：使用相机（检测物体）
7.图像、视频和 3D 模型分类：检测屏幕上的对象（检测深度）
8.手写分类：检测手写字母、符号或数字
9.创造独一无二的玩家体验：生成无限独特的游戏场景
10.动画：将自动姿势绑定应用于刚体
11.模拟助手：用神经网络近似一个复杂的函数来驱动游戏逻辑
12.时间序列：异常检测、预测/预测
版本需求：Unity 2021.3 LTS（或更高版本）
Unity AI 内测资格申请 Unity AI 内测资格申请链接: Unity AI Unity 项目 项目创建 Package Manager 1." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/49b29111777261716afdab0b2deac67f/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-10-07T18:28:14+08:00" />
<meta property="article:modified_time" content="2023-10-07T18:28:14+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Unity AI Sentis 基础教程</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>Unity AI Sentis基础教程</h4> 
 <ul><li><a href="#Unity__AI_Sentis_2" rel="nofollow">Unity AI Sentis基础教程</a></li><li><ul><li><a href="#Unity_AI__23" rel="nofollow">Unity AI 内测资格申请</a></li><li><a href="#Unity__31" rel="nofollow">Unity 项目</a></li><li><ul><li><a href="#Package_Manager_40" rel="nofollow">Package Manager</a></li><li><a href="#_67" rel="nofollow">开始尝试</a></li><li><a href="#_83" rel="nofollow">模型下载</a></li><li><a href="#_104" rel="nofollow">识别图片</a></li><li><a href="#_132" rel="nofollow">完整代码</a></li><li><a href="#_217" rel="nofollow">代码搭载运行</a></li></ul> 
   </li><li><a href="#__URP_243" rel="nofollow">射线绘画 URP（扩展）</a></li><li><ul><li><a href="#_275" rel="nofollow">射线绘画脚本</a></li><li><a href="#_377" rel="nofollow">脚本搭载</a></li><li><a href="#_381" rel="nofollow">效果</a></li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<br> Sentis 是 AI 模型的本地推理引擎，它利用最终用户设备上的计算，而不是云服务器。它可以在可以部署 Unity 运行时的任何位置运行。它取代了 Barracuda 并解决了我们在 Barracuda 处于早期原型阶段时收到的许多反馈。最重要的是，Sentis 可以以游戏速度运行许多神经网络。Sentis 目前处于开放测试阶段，公开发布时可用于商业用途。届时Sentis 将对所有 Unity 用户免费开放，并可用于无限制的本地推理。 
<p></p> 
<h2><a id="Unity__AI_Sentis_2"></a>Unity AI Sentis基础教程</h2> 
<p>Sentis 允许您在ONNX 格式 进入 Unity 编辑器，然后在所有 Unity 的用户设备上实时优化和运行推理支持的平台。</p> 
<p>可应用示例：<br> 1.图像放大：放大低分辨率图像、模型、纹理等<br> 2.风格迁移：将场景的外观或图像效果转换为新风格<br> 3.不可玩角色 （NPC）：自动对话<br> 4.语音识别 （NLP）：解释实时语音<br> 5.身体/物体检测：使用相机<br> 6.深度估计：使用相机（检测物体）<br> 7.图像、视频和 3D 模型分类：检测屏幕上的对象（检测深度）<br> 8.手写分类：检测手写字母、符号或数字<br> 9.创造独一无二的玩家体验：生成无限独特的游戏场景<br> 10.动画：将自动姿势绑定应用于刚体<br> 11.模拟助手：用神经网络近似一个复杂的函数来驱动游戏逻辑<br> 12.时间序列：异常检测、预测/预测</p> 
<p>版本需求：Unity 2021.3 LTS（或更高版本）</p> 
<h3><a id="Unity_AI__23"></a>Unity AI 内测资格申请</h3> 
<p>Unity AI 内测资格申请链接: <a href="https://create.unity.com/ai-beta" rel="nofollow">Unity AI </a></p> 
<p><img src="https://images2.imgbox.com/78/bf/exArgiFt_o.png" alt="请添加图片描述"></p> 
<h3><a id="Unity__31"></a>Unity 项目</h3> 
<pre><code class="prism language-javascript">项目创建
</code></pre> 
<p><img src="https://images2.imgbox.com/83/90/Bp0CagKj_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="Package_Manager_40"></a>Package Manager</h4> 
<pre><code class="prism language-javascript"><span class="token number">1.</span> 打开 Window <span class="token operator">-</span><span class="token operator">&gt;</span> Package Manager
<span class="token number">2.</span> 点击 加号
<span class="token number">3.</span> 选择 Add <span class="token keyword">package</span> by name
</code></pre> 
<p><img src="https://images2.imgbox.com/ff/1f/6n29oz1V_o.png" alt="请添加图片描述"></p> 
<pre><code class="prism language-javascript">在输入框 键入 com<span class="token punctuation">.</span>unity<span class="token punctuation">.</span>sentis 并点击添加
</code></pre> 
<p><img src="https://images2.imgbox.com/95/33/kcUye2UF_o.png" alt="请添加图片描述"></p> 
<pre><code class="prism language-javascript">在搜索框搜索 Sentis 如果有那就证明下载正确 
如果没有就可能是 Unity <span class="token constant">AI</span> 内测资格 暂时还未通过
</code></pre> 
<p><img src="https://images2.imgbox.com/c5/22/JYHOxWLt_o.png" alt="请添加图片描述"></p> 
<h4><a id="_67"></a>开始尝试</h4> 
<pre><code class="prism language-javascript">层级创建
</code></pre> 
<p><img src="https://images2.imgbox.com/0a/c2/cQzXBun4_o.png" alt="请添加图片描述"></p> 
<pre><code class="prism language-javascript">代码搭载
</code></pre> 
<p><img src="https://images2.imgbox.com/c6/23/HGuwi65a_o.png" alt="请添加图片描述"></p> 
<h4><a id="_83"></a>模型下载</h4> 
<pre><code class="prism language-javascript">随便下载一个就行 我下载的是 <span class="token constant">MNIST</span><span class="token operator">-</span><span class="token number">12</span>
</code></pre> 
<p>手写数字识别: <a href="https://github.com/onnx/models/tree/main/vision/classification/mnist">模型下载地址</a></p> 
<p><img src="https://images2.imgbox.com/aa/b9/0m4dlcpj_o.png" alt="请添加图片描述"></p> 
<pre><code class="prism language-javascript">只在放在 Assets 之下都行
</code></pre> 
<p><img src="https://images2.imgbox.com/d9/f5/0RLfOypK_o.png" alt="请添加图片描述"></p> 
<h4><a id="_104"></a>识别图片</h4> 
<pre><code class="prism language-javascript">在这下载我不知道会不会有问题  要是下载完之后有问题的话  大家就在<span class="token constant">PS</span> 中随便画一下就行

我这里的长宽是 <span class="token number">28</span><span class="token operator">*</span><span class="token number">28</span> 

需要注意的是图片越大越消耗性能
</code></pre> 
<p><img src="https://images2.imgbox.com/0f/3d/h6yCs17f_o.png" alt="请添加图片描述"></p> 
<p><img src="https://images2.imgbox.com/71/e3/NcVA1x8d_o.png" alt="请添加图片描述"></p> 
<p><img src="https://images2.imgbox.com/e4/ba/MCqlcLGj_o.png" alt="请添加图片描述"></p> 
<p><img src="https://images2.imgbox.com/f6/16/pDWVpJqB_o.png" alt="请添加图片描述"></p> 
<p><img src="https://images2.imgbox.com/52/b3/kU36QzjX_o.png" alt="请添加图片描述"></p> 
<h4><a id="_132"></a>完整代码</h4> 
<pre><code class="prism language-javascript">using UnityEngine<span class="token punctuation">;</span>
using Unity<span class="token punctuation">.</span>Sentis<span class="token punctuation">;</span>
using Unity<span class="token punctuation">.</span>Sentis<span class="token punctuation">.</span>Layers<span class="token punctuation">;</span>

<span class="token comment">/// &lt;summary&gt;</span>
<span class="token comment">/// 手写体数字 识别</span>
<span class="token comment">/// &lt;/summary&gt;</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ClassifyHandwrittenDigit_ZH</span> <span class="token operator">:</span> MonoBehaviour
<span class="token punctuation">{<!-- --></span>
    <span class="token punctuation">[</span><span class="token function">Header</span><span class="token punctuation">(</span><span class="token string">"需要辨别的 输入"</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> Texture2D _InputTexture<span class="token punctuation">;</span>
    <span class="token punctuation">[</span><span class="token function">Header</span><span class="token punctuation">(</span><span class="token string">"使用模型"</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> ModelAsset _ModelAsset<span class="token punctuation">;</span>

    <span class="token comment">//加载模型</span>
    Model _RuntimeModel<span class="token punctuation">;</span>
    <span class="token comment">//工作流</span>
    IWorker _Worker<span class="token punctuation">;</span>

    <span class="token punctuation">[</span><span class="token function">Header</span><span class="token punctuation">(</span><span class="token string">"返回 概率列表"</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> float<span class="token punctuation">[</span><span class="token punctuation">]</span> _Results<span class="token punctuation">;</span>

    <span class="token keyword">void</span> <span class="token function">Start</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>

    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">Update</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>Input<span class="token punctuation">.</span><span class="token function">GetKeyDown</span><span class="token punctuation">(</span>KeyCode<span class="token punctuation">.</span><span class="token constant">Q</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token function">DiscernAndJudge</span><span class="token punctuation">(</span>_InputTexture<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/// &lt;summary&gt;</span>
    <span class="token comment">/// 识别于判断</span>
    <span class="token comment">/// &lt;/summary&gt;</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">DiscernAndJudge</span><span class="token punctuation">(</span><span class="token parameter">Texture2D _Texture2D</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 创建运行时模型</span>
        _RuntimeModel <span class="token operator">=</span> ModelLoader<span class="token punctuation">.</span><span class="token function">Load</span><span class="token punctuation">(</span>_ModelAsset<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 将 softmax 层添加到模型的末尾，而不是非 softmax 输出</span>
        string _SoftmaxOutputName <span class="token operator">=</span> <span class="token string">"Softmax_Output"</span><span class="token punctuation">;</span>
        _RuntimeModel<span class="token punctuation">.</span><span class="token function">AddLayer</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Softmax</span><span class="token punctuation">(</span>_SoftmaxOutputName<span class="token punctuation">,</span> _RuntimeModel<span class="token punctuation">.</span>outputs<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        _RuntimeModel<span class="token punctuation">.</span>outputs<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> _SoftmaxOutputName<span class="token punctuation">;</span>

        <span class="token comment">// 将输入数据创建为张量</span>
        using Tensor _InputTensor <span class="token operator">=</span> TextureConverter<span class="token punctuation">.</span><span class="token function">ToTensor</span><span class="token punctuation">(</span>_Texture2D<span class="token punctuation">,</span> <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">28</span><span class="token punctuation">,</span> <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">28</span><span class="token punctuation">,</span> <span class="token literal-property property">channels</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 创建引擎</span>
        <span class="token comment">//在 Sentis 中，工作线程是推理引擎。您可以创建一个工作线程以将模型分解为可执行任务，在 GPU 或 CPU 上运行任务，然后输出结果。</span>
        <span class="token comment">//例如，创建一个使用 Sentis 计算着色器在 GPU 上运行的工作线程：</span>
        _Worker <span class="token operator">=</span> WorkerFactory<span class="token punctuation">.</span><span class="token function">CreateWorker</span><span class="token punctuation">(</span>BackendType<span class="token punctuation">.</span>GPUCompute<span class="token punctuation">,</span> _RuntimeModel<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 使用输入数据运行模型</span>
        _Worker<span class="token punctuation">.</span><span class="token function">Execute</span><span class="token punctuation">(</span>_InputTensor<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 获得结果</span>
        using TensorFloat _OutputTensor <span class="token operator">=</span> _Worker<span class="token punctuation">.</span><span class="token function">PeekOutput</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">as</span> TensorFloat<span class="token punctuation">;</span>

        <span class="token comment">// 在读取张量数据之前将其移动到CPU</span>
        _OutputTensor<span class="token punctuation">.</span><span class="token function">MakeReadable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//返回数据填充</span>
        _Results <span class="token operator">=</span> _OutputTensor<span class="token punctuation">.</span><span class="token function">ToReadOnlyArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/// &lt;summary&gt;</span>
    <span class="token comment">/// 当前脚本处于 禁用或非活动时执行</span>
    <span class="token comment">/// &lt;/summary&gt;</span>
    <span class="token keyword">void</span> <span class="token function">OnDisable</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 告诉GPU我们已经处理完引擎使用的内存了</span>
        _Worker<span class="token punctuation">.</span><span class="token function">Dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<h4><a id="_217"></a>代码搭载运行</h4> 
<pre><code class="prism language-javascript">总体来说 只要大于 <span class="token number">0.90</span> 就证明是该的数字
下列 Results 返回数组 第几位就是 数字几
</code></pre> 
<pre><code class="prism language-javascript"><span class="token number">1</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/50/65/GRhR7C5k_o.png" alt="请添加图片描述"></p> 
<pre><code class="prism language-javascript"><span class="token number">5</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/eb/8f/tFZtvUR2_o.png" alt="请添加图片描述"></p> 
<pre><code class="prism language-javascript"><span class="token number">2</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/f3/8c/kKldrTGf_o.png" alt="请添加图片描述"></p> 
<h3><a id="__URP_243"></a>射线绘画 URP（扩展）</h3> 
<pre><code class="prism language-javascript">射线绘画：
连连看  Shader Graph
</code></pre> 
<p><img src="https://images2.imgbox.com/bb/26/tC5Vwkmm_o.png" alt="请添加图片描述"></p> 
<pre><code class="prism language-javascript">局部 <span class="token number">1</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/db/de/sEZksonK_o.png" alt="请添加图片描述"></p> 
<pre><code class="prism language-javascript">局部 <span class="token number">2</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/4f/cb/Vwhs9pHa_o.png" alt="请添加图片描述"></p> 
<pre><code class="prism language-javascript">为什么要这样连接
</code></pre> 
<p><img src="https://images2.imgbox.com/f6/41/bnHlBHZN_o.png" alt="请添加图片描述"></p> 
<pre><code class="prism language-javascript">Graph 基础设置
</code></pre> 
<p><img src="https://images2.imgbox.com/98/df/rDn2jnef_o.png" alt="请添加图片描述"></p> 
<h4><a id="_275"></a>射线绘画脚本</h4> 
<pre><code class="prism language-javascript">using System<span class="token punctuation">.</span>Collections<span class="token punctuation">;</span>
using System<span class="token punctuation">.</span>Collections<span class="token punctuation">.</span>Generic<span class="token punctuation">;</span>
using UnityEngine<span class="token punctuation">;</span>

<span class="token comment">/// &lt;summary&gt;</span>
<span class="token comment">/// 绘画</span>
<span class="token comment">/// &lt;/summary&gt;</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Drawing_ZH</span> <span class="token operator">:</span> MonoBehaviour
<span class="token punctuation">{<!-- --></span>

    <span class="token punctuation">[</span><span class="token function">Header</span><span class="token punctuation">(</span><span class="token string">"Camera"</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> Camera _MainCamera<span class="token punctuation">;</span>

    <span class="token punctuation">[</span><span class="token function">Header</span><span class="token punctuation">(</span><span class="token string">"画布贴图"</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> RenderTexture _CurrentRT<span class="token punctuation">;</span>
    <span class="token punctuation">[</span><span class="token function">Header</span><span class="token punctuation">(</span><span class="token string">"临时贴图"</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> RenderTexture _TempRT<span class="token punctuation">;</span>

    <span class="token punctuation">[</span><span class="token function">Header</span><span class="token punctuation">(</span><span class="token string">"绘画 材质球"</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
    <span class="token keyword">private</span> Material _DrawMat<span class="token punctuation">;</span>

    <span class="token punctuation">[</span><span class="token function">Header</span><span class="token punctuation">(</span><span class="token string">"画布贴图  大小"</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> int _TextureSize <span class="token operator">=</span> <span class="token number">512</span><span class="token punctuation">;</span>

    <span class="token punctuation">[</span><span class="token function">Header</span><span class="token punctuation">(</span><span class="token string">"绘画 笔刷大小"</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
    <span class="token punctuation">[</span><span class="token function">Range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> float _DrawRadius <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">.</span>2f<span class="token punctuation">;</span>


    <span class="token keyword">void</span> <span class="token function">Start</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        _MainCamera <span class="token operator">=</span> Camera<span class="token punctuation">.</span>main<span class="token punctuation">;</span>

        _CurrentRT <span class="token operator">=</span> <span class="token function">CreateRT</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        _TempRT <span class="token operator">=</span> <span class="token function">CreateRT</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        _DrawMat <span class="token operator">=</span> GetComponent<span class="token operator">&lt;</span>MeshRenderer<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>material<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">Update</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token comment">//鼠标左键 射线检测</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>Input<span class="token punctuation">.</span><span class="token function">GetMouseButton</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token comment">//射线生成</span>
            Ray _Ray <span class="token operator">=</span> _MainCamera<span class="token punctuation">.</span><span class="token function">ScreenPointToRay</span><span class="token punctuation">(</span>Input<span class="token punctuation">.</span>mousePosition<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//返回结构体</span>
            RaycastHit _Hit<span class="token punctuation">;</span>
            <span class="token comment">//触发</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>Physics<span class="token punctuation">.</span><span class="token function">Raycast</span><span class="token punctuation">(</span>_Ray<span class="token punctuation">,</span> out _Hit<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                <span class="token comment">//图案绘制</span>

                <span class="token function">DrawAt</span><span class="token punctuation">(</span>_Hit<span class="token punctuation">.</span>textureCoord<span class="token punctuation">.</span>x<span class="token punctuation">,</span> _Hit<span class="token punctuation">.</span>textureCoord<span class="token punctuation">.</span>y<span class="token punctuation">,</span> _DrawRadius<span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"射线绘画"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/// &lt;summary&gt;</span>
    <span class="token comment">/// 图像绘制</span>
    <span class="token comment">/// &lt;/summary&gt;</span>
    <span class="token comment">/// &lt;param 坐标 X="x"&gt;&lt;/param&gt;</span>
    <span class="token comment">/// &lt;param 坐标 Y="y"&gt;&lt;/param&gt;</span>
    <span class="token comment">/// &lt;param 半径="_Radius"&gt;&lt;/param&gt;</span>
    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">DrawAt</span><span class="token punctuation">(</span><span class="token parameter">float x<span class="token punctuation">,</span> float y<span class="token punctuation">,</span> float _Radius</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token comment">//原本绘制贴图</span>
        _DrawMat<span class="token punctuation">.</span><span class="token function">SetTexture</span><span class="token punctuation">(</span><span class="token string">"_SourceTex"</span><span class="token punctuation">,</span> _CurrentRT<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//绘制的位置和大小</span>
        _DrawMat<span class="token punctuation">.</span><span class="token function">SetVector</span><span class="token punctuation">(</span><span class="token string">"_Pos"</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Vector4</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> _Radius<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//绘制 提交</span>
        Graphics<span class="token punctuation">.</span><span class="token function">Blit</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> _TempRT<span class="token punctuation">,</span> _DrawMat<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//贴图交换</span>
        RenderTexture _Rt <span class="token operator">=</span> _TempRT<span class="token punctuation">;</span>
        _TempRT <span class="token operator">=</span> _CurrentRT<span class="token punctuation">;</span>
        _CurrentRT <span class="token operator">=</span> _Rt<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/// &lt;summary&gt;</span>
    <span class="token comment">/// 新建 RenderTexture 画布</span>
    <span class="token comment">/// &lt;/summary&gt;</span>
    <span class="token comment">/// &lt;returns&gt;&lt;/returns&gt;</span>
    <span class="token keyword">public</span> RenderTexture <span class="token function">CreateRT</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        RenderTexture _Rt <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RenderTexture</span><span class="token punctuation">(</span>_TextureSize<span class="token punctuation">,</span> _TextureSize<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> RenderTextureFormat<span class="token punctuation">.</span>RFloat<span class="token punctuation">)</span><span class="token punctuation">;</span>
        _Rt<span class="token punctuation">.</span><span class="token function">Create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> _Rt<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<h4><a id="_377"></a>脚本搭载</h4> 
<p><img src="https://images2.imgbox.com/58/ae/dQE4rPVB_o.png" alt="请添加图片描述"></p> 
<h4><a id="_381"></a>效果</h4> 
<p><img src="https://images2.imgbox.com/44/74/6nTfXt2k_o.png" alt="请添加图片描述"></p> 
<p>暂时先这样吧，如果有时间的话就会更新 Muse 精灵 AI，实在看不明白就留言，看到我会回复的。<br> 路漫漫其修远兮，与君共勉。</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ba6ed69a785b0817addce8c7faf9769b/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">电脑出现错误代码0x80004005应该如何有效解决问题</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/73c276e12546c351a8ebcef123ff412c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">机器学习算法基础--KNN分类算法</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>