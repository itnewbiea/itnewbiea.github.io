<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>DateUtils - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="DateUtils" />
<meta property="og:description" content="/* * @(#)DateUtils.java 2020年4月5日上午9:40:16 * Copyright All rights reserved. */ package com.zhuning.isim.util; import java.math.BigDecimal; import java.text.ParseException; import java.text.SimpleDateFormat; import java.time.Instant; import java.time.LocalDate; import java.time.LocalDateTime; import java.time.ZoneId; import java.util.Calendar; import java.util.Date; import java.util.GregorianCalendar; import java.util.Locale; import com.zhuning.isim.excp.InvalidDataException; /** * 日期工具类 * @author: wangyf * @version: 1.0 Date: 2020年4月5日 上午9:40:16 */ public class DateUtils extends org.apache.commons.lang3.time.DateUtils { private static String[] parsePatterns = { &#34;yyyy-MM-dd&#34;, &#34;yyyy-MM-dd HH:mm:ss&#34;, &#34;yyyy-MM-dd HH:mm&#34;, &#34;yyyy-MM&#34;, &#34;yyyy/MM/dd&#34;, &#34;yyyy/MM/dd HH:mm:ss&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/19955e967f05217e8bc5e54946dfd576/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-08-02T08:59:20+08:00" />
<meta property="article:modified_time" content="2021-08-02T08:59:20+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">DateUtils</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <pre><code class="prism language-bash">/*
 * @<span class="token punctuation">(</span><span class="token comment">#)DateUtils.java 2020年4月5日上午9:40:16</span>
 * Copyright All rights reserved.
 */
package com.zhuning.isim.util<span class="token punctuation">;</span>

<span class="token function">import</span> java.math.BigDecimal<span class="token punctuation">;</span>
<span class="token function">import</span> java.text.ParseException<span class="token punctuation">;</span>
<span class="token function">import</span> java.text.SimpleDateFormat<span class="token punctuation">;</span>
<span class="token function">import</span> java.time.Instant<span class="token punctuation">;</span>
<span class="token function">import</span> java.time.LocalDate<span class="token punctuation">;</span>
<span class="token function">import</span> java.time.LocalDateTime<span class="token punctuation">;</span>
<span class="token function">import</span> java.time.ZoneId<span class="token punctuation">;</span>
<span class="token function">import</span> java.util.Calendar<span class="token punctuation">;</span>
<span class="token function">import</span> java.util.Date<span class="token punctuation">;</span>
<span class="token function">import</span> java.util.GregorianCalendar<span class="token punctuation">;</span>
<span class="token function">import</span> java.util.Locale<span class="token punctuation">;</span>

<span class="token function">import</span> com.zhuning.isim.excp.InvalidDataException<span class="token punctuation">;</span>

/**
 * 日期工具类
 * @author: wangyf
 * @version: <span class="token number">1.0</span> Date: <span class="token number">2020</span>年4月5日 上午9:40:16
 */
public class DateUtils extends org.apache.commons.lang3.time.DateUtils <span class="token punctuation">{<!-- --></span>

	private static String<span class="token punctuation">[</span><span class="token punctuation">]</span> parsePatterns <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token string">"yyyy-MM-dd"</span>, <span class="token string">"yyyy-MM-dd HH:mm:ss"</span>, <span class="token string">"yyyy-MM-dd HH:mm"</span>, <span class="token string">"yyyy-MM"</span>, <span class="token string">"yyyy/MM/dd"</span>, <span class="token string">"yyyy/MM/dd HH:mm:ss"</span>, <span class="token string">"yyyy/MM/dd HH:mm"</span>, <span class="token string">"yyyy/MM"</span>, <span class="token string">"yyyy.MM.dd"</span>, <span class="token string">"yyyy.MM.dd HH:mm:ss"</span>, <span class="token string">"yyyy.MM.dd HH:mm"</span>, <span class="token string">"yyyy.MM"</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

	public final static String<span class="token punctuation">[</span><span class="token punctuation">]</span> WEEKS <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token string">"Sunday"</span>, <span class="token string">"Monday"</span>, <span class="token string">"Tuesday"</span>, <span class="token string">"Wednesday"</span>, <span class="token string">"Thursday"</span>, <span class="token string">"Friday"</span>, <span class="token string">"Saturday"</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

	public final static String PATTERN_HOUR_MINUTES <span class="token operator">=</span> <span class="token string">"HH:mm"</span><span class="token punctuation">;</span>

	/**
	 * 获取指定的年份，格式为yyyy
	 * @param amount -1:昨天, <span class="token number">0</span>:今天 ,1:明天
	 * @return
	 */
	public static String getYear<span class="token punctuation">(</span>int amount<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		Calendar calendar <span class="token operator">=</span> Calendar.getInstance<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		calendar.add<span class="token punctuation">(</span>Calendar.YEAR, amount<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token builtin class-name">return</span> String.format<span class="token punctuation">(</span><span class="token string">"%tY"</span>, calendar.getTime<span class="token punctuation">(</span><span class="token punctuation">))</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	/**
	 * 获取指定的年月，格式为yyyy-MM
	 * @param amount -1:昨天, <span class="token number">0</span>:今天 ,1:明天
	 * @return
	 */
	public static String getYearMonth<span class="token punctuation">(</span>int amount<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		Calendar calendar <span class="token operator">=</span> Calendar.getInstance<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		calendar.add<span class="token punctuation">(</span>Calendar.MONTH, amount<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token builtin class-name">return</span> String.format<span class="token punctuation">(</span><span class="token string">"%tY-%&lt;tm"</span>, calendar.getTime<span class="token punctuation">(</span><span class="token punctuation">))</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	/**
	 * 获取指定的日期，格式为yyyy-MM-dd
	 * @param amount -1:昨天, <span class="token number">0</span>:今天 ,1:明天
	 * @return
	 */
	public static String getDate<span class="token punctuation">(</span>int amount<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		Calendar calendar <span class="token operator">=</span> Calendar.getInstance<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		calendar.add<span class="token punctuation">(</span>Calendar.DATE, amount<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token builtin class-name">return</span> String.format<span class="token punctuation">(</span><span class="token string">"%tY-%&lt;tm-%&lt;td"</span>, calendar.getTime<span class="token punctuation">(</span><span class="token punctuation">))</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	/**
	 * 获取指定日期
	 * @param amount
	 * @return
	 */
	public static Date getCustDate<span class="token punctuation">(</span>int amount<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		Calendar calendar <span class="token operator">=</span> Calendar.getInstance<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		calendar.add<span class="token punctuation">(</span>Calendar.DATE, amount<span class="token punctuation">)</span><span class="token punctuation">;</span>
		calendar.set<span class="token punctuation">(</span>Calendar.MINUTE, <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		calendar.set<span class="token punctuation">(</span>Calendar.SECOND, <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		calendar.set<span class="token punctuation">(</span>Calendar.MILLISECOND, <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token builtin class-name">return</span> calendar.getTime<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	/**
	 * 获取指定月份
	 *
	 * @param amount
	 * @return
	 */
	public static Date getCustMonthDate<span class="token punctuation">(</span>int amount<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		Calendar calendar <span class="token operator">=</span> Calendar.getInstance<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		calendar.add<span class="token punctuation">(</span>Calendar.MONTH, amount<span class="token punctuation">)</span><span class="token punctuation">;</span>
		calendar.set<span class="token punctuation">(</span>Calendar.MINUTE, <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		calendar.set<span class="token punctuation">(</span>Calendar.SECOND, <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		calendar.set<span class="token punctuation">(</span>Calendar.MILLISECOND, <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token builtin class-name">return</span> calendar.getTime<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	/**
	 * 获取指定的日期，格式为yyyy-MM-dd HH:mm:ss
	 *
	 * @param amount -1:昨天, <span class="token number">0</span>:今天 ,1:明天
	 * @return
	 */
	public static String getDateTime<span class="token punctuation">(</span>int amount<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		Calendar calendar <span class="token operator">=</span> Calendar.getInstance<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		calendar.add<span class="token punctuation">(</span>Calendar.DATE, amount<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token builtin class-name">return</span> String.format<span class="token punctuation">(</span><span class="token string">"%tF %&lt;tT"</span>, calendar.getTime<span class="token punctuation">(</span><span class="token punctuation">))</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	/*
	 * 获取当前日期时间戳
	 */
	public static long <span class="token function-name function">getCurrentDateMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		Calendar calendar <span class="token operator">=</span> Calendar.getInstance<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		calendar.set<span class="token punctuation">(</span>Calendar.HOUR_OF_DAY, <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		calendar.set<span class="token punctuation">(</span>Calendar.MINUTE, <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		calendar.set<span class="token punctuation">(</span>Calendar.SECOND, <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		calendar.set<span class="token punctuation">(</span>Calendar.MILLISECOND, <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token builtin class-name">return</span> calendar.getTimeInMillis<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	/*
	 * 获取当前日期
	 */
	public static Date <span class="token function-name function">getCurrentDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		Calendar calendar <span class="token operator">=</span> Calendar.getInstance<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		calendar.set<span class="token punctuation">(</span>Calendar.HOUR_OF_DAY, <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		calendar.set<span class="token punctuation">(</span>Calendar.MINUTE, <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		calendar.set<span class="token punctuation">(</span>Calendar.SECOND, <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		calendar.set<span class="token punctuation">(</span>Calendar.MILLISECOND, <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token builtin class-name">return</span> calendar.getTime<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	public static Date dateToDate<span class="token punctuation">(</span>Date <span class="token function">date</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token builtin class-name">return</span> dateToDate<span class="token punctuation">(</span>date, parsePatterns<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	public static String date2Date<span class="token punctuation">(</span>Date <span class="token function">date</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token builtin class-name">return</span> dateToStr<span class="token punctuation">(</span>date, <span class="token string">"yyyyMMdd"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	public static Date dateToDate<span class="token punctuation">(</span>Date date, String <span class="token function">format</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		String str <span class="token operator">=</span> dateToStr<span class="token punctuation">(</span>date, <span class="token function">format</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token builtin class-name">return</span> strToDate<span class="token punctuation">(</span>str, <span class="token function">format</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	/**
	 * 字符串转化为日期
	 *
	 * @param dateStr
	 * @param pattern
	 * @return
	 */
	public static Date strToDate<span class="token punctuation">(</span>String dateStr, String pattern<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>StringUtils.isEmpty<span class="token punctuation">(</span>dateStr<span class="token punctuation">))</span> <span class="token punctuation">{<!-- --></span>
			<span class="token builtin class-name">return</span> null<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		SimpleDateFormat dateFormat <span class="token operator">=</span> new SimpleDateFormat<span class="token punctuation">(</span>pattern<span class="token punctuation">)</span><span class="token punctuation">;</span>
		try <span class="token punctuation">{<!-- --></span>
			<span class="token builtin class-name">return</span> dateFormat.parse<span class="token punctuation">(</span>dateStr<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> catch <span class="token punctuation">(</span>ParseException e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			e.printStackTrace<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			throw new InvalidDataException<span class="token punctuation">(</span>e.getMessage<span class="token punctuation">(</span><span class="token punctuation">))</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	/**
	 * 字符转换为指定日期格式的字符
	 *
	 * @param dateStr
	 * @param <span class="token function">format</span>
	 * @return
	 */
	public static String strToDateStr<span class="token punctuation">(</span>String dateStr, String <span class="token function">format</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		String strDate <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>StringUtils.isEmpty<span class="token punctuation">(</span>dateStr<span class="token punctuation">))</span> <span class="token punctuation">{<!-- --></span>
			Date <span class="token function">date</span> <span class="token operator">=</span> strToDateAll<span class="token punctuation">(</span>dateStr<span class="token punctuation">)</span><span class="token punctuation">;</span>
			strDate <span class="token operator">=</span> dateToStr<span class="token punctuation">(</span>date, <span class="token function">format</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token builtin class-name">return</span> strDate<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	/**
	 * 日期转换为字符串
	 *
	 * @param <span class="token function">format</span>
	 * @return
	 */
	public static String dateToStr<span class="token punctuation">(</span>String <span class="token function">format</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		SimpleDateFormat sdf <span class="token operator">=</span> new SimpleDateFormat<span class="token punctuation">(</span>format<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token builtin class-name">return</span> sdf.format<span class="token punctuation">(</span>System.currentTimeMillis<span class="token punctuation">(</span><span class="token punctuation">))</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	/**
	 * 日期转换为字符串
	 *
	 * @param <span class="token function">format</span>
	 * @return
	 */
	public static String dateToStr<span class="token punctuation">(</span>Date <span class="token function">date</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>null <span class="token operator">==</span> <span class="token function">date</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token builtin class-name">return</span> <span class="token string">""</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		SimpleDateFormat sdf <span class="token operator">=</span> new SimpleDateFormat<span class="token punctuation">(</span>parsePatterns<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token builtin class-name">return</span> sdf.format<span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	/**
	 * 日期转换为字符串
	 *
	 * @param <span class="token function">date</span>
	 * @param <span class="token function">format</span>
	 * @return
	 */
	public static String dateToStr<span class="token punctuation">(</span>Date date, String <span class="token function">format</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>null <span class="token operator">==</span> <span class="token function">date</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token builtin class-name">return</span> <span class="token string">""</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		SimpleDateFormat sdf <span class="token operator">=</span> new SimpleDateFormat<span class="token punctuation">(</span>format<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token builtin class-name">return</span> sdf.format<span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	/**
	 * 日期转字符串
	 *
	 * @param <span class="token function">date</span>
	 * @return
	 */
	public static String dateTimeToStr<span class="token punctuation">(</span>Date <span class="token function">date</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>null <span class="token operator">==</span> <span class="token function">date</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token builtin class-name">return</span> <span class="token string">""</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token builtin class-name">return</span> dateToStr<span class="token punctuation">(</span>date, <span class="token string">"yyyy-MM-dd HH:mm:ss"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	/**
	 * 格式化为中文日期格式
	 *
	 * @param <span class="token function">date</span>
	 * @return
	 */
	public static String formatChineseDate<span class="token punctuation">(</span>Date <span class="token function">date</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>null <span class="token operator">==</span> <span class="token function">date</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token builtin class-name">return</span> StringUtils.EMPTY<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token builtin class-name">return</span> dateToStr<span class="token punctuation">(</span>date, <span class="token string">"yyyy年MM月dd日HH时mm分"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	/**
	 * 日期转字符串
	 *
	 * @param <span class="token function">date</span>
	 * @return
	 */
	public static String toDateHourMinute<span class="token punctuation">(</span>Date <span class="token function">date</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>null <span class="token operator">==</span> <span class="token function">date</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token builtin class-name">return</span> <span class="token string">""</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token builtin class-name">return</span> dateToStr<span class="token punctuation">(</span>date, parsePatterns<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	/**
	 * 日期转字符串-yyyy-MM-dd HH:mm
	 *
	 * @param <span class="token function">date</span>
	 * @return
	 */
	public static String toHourMinute<span class="token punctuation">(</span>Date <span class="token function">date</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>null <span class="token operator">==</span> <span class="token function">date</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token builtin class-name">return</span> <span class="token string">""</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token builtin class-name">return</span> dateToStr<span class="token punctuation">(</span>date, PATTERN_HOUR_MINUTES<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	/**
	 * 得到时间字符串-HH:mm
	 *
	 * @param dateStr
	 * @return
	 */
	public static String toHourMinute<span class="token punctuation">(</span>String dateStr<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		int len <span class="token operator">=</span> StringUtils.isEmpty<span class="token punctuation">(</span>dateStr<span class="token punctuation">)</span> ? <span class="token number">0</span> <span class="token builtin class-name">:</span> dateStr.trim<span class="token punctuation">(</span><span class="token punctuation">)</span>.length<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>len <span class="token operator">&gt;</span><span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token builtin class-name">return</span> dateStr.substring<span class="token punctuation">(</span><span class="token number">11</span>, <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>len <span class="token operator">==</span> <span class="token number">13</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token builtin class-name">return</span> dateStr.substring<span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> + <span class="token string">":00"</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
			<span class="token builtin class-name">return</span> <span class="token string">"00:00"</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	/**
	 * 字符转日期
	 *
	 * @param dateStr
	 * @return
	 */
	public static Date strToDateTime<span class="token punctuation">(</span>String dateStr<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>StringUtils.isEmpty<span class="token punctuation">(</span>dateStr<span class="token punctuation">))</span> <span class="token punctuation">{<!-- --></span>
			<span class="token builtin class-name">return</span> null<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token builtin class-name">return</span> strToDate<span class="token punctuation">(</span>dateStr, <span class="token string">"yyyy-MM-dd HH:mm:ss"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	/**
	 * 字符转日期
	 *
	 * @param dateStr
	 * @return
	 */
	public static Date strToDateTime<span class="token punctuation">(</span>Object dateStr<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>null <span class="token operator">==</span> dateStr <span class="token operator">||</span> StringUtils.isEmpty<span class="token punctuation">(</span>dateStr.toString<span class="token punctuation">(</span><span class="token punctuation">))</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token builtin class-name">return</span> null<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token builtin class-name">return</span> strToDate<span class="token punctuation">(</span>dateStr.toString<span class="token punctuation">(</span><span class="token punctuation">)</span>, <span class="token string">"yyyy-MM-dd HH:mm:ss"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	/**
	 * 字符转日期
	 *
	 * @param dateStr
	 * @return
	 */
	public static Date strToDateHour<span class="token punctuation">(</span>String dateStr<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>StringUtils.isEmpty<span class="token punctuation">(</span>dateStr<span class="token punctuation">))</span> <span class="token punctuation">{<!-- --></span>
			<span class="token builtin class-name">return</span> null<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token builtin class-name">return</span> strToDate<span class="token punctuation">(</span>dateStr, <span class="token string">"yyyy-MM-dd HH:mm"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	/**
	 * 字符转日期
	 * @param dateStr
	 * @return
	 */
	public static Date strToDate<span class="token punctuation">(</span>String dateStr<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>StringUtils.isEmpty<span class="token punctuation">(</span>dateStr<span class="token punctuation">))</span> <span class="token punctuation">{<!-- --></span>
			<span class="token builtin class-name">return</span> null<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		String pattern <span class="token operator">=</span> dateStr.indexOf<span class="token punctuation">(</span><span class="token string">"-"</span><span class="token punctuation">)</span> <span class="token operator">!=</span> -1 ? parsePatterns<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token builtin class-name">:</span> parsePatterns<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token builtin class-name">return</span> strToDate<span class="token punctuation">(</span>dateStr, pattern<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	/**
	 * 字符转日期
	 * @param dateStr
	 * @return
	 */
	public static Date strToHourMinute<span class="token punctuation">(</span>String dateStr<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>StringUtils.isEmpty<span class="token punctuation">(</span>dateStr<span class="token punctuation">))</span> <span class="token punctuation">{<!-- --></span>
			<span class="token builtin class-name">return</span> null<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token builtin class-name">return</span> strToDate<span class="token punctuation">(</span>dateStr, PATTERN_HOUR_MINUTES<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	/**
	 * 字符转日期
	 *
	 * @param dateStr
	 * @return
	 */
	public static Date strToDateAll<span class="token punctuation">(</span>String dateStr<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>StringUtils.isEmpty<span class="token punctuation">(</span>dateStr<span class="token punctuation">))</span> <span class="token punctuation">{<!-- --></span>
			<span class="token builtin class-name">return</span> null<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		int len <span class="token operator">=</span> dateStr.length<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		SimpleDateFormat dateFormat <span class="token operator">=</span> null<span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>len <span class="token operator">==</span> <span class="token number">8</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			dateFormat <span class="token operator">=</span> new SimpleDateFormat<span class="token punctuation">(</span><span class="token string">"yyyyMMdd"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>len <span class="token operator">==</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			dateFormat <span class="token operator">=</span> new SimpleDateFormat<span class="token punctuation">(</span><span class="token string">"yyyy-MM-dd"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>len <span class="token operator">==</span> <span class="token number">14</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			dateFormat <span class="token operator">=</span> new SimpleDateFormat<span class="token punctuation">(</span><span class="token string">"yyyyMMddHHmmss"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>len <span class="token operator">==</span> <span class="token number">16</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			dateFormat <span class="token operator">=</span> new SimpleDateFormat<span class="token punctuation">(</span><span class="token string">"yyyy-MM-dd HH:mm"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>len <span class="token operator">==</span> <span class="token number">19</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			dateFormat <span class="token operator">=</span> new SimpleDateFormat<span class="token punctuation">(</span><span class="token string">"yyyy-MM-dd HH:mm:ss"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>dateStr.contains<span class="token punctuation">(</span><span class="token string">"CST"</span><span class="token punctuation">))</span> <span class="token punctuation">{<!-- --></span>
			dateFormat <span class="token operator">=</span> new SimpleDateFormat<span class="token punctuation">(</span><span class="token string">"EEE MMM dd HH:mm:ss 'CST' yyyy"</span>, Locale.ENGLISH<span class="token punctuation">)</span><span class="token punctuation">;</span>// CST格式
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>dateStr.contains<span class="token punctuation">(</span><span class="token string">"UTC"</span><span class="token punctuation">))</span> <span class="token punctuation">{<!-- --></span>
			dateFormat <span class="token operator">=</span> new SimpleDateFormat<span class="token punctuation">(</span><span class="token string">"EEE MMM dd HH:mm:ss 'UTC 0800' yyyy"</span>, Locale.ENGLISH<span class="token punctuation">)</span><span class="token punctuation">;</span>// UTC格式
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
			<span class="token builtin class-name">return</span> null<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		try <span class="token punctuation">{<!-- --></span>
			<span class="token builtin class-name">return</span> dateFormat.parse<span class="token punctuation">(</span>dateStr<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> catch <span class="token punctuation">(</span>ParseException e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			e.printStackTrace<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			throw new InvalidDataException<span class="token punctuation">(</span>e.getMessage<span class="token punctuation">(</span><span class="token punctuation">))</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	public static Date parseDate<span class="token punctuation">(</span>String str<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>str <span class="token operator">==</span> null<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token builtin class-name">return</span> null<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		try <span class="token punctuation">{<!-- --></span>
			<span class="token builtin class-name">return</span> parseDate<span class="token punctuation">(</span>str, parsePatterns<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> catch <span class="token punctuation">(</span>ParseException e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			throw new InvalidDataException<span class="token punctuation">(</span>e.getMessage<span class="token punctuation">(</span><span class="token punctuation">))</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	/**
	 * 获取过去的分钟
	 *
	 * @param <span class="token function">date</span>
	 * @return
	 */
	public static long pastMinutes<span class="token punctuation">(</span>Date <span class="token function">date</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		long <span class="token function">time</span> <span class="token operator">=</span> System.currentTimeMillis<span class="token punctuation">(</span><span class="token punctuation">)</span> - date.getTime<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token builtin class-name">return</span> <span class="token function">time</span> / <span class="token punctuation">(</span><span class="token number">60</span> * <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	/**
	 * 计算相差天数（包括当天）
	 *
	 * @param startDate
	 * @param endDate
	 */
	public static int calcDiffDays<span class="token punctuation">(</span>String startDate, String endDate<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		SimpleDateFormat sf <span class="token operator">=</span> new SimpleDateFormat<span class="token punctuation">(</span>parsePatterns<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		double nd <span class="token operator">=</span> <span class="token number">1000</span> * <span class="token number">24</span> * <span class="token number">60</span> * <span class="token number">60</span><span class="token punctuation">;</span>// 一天的毫秒数
		try <span class="token punctuation">{<!-- --></span>
			double <span class="token function">diff</span> <span class="token operator">=</span> sf.parse<span class="token punctuation">(</span>startDate<span class="token punctuation">)</span>.getTime<span class="token punctuation">(</span><span class="token punctuation">)</span> - sf.parse<span class="token punctuation">(</span>endDate<span class="token punctuation">)</span>.getTime<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token builtin class-name">return</span> new BigDecimal<span class="token punctuation">(</span>new Double<span class="token punctuation">(</span>diff / nd<span class="token punctuation">)</span> + <span class="token number">1</span><span class="token punctuation">)</span>.setScale<span class="token punctuation">(</span><span class="token number">0</span>, BigDecimal.ROUND_UP<span class="token punctuation">)</span>.intValue<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> catch <span class="token punctuation">(</span>ParseException e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			throw new InvalidDataException<span class="token punctuation">(</span><span class="token string">"计算相差天数出错："</span> + e.getMessage<span class="token punctuation">(</span><span class="token punctuation">))</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	/**
	 * 计算相差天数（包括当天）
	 *
	 * @param startDate
	 * @param endDate
	 */
	public static int calcDiffDays<span class="token punctuation">(</span>Date startDate, Date endDate<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		double nd <span class="token operator">=</span> <span class="token number">1000</span> * <span class="token number">24</span> * <span class="token number">60</span> * <span class="token number">60</span><span class="token punctuation">;</span>// 一天的毫秒数
		double <span class="token function">diff</span> <span class="token operator">=</span> endDate.getTime<span class="token punctuation">(</span><span class="token punctuation">)</span> - startDate.getTime<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token builtin class-name">return</span> new BigDecimal<span class="token punctuation">(</span>new Double<span class="token punctuation">(</span>diff / nd<span class="token punctuation">)</span> + <span class="token number">1</span><span class="token punctuation">)</span>.setScale<span class="token punctuation">(</span><span class="token number">0</span>, BigDecimal.ROUND_UP<span class="token punctuation">)</span>.intValue<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	public static Date add<span class="token punctuation">(</span>Date date, int calendarField, int amount<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>date <span class="token operator">==</span> null<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			throw new IllegalArgumentException<span class="token punctuation">(</span><span class="token string">"The date must not be null"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		Calendar c <span class="token operator">=</span> Calendar.getInstance<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		c.setTime<span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">;</span>
		c.add<span class="token punctuation">(</span>calendarField, amount<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token builtin class-name">return</span> c.getTime<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	public static Date addDays<span class="token punctuation">(</span>Date date, int days<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>days <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token builtin class-name">return</span> <span class="token function">date</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		Calendar calendar <span class="token operator">=</span> Calendar.getInstance<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		calendar.setTime<span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">;</span>
		calendar.add<span class="token punctuation">(</span>Calendar.DATE, days<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token builtin class-name">return</span> calendar.getTime<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	public static Date addMinutes<span class="token punctuation">(</span>int minutes, Date dt<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		Calendar c <span class="token operator">=</span> Calendar.getInstance<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		c.setTime<span class="token punctuation">(</span>dt<span class="token punctuation">)</span><span class="token punctuation">;</span>
		c.add<span class="token punctuation">(</span>Calendar.MINUTE, minutes<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token builtin class-name">return</span> c.getTime<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	/**
	 * 获取当前日期是星期几
	 *
	 * @param <span class="token function">date</span>
	 * @return 当前日期是星期几
	 */
	public static String getWeekOfDate<span class="token punctuation">(</span>Date <span class="token function">date</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		Calendar <span class="token function">cal</span> <span class="token operator">=</span> Calendar.getInstance<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		cal.setTime<span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">;</span>
		int w <span class="token operator">=</span> cal.get<span class="token punctuation">(</span>Calendar.DAY_OF_WEEK<span class="token punctuation">)</span> - <span class="token number">1</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>w <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			w <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token builtin class-name">return</span> WEEKS<span class="token punctuation">[</span>w<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	/**
	 * 得到本月第一天的日期
	 *
	 * @param <span class="token function">date</span>
	 * @return
	 */
	public static Date getFirstDayOfMonth<span class="token punctuation">(</span>Date <span class="token function">date</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		Calendar calendar <span class="token operator">=</span> Calendar.getInstance<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		calendar.setTime<span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">;</span>
		calendar.set<span class="token punctuation">(</span>Calendar.HOUR, <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		calendar.set<span class="token punctuation">(</span>Calendar.MINUTE, <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		calendar.set<span class="token punctuation">(</span>Calendar.SECOND, <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		calendar.set<span class="token punctuation">(</span>Calendar.DAY_OF_MONTH, <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token builtin class-name">return</span> calendar.getTime<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	/**
	 * 得到本月最后一天的日期
	 *
	 * @param <span class="token function">date</span>
	 * @return
	 */
	public static Date getLastDayOfMonth<span class="token punctuation">(</span>Date <span class="token function">date</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		Calendar calendar <span class="token operator">=</span> Calendar.getInstance<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		calendar.setTime<span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">;</span>
		calendar.set<span class="token punctuation">(</span>Calendar.HOUR, <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		calendar.set<span class="token punctuation">(</span>Calendar.MINUTE, <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		calendar.set<span class="token punctuation">(</span>Calendar.SECOND, <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		calendar.set<span class="token punctuation">(</span>Calendar.DAY_OF_MONTH, calendar.getActualMaximum<span class="token punctuation">(</span>Calendar.DAY_OF_MONTH<span class="token punctuation">))</span><span class="token punctuation">;</span>
		<span class="token builtin class-name">return</span> calendar.getTime<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	/**
	 * 获取某年第一天日期
	 *
	 * @param year 年份
	 * @return Date
	 */
	public static Date getCurrYearFirst<span class="token punctuation">(</span>int year<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		Calendar calendar <span class="token operator">=</span> Calendar.getInstance<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		calendar.clear<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		calendar.set<span class="token punctuation">(</span>Calendar.YEAR, year<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token builtin class-name">return</span> calendar.getTime<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	/**
	 * 获取某年最后一天日期
	 *
	 * @param year 年份
	 * @return Date
	 */
	public static Date getCurrYearLast<span class="token punctuation">(</span>int year<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		Calendar calendar <span class="token operator">=</span> Calendar.getInstance<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		calendar.clear<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		calendar.set<span class="token punctuation">(</span>Calendar.YEAR, year<span class="token punctuation">)</span><span class="token punctuation">;</span>
		calendar.roll<span class="token punctuation">(</span>Calendar.DAY_OF_YEAR, -1<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token builtin class-name">return</span> calendar.getTime<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	/**
	 * 获取某年某月一共多少天
	 */
	public static int getSomeMonthOwnDayCount<span class="token punctuation">(</span>int year, int month<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		Calendar c <span class="token operator">=</span> Calendar.getInstance<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		// 输入类型为int类型
		c.set<span class="token punctuation">(</span>year, month, <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token builtin class-name">return</span> c.get<span class="token punctuation">(</span>Calendar.DAY_OF_MONTH<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	/**
	 * 获取某年某月最后一天
	 */
	public static Date getSomeMonthLastDay<span class="token punctuation">(</span>int year, int month<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		Calendar <span class="token function">cal</span> <span class="token operator">=</span> Calendar.getInstance<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		cal.set<span class="token punctuation">(</span>Calendar.YEAR, year<span class="token punctuation">)</span><span class="token punctuation">;</span>
		cal.set<span class="token punctuation">(</span>Calendar.MONTH, month - <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		cal.set<span class="token punctuation">(</span>Calendar.DAY_OF_MONTH, cal.getActualMaximum<span class="token punctuation">(</span>Calendar.DATE<span class="token punctuation">))</span><span class="token punctuation">;</span>
		<span class="token builtin class-name">return</span> cal.getTime<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	// 获得本周一与当前日期相差的天数
	public static int <span class="token function-name function">getMondayPlus</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		Calendar <span class="token builtin class-name">cd</span> <span class="token operator">=</span> Calendar.getInstance<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		int dayOfWeek <span class="token operator">=</span> cd.get<span class="token punctuation">(</span>Calendar.DAY_OF_WEEK<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>dayOfWeek <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token builtin class-name">return</span> -6<span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
			<span class="token builtin class-name">return</span> <span class="token number">2</span> - dayOfWeek<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	// 获得当前周周一的日期
	public static Date <span class="token function-name function">getCurrentMonday</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		int mondayPlus <span class="token operator">=</span> getMondayPlus<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		GregorianCalendar currentDate <span class="token operator">=</span> new GregorianCalendar<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		currentDate.add<span class="token punctuation">(</span>GregorianCalendar.DATE, mondayPlus<span class="token punctuation">)</span><span class="token punctuation">;</span>
		currentDate.set<span class="token punctuation">(</span>Calendar.HOUR, <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		currentDate.set<span class="token punctuation">(</span>Calendar.MINUTE, <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		currentDate.set<span class="token punctuation">(</span>Calendar.SECOND, <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		currentDate.set<span class="token punctuation">(</span>Calendar.MILLISECOND, <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token builtin class-name">return</span> currentDate.getTime<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	// 获得当前周周日的日期
	public static Date <span class="token function-name function">getCurrentSunday</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		int mondayPlus <span class="token operator">=</span> getMondayPlus<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		GregorianCalendar currentDate <span class="token operator">=</span> new GregorianCalendar<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		currentDate.add<span class="token punctuation">(</span>GregorianCalendar.DATE, mondayPlus + <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		currentDate.set<span class="token punctuation">(</span>Calendar.HOUR, <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		currentDate.set<span class="token punctuation">(</span>Calendar.MINUTE, <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		currentDate.set<span class="token punctuation">(</span>Calendar.SECOND, <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		currentDate.set<span class="token punctuation">(</span>Calendar.MILLISECOND, <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token builtin class-name">return</span> currentDate.getTime<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	public static Date asDate<span class="token punctuation">(</span>LocalDate localDate<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token builtin class-name">return</span> Date.from<span class="token punctuation">(</span>localDate.atStartOfDay<span class="token punctuation">(</span><span class="token punctuation">)</span>.atZone<span class="token punctuation">(</span>ZoneId.systemDefault<span class="token punctuation">(</span><span class="token punctuation">))</span>.toInstant<span class="token punctuation">(</span><span class="token punctuation">))</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	public static Date asDate<span class="token punctuation">(</span>LocalDateTime localDateTime<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token builtin class-name">return</span> Date.from<span class="token punctuation">(</span>localDateTime.atZone<span class="token punctuation">(</span>ZoneId.systemDefault<span class="token punctuation">(</span><span class="token punctuation">))</span>.toInstant<span class="token punctuation">(</span><span class="token punctuation">))</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	public static LocalDate asLocalDate<span class="token punctuation">(</span>Date <span class="token function">date</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token builtin class-name">return</span> Instant.ofEpochMilli<span class="token punctuation">(</span>date.getTime<span class="token punctuation">(</span><span class="token punctuation">))</span>.atZone<span class="token punctuation">(</span>ZoneId.systemDefault<span class="token punctuation">(</span><span class="token punctuation">))</span>.toLocalDate<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	public static LocalDateTime asLocalDateTime<span class="token punctuation">(</span>Date <span class="token function">date</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token builtin class-name">return</span> Instant.ofEpochMilli<span class="token punctuation">(</span>date.getTime<span class="token punctuation">(</span><span class="token punctuation">))</span>.atZone<span class="token punctuation">(</span>ZoneId.systemDefault<span class="token punctuation">(</span><span class="token punctuation">))</span>.toLocalDateTime<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	/**
	 * 根据 某年第几天时间
	 * @param count
	 * @param year
	 * @return
	 */
	public static Date getSomeYearTimeByCount<span class="token punctuation">(</span>int count, int year<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		Calendar <span class="token function">cal</span> <span class="token operator">=</span> Calendar.getInstance<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		int nowYear <span class="token operator">=</span> cal.get<span class="token punctuation">(</span>Calendar.YEAR<span class="token punctuation">)</span><span class="token punctuation">;</span>
		Calendar c <span class="token operator">=</span> Calendar.getInstance<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		c.add<span class="token punctuation">(</span>Calendar.YEAR, year - nowYear<span class="token punctuation">)</span><span class="token punctuation">;</span>
		c.set<span class="token punctuation">(</span>Calendar.DAY_OF_YEAR, count<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token builtin class-name">return</span> c.getTime<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	/**
	 * 根据 某年某周的开始时间
	 * @param count
	 * @param year
	 * @return
	 */
	public static Date getSomeWeekStartTimeByCount<span class="token punctuation">(</span>int count, int year<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		Calendar <span class="token function">cal</span> <span class="token operator">=</span> Calendar.getInstance<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		cal.set<span class="token punctuation">(</span>year, <span class="token number">0</span>, <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		int dayOfWeek <span class="token operator">=</span> <span class="token number">7</span> - cal.get<span class="token punctuation">(</span>Calendar.DAY_OF_WEEK<span class="token punctuation">)</span> + <span class="token number">1</span><span class="token punctuation">;</span>
		count <span class="token operator">=</span> count - <span class="token number">2</span><span class="token punctuation">;</span>
		cal.add<span class="token punctuation">(</span>Calendar.DAY_OF_WEEK, count * <span class="token number">7</span> + dayOfWeek<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token builtin class-name">return</span> cal.getTime<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	/**
	 * 根据 某年某周的结束时间
	 * @param count
	 * @param year
	 * @return
	 */
	public static Date getSomeWeekEndTimeByCount<span class="token punctuation">(</span>int count, int year<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		Calendar <span class="token function">cal</span> <span class="token operator">=</span> Calendar.getInstance<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		cal.set<span class="token punctuation">(</span>year, <span class="token number">0</span>, <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		int dayOfWeek <span class="token operator">=</span> <span class="token number">7</span> - cal.get<span class="token punctuation">(</span>Calendar.DAY_OF_WEEK<span class="token punctuation">)</span> + <span class="token number">1</span><span class="token punctuation">;</span>
		count <span class="token operator">=</span> count - <span class="token number">2</span><span class="token punctuation">;</span>
		cal.add<span class="token punctuation">(</span>Calendar.DAY_OF_WEEK, count * <span class="token number">7</span> + dayOfWeek<span class="token punctuation">)</span><span class="token punctuation">;</span>
		cal.add<span class="token punctuation">(</span>Calendar.DAY_OF_YEAR, <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token builtin class-name">return</span> cal.getTime<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f199aba3b1dec7e702e8f9313ddea882/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Revit二次开发——独立进程内读取、写入Revit文件</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/635dbe9eeba188ac3682dce03d64e158/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">nginx 相关命令</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>