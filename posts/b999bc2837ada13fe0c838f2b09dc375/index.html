<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>echarts环形图内接分类名称并且颜色名称颜色跟随变化 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="echarts环形图内接分类名称并且颜色名称颜色跟随变化" />
<meta property="og:description" content="大家首先看一个echarts图，地址：圆环图自定义legend、设置默认选中 - category-work,legend,series-pie饼图,title标题 - makeapie echarts社区图表可视化案例
该图如下所示： 以上是采用echarts4.8.0绘制的，代码如下：
var color = [ &#39;#0CD2E6&#39;, &#39;#3751E6&#39;, &#39;#FFC722&#39;, &#39;#886EFF&#39;, &#39;#008DEC&#39;, &#39;#114C90&#39;, &#39;#00BFA5&#39;, ]; var title = &#39;自定义legend、默认选中&#39;; var legend = [ &#39;A需求类型&#39;, &#39;B需求类型&#39;, &#39;C需求类型&#39;, &#39;D需求类型&#39;, &#39;E需求类型&#39;, &#39;其他&#39; ]; var seriesData = [ { &#34;name&#34;: &#34;A需求类型&#34;, &#34;value&#34;: 30 }, { &#34;name&#34;: &#34;B需求类型&#34;, &#34;value&#34;: 10 }, { &#34;name&#34;: &#34;C需求类型&#34;, &#34;value&#34;: 15 }, { &#34;name&#34;: &#34;D需求类型&#34;, &#34;value&#34;: 23 }, { &#34;name&#34;: &#34;E需求类型&#34;, &#34;value&#34;: 10 }, { &#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/b999bc2837ada13fe0c838f2b09dc375/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-04T14:55:00+08:00" />
<meta property="article:modified_time" content="2024-01-04T14:55:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">echarts环形图内接分类名称并且颜色名称颜色跟随变化</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>大家首先看一个echarts图，地址：<a href="https://www.makeapie.cn/echarts_content/xzpJWdcQCX.html" rel="nofollow" title="圆环图自定义legend、设置默认选中 - category-work,legend,series-pie饼图,title标题 - makeapie echarts社区图表可视化案例">圆环图自定义legend、设置默认选中 - category-work,legend,series-pie饼图,title标题 - makeapie echarts社区图表可视化案例</a></p> 
<p>该图如下所示：<img alt="" height="684" src="https://images2.imgbox.com/17/79/EA8zSTAK_o.png" width="1104"> 以上是采用echarts4.8.0绘制的，代码如下：</p> 
<pre><code>var color = [
    '#0CD2E6',
    '#3751E6',
    '#FFC722',
    '#886EFF',
    '#008DEC',
    '#114C90',
    '#00BFA5',
];

var title = '自定义legend、默认选中';
var legend = [
    'A需求类型',
    'B需求类型',
    'C需求类型',
    'D需求类型',
    'E需求类型',
    '其他'
];

var seriesData = [
    { "name": "A需求类型", "value": 30 },
    { "name": "B需求类型", "value": 10 },
    { "name": "C需求类型", "value": 15 },
    { "name": "D需求类型", "value": 23 },
    { "name": "E需求类型", "value": 10 },
    { "name": "其他", "value": 12 }
]

var option = {
    backgroundColor:'#050e31',
    color: color,
    title: {
        top: 20,
        text: title,
        textStyle: {
            fontSize: 20,
            color: '#DDEEFF',
        },
    },
    grid: {
        top: '15%',
        left: 0,
        right: '1%',
        bottom: 5,
        containLabel: true,
    },
    legend: {
        orient: 'vertical',
        top: 'center',
        right: 50,
        textStyle: {
            align: 'left',
            verticalAlign: 'middle',
            rich: {
                name: {
                    color: 'rgba(255,255,255,0.5)',
                    fontSize: 10,
                },
                value: {
                    color: 'rgba(255,255,255,0.5)',
                    fontSize: 10,
                },
                rate: {
                    color: 'rgba(255,255,255,0.9)',
                    fontSize: 10,
                },
            },
        },
        data: legend,
        formatter: (name) =&gt; {
            if (seriesData.length) {
                const item = seriesData.filter((item) =&gt; item.name === name)[0];
                return `{name|${name}：}{value| ${item.value}} {rate| ${item.value}%}`;
            }
        },
    },
    series: [{
        name: '需求类型占比',
        type: 'pie',
        center: ['50%', '50%'],
        radius: ['45%', '65%'],
        label: {
            normal: {
                show: false,
                position: 'center',
                formatter: '{value|{c}}\n{label|{b}}',
                rich: {
                    value: {
                        padding: 5,
                        align: 'center',
                        verticalAlign: 'middle',
                        fontSize: 32,
                    },
                    label: {
                        align: 'center',
                        verticalAlign: 'middle',
                        fontSize: 16,
                    },
                },
            },
            emphasis: {
                show: true,
                textStyle: {
                    fontSize: '12',
                },
            },
        },
        labelLine: {
            show: false,
            length: 0,
            length2: 0,
        },
        data: seriesData,
    }],
};

myChart.setOption(option);

getDefaultSelected(myChart)

function getDefaultSelected(myChart) {
    let index = 0;
    myChart.dispatchAction({
      type: 'highlight',
      seriesIndex: 0,
      dataIndex: 0,
    });
    myChart.on('mouseover', (e) =&gt; {
      if (e.dataIndex !== index) {
        myChart.dispatchAction({
          type: 'downplay',
          seriesIndex: 0,
          dataIndex: index,
        });
      }
    });
    myChart.on('mouseout', (e) =&gt; {
      index = e.dataIndex;
      myChart.dispatchAction({
        type: 'highlight',
        seriesIndex: 0,
        dataIndex: e.dataIndex,
      });
    });
}

</code></pre> 
<p>但是，如果升级echarts的版本到5.0.0或者以上，仍采用上述代码绘制，那么中间的文字将不再有颜色，如下：<img alt="" height="761" src="https://images2.imgbox.com/46/5b/Eea51Ay6_o.png" width="1101"></p> 
<p>怎样才能绘制4.8.0时的样式呢？</p> 
<p>按照如下方式即可：</p> 
<pre><code>//将上述代码中的emphasis处的代码改为如下
emphasis: {
                show: true,
                textStyle: {
                    fontSize: '12',
                    //添加如下代码
                    color:function(params){
                    }
                },
            },</code></pre> 
<p></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ec5270651d54a0401f1482c76da783b3/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">uni-ui 版本升级提示做个记录</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/148d1bca4148ca770033f01d17a73413/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Jmeter 性能压测 —— 常见问题</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>