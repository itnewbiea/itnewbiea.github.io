<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>三星研究院上机题（Optimal Path） - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="三星研究院上机题（Optimal Path）" />
<meta property="og:description" content="Mr. Kim has to deliver refrigerators to N customers. From the office, he is going to visit all the customers and then return to his home. Each location of the office, his home, and the customers is given in the form of integer coordinates (x,y) (0≤x≤100, 0≤y≤100) . The distance between two arbitrary locations (x1, y1) and (x2, y2) is computed by |x1-x2| &#43; |y1-y2|, where |x| denotes the absolute value of x; for instance, |3|=|-3|=3." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/60074d1ed93b20d52d1c93b861a23928/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-03-04T14:50:35+08:00" />
<meta property="article:modified_time" content="2019-03-04T14:50:35+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">三星研究院上机题（Optimal Path）</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p style="margin-left:0cm;"><span style="color:#000000;">Mr. Kim has to deliver refrigerators to N customers. From the office, he is going to visit all the customers and then return to his home. Each location of the office, his home, and the customers is given in the form of integer coordinates (x,y) (0</span><span style="color:#000000;">≤</span><span style="color:#000000;">x</span><span style="color:#000000;">≤</span><span style="color:#000000;">100, 0</span><span style="color:#000000;">≤</span><span style="color:#000000;">y</span><span style="color:#000000;">≤</span><span style="color:#000000;">100) . The distance between two arbitrary locations (x1, y1) and (x2, y2) is computed by |x1-x2| + |y1-y2|, where |x| denotes the absolute value of x; for instance, |3|=|-3|=3. The locations of the office, his home, and the customers are all distinct. You should plan an optimal way to visit all the N customers and return to his among all the possibilities.</span></p> 
<p style="margin-left:0cm;"><span style="color:#000000;">You are given the locations of the office, Mr. Kim</span><span style="color:#000000;">’</span><span style="color:#000000;">s home, and the customers; the number of the customers is in the range of 5 to 10. Write a program that, starting at the office, finds a (the) shortest path <u>visiting all the customers</u></span> <span style="color:#000000;">and returning to his home. Your program only have to report the distance of a (the) shortest path. </span></p> 
<p style="margin-left:0cm;"><span style="color:#000000;">You don</span><span style="color:#000000;">’t have to solve this problem efficiently. You could find an answer by looking up all the possible ways. If you can look up all the possibilities well, you will get a perfect score.</span></p> 
<p style="margin-left:0cm;"><span style="color:#000000;">[Constraints]</span></p> 
<p style="margin-left:0cm;"><span style="color:#000000;">5</span><span style="color:#000000;">≤</span><span style="color:#000000;">N</span><span style="color:#000000;">≤</span><span style="color:#000000;">10. Each location (x,y) is in a bounded grid, 0</span><span style="color:#000000;">≤</span><span style="color:#000000;">x</span><span style="color:#000000;">≤</span><span style="color:#000000;">100, 0</span><span style="color:#000000;">≤</span><span style="color:#000000;">y</span><span style="color:#000000;">≤</span><span style="color:#000000;">100</span><span style="color:#000000;">, and x, y are </span><strong><span style="color:#f33b45;">integers</span></strong><span style="color:#000000;">.</span></p> 
<p style="margin-left:0cm;"><span style="color:#000000;">[Input]</span></p> 
<p style="margin-left:0cm;"><span style="color:#000000;">You are given 10 test cases. Each test case consists of two lines; the first line has N, the number of the customers, and the following line enumerates the locations of the office, Mr. Kim</span><span style="color:#000000;">’s home, and the customers in sequence. Each location consists of the coordinates (x,y), which is reprensented by ‘x y’.</span></p> 
<p style="margin-left:0cm;"><span style="color:#000000;">[Output]</span></p> 
<p style="margin-left:0cm;"><span style="color:#000000;">Output the 10 answers in 10 lines. Each line outputs the distance of a (the) shortest path. Each line looks like </span><span style="color:#000000;">‘#x answer’ where x is the index of a test case. ‘#x’ and ‘answer’ are separated by a space.</span></p> 
<p style="margin-left:0cm;"><span style="color:#000000;">[I/O Example]</span></p> 
<p style="margin-left:0cm;"><span style="color:#000000;">Input (20 lines in total. In the first test case, the locations of the office and the home are (0, 0) and (100, 100) respectively, and the locations of the customers are (70, 40), (30, 10), (10, 5), (90, 70), (50, 20).)</span></p> 
<table border="1" cellspacing="0"><tbody><tr><td style="border-color:#000000;vertical-align:top;width:419.55pt;"> <p style="margin-left:0cm;"><span style="color:#000000;">5 </span><span style="color:#000000;">←</span> <span style="color:#000000;">Starting test case #1</span></p> <p style="margin-left:0cm;"><span style="color:#000000;">0 0 100 100 70 40 30 10 10 5 90 70 50 20</span></p> <p style="margin-left:0cm;"><span style="color:#000000;">6 </span><span style="color:#000000;">←</span> <span style="color:#000000;">Starting test case #2</span></p> <p style="margin-left:0cm;"><span style="color:#000000;">88 81 85 80 19 22 31 15 27 29 30 10 20 26 5 14</span></p> <p style="margin-left:0cm;"><span style="color:#000000;">10 </span><span style="color:#000000;">←</span> <span style="color:#000000;">Starting test case #3</span></p> <p style="margin-left:0cm;"><span style="color:#000000;">39 9 97 61 35 93 62 64 96 39 36 36 9 59 59 96 61 7 64 43 43 58 1 36</span></p> <p style="margin-left:0cm;"><span style="color:#000000;">... </span></p> </td></tr></tbody></table> 
<p style="margin-left:0cm;"><span style="color:#000000;">Output (10 lines in total)</span></p> 
<table border="1" cellspacing="0"><tbody><tr><td style="border-color:#000000;vertical-align:top;width:419.55pt;"> <p style="margin-left:0cm;"><span style="color:#000000;">#1 200</span></p> <p style="margin-left:0cm;"><span style="color:#000000;">#2 304</span></p> <p style="margin-left:0cm;"><span style="color:#000000;">#3 366</span></p> <p style="margin-left:0cm;"><span style="color:#000000;">...</span></p> </td></tr></tbody></table> 
<p style="margin-left:0cm;">思路：经典题目，TSP旅行商问题（旅行问题，是从一个点出发，访问所有点之后，再回到出发点，每个点只能访问一次）。</p> 
<p style="margin-left:0cm;">①本题规定了出发点和终止点，且每个点也只能访问一次。</p> 
<p style="margin-left:0cm;">②第一行是告诉你有n个点，第二行先给出起始点和终止点的坐标，然后再给出n个点的坐标，这里的计算距离是曼哈顿距离。</p> 
<p style="margin-left:0cm;">③方法一：暴力N！，首先二层for循环，计算出两两之间的距离，然后对输入的n个点进行全排列。（<strong><a href="https://download.csdn.net/download/hqh131360239/10992954">源码及数据下载</a></strong>）</p> 
<pre class="has"><code>#include&lt;stdio.h&gt;
#include&lt;iostream&gt;
using namespace std;
int T,n;
int a[15][2];
int Map[15][15];
int sum;
void Swap(int s[],int i,int j){
    //这样报错，很奇怪(若i和j相等时，则报错，指向同一个地址)
    //s[i]=s[i]+s[j];
    //s[j]=s[i]-s[j];
    //s[i]=s[i]-s[j];
    int x=s[i];
    s[i]=s[j];
    s[j]=x;
}
void operate(int s[],int i){
    if(i&gt;n) return;
    if(i==n){
        //printf("ac\n");
        int ans=0;
        int Start=0;
        for(int i=1;i&lt;=n;i++){
            ans+=Map[Start][s[i]];
            Start=s[i];
        }
        ans+=Map[Start][n+1];
        if(ans&lt;sum) sum=ans;

    }else{
        for(int j=i;j&lt;=n;j++){
            Swap(s,i,j);
            operate(s,i+1);
            Swap(s,j,i);
        }
    }
}
int main(){
    //freopen("1.txt","r",stdin);
    //freopen("2.txt","w",stdout);
    scanf("%d",&amp;T);
    while(T--){
        scanf("%d",&amp;n);
        //起始点
        scanf("%d%d",&amp;a[0][0],&amp;a[0][1]);
        //终止点
        scanf("%d%d",&amp;a[n+1][0],&amp;a[n+1][1]);
        for(int i=1;i&lt;=n;i++){
            scanf("%d%d",&amp;a[i][0],&amp;a[i][1]);
        }
        for(int i=0;i&lt;n+2;i++){
            for(int j=0;j&lt;n+2;j++){
                //两点之间：曼哈顿距离
                int dx=(a[j][0]-a[i][0])&gt;0?(a[j][0]-a[i][0]):(a[i][0]-a[j][0]);
                int dy=(a[j][1]-a[i][1])&gt;0?(a[j][1]-a[i][1]):(a[i][1]-a[j][1]);
                Map[i][j]=Map[j][i]=dx+dy;
            }
        }
        int sequence[15]={0,1,2,3,4,5,6,7,8,9,10,11,12,13,14};
        //全排列
        sum=99999999;
        operate(sequence,1);
        printf("%d\n",sum);
    }
    return 0;
}</code></pre> 
<p>④方法二：TSP之动态规划</p> 
<p>可以用搜索，搜索必然超时，网上查一查可以用——记忆化搜索，记忆化搜索能做的动规就能做，写递归太麻烦了于是动规！题目中起点终点确定，我们可以考虑用一个二维dp数组来保存一个状态——<span style="color:#f33b45;"><strong>dp[i]{V}表示从结点0到结点 i 途经V中所有节点的最短路径长</strong></span>（这里的V是一个集合）,若V是最大值，这表示从0开始，访问完所有节点，最后以i节点结束。</p> 
<p>于是状态转移方程可以为：dp[i]{V}=min( dp[i]{V} , dist[i][j]+dp[j]{V-{j}} )　　（j 属于 V）</p> 
<p>大思路定好了，我们来考虑细节部分，主要有以下部分：</p> 
<p>1）建图等等：构建Map；</p> 
<p>2）集合V的表示：二进制数，即010表示三个数的集合第二个有，其余无；</p> 
<p>3）这里在dp时，起始节点和终止节点都单独处理；想一想如何修改成经典的tsp问题。只需要n+1，最后遍历时</p> 
<p>ans=min(ans,dp[i][cnt-1]+Map[i][0])</p> 
<pre class="has"><code>#include&lt;stdio.h&gt;
#include&lt;iostream&gt;
#include&lt;algorithm&gt;
using namespace std;
int T,n;
int a[15][2];
int Map[15][15];
int dp[15][1&lt;&lt;10];
/**
1&lt;&lt;0  1   1
1&lt;&lt;1  2   10
1&lt;&lt;2  4   100
1&lt;&lt;3  8   1000
*/
int main(){
    freopen("1.txt","r",stdin);
    freopen("2.txt","w",stdout);
    scanf("%d",&amp;T);
    while(T--){
        scanf("%d",&amp;n);
        scanf("%d%d",&amp;a[0][0],&amp;a[0][1]);
        scanf("%d%d",&amp;a[n+1][0],&amp;a[n+1][1]);
        for(int i=1;i&lt;=n;i++){
            scanf("%d%d",&amp;a[i][0],&amp;a[i][1]);
        }
        for(int i=0;i&lt;n+2;i++){
            for(int j=0;j&lt;n+2;j++){
                //两点之间：曼哈顿距离
                int dx=(a[j][0]-a[i][0])&gt;0?(a[j][0]-a[i][0]):(a[i][0]-a[j][0]);
                int dy=(a[j][1]-a[i][1])&gt;0?(a[j][1]-a[i][1]):(a[i][1]-a[j][1]);
                Map[i][j]=Map[j][i]=dx+dy;
            }
        }
        n=n+2;
        int cnt=1;
        //若n+2是7，这里去掉起始节点
        //2 4 8 16 32    32~100000
        for(int i=2;i&lt;n;i++) cnt&lt;&lt;=1;      //组合数（除起点终点外）
        printf("%d\n",cnt);
        for(int i=0;i&lt;n;i++)   //初始化
        for(int j=0;j&lt;cnt;j++)
            dp[i][j]=99999999;
        for(int i=0;i&lt;n;i++)             //起点确定，定下初始条件
            dp[i][0]=Map[i][0];
        for(int i=1;i&lt;cnt;i++)               //从所有元素考虑起
        for(int j=1;j&lt;n-1;j++){
            for(int k=1;k&lt;n-1;k++){
                if((1&lt;&lt;k-1)&amp;i)        //k is in the set
                    dp[j][i]=min(dp[j][i],Map[j][k]+dp[k][i-(1&lt;&lt;k-1)]); //状态转移方程
            }
        }
        int ans=99999999;
        for(int i=1;i&lt;n;i++)
            ans=min(ans,dp[i][cnt-1]+Map[i][n-1]);

        printf("%d\n",ans);
    }
    return 0;
}</code></pre> 
<p> </p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/feebc63d3855ef613123011d5f8d3aab/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">JS获取radio值</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/9a37d5f5a650d40cde547e114a007354/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Hadoop Hdfs扩容</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>