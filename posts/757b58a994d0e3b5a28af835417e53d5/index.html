<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>windows 安装Docker步骤以及在每一个步骤遇到问题合集 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="windows 安装Docker步骤以及在每一个步骤遇到问题合集" />
<meta property="og:description" content="windows 安装Docker 简述Hyper-V问题一、开启Hyper-V二、下载Docker三、安装Docker四、下载 Linux 内核更新包五、win10开启wsl系统安装linux发行版打开Ubuntu ，显示错误参考的对象类型不支持尝试的操作。安装 Windows 终端（可选） 简单使用docker配置阿里云镜像加速地址验证docker可以正常使用 简述 Hyper-V Hyper-V 是一个虚拟环境，是微软自己的虚拟化技术，也是微软第一个采用Vmware与CitrixXen一样基于hypervisor的虚拟化技术，对windows的支持基本是没有问题的，而根据官方的资料介绍，它甚至可以安装专门为Linux设计的Integrated Components（里面包含磁盘和网络适配器的VMbus驱动）以使Linux虚机也能获得高性能，同样的，和主流的虚拟化技术相似，hyper-v也支持半虚拟化与全虚拟化，但它的半虚拟化仅支持与宿主机相同版本的系统，如果你不喜欢它的图形化界面，那你也可以在Server Core（命令行的windows）上安装hyper-v虚拟化程序，来满足自己的需求。
总而言之，hyper-v虚拟化技术继承了它的缔造者，微软图形化界面方便操作与直观展示的好处，按它的说法，它的虚拟化性能不比业界主流的虚拟化性能差，那就让时间来检验它的真伪吧。
问题一、开启Hyper-V 在windows专业版安装docker时可以在powerShell控制台，以管理员身份运行一下命令
Enable-WindowsOptionalFeature -Online -FeatureName Microsoft-Hyper-V -All 专业版在运行以上命令后可以完成开启。但家庭版和学生版开启时会报错(即使是管理员模式下也没用)
enable-windowsoptionalfeature : 功能名称 microsoft-hyper-v 未知。
解决方法：
新建文本文件
pushd &#34;%~dp0&#34; dir /b %SystemRoot%\servicing\Packages\*Hyper-V*.mum &gt;hyper-v.txt for /f %%i in (&#39;findstr /i . hyper-v.txt 2^&gt;nul&#39;) do dism /online /norestart /add-package:&#34;%SystemRoot%\servicing\Packages\%%i&#34; del hyper-v.txt Dism /online /enable-feature /featurename:Microsoft-Hyper-V-All /LimitAccess /ALL 编辑完保存后将文件后缀改为.cmd，建议用因为命名文件名比如：Hyper-V
保存完成后双击运行当前文件。文件执行完成后会在命令行提示重启电脑，在命令行输入y后电脑将自动重启。(下图为运行截图)
运行结束之后
重启之后打开程序面板-&gt;选择程序-&gt;启用或关闭window功能。之后就可以看到配置成功了。
二、下载Docker 首先给出官网的安装地址：官网链接
进去之后点击下面进行下载即可。
三、安装Docker 进入安装后保持默认已勾选选项点击继续
安装完成后点击关闭按钮电脑将进行重启。(如下图所示)" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/757b58a994d0e3b5a28af835417e53d5/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-09-30T15:45:55+08:00" />
<meta property="article:modified_time" content="2022-09-30T15:45:55+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">windows 安装Docker步骤以及在每一个步骤遇到问题合集</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>windows 安装Docker</h4> 
 <ul><li><a href="#_2" rel="nofollow">简述</a></li><li><a href="#HyperV_3" rel="nofollow">Hyper-V</a></li><li><a href="#HyperV_7" rel="nofollow">问题一、开启Hyper-V</a></li><li><a href="#Docker_40" rel="nofollow">二、下载Docker</a></li><li><a href="#Docker_45" rel="nofollow">三、安装Docker</a></li><li><a href="#_Linux__52" rel="nofollow">四、下载 Linux 内核更新包</a></li><li><a href="#win10wsl_67" rel="nofollow">五、win10开启wsl系统</a></li><li><ul><li><a href="#linux_73" rel="nofollow">安装linux发行版</a></li><li><a href="#Ubuntu__82" rel="nofollow">打开Ubuntu ，显示错误参考的对象类型不支持尝试的操作。</a></li><li><a href="#_Windows__101" rel="nofollow">安装 Windows 终端（可选）</a></li></ul> 
  </li><li><a href="#docker_111" rel="nofollow">简单使用docker</a></li><li><ul><li><a href="#_116" rel="nofollow">配置阿里云镜像加速地址</a></li><li><a href="#docker_130" rel="nofollow">验证docker可以正常使用</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="_2"></a>简述</h2> 
<h2><a id="HyperV_3"></a>Hyper-V</h2> 
<p>Hyper-V 是一个虚拟环境，是微软自己的虚拟化技术，也是微软第一个采用Vmware与CitrixXen一样基于hypervisor的虚拟化技术，对windows的支持基本是没有问题的，而根据官方的资料介绍，它甚至可以安装专门为Linux设计的Integrated Components（里面包含磁盘和网络适配器的VMbus驱动）以使Linux虚机也能获得高性能，同样的，和主流的虚拟化技术相似，hyper-v也支持半虚拟化与全虚拟化，但它的半虚拟化仅支持与宿主机相同版本的系统，如果你不喜欢它的图形化界面，那你也可以在Server Core（命令行的windows）上安装hyper-v虚拟化程序，来满足自己的需求。<br> 总而言之，hyper-v虚拟化技术继承了它的缔造者，微软图形化界面方便操作与直观展示的好处，按它的说法，它的虚拟化性能不比业界主流的虚拟化性能差，那就让时间来检验它的真伪吧。</p> 
<h2><a id="HyperV_7"></a>问题一、开启Hyper-V</h2> 
<p>在windows专业版安装docker时可以在powerShell控制台，以管理员身份运行一下命令</p> 
<pre><code class="prism language-c">Enable<span class="token operator">-</span>WindowsOptionalFeature <span class="token operator">-</span>Online <span class="token operator">-</span>FeatureName Microsoft<span class="token operator">-</span>Hyper<span class="token operator">-</span>V <span class="token operator">-</span>All
</code></pre> 
<p>专业版在运行以上命令后可以完成开启。但家庭版和学生版开启时会报错(即使是管理员模式下也没用)</p> 
<p>enable-windowsoptionalfeature : 功能名称 microsoft-hyper-v 未知。</p> 
<p>解决方法：<br> 新建文本文件</p> 
<pre><code class="prism language-cpp">pushd <span class="token string">"%~dp0"</span>
dir <span class="token operator">/</span>b <span class="token operator">%</span>SystemRoot<span class="token operator">%</span>\servicing\Packages\<span class="token operator">*</span>Hyper<span class="token operator">-</span>V<span class="token operator">*</span><span class="token punctuation">.</span>mum <span class="token operator">&gt;</span>hyper<span class="token operator">-</span>v<span class="token punctuation">.</span>txt
<span class="token keyword">for</span> <span class="token operator">/</span>f <span class="token operator">%</span><span class="token operator">%</span>i <span class="token function">in</span> <span class="token punctuation">(</span><span class="token char">'findstr /i . hyper-v.txt 2^&gt;nul'</span><span class="token punctuation">)</span> <span class="token keyword">do</span> dism <span class="token operator">/</span>online <span class="token operator">/</span>norestart <span class="token operator">/</span>add<span class="token operator">-</span>package<span class="token operator">:</span><span class="token string">"%SystemRoot%\servicing\Packages\%%i"</span>
del hyper<span class="token operator">-</span>v<span class="token punctuation">.</span>txt
Dism <span class="token operator">/</span>online <span class="token operator">/</span>enable<span class="token operator">-</span>feature <span class="token operator">/</span>featurename<span class="token operator">:</span>Microsoft<span class="token operator">-</span>Hyper<span class="token operator">-</span>V<span class="token operator">-</span>All <span class="token operator">/</span>LimitAccess <span class="token operator">/</span>ALL
</code></pre> 
<p>编辑完保存后将文件后缀改为.cmd，建议用因为命名文件名比如：Hyper-V<br> <img src="https://images2.imgbox.com/30/0a/Z3ND024T_o.png" alt="在这里插入图片描述"></p> 
<p>保存完成后双击运行当前文件。文件执行完成后会在命令行提示重启电脑，在命令行输入y后电脑将自动重启。(下图为运行截图)</p> 
<p><img src="https://images2.imgbox.com/f4/89/3FZUdcAZ_o.png" alt="在这里插入图片描述"><br> 运行结束之后<br> <img src="https://images2.imgbox.com/29/14/R3kTEqjb_o.png" alt="在这里插入图片描述"><br> 重启之后打开程序面板-&gt;选择程序-&gt;启用或关闭window功能。之后就可以看到配置成功了。<br> <img src="https://images2.imgbox.com/79/d9/7upyYVfX_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="Docker_40"></a>二、下载Docker</h2> 
<p>首先给出官网的安装地址：<a href="https://docs.docker.com/desktop/install/windows-install/" rel="nofollow">官网链接</a><br> 进去之后点击下面进行下载即可。<br> <img src="https://images2.imgbox.com/63/28/Ahz51yPP_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="Docker_45"></a>三、安装Docker</h2> 
<ol><li> <p>进入安装后保持默认已勾选选项点击继续</p> </li><li> <p>安装完成后点击关闭按钮电脑将进行重启。(如下图所示)<br> <img src="https://images2.imgbox.com/29/49/ULvok8Up_o.png" alt="在这里插入图片描述"></p> </li><li> <p>重启之后，我们启动docker desktop 会弹出如下弹窗。<img src="https://images2.imgbox.com/82/1b/gJOm72BJ_o.png" alt="在这里插入图片描述"></p> </li></ol> 
<h2><a id="_Linux__52"></a>四、下载 Linux 内核更新包</h2> 
<p>官网下载链接: <a href="https://learn.microsoft.com/zh-cn/windows/wsl/install-manual#step-4---download-the-linux-kernel-update-package" rel="nofollow">Linux内核</a></p> 
<p><img src="https://images2.imgbox.com/1e/76/GdWmMtDA_o.png" alt="在这里插入图片描述"><br> 下载之后，运行，默认下去就可以了。运行成功如下，这个时候先不要点击finish。<br> 打开 PowerShell，然后在安装新的 Linux 发行版时运行以下命令，将 WSL 2 设置为默认版本：</p> 
<pre><code class="prism language-c">wsl <span class="token operator">--</span>set<span class="token operator">-</span><span class="token keyword">default</span><span class="token operator">-</span>version <span class="token number">2</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/a2/f8/tLMf9goJ_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/1b/8a/7U1wDGO6_o.png" alt="在这里插入图片描述"><br> 完成这步之后，我们点击上边弹窗的restart，大概率等一会报错（如下图）。因此我们需要第五步。<br> <img src="https://images2.imgbox.com/4d/f7/ZmHIoCHV_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="win10wsl_67"></a>五、win10开启wsl系统</h2> 
<ol><li>wsl ，全称为Windows Subsystem for Linux。是适用于Linux的Windows子系统。</li><li>适用于 Linux 的 Windows 子系统随 Windows 操作系统一起提供，但必须先启用它并安装 Linux 发行版，然后才能开始使用它。</li><li></ol> 
<h3><a id="linux_73"></a>安装linux发行版</h3> 
<p>在微软商店搜索wsl，这里面版本最全的当属ubuntu。<br> <img src="https://images2.imgbox.com/32/06/yD7slBmf_o.png" alt="在这里插入图片描述"></p> 
<p>首次启动新安装的 Linux 分发版(ubuntu)时，将打开一个控制台窗口，系统会要求你等待一分钟或两分钟，以便文件解压缩并存储到电脑上。 未来的所有启动时间应不到一秒。然后，需要为新的 Linux 分发版创建用户帐户和密码。<br> <img src="https://images2.imgbox.com/5d/55/COYQTwge_o.png" alt="在这里插入图片描述"><br> 这一步之后，我们就已成功安装并设置了与 Windows 操作系统完全集成的 Linux 分发！</p> 
<h3><a id="Ubuntu__82"></a>打开Ubuntu ，显示错误参考的对象类型不支持尝试的操作。</h3> 
<p>wsl在使用是会出现“参考的对象类型不支持尝试的操作”的故障导致无法使用。</p> 
<p>出现上述问题原因是使用代理软件，或游戏加速服务，winsock出现问题。</p> 
<p>使用NoLsp.exe 解决wsl “参考的对象类型不支持尝试的操作” 的问题。<br> 软件云盘链接如下：<code>https://www.aliyundrive.com/s/Vw92Y6AerGm</code> ， 提取码: 09zy<br> 下载后，重命名为nolsp.exe即可。</p> 
<ul><li>拿到nolsp.exe后，放C盘，右键开始菜单打开powershell（管理员）执行命令：</li></ul> 
<p>.\nolsp.exe C:\WINDOWS\system32\wsl.exe<br> <img src="https://images2.imgbox.com/f1/2c/QP5Yk6h6_o.png" alt="在这里插入图片描述"></p> 
<ul><li>c盘指的位置是打开powershell 后前边的路径，放在该目录下<br> <img src="https://images2.imgbox.com/bf/fa/M8SPhUjt_o.png" alt="在这里插入图片描述"></li><li>可以使用 <code> wsl -l -v//检查正在运行的 WSL 版本</code> 来查看运行情况，如果是2表示运行正常。<img src="https://images2.imgbox.com/5b/5c/ZbmrmLVU_o.png" alt="在这里插入图片描述"></li></ul> 
<h3><a id="_Windows__101"></a>安装 Windows 终端（可选）</h3> 
<p>Windows Terminal 可以使用命令行接口运行任何应用程序。 它的主要功能包括多个选项卡、窗格、Unicode 和 UTF-8 字符支持、GPU 加速文本呈现引擎，你还可用它来创建你自己的主题并自定义文本、颜色、背景和快捷方式。</p> 
<p>每当安装新的 WSL Linux 发行版时，都会在 Windows Terminal 中为其创建一个新实例，该实例可根据你的偏好进行自定义。</p> 
<p>建议将 WSL 与 Windows Terminal 配合使用，尤其是在计划使用多个命令行时。</p> 
<ol><li>安装方式和上面wsl的安装一样，都是在微软商店里进行安装，搜索 windows Terminal <img src="https://images2.imgbox.com/5c/66/AgvfiAP0_o.png" alt="在这里插入图片描述"></li><li>安装成功之后，使用教程留到后边的博客了。<img src="https://images2.imgbox.com/da/2a/i42Wy71w_o.png" alt="在这里插入图片描述"></li></ol> 
<h2><a id="docker_111"></a>简单使用docker</h2> 
<p>完成上述流程后，我们重新启动docker，界面类似如下，我们先点击矩形框所在位置注册账户。<br> <img src="https://images2.imgbox.com/a6/25/J7FEvfW4_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_116"></a>配置阿里云镜像加速地址</h3> 
<ol><li> <p>登录阿里云官网，找到容器镜像服务。链接: <a href="https://www.aliyun.com/search?scene=all&amp;k=%E5%AE%B9%E5%99%A8%E9%95%9C%E5%83%8F%E6%9C%8D%E5%8A%A1" rel="nofollow">容器镜像服务</a></p> </li><li> <p>开通。开通之前我们需要先注册登录。开通是免费的。<img src="https://images2.imgbox.com/7b/4d/ujqw5fAm_o.png" alt="在这里插入图片描述"></p> </li><li> <p>选择镜像工具中的加速器，之后将下图所示的部分复制，<img src="https://images2.imgbox.com/ad/c2/8K5kceAs_o.png" alt="在这里插入图片描述"></p> </li><li> <p>选择docker主界面的设置，将刚才复制的粘贴进来。之后确认应用。<img src="https://images2.imgbox.com/0f/23/v0Zx7RY4_o.png" alt="在这里插入图片描述"></p> </li></ol> 
<p><img src="https://images2.imgbox.com/26/19/W335NoiC_o.png" alt="在这里插入图片描述"></p> 
<ol start="5"><li>打开CMD窗口，查看docker信息，安装完成。<code>docker info</code><br> <img src="https://images2.imgbox.com/81/e7/tz1Wxnpo_o.png" alt="在这里插入图片描述"></li></ol> 
<h3><a id="docker_130"></a>验证docker可以正常使用</h3> 
<ol><li>打开刚才下载的windows Terminal运行以下命令。在界面中选择Ubuntu端。<br> <img src="https://images2.imgbox.com/da/5c/HwKeSOnH_o.png" alt="在这里插入图片描述"></li><li>运行<code>docker run hello-world</code><img src="https://images2.imgbox.com/d3/60/3c0q9Iyb_o.png" alt="在这里插入图片描述"></li><li>查看Docker Desktop中是否存在hello-world镜像是否拉取成功：<br> <img src="https://images2.imgbox.com/1f/cb/sxlO7iyj_o.png" alt="在这里插入图片描述"></li></ol> 
<p>参考</p> 
<ul><li><a href="https://blog.csdn.net/m0_46114541/article/details/121555899?ops_request_misc=&amp;request_id=&amp;biz_id=102&amp;utm_term=Enable-WindowsOptionalFeature%20&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduweb~default-0-121555899.nonecase&amp;spm=1018.2226.3001.4187">windows家庭版安装docker</a></li><li><a href="https://blog.csdn.net/qq_56688614/article/details/125064815?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522166451223716782391834855%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&amp;request_id=166451223716782391834855&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_click~default-1-125064815-null-null.142%5Ev51%5Eopensearch_v2,201%5Ev3%5Econtrol&amp;utm_term=windows%20%E5%AE%89%E8%A3%85Docker&amp;spm=1018.2226.3001.4187">Docker的安装（基于windows的安装）</a></li><li><a href="https://blog.csdn.net/qq_28421553/article/details/119915116?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522166451866716782395355617%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&amp;request_id=166451866716782395355617&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduend~default-1-119915116-null-null.142%5Ev51%5Eopensearch_v2,201%5Ev3%5Econtrol&amp;utm_term=NoLsp.exe&amp;spm=1018.2226.3001.4187">使用nolsp.exe 解决wsl、docker desktop无法启动问题</a></li></ul>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/75a0964054ec8da9844667aab979d5ac/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">EasyNLP 带你实现中英文机器阅读理解</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/2796681c182d449bf382549d48aae79a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">关于 Gojs 你可能用到的方法 / gojs自定义</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>