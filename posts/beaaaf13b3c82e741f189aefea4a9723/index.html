<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>火爆全网，HttpRunner自动化测试框架-parameters参数化（超细整理） - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="火爆全网，HttpRunner自动化测试框架-parameters参数化（超细整理）" />
<meta property="og:description" content="目录：导读 前言一、Python编程入门到精通二、接口自动化项目实战三、Web自动化项目实战四、App自动化项目实战五、一线大厂简历六、测试开发DevOps体系七、常用自动化测试工具八、JMeter性能测试九、总结（尾部小惊喜） 前言 在使用HttpRunner测试过程中，可能会遇到这种场景：
账号登录功能，需要输入用户名和密码，设计测试用例后有 N 种组合情况
如果测试组合比较少，比如只有2个，那我们直接在YAML脚本中写2个 test 就行了，但如果测试组合有10个，或者上百个，我们总不可能写10个，甚至100个 test 吧？
因此，在这里我们就需要用到参数化。在HttpRunner中，通过关键字 parameters 来实现参数化数据驱动机制，不管有多少测试组合，我们只需写1个 test 就行了。
测试场景
如果不使用 parameters 来进行参数化，那么我们的用例可能就是这样的：
- config: name: login test request: base_url: http://api.nnzhp.cn - test: name: login case 1 request: url: /api/user/login method: POST headers: Content-Type: application/x-www-form-urlencoded User-Agent: Fiddler data: username: test1010 passwd: aA123456 validate: - eq: [status_code, 200] - eq: [content.error_code, 0] # 省略很多个 test - test: name: login case N request: url: /api/user/login method: POST headers: Content-Type: application/x-www-form-urlencoded User-Agent: Fiddler data: username: test101012 passwd: aA123456 validate: - eq: [status_code, 200] - eq: [content." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/beaaaf13b3c82e741f189aefea4a9723/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-08-11T14:50:33+08:00" />
<meta property="article:modified_time" content="2023-08-11T14:50:33+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">火爆全网，HttpRunner自动化测试框架-parameters参数化（超细整理）</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>目录：导读</h4> 
 <ul><li><ul><li><a href="#_2" rel="nofollow">前言</a></li><li><a href="#Python_155" rel="nofollow">一、Python编程入门到精通</a></li><li><a href="#_158" rel="nofollow">二、接口自动化项目实战</a></li><li><a href="#Web_161" rel="nofollow">三、Web自动化项目实战</a></li><li><a href="#App_164" rel="nofollow">四、App自动化项目实战</a></li><li><a href="#_167" rel="nofollow">五、一线大厂简历</a></li><li><a href="#DevOps_170" rel="nofollow">六、测试开发DevOps体系</a></li><li><a href="#_173" rel="nofollow">七、常用自动化测试工具</a></li><li><a href="#JMeter_176" rel="nofollow">八、JMeter性能测试</a></li><li><a href="#_179" rel="nofollow">九、总结（尾部小惊喜）</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<hr> 
<h3><a id="_2"></a>前言</h3> 
<p>在使用HttpRunner测试过程中，可能会遇到这种场景：<br> 账号登录功能，需要输入用户名和密码，设计测试用例后有 N 种组合情况</p> 
<p>如果测试组合比较少，比如只有2个，那我们直接在YAML脚本中写2个 test 就行了，但如果测试组合有10个，或者上百个，我们总不可能写10个，甚至100个 test 吧？</p> 
<p>因此，在这里我们就需要用到参数化。在HttpRunner中，通过关键字 parameters 来实现参数化数据驱动机制，不管有多少测试组合，我们只需写1个 test 就行了。</p> 
<p><strong>测试场景</strong></p> 
<p>如果不使用 parameters 来进行参数化，那么我们的用例可能就是这样的：</p> 
<pre><code class="prism language-yaml"><span class="token punctuation">-</span> <span class="token key atrule">config</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> login test
    <span class="token key atrule">request</span><span class="token punctuation">:</span>
      <span class="token key atrule">base_url</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//api.nnzhp.cn

<span class="token punctuation">-</span> <span class="token key atrule">test</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> login case 1
    <span class="token key atrule">request</span><span class="token punctuation">:</span>
      <span class="token key atrule">url</span><span class="token punctuation">:</span> /api/user/login
      <span class="token key atrule">method</span><span class="token punctuation">:</span> POST
      <span class="token key atrule">headers</span><span class="token punctuation">:</span>
        <span class="token key atrule">Content-Type</span><span class="token punctuation">:</span> application/x<span class="token punctuation">-</span>www<span class="token punctuation">-</span>form<span class="token punctuation">-</span>urlencoded
        <span class="token key atrule">User-Agent</span><span class="token punctuation">:</span> Fiddler
      <span class="token key atrule">data</span><span class="token punctuation">:</span>
        <span class="token key atrule">username</span><span class="token punctuation">:</span> test1010
        <span class="token key atrule">passwd</span><span class="token punctuation">:</span> aA123456
    <span class="token key atrule">validate</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">eq</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>status_code<span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">]</span>
      <span class="token punctuation">-</span> <span class="token key atrule">eq</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>content.error_code<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span>

<span class="token comment"># 省略很多个 test</span>

<span class="token punctuation">-</span> <span class="token key atrule">test</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> login case N
    <span class="token key atrule">request</span><span class="token punctuation">:</span>
      <span class="token key atrule">url</span><span class="token punctuation">:</span> /api/user/login
      <span class="token key atrule">method</span><span class="token punctuation">:</span> POST
      <span class="token key atrule">headers</span><span class="token punctuation">:</span>
        <span class="token key atrule">Content-Type</span><span class="token punctuation">:</span> application/x<span class="token punctuation">-</span>www<span class="token punctuation">-</span>form<span class="token punctuation">-</span>urlencoded
        <span class="token key atrule">User-Agent</span><span class="token punctuation">:</span> Fiddler
      <span class="token key atrule">data</span><span class="token punctuation">:</span>
        <span class="token key atrule">username</span><span class="token punctuation">:</span> test101012
        <span class="token key atrule">passwd</span><span class="token punctuation">:</span> aA123456
    <span class="token key atrule">validate</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">eq</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>status_code<span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">]</span>
      <span class="token punctuation">-</span> <span class="token key atrule">eq</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>content.error_code<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span>
</code></pre> 
<p>在上面的用例中，我们可能要写很多的 test ，在这些 test 中，除了 request-data 中 username 和 passwd 的值不一样，其他内容都完全一样。</p> 
<p>当我们使用 parameters 来实现参数化后，我们只要写 1个test 就行了，避免了重复的脚本代码，同时脚本内容也变得更加简洁。</p> 
<p><strong>parameters参数化（一对一）</strong></p> 
<p>关键字 parameters 可以在 config 或 test 中使用，我们只以在 config 中使用 parameters 来进行说明。</p> 
<p>注意：在 HttpRunner 1.5.11 之后的版本中，不再支持在 test 中使用 parameters 。</p> 
<p>我们准备 3 组登录用的数据，其中，第1组和第3组是能正常登录的用户名和密码，第2组是错误的用户名和密码。<br> 使用 parameters 如下：</p> 
<pre><code class="prism language-yaml"><span class="token key atrule">parameters</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">username-passwd</span><span class="token punctuation">:</span>
	  <span class="token punctuation">-</span> <span class="token punctuation">[</span><span class="token string">"niuhanyang"</span><span class="token punctuation">,</span> <span class="token string">"aA123456"</span><span class="token punctuation">]</span> <span class="token comment"># 正确的用户名密码</span>
	  <span class="token punctuation">-</span> <span class="token punctuation">[</span><span class="token string">"test10101"</span><span class="token punctuation">,</span> <span class="token string">"fasdfasfa"</span><span class="token punctuation">]</span> <span class="token comment"># 错误的用户名密码</span>
	  <span class="token punctuation">-</span> <span class="token punctuation">[</span><span class="token string">"test1010"</span><span class="token punctuation">,</span> <span class="token string">"aA123456"</span><span class="token punctuation">]</span> <span class="token comment"># 正确的用户名密码</span>
</code></pre> 
<p>然后，只保留一个 test 即可，并在 request-data 中引入参数，如下：</p> 
<pre><code class="prism language-yaml"><span class="token key atrule">data</span><span class="token punctuation">:</span>
	<span class="token key atrule">username</span><span class="token punctuation">:</span> $username
	<span class="token key atrule">passwd</span><span class="token punctuation">:</span> $passwd
</code></pre> 
<p>完整的YAML用例：</p> 
<pre><code class="prism language-yaml"><span class="token punctuation">-</span> <span class="token key atrule">config</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> parameters test
    <span class="token key atrule">request</span><span class="token punctuation">:</span>
      <span class="token key atrule">base_url</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//api.nnzhp.cn
    <span class="token key atrule">parameters</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">username-passwd</span><span class="token punctuation">:</span>
          <span class="token punctuation">-</span> <span class="token punctuation">[</span><span class="token string">"niuhanyang"</span><span class="token punctuation">,</span> <span class="token string">"aA123456"</span><span class="token punctuation">]</span> <span class="token comment"># 正确的用户名密码</span>
          <span class="token punctuation">-</span> <span class="token punctuation">[</span><span class="token string">"test10101"</span><span class="token punctuation">,</span> <span class="token string">"fasdfasfa"</span><span class="token punctuation">]</span> <span class="token comment"># 错误的用户名密码</span>
          <span class="token punctuation">-</span> <span class="token punctuation">[</span><span class="token string">"test1010"</span><span class="token punctuation">,</span> <span class="token string">"aA123456"</span><span class="token punctuation">]</span> <span class="token comment"># 正确的用户名密码</span>

<span class="token punctuation">-</span> <span class="token key atrule">test</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> login case
    <span class="token key atrule">request</span><span class="token punctuation">:</span>
      <span class="token key atrule">url</span><span class="token punctuation">:</span> /api/user/login
      <span class="token key atrule">method</span><span class="token punctuation">:</span> POST
      <span class="token key atrule">headers</span><span class="token punctuation">:</span>
        <span class="token key atrule">Content-Type</span><span class="token punctuation">:</span> application/x<span class="token punctuation">-</span>www<span class="token punctuation">-</span>form<span class="token punctuation">-</span>urlencoded
        <span class="token key atrule">User-Agent</span><span class="token punctuation">:</span> Fiddler
      <span class="token key atrule">data</span><span class="token punctuation">:</span>
        <span class="token key atrule">username</span><span class="token punctuation">:</span> $username
        <span class="token key atrule">passwd</span><span class="token punctuation">:</span> $passwd
    <span class="token key atrule">validate</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">eq</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>status_code<span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">]</span>
      <span class="token punctuation">-</span> <span class="token key atrule">eq</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>content.error_code<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span>
</code></pre> 
<p>运行用例，然后即可得到测试报告，如下：</p> 
<p><img src="https://images2.imgbox.com/a1/49/jDsEyM5Q_o.png" alt="C1"></p> 
<p><strong>parameters参数化（多对一）</strong></p> 
<p>上面介绍的是用户名和密码一对一的情况，如果是 多对一 或 一对多 关系，比如 3 组登录用的数据中，用户名不一样，但密码都是相同的，这个时候，如果用上面的写法，就不太方便了。</p> 
<p>对于这种情况，我们可以这样写：</p> 
<pre><code class="prism language-yaml"><span class="token key atrule">parameters</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">username</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"niuhanyang"</span><span class="token punctuation">,</span> <span class="token string">"test10101"</span><span class="token punctuation">,</span> <span class="token string">"test1010"</span><span class="token punctuation">]</span>
  <span class="token punctuation">-</span> <span class="token key atrule">passwd</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"aA123456"</span><span class="token punctuation">]</span>
</code></pre> 
<p>只需改动 config 中的 parameters ，其他内容都不需要修改。<br> 运行用例后的报告如下：</p> 
<p><img src="https://images2.imgbox.com/b7/24/P5H8hTnc_o.png" alt="C2"></p> 
<p><strong>parameters参数化（多对多）</strong></p> 
<p>有时候，我们可能存在多对多的测试场景，即笛卡尔积的组合情况。如果有 3 个不同的用户名，2 个不同的密码，对于这种情况，使用笛卡尔积组合，就应该存在 2 * 3 = 6 种测试组合。</p> 
<p>对于这种情况，我们可以这样写：</p> 
<pre><code class="prism language-yaml"><span class="token key atrule">parameters</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">username</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"niuhanyang"</span><span class="token punctuation">,</span> <span class="token string">"test10101"</span><span class="token punctuation">,</span> <span class="token string">"test1010"</span><span class="token punctuation">]</span>
  <span class="token punctuation">-</span> <span class="token key atrule">passwd</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"aA123456"</span><span class="token punctuation">,</span> <span class="token string">"fasdfasfa"</span><span class="token punctuation">]</span>
</code></pre> 
<p>只需改动 config 中的 parameters ，其他内容都不需要修改。<br> 运行用例后的报告如下：</p> 
<p><img src="https://images2.imgbox.com/ee/e0/RSTEOuuf_o.png" alt="C3"></p> 
<table><tbody><tr><td bgcolor="yellow"><font size="4"><b>下面是我整理的2023年最全的软件测试工程师学习知识架构体系图</b></font></td></tr></tbody></table> 
<h3><a id="Python_155"></a>一、Python编程入门到精通</h3> 
<p><img src="https://images2.imgbox.com/7e/c8/mdhonlPW_o.png" alt="请添加图片描述"></p> 
<h3><a id="_158"></a>二、接口自动化项目实战</h3> 
<p><img src="https://images2.imgbox.com/af/4e/ROdZE7F1_o.png" alt="请添加图片描述"></p> 
<h3><a id="Web_161"></a>三、Web自动化项目实战</h3> 
<p><img src="https://images2.imgbox.com/73/3a/S5QhukDu_o.png" alt="请添加图片描述"></p> 
<h3><a id="App_164"></a>四、App自动化项目实战</h3> 
<p><img src="https://images2.imgbox.com/8b/66/8MgFqni5_o.png" alt="请添加图片描述"></p> 
<h3><a id="_167"></a>五、一线大厂简历</h3> 
<p><img src="https://images2.imgbox.com/e6/99/o8wgEVsG_o.png" alt="请添加图片描述"></p> 
<h3><a id="DevOps_170"></a>六、测试开发DevOps体系</h3> 
<p><img src="https://images2.imgbox.com/e5/69/8IBFqu67_o.png" alt="请添加图片描述"></p> 
<h3><a id="_173"></a>七、常用自动化测试工具</h3> 
<p><img src="https://images2.imgbox.com/17/b4/hvPwYcC2_o.png" alt="请添加图片描述"></p> 
<h3><a id="JMeter_176"></a>八、JMeter性能测试</h3> 
<p><img src="https://images2.imgbox.com/a4/e7/lWGpkPrH_o.png" alt="请添加图片描述"></p> 
<h3><a id="_179"></a>九、总结（尾部小惊喜）</h3> 
<p>生活或许曲折艰难，但不要低头妥协。心怀勇气，胸怀梦想，逆风飞翔，追求辉煌。莫失信心，锐意前行，奋斗的脚步，铸就无限可能！</p> 
<p>勇往直前，追求无限可能；不畏艰辛，扬帆破浪前行。梦想是航向成功的指南，奋斗是踏上巅峰的路途。坚持不懈，努力拼搏，每一次努力都是离梦想更近一步的距离！</p> 
<p>无论前方多么曲折崎岖，挑战都是奋斗的契机。坚持热爱，拥抱变化，追求卓越成就。勇敢迈出每一步，用汗水浇灌梦想的花朵，绽放属于自己的辉煌人生！</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/40b889cbad1dfb5d01456fc8e4e7e8fd/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">详细的docker部署nacos</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/748f63f287f8b600dafa157a7db8997d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">MySQL插入中文，提示 SQL 错误 [1366] [HY000]: Incorrect string value: ‘\xE5\xBC\xA0\xE4\xB8\x89‘ for column ‘n</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>