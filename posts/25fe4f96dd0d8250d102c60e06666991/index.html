<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>今日前端小知识——判断数据类型的几种方法 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="今日前端小知识——判断数据类型的几种方法" />
<meta property="og:description" content="判断数据类型的方法 typeofinstanceofconstructorObject.prototype.isPrototypeOf()Object.prototype.toString.call()（最推荐使用）补充知识点：instanceof 与 isPrototypeOf() 的区别 JavaScript 是一种弱类型或者说动态语言，在使用一个变量时无需提前声明变量的类型，在程序运行过程中，类型会被自动确定，这意味着可以使用同一个变量保存不同类型的数据。 JavaScript 中数据类型主要分为两种：基本数据类型和引用数据类型。基本数据类型包括 Number、Boolean、String、undefined、null、Symbol、BigInt，引用数据类型包括 Object、Function、Array、Date、Map、Set 等多种对象。实际开发中拿到一个数据可能需要先对数据的类型进行判断，这里总结了几种常用的方法以及对应的优缺点。 typeof typeof 操作符返回一个字符串，表示未经计算的操作数的类型。语法如下。
typeof operand / typeof(operand)
typeof 能判断出以下 8 种类型：Number、Boolean、String、undefined、Symbol、BigInt、Object、Function。需要注意的几点：
typeof null === ‘object’typeof NaN === ‘number’ 在 JavaScript 最初的实现中，JavaScript 中的值是由一个表示类型的标签和实际数据值表示的。对象的类型标签是 0。由于 null 代表的是空指针（大多数平台下值为 0x00），null 的类型标签是 0，typeof null 也因此返回 “object”。
typeof(1);	// number typeof(1.3);	// number typeof(NaN);	// number typeof(true);	// boolean typeof(&#39;&#39;);	// string typeof(&#39;hi&#39;);	// string typeof(`hhh`);	// string // 已声明但未赋值的变量 let one; typeof(one);	// undefined // 未声明的变量 typeof(none);	// undefined typeof(undefined);	// undefined typeof(13n);	// bigint typeof(Symbol(13)); // symbol let obj = { name: &#39;ostuthere&#39; } typeof(obj);	// object let nowTime = new Date(); typeof(nowTime);	// object let arr = [1, 2, 3]; typeof(arr);	// object typeof(null);	// object let func1 = function(){ console." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/25fe4f96dd0d8250d102c60e06666991/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-05-29T14:23:10+08:00" />
<meta property="article:modified_time" content="2023-05-29T14:23:10+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">今日前端小知识——判断数据类型的几种方法</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night-eighties">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>判断数据类型的方法</h4> 
 <ul><li><a href="#typeof_3" rel="nofollow">typeof</a></li><li><a href="#instanceof_58" rel="nofollow">instanceof</a></li><li><a href="#constructor_114" rel="nofollow">constructor</a></li><li><a href="#ObjectprototypeisPrototypeOf_144" rel="nofollow">Object.prototype.isPrototypeOf()</a></li><li><a href="#ObjectprototypetoStringcall_165" rel="nofollow">Object.prototype.toString.call()（最推荐使用）</a></li><li><a href="#instanceof__isPrototypeOf__192" rel="nofollow">补充知识点：instanceof 与 isPrototypeOf() 的区别</a></li></ul> 
</div> 
<br> JavaScript 是一种弱类型或者说动态语言，在使用一个变量时无需提前声明变量的类型，在程序运行过程中，类型会被自动确定，这意味着可以使用同一个变量保存不同类型的数据。 
<br> JavaScript 中数据类型主要分为两种：基本数据类型和引用数据类型。基本数据类型包括 Number、Boolean、String、undefined、null、Symbol、BigInt，引用数据类型包括 Object、Function、Array、Date、Map、Set 等多种对象。实际开发中拿到一个数据可能需要先对数据的类型进行判断，这里总结了几种常用的方法以及对应的优缺点。 
<p></p> 
<h2><a id="typeof_3"></a>typeof</h2> 
<p>typeof 操作符返回一个字符串，表示未经计算的操作数的类型。语法如下。</p> 
<blockquote> 
 <p>typeof operand / typeof(operand)</p> 
</blockquote> 
<p>typeof 能判断出以下 8 种类型：Number、Boolean、String、undefined、Symbol、BigInt、Object、Function。需要注意的几点：</p> 
<blockquote> 
 <ul><li>typeof null === ‘object’</li><li>typeof NaN === ‘number’</li></ul> 
</blockquote> 
<p>在 JavaScript 最初的实现中，JavaScript 中的值是由一个表示类型的标签和实际数据值表示的。对象的类型标签是 0。由于 null 代表的是空指针（大多数平台下值为 0x00），null 的类型标签是 0，typeof null 也因此返回 “object”。</p> 
<pre><code class="prism language-javascript"><span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">// number</span>
<span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token number">1.3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// number</span>
<span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token number">NaN</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// number</span>

<span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// boolean</span>

<span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	    <span class="token comment">// string</span>
<span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token string">'hi'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// string</span>
<span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">hhh</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// string</span>

<span class="token comment">// 已声明但未赋值的变量</span>
<span class="token keyword">let</span> one<span class="token punctuation">;</span>
<span class="token keyword">typeof</span><span class="token punctuation">(</span>one<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// undefined</span>
<span class="token comment">// 未声明的变量</span>
<span class="token keyword">typeof</span><span class="token punctuation">(</span>none<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// undefined</span>
<span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// undefined</span>

<span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token number">13n</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// bigint</span>

<span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token number">13</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  	<span class="token comment">// symbol</span>

<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'ostuthere'</span>
<span class="token punctuation">}</span>
<span class="token keyword">typeof</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// object</span>

<span class="token keyword">let</span> nowTime <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">typeof</span><span class="token punctuation">(</span>nowTime<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// object</span>

<span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">typeof</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// object</span>

<span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// object</span>

<span class="token keyword">let</span> <span class="token function-variable function">func1</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">func2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">typeof</span><span class="token punctuation">(</span>func1<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// function</span>
<span class="token keyword">typeof</span><span class="token punctuation">(</span>func2<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// function</span>
</code></pre> 
<p>优点：除了 null，其它基本数据类型都能准确地判断<br> 缺点：function 之外的其它引用数据类型、基础数据类型 null 以及使用构造函数创建的 Number 、String、Boolean 等都被判断为 object</p> 
<h2><a id="instanceof_58"></a>instanceof</h2> 
<p>instanceof 运算符可以判断一个对象（object）是否为某个构造函数（constructor）的实例，如果是就返回 true，否则返回 false。原理是判断构造函数的 prototype 属性是否出现在某个实例对象的原型链上，一般用来判断引用数据类型。语法如下。</p> 
<blockquote> 
 <p>object instanceof constructor</p> 
</blockquote> 
<pre><code class="prism language-javascript"><span class="token keyword">var</span> arr1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
arr1 <span class="token keyword">instanceof</span> <span class="token class-name">Array</span><span class="token punctuation">;</span>	<span class="token comment">// true</span>
arr1 <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">;</span>	<span class="token comment">// true</span>
<span class="token keyword">var</span> arr2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
arr2 <span class="token keyword">instanceof</span> <span class="token class-name">Array</span><span class="token punctuation">;</span>	<span class="token comment">// true</span>

<span class="token keyword">var</span> str1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">'123'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
str1 <span class="token keyword">instanceof</span> <span class="token class-name">String</span><span class="token punctuation">;</span>	<span class="token comment">// true</span>
str1 <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">;</span>	<span class="token comment">// true</span>
<span class="token keyword">var</span> str2 <span class="token operator">=</span> <span class="token string">'1234'</span><span class="token punctuation">;</span>
<span class="token comment">// str2 是基本数据类型，不是 String 构造函数的实例对象，不存在原型链，所以返回 false</span>
str2 <span class="token keyword">instanceof</span> <span class="token class-name">String</span><span class="token punctuation">;</span>	<span class="token comment">// false</span>

<span class="token keyword">let</span> num1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Number</span><span class="token punctuation">(</span><span class="token string">'123'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
num1 <span class="token keyword">instanceof</span> <span class="token class-name">Number</span><span class="token punctuation">;</span>	<span class="token comment">// true</span>
num1 <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">;</span>	<span class="token comment">// true</span>
<span class="token keyword">let</span> num2 <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">;</span>
num2 <span class="token keyword">instanceof</span> <span class="token class-name">Number</span><span class="token punctuation">;</span>	<span class="token comment">// false</span>

<span class="token keyword">function</span> <span class="token constant">A</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">A</span><span class="token punctuation">(</span><span class="token string">'ostuthere'</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
p1 <span class="token keyword">instanceof</span> <span class="token class-name">A</span><span class="token punctuation">;</span>		<span class="token comment">// true</span>
p1 <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">;</span>	<span class="token comment">// true</span>
</code></pre> 
<p>p1 instanceof A 返回 true 并不代表一直都会是 true，因为 A.prototype 有可能被改变，改变后的 prototype 不一定会出现在 p1 的原型链上。</p> 
<pre><code class="prism language-javascript"><span class="token comment">// 改变构造函数的原型之后，原来创建的实例会被判断为 false</span>
<span class="token class-name">A</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function-variable function">sayHi</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hi'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
p1 <span class="token keyword">instanceof</span> <span class="token class-name">A</span><span class="token punctuation">;</span>	<span class="token comment">// false</span>

<span class="token keyword">function</span> <span class="token constant">B</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> gender</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>gender <span class="token operator">=</span> gender<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
p1 <span class="token keyword">instanceof</span> <span class="token class-name">B</span><span class="token punctuation">;</span>	<span class="token comment">// false</span>
<span class="token class-name">B</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//	继承</span>
<span class="token keyword">let</span> p2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">B</span><span class="token punctuation">(</span><span class="token string">'Bob'</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token string">'male'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
p2 <span class="token keyword">instanceof</span> <span class="token class-name">B</span><span class="token punctuation">;</span>	<span class="token comment">// true</span>
<span class="token comment">// A.prototype 出现在了 p2 的原型链上，所以返回 true</span>
p2 <span class="token keyword">instanceof</span> <span class="token class-name">A</span><span class="token punctuation">;</span>	<span class="token comment">// true</span>
</code></pre> 
<p>优点：能够检测出引用数据类型<br> 缺点：无法判断基本数据类型；由于构造函数的 prototype 能够更改，可能导致判断失误；不能跨 iframe 或 window（即不同的全局环境）</p> 
<h2><a id="constructor_114"></a>constructor</h2> 
<p>在 JavaScript 中，每个具有原型的对象都会自动获得 constructor 属性，它指向构造函数。除了 arguments、Enumerator、Error、Global、Math、RegExp、Regular Expression 等一些特殊对象外，其他所有的 JavaScript 内置对象都具备 constructor 属性，例如：Array、Boolean、Date、Function、Number、Object、String 等，注意基本数据类型（不包括 null 和 undefined）的 constructor 属性只读。由于 null 和 undefined 是无效对象，没有 constructor 属性，无法通过该方法判断。</p> 
<pre><code class="prism language-javascript"><span class="token keyword">let</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">;</span>
obj1<span class="token punctuation">.</span>constructor <span class="token operator">===</span> Object<span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token keyword">let</span> obj2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">;</span>
obj2<span class="token punctuation">.</span>constructor <span class="token operator">===</span> Object<span class="token punctuation">;</span> <span class="token comment">// true</span>

<span class="token keyword">let</span> arr1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
arr1<span class="token punctuation">.</span>constructor <span class="token operator">===</span> Array<span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token keyword">let</span> arr2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">;</span>
arr2<span class="token punctuation">.</span>constructor <span class="token operator">===</span> Array <span class="token comment">// true</span>

<span class="token keyword">let</span> num1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Number</span><span class="token punctuation">(</span><span class="token number">13</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
num1<span class="token punctuation">.</span>constructor <span class="token operator">===</span> Number<span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token keyword">let</span> num2 <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">;</span>
num2<span class="token punctuation">.</span>constructor <span class="token operator">===</span> Number<span class="token punctuation">;</span> <span class="token comment">// true</span>
num2<span class="token punctuation">.</span>constructor<span class="token punctuation">;</span>	<span class="token comment">// ƒ Number() { [native code] }</span>
</code></pre> 
<p>除了基本数据类型的 constructor 只读之外，对象的 constructor 是可以被更改的，如下</p> 
<pre><code class="prism language-javascript"><span class="token keyword">function</span> <span class="token function">typeFun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
num1<span class="token punctuation">.</span>constructor<span class="token punctuation">;</span>
<span class="token comment">// 将通过 Number 构造函数创建的实例对象 num1 的 constructor 指向自定义函数 typeFun</span>
num1<span class="token punctuation">.</span>constructor <span class="token operator">=</span> typeFun<span class="token punctuation">;</span>
num1<span class="token punctuation">.</span>constructor <span class="token operator">===</span> Number<span class="token punctuation">;</span> <span class="token comment">// false</span>
num1<span class="token punctuation">.</span>constructor <span class="token operator">===</span> typeFun<span class="token punctuation">;</span>	<span class="token comment">// true</span>
</code></pre> 
<p>优点：能够检测出引用数据类型，还可以检测出 undefined 和 null 之外的基本数据类型<br> 缺点：由于 constructor 所指向的构造函数是可以被修改的，可能导致判断失误；不能跨 iframe 或 window（即不同的全局环境）</p> 
<h2><a id="ObjectprototypeisPrototypeOf_144"></a>Object.prototype.isPrototypeOf()</h2> 
<p>isPrototypeOf() 方法用于测试一个对象（prototypeObj）是否存在于另一个对象（object）的原型链上，若是则返回 true，否则返回 false。语法如下。</p> 
<blockquote> 
 <p>prototypeObj.isPrototypeOf(object)</p> 
</blockquote> 
<p>isPrototypeOf() 与 instanceof 运算符不同。在表达式 "object instanceof Function"中，object 的原型链是针对 Function.prototype 进行检查的，而不是针对 Function 本身。</p> 
<pre><code class="prism language-javascript"><span class="token keyword">function</span> <span class="token function">funA</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">funB</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">funC</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>

funB<span class="token punctuation">.</span>prototype <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>funA<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>
funC<span class="token punctuation">.</span>prototype <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>funB<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> obj1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">funC</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

funC<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">isPrototypeOf</span><span class="token punctuation">(</span>obj1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
funB<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">isPrototypeOf</span><span class="token punctuation">(</span>obj1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
funA<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">isPrototypeOf</span><span class="token punctuation">(</span>obj1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">isPrototypeOf</span><span class="token punctuation">(</span>obj1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre> 
<p>与 instanceof 类似，不能检测基本数据类型，且由于 prototype 能被修改导致检测结果不一定真实。</p> 
<h2><a id="ObjectprototypetoStringcall_165"></a>Object.prototype.toString.call()（最推荐使用）</h2> 
<p>Object.prototype.toString() 方法默认返回"[object type]"，其中 type 是调用者的数据类型。从原型链的角度来说，所有对象最终都会指向 Object 对象，依据 JS 的变量查找规则，所有对象都能访问到 Object 的 toString() 方法，所以我们可以通过 toString() 来获取每个对象的类型。但实际上，不少对象都改写了 toString 方法。</p> 
<pre><code class="prism language-javascript"><span class="token function">BigInt</span><span class="token punctuation">(</span><span class="token number">13</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// '13'</span>
<span class="token keyword">let</span> num <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Number</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
num<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// '1'</span>
<span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span>
arr<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// '1,2,3'</span>
</code></pre> 
<p>为了保证每个对象都能通过 Object.prototype.toString() 方法来检测类型，我们需要通过 Object.prototype.toString.call() 或者 Object.prototype.toString.apply() 的形式来调用，第一个参数是要检查的对象。</p> 
<pre><code class="prism language-javascript"><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// [object Number]</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// [object Boolean]</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token string">'13'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// [object String]</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// [object Undefined]</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// [object Null]</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token number">13</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// [object Symbol]</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token number">13n</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// [object BigInt]</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// [object Array]</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// [object Function]</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// [object Date]</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// [object RegExp]</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// [object Error]</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span> <span class="token punctuation">;</span>	<span class="token comment">// [object global] window是全局对象global的引用</span>
</code></pre> 
<p>优点：能够检测出所有的数据类型<br> 缺点：在 IE6 之前，这两者的类型都被判定为 Object（应该没人用这么旧的浏览器了吧）</p> 
<h2><a id="instanceof__isPrototypeOf__192"></a>补充知识点：instanceof 与 isPrototypeOf() 的区别</h2> 
<p>A instanceof B：A是对象，B是构造函数。判断构造函数 B 的原型是否在对象 A 的原型链上。<br> A.isPrototypeOf(B)：A 与 B 都是对象。判断对象 A 是否出现在对象 B 的原型链上。<br> 接下来手动实现 instanceof 和 isPrototypeOf() 并进行验证，感受一下两者的区别。</p> 
<pre><code class="prism language-javascript"><span class="token comment">// 实现 instanceof</span>
<span class="token keyword">function</span> <span class="token function">myInstanceof</span><span class="token punctuation">(</span><span class="token parameter">obj<span class="token punctuation">,</span> _constructor</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
  <span class="token comment">// 判断 obj 是否为基本数据类型</span>
  <span class="token comment">// 判断 obj.__proto__ === _constructor.prototype</span>
  <span class="token keyword">let</span> basicType <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'number'</span><span class="token punctuation">,</span> <span class="token string">'boolean'</span><span class="token punctuation">,</span> <span class="token string">'string'</span><span class="token punctuation">,</span> <span class="token string">'undefined'</span><span class="token punctuation">,</span> <span class="token string">'symbol'</span><span class="token punctuation">,</span> <span class="token string">'bigint'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> typeOfObj <span class="token operator">=</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>typeOfObj <span class="token operator">===</span> <span class="token keyword">null</span> <span class="token operator">||</span> basicType<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>typeOfObj<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">let</span> <span class="token constant">L</span> <span class="token operator">=</span> obj<span class="token punctuation">.</span>__proto__<span class="token punctuation">;</span>
  <span class="token keyword">let</span> <span class="token constant">R</span> <span class="token operator">=</span> <span class="token class-name">_constructor</span><span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token constant">L</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">L</span> <span class="token operator">===</span> <span class="token constant">R</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">L</span> <span class="token operator">&amp;&amp;</span> <span class="token constant">L</span><span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token constant">L</span> <span class="token operator">=</span> <span class="token constant">L</span><span class="token punctuation">.</span>__proto__<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">myInstanceof</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> Array<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">myInstanceof</span><span class="token punctuation">(</span><span class="token number">13</span><span class="token punctuation">,</span> Number<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// false</span>

<span class="token comment">// 实现 isPrototypeOf()</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">myIsPrototypeOf</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token comment">// 判断 obj 是否为基本数据类型</span>
  <span class="token comment">// 判断 obj.__proto__ === this (当前调用对象)</span>
  <span class="token keyword">let</span> basicType <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'number'</span><span class="token punctuation">,</span> <span class="token string">'boolean'</span><span class="token punctuation">,</span> <span class="token string">'string'</span><span class="token punctuation">,</span> <span class="token string">'undefined'</span><span class="token punctuation">,</span> <span class="token string">'symbol'</span><span class="token punctuation">,</span> <span class="token string">'bigint'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> typeOfObj <span class="token operator">=</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>typeOfObj <span class="token operator">===</span> <span class="token keyword">null</span> <span class="token operator">||</span> basicType<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>typeOfObj<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">let</span> <span class="token constant">L</span> <span class="token operator">=</span> obj<span class="token punctuation">.</span>__proto__<span class="token punctuation">;</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token constant">L</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">L</span> <span class="token operator">===</span> <span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">L</span> <span class="token operator">&amp;&amp;</span> <span class="token constant">L</span><span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token constant">L</span> <span class="token operator">=</span> <span class="token constant">L</span><span class="token punctuation">.</span>__proto__<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> p <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">msg</span><span class="token operator">:</span> <span class="token string">'hello'</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> o <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span><span class="token function">myIsPrototypeOf</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">myIsPrototypeOf</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Number</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">myIsPrototypeOf</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// false</span>
</code></pre> 
<p>通过上面的代码我们可以发现，instanceof 和 isPrototypeOf() 都会查找原型链，看目标对象是否存在于指定对象的原型链上。但前者查找的目标对象是构造函数的 prototype，后者所查找的目标对象就是函数调用者本身。</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/d2893f0785b194790a3f17148faaae13/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">QGIS学习</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/df116169812ec2cc5c2d57de0454a14f/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【Git】Git Bash的复制粘贴快捷键</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>