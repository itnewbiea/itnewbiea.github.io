<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Android查缺补漏（IPC篇）-- 进程间通讯之AIDL详解 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Android查缺补漏（IPC篇）-- 进程间通讯之AIDL详解" />
<meta property="og:description" content="在上一篇博文中介绍了一种轻量级的跨进程通讯方案-Messenger，Messenger实现起来非常简单，其底层原理也是AIDL，更像是一个简易版的AIDL，但简单的东西往往也有其局限性，Messenger的主要作用是传递消息，它无法实现RPC功能也就是无法让我们在客户端本地就能调用远程的方法，而且Messenger是以串行的方式处理，无法同时处理多个请求，只能一个一个的处理。而AIDL就可以很好弥补Messenger的不足，虽然实现起来相对复杂一些，但它功能强大，无疑是跨进程通讯的首选方案。接下来我们先看看AIDL是什么，都可以传递哪些数据，并且本文会用一个小例子来直观的体会AIDL的实现过程。
读完本文你将深入掌握以下几个知识点：
AIDL是什么？AIDL传递的类型。怎么创建AIDL。AIDL文件中的定向tag：in、out、inout的区别。如何在AIDL中添加权限校验。 一、AIDL是什么？ AIDL全称Android Interface Definition Language，即Android接口定义语言。AIDL是Android中可以实现跨进程通讯的一种方案，通过AIDL可以实现RPC方式，所谓RPC是指远程过程调用（Remote Procedure Call），可以简单的理解为就像在本地一样方便的调动远程的方法。在Android的跨进程通讯的方案中，只有AIDL可以实现RPC方式。
二、AIDL文件支持哪些数据类型： 基本数据类型：int、long、char、boolean、double等StringCharSequenceArrayList：里面每个元素也需要被AIDL支持HashMap：里面的每个Key和Value也都需要被AIDL支持Parcelable：所有实现了此接口的对象AIDL：所有的AIDL接口本身也可以在AIDL文件中使用 三、创建AIDL 接下类用一个小例子来说明AIDL的创建过程及用法，尽管在同一个APP内依然可以指定两个进程，但为了更能凸显“跨进程”这一点，还是决定将此示例借助于两个APP来实现，毕竟在开发中真实的需求也是发生在两个APP中。
在实现AIDL的过程中服务端APP和客户端APP中要包含结构完全相同的AIDL接口文件，包括AIDL接口所在的包名及包路径要完全一样，否则就会报错，这是因为客户端需要反序列化服务端中所有和AIDL相关的类，如果类的完整路径不一致就无法反序列化成功。
小技巧：为了更加方便的创建AIDL文件，我们可以新建一个lib工程，让客户端APP和服务端APP同时依赖这个lib，这样只需要在这个lib工程中添加AIDL文件就可以了！
简要说明一下将要实现的小例子的需求：是一个通讯录，在服务端维护一个List用来存放联系人信息，客户端可以通过RPC方式来添加联系人、获取联系列表等功能。
1、新建一个承载AIDL文件的lib(在本示例中姑且叫做libaidl) 创建一个Android Library类型的Module，为了与普通的java代码作区分，在main文件夹下为AIDL文件新建一个专门的文件夹，新建工程的结构如下： 然后添加AIDL接口文件： 首先新建一个Contact类，通过上面的介绍我们知道，普通的java类是不能在AIDL中使用的，必须要实现Parcelable接口，并在AIDL文件中声明：
Contact.java
/** * Created by liuwei on 18/2/8. */ public class Contact implements Parcelable { private int phoneNumber; private String name; private String address; public Contact(int phoneNumber, String name, String address) { this.phoneNumber = phoneNumber; this.name = name; this.address = address; } @Override public int describeContents() { return 0; } @Override public void writeToParcel(Parcel dest, int flags) { dest." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/7cc5113b525038e41c92e5241ae3428f/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-02T07:30:00+08:00" />
<meta property="article:modified_time" content="2024-01-02T07:30:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Android查缺补漏（IPC篇）-- 进程间通讯之AIDL详解</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>在上一篇博文中介绍了一种轻量级的跨进程通讯方案-Messenger，Messenger实现起来非常简单，其底层原理也是AIDL，更像是一个简易版的AIDL，但简单的东西往往也有其局限性，Messenger的主要作用是传递消息，它无法实现RPC功能也就是无法让我们在客户端本地就能调用远程的方法，而且Messenger是以串行的方式处理，无法同时处理多个请求，只能一个一个的处理。而AIDL就可以很好弥补Messenger的不足，虽然实现起来相对复杂一些，但它功能强大，无疑是跨进程通讯的首选方案。接下来我们先看看AIDL是什么，都可以传递哪些数据，并且本文会用一个小例子来直观的体会AIDL的实现过程。</p> 
<p>读完本文你将深入掌握以下几个知识点：</p> 
<ul><li>AIDL是什么？</li><li>AIDL传递的类型。</li><li>怎么创建AIDL。</li><li>AIDL文件中的定向tag：in、out、inout的区别。</li><li>如何在AIDL中添加权限校验。</li></ul> 
<h5><a id="AIDL_16"></a>一、AIDL是什么？</h5> 
<p>AIDL全称Android Interface Definition Language，即Android接口定义语言。AIDL是Android中可以实现跨进程通讯的一种方案，通过AIDL可以实现RPC方式，所谓RPC是指远程过程调用（Remote Procedure Call），可以简单的理解为就像在本地一样方便的调动远程的方法。在Android的跨进程通讯的方案中，只有AIDL可以实现RPC方式。</p> 
<h5><a id="AIDL_20"></a>二、AIDL文件支持哪些数据类型：</h5> 
<ul><li>基本数据类型：int、long、char、boolean、double等</li><li>String</li><li>CharSequence</li><li>ArrayList：里面每个元素也需要被AIDL支持</li><li>HashMap：里面的每个Key和Value也都需要被AIDL支持</li><li>Parcelable：所有实现了此接口的对象</li><li>AIDL：所有的AIDL接口本身也可以在AIDL文件中使用</li></ul> 
<h5><a id="AIDL_30"></a>三、创建AIDL</h5> 
<p>接下类用一个小例子来说明AIDL的创建过程及用法，尽管在同一个APP内依然可以指定两个进程，但为了更能凸显“跨进程”这一点，还是决定将此示例借助于两个APP来实现，毕竟在开发中真实的需求也是发生在两个APP中。</p> 
<p>在实现AIDL的过程中服务端APP和客户端APP中要包含结构完全相同的AIDL接口文件，包括AIDL接口所在的包名及包路径要完全一样，否则就会报错，这是因为客户端需要反序列化服务端中所有和AIDL相关的类，如果类的完整路径不一致就无法反序列化成功。</p> 
<p>小技巧：为了更加方便的创建AIDL文件，我们可以新建一个lib工程，让客户端APP和服务端APP同时依赖这个lib，这样只需要在这个lib工程中添加AIDL文件就可以了！</p> 
<p>简要说明一下将要实现的小例子的需求：是一个通讯录，在服务端维护一个List用来存放联系人信息，客户端可以通过RPC方式来添加联系人、获取联系列表等功能。</p> 
<h6><a id="1AIDLliblibaidl_40"></a>1、新建一个承载AIDL文件的lib(在本示例中姑且叫做libaidl)</h6> 
<ul><li>创建一个Android Library类型的Module，为了与普通的java代码作区分，在main文件夹下为AIDL文件新建一个专门的文件夹，新建工程的结构如下：</li></ul> 
<p><img src="https://images2.imgbox.com/af/99/oHI41oBA_o.png" alt="img"></p> 
<ul><li>然后添加AIDL接口文件：</li></ul> 
<p>首先新建一个Contact类，通过上面的介绍我们知道，普通的java类是不能在AIDL中使用的，必须要实现Parcelable接口，并在AIDL文件中声明：</p> 
<p><em>Contact.java</em></p> 
<pre><code class="prism language-javascript"><span class="token comment">/**
 * Created by liuwei on 18/2/8.
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Contact</span> <span class="token keyword">implements</span> <span class="token class-name">Parcelable</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> int phoneNumber<span class="token punctuation">;</span>
    <span class="token keyword">private</span> String name<span class="token punctuation">;</span>
    <span class="token keyword">private</span> String address<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token function">Contact</span><span class="token punctuation">(</span><span class="token parameter">int phoneNumber<span class="token punctuation">,</span> String name<span class="token punctuation">,</span> String address</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>phoneNumber <span class="token operator">=</span> phoneNumber<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>address <span class="token operator">=</span> address<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    @Override
    <span class="token keyword">public</span> int <span class="token function">describeContents</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    @Override
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">writeToParcel</span><span class="token punctuation">(</span><span class="token parameter">Parcel dest<span class="token punctuation">,</span> int flags</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        dest<span class="token punctuation">.</span><span class="token function">writeInt</span><span class="token punctuation">(</span>phoneNumber<span class="token punctuation">)</span><span class="token punctuation">;</span>
        dest<span class="token punctuation">.</span><span class="token function">writeString</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
        dest<span class="token punctuation">.</span><span class="token function">writeString</span><span class="token punctuation">(</span>address<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> final <span class="token keyword">static</span> Creator<span class="token operator">&lt;</span>Contact<span class="token operator">&gt;</span> <span class="token constant">CREATOR</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Creator</span><span class="token operator">&lt;</span>Contact<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        @Override
        <span class="token keyword">public</span> Contact <span class="token function">createFromParcel</span><span class="token punctuation">(</span><span class="token parameter">Parcel source</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Contact</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        @Override
        <span class="token keyword">public</span> Contact<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">newArray</span><span class="token punctuation">(</span><span class="token parameter">int size</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Contact</span><span class="token punctuation">[</span>size<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>


    <span class="token keyword">public</span> <span class="token function">Contact</span><span class="token punctuation">(</span><span class="token parameter">Parcel parcel</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        phoneNumber <span class="token operator">=</span> parcel<span class="token punctuation">.</span><span class="token function">readInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        name <span class="token operator">=</span> parcel<span class="token punctuation">.</span><span class="token function">readString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        address <span class="token operator">=</span> parcel<span class="token punctuation">.</span><span class="token function">readString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    @Override
    <span class="token keyword">public</span> String <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token string">"Contact{"</span> <span class="token operator">+</span>
                <span class="token string">"phoneNumber="</span> <span class="token operator">+</span> phoneNumber <span class="token operator">+</span>
                <span class="token string">", name='"</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">'\''</span> <span class="token operator">+</span>
                <span class="token string">", address='"</span> <span class="token operator">+</span> address <span class="token operator">+</span> <span class="token string">'\''</span> <span class="token operator">+</span>
                <span class="token string">'}'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>声明Contact类</p> 
<p><em>Contact.aidl</em></p> 
<pre><code class="prism language-javascript"><span class="token keyword">package</span> cn<span class="token punctuation">.</span>codingblock<span class="token punctuation">.</span>libaidl<span class="token punctuation">.</span>contacts<span class="token punctuation">;</span>
parcelable Contact<span class="token punctuation">;</span>
</code></pre> 
<p>创建AIDL接口文件，声明需要暴露给客户端的方法。</p> 
<p><em>IContactsManager.aidl</em></p> 
<pre><code class="prism language-javascript"><span class="token keyword">package</span> cn<span class="token punctuation">.</span>codingblock<span class="token punctuation">.</span>libaidl<span class="token punctuation">.</span>contacts<span class="token punctuation">;</span>

<span class="token keyword">import</span> cn<span class="token punctuation">.</span>codingblock<span class="token punctuation">.</span>libaidl<span class="token punctuation">.</span>contacts<span class="token punctuation">.</span>Contact<span class="token punctuation">;</span>

<span class="token keyword">interface</span> <span class="token class-name">IContactsManager</span> <span class="token punctuation">{<!-- --></span>
    int <span class="token function">getPhoneNumber</span><span class="token punctuation">(</span><span class="token keyword">in</span> String name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    String <span class="token function">getName</span><span class="token punctuation">(</span>int phoneNumeber<span class="token punctuation">)</span><span class="token punctuation">;</span>
    Contact <span class="token function">getContact</span><span class="token punctuation">(</span>int phoneNumber<span class="token punctuation">)</span><span class="token punctuation">;</span>
    List<span class="token operator">&lt;</span>Contact<span class="token operator">&gt;</span> <span class="token function">getContactList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    boolean <span class="token function">addContact</span><span class="token punctuation">(</span><span class="token keyword">in</span> Contact contact<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>注：在AIDL接口文件中如果引用到了某个类，即使与这个类的AIDL声明在同一个包中也使用import导入此类。</p> 
<p>aidl文件最终的结构如下：</p> 
<p><img src="https://images2.imgbox.com/43/7f/1OAgkyDi_o.png" alt="img"></p> 
<ul><li>在本次的示例中我们的客户端APP是ipcclient工程，服务端APP是ipc工程，记得在两个工程中添加libaidl的依赖（添加依赖的方法比较简单，就不多说了），服务端工程、客户端工程、lib工程的结构如下：</li></ul> 
<p><img src="https://images2.imgbox.com/c6/b3/T9zJv7j0_o.png" alt="img"></p> 
<p><strong>小问题：AIDl文件中in、out、inout的区别？</strong></p> 
<ul><li>in、out、inout称为AIDL接口方法参数的定向tag，代表着数据的流向。</li><li>in：服务端收到对象后对此对象做任何修改都不会同步给客户端。</li><li>out：无论客户端传过去的对象有没有提前设置值，在Binder传输过程中都会new一个空对象传递给服务端，服务端接收到的对象后对此对象所做的修改都会同步给客户端。</li><li>inout：服务端接受对象后，无论是客户端还是服务端对此对象所做的修改都会两端同步。</li><li>基本类型的参数只能是in。</li></ul> 
<p>对此问题感兴趣的同学可以查看AIDL所生成的Stub源码。</p> 
<h6><a id="2ipc_162"></a>2、服务端实现（在ipc工程中）</h6> 
<ul><li>创建一个Service，用于响应客户端的绑定请求，我们将这个Service名为为ContactManagerService。</li><li>接着创建一个类，让这个类继承AIDL接口中的Stub类，并实现其抽象方法。在Service中返回这个新建这个类的对象。</li></ul> 
<p>详细实现如下：<em>ContactManagerService.java</em></p> 
<pre><code class="prism language-javascript"><span class="token comment">/**
 * Created by liuwei on 18/2/8.
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ContactManagerService</span> <span class="token keyword">extends</span> <span class="token class-name">Service</span> <span class="token punctuation">{<!-- --></span>

    <span class="token keyword">private</span> final <span class="token keyword">static</span> String <span class="token constant">TAG</span> <span class="token operator">=</span> ContactManagerService<span class="token punctuation">.</span>class<span class="token punctuation">.</span><span class="token function">getSimpleName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">private</span> CopyOnWriteArrayList<span class="token operator">&lt;</span>Contact<span class="token operator">&gt;</span> contacts <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CopyOnWriteArrayList</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    @Override
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        contacts<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Contact</span><span class="token punctuation">(</span><span class="token number">110</span><span class="token punctuation">,</span> <span class="token string">"报警电话"</span><span class="token punctuation">,</span> <span class="token string">"派出所"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        contacts<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Contact</span><span class="token punctuation">(</span><span class="token number">119</span><span class="token punctuation">,</span> <span class="token string">"火警电话"</span><span class="token punctuation">,</span> <span class="token string">"消防局"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        contacts<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Contact</span><span class="token punctuation">(</span><span class="token number">112</span><span class="token punctuation">,</span> <span class="token string">"故障电话"</span><span class="token punctuation">,</span> <span class="token string">"保障局"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    @Nullable
    @Override
    <span class="token keyword">public</span> IBinder <span class="token function">onBind</span><span class="token punctuation">(</span><span class="token parameter">Intent intent</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ContactManagerBinder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">class</span> <span class="token class-name">ContactManagerBinder</span> <span class="token keyword">extends</span> <span class="token class-name">IContactsManager<span class="token punctuation">.</span>Stub</span><span class="token punctuation">{<!-- --></span>

        <span class="token comment">/**
         * 根据号码返回手机号
         * @param name
         * @return
         * @throws RemoteException
         */</span>
        @Override
        <span class="token keyword">public</span> int <span class="token function">getPhoneNumber</span><span class="token punctuation">(</span>String name<span class="token punctuation">)</span> throws RemoteException <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>TextUtils<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">for</span> <span class="token punctuation">(</span>Contact contact<span class="token operator">:</span>contacts<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>contact<span class="token punctuation">.</span>name<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                        <span class="token keyword">return</span> contact<span class="token punctuation">.</span>phoneNumber<span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">/**
         * 根据号码返回名称
         * @param phoneNumber
         * @return
         * @throws RemoteException
         */</span>
        @Override
        <span class="token keyword">public</span> String <span class="token function">getName</span><span class="token punctuation">(</span>int phoneNumber<span class="token punctuation">)</span> throws RemoteException <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span>Contact contact<span class="token operator">:</span>contacts<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>contact<span class="token punctuation">.</span>phoneNumber <span class="token operator">==</span> phoneNumber<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                    <span class="token keyword">return</span> contact<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">/**
         * 根据号码返回联系人对象
         * @param phoneNumber
         * @return
         * @throws RemoteException
         */</span>
        @Override
        <span class="token keyword">public</span> Contact <span class="token function">getContact</span><span class="token punctuation">(</span>int phoneNumber<span class="token punctuation">)</span> throws RemoteException <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span>Contact contact<span class="token operator">:</span>contacts<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>contact<span class="token punctuation">.</span>phoneNumber <span class="token operator">==</span> phoneNumber<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token keyword">return</span> contact<span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">/**
         * 获取联系人集合
         * @return
         * @throws RemoteException
         */</span>
        @Override
        <span class="token keyword">public</span> List<span class="token operator">&lt;</span>Contact<span class="token operator">&gt;</span> <span class="token function">getContactList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> throws RemoteException <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> contacts<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">/**
         * 添加联系人
         * @param contact
         * @return
         * @throws RemoteException
         */</span>
        @Override
        <span class="token keyword">public</span> boolean <span class="token function">addContact</span><span class="token punctuation">(</span>Contact contact<span class="token punctuation">)</span> throws RemoteException <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>contact <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">return</span> contacts<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>contact<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<ul><li>最后在清单文件中将此Service添加配置，并将export属性设为true以供外界调用：</li></ul> 
<pre><code class="prism language-javascript"><span class="token operator">&lt;</span>service android<span class="token operator">:</span>name<span class="token operator">=</span><span class="token string">".aidl.contact.ContactManagerService"</span>
         <span class="token literal-property property">android</span><span class="token operator">:</span>exported<span class="token operator">=</span><span class="token string">"true"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre> 
<p>上面代码很简单，值得一提的是AIDL的方法都是在服务端的Binder线程池中执行的，如果有多个客户端同时请求，就会有多个线程来操作这些方法，本次示例将存放联系人的集合采用了CopyOnWriteArrayList实现，由于CopyOnWriteArrayList本身是线程安全的，所以在此我们不需要做额外的同步处理。</p> 
<p><mark>从上文我们知道，在List中AIDL只支持ArrayList的传输，那么在此处为什么可以使用CopyOnWriteArrayList呢？</mark></p> 
<p>这是因为AIDL支持的是List，之所以说AIDL只支持传递ArrayList ,是因为它在传递其他List类型时就会自动将其他类型在传递之前转换成ArrayList然后再返回给服务端，也就是说无论你在服务端使用其他的任何list的子类型，在客户端接收到的类型都是ArrayList。</p> 
<p>所以本次示例中虽然服务端返回的事CopyOnWriteArrayList，但是在Binder中会按照List的规范去读取它并最终形成一个新的ArrayList返回给客户端，类似的还有ConcurrentHashMap对应于HashMap。（其实不光CopyOnWriteArrayList，还有LinkedList等其他的List子类型也都是可以的。）</p> 
<h6><a id="3ipcclient_291"></a>3、客户端实现（在ipcclient工程中）</h6> 
<ul><li>在客户中绑定服务端的Service，绑定成功后就可以在ServiceConnection中的onServiceConnected方法中将返回的Binder对象转换成AIDL接口所属的类型。</li></ul> 
<p>首先向Intent指定Component，需要传入两个参数，一个是远程Service所在工程包名，另一个是远程Service的全量限定名，然后使用bindService绑定远程Service：</p> 
<pre><code class="prism language-javascript">Intent intent <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Intent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
intent<span class="token punctuation">.</span><span class="token function">setComponent</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ComponentName</span><span class="token punctuation">(</span><span class="token string">"cn.codingblock.ipc"</span><span class="token punctuation">,</span> <span class="token string">"cn.codingblock.ipc.aidl.contact.ContactManagerService"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">bindService</span><span class="token punctuation">(</span>intent<span class="token punctuation">,</span> serviceConnection<span class="token punctuation">,</span> <span class="token constant">BIND_AUTO_CREATE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>在serviceConnection中获取返回的Binder并使用IContactsManager.Stub.asInterface()方法将Binder对象转换成IContactsManager类型。</p> 
<pre><code class="prism language-javascript"><span class="token keyword">private</span> ServiceConnection serviceConnection <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ServiceConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    @Override
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onServiceConnected</span><span class="token punctuation">(</span><span class="token parameter">ComponentName name<span class="token punctuation">,</span> IBinder service</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        mIContactsManager <span class="token operator">=</span> IContactsManager<span class="token punctuation">.</span>Stub<span class="token punctuation">.</span><span class="token function">asInterface</span><span class="token punctuation">(</span>service<span class="token punctuation">)</span><span class="token punctuation">;</span>
        Log<span class="token punctuation">.</span><span class="token function">i</span><span class="token punctuation">(</span><span class="token constant">TAG</span><span class="token punctuation">,</span> <span class="token string">"onServiceConnected: mIContactsManager="</span> <span class="token operator">+</span> mIContactsManager<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    @Override
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onServiceDisconnected</span><span class="token punctuation">(</span><span class="token parameter">ComponentName name</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        mIContactsManager <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        Log<span class="token punctuation">.</span><span class="token function">i</span><span class="token punctuation">(</span><span class="token constant">TAG</span><span class="token punctuation">,</span> <span class="token string">"onServiceDisconnected: "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<ul><li>拿到Binder对象后就可以调用在AIDL文件中声明的方法了，来看一下完整的代码：</li></ul> 
<pre><code class="prism language-javascript"><span class="token comment">/**
 * Created by liuwei on 18/2/8.
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ContactMangerActivity</span> <span class="token keyword">extends</span> <span class="token class-name">AppCompatActivity</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> final String <span class="token constant">TAG</span> <span class="token operator">=</span> ContactMangerActivity<span class="token punctuation">.</span>class<span class="token punctuation">.</span><span class="token function">getSimpleName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">private</span> IContactsManager mIContactsManager<span class="token punctuation">;</span>
    <span class="token keyword">private</span> EditText et_contact_name<span class="token punctuation">;</span>
    <span class="token keyword">private</span> EditText et_contact_phone_number<span class="token punctuation">;</span>
    <span class="token keyword">private</span> EditText et_contact_address<span class="token punctuation">;</span>

    @Override
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token parameter">Bundle savedInstanceState</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setContentView</span><span class="token punctuation">(</span><span class="token constant">R</span><span class="token punctuation">.</span>layout<span class="token punctuation">.</span>activity_contact_manger<span class="token punctuation">)</span><span class="token punctuation">;</span>

        ViewUtils<span class="token punctuation">.</span><span class="token function">findAndOnClick</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token constant">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>btn_add_contact<span class="token punctuation">,</span> mOnClickListener<span class="token punctuation">)</span><span class="token punctuation">;</span>
        ViewUtils<span class="token punctuation">.</span><span class="token function">findAndOnClick</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token constant">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>btn_get_phone_number<span class="token punctuation">,</span> mOnClickListener<span class="token punctuation">)</span><span class="token punctuation">;</span>
        ViewUtils<span class="token punctuation">.</span><span class="token function">findAndOnClick</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token constant">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>btn_get_name<span class="token punctuation">,</span> mOnClickListener<span class="token punctuation">)</span><span class="token punctuation">;</span>
        ViewUtils<span class="token punctuation">.</span><span class="token function">findAndOnClick</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token constant">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>btn_get_contact<span class="token punctuation">,</span> mOnClickListener<span class="token punctuation">)</span><span class="token punctuation">;</span>
        ViewUtils<span class="token punctuation">.</span><span class="token function">findAndOnClick</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token constant">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>btn_get_list<span class="token punctuation">,</span> mOnClickListener<span class="token punctuation">)</span><span class="token punctuation">;</span>

        et_contact_name <span class="token operator">=</span> ViewUtils<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token constant">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>et_contact_name<span class="token punctuation">)</span><span class="token punctuation">;</span>
        et_contact_phone_number <span class="token operator">=</span> ViewUtils<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token constant">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>et_contact_phone_number<span class="token punctuation">)</span><span class="token punctuation">;</span>
        et_contact_address <span class="token operator">=</span> ViewUtils<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token constant">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>et_contact_address<span class="token punctuation">)</span><span class="token punctuation">;</span>

        Intent intent <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Intent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        intent<span class="token punctuation">.</span><span class="token function">setComponent</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ComponentName</span><span class="token punctuation">(</span><span class="token string">"cn.codingblock.ipc"</span><span class="token punctuation">,</span> <span class="token string">"cn.codingblock.ipc.aidl.contact.ContactManagerService"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">bindService</span><span class="token punctuation">(</span>intent<span class="token punctuation">,</span> serviceConnection<span class="token punctuation">,</span> <span class="token constant">BIND_AUTO_CREATE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> ServiceConnection serviceConnection <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ServiceConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        @Override
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onServiceConnected</span><span class="token punctuation">(</span><span class="token parameter">ComponentName name<span class="token punctuation">,</span> IBinder service</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            mIContactsManager <span class="token operator">=</span> IContactsManager<span class="token punctuation">.</span>Stub<span class="token punctuation">.</span><span class="token function">asInterface</span><span class="token punctuation">(</span>service<span class="token punctuation">)</span><span class="token punctuation">;</span>
            Log<span class="token punctuation">.</span><span class="token function">i</span><span class="token punctuation">(</span><span class="token constant">TAG</span><span class="token punctuation">,</span> <span class="token string">"onServiceConnected: mIContactsManager="</span> <span class="token operator">+</span> mIContactsManager<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        @Override
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onServiceDisconnected</span><span class="token punctuation">(</span><span class="token parameter">ComponentName name</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            mIContactsManager <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
            Log<span class="token punctuation">.</span><span class="token function">i</span><span class="token punctuation">(</span><span class="token constant">TAG</span><span class="token punctuation">,</span> <span class="token string">"onServiceDisconnected: "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">private</span> View<span class="token punctuation">.</span>OnClickListener mOnClickListener <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">View<span class="token punctuation">.</span>OnClickListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        @Override
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onClick</span><span class="token punctuation">(</span><span class="token parameter">View v</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">switch</span> <span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">case</span> <span class="token constant">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>btn_add_contact<span class="token operator">:</span>

                    Contact contact <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Contact</span><span class="token punctuation">(</span><span class="token function">getEtContactPhoneNumber</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">getEtContactName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">getEtContactAddress</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
                        mIContactsManager<span class="token punctuation">.</span><span class="token function">addContact</span><span class="token punctuation">(</span>contact<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>RemoteException e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                        e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>

                    <span class="token keyword">break</span><span class="token punctuation">;</span>

                <span class="token keyword">case</span> <span class="token constant">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>btn_get_phone_number<span class="token operator">:</span>
                    String name <span class="token operator">=</span> <span class="token function">getEtContactName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                    <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
                        Log<span class="token punctuation">.</span><span class="token function">i</span><span class="token punctuation">(</span><span class="token constant">TAG</span><span class="token punctuation">,</span> <span class="token string">"onClick: "</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">"的电话："</span> <span class="token operator">+</span> mIContactsManager<span class="token punctuation">.</span><span class="token function">getPhoneNumber</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>RemoteException e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                        e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>

                    <span class="token keyword">break</span><span class="token punctuation">;</span>

                <span class="token keyword">case</span> <span class="token constant">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>btn_get_name<span class="token operator">:</span>

                    int number <span class="token operator">=</span> <span class="token function">getEtContactPhoneNumber</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                    <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
                        Log<span class="token punctuation">.</span><span class="token function">i</span><span class="token punctuation">(</span><span class="token constant">TAG</span><span class="token punctuation">,</span> <span class="token string">"onClick: "</span> <span class="token operator">+</span> number <span class="token operator">+</span> <span class="token string">" 对应的名称："</span> <span class="token operator">+</span> mIContactsManager<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span>number<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>RemoteException e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                        e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>

                    <span class="token keyword">break</span><span class="token punctuation">;</span>

                <span class="token keyword">case</span> <span class="token constant">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>btn_get_contact<span class="token operator">:</span>

                    int number1 <span class="token operator">=</span> <span class="token function">getEtContactPhoneNumber</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                    <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
                        Contact contact1 <span class="token operator">=</span> mIContactsManager<span class="token punctuation">.</span><span class="token function">getContact</span><span class="token punctuation">(</span>number1<span class="token punctuation">)</span><span class="token punctuation">;</span>

                        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>contact1<span class="token punctuation">)</span><span class="token punctuation">;</span>

                    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>RemoteException e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                        e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>

                    <span class="token keyword">break</span><span class="token punctuation">;</span>

                <span class="token keyword">case</span> <span class="token constant">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>btn_get_list<span class="token operator">:</span>

                    <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
                        List<span class="token operator">&lt;</span>Contact<span class="token operator">&gt;</span> contacts <span class="token operator">=</span> mIContactsManager<span class="token punctuation">.</span><span class="token function">getContactList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>contacts<span class="token punctuation">)</span><span class="token punctuation">;</span>

                    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>RemoteException e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                        e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>

                    <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">private</span> String <span class="token function">getEtContactName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        String str <span class="token operator">=</span> et_contact_name<span class="token punctuation">.</span><span class="token function">getText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>TextUtils<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            Toast<span class="token punctuation">.</span><span class="token function">makeText</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"请输入联系人名称"</span><span class="token punctuation">,</span> Toast<span class="token punctuation">.</span><span class="token constant">LENGTH_SHORT</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> str<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> int <span class="token function">getEtContactPhoneNumber</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        String str <span class="token operator">=</span> et_contact_phone_number<span class="token punctuation">.</span><span class="token function">getText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>TextUtils<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            Toast<span class="token punctuation">.</span><span class="token function">makeText</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"请输入联系人电话"</span><span class="token punctuation">,</span> Toast<span class="token punctuation">.</span><span class="token constant">LENGTH_SHORT</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> Integer<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> String <span class="token function">getEtContactAddress</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        String str <span class="token operator">=</span> et_contact_address<span class="token punctuation">.</span><span class="token function">getText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>TextUtils<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            Toast<span class="token punctuation">.</span><span class="token function">makeText</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"请输入联系人地址"</span><span class="token punctuation">,</span> Toast<span class="token punctuation">.</span><span class="token constant">LENGTH_SHORT</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> str<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    @Override
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">unbindService</span><span class="token punctuation">(</span>serviceConnection<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>布局文件也就几个EditText和Button比较简单，这里就不贴出来了，接下来运行测试一下。</p> 
<h5><a id="_482"></a>四、运行测试</h5> 
<p>两端都运行后，客户端界面如下图：</p> 
<p><img src="https://images2.imgbox.com/62/ac/0HyknKnh_o.png" alt="img"></p> 
<p>查看ipcclient工程的log如下，发现已经成功绑定了远程的Service：</p> 
<pre><code class="prism language-javascript"><span class="token operator">...</span><span class="token operator">/</span>cn<span class="token punctuation">.</span>codingblock<span class="token punctuation">.</span>ipcclient <span class="token constant">I</span><span class="token operator">/</span>ContactMangerActivity<span class="token operator">:</span> onServiceConnected<span class="token operator">:</span> mIContactsManager<span class="token operator">=</span>cn<span class="token punctuation">.</span>codingblock<span class="token punctuation">.</span>libaidl<span class="token punctuation">.</span>contacts<span class="token punctuation">.</span>IContactsManager$Stub$Proxy@6b60cb6
</code></pre> 
<p>此时查看ipc工程的log如下：</p> 
<pre><code class="prism language-javascript"><span class="token operator">...</span><span class="token operator">/</span>cn<span class="token punctuation">.</span>codingblock<span class="token punctuation">.</span>ipc <span class="token constant">I</span><span class="token operator">/</span>ContactManagerService<span class="token operator">:</span> onCreate<span class="token operator">:</span> ContactManagerService started<span class="token operator">...</span>
<span class="token operator">...</span><span class="token operator">/</span>cn<span class="token punctuation">.</span>codingblock<span class="token punctuation">.</span>ipc <span class="token constant">I</span><span class="token operator">/</span>System<span class="token punctuation">.</span>out<span class="token operator">:</span> 现有的联系人：<span class="token punctuation">[</span>Contact<span class="token punctuation">{<!-- --></span>phoneNumber<span class="token operator">=</span><span class="token number">110</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'报警电话'</span><span class="token punctuation">,</span> address<span class="token operator">=</span><span class="token string">'派出所'</span><span class="token punctuation">}</span><span class="token punctuation">,</span> Contact<span class="token punctuation">{<!-- --></span>phoneNumber<span class="token operator">=</span><span class="token number">119</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'火警电话'</span><span class="token punctuation">,</span> address<span class="token operator">=</span><span class="token string">'消防局'</span><span class="token punctuation">}</span><span class="token punctuation">,</span> Contact<span class="token punctuation">{<!-- --></span>phoneNumber<span class="token operator">=</span><span class="token number">112</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'故障电话'</span><span class="token punctuation">,</span> address<span class="token operator">=</span><span class="token string">'保障局'</span><span class="token punctuation">}</span><span class="token punctuation">]</span>
</code></pre> 
<p>通过上面两个log说明客户端和服务端已经链接成功了，接下类测试一下各按钮远程方法，在号码输入框中输入110，依次点击获取联系人名称按钮和获取联系人信息按钮，log如下：</p> 
<pre><code class="prism language-javascript"><span class="token operator">...</span><span class="token operator">/</span>cn<span class="token punctuation">.</span>codingblock<span class="token punctuation">.</span>ipcclient <span class="token constant">I</span><span class="token operator">/</span>ContactMangerActivity<span class="token operator">:</span> onClick<span class="token operator">:</span> <span class="token number">110</span> 对应的名称：报警电话
<span class="token operator">...</span><span class="token operator">/</span>cn<span class="token punctuation">.</span>codingblock<span class="token punctuation">.</span>ipcclient <span class="token constant">I</span><span class="token operator">/</span>System<span class="token punctuation">.</span>out<span class="token operator">:</span> Contact<span class="token punctuation">{<!-- --></span>phoneNumber<span class="token operator">=</span><span class="token number">110</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'报警电话'</span><span class="token punctuation">,</span> address<span class="token operator">=</span><span class="token string">'派出所'</span><span class="token punctuation">}</span>
</code></pre> 
<p>接着在三个输入框里面分别输入David,111,david`s home，然后点击添加联系人信息将联系人添加到远程列表里面，在点击获取联系人列表，log如下：</p> 
<pre><code class="prism language-javascript"><span class="token operator">...</span><span class="token operator">/</span>cn<span class="token punctuation">.</span>codingblock<span class="token punctuation">.</span>ipcclient <span class="token constant">I</span><span class="token operator">/</span>System<span class="token punctuation">.</span>out<span class="token operator">:</span> <span class="token punctuation">[</span>Contact<span class="token punctuation">{<!-- --></span>phoneNumber<span class="token operator">=</span><span class="token number">110</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'报警电话'</span><span class="token punctuation">,</span> address<span class="token operator">=</span><span class="token string">'派出所'</span><span class="token punctuation">}</span><span class="token punctuation">,</span> Contact<span class="token punctuation">{<!-- --></span>phoneNumber<span class="token operator">=</span><span class="token number">119</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'火警电话'</span><span class="token punctuation">,</span> address<span class="token operator">=</span><span class="token string">'消防局'</span><span class="token punctuation">}</span><span class="token punctuation">,</span> Contact<span class="token punctuation">{<!-- --></span>phoneNumber<span class="token operator">=</span><span class="token number">112</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'故障电话'</span><span class="token punctuation">,</span> address<span class="token operator">=</span><span class="token string">'保障局'</span><span class="token punctuation">}</span><span class="token punctuation">,</span> Contact<span class="token punctuation">{<!-- --></span>phoneNumber<span class="token operator">=</span><span class="token number">111</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'David'</span><span class="token punctuation">,</span> address<span class="token operator">=</span><span class="token string">'david`s home'</span><span class="token punctuation">}</span><span class="token punctuation">]</span>
</code></pre> 
<p>可以看到david的信息已经成功添加进来了。</p> 
<h5><a id="AIDL_524"></a>五、如何为AIDL添加权限验证</h5> 
<p>其实在正式的开发工作中，我们不希望任何客户端都能绑定我们的服务端，因为这会存在极大安全隐患，所以当客户端想我们发来绑定请求是我们需要做权限校验，符合我们权限要求的客户端才可以与我们的服务端建立链接。</p> 
<p>添加权限校验可能会有很多方法，没有对错之分，在实际开发中适合就好，接下来我们介绍一种相对来说比较方便的权限验证的方案：</p> 
<ul><li>还是用上面的示例来说明，首先在服务端工程也就是ipc工程的清单文件中声明所需的权限，如下：</li></ul> 
<pre><code class="prism language-javascript"><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>声明权限<span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>uses<span class="token operator">-</span>permission android<span class="token operator">:</span>name<span class="token operator">=</span><span class="token string">"cn.codingblock.permission.ACCESS_CONTACT_MANAGER"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>定义权限<span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>permission
    <span class="token literal-property property">android</span><span class="token operator">:</span>name<span class="token operator">=</span><span class="token string">"cn.codingblock.permission.ACCESS_CONTACT_MANAGER"</span>
    <span class="token literal-property property">android</span><span class="token operator">:</span>protectionLevel<span class="token operator">=</span><span class="token string">"normal"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre> 
<ul><li>然后在ContactManagerService的onBinde方法中进行权限验证，验证不通过就直接返回null。</li></ul> 
<pre><code class="prism language-javascript">@Nullable
@Override
<span class="token keyword">public</span> IBinder <span class="token function">onBind</span><span class="token punctuation">(</span><span class="token parameter">Intent intent</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">checkCallingOrSelfPermission</span><span class="token punctuation">(</span><span class="token string">"cn.codingblock.permission.ACCESS_CONTACT_MANAGER"</span><span class="token punctuation">)</span> <span class="token operator">==</span> PackageManager<span class="token punctuation">.</span><span class="token constant">PERMISSION_DENIED</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        Log<span class="token punctuation">.</span><span class="token function">i</span><span class="token punctuation">(</span><span class="token constant">TAG</span><span class="token punctuation">,</span> <span class="token string">"onBind: 权限校验失败，拒绝绑定..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    Log<span class="token punctuation">.</span><span class="token function">i</span><span class="token punctuation">(</span><span class="token constant">TAG</span><span class="token punctuation">,</span> <span class="token string">"onBind: 权限校验成功！"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ContactManagerBinder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>客户端先不做修改，运行测试一下，此时在客户端已经无法获取服务端的Binder对象，在客户端点击按钮操作时可以看到报空指针异常了：</p> 
<pre><code class="prism language-javascript"><span class="token operator">/</span>cn<span class="token punctuation">.</span>codingblock<span class="token punctuation">.</span>ipcclient <span class="token constant">E</span><span class="token operator">/</span>AndroidRuntime<span class="token operator">:</span> <span class="token constant">FATAL</span> <span class="token constant">EXCEPTION</span><span class="token operator">:</span> main
        <span class="token literal-property property">Process</span><span class="token operator">:</span> cn<span class="token punctuation">.</span>codingblock<span class="token punctuation">.</span>ipcclient<span class="token punctuation">,</span> <span class="token constant">PID</span><span class="token operator">:</span> <span class="token number">4726</span>
        java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>NullPointerException<span class="token operator">:</span> Attempt to invoke <span class="token keyword">interface</span> <span class="token class-name">method</span> <span class="token string">'java.util.List cn.codingblock.libaidl.contacts.IContactsManager.getContactList()'</span> on a <span class="token keyword">null</span> object reference
            at cn<span class="token punctuation">.</span>codingblock<span class="token punctuation">.</span>ipcclient<span class="token punctuation">.</span>aidl<span class="token punctuation">.</span>ContactMangerActivity$2<span class="token punctuation">.</span><span class="token function">onClick</span><span class="token punctuation">(</span>ContactMangerActivity<span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">127</span><span class="token punctuation">)</span>
            at android<span class="token punctuation">.</span>view<span class="token punctuation">.</span>View<span class="token punctuation">.</span><span class="token function">performClick</span><span class="token punctuation">(</span>View<span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">6256</span><span class="token punctuation">)</span>
            at android<span class="token punctuation">.</span>view<span class="token punctuation">.</span>View$PerformClick<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span>View<span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">24701</span><span class="token punctuation">)</span>
            at android<span class="token punctuation">.</span>os<span class="token punctuation">.</span>Handler<span class="token punctuation">.</span><span class="token function">handleCallback</span><span class="token punctuation">(</span>Handler<span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">789</span><span class="token punctuation">)</span>
            at android<span class="token punctuation">.</span>os<span class="token punctuation">.</span>Handler<span class="token punctuation">.</span><span class="token function">dispatchMessage</span><span class="token punctuation">(</span>Handler<span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">98</span><span class="token punctuation">)</span>
            at android<span class="token punctuation">.</span>os<span class="token punctuation">.</span>Looper<span class="token punctuation">.</span><span class="token function">loop</span><span class="token punctuation">(</span>Looper<span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">164</span><span class="token punctuation">)</span>
            at android<span class="token punctuation">.</span>app<span class="token punctuation">.</span>ActivityThread<span class="token punctuation">.</span><span class="token function">main</span><span class="token punctuation">(</span>ActivityThread<span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">6541</span><span class="token punctuation">)</span>
            at java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>reflect<span class="token punctuation">.</span>Method<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>Native Method<span class="token punctuation">)</span>
            at com<span class="token punctuation">.</span>android<span class="token punctuation">.</span>internal<span class="token punctuation">.</span>os<span class="token punctuation">.</span>Zygote$MethodAndArgsCaller<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span>Zygote<span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">240</span><span class="token punctuation">)</span>
            at com<span class="token punctuation">.</span>android<span class="token punctuation">.</span>internal<span class="token punctuation">.</span>os<span class="token punctuation">.</span>ZygoteInit<span class="token punctuation">.</span><span class="token function">main</span><span class="token punctuation">(</span>ZygoteInit<span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">767</span><span class="token punctuation">)</span>
</code></pre> 
<ul><li>接下来我们在客户端上加上链接服务端所需的权限：</li></ul> 
<pre><code class="prism language-javascript"><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>声明权限<span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>uses<span class="token operator">-</span>permission android<span class="token operator">:</span>name<span class="token operator">=</span><span class="token string">"cn.codingblock.permission.ACCESS_CONTACT_MANAGER"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>定义权限<span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>permission
    <span class="token literal-property property">android</span><span class="token operator">:</span>name<span class="token operator">=</span><span class="token string">"cn.codingblock.permission.ACCESS_CONTACT_MANAGER"</span>
    <span class="token literal-property property">android</span><span class="token operator">:</span>protectionLevel<span class="token operator">=</span><span class="token string">"normal"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre> 
<p>注意：要在客户端和服务端两个工程中都加入以上声明权限和定义权限的代码。</p> 
<p>经反复测试发现：服务端工程中声明权限和定义权限的代码缺一不可，而客户端工程中如果只加入声明权限的代码，那么如果在安装时，客户端APP先于服务端APP安装，客户端就会由于找不到定义权限而无法成功获取权限！</p> 
<p>所以为了保险起见，将两端都同时加入定义权限的代码和声明权限的代码，当然本示例中最好的方法是直接统一加入libaidl工程中，一次加入，两端可用！</p> 
<h5><a id="_599"></a>六、小结</h5> 
<p>虽然AIDL在创建的时候步骤比较繁琐，但其功能十分强大。最后概括一下AIDL的创建步骤：</p> 
<p>在服务端：</p> 
<ul><li>创建一个AIDL接口文件（如果用到了其他的类，要将类序列化，并在AIDL文件中声明）</li><li>再创建Service用于响应客户端的绑定请求。</li><li>接着创建一个类，让这个类继承AIDL接口中的Stub类，并实现其抽象方法。在Service的onBind方法中返回这个新建这个类的对象。</li></ul> 
<p>接着在客户端：</p> 
<ul><li>在客户中绑定服务端的Service，绑定成功后就可以在ServiceConnection中的onServiceConnected方法中将返回的Binder对象转换成AIDL接口所属的类型。</li><li>拿到Binder对象后就可以调用在AIDL文件中声明的方法了。</li></ul> 
<hr> 
<p><em>最后想说的是，本系列文章为博主对Android知识进行再次梳理，查缺补漏的学习过程，一方面是对自己遗忘的东西加以复习重新掌握，另一方面相信在重新学习的过程中定会有巨大的新收获，如果你也有跟我同样的想法，不妨关注我一起学习，互相探讨，共同进步！</em></p> 
<blockquote> 
 <p>更多Android进阶指南 可以<strong>扫码 解锁</strong> <strong>《Android十大板块文档》</strong></p> 
</blockquote> 
<img src="https://images2.imgbox.com/b1/43/kgygfBP1_o.png"> 
<p>1.Android车载应用开发系统学习指南（附项目实战）</p> 
<p>2.Android Framework学习指南，助力成为系统级开发高手</p> 
<p>3.2023最新Android中高级面试题汇总+解析，告别零offer</p> 
<p>4.企业级Android音视频开发学习路线+项目实战（附源码）</p> 
<p>5.Android Jetpack从入门到精通，构建高质量UI界面</p> 
<p>6.Flutter技术解析与实战，跨平台首要之选</p> 
<p>7.Kotlin从入门到实战，全方面提升架构基础</p> 
<p>8.高级Android插件化与组件化（含实战教程和源码）</p> 
<p>9.Android 性能优化实战+360°全方面性能调优</p> 
<p>10.Android零基础入门到精通，高手进阶之路</p> 
<p><strong>敲代码不易，关注一下吧。ღ( ´･ᴗ･` ) 🤔</strong></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/05228dc5a829f05a98e2e80c0bebefc2/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Android查缺补漏（IPC篇）-- 进程间通讯基础知识热身</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a3d72757ea810fde7647ab264f39414f/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">阿里云服务器8080端口怎么打开？在安全组中设置</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>