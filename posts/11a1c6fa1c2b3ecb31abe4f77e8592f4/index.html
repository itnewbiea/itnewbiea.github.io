<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>正则表达式：基础详解以及在Java中的使用 - IT学习者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="正则表达式：基础详解以及在Java中的使用" />
<meta property="og:description" content="文章目录 一、正则表达式1.1 正则表达式中的特殊字符1.2 正则表达式所支持的合法字符1.3 方括号表达式1.4 边界匹配符1.5 三种模式的数量表示符 二、应用2.1 String 类2.2 Pattern 类和 Matcher 类 一、正则表达式 1.1 正则表达式中的特殊字符 特殊字符说明$匹配一行的结尾。要匹配 $ 字符本身，请使用\$^匹配一行的开头。要匹配 ^ 字符本身，请使用\^()标记子表达式的开始和结束位置。要匹配这些字符，请使用\(和\)。将( 和 ) 之间的表达式定义为“组”（group），并且将匹配这个表达式的字符保存到一个临时区域（一个正则表达式中最多可以保存9个），它们可以用 \1 到\9 的符号来引用。[]用于确定中括号表达式的开始和结束位置。要匹配这些字符，请使用\[和\]{}用于标记前面子表达式的出现频度。要匹配这些字符，请使用\{和\}{n}n是一个非负整数。匹配确定的n次。例如，“o{2}”不能匹配“Bob”中的“o”，但是能匹配“food”中的两个o。{n,}n是一个非负整数。至少匹配n次。例如，“o{2,}”不能匹配“Bob”中的“o”，但能匹配“foooood”中的所有o。“o{1,}”等价于“o&#43;”。“o{0,}”则等价于“o*”。{n,m}m和n均为非负整数，其中n&lt;=m。最少匹配n次且最多匹配m次。例如，“o{1,3}”将匹配“fooooood”中的前三个o为一组，后三个o为一组。“o{0,1}”等价于“o?”。请注意在逗号和两个数之间不能有空格。*指定前面子表达式可以出现零次或多次。要匹配 * 字符本身，请使用\*。例如，zo*能匹配“z”，也能匹配“zo”以及“zoo”。*等价于{0,}。&#43;指定前面子表达式可以出现一次或多次。要匹配 &#43; 字符本身，请使用\&#43;。例如，“zo&#43;”能匹配“zo”以及“zoo”，但不能匹配“z”。&#43;等价于{1,}。?指定前面子表达式可以出现零次或一次。要匹配 ？字符本身，请使用\?。例如，“do(es)?”可以匹配“do”或“does”。?等价于{0,1}。.匹配除换行符\n和\r之外的任何单字符。要匹配包括“\n”和&#34;\r&#34;在内的任何字符，请使用像“[\s\S]”的模式。要匹配.字符本身，请使用\.。\用于转义下一个字符，或指定八进制、十六进制字符。如果需匹配\字符，请用\\|指定两项之间任选一项。如果要匹配丨字符本身，请使用\| ((A)(B(C)))：第一组 ((A)(B©)) 第二组 (A) 第三组(B©) 第四组©
1.2 正则表达式所支持的合法字符 字符解释\d匹配 0~9 的所有数字\D匹配非数字\s匹配所有的空白字符，包括空格、制表符、回车符、换页符、换行符等\S匹配所有的非空白字符\w匹配所有的单词字符，包括 0~9 所有数字、26 个英文字母和下画线_\W匹配所有的非单词字符\0mnn八进制数 0mnn 所表示的字符\xhh十六进制值 0xhh 所表示的字符\uhhhh十六进制值 0xhhhh 所表示的 Unicode 字符\t制表符（“\u0009”）\n新行（换行）符（‘\u000A’）\r回车符（‘\u000D’)\f换页符（‘\u000C’）\a报警（bell）符（‘\u0007’）\eEscape 符（‘\u001B’）\cxx 对应的的控制符。例如，\cM匹配 Ctrl-M。x 值必须为 A~Z 或 a~z 之一。 d 是 digit 的意思，代表数字。s 是 space 的意思，代表空白。w 是 word 的意思，代表单词。d、s、w 的大写形式恰好匹配与之相反的字符。 1." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itnewbiea.github.io/posts/11a1c6fa1c2b3ecb31abe4f77e8592f4/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-01-27T18:32:37+08:00" />
<meta property="article:modified_time" content="2022-01-27T18:32:37+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="IT学习者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">IT学习者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">正则表达式：基础详解以及在Java中的使用</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><ul><li><ul><li><a href="#_2" rel="nofollow">一、正则表达式</a></li><li><ul><li><a href="#11__4" rel="nofollow">1.1 正则表达式中的特殊字符</a></li><li><a href="#12__27" rel="nofollow">1.2 正则表达式所支持的合法字符</a></li><li><a href="#13__55" rel="nofollow">1.3 方括号表达式</a></li><li><a href="#14__75" rel="nofollow">1.4 边界匹配符</a></li><li><a href="#15__90" rel="nofollow">1.5 三种模式的数量表示符</a></li></ul> 
    </li><li><a href="#_127" rel="nofollow">二、应用</a></li><li><ul><li><a href="#21_String__129" rel="nofollow">2.1 String 类</a></li><li><a href="#22__Pattern__Matcher__138" rel="nofollow">2.2 Pattern 类和 Matcher 类</a></li></ul> 
   </li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h4><a id="_2"></a>一、正则表达式</h4> 
<h5><a id="11__4"></a>1.1 正则表达式中的特殊字符</h5> 
<table><thead><tr><th>特殊字符</th><th>说明</th></tr></thead><tbody><tr><td>$</td><td>匹配一行的结尾。要匹配 $ 字符本身，请使用<code>\$</code></td></tr><tr><td>^</td><td>匹配一行的开头。要匹配 ^ 字符本身，请使用<code>\^</code></td></tr><tr><td>()</td><td>标记子表达式的开始和结束位置。要匹配这些字符，请使用<code>\(</code>和<code>\)</code>。将( 和 ) 之间的表达式定义为“组”（group），并且将匹配这个表达式的字符保存到一个临时区域（一个正则表达式中最多可以保存9个），它们可以用 \1 到\9 的符号来引用。</td></tr><tr><td>[]</td><td>用于确定中括号表达式的开始和结束位置。要匹配这些字符，请使用<code>\[</code>和<code>\]</code></td></tr><tr><td>{}</td><td>用于标记前面子表达式的出现频度。要匹配这些字符，请使用<code>\{<!-- --></code>和<code>\}</code></td></tr><tr><td>{<!-- --><em>n</em>}</td><td><em>n</em>是一个非负整数。匹配确定的<em>n</em>次。例如，“o{2}”不能匹配“Bob”中的“o”，但是能匹配“food”中的两个o。</td></tr><tr><td>{<!-- --><em>n</em>,}</td><td><em>n</em>是一个非负整数。至少匹配<em>n</em>次。例如，“o{2,}”不能匹配“Bob”中的“o”，但能匹配“foooood”中的所有o。“o{1,}”等价于“o+”。“o{0,}”则等价于“o*”。</td></tr><tr><td>{<!-- --><em>n</em>,<em>m</em>}</td><td><em>m</em>和<em>n</em>均为非负整数，其中<em>n</em>&lt;=<em>m</em>。最少匹配<em>n</em>次且最多匹配<em>m</em>次。例如，“o{1,3}”将匹配“fooooood”中的前三个o为一组，后三个o为一组。“o{0,1}”等价于“o?”。请注意在逗号和两个数之间不能有空格。</td></tr><tr><td>*</td><td>指定前面子表达式可以出现零次或多次。要匹配 * 字符本身，请使用<code>\*</code>。例如，zo*能匹配“z”，也能匹配“zo”以及“zoo”。*等价于{0,}。</td></tr><tr><td>+</td><td>指定前面子表达式可以出现一次或多次。要匹配 + 字符本身，请使用<code>\+</code>。例如，“zo+”能匹配“zo”以及“zoo”，但不能匹配“z”。+等价于{1,}。</td></tr><tr><td>?</td><td>指定前面子表达式可以出现零次或一次。要匹配 ？字符本身，请使用<code>\?</code>。例如，“do(es)?”可以匹配“do”或“does”。?等价于{0,1}。</td></tr><tr><td>.</td><td>匹配除换行符<code>\n</code>和<code>\r</code>之外的任何单字符。要匹配包括“\n”和"\r"在内的任何字符，请使用像“[\s\S]”的模式。要匹配<code>.</code>字符本身，请使用<code>\.</code>。</td></tr><tr><td>\</td><td>用于转义下一个字符，或指定八进制、十六进制字符。如果需匹配<code>\</code>字符，请用<code>\\</code></td></tr><tr><td>|</td><td>指定两项之间任选一项。如果要匹配<code>丨</code>字符本身，请使用<code>\|</code></td></tr></tbody></table> 
<p><code>((A)(B(C)))</code>：第一组 ((A)(B©)) 第二组 (A) 第三组(B©) 第四组©</p> 
<h5><a id="12__27"></a>1.2 正则表达式所支持的合法字符</h5> 
<table><thead><tr><th>字符</th><th>解释</th></tr></thead><tbody><tr><td>\d</td><td>匹配 0~9 的所有数字</td></tr><tr><td>\D</td><td>匹配非数字</td></tr><tr><td>\s</td><td>匹配所有的空白字符，包括空格、制表符、回车符、换页符、换行符等</td></tr><tr><td>\S</td><td>匹配所有的非空白字符</td></tr><tr><td>\w</td><td>匹配所有的单词字符，包括 0~9 所有数字、26 个英文字母和下画线<code>_</code></td></tr><tr><td>\W</td><td>匹配所有的非单词字符</td></tr><tr><td>\0mnn</td><td>八进制数 0mnn 所表示的字符</td></tr><tr><td>\xhh</td><td>十六进制值 0xhh 所表示的字符</td></tr><tr><td>\uhhhh</td><td>十六进制值 0xhhhh 所表示的 Unicode 字符</td></tr><tr><td>\t</td><td>制表符（“\u0009”）</td></tr><tr><td>\n</td><td>新行（换行）符（‘\u000A’）</td></tr><tr><td>\r</td><td>回车符（‘\u000D’)</td></tr><tr><td>\f</td><td>换页符（‘\u000C’）</td></tr><tr><td>\a</td><td>报警（bell）符（‘\u0007’）</td></tr><tr><td>\e</td><td>Escape 符（‘\u001B’）</td></tr><tr><td>\cx</td><td>x 对应的的控制符。例如，<code>\cM</code>匹配 Ctrl-M。x 值必须为 A~Z 或 a~z 之一。</td></tr></tbody></table> 
<ul><li>d 是 digit 的意思，代表数字。</li><li>s 是 space 的意思，代表空白。</li><li>w 是 word 的意思，代表单词。</li><li>d、s、w 的大写形式恰好匹配与之相反的字符。</li></ul> 
<h5><a id="13__55"></a>1.3 方括号表达式</h5> 
<table><thead><tr><th>方括号表达式</th><th>说明</th></tr></thead><tbody><tr><td>表示枚举</td><td>例如<code>[abc]</code>表示 a、b、c 其中任意一个字符；<code>[gz]</code>表示 g、z 其中任意一个字符</td></tr><tr><td>表示范围：-</td><td>例如<code>[a-f]</code>表示 a~f 范围内的任意字符；<code>[\\u0041-\\u0056]</code>表示十六进制字符 \u0041 到 \u0056 范围的字符。范围可以和枚举结合使用，如<code>[a-cx-z]</code>，表示 a<sub>c、x</sub>z 范围内的任意字符</td></tr><tr><td>表示求否：^</td><td>例如<code>[^abc]</code>表示非 a、b、c 的任意字符；<code>[^a-f]</code>表示不是 a~f 范围内的任意字符</td></tr><tr><td>表示“与”运算：&amp;&amp;</td><td>例如 <code>[a-z&amp;&amp;[def]]</code>是 a~z 和 [def] 的交集，表示 d、e <code>f[a-z&amp;&amp;^bc]]</code>是 a~z 范围内的所有字符，除 b 和 c 之外 <code>[ad-z] [a-z&amp;&amp;[m-p]]</code>是 a~z 范围内的所有字符，除 m~p 范围之外的字符</td></tr><tr><td>表示“并”运算</td><td>并运算与前面的枚举类似。例如<code>[a-d[m-p]]</code>表示 [a-dm-p]</td></tr></tbody></table> 
<p>[abc] a、b 或 c（简单类）<br> [^abc] 任何字符，除了 a、b 或 c（否定）<br> [a-zA-Z] a 到 z 或 A 到 Z，两头的字母包括在内（范围）<br> [a-d[m-p]] a 到 d 或 m 到 p：[a-dm-p]（并集）<br> [a-z&amp;&amp;[def]] d、e 或 f（交集）<br> [a-z&amp;&amp;[^bc]] a 到 z，除了 b 和 c：[ad-z]（减去）<br> [a-z&amp;&amp;[^m-p]] a 到 z，而非 m 到 p：[a-lq-z]（减去）</p> 
<h5><a id="14__75"></a>1.4 边界匹配符</h5> 
<table><thead><tr><th>边界匹配符</th><th>说明</th></tr></thead><tbody><tr><td>^</td><td>行的开头</td></tr><tr><td>$</td><td>行的结尾</td></tr><tr><td>\b</td><td>单词的边界</td></tr><tr><td>\B</td><td>非单词的边界</td></tr><tr><td>\A</td><td>输入的开头</td></tr><tr><td>\G</td><td>前一个匹配的结尾</td></tr><tr><td>\Z</td><td>输入的结尾，仅用于最后的结束符</td></tr><tr><td>\z</td><td>输入的结尾</td></tr></tbody></table> 
<h5><a id="15__90"></a>1.5 三种模式的数量表示符</h5> 
<p>表达式支持的数量标识符有如下几种模式。</p> 
<ul><li>Greedy（贪婪模式）：数量表示符<strong>默认采用贪婪模式</strong>，除非另有表示。贪婪模式的表达式会一直匹配下去，直到无法匹配为止。如果你发现表达式匹配的结果与预期的不符，很有可能是因为你以为表达式只会匹配前面几个字符，而实际上它是贪婪模式，所以会一直匹配下去。</li><li>Reluctant（勉强模式）：用问号后缀（?）表示，它只会匹配最少的字符。也称为最小匹配模式。</li><li>Possessive（占有模式）：用加号后缀（+）表示，目前只有 Java 支持占有模式，通常比较少用。</li></ul> 
<table><thead><tr><th>贪婪模式</th><th>非贪婪模式</th><th>占用模式</th><th>说明</th></tr></thead><tbody><tr><td>X?</td><td>X??</td><td>X?+</td><td>X表达式出现零次或一次</td></tr><tr><td>X*</td><td>X*?</td><td>X*+</td><td>X表达式出现零次或多次</td></tr><tr><td>X+</td><td>X+?</td><td>X++</td><td>X表达式出现一次或多次</td></tr><tr><td>X{n}</td><td>X{n}?</td><td>X{n}+</td><td>X表达式出现 n 次</td></tr><tr><td>X{n,}</td><td>X{n,}?</td><td>X{n,}+</td><td>X表达式最少出现 n 次</td></tr><tr><td>X{n,m}</td><td>X{n,m}?</td><td>X{n,m}+</td><td>X表达式最少出现 n 次，最多出现 m 次</td></tr></tbody></table> 
<p>关于贪婪模式和非贪婪模式的对比，看如下代码：</p> 
<pre><code class="prism language-java"><span class="token class-name">String</span> str <span class="token operator">=</span> <span class="token string">"hello,java!"</span><span class="token punctuation">;</span>
<span class="token comment">// 贪婪模式的正则表达式</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">replaceFirst</span><span class="token punctuation">(</span><span class="token string">"\\w*"</span> <span class="token punctuation">,</span> <span class="token string">"■"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//输出■,java!</span>
<span class="token comment">// 非贪婪模式的正则表达式</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">replaceFirst</span><span class="token punctuation">(</span><span class="token string">"\\w*?"</span> <span class="token punctuation">,</span> <span class="token string">"■"</span>"<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//输出■hello, java!</span>
</code></pre> 
<h4><a id="_127"></a>二、应用</h4> 
<h5><a id="21_String__129"></a>2.1 String 类</h5> 
<p>String 类里也提供了如下几个特殊的方法。</p> 
<ul><li>boolean matches(String regex)：判断该字符串是否匹配指定的正则表达式。</li><li>String replaceAll(String regex, String replacement)：将该字符串中所有匹配 regex 的子串替换成 replacement。</li><li>String replaceFirst(String regex, String replacement)：将该字符串中第一个匹配 regex 的子串替换成 replacement。</li><li>String[] split(String regex)：以 regex 作为分隔符，把该字符串分割成多个子串。</li></ul> 
<h5><a id="22__Pattern__Matcher__138"></a>2.2 Pattern 类和 Matcher 类</h5> 
<p>除此之外，Java 还提供了 Pattern 和 Matcher 两个类专门用于提供正则表达式支持。</p> 
<ul><li> <p>匹配</p> <pre><code class="prism language-java"><span class="token comment">// 编译正则表达式，这样子可以重用模式。</span>
<span class="token class-name">Pattern</span> p <span class="token operator">=</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span><span class="token string">"a*b"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 用模式检查字符串</span>
<span class="token class-name">Matcher</span> m <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token function">matcher</span><span class="token punctuation">(</span><span class="token string">"aaaaab"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 检查匹配结果</span>
<span class="token keyword">boolean</span> b <span class="token operator">=</span> m<span class="token punctuation">.</span><span class="token function">matches</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 等价于（简化）</span>
<span class="token keyword">boolean</span> b <span class="token operator">=</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">matches</span><span class="token punctuation">(</span><span class="token string">"a*b"</span><span class="token punctuation">,</span> <span class="token string">"aaaaab"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">// 等价于（简化）</span>
<span class="token keyword">boolean</span> b <span class="token operator">=</span> <span class="token string">"aaaaab"</span><span class="token punctuation">.</span><span class="token function">matches</span><span class="token punctuation">(</span><span class="token string">"a*b"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre> <p><mark>注意：在java中，需要 " \ "的匹配符,需要加多一个 " \ " 进行转义。比如匹配\d在java中要写成\\d。</mark></p> </li><li> <p>获取</p> <pre><code class="prism language-java"><span class="token class-name">String</span> name <span class="token operator">=</span> <span class="token string">"13800138000"</span> <span class="token punctuation">;</span>
<span class="token class-name">String</span> regex <span class="token operator">=</span><span class="token string">"(\\d{3})(\\d{4})(\\d{4})"</span> <span class="token punctuation">;</span>
<span class="token class-name">Pattern</span> pattern  <span class="token operator">=</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Matcher</span> matcher <span class="token operator">=</span> pattern<span class="token punctuation">.</span><span class="token function">matcher</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> result <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>matcher<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">//如果需要取所有，可以使用while</span>
    <span class="token comment">//取第二组的数据。</span>
    result <span class="token operator">=</span> matcher<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> </li></ul>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/b9ea2e4b899dbc899aad75ee636f04f3/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Git操作失败并提示Another git process seems to be running in this......</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/1a93344a294f968e0effa5feeddc5029/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">智能无线麦克风我选塞宾智麦，满足你直播、访谈、vlog的所有录音需求</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 IT学习者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://itnewbiea.github.io/js/foot.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>